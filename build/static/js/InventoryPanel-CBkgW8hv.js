import{r as c,cD as p,l as C,b1 as I,aY as f,cx as S}from"./react-core-B6hadH-M.js";import{t as a}from"./index-D_6pZib5.js";const B=({fetchWithAuth:n,apiBaseUrl:r,onClose:u,username:m})=>{const[s,x]=c.useState([]),[g,d]=c.useState(!1),[i,y]=c.useState("all"),b=[{value:"all",label:"All Items",icon:p},{value:"cosmetic",label:"Cosmetics",icon:I},{value:"badge",label:"Badges",icon:f},{value:"gift",label:"Gifts",icon:S}];c.useEffect(()=>{l()},[i]);const l=async()=>{d(!0);try{const e=new URLSearchParams({username:m||"",type:i!=="all"?i:""}),h=await(await n(`${r}/inventory/?${e}`)).json();x(h.items||[])}catch{a.error("Failed to load inventory")}finally{d(!1)}},v=async e=>{try{await n(`${r}/inventory/${e}/equip/`,{method:"POST"}),a.success("Item equipped"),l()}catch{a.error("Failed to equip item")}},R=async e=>{try{await n(`${r}/inventory/${e}/unequip/`,{method:"POST"}),a.success("Item unequipped"),l()}catch{a.error("Failed to unequip item")}},E=async e=>{try{await n(`${r}/inventory/${e}/use/`,{method:"POST"}),a.success("Item used"),l()}catch{a.error("Failed to use item")}};return React.createElement("div",{style:t.overlay},React.createElement("div",{style:t.modal},React.createElement("div",{style:t.header},React.createElement("div",{style:t.headerLeft},React.createElement(p,{style:{marginRight:"10px",color:"#5865f2"}}),React.createElement("h2",{style:t.title},"Inventory")),React.createElement("button",{onClick:u,style:t.closeButton},React.createElement(C,null))),React.createElement("div",{style:t.filterBar},b.map(e=>{const o=e.icon;return React.createElement("button",{key:e.value,onClick:()=>y(e.value),style:i===e.value?t.activeFilter:t.filterButton},React.createElement(o,{style:{marginRight:"6px"}}),e.label)})),React.createElement("div",{style:t.content},g?React.createElement("div",{style:t.loading},"Loading inventory..."):s.length===0?React.createElement("div",{style:t.empty},"No items in inventory"):React.createElement("div",{style:t.itemsGrid},s.map((e,o)=>React.createElement("div",{key:o,style:t.itemCard},e.image_url&&React.createElement("div",{style:t.itemImage},React.createElement("img",{src:e.image_url,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}})),e.equipped&&React.createElement("div",{style:t.equippedBadge},React.createElement(f,{style:{fontSize:"12px"}})," Equipped"),React.createElement("div",{style:t.itemInfo},React.createElement("div",{style:t.itemName},e.name),e.rarity&&React.createElement("div",{style:{...t.itemRarity,color:q(e.rarity)}},e.rarity.toUpperCase()),e.description&&React.createElement("div",{style:t.itemDescription},e.description),e.quantity>1&&React.createElement("div",{style:t.itemQuantity},"Quantity: ",e.quantity),React.createElement("div",{style:t.itemActions},e.type==="cosmetic"&&React.createElement(React.Fragment,null,e.equipped?React.createElement("button",{onClick:()=>R(e.id),style:t.unequipButton},"Unequip"):React.createElement("button",{onClick:()=>v(e.id),style:t.equipButton},"Equip")),e.usable&&React.createElement("button",{onClick:()=>E(e.id),style:t.useButton},"Use")))))))))},q=n=>({common:"#99aab5",uncommon:"#43b581",rare:"#5865f2",epic:"#a020f0",legendary:"#faa61a"})[n?.toLowerCase()]||"#99aab5",t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"1100px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},filterBar:{display:"flex",gap:"8px",padding:"16px 20px",borderBottom:"1px solid #2c2f33",overflowX:"auto"},filterButton:{padding:"8px 16px",backgroundColor:"#2c2f33",border:"none",borderRadius:"4px",color:"#dcddde",cursor:"pointer",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center"},activeFilter:{padding:"8px 16px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},itemsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},itemCard:{backgroundColor:"#2c2f33",borderRadius:"8px",overflow:"hidden",position:"relative"},itemImage:{width:"100%",height:"150px",backgroundColor:"#1e1e1e"},equippedBadge:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#faa61a",color:"#ffffff",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},itemInfo:{padding:"12px"},itemName:{fontSize:"15px",fontWeight:"600",color:"#ffffff",marginBottom:"6px"},itemRarity:{fontSize:"11px",fontWeight:"700",marginBottom:"6px",textTransform:"uppercase"},itemDescription:{fontSize:"12px",color:"#dcddde",marginBottom:"8px",lineHeight:"1.4"},itemQuantity:{fontSize:"12px",color:"#99aab5",marginBottom:"8px"},itemActions:{display:"flex",gap:"8px"},equipButton:{flex:1,padding:"8px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"},unequipButton:{flex:1,padding:"8px",backgroundColor:"#99aab5",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"},useButton:{flex:1,padding:"8px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"}};export{B as default};

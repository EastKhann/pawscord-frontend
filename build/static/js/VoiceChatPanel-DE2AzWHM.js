import{r as s,b as e}from"./react-core-9vc7GIjk.js";import{k as dt,g as At,a as It,m as Mt,t as Z}from"./index-CUykE5-R.js";import{D as Rt}from"./cjs-B1PcxHQ9.js";import $t from"./UserContextMenu-CEBuixRQ.js";import{y as P}from"./ui-vendor-_iSLAufy.js";import{a as at,o as Me,p as nt,Z as rt,bK as ce,k as lt,aR as it,bL as Re,ax as Ft,B as Bt,aP as Dt,C as Kt,aI as st,bh as Pt,bM as ot,bI as Lt,P as ct}from"./icons-vendor-u_f-1GKM.js";import{S as Vt}from"./crypto-vendor-C1qXRpJv.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./state-vendor-0vlBuk0v.js";const qt=({onClose:n,channelId:c})=>{const{isNoiseSuppressionEnabled:f,toggleNoiseSuppression:b,updateNoiseSuppressionLevel:k,noiseSuppressionLevel:T,vadSensitivity:p,updateVadSensitivity:E,isPTTMode:x,togglePTTMode:w,pttKey:F,updatePTTKey:S,localAudioStream:N}=dt(),[z,Y]=s.useState("input"),[o,B]=s.useState({input_device:"default",output_device:"default",input_volume:100,output_volume:100,noise_suppression:!0,noise_suppression_level:"high",echo_cancellation:!0,echo_cancellation_level:"high",automatic_gain_control:!0,agc_level:"moderate",noise_gate:!0,noise_gate_threshold:-50,noise_gate_attack:10,noise_gate_release:100,voice_activity:!0,input_sensitivity:50,voice_threshold:-45,push_to_talk:!1,push_to_talk_key:"Space",ptt_release_delay:200,high_pass_filter:!0,high_pass_frequency:80,audio_bitrate:64e3,sample_rate:48e3,stereo_audio:!1,attenuation:50,attenuation_while_speaking:!0}),[u,I]=s.useState({input:[],output:[]}),[U,M]=s.useState("default"),[de,me]=s.useState(null),[ue,we]=s.useState([]),[mt,ee]=s.useState(!0),[D,te]=s.useState(0),[ae,ne]=s.useState(!1),L=s.useRef(null),O=s.useRef(null),pe=s.useRef(null),ge=s.useRef(null),V=At(),fe=localStorage.getItem("access_token"),Be=[{id:"input",icon:e.createElement(Me,null),label:"GiriÅŸ"},{id:"output",icon:e.createElement(nt,null),label:"Ã‡Ä±kÄ±ÅŸ"},{id:"noise",icon:e.createElement(rt,null),label:"GÃ¼rÃ¼ltÃ¼ Engelleme"},{id:"voice",icon:e.createElement(ce,null),label:"Ses AlgÄ±lama"},{id:"effects",icon:e.createElement(lt,null),label:"Efektler"},{id:"advanced",icon:e.createElement(it,null),label:"GeliÅŸmiÅŸ"}];s.useEffect(()=>(ee(!1),Promise.all([Ke(),_e(),c?De():Promise.resolve()]).catch(t=>console.warn("[VoiceSettings] Load error:",t)),()=>le()),[]);const De=async()=>{if(c)try{const t=new AbortController,g=setTimeout(()=>t.abort(),3e3),y=await fetch(`${V}/voice/${c}/settings/`,{headers:{Authorization:`Bearer ${fe}`},signal:t.signal});clearTimeout(g);const A=await y.json();A.settings&&B(q=>({...q,...A.settings}))}catch(t){t.name!=="AbortError"&&console.error("Error fetching voice settings:",t)}},Ke=async()=>{try{const t=await navigator.mediaDevices.enumerateDevices();I({input:t.filter(g=>g.kind==="audioinput"),output:t.filter(g=>g.kind==="audiooutput")})}catch{P.error("âŒ Cihazlar yÃ¼klenemedi")}},_e=async()=>{try{const g=await(await fetch(`${V}/voice/effects/`,{headers:{Authorization:`Bearer ${fe}`}})).json();we(g.effects||[{id:"robot",name:"Robot",icon:"ðŸ¤–"},{id:"deep",name:"Derin Ses",icon:"ðŸŽ­"},{id:"high",name:"YÃ¼ksek Ses",icon:"ðŸŽµ"},{id:"echo",name:"YankÄ±",icon:"ðŸ”Š"},{id:"radio",name:"Radyo",icon:"ðŸ“»"}])}catch(t){console.error("Error fetching effects:",t)}},Q=async t=>{if(B(t),!!c)try{await fetch(`${V}/voice/${c}/settings/update/`,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(g){console.error("Error updating settings:",g)}},v=(t,g)=>{const y={...o,[t]:g};Q(y)},he=async t=>{if(!N)return;const g=N.getAudioTracks()[0];if(g&&g.applyConstraints)try{await g.applyConstraints(t),console.log("ðŸŽ›ï¸ [Settings] Applied constraints:",t)}catch(y){console.warn("âš ï¸ [Settings] Could not apply constraints:",y)}},re=async()=>{try{const t=await navigator.mediaDevices.getUserMedia({audio:{deviceId:o.input_device!=="default"?o.input_device:void 0,echoCancellation:o.echo_cancellation,noiseSuppression:o.noise_suppression,autoGainControl:o.automatic_gain_control}});pe.current=t,L.current=new(window.AudioContext||window.webkitAudioContext),O.current=L.current.createAnalyser(),L.current.createMediaStreamSource(t).connect(O.current),O.current.fftSize=256;const y=new Uint8Array(O.current.frequencyBinCount),A=()=>{O.current.getByteFrequencyData(y);const q=y.reduce((J,Ee)=>J+Ee)/y.length;te(q/255*100),ge.current=requestAnimationFrame(A)};A(),ne(!0),P.success("ðŸŽ™ï¸ Mikrofon testi baÅŸladÄ±")}catch{P.error("âŒ Mikrofon eriÅŸimi saÄŸlanamadÄ±")}},le=()=>{ge.current&&cancelAnimationFrame(ge.current),pe.current&&pe.current.getTracks().forEach(t=>t.stop()),L.current&&L.current.close(),ne(!1),te(0)},ve=()=>{if(!window.confirm("TÃ¼m ayarlarÄ± varsayÄ±lana dÃ¶ndÃ¼rmek istiyor musunuz?"))return;Q({...o,...{input_device:"default",output_device:"default",input_volume:100,output_volume:100,noise_suppression:!0,noise_suppression_level:"high",echo_cancellation:!0,echo_cancellation_level:"high",automatic_gain_control:!0,agc_level:"moderate",noise_gate:!0,noise_gate_threshold:-50,voice_activity:!0,input_sensitivity:50,push_to_talk:!1,push_to_talk_key:"Space",high_pass_filter:!0,high_pass_frequency:80,attenuation:50}}),P.success("âœ… Ayarlar sÄ±fÄ±rlandÄ±")},be=()=>e.createElement("div",{className:"tab-content"},e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(Me,{className:"card-icon"}),e.createElement("h3",null,"Mikrofon CihazÄ±")),e.createElement("select",{value:o.input_device,onChange:t=>v("input_device",t.target.value),className:"device-select"},e.createElement("option",{value:"default"},"ðŸŽ™ï¸ VarsayÄ±lan Mikrofon"),u.input.map(t=>e.createElement("option",{key:t.deviceId,value:t.deviceId},t.label||"Bilinmeyen Mikrofon")))),e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(Re,{className:"card-icon"}),e.createElement("h3",null,"Mikrofon Seviyesi"),e.createElement("span",{className:"value-badge"},o.input_volume,"%")),e.createElement("input",{type:"range",min:"0",max:"200",value:o.input_volume,onChange:t=>v("input_volume",parseInt(t.target.value)),className:"premium-slider"}),e.createElement("div",{className:"slider-labels"},e.createElement("span",null,"0%"),e.createElement("span",null,"100%"),e.createElement("span",null,"200%"))),e.createElement("div",{className:"settings-card mic-test-card"},e.createElement("div",{className:"card-header"},e.createElement(ce,{className:"card-icon"}),e.createElement("h3",null,"Mikrofon Testi")),e.createElement("div",{className:"mic-test-area"},e.createElement("div",{className:"mic-level-container"},e.createElement("div",{className:"mic-level-bar",style:{width:`${D}%`}},e.createElement("div",{className:"mic-level-glow"})),e.createElement("div",{className:"mic-level-markers"},[...Array(10)].map((t,g)=>e.createElement("div",{key:g,className:`marker ${D>g*10?"active":""}`})))),e.createElement("div",{className:"mic-level-info"},e.createElement("span",{className:"level-text"},Math.round(D),"%"),D>80&&e.createElement(Ft,{className:"warning-icon"})),e.createElement("button",{className:`test-btn ${ae?"testing":""}`,onClick:ae?le:re},ae?e.createElement(e.Fragment,null,e.createElement(Bt,null)," Testi Durdur"):e.createElement(e.Fragment,null,e.createElement(Dt,null)," Mikrofonu Test Et"))))),ie=()=>e.createElement("div",{className:"tab-content"},e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(nt,{className:"card-icon"}),e.createElement("h3",null,"Ã‡Ä±kÄ±ÅŸ CihazÄ±")),e.createElement("select",{value:o.output_device,onChange:t=>v("output_device",t.target.value),className:"device-select"},e.createElement("option",{value:"default"},"ðŸ”Š VarsayÄ±lan HoparlÃ¶r"),u.output.map(t=>e.createElement("option",{key:t.deviceId,value:t.deviceId},t.label||"Bilinmeyen HoparlÃ¶r")))),e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(Kt,{className:"card-icon"}),e.createElement("h3",null,"Ã‡Ä±kÄ±ÅŸ Seviyesi"),e.createElement("span",{className:"value-badge"},o.output_volume,"%")),e.createElement("input",{type:"range",min:"0",max:"200",value:o.output_volume,onChange:t=>v("output_volume",parseInt(t.target.value)),className:"premium-slider"})),e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(st,{className:"card-icon"}),e.createElement("h3",null,"Uygulama Sesi Azaltma"),e.createElement("span",{className:"value-badge"},o.attenuation,"%")),e.createElement("p",{className:"card-description"},"Biri konuÅŸurken diÄŸer uygulama seslerini azalt"),e.createElement("input",{type:"range",min:"0",max:"100",value:o.attenuation,onChange:t=>v("attenuation",parseInt(t.target.value)),className:"premium-slider"}),e.createElement("div",{className:"toggle-row"},e.createElement("span",null,"KonuÅŸurken Aktif"),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:o.attenuation_while_speaking,onChange:t=>v("attenuation_while_speaking",t.target.checked)}),e.createElement("span",{className:"slider"}))))),se=()=>e.createElement("div",{className:"tab-content"},e.createElement("div",{className:"settings-card highlight-card"},e.createElement("div",{className:"card-header"},e.createElement(rt,{className:"card-icon premium"}),e.createElement("h3",null,"ðŸ›¡ï¸ GÃ¼rÃ¼ltÃ¼ BastÄ±rma"),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:f??o.noise_suppression,onChange:t=>{v("noise_suppression",t.target.checked),b&&f!==t.target.checked&&b(),P.success(t.target.checked?"ðŸ›¡ï¸ GÃ¼rÃ¼ltÃ¼ engelleme aÃ§Ä±ldÄ±":"ðŸ”‡ GÃ¼rÃ¼ltÃ¼ engelleme kapatÄ±ldÄ±")}}),e.createElement("span",{className:"slider"}))),e.createElement("p",{className:"card-description"},"Fan sesi, klima, klavye sesi gibi arka plan gÃ¼rÃ¼ltÃ¼lerini engeller"),(f??o.noise_suppression)&&e.createElement("div",{className:"noise-levels"},e.createElement("span",{className:"level-label"},"Seviye:"),e.createElement("div",{className:"level-buttons"},[{id:"low",label:"DÃ¼ÅŸÃ¼k",desc:"Minimal iÅŸleme"},{id:"medium",label:"Orta",desc:"Dengeli"},{id:"high",label:"YÃ¼ksek",desc:"Ã–nerilen"},{id:"aggressive",label:"Agresif",desc:"Maksimum"}].map(t=>e.createElement("button",{key:t.id,className:`level-btn ${(T||o.noise_suppression_level)===t.id?"active":""}`,onClick:()=>{v("noise_suppression_level",t.id),k&&k(t.id),P.info(`ðŸŽšï¸ GÃ¼rÃ¼ltÃ¼ seviyesi: ${t.label}`)}},e.createElement("span",{className:"level-name"},t.label),e.createElement("span",{className:"level-desc"},t.desc)))))),e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(ce,{className:"card-icon"}),e.createElement("h3",null,"ðŸ”‡ YankÄ± Ã–nleme"),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:o.echo_cancellation,onChange:t=>{v("echo_cancellation",t.target.checked),he({echoCancellation:t.target.checked})}}),e.createElement("span",{className:"slider"}))),e.createElement("p",{className:"card-description"},"HoparlÃ¶rden gelen sesin mikrofona geri dÃ¶nmesini engeller"),o.echo_cancellation&&e.createElement("div",{className:"level-selector"},e.createElement("select",{value:o.echo_cancellation_level,onChange:t=>v("echo_cancellation_level",t.target.value),className:"inline-select"},e.createElement("option",{value:"low"},"DÃ¼ÅŸÃ¼k"),e.createElement("option",{value:"medium"},"Orta"),e.createElement("option",{value:"high"},"YÃ¼ksek (Ã–nerilen)")))),e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(Pt,{className:"card-icon"}),e.createElement("h3",null,"âš¡ GÃ¼rÃ¼ltÃ¼ KapÄ±sÄ± (Noise Gate)"),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:o.noise_gate,onChange:t=>v("noise_gate",t.target.checked)}),e.createElement("span",{className:"slider"}))),e.createElement("p",{className:"card-description"},"Belirli ses seviyesinin altÄ±ndaki sesleri tamamen engeller (sessizlik anlarÄ±ndaki gÃ¼rÃ¼ltÃ¼yÃ¼ Ã¶nler)"),o.noise_gate&&e.createElement("div",{className:"gate-settings"},e.createElement("div",{className:"gate-slider"},e.createElement("label",null,"EÅŸik DeÄŸeri: ",e.createElement("strong",null,o.noise_gate_threshold," dB")),e.createElement("input",{type:"range",min:"-80",max:"-20",value:o.noise_gate_threshold,onChange:t=>v("noise_gate_threshold",parseInt(t.target.value)),className:"premium-slider"}),e.createElement("div",{className:"slider-hint"},e.createElement("span",null,"Hassas (-80)"),e.createElement("span",null,"Sert (-20)"))),e.createElement("div",{className:"gate-timing"},e.createElement("div",{className:"timing-item"},e.createElement("label",null,"AÃ§Ä±lÄ±ÅŸ SÃ¼resi"),e.createElement("select",{value:o.noise_gate_attack,onChange:t=>v("noise_gate_attack",parseInt(t.target.value))},e.createElement("option",{value:"5"},"5ms (HÄ±zlÄ±)"),e.createElement("option",{value:"10"},"10ms (Normal)"),e.createElement("option",{value:"20"},"20ms (YumuÅŸak)"))),e.createElement("div",{className:"timing-item"},e.createElement("label",null,"KapanÄ±ÅŸ SÃ¼resi"),e.createElement("select",{value:o.noise_gate_release,onChange:t=>v("noise_gate_release",parseInt(t.target.value))},e.createElement("option",{value:"50"},"50ms (HÄ±zlÄ±)"),e.createElement("option",{value:"100"},"100ms (Normal)"),e.createElement("option",{value:"200"},"200ms (YumuÅŸak)")))))),e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(Re,{className:"card-icon"}),e.createElement("h3",null,"ðŸŽšï¸ Otomatik Ses Ayarlama (AGC)"),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:o.automatic_gain_control,onChange:t=>v("automatic_gain_control",t.target.checked)}),e.createElement("span",{className:"slider"}))),e.createElement("p",{className:"card-description"},"Ses seviyenizi otomatik olarak dengeler - Ã§ok sessiz veya Ã§ok yÃ¼ksek konuÅŸmanÄ±zÄ± dÃ¼zeltir"),o.automatic_gain_control&&e.createElement("div",{className:"agc-options"},[{id:"moderate",label:"Dengeli",desc:"DoÄŸal ses"},{id:"aggressive",label:"Agresif",desc:"Sabit seviye"}].map(t=>e.createElement("label",{key:t.id,className:`radio-card ${o.agc_level===t.id?"selected":""}`},e.createElement("input",{type:"radio",checked:o.agc_level===t.id,onChange:()=>v("agc_level",t.id)}),e.createElement("div",{className:"radio-content"},e.createElement("span",{className:"radio-label"},t.label),e.createElement("span",{className:"radio-desc"},t.desc)))))),e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(ce,{className:"card-icon"}),e.createElement("h3",null,"ðŸ”‰ DÃ¼ÅŸÃ¼k Frekans Filtresi"),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:o.high_pass_filter,onChange:t=>v("high_pass_filter",t.target.checked)}),e.createElement("span",{className:"slider"}))),e.createElement("p",{className:"card-description"},"DÃ¼ÅŸÃ¼k frekanslÄ± gÃ¼rÃ¼ltÃ¼leri (uÄŸultu, hum sesi) keser"),o.high_pass_filter&&e.createElement("div",{className:"frequency-selector"},e.createElement("label",null,"Kesim FrekansÄ±:"),e.createElement("select",{value:o.high_pass_frequency,onChange:t=>v("high_pass_frequency",parseInt(t.target.value))},e.createElement("option",{value:"50"},"50 Hz (Minimal)"),e.createElement("option",{value:"80"},"80 Hz (Ã–nerilen)"),e.createElement("option",{value:"100"},"100 Hz (Agresif)"),e.createElement("option",{value:"150"},"150 Hz (Ã‡ok Agresif)"))))),xe=()=>e.createElement("div",{className:"tab-content"},e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(Me,{className:"card-icon"}),e.createElement("h3",null,"ðŸŽ™ï¸ GiriÅŸ Modu")),e.createElement("div",{className:"input-mode-selector"},e.createElement("label",{className:`mode-card ${!x&&o.voice_activity?"selected":""}`},e.createElement("input",{type:"radio",checked:!x,onChange:()=>{Q({...o,voice_activity:!0,push_to_talk:!1}),x&&w&&w(),P.success("ðŸŽ¤ Ses aktivasyonu aÃ§Ä±ldÄ±")}}),e.createElement("div",{className:"mode-content"},e.createElement(ce,{className:"mode-icon"}),e.createElement("span",{className:"mode-title"},"Ses Aktivasyonu"),e.createElement("span",{className:"mode-desc"},"KonuÅŸtuÄŸunuzda otomatik aktif olur"))),e.createElement("label",{className:`mode-card ${x||o.push_to_talk?"selected":""}`},e.createElement("input",{type:"radio",checked:x,onChange:()=>{Q({...o,voice_activity:!1,push_to_talk:!0}),!x&&w&&w(),P.success("âŒ¨ï¸ Bas KonuÅŸ modu aÃ§Ä±ldÄ±")}}),e.createElement("div",{className:"mode-content"},e.createElement(ot,{className:"mode-icon"}),e.createElement("span",{className:"mode-title"},"Bas KonuÅŸ"),e.createElement("span",{className:"mode-desc"},"TuÅŸa basÄ±lÄ± tutarak konuÅŸun"))))),!x&&e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(Re,{className:"card-icon"}),e.createElement("h3",null,"Hassasiyet AyarlarÄ±")),e.createElement("div",{className:"sensitivity-control"},e.createElement("div",{className:"sensitivity-header"},e.createElement("span",null,"Mikrofon Hassasiyeti"),e.createElement("span",{className:"value-badge"},p||o.input_sensitivity,"%")),e.createElement("input",{type:"range",min:"20",max:"80",value:p||o.input_sensitivity,onChange:t=>{const g=parseInt(t.target.value);v("input_sensitivity",g),E&&E(g)},className:"premium-slider sensitivity"}),e.createElement("div",{className:"sensitivity-hint"},e.createElement(Lt,null),e.createElement("span",null,"DÃ¼ÅŸÃ¼k = Daha sessiz sesleri algÄ±lar")),e.createElement("div",{className:"sensitivity-visualizer"},e.createElement("div",{className:"threshold-line",style:{left:`${((p||o.input_sensitivity)-20)/60*100}%`}}),e.createElement("div",{className:"level-indicator",style:{width:`${D}%`}})),e.createElement("div",{className:"visualizer-labels"},e.createElement("span",null,"Sessiz"),e.createElement("span",null,"YÃ¼ksek")))),x&&e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(ot,{className:"card-icon"}),e.createElement("h3",null,"Bas KonuÅŸ AyarlarÄ±")),e.createElement("div",{className:"ptt-settings"},e.createElement("div",{className:"ptt-key-bind"},e.createElement("label",null,"TuÅŸ AtamasÄ±"),e.createElement("input",{type:"text",value:F||o.push_to_talk_key,onKeyDown:t=>{t.preventDefault(),v("push_to_talk_key",t.code),S&&S(t.code),P.info(`âŒ¨ï¸ TuÅŸ: ${t.code}`)},placeholder:"Bir tuÅŸa basÄ±n...",className:"key-input",readOnly:!0})),e.createElement("div",{className:"ptt-delay"},e.createElement("label",null,"BÄ±rakma Gecikmesi"),e.createElement("select",{value:o.ptt_release_delay,onChange:t=>v("ptt_release_delay",parseInt(t.target.value))},e.createElement("option",{value:"0"},"0ms (AnÄ±nda)"),e.createElement("option",{value:"100"},"100ms"),e.createElement("option",{value:"200"},"200ms (Ã–nerilen)"),e.createElement("option",{value:"300"},"300ms"),e.createElement("option",{value:"500"},"500ms")),e.createElement("span",{className:"hint"},"TuÅŸu bÄ±raktÄ±ktan sonra mikrofon aÃ§Ä±k kalma sÃ¼resi"))))),K=()=>e.createElement("div",{className:"tab-content"},e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(st,{className:"card-icon"}),e.createElement("h3",null,"ðŸŽšï¸ Equalizer")),e.createElement("div",{className:"equalizer-presets"},[{id:"default",label:"VarsayÄ±lan",icon:"ðŸŽµ"},{id:"bass_boost",label:"Bass Boost",icon:"ðŸ”Š"},{id:"treble_boost",label:"Treble Boost",icon:"ðŸŽ¼"},{id:"voice",label:"Ses Ä°yileÅŸtirme",icon:"ðŸ—£ï¸"},{id:"crisp",label:"Kristal Netlik",icon:"âœ¨"}].map(t=>e.createElement("button",{key:t.id,className:`eq-preset-btn ${U===t.id?"active":""}`,onClick:()=>M(t.id)},e.createElement("span",{className:"preset-icon"},t.icon),e.createElement("span",{className:"preset-label"},t.label))))),e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(lt,{className:"card-icon"}),e.createElement("h3",null,"ðŸŽ­ Ses Efektleri"),de&&e.createElement("button",{className:"remove-effect-btn",onClick:()=>me(null)},e.createElement(at,null)," KaldÄ±r")),e.createElement("div",{className:"effects-grid"},ue.map(t=>e.createElement("button",{key:t.id,className:`effect-btn ${de===t.id?"active":""}`,onClick:()=>me(t.id)},e.createElement("span",{className:"effect-icon"},t.icon),e.createElement("span",{className:"effect-name"},t.name)))))),_=()=>e.createElement("div",{className:"tab-content"},e.createElement("div",{className:"settings-card"},e.createElement("div",{className:"card-header"},e.createElement(it,{className:"card-icon"}),e.createElement("h3",null,"ðŸ”§ Ses Kalitesi")),e.createElement("div",{className:"advanced-options"},e.createElement("div",{className:"option-row"},e.createElement("label",null,"Bit HÄ±zÄ± (Bitrate)"),e.createElement("select",{value:o.audio_bitrate,onChange:t=>v("audio_bitrate",parseInt(t.target.value))},e.createElement("option",{value:"32000"},"32 kbps (DÃ¼ÅŸÃ¼k)"),e.createElement("option",{value:"64000"},"64 kbps (Normal)"),e.createElement("option",{value:"96000"},"96 kbps (YÃ¼ksek)"),e.createElement("option",{value:"128000"},"128 kbps (En Ä°yi)"))),e.createElement("div",{className:"option-row"},e.createElement("label",null,"Ã–rnekleme HÄ±zÄ±"),e.createElement("select",{value:o.sample_rate,onChange:t=>v("sample_rate",parseInt(t.target.value))},e.createElement("option",{value:"24000"},"24 kHz"),e.createElement("option",{value:"48000"},"48 kHz (Ã–nerilen)"))),e.createElement("div",{className:"toggle-row"},e.createElement("div",null,e.createElement("span",null,"Stereo Ses"),e.createElement("span",{className:"option-desc"},"MÃ¼zik paylaÅŸÄ±mÄ± iÃ§in")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:o.stereo_audio,onChange:t=>v("stereo_audio",t.target.checked)}),e.createElement("span",{className:"slider"}))))),e.createElement("div",{className:"settings-card danger-card"},e.createElement("div",{className:"card-header"},e.createElement(ct,{className:"card-icon"}),e.createElement("h3",null,"ðŸ”„ AyarlarÄ± SÄ±fÄ±rla")),e.createElement("p",{className:"card-description"},"TÃ¼m ses ayarlarÄ±nÄ± varsayÄ±lan deÄŸerlerine dÃ¶ndÃ¼rÃ¼r"),e.createElement("button",{className:"reset-btn",onClick:ve},e.createElement(ct,null)," VarsayÄ±lana DÃ¶n")));return e.createElement("div",{className:"voice-settings-overlay",onClick:n},e.createElement("div",{className:"voice-settings-panel premium",onClick:t=>t.stopPropagation()},e.createElement("div",{className:"voice-settings-header"},e.createElement("h2",null,"ðŸŽ™ï¸ Ses AyarlarÄ±"),e.createElement("button",{className:"close-btn",onClick:n},e.createElement(at,null))),e.createElement("div",{className:"settings-tabs"},Be.map(t=>e.createElement("button",{key:t.id,className:`tab-btn ${z===t.id?"active":""}`,onClick:()=>Y(t.id)},t.icon,e.createElement("span",null,t.label)))),e.createElement("div",{className:"voice-settings-content"},z==="input"&&be(),z==="output"&&ie(),z==="noise"&&se(),z==="voice"&&xe(),z==="effects"&&K(),z==="advanced"&&_())))},Se=(n,c=256)=>{if(!n)return`https://ui-avatars.com/api/?name=User&background=5865f2&color=fff&bold=true&size=${c}`;const f=Vt.hash(n),b=parseInt(f.substring(0,8),16)%360;return`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=${b.toString(16).padStart(2,"0")}${((b+60)%360).toString(16).padStart(2,"0")}${((b+120)%360).toString(16).padStart(2,"0")}&color=fff&bold=true&size=${c}`},Wt=n=>n?n.replace(/_100x100\./gi,".").replace(/_150x150\./gi,".").replace(/_50x50\./gi,".").replace(/\?.*$/,""):null,jt=({roomName:n,onClose:c,isMinimized:f,onToggleMinimize:b,getRealUserAvatar:k,allUsers:T=[],currentUserProfile:p})=>{const{isInVoice:E,isMuted:x,isDeafened:w,isVideoEnabled:F,isScreenSharing:S,isSpatialAudioEnabled:N,vadSensitivity:z,isNoiseSuppressionEnabled:Y,screenShareQuality:o,screenShareFPS:B,isRecording:u,recordingDuration:I,isPTTMode:U,isPTTActive:M,pttKey:de,includeSystemAudio:me,connectedUsers:ue=[],isReconnecting:we=!1,connectionStats:mt={},startStatsMonitoring:ee,stopStatsMonitoring:D,toggleMute:te,toggleDeafened:ae,toggleCamera:ne,toggleScreenShare:L,toggleSpatialAudio:O,updateVadSensitivity:pe,toggleNoiseSuppression:ge,updateScreenQuality:V,updateScreenFPS:fe,toggleSystemAudio:Be,togglePTTMode:De,updatePTTKey:Ke,startRecording:_e,stopRecording:Q,downloadRecording:v,leaveVoiceRoom:he,localAudioStream:re,remoteStreams:le={},remoteVolumes:ve={},setRemoteVolume:be,localCameraStream:ie,localScreenStream:se,isTalking:xe=!1}=dt(),K=F,{user:_}=It(),t=e.useMemo(()=>{const a=[...ue];if(_&&!a.some(r=>r.username===_.username))a.push({username:_.username,isMuted:x,isCameraOn:K,isScreenSharing:S,isTalking:xe,isLocal:!0});else if(_){const r=a.findIndex(m=>m.username===_.username);r>=0&&(a[r]={...a[r],isMuted:x,isCameraOn:K,isScreenSharing:S,isTalking:xe,isLocal:!0})}return a},[ue,_,x,K,S]),g=s.useCallback(a=>{let r=null;if(p&&a===_?.username&&p.avatar&&typeof p.avatar=="string"&&(p.avatar.startsWith("http")||p.avatar.startsWith("blob:")?r=p.avatar:r=`https://www.pawscord.com${p.avatar.startsWith("/")?"":"/"}${p.avatar}`),!r&&k&&(r=k(a)),!r){const m=T.find(l=>l.username===a);m?.avatar&&typeof m.avatar=="string"&&(m.avatar.startsWith("http")||m.avatar.startsWith("blob:")?r=m.avatar:r=`https://www.pawscord.com${m.avatar.startsWith("/")?"":"/"}${m.avatar}`)}return r?Wt(r):Se(a,256)},[p,_,k,T]),y=e.useMemo(()=>{const a={...le};return _?.username&&(ie&&(a[`${_.username}_camera`]=ie),se&&(a[`${_.username}_screen`]=se)),a},[le,_,ie,se]),[A,q]=s.useState(null),[J,Ee]=s.useState(null),[ut,Pe]=s.useState(!1),[Gt,Yt]=s.useState({noiseSuppression:!0,echoCancellation:!0,autoGainControl:!0}),[Ne,W]=s.useState(null),[Le,Ve]=s.useState(()=>{try{const a=localStorage.getItem("pawscord_voice_volumes");return a?JSON.parse(a):{}}catch{return{}}}),[Ce,pt]=s.useState({}),[gt,Te]=s.useState(!1),[ft,ht]=s.useState(!0),[qe,We]=s.useState("good"),[je,He]=s.useState("unknown"),[Oe,Ut]=s.useState(!0),[Ge,Qt]=s.useState(!0),[Ye,vt]=s.useState({}),[Ue,bt]=s.useState({}),[xt,Et]=s.useState({}),[$,Qe]=s.useState(null),Je=s.useRef(null);s.useEffect(()=>{const a=()=>{Pe(!0)};return window.addEventListener("openVoiceSettings",a),()=>window.removeEventListener("openVoiceSettings",a)},[]),s.useEffect(()=>{try{localStorage.setItem("pawscord_voice_volumes",JSON.stringify(Le))}catch(a){console.warn("Failed to save volume settings:",a)}},[Le]),s.useEffect(()=>{if(!E)return;const a=async()=>{const m=window.__pawscord_peer_connections__||{};for(const[l,d]of Object.entries(m))if(d&&d.getStats)try{(await d.getStats()).forEach(i=>{i.type==="candidate-pair"&&i.state==="succeeded"&&pt(C=>({...C,[l]:{rtt:Math.round((i.currentRoundTripTime||0)*1e3),packetLoss:i.packetsLost&&i.packetsSent?Math.round(i.packetsLost/i.packetsSent*100*10)/10:0,quality:(i.currentRoundTripTime||0)<.1?"excellent":(i.currentRoundTripTime||0)<.2?"good":"poor"}}))})}catch(h){console.warn("[Quality] Failed to get stats for",l,h)}},r=setInterval(a,3e3);return a(),()=>clearInterval(r)},[E]),s.useEffect(()=>(E&&ee&&ee(),()=>{D&&D()}),[E,ee,D]),s.useEffect(()=>{if(!re||x||!E){Te(!1);return}try{const a=window.AudioContext||window.webkitAudioContext,r=new a,m=r.createAnalyser();m.fftSize=2048,m.smoothingTimeConstant=.8;const l=r.createMediaStreamSource(re);l.connect(m);const d=new Uint8Array(m.frequencyBinCount);let h=0;const C=setInterval(()=>{m.getByteFrequencyData(d);const j=d.slice(80,160),R=Math.max(...j),X=j.reduce((oe,Ie)=>oe+Ie,0)/j.length,G=d.slice(10,40),Ae=G.reduce((oe,Ie)=>oe+Ie,0)/G.length;R>180&&X>100&&X>Ae*1.5?(h++,h>3&&Te(!0)):(h=0,R<120&&Te(!1))},1e3);return()=>{clearInterval(C),l.disconnect(),r.close()}}catch(a){console.warn("[Echo] Detection failed:",a)}},[re,x,E]),s.useEffect(()=>{if(!E)return;const a=navigator.connection||navigator.mozConnection||navigator.webkitConnection,r=()=>{if(!a){We("good"),He("unknown");return}const l=a.effectiveType||"unknown";He(l);const d=a.downlink||10,h=a.rtt||50;let i="good";l==="4g"&&d>=5&&h<100?i="excellent":l==="slow-2g"||d<1||h>300?i="poor":l==="2g"||l==="3g"||d<3||h>150?i="good":i="excellent",We(i),Oe&&V&&(i==="poor"&&o!=="720p"?(console.log("ðŸ“¶ [Network] Poor connection detected, downgrading to 720p"),V("720p")):i==="excellent"&&o==="720p"&&(console.log("ðŸ“¶ [Network] Excellent connection, upgrading to 1080p"),V("1080p")))};r(),a&&a.addEventListener("change",r);const m=setInterval(r,1e4);return()=>{clearInterval(m),a&&a.removeEventListener("change",r)}},[E,Oe,o,V]),s.useEffect(()=>{if(!Ge||!E)return;const r=setInterval(()=>{const m=document.querySelectorAll("audio[data-username]"),l={},d={...Ue};m.forEach(h=>{const i=h.getAttribute("data-username");if(i)try{const C=new(window.AudioContext||window.webkitAudioContext),j=C.createMediaElementSource(h),R=C.createAnalyser();R.fftSize=256,j.connect(R),R.connect(C.destination);const X=new Uint8Array(R.frequencyBinCount);R.getByteFrequencyData(X);const G=X.reduce((Ae,oe)=>Ae+oe,0)/X.length;l[i]=G,G>0&&(G<50?d[i]=Math.min(1.5,(d[i]||1)*1.05):G>120&&(d[i]=Math.max(.7,(d[i]||1)*.95))),C.close()}catch(C){console.debug("Audio analysis error (expected):",C.message)}}),vt(l),bt(d)},2e3);return()=>clearInterval(r)},[Ge,E,Ue]),s.useEffect(()=>{if(!E)return;const r=setInterval(()=>{const m={};let l=null,d=0;Object.entries(Ye).forEach(([h,i])=>{i>30?(m[h]=!0,i>d&&(d=i,l=h)):m[h]=!1}),Et(m),l&&d>50?Qe(l):d===0&&Qe(null)},100);return()=>clearInterval(r)},[E,Ye]),s.useEffect(()=>{const a=document.createElement("style");return a.id="voice-fullscreen-styles",a.textContent=`
            /* Tam Ekran Video Stilleri */
            div:fullscreen video,
            div:-webkit-full-screen video,
            div:-moz-full-screen video,
            div:-ms-fullscreen video {
                width: 100% !important;
                height: 100% !important;
                object-fit: contain !important;
                background: #000 !important;
            }

            /* Tam Ekran Container */
            div:fullscreen,
            div:-webkit-full-screen,
            div:-moz-full-screen,
            div:-ms-fullscreen {
                background: #000 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }

            /* Tam Ekran Kontrolleri */
            div:fullscreen .hover-actions,
            div:-webkit-full-screen .hover-actions,
            div:-moz-full-screen .hover-actions,
            div:-ms-fullscreen .hover-actions {
                opacity: 1 !important;
                z-index: 9999 !important;
            }

            /* ðŸ”¥ YENÄ°: Badge AnimasyonlarÄ± */
            @keyframes badgePulse {
                0%, 100% {
                    transform: scale(1);
                    box-shadow: 0 4px 16px rgba(88, 101, 242, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.2);
                }
                50% {
                    transform: scale(1.05);
                    box-shadow: 0 6px 20px rgba(88, 101, 242, 0.9), 0 0 0 3px rgba(255, 255, 255, 0.4);
                }
            }

            @keyframes pulse {
                0%, 100% {
                    opacity: 1;
                    transform: scale(1);
                }
                50% {
                    opacity: 0.7;
                    transform: scale(1.2);
                }
            }

            /* ðŸ”¥ YENÄ°: Talking Indicator Wave Animations */
            @keyframes wave1 {
                0%, 100% { height: 12px; }
                50% { height: 20px; }
            }
            @keyframes wave2 {
                0%, 100% { height: 16px; }
                50% { height: 24px; }
            }
            @keyframes wave3 {
                0%, 100% { height: 12px; }
                50% { height: 20px; }
            }

            /* ðŸ”¥ YENÄ°: Avatar Talking Pulse Animation */
            @keyframes talkingPulse {
                0%, 100% {
                    box-shadow: 0 0 0 0 rgba(67, 181, 129, 0.7);
                    transform: scale(1);
                }
                50% {
                    box-shadow: 0 0 0 15px rgba(67, 181, 129, 0);
                    transform: scale(1.02);
                }
            }
        `,document.head.appendChild(a),()=>{const r=document.getElementById("voice-fullscreen-styles");r&&r.remove()}},[]);const{isMobile:Xe}=Mt(),Ze=A?"fullscreen":f?"minimized":Xe?"mobile":"grid";s.useEffect(()=>{E||c()},[E,c]);const yt=a=>Xe?{cols:1,rows:a}:a<=1?{cols:1,rows:1}:a<=4?{cols:2,rows:2}:a<=6?{cols:3,rows:2}:a<=9?{cols:3,rows:3}:{cols:4,rows:Math.ceil(a/4)},kt=e.useMemo(()=>{let a=t.length;return t.forEach(r=>{const m=r.username;y[`${m}_screen`]&&r.isScreenSharing&&a++}),a},[t,y]),ye=t.length,{cols:et,rows:tt}=yt(kt),St=s.useCallback(async a=>{window.location.hash=`#/dm/${a.username}`},[]),wt=s.useCallback(async a=>{try{(await fetch("/api/friends/send_request/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({username:a.username})})).ok?Z.success(`âœ… ${a.username} kullanÄ±cÄ±sÄ±na arkadaÅŸlÄ±k isteÄŸi gÃ¶nderildi!`):Z.error("âŒ ArkadaÅŸlÄ±k isteÄŸi gÃ¶nderilemedi")}catch(r){console.error("Friend request error:",r),Z.error("âŒ Bir hata oluÅŸtu")}},[]),_t=s.useCallback(async a=>{try{(await fetch("/api/users/block/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({username:a.username})})).ok?Z.success(`âœ… ${a.username} engellendi!`):Z.error("âŒ Engelleme iÅŸlemi baÅŸarÄ±sÄ±z")}catch(r){console.error("Block error:",r),Z.error("âŒ Bir hata oluÅŸtu")}},[]),Nt=s.useCallback(a=>{W(null),window.openUserProfile?window.openUserProfile(a.username):window.location.hash=`#/profile/${a.username}`},[]),Ct=s.useCallback(a=>{Ve(r=>({...r,[a.username]:{...r[a.username],isMuted:!r[a.username]?.isMuted}}))},[]),Tt=s.useCallback((a,r)=>{const m=Math.max(0,Math.min(150,r));Ve(d=>({...d,[a.username]:{...d[a.username],volume:m}})),document.querySelectorAll(`audio[data-username="${a.username}"]`).forEach(d=>{d.volume=m/100,console.log(`ðŸ”Š [Volume] Set ${a.username} to ${m}%`)})},[]),zt=()=>{const a=[];return u&&a.push(e.createElement("span",{key:"rec",style:{background:"rgba(237,66,69,0.2)",color:"#ed4245",border:"1px solid rgba(237,66,69,0.4)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",display:"inline-flex",alignItems:"center",gap:"6px"}},"âºï¸ KayÄ±tta (",Math.floor(I/60).toString().padStart(2,"0"),":",Math.floor(I%60).toString().padStart(2,"0"),")")),S&&a.push(e.createElement("span",{key:"ss",style:{background:"rgba(88,101,242,0.15)",color:"#8893ff",border:"1px solid rgba(88,101,242,0.35)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",display:"inline-flex",alignItems:"center",gap:"6px"}},"ðŸ–¥ï¸ PaylaÅŸÄ±lÄ±yor ",o," â€¢ ",B,"fps",me?" â€¢ ðŸ”Š Sistem":"")),U&&a.push(e.createElement("span",{key:"ptt",style:{background:"rgba(250,166,26,0.18)",color:"#faa61a",border:"1px solid rgba(250,166,26,0.35)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",display:"inline-flex",alignItems:"center",gap:"6px"}},"ðŸŽ™ï¸ PTT (",de,") ",M?"â€¢ Aktif":"")),we&&a.push(e.createElement("span",{key:"reconnect",style:{background:"rgba(255,255,255,0.08)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",display:"inline-flex",alignItems:"center",gap:"6px"}},"ðŸ”„ Yeniden baÄŸlanÄ±yor")),a.length?e.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"}},a):null},ze=a=>a.streamType==="screen"?e.createElement("div",{style:{position:"absolute",top:"12px",left:"12px",background:"linear-gradient(135deg, #5865f2 0%, #7289da 100%)",color:"#fff",padding:"8px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:700,boxShadow:"0 4px 16px rgba(88, 101, 242, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.2)",zIndex:100,display:"flex",alignItems:"center",gap:"8px",animation:"badgePulse 2s infinite"}},"ðŸ–¥ï¸ ",e.createElement("span",{style:{textShadow:"0 2px 4px rgba(0, 0, 0, 0.5)"}},a.username," - Ekran PaylaÅŸÄ±yor")):a.streamType==="camera"?e.createElement("div",{style:{position:"absolute",top:"12px",left:"12px",background:"rgba(67, 181, 129, 0.85)",color:"#fff",padding:"6px 12px",borderRadius:"8px",fontSize:"11px",fontWeight:600,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",zIndex:100,display:"flex",alignItems:"center",gap:"6px"}},"ðŸ“¹ Kamera"):null;if(Ze==="minimized")return e.createElement(Rt,{nodeRef:Je,handle:".mini-drag-handle",defaultPosition:{x:20,y:window.innerHeight-180},bounds:"parent"},e.createElement("div",{ref:Je,style:{position:"fixed",zIndex:9999,background:"linear-gradient(135deg, #1e2124 0%, #2c2f33 50%, #23272a 100%)",borderRadius:"16px",padding:"16px",boxShadow:"0 12px 48px rgba(0, 0, 0, 0.7), 0 0 0 1px rgba(88, 101, 242, 0.15)",border:"1px solid rgba(88, 101, 242, 0.1)",minWidth:"320px",maxWidth:"400px",backdropFilter:"blur(12px)",animation:"slideIn 0.3s ease"}},e.createElement("div",{className:"mini-drag-handle",style:{display:"flex",alignItems:"center",gap:"12px",cursor:"move",marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"}},e.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#43b581",boxShadow:"0 0 12px #43b581",animation:"pulse 2s infinite"}}),e.createElement("span",{style:{color:"#fff",fontSize:"14px",fontWeight:600,flex:1}},"ðŸŽ¤ ",n),e.createElement("div",{style:{background:"rgba(67, 181, 129, 0.2)",borderRadius:"12px",padding:"4px 10px",fontSize:"11px",color:"#43b581",fontWeight:600}},"ðŸ‘¥ ",ye),e.createElement("button",{onClick:b,style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",padding:"6px 10px",color:"#fff",cursor:"pointer",fontSize:"12px",transition:"all 0.2s"},onMouseEnter:a=>a.target.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:a=>a.target.style.background="rgba(255, 255, 255, 0.1)"},"â¬†ï¸ AÃ§")),e.createElement("div",{style:{marginBottom:"12px",maxHeight:"120px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"6px"}},t.slice(0,3).map(a=>e.createElement("div",{key:a.username,onContextMenu:r=>{r.preventDefault(),a.username!==_?.username&&W({user:a,position:{x:r.clientX,y:r.clientY}})},onClick:r=>{a.username!==_?.username&&W({user:a,position:{x:r.clientX,y:r.clientY}})},style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",background:a.isTalking?"rgba(67, 181, 129, 0.15)":"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:a.isTalking?"1px solid rgba(67, 181, 129, 0.4)":"1px solid transparent",transition:"all 0.2s",cursor:a.username!==_?.username?"pointer":"default"},onMouseEnter:r=>{a.username!==_?.username&&(r.currentTarget.style.background="rgba(67, 181, 129, 0.2)")},onMouseLeave:r=>{r.currentTarget.style.background=a.isTalking?"rgba(67, 181, 129, 0.15)":"rgba(255, 255, 255, 0.05)"}},e.createElement("img",{src:g(a.username),alt:a.username,onError:r=>{r.target.onerror=null,r.target.src=Se(a.username,64)},style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:a.isTalking?"2px solid #43b581":"2px solid rgba(255, 255, 255, 0.15)",boxShadow:a.isTalking?"0 0 10px rgba(67, 181, 129, 0.5)":"none",transition:"all 0.3s ease"}}),e.createElement("div",{style:{flex:1}},e.createElement("div",{style:{color:"#fff",fontSize:"13px",fontWeight:600}},a.username," ",a.isLocal&&"(Siz)"),e.createElement("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"11px"}},a.isMuted?"ðŸ”‡ Sessiz":a.isTalking?"ðŸ”Š KonuÅŸuyor":"ðŸŽ¤ Aktif")),a.isCameraOn&&e.createElement("span",{style:{fontSize:"14px"}},"ðŸ“¹"),a.isScreenSharing&&e.createElement("span",{style:{fontSize:"14px"}},"ðŸ–¥ï¸"))),ye>3&&e.createElement("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"11px",padding:"6px"}},"+",ye-3," daha...")),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"}},e.createElement(ke,{icon:x?"ðŸ”‡":"ðŸŽ¤",active:!x,onClick:te,title:x?"Mikrofonu AÃ§":"Mikrofonu Kapat"}),e.createElement(ke,{icon:K?"ðŸ“¹":"ðŸ“·",active:K,onClick:ne,title:K?"KamerayÄ± Kapat":"KamerayÄ± AÃ§"}),e.createElement(ke,{icon:"ðŸ–¥ï¸",active:S,onClick:L,title:S?"PaylaÅŸÄ±mÄ± Durdur":"Ekran PaylaÅŸ"}),e.createElement(ke,{icon:"âŒ",danger:!0,onClick:he,title:"AyrÄ±l"}))));if(Ze==="fullscreen"&&A){const a=A.streamType==="screen"?`${A.username}_screen`:`${A.username}_camera`,r=y[a]||y[A.username];return e.createElement("div",{style:{width:"100%",height:"100%",background:"#000",display:"flex",flexDirection:"column",overflow:"hidden"}},e.createElement("div",{style:{background:"rgba(0, 0, 0, 0.8)",padding:"16px 24px",display:"flex",alignItems:"center",gap:"16px"}},e.createElement("button",{onClick:()=>q(null),style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",padding:"8px 16px",color:"#fff",cursor:"pointer",fontSize:"14px"}},"â¬…ï¸ Geri"),e.createElement("h3",{style:{color:"#fff",margin:0,flex:1}},"ðŸ‘¤ ",A.username," ",A.streamType==="screen"&&"ðŸ–¥ï¸ Ekran PaylaÅŸÄ±mÄ±")),e.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",background:"#1a1a1a"}},e.createElement(Ot,{user:A,stream:r,fullscreen:!0})),e.createElement(Ht,{isMuted:x,isDeafened:w,isCameraOn:K,isScreenSharing:S,isSpatialAudio:N,isRecording:u,recordingDuration:I,onToggleMute:te,onToggleDeafened:ae,onToggleCamera:ne,onToggleScreenShare:L,onToggleSpatialAudio:O,onStartRecording:_e,onStopRecording:Q,onLeave:he}))}return e.createElement("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #1e1e1e 0%, #2c2c2c 100%)",display:"flex",flexDirection:"column",overflow:"hidden"}},e.createElement("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"16px 24px",display:"flex",alignItems:"center",gap:"16px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"}},e.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#43b581",boxShadow:"0 0 12px #43b581",animation:"pulse 2s infinite"}}),e.createElement("h2",{style:{color:"#fff",margin:0,fontSize:"17px",fontWeight:700,flex:1,display:"flex",alignItems:"center",gap:"12px",letterSpacing:"0.3px"}},"ðŸŽ™ï¸ ",n,zt(),qe==="poor"&&e.createElement("div",{style:{background:"rgba(240, 71, 71, 0.2)",border:"1px solid #f04747",borderRadius:"6px",padding:"4px 8px",fontSize:"12px",color:"#f04747",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"}},"âš ï¸ ZayÄ±f BaÄŸlantÄ±"),qe==="excellent"&&je!=="unknown"&&e.createElement("div",{style:{background:"rgba(67, 181, 129, 0.2)",border:"1px solid #43b581",borderRadius:"6px",padding:"4px 8px",fontSize:"12px",color:"#43b581",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"}},"ðŸ“¶ ",je.toUpperCase())),e.createElement("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"}},"ðŸ‘¥ ",ye," kiÅŸi"),e.createElement("button",{onClick:b,style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",padding:"8px 16px",color:"#fff",cursor:"pointer",fontSize:"13px"}},"â¬‡ï¸ KÃ¼Ã§Ã¼lt")),e.createElement("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",overflow:"auto",position:"relative",minHeight:0}},(()=>{const a=t.filter(m=>m.isScreenSharing&&y[`${m.username}_screen`]);if(a.length>0){const m=[];a.forEach(i=>{const C=y[`${i.username}_screen`];C&&m.push({key:`${i.username}_screen`,username:i.username,type:"screen",component:e.createElement($e,{key:`${i.username}_screen`,user:{...i,streamType:"screen"},stream:C,isActive:!1,isPinned:!1,onExpand:()=>q({...i,streamType:"screen"}),onPin:()=>{},onContextMenu:j=>W(j),badge:ze({...i,streamType:"screen"}),connectionQuality:Ce[i.username],getUserAvatar:g})})}),t.forEach(i=>{const C=y[`${i.username}_camera`]||y[i.username];(C&&C.active||i.isLocal)&&m.push({key:`${i.username}_camera`,username:i.username,type:"camera",component:e.createElement($e,{key:`${i.username}_camera`,user:{...i,streamType:"camera",volume:ve[i.username]||100,onVolumeChange:R=>be(i.username,R),isTalking:xt[i.username]||!1},stream:C,isActive:$===i.username,isPinned:J===i.username,onExpand:()=>q({...i,streamType:"camera"}),onPin:()=>Ee(J===i.username?null:i.username),onContextMenu:R=>W(R),badge:ze(i),connectionQuality:Ce[i.username],getUserAvatar:g})})});const l=m.length;let d,h;return l<=2?(d=l,h=1):l<=4?(d=2,h=2):l<=6?(d=3,h=2):(d=3,h=Math.ceil(l/3)),e.createElement("div",{style:{width:"100%",height:"100%",display:"grid",gridTemplateColumns:`repeat(${d}, 1fr)`,gridTemplateRows:`repeat(${h}, 1fr)`,gap:"16px",padding:"0",position:"relative"}},m.map((i,C)=>e.createElement("div",{key:i.key,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",zIndex:1,isolation:"isolate"}},i.component)))}else return t.some(l=>{const d=y[`${l.username}_camera`]||y[l.username];return d&&d.active})?e.createElement("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${et}, 1fr)`,gridTemplateRows:`repeat(${tt}, 1fr)`,gap:"16px",minHeight:"400px",height:"100%"}},t.map(l=>{const d=y[`${l.username}_camera`]||(l.isLocal?null:y[l.username]);return e.createElement($e,{key:`${l.username}_camera`,user:{...l,streamType:"camera",volume:ve[l.username]||100,onVolumeChange:h=>be(l.username,h)},stream:d,isActive:$===l.username,isPinned:J===l.username,onExpand:()=>q({...l,streamType:"camera"}),onPin:()=>Ee(J===l.username?null:l.username),onContextMenu:h=>W(h),badge:ze({...l,streamType:"camera"}),connectionQuality:Ce[l.username],getUserAvatar:g})})):e.createElement("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${Math.min(et,3)}, 1fr)`,gridTemplateRows:`repeat(${tt}, 1fr)`,gap:"24px",padding:"40px",alignItems:"center",justifyContent:"center"}},t.map(l=>e.createElement("div",{key:l.username,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"32px",borderRadius:"16px",background:$===l.username?"linear-gradient(135deg, rgba(88, 101, 242, 0.25) 0%, rgba(114, 137, 218, 0.15) 100%)":"rgba(47, 49, 54, 0.5)",border:$===l.username?"2px solid rgba(88, 101, 242, 0.9)":"2px solid rgba(79, 84, 92, 0.3)",boxShadow:$===l.username?"0 8px 32px rgba(88, 101, 242, 0.4), 0 0 20px rgba(88, 101, 242, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",position:"relative",transform:$===l.username?"scale(1.05)":"scale(1)",animation:"slideIn 0.4s ease forwards"},onClick:()=>W({user:l,position:{x:window.innerWidth/2,y:window.innerHeight/2}})},e.createElement("div",{style:{width:"140px",height:"140px",borderRadius:"50%",overflow:"hidden",border:`5px solid ${$===l.username?"#5865f2":"#40444b"}`,boxShadow:$===l.username?"0 8px 24px rgba(88, 101, 242, 0.6), inset 0 0 20px rgba(88, 101, 242, 0.2)":"0 4px 12px rgba(0, 0, 0, 0.4)",animation:$===l.username?"pulse 1.5s infinite":"none",position:"relative"}},e.createElement("img",{src:g(l.username),alt:l.username,onError:d=>{d.target.onerror=null,d.target.src=Se(l.username,256)},style:{width:"100%",height:"100%",objectFit:"cover",filter:$===l.username?"brightness(1.1)":"brightness(0.95)"}})),e.createElement("div",{style:{fontSize:"20px",fontWeight:"700",color:$===l.username?"#dee0fc":"#fff",textAlign:"center",textShadow:"0 2px 8px rgba(0, 0, 0, 0.7)",letterSpacing:"0.3px"}},l.username),e.createElement("div",{style:{display:"flex",gap:"12px",fontSize:"22px",marginTop:"4px"}},l.isMuted&&e.createElement("span",{title:"Mikrofon KapalÄ±",style:{filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5))"}},"ðŸ”‡"),l.isDeafened&&e.createElement("span",{title:"KulaklÄ±k KapalÄ±",style:{filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5))"}},"ðŸ”ˆ")))))})()),gt&&ft&&e.createElement("div",{style:{position:"absolute",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, rgba(250, 166, 26, 0.95) 0%, rgba(237, 66, 69, 0.95) 100%)",color:"#fff",padding:"16px 24px",borderRadius:"12px",zIndex:1e3,display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 8px 32px rgba(250, 166, 26, 0.6)",animation:"pulse 2s infinite",maxWidth:"90%"}},e.createElement("div",{style:{fontSize:"24px",animation:"pulse 1.5s infinite"}},"âš ï¸"),e.createElement("div",{style:{flex:1}},e.createElement("div",{style:{fontWeight:"bold",marginBottom:"4px",fontSize:"15px"}},"Echo Tespit Edildi!"),e.createElement("div",{style:{fontSize:"13px",opacity:.9}},"KulaklÄ±k kullanmanÄ±z Ã¶nerilir. HoparlÃ¶r kullanÄ±mÄ± echo'ya neden olur.")),e.createElement("button",{onClick:()=>ht(!1),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"6px",color:"#fff",padding:"6px 12px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},"Kapat")),ut&&e.createElement(qt,{onClose:()=>Pe(!1),channelId:n}),Ne&&e.createElement($t,{user:Ne.user,position:Ne.position,onClose:()=>W(null),onSendMessage:St,onAddFriend:wt,onBlock:_t,onViewProfile:Nt,onMuteUser:Ct,onAdjustVolume:Tt,currentUser:_,isInVoiceChat:!0}),e.createElement("style",null,`
                @keyframes pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.5; }
                }
                @keyframes talkingPulse {
                    0%, 100% { 
                        box-shadow: 0 0 0 0 rgba(67, 181, 129, 0.4);
                        transform: scale(1);
                    }
                    50% { 
                        box-shadow: 0 0 0 8px rgba(67, 181, 129, 0);
                        transform: scale(1.03);
                    }
                }
                @keyframes wave1 {
                    0%, 100% { height: 8px; }
                    50% { height: 16px; }
                }
                @keyframes wave2 {
                    0%, 100% { height: 12px; }
                    50% { height: 20px; }
                }
                @keyframes wave3 {
                    0%, 100% { height: 8px; }
                    50% { height: 14px; }
                }
                @keyframes badgePulse {
                    0%, 100% { 
                        box-shadow: 0 4px 16px rgba(88, 101, 242, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.2);
                    }
                    50% { 
                        box-shadow: 0 4px 24px rgba(88, 101, 242, 0.8), 0 0 0 3px rgba(255, 255, 255, 0.3);
                    }
                }
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(10px) scale(0.95); }
                    to { opacity: 1; transform: translateY(0) scale(1); }
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes connectionGlow {
                    0%, 100% { box-shadow: 0 0 12px rgba(67, 181, 129, 0.3); }
                    50% { box-shadow: 0 0 20px rgba(67, 181, 129, 0.6); }
                }
                @keyframes screenShareGlow {
                    0%, 100% { border-color: rgba(88, 101, 242, 0.5); }
                    50% { border-color: rgba(88, 101, 242, 0.9); }
                }
                
                /* Smooth grid transitions */
                .voice-grid-item {
                    animation: slideIn 0.3s ease forwards;
                }
                
                /* Video card hover effects */
                .voice-video-card:hover {
                    transform: scale(1.01);
                    z-index: 10;
                }
                
                /* Active speaker highlight */
                .voice-active-speaker {
                    animation: connectionGlow 2s ease-in-out infinite;
                }
                
                /* Screen share border animation */
                .voice-screen-share {
                    animation: screenShareGlow 2s ease-in-out infinite;
                }
            `))},$e=e.memo(({user:n,stream:c,isActive:f,isPinned:b,onExpand:k,onPin:T,onContextMenu:p,compact:E=!1,badge:x,connectionQuality:w,getUserAvatar:F})=>{const S=s.useRef(null),N=s.useRef(null),[z,Y]=s.useState(!1);s.useEffect(()=>{S.current&&c&&(S.current.srcObject=c)},[c]),s.useEffect(()=>{if(N.current&&c&&!n.isLocal){const u=c.getAudioTracks();if(u.length>0){N.current.srcObject=new MediaStream(u);const I=(n.volume||100)/100;N.current.volume=Math.min(2,Math.max(0,I))}}},[c,n.isLocal,n.username,n.volume]);const o=s.useCallback(u=>{u.preventDefault(),p&&n.username!==n.isLocal&&p({user:n,position:{x:u.clientX,y:u.clientY}})},[p,n]),B=s.useCallback(u=>{!n.isLocal&&p&&p({user:n,position:{x:u.clientX,y:u.clientY}})},[n,p]);return e.createElement("div",{onContextMenu:o,onClick:B,onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"16px",overflow:"hidden",position:"relative",border:f?"3px solid #43b581":b?"3px solid #5865f2":"1px solid rgba(255, 255, 255, 0.1)",boxShadow:f?"0 0 20px rgba(67, 181, 129, 0.5)":"0 4px 16px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",cursor:n.isLocal?"default":"pointer",width:"100%",height:"100%",display:"flex",flexDirection:"column"}},!n.isLocal&&c&&e.createElement("audio",{ref:N,autoPlay:!0,playsInline:!0,"data-username":n.username,style:{display:"none"}}),e.createElement("div",{style:{width:"100%",height:"100%",background:"#1a1a1a",display:"flex",alignItems:"center",justifyContent:"center"}},x,c&&c.active&&c.getVideoTracks().length>0?e.createElement("video",{ref:S,autoPlay:!0,playsInline:!0,muted:n.isLocal===!0,style:{width:"100%",height:"100%",objectFit:n.streamType==="screen"?"contain":"cover",backgroundColor:n.streamType==="screen"?"#000":"#1a1a1a"}}):e.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",background:"linear-gradient(135deg, #36393f 0%, #2f3136 50%, #202225 100%)",position:"relative"}},e.createElement("div",{style:{position:"relative",padding:"8px",borderRadius:"50%",background:n.isTalking?"linear-gradient(135deg, #43b581, #3ca374)":"transparent",boxShadow:n.isTalking?"0 0 20px rgba(67, 181, 129, 0.6), 0 0 40px rgba(67, 181, 129, 0.3)":"none",transition:"all 0.3s ease",animation:n.isTalking?"talkingPulse 1s ease-in-out infinite":"none"}},e.createElement("img",{src:F(n.username),alt:n.username,onError:u=>{u.target.onerror=null,u.target.src=Se(n.username,256)},style:{width:"140px",height:"140px",borderRadius:"50%",objectFit:"cover",border:"5px solid #40444b",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",display:"block"},loading:"lazy"})),e.createElement("div",{style:{color:"#fff",fontSize:"18px",fontWeight:700,textShadow:"0 2px 8px rgba(0, 0, 0, 0.7)",letterSpacing:"0.5px"}},n.username),e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 14px",background:n.isMuted?"rgba(240, 71, 71, 0.2)":"rgba(67, 181, 129, 0.2)",borderRadius:"16px",border:n.isMuted?"1px solid rgba(240, 71, 71, 0.4)":"1px solid rgba(67, 181, 129, 0.4)"}},e.createElement("span",{style:{fontSize:"16px"}},n.isMuted?"ðŸ”‡":"ðŸŽ¤"),e.createElement("span",{style:{color:n.isMuted?"#f04747":"#43b581",fontSize:"13px",fontWeight:600}},n.isMuted?"Sessiz":n.isTalking?"KonuÅŸuyor...":"Dinliyor")))),e.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent)",padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px",zIndex:10}},n.isTalking&&e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"3px"}},e.createElement("div",{style:{width:"3px",height:"12px",background:"#43b581",borderRadius:"2px",animation:"wave1 0.6s ease-in-out infinite"}}),e.createElement("div",{style:{width:"3px",height:"16px",background:"#43b581",borderRadius:"2px",animation:"wave2 0.6s ease-in-out infinite 0.1s"}}),e.createElement("div",{style:{width:"3px",height:"12px",background:"#43b581",borderRadius:"2px",animation:"wave3 0.6s ease-in-out infinite 0.2s"}})),!n.isLocal&&w&&e.createElement("div",{title:`RTT: ${w.rtt}ms, Packet Loss: ${w.packetLoss}%`,style:{fontSize:"16px",filter:w.quality==="excellent"?"none":w.quality==="good"?"hue-rotate(30deg)":"hue-rotate(90deg) saturate(2)",opacity:.9}},w.quality==="excellent"||w.quality==="good"?"ðŸ“¶":"âš ï¸"),e.createElement("span",{onClick:u=>{u.stopPropagation(),n.isLocal||(window.openUserProfile?window.openUserProfile(n.username):window.location.hash=`#/profile/${n.username}`)},style:{color:"#fff",fontSize:"14px",fontWeight:600,flex:1,cursor:n.isLocal?"default":"pointer",textDecoration:n.isLocal?"none":"underline",textDecorationColor:"rgba(255, 255, 255, 0.3)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},n.username," ",n.streamType==="screen"&&"ðŸ–¥ï¸ Ekran"),e.createElement("div",{style:{display:"flex",gap:"6px"}},n.isMuted&&e.createElement("span",{style:{fontSize:"16px"}},"ðŸ”‡"),n.streamType==="camera"&&n.isCameraOn&&e.createElement("span",{style:{fontSize:"16px"}},"ðŸ“¹"),f&&e.createElement("span",{style:{fontSize:"16px"}},"ðŸ”Š"))),e.createElement("div",{style:{position:"absolute",top:"12px",right:"12px",display:"flex",gap:"6px",opacity:z?1:0,transition:"opacity 0.25s ease, transform 0.25s ease",transform:z?"translateY(0)":"translateY(-6px)",zIndex:20,pointerEvents:z?"auto":"none"}},e.createElement(Fe,{icon:b?"ðŸ“Œ":"ðŸ“",onClick:u=>{u.stopPropagation(),T()},title:b?"Sabitlemeyi KaldÄ±r":"Sabitle",bgColor:"rgba(88, 101, 242, 0.9)"}),e.createElement(Fe,{icon:"â›¶",onClick:u=>{u.stopPropagation(),k()},title:"Panelde GeniÅŸlet",bgColor:"rgba(67, 181, 129, 0.9)"}),e.createElement(Fe,{icon:"ðŸ–¥ï¸",onClick:u=>{u.stopPropagation();const I=S.current;if(I){const M=I.parentElement?.parentElement||I;M.requestFullscreen?M.requestFullscreen():M.webkitRequestFullscreen?M.webkitRequestFullscreen():M.mozRequestFullScreen?M.mozRequestFullScreen():M.msRequestFullscreen&&M.msRequestFullscreen()}},title:"Tam Ekran Ä°zle",bgColor:"rgba(250, 166, 26, 0.9)"}),!n.isLocal&&z&&e.createElement("div",{style:{background:"rgba(0, 0, 0, 0.9)",borderRadius:"10px",padding:"6px 10px",display:"flex",alignItems:"center",gap:"6px",minWidth:"100px",backdropFilter:"blur(8px)",border:"1px solid rgba(255, 255, 255, 0.1)",animation:"fadeIn 0.2s ease"}},e.createElement("span",{style:{fontSize:"12px"}},(n.volume||100)===0?"ðŸ”‡":(n.volume||100)>100?"ðŸ”Š":"ðŸ”‰"),e.createElement("input",{type:"range",min:"0",max:"200",value:n.volume||100,onChange:u=>{u.stopPropagation(),n.onVolumeChange&&n.onVolumeChange(parseInt(u.target.value))},style:{flex:1,cursor:"pointer",height:"4px"},onClick:u=>u.stopPropagation()}),e.createElement("span",{style:{fontSize:"10px",color:"#fff",minWidth:"30px",fontWeight:600}},n.volume||100,"%"))),e.createElement("style",null,`
                div:hover .hover-actions {
                    opacity: 1;
                }
            `))},(n,c)=>n.user.username===c.user.username&&n.stream===c.stream&&n.user.isCameraOn===c.user.isCameraOn&&n.user.isScreenSharing===c.user.isScreenSharing&&n.user.isMuted===c.user.isMuted&&n.isActive===c.isActive&&n.isPinned===c.isPinned&&n.compact===c.compact),Ht=({isMuted:n,isDeafened:c,isCameraOn:f,isScreenSharing:b,isSpatialAudio:k,isRecording:T,recordingDuration:p,onToggleMute:E,onToggleDeafened:x,onToggleCamera:w,onToggleScreenShare:F,onToggleSpatialAudio:S,onStartRecording:N,onStopRecording:z,onDownloadRecording:Y,onLeave:o,onSettings:B})=>{const u=I=>{const U=Math.floor(I/60).toString().padStart(2,"0"),M=Math.floor(I%60).toString().padStart(2,"0");return`${U}:${M}`};return e.createElement("div",{style:{background:"linear-gradient(180deg, rgba(32, 34, 37, 0.98) 0%, rgba(24, 25, 28, 1) 100%)",padding:"12px 20px",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",borderTop:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.4)",flexShrink:0,minHeight:"70px",position:"relative",zIndex:100}},e.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},e.createElement(H,{icon:n?"ðŸ”‡":"ðŸŽ¤",active:!n,danger:n,onClick:E,title:n?"Mikrofonu AÃ§":"Mikrofonu Kapat"}),e.createElement(H,{icon:c?"ðŸ”ˆ":"ðŸŽ§",active:!c,danger:c,onClick:x,title:c?"KulaklÄ±ÄŸÄ± AÃ§":"KulaklÄ±ÄŸÄ± Kapat"})),e.createElement("div",{style:{display:"flex",gap:"8px",padding:"0 16px",borderLeft:"1px solid rgba(255, 255, 255, 0.1)",borderRight:"1px solid rgba(255, 255, 255, 0.1)"}},e.createElement(H,{icon:f?"ðŸ“¹":"ðŸ“·",active:f,onClick:w,title:f?"KamerayÄ± Kapat":"KamerayÄ± AÃ§"}),e.createElement(H,{icon:"ðŸ–¥ï¸",active:b,special:b,onClick:F,title:b?"PaylaÅŸÄ±mÄ± Durdur":"Ekran PaylaÅŸ"}),S&&e.createElement(H,{icon:"ðŸ”Š",active:k,onClick:S,title:k?"3D Ses (AÃ§Ä±k)":"3D Ses (KapalÄ±)",small:!0})),e.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},N&&z&&e.createElement(H,{icon:T?"â¹ï¸":"âºï¸",active:T,danger:T,onClick:T?z:N,title:T?`KaydÄ± Durdur (${u(p)})`:"KayÄ±t BaÅŸlat",label:T?u(p):null}),B&&e.createElement(H,{icon:"âš™ï¸",onClick:B,title:"Ayarlar",subtle:!0})),e.createElement(H,{icon:"ðŸ“ž",danger:!0,onClick:o,title:"AyrÄ±l",isLeave:!0}))},H=({icon:n,active:c,danger:f,special:b,subtle:k,small:T,isLeave:p,onClick:E,title:x,label:w})=>{const F=()=>p?"linear-gradient(135deg, #ed4245 0%, #c03537 100%)":f&&c?"rgba(240, 71, 71, 0.4)":f?"rgba(240, 71, 71, 0.15)":b?"linear-gradient(135deg, #5865f2 0%, #4752c4 100%)":c?"rgba(67, 181, 129, 0.25)":k?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.1)",S=()=>p?"none":f&&c?"2px solid rgba(240, 71, 71, 0.6)":c?"2px solid rgba(67, 181, 129, 0.5)":b?"2px solid rgba(88, 101, 242, 0.5)":"2px solid transparent";return e.createElement("button",{onClick:E,title:x,style:{background:F(),border:S(),borderRadius:p?"50%":"12px",width:p?"48px":T?"40px":"48px",height:p?"48px":T?"40px":"48px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:T?"16px":"20px",color:"#fff",transition:"all 0.2s ease",boxShadow:p?"0 4px 15px rgba(237, 66, 69, 0.4)":c?"0 2px 10px rgba(67, 181, 129, 0.3)":"none",transform:"scale(1)"},onMouseEnter:N=>{N.currentTarget.style.transform="scale(1.1)",N.currentTarget.style.boxShadow=p?"0 6px 20px rgba(237, 66, 69, 0.6)":"0 4px 15px rgba(255, 255, 255, 0.2)"},onMouseLeave:N=>{N.currentTarget.style.transform="scale(1)",N.currentTarget.style.boxShadow=p?"0 4px 15px rgba(237, 66, 69, 0.4)":c?"0 2px 10px rgba(67, 181, 129, 0.3)":"none"}},e.createElement("span",null,n),w&&e.createElement("span",{style:{fontSize:"9px",marginTop:"2px",fontWeight:600}},w))},ke=({icon:n,active:c,danger:f,onClick:b,title:k})=>e.createElement("button",{onClick:b,title:k,style:{background:c?"rgba(88, 101, 242, 0.8)":f?"rgba(237, 66, 69, 0.8)":"rgba(255, 255, 255, 0.15)",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease"}},n),Fe=({icon:n,onClick:c,title:f,bgColor:b="rgba(0, 0, 0, 0.7)"})=>e.createElement("button",{onClick:c,title:f,style:{background:b,border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"14px",color:"#fff",fontWeight:"bold",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},onMouseEnter:k=>{k.currentTarget.style.transform="scale(1.1)",k.currentTarget.style.boxShadow="0 4px 16px rgba(255, 255, 255, 0.3)"},onMouseLeave:k=>{k.currentTarget.style.transform="scale(1)",k.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.3)"}},n),Ot=({stream:n,fullscreen:c})=>{const f=s.useRef(null);return s.useEffect(()=>{f.current&&n&&(f.current.srcObject=n)},[n]),e.createElement("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!1,style:{width:"100%",height:"100%",objectFit:c?"contain":"cover",background:"#000"}})},oa=e.memo(jt);export{oa as default};

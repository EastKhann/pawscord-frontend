import{r,d as t,I as R,bx as z,aD as H,bI as W,cY as A,cs as _,cZ as e,c_ as D,c$ as c,d0 as p,d1 as f,d2 as N,d3 as L,d4 as P,d5 as $,d6 as O,d7 as C,d8 as q,d9 as E,da as U,db as d,dc as G,dd as S,de as J,df as K,dg as m}from"./react-core-DMT_QkRe.js";import{A as M}from"./index-DsxO5r0w.js";e.registerLanguage("javascript",c);e.registerLanguage("js",c);e.registerLanguage("jsx",c);e.registerLanguage("typescript",p);e.registerLanguage("ts",p);e.registerLanguage("tsx",p);e.registerLanguage("python",f);e.registerLanguage("py",f);e.registerLanguage("java",N);e.registerLanguage("csharp",L);e.registerLanguage("cs",L);e.registerLanguage("cpp",P);e.registerLanguage("c",$);e.registerLanguage("go",O);e.registerLanguage("rust",C);e.registerLanguage("rs",C);e.registerLanguage("php",q);e.registerLanguage("ruby",E);e.registerLanguage("rb",E);e.registerLanguage("swift",U);e.registerLanguage("bash",d);e.registerLanguage("shell",d);e.registerLanguage("sh",d);e.registerLanguage("json",G);e.registerLanguage("yaml",S);e.registerLanguage("yml",S);e.registerLanguage("sql",J);e.registerLanguage("css",K);e.registerLanguage("html",m);e.registerLanguage("xml",m);e.registerLanguage("markup",m);const Y=({language:n,value:g,children:w})=>{const[v,y]=r.useState(!1),[i,B]=r.useState(!1),[l,h]=r.useState(!1),[b,s]=r.useState(null),o=String(g||w||"").replace(/\n$/,""),x=o.split(`
`).length>15,j=()=>{navigator.clipboard.writeText(o),y(!0),setTimeout(()=>y(!1),2e3)},I=async()=>{h(!0),s(null);const F=localStorage.getItem("access_token");try{const u=await(await fetch(`${M}/tools/run-code/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({language:n,code:o})})).json();u.run?s(u.run.output||"Çıktı boş."):s("Hata: "+(u.message||"Bilinmeyen hata"))}catch{s("Bağlantı hatası.")}h(!1)};return t.createElement("div",{style:a.container},t.createElement("div",{style:a.header},t.createElement("span",{style:a.language},n||"text"),t.createElement("div",{style:{display:"flex",gap:"10px"}},t.createElement("button",{onClick:I,style:a.runButton,disabled:l},l?t.createElement(R,{className:"spin"}):t.createElement(z,{size:10}),l?" Çalışıyor...":" Run"),t.createElement("button",{onClick:j,style:a.copyButton},v?t.createElement(H,null):t.createElement(W,null)))),t.createElement("div",{style:{...a.codeWrapper,maxHeight:!i&&x?"300px":"none"}},t.createElement(k,{language:n?n.toLowerCase():"text",content:o})),b&&t.createElement("div",{style:a.outputContainer},t.createElement("div",{style:a.outputHeader},"ÇIKTI (TERMINAL):"),t.createElement("pre",{style:a.outputBody},b)),x&&t.createElement("button",{onClick:()=>B(!i),style:a.expandButton},i?t.createElement(t.Fragment,null,t.createElement(A,null)," Daralt"):t.createElement(t.Fragment,null,t.createElement(_,null)," Genişlet")))},a={container:{marginTop:"8px",marginBottom:"8px",borderRadius:"8px",border:"1px solid #202225",overflow:"hidden",backgroundColor:"#1e1f22"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 10px",backgroundColor:"#202225",color:"#b9bbbe",fontSize:"0.8em",fontWeight:"bold",fontFamily:"monospace"},language:{textTransform:"uppercase"},copyButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},runButton:{backgroundColor:"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"2px 10px",fontSize:"0.9em",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},codeWrapper:{overflow:"hidden",transition:"max-height 0.3s"},expandButton:{width:"100%",padding:"8px",backgroundColor:"#2f3136",border:"none",borderTop:"1px solid #202225",color:"#dbdee1",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},outputContainer:{borderTop:"1px solid #40444b",backgroundColor:"#000"},outputHeader:{padding:"5px 10px",fontSize:"0.75em",color:"#99aab5",backgroundColor:"#111"},outputBody:{padding:"10px",color:"#0f0",fontFamily:"monospace",margin:0,whiteSpace:"pre-wrap",fontSize:"0.9em"}},k=r.memo(({language:n,content:g})=>t.createElement(e,{language:n||"text",style:D,customStyle:{margin:0,padding:"15px",fontSize:"0.9em"},wrapLongLines:!0},g));k.displayName="SyntaxHighlighterWithStyle";const ee=r.memo(Y);export{ee as default};

import{r as n,n as e}from"./react-core-Cj7FUMmY.js";import{E as k,a as v,K as j}from"./icons-vendor-DnRG7SaF.js";import{t as a}from"./index-BSDoL1zz.js";import"./editor-vendor-D9c4a6XZ.js";import"./media-vendor-BsD1gqUZ.js";import"./router-vendor-QeioVw-9.js";import"./state-vendor-MN-5i-Jz.js";import"./crypto-vendor-DK-7ILyQ.js";const I=({fetchWithAuth:d,apiBaseUrl:p,roomSlug:u,userId:c,username:i,onClose:l})=>{const[r,x]=n.useState("60"),[f,b]=n.useState(""),[m,s]=n.useState(!1),g=[{label:"1 Dakika",value:"1"},{label:"5 Dakika",value:"5"},{label:"10 Dakika",value:"10"},{label:"30 Dakika",value:"30"},{label:"1 Saat",value:"60"},{label:"6 Saat",value:"360"},{label:"12 Saat",value:"720"},{label:"24 Saat",value:"1440"},{label:"7 Gün",value:"10080"}],y=async()=>{if(!r||parseInt(r)<=0){a.error("Geçerli bir süre girin");return}try{s(!0),(await d(`${p}/rooms/mute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:u,user_id:c,duration_minutes:parseInt(r),reason:f})})).ok?(a.success(`${i} ${r} dakika susturuldu`),l()):a.error("Susturma başarısız oldu")}catch{a.error("Bir hata oluştu")}finally{s(!1)}},h=async()=>{try{s(!0),(await d(`${p}/rooms/unmute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:u,user_id:c})})).ok?(a.success(`${i} susturması kaldırıldı`),l()):a.error("İşlem başarısız oldu")}catch{a.error("Bir hata oluştu")}finally{s(!1)}};return e.jsx("div",{style:o.overlay,onClick:l,children:e.jsxs("div",{style:o.modal,onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:o.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(k,{style:{color:"#faa61a"}}),e.jsxs("h2",{style:{margin:0},children:["Timeout - ",i]})]}),e.jsx(v,{onClick:l,style:o.closeBtn})]}),e.jsxs("div",{style:o.content,children:[e.jsx("div",{style:o.presets,children:g.map(t=>e.jsx("button",{onClick:()=>x(t.value),style:{...o.presetBtn,backgroundColor:r===t.value?"#5865f2":"#2c2f33"},children:t.label},t.value))}),e.jsxs("div",{style:o.field,children:[e.jsx("label",{style:o.label,children:"Özel Süre (dakika)"}),e.jsx("input",{type:"number",value:r,onChange:t=>x(t.target.value),placeholder:"60",style:o.input,min:"1"})]}),e.jsxs("div",{style:o.field,children:[e.jsx("label",{style:o.label,children:"Sebep (opsiyonel)"}),e.jsx("textarea",{value:f,onChange:t=>b(t.target.value),placeholder:"Spam, kural ihlali, vb.",style:o.textarea,rows:3})]}),e.jsxs("div",{style:o.info,children:["⏰ Kullanıcı ",e.jsxs("strong",{children:[r," dakika"]})," boyunca mesaj gönderemeyecek"]})]}),e.jsxs("div",{style:o.footer,children:[e.jsxs("button",{onClick:h,style:o.unmuteBtn,children:[e.jsx(j,{})," Susturmayı Kaldır"]}),e.jsx("button",{onClick:y,disabled:m,style:o.muteBtn,children:m?"İşleniyor...":"Timeout Uygula"})]})]})})},o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},presets:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"20px"},presetBtn:{padding:"12px",border:"none",borderRadius:"4px",color:"#fff",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},textarea:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",resize:"vertical"},info:{backgroundColor:"#5865f21a",border:"1px solid #5865f2",borderRadius:"4px",padding:"15px",color:"#5865f2",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},unmuteBtn:{flex:1,backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},muteBtn:{flex:1,backgroundColor:"#faa61a",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{I as default};

import{r as l,b as s}from"./react-core-9vc7GIjk.js";import{bl as u,ca as f,z as y,al as p,cb as S}from"./icons-vendor-NoxEirJf.js";import"./editor-vendor-DiU449Dh.js";const E=({messageId:i,isBookmarked:c,fetchWithAuth:d,apiBaseUrl:g,onUpdate:o})=>{const[a,k]=l.useState(c),[e,r]=l.useState(!1),m=async b=>{if(b.stopPropagation(),!e){r(!0);try{const t=await d(`${g}/messages/bookmark/toggle/`,{method:"POST",body:JSON.stringify({message_id:i})});if(t.ok){const n=await t.json();k(n.bookmarked),o&&o(n.bookmarked)}}catch(t){console.error("Bookmark error:",t)}finally{r(!1)}}};return s.createElement("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:a?"#faa61a":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Bookmark kaldır":"Bookmark ekle"},a?s.createElement(u,null):s.createElement(f,null))},x=({messageId:i,isStarred:c,fetchWithAuth:d,apiBaseUrl:g,onUpdate:o})=>{const[a,k]=l.useState(c),[e,r]=l.useState(!1),m=async b=>{if(b.stopPropagation(),!e){r(!0);try{const t=await d(`${g}/messages/star/toggle/`,{method:"POST",body:JSON.stringify({message_id:i})});if(t.ok){const n=await t.json();k(n.starred),o&&o(n.starred)}}catch(t){console.error("Star error:",t)}finally{r(!1)}}};return s.createElement("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:a?"#ffd700":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Yıldız kaldır":"Yıldız ekle"},a?s.createElement(p,null):s.createElement(S,null))},z=({messageId:i,isReadLater:c,fetchWithAuth:d,apiBaseUrl:g,onUpdate:o})=>{const[a,k]=l.useState(c),[e,r]=l.useState(!1),m=async b=>{if(b.stopPropagation(),!e){r(!0);try{const t=await d(`${g}/messages/readlater/toggle/`,{method:"POST",body:JSON.stringify({message_id:i})});if(t.ok){const n=await t.json();k(n.read_later),o&&o(n.read_later)}}catch(t){console.error("Read later error:",t)}finally{r(!1)}}};return s.createElement("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:a?"#3ba55d":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Sonra oku listesinden çıkar":"Sonra oku listesine ekle"},s.createElement(y,null))};export{E as BookmarkButton,z as ReadLaterButton,x as StarButton};

{"version":3,"file":"VoiceMessagePlayer-BUp9ekFh.js","sources":["../../../src/components/VoiceMessagePlayer.js"],"sourcesContent":["// frontend/src/components/VoiceMessagePlayer.js\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { FaPlay, FaPause, FaDownload } from 'react-icons/fa';\n\nconst VoiceMessagePlayer = ({ audioUrl, duration, onDownload, messageId, fetchWithAuth, apiBaseUrl }) => {\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [currentTime, setCurrentTime] = useState(0);\n    const [audioDuration, setAudioDuration] = useState(duration || 0);\n    const [waveformData, setWaveformData] = useState([]);\n    const [hasError, setHasError] = useState(false);\n    const [transcription, setTranscription] = useState(null);\n    const [isTranscribing, setIsTranscribing] = useState(false);\n    const [currentAudioUrl, setCurrentAudioUrl] = useState(audioUrl); // üî• Proxy fallback i√ßin\n    const [triedProxy, setTriedProxy] = useState(false); // üî• Proxy denendi mi?\n    const audioRef = useRef(null);\n    const animationRef = useRef(null);\n\n    // üî• DEBUG: ƒ∞lk render'da ve URL deƒüi≈üimlerinde log\n    useEffect(() => {\n    }, [audioUrl, currentAudioUrl, triedProxy, apiBaseUrl]);\n\n    // üî• audioUrl deƒüi≈ütiƒüinde state'i sƒ±fƒ±rla\n    useEffect(() => {\n        if (audioUrl && audioUrl !== currentAudioUrl && !triedProxy) {\n            setCurrentAudioUrl(audioUrl);\n            setTriedProxy(false);\n            setHasError(false);\n        }\n    }, [audioUrl]);\n\n    // üéôÔ∏è Transcription i≈ülevi\n    const handleTranscribe = async () => {\n        if (isTranscribing || transcription) return;\n\n        setIsTranscribing(true);\n        try {\n            const response = await fetchWithAuth(`${apiBaseUrl}/messages/${messageId}/transcribe/`, {\n                method: 'POST'\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                setTranscription(data.transcription || '√áeviri yapƒ±lamadƒ±');\n            } else {\n                setTranscription('‚ùå √áeviri ba≈üarƒ±sƒ±z');\n            }\n        } catch (error) {\n            console.error('Transcription error:', error);\n            setTranscription('‚ùå Hata olu≈ütu');\n        } finally {\n            setIsTranscribing(false);\n        }\n    };\n\n    // üéµ Waveform olu≈ütur (ses y√ºklendikinde)\n    useEffect(() => {\n        const audio = audioRef.current;\n        if (!audio) return;\n\n        const handleLoadedMetadata = () => {\n            setAudioDuration(audio.duration);\n            generateWaveform();\n            setHasError(false);\n        };\n\n        const handleError = (e) => {\n            // üî• Detaylƒ± hata log'u\n            const error = audio.error;\n            const errorCode = error ? error.code : 'unknown';\n            const errorMessage = error ? error.message : 'No error info';\n            console.warn('[VoicePlayer] ‚ùå Ses dosyasƒ± y√ºklenemedi:', {\n                url: currentAudioUrl,\n                errorCode,\n                errorMessage,\n                networkState: audio.networkState,\n                readyState: audio.readyState\n            });\n\n            // üî• FIX: R2 hatasƒ± durumunda proxy'ye fallback yap\n            if (!triedProxy && currentAudioUrl) {\n\n                // URL'den file path √ßƒ±kar (birden fazla format destekle)\n                let filePath = null;\n\n                // Format 1: https://xxx.r2.dev/attachments/voice_xxx.webm\n                if (currentAudioUrl.includes('.r2.dev/')) {\n                    filePath = currentAudioUrl.split('.r2.dev/')[1];\n                }\n                // Format 2: https://pub-xxx.r2.dev/attachments/voice_xxx.webm\n                else if (currentAudioUrl.includes('r2.dev/')) {\n                    const parts = currentAudioUrl.split('r2.dev/');\n                    filePath = parts[parts.length - 1];\n                }\n                // Format 3: /media/attachments/voice_xxx.webm\n                else if (currentAudioUrl.includes('/attachments/')) {\n                    const parts = currentAudioUrl.split('/attachments/');\n                    filePath = 'attachments/' + parts[parts.length - 1];\n                }\n\n                if (filePath) {\n                    // /api/ prefix ekle\n                    const proxyUrl = `${apiBaseUrl || window.location.origin}/api/voice-proxy/${filePath}`;\n                    setCurrentAudioUrl(proxyUrl);\n                    setTriedProxy(true);\n                    setHasError(false);\n                    return; // Hata state'ini ayarlamadan √ßƒ±k - yeni URL denenecek\n                }\n            }\n\n            setHasError(true);\n        };\n\n        const handleCanPlay = () => {\n        };\n\n        audio.addEventListener('loadedmetadata', handleLoadedMetadata);\n        audio.addEventListener('error', handleError);\n        audio.addEventListener('canplay', handleCanPlay);\n\n        return () => {\n            audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\n            audio.removeEventListener('error', handleError);\n            audio.removeEventListener('canplay', handleCanPlay);\n        };\n    }, [currentAudioUrl, triedProxy, apiBaseUrl]); // üî• FIX: dependency g√ºncellendi\n\n    // üåä Basit waveform verisi olu≈ütur (ger√ßek analiz i√ßin Web Audio API kullanƒ±labilir)\n    const generateWaveform = useCallback(() => {\n        const bars = 40; // 40 √ßubuk\n        const data = [];\n\n        // Rastgele ama ger√ßek√ßi g√∂r√ºnen waveform\n        for (let i = 0; i < bars; i++) {\n            const baseHeight = Math.random() * 0.5 + 0.3; // 0.3-0.8 arasƒ±\n            const variance = Math.sin(i / 5) * 0.2; // Dalga efekti\n            data.push(Math.max(0.2, Math.min(1, baseHeight + variance)));\n        }\n\n        setWaveformData(data);\n    }, []);\n\n    // ‚ñ∂Ô∏è Oynatma/Durdurma\n    const togglePlayPause = useCallback(() => {\n        const audio = audioRef.current;\n        if (!audio) return;\n\n        if (isPlaying) {\n            audio.pause();\n            cancelAnimationFrame(animationRef.current);\n        } else {\n            audio.play();\n            updateProgress();\n        }\n\n        setIsPlaying(!isPlaying);\n    }, [isPlaying]);\n\n    // ‚è±Ô∏è ƒ∞lerleme g√ºncelle\n    const updateProgress = useCallback(() => {\n        const audio = audioRef.current;\n        if (!audio) return;\n\n        setCurrentTime(audio.currentTime);\n\n        if (!audio.paused) {\n            animationRef.current = requestAnimationFrame(updateProgress);\n        }\n    }, []);\n\n    // üéØ Waveform'a tƒ±klayarak zaman atla\n    const handleWaveformClick = useCallback((e) => {\n        const audio = audioRef.current;\n        if (!audio) return;\n\n        const rect = e.currentTarget.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const percentage = x / rect.width;\n\n        audio.currentTime = percentage * audioDuration;\n        setCurrentTime(audio.currentTime);\n    }, [audioDuration]);\n\n    // üîö Ses bittiƒüinde\n    useEffect(() => {\n        const audio = audioRef.current;\n        if (!audio) return;\n\n        const handleEnded = () => {\n            setIsPlaying(false);\n            setCurrentTime(0);\n            cancelAnimationFrame(animationRef.current);\n        };\n\n        audio.addEventListener('ended', handleEnded);\n\n        return () => {\n            audio.removeEventListener('ended', handleEnded);\n            cancelAnimationFrame(animationRef.current);\n        };\n    }, []);\n\n    // ‚è∞ S√ºre formatla (0:00)\n    const formatTime = (seconds) => {\n        const mins = Math.floor(seconds / 60);\n        const secs = Math.floor(seconds % 60);\n        return `${mins}:${secs.toString().padStart(2, '0')}`;\n    };\n\n    return (\n        <div style={styles.container}>\n            {hasError ? (\n                /* üìõ Error State */\n                <div style={styles.errorContainer}>\n                    <div style={styles.errorIcon}>üîá</div>\n                    <div style={styles.errorText}>Ses dosyasƒ± bulunamadƒ± (eski mesaj)</div>\n                    {/* üî• Debug: URL'yi g√∂ster */}\n                    <div style={{ fontSize: '10px', color: '#72767d', marginTop: '4px', wordBreak: 'break-all' }}>\n                        {audioUrl?.substring(0, 80)}...\n                    </div>\n                </div>\n            ) : (\n                <>\n                    {/* üî• FIX: crossOrigin ekle R2/CDN CORS i√ßin + currentAudioUrl kullan */}\n                    <audio ref={audioRef} src={currentAudioUrl} preload=\"metadata\" crossOrigin=\"anonymous\" />\n\n                    {/* Play/Pause Button */}\n                    <button onClick={togglePlayPause} style={styles.playButton}>\n                        {isPlaying ? <FaPause /> : <FaPlay style={{ marginLeft: '2px' }} />}\n                    </button>\n\n                    {/* Waveform */}\n                    <div style={styles.waveformContainer} onClick={handleWaveformClick}>\n                        <div style={styles.waveform}>\n                            {waveformData.map((height, index) => {\n                                const progress = currentTime / audioDuration;\n                                const barProgress = index / waveformData.length;\n                                const isActive = barProgress <= progress;\n\n                                return (\n                                    <div\n                                        key={index}\n                                        style={{\n                                            ...styles.waveBar,\n                                            height: `${height * 100}%`,\n                                            backgroundColor: isActive ? '#5865f2' : '#4f545c',\n                                            opacity: isActive ? 1 : 0.5,\n                                        }}\n                                    />\n                                );\n                            })}\n                        </div>\n\n                        {/* Time Display */}\n                        <div style={styles.timeDisplay}>\n                            <span>{formatTime(currentTime)}</span>\n                            <span style={{ color: '#72767d' }}> / {formatTime(audioDuration)}</span>\n                        </div>\n                    </div>\n\n                    {/* Download Button */}\n                    {onDownload && (\n                        <button onClick={onDownload} style={styles.downloadButton} title=\"ƒ∞ndir\">\n                            <FaDownload />\n                        </button>\n                    )}\n\n                    {/* Transcription Button */}\n                    {messageId && fetchWithAuth && (\n                        <button\n                            onClick={handleTranscribe}\n                            disabled={isTranscribing || !!transcription}\n                            style={{\n                                ...styles.downloadButton,\n                                backgroundColor: transcription ? 'rgba(67, 181, 129, 0.1)' : 'transparent',\n                                color: isTranscribing ? '#faa61a' : transcription ? '#43b581' : '#b9bbbe',\n                                cursor: (isTranscribing || transcription) ? 'default' : 'pointer',\n                            }}\n                            title={transcription ? '√áevrildi' : 'Metne √áevir'}\n                        >\n                            {isTranscribing ? '‚è≥' : transcription ? '‚úÖ' : 'üìù'}\n                        </button>\n                    )}\n                </>\n            )}\n\n            {/* Transcription Text */}\n            {transcription && (\n                <div style={styles.transcriptionText}>\n                    {transcription}\n                </div>\n            )}\n        </div>\n    );\n};\n\nconst styles = {\n    container: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        backgroundColor: 'rgba(88, 101, 242, 0.08)',\n        border: '1px solid rgba(88, 101, 242, 0.2)',\n        borderRadius: '12px',\n        padding: '12px 16px',\n        maxWidth: '400px',\n        transition: 'all 0.2s',\n    },\n    playButton: {\n        width: '36px',\n        height: '36px',\n        borderRadius: '50%',\n        border: 'none',\n        backgroundColor: '#5865f2',\n        color: 'white',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        fontSize: '14px',\n        transition: 'all 0.2s',\n        flexShrink: 0,\n    },\n    waveformContainer: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '6px',\n        cursor: 'pointer',\n        minWidth: 0,\n    },\n    waveform: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '2px',\n        height: '32px',\n    },\n    waveBar: {\n        flex: 1,\n        minWidth: '2px',\n        borderRadius: '2px',\n        transition: 'all 0.15s ease-out',\n    },\n    timeDisplay: {\n        fontSize: '11px',\n        color: '#dcddde',\n        fontWeight: '500',\n    },\n    downloadButton: {\n        width: '32px',\n        height: '32px',\n        borderRadius: '50%',\n        border: 'none',\n        backgroundColor: 'transparent',\n        color: '#b9bbbe',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        fontSize: '14px',\n        transition: 'all 0.2s',\n        flexShrink: 0,\n    },\n    errorContainer: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '10px',\n        padding: '4px',\n        width: '100%'\n    },\n    errorIcon: {\n        fontSize: '20px',\n        opacity: 0.5\n    },\n    errorText: {\n        fontSize: '12px',\n        color: '#72767d',\n        fontStyle: 'italic'\n    },\n    transcriptionText: {\n        marginTop: '8px',\n        padding: '8px 12px',\n        backgroundColor: 'rgba(79, 84, 92, 0.3)',\n        borderRadius: '8px',\n        fontSize: '13px',\n        color: '#dcddde',\n        lineHeight: '1.4',\n        fontStyle: 'italic'\n    }\n};\n\nexport default React.memo(VoiceMessagePlayer);\n\n\n"],"names":["useState","useRef","useEffect","useCallback","jsxs","jsx","Fragment"],"mappings":"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"}
import{r as n,n as e}from"./react-core-DA61mcWm.js";import{ac as z,E as b,u as y,l as r,as as I,aF as w,g as F}from"./icons-vendor-l2qVv93x.js";import"./ui-vendor-BrUQ4r0A.js";import"./editor-vendor-D9c4a6XZ.js";const B=[{label:"30 dakika",value:1800},{label:"1 saat",value:3600},{label:"6 saat",value:21600},{label:"12 saat",value:43200},{label:"1 gün",value:86400},{label:"7 gün",value:604800},{label:"Süresiz",value:0}],M=[{label:"Sınırsız",value:0},{label:"1 kullanım",value:1},{label:"5 kullanım",value:5},{label:"10 kullanım",value:10},{label:"25 kullanım",value:25},{label:"50 kullanım",value:50},{label:"100 kullanım",value:100}],R=({invites:c=[],serverName:g,onCreateInvite:d,onRevokeInvite:h})=>{const[u,x]=n.useState(!1),[o,m]=n.useState(86400),[i,j]=n.useState(0),[v,p]=n.useState(null),k=n.useCallback(()=>{d?.({expiresIn:o,maxUses:i}),x(!1)},[o,i,d]),S=n.useCallback(t=>{const a=`${window.location.origin}/#/invite/${t.code}`;navigator.clipboard.writeText(a),p(t.id),setTimeout(()=>p(null),2e3)},[]),C=t=>{if(!t)return"Süresiz";const a=new Date(t)-new Date;if(a<=0)return"Süresi dolmuş";const s=Math.floor(a/36e5),f=Math.floor(a%36e5/6e4);return s>24?`${Math.floor(s/24)} gün`:s>0?`${s}sa ${f}dk`:`${f}dk`};return e.jsxs("div",{style:l.container,children:[e.jsxs("div",{style:l.header,children:[e.jsxs("div",{children:[e.jsx("h3",{style:l.title,children:"Davet Linkleri"}),e.jsx("span",{style:l.subtitle,children:g})]}),e.jsxs("button",{type:"button",style:l.createBtn,onClick:()=>x(!u),children:[e.jsx(z,{})," Yeni Davet"]})]}),u&&e.jsxs("div",{style:l.createSection,children:[e.jsxs("div",{style:l.createRow,children:[e.jsxs("div",{style:l.createField,children:[e.jsxs("label",{style:l.label,children:[e.jsx(b,{style:{fontSize:10}})," Süre"]}),e.jsx("select",{style:l.select,value:o,onChange:t=>m(Number(t.target.value)),children:B.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{style:l.createField,children:[e.jsxs("label",{style:l.label,children:[e.jsx(y,{style:{fontSize:10}})," Maks Kullanım"]}),e.jsx("select",{style:l.select,value:i,onChange:t=>j(Number(t.target.value)),children:M.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),e.jsxs("button",{type:"button",style:l.generateBtn,onClick:k,children:[e.jsx(r,{})," Davet Oluştur"]})]}),e.jsx("div",{style:l.list,children:c.length===0?e.jsxs("div",{style:l.empty,children:[e.jsx(r,{style:{fontSize:24,color:"#4e5058"}}),e.jsx("span",{children:"Henüz davet yok"})]}):c.map(t=>e.jsxs("div",{style:l.inviteItem,children:[e.jsxs("div",{style:l.inviteInfo,children:[e.jsxs("div",{style:l.inviteCode,children:[e.jsx(r,{style:{fontSize:12,color:"#5865f2"}}),e.jsx("span",{style:l.codeText,children:t.code})]}),e.jsxs("div",{style:l.inviteMeta,children:[e.jsxs("span",{children:[e.jsx(y,{style:{fontSize:10}})," ",t.uses||0,t.maxUses?`/${t.maxUses}`:""," kullanım"]}),e.jsxs("span",{children:[e.jsx(b,{style:{fontSize:10}})," ",C(t.expiresAt)]}),t.createdBy&&e.jsxs("span",{children:["@",t.createdBy]})]})]}),e.jsxs("div",{style:l.inviteActions,children:[e.jsx("button",{type:"button",style:l.actionBtn,onClick:()=>S(t),title:"Kopyala",children:v===t.id?e.jsx(I,{style:{color:"#57f287"}}):e.jsx(w,{})}),e.jsx("button",{type:"button",style:{...l.actionBtn,color:"#ed4245"},onClick:()=>h?.(t.id),title:"İptal Et",children:e.jsx(F,{})})]})]},t.id))})]})},l={container:{padding:16},header:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:16},title:{fontSize:16,fontWeight:700,color:"#f2f3f5",margin:0},subtitle:{fontSize:12,color:"#b5bac1"},createBtn:{display:"flex",alignItems:"center",gap:6,padding:"8px 14px",borderRadius:4,border:"none",backgroundColor:"#5865f2",color:"#fff",fontSize:13,fontWeight:500,cursor:"pointer"},createSection:{padding:14,backgroundColor:"#2b2d31",borderRadius:8,marginBottom:16,display:"flex",flexDirection:"column",gap:12},createRow:{display:"flex",gap:12},createField:{flex:1,display:"flex",flexDirection:"column",gap:4},label:{fontSize:11,fontWeight:700,color:"#b5bac1",textTransform:"uppercase",display:"flex",alignItems:"center",gap:4},select:{backgroundColor:"#1e1f22",border:"none",borderRadius:4,color:"#dcddde",fontSize:13,padding:"8px 10px",outline:"none"},generateBtn:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,padding:"8px",borderRadius:4,border:"none",backgroundColor:"#57f287",color:"#000",fontSize:13,fontWeight:600,cursor:"pointer"},list:{display:"flex",flexDirection:"column",gap:4},empty:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,padding:30,color:"#4e5058",fontSize:14},inviteItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",backgroundColor:"#2b2d31",borderRadius:6,transition:"background 0.1s"},inviteInfo:{flex:1,minWidth:0},inviteCode:{display:"flex",alignItems:"center",gap:6},codeText:{fontSize:14,fontWeight:600,color:"#00a8fc",fontFamily:"monospace"},inviteMeta:{display:"flex",gap:10,fontSize:11,color:"#4e5058",marginTop:4},inviteActions:{display:"flex",gap:4},actionBtn:{width:32,height:32,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",color:"#b5bac1",cursor:"pointer",fontSize:14}},U=n.memo(R);export{U as default};

import{a as j,r as i,n as e}from"./react-core-Cj7FUMmY.js";import{a as k,g as v,br as S,U as C,E as w}from"./icons-vendor-Mc8int3h.js";import"./editor-vendor-D9c4a6XZ.js";const z=({type:o="bookmarks",onClose:n,fetchWithAuth:l,apiBaseUrl:d,onScrollToMessage:c})=>{const[m,x]=i.useState([]),[p,g]=i.useState(!0);i.useEffect(()=>{f()},[o]);const f=async()=>{g(!0);try{let t="";o==="bookmarks"||o==="starred"?t="/messages/favorites/":o==="readlater"&&(t="/messages/readlater/list/");const a=await l(`${d}${t}`);if(a.ok){const r=await a.json();x(r.messages||r.results||[])}}catch{}finally{g(!1)}},b=async t=>{try{let a="";o==="bookmarks"?a="/messages/bookmark/toggle/":o==="starred"?a="/messages/star/toggle/":o==="readlater"&&(a="/messages/readlater/toggle/"),await l(`${d}${a}`,{method:"POST",body:JSON.stringify({message_id:t})}),x(r=>r.filter(y=>y.id!==t))}catch{}},u=()=>o==="bookmarks"?"ðŸ“‘ Bookmarklar":o==="starred"?"â­ YÄ±ldÄ±zlÄ± Mesajlar":o==="readlater"?"ðŸ• Sonra Oku":"Kaydedilen Mesajlar",h=()=>o==="bookmarks"?e.jsx(S,{}):o==="starred"?e.jsx(C,{}):o==="readlater"?e.jsx(w,{}):null;return e.jsx("div",{style:s.overlay,onClick:n,children:e.jsxs("div",{style:s.modal,onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:s.header,children:[e.jsxs("h2",{style:s.title,children:[h()," ",u()]}),e.jsx("button",{onClick:n,style:s.closeButton,children:e.jsx(k,{})})]}),e.jsx("div",{style:s.content,children:p?e.jsx("div",{style:s.loading,children:"YÃ¼kleniyor..."}):m.length===0?e.jsx("div",{style:s.empty,children:"HenÃ¼z kaydedilmiÅŸ mesaj yok"}):e.jsx("div",{style:s.messageList,children:m.map(t=>e.jsxs("div",{style:s.messageItem,children:[e.jsxs("div",{style:s.messageContent,children:[e.jsxs("div",{style:s.messageHeader,children:[e.jsx("span",{style:s.username,children:t.username}),e.jsx("span",{style:s.timestamp,children:new Date(t.timestamp).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:s.messageText,children:[t.content?.substring(0,150),t.content?.length>150&&"..."]}),t.room_name&&e.jsxs("div",{style:s.roomTag,children:["#",t.room_name]})]}),e.jsxs("div",{style:s.actions,children:[e.jsx("button",{onClick:()=>{c&&(c(t.id),n())},style:s.actionButton,title:"Mesaja git",children:"â†’"}),e.jsx("button",{onClick:()=>b(t.id),style:{...s.actionButton,color:"#f04747"},title:"KaldÄ±r",children:e.jsx(v,{})})]})]},t.id))})})]})})},s={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"10px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},messageList:{display:"flex",flexDirection:"column",gap:"10px"},messageItem:{backgroundColor:"#40444b",borderRadius:"4px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"10px"},messageContent:{flex:1},messageHeader:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},username:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},messageText:{color:"#dcddde",fontSize:"0.9em",marginBottom:"5px"},roomTag:{display:"inline-block",backgroundColor:"#5865f2",color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"0.7em",fontWeight:"bold"},actions:{display:"flex",gap:"5px"},actionButton:{background:"none",border:"1px solid #72767d",color:"#b9bbbe",cursor:"pointer",padding:"5px 10px",borderRadius:"4px",fontSize:"0.9em"}},T=j.memo(z);export{T as default};

import{r as a,n as e}from"./react-core-zXIKm1Jm.js";import{a as d}from"./index-D5GkNzM3.js";import{t as m}from"./index-CiRJFVVz.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-BSOZ7IB3.js";import"./router-vendor-ltdGXAv4.js";import"./crypto-vendor-D_AcF0lD.js";import"./icons-vendor-BBdoVeJd.js";import"./state-vendor-8NbFPBhQ.js";function F({user:l}){const[i,h]=a.useState(""),[r,w]=a.useState(0),[N,v]=a.useState([]),[p,o]=a.useState(!1);a.useEffect(()=>{l&&c()},[l]);const c=async()=>{try{const s=await d.get("/api/user/profile/");h(s.data.referral_code||u()),w(s.data.referral_count||0)}catch(s){console.error("Failed to load referral data:",s)}},u=()=>Math.random().toString(36).substring(2,10).toUpperCase(),x=()=>{const s=`https://www.pawscord.com/join/${i}`;navigator.clipboard.writeText(s),o(!0),setTimeout(()=>o(!1),2e3)},j=()=>{const s=`Join me on Pawscord - a privacy-first Discord alternative! üêæ

No tracking. No ads. 100% open source.

Sign up with my link for 3 months free premium:`,f=`https://www.pawscord.com/join/${i}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(s)}&url=${encodeURIComponent(f)}`,"_blank")},t=async()=>{try{const s=await d.post("/api/referral/claim/");m.success(`Reward claimed! You got ${s.data.reward}`),c()}catch(s){m.error(s.response?.data?.error||"Failed to claim reward")}},n=r>=10?"lifetime":r>=5?"6months":r>=1?"1month":"none";return e.jsxs("div",{className:"referral-program",children:[e.jsxs("div",{className:"referral-header",children:[e.jsx("h2",{children:"üéÅ Invite Friends, Get Rewards"}),e.jsx("p",{children:"Share Pawscord and earn free premium for every friend who joins!"})]}),e.jsxs("div",{className:"referral-link-card",children:[e.jsx("label",{children:"Your Referral Link:"}),e.jsxs("div",{className:"link-container",children:[e.jsx("input",{type:"text",value:`https://www.pawscord.com/join/${i}`,readOnly:!0,className:"referral-input"}),e.jsx("button",{onClick:x,className:"copy-btn",children:p?"‚úÖ Copied!":"üìã Copy"})]}),e.jsx("button",{onClick:j,className:"share-btn twitter",children:"üê¶ Share on Twitter"})]}),e.jsxs("div",{className:"referral-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:r}),e.jsx("div",{className:"stat-label",children:"Friends Referred"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:n==="lifetime"?"‚àû":n==="6months"?"6mo":n==="1month"?"1mo":"0"}),e.jsx("div",{className:"stat-label",children:"Premium Earned"})]})]}),e.jsxs("div",{className:"rewards-tiers",children:[e.jsx("h3",{children:"Reward Tiers:"}),e.jsxs("div",{className:"tier-list",children:[e.jsxs("div",{className:`tier-item ${r>=1?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ü•â"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Bronze"}),e.jsx("div",{className:"tier-reward",children:"1 Month Premium"}),e.jsx("div",{className:"tier-requirement",children:"1 Friend"})]}),r>=1&&r<5&&e.jsx("button",{onClick:t,className:"claim-btn",children:"Claim"})]}),e.jsxs("div",{className:`tier-item ${r>=5?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ü•à"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Silver"}),e.jsx("div",{className:"tier-reward",children:"6 Months Premium"}),e.jsx("div",{className:"tier-requirement",children:"5 Friends"})]}),r>=5&&r<10&&e.jsx("button",{onClick:t,className:"claim-btn",children:"Claim"})]}),e.jsxs("div",{className:`tier-item ${r>=10?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ü•á"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Gold"}),e.jsx("div",{className:"tier-reward",children:"Lifetime Premium üöÄ"}),e.jsx("div",{className:"tier-requirement",children:"10 Friends"})]}),r>=10&&e.jsx("button",{onClick:t,className:"claim-btn",children:"Claim"})]})]})]}),e.jsxs("div",{className:"progress-section",children:[e.jsx("h3",{children:"Your Progress:"}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${Math.min(r/10*100,100)}%`},children:e.jsxs("span",{children:[r," / 10"]})})}),e.jsx("p",{className:"progress-hint",children:r>=10?"üéâ You unlocked Lifetime Premium!":r>=5?`${10-r} more friends for Lifetime Premium!`:r>=1?`${5-r} more for 6 Months Premium!`:"Share your link to start earning rewards!"})]}),e.jsxs("div",{className:"how-it-works",children:[e.jsx("h3",{children:"How It Works:"}),e.jsxs("ol",{children:[e.jsx("li",{children:"üì§ Share your unique referral link with friends"}),e.jsx("li",{children:"‚úÖ They sign up using your link"}),e.jsx("li",{children:"üéÅ You automatically earn premium time!"}),e.jsx("li",{children:"üîÅ Keep sharing to unlock more rewards"})]})]}),e.jsxs("div",{className:"social-share",children:[e.jsx("h3",{children:"Share on:"}),e.jsxs("div",{className:"share-buttons",children:[e.jsx("button",{onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=https://www.pawscord.com/join/${i}`,"_blank"),className:"share-btn facebook",children:"üìò Facebook"}),e.jsx("button",{onClick:()=>window.open(`https://www.reddit.com/submit?url=https://www.pawscord.com/join/${i}&title=Check out Pawscord!`,"_blank"),className:"share-btn reddit",children:"ü§ñ Reddit"}),e.jsx("button",{onClick:()=>window.open(`https://wa.me/?text=Join me on Pawscord! https://www.pawscord.com/join/${i}`,"_blank"),className:"share-btn whatsapp",children:"üí¨ WhatsApp"}),e.jsx("button",{onClick:()=>window.open(`https://t.me/share/url?url=https://www.pawscord.com/join/${i}&text=Check out Pawscord!`,"_blank"),className:"share-btn telegram",children:"‚úàÔ∏è Telegram"})]})]})]})}export{F as default};

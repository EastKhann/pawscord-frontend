var k=Object.defineProperty;var n=(c,r)=>k(c,"name",{value:r,configurable:!0});import{r as d,j as a}from"./react-core-Djgtqrmb.js";import{y as m}from"./ui-vendor-IhB9Znpc.js";import{g as y}from"./index-m2zCEI_Z.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./icons-vendor-BW7dxHkX.js";const D=n(({serverId:c,onClose:r})=>{const h=y(),[s,t]=d.useState({enabled:!1,auto_translate:!1,default_language:"tr",allowed_languages:["en","tr","de","fr","es"],react_to_translate:!0,translation_emoji:"ðŸŒ"}),[i,j]=d.useState({total_translations:0,top_languages:[],translations_today:0}),[x,u]=d.useState(!0),g=[{code:"tr",name:"TÃ¼rkÃ§e",flag:"ðŸ‡¹ðŸ‡·"},{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"de",name:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"fr",name:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"es",name:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"it",name:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"pt",name:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"ja",name:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},{code:"zh",name:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"ar",name:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦"},{code:"hi",name:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³"}];d.useEffect(()=>{p(),f()},[c]);const p=n(async()=>{try{const e=await fetch(`${h}/translation/server/${c}/config/`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(e.ok){const l=await e.json();t(l)}}catch{}finally{u(!1)}},"fetchConfig"),f=n(async()=>{try{const e=await fetch(`${h}/translation/server/${c}/stats/`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(e.ok){const l=await e.json();j(l)}}catch{}},"fetchStats"),N=n(async()=>{try{(await fetch(`${h}/translation/server/${c}/config/`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?m.success("âœ… Ã‡eviri ayarlarÄ± kaydedildi"):m.error("âŒ Kaydetme hatasÄ±")}catch{m.error("âŒ BaÄŸlantÄ± hatasÄ±")}},"saveConfig"),v=n(e=>{const l=s.allowed_languages.includes(e)?s.allowed_languages.filter(o=>o!==e):[...s.allowed_languages,e];t({...s,allowed_languages:l})},"toggleLanguage");return a.jsx("div",{className:"translation-overlay",onClick:r,children:a.jsxs("div",{className:"translation-panel",onClick:n(e=>e.stopPropagation(),"onClick"),children:[a.jsxs("div",{className:"translation-header",children:[a.jsx("h2",{children:"ðŸŒ Ã‡eviri Sistemi"}),a.jsx("button",{className:"close-btn",onClick:r,children:"Ã—"})]}),a.jsx("div",{className:"translation-content",children:x?a.jsxs("div",{className:"loading-state",children:[a.jsx("div",{className:"spinner"}),a.jsx("p",{children:"YÃ¼kleniyor..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"stats-section",children:[a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-icon",children:"ðŸŒ"}),a.jsxs("div",{className:"stat-info",children:[a.jsx("h3",{children:i.total_translations}),a.jsx("p",{children:"Toplam Ã‡eviri"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-icon",children:"ðŸ“…"}),a.jsxs("div",{className:"stat-info",children:[a.jsx("h3",{children:i.translations_today}),a.jsx("p",{children:"BugÃ¼n"})]})]}),a.jsxs("div",{className:"stat-card",children:[a.jsx("span",{className:"stat-icon",children:"ðŸ†"}),a.jsxs("div",{className:"stat-info",children:[a.jsx("h3",{children:i.top_languages[0]||"N/A"}),a.jsx("p",{children:"En PopÃ¼ler"})]})]})]}),a.jsxs("div",{className:"config-section",children:[a.jsxs("div",{className:"section-header",children:[a.jsx("h3",{children:"âš™ï¸ Ayarlar"}),a.jsxs("label",{className:"toggle-switch",children:[a.jsx("input",{type:"checkbox",checked:s.enabled,onChange:n(e=>t({...s,enabled:e.target.checked}),"onChange")}),a.jsx("span",{className:"toggle-slider"})]})]}),a.jsxs("div",{className:"config-grid",children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"ðŸŒ VarsayÄ±lan Dil"}),a.jsx("select",{value:s.default_language,onChange:n(e=>t({...s,default_language:e.target.value}),"onChange"),children:g.map(e=>a.jsxs("option",{value:e.code,children:[e.flag," ",e.name]},e.code))})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{children:"ðŸŒ Ã‡eviri Emoji"}),a.jsx("input",{type:"text",value:s.translation_emoji,onChange:n(e=>t({...s,translation_emoji:e.target.value}),"onChange")})]}),a.jsx("div",{className:"form-group",children:a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",checked:s.auto_translate,onChange:n(e=>t({...s,auto_translate:e.target.checked}),"onChange")}),a.jsx("span",{children:"Otomatik Ã§eviri"})]})}),a.jsx("div",{className:"form-group",children:a.jsxs("label",{className:"checkbox-label",children:[a.jsx("input",{type:"checkbox",checked:s.react_to_translate,onChange:n(e=>t({...s,react_to_translate:e.target.checked}),"onChange")}),a.jsx("span",{children:"Emoji ile Ã§evir"})]})})]}),a.jsxs("div",{className:"languages-section",children:[a.jsx("h4",{children:"Ä°zin Verilen Diller"}),a.jsx("div",{className:"languages-grid",children:g.map(e=>a.jsxs("div",{className:`language-card ${s.allowed_languages.includes(e.code)?"active":""}`,onClick:n(()=>v(e.code),"onClick"),children:[a.jsx("span",{className:"language-flag",children:e.flag}),a.jsx("span",{className:"language-name",children:e.name}),s.allowed_languages.includes(e.code)&&a.jsx("span",{className:"check-icon",children:"âœ…"})]},e.code))})]}),a.jsx("button",{className:"save-btn",onClick:N,children:"ðŸ’¾ Kaydet"})]}),i.top_languages.length>0&&a.jsxs("div",{className:"top-languages-section",children:[a.jsx("h3",{children:"ðŸ“Š En Ã‡ok KullanÄ±lan Diller"}),a.jsx("div",{className:"top-languages-list",children:i.top_languages.slice(0,5).map((e,l)=>{const o=g.find(_=>_.code===e.code);return a.jsxs("div",{className:"top-language-item",children:[a.jsx("span",{className:"rank",children:l+1}),a.jsx("span",{className:"flag",children:o?.flag}),a.jsx("span",{className:"name",children:o?.name}),a.jsxs("span",{className:"count",children:[e.count," Ã§eviri"]})]},l)})})]})]})})]})})},"TranslationPanel");export{D as default};

import{r as a,j as r}from"./react-core-D6cE4lil.js";import{a as w,t as l}from"./index-BXSbZAFz.js";import"./media-vendor-Du00QUHb.js";import"./router-vendor-wrB4dqw3.js";import"./state-vendor-DnurjGY_.js";import"./crypto-vendor-Drccqhv1.js";import"./icons-vendor-fClA8qVL.js";import"./ui-vendor-CZOhtEfS.js";const F=[{id:"frames",name:"ðŸ–¼ï¸ Ã‡erÃ§eveler",icon:"ðŸ–¼ï¸"},{id:"badges",name:"ðŸ† Rozetler",icon:"ðŸ†"},{id:"banners",name:"ðŸŽ¨ Banner",icon:"ðŸŽ¨"},{id:"emojis",name:"ðŸ˜Ž Emoji",icon:"ðŸ˜Ž"},{id:"voices",name:"ðŸŽ™ï¸ Ses Efekti",icon:"ðŸŽ™ï¸"},{id:"themes",name:"ðŸŒˆ Tema",icon:"ðŸŒˆ"}],I={common:"#FFFFFF",rare:"#5865F2",epic:"#9B59B6",legendary:"#F1C40F",unique:"#E74C3C"},d=e=>I[e]||"#FFFFFF",$=()=>{const{token:e}=w(),[t,s]=a.useState("frames"),[i,p]=a.useState([]),[b,j]=a.useState([]),[x,g]=a.useState(0),[u,v]=a.useState("free"),[C,h]=a.useState(!0),[S,f]=a.useState(null),c="https://api.pawscord.com";a.useEffect(()=>{k(),z(),m()},[t]);const k=async()=>{try{const o=await(await fetch(`${c}/api/store/coins/balance/`,{headers:{Authorization:`Bearer ${e}`}})).json();g(o.coins),v(o.premium_tier)}catch{}},z=async()=>{h(!0);try{const o=await(await fetch(`${c}/api/store/items/?category=${t}`,{headers:{Authorization:`Bearer ${e}`}})).json();p(o.results||o)}catch{}h(!1)},m=async()=>{try{const o=await(await fetch(`${c}/api/store/inventory/`,{headers:{Authorization:`Bearer ${e}`}})).json();j(o.results||o)}catch{}};return{activeCategory:t,setActiveCategory:s,items:i,userCoins:x,premiumTier:u,loading:C,selectedItem:S,setSelectedItem:f,handlePurchase:async n=>{if(x<n.price){l.error(`âŒ Yetersiz coin! ${n.price} coin gerekli, ${x} coin var.`);return}if(n.premium_required&&u==="free"){l.error(`âŒ ${n.premium_required} Ã¼yelik gerekli!`);return}try{const o=await fetch(`${c}/api/store/items/${n.id}/purchase/`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),y=await o.json();o.ok?(l.success(`âœ… ${n.name} satÄ±n alÄ±ndÄ±!`),g(y.coins_remaining),m(),f(null)):l.error(`âŒ ${y.error||"SatÄ±n alma baÅŸarÄ±sÄ±z"}`)}catch{l.error("âŒ Bir hata oluÅŸtu")}},isOwned:n=>b.some(o=>o.item.item_id===n)}},R=({item:e,isOwned:t,onPurchase:s,onClose:i})=>r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},onClick:i,children:r.jsxs("div",{style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"20px",padding:"40px",maxWidth:"500px",width:"90%",border:`3px solid ${d(e.rarity)}`,boxShadow:`0 0 40px ${d(e.rarity)}60`},onClick:p=>p.stopPropagation(),children:[r.jsx("div",{style:{textAlign:"center",fontSize:"100px",marginBottom:"20px"},children:e.preview_url||"ðŸŽ"}),r.jsx("h2",{style:{margin:"0 0 10px",fontSize:"28px",color:d(e.rarity)},children:e.name}),r.jsx("p",{style:{margin:"0 0 20px",color:"#aaa",fontSize:"16px"},children:e.description}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"30px"},children:[r.jsx("button",{onClick:i,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600},children:"Kapat"}),!t&&r.jsxs("button",{onClick:()=>s(e),style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"12px 32px",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"16px"},children:["Sat","Ä±","n Al (",e.price," ","ðŸ’°",")"]})]})]})}),L=()=>{const e=$();return r.jsxs("div",{style:{width:"100%",minHeight:"100vh",background:"linear-gradient(135deg, #1e1e1e 0%, #2c2c2c 100%)",color:"#fff"},children:[r.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"20px 40px",borderBottom:"2px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsxs("h1",{style:{margin:0,fontSize:"32px",fontWeight:700},children:["ðŸ›’"," Pawscord Ma","ÄŸ","aza"]}),r.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[r.jsxs("div",{style:{background:"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)",padding:"12px 24px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px",fontWeight:700,fontSize:"18px"},children:[r.jsx("span",{children:"ðŸ’°"}),r.jsxs("span",{children:[e.userCoins.toLocaleString()," Coins"]})]}),e.premiumTier!=="free"&&r.jsx("div",{style:{background:e.premiumTier==="elite"?"linear-gradient(135deg, #E74C3C 0%, #C0392B 100%)":"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)",padding:"12px 24px",borderRadius:"12px",fontWeight:700},children:e.premiumTier==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"})]})]}),r.jsx("div",{style:{padding:"30px 40px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:r.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:F.map(t=>r.jsx("button",{onClick:()=>e.setActiveCategory(t.id),style:{background:e.activeCategory===t.id?"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)":"rgba(255,255,255,0.05)",border:e.activeCategory===t.id?"2px solid #5865F2":"1px solid rgba(255,255,255,0.1)",color:"#fff",padding:"12px 24px",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:600,transition:"all 0.3s"},onMouseEnter:s=>{e.activeCategory!==t.id&&(s.target.style.background="rgba(255,255,255,0.1)")},onMouseLeave:s=>{e.activeCategory!==t.id&&(s.target.style.background="rgba(255,255,255,0.05)")},children:t.name},t.id))})}),r.jsx("div",{style:{padding:"40px"},children:e.loading?r.jsxs("div",{style:{textAlign:"center",padding:"60px",fontSize:"20px"},children:["â³"," Y","Ã¼","kleniyor..."]}):e.items.length===0?r.jsxs("div",{style:{textAlign:"center",padding:"60px",fontSize:"18px",color:"#888"},children:["Bu kategoride hen","Ã¼","z ","Ã¶ÄŸ","e yok"]}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px"},children:e.items.map(t=>{const s=e.isOwned(t.item_id);return r.jsxs("div",{onClick:()=>e.setSelectedItem(t),style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"16px",padding:"20px",border:`2px solid ${d(t.rarity)}`,boxShadow:`0 0 20px ${d(t.rarity)}40`,cursor:"pointer",transition:"transform 0.3s",position:"relative"},onMouseEnter:i=>{i.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:i=>{i.currentTarget.style.transform="translateY(0)"},children:[s&&r.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",background:"#43b581",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:["âœ…"," Sahip"]}),t.premium_required&&r.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",background:t.premium_required==="elite"?"#E74C3C":"#5865F2",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:t.premium_required==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"}),r.jsx("div",{style:{height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"80px",marginTop:t.premium_required?"30px":"0"},children:t.preview_url||"ðŸŽ"}),r.jsx("h3",{style:{margin:"16px 0 8px",fontSize:"20px",color:d(t.rarity)},children:t.name}),r.jsx("p",{style:{margin:"0 0 16px",fontSize:"14px",color:"#aaa",minHeight:"40px"},children:t.description}),r.jsx("div",{style:{fontSize:"12px",color:d(t.rarity),fontWeight:700,textTransform:"uppercase",marginBottom:"12px"},children:t.rarity}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("div",{style:{fontSize:"24px",fontWeight:700,color:"#F1C40F"},children:t.price===0?"ÃœCRETSIZ":`${t.price} ðŸ’°`}),!s&&r.jsxs("button",{onClick:i=>{i.stopPropagation(),e.handlePurchase(t)},style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",fontWeight:700,cursor:"pointer",fontSize:"14px"},onMouseEnter:i=>{i.target.style.transform="scale(1.05)"},onMouseLeave:i=>{i.target.style.transform="scale(1)"},children:["Sat","Ä±","n Al"]})]})]},t.id)})})}),e.selectedItem&&r.jsx(R,{item:e.selectedItem,isOwned:e.isOwned(e.selectedItem.item_id),onPurchase:e.handlePurchase,onClose:()=>e.setSelectedItem(null)})]})};export{L as default};

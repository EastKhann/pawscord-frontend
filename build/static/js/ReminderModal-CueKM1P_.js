import{r as d,x as f,l as R}from"./react-core-B6hadH-M.js";import{t as l}from"./index-D_6pZib5.js";const k=({messageId:m,messageContent:i,onClose:s,fetchWithAuth:b,apiBaseUrl:g})=>{const[r,a]=d.useState(""),[u,y]=d.useState(""),[n,p]=d.useState(!1),x=async()=>{if(!r){l.error("❌ Lütfen bir tarih seçin");return}p(!0);try{const t=await b(`${g}/reminders/create/`,{method:"POST",body:JSON.stringify({message_id:m,reminder_time:r,note:u||i?.substring(0,100)})});if(t.ok)l.success("✅ Hatırlatıcı oluşturuldu!"),s();else{const o=await t.json();l.error("❌ Hata: "+(o.error||"Bilinmeyen hata"))}}catch(t){console.error("Reminder error:",t),l.error("❌ Hatırlatıcı oluşturulamadı")}finally{p(!1)}},c=t=>{const o=new Date;return o.setHours(o.getHours()+t),o.toISOString().slice(0,16)};return React.createElement("div",{style:e.overlay,onClick:s},React.createElement("div",{style:e.modal,onClick:t=>t.stopPropagation()},React.createElement("div",{style:e.header},React.createElement("h3",{style:e.title},React.createElement(f,null)," Hatırlatıcı Kur"),React.createElement("button",{onClick:s,style:e.closeButton},React.createElement(R,null))),React.createElement("div",{style:e.content},React.createElement("div",{style:e.messagePreview},i?.substring(0,150),i?.length>150&&"..."),React.createElement("div",{style:e.presets},React.createElement("button",{onClick:()=>a(c(1)),style:e.presetButton},"1 saat sonra"),React.createElement("button",{onClick:()=>a(c(3)),style:e.presetButton},"3 saat sonra"),React.createElement("button",{onClick:()=>a(c(24)),style:e.presetButton},"Yarın")),React.createElement("div",{style:e.inputGroup},React.createElement("label",{style:e.label},"Tarih ve Saat"),React.createElement("input",{type:"datetime-local",value:r,onChange:t=>a(t.target.value),style:e.input})),React.createElement("div",{style:e.inputGroup},React.createElement("label",{style:e.label},"Not (Opsiyonel)"),React.createElement("input",{type:"text",value:u,onChange:t=>y(t.target.value),placeholder:"Hatırlatıcı için not ekle...",style:e.input})),React.createElement("button",{onClick:x,disabled:n||!r,style:{...e.createButton,opacity:n||!r?.5:1,cursor:n||!r?"not-allowed":"pointer"}},n?"Oluşturuluyor...":"✅ Hatırlatıcı Oluştur"))))},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"500px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.3em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.3em",padding:"5px"},content:{padding:"20px"},messagePreview:{backgroundColor:"#40444b",padding:"12px",borderRadius:"4px",color:"#dcddde",fontSize:"0.9em",marginBottom:"15px",borderLeft:"3px solid #5865f2"},presets:{display:"flex",gap:"8px",marginBottom:"15px"},presetButton:{flex:1,padding:"8px",backgroundColor:"#40444b",border:"1px solid #5865f2",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"0.85em"},inputGroup:{marginBottom:"15px"},label:{display:"block",color:"#b9bbbe",fontSize:"0.85em",marginBottom:"5px",fontWeight:"bold"},input:{width:"100%",padding:"10px",backgroundColor:"#40444b",border:"1px solid #5865f2",borderRadius:"4px",color:"white",fontSize:"1em"},createButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",fontSize:"1em"}};export{k as default};

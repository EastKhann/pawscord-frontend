import{f as a,r as s,w as y,l as g,aD as S,aC as k}from"./react-core-B6hadH-M.js";const D=({onClose:u,onNavigate:v,channels:m=[],users:p=[],conversations:i=[]})=>{const[n,d]=s.useState(""),[o,c]=s.useState(0),h=s.useRef(null);s.useEffect(()=>{h.current?.focus()},[]);const w=(e,t)=>{if(!e||!t)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),e.includes(t))return!0;let r=0;for(let E=0;E<e.length&&r<t.length;E++)e[E]===t[r]&&r++;return r===t.length},l=s.useMemo(()=>n.trim()?[...m.map(t=>({type:"channel",...t,searchText:t.name})),...p.map(t=>({type:"user",...t,searchText:t.username})),...i.map(t=>({type:"dm",...t,searchText:t.target_user}))].filter(t=>w(t.searchText,n)).slice(0,10):[...m.slice(0,5).map(t=>({type:"channel",...t})),...p.slice(0,5).map(t=>({type:"user",...t})),...i.slice(0,5).map(t=>({type:"dm",...t}))].slice(0,10),[n,m,p,i]),N=e=>{e.key==="ArrowDown"?(e.preventDefault(),c(t=>(t+1)%l.length)):e.key==="ArrowUp"?(e.preventDefault(),c(t=>(t-1+l.length)%l.length)):e.key==="Enter"&&l[o]?(e.preventDefault(),f(l[o])):e.key==="Escape"&&u()},f=e=>{v(e),u()};return a.createElement("div",{className:"quick-switcher-overlay",onClick:u},a.createElement("div",{className:"quick-switcher-panel",onClick:e=>e.stopPropagation()},a.createElement("div",{className:"quick-switcher-search"},a.createElement(y,{className:"search-icon"}),a.createElement("input",{ref:h,type:"text",placeholder:"Kanal veya kullanıcı ara... (Ctrl+K)",value:n,onChange:e=>{d(e.target.value),c(0)},onKeyDown:N,className:"search-input"}),n&&a.createElement("button",{className:"clear-btn",onClick:()=>d("")},a.createElement(g,null))),a.createElement("div",{className:"quick-switcher-results"},l.length>0?l.map((e,t)=>a.createElement("div",{key:`${e.type}-${e.id||e.username}`,className:`quick-result-item ${t===o?"selected":""}`,onClick:()=>f(e),onMouseEnter:()=>c(t)},a.createElement("div",{className:"result-icon"},e.type==="channel"&&a.createElement(S,null),e.type==="user"&&a.createElement(k,null),e.type==="dm"&&a.createElement(k,null)),a.createElement("div",{className:"result-content"},a.createElement("div",{className:"result-name"},e.type==="channel"&&e.name,e.type==="user"&&e.username,e.type==="dm"&&e.target_user),a.createElement("div",{className:"result-type"},e.type==="channel"&&"Kanal",e.type==="user"&&"Kullanıcı",e.type==="dm"&&"Direkt Mesaj")))):a.createElement("div",{className:"no-results"},a.createElement(y,{size:32}),a.createElement("p",null,"Sonuç bulunamadı"))),a.createElement("div",{className:"quick-switcher-footer"},a.createElement("div",{className:"shortcut-hints"},a.createElement("span",null,a.createElement("kbd",null,"↑↓")," Gezin"),a.createElement("span",null,a.createElement("kbd",null,"Enter")," Seç"),a.createElement("span",null,a.createElement("kbd",null,"Esc")," Kapat")))))},K=a.memo(D);export{K as default};

var B=Object.defineProperty;var s=(i,d)=>B(i,"name",{value:d,configurable:!0});import{r as a,j as e}from"./react-core-Djgtqrmb.js";import{ap as F,a as P,a9 as z,an as R}from"./icons-vendor-BW7dxHkX.js";import{t as c}from"./index-BRQzOq3v.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const I=s(({fetchWithAuth:i,apiBaseUrl:d,serverId:p,onClose:m})=>{const[O,y]=a.useState([]),[h,u]=a.useState(null),[l,n]=a.useState({name:"",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"}),[$,x]=a.useState(!0),g=a.useCallback(r=>r.stopPropagation(),[]),b=a.useCallback(r=>n(t=>({...t,name:r.target.value})),[]),_=a.useCallback(r=>n(t=>({...t,primary_color:r.target.value})),[]),v=a.useCallback(r=>n(t=>({...t,secondary_color:r.target.value})),[]),j=a.useCallback(r=>n(t=>({...t,background_color:r.target.value})),[]),C=a.useCallback(r=>n(t=>({...t,text_color:r.target.value})),[]),k=a.useCallback(r=>n(t=>({...t,accent_color:r.target.value})),[]),T=[{name:"Discord Classic",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"},{name:"Dark Purple",primary_color:"#7289da",secondary_color:"#2c2f33",background_color:"#23272a",text_color:"#ffffff",accent_color:"#99aab5"},{name:"Ocean Blue",primary_color:"#4a9eff",secondary_color:"#1a3a52",background_color:"#0d2137",text_color:"#e3f2fd",accent_color:"#00bcd4"},{name:"Forest Green",primary_color:"#4caf50",secondary_color:"#1b5e20",background_color:"#0d3b0d",text_color:"#e8f5e9",accent_color:"#8bc34a"},{name:"Sunset Orange",primary_color:"#ff9800",secondary_color:"#e65100",background_color:"#3e2723",text_color:"#fff3e0",accent_color:"#ffb74d"},{name:"Midnight Black",primary_color:"#424242",secondary_color:"#212121",background_color:"#000000",text_color:"#e0e0e0",accent_color:"#757575"}];a.useEffect(()=>{f()},[]);const f=s(async()=>{try{x(!0);const r=await i(`${d}/servers/${p}/themes/`);if(r.ok){const t=await r.json();y(t.themes||[]),u(t.active_theme)}}catch{}finally{x(!1)}},"loadThemes"),S=s(async r=>{try{(await i(`${d}/servers/${p}/theme/apply/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?(c.success("Tema uygulandı"),u(r)):c.error("Tema uygulanamadı")}catch{c.error("Bir hata oluştu")}},"applyTheme"),w=s(async()=>{if(!l.name.trim()){c.error("Tema adı girin");return}try{(await i(`${d}/servers/${p}/theme/save/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok?(c.success("Özel tema kaydedildi"),f(),n({name:"",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"})):c.error("Tema kaydedilemedi")}catch{c.error("Bir hata oluştu")}},"saveCustomTheme");return e.jsx("div",{style:o.overlay,onClick:m,children:e.jsxs("div",{style:o.modal,onClick:g,children:[e.jsxs("div",{style:o.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(F,{style:{color:"#5865f2"}}),e.jsx("h2",{style:{margin:0},children:"Sunucu Temaları"})]}),e.jsx(P,{onClick:m,style:o.closeBtn})]}),e.jsxs("div",{style:o.content,children:[e.jsxs("section",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"Hazır Temalar"}),e.jsx("div",{style:o.themeGrid,children:T.map((r,t)=>e.jsxs("div",{style:o.themeCard,onClick:s(()=>S(r),"onClick"),children:[e.jsxs("div",{style:o.themePreview,children:[e.jsx("div",{style:{...o.colorStrip,backgroundColor:r.background_color}}),e.jsx("div",{style:{...o.colorStrip,backgroundColor:r.secondary_color}}),e.jsx("div",{style:{...o.colorStrip,backgroundColor:r.primary_color}}),e.jsx("div",{style:{...o.colorStrip,backgroundColor:r.accent_color}})]}),e.jsx("div",{style:o.themeName,children:r.name}),h?.name===r.name&&e.jsx(z,{style:o.activeCheck})]},t))})]}),e.jsxs("section",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"Özel Tema Oluştur"}),e.jsxs("div",{style:o.customForm,children:[e.jsx("input",{type:"text",placeholder:"Tema Adı",value:l.name,onChange:b,style:o.input}),e.jsxs("div",{style:o.colorGrid,children:[e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"Ana Renk"}),e.jsx("input",{type:"color",value:l.primary_color,onChange:_,style:o.colorInput})]}),e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"İkinci Renk"}),e.jsx("input",{type:"color",value:l.secondary_color,onChange:v,style:o.colorInput})]}),e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"Arkaplan"}),e.jsx("input",{type:"color",value:l.background_color,onChange:j,style:o.colorInput})]}),e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"Metin"}),e.jsx("input",{type:"color",value:l.text_color,onChange:C,style:o.colorInput})]}),e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"Vurgu"}),e.jsx("input",{type:"color",value:l.accent_color,onChange:k,style:o.colorInput})]})]}),e.jsxs("button",{onClick:w,style:o.saveBtn,children:[e.jsx(R,{})," Temayı Kaydet"]})]})]})]})]})})},"ServerThemesPanel"),o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},section:{marginBottom:"30px"},sectionTitle:{color:"#dcddde",fontSize:"18px",fontWeight:"600",marginBottom:"15px"},themeGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px"},themeCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"15px",cursor:"pointer",position:"relative",transition:"transform 0.2s"},themePreview:{display:"flex",height:"60px",borderRadius:"4px",overflow:"hidden",marginBottom:"10px"},colorStrip:{flex:1},themeName:{textAlign:"center",fontSize:"14px",fontWeight:"500"},activeCheck:{position:"absolute",top:"10px",right:"10px",color:"#43b581",fontSize:"20px"},customForm:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"20px"},input:{width:"100%",padding:"10px",backgroundColor:"#1e1e1e",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",marginBottom:"15px"},colorGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"15px",marginBottom:"15px"},colorField:{display:"flex",flexDirection:"column",gap:"8px"},colorInput:{width:"100%",height:"50px",border:"none",borderRadius:"4px",cursor:"pointer"},saveBtn:{width:"100%",backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},K=a.memo(I);export{K as default};

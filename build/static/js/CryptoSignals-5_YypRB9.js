import{r as a,j as e}from"./react-vendor-D8Fi5F9E.js";import{P as h,y as _,G as R,x as k}from"./icons-vendor-BPCemF_6.js";import{L}from"./router-vendor-CTPwQFnc.js";const T=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://127.0.0.1:8888":"https://api.pawscord.com",z=`${T}/api/crypto/signals/`,O=()=>{const[s,m]=a.useState(null),[d,x]=a.useState(null),[f,b]=a.useState(!0),[g,y]=a.useState(null),[c,u]=a.useState(!0),j=t=>({rank:"Sƒ±ra",coin:"Coin",timeframe:"Zaman",signal:"Sinyal",pozisyon_yonu:"Pozisyon",sinyal_yonu:"Yeni Sinyal",yon_uyumu:"Durum",ters_sinyal:"Ters?",entry_price:"Giri≈ü",current_price:"≈ûu An",pnl_percent:"Kar/Zarar %",bars_ago:"Bar",days_ago:"G√ºn",trades:"ƒ∞≈ülem",win_rate:"Ba≈üarƒ± %",x_kat:"X Kat",hedef_roe:"Hedef ROE",status:"Durum"})[t]||t,S=(t,n)=>{if(n==null)return"-";if(t==="ters_sinyal")return null;if(t==="pozisyon_yonu")return e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",backgroundColor:n==="LONG"?"#23a55922":"#ed424222",color:n==="LONG"?"#23a559":"#ed4245"},children:n==="LONG"?"üìà LONG":"üìâ SHORT"});if(t==="sinyal_yonu"||t==="signal")return e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",backgroundColor:n==="LONG"?"#5865f222":"#faa61a22",color:n==="LONG"?"#5865f2":"#faa61a"},children:n==="LONG"?"‚¨ÜÔ∏è LONG":"‚¨áÔ∏è SHORT"});if(t==="yon_uyumu"){const r=n.includes("AYNI");return e.jsx("span",{style:{padding:"6px 12px",borderRadius:"6px",fontWeight:"bold",fontSize:"0.95em",backgroundColor:r?"#23a55933":"#ed424233",color:r?"#23a559":"#ed4245",border:`2px solid ${r?"#23a559":"#ed4245"}`},children:n})}if(t==="status"){const r=n.includes("KAR"),l=n.includes("TERS");return e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",backgroundColor:l?"#faa61a22":r?"#23a55922":"#ed424222",color:l?"#faa61a":r?"#23a559":"#ed4245"},children:n})}if(t==="pnl_percent"){const r=String(n).includes("+");return e.jsx("span",{style:{fontWeight:"bold",color:r?"#23a559":"#ed4245"},children:n})}return t==="coin"?e.jsx("span",{style:{fontWeight:"bold",color:"#f0b232"},children:n}):String(n)},p=async()=>{try{s||b(!0);const n=await(await fetch(`${z}?t=${Date.now()}`)).json();if(m(n),y(new Date(n.meta.export_time)),!d&&n.tabs){const r=Object.keys(n.tabs)[0];x(r)}}catch(t){console.error("Signal y√ºkleme hatasƒ±:",t)}finally{b(!1)}};if(a.useEffect(()=>{p()},[]),a.useEffect(()=>{if(!c)return;const t=setInterval(()=>{p()},3e4);return()=>clearInterval(t)},[c]),f&&!s)return e.jsx("div",{style:o.container,children:e.jsxs("div",{style:o.loadingContainer,children:[e.jsx(h,{className:"spin",size:40,color:"#f0b232"}),e.jsx("p",{children:"Sinyaller y√ºkleniyor..."})]})});const i=s?.tabs?.[d];return e.jsxs("div",{style:o.container,children:[e.jsxs("div",{style:o.header,children:[e.jsxs("div",{style:o.headerLeft,children:[e.jsxs(L,{to:"/",style:o.backButton,children:[e.jsx(_,{})," Ana Men√º"]}),e.jsxs("h1",{style:o.title,children:[e.jsx(R,{style:{color:"#f0b232",marginRight:"10px"}}),"Kripto Sinyaller"]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[g&&e.jsxs("div",{style:o.updateTime,children:[e.jsx(k,{})," ",g.toLocaleTimeString("tr-TR")]}),e.jsxs("label",{style:o.autoRefreshLabel,children:[e.jsx("input",{type:"checkbox",checked:c,onChange:t=>u(t.target.checked),style:{marginRight:"5px"}}),"Otomatik Yenile"]}),e.jsxs("button",{onClick:p,style:o.refreshButton,children:[e.jsx(h,{className:f?"spin":""})," Yenile"]})]})]}),s?.meta&&e.jsxs("div",{style:o.metaBar,children:[e.jsxs("div",{style:o.metaItem,children:[e.jsx("strong",{children:"Toplam Strateji:"})," ",s.meta.total_strategies]}),s.meta.position_coins?.length>0&&e.jsxs("div",{style:o.metaItem,children:[e.jsx("strong",{children:"Pozisyondaki Coinler:"})," ",e.jsx("span",{style:{color:"#23a559"},children:s.meta.position_coins.join(", ")})]}),e.jsxs("div",{style:o.metaItem,children:[e.jsx("strong",{children:"Versiyon:"})," ",s.meta.version]})]}),s?.tabs&&e.jsx("div",{style:o.tabsContainer,children:Object.entries(s.tabs).map(([t,n])=>e.jsxs("button",{onClick:()=>x(t),style:{...o.tab,...d===t?o.activeTab:{}},children:[e.jsx("div",{style:o.tabTitle,children:n.title}),e.jsx("div",{style:o.tabDesc,children:n.description}),e.jsxs("div",{style:o.tabCount,children:[n.count," kayƒ±t"]})]},t))}),i&&e.jsxs("div",{style:o.content,children:[e.jsx("h2",{style:o.contentTitle,children:i.title}),e.jsx("p",{style:o.contentDesc,children:i.description}),i.data?.length>0&&e.jsx("div",{style:o.tableContainer,children:e.jsxs("table",{style:o.table,children:[e.jsx("thead",{children:e.jsx("tr",{children:Object.keys(i.data[0]).filter(t=>t!=="ters_sinyal").map(t=>e.jsx("th",{style:o.th,children:j(t)},t))})}),e.jsx("tbody",{children:i.data.map((t,n)=>e.jsx("tr",{style:o.tr,children:Object.entries(t).filter(([r])=>r!=="ters_sinyal").map(([r,l],C)=>e.jsx("td",{style:o.td,children:S(r,l)},C))},n))})]})}),(!i.data||i.data.length===0)&&e.jsx("div",{style:o.emptyState,children:e.jsx("p",{children:"Bu sekmede hen√ºz veri yok"})})]})]})},o={container:{backgroundColor:"#1e1f22",minHeight:"100vh",color:"#dcddde",padding:"20px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",gap:"20px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},headerLeft:{display:"flex",alignItems:"center",gap:"15px"},backButton:{textDecoration:"none",color:"#949ba4",fontSize:"0.9em",display:"flex",alignItems:"center",gap:"5px"},title:{margin:0,fontSize:"1.8em",display:"flex",alignItems:"center"},updateTime:{fontSize:"0.85em",color:"#949ba4",display:"flex",alignItems:"center",gap:"5px"},autoRefreshLabel:{fontSize:"0.85em",color:"#dcddde",display:"flex",alignItems:"center",cursor:"pointer"},refreshButton:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},metaBar:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",flexWrap:"wrap",gap:"20px",border:"1px solid #1f2023"},metaItem:{fontSize:"0.9em",color:"#b9bbbe"},tabsContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"15px",marginBottom:"20px"},tab:{backgroundColor:"#2b2d31",border:"1px solid #1f2023",borderRadius:"8px",padding:"15px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},activeTab:{backgroundColor:"#5865f2",borderColor:"#5865f2",boxShadow:"0 4px 12px rgba(88, 101, 242, 0.4)"},tabTitle:{fontSize:"1em",fontWeight:"bold",marginBottom:"5px",color:"#fff"},tabDesc:{fontSize:"0.8em",color:"#b9bbbe",marginBottom:"8px"},tabCount:{fontSize:"0.75em",color:"#f0b232",fontWeight:"bold"},content:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",border:"1px solid #1f2023"},contentTitle:{margin:"0 0 10px 0",color:"#fff",fontSize:"1.5em"},contentDesc:{margin:"0 0 20px 0",color:"#b9bbbe"},tableContainer:{overflowX:"auto",borderRadius:"6px",border:"1px solid #1f2023"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.85em"},th:{backgroundColor:"#202225",color:"#fff",padding:"12px",textAlign:"left",borderBottom:"2px solid #f0b232",fontWeight:"bold",position:"sticky",top:0,zIndex:1},tr:{borderBottom:"1px solid #1f2023"},td:{padding:"10px 12px",color:"#dcddde"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#949ba4",fontSize:"1.1em"}};export{O as default};

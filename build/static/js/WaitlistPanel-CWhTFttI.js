import{r as o,K as b,l as E,A as v,V as C}from"./react-core-B6hadH-M.js";import{t as a}from"./index-D_6pZib5.js";const w=({fetchWithAuth:n,apiBaseUrl:l,onClose:p,serverId:f})=>{const[s,m]=o.useState([]),[x,d]=o.useState(!1),[i,g]=o.useState("");o.useEffect(()=>{c()},[]);const c=async()=>{d(!0);try{const r=await(await n(`${l}/servers/${f}/waitlist/`)).json();m(r.entries||[]),g(r.referral_code||"")}catch{a.error("Failed to load waitlist")}finally{d(!1)}},y=async t=>{try{await n(`${l}/waitlist/${t}/approve/`,{method:"POST"}),a.success("Waitlist entry approved"),c()}catch{a.error("Failed to approve entry")}},u=async t=>{try{await n(`${l}/waitlist/${t}/reject/`,{method:"POST"}),a.success("Waitlist entry rejected"),c()}catch{a.error("Failed to reject entry")}},R=()=>{navigator.clipboard.writeText(i),a.success("Referral code copied to clipboard")};return React.createElement("div",{style:e.overlay},React.createElement("div",{style:e.modal},React.createElement("div",{style:e.header},React.createElement("div",{style:e.headerLeft},React.createElement(b,{style:{marginRight:"10px",color:"#5865f2"}}),React.createElement("h2",{style:e.title},"Server Waitlist")),React.createElement("button",{onClick:p,style:e.closeButton},React.createElement(E,null))),i&&React.createElement("div",{style:e.referralSection},React.createElement("div",{style:e.referralLabel},"Your Referral Code"),React.createElement("div",{style:e.referralCode},React.createElement("code",null,i),React.createElement("button",{onClick:R,style:e.copyButton},React.createElement(v,null))),React.createElement("div",{style:e.referralHint},"Share this code with others to move up in the waitlist")),React.createElement("div",{style:e.content},x?React.createElement("div",{style:e.loading},"Loading waitlist..."):s.length===0?React.createElement("div",{style:e.empty},"No waitlist entries"):React.createElement("div",{style:e.entriesList},s.map((t,r)=>React.createElement("div",{key:r,style:e.entryCard},React.createElement("div",{style:e.entryInfo},React.createElement("div",{style:e.entryHeader},React.createElement("span",{style:e.entryPosition},"#",t.position),React.createElement("span",{style:e.entryEmail},t.email)),React.createElement("div",{style:e.entryMeta},React.createElement("span",null,"Joined: ",new Date(t.created_at).toLocaleDateString()),t.referrals_count>0&&React.createElement(React.Fragment,null,React.createElement("span",null," â€¢ "),React.createElement("span",{style:e.referralsCount},t.referrals_count," referral",t.referrals_count!==1?"s":""))),t.status==="approved"&&React.createElement("div",{style:e.approvedBadge},React.createElement(C,null)," Approved"),t.status==="rejected"&&React.createElement("div",{style:e.rejectedBadge},"Rejected")),t.status==="pending"&&React.createElement("div",{style:e.entryActions},React.createElement("button",{onClick:()=>y(t.id),style:e.approveButton},"Approve"),React.createElement("button",{onClick:()=>u(t.id),style:e.rejectButton},"Reject"))))))))},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},referralSection:{padding:"20px",borderBottom:"1px solid #2c2f33",backgroundColor:"#2c2f33"},referralLabel:{fontSize:"13px",color:"#dcddde",marginBottom:"8px"},referralCode:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},copyButton:{padding:"8px 12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"14px"},referralHint:{fontSize:"12px",color:"#99aab5",fontStyle:"italic"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},entriesList:{display:"flex",flexDirection:"column",gap:"12px"},entryCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},entryInfo:{flex:1},entryHeader:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},entryPosition:{fontSize:"16px",fontWeight:"700",color:"#5865f2"},entryEmail:{fontSize:"14px",color:"#ffffff"},entryMeta:{fontSize:"12px",color:"#99aab5",marginBottom:"8px"},referralsCount:{color:"#43b581",fontWeight:"600"},approvedBadge:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",backgroundColor:"#43b581",borderRadius:"4px",fontSize:"12px",color:"#ffffff",fontWeight:"600"},rejectedBadge:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",backgroundColor:"#f04747",borderRadius:"4px",fontSize:"12px",color:"#ffffff",fontWeight:"600"},entryActions:{display:"flex",gap:"8px"},approveButton:{padding:"8px 16px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"13px",fontWeight:"600"},rejectButton:{padding:"8px 16px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"13px",fontWeight:"600"}};export{w as default};

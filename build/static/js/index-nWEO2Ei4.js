const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./web-BUJoUgsL.js","./react-core-CecKX_Gm.js","../css/react-core-Dj12pvTl.css","./ServerSettingsModal-Cr8_z9AR.js","./AutoResponderManager-BemmJT5P.js","./VanityURLManager-BwBHoF9_.js","./UserProfileModal-CzpQr02N.js","./ImageModal-BJpTthaE.js","./GifPicker-CCGP1uc1.js","./StickerPicker-DCqF42bs.js","./SoundboardModal-DPLwKIj2.js","./WatchPartyEnhanced-BXSjrO7u.js","./CinemaModal-OD9Scxif.js","./WhiteboardModal-DA4r1gTh.js","./PollCreateModal-Vuxuqi1X.js","./CodeSnippetModal-CrTjAOSh.js","./MessageTemplateModal-D-EFv1ZE.js","./Message-DlVmBzAW.js","./LazyImage-gZTEJuJi.js","./imageCaching-Cv_j6oOo.js","./VirtualMessageList-CUP8LK7w.js","./MessageInput-C_OH5FJq.js","./ScheduledMessageModal-0s1ZeUWi.js","../css/MessageInput-DSbUeC-P.css","./UserVideoContainer-BNPuRsWh.js","./VoiceAudioController-BQ6IxFAq.js","./RichTextEditor-BDnzOLxG.js","./tiptap-BsuMBQ5A.js","./recharts-CXMG46XX.js","../css/RichTextEditor-D3gjYEEz.css","./StickyMessageBanner-B1e3coUm.js","./LoginPage-BS5l-7SH.js","./recaptcha-tighCRGb.js","./WelcomeScreen-DvrM3tMC.js","./DownloadModal-B7a5Oik7.js","./apiEndpoints-DTuZVK56.js","./AvatarCropper-BtC-_poD.js","../css/AvatarCropper-CvJ6GDdV.css","./CryptoChartModal-vdP09Jbc.js","./CryptoStoreModal-DOcaldgJ.js","./PremiumStoreModal-BKeUrjOD.js","./KanbanBoard-D5b1E6Aj.js","./SummaryModal-Kmv7wy9l.js","./DJModal-B0y0iBGs.js","./ThemeStoreModal-DsAXyg96.js","./EncryptionKeyModal-DE3jyvi2.js","./CreateGroupModal-FhDP3jwe.js","./AdminAnalyticsPanel-CYkgU3zJ.js","./AdminPanelModal-BwQ1Xvhi.js","./WebhooksPanel-CFYxITml.js","../css/WebhooksPanel-Cn13v79_.css","./AutoModerationDashboard-DT6OivCj.js","./AutoModerationPanel-CGtuoGU2.js","../css/AutoModerationPanel-iAw0CZQU.css","./RaidProtectionPanel-C_3398P2.js","./ReportSystemPanel-BlHnVZks.js","./AuditLogPanel-Dgm74XC7.js","./UserWarningsPanel-Cw7lpt2y.js","./BookmarkPanel-DrE00BmO.js","./ReadLaterPanel-CfhNKrcG.js","../css/ReadLaterPanel-B_WZGTiX.css","./ChannelPermissionsPanel-TWQAPN9v.js","./MessageThreadsPanel-B5AkitpX.js","./ModeratorNotesPanel-Cq3RVj-E.js","./ServerRolesPanel--bL0alEb.js","./NotificationPreferencesPanel-BnkW1dvB.js","./MessageOCRPanel-Diyg-IT6.js","./MassActionsPanel-BmLAtFqq.js","./TimeoutMutePanel-9jz2ngLZ.js","./ServerThemesPanel-dF-1wU3U.js","./KeywordMutesPanel-Bw65zy1N.js","./WelcomeTemplatesPanel-d-RGcs_a.js","./StickyMessagesPanel-HkUsU6lG.js","./MessageTemplatesPanel-CfAX7XUp.js","./MessageExportPanel-CD9ik3vL.js","./ArchivedRoomsPanel-CD5UOjjj.js","./SlowModePanel-B6q6PXoK.js","./EmojiManagementPanel-LYkBPw5R.js","./ReactionAnalyticsPanel-B2qs49KL.js","./LinkClickTrackingPanel-DxsYZk4Q.js","./JoinLeaveLogsPanel-CoiwbTFZ.js","./UserActivityPanel-CKAR5ITH.js","./NicknameHistoryPanel-E9YaLg1d.js","./FieldChangeTrackingPanel-CVXgTf0R.js","./InviteAnalyticsPanel-RoBDxsh2.js","./ContentScannerPanel-WwqPOyG4.js","./EphemeralMessagesPanel-BGjBZFdY.js","./TopicHistoryPanel-sSBGdW8p.js","./DraftsPanel-BBgw6ENV.js","./ServerNicknamesPanel-BvGj4OoB.js","./ServerBoostPanel-nHFThdTA.js","./RoomWebhooksPanel-BjmMzbR6.js","./OAuthAppsPanel-B58JGImE.js","./VanityURLPanel-Ds_wRk9q.js","./AutoRespondersPanel-DFxZM8Fj.js","./SessionManagementPanel-CJbnTrUS.js","./GDPRExportPanel-s0cQJMdG.js","./DataRetentionPanel-Afqm5SlU.js","./TwoFactorSetupWizard-BSGzsV_j.js","./EnhancedPollsPanel-CTIVUMHx.js","./VoiceTranscriptsPanel-Cq_mBtJu.js","./PaymentPanel-4UZgI-79.js","./StoreModal-CoyI1XLY.js","./DailyRewardsModal-Vs8F2Mlq.js","./APIUsagePanel-BsERCVtm.js","./ExportJobsPanel-BD_Pf9WA.js","./ScheduledAnnouncementsPanel-0HCl78If.js","./InviteExportPanel-BU9p0Rjr.js","./AdvancedSearchPanel-BtxMW7u6.js","./GrowthMetricsPanel-BzVMaiyf.js","./LinkPreviewRenderer-DKqfetXM.js","./InventoryPanel-B7eJh7me.js","./WaitlistPanel-CLbVwxLZ.js","./ReferralRewardsPanel-Myz6Mimb.js","./VerifyEmailPage-RBlIf0uV.js","./ForgotPasswordPage-B9w2m-d6.js","./ResetPasswordPage-BBffqbYh.js","./TwoFactorLoginPage-2EHyMX-U.js","./TwoFactorSetup-BJ32agZk.js","../css/TwoFactorSetup-CtmcmlFU.css","./TwoFactorLogin-CKGM298_.js","../css/TwoFactorLogin-DgREC4Q6.css","./VanityInviteScreen-D3T51Zpl.js","./EmailVerification-CiUlssxc.js","../css/EmailVerification-CE2S-15C.css","./MobileNav-BHCjEBQq.js","../css/MobileNav-BLwPGkd1.css","./SwipeActions-BWArniua.js","../css/SwipeActions-CCPpS4d3.css","./VoiceMessage-Bzlo_FDl.js","../css/VoiceMessage-Czmu0SFR.css","./FriendsTab-BxO-q31D.js","./RoomList-DcLAqG-o.js","./UserFooter-BnjoGwnr.js","./UserProfilePanel-DUwf6WiZ.js","./index-B9ygI19o.js","../css/UserProfilePanel-DaqyzPyG.css","./VoiceChatPanel-DOSvCDh1.js","./UserContextMenu-Jud3f61k.js","../css/VoiceChatPanel-D0hk1ENV.css","./ChatUserList-DIi0-zw-.js","./PinnedMessages-CtXsYYqB.js","./FloatingVoiceIsland-Cw6p-dtt.js","./CinemaPlayer-fwNqXD_K.js","./ConnectionsPanel-DeD1WVeL.js","../css/ConnectionsPanel-BHb_cRVQ.css","./PasswordSetupModal-NiXmvEs6.js","../css/PasswordSetupModal-hiiUdoNl.css","./NotificationDropdown-D40MEgUt.js","./ReactionStatsPanel-BirNYTAP.js","../css/ReactionStatsPanel-D_puvjpP.css","./ServerHealthPanel-BFu1oW-3.js","../css/ServerHealthPanel-DVezKW9Q.css","./ChannelAnalyticsPanel-BPqJomeM.js","../css/ChannelAnalyticsPanel-B6Q8OoDz.css","./SmartSuggestionsPanel-D8R-M_V7.js","../css/SmartSuggestionsPanel-BFDBx7VC.css","./UserPresenceInsightsPanel-B3WZIFMS.js","../css/UserPresenceInsightsPanel-C69M9XNv.css","./MiniGamesPanel-DSLd9rhK.js","./ProjectCollaborationPanel-DWtZuHl9.js","./AvatarStudioPanel-DEBPHUDu.js","./pushNotifications-Lkyf8Kca.js","./urlHandlers-BR0k2s4o.js","./EnglishHub-DSGxVCmT.js","./GrammarQuizPage-fc8T7pGe.js","./grammarQuestions-B4sbBBDy.js","./EnglishLearningPage-DHFeU-P5.js","./CryptoDashboard-CZXUp3Cw.js","./CryptoSignals-Vez6ovNV.js","./LandingPage-BZZQY3m9.js","../css/LandingPage-CHHpsw7G.css","./ReferralProgram-CVRtBfSI.js","../css/ReferralProgram-CBBjqZR4.css","./GrowthDashboard-bRqeouaj.js","../css/GrowthDashboard-xlqndw5F.css","./ToastDemo-BhKE9ouG.js","../css/ToastDemo-DxNVRuTl.css"])))=>i.map(i=>d[i]);
import{g as Vi,_ as z,d as e,f as Yc,h as Ca,r as n,u as Ni,F as Jc,i as _o,k as Xc,l as Ms,m as Us,n as Zc,o as Qc,p as el,q as tl,t as rl,v as ol,w as Vs,x as nl,y as al,z as Ta,A as La,B as sl,C as il,D as cl,E as ll,e as dl,G as Wi,H as jn,I as Hi,J as $a,K as Oa,L as ul,M as fl,N as ji,O as Gi,Q as Ns,S as ml,T as xl,U as pl,V as hl,W as gl,X as yl,Y as vl,Z as El,$ as bl,a0 as _l,a1 as Le}from"./react-core-CecKX_Gm.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const g of u)if(g.type==="childList")for(const B of g.addedNodes)B.tagName==="LINK"&&B.rel==="modulepreload"&&s(B)}).observe(document,{childList:!0,subtree:!0});function a(u){const g={};return u.integrity&&(g.integrity=u.integrity),u.referrerPolicy&&(g.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?g.credentials="include":u.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function s(u){if(u.ep)return;u.ep=!0;const g=a(u);fetch(u.href,g)}})();var Aa={exports:{}},Ws;function Sl(){return Ws||(Ws=1,(function(f,c){(function(a){f.exports=a()})(function(a){var s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function u(p,i){var r=p[0],o=p[1],d=p[2],l=p[3];r+=(o&d|~o&l)+i[0]-680876936|0,r=(r<<7|r>>>25)+o|0,l+=(r&o|~r&d)+i[1]-389564586|0,l=(l<<12|l>>>20)+r|0,d+=(l&r|~l&o)+i[2]+606105819|0,d=(d<<17|d>>>15)+l|0,o+=(d&l|~d&r)+i[3]-1044525330|0,o=(o<<22|o>>>10)+d|0,r+=(o&d|~o&l)+i[4]-176418897|0,r=(r<<7|r>>>25)+o|0,l+=(r&o|~r&d)+i[5]+1200080426|0,l=(l<<12|l>>>20)+r|0,d+=(l&r|~l&o)+i[6]-1473231341|0,d=(d<<17|d>>>15)+l|0,o+=(d&l|~d&r)+i[7]-45705983|0,o=(o<<22|o>>>10)+d|0,r+=(o&d|~o&l)+i[8]+1770035416|0,r=(r<<7|r>>>25)+o|0,l+=(r&o|~r&d)+i[9]-1958414417|0,l=(l<<12|l>>>20)+r|0,d+=(l&r|~l&o)+i[10]-42063|0,d=(d<<17|d>>>15)+l|0,o+=(d&l|~d&r)+i[11]-1990404162|0,o=(o<<22|o>>>10)+d|0,r+=(o&d|~o&l)+i[12]+1804603682|0,r=(r<<7|r>>>25)+o|0,l+=(r&o|~r&d)+i[13]-40341101|0,l=(l<<12|l>>>20)+r|0,d+=(l&r|~l&o)+i[14]-1502002290|0,d=(d<<17|d>>>15)+l|0,o+=(d&l|~d&r)+i[15]+1236535329|0,o=(o<<22|o>>>10)+d|0,r+=(o&l|d&~l)+i[1]-165796510|0,r=(r<<5|r>>>27)+o|0,l+=(r&d|o&~d)+i[6]-1069501632|0,l=(l<<9|l>>>23)+r|0,d+=(l&o|r&~o)+i[11]+643717713|0,d=(d<<14|d>>>18)+l|0,o+=(d&r|l&~r)+i[0]-373897302|0,o=(o<<20|o>>>12)+d|0,r+=(o&l|d&~l)+i[5]-701558691|0,r=(r<<5|r>>>27)+o|0,l+=(r&d|o&~d)+i[10]+38016083|0,l=(l<<9|l>>>23)+r|0,d+=(l&o|r&~o)+i[15]-660478335|0,d=(d<<14|d>>>18)+l|0,o+=(d&r|l&~r)+i[4]-405537848|0,o=(o<<20|o>>>12)+d|0,r+=(o&l|d&~l)+i[9]+568446438|0,r=(r<<5|r>>>27)+o|0,l+=(r&d|o&~d)+i[14]-1019803690|0,l=(l<<9|l>>>23)+r|0,d+=(l&o|r&~o)+i[3]-187363961|0,d=(d<<14|d>>>18)+l|0,o+=(d&r|l&~r)+i[8]+1163531501|0,o=(o<<20|o>>>12)+d|0,r+=(o&l|d&~l)+i[13]-1444681467|0,r=(r<<5|r>>>27)+o|0,l+=(r&d|o&~d)+i[2]-51403784|0,l=(l<<9|l>>>23)+r|0,d+=(l&o|r&~o)+i[7]+1735328473|0,d=(d<<14|d>>>18)+l|0,o+=(d&r|l&~r)+i[12]-1926607734|0,o=(o<<20|o>>>12)+d|0,r+=(o^d^l)+i[5]-378558|0,r=(r<<4|r>>>28)+o|0,l+=(r^o^d)+i[8]-2022574463|0,l=(l<<11|l>>>21)+r|0,d+=(l^r^o)+i[11]+1839030562|0,d=(d<<16|d>>>16)+l|0,o+=(d^l^r)+i[14]-35309556|0,o=(o<<23|o>>>9)+d|0,r+=(o^d^l)+i[1]-1530992060|0,r=(r<<4|r>>>28)+o|0,l+=(r^o^d)+i[4]+1272893353|0,l=(l<<11|l>>>21)+r|0,d+=(l^r^o)+i[7]-155497632|0,d=(d<<16|d>>>16)+l|0,o+=(d^l^r)+i[10]-1094730640|0,o=(o<<23|o>>>9)+d|0,r+=(o^d^l)+i[13]+681279174|0,r=(r<<4|r>>>28)+o|0,l+=(r^o^d)+i[0]-358537222|0,l=(l<<11|l>>>21)+r|0,d+=(l^r^o)+i[3]-722521979|0,d=(d<<16|d>>>16)+l|0,o+=(d^l^r)+i[6]+76029189|0,o=(o<<23|o>>>9)+d|0,r+=(o^d^l)+i[9]-640364487|0,r=(r<<4|r>>>28)+o|0,l+=(r^o^d)+i[12]-421815835|0,l=(l<<11|l>>>21)+r|0,d+=(l^r^o)+i[15]+530742520|0,d=(d<<16|d>>>16)+l|0,o+=(d^l^r)+i[2]-995338651|0,o=(o<<23|o>>>9)+d|0,r+=(d^(o|~l))+i[0]-198630844|0,r=(r<<6|r>>>26)+o|0,l+=(o^(r|~d))+i[7]+1126891415|0,l=(l<<10|l>>>22)+r|0,d+=(r^(l|~o))+i[14]-1416354905|0,d=(d<<15|d>>>17)+l|0,o+=(l^(d|~r))+i[5]-57434055|0,o=(o<<21|o>>>11)+d|0,r+=(d^(o|~l))+i[12]+1700485571|0,r=(r<<6|r>>>26)+o|0,l+=(o^(r|~d))+i[3]-1894986606|0,l=(l<<10|l>>>22)+r|0,d+=(r^(l|~o))+i[10]-1051523|0,d=(d<<15|d>>>17)+l|0,o+=(l^(d|~r))+i[1]-2054922799|0,o=(o<<21|o>>>11)+d|0,r+=(d^(o|~l))+i[8]+1873313359|0,r=(r<<6|r>>>26)+o|0,l+=(o^(r|~d))+i[15]-30611744|0,l=(l<<10|l>>>22)+r|0,d+=(r^(l|~o))+i[6]-1560198380|0,d=(d<<15|d>>>17)+l|0,o+=(l^(d|~r))+i[13]+1309151649|0,o=(o<<21|o>>>11)+d|0,r+=(d^(o|~l))+i[4]-145523070|0,r=(r<<6|r>>>26)+o|0,l+=(o^(r|~d))+i[11]-1120210379|0,l=(l<<10|l>>>22)+r|0,d+=(r^(l|~o))+i[2]+718787259|0,d=(d<<15|d>>>17)+l|0,o+=(l^(d|~r))+i[9]-343485551|0,o=(o<<21|o>>>11)+d|0,p[0]=r+p[0]|0,p[1]=o+p[1]|0,p[2]=d+p[2]|0,p[3]=l+p[3]|0}function g(p){var i=[],r;for(r=0;r<64;r+=4)i[r>>2]=p.charCodeAt(r)+(p.charCodeAt(r+1)<<8)+(p.charCodeAt(r+2)<<16)+(p.charCodeAt(r+3)<<24);return i}function B(p){var i=[],r;for(r=0;r<64;r+=4)i[r>>2]=p[r]+(p[r+1]<<8)+(p[r+2]<<16)+(p[r+3]<<24);return i}function _(p){var i=p.length,r=[1732584193,-271733879,-1732584194,271733878],o,d,l,P,L,q;for(o=64;o<=i;o+=64)u(r,g(p.substring(o-64,o)));for(p=p.substring(o-64),d=p.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<d;o+=1)l[o>>2]|=p.charCodeAt(o)<<(o%4<<3);if(l[o>>2]|=128<<(o%4<<3),o>55)for(u(r,l),o=0;o<16;o+=1)l[o]=0;return P=i*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),L=parseInt(P[2],16),q=parseInt(P[1],16)||0,l[14]=L,l[15]=q,u(r,l),r}function S(p){var i=p.length,r=[1732584193,-271733879,-1732584194,271733878],o,d,l,P,L,q;for(o=64;o<=i;o+=64)u(r,B(p.subarray(o-64,o)));for(p=o-64<i?p.subarray(o-64):new Uint8Array(0),d=p.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<d;o+=1)l[o>>2]|=p[o]<<(o%4<<3);if(l[o>>2]|=128<<(o%4<<3),o>55)for(u(r,l),o=0;o<16;o+=1)l[o]=0;return P=i*8,P=P.toString(16).match(/(.*?)(.{0,8})$/),L=parseInt(P[2],16),q=parseInt(P[1],16)||0,l[14]=L,l[15]=q,u(r,l),r}function m(p){var i="",r;for(r=0;r<4;r+=1)i+=s[p>>r*8+4&15]+s[p>>r*8&15];return i}function y(p){var i;for(i=0;i<p.length;i+=1)p[i]=m(p[i]);return p.join("")}y(_("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&(function(){function p(i,r){return i=i|0||0,i<0?Math.max(i+r,0):Math.min(i,r)}ArrayBuffer.prototype.slice=function(i,r){var o=this.byteLength,d=p(i,o),l=o,P,L,q,F;return r!==a&&(l=p(r,o)),d>l?new ArrayBuffer(0):(P=l-d,L=new ArrayBuffer(P),q=new Uint8Array(L),F=new Uint8Array(this,d,P),q.set(F),L)}})();function k(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function h(p,i){var r=p.length,o=new ArrayBuffer(r),d=new Uint8Array(o),l;for(l=0;l<r;l+=1)d[l]=p.charCodeAt(l);return i?d:o}function A(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function w(p,i,r){var o=new Uint8Array(p.byteLength+i.byteLength);return o.set(new Uint8Array(p)),o.set(new Uint8Array(i),p.byteLength),o}function C(p){var i=[],r=p.length,o;for(o=0;o<r-1;o+=2)i.push(parseInt(p.substr(o,2),16));return String.fromCharCode.apply(String,i)}function v(){this.reset()}return v.prototype.append=function(p){return this.appendBinary(k(p)),this},v.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var i=this._buff.length,r;for(r=64;r<=i;r+=64)u(this._hash,g(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},v.prototype.end=function(p){var i=this._buff,r=i.length,o,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l;for(o=0;o<r;o+=1)d[o>>2]|=i.charCodeAt(o)<<(o%4<<3);return this._finish(d,r),l=y(this._hash),p&&(l=C(l)),this.reset(),l},v.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},v.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},v.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},v.prototype._finish=function(p,i){var r=i,o,d,l;if(p[r>>2]|=128<<(r%4<<3),r>55)for(u(this._hash,p),r=0;r<16;r+=1)p[r]=0;o=this._length*8,o=o.toString(16).match(/(.*?)(.{0,8})$/),d=parseInt(o[2],16),l=parseInt(o[1],16)||0,p[14]=d,p[15]=l,u(this._hash,p)},v.hash=function(p,i){return v.hashBinary(k(p),i)},v.hashBinary=function(p,i){var r=_(p),o=y(r);return i?C(o):o},v.ArrayBuffer=function(){this.reset()},v.ArrayBuffer.prototype.append=function(p){var i=w(this._buff.buffer,p),r=i.length,o;for(this._length+=p.byteLength,o=64;o<=r;o+=64)u(this._hash,B(i.subarray(o-64,o)));return this._buff=o-64<r?new Uint8Array(i.buffer.slice(o-64)):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(p){var i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d,l;for(d=0;d<r;d+=1)o[d>>2]|=i[d]<<(d%4<<3);return this._finish(o,r),l=y(this._hash),p&&(l=C(l)),this.reset(),l},v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.getState=function(){var p=v.prototype.getState.call(this);return p.buff=A(p.buff),p},v.ArrayBuffer.prototype.setState=function(p){return p.buff=h(p.buff,!0),v.prototype.setState.call(this,p)},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.hash=function(p,i){var r=S(new Uint8Array(p)),o=y(r);return i?C(o):o},v})})(Aa)),Aa.exports}var wl=Sl();const Cl=Vi(wl);var Qr;(function(f){f.Unimplemented="UNIMPLEMENTED",f.Unavailable="UNAVAILABLE"})(Qr||(Qr={}));class ka extends Error{constructor(c,a,s){super(c),this.message=c,this.code=a,this.data=s}}const Al=f=>{var c,a;return f?.androidBridge?"android":!((a=(c=f?.webkit)===null||c===void 0?void 0:c.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},kl=f=>{const c=f.CapacitorCustomPlatform||null,a=f.Capacitor||{},s=a.Plugins=a.Plugins||{},u=()=>c!==null?c.name:Al(f),g=()=>u()!=="web",B=k=>{const h=m.get(k);return!!(h?.platforms.has(u())||_(k))},_=k=>{var h;return(h=a.PluginHeaders)===null||h===void 0?void 0:h.find(A=>A.name===k)},S=k=>f.console.error(k),m=new Map,y=(k,h={})=>{const A=m.get(k);if(A)return console.warn(`Capacitor plugin "${k}" already registered. Cannot register plugins twice.`),A.proxy;const w=u(),C=_(k);let v;const p=async()=>(!v&&w in h?v=typeof h[w]=="function"?v=await h[w]():v=h[w]:c!==null&&!v&&"web"in h&&(v=typeof h.web=="function"?v=await h.web():v=h.web),v),i=(L,q)=>{var F,U;if(C){const V=C?.methods.find(j=>q===j.name);if(V)return V.rtype==="promise"?j=>a.nativePromise(k,q.toString(),j):(j,re)=>a.nativeCallback(k,q.toString(),j,re);if(L)return(F=L[q])===null||F===void 0?void 0:F.bind(L)}else{if(L)return(U=L[q])===null||U===void 0?void 0:U.bind(L);throw new ka(`"${k}" plugin is not implemented on ${w}`,Qr.Unimplemented)}},r=L=>{let q;const F=(...U)=>{const V=p().then(j=>{const re=i(j,L);if(re){const oe=re(...U);return q=oe?.remove,oe}else throw new ka(`"${k}.${L}()" is not implemented on ${w}`,Qr.Unimplemented)});return L==="addListener"&&(V.remove=async()=>q()),V};return F.toString=()=>`${L.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:L,writable:!1,configurable:!1}),F},o=r("addListener"),d=r("removeListener"),l=(L,q)=>{const F=o({eventName:L},q),U=async()=>{const j=await F;d({eventName:L,callbackId:j},q)},V=new Promise(j=>F.then(()=>j({remove:U})));return V.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await U()},V},P=new Proxy({},{get(L,q){switch(q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return C?l:o;case"removeListener":return d;default:return r(q)}}});return s[k]=P,m.set(k,{name:k,proxy:P,platforms:new Set([...Object.keys(h),...C?[w]:[]])}),P};return a.convertFileSrc||(a.convertFileSrc=k=>k),a.getPlatform=u,a.handleError=S,a.isNativePlatform=g,a.isPluginAvailable=B,a.registerPlugin=y,a.Exception=ka,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a},Bl=f=>f.Capacitor=kl(f),eo=Bl(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),za=eo.registerPlugin;class qi{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(c,a){let s=!1;this.listeners[c]||(this.listeners[c]=[],s=!0),this.listeners[c].push(a);const g=this.windowListeners[c];g&&!g.registered&&this.addWindowListener(g),s&&this.sendRetainedArgumentsForEvent(c);const B=async()=>this.removeListener(c,a);return Promise.resolve({remove:B})}async removeAllListeners(){this.listeners={};for(const c in this.windowListeners)this.removeWindowListener(this.windowListeners[c]);this.windowListeners={}}notifyListeners(c,a,s){const u=this.listeners[c];if(!u){if(s){let g=this.retainedEventArguments[c];g||(g=[]),g.push(a),this.retainedEventArguments[c]=g}return}u.forEach(g=>g(a))}hasListeners(c){var a;return!!(!((a=this.listeners[c])===null||a===void 0)&&a.length)}registerWindowListener(c,a){this.windowListeners[a]={registered:!1,windowEventName:c,pluginEventName:a,handler:s=>{this.notifyListeners(a,s)}}}unimplemented(c="not implemented"){return new eo.Exception(c,Qr.Unimplemented)}unavailable(c="not available"){return new eo.Exception(c,Qr.Unavailable)}async removeListener(c,a){const s=this.listeners[c];if(!s)return;const u=s.indexOf(a);this.listeners[c].splice(u,1),this.listeners[c].length||this.removeWindowListener(this.windowListeners[c])}addWindowListener(c){window.addEventListener(c.windowEventName,c.handler),c.registered=!0}removeWindowListener(c){c&&(window.removeEventListener(c.windowEventName,c.handler),c.registered=!1)}sendRetainedArgumentsForEvent(c){const a=this.retainedEventArguments[c];a&&(delete this.retainedEventArguments[c],a.forEach(s=>{this.notifyListeners(c,s)}))}}const Hs=f=>encodeURIComponent(f).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),js=f=>f.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Dl extends qi{async getCookies(){const c=document.cookie,a={};return c.split(";").forEach(s=>{if(s.length<=0)return;let[u,g]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");u=js(u).trim(),g=js(g).trim(),a[u]=g}),a}async setCookie(c){try{const a=Hs(c.key),s=Hs(c.value),u=`; expires=${(c.expires||"").replace("expires=","")}`,g=(c.path||"/").replace("path=",""),B=c.url!=null&&c.url.length>0?`domain=${c.url}`:"";document.cookie=`${a}=${s||""}${u}; path=${g}; ${B};`}catch(a){return Promise.reject(a)}}async deleteCookie(c){try{document.cookie=`${c.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const c=document.cookie.split(";")||[];for(const a of c)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(c){return Promise.reject(c)}}async clearAllCookies(){try{await this.clearCookies()}catch(c){return Promise.reject(c)}}}za("CapacitorCookies",{web:()=>new Dl});const Tl=async f=>new Promise((c,a)=>{const s=new FileReader;s.onload=()=>{const u=s.result;c(u.indexOf(",")>=0?u.split(",")[1]:u)},s.onerror=u=>a(u),s.readAsDataURL(f)}),Fl=(f={})=>{const c=Object.keys(f);return Object.keys(f).map(u=>u.toLocaleLowerCase()).reduce((u,g,B)=>(u[g]=f[c[B]],u),{})},Rl=(f,c=!0)=>f?Object.entries(f).reduce((s,u)=>{const[g,B]=u;let _,S;return Array.isArray(B)?(S="",B.forEach(m=>{_=c?encodeURIComponent(m):m,S+=`${g}=${_}&`}),S.slice(0,-1)):(_=c?encodeURIComponent(B):B,S=`${g}=${_}`),`${s}&${S}`},"").substr(1):null,Pl=(f,c={})=>{const a=Object.assign({method:f.method||"GET",headers:f.headers},c),u=Fl(f.headers)["content-type"]||"";if(typeof f.data=="string")a.body=f.data;else if(u.includes("application/x-www-form-urlencoded")){const g=new URLSearchParams;for(const[B,_]of Object.entries(f.data||{}))g.set(B,_);a.body=g.toString()}else if(u.includes("multipart/form-data")||f.data instanceof FormData){const g=new FormData;if(f.data instanceof FormData)f.data.forEach((_,S)=>{g.append(S,_)});else for(const _ of Object.keys(f.data))g.append(_,f.data[_]);a.body=g;const B=new Headers(a.headers);B.delete("content-type"),a.headers=B}else(u.includes("application/json")||typeof f.data=="object")&&(a.body=JSON.stringify(f.data));return a};class Il extends qi{async request(c){const a=Pl(c,c.webFetchExtra),s=Rl(c.params,c.shouldEncodeUrlParams),u=s?`${c.url}?${s}`:c.url,g=await fetch(u,a),B=g.headers.get("content-type")||"";let{responseType:_="text"}=g.ok?c:{};B.includes("application/json")&&(_="json");let S,m;switch(_){case"arraybuffer":case"blob":m=await g.blob(),S=await Tl(m);break;case"json":S=await g.json();break;default:S=await g.text()}const y={};return g.headers.forEach((k,h)=>{y[h]=k}),{data:S,headers:y,status:g.status,url:g.url}}async get(c){return this.request(Object.assign(Object.assign({},c),{method:"GET"}))}async post(c){return this.request(Object.assign(Object.assign({},c),{method:"POST"}))}async put(c){return this.request(Object.assign(Object.assign({},c),{method:"PUT"}))}async patch(c){return this.request(Object.assign(Object.assign({},c),{method:"PATCH"}))}async delete(c){return this.request(Object.assign(Object.assign({},c),{method:"DELETE"}))}}za("CapacitorHttp",{web:()=>new Il});const Ll=za("GoogleAuth",{web:()=>z(()=>import("./web-BUJoUgsL.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(f=>new f.GoogleAuthWeb)});let $l=class extends e.Component{constructor(c){super(c),this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(c){return{hasError:!0}}componentDidCatch(c,a){console.error("Error Boundary caught error:",c,a),this.setState({error:c,errorInfo:a,errorCount:this.state.errorCount+1}),window.gtag&&window.gtag("event","exception",{description:c.toString(),fatal:!1}),this.reportError(c,a)}reportError=async(c,a)=>{try{await fetch("/api/errors/report/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:c.toString(),stack:a.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})})}catch(s){console.error("Failed to report error:",s)}};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.state.errorCount>3?e.createElement("div",{className:"error-boundary critical"},e.createElement("div",{className:"error-content"},e.createElement("h1",null,"‚ö†Ô∏è Critical Error"),e.createElement("p",null,"Multiple errors detected. Please refresh the page."),e.createElement("button",{onClick:()=>window.location.reload(),className:"btn-reload"},"Refresh Page"))):e.createElement("div",{className:"error-boundary"},e.createElement("div",{className:"error-content"},e.createElement("div",{className:"error-icon"},"üòï"),e.createElement("h1",null,"Oops! Something went wrong"),e.createElement("p",{className:"error-message"},this.props.fallbackMessage||"We're sorry for the inconvenience. The error has been reported."),!1,e.createElement("div",{className:"error-actions"},e.createElement("button",{onClick:this.handleReset,className:"btn-retry"},"Try Again"),e.createElement("button",{onClick:()=>window.location.href="/",className:"btn-home"},"Go Home")))):this.props.children}},Kr=null;function Ol(){return Kr||(Kr=document.createElement("div"),Kr.id="toast-container",Kr.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 999999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        `,document.body.appendChild(Kr)),Kr}function Eo(f,c="info",a=3e3){const s=Ol(),u=document.createElement("div");u.className=`toast toast-${c}`;let g="‚ÑπÔ∏è",B="#3b82f6";switch(c){case"success":g="‚úÖ",B="#10b981";break;case"error":g="‚ùå",B="#ef4444";break;case"warning":g="‚ö†Ô∏è",B="#f59e0b";break;case"info":g="‚ÑπÔ∏è",B="#3b82f6";break}u.style.cssText=`
        background: ${B};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 300px;
        max-width: 500px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 14px;
        pointer-events: all;
        animation: slideIn 0.3s ease-out;
        transition: opacity 0.3s ease-out;
    `,u.innerHTML=`
        <span style="font-size: 20px;">${g}</span>
        <span style="flex: 1;">${f}</span>
        <button onclick="this.parentElement.remove()" style="
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        " onmouseover="this.style.background='rgba(255,255,255,0.3)'" 
           onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
    `,s.appendChild(u);const _=document.createElement("style");_.textContent=`
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }
    `,document.getElementById("toast-styles")||(_.id="toast-styles",document.head.appendChild(_)),setTimeout(()=>{u.style.animation="slideOut 0.3s ease-out",setTimeout(()=>u.remove(),300)},a)}const ie={success:(f,c)=>Eo(f,"success",c),error:(f,c)=>Eo(f,"error",c),warning:(f,c)=>Eo(f,"warning",c),info:(f,c)=>Eo(f,"info",c)};typeof window<"u"&&(window.toast=ie,window.showToast=Eo);const zl=async()=>{if(typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.toLowerCase().includes("electron")||window.location?.protocol==="file:"))return console.log("‚ö†Ô∏è [PWA] Service Worker disabled in Electron (file:// protocol)"),null;if("serviceWorker"in navigator)try{const c=await navigator.serviceWorker.register("/service-worker.js",{scope:"/"});return console.log("‚úÖ Service Worker registered:",c.scope),c.addEventListener("updatefound",()=>{const a=c.installing;console.log("üîÑ New Service Worker installing..."),a.addEventListener("statechange",()=>{a.state==="installed"&&navigator.serviceWorker.controller&&Ml()})}),setInterval(()=>{c.update()},3600*1e3),c}catch(c){return console.error("‚ùå Service Worker registration failed:",c),null}},Ml=()=>{console.log("‚ÑπÔ∏è Yeni versiyon mevcut - UI g√ºncelleme butonu aktif")},Ul=()=>{window.addEventListener("beforeinstallprompt",f=>{f.preventDefault();const c=document.getElementById("install-pwa-button");c&&(c.style.display="block"),console.log("üì± PWA install prompt ready")}),window.addEventListener("appinstalled",()=>{console.log("‚úÖ PWA installed successfully"),window.gtag&&window.gtag("event","pwa_installed",{event_category:"PWA",event_label:"App Installed"})})},Vl=(f,c)=>{const a=()=>{console.log("‚úÖ Network: Online"),f&&f(),Gs("üü¢ √áevrimi√ßi","success")},s=()=>{console.log("‚ùå Network: Offline"),c&&c(),Gs("üî¥ √áevrimdƒ±≈üƒ± - Baƒülantƒ± koptu","error")};return window.addEventListener("online",a),window.addEventListener("offline",s),navigator.onLine||s(),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}},Gs=(f,c="info")=>{const a=document.getElementById("network-banner");a&&a.remove();const s=document.createElement("div");s.id="network-banner",s.textContent=f,s.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        padding: 12px;
        text-align: center;
        color: white;
        font-weight: 600;
        z-index: 9999;
        animation: slideDown 0.3s ease;
        background: ${c==="success"?"#43b581":"#ed4245"};
    `,document.body.appendChild(s),c==="success"&&setTimeout(()=>{s.style.animation="slideUp 0.3s ease",setTimeout(()=>s.remove(),300)},3e3)},Nl=()=>{const f=document.createElement("style");f.textContent=`
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { transform: translateY(0); }
            to { transform: translateY(-100%); }
        }
    `,document.head.appendChild(f)};Nl();const Wl=`
/* üé® PAWSCORD Critical CSS - Above the Fold */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    background-color: #1e1f22;
    color: #dcddde;
    overflow: hidden;
}

/* Loading Screen */
#loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: #1e1f22;
    display: flex;
    align-items: center;
    justify-center: center;
    z-index: 9999;
}

.spinner {
    width: 50px;
    height: 50px;
    border: 4px solid #40444b;
    border-top-color: #5865f2;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Main Layout */
#root {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

.app-container {
    display: flex;
    width: 100%;
    height: 100%;
}

/* Sidebar */
.sidebar {
    width: 240px;
    background: #2b2d31;
    flex-shrink: 0;
}

/* Chat Area */
.chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #313338;
}

/* Message Input - Critical */
.message-input-container {
    padding: 16px;
    background: #383a40;
}

.message-input {
    width: 100%;
    padding: 12px;
    background: #40444b;
    border: none;
    border-radius: 8px;
    color: #dcddde;
    font-size: 15px;
    outline: none;
}

/* Button Base */
button {
    cursor: pointer;
    border: none;
    background: transparent;
    color: inherit;
    font-family: inherit;
}

.btn-primary {
    background: #5865f2;
    color: white;
    padding: 10px 16px;
    border-radius: 4px;
    font-weight: 500;
    transition: background 0.17s ease;
}

.btn-primary:hover {
    background: #4752c4;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #2b2d31;
}

::-webkit-scrollbar-thumb {
    background: #1a1b1e;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #141517;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
}

/* Utilities */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.items-center {
    align-items: center;
}

.justify-center {
    justify-content: center;
}

.gap-2 {
    gap: 8px;
}

.gap-4 {
    gap: 16px;
}

.hidden {
    display: none !important;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .sidebar {
        width: 100%;
        position: absolute;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .sidebar.open {
        transform: translateX(0);
    }
}
`,Hl=()=>{const f=document.createElement("style");f.id="critical-css",f.textContent=Wl,document.head.insertBefore(f,document.head.firstChild),console.log("‚úÖ Critical CSS inlined")},jl=f=>new Promise((c,a)=>{const s=document.createElement("link");s.rel="stylesheet",s.href=f,s.onload=()=>{console.log(`‚úÖ Lazy loaded CSS: ${f}`),c()},s.onerror=a,document.head.appendChild(s)}),Gl=()=>{const f=[],c=()=>{f.forEach(a=>{jl(a)})};"requestIdleCallback"in window?requestIdleCallback(c):setTimeout(c,1)},ql=()=>{if(typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.includes("Electron")||window.location?.protocol==="file:")){console.log("‚ö° [Performance] Electron'da font preload atlandƒ±");return}console.log("‚ö° [Performance] Font preload atlandƒ± - system fonts kullanƒ±lƒ±yor")},Kl=()=>{if(typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.includes("Electron")||window.location?.protocol==="file:")){console.log("‚ÑπÔ∏è Preload skipped: Electron detected");return}console.log("‚úÖ Key resources preloaded")},qs=()=>{const f=document.getElementById("critical-css");f&&setTimeout(()=>{f.remove(),console.log("üóëÔ∏è Critical CSS removed (full CSS loaded)")},1e3)},Yl=()=>{Hl(),Kl(),ql(),Gl(),document.readyState==="complete"?qs():window.addEventListener("load",qs)},Vn={serverSettings:()=>z(()=>import("./ServerSettingsModal-Cr8_z9AR.js"),__vite__mapDeps([3,1,2,4,5]),import.meta.url),userProfile:()=>z(()=>import("./UserProfileModal-CzpQr02N.js"),__vite__mapDeps([6,1,2]),import.meta.url),imageModal:()=>z(()=>import("./ImageModal-BJpTthaE.js"),__vite__mapDeps([7,1,2]),import.meta.url),gifPicker:()=>z(()=>import("./GifPicker-CCGP1uc1.js"),__vite__mapDeps([8,1,2]),import.meta.url),stickerPicker:()=>z(()=>import("./StickerPicker-DCqF42bs.js"),__vite__mapDeps([9,1,2]),import.meta.url),soundboard:()=>z(()=>import("./SoundboardModal-DPLwKIj2.js"),__vite__mapDeps([10,1,2]),import.meta.url),watchParty:()=>z(()=>import("./WatchPartyEnhanced-BXSjrO7u.js"),__vite__mapDeps([11,1,2]),import.meta.url),cinema:()=>z(()=>import("./CinemaModal-OD9Scxif.js"),__vite__mapDeps([12,1,2]),import.meta.url),whiteboard:()=>z(()=>import("./WhiteboardModal-DA4r1gTh.js"),__vite__mapDeps([13,1,2]),import.meta.url),poll:()=>z(()=>import("./PollCreateModal-Vuxuqi1X.js"),__vite__mapDeps([14,1,2]),import.meta.url),codeSnippet:()=>z(()=>import("./CodeSnippetModal-CrTjAOSh.js"),__vite__mapDeps([15,1,2]),import.meta.url),messageTemplate:()=>z(()=>import("./MessageTemplateModal-D-EFv1ZE.js"),__vite__mapDeps([16,1,2]),import.meta.url)},Ki=()=>{const f=[Vn.userProfile,Vn.imageModal];setTimeout(()=>{f.forEach(c=>c())},3e3)},Fa=()=>{"requestIdleCallback"in window&&requestIdleCallback(()=>{Vn.gifPicker(),Vn.stickerPicker()})},Ra={default:{name:"Pawscord Dark",colors:{"--background-primary":"#313338","--background-secondary":"#2b2d31","--background-tertiary":"#1e1f22","--background-accent":"#404249","--text-primary":"#dbdee1","--text-secondary":"#949ba4","--text-muted":"#787f89","--text-link":"#00a8fc","--button-primary":"#5865f2","--button-secondary":"#4e5058","--border-primary":"#1f2023"}},midnight:{name:"Midnight AMOLED",colors:{"--background-primary":"#000000","--background-secondary":"#0a0a0a","--background-tertiary":"#111111","--background-accent":"#222222","--text-primary":"#ffffff","--text-secondary":"#b0b0b0","--text-muted":"#666666","--text-link":"#3ea6ff","--button-primary":"#3ea6ff","--button-secondary":"#333333","--border-primary":"#333333"}},dracula:{name:"Dracula",colors:{"--background-primary":"#282a36","--background-secondary":"#44475a","--background-tertiary":"#6272a4","--background-accent":"#44475a","--text-primary":"#f8f8f2","--text-secondary":"#bfbfbf","--text-muted":"#6272a4","--text-link":"#8be9fd","--button-primary":"#bd93f9","--button-secondary":"#44475a","--border-primary":"#44475a"}},ocean:{name:"Deep Ocean",colors:{"--background-primary":"#0f172a","--background-secondary":"#1e293b","--background-tertiary":"#334155","--background-accent":"#334155","--text-primary":"#e2e8f0","--text-secondary":"#94a3b8","--text-muted":"#64748b","--text-link":"#38bdf8","--button-primary":"#0ea5e9","--button-secondary":"#334155","--border-primary":"#1e293b"}},forest:{name:"Enchanted Forest",colors:{"--background-primary":"#1a2f1a","--background-secondary":"#243b24","--background-tertiary":"#2f4b2f","--background-accent":"#3a5a3a","--text-primary":"#e0ffe0","--text-secondary":"#a0cca0","--text-muted":"#608060","--text-link":"#4caf50","--button-primary":"#4caf50","--button-secondary":"#2f4b2f","--border-primary":"#2f4b2f"}},matrix:{name:"The Matrix",colors:{"--background-primary":"#0d0d0d","--background-secondary":"#121212","--background-tertiary":"#1a1a1a","--background-accent":"#003b00","--text-primary":"#00ff41","--text-secondary":"#008f11","--text-muted":"#003b00","--text-link":"#00ff41","--button-primary":"#008f11","--button-secondary":"#003b00","--border-primary":"#003b00"}},sunset:{name:"Sunset Vibes",colors:{"--background-primary":"#2d1b2e","--background-secondary":"#442740","--background-tertiary":"#5a3450","--background-accent":"#734361","--text-primary":"#ffccaa","--text-secondary":"#ff9e7d","--text-muted":"#b05963","--text-link":"#ffbd69","--button-primary":"#ff6b6b","--button-secondary":"#5a3450","--border-primary":"#5a3450"}}},Jl=f=>{const c=Ra[f]||Ra.default,a=document.documentElement;Object.entries(c.colors).forEach(([s,u])=>{a.style.setProperty(s,u)}),localStorage.setItem("pawscord_theme",f)},Xl=()=>{const f=localStorage.getItem("pawscord_theme");return f&&Ra[f]?(Jl(f),f):"default"},Ks=f=>{let c;const a=new Set,s=(m,y)=>{const k=typeof m=="function"?m(c):m;if(!Object.is(k,c)){const h=c;c=y??(typeof k!="object"||k===null)?k:Object.assign({},c,k),a.forEach(A=>A(c,h))}},u=()=>c,_={setState:s,getState:u,getInitialState:()=>S,subscribe:m=>(a.add(m),()=>a.delete(m))},S=c=f(s,u,_);return _},Zl=(f=>f?Ks(f):Ks),Ql=f=>f;function ed(f,c=Ql){const a=e.useSyncExternalStore(f.subscribe,e.useCallback(()=>c(f.getState()),[f,c]),e.useCallback(()=>c(f.getInitialState()),[f,c]));return e.useDebugValue(a),a}const Ys=f=>{const c=Zl(f),a=s=>ed(c,s);return Object.assign(a,c),a},td=(f=>f?Ys(f):Ys),He=td((f,c)=>({messages:[],encryptionKeys:{},activeChat:{type:"welcome",id:"welcome",targetUser:null},unreadCounts:{},typingUsers:[],onlineUsers:[],voiceUsers:{},currentPermissions:{is_owner:!1,can_manage_channels:!1,can_delete_messages:!1,can_manage_roles:!1,can_ban_members:!1},setActiveChat:(a,s,u=null)=>{console.log("üîÑ [Store] setActiveChat called:",{type:a,id:s,targetUser:u}),console.log("üîÑ [Store] Current messages count:",c().messages.length),f({activeChat:{type:a,id:s,targetUser:u}});const g=a==="room"?`room-${s}`:`dm-${s}`;f(B=>{const _={...B.unreadCounts};return delete _[g],{unreadCounts:_}})},addMessage:a=>f(s=>!a||typeof a!="object"||!a.id?(console.warn("‚ö†Ô∏è [Store] Invalid message rejected:",a),s):a.temp_id&&s.messages.some(g=>g.temp_id===a.temp_id)?{messages:s.messages.map(g=>g.temp_id===a.temp_id?a:g)}:s.messages.some(u=>u.id===a.id)?s:{messages:[...s.messages,a]}),updateMessage:(a,s)=>f(u=>({messages:u.messages.map(g=>g.id===a?{...g,...s}:g)})),setMessages:a=>f(s=>{const u=typeof a=="function"?a(s.messages):a;return{messages:Array.isArray(u)?u.filter(B=>B&&typeof B=="object"&&B.id):[]}}),prependMessages:a=>f(s=>({messages:[...a,...s.messages]})),incrementUnread:a=>f(s=>({unreadCounts:{...s.unreadCounts,[a]:(s.unreadCounts[a]||0)+1}})),setOnlineUsers:a=>f({onlineUsers:a}),setTypingUser:(a,s)=>f(u=>s?{typingUsers:u.typingUsers.includes(a)?u.typingUsers:[...u.typingUsers,a]}:{typingUsers:u.typingUsers.filter(g=>g!==a)}),setVoiceUsers:a=>f({voiceUsers:a}),setEncryptionKey:(a,s)=>f(u=>({encryptionKeys:{...u.encryptionKeys,[a]:s}})),setPermissions:a=>f({currentPermissions:a||{is_owner:!1,can_manage_channels:!1,can_delete_messages:!1,can_manage_roles:!1,can_ban_members:!1}})}));var nn={exports:{}};function rd(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var an={exports:{}};const od={},nd=Object.freeze(Object.defineProperty({__proto__:null,default:od},Symbol.toStringTag,{value:"Module"})),ad=Yc(nd);var sd=an.exports,Js;function ve(){return Js||(Js=1,(function(f,c){(function(a,s){f.exports=s()})(sd,function(){var a=a||(function(s,u){var g;if(typeof window<"u"&&window.crypto&&(g=window.crypto),typeof self<"u"&&self.crypto&&(g=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(g=globalThis.crypto),!g&&typeof window<"u"&&window.msCrypto&&(g=window.msCrypto),!g&&typeof Ca<"u"&&Ca.crypto&&(g=Ca.crypto),!g&&typeof rd=="function")try{g=ad}catch{}var B=function(){if(g){if(typeof g.getRandomValues=="function")try{return g.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof g.randomBytes=="function")try{return g.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},_=Object.create||(function(){function i(){}return function(r){var o;return i.prototype=r,o=new i,i.prototype=null,o}})(),S={},m=S.lib={},y=m.Base=(function(){return{extend:function(i){var r=_(this);return i&&r.mixIn(i),(!r.hasOwnProperty("init")||this.init===r.init)&&(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var i=this.extend();return i.init.apply(i,arguments),i},init:function(){},mixIn:function(i){for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);i.hasOwnProperty("toString")&&(this.toString=i.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),k=m.WordArray=y.extend({init:function(i,r){i=this.words=i||[],r!=u?this.sigBytes=r:this.sigBytes=i.length*4},toString:function(i){return(i||A).stringify(this)},concat:function(i){var r=this.words,o=i.words,d=this.sigBytes,l=i.sigBytes;if(this.clamp(),d%4)for(var P=0;P<l;P++){var L=o[P>>>2]>>>24-P%4*8&255;r[d+P>>>2]|=L<<24-(d+P)%4*8}else for(var q=0;q<l;q+=4)r[d+q>>>2]=o[q>>>2];return this.sigBytes+=l,this},clamp:function(){var i=this.words,r=this.sigBytes;i[r>>>2]&=4294967295<<32-r%4*8,i.length=s.ceil(r/4)},clone:function(){var i=y.clone.call(this);return i.words=this.words.slice(0),i},random:function(i){for(var r=[],o=0;o<i;o+=4)r.push(B());return new k.init(r,i)}}),h=S.enc={},A=h.Hex={stringify:function(i){for(var r=i.words,o=i.sigBytes,d=[],l=0;l<o;l++){var P=r[l>>>2]>>>24-l%4*8&255;d.push((P>>>4).toString(16)),d.push((P&15).toString(16))}return d.join("")},parse:function(i){for(var r=i.length,o=[],d=0;d<r;d+=2)o[d>>>3]|=parseInt(i.substr(d,2),16)<<24-d%8*4;return new k.init(o,r/2)}},w=h.Latin1={stringify:function(i){for(var r=i.words,o=i.sigBytes,d=[],l=0;l<o;l++){var P=r[l>>>2]>>>24-l%4*8&255;d.push(String.fromCharCode(P))}return d.join("")},parse:function(i){for(var r=i.length,o=[],d=0;d<r;d++)o[d>>>2]|=(i.charCodeAt(d)&255)<<24-d%4*8;return new k.init(o,r)}},C=h.Utf8={stringify:function(i){try{return decodeURIComponent(escape(w.stringify(i)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(i){return w.parse(unescape(encodeURIComponent(i)))}},v=m.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new k.init,this._nDataBytes=0},_append:function(i){typeof i=="string"&&(i=C.parse(i)),this._data.concat(i),this._nDataBytes+=i.sigBytes},_process:function(i){var r,o=this._data,d=o.words,l=o.sigBytes,P=this.blockSize,L=P*4,q=l/L;i?q=s.ceil(q):q=s.max((q|0)-this._minBufferSize,0);var F=q*P,U=s.min(F*4,l);if(F){for(var V=0;V<F;V+=P)this._doProcessBlock(d,V);r=d.splice(0,F),o.sigBytes-=U}return new k.init(r,U)},clone:function(){var i=y.clone.call(this);return i._data=this._data.clone(),i},_minBufferSize:0});m.Hasher=v.extend({cfg:y.extend(),init:function(i){this.cfg=this.cfg.extend(i),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(i){return this._append(i),this._process(),this},finalize:function(i){i&&this._append(i);var r=this._doFinalize();return r},blockSize:16,_createHelper:function(i){return function(r,o){return new i.init(o).finalize(r)}},_createHmacHelper:function(i){return function(r,o){return new p.HMAC.init(i,o).finalize(r)}}});var p=S.algo={};return S})(Math);return a})})(an)),an.exports}var sn={exports:{}},id=sn.exports,Xs;function Gn(){return Xs||(Xs=1,(function(f,c){(function(a,s){f.exports=s(ve())})(id,function(a){return(function(s){var u=a,g=u.lib,B=g.Base,_=g.WordArray,S=u.x64={};S.Word=B.extend({init:function(m,y){this.high=m,this.low=y}}),S.WordArray=B.extend({init:function(m,y){m=this.words=m||[],y!=s?this.sigBytes=y:this.sigBytes=m.length*8},toX32:function(){for(var m=this.words,y=m.length,k=[],h=0;h<y;h++){var A=m[h];k.push(A.high),k.push(A.low)}return _.create(k,this.sigBytes)},clone:function(){for(var m=B.clone.call(this),y=m.words=this.words.slice(0),k=y.length,h=0;h<k;h++)y[h]=y[h].clone();return m}})})(),a})})(sn)),sn.exports}var cn={exports:{}},cd=cn.exports,Zs;function ld(){return Zs||(Zs=1,(function(f,c){(function(a,s){f.exports=s(ve())})(cd,function(a){return(function(){if(typeof ArrayBuffer=="function"){var s=a,u=s.lib,g=u.WordArray,B=g.init,_=g.init=function(S){if(S instanceof ArrayBuffer&&(S=new Uint8Array(S)),(S instanceof Int8Array||typeof Uint8ClampedArray<"u"&&S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array)&&(S=new Uint8Array(S.buffer,S.byteOffset,S.byteLength)),S instanceof Uint8Array){for(var m=S.byteLength,y=[],k=0;k<m;k++)y[k>>>2]|=S[k]<<24-k%4*8;B.call(this,y,m)}else B.apply(this,arguments)};_.prototype=g}})(),a.lib.WordArray})})(cn)),cn.exports}var ln={exports:{}},dd=ln.exports,Qs;function ud(){return Qs||(Qs=1,(function(f,c){(function(a,s){f.exports=s(ve())})(dd,function(a){return(function(){var s=a,u=s.lib,g=u.WordArray,B=s.enc;B.Utf16=B.Utf16BE={stringify:function(S){for(var m=S.words,y=S.sigBytes,k=[],h=0;h<y;h+=2){var A=m[h>>>2]>>>16-h%4*8&65535;k.push(String.fromCharCode(A))}return k.join("")},parse:function(S){for(var m=S.length,y=[],k=0;k<m;k++)y[k>>>1]|=S.charCodeAt(k)<<16-k%2*16;return g.create(y,m*2)}},B.Utf16LE={stringify:function(S){for(var m=S.words,y=S.sigBytes,k=[],h=0;h<y;h+=2){var A=_(m[h>>>2]>>>16-h%4*8&65535);k.push(String.fromCharCode(A))}return k.join("")},parse:function(S){for(var m=S.length,y=[],k=0;k<m;k++)y[k>>>1]|=_(S.charCodeAt(k)<<16-k%2*16);return g.create(y,m*2)}};function _(S){return S<<8&4278255360|S>>>8&16711935}})(),a.enc.Utf16})})(ln)),ln.exports}var dn={exports:{}},fd=dn.exports,ei;function Br(){return ei||(ei=1,(function(f,c){(function(a,s){f.exports=s(ve())})(fd,function(a){return(function(){var s=a,u=s.lib,g=u.WordArray,B=s.enc;B.Base64={stringify:function(S){var m=S.words,y=S.sigBytes,k=this._map;S.clamp();for(var h=[],A=0;A<y;A+=3)for(var w=m[A>>>2]>>>24-A%4*8&255,C=m[A+1>>>2]>>>24-(A+1)%4*8&255,v=m[A+2>>>2]>>>24-(A+2)%4*8&255,p=w<<16|C<<8|v,i=0;i<4&&A+i*.75<y;i++)h.push(k.charAt(p>>>6*(3-i)&63));var r=k.charAt(64);if(r)for(;h.length%4;)h.push(r);return h.join("")},parse:function(S){var m=S.length,y=this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var h=0;h<y.length;h++)k[y.charCodeAt(h)]=h}var A=y.charAt(64);if(A){var w=S.indexOf(A);w!==-1&&(m=w)}return _(S,m,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function _(S,m,y){for(var k=[],h=0,A=0;A<m;A++)if(A%4){var w=y[S.charCodeAt(A-1)]<<A%4*2,C=y[S.charCodeAt(A)]>>>6-A%4*2,v=w|C;k[h>>>2]|=v<<24-h%4*8,h++}return g.create(k,h)}})(),a.enc.Base64})})(dn)),dn.exports}var un={exports:{}},md=un.exports,ti;function xd(){return ti||(ti=1,(function(f,c){(function(a,s){f.exports=s(ve())})(md,function(a){return(function(){var s=a,u=s.lib,g=u.WordArray,B=s.enc;B.Base64url={stringify:function(S,m){m===void 0&&(m=!0);var y=S.words,k=S.sigBytes,h=m?this._safe_map:this._map;S.clamp();for(var A=[],w=0;w<k;w+=3)for(var C=y[w>>>2]>>>24-w%4*8&255,v=y[w+1>>>2]>>>24-(w+1)%4*8&255,p=y[w+2>>>2]>>>24-(w+2)%4*8&255,i=C<<16|v<<8|p,r=0;r<4&&w+r*.75<k;r++)A.push(h.charAt(i>>>6*(3-r)&63));var o=h.charAt(64);if(o)for(;A.length%4;)A.push(o);return A.join("")},parse:function(S,m){m===void 0&&(m=!0);var y=S.length,k=m?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var A=0;A<k.length;A++)h[k.charCodeAt(A)]=A}var w=k.charAt(64);if(w){var C=S.indexOf(w);C!==-1&&(y=C)}return _(S,y,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function _(S,m,y){for(var k=[],h=0,A=0;A<m;A++)if(A%4){var w=y[S.charCodeAt(A-1)]<<A%4*2,C=y[S.charCodeAt(A)]>>>6-A%4*2,v=w|C;k[h>>>2]|=v<<24-h%4*8,h++}return g.create(k,h)}})(),a.enc.Base64url})})(un)),un.exports}var fn={exports:{}},pd=fn.exports,ri;function Dr(){return ri||(ri=1,(function(f,c){(function(a,s){f.exports=s(ve())})(pd,function(a){return(function(s){var u=a,g=u.lib,B=g.WordArray,_=g.Hasher,S=u.algo,m=[];(function(){for(var C=0;C<64;C++)m[C]=s.abs(s.sin(C+1))*4294967296|0})();var y=S.MD5=_.extend({_doReset:function(){this._hash=new B.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(C,v){for(var p=0;p<16;p++){var i=v+p,r=C[i];C[i]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360}var o=this._hash.words,d=C[v+0],l=C[v+1],P=C[v+2],L=C[v+3],q=C[v+4],F=C[v+5],U=C[v+6],V=C[v+7],j=C[v+8],re=C[v+9],oe=C[v+10],de=C[v+11],he=C[v+12],ue=C[v+13],ge=C[v+14],be=C[v+15],x=o[0],J=o[1],X=o[2],Y=o[3];x=k(x,J,X,Y,d,7,m[0]),Y=k(Y,x,J,X,l,12,m[1]),X=k(X,Y,x,J,P,17,m[2]),J=k(J,X,Y,x,L,22,m[3]),x=k(x,J,X,Y,q,7,m[4]),Y=k(Y,x,J,X,F,12,m[5]),X=k(X,Y,x,J,U,17,m[6]),J=k(J,X,Y,x,V,22,m[7]),x=k(x,J,X,Y,j,7,m[8]),Y=k(Y,x,J,X,re,12,m[9]),X=k(X,Y,x,J,oe,17,m[10]),J=k(J,X,Y,x,de,22,m[11]),x=k(x,J,X,Y,he,7,m[12]),Y=k(Y,x,J,X,ue,12,m[13]),X=k(X,Y,x,J,ge,17,m[14]),J=k(J,X,Y,x,be,22,m[15]),x=h(x,J,X,Y,l,5,m[16]),Y=h(Y,x,J,X,U,9,m[17]),X=h(X,Y,x,J,de,14,m[18]),J=h(J,X,Y,x,d,20,m[19]),x=h(x,J,X,Y,F,5,m[20]),Y=h(Y,x,J,X,oe,9,m[21]),X=h(X,Y,x,J,be,14,m[22]),J=h(J,X,Y,x,q,20,m[23]),x=h(x,J,X,Y,re,5,m[24]),Y=h(Y,x,J,X,ge,9,m[25]),X=h(X,Y,x,J,L,14,m[26]),J=h(J,X,Y,x,j,20,m[27]),x=h(x,J,X,Y,ue,5,m[28]),Y=h(Y,x,J,X,P,9,m[29]),X=h(X,Y,x,J,V,14,m[30]),J=h(J,X,Y,x,he,20,m[31]),x=A(x,J,X,Y,F,4,m[32]),Y=A(Y,x,J,X,j,11,m[33]),X=A(X,Y,x,J,de,16,m[34]),J=A(J,X,Y,x,ge,23,m[35]),x=A(x,J,X,Y,l,4,m[36]),Y=A(Y,x,J,X,q,11,m[37]),X=A(X,Y,x,J,V,16,m[38]),J=A(J,X,Y,x,oe,23,m[39]),x=A(x,J,X,Y,ue,4,m[40]),Y=A(Y,x,J,X,d,11,m[41]),X=A(X,Y,x,J,L,16,m[42]),J=A(J,X,Y,x,U,23,m[43]),x=A(x,J,X,Y,re,4,m[44]),Y=A(Y,x,J,X,he,11,m[45]),X=A(X,Y,x,J,be,16,m[46]),J=A(J,X,Y,x,P,23,m[47]),x=w(x,J,X,Y,d,6,m[48]),Y=w(Y,x,J,X,V,10,m[49]),X=w(X,Y,x,J,ge,15,m[50]),J=w(J,X,Y,x,F,21,m[51]),x=w(x,J,X,Y,he,6,m[52]),Y=w(Y,x,J,X,L,10,m[53]),X=w(X,Y,x,J,oe,15,m[54]),J=w(J,X,Y,x,l,21,m[55]),x=w(x,J,X,Y,j,6,m[56]),Y=w(Y,x,J,X,be,10,m[57]),X=w(X,Y,x,J,U,15,m[58]),J=w(J,X,Y,x,ue,21,m[59]),x=w(x,J,X,Y,q,6,m[60]),Y=w(Y,x,J,X,de,10,m[61]),X=w(X,Y,x,J,P,15,m[62]),J=w(J,X,Y,x,re,21,m[63]),o[0]=o[0]+x|0,o[1]=o[1]+J|0,o[2]=o[2]+X|0,o[3]=o[3]+Y|0},_doFinalize:function(){var C=this._data,v=C.words,p=this._nDataBytes*8,i=C.sigBytes*8;v[i>>>5]|=128<<24-i%32;var r=s.floor(p/4294967296),o=p;v[(i+64>>>9<<4)+15]=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,v[(i+64>>>9<<4)+14]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,C.sigBytes=(v.length+1)*4,this._process();for(var d=this._hash,l=d.words,P=0;P<4;P++){var L=l[P];l[P]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return d},clone:function(){var C=_.clone.call(this);return C._hash=this._hash.clone(),C}});function k(C,v,p,i,r,o,d){var l=C+(v&p|~v&i)+r+d;return(l<<o|l>>>32-o)+v}function h(C,v,p,i,r,o,d){var l=C+(v&i|p&~i)+r+d;return(l<<o|l>>>32-o)+v}function A(C,v,p,i,r,o,d){var l=C+(v^p^i)+r+d;return(l<<o|l>>>32-o)+v}function w(C,v,p,i,r,o,d){var l=C+(p^(v|~i))+r+d;return(l<<o|l>>>32-o)+v}u.MD5=_._createHelper(y),u.HmacMD5=_._createHmacHelper(y)})(Math),a.MD5})})(fn)),fn.exports}var mn={exports:{}},hd=mn.exports,oi;function Yi(){return oi||(oi=1,(function(f,c){(function(a,s){f.exports=s(ve())})(hd,function(a){return(function(){var s=a,u=s.lib,g=u.WordArray,B=u.Hasher,_=s.algo,S=[],m=_.SHA1=B.extend({_doReset:function(){this._hash=new g.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,k){for(var h=this._hash.words,A=h[0],w=h[1],C=h[2],v=h[3],p=h[4],i=0;i<80;i++){if(i<16)S[i]=y[k+i]|0;else{var r=S[i-3]^S[i-8]^S[i-14]^S[i-16];S[i]=r<<1|r>>>31}var o=(A<<5|A>>>27)+p+S[i];i<20?o+=(w&C|~w&v)+1518500249:i<40?o+=(w^C^v)+1859775393:i<60?o+=(w&C|w&v|C&v)-1894007588:o+=(w^C^v)-899497514,p=v,v=C,C=w<<30|w>>>2,w=A,A=o}h[0]=h[0]+A|0,h[1]=h[1]+w|0,h[2]=h[2]+C|0,h[3]=h[3]+v|0,h[4]=h[4]+p|0},_doFinalize:function(){var y=this._data,k=y.words,h=this._nDataBytes*8,A=y.sigBytes*8;return k[A>>>5]|=128<<24-A%32,k[(A+64>>>9<<4)+14]=Math.floor(h/4294967296),k[(A+64>>>9<<4)+15]=h,y.sigBytes=k.length*4,this._process(),this._hash},clone:function(){var y=B.clone.call(this);return y._hash=this._hash.clone(),y}});s.SHA1=B._createHelper(m),s.HmacSHA1=B._createHmacHelper(m)})(),a.SHA1})})(mn)),mn.exports}var xn={exports:{}},gd=xn.exports,ni;function Ma(){return ni||(ni=1,(function(f,c){(function(a,s){f.exports=s(ve())})(gd,function(a){return(function(s){var u=a,g=u.lib,B=g.WordArray,_=g.Hasher,S=u.algo,m=[],y=[];(function(){function A(p){for(var i=s.sqrt(p),r=2;r<=i;r++)if(!(p%r))return!1;return!0}function w(p){return(p-(p|0))*4294967296|0}for(var C=2,v=0;v<64;)A(C)&&(v<8&&(m[v]=w(s.pow(C,1/2))),y[v]=w(s.pow(C,1/3)),v++),C++})();var k=[],h=S.SHA256=_.extend({_doReset:function(){this._hash=new B.init(m.slice(0))},_doProcessBlock:function(A,w){for(var C=this._hash.words,v=C[0],p=C[1],i=C[2],r=C[3],o=C[4],d=C[5],l=C[6],P=C[7],L=0;L<64;L++){if(L<16)k[L]=A[w+L]|0;else{var q=k[L-15],F=(q<<25|q>>>7)^(q<<14|q>>>18)^q>>>3,U=k[L-2],V=(U<<15|U>>>17)^(U<<13|U>>>19)^U>>>10;k[L]=F+k[L-7]+V+k[L-16]}var j=o&d^~o&l,re=v&p^v&i^p&i,oe=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),de=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),he=P+de+j+y[L]+k[L],ue=oe+re;P=l,l=d,d=o,o=r+he|0,r=i,i=p,p=v,v=he+ue|0}C[0]=C[0]+v|0,C[1]=C[1]+p|0,C[2]=C[2]+i|0,C[3]=C[3]+r|0,C[4]=C[4]+o|0,C[5]=C[5]+d|0,C[6]=C[6]+l|0,C[7]=C[7]+P|0},_doFinalize:function(){var A=this._data,w=A.words,C=this._nDataBytes*8,v=A.sigBytes*8;return w[v>>>5]|=128<<24-v%32,w[(v+64>>>9<<4)+14]=s.floor(C/4294967296),w[(v+64>>>9<<4)+15]=C,A.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var A=_.clone.call(this);return A._hash=this._hash.clone(),A}});u.SHA256=_._createHelper(h),u.HmacSHA256=_._createHmacHelper(h)})(Math),a.SHA256})})(xn)),xn.exports}var pn={exports:{}},yd=pn.exports,ai;function vd(){return ai||(ai=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Ma())})(yd,function(a){return(function(){var s=a,u=s.lib,g=u.WordArray,B=s.algo,_=B.SHA256,S=B.SHA224=_.extend({_doReset:function(){this._hash=new g.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var m=_._doFinalize.call(this);return m.sigBytes-=4,m}});s.SHA224=_._createHelper(S),s.HmacSHA224=_._createHmacHelper(S)})(),a.SHA224})})(pn)),pn.exports}var hn={exports:{}},Ed=hn.exports,si;function Ji(){return si||(si=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Gn())})(Ed,function(a){return(function(){var s=a,u=s.lib,g=u.Hasher,B=s.x64,_=B.Word,S=B.WordArray,m=s.algo;function y(){return _.create.apply(_,arguments)}var k=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],h=[];(function(){for(var w=0;w<80;w++)h[w]=y()})();var A=m.SHA512=g.extend({_doReset:function(){this._hash=new S.init([new _.init(1779033703,4089235720),new _.init(3144134277,2227873595),new _.init(1013904242,4271175723),new _.init(2773480762,1595750129),new _.init(1359893119,2917565137),new _.init(2600822924,725511199),new _.init(528734635,4215389547),new _.init(1541459225,327033209)])},_doProcessBlock:function(w,C){for(var v=this._hash.words,p=v[0],i=v[1],r=v[2],o=v[3],d=v[4],l=v[5],P=v[6],L=v[7],q=p.high,F=p.low,U=i.high,V=i.low,j=r.high,re=r.low,oe=o.high,de=o.low,he=d.high,ue=d.low,ge=l.high,be=l.low,x=P.high,J=P.low,X=L.high,Y=L.low,Ae=q,ce=F,we=U,me=V,Ct=j,At=re,lr=oe,Ot=de,qe=he,$e=ue,zt=ge,Qe=be,qt=x,lt=J,dr=X,kt=Y,et=0;et<80;et++){var Fe,at,dt=h[et];if(et<16)at=dt.high=w[C+et*2]|0,Fe=dt.low=w[C+et*2+1]|0;else{var Fr=h[et-15],tt=Fr.high,Mt=Fr.low,Rr=(tt>>>1|Mt<<31)^(tt>>>8|Mt<<24)^tt>>>7,Pr=(Mt>>>1|tt<<31)^(Mt>>>8|tt<<24)^(Mt>>>7|tt<<25),Te=h[et-2],te=Te.high,ut=Te.low,ur=(te>>>19|ut<<13)^(te<<3|ut>>>29)^te>>>6,Kt=(ut>>>19|te<<13)^(ut<<3|te>>>29)^(ut>>>6|te<<26),Ir=h[et-7],rt=Ir.high,Yt=Ir.low,ye=h[et-16],Lr=ye.high,fr=ye.low;Fe=Pr+Yt,at=Rr+rt+(Fe>>>0<Pr>>>0?1:0),Fe=Fe+Kt,at=at+ur+(Fe>>>0<Kt>>>0?1:0),Fe=Fe+fr,at=at+Lr+(Fe>>>0<fr>>>0?1:0),dt.high=at,dt.low=Fe}var Ut=qe&zt^~qe&qt,Bt=$e&Qe^~$e&lt,mr=Ae&we^Ae&Ct^we&Ct,$r=ce&me^ce&At^me&At,Ke=(Ae>>>28|ce<<4)^(Ae<<30|ce>>>2)^(Ae<<25|ce>>>7),xr=(ce>>>28|Ae<<4)^(ce<<30|Ae>>>2)^(ce<<25|Ae>>>7),pt=(qe>>>14|$e<<18)^(qe>>>18|$e<<14)^(qe<<23|$e>>>9),pr=($e>>>14|qe<<18)^($e>>>18|qe<<14)^($e<<23|qe>>>9),ht=k[et],ft=ht.high,Vt=ht.low,Ie=kt+pr,se=dr+pt+(Ie>>>0<kt>>>0?1:0),Ie=Ie+Bt,se=se+Ut+(Ie>>>0<Bt>>>0?1:0),Ie=Ie+Vt,se=se+ft+(Ie>>>0<Vt>>>0?1:0),Ie=Ie+Fe,se=se+at+(Ie>>>0<Fe>>>0?1:0),_e=xr+$r,gt=Ke+mr+(_e>>>0<xr>>>0?1:0);dr=qt,kt=lt,qt=zt,lt=Qe,zt=qe,Qe=$e,$e=Ot+Ie|0,qe=lr+se+($e>>>0<Ot>>>0?1:0)|0,lr=Ct,Ot=At,Ct=we,At=me,we=Ae,me=ce,ce=Ie+_e|0,Ae=se+gt+(ce>>>0<Ie>>>0?1:0)|0}F=p.low=F+ce,p.high=q+Ae+(F>>>0<ce>>>0?1:0),V=i.low=V+me,i.high=U+we+(V>>>0<me>>>0?1:0),re=r.low=re+At,r.high=j+Ct+(re>>>0<At>>>0?1:0),de=o.low=de+Ot,o.high=oe+lr+(de>>>0<Ot>>>0?1:0),ue=d.low=ue+$e,d.high=he+qe+(ue>>>0<$e>>>0?1:0),be=l.low=be+Qe,l.high=ge+zt+(be>>>0<Qe>>>0?1:0),J=P.low=J+lt,P.high=x+qt+(J>>>0<lt>>>0?1:0),Y=L.low=Y+kt,L.high=X+dr+(Y>>>0<kt>>>0?1:0)},_doFinalize:function(){var w=this._data,C=w.words,v=this._nDataBytes*8,p=w.sigBytes*8;C[p>>>5]|=128<<24-p%32,C[(p+128>>>10<<5)+30]=Math.floor(v/4294967296),C[(p+128>>>10<<5)+31]=v,w.sigBytes=C.length*4,this._process();var i=this._hash.toX32();return i},clone:function(){var w=g.clone.call(this);return w._hash=this._hash.clone(),w},blockSize:1024/32});s.SHA512=g._createHelper(A),s.HmacSHA512=g._createHmacHelper(A)})(),a.SHA512})})(hn)),hn.exports}var gn={exports:{}},bd=gn.exports,ii;function _d(){return ii||(ii=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Gn(),Ji())})(bd,function(a){return(function(){var s=a,u=s.x64,g=u.Word,B=u.WordArray,_=s.algo,S=_.SHA512,m=_.SHA384=S.extend({_doReset:function(){this._hash=new B.init([new g.init(3418070365,3238371032),new g.init(1654270250,914150663),new g.init(2438529370,812702999),new g.init(355462360,4144912697),new g.init(1731405415,4290775857),new g.init(2394180231,1750603025),new g.init(3675008525,1694076839),new g.init(1203062813,3204075428)])},_doFinalize:function(){var y=S._doFinalize.call(this);return y.sigBytes-=16,y}});s.SHA384=S._createHelper(m),s.HmacSHA384=S._createHmacHelper(m)})(),a.SHA384})})(gn)),gn.exports}var yn={exports:{}},Sd=yn.exports,ci;function wd(){return ci||(ci=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Gn())})(Sd,function(a){return(function(s){var u=a,g=u.lib,B=g.WordArray,_=g.Hasher,S=u.x64,m=S.Word,y=u.algo,k=[],h=[],A=[];(function(){for(var v=1,p=0,i=0;i<24;i++){k[v+5*p]=(i+1)*(i+2)/2%64;var r=p%5,o=(2*v+3*p)%5;v=r,p=o}for(var v=0;v<5;v++)for(var p=0;p<5;p++)h[v+5*p]=p+(2*v+3*p)%5*5;for(var d=1,l=0;l<24;l++){for(var P=0,L=0,q=0;q<7;q++){if(d&1){var F=(1<<q)-1;F<32?L^=1<<F:P^=1<<F-32}d&128?d=d<<1^113:d<<=1}A[l]=m.create(P,L)}})();var w=[];(function(){for(var v=0;v<25;v++)w[v]=m.create()})();var C=y.SHA3=_.extend({cfg:_.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],p=0;p<25;p++)v[p]=new m.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,p){for(var i=this._state,r=this.blockSize/2,o=0;o<r;o++){var d=v[p+2*o],l=v[p+2*o+1];d=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,l=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360;var P=i[o];P.high^=l,P.low^=d}for(var L=0;L<24;L++){for(var q=0;q<5;q++){for(var F=0,U=0,V=0;V<5;V++){var P=i[q+5*V];F^=P.high,U^=P.low}var j=w[q];j.high=F,j.low=U}for(var q=0;q<5;q++)for(var re=w[(q+4)%5],oe=w[(q+1)%5],de=oe.high,he=oe.low,F=re.high^(de<<1|he>>>31),U=re.low^(he<<1|de>>>31),V=0;V<5;V++){var P=i[q+5*V];P.high^=F,P.low^=U}for(var ue=1;ue<25;ue++){var F,U,P=i[ue],ge=P.high,be=P.low,x=k[ue];x<32?(F=ge<<x|be>>>32-x,U=be<<x|ge>>>32-x):(F=be<<x-32|ge>>>64-x,U=ge<<x-32|be>>>64-x);var J=w[h[ue]];J.high=F,J.low=U}var X=w[0],Y=i[0];X.high=Y.high,X.low=Y.low;for(var q=0;q<5;q++)for(var V=0;V<5;V++){var ue=q+5*V,P=i[ue],Ae=w[ue],ce=w[(q+1)%5+5*V],we=w[(q+2)%5+5*V];P.high=Ae.high^~ce.high&we.high,P.low=Ae.low^~ce.low&we.low}var P=i[0],me=A[L];P.high^=me.high,P.low^=me.low}},_doFinalize:function(){var v=this._data,p=v.words;this._nDataBytes*8;var i=v.sigBytes*8,r=this.blockSize*32;p[i>>>5]|=1<<24-i%32,p[(s.ceil((i+1)/r)*r>>>5)-1]|=128,v.sigBytes=p.length*4,this._process();for(var o=this._state,d=this.cfg.outputLength/8,l=d/8,P=[],L=0;L<l;L++){var q=o[L],F=q.high,U=q.low;F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,P.push(U),P.push(F)}return new B.init(P,d)},clone:function(){for(var v=_.clone.call(this),p=v._state=this._state.slice(0),i=0;i<25;i++)p[i]=p[i].clone();return v}});u.SHA3=_._createHelper(C),u.HmacSHA3=_._createHmacHelper(C)})(Math),a.SHA3})})(yn)),yn.exports}var vn={exports:{}},Cd=vn.exports,li;function Ad(){return li||(li=1,(function(f,c){(function(a,s){f.exports=s(ve())})(Cd,function(a){return(function(s){var u=a,g=u.lib,B=g.WordArray,_=g.Hasher,S=u.algo,m=B.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=B.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),k=B.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=B.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),A=B.create([0,1518500249,1859775393,2400959708,2840853838]),w=B.create([1352829926,1548603684,1836072691,2053994217,0]),C=S.RIPEMD160=_.extend({_doReset:function(){this._hash=B.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,P){for(var L=0;L<16;L++){var q=P+L,F=l[q];l[q]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}var U=this._hash.words,V=A.words,j=w.words,re=m.words,oe=y.words,de=k.words,he=h.words,ue,ge,be,x,J,X,Y,Ae,ce,we;X=ue=U[0],Y=ge=U[1],Ae=be=U[2],ce=x=U[3],we=J=U[4];for(var me,L=0;L<80;L+=1)me=ue+l[P+re[L]]|0,L<16?me+=v(ge,be,x)+V[0]:L<32?me+=p(ge,be,x)+V[1]:L<48?me+=i(ge,be,x)+V[2]:L<64?me+=r(ge,be,x)+V[3]:me+=o(ge,be,x)+V[4],me=me|0,me=d(me,de[L]),me=me+J|0,ue=J,J=x,x=d(be,10),be=ge,ge=me,me=X+l[P+oe[L]]|0,L<16?me+=o(Y,Ae,ce)+j[0]:L<32?me+=r(Y,Ae,ce)+j[1]:L<48?me+=i(Y,Ae,ce)+j[2]:L<64?me+=p(Y,Ae,ce)+j[3]:me+=v(Y,Ae,ce)+j[4],me=me|0,me=d(me,he[L]),me=me+we|0,X=we,we=ce,ce=d(Ae,10),Ae=Y,Y=me;me=U[1]+be+ce|0,U[1]=U[2]+x+we|0,U[2]=U[3]+J+X|0,U[3]=U[4]+ue+Y|0,U[4]=U[0]+ge+Ae|0,U[0]=me},_doFinalize:function(){var l=this._data,P=l.words,L=this._nDataBytes*8,q=l.sigBytes*8;P[q>>>5]|=128<<24-q%32,P[(q+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,l.sigBytes=(P.length+1)*4,this._process();for(var F=this._hash,U=F.words,V=0;V<5;V++){var j=U[V];U[V]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}return F},clone:function(){var l=_.clone.call(this);return l._hash=this._hash.clone(),l}});function v(l,P,L){return l^P^L}function p(l,P,L){return l&P|~l&L}function i(l,P,L){return(l|~P)^L}function r(l,P,L){return l&L|P&~L}function o(l,P,L){return l^(P|~L)}function d(l,P){return l<<P|l>>>32-P}u.RIPEMD160=_._createHelper(C),u.HmacRIPEMD160=_._createHmacHelper(C)})(),a.RIPEMD160})})(vn)),vn.exports}var En={exports:{}},kd=En.exports,di;function Ua(){return di||(di=1,(function(f,c){(function(a,s){f.exports=s(ve())})(kd,function(a){(function(){var s=a,u=s.lib,g=u.Base,B=s.enc,_=B.Utf8,S=s.algo;S.HMAC=g.extend({init:function(m,y){m=this._hasher=new m.init,typeof y=="string"&&(y=_.parse(y));var k=m.blockSize,h=k*4;y.sigBytes>h&&(y=m.finalize(y)),y.clamp();for(var A=this._oKey=y.clone(),w=this._iKey=y.clone(),C=A.words,v=w.words,p=0;p<k;p++)C[p]^=1549556828,v[p]^=909522486;A.sigBytes=w.sigBytes=h,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var y=this._hasher,k=y.finalize(m);y.reset();var h=y.finalize(this._oKey.clone().concat(k));return h}})})()})})(En)),En.exports}var bn={exports:{}},Bd=bn.exports,ui;function Dd(){return ui||(ui=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Ma(),Ua())})(Bd,function(a){return(function(){var s=a,u=s.lib,g=u.Base,B=u.WordArray,_=s.algo,S=_.SHA256,m=_.HMAC,y=_.PBKDF2=g.extend({cfg:g.extend({keySize:128/32,hasher:S,iterations:25e4}),init:function(k){this.cfg=this.cfg.extend(k)},compute:function(k,h){for(var A=this.cfg,w=m.create(A.hasher,k),C=B.create(),v=B.create([1]),p=C.words,i=v.words,r=A.keySize,o=A.iterations;p.length<r;){var d=w.update(h).finalize(v);w.reset();for(var l=d.words,P=l.length,L=d,q=1;q<o;q++){L=w.finalize(L),w.reset();for(var F=L.words,U=0;U<P;U++)l[U]^=F[U]}C.concat(d),i[0]++}return C.sigBytes=r*4,C}});s.PBKDF2=function(k,h,A){return y.create(A).compute(k,h)}})(),a.PBKDF2})})(bn)),bn.exports}var _n={exports:{}},Td=_n.exports,fi;function cr(){return fi||(fi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Yi(),Ua())})(Td,function(a){return(function(){var s=a,u=s.lib,g=u.Base,B=u.WordArray,_=s.algo,S=_.MD5,m=_.EvpKDF=g.extend({cfg:g.extend({keySize:128/32,hasher:S,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,k){for(var h,A=this.cfg,w=A.hasher.create(),C=B.create(),v=C.words,p=A.keySize,i=A.iterations;v.length<p;){h&&w.update(h),h=w.update(y).finalize(k),w.reset();for(var r=1;r<i;r++)h=w.finalize(h),w.reset();C.concat(h)}return C.sigBytes=p*4,C}});s.EvpKDF=function(y,k,h){return m.create(h).compute(y,k)}})(),a.EvpKDF})})(_n)),_n.exports}var Sn={exports:{}},Fd=Sn.exports,mi;function Me(){return mi||(mi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),cr())})(Fd,function(a){a.lib.Cipher||(function(s){var u=a,g=u.lib,B=g.Base,_=g.WordArray,S=g.BufferedBlockAlgorithm,m=u.enc;m.Utf8;var y=m.Base64,k=u.algo,h=k.EvpKDF,A=g.Cipher=S.extend({cfg:B.extend(),createEncryptor:function(F,U){return this.create(this._ENC_XFORM_MODE,F,U)},createDecryptor:function(F,U){return this.create(this._DEC_XFORM_MODE,F,U)},init:function(F,U,V){this.cfg=this.cfg.extend(V),this._xformMode=F,this._key=U,this.reset()},reset:function(){S.reset.call(this),this._doReset()},process:function(F){return this._append(F),this._process()},finalize:function(F){F&&this._append(F);var U=this._doFinalize();return U},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function F(U){return typeof U=="string"?q:l}return function(U){return{encrypt:function(V,j,re){return F(j).encrypt(U,V,j,re)},decrypt:function(V,j,re){return F(j).decrypt(U,V,j,re)}}}})()});g.StreamCipher=A.extend({_doFinalize:function(){var F=this._process(!0);return F},blockSize:1});var w=u.mode={},C=g.BlockCipherMode=B.extend({createEncryptor:function(F,U){return this.Encryptor.create(F,U)},createDecryptor:function(F,U){return this.Decryptor.create(F,U)},init:function(F,U){this._cipher=F,this._iv=U}}),v=w.CBC=(function(){var F=C.extend();F.Encryptor=F.extend({processBlock:function(V,j){var re=this._cipher,oe=re.blockSize;U.call(this,V,j,oe),re.encryptBlock(V,j),this._prevBlock=V.slice(j,j+oe)}}),F.Decryptor=F.extend({processBlock:function(V,j){var re=this._cipher,oe=re.blockSize,de=V.slice(j,j+oe);re.decryptBlock(V,j),U.call(this,V,j,oe),this._prevBlock=de}});function U(V,j,re){var oe,de=this._iv;de?(oe=de,this._iv=s):oe=this._prevBlock;for(var he=0;he<re;he++)V[j+he]^=oe[he]}return F})(),p=u.pad={},i=p.Pkcs7={pad:function(F,U){for(var V=U*4,j=V-F.sigBytes%V,re=j<<24|j<<16|j<<8|j,oe=[],de=0;de<j;de+=4)oe.push(re);var he=_.create(oe,j);F.concat(he)},unpad:function(F){var U=F.words[F.sigBytes-1>>>2]&255;F.sigBytes-=U}};g.BlockCipher=A.extend({cfg:A.cfg.extend({mode:v,padding:i}),reset:function(){var F;A.reset.call(this);var U=this.cfg,V=U.iv,j=U.mode;this._xformMode==this._ENC_XFORM_MODE?F=j.createEncryptor:(F=j.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==F?this._mode.init(this,V&&V.words):(this._mode=F.call(j,this,V&&V.words),this._mode.__creator=F)},_doProcessBlock:function(F,U){this._mode.processBlock(F,U)},_doFinalize:function(){var F,U=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(U.pad(this._data,this.blockSize),F=this._process(!0)):(F=this._process(!0),U.unpad(F)),F},blockSize:128/32});var r=g.CipherParams=B.extend({init:function(F){this.mixIn(F)},toString:function(F){return(F||this.formatter).stringify(this)}}),o=u.format={},d=o.OpenSSL={stringify:function(F){var U,V=F.ciphertext,j=F.salt;return j?U=_.create([1398893684,1701076831]).concat(j).concat(V):U=V,U.toString(y)},parse:function(F){var U,V=y.parse(F),j=V.words;return j[0]==1398893684&&j[1]==1701076831&&(U=_.create(j.slice(2,4)),j.splice(0,4),V.sigBytes-=16),r.create({ciphertext:V,salt:U})}},l=g.SerializableCipher=B.extend({cfg:B.extend({format:d}),encrypt:function(F,U,V,j){j=this.cfg.extend(j);var re=F.createEncryptor(V,j),oe=re.finalize(U),de=re.cfg;return r.create({ciphertext:oe,key:V,iv:de.iv,algorithm:F,mode:de.mode,padding:de.padding,blockSize:F.blockSize,formatter:j.format})},decrypt:function(F,U,V,j){j=this.cfg.extend(j),U=this._parse(U,j.format);var re=F.createDecryptor(V,j).finalize(U.ciphertext);return re},_parse:function(F,U){return typeof F=="string"?U.parse(F,this):F}}),P=u.kdf={},L=P.OpenSSL={execute:function(F,U,V,j,re){if(j||(j=_.random(64/8)),re)var oe=h.create({keySize:U+V,hasher:re}).compute(F,j);else var oe=h.create({keySize:U+V}).compute(F,j);var de=_.create(oe.words.slice(U),V*4);return oe.sigBytes=U*4,r.create({key:oe,iv:de,salt:j})}},q=g.PasswordBasedCipher=l.extend({cfg:l.cfg.extend({kdf:L}),encrypt:function(F,U,V,j){j=this.cfg.extend(j);var re=j.kdf.execute(V,F.keySize,F.ivSize,j.salt,j.hasher);j.iv=re.iv;var oe=l.encrypt.call(this,F,U,re.key,j);return oe.mixIn(re),oe},decrypt:function(F,U,V,j){j=this.cfg.extend(j),U=this._parse(U,j.format);var re=j.kdf.execute(V,F.keySize,F.ivSize,U.salt,j.hasher);j.iv=re.iv;var oe=l.decrypt.call(this,F,U,re.key,j);return oe}})})()})})(Sn)),Sn.exports}var wn={exports:{}},Rd=wn.exports,xi;function Pd(){return xi||(xi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Rd,function(a){return a.mode.CFB=(function(){var s=a.lib.BlockCipherMode.extend();s.Encryptor=s.extend({processBlock:function(g,B){var _=this._cipher,S=_.blockSize;u.call(this,g,B,S,_),this._prevBlock=g.slice(B,B+S)}}),s.Decryptor=s.extend({processBlock:function(g,B){var _=this._cipher,S=_.blockSize,m=g.slice(B,B+S);u.call(this,g,B,S,_),this._prevBlock=m}});function u(g,B,_,S){var m,y=this._iv;y?(m=y.slice(0),this._iv=void 0):m=this._prevBlock,S.encryptBlock(m,0);for(var k=0;k<_;k++)g[B+k]^=m[k]}return s})(),a.mode.CFB})})(wn)),wn.exports}var Cn={exports:{}},Id=Cn.exports,pi;function Ld(){return pi||(pi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Id,function(a){return a.mode.CTR=(function(){var s=a.lib.BlockCipherMode.extend(),u=s.Encryptor=s.extend({processBlock:function(g,B){var _=this._cipher,S=_.blockSize,m=this._iv,y=this._counter;m&&(y=this._counter=m.slice(0),this._iv=void 0);var k=y.slice(0);_.encryptBlock(k,0),y[S-1]=y[S-1]+1|0;for(var h=0;h<S;h++)g[B+h]^=k[h]}});return s.Decryptor=u,s})(),a.mode.CTR})})(Cn)),Cn.exports}var An={exports:{}},$d=An.exports,hi;function Od(){return hi||(hi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})($d,function(a){return a.mode.CTRGladman=(function(){var s=a.lib.BlockCipherMode.extend();function u(_){if((_>>24&255)===255){var S=_>>16&255,m=_>>8&255,y=_&255;S===255?(S=0,m===255?(m=0,y===255?y=0:++y):++m):++S,_=0,_+=S<<16,_+=m<<8,_+=y}else _+=1<<24;return _}function g(_){return(_[0]=u(_[0]))===0&&(_[1]=u(_[1])),_}var B=s.Encryptor=s.extend({processBlock:function(_,S){var m=this._cipher,y=m.blockSize,k=this._iv,h=this._counter;k&&(h=this._counter=k.slice(0),this._iv=void 0),g(h);var A=h.slice(0);m.encryptBlock(A,0);for(var w=0;w<y;w++)_[S+w]^=A[w]}});return s.Decryptor=B,s})(),a.mode.CTRGladman})})(An)),An.exports}var kn={exports:{}},zd=kn.exports,gi;function Md(){return gi||(gi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(zd,function(a){return a.mode.OFB=(function(){var s=a.lib.BlockCipherMode.extend(),u=s.Encryptor=s.extend({processBlock:function(g,B){var _=this._cipher,S=_.blockSize,m=this._iv,y=this._keystream;m&&(y=this._keystream=m.slice(0),this._iv=void 0),_.encryptBlock(y,0);for(var k=0;k<S;k++)g[B+k]^=y[k]}});return s.Decryptor=u,s})(),a.mode.OFB})})(kn)),kn.exports}var Bn={exports:{}},Ud=Bn.exports,yi;function Vd(){return yi||(yi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Ud,function(a){return a.mode.ECB=(function(){var s=a.lib.BlockCipherMode.extend();return s.Encryptor=s.extend({processBlock:function(u,g){this._cipher.encryptBlock(u,g)}}),s.Decryptor=s.extend({processBlock:function(u,g){this._cipher.decryptBlock(u,g)}}),s})(),a.mode.ECB})})(Bn)),Bn.exports}var Dn={exports:{}},Nd=Dn.exports,vi;function Wd(){return vi||(vi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Nd,function(a){return a.pad.AnsiX923={pad:function(s,u){var g=s.sigBytes,B=u*4,_=B-g%B,S=g+_-1;s.clamp(),s.words[S>>>2]|=_<<24-S%4*8,s.sigBytes+=_},unpad:function(s){var u=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=u}},a.pad.Ansix923})})(Dn)),Dn.exports}var Tn={exports:{}},Hd=Tn.exports,Ei;function jd(){return Ei||(Ei=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Hd,function(a){return a.pad.Iso10126={pad:function(s,u){var g=u*4,B=g-s.sigBytes%g;s.concat(a.lib.WordArray.random(B-1)).concat(a.lib.WordArray.create([B<<24],1))},unpad:function(s){var u=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=u}},a.pad.Iso10126})})(Tn)),Tn.exports}var Fn={exports:{}},Gd=Fn.exports,bi;function qd(){return bi||(bi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Gd,function(a){return a.pad.Iso97971={pad:function(s,u){s.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(s,u)},unpad:function(s){a.pad.ZeroPadding.unpad(s),s.sigBytes--}},a.pad.Iso97971})})(Fn)),Fn.exports}var Rn={exports:{}},Kd=Rn.exports,_i;function Yd(){return _i||(_i=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Kd,function(a){return a.pad.ZeroPadding={pad:function(s,u){var g=u*4;s.clamp(),s.sigBytes+=g-(s.sigBytes%g||g)},unpad:function(s){for(var u=s.words,g=s.sigBytes-1,g=s.sigBytes-1;g>=0;g--)if(u[g>>>2]>>>24-g%4*8&255){s.sigBytes=g+1;break}}},a.pad.ZeroPadding})})(Rn)),Rn.exports}var Pn={exports:{}},Jd=Pn.exports,Si;function Xd(){return Si||(Si=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Jd,function(a){return a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding})})(Pn)),Pn.exports}var In={exports:{}},Zd=In.exports,wi;function Qd(){return wi||(wi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Me())})(Zd,function(a){return(function(s){var u=a,g=u.lib,B=g.CipherParams,_=u.enc,S=_.Hex,m=u.format;m.Hex={stringify:function(y){return y.ciphertext.toString(S)},parse:function(y){var k=S.parse(y);return B.create({ciphertext:k})}}})(),a.format.Hex})})(In)),In.exports}var Ln={exports:{}},eu=Ln.exports,Ci;function tu(){return Ci||(Ci=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Br(),Dr(),cr(),Me())})(eu,function(a){return(function(){var s=a,u=s.lib,g=u.BlockCipher,B=s.algo,_=[],S=[],m=[],y=[],k=[],h=[],A=[],w=[],C=[],v=[];(function(){for(var r=[],o=0;o<256;o++)o<128?r[o]=o<<1:r[o]=o<<1^283;for(var d=0,l=0,o=0;o<256;o++){var P=l^l<<1^l<<2^l<<3^l<<4;P=P>>>8^P&255^99,_[d]=P,S[P]=d;var L=r[d],q=r[L],F=r[q],U=r[P]*257^P*16843008;m[d]=U<<24|U>>>8,y[d]=U<<16|U>>>16,k[d]=U<<8|U>>>24,h[d]=U;var U=F*16843009^q*65537^L*257^d*16843008;A[P]=U<<24|U>>>8,w[P]=U<<16|U>>>16,C[P]=U<<8|U>>>24,v[P]=U,d?(d=L^r[r[r[F^L]]],l^=r[r[l]]):d=l=1}})();var p=[0,1,2,4,8,16,32,64,128,27,54],i=B.AES=g.extend({_doReset:function(){var r;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var o=this._keyPriorReset=this._key,d=o.words,l=o.sigBytes/4,P=this._nRounds=l+6,L=(P+1)*4,q=this._keySchedule=[],F=0;F<L;F++)F<l?q[F]=d[F]:(r=q[F-1],F%l?l>6&&F%l==4&&(r=_[r>>>24]<<24|_[r>>>16&255]<<16|_[r>>>8&255]<<8|_[r&255]):(r=r<<8|r>>>24,r=_[r>>>24]<<24|_[r>>>16&255]<<16|_[r>>>8&255]<<8|_[r&255],r^=p[F/l|0]<<24),q[F]=q[F-l]^r);for(var U=this._invKeySchedule=[],V=0;V<L;V++){var F=L-V;if(V%4)var r=q[F];else var r=q[F-4];V<4||F<=4?U[V]=r:U[V]=A[_[r>>>24]]^w[_[r>>>16&255]]^C[_[r>>>8&255]]^v[_[r&255]]}}},encryptBlock:function(r,o){this._doCryptBlock(r,o,this._keySchedule,m,y,k,h,_)},decryptBlock:function(r,o){var d=r[o+1];r[o+1]=r[o+3],r[o+3]=d,this._doCryptBlock(r,o,this._invKeySchedule,A,w,C,v,S);var d=r[o+1];r[o+1]=r[o+3],r[o+3]=d},_doCryptBlock:function(r,o,d,l,P,L,q,F){for(var U=this._nRounds,V=r[o]^d[0],j=r[o+1]^d[1],re=r[o+2]^d[2],oe=r[o+3]^d[3],de=4,he=1;he<U;he++){var ue=l[V>>>24]^P[j>>>16&255]^L[re>>>8&255]^q[oe&255]^d[de++],ge=l[j>>>24]^P[re>>>16&255]^L[oe>>>8&255]^q[V&255]^d[de++],be=l[re>>>24]^P[oe>>>16&255]^L[V>>>8&255]^q[j&255]^d[de++],x=l[oe>>>24]^P[V>>>16&255]^L[j>>>8&255]^q[re&255]^d[de++];V=ue,j=ge,re=be,oe=x}var ue=(F[V>>>24]<<24|F[j>>>16&255]<<16|F[re>>>8&255]<<8|F[oe&255])^d[de++],ge=(F[j>>>24]<<24|F[re>>>16&255]<<16|F[oe>>>8&255]<<8|F[V&255])^d[de++],be=(F[re>>>24]<<24|F[oe>>>16&255]<<16|F[V>>>8&255]<<8|F[j&255])^d[de++],x=(F[oe>>>24]<<24|F[V>>>16&255]<<16|F[j>>>8&255]<<8|F[re&255])^d[de++];r[o]=ue,r[o+1]=ge,r[o+2]=be,r[o+3]=x},keySize:256/32});s.AES=g._createHelper(i)})(),a.AES})})(Ln)),Ln.exports}var $n={exports:{}},ru=$n.exports,Ai;function ou(){return Ai||(Ai=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Br(),Dr(),cr(),Me())})(ru,function(a){return(function(){var s=a,u=s.lib,g=u.WordArray,B=u.BlockCipher,_=s.algo,S=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],m=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],k=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],A=_.DES=B.extend({_doReset:function(){for(var p=this._key,i=p.words,r=[],o=0;o<56;o++){var d=S[o]-1;r[o]=i[d>>>5]>>>31-d%32&1}for(var l=this._subKeys=[],P=0;P<16;P++){for(var L=l[P]=[],q=y[P],o=0;o<24;o++)L[o/6|0]|=r[(m[o]-1+q)%28]<<31-o%6,L[4+(o/6|0)]|=r[28+(m[o+24]-1+q)%28]<<31-o%6;L[0]=L[0]<<1|L[0]>>>31;for(var o=1;o<7;o++)L[o]=L[o]>>>(o-1)*4+3;L[7]=L[7]<<5|L[7]>>>27}for(var F=this._invSubKeys=[],o=0;o<16;o++)F[o]=l[15-o]},encryptBlock:function(p,i){this._doCryptBlock(p,i,this._subKeys)},decryptBlock:function(p,i){this._doCryptBlock(p,i,this._invSubKeys)},_doCryptBlock:function(p,i,r){this._lBlock=p[i],this._rBlock=p[i+1],w.call(this,4,252645135),w.call(this,16,65535),C.call(this,2,858993459),C.call(this,8,16711935),w.call(this,1,1431655765);for(var o=0;o<16;o++){for(var d=r[o],l=this._lBlock,P=this._rBlock,L=0,q=0;q<8;q++)L|=k[q][((P^d[q])&h[q])>>>0];this._lBlock=P,this._rBlock=l^L}var F=this._lBlock;this._lBlock=this._rBlock,this._rBlock=F,w.call(this,1,1431655765),C.call(this,8,16711935),C.call(this,2,858993459),w.call(this,16,65535),w.call(this,4,252645135),p[i]=this._lBlock,p[i+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function w(p,i){var r=(this._lBlock>>>p^this._rBlock)&i;this._rBlock^=r,this._lBlock^=r<<p}function C(p,i){var r=(this._rBlock>>>p^this._lBlock)&i;this._lBlock^=r,this._rBlock^=r<<p}s.DES=B._createHelper(A);var v=_.TripleDES=B.extend({_doReset:function(){var p=this._key,i=p.words;if(i.length!==2&&i.length!==4&&i.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var r=i.slice(0,2),o=i.length<4?i.slice(0,2):i.slice(2,4),d=i.length<6?i.slice(0,2):i.slice(4,6);this._des1=A.createEncryptor(g.create(r)),this._des2=A.createEncryptor(g.create(o)),this._des3=A.createEncryptor(g.create(d))},encryptBlock:function(p,i){this._des1.encryptBlock(p,i),this._des2.decryptBlock(p,i),this._des3.encryptBlock(p,i)},decryptBlock:function(p,i){this._des3.decryptBlock(p,i),this._des2.encryptBlock(p,i),this._des1.decryptBlock(p,i)},keySize:192/32,ivSize:64/32,blockSize:64/32});s.TripleDES=B._createHelper(v)})(),a.TripleDES})})($n)),$n.exports}var On={exports:{}},nu=On.exports,ki;function au(){return ki||(ki=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Br(),Dr(),cr(),Me())})(nu,function(a){return(function(){var s=a,u=s.lib,g=u.StreamCipher,B=s.algo,_=B.RC4=g.extend({_doReset:function(){for(var y=this._key,k=y.words,h=y.sigBytes,A=this._S=[],w=0;w<256;w++)A[w]=w;for(var w=0,C=0;w<256;w++){var v=w%h,p=k[v>>>2]>>>24-v%4*8&255;C=(C+A[w]+p)%256;var i=A[w];A[w]=A[C],A[C]=i}this._i=this._j=0},_doProcessBlock:function(y,k){y[k]^=S.call(this)},keySize:256/32,ivSize:0});function S(){for(var y=this._S,k=this._i,h=this._j,A=0,w=0;w<4;w++){k=(k+1)%256,h=(h+y[k])%256;var C=y[k];y[k]=y[h],y[h]=C,A|=y[(y[k]+y[h])%256]<<24-w*8}return this._i=k,this._j=h,A}s.RC4=g._createHelper(_);var m=B.RC4Drop=_.extend({cfg:_.cfg.extend({drop:192}),_doReset:function(){_._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)S.call(this)}});s.RC4Drop=g._createHelper(m)})(),a.RC4})})(On)),On.exports}var zn={exports:{}},su=zn.exports,Bi;function iu(){return Bi||(Bi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Br(),Dr(),cr(),Me())})(su,function(a){return(function(){var s=a,u=s.lib,g=u.StreamCipher,B=s.algo,_=[],S=[],m=[],y=B.Rabbit=g.extend({_doReset:function(){for(var h=this._key.words,A=this.cfg.iv,w=0;w<4;w++)h[w]=(h[w]<<8|h[w]>>>24)&16711935|(h[w]<<24|h[w]>>>8)&4278255360;var C=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var w=0;w<4;w++)k.call(this);for(var w=0;w<8;w++)v[w]^=C[w+4&7];if(A){var p=A.words,i=p[0],r=p[1],o=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360,d=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,l=o>>>16|d&4294901760,P=d<<16|o&65535;v[0]^=o,v[1]^=l,v[2]^=d,v[3]^=P,v[4]^=o,v[5]^=l,v[6]^=d,v[7]^=P;for(var w=0;w<4;w++)k.call(this)}},_doProcessBlock:function(h,A){var w=this._X;k.call(this),_[0]=w[0]^w[5]>>>16^w[3]<<16,_[1]=w[2]^w[7]>>>16^w[5]<<16,_[2]=w[4]^w[1]>>>16^w[7]<<16,_[3]=w[6]^w[3]>>>16^w[1]<<16;for(var C=0;C<4;C++)_[C]=(_[C]<<8|_[C]>>>24)&16711935|(_[C]<<24|_[C]>>>8)&4278255360,h[A+C]^=_[C]},blockSize:128/32,ivSize:64/32});function k(){for(var h=this._X,A=this._C,w=0;w<8;w++)S[w]=A[w];A[0]=A[0]+1295307597+this._b|0,A[1]=A[1]+3545052371+(A[0]>>>0<S[0]>>>0?1:0)|0,A[2]=A[2]+886263092+(A[1]>>>0<S[1]>>>0?1:0)|0,A[3]=A[3]+1295307597+(A[2]>>>0<S[2]>>>0?1:0)|0,A[4]=A[4]+3545052371+(A[3]>>>0<S[3]>>>0?1:0)|0,A[5]=A[5]+886263092+(A[4]>>>0<S[4]>>>0?1:0)|0,A[6]=A[6]+1295307597+(A[5]>>>0<S[5]>>>0?1:0)|0,A[7]=A[7]+3545052371+(A[6]>>>0<S[6]>>>0?1:0)|0,this._b=A[7]>>>0<S[7]>>>0?1:0;for(var w=0;w<8;w++){var C=h[w]+A[w],v=C&65535,p=C>>>16,i=((v*v>>>17)+v*p>>>15)+p*p,r=((C&4294901760)*C|0)+((C&65535)*C|0);m[w]=i^r}h[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,h[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,h[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,h[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,h[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,h[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,h[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,h[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}s.Rabbit=g._createHelper(y)})(),a.Rabbit})})(zn)),zn.exports}var Mn={exports:{}},cu=Mn.exports,Di;function lu(){return Di||(Di=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Br(),Dr(),cr(),Me())})(cu,function(a){return(function(){var s=a,u=s.lib,g=u.StreamCipher,B=s.algo,_=[],S=[],m=[],y=B.RabbitLegacy=g.extend({_doReset:function(){var h=this._key.words,A=this.cfg.iv,w=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],C=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var v=0;v<4;v++)k.call(this);for(var v=0;v<8;v++)C[v]^=w[v+4&7];if(A){var p=A.words,i=p[0],r=p[1],o=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360,d=(r<<8|r>>>24)&16711935|(r<<24|r>>>8)&4278255360,l=o>>>16|d&4294901760,P=d<<16|o&65535;C[0]^=o,C[1]^=l,C[2]^=d,C[3]^=P,C[4]^=o,C[5]^=l,C[6]^=d,C[7]^=P;for(var v=0;v<4;v++)k.call(this)}},_doProcessBlock:function(h,A){var w=this._X;k.call(this),_[0]=w[0]^w[5]>>>16^w[3]<<16,_[1]=w[2]^w[7]>>>16^w[5]<<16,_[2]=w[4]^w[1]>>>16^w[7]<<16,_[3]=w[6]^w[3]>>>16^w[1]<<16;for(var C=0;C<4;C++)_[C]=(_[C]<<8|_[C]>>>24)&16711935|(_[C]<<24|_[C]>>>8)&4278255360,h[A+C]^=_[C]},blockSize:128/32,ivSize:64/32});function k(){for(var h=this._X,A=this._C,w=0;w<8;w++)S[w]=A[w];A[0]=A[0]+1295307597+this._b|0,A[1]=A[1]+3545052371+(A[0]>>>0<S[0]>>>0?1:0)|0,A[2]=A[2]+886263092+(A[1]>>>0<S[1]>>>0?1:0)|0,A[3]=A[3]+1295307597+(A[2]>>>0<S[2]>>>0?1:0)|0,A[4]=A[4]+3545052371+(A[3]>>>0<S[3]>>>0?1:0)|0,A[5]=A[5]+886263092+(A[4]>>>0<S[4]>>>0?1:0)|0,A[6]=A[6]+1295307597+(A[5]>>>0<S[5]>>>0?1:0)|0,A[7]=A[7]+3545052371+(A[6]>>>0<S[6]>>>0?1:0)|0,this._b=A[7]>>>0<S[7]>>>0?1:0;for(var w=0;w<8;w++){var C=h[w]+A[w],v=C&65535,p=C>>>16,i=((v*v>>>17)+v*p>>>15)+p*p,r=((C&4294901760)*C|0)+((C&65535)*C|0);m[w]=i^r}h[0]=m[0]+(m[7]<<16|m[7]>>>16)+(m[6]<<16|m[6]>>>16)|0,h[1]=m[1]+(m[0]<<8|m[0]>>>24)+m[7]|0,h[2]=m[2]+(m[1]<<16|m[1]>>>16)+(m[0]<<16|m[0]>>>16)|0,h[3]=m[3]+(m[2]<<8|m[2]>>>24)+m[1]|0,h[4]=m[4]+(m[3]<<16|m[3]>>>16)+(m[2]<<16|m[2]>>>16)|0,h[5]=m[5]+(m[4]<<8|m[4]>>>24)+m[3]|0,h[6]=m[6]+(m[5]<<16|m[5]>>>16)+(m[4]<<16|m[4]>>>16)|0,h[7]=m[7]+(m[6]<<8|m[6]>>>24)+m[5]|0}s.RabbitLegacy=g._createHelper(y)})(),a.RabbitLegacy})})(Mn)),Mn.exports}var Un={exports:{}},du=Un.exports,Ti;function uu(){return Ti||(Ti=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Br(),Dr(),cr(),Me())})(du,function(a){return(function(){var s=a,u=s.lib,g=u.BlockCipher,B=s.algo;const _=16,S=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],m=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function k(v,p){let i=p>>24&255,r=p>>16&255,o=p>>8&255,d=p&255,l=v.sbox[0][i]+v.sbox[1][r];return l=l^v.sbox[2][o],l=l+v.sbox[3][d],l}function h(v,p,i){let r=p,o=i,d;for(let l=0;l<_;++l)r=r^v.pbox[l],o=k(v,r)^o,d=r,r=o,o=d;return d=r,r=o,o=d,o=o^v.pbox[_],r=r^v.pbox[_+1],{left:r,right:o}}function A(v,p,i){let r=p,o=i,d;for(let l=_+1;l>1;--l)r=r^v.pbox[l],o=k(v,r)^o,d=r,r=o,o=d;return d=r,r=o,o=d,o=o^v.pbox[1],r=r^v.pbox[0],{left:r,right:o}}function w(v,p,i){for(let P=0;P<4;P++){v.sbox[P]=[];for(let L=0;L<256;L++)v.sbox[P][L]=m[P][L]}let r=0;for(let P=0;P<_+2;P++)v.pbox[P]=S[P]^p[r],r++,r>=i&&(r=0);let o=0,d=0,l=0;for(let P=0;P<_+2;P+=2)l=h(v,o,d),o=l.left,d=l.right,v.pbox[P]=o,v.pbox[P+1]=d;for(let P=0;P<4;P++)for(let L=0;L<256;L+=2)l=h(v,o,d),o=l.left,d=l.right,v.sbox[P][L]=o,v.sbox[P][L+1]=d;return!0}var C=B.Blowfish=g.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,p=v.words,i=v.sigBytes/4;w(y,p,i)}},encryptBlock:function(v,p){var i=h(y,v[p],v[p+1]);v[p]=i.left,v[p+1]=i.right},decryptBlock:function(v,p){var i=A(y,v[p],v[p+1]);v[p]=i.left,v[p+1]=i.right},blockSize:64/32,keySize:128/32,ivSize:64/32});s.Blowfish=g._createHelper(C)})(),a.Blowfish})})(Un)),Un.exports}var fu=nn.exports,Fi;function mu(){return Fi||(Fi=1,(function(f,c){(function(a,s,u){f.exports=s(ve(),Gn(),ld(),ud(),Br(),xd(),Dr(),Yi(),Ma(),vd(),Ji(),_d(),wd(),Ad(),Ua(),Dd(),cr(),Me(),Pd(),Ld(),Od(),Md(),Vd(),Wd(),jd(),qd(),Yd(),Xd(),Qd(),tu(),ou(),au(),iu(),lu(),uu())})(fu,function(a){return a})})(nn)),nn.exports}var xu=mu();const Pa=Vi(xu),Nn="ENC::",pu=(f,c)=>{if(!f||!c)return f;try{const a=Pa.AES.encrypt(f,c).toString();return Nn+a}catch(a){return console.error("≈ûifreleme hatasƒ±:",a),f}},tp=(f,c)=>{if(!f||!f.startsWith(Nn)||!c)return f;try{const a=f.replace(Nn,""),u=Pa.AES.decrypt(a,c).toString(Pa.enc.Utf8);return u||"üîí ≈ûifreli Mesaj (Anahtar Yanlƒ±≈ü)"}catch(a){return console.error("≈ûifre √ß√∂zme hatasƒ±:",a),"üîí √á√∂z√ºlemedi"}},rp=f=>f&&typeof f=="string"&&f.startsWith(Nn),St={mobile:768,tablet:1024,desktop:1920,ultrawide:2560},hu=()=>{const[f,c]=n.useState({width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080});n.useEffect(()=>{if(typeof window>"u")return;let u;const g=()=>{clearTimeout(u),u=setTimeout(()=>{c({width:window.innerWidth,height:window.innerHeight})},150)};return g(),window.addEventListener("resize",g),window.addEventListener("orientationchange",g),()=>{clearTimeout(u),window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g)}},[]);const{width:a,height:s}=f;return{isMobile:a<=St.mobile,isTablet:a>St.mobile&&a<=St.tablet,isDesktop:a>St.tablet&&a<=St.desktop,isUltrawide:a>St.desktop,width:a,height:s,orientation:s>a?"portrait":"landscape",isSmallScreen:a<=St.mobile,isMediumScreen:a>St.mobile&&a<=St.tablet,isLargeScreen:a>St.tablet,isTouchDevice:typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),breakpoints:St}},gu=(f,c,a)=>n.useMemo(()=>{if(!f||!Array.isArray(f))return[];let u=f;if(c&&typeof c=="string"&&c.trim()){const g=c.toLowerCase();u=u.filter(B=>B.content?.toLowerCase().includes(g)||B.user?.username?.toLowerCase().includes(g))}return u.sort((g,B)=>{const _=new Date(g.created_at||g.timestamp),S=new Date(B.created_at||B.timestamp);return _-S})},[f,c]),yu=f=>n.useMemo(()=>!f||!Array.isArray(f)?[]:f.filter(c=>c.is_online||c.online),[f]);typeof window<"u"&&window.Capacitor?.isNativePlatform?.();typeof window<"u"&&window.location?.hostname?.includes("pawscord.com");const Va=()=>"https://api.pawscord.com".replace(/\/api\/?$/,""),vu=()=>`${Va()}/api`,Eu=()=>Va().startsWith("https")?"wss":"ws",bu=()=>Va().replace(/^https?:\/\//,""),_u={API_BASE_URL:vu(),WS_PROTOCOL:Eu(),API_HOSTNAME:bu()},Su=_u.API_BASE_URL,wu=()=>{let f=sessionStorage.getItem("analytics_session_id");return f||(f=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("analytics_session_id",f)),f},Cu=()=>{const f=Ni();n.useEffect(()=>{(async()=>{try{const a=wu();await fetch(`${Su}/analytics/track/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:f.pathname,session_id:a,referrer:document.referrer,timestamp:new Date().toISOString()})}),console.log("üìä Page tracked:",f.pathname)}catch(a){console.error("Analytics tracking error:",a)}})()},[f.pathname])},Au=(f,c)=>{const a=n.useRef(null);return n.useCallback((...s)=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{f(...s)},c)},[f,c])},ku=(f,c)=>{const a=n.useRef(Date.now());return n.useCallback((...s)=>{const u=Date.now();u-a.current>=c&&(f(...s),a.current=u)},[f,c])},op=f=>{const c=n.useRef(0),a=n.useRef(0);n.useEffect(()=>{const s=performance.now();return c.current+=1,()=>{const g=performance.now()-s;a.current+=g,c.current%10===0&&console.log(`üéØ ${f} Performance Stats:`,`
  Total Renders: ${c.current}`,`
  Average Time: ${(a.current/c.current).toFixed(2)}ms`,`
  Last Render: ${g.toFixed(2)}ms`)}})};class bo extends Error{}bo.prototype.name="InvalidTokenError";function Bu(f){return decodeURIComponent(atob(f).replace(/(.)/g,(c,a)=>{let s=a.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function Du(f){let c=f.replace(/-/g,"+").replace(/_/g,"/");switch(c.length%4){case 0:break;case 2:c+="==";break;case 3:c+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Bu(c)}catch{return atob(c)}}function Xr(f,c){if(typeof f!="string")throw new bo("Invalid token specified: must be a string");c||(c={});const a=c.header===!0?0:1,s=f.split(".")[a];if(typeof s!="string")throw new bo(`Invalid token specified: missing part #${a+1}`);let u;try{u=Du(s)}catch(g){throw new bo(`Invalid token specified: invalid base64 for part #${a+1} (${g.message})`)}try{return JSON.parse(u)}catch(g){throw new bo(`Invalid token specified: invalid json for part #${a+1} (${g.message})`)}}const Tu="pawscord.com",Fu="443",Na=typeof window>"u"?!1:!!(typeof window.require=="function"||typeof process<"u"&&process.versions&&process.versions.electron||navigator.userAgent.toLowerCase().includes("electron")||window.location.protocol==="file:"),Xi=eo.isNativePlatform(),Tr=Xi||Na||!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("192.168.")?"https://api.pawscord.com":`http://${Tu}:${Fu}`,Ru=`${Tr}/api`;Xi||Na||window.location.hostname.includes("localhost");const Wn=Tr.startsWith("https")?"wss":"ws",Hn=Tr.replace(/^https?:\/\//,""),Zi=n.createContext(null),Pu=Tr,Iu=({children:f})=>{const c=localStorage.getItem("access_token"),a=(()=>{if(!c)return!1;try{return Xr(c).exp>Date.now()/1e3-300}catch{return!1}})(),[s,u]=n.useState(a?{username:localStorage.getItem("chat_username")||""}:null),[g,B]=n.useState(c),[_,S]=n.useState(a),[m,y]=n.useState(!1),k=n.useRef(null),h=n.useCallback(async()=>{const v=localStorage.getItem("refresh_token");if(!v)return console.warn("‚ö†Ô∏è [Auth] No refresh token available"),C(),!1;try{console.log("üîÑ [Auth] Refreshing access token...");const p=await fetch(`${Pu}/api/auth/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:v})});if(p.ok){const i=await p.json();localStorage.setItem("access_token",i.access),i.refresh&&localStorage.setItem("refresh_token",i.refresh);const r=Xr(i.access);return B(i.access),u({username:r.username}),S(!0),console.log("‚úÖ [Auth] Token refreshed successfully"),A(i.access),!0}else return console.error("‚ùå [Auth] Token refresh failed:",p.status),C(),!1}catch(p){return console.error("‚ùå [Auth] Token refresh error:",p),C(),!1}},[]),A=n.useCallback(v=>{k.current&&clearTimeout(k.current);try{const p=Xr(v),i=Date.now()/1e3,r=p.exp-i,o=Math.max((r-300)*1e3,6e4);console.log(`‚è∞ [Auth] Token will refresh in ${Math.round(o/1e3/60)} minutes`),k.current=setTimeout(()=>{h()},o)}catch(p){console.error("‚ùå [Auth] Failed to schedule token refresh:",p)}},[h]);n.useEffect(()=>{const v=localStorage.getItem("access_token");if(v)try{const p=Xr(v),i=Date.now()/1e3,r=300,o=p.exp>i-r;console.log("üîê [Auth] Token check:",{exp:p.exp,currentTime:i,gracePeriod:r,isValid:o,username:p.username}),o?(B(v),u({username:p.username}),S(!0),localStorage.setItem("chat_username",p.username),A(v),console.log("‚úÖ [Auth] User authenticated:",p.username)):(console.warn("‚ö†Ô∏è [Auth] Token expired, attempting refresh..."),h())}catch(p){console.error("‚ùå [Auth] Invalid token:",p),C()}else console.log("‚ÑπÔ∏è [Auth] No token found");return()=>{k.current&&clearTimeout(k.current)}},[A,h]);const w=(v,p)=>{console.log("üîì [Auth] Login called");try{localStorage.setItem("access_token",v),localStorage.setItem("refresh_token",p);const i=Xr(v);localStorage.setItem("chat_username",i.username),console.log("‚úÖ [Auth] Login successful, user:",i.username),B(v),u({username:i.username}),S(!0),A(v)}catch(i){console.error("‚ùå [Auth] Login failed:",i),C()}},C=n.useCallback(()=>{k.current&&clearTimeout(k.current),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("chat_username"),B(null),u(null),S(!1)},[]);return e.createElement(Zi.Provider,{value:{user:s,token:g,isAuthenticated:_,login:w,logout:C,isLoading:m,refreshAccessToken:h}},f)},So=()=>n.useContext(Zi),Ge={log:(...f)=>{},warn:(...f)=>{},error:(...f)=>{console.error(...f)},debug:(...f)=>{},voice:(...f)=>{},webrtc:(...f)=>{},signal:(...f)=>{},audio:(...f)=>{}};class Lu{constructor(){this.audioContext=null,this.masterGain=null,this.spatialNodes={},this.listenerPosition={x:0,y:0,z:0},this.initialized=!1}async initialize(){if(!this.initialized)try{const c=window.AudioContext||window.webkitAudioContext;this.audioContext=new c,this.masterGain=this.audioContext.createGain(),this.masterGain.gain.value=1,this.masterGain.connect(this.audioContext.destination),this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.setupListener(),this.initialized=!0,console.log("üéß Spatial Audio Engine initialized")}catch(c){throw console.error("Failed to initialize spatial audio:",c),c}}setupListener(){const c=this.audioContext.listener;c.positionX?(c.positionX.value=this.listenerPosition.x,c.positionY.value=this.listenerPosition.y,c.positionZ.value=this.listenerPosition.z):c.setPosition(this.listenerPosition.x,this.listenerPosition.y,this.listenerPosition.z),c.forwardX?(c.forwardX.value=0,c.forwardY.value=0,c.forwardZ.value=-1,c.upX.value=0,c.upY.value=1,c.upZ.value=0):c.setOrientation(0,0,-1,0,1,0)}addUser(c,a,s={x:0,y:0,z:-1}){if(!this.initialized)return console.warn("Spatial audio not initialized"),null;this.spatialNodes[c]&&this.removeUser(c);try{const u=this.audioContext.createMediaStreamSource(a),g=this.audioContext.createPanner();g.panningModel="HRTF",g.distanceModel="inverse",g.refDistance=1,g.maxDistance=1e4,g.rolloffFactor=1.5,g.coneInnerAngle=360,g.coneOuterAngle=360,g.coneOuterGain=0,this.setUserPosition(c,s,g);const B=this.audioContext.createGain();B.gain.value=1;const _=this.audioContext.createAnalyser();return _.fftSize=256,_.smoothingTimeConstant=.8,u.connect(_),_.connect(g),g.connect(B),B.connect(this.masterGain),this.spatialNodes[c]={source:u,panner:g,gain:B,analyser:_,position:s,audioElement:null},console.log(`üéß Added spatial audio for ${c} at position`,s),this.spatialNodes[c]}catch(u){return console.error(`Failed to add spatial audio for ${c}:`,u),null}}setUserPosition(c,a,s=null){const u=s||this.spatialNodes[c]?.panner;u&&(u.positionX?(u.positionX.setValueAtTime(a.x,this.audioContext.currentTime),u.positionY.setValueAtTime(a.y,this.audioContext.currentTime),u.positionZ.setValueAtTime(a.z,this.audioContext.currentTime)):u.setPosition(a.x,a.y,a.z),this.spatialNodes[c]&&(this.spatialNodes[c].position=a))}setUserVolume(c,a){const s=this.spatialNodes[c];if(!s)return;const u=Math.max(0,Math.min(1,a));s.gain.gain.setValueAtTime(u,this.audioContext.currentTime)}getVoiceActivity(c){const a=this.spatialNodes[c];if(!a)return 0;const s=a.analyser,u=new Uint8Array(s.frequencyBinCount);s.getByteFrequencyData(u);const B=u.reduce((_,S)=>_+S,0)/u.length;return Math.round(B/255*100)}removeUser(c){const a=this.spatialNodes[c];if(a)try{a.source.disconnect(),a.analyser.disconnect(),a.panner.disconnect(),a.gain.disconnect(),delete this.spatialNodes[c],console.log(`üéß Removed spatial audio for ${c}`)}catch(s){console.error(`Error removing spatial audio for ${c}:`,s)}}updateListenerPosition(c){this.listenerPosition=c,this.setupListener()}setMasterVolume(c){if(!this.masterGain)return;const a=Math.max(0,Math.min(1,c));this.masterGain.gain.setValueAtTime(a,this.audioContext.currentTime)}setUserMuted(c,a){this.setUserVolume(c,a?0:1)}destroy(){Object.keys(this.spatialNodes).forEach(c=>{this.removeUser(c)}),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.initialized=!1,console.log("üéß Spatial Audio Engine destroyed")}getUserDistance(c){const a=this.spatialNodes[c];if(!a)return 1/0;const s=a.position,u=this.listenerPosition;return Math.sqrt(Math.pow(s.x-u.x,2)+Math.pow(s.y-u.y,2)+Math.pow(s.z-u.z,2))}arrangeUsersInCircle(c,a=3){const s={},u=2*Math.PI/c.length;return c.forEach((g,B)=>{const _=u*B,S={x:Math.cos(_)*a,y:0,z:Math.sin(_)*a};s[g]=S,this.setUserPosition(g,S)}),s}}const vo=new Lu,Qi=n.createContext(null),kr=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"stun:stun.cloudflare.com:3478"},{urls:"stun:stun.services.mozilla.com:3478"},{urls:"stun:stun.stunprotocol.org:3478"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}];let Ia={iceServers:kr,iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};const Qo=f=>{Ia={...Ia,iceServers:f}};console.log("[VoiceContext] üéØ isElectron:",Na,"API_URL:",Tr,"WS_PROTOCOL:",Wn,"API_HOST:",Hn);const $u=({children:f})=>{const{user:c,token:a}=So(),s=c?.username,[u,g]=n.useState(!1),[B,_]=n.useState(!1),[S,m]=n.useState(null),[y,k]=n.useState(!1),[h,A]=n.useState(!1),[w,C]=n.useState(!1),[v,p]=n.useState(!1),[i,r]=n.useState(!1),[o,d]=n.useState(!1),[l,P]=n.useState(0),[L,q]=n.useState(null),[F,U]=n.useState(50),[V,j]=n.useState(null),[re,oe]=n.useState(null),[de,he]=n.useState(null),[ue,ge]=n.useState({}),[be,x]=n.useState([]),[J,X]=n.useState(null),[Y,Ae]=n.useState({isActive:!1,url:"https://www.youtube.com/watch?v=jfKfPfyJRdk",playing:!1,time:0,lastSyncAction:null,timestamp:0}),[ce,we]=n.useState({gameType:"rps",moves:{},result:null,players:[],currentTurn:null}),[me,Ct]=n.useState({}),[At,lr]=n.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_noise_gate"))||-50}catch{return-50}}),[Ot,qe]=n.useState(()=>{try{return localStorage.getItem("pawscord_noise_gate_enabled")!=="false"}catch{return!0}}),[$e,zt]=n.useState({local:new Uint8Array(128),remote:{}}),[Qe,qt]=n.useState(()=>{try{return localStorage.getItem("pawscord_visualizer")==="true"}catch{return!1}}),[lt,dr]=n.useState(()=>{try{return JSON.parse(localStorage.getItem("pawscord_user_volumes"))||{}}catch{return{}}}),[kt,et]=n.useState(new Set),[Fe,at]=n.useState(()=>{try{return localStorage.getItem("pawscord_spatial_audio")==="true"}catch{return!1}}),[dt,Fr]=n.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_vad_sensitivity"))||45}catch{return 45}}),[tt,Mt]=n.useState(()=>{try{const b=localStorage.getItem("pawscord_noise_suppression");return b===null?!0:b==="true"}catch{return!0}}),[Rr,Pr]=n.useState(()=>{try{return JSON.parse(localStorage.getItem("voice_settings")||"{}").audio?.noiseSuppressionLevel||"medium"}catch{return"medium"}}),[Te,te]=n.useState(()=>{try{return localStorage.getItem("pawscord_screen_quality")||"1080p"}catch{return"1080p"}}),[ut,ur]=n.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_screen_fps"))||30}catch{return 30}}),[Kt,Ir]=n.useState(()=>{try{return localStorage.getItem("pawscord_system_audio")!=="false"}catch{return!1}}),[rt,Yt]=n.useState(()=>{try{return localStorage.getItem("pawscord_ptt_mode")==="true"}catch{return!1}}),[ye,Lr]=n.useState(()=>{try{return localStorage.getItem("pawscord_ptt_key")||"Space"}catch{return"Space"}}),[fr,Ut]=n.useState(!1),[Bt,mr]=n.useState(kr),[$r,Ke]=n.useState(!1),[xr,pt]=n.useState(0),[pr,ht]=n.useState(1e3),ft=n.useRef(null),Vt=n.useRef(null);n.useRef(null);const Ie=n.useCallback(async()=>{if(!a){console.log("üßä [RTC] No token, using STUN only"),mr(kr),Qo(kr);return}try{const b=await fetch(`${Tr}/api/voice/turn-credentials/`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!b.ok)throw b.status===401||b.status===403?console.warn("üßä [RTC] Auth failed, using STUN only"):console.warn(`üßä [RTC] TURN fetch failed (${b.status}), using STUN only`),new Error(`TURN fetch failed ${b.status}`);const R=await b.json(),I=[...kr,...R?.iceServers||[]];mr(I),Qo(I),console.log("üßä [RTC] ICE servers updated with TURN credentials:",I.length,"servers")}catch(b){console.warn("üßä [RTC] Using STUN-only mode:",b.message),mr(kr),Qo(kr)}},[a]);n.useEffect(()=>{Ie()},[Ie]);const se=n.useRef(null),_e=n.useRef({}),gt=n.useRef(null),Ue=n.useRef(null),le=n.useRef(null),Ve=n.useRef(null),Ce=n.useRef(null),Nt=n.useRef([]),Dt=n.useRef(null),Jt=n.useRef(null),st=n.useRef(!1),Tt=n.useRef(!1),yt=n.useRef(null),hr=n.useRef(null),to=n.useRef(null),Ne=n.useRef(null);n.useEffect(()=>{localStorage.setItem("pawscord_user_volumes",JSON.stringify(lt))},[lt]);const ro=n.useCallback((b,R)=>{dr(I=>({...I,[b]:Math.max(0,Math.min(100,R))}))},[]);n.useEffect(()=>{le.current=V},[V]),n.useEffect(()=>{Ve.current=re},[re]),n.useEffect(()=>{Ce.current=de},[de]),n.useEffect(()=>{if(!V||!u||y){r(!1);return}if(!Ue.current){const pe=window.AudioContext||window.webkitAudioContext;Ue.current=new pe,console.log("üéµ [Performance] Global AudioContext created (reused for all users)")}const b=Ue.current,R=b.createAnalyser();R.fftSize=2048,R.smoothingTimeConstant=.85;const I=R.frequencyBinCount,W=new Uint8Array(I),K=b.createMediaStreamSource(V);K.connect(R);let N=null;const O=dt,$=150;let Z=null;const ae=()=>{R.getByteFrequencyData(W);const pe=W.slice(10,100);pe.reduce((Re,it)=>Re+it,0)/pe.length>O&&(r(!0),N&&clearTimeout(N),N=setTimeout(()=>r(!1),$)),u&&!y&&(Z=requestAnimationFrame(ae))};return ae(),()=>{N&&clearTimeout(N),Z&&cancelAnimationFrame(Z),K.disconnect()}},[V,u,y,dt]);const vt=n.useCallback(()=>{if(!gt.current){const b=window.AudioContext||window.webkitAudioContext;gt.current=new b}gt.current.state==="suspended"&&gt.current.resume()},[]),qn=n.useCallback(async()=>{const b=!Fe;if(b)try{await vo.initialize(),Object.keys(ue).forEach((R,I)=>{const W=ue[R],K=R.replace("_camera","").replace("_screen","");if(!R.includes("_camera")&&!R.includes("_screen")){const N=I/Object.keys(ue).length*2*Math.PI,O={x:Math.cos(N)*3,y:0,z:Math.sin(N)*3};vo.addUser(K,W,O),console.log(`üéß [Spatial] Added ${K} at angle ${(N*180/Math.PI).toFixed(0)}¬∞`)}}),console.log("üéß [Spatial Audio] ENABLED - 3D audio active!")}catch(R){console.error("Failed to enable spatial audio:",R),ie.warning("Spatial Audio ba≈ülatƒ±lamadƒ±. Tarayƒ±cƒ±nƒ±z desteklemiyor olabilir.");return}else vo.destroy(),console.log("üéß [Spatial Audio] DISABLED - Normal stereo audio");at(b),localStorage.setItem("pawscord_spatial_audio",b.toString())},[Fe,ue]),Co=n.useCallback(b=>{const R=Math.max(20,Math.min(80,b));Fr(R),localStorage.setItem("pawscord_vad_sensitivity",R.toString()),console.log(`üéöÔ∏è [VAD] Sensitivity updated: ${R}`)},[]),Or=n.useCallback(async()=>{const b=!tt;if(Mt(b),localStorage.setItem("pawscord_noise_suppression",b.toString()),V){const R=V.getAudioTracks()[0];if(R&&R.applyConstraints)try{await R.applyConstraints({noiseSuppression:b,echoCancellation:!0,autoGainControl:!0}),console.log(`üéõÔ∏è [Noise Suppression] ${b?"ENABLED":"DISABLED"}`)}catch(I){console.warn("[Noise] Failed to apply, trying fallback getUserMedia:",I);try{const K=(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:b,echoCancellation:!0,autoGainControl:!0,googHighpassFilter:!0,googNoiseSuppression:b,googNoiseSuppression2:b,googEchoCancellation:!0,googAutoGainControl:!0,googTypingNoiseDetection:!0,sampleRate:{ideal:48e3},latency:{ideal:.01},channelCount:{ideal:1}}})).getAudioTracks()[0],N=new MediaStream([K]);j(N),le.current=N,console.log("[Noise] Enhanced fallback stream acquired")}catch(W){console.error("[Noise] Fallback failed:",W)}}}},[tt,V]),Ao=n.useCallback(b=>{const I=["low","medium","high","aggressive"].includes(b)?b:"high";Pr(I);try{const W=JSON.parse(localStorage.getItem("voice_settings")||"{}");W.audio={...W.audio,noiseSuppressionLevel:I},localStorage.setItem("voice_settings",JSON.stringify(W))}catch(W){console.error("[Noise Level] Storage error:",W)}console.log(`üéõÔ∏è [Noise Level] Updated to: ${I}`)},[]),Kn=n.useCallback(b=>{Ir(b),localStorage.setItem("pawscord_system_audio",b.toString()),console.log(`üîä [System Audio] ${b?"ENABLED":"DISABLED"}`)},[]),ko=n.useCallback(()=>{const b=!rt;Yt(b),localStorage.setItem("pawscord_ptt_mode",b.toString()),b?(console.log("üéôÔ∏è [PTT] Mode enabled, VAD disabled"),le.current&&le.current.getAudioTracks().forEach(R=>{R.enabled=!1}),k(!0)):(console.log("üéôÔ∏è [PTT] Mode disabled, VAD enabled"),le.current&&le.current.getAudioTracks().forEach(R=>{R.enabled=!0}),k(!1))},[rt]),Yn=n.useCallback(b=>{Lr(b),localStorage.setItem("pawscord_ptt_key",b),console.log(`‚å®Ô∏è [PTT] Key updated to: ${b}`)},[]);n.useEffect(()=>{if(!rt||!u)return;const b=I=>{const W=I.target;W.tagName==="INPUT"||W.tagName==="TEXTAREA"||I.code===ye&&!I.repeat&&(Ut(!0),le.current&&le.current.getAudioTracks().forEach(K=>{K.enabled=!0}),console.log("üéôÔ∏è [PTT] Key pressed, mic ON"))},R=I=>{I.code===ye&&(Ut(!1),le.current&&le.current.getAudioTracks().forEach(W=>{W.enabled=!1}),console.log("üéôÔ∏è [PTT] Key released, mic OFF"))};return window.addEventListener("keydown",b),window.addEventListener("keyup",R),()=>{window.removeEventListener("keydown",b),window.removeEventListener("keyup",R)}},[rt,u,ye]);const Et=n.useCallback(b=>{te(b),localStorage.setItem("pawscord_screen_quality",b),console.log(`üì∫ [Screen Quality] Updated to: ${b}`)},[]),Jn=n.useCallback(b=>{const R=parseInt(b);ur(R),localStorage.setItem("pawscord_screen_fps",R.toString()),console.log(`üé¨ [Screen FPS] Updated to: ${R}`)},[]);n.useEffect(()=>{Fe&&Object.keys(ue).forEach((b,R)=>{const I=ue[b],W=b.replace("_camera","").replace("_screen","");if(!b.includes("_camera")&&!b.includes("_screen")&&!vo.spatialNodes[W]){const K=R/Object.keys(ue).length*2*Math.PI,N={x:Math.cos(K)*3,y:0,z:Math.sin(K)*3};vo.addUser(W,I,N),console.log(`üéß [Spatial] Auto-added ${W}`)}})},[ue,Fe]),n.useCallback(async b=>{try{const R=b.getAudioTracks();if(R.length===0)return b;const I=R[0],W={echoCancellation:{exact:!0},noiseSuppression:{exact:!0},autoGainControl:{exact:!0},googEchoCancellation:{exact:!0},googAutoGainControl:{exact:!0},googNoiseSuppression:{exact:!0},googHighpassFilter:{exact:!0},googTypingNoiseDetection:{exact:!0},googAudioMirroring:!1,googAutoGainControl2:{exact:!0},echoCancellationType:"system"};if(I.applyConstraints)try{await I.applyConstraints(W),Ge.audio("üéØ ADVANCED noise suppression enabled")}catch{await I.applyConstraints({echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),Ge.audio("‚úÖ Basic noise suppression enabled (fallback)")}return b}catch{return b}},[]);const oo=n.useCallback(b=>{try{const I=JSON.parse(localStorage.getItem("voice_settings")||"{}").audio?.noiseSuppressionLevel||"high",W={low:{gateThreshold:-70,compressorThreshold:-15,compressorRatio:2,highPassFreq:50,lowPassFreq:14e3,gateRelease:.3,speechThreshold:20},medium:{gateThreshold:-60,compressorThreshold:-20,compressorRatio:3,highPassFreq:80,lowPassFreq:12e3,gateRelease:.25,speechThreshold:25},high:{gateThreshold:-50,compressorThreshold:-25,compressorRatio:4,highPassFreq:100,lowPassFreq:1e4,gateRelease:.2,speechThreshold:30},aggressive:{gateThreshold:-45,compressorThreshold:-30,compressorRatio:6,highPassFreq:120,lowPassFreq:8e3,gateRelease:.15,speechThreshold:35}},K=W[I]||W.high;if(console.log(`üîä [Audio] Noise suppression level: ${I}`,K),!Ue.current){const Sr=window.AudioContext||window.webkitAudioContext;Ue.current=new Sr({sampleRate:48e3,latencyHint:"interactive"}),console.log("üéµ [Performance] Global AudioContext created (48kHz, interactive mode)")}const N=Ue.current;N.state==="suspended"&&N.resume().then(()=>{console.log("üéµ [Audio] AudioContext resumed from suspended state")});const O=N.createMediaStreamSource(b),$=N.createGain();let Z=!0;const ae=K.gateThreshold,pe=.005,De=K.gateRelease,Re=N.createDynamicsCompressor();Re.threshold.value=K.compressorThreshold,Re.knee.value=30,Re.ratio.value=Math.min(K.compressorRatio,4),Re.attack.value=.003,Re.release.value=.15;const it=N.createBiquadFilter();it.type="highpass",it.frequency.value=K.highPassFreq,it.Q.value=.707;const Qt=N.createBiquadFilter();Qt.type="lowpass",Qt.frequency.value=K.lowPassFreq,Qt.Q.value=.707;const bt=N.createBiquadFilter();bt.type="notch",bt.frequency.value=50,bt.Q.value=10;const _r=N.createBiquadFilter();_r.type="peaking",_r.frequency.value=6e3,_r.Q.value=1,_r.gain.value=-3;const er=N.createAnalyser();er.fftSize=2048,er.smoothingTimeConstant=.85;const tr=new Uint8Array(er.frequencyBinCount);let Ro=new Float32Array(er.frequencyBinCount),Po=!0,co=0;const Ha=()=>{if(er.getByteFrequencyData(tr),tr.reduce((It,uo)=>It+uo)/tr.length<20){if(co++,co>10)for(let It=0;It<tr.length;It++)Ro[It]=Math.max(Ro[It],tr[It])}else co=0;Po&&co>50&&(Po=!1,console.log("üéØ [Audio] Noise profile learned"))},na=K.speechThreshold||25,aa=setInterval(()=>{er.getByteFrequencyData(tr);const Sr=tr.slice(8,120),uo=Sr.reduce((sa,ia)=>sa+ia)/Sr.length-(Ro[50]||0),Io=N.currentTime;uo>na?Z||($.gain.setTargetAtTime(1,Io,pe),Z=!0):Z&&($.gain.setTargetAtTime(0,Io,De),Z=!1),(Po||Math.random()<.01)&&Ha()},30);O.connect(it),it.connect(bt),bt.connect(Qt),Qt.connect(_r),_r.connect(Re),Re.connect($),$.connect(er);const lo=N.createMediaStreamDestination();return $.connect(lo),lo.stream.addEventListener("inactive",()=>{clearInterval(aa),console.log("üéöÔ∏è [Audio] Filter chain cleaned up")}),console.log("üéöÔ∏è [Audio] Professional filters applied: Notch(50Hz) + De-Esser + Compressor + Noise Gate"),lo.stream}catch(R){return console.error("‚ùå [Audio] Could not apply professional filters:",R),b}},[]),Ye=n.useCallback(b=>{se.current?.readyState===WebSocket.OPEN?(Ge.signal(`Sending ${b.type} to ${b.receiver_username||"BROADCAST"}`),se.current.send(JSON.stringify({...b,sender_username:s}))):Ge.warn("[Signal] WS not ready, cannot send:",b.type)},[s]),gr=n.useCallback((b,R)=>{try{const W=b.getSenders().find($=>$.track?.kind==="video");if(!W){console.log("[Bandwidth] No video sender found, skipping adjustment");return}const K=W.getParameters();(!K.encodings||K.encodings.length===0)&&(K.encodings=[{}]);const N={low:{maxBitrate:3e5,maxFramerate:15},medium:{maxBitrate:8e5,maxFramerate:24},high:{maxBitrate:25e5,maxFramerate:30}},O=N[R]||N.medium;K.encodings[0].maxBitrate=O.maxBitrate,K.encodings[0].maxFramerate=O.maxFramerate,W.setParameters(K).then(()=>{console.log(`‚úÖ [Bandwidth] Video quality set to ${R.toUpperCase()} (${O.maxBitrate/1e3}kbps, ${O.maxFramerate}fps)`)}).catch($=>{console.warn("[Bandwidth] Failed to set parameters:",$)})}catch(I){console.warn("[Bandwidth] Error adjusting bandwidth:",I)}},[]),yr=n.useCallback((b,R)=>{const{track:I}=R;Ge.webrtc(`Track Received from ${b}:`,I.kind,I.id,"label:",I.label,"hint:",I.contentHint);const W=(I.label||"").toLowerCase(),K=W.includes("screen")||W.includes("window")||W.includes("monitor")||W.includes("display")||W.includes("tab")||I.contentHint==="detail",N=I.kind==="video"&&K?`${b}_screen`:I.kind==="video"?`${b}_camera`:b;if(console.log(`üìπ [WebRTC] Detected ${K?"SCREEN":"CAMERA"} track from ${b}, key: ${N}`),ge(O=>{const $=O[N];if($){if(!$.getTracks().some(ae=>ae.id===I.id)){$.addTrack(I);const ae=new MediaStream($.getTracks());return console.log(`[WebRTC] Added track to existing stream: ${N}`),{...O,[N]:ae}}return O}const Z=new MediaStream([I]);return console.log(`[WebRTC] Created new stream: ${N}`),{...O,[N]:Z}}),I.kind==="audio"){console.log(`[WebRTC] Audio track received from ${b}`),vt();try{const O=document.createElement("audio");O.id=`remote-audio-${b}`,O.srcObject=new MediaStream([I]),O.autoplay=!0,O.playsInline=!0;const $=document.getElementById(`remote-audio-${b}`);$&&$.remove(),O.style.display="none",document.body.appendChild(O),O.play().then(()=>{console.log(`üîä [Audio] Playing remote audio from ${b}`)}).catch(Z=>{console.warn(`[Audio] Autoplay blocked for ${b}, waiting for interaction:`,Z.message);const ae=()=>{O.play().catch(()=>{}),document.removeEventListener("click",ae)};document.addEventListener("click",ae,{once:!0})}),console.log(`‚úÖ [Audio] Created audio element for ${b}`)}catch(O){console.error(`[Audio] Failed to create audio element for ${b}:`,O)}}else I.kind==="video"&&console.log(`[WebRTC] Video track (${K?"screen":"camera"}) received from ${b}`)},[vt]),Je=n.useRef({}),vr=n.useCallback((b,R=!1)=>{if(_e.current[b])return _e.current[b];const I=new RTCPeerConnection(Ia);_e.current[b]=I;try{I.getTransceivers().forEach(K=>{if(K.sender&&K.sender.track?.kind==="audio"){const N=RTCRtpSender.getCapabilities("audio")?.codecs||[],O=N.filter(ae=>ae.mimeType.toLowerCase().includes("opus")),$=N.filter(ae=>!ae.mimeType.toLowerCase().includes("opus")),Z=[...O,...$];K.setCodecPreferences&&Z.length>0&&(K.setCodecPreferences(Z),console.log("üéµ [Codec] Opus prioritized for audio"))}})}catch(W){console.warn("[Codec] setCodecPreferences not supported:",W.message)}return typeof window<"u"&&(window.__pawscord_peer_connections__=_e.current),I.onicecandidate=W=>{W.candidate&&Ye({type:"candidate",candidate:W.candidate,receiver_username:b})},I.ontrack=W=>yr(b,W),le.current&&le.current.getTracks().forEach(W=>{Ge.webrtc(`Adding local audio track to PC for ${b}:`,W.kind),I.addTrack(W,le.current)}),I.oniceconnectionstatechange=()=>{console.log(`[WebRTC] ICE State (${b}):`,I.iceConnectionState),I.iceConnectionState==="failed"?(console.warn(`[WebRTC] ICE failed with ${b}, attempting restart...`),Ke(!0),Ie().finally(()=>{I.restartIce(),setTimeout(()=>Ke(!1),1500)})):I.iceConnectionState==="disconnected"?(console.warn(`[WebRTC] ICE disconnected from ${b}, waiting for reconnection...`),Ke(!0),setTimeout(()=>{(I.iceConnectionState==="disconnected"||I.iceConnectionState==="failed")&&(console.error(`[WebRTC] ICE reconnection timeout for ${b}, cleaning up...`),ge(W=>{const K={...W};return delete K[b],K}),_e.current[b]&&(_e.current[b].close(),delete _e.current[b])),Ke(!1)},15e3)):I.iceConnectionState==="closed"?(console.log(`[WebRTC] ICE closed for ${b}, cleaning up...`),ge(W=>{const K={...W};return delete K[b],K}),_e.current[b]&&delete _e.current[b],Ke(!1)):I.iceConnectionState==="connected"?(console.log(`‚úÖ [WebRTC] ICE connected with ${b}`),Ke(!1),setTimeout(async()=>{try{(await I.getStats()).forEach(K=>{if(K.type==="candidate-pair"&&K.state==="succeeded"){const N=K.currentRoundTripTime*1e3;console.log(`üìä [Bandwidth] ${b} RTT: ${N.toFixed(0)}ms`),N>500?(console.warn(`‚ö†Ô∏è [Bandwidth] High latency detected (${N.toFixed(0)}ms), reducing video quality to LOW`),gr(I,"low")):N>300?(console.warn(`‚ö†Ô∏è [Bandwidth] Medium latency detected (${N.toFixed(0)}ms), reducing video quality to MEDIUM`),gr(I,"medium")):(console.log(`‚úÖ [Bandwidth] Good connection (${N.toFixed(0)}ms), using HIGH quality`),gr(I,"high"))}})}catch(W){console.warn("[Bandwidth] Failed to get stats:",W)}},2e3)):I.iceConnectionState==="checking"&&console.log(`üîç [WebRTC] ICE checking with ${b}`)},I},[Ye,yr]),Xt=n.useCallback(async b=>{if(b.type==="kicked"){console.warn("üî¥ [Voice] Kicked from channel:",b.reason,b.message),ie.warning(`Sesli Kanaldan √áƒ±karƒ±ldƒ±nƒ±z

Neden: ${b.message}`,5e3),Ft();return}if(b.type==="video_ended"){const O=b.from||b.username,$=b.streamType||"camera",Z=`${O}_${$}`;console.log(`üìπ [Video] ${O} ended ${$} stream`),ge(ae=>{const pe={...ae};return pe[Z]&&(pe[Z].getTracks().forEach(De=>De.stop()),delete pe[Z],console.log(`üìπ [Video] Cleaned up ${Z} stream`)),pe});return}if(b.type==="voice_reaction"){const O=b.from||b.username;console.log(`üí¨ [Reaction] ${O} sent: ${b.emoji}`),X({username:O,emoji:b.emoji,timestamp:Date.now()}),setTimeout(()=>{X($=>$&&$.timestamp===Date.now()?null:$)},3e3);return}if(b.type==="game_signal"){const O=b.from||b.username;console.log(`üéÆ [Game] ${O}:`,b.action,b.move),we($=>{const Z={...$};if(b.action==="start")Z.gameType=b.game_type,Z.players=[O,b.target].filter(Boolean),Z.moves={},Z.result=null,Z.currentTurn=O;else if(b.action==="move"){if(Z.moves={...$.moves,[O]:b.move},b.game_type==="rps"&&Object.keys(Z.moves).length===2){const[ae,pe]=Object.keys(Z.moves),De=Z.moves[ae],Re=Z.moves[pe];De===Re?Z.result={winner:null,type:"draw"}:{rock:"scissors",scissors:"paper",paper:"rock"}[De]===Re?Z.result={winner:ae,loser:pe}:Z.result={winner:pe,loser:ae}}}else b.action==="end"&&(Z.result=b.result||{type:"cancelled"});return Z});return}if(b.type==="cinema_sync"){const O=b.from||b.username;console.log(`üé¨ [Cinema] ${O}:`,b.action),Ae($=>({...$,isActive:b.action!=="stop",url:b.url||$.url,playing:b.action==="play",time:b.time||$.time,lastSyncAction:b.action,timestamp:Date.now(),syncedBy:O}));return}if(b.type==="current_users"){console.log("[Voice] Received current users from backend:",b.users),x(O=>{const $=b.users||[],Z=$.some(De=>De.username===s),ae=O.find(De=>De.username===s);let pe=[...$];return!Z&&ae?(console.log("[Voice] Backend list missing me, adding from local state"),pe=[ae,...$]):!Z&&s&&(console.log("[Voice] Backend list missing me, adding with defaults"),pe=[{username:s,isMuted:y,isCameraOn:w,isScreenSharing:v,isTalking:i},...$]),console.log("‚úÖ [Voice] Final connected users:",pe.map(De=>De.username)),pe});return}const R=b.from||b.sender_username||b.username,{type:I,sdp:W,candidate:K}=b;if(!R){console.error("[Signal] No sender username found in message:",b);return}if(R===s){console.log(`[Signal] Ignoring ${I} from self (${R})`);return}console.log(`[Signal] Received ${I} from ${R}`,b);let N=_e.current[R];if(!N)if(I==="offer")N=vr(R,!1);else if(I==="user_joined"){if(x(O=>O.find($=>$.username===R)?O:[...O,{username:R,isMuted:!1,isCameraOn:!1,isScreenSharing:!1}]),N=vr(R,!0),console.log(`[user_joined] Checking streams for ${R}:`,{hasAudio:!!le.current,hasCamera:!!Ve.current,hasScreen:!!Ce.current,cameraEnabled:w,screenEnabled:v}),le.current){const O=N.getSenders();le.current.getTracks().forEach($=>{O.some(ae=>ae.track===$)||(Ge.webrtc(`Adding audio track to new peer ${R}:`,$.kind),N.addTrack($,le.current))}),console.log(`‚úÖ [user_joined] Audio track added to ${R}`)}if(Ve.current){const O=N.getSenders();Ve.current.getTracks().forEach($=>{O.some(ae=>ae.track===$)||(Ge.webrtc(`Adding camera track to new peer ${R}:`,$.kind),N.addTrack($,Ve.current))}),console.log(`‚úÖ [user_joined] Camera track added to ${R}`)}if(Ce.current){const O=N.getSenders();Ce.current.getTracks().forEach($=>{O.some(ae=>ae.track===$)||(Ge.webrtc(`Adding screen track to new peer ${R}:`,$.kind),N.addTrack($,Ce.current))}),console.log(`‚úÖ [user_joined] Screen track added to ${R}`)}try{const O=await N.createOffer();await N.setLocalDescription(O),Ye({type:"offer",sdp:N.localDescription,target:R}),Ge.signal(`Sent offer to ${R}`),console.log(`‚úÖ [user_joined] Offer successfully sent to ${R}`)}catch(O){Ge.error("Offer creation failed",O),console.error(`‚ùå [user_joined] Failed to create/send offer to ${R}:`,O)}return}else if(I==="user_left"){console.log(`[Signal] ${R} left the channel`),x($=>$.filter(Z=>Z.username!==R));const O=document.getElementById(`remote-audio-${R}`);O&&(O.pause(),O.srcObject=null,O.remove(),console.log(`üîä [Audio] Removed audio element for ${R}`)),ge($=>{const Z={...$};return delete Z[R],delete Z[`${R}_camera`],delete Z[`${R}_screen`],Z}),_e.current[R]&&(_e.current[R].close(),delete _e.current[R]);return}else if(I==="stream_update"){if(console.log(`[Signal] ${R} stream update:`,b),x(O=>O.map($=>$.username===R?{...$,isCameraOn:b.streamType==="camera"?b.enabled:$.isCameraOn,isScreenSharing:b.streamType==="screen"?b.enabled:$.isScreenSharing}:$)),b.enabled&&!_e.current[R]){console.log(`[stream_update] Creating PC for ${R} due to ${b.streamType} stream`);const O=vr(R,!0);le.current&&le.current.getTracks().forEach($=>{Ge.webrtc(`Adding audio track to ${R}:`,$.kind),O.addTrack($,le.current)}),Ve.current&&Ve.current.getTracks().forEach($=>{Ge.webrtc(`Adding camera track to ${R}:`,$.kind),O.addTrack($,Ve.current)}),Ce.current&&Ce.current.getTracks().forEach($=>{Ge.webrtc(`Adding screen track to ${R}:`,$.kind),O.addTrack($,Ce.current)});try{const $=await O.createOffer();await O.setLocalDescription($),Ye({type:"offer",sdp:O.localDescription,target:R}),Ge.signal(`Sent offer to ${R} after stream_update`)}catch($){Ge.error(`Failed to create offer for ${R}:`,$)}}return}else{console.warn(`[Signal] Ignored ${I} from ${R} (No PC)`);return}try{if(I==="offer"){if(N.signalingState!=="stable"){console.warn(`[Signal] Ignoring offer from ${R}, already in state: ${N.signalingState}`);return}await N.setRemoteDescription(new RTCSessionDescription(W));const O=await N.createAnswer();if(await N.setLocalDescription(O),Ye({type:"answer",sdp:N.localDescription,target:R}),console.log(`[Signal] Sent answer to ${R}`),Je.current[R]){console.log(`[Signal] Processing ${Je.current[R].length} buffered candidates for ${R}`);for(const $ of Je.current[R])try{await N.addIceCandidate($)}catch(Z){console.warn("[Signal] Failed to add buffered candidate:",Z)}delete Je.current[R]}}else if(I==="answer"){if(N.signalingState!=="have-local-offer"){console.warn(`[WebRTC] Error handling answer from ${R}: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: ${N.signalingState}`);return}if(await N.setRemoteDescription(new RTCSessionDescription(W)),console.log(`[Signal] Set remote description from ${R}`),Je.current[R]){console.log(`[Signal] Processing ${Je.current[R].length} buffered candidates for ${R}`);for(const O of Je.current[R])try{await N.addIceCandidate(O)}catch($){console.warn("[Signal] Failed to add buffered candidate:",$)}delete Je.current[R]}}else I==="candidate"&&(N.remoteDescription?(await N.addIceCandidate(new RTCIceCandidate(K)),console.log(`[Signal] Added ICE candidate from ${R}`)):(console.log(`[Signal] Buffering ICE candidate from ${R} (no remote description yet)`),Je.current[R]||(Je.current[R]=[]),Je.current[R].push(new RTCIceCandidate(K))))}catch(O){console.error(`[WebRTC] Error handling ${I} from ${R}:`,O)}},[s,vr,Ye]),Ft=n.useCallback(()=>{if(st.current){console.log("[Voice] Already leaving, skipping...");return}if(st.current=!0,console.log("[Voice] Leaving voice room..."),se.current&&se.current.readyState===WebSocket.OPEN)try{se.current.send(JSON.stringify({type:"user_leaving",sender_username:s}))}catch(b){console.warn("[Voice] Failed to send leave signal:",b)}le.current&&(le.current.getTracks().forEach(b=>{b.stop(),console.log(`[Voice] Stopped track: ${b.kind}`)}),j(null),le.current=null),re&&(re.getTracks().forEach(b=>{b.stop(),console.log(`[Voice] Stopped camera track: ${b.kind}`)}),oe(null),C(!1)),de&&(de.getTracks().forEach(b=>{b.stop(),console.log(`[Voice] Stopped screen track: ${b.kind}`)}),he(null),p(!1)),Object.entries(_e.current).forEach(([b,R])=>{console.log(`[Voice] Closing PC for ${b}`),R.close()}),_e.current={},ge({}),Je.current={},se.current&&(se.current.onclose=null,se.current.close(),se.current=null),g(!1),m(null),_(!1),k(!1),A(!1),o&&(console.log("[Voice] Stopping recording on leave"),Dt.current&&Dt.current.state!=="inactive"&&Dt.current.stop(),Jt.current&&(clearInterval(Jt.current),Jt.current=null),d(!1),P(0)),yt.current&&(clearInterval(yt.current),yt.current=null),ft.current&&(clearTimeout(ft.current),ft.current=null,console.log("[Voice] Cleared pending WebSocket reconnect")),Vt.current&&(clearInterval(Vt.current),Vt.current=null),pt(0),ht(1e3),Ke(!1),setTimeout(()=>{st.current=!1},100)},[s,re,de,o]),Rt=n.useCallback(async b=>{if(u&&S&&S!==b&&!Tt.current&&(console.log(`[Voice] Switching from ${S} to ${b}`),Tt.current=!0,await new Promise(I=>{if(se.current){const W=se.current,K=W.onclose;W.onclose=N=>{K&&K(N),console.log("[Voice] Old WebSocket fully closed"),I()},W.close(1e3,"Switching channel"),se.current=null,setTimeout(I,2e3)}else I()}),Object.values(_e.current).forEach(I=>{I.close()}),_e.current={},ge({}),await new Promise(I=>setTimeout(I,150)),Tt.current=!1,console.log(`[Voice] Now joining ${b}`)),u&&S===b){console.log(`[Voice] Already in ${b}, skipping join`);return}if(Tt.current){console.log("[Voice] Currently switching channels, skipping...");return}console.log(`[Voice] Joining room: ${b}`),_(!0),m(b);try{Bt&&Bt.length>0&&(Qo(Bt),console.log(`üîê [TURN] Using cached ICE servers (${Bt.length})`));const R=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:{ideal:48e3},sampleSize:{ideal:16},channelCount:{ideal:1},googEchoCancellation:!0,googAutoGainControl:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,googAudioMirroring:!1,latency:{ideal:.02}},video:!1});console.log("[Voice] üé§ Got microphone access with AGGRESSIVE noise suppression");let I=R;if(tt)try{I=oo(R),console.log("üéöÔ∏è [Voice] Professional audio filters APPLIED")}catch(N){console.warn("‚ö†Ô∏è [Voice] Could not apply professional filters, using raw stream:",N),I=R}j(I),le.current=I,console.log("üé§ [Voice] Stream ready with noise suppression"),console.log("üé§ [Voice] Stream tracks:",I.getAudioTracks().map(N=>({id:N.id,label:N.label,enabled:N.enabled,readyState:N.readyState,muted:N.muted}))),vt(),yt.current||(yt.current=setInterval(async()=>{const O=le.current?.getAudioTracks()?.[0];if(!(!u||st.current)&&(gt.current?.state==="suspended"&&await gt.current.resume().catch(()=>{}),!O||O.readyState==="ended"||!O.enabled&&!y&&!rt))try{const $=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,googEchoCancellation:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,sampleRate:48e3,channelCount:1},video:!1});j($),le.current=$;const Z=$.getAudioTracks()[0];Object.values(_e.current).forEach(ae=>{ae.getSenders().filter(pe=>pe.track?.kind==="audio").forEach(pe=>pe.replaceTrack(Z).catch(()=>{}))}),console.log("üîÑ [Mic Watchdog] Audio track yenilendi (basit stream)")}catch($){console.warn("[Mic Watchdog] Mic refresh failed:",$)}},8e3));const W=`${Wn}://${Hn}/ws/voice/${b}/?token=${a}`;console.log(`[Voice] Connecting to ${W}`);const K=new WebSocket(W);se.current=K,K.onopen=()=>{console.log("üé§ [VoiceWS] Connected to room:",b),g(!0),_(!1),x(N=>N.some($=>$.username===s)?N:(console.log("‚úÖ [Voice] Added self to connected users immediately"),[{username:s,isMuted:y,isCameraOn:w,isScreenSharing:v,isTalking:!1},...N]))},K.onmessage=N=>{try{const O=JSON.parse(N.data);console.log("[VoiceWS] Message received:",O.type||O),Xt(O)}catch(O){console.error("[VoiceWS] Parse error:",O)}},K.onerror=N=>{console.error("üé§ [VoiceWS] Error:",N),_(!1),!st.current&&!Tt.current&&console.warn("[VoiceWS] Error occurred, reconnect will be attempted on close")},K.onclose=N=>{if(console.log("üé§ [VoiceWS] Disconnected, code:",N.code,"reason:",N.reason),st.current||Tt.current){console.log("[VoiceWS] User intentionally left or switching, not reconnecting"),Ke(!1),pt(0),ht(1e3),ft.current&&(clearTimeout(ft.current),ft.current=null);return}if(N.code===1e3){console.log("[VoiceWS] Normal closure (1000), cleaning up"),Ft();return}if(b&&u){const $=xr+1;if($>10){console.error("[VoiceWS] ‚ùå Max retry limit reached (10), giving up"),ie.error("Sesli sohbet baƒülantƒ±sƒ± 10 denemeden sonra kurulamadƒ±. L√ºtfen sayfayƒ± yenileyin.",5e3),Ft(),pt(0),ht(1e3);return}const Z=Math.min(pr,3e4);console.warn(`[VoiceWS] üîÑ Unexpected disconnect (code: ${N.code})`),console.log(`[VoiceWS] üîÑ Reconnect attempt ${$}/10 in ${Z}ms...`),Ke(!0),pt($),ft.current&&clearTimeout(ft.current),ft.current=setTimeout(()=>{!st.current&&!Tt.current&&b?(console.log(`[VoiceWS] ‚ö° Executing reconnect attempt ${$} to ${b}`),ht(ae=>Math.min(ae*2,3e4)),Rt(b).then(()=>{console.log("[VoiceWS] ‚úÖ Reconnection successful! Resetting retry counters."),pt(0),ht(1e3),Ke(!1)}).catch(ae=>{console.error("[VoiceWS] Reconnection failed:",ae)})):(console.log("[VoiceWS] Reconnect cancelled (user left or room changed)"),Ke(!1),pt(0),ht(1e3))},Z)}else console.log("[VoiceWS] Not in voice or no room, cleaning up"),Ft()}}catch(R){console.error("Voice Join Error:",R),_(!1),Tt.current=!1,R.name==="NotAllowedError"?ie.warning("Mikrofon izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan izin verin.",5e3):R.name==="NotFoundError"?ie.warning("Mikrofon bulunamadƒ±. L√ºtfen bir mikrofon baƒülayƒ±n."):ie.error("Sesli sohbete baƒülanƒ±lamadƒ±: "+R.message)}},[u,S,a,Xt,vt,Ft]),Xn=n.useCallback(()=>{k(b=>{const R=!b;return le.current&&le.current.getAudioTracks().forEach(I=>{I.enabled=!R}),se.current?.readyState===WebSocket.OPEN&&se.current.send(JSON.stringify({type:"mic_off_state",is_mic_off:R})),console.log(`[Voice] Mute: ${R}`),R})},[]),Bo=n.useCallback(()=>{A(b=>{const R=!b;return se.current?.readyState===WebSocket.OPEN&&se.current.send(JSON.stringify({type:"deaf_state",is_deafened:R})),console.log(`[Voice] Deafened: ${R}`),R})},[]),zr=n.useRef(!1),no=n.useCallback(async()=>{if(zr.current){console.log("[Camera] Toggle already in progress, skipping...");return}zr.current=!0;try{const b=Ve.current;if(b){console.log("[Camera] Stopping camera stream"),C(!1),oe(null),Ve.current=null,b.getTracks().forEach(I=>{I.stop(),console.log(`[Camera] Stopped ${I.kind} track`)});const R=[];for(const[I,W]of Object.entries(_e.current)){const K=W.getSenders();let N=!1;for(const O of K)if(O.track&&O.track.kind==="video"&&O.track.contentHint!=="detail")try{W.removeTrack(O),N=!0,console.log(`[Camera] Removed video track from peer: ${I}`)}catch($){console.warn(`[Camera] Failed to remove track from ${I}:`,$)}if(N){const O=(async()=>{try{const $=await W.createOffer();await W.setLocalDescription($),Ye({type:"offer",sdp:W.localDescription,target:I}),console.log(`[Camera] Sent renegotiation offer to ${I} after removal`)}catch($){console.warn(`[Camera] Renegotiation failed with ${I}:`,$)}})();R.push(O)}}se.current?.readyState===WebSocket.OPEN&&(se.current.send(JSON.stringify({type:"camera_state",is_camera_on:!1})),se.current.send(JSON.stringify({type:"video_ended",streamType:"camera"})),console.log("[Camera] Sent video_ended signal")),Promise.all(R).catch(I=>console.warn("[Camera] Some renegotiations failed:",I))}else{console.log("[Camera] Starting camera stream");const R=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}}});if(!zr.current){console.log("[Camera] Toggle was cancelled, stopping new stream"),R.getTracks().forEach(K=>K.stop());return}console.log("[Camera] Got camera stream:",R.id),Ve.current=R,oe(R),C(!0);const I=R.getVideoTracks()[0];I.onended=()=>{console.log("[Camera] Track ended by browser/system"),oe(null),Ve.current=null,C(!1),se.current?.readyState===WebSocket.OPEN&&se.current.send(JSON.stringify({type:"video_ended",streamType:"camera"}))};try{I.contentHint="motion"}catch(K){console.warn("[Camera] contentHint not supported:",K)}const W=[];for(const[K,N]of Object.entries(_e.current)){const O=(async()=>{try{N.addTrack(I,R),console.log(`[Camera] Added video track to peer: ${K}`);const $=await N.createOffer();await N.setLocalDescription($),Ye({type:"offer",sdp:N.localDescription,target:K}),console.log(`[Camera] Sent renegotiation offer to ${K}`)}catch($){console.warn(`[Camera] Failed to add/renegotiate with ${K}:`,$)}})();W.push(O)}se.current?.readyState===WebSocket.OPEN&&(se.current.send(JSON.stringify({type:"camera_state",is_camera_on:!0})),console.log("[Camera] State sent to backend: is_camera_on=true")),Promise.all(W).catch(K=>console.warn("[Camera] Some track additions failed:",K))}}catch(b){console.error("[Camera] Error:",b),b.name==="NotAllowedError"?ie.warning("Kamera izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan kamera iznini a√ßƒ±n.",5e3):b.name==="NotFoundError"?ie.warning("Kamera bulunamadƒ±. L√ºtfen bir kamera baƒülayƒ±n."):ie.error("Kamera ba≈ülatƒ±lamadƒ±: "+b.message),C(!1),Ve.current=null,oe(null)}finally{setTimeout(()=>{zr.current=!1},300)}},[Ye]),Zn=no,Er=n.useRef(!1),Qn=n.useCallback(async()=>{if(Er.current){console.log("[Screen] Toggle already in progress, skipping...");return}Er.current=!0;try{const b=Ce.current;if(b){console.log("[Screen] Stopping screen share"),p(!1),he(null),Ce.current=null,b.getTracks().forEach(I=>{I.stop(),console.log(`[Screen] Stopped ${I.kind} track`)});const R=[];for(const[I,W]of Object.entries(_e.current)){const K=W.getSenders();let N=!1;for(const O of K)if(O.track&&O.track.contentHint==="detail")try{W.removeTrack(O),N=!0,console.log(`[Screen] Removed screen track from peer: ${I}`)}catch($){console.warn(`[Screen] Failed to remove track from ${I}:`,$)}if(N){const O=(async()=>{try{const $=await W.createOffer();await W.setLocalDescription($),Ye({type:"offer",sdp:W.localDescription,target:I}),console.log(`[Screen] Sent renegotiation offer to ${I} after removal`)}catch($){console.warn(`[Screen] Renegotiation failed with ${I}:`,$)}})();R.push(O)}}se.current?.readyState===WebSocket.OPEN&&(se.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!1})),se.current.send(JSON.stringify({type:"video_ended",streamType:"screen"})),console.log("[Screen] Sent video_ended signal")),Promise.all(R).catch(I=>console.warn("[Screen] Some renegotiations failed:",I))}else{console.log("[Screen] Starting screen share");const R={"720p":{width:1280,height:720},"1080p":{width:1920,height:1080},"4K":{width:3840,height:2160}},I=R[Te]||R["1080p"];console.log(`üé¨ [Screen] Quality: ${Te}, FPS: ${ut}`);const W=await navigator.mediaDevices.getDisplayMedia({video:{cursor:"always",displaySurface:"monitor",width:{ideal:I.width},height:{ideal:I.height},frameRate:{ideal:ut}},audio:Kt});if(!Er.current){console.log("[Screen] Toggle was cancelled, stopping new stream"),W.getTracks().forEach(O=>O.stop());return}console.log("[Screen] Got screen stream:",W.id),W.getVideoTracks()[0].onended=()=>{console.log("[Screen] User stopped sharing via browser"),he(null),Ce.current=null,p(!1),se.current?.readyState===WebSocket.OPEN&&(se.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!1})),se.current.send(JSON.stringify({type:"video_ended",streamType:"screen"})))},Ce.current=W,he(W),p(!0);const K=W.getVideoTracks()[0];try{K.contentHint="detail"}catch(O){console.warn("[Screen] contentHint not supported:",O)}const N=[];for(const[O,$]of Object.entries(_e.current)){const Z=(async()=>{try{$.addTrack(K,W),console.log(`[Screen] Added screen track to peer: ${O}`);const ae=await $.createOffer();await $.setLocalDescription(ae),Ye({type:"offer",sdp:$.localDescription,target:O}),console.log(`[Screen] Sent renegotiation offer to ${O}`)}catch(ae){console.error(`[Screen] Failed to add track to ${O}:`,ae.message)}})();N.push(Z)}se.current?.readyState===WebSocket.OPEN&&se.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!0})),Promise.all(N).catch(O=>console.warn("[Screen] Some track additions failed:",O))}}catch(b){console.error("[Screen] Error:",b),b.name==="NotAllowedError"?console.log("[Screen] User cancelled screen share"):b.name==="NotFoundError"?ie.warning("Ekran payla≈üƒ±mƒ± desteklenmiyor."):ie.error("Ekran payla≈üƒ±mƒ± ba≈ülatƒ±lamadƒ±: "+b.message),p(!1),Ce.current=null,he(null)}finally{setTimeout(()=>{Er.current=!1},300)}},[Ye,Te,ut,Kt]),ao=n.useCallback(()=>{if(!u||o){console.warn("[Recording] Cannot start - not in voice or already recording");return}try{const b=new(window.AudioContext||window.webkitAudioContext),R=b.createMediaStreamDestination();V&&b.createMediaStreamSource(V).connect(R),Object.entries(ue).forEach(([W,K])=>{!W.includes("_camera")&&!W.includes("_screen")&&K.getAudioTracks().length>0&&b.createMediaStreamSource(K).connect(R)});const I=new MediaRecorder(R.stream,{mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:128e3});Nt.current=[],I.ondataavailable=W=>{W.data.size>0&&Nt.current.push(W.data)},I.onstop=()=>{const W=new Blob(Nt.current,{type:"audio/webm"}),K=URL.createObjectURL(W),N=document.createElement("a");N.href=K,N.download=`pawscord-voice-${S}-${Date.now()}.webm`,N.click(),URL.revokeObjectURL(K),console.log("‚úÖ [Recording] Saved recording")},I.start(1e3),Dt.current=I,d(!0),P(0),Jt.current=setInterval(()=>{P(W=>W+1)},1e3),console.log("üî¥ [Recording] Started")}catch(b){console.error("[Recording] Start error:",b),ie.error("Kayƒ±t ba≈ülatƒ±lamadƒ±: "+b.message)}},[u,o,V,ue,S]),so=n.useCallback(()=>{o&&(Dt.current&&Dt.current.state!=="inactive"&&Dt.current.stop(),Jt.current&&(clearInterval(Jt.current),Jt.current=null),Dt.current=null,d(!1),P(0),console.log("‚èπÔ∏è [Recording] Stopped"))},[o]),Do=n.useCallback(()=>{if(Nt.current.length===0){ie.warning("Hen√ºz kayƒ±t yok!");return}const b=new Blob(Nt.current,{type:"audio/webm"}),R=URL.createObjectURL(b),I=document.createElement("a");I.href=R,I.download=`pawscord-voice-${S||"recording"}-${Date.now()}.webm`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(R),console.log("üíæ [Recording] Downloaded manually")},[S]),ea=n.useCallback(async(b,R=50)=>{if(!V||!u){console.warn("[VoiceEffect] No stream or not in voice");return}try{if(hr.current&&(hr.current.forEach($=>{try{$.disconnect()}catch{}}),hr.current=null),!b){q(null),console.log("üéµ [VoiceEffect] Cleared");return}const I=Ue.current||new AudioContext;Ue.current||(Ue.current=I);const W=I.createMediaStreamSource(V),K=I.createMediaStreamDestination(),N=[],O=R/100;switch(b){case"robot":{const $=I.createOscillator(),Z=I.createGain(),ae=I.createWaveShaper();$.type="sawtooth",$.frequency.value=50+O*100,Z.gain.value=.3+O*.4;const pe=new Float32Array(256);for(let De=0;De<256;De++){const Re=De/128-1;pe[De]=Math.tanh(Re*(1+O*3))}ae.curve=pe,$.connect(Z),W.connect(ae),ae.connect(K),$.start(),N.push($,Z,ae);break}case"echo":{const $=I.createDelay(1),Z=I.createGain(),ae=I.createGain(),pe=I.createGain();$.delayTime.value=.1+O*.4,Z.gain.value=.2+O*.5,ae.gain.value=.3+O*.4,pe.gain.value=1-O*.3,W.connect(pe),W.connect($),$.connect(Z),Z.connect($),$.connect(ae),pe.connect(K),ae.connect(K),N.push($,Z,ae,pe);break}case"deep":{const $=I.createBiquadFilter(),Z=I.createGain();$.type="lowshelf",$.frequency.value=500,$.gain.value=10+O*15,Z.gain.value=1.2,W.connect($),$.connect(Z),Z.connect(K),N.push($,Z);break}case"high":{const $=I.createBiquadFilter(),Z=I.createGain();$.type="highshelf",$.frequency.value=1e3,$.gain.value=8+O*12,Z.gain.value=.9,W.connect($),$.connect(Z),Z.connect(K),N.push($,Z);break}case"radio":{const $=I.createBiquadFilter(),Z=I.createBiquadFilter(),ae=I.createWaveShaper();$.type="lowpass",$.frequency.value=3e3-O*1e3,Z.type="highpass",Z.frequency.value=300+O*200;const pe=new Float32Array(256);for(let De=0;De<256;De++){const Re=De/128-1;pe[De]=Math.sign(Re)*Math.pow(Math.abs(Re),.8)}ae.curve=pe,W.connect(Z),Z.connect($),$.connect(ae),ae.connect(K),N.push($,Z,ae);break}case"reverb":{const $=I.createConvolver(),Z=I.createGain(),ae=I.createGain(),pe=I.sampleRate,De=pe*(.5+O*2),Re=I.createBuffer(2,De,pe);for(let it=0;it<2;it++){const Qt=Re.getChannelData(it);for(let bt=0;bt<De;bt++)Qt[bt]=(Math.random()*2-1)*Math.pow(1-bt/De,2)}$.buffer=Re,Z.gain.value=.3+O*.5,ae.gain.value=1-O*.2,W.connect(ae),W.connect($),$.connect(Z),ae.connect(K),Z.connect(K),N.push($,Z,ae);break}default:W.connect(K)}hr.current=N,to.current=K.stream,q(b),U(R),console.log(`üéµ [VoiceEffect] Applied: ${b} at ${R}%`)}catch(I){console.error("[VoiceEffect] Error:",I),ie.error("Ses efekti uygulanamadƒ±")}},[V,u]),To=n.useCallback(b=>{if(!se.current||se.current.readyState!==WebSocket.OPEN){console.warn("[Reaction] WebSocket not connected");return}se.current.send(JSON.stringify({type:"voice_reaction",emoji:b})),console.log(`üí¨ [Reaction] Sent: ${b}`)},[]),Wa=n.useCallback((b,R,I=null,W=null)=>{if(!se.current||se.current.readyState!==WebSocket.OPEN){console.warn("[Game] WebSocket not connected");return}se.current.send(JSON.stringify({type:"game_signal",game_type:b,action:R,move:I,target:W})),console.log(`üéÆ [Game] Sent: ${b} - ${R}`,I)},[]),ta=n.useCallback((b,R=0,I=null)=>{if(!se.current||se.current.readyState!==WebSocket.OPEN){console.warn("[Cinema] WebSocket not connected");return}se.current.send(JSON.stringify({type:"cinema_sync",action:b,time:R,url:I})),console.log(`üé¨ [Cinema] Sent: ${b}`,{time:R,url:I})},[]),ra=n.useCallback(()=>{Ne.current||(Ne.current=setInterval(async()=>{const b={};for(const[R,I]of Object.entries(_e.current))try{const W=await I.getStats();let K=null,N=null;W.forEach(O=>{O.type==="inbound-rtp"&&O.kind==="audio"&&(K={packetsReceived:O.packetsReceived,packetsLost:O.packetsLost,jitter:O.jitter,bytesReceived:O.bytesReceived}),O.type==="inbound-rtp"&&O.kind==="video"&&(N={packetsReceived:O.packetsReceived,packetsLost:O.packetsLost,framesDecoded:O.framesDecoded,frameWidth:O.frameWidth,frameHeight:O.frameHeight}),O.type==="candidate-pair"&&O.state==="succeeded"&&(b[R]={...b[R],rtt:O.currentRoundTripTime*1e3,connectionType:O.localCandidateId?.includes("relay")?"TURN":"STUN/Direct"})}),b[R]={...b[R],audio:K,video:N,connectionState:I.connectionState,iceConnectionState:I.iceConnectionState}}catch(W){console.warn(`[Stats] Failed to get stats for ${R}:`,W)}Ct(b)},2e3),console.log("üìä [Stats] Monitoring started"))},[]),Mr=n.useCallback(()=>{Ne.current&&(clearInterval(Ne.current),Ne.current=null,Ct({}),console.log("üìä [Stats] Monitoring stopped"))},[]),Fo=n.useCallback(b=>{qe(b),localStorage.setItem("pawscord_noise_gate_enabled",b.toString()),console.log(`üéöÔ∏è [Noise Gate] ${b?"ENABLED":"DISABLED"}`)},[]),io=n.useCallback(b=>{const R=Math.max(-80,Math.min(-20,b));lr(R),localStorage.setItem("pawscord_noise_gate",R.toString()),console.log(`üéöÔ∏è [Noise Gate] Threshold: ${R}dB`)},[]),oa=n.useCallback(b=>{qt(b),localStorage.setItem("pawscord_visualizer",b.toString()),console.log(`üìä [Visualizer] ${b?"ENABLED":"DISABLED"}`)},[]),Zt=n.useRef(null),Pt=n.useRef(null),br=n.useCallback(()=>{if(!(!Qe||!V)&&!Zt.current)try{Ue.current||(Ue.current=new(window.AudioContext||window.webkitAudioContext));const b=Ue.current,R=b.createAnalyser();R.fftSize=256;const I=b.createMediaStreamSource(V);I.connect(R),Pt.current={local:R,localSource:I,remote:{}},Object.entries(ue).forEach(([W,K])=>{if(!W.includes("_camera")&&!W.includes("_screen")){const N=b.createAnalyser();N.fftSize=256;const O=b.createMediaStreamSource(K);O.connect(N),Pt.current.remote[W]={analyser:N,source:O}}}),Zt.current=setInterval(()=>{const W=new Uint8Array(128);Pt.current.local.getByteFrequencyData(W);const K={};Object.entries(Pt.current.remote).forEach(([N,{analyser:O}])=>{const $=new Uint8Array(128);O.getByteFrequencyData($),K[N]=$}),zt({local:W,remote:K})},33),console.log("üìä [Visualizer] Started")}catch(b){console.error("[Visualizer] Failed to start:",b)}},[Qe,V,ue]),Ur=n.useCallback(()=>{if(Zt.current&&(clearInterval(Zt.current),Zt.current=null),Pt.current){try{Pt.current.localSource?.disconnect(),Object.values(Pt.current.remote).forEach(({source:b})=>{b?.disconnect()})}catch{}Pt.current=null}zt({local:new Uint8Array(128),remote:{}}),console.log("üìä [Visualizer] Stopped")},[]);return n.useEffect(()=>(u&&Qe?br():Ur(),()=>Ur()),[u,Qe,br,Ur]),n.useEffect(()=>()=>{o&&so(),yt.current&&(clearInterval(yt.current),yt.current=null),Mr()},[o,so,Mr]),e.createElement(Qi.Provider,{value:{isInVoice:u,isConnecting:B,currentRoom:S,isMuted:y,isDeafened:h,isVideoEnabled:w,isScreenSharing:v,isTalking:i,isSpatialAudioEnabled:Fe,vadSensitivity:dt,isNoiseSuppressionEnabled:tt,screenShareQuality:Te,screenShareFPS:ut,isRecording:o,recordingDuration:l,isPTTMode:rt,isPTTActive:fr,pttKey:ye,includeSystemAudio:Kt,localStream:V,localAudioStream:V,localCameraStream:re,localScreenStream:de,remoteStreams:ue,connectedUsers:be,remoteVolumes:lt,mutedUsers:kt,joinVoiceRoom:Rt,leaveVoiceRoom:Ft,joinChannel:Rt,leaveChannel:Ft,setRemoteVolume:ro,setIsMuted:k,setIsDeafened:A,setIsVideoEnabled:C,setIsScreenSharing:p,toggleMute:Xn,toggleDeafened:Bo,toggleVideo:no,toggleCamera:Zn,toggleScreenShare:Qn,toggleSpatialAudio:qn,updateVadSensitivity:Co,toggleNoiseSuppression:Or,updateScreenQuality:Et,updateScreenFPS:Jn,toggleSystemAudio:Kn,togglePTTMode:ko,updatePTTKey:Yn,startRecording:ao,stopRecording:so,downloadRecording:Do,sendSignal:Ye,isPttActive:fr,sendReaction:To,lastReaction:J,applyVoiceEffect:ea,activeVoiceEffect:L,voiceEffectIntensity:F,setVoiceEffectIntensity:U,cinemaState:Y,setCinemaState:Ae,sendCinemaSync:ta,gameState:ce,setGameState:we,sendGameSignal:Wa,connectionStats:me,startStatsMonitoring:ra,stopStatsMonitoring:Mr,noiseSuppressionLevel:Rr,updateNoiseSuppressionLevel:Ao,iceServers:Bt,isReconnecting:$r,adjustBandwidth:gr,noiseGateThreshold:At,isNoiseGateEnabled:Ot,toggleNoiseGate:Fo,updateNoiseGateThreshold:io,audioVisualizerData:$e,isVisualizerEnabled:Qe,toggleVisualizer:oa,startVisualizer:br,stopVisualizer:Ur}},f)},Ou=()=>n.useContext(Qi),e0=n.createContext(null),zu=({children:f})=>{const[c,a]=n.useState(!1),[s,u]=n.useState(null),[g,B]=n.useState(0),_=n.useRef(null),S=n.useRef(null),m=n.useCallback(()=>{const y=localStorage.getItem("access_token");if(!y)return;let k="Anonymous";try{k=Xr(y).username}catch(w){console.error("Token decode hatasƒ±",w)}const h=`${Wn}://${Hn}/ws/status/?username=${encodeURIComponent(k)}&token=${y}`;_.current&&_.current.close();const A=new WebSocket(h);_.current=A,A.onopen=()=>{console.log("üåê [GlobalWS] Baƒülandƒ±"),a(!0)},A.onmessage=w=>{const C=JSON.parse(w.data);u(C),C.type==="chat_message_handler"&&C.username==="‚ö° Signal Bot"&&(Notification.permission==="granted"&&document.hidden&&new Notification("üö® YENƒ∞ KRƒ∞PTO Sƒ∞NYALƒ∞!",{body:`${C.content.split(`
`)[2]}`,icon:"/logo192.png"}),B(v=>v+1))},A.onclose=w=>{console.log("üåê [GlobalWS] Kapandƒ±",w.code),a(!1),clearTimeout(S.current),S.current=setTimeout(m,5e3)},A.onerror=w=>{console.error("üåê [GlobalWS] Hata",w),A.close()}},[Hn,Wn]);return n.useEffect(()=>{const y=setTimeout(()=>{m()},2e3);return()=>{clearTimeout(y),_.current&&_.current.close(),clearTimeout(S.current)}},[m]),e.createElement(e0.Provider,{value:{isConnected:c,globalData:s,unreadGlobal:g,setUnreadGlobal:B}},f)},t0=()=>n.useContext(e0),Mu=({message:f,endTime:c,level:a="info",onDismiss:s})=>{const[u,g]=n.useState("");n.useEffect(()=>{if(!c)return;const S=()=>{const y=new Date,h=new Date(c)-y;if(h<=0){g("Ending soon..."),setTimeout(()=>window.location.reload(),5e3);return}const A=Math.floor(h/(1e3*60*60)),w=Math.floor(h%(1e3*60*60)/(1e3*60));g(`${A}h ${w}m remaining`)};S();const m=setInterval(S,6e4);return()=>clearInterval(m)},[c]);const B={info:{bg:"rgba(88, 101, 242, 0.1)",border:"#5865f2",text:"#5865f2"},warning:{bg:"rgba(250, 166, 26, 0.1)",border:"#faa61a",text:"#faa61a"},critical:{bg:"rgba(240, 71, 71, 0.1)",border:"#f04747",text:"#f04747"}},_=B[a]||B.info;return e.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:_.bg,borderBottom:`2px solid ${_.border}`,padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:9999,animation:"slideDown 0.3s ease"}},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},e.createElement(Jc,{style:{color:_.text,fontSize:"18px"}}),e.createElement("div",null,e.createElement("div",{style:{color:_.text,fontWeight:"bold"}},a==="critical"?"üö® Critical Maintenance":a==="warning"?"‚ö†Ô∏è Scheduled Maintenance":"‚ÑπÔ∏è Maintenance Notice"),e.createElement("div",{style:{color:"#dcddde",fontSize:"14px",marginTop:"2px"}},f,u&&e.createElement("span",{style:{marginLeft:"10px",opacity:.7}},"(",u,")")))),s&&e.createElement("button",{onClick:s,style:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",padding:"8px",borderRadius:"4px",transition:"background 0.2s"},onMouseEnter:S=>S.target.style.background="rgba(255,255,255,0.1)",onMouseLeave:S=>S.target.style.background="none"},e.createElement(_o,null)))},wt=({size:f="medium",text:c="Y√ºkleniyor...",fullscreen:a=!1})=>{const s={small:{spinner:24,text:"12px"},medium:{spinner:40,text:"14px"},large:{spinner:60,text:"16px"}},u=s[f]||s.medium,g=a?Yr.fullscreenContainer:Yr.inlineContainer;return e.createElement("div",{style:g},e.createElement("div",{style:{...Yr.spinnerWrapper,width:u.spinner,height:u.spinner}},e.createElement("div",{style:Yr.spinnerOuter}),e.createElement("div",{style:Yr.spinnerInner})),c&&e.createElement("div",{style:{...Yr.loadingText,fontSize:u.text}},c))},Yr={fullscreenContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#36393f",zIndex:9999,gap:"16px"},inlineContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"20px",minHeight:"100px"},spinnerWrapper:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},spinnerOuter:{position:"absolute",width:"100%",height:"100%",border:"3px solid rgba(88, 101, 242, 0.2)",borderTop:"3px solid #5865f2",borderRadius:"50%",animation:"spin 1s linear infinite"},spinnerInner:{position:"absolute",width:"70%",height:"70%",border:"3px solid rgba(88, 101, 242, 0.1)",borderBottom:"3px solid #7289da",borderRadius:"50%",animation:"spin 0.7s linear infinite reverse"},loadingText:{color:"#b5bac1",fontWeight:500,textAlign:"center",animation:"pulse 1.5s ease-in-out infinite"}};if(typeof document<"u"){const f=document.createElement("style");f.innerText=`
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
    `,document.head.querySelector("[data-loading-spinner-styles]")||(f.setAttribute("data-loading-spinner-styles","true"),document.head.appendChild(f))}const Uu="https://media.pawscord.com",Vu=`${Uu}/assets`,Nu=`${Vu}/logo.png`,Wu=Nu,Hu=()=>e.createElement("svg",{className:"splash-logo",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("ellipse",{cx:"50",cy:"62",rx:"22",ry:"18",fill:"white"}),e.createElement("ellipse",{cx:"28",cy:"38",rx:"10",ry:"12",fill:"white"}),e.createElement("ellipse",{cx:"72",cy:"38",rx:"10",ry:"12",fill:"white"}),e.createElement("ellipse",{cx:"22",cy:"55",rx:"8",ry:"10",fill:"white"}),e.createElement("ellipse",{cx:"78",cy:"55",rx:"8",ry:"10",fill:"white"})),ju=()=>{const[f,c]=n.useState(!1);return f?e.createElement(Hu,null):e.createElement("img",{src:Wu,alt:"Pawscord",className:"splash-logo",onError:()=>c(!0)})},Gu=({animationState:f})=>e.createElement("div",{className:`splash-screen ${f}`},e.createElement("div",{className:"particles"},[...Array(15)].map((c,a)=>e.createElement("div",{key:a,className:"particle",style:{"--delay":`${Math.random()*2}s`,"--x":`${Math.random()*100}%`,"--size":`${4+Math.random()*8}px`,"--duration":`${2+Math.random()*3}s`}}))),e.createElement("div",{className:"rings-container"},e.createElement("div",{className:"ring ring-1"}),e.createElement("div",{className:"ring ring-2"}),e.createElement("div",{className:"ring ring-3"})),e.createElement("div",{className:"logo-container"},e.createElement("div",{className:"logo-glow"}),e.createElement(ju,null)),e.createElement("div",{className:"brand-text"},e.createElement("span",{className:"letter",style:{"--i":0}},"P"),e.createElement("span",{className:"letter",style:{"--i":1}},"A"),e.createElement("span",{className:"letter",style:{"--i":2}},"W"),e.createElement("span",{className:"letter",style:{"--i":3}},"S"),e.createElement("span",{className:"letter",style:{"--i":4}},"C"),e.createElement("span",{className:"letter",style:{"--i":5}},"O"),e.createElement("span",{className:"letter",style:{"--i":6}},"R"),e.createElement("span",{className:"letter",style:{"--i":7}},"D")),e.createElement("div",{className:"loading-bar"},e.createElement("div",{className:"loading-progress"}))),Ri=e.memo(Gu),Pi=e.lazy(()=>z(()=>import("./Message-DlVmBzAW.js"),__vite__mapDeps([17,1,2,18,19]),import.meta.url)),qu=e.lazy(()=>z(()=>import("./VirtualMessageList-CUP8LK7w.js"),__vite__mapDeps([20,1,2]),import.meta.url)),Ku=e.lazy(()=>z(()=>import("./MessageInput-C_OH5FJq.js"),__vite__mapDeps([21,1,2,16,22,23]),import.meta.url)),en=e.lazy(()=>z(()=>import("./UserVideoContainer-BNPuRsWh.js"),__vite__mapDeps([24,1,2]),import.meta.url)),Yu=e.lazy(()=>z(()=>import("./VoiceAudioController-BQ6IxFAq.js"),__vite__mapDeps([25,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./RichTextEditor-BDnzOLxG.js"),__vite__mapDeps([26,1,2,27,28,29]),import.meta.url));const Ju=e.lazy(()=>z(()=>import("./StickyMessageBanner-B1e3coUm.js"),__vite__mapDeps([30,1,2]),import.meta.url)),Xu=e.lazy(()=>z(()=>import("./LoginPage-BS5l-7SH.js"),__vite__mapDeps([31,1,2,32]),import.meta.url)),Zu=e.lazy(()=>z(()=>import("./WelcomeScreen-DvrM3tMC.js"),__vite__mapDeps([33,1,2,34,35]),import.meta.url)),Qu=e.lazy(()=>z(()=>import("./ImageModal-BJpTthaE.js"),__vite__mapDeps([7,1,2]),import.meta.url)),ef=e.lazy(()=>z(()=>import("./UserProfileModal-CzpQr02N.js"),__vite__mapDeps([6,1,2]),import.meta.url)),tf=e.lazy(()=>z(()=>import("./PollCreateModal-Vuxuqi1X.js"),__vite__mapDeps([14,1,2]),import.meta.url)),rf=e.lazy(()=>z(()=>import("./CodeSnippetModal-CrTjAOSh.js"),__vite__mapDeps([15,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./AvatarCropper-BtC-_poD.js"),__vite__mapDeps([36,1,2,37]),import.meta.url));const of=e.lazy(()=>z(()=>import("./CryptoChartModal-vdP09Jbc.js"),__vite__mapDeps([38,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./CryptoStoreModal-DOcaldgJ.js"),__vite__mapDeps([39,1,2]),import.meta.url));const nf=e.lazy(()=>z(()=>import("./PremiumStoreModal-BKeUrjOD.js"),__vite__mapDeps([40,1,2]),import.meta.url)),af=e.lazy(()=>z(()=>import("./WhiteboardModal-DA4r1gTh.js"),__vite__mapDeps([13,1,2]),import.meta.url)),sf=e.lazy(()=>z(()=>import("./SoundboardModal-DPLwKIj2.js"),__vite__mapDeps([10,1,2]),import.meta.url)),cf=e.lazy(()=>z(()=>import("./KanbanBoard-D5b1E6Aj.js"),__vite__mapDeps([41,1,2,28]),import.meta.url)),Ii=e.lazy(()=>z(()=>import("./SummaryModal-Kmv7wy9l.js"),__vite__mapDeps([42,1,2]),import.meta.url)),lf=e.lazy(()=>z(()=>import("./MessageTemplateModal-D-EFv1ZE.js"),__vite__mapDeps([16,1,2]),import.meta.url)),df=e.lazy(()=>z(()=>import("./CinemaModal-OD9Scxif.js"),__vite__mapDeps([12,1,2]),import.meta.url)),uf=e.lazy(()=>z(()=>import("./StickerPicker-DCqF42bs.js"),__vite__mapDeps([9,1,2]),import.meta.url)),ff=e.lazy(()=>z(()=>import("./GifPicker-CCGP1uc1.js"),__vite__mapDeps([8,1,2]),import.meta.url)),mf=e.lazy(()=>z(()=>import("./DJModal-B0y0iBGs.js"),__vite__mapDeps([43,1,2]),import.meta.url)),xf=e.lazy(()=>z(()=>import("./ThemeStoreModal-DsAXyg96.js"),__vite__mapDeps([44,1,2]),import.meta.url)),pf=e.lazy(()=>z(()=>import("./EncryptionKeyModal-DE3jyvi2.js"),__vite__mapDeps([45,1,2]),import.meta.url)),hf=e.lazy(()=>z(()=>import("./DownloadModal-B7a5Oik7.js"),__vite__mapDeps([34,1,2]),import.meta.url)),gf=e.lazy(()=>z(()=>import("./ServerSettingsModal-Cr8_z9AR.js"),__vite__mapDeps([3,1,2,4,5]),import.meta.url)),yf=e.lazy(()=>z(()=>import("./CreateGroupModal-FhDP3jwe.js"),__vite__mapDeps([46,1,2]),import.meta.url)),vf=e.lazy(()=>z(()=>import("./AdminAnalyticsPanel-CYkgU3zJ.js"),__vite__mapDeps([47,1,2,28]),import.meta.url)),Ef=e.lazy(()=>z(()=>import("./AdminPanelModal-BwQ1Xvhi.js"),__vite__mapDeps([48,1,2]),import.meta.url)),bf=e.lazy(()=>z(()=>import("./WebhooksPanel-CFYxITml.js"),__vite__mapDeps([49,1,2,35,50]),import.meta.url)),_f=e.lazy(()=>z(()=>import("./VanityURLManager-BwBHoF9_.js"),__vite__mapDeps([5,1,2]),import.meta.url)),Sf=e.lazy(()=>z(()=>import("./AutoModerationDashboard-DT6OivCj.js"),__vite__mapDeps([51,1,2]),import.meta.url)),wf=e.lazy(()=>z(()=>import("./AutoModerationPanel-CGtuoGU2.js"),__vite__mapDeps([52,1,2,53]),import.meta.url)),Cf=e.lazy(()=>z(()=>import("./RaidProtectionPanel-C_3398P2.js"),__vite__mapDeps([54,1,2]),import.meta.url)),Af=e.lazy(()=>z(()=>import("./ReportSystemPanel-BlHnVZks.js"),__vite__mapDeps([55,1,2]),import.meta.url)),kf=e.lazy(()=>z(()=>import("./AuditLogPanel-Dgm74XC7.js"),__vite__mapDeps([56,1,2]),import.meta.url)),Bf=e.lazy(()=>z(()=>import("./UserWarningsPanel-Cw7lpt2y.js"),__vite__mapDeps([57,1,2]),import.meta.url)),Df=e.lazy(()=>z(()=>import("./BookmarkPanel-DrE00BmO.js"),__vite__mapDeps([58,1,2]),import.meta.url)),Tf=e.lazy(()=>z(()=>import("./ReadLaterPanel-CfhNKrcG.js"),__vite__mapDeps([59,1,2,60]),import.meta.url)),Ff=e.lazy(()=>z(()=>import("./ChannelPermissionsPanel-TWQAPN9v.js"),__vite__mapDeps([61,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./MessageThreadsPanel-B5AkitpX.js"),__vite__mapDeps([62,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./ModeratorNotesPanel-Cq3RVj-E.js"),__vite__mapDeps([63,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./ServerRolesPanel--bL0alEb.js"),__vite__mapDeps([64,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./NotificationPreferencesPanel-BnkW1dvB.js"),__vite__mapDeps([65,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./MessageOCRPanel-Diyg-IT6.js"),__vite__mapDeps([66,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./MassActionsPanel-BmLAtFqq.js"),__vite__mapDeps([67,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./TimeoutMutePanel-9jz2ngLZ.js"),__vite__mapDeps([68,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./ServerThemesPanel-dF-1wU3U.js"),__vite__mapDeps([69,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./KeywordMutesPanel-Bw65zy1N.js"),__vite__mapDeps([70,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./WelcomeTemplatesPanel-d-RGcs_a.js"),__vite__mapDeps([71,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./StickyMessagesPanel-HkUsU6lG.js"),__vite__mapDeps([72,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./MessageTemplatesPanel-CfAX7XUp.js"),__vite__mapDeps([73,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./MessageExportPanel-CD9ik3vL.js"),__vite__mapDeps([74,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./ArchivedRoomsPanel-CD5UOjjj.js"),__vite__mapDeps([75,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./SlowModePanel-B6q6PXoK.js"),__vite__mapDeps([76,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./EmojiManagementPanel-LYkBPw5R.js"),__vite__mapDeps([77,1,2]),import.meta.url));const Rf=e.lazy(()=>z(()=>import("./ReactionAnalyticsPanel-B2qs49KL.js"),__vite__mapDeps([78,1,2]),import.meta.url)),Pf=e.lazy(()=>z(()=>import("./LinkClickTrackingPanel-DxsYZk4Q.js"),__vite__mapDeps([79,1,2]),import.meta.url)),If=e.lazy(()=>z(()=>import("./JoinLeaveLogsPanel-CoiwbTFZ.js"),__vite__mapDeps([80,1,2]),import.meta.url)),Lf=e.lazy(()=>z(()=>import("./UserActivityPanel-CKAR5ITH.js"),__vite__mapDeps([81,1,2]),import.meta.url)),$f=e.lazy(()=>z(()=>import("./NicknameHistoryPanel-E9YaLg1d.js"),__vite__mapDeps([82,1,2]),import.meta.url)),Of=e.lazy(()=>z(()=>import("./FieldChangeTrackingPanel-CVXgTf0R.js"),__vite__mapDeps([83,1,2]),import.meta.url)),zf=e.lazy(()=>z(()=>import("./InviteAnalyticsPanel-RoBDxsh2.js"),__vite__mapDeps([84,1,2]),import.meta.url)),Mf=e.lazy(()=>z(()=>import("./ContentScannerPanel-WwqPOyG4.js"),__vite__mapDeps([85,1,2]),import.meta.url)),Uf=e.lazy(()=>z(()=>import("./EphemeralMessagesPanel-BGjBZFdY.js"),__vite__mapDeps([86,1,2]),import.meta.url)),Vf=e.lazy(()=>z(()=>import("./TopicHistoryPanel-sSBGdW8p.js"),__vite__mapDeps([87,1,2]),import.meta.url)),Nf=e.lazy(()=>z(()=>import("./DraftsPanel-BBgw6ENV.js"),__vite__mapDeps([88,1,2]),import.meta.url)),Wf=e.lazy(()=>z(()=>import("./ServerNicknamesPanel-BvGj4OoB.js"),__vite__mapDeps([89,1,2]),import.meta.url)),Hf=e.lazy(()=>z(()=>import("./ServerBoostPanel-nHFThdTA.js"),__vite__mapDeps([90,1,2]),import.meta.url)),jf=e.lazy(()=>z(()=>import("./RoomWebhooksPanel-BjmMzbR6.js"),__vite__mapDeps([91,1,2]),import.meta.url)),Gf=e.lazy(()=>z(()=>import("./OAuthAppsPanel-B58JGImE.js"),__vite__mapDeps([92,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./VanityURLPanel-Ds_wRk9q.js"),__vite__mapDeps([93,1,2]),import.meta.url));const Li=e.lazy(()=>z(()=>import("./AutoRespondersPanel-DFxZM8Fj.js"),__vite__mapDeps([94,1,2]),import.meta.url)),qf=e.lazy(()=>z(()=>import("./SessionManagementPanel-CJbnTrUS.js"),__vite__mapDeps([95,1,2]),import.meta.url)),Kf=e.lazy(()=>z(()=>import("./GDPRExportPanel-s0cQJMdG.js"),__vite__mapDeps([96,1,2]),import.meta.url)),Yf=e.lazy(()=>z(()=>import("./DataRetentionPanel-Afqm5SlU.js"),__vite__mapDeps([97,1,2]),import.meta.url)),Jf=e.lazy(()=>z(()=>import("./TwoFactorSetupWizard-BSGzsV_j.js"),__vite__mapDeps([98,1,2]),import.meta.url)),Xf=e.lazy(()=>z(()=>import("./EnhancedPollsPanel-CTIVUMHx.js"),__vite__mapDeps([99,1,2]),import.meta.url)),Zf=e.lazy(()=>z(()=>import("./VoiceTranscriptsPanel-Cq_mBtJu.js"),__vite__mapDeps([100,1,2]),import.meta.url)),Qf=e.lazy(()=>z(()=>import("./PaymentPanel-4UZgI-79.js"),__vite__mapDeps([101,1,2]),import.meta.url)),em=e.lazy(()=>z(()=>import("./StoreModal-CoyI1XLY.js"),__vite__mapDeps([102,1,2]),import.meta.url)),tm=e.lazy(()=>z(()=>import("./DailyRewardsModal-Vs8F2Mlq.js"),__vite__mapDeps([103,1,2]),import.meta.url)),rm=e.lazy(()=>z(()=>import("./APIUsagePanel-BsERCVtm.js"),__vite__mapDeps([104,1,2]),import.meta.url)),om=e.lazy(()=>z(()=>import("./ExportJobsPanel-BD_Pf9WA.js"),__vite__mapDeps([105,1,2]),import.meta.url)),nm=e.lazy(()=>z(()=>import("./ScheduledAnnouncementsPanel-0HCl78If.js"),__vite__mapDeps([106,1,2]),import.meta.url)),am=e.lazy(()=>z(()=>import("./InviteExportPanel-BU9p0Rjr.js"),__vite__mapDeps([107,1,2]),import.meta.url)),sm=e.lazy(()=>z(()=>import("./AdvancedSearchPanel-BtxMW7u6.js"),__vite__mapDeps([108,1,2]),import.meta.url)),im=e.lazy(()=>z(()=>import("./GrowthMetricsPanel-BzVMaiyf.js"),__vite__mapDeps([109,1,2]),import.meta.url)),cm=e.lazy(()=>z(()=>import("./LinkPreviewRenderer-DKqfetXM.js"),__vite__mapDeps([110,1,2]),import.meta.url)),lm=e.lazy(()=>z(()=>import("./InventoryPanel-B7eJh7me.js"),__vite__mapDeps([111,1,2]),import.meta.url)),dm=e.lazy(()=>z(()=>import("./WaitlistPanel-CLbVwxLZ.js"),__vite__mapDeps([112,1,2]),import.meta.url)),um=e.lazy(()=>z(()=>import("./ReferralRewardsPanel-Myz6Mimb.js"),__vite__mapDeps([113,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./VerifyEmailPage-RBlIf0uV.js"),__vite__mapDeps([114,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./ForgotPasswordPage-B9w2m-d6.js"),__vite__mapDeps([115,1,2,32]),import.meta.url));e.lazy(()=>z(()=>import("./ResetPasswordPage-BBffqbYh.js"),__vite__mapDeps([116,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./TwoFactorLoginPage-2EHyMX-U.js"),__vite__mapDeps([117,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./TwoFactorSetup-BJ32agZk.js"),__vite__mapDeps([118,1,2,119]),import.meta.url));e.lazy(()=>z(()=>import("./TwoFactorLogin-CKGM298_.js"),__vite__mapDeps([120,1,2,121]),import.meta.url));const fm=e.lazy(()=>z(()=>import("./VanityInviteScreen-D3T51Zpl.js"),__vite__mapDeps([122,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./EmailVerification-CiUlssxc.js"),__vite__mapDeps([123,1,2,124]),import.meta.url));e.lazy(()=>z(()=>import("./MobileNav-BHCjEBQq.js"),__vite__mapDeps([125,1,2,126]),import.meta.url));e.lazy(()=>z(()=>import("./SwipeActions-BWArniua.js"),__vite__mapDeps([127,1,2,128]),import.meta.url));e.lazy(()=>z(()=>import("./VoiceMessage-Bzlo_FDl.js"),__vite__mapDeps([129,1,2,130]),import.meta.url));const mm=e.lazy(()=>z(()=>import("./FriendsTab-BxO-q31D.js"),__vite__mapDeps([131,1,2,18]),import.meta.url)),xm=e.lazy(()=>z(()=>import("./RoomList-DcLAqG-o.js"),__vite__mapDeps([132,1,2,133,22,5,4,18]),import.meta.url)),pm=e.lazy(()=>z(()=>import("./UserProfilePanel-DUwf6WiZ.js"),__vite__mapDeps([134,1,2,135,36,37,35,136]),import.meta.url)),$i=e.lazy(()=>z(()=>import("./VoiceChatPanel-DOSvCDh1.js"),__vite__mapDeps([137,1,2,138,35,139]),import.meta.url)),hm=e.lazy(()=>z(()=>import("./ChatUserList-DIi0-zw-.js"),__vite__mapDeps([140,1,2]),import.meta.url)),gm=e.lazy(()=>z(()=>import("./PinnedMessages-CtXsYYqB.js"),__vite__mapDeps([141,1,2,17,18,19]),import.meta.url)),ym=e.lazy(()=>z(()=>import("./FloatingVoiceIsland-Cw6p-dtt.js"),__vite__mapDeps([142,1,2]),import.meta.url)),vm=e.lazy(()=>z(()=>import("./CinemaPlayer-fwNqXD_K.js"),__vite__mapDeps([143,1,2]),import.meta.url)),Em=e.lazy(()=>z(()=>import("./ConnectionsPanel-DeD1WVeL.js"),__vite__mapDeps([144,1,2,35,145]),import.meta.url)),bm=e.lazy(()=>z(()=>import("./PasswordSetupModal-NiXmvEs6.js"),__vite__mapDeps([146,1,2,147]),import.meta.url)),_m=e.lazy(()=>z(()=>import("./NotificationDropdown-D40MEgUt.js"),__vite__mapDeps([148,1,2]),import.meta.url));e.lazy(()=>z(()=>import("./ReactionStatsPanel-BirNYTAP.js"),__vite__mapDeps([149,1,2,35,150]),import.meta.url));e.lazy(()=>z(()=>import("./ServerHealthPanel-BFu1oW-3.js"),__vite__mapDeps([151,1,2,35,152]),import.meta.url));e.lazy(()=>z(()=>import("./ChannelAnalyticsPanel-BPqJomeM.js"),__vite__mapDeps([153,1,2,35,154]),import.meta.url));e.lazy(()=>z(()=>import("./SmartSuggestionsPanel-D8R-M_V7.js"),__vite__mapDeps([155,1,2,35,156]),import.meta.url));e.lazy(()=>z(()=>import("./UserPresenceInsightsPanel-B3WZIFMS.js"),__vite__mapDeps([157,1,2,35,158]),import.meta.url));e.lazy(()=>z(()=>import("./UserFooter-BnjoGwnr.js").then(f=>f.a),__vite__mapDeps([133,1,2]),import.meta.url));const Sm=e.lazy(()=>z(()=>import("./UserContextMenu-Jud3f61k.js"),__vite__mapDeps([138,1,2]),import.meta.url)),wm=e.lazy(()=>z(()=>import("./MiniGamesPanel-DSLd9rhK.js"),__vite__mapDeps([159,1,2]),import.meta.url)),Cm=e.lazy(()=>z(()=>import("./ProjectCollaborationPanel-DWtZuHl9.js"),__vite__mapDeps([160,1,2]),import.meta.url)),Am=e.lazy(()=>z(()=>import("./AvatarStudioPanel-DEBPHUDu.js"),__vite__mapDeps([161,1,2]),import.meta.url)),km="8888",Zr=typeof window<"u"&&typeof window.require=="function",ir=window.Capacitor&&window.Capacitor.isNativePlatform(),wo=(()=>{if(ir||Zr)return"https://api.pawscord.com";const f=window.location.protocol,c=window.location.hostname;return c.includes("pawscord.com")?"https://api.pawscord.com":`${f}//${c}:${km}`})(),Jr=Zr||ir?"https://www.pawscord.com":wo,xe=`${wo}/api`,ee=wo,tn=wo.startsWith("https")?"wss":"ws",rn=wo.replace(/^https?:\/\//,""),Oi=`${xe}/auth/login/`,zi=`${xe}/auth/register/`,Bm=`${xe}/messages/history/room/`,Dm=`${xe}/messages/history/dm/`,Ba=`${xe}/rooms/list_with_categories/`,Tm=`${xe}/conversations/`,Fm=`${xe}/conversations/find_or_create/`,Rm=`${xe}/users/update_profile/`,Pm=`${xe}/users/default_avatars/`,Im=`${xe}/users/change_username/`,Lm=`${xe}/gifs/list_local/`,$m="774757987258-poa0elqqapnab8eud3tol3h2pilcqe71.apps.googleusercontent.com",Mi="chat_drafts_v1",on=()=>(Date.now()+Math.floor(Math.random()*1e3)).toString(),Om=f=>new Promise((c,a)=>{const u=Math.ceil(f.size/2097152);let g=0;const B=new Cl.ArrayBuffer,_=new FileReader;_.onload=m=>{B.append(m.target.result),g++,g<u?S():c(B.end())},_.onerror=m=>a(m);function S(){const m=g*2097152,y=Math.min(m+2097152,f.size);_.readAsArrayBuffer(f.slice(m,y))}S()}),zm=()=>{const{user:f,isAuthenticated:c,token:a,login:s,logout:u,isLoading:g}=So(),{isInVoice:B,isConnecting:_,currentRoom:S,joinChannel:m,leaveChannel:y,isMuted:k,isDeafened:h,toggleMute:A,toggleDeafened:w,toggleVideo:C,toggleScreenShare:v,remoteVolumes:p,setRemoteVolume:i,localCameraStream:r,remoteStreams:o,isTalking:d,sendSignal:l,isScreenSharing:P,isVideoEnabled:L,isPttActive:q,localScreenStream:F,sendReaction:U,lastReaction:V,applyVoiceEffect:j,activeEffect:re,cinemaState:oe,setCinemaState:de,gameState:he,sendGameSignal:ue,mutedUsers:ge}=Ou(),{globalData:be}=t0(),x=He(t=>t.activeChat),J=He(t=>t.messages),X=He(t=>t.encryptionKeys),Y=He(t=>t.voiceUsers),Ae=He(t=>t.unreadCounts),ce=He(t=>t.setActiveChat);He(t=>t.addMessage),He(t=>t.updateMessage);const we=He(t=>t.setMessages),me=He(t=>t.setTypingUser),Ct=He(t=>t.setOnlineUsers),At=He(t=>t.setVoiceUsers),lr=He(t=>t.incrementUnread),Ot=He(t=>t.setEncryptionKey),[qe,$e]=n.useState(!1),[zt,Qe]=n.useState(!1),[qt,lt]=n.useState(!1),[dr,kt]=n.useState(!1),[et,Fe]=n.useState(!1),[at,dt]=n.useState(null),[Fr,tt]=n.useState(!1),[Mt,Rr]=n.useState(0),[Pr,Te]=n.useState(""),te=f?.username||"",[ut,ur]=n.useState(!1),[Kt,Ir]=n.useState(!1),[rt,Yt]=n.useState(null),{isMobile:ye}=hu(),[Lr,fr]=n.useState(""),Ut=Au(Lr,300),[Bt,mr]=n.useState("0px"),$r=ir?"max(20px, env(safe-area-inset-bottom))":"0px",[Ke,xr]=n.useState({width:300,height:225,x:100,y:100}),[pt,pr]=n.useState(!0),[ht,ft]=n.useState(!0),[Vt,Ie]=n.useState(!1),[se,_e]=n.useState("start"),[gt,Ue]=n.useState([]),[le,Ve]=n.useState([]),[Ce,Nt]=n.useState([]),[Dt,Jt]=n.useState([]),[st,Tt]=n.useState([]),[yt,hr]=n.useState(!1),[to,Ne]=n.useState(!1),[ro,vt]=n.useState(!1),[qn,Co]=n.useState(!1),[Or,Ao]=n.useState(!1),[Kn,ko]=n.useState(!1),[Yn,Et]=n.useState(""),[Jn,oo]=n.useState(!1),[Ye,gr]=n.useState(!1),[yr,Je]=n.useState(new Set),[vr,Xt]=n.useState(null),[Ft,Rt]=n.useState(null),[Xn,Bo]=n.useState(null),[zr,no]=n.useState(!1),[Zn,Er]=n.useState(!1),[Qn,ao]=n.useState(!1),[so,Do]=n.useState(!1),[ea,To]=n.useState(!1),[Wa,ta]=n.useState(!1),[ra,Mr]=n.useState(!1),[Fo,io]=n.useState(!1),[oa,Zt]=n.useState(!1),[Pt,br]=n.useState(!1),[Ur,b]=n.useState(!1),[R,I]=n.useState(!1),[W,K]=n.useState(!1),[N,O]=n.useState(!1),[$,Z]=n.useState(!1),[ae,pe]=n.useState(!1),[De,Re]=n.useState(!1),[it,Qt]=n.useState(!1),[bt,_r]=n.useState(!1),[er,tr]=n.useState(!1),[Ro,Po]=n.useState(!1),[co,Ha]=n.useState(!1),[na,ja]=n.useState(!1),[aa,lo]=n.useState(!1),[Sr,It]=n.useState(!1),[uo,Io]=n.useState(!1),[sa,ia]=n.useState(!1),[s0,i0]=n.useState(!1),[c0,l0]=n.useState(!1),[d0,u0]=n.useState(!1),[f0,m0]=n.useState(!1),[x0,p0]=n.useState(!1),[h0,Ga]=n.useState(!1),[g0,y0]=n.useState(!1),[v0,E0]=n.useState(!1),[b0,_0]=n.useState(!1),[S0,w0]=n.useState(!1),[C0,A0]=n.useState(!1),[k0,B0]=n.useState(!1),[D0,T0]=n.useState(!1),[F0,R0]=n.useState(!1),[P0,qa]=n.useState(!1),[I0,L0]=n.useState(!1),[$0,O0]=n.useState(!1),[z0,M0]=n.useState(!1),[U0,Ka]=n.useState(!1),[V0,N0]=n.useState(!1),[W0,H0]=n.useState(!1),[j0,G0]=n.useState(!1),[q0,K0]=n.useState(!1),[Y0,J0]=n.useState(!1),[X0,Ya]=n.useState(!1),[Z0,Ja]=n.useState(!1),[Q0,Xa]=n.useState(!1),[Ex,bx]=n.useState(!1),[_x,Sx]=n.useState(!1),[wx,Cx]=n.useState(!1),[Ax,kx]=n.useState(!1),[Bx,Dx]=n.useState(!1),[Tx,Fx]=n.useState(!1),[Rx,Px]=n.useState(!1),[Ix,Lx]=n.useState(!1),[$x,Ox]=n.useState(!1),[zx,Mx]=n.useState(!1),[ec,Za]=n.useState("default"),[Qa,Vr]=n.useState(null),[Ux,Vx]=n.useState(!1),[tc,Lo]=n.useState(!1),[Nx,$o]=n.useState(!0),[Wx,ca]=n.useState(0),[Nr,rc]=n.useState(!1),[wr,la]=n.useState([]),[oc,nc]=n.useState(0),[rr,es]=n.useState([]),[Cr,or]=n.useState([]),[Hx,ac]=n.useState(null),[Lt,Oo]=n.useState(null),[ts,rs]=n.useState(!1),[sc,os]=n.useState(!1),[ns,as]=n.useState(null),[ss,da]=n.useState(!1),[ic,is]=n.useState(!1),[cc,zo]=n.useState(""),[fo,cs]=n.useState(()=>JSON.parse(localStorage.getItem("chat_sound_settings"))||{notifications:!0,mentions:!0,userJoinLeave:!0}),[Mo,ua]=n.useState(null),[lc,ls]=n.useState(!1),[ds,Uo]=n.useState(!1),[us,fa]=n.useState(!1),[ma,Vo]=n.useState(0),[jx,Gx]=n.useState(!1),[qx,Wr]=n.useState(!1),[Kx,Hr]=n.useState(""),[dc,No]=n.useState(!1),[Yx,jr]=n.useState(null),[Jx,fs]=n.useState(null),[Xx,ms]=n.useState(null),[xs,Zx]=n.useState(!1),[xa,ps]=n.useState(!1),[mo,ct]=n.useState(!1),[Wo,hs]=n.useState(null),[xo,Ho]=n.useState(null),[uc,gs]=n.useState(!1),[fc,ys]=n.useState(!1),[mc,vs]=n.useState(!1),[xc,Es]=n.useState(!1),[pc,bs]=n.useState(!1),[hc,_s]=n.useState(!1),[Ss,ws]=n.useState(null),[gc,Cs]=n.useState(!1),[yc,As]=n.useState(!1),ks=He(t=>t.typingUsers),Bs=n.useMemo(()=>ks.filter(t=>t!==te),[ks,te]);n.useRef(null),n.useRef([]);const We=n.useRef(null),jo=n.useRef(null),pa=n.useRef(null);n.useRef(null);const po=n.useRef(null),ha=n.useRef(null),Ds=n.useRef(null),Wt=n.useRef({}),je=te==="Eastkhan"||te==="PawPaw"||Lt?.role==="admin",vc=n.useMemo(()=>{const t=le?.find(M=>M.id===x?.serverId),E=t?.owner===te||t?.created_by===te,T=Cr?.find(M=>M.username===te)?.role==="moderator";return{isAdmin:je,isServerOwner:E,isModerator:T,canKick:je||E||T,canBan:je||E,canMute:je||E||T,canWarn:je||E||T,canManageRoles:je||E}},[je,le,x?.serverId,te,Cr]),Ec=n.useMemo(()=>{if(!le||le.length===0)return[];if(!rr||rr.length===0)return le;const t=[],E=[];return rr.forEach(T=>{const M=le.find(D=>D.id===T);M&&t.push(M)}),le.forEach(T=>{rr.includes(T.id)||E.push(T)}),[...t,...E]},[le,rr]),ga=He(t=>t.onlineUsers),bc=He(t=>t.messages),ya=gu(bc,Ut);yu(Ce),n.useEffect(()=>{if(se==="finished")return;_e("start");const t=setTimeout(()=>_e("pre-transition"),1500),E=setTimeout(()=>_e("finished"),2200),T=setTimeout(()=>_e("finished"),3e3);return()=>{clearTimeout(t),clearTimeout(E),clearTimeout(T)}},[]),n.useEffect(()=>{const t=new URLSearchParams(window.location.search),E=t.get("verification"),T=t.get("username"),M=t.get("reason"),D=t.get("needs_password");if(E==="success")ie.success(`‚úÖ Email doƒürulandƒ±! Ho≈ügeldin ${T||"kullanƒ±cƒ±"}!`),window.history.replaceState({},document.title,window.location.pathname);else if(E==="failed"){const H=M==="expired"?"‚è∞ Doƒürulama linki s√ºresi dolmu≈ü. Yeni bir link talep edin.":"‚ùå Ge√ßersiz doƒürulama linki.";ie.error(H),window.history.replaceState({},document.title,window.location.pathname)}D==="true"&&(console.log("üîë [Auth] Google user needs to set password"),As(!0),window.history.replaceState({},document.title,window.location.pathname))},[]),n.useEffect(()=>{const t=new URLSearchParams(window.location.search),E=t.get("success"),T=t.get("coins"),M=t.get("session_id"),D=t.get("canceled");E==="true"&&T&&((async()=>{try{const Q=localStorage.getItem("access_token"),Ee="https://api.pawscord.com/api";if(M){const ne=await(await fetch(`${Ee}/payments/verify/`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify({session_id:M,coin_amount:parseInt(T)})})).json();ne.success?ne.already_processed?ie.info(`?? ÔøΩdeme zaten islendi! Bakiye: ${ne.balance} coin`):ie.success(`?? ${T} coin hesabina eklendi! Yeni bakiye: ${ne.balance} coin`):ie.error(ne.error||"ÔøΩdeme dogrulama hatasi")}else ie.success(`?? ÔøΩdeme basarili! ${T} coin hesabina eklendi.`)}catch(Q){console.error("Payment verification error:",Q),ie.success(`?? ${T} coin satin alma tamamlandi!`)}})(),window.history.replaceState({},document.title,window.location.pathname)),D==="true"&&(ie.info("? ÔøΩdeme iptal edildi."),window.history.replaceState({},document.title,window.location.pathname))},[]),n.useEffect(()=>{const E=window.location.hash.match(/^#\/join\/([^/?]+)/);if(E){const T=E[1];console.log("üîó [Vanity] Detected vanity path:",T),ws(T)}},[]),n.useEffect(()=>(window.showAutoModeration=()=>io(!0),window.showRaidProtection=()=>Zt(!0),window.showReportSystem=()=>br(!0),window.showAuditLog=()=>b(!0),window.showUserWarnings=()=>I(!0),()=>{delete window.showAutoModeration,delete window.showRaidProtection,delete window.showReportSystem,delete window.showAuditLog,delete window.showUserWarnings}),[]),n.useEffect(()=>{const t=E=>{mo&&!E.target.closest(".toolbar-menu-container")&&ct(!1)};return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[mo]),n.useEffect(()=>{const t=()=>{Cs(!0)};return window.addEventListener("openConnectionsPanel",t),()=>window.removeEventListener("openConnectionsPanel",t)},[]),n.useEffect(()=>{zl(),Ul(),Vl(),Yl(),setTimeout(()=>{Ki()},3e3),"requestIdleCallback"in window&&requestIdleCallback(()=>{Fa()}),c&&f&&z(async()=>{const{pushNotificationManager:t}=await import("./pushNotifications-Lkyf8Kca.js");return{pushNotificationManager:t}},__vite__mapDeps([162,1,2]),import.meta.url).then(({pushNotificationManager:t})=>{t.init(xe,G)}),ir&&z(async()=>{const{initializeDeepLinkHandler:t}=await import("./urlHandlers-BR0k2s4o.js");return{initializeDeepLinkHandler:t}},__vite__mapDeps([163,1,2]),import.meta.url).then(({initializeDeepLinkHandler:t})=>{console.log("‚úÖ Deep link handler ready")}),console.log("‚úÖ PWA ve optimizasyonlar aktif!")},[c,f]);const ho=n.useMemo(()=>{if(x.type==="room"){if(le){for(const t of le)if(t.categories)for(const E of t.categories){const T=E.rooms?.find(M=>M.slug===x.id);if(T)return String(T.name)}}return String(x.id)}else if(x.type==="dm")return`@ ${String(x.targetUser||"DM")}`;return""},[x,le]),Gr=n.useMemo(()=>!x||!x.id?"":`${x.type}-${x.id}`,[x]),Go=n.useCallback(()=>{try{const t=localStorage.getItem(Mi);if(!t)return{};const E=JSON.parse(t);return E&&typeof E=="object"?E:{}}catch(t){return console.warn("Taslak okunamadƒ±",t),{}}},[]),_c=n.useCallback(t=>{if(!Gr)return;const E=Go();E[Gr]=t,localStorage.setItem(Mi,JSON.stringify(E))},[Gr,Go]);n.useEffect(()=>{if(!Gr){Hr(""),Wr(!1);return}const E=Go()[Gr]||"";Hr(E),Wr(!!E.trim())},[Gr,Go]);const Sc=n.useMemo(()=>{if(x.type!=="room"||!le)return"text";for(const t of le)if(t.categories)for(const E of t.categories){const T=E.rooms?.find(M=>M.slug===x.id);if(T)return T.channel_type}return"text"},[x,le]),nr=n.useCallback((t="auto")=>{pa.current&&pa.current.scrollIntoView({behavior:t})},[]),va=n.useCallback(()=>{const t=ha.current;return t?t.scrollHeight-t.scrollTop-t.clientHeight<160:!0},[]),Ea=n.useCallback(()=>{const t=ha.current;if(!t)return;const E=t.scrollHeight-t.scrollTop-t.clientHeight;No(E>160)},[]),wc=ku(Ea,100),mt=n.useCallback(t=>{if(t==="‚ö° Signal Bot")return`${Jr}/static/bot/signal.png`;if(t==="PawPaw AI")return`${Jr}/static/bot/ai.png`;if(!t||!st||st.length===0)return`${Jr}/avatars/cat_1.png`;let E=0;for(let H=0;H<t.length;H++)E=t.charCodeAt(H)+((E<<5)-E);const T=Math.abs(E%st.length),M=st[T];let D;return typeof M=="object"&&M!==null?D=M.original||M.thumbnail||M.url:typeof M=="string"&&(D=M),!D||typeof D!="string"?`${Jr}/avatars/cat_1.png`:D.startsWith("http")||D.startsWith("blob:")?D:(D.startsWith("/")||(D="/"+D),`${Jr}${D}`)},[st]),_t=n.useCallback(t=>{const E=Ce.find(T=>T.username===t);if(E&&E.avatar&&typeof E.avatar=="string"){if(E.avatar.startsWith("http://")||E.avatar.startsWith("https://")||E.avatar.startsWith("blob:"))return E.avatar;let T=E.avatar;return T.startsWith("/")||(T="/"+T),`${Jr}${T}`}return mt(t)},[Ce,mt]),G=n.useCallback(async(t,E={})=>{const T=E.headers||{};a&&(T.Authorization=`Bearer ${a}`),E.body instanceof FormData||(T["Content-Type"]="application/json");try{const D=t.includes("upload")||E.body instanceof FormData?3e5:3e4,H=new AbortController,Q=setTimeout(()=>H.abort(),D),Ee=await fetch(t,{...E,headers:T,signal:H.signal});if(clearTimeout(Q),Ee.status===401)throw t.includes("/auth/")||t.includes("/login")?(console.warn("‚ö†Ô∏è [Auth] 401 on auth endpoint, logging out"),u()):console.warn("‚ö†Ô∏è [Auth] 401 error on:",t,"- NOT logging out"),new Error("Unauthorized");return Ee}catch(M){throw M.name==="AbortError"?(console.error("‚è±Ô∏è [Fetch] Request timed out:",t),new Error("ƒ∞stek zaman a≈üƒ±mƒ±na uƒüradƒ±")):(console.error("Fetch error:",M),M)}},[a,u]);Cu(),n.useEffect(()=>{const t=window.location.hash,E=t.includes("?")?t.split("?")[1]:"",M=new URLSearchParams(E).get("join_server");if(M&&c&&le&&le.length>0){console.log("üîó [Vanity URL] Found join_server parameter:",M);const D=le.find(H=>H.id===parseInt(M));if(D){if(console.log(`üîó Vanity URL: Redirecting to server ${D.name}`),D.categories&&D.categories.length>0){const H=D.categories[0];if(H.rooms&&H.rooms.length>0){const Q=H.rooms[0];ce({type:"room",id:Q.slug})}}window.history.replaceState({},document.title,"/#/")}else console.log(`üîó Vanity URL: Server ${M} not found, showing invite modal`),(async()=>{try{const Q=await G(`${xe}/servers/${M}/join/`,{method:"POST"});if(Q.ok)ie.success("Sunucuya katƒ±ldƒ±nƒ±z!"),window.location.reload();else{const Ee=await Q.json();ie.error(Ee.error||"Sunucuya katƒ±lƒ±namadƒ±")}}catch(Q){console.error("Join server error:",Q),ie.error("Sunucuya katƒ±lƒ±rken hata olu≈ütu")}finally{window.history.replaceState({},document.title,"/#/")}})()}},[c,le,G]);const Ts=n.useCallback(async t=>{try{await G(`${xe}/user/server-order/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_order:t})}),console.log("üíæ Server order saved:",t)}catch(E){console.error("Server order save error:",E)}},[G]),Cc=(t,E,T)=>{t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("serverId",E.toString()),t.dataTransfer.setData("sourceIndex",T.toString());const M=t.currentTarget.cloneNode(!0);M.style.position="absolute",M.style.top="-9999px",M.style.opacity="0.8",M.style.transform="rotate(5deg)",M.style.pointerEvents="none",document.body.appendChild(M),t.dataTransfer.setDragImage(M,24,24),setTimeout(()=>{document.body.contains(M)&&document.body.removeChild(M)},0),t.currentTarget.style.opacity="0.4"},Ac=t=>{t.preventDefault(),t.dataTransfer.dropEffect="move"},kc=t=>{t.currentTarget.style.opacity="1"},Bc=n.useCallback((t,E)=>{t.preventDefault(),parseInt(t.dataTransfer.getData("serverId"));const T=parseInt(t.dataTransfer.getData("sourceIndex"));if(console.log("üìù DROP: sourceIndex:",T,"‚Üí targetIndex:",E),T===E){console.log("‚ùå Aynƒ± yere bƒ±rakƒ±lƒ±yor (sourceIndex === targetIndex), i≈ülem iptal");return}let M=rr.length>0?[...rr]:le.map(Q=>Q.id);console.log("üìù Mevcut sƒ±ralama:",M),console.log("üîÑ Kaynak index:",T,"‚Üí Hedef index:",E);const[D]=M.splice(T,1),H=T<E?E-1:E;console.log("üéØ Adjusted target index:",H),M.splice(H,0,D),console.log("‚úÖ Yeni sƒ±ralama:",M),es(M),Ts(M)},[rr,le,Ts]),Fs=t=>{const E=document.getElementById(`message-${t}`);E&&E.scrollIntoView({behavior:"smooth",block:"center"})},Dc=async()=>{if(window.confirm("Bu odadaki t√ºm mesajlarƒ± silmek istediƒüine emin misin?"))try{(await G(`${xe}/rooms/${x.id}/clear/`,{method:"POST"})).ok&&we([])}catch(t){console.error(t)}},Tc=async()=>{da(!0),is(!0),zo("");try{const t=await G(`${xe}/rooms/${x.id}/summarize/`,{method:"POST"}),E=await t.json();t.ok?zo(E.summary):zo("Hata: "+E.error)}catch{zo("Baƒülantƒ± hatasƒ±.")}is(!1)},ba=t=>{if(console.log("üì§ [DEBUG] sendMessage called with:",t),console.log("üì§ [DEBUG] ws.current:",We.current),console.log("üì§ [DEBUG] ws.current.readyState:",We.current?.readyState),console.log("üì§ [DEBUG] activeChat:",x),!t)return;const E=t.trim();if(!E)return;if(E==="/tema"){Er(!0),jr(null),Wr(!1),Hr(""),po.current?.clear?.();return}if(E==="/sablon"){Fe(!0),jr(null),Wr(!1),Hr(""),po.current?.clear?.();return}if(E.startsWith("/duyuru ")){const ne=E.slice(8).trim();if(ne){const Be={type:x.type==="room"?"chat_message":"dm_message",message:`[ANNOUNCE] ${ne}`,username:te,temp_id:on(),...x.type==="room"?{room:x.id}:{conversation:x.id}};We.current?.send(JSON.stringify(Be)),Vr({message:ne,type:"info",author:te}),jr(null),Wr(!1),Hr(""),po.current?.clear?.();return}}jr(null),Wr(!1),Hr(""),_c("");const T=x.type==="room"?`room-${x.id}`:`dm-${x.id}`,M=X[T];let D=E;x.type==="dm"&&M&&(D=pu(E,M));const H={type:x.type==="room"?"chat_message":"dm_message",message:D,username:te,temp_id:on(),...x.type==="room"?{room:x.id}:{conversation:x.id}},Q=JSON.stringify(H),Ee=async()=>{let Oe=0;for(;We.current&&We.current.readyState===WebSocket.CONNECTING&&Oe<3e3;)await new Promise(ot=>setTimeout(ot,100)),Oe+=100;if(We.current&&We.current.readyState===WebSocket.OPEN)try{return We.current.send(Q),!0}catch(ot){return console.error("WebSocket send error:",ot),!1}return!1},ke=async()=>{try{const ne=x.type==="dm"?`${xe}/messages/send_dm/`:`${xe}/messages/send/`,Be=x.type==="dm"?{conversation_id:x.id,content:D}:{room:x.id,content:D};return(await G(ne,{method:"POST",body:JSON.stringify(Be)})).ok}catch(ne){return console.error("HTTP fallback error:",ne),!1}};(async()=>await Ee()||await ke())(),we(ne=>{const Be={...H,content:D,timestamp:new Date().toISOString(),id:H.temp_id,avatar:Lt?.avatar||mt(te)},Oe=[...ne,Be],ot=x.type==="room"?`room-${x.id}`:`dm-${x.id}`;return Wt.current[ot]&&(Wt.current[ot].messages=Oe),Oe}),po.current?.clear?.(),nr("smooth")},Fc=t=>{const E={type:x.type==="room"?"chat_message":"dm_message",message:"",username:te,temp_id:on(),snippet_data:t,...x.type==="room"?{room:x.id}:{conversation:x.id}};We.current?.send(JSON.stringify(E)),we(T=>[...T,{...E,timestamp:new Date().toISOString(),id:E.temp_id,avatar:Lt?.avatar||mt(te)}]),ur(!1)},_a=n.useCallback(()=>{if(!x.id||x.type==="welcome"||x.type==="friends"||!te)return;if(We.current&&We.current.readyState===WebSocket.OPEN){const M=We.current.url,D=x.type==="room"?`/ws/chat/${x.id}/`:`/ws/dm/${x.id}/`;if(M.includes(D)){console.log("‚è≠Ô∏è [WebSocket] Already connected to this chat, skipping reconnect");return}}We.current&&(console.log("üîå [WebSocket] Closing existing connection before new one"),We.current.close(1e3,"change_room"));let t="";const E=`?username=${encodeURIComponent(te)}&token=${a}`;if(x.type==="room"?t=`${tn}://${rn}/ws/chat/${x.id}/${E}`:x.type==="dm"&&(t=`${tn}://${rn}/ws/dm/${x.id}/${E}`),!t){console.log("‚è≠Ô∏è [WebSocket] Skipping - activeChat.type is not room/dm:",x.type);return}console.log("üîå [WebSocket] Connecting to:",t.split("?")[0]);const T=new WebSocket(t);We.current=T,T.onopen=()=>{console.log("‚úÖ [WebSocket] Connected successfully"),hr(!0)},T.onmessage=M=>{const D=JSON.parse(M.data);if(D.type==="chat"||D.type==="dm"||D.type==="chat_message_handler"){console.log("üì® [WebSocket] Message data:",{type:D.type,id:D.id,temp_id:D.temp_id,room:D.room,conversation:D.conversation});const H=Q=>Q.room?`room-${Q.room}`:Q.conversation?`dm-${Q.conversation}`:(console.warn("‚ö†Ô∏è [WebSocket] No room/conversation in message, using activeChat fallback"),x.type==="room"?`room-${x.id}`:`dm-${x.id}`);we(Q=>{if(D.temp_id){const ne=Q.findIndex(Be=>Be.temp_id===D.temp_id);if(ne!==-1){console.log("üîÑ [WebSocket] Replacing temp message with real message:",D.temp_id,"‚Üí",D.id);const Be=[...Q];Be[ne]=D;const Oe=H(D);return Wt.current[Oe]&&(Wt.current[Oe].messages=Be),Be}}if(D.id&&Q.some(ne=>ne.id===D.id))return console.log("‚è≠Ô∏è [WebSocket] Duplicate message (by ID) skipped:",D.id),Q;console.log("üì® [WebSocket] New message received:",D);const Ee=[...Q,D],ke=H(D);return Wt.current[ke]&&(Wt.current[ke].messages=Ee),Ee}),me(D.username,!1),va()?nr("smooth"):No(!0)}else D.type==="typing_status_update"?D.username!==te&&me(D.username,D.is_typing):D.type==="chat_cleared"&&we([]);if(D.message&&D.message.startsWith("[ANNOUNCE] ")){const H=D.message.replace("[ANNOUNCE] ","");Vr({message:H,type:"info",author:D.username})}},T.onerror=M=>{console.error("‚ùå [WebSocket] Connection error:",M)},T.onclose=M=>{console.log("üîå [WebSocket] Connection closed:",M.code,M.reason),hr(!1)}},[x.id,x.type,te,a]);n.useEffect(()=>{eo.isNativePlatform()&&(Ll.initialize({clientId:$m,scopes:["profile","email"],grantOfflineAccess:!0}),mr("max(35px, env(safe-area-inset-top))"))},[]),n.useEffect(()=>{c&&!Nr&&(async()=>{try{const[E,T,M,D,H]=await Promise.all([G(Pm).then(ne=>ne.json()),G(Ba).then(ne=>ne.json()),G(`${Tm}?username=${encodeURIComponent(te)}`).then(ne=>ne.json()),G(`${xe}/friends/list/`).then(ne=>ne.json()),G(`${xe}/users/me/`).then(ne=>ne.json())]);Tt(E);const Q={username:H?.username||te,email:H?.email||"",avatar:H?.avatar||null,status_message:H?.status_message||"",friend_code:H?.friend_code||"0000",social_links:H?.social_links||{},coins:H?.coins||0,xp:H?.xp||0,level:H?.level||1,status:"online",role:H?.role||"member",is_whitelisted:H?.is_whitelisted||!1};Oo(Q),console.log("üî• [DEBUG] currentUserProfile with is_whitelisted:",Q);const ke=(D.friends||[]).map(ne=>{const Be=ne.sender_username===te,Oe=Be?ne.receiver_username:ne.sender_username,ot=Be?ne.receiver_avatar:ne.sender_avatar,ar=Be?ne.receiver_status:ne.sender_status,Xe=Be?ne.receiver_activity:ne.sender_activity;return Oe?{username:Oe,avatar:ot,status:ar||"offline",display_name:Oe,current_activity:Xe||{},status_message:"",last_seen:ne.created_at,role:"friend",friend_code:""}:null}).filter(Boolean).filter(ne=>ne.username!==Q.username);Nt(ke),Ve(T),Ue(M),la(ke),rc(!0),z(async()=>{const{prefetchUserAvatars:ne}=await import("./imageCaching-Cv_j6oOo.js");return{prefetchUserAvatars:ne}},__vite__mapDeps([19,1,2]),import.meta.url).then(({prefetchUserAvatars:ne})=>{ne(ke)})}catch(E){console.error("Init Data Error",E),Et("Veriler y√ºklenemedi.")}})()},[c,Nr,G,te]),n.useEffect(()=>{te&&(async()=>{try{const E=await G(`${xe}/user/server-order/`);if(E.ok){const T=await E.json();es(T.server_order||[]),console.log("üéØ Server order loaded:",T.server_order)}}catch(E){console.error("Server order fetch error:",E)}})()},[te,G]),n.useEffect(()=>{const t=async()=>{if(!x.id||x.type!=="room"){Vr(null);return}try{const E=await G(`${xe}/stickies/list/?room=${x.id}`);if(E.ok){const T=await E.json();T&&T.length>0?Vr({message:T[0].content,type:"info",author:T[0].creator}):Vr(null)}}catch(E){console.error("Sticky messages fetch error:",E)}};c&&x.id&&t()},[x.id,x.type,c,G]);const qo=n.useCallback(async t=>{if(!t){or([]);return}try{console.log(`üîç [Server Members] Fetching members for server ${t}...`);const E=await G(`${xe}/servers/${t}/members/`);if(E.ok){const T=await E.json();console.log(`üë• [Server Members] Fetched ${T.length} members for server ${t}:`,T),or(T)}else{const T=await E.text();console.error("‚ùå Server members fetch failed:",E.status,T),or([])}}catch(E){console.error("‚ùå Server members fetch error:",E),or([])}},[G]),Rc=n.useCallback(t=>{console.log("üñ±Ô∏è [Server Select] Server clicked:",t.name,t.id),ac(t),qo(t.id),ce("server",t.id,null)},[qo,ce]);n.useEffect(()=>{const t=async()=>{if(!x.id||x.type!=="room"){x.type!=="server"&&or([]);return}try{let E=null;for(const T of le){if(!T.categories||!Array.isArray(T.categories)){console.warn("‚ö†Ô∏è Server has no categories array:",T);continue}for(const M of T.categories)if(!(!M.rooms||!Array.isArray(M.rooms))){for(const D of M.rooms)if(D.slug===x.id){E=T.id;break}if(E)break}if(E)break}if(!E){console.warn("üî¥ Server ID bulunamadƒ± for room:",x.id),or([]);return}qo(E)}catch(E){console.error("‚ùå Server members fetch error:",E),or([])}};c&&x.id&&x.type==="room"?t():x.type!=="server"&&or([])},[x.id,x.type,c,qo,le]),n.useEffect(()=>{const t=async()=>{try{const T=await fetch(`${xe}/maintenance/status/`);if(T.ok){const M=await T.json();M.active?ua({message:M.message||"System maintenance in progress",endTime:M.end_time,level:M.level||"info"}):ua(null)}}catch(T){console.error("Maintenance check error:",T)}};t();const E=setInterval(t,300*1e3);return()=>clearInterval(E)},[]),n.useEffect(()=>{const t=(M,D)=>{try{const H=M.split(".").map(Number),Q=D.split(".").map(Number);return H[0]>Q[0]?!0:H[0]<Q[0]?!1:H[1]>Q[1]?!0:H[1]<Q[1]?!1:H[2]>Q[2]}catch(H){return console.error("‚ùå Version kar≈üƒ±la≈ütƒ±rma hatasƒ±:",H),!1}},E=async()=>{const M=window.location.hostname==="localhost"&&window.location.port==="3000";if(!Zr&&!ir&&!M){console.log("‚è≠Ô∏è Version check atlandƒ± (web browser)");return}try{console.log("üîç Version kontrol√º yapƒ±lƒ±yor...",{isElectron:Zr,isNative:ir,isDebugMode:M,hostname:window.location.hostname});const D="1.1.143";console.log("üì¶ Mevcut versiyon:",D);const H=await fetch("https://media.pawscord.com/builds/version.json");if(!H.ok){console.warn("‚ö†Ô∏è version.json alƒ±namadƒ±:",H.status);return}const Q=await H.json(),Ee=Q.latest_version;console.log("üåê Son versiyon:",Ee),console.log("üìä Kar≈üƒ±la≈ütƒ±rma:",{current:D,latest:Ee});const ke=t(Ee,D);if(console.log("üîç ƒ∞s newer?",ke),Ee&&ke){if(console.log("‚úÖ YENƒ∞ G√úNCELLEME MEVCUT!",{current:D,latest:Ee}),rs(!0),window.require){const{ipcRenderer:ne}=window.require("electron");ne.send("update-available",{currentVersion:D,latestVersion:Ee,downloadUrl:Q.download_url_windows})}}else console.log("‚ÑπÔ∏è Versiyon g√ºncel veya eski:",D,">=",Ee),rs(!1)}catch(D){console.error("‚ùå Version check hatasƒ±:",D)}};E();const T=setInterval(E,1800*1e3);return()=>clearInterval(T)},[]),n.useEffect(()=>{if(!Nr||!x.id||x.type==="friends"||x.type==="welcome")return;console.log("üîÑ [DEBUG activeChat] Chat deƒüi≈üti:",x);let t=!1;const E=x.type==="room"?`room-${x.id}`:`dm-${x.id}`,T=Wt.current[E];return T?.messages?.length>0?(console.log("üì¶ [Cache] Restoring cached messages:",T.messages.length,"(skipping API call)"),we(T.messages),$o(!!T.hasMore),ca(T.offset||0),setTimeout(()=>{t||nr("auto")},50),t||_a()):(console.log("üåê [Fetch] No cache, fetching from server..."),ca(0),$o(!0),t||_a(),setTimeout(()=>{t||Ps(!0,0)},50)),()=>{t=!0,console.log("üßπ [Cleanup] activeChat useEffect cleanup triggered")}},[x.id,x.type,Nr,_a]),n.useEffect(()=>{be?.type==="server_structure_update"&&(console.log("üîÑ Real-time Update: Refetching Server List..."),(async()=>{try{const E=await G(Ba);if(E.ok){const T=await E.json();Ve(T)}}catch(E){console.error("Real-time Update Failed:",E)}})())},[be,G]),n.useEffect(()=>{if(!c||!te)return;const t={current:null},E=async()=>{try{const M=await G(`${xe}/users/rich_presence/${te}/`);if(M.ok){const D=await M.json();let H={};const Q=ne=>{if(!ne)return!0;const Be=new Date(ne);return(new Date-Be)/1e3/60<2};D.spotify&&Q(D.spotify.timestamp)&&(H.spotify={type:"listening",name:D.spotify.track,details:D.spotify.artist,album_art:D.spotify.album_art}),D.steam&&Q(D.steam.timestamp)&&(H.steam={type:"playing",name:D.steam.game,state:D.steam.state}),Object.keys(H).length===0&&(H=null);const Ee=JSON.stringify(t.current),ke=JSON.stringify(H);Ee!==ke&&(t.current=H,jo.current&&jo.current.readyState===WebSocket.OPEN&&jo.current.send(JSON.stringify({type:"update_activity",activity:H})))}}catch{}},T=setInterval(E,3e4);return E(),()=>clearInterval(T)},[c,te,G]),n.useEffect(()=>{va()&&(nr("smooth"),No(!1))},[J,va,nr]),n.useEffect(()=>{Ea()},[x,Ea]),n.useEffect(()=>{const t=E=>{(E.ctrlKey||E.metaKey)&&E.key.toLowerCase()==="k"&&(E.preventDefault(),Ds.current?.focus())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]),n.useEffect(()=>{if(!c||!Nr)return;const t=Xl();Za(t);const E=`${tn}://${rn}/ws/status/?username=${encodeURIComponent(te)}&token=${a}`,T=new WebSocket(E);return jo.current=T,T.onmessage=M=>{const D=JSON.parse(M.data);if(D.type==="online_user_list_update"){const H=Array.isArray(D.users)?D.users.map(Q=>typeof Q=="string"?Q:Q.username||Q):[];console.log("üë• [Online Users] Updated:",H),Ct(H)}if(D.type==="voice_users_update"&&(console.log("üîä [GlobalWS] Received voice_users_update:",D.voice_users),At(D.voice_users)),D.type==="user_activity_update"&&Nt(H=>H.map(Q=>Q.username===D.username?{...Q,current_activity:D.activity}:Q)),D.type==="user_profile_update"&&D.user_data){const H=D.user_data;H.username===te&&(console.log("üë§ [Profile Update] Updating currentUserProfile:",H),Oo(Q=>({...Q,avatar:H.avatar,status_message:H.status_message,social_links:H.social_links,coins:H.coins,xp:H.xp,level:H.level,status:H.status,role:H.role}))),Nt(Q=>Q.map(Ee=>Ee.username===H.username?{...Ee,...H}:Ee))}if(D.type==="global_message_notification"&&D.username!==te){const H=D.room_slug?`room-${D.room_slug}`:`dm-${D.conversation_id}`,Q=x.type==="room"?`room-${x.id}`:`dm-${x.id}`;H!==Q&&lr(H)}D.type==="server_structure_update"&&(console.log("Server structure update received, refreshing..."),G(Ba).then(H=>H.json()).then(H=>Ve(H)).catch(console.error))},()=>T.close()},[c,Nr,te,a,x]),n.useEffect(()=>{B&&S&&(console.log(`üîä [Voice] Switched to voice chat panel: ${S}`),ce("voice",S))},[B,S]);const Rs=t=>{ce("room",t),ye&&Ne(!1)},go=t=>{G(Fm,{method:"POST",body:JSON.stringify({target_username:t})}).then(E=>E.json()).then(E=>{ce("dm",E.conversation_id,t),ye&&Ne(!1)})},Pc=n.useCallback(t=>{t&&(window.location.hash=t.startsWith("#/")?t:`#${t.startsWith("/")?t:`/${t}`}`,ye&&vt(!1))},[ye]),Ic=n.useCallback(()=>{cs(t=>{const E={...t,notifications:!t.notifications};return localStorage.setItem("chat_sound_settings",JSON.stringify(E)),E})},[]),Lc=n.useCallback(async()=>{if(!x?.id)return;const t=`${window.location.origin}/#/${x.type==="dm"?`dm/${x.id}`:`room/${x.id}`}`;try{await navigator.clipboard.writeText(t),Te("Link kopyalandƒ±"),setTimeout(()=>Te(""),1500)}catch(E){console.error("Link kopyalanamadƒ±",E),ie.error("Link kopyalanamadƒ±")}},[x]),Ps=async(t=!0,E=0)=>{if(!x.id)return;if(x.type==="voice"){console.log("[Voice] Skipping message history for voice chat"),we([]),$o(!1);return}console.log("üîÑ [fetchMessageHistory] Starting fetch:",{isInitial:t,offset:E,activeChat:x}),Lo(!0);const T=x.type==="room"?Bm:Dm,M=x.type==="room"?`room-${x.id}`:`dm-${x.id}`;try{const D=await G(`${T}${x.id}/?limit=50&offset=${E}`);if(D.ok){const H=await D.json(),Q=H.results||[],Ee=Q.filter(Xe=>!Xe||typeof Xe!="object"?(console.warn("‚ö†Ô∏è [fetchMessageHistory] Invalid message object:",Xe),!1):!Xe.id&&!Xe.temp_id?(console.warn("‚ö†Ô∏è [fetchMessageHistory] Message without ID:",Xe),!1):!0);Ee.length<Q.length&&console.warn(`‚ö†Ô∏è [fetchMessageHistory] Filtered out ${Q.length-Ee.length} invalid messages`);const ke=Ee.reverse();console.log("‚úÖ [fetchMessageHistory] Fetched messages:",ke.length);let ne=ke;t?(console.log("üìù [fetchMessageHistory] Setting messages (INITIAL):",ke.length),we(ke),setTimeout(()=>nr("auto"),100)):we(Xe=>(console.log("üìù [fetchMessageHistory] Appending to existing:",Xe.length,"+",ke.length),ne=[...ke,...Xe],ne));const Be=t?ke.length:E+ke.length,Oe=!!H.next;$o(Oe),t||ca(Be);const ot=Wt.current[M]?.messages||[],ar=t?ke:[...ke,...ot];Wt.current[M]={messages:ne||ar,offset:Be,hasMore:Oe},console.log("üíæ [fetchMessageHistory] Cached:",M,"with",(ne||ar).length,"messages")}}catch(D){console.error("‚ùå [fetchMessageHistory] Error:",D)}Lo(!1)},$c=async(t,E)=>{try{console.log("üîë [Auth] Login attempt:",{username:t,url:Oi});const T=await fetch(Oi,{method:"POST",body:JSON.stringify({username:t,password:E}),headers:{"Content-Type":"application/json"}});console.log("üîë [Auth] Response status:",T.status);const M=await T.json();T.ok?(console.log("‚úÖ [Auth] Login successful"),s(M.access,M.refresh)):(console.error("‚ùå [Auth] Login failed:",M),T.status===401?Et("Kullanƒ±cƒ± adƒ± veya ≈üifre hatalƒ±"):T.status===400?Et(M.detail||M.error||"Ge√ßersiz giri≈ü bilgileri"):T.status>=500?Et("Sunucu hatasƒ±. L√ºtfen daha sonra tekrar deneyin."):Et(M.detail||M.error||"Giri≈ü ba≈üarƒ±sƒ±z"))}catch(T){console.error("‚ùå [Auth] Network error:",T),Et("Sunucuya baƒülanƒ±lamadƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin.")}},Oc=async(t,E,T)=>{try{console.log("üìù [Auth] Register attempt:",{username:t,email:E,url:zi});const M=await fetch(zi,{method:"POST",body:JSON.stringify({username:t,email:E,password:T}),headers:{"Content-Type":"application/json"}});if(console.log("üìù [Auth] Response status:",M.status),M.status===201)return console.log("‚úÖ [Auth] Registration successful"),!0;const D=await M.json();console.error("‚ùå [Auth] Registration failed:",D);let H="";return D.username?H=D.username.join(" "):D.email?H=D.email.join(" "):D.password?H=D.password.join(" "):D.detail?H=D.detail:H=Object.values(D).flat().join(" "),Et(H||"Kayƒ±t i≈ülemi ba≈üarƒ±sƒ±z"),!1}catch(M){return console.error("‚ùå [Auth] Network error:",M),Et("Sunucuya baƒülanƒ±lamadƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin."),!1}},Ko=n.useCallback(async(t,E=!1,T=0,M=null)=>{fa(!0),Vo(0);const D=M||x,H=on();try{const Q=await Om(t),Ee=t.type||"application/octet-stream",ke=10*1024*1024,ne=5,Be=Math.ceil(t.size/ke);console.log("üöÄ [R2 Multipart] Starting upload:",{fileName:t.name,fileSize:(t.size/(1024*1024)).toFixed(2)+" MB",totalParts:Be,parallelUploads:ne});const ot=await(await G(`${xe}/upload/multipart/init/`,{method:"POST",body:JSON.stringify({file_name:t.name,file_size:t.size,content_type:Ee,file_hash:Q})})).json();if(ot.file_exists){console.log("‚úÖ [R2] File already exists, skipping upload"),ie.success("Dosya zaten y√ºkl√º!"),fa(!1),Vo(100);return}const{upload_id:ar,key:Xe}=ot;console.log(`üì¶ [R2] Upload ID: ${ar.substring(0,20)}..., Key: ${Xe}`);const Xo=[];let $s=0;const Gc=async Pe=>{const xt=(Pe-1)*ke,sr=Math.min(xt+ke,t.size),qr=t.slice(xt,sr);console.log(`üì§ [R2] Part ${Pe}/${Be} uploading...`);const yo=new FormData;yo.append("upload_id",ar),yo.append("key",Xe),yo.append("part_number",Pe.toString()),yo.append("chunk",qr,`part_${Pe}`);const Zo=await G(`${xe}/upload/multipart/upload-part/`,{method:"POST",body:yo,headers:{}});if(!Zo.ok){const Kc=await Zo.text();throw new Error(`Part ${Pe} upload failed: ${Zo.status} - ${Kc}`)}const{etag:Os,part_number:qc}=await Zo.json();$s++;const zs=Math.round($s/Be*95);return Vo(zs),console.log(`‚úÖ [R2] Part ${Pe}/${Be} complete (${zs}%), ETag: ${Os}`),{ETag:Os,PartNumber:qc}};for(let Pe=0;Pe<Be;Pe+=ne){const xt=[];for(let qr=0;qr<ne&&Pe+qr<Be;qr++)xt.push(Gc(Pe+qr+1));const sr=await Promise.all(xt);Xo.push(...sr)}Xo.sort((Pe,xt)=>Pe.PartNumber-xt.PartNumber),console.log("üìã [R2] All parts uploaded, completing...",Xo);const wa=await G(`${xe}/upload/multipart/complete/`,{method:"POST",body:JSON.stringify({upload_id:ar,key:Xe,parts:Xo,file_name:t.name,file_hash:Q,room_slug:D.type==="room"?D.id:null,conversation_id:D.type==="dm"?D.id:null,temp_id:H,is_voice_message:E?"true":"false",duration:T.toString()})});if(!wa.ok){const Pe=await wa.text();throw new Error(`Complete failed: ${Pe}`)}const Ar=await wa.json();Vo(100),console.log("‚úÖ [R2 Multipart] Upload complete!",Ar),D.id===x.id&&(we(Pe=>{if(Ar.temp_id){const xt=Pe.findIndex(sr=>sr.temp_id===Ar.temp_id);if(xt!==-1){const sr=[...Pe];return sr[xt]=Ar,sr}}return Ar.id&&Pe.some(xt=>xt.id===Ar.id)?Pe:[...Pe,Ar]}),nr("smooth"))}catch(Q){console.error("‚ùå [R2 Multipart] Error:",Q),ie.error(`Y√ºkleme hatasƒ±: ${Q.message}`)}fa(!1)},[x,te,G]),zc=t=>{t.preventDefault(),t.stopPropagation(),Uo(!1),t.dataTransfer.files&&t.dataTransfer.files.length>0&&Ko(t.dataTransfer.files[0])},Mc=(t,E)=>{if(t.preventDefault(),t.stopPropagation(),Bo(null),t.dataTransfer.files&&t.dataTransfer.files.length>0){const T=t.dataTransfer.files[0];if(E.type==="dm"){const M=gt.find(D=>D.id===E.id);if(M){const D=M.participants.find(H=>H.username!==te);D&&(go(D.username),setTimeout(()=>{Ko(T,!1,0,E)},300))}}else E.type==="room"&&roomsWithCategories.find(D=>D.room_slug===E.id)&&(handleRoomClick(E.id),setTimeout(()=>{Ko(T,!1,0,E)},300))}},Uc=async t=>{if(t.preventDefault(),!x.id||!Ut.trim()){Ut.trim()||Ps(!0,0);return}Lo(!0);try{let E=`${xe}/messages/search/?q=${encodeURIComponent(Ut)}`;x.type==="room"?E+=`&room=${x.id}`:E+=`&dm=${x.id}`;const T=await G(E);if(T.ok){const M=await T.json();we(M.results||M)}}catch(E){console.error(E)}Lo(!1)},Is=async t=>{if(window.confirm("Bu mesajƒ± silmek istediƒüine emin misin?"))try{(await G(`${xe}/messages/${t}/delete/`,{method:"DELETE"})).ok&&we(T=>T.filter(M=>M.id!==t))}catch(E){console.error(E)}},Vc=async t=>{if(window.confirm("Bu sohbeti listenizden gizlemek istiyor musunuz?"))try{(await G(`${xe}/conversations/${t}/hide/`,{method:"POST"})).ok&&(Ue(T=>T.filter(M=>M.id!==t)),x.type==="dm"&&x.id===t&&ce("welcome","welcome"))}catch(E){console.error(E)}},Nc=async t=>{if(window.confirm(`‚ö†Ô∏è ADMƒ∞N: Bu konu≈ümayƒ± HER ƒ∞Kƒ∞ TARAFTAN KALICI OLARAK silmek istediƒüinize emin misiniz?

Bu i≈ülem GERƒ∞ ALINAMAZ!`))try{const E=await G(`${xe}/conversations/${t}/admin-delete/`,{method:"DELETE"});if(E.ok){const T=await E.json();ie.success(`‚úÖ ${T.deleted_messages} mesaj silindi. Katƒ±lƒ±mcƒ±lar: ${T.participants.join(", ")}`),Ue(M=>M.filter(D=>D.id!==t)),x.type==="dm"&&x.id===t&&ce("welcome","welcome")}else{const T=await E.json();ie.error(`‚ùå Hata: ${T.error||"Silme i≈ülemi ba≈üarƒ±sƒ±z"}`)}}catch(E){console.error(E),ie.error("‚ùå Sunucuyla baƒülantƒ± hatasƒ±")}},Wc=n.useCallback(()=>{ce("welcome","welcome",null),ye&&Ne(!1)},[ye]),Hc=n.useCallback(async(t,E,T)=>{switch(t){case"profile":const M=Ce.find(D=>D.username===E.username);M&&Rt(M);break;case"message":go(E.username);break;case"volume":break;case"move":if(je&&T&&S)try{(await G(`${xe}/voice/move_user/`,{method:"POST",body:JSON.stringify({username:E.username,from_channel:S,to_channel:T})})).ok&&console.log(`‚úÖ ${E.username} moved to ${T}`)}catch(D){console.error("Move user error:",D)}break;case"kick":if(je&&window.confirm(`${E.username} kullanƒ±cƒ±sƒ±nƒ± kanaldan atmak istediƒüine emin misin?`))try{(await G(`${xe}/voice/kick_user/`,{method:"POST",body:JSON.stringify({username:E.username,room:S})})).ok&&console.log(`‚úÖ ${E.username} kicked from voice`)}catch(D){console.error("Kick user error:",D)}break;case"server_mute":if(je)try{(await G(`${xe}/voice/server_mute/`,{method:"POST",body:JSON.stringify({username:E.username,room:S})})).ok&&console.log(`‚úÖ ${E.username} server muted`)}catch(D){console.error("Server mute error:",D)}break;case"add_friend":try{const D=await G(`${xe}/friends/send/`,{method:"POST",body:JSON.stringify({username:E.username})});if(D.ok)Te(`‚úÖ ${E.username} kullanƒ±cƒ±sƒ±na arkada≈ülƒ±k isteƒüi g√∂nderildi!`),setTimeout(()=>Te(""),3e3);else{const H=await D.json();Te(`‚ùå ${H.error||"ƒ∞stek g√∂nderilemedi"}`),setTimeout(()=>Te(""),3e3)}}catch(D){console.error("Add friend error:",D),Te("‚ùå Arkada≈ü ekleme hatasƒ±"),setTimeout(()=>Te(""),3e3)}break;case"remove_friend":if(window.confirm(`${E.username} ile arkada≈ülƒ±ƒüƒ± sonlandƒ±rmak istediƒüinize emin misiniz?`))try{const D=wr.find(H=>H.sender_username===E.username||H.receiver_username===E.username);if(D&&(await G(`${xe}/friends/remove/${D.id}/`,{method:"DELETE"})).ok){Te(`‚úÖ ${E.username} ile arkada≈ülƒ±k sonlandƒ±rƒ±ldƒ±`),setTimeout(()=>Te(""),3e3);const Q=await G(`${xe}/friends/list/`);if(Q.ok){const Ee=await Q.json();la(Ee.friends||[])}}}catch(D){console.error("Remove friend error:",D),Te("‚ùå Arkada≈ülƒ±k sonlandƒ±rma hatasƒ±"),setTimeout(()=>Te(""),3e3)}break;case"invite_to_server":Ho({username:E.username});break;case"mute_user":try{const D=await G(`${xe}/users/${E.username}/mute/`,{method:"POST"});if(D.ok)ie.success(`üîá ${E.username} sessize alƒ±ndƒ±`);else{const H=await D.json();ie.error(`‚ùå ${H.error||"Sessize alma ba≈üarƒ±sƒ±z"}`)}}catch(D){console.error("Mute user error:",D),ie.error("‚ùå Sessize alma hatasƒ±")}break;case"block_user":if(window.confirm(`${E.username} kullanƒ±cƒ±sƒ±nƒ± engellemek istediƒüinize emin misiniz?`))try{const D=await G(`${xe}/users/${E.username}/block/`,{method:"POST"});if(D.ok){ie.success(`üö´ ${E.username} engellendi`);const H=await G(`${xe}/friends/list/`);if(H.ok){const Q=await H.json();la(Q.friends||[])}}else{const H=await D.json();ie.error(`‚ùå ${H.error||"Engelleme ba≈üarƒ±sƒ±z"}`)}}catch(D){console.error("Block user error:",D),ie.error("‚ùå Engelleme hatasƒ±")}break;default:console.log("Unknown action:",t)}},[Ce,je,S,G,xe,go,wr,Te]),jc=()=>{if(Zr){tt(!0),Te("ƒ∞ndiriliyor...");const{ipcRenderer:t}=window.require("electron"),E=`${ee}/media/build/Pawscord-Setup.exe`;t.send("start-download",E)}else window.open(`${ee}/media/build/Pawscord-Setup.exe`,"_blank")};n.useEffect(()=>{if(Zr){const{ipcRenderer:t}=window.require("electron"),E=(D,H)=>Rr(Math.round(H*100)),T=()=>{Te("Ba≈ülatƒ±lƒ±yor..."),Rr(100),setTimeout(()=>Te("Kapanƒ±yor..."),1500)},M=(D,H)=>{tt(!1),ie.error(`ƒ∞ndirme hatasƒ±: ${H}`)};return t.on("download-progress",E),t.on("download-complete",T),t.on("download-error",M),()=>{t.removeAllListeners("download-progress"),t.removeAllListeners("download-complete"),t.removeAllListeners("download-error")}}},[]);const Ls=se!=="finished";if(!c)return e.createElement(e.Fragment,null,Ls&&e.createElement(Ri,{animationState:se}),e.createElement(Xu,{onLogin:$c,onRegister:Oc,error:Yn,setAuthError:Et}));const Yo=ye&&!ir?"20px":Bt,Sa=x.type==="room"?`room-${x.id}`:`dm-${x.id}`,Jo=!!X[Sa];return Ss?e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"large",text:"Davet y√ºkleniyor..."})},e.createElement(fm,{vanityPath:Ss,fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>{ws(null),window.location.hash="#/"}})):e.createElement("div",{style:{...fe.mainContainer},className:"dark-theme"},Ls&&e.createElement(Ri,{animationState:se}),Mo&&e.createElement(Mu,{message:Mo.message,endTime:Mo.endTime,level:Mo.level,onDismiss:()=>ua(null)}),e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"medium",text:"Modal y√ºkleniyor..."})},qn&&e.createElement(pm,{user:Lt,onClose:()=>Co(!1),onProfileUpdate:t=>Oo(t),onLogout:u,fetchWithAuth:G,getDeterministicAvatar:mt,updateProfileUrl:Rm,changeUsernameUrl:Im,soundSettings:fo,onUpdateSoundSettings:cs,onImageClick:Xt,apiBaseUrl:ee}),zr&&e.createElement(nf,{onClose:()=>no(!1)}),Qn&&e.createElement(vf,{onClose:()=>ao(!1),fetchWithAuth:G,apiBaseUrl:ee}),so&&e.createElement(Ef,{onClose:()=>Do(!1),onOpenAnalytics:()=>ao(!0),onOpenWebhooks:()=>To(!0),onOpenModTools:()=>ta(!0),onOpenAuditLogs:()=>b(!0),onOpenReports:()=>br(!0),onOpenVanityURL:()=>Mr(!0),onOpenAutoResponder:()=>K(!0),fetchWithAuth:G,apiBaseUrl:ee}),uc&&e.createElement(Qf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>gs(!1),username:te}),fc&&e.createElement(em,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>ys(!1),username:te}),mc&&e.createElement(tm,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>vs(!1),username:te}),xc&&e.createElement(rm,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>Es(!1),username:te}),pc&&e.createElement(om,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>bs(!1),username:te}),hc&&e.createElement(nm,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>_s(!1),serverId:x?.type==="room"?x.server_id:null}),gc&&e.createElement(Em,{onClose:()=>Cs(!1)}),yc&&e.createElement(bm,{onClose:()=>As(!1),apiBaseUrl:ee}),Fo&&e.createElement(Sf,{serverId:x?.type==="room"?x.server_id:null,fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>io(!1)}),oa&&e.createElement(Cf,{serverId:x?.type==="room"?x.server_id:null,fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>Zt(!1)}),Pt&&e.createElement(Af,{serverId:x?.type==="room"?x.server_id:null,fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>br(!1)}),Ur&&e.createElement(kf,{serverId:x?.type==="room"?x.server_id:null,fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>b(!1)}),R&&e.createElement(Bf,{serverId:x?.type==="room"?x.server_id:null,fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>I(!1)}),ea&&e.createElement(bf,{serverId:x?.type==="room"?x.server_id:null,fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>To(!1)}),ra&&e.createElement(_f,{serverId:x?.type==="room"?x.server_id:null,fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>Mr(!1)}),W&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Li,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>K(!1)})),N&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Df,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>O(!1),onMessageClick:t=>{t.room?ce({type:"room",slug:t.room}):t.conversation&&ce({type:"dm",slug:t.conversation}),O(!1)}})),$&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Tf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>Z(!1),onMessageClick:t=>{t.room?ce({type:"room",slug:t.room}):t.conversation&&ce({type:"dm",slug:t.conversation}),Z(!1)}})),ae&&x?.type==="room"&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Ff,{fetchWithAuth:G,apiBaseUrl:ee,channelSlug:x.slug,onClose:()=>pe(!1)})),Fo&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(wf,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x?.type==="room"?x.server_id:null,onClose:()=>io(!1)})),at&&e.createElement(of,{symbol:at,onClose:()=>dt(null)}),Jn&&e.createElement(df,{onClose:()=>oo(!1),ws:We,username:te}),ut&&e.createElement(rf,{onClose:()=>ur(!1),onSend:Fc}),ns&&e.createElement(gf,{onClose:()=>as(null),server:ns,currentUsername:te,fetchWithAuth:G,apiBaseUrl:ee,serverMembers:Cr}),dr&&e.createElement(pf,{onClose:()=>kt(!1),onSetKey:t=>Ot(Sa,t),existingKey:X[Sa]}),sc&&e.createElement(hf,{onClose:()=>os(!1),apiBaseUrl:ee}),ss&&e.createElement(Ii,{isLoading:ic,summaryText:cc,onClose:()=>da(!1)}),qe&&e.createElement(yf,{onClose:()=>$e(!1),friendsList:wr,fetchWithAuth:G,apiBaseUrl:ee,onGroupCreated:t=>{Ue(E=>[t,...E]),ce("dm",t.id,"Grup Sohbeti")}}),qt&&(x.type==="room"||x.type==="dm")&&e.createElement(af,{roomSlug:x.type==="room"?x.id:`dm_${x.id}`,onClose:()=>lt(!1),wsProtocol:tn,apiHost:rn}),zt&&e.createElement(sf,{onClose:()=>Qe(!1),fetchWithAuth:G,apiBaseUrl:ee,sendSignal:l,absoluteHostUrl:ee}),lc&&e.createElement(mf,{onClose:()=>ls(!1),ws:We,roomSlug:x.id}),Kn&&e.createElement(ff,{onSelect:t=>{const E=t.startsWith("http")?t:ee+t;ba(E),ko(!1)},onClose:()=>ko(!1),localGifListUrl:Lm,absoluteHostUrl:ee,fetchWithAuth:G}),Ye&&e.createElement(uf,{onClose:()=>gr(!1),onSelect:t=>{ba(t),gr(!1)},fetchWithAuth:G,apiBaseUrl:ee}),Kt&&e.createElement(tf,{onClose:()=>Ir(!1),fetchWithAuth:G,apiBaseUrl:ee,activeRoomSlug:x.id})),na&&x?.type==="room"&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Rf,{fetchWithAuth:G,apiBaseUrl:ee,roomSlug:x.slug,onClose:()=>ja(!1)})),aa&&x?.type==="room"&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Pf,{fetchWithAuth:G,apiBaseUrl:ee,roomSlug:x.slug,onClose:()=>lo(!1)})),Sr&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(If,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>It(!1)})),uo&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Lf,{fetchWithAuth:G,apiBaseUrl:ee,username:te,onClose:()=>Io(!1)})),sa&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement($f,{fetchWithAuth:G,apiBaseUrl:ee,username:te,onClose:()=>ia(!1)})),s0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Of,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>i0(!1)})),c0&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(zf,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>l0(!1)})),d0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Mf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>u0(!1)})),f0&&x?.type==="room"&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Uf,{fetchWithAuth:G,apiBaseUrl:ee,roomSlug:x.slug,onClose:()=>m0(!1)})),x0&&x?.type==="room"&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Vf,{fetchWithAuth:G,apiBaseUrl:ee,roomSlug:x.slug,onClose:()=>p0(!1)})),h0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Nf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>Ga(!1),onLoadDraft:t=>{t.room&&ce({type:"room",slug:t.room}),Ga(!1)}})),g0&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Wf,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>y0(!1)})),v0&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Hf,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,currentUsername:te,onClose:()=>E0(!1)})),b0&&x?.type==="room"&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(jf,{fetchWithAuth:G,apiBaseUrl:ee,roomSlug:x.slug,onClose:()=>_0(!1)})),S0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Gf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>w0(!1)})),C0&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Li,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>A0(!1)})),k0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(qf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>B0(!1)})),D0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Kf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>T0(!1)})),F0&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Yf,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>R0(!1)})),P0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Jf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>qa(!1),onSuccess:()=>{ie.success("2FA ba≈üarƒ±yla etkinle≈ütirildi!"),qa(!1)}})),I0&&x?.type==="room"&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Xf,{fetchWithAuth:G,apiBaseUrl:ee,roomSlug:x.slug,onClose:()=>L0(!1)})),$0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(Zf,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>O0(!1)})),z0&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(am,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>M0(!1)})),U0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(sm,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>Ka(!1),onMessageClick:t=>{t.room&&ce({type:"room",slug:t.room}),Ka(!1)}})),V0&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(im,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>N0(!1)})),W0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(cm,{fetchWithAuth:G,apiBaseUrl:ee,url:null,onClose:()=>H0(!1)})),j0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(lm,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>G0(!1)})),q0&&x?.type==="room"&&x.server_id&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(dm,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x.server_id,onClose:()=>K0(!1)})),Y0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(um,{fetchWithAuth:G,apiBaseUrl:ee,onClose:()=>J0(!1)})),X0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"üéÆ Oyunlar Y√ºkleniyor...")},e.createElement(wm,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x?.server_id,currentUser:te,onClose:()=>Ya(!1)})),Z0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"üìÇ Projeler Y√ºkleniyor...")},e.createElement(Cm,{fetchWithAuth:G,apiBaseUrl:ee,serverId:x?.server_id,currentUser:te,onClose:()=>Ja(!1)})),Q0&&e.createElement(n.Suspense,{fallback:e.createElement("div",null,"üé® Avatar Studio Y√ºkleniyor...")},e.createElement(Am,{fetchWithAuth:G,apiBaseUrl:ee,currentUser:te,onClose:()=>Xa(!1),onAvatarChange:t=>{Lt&&Oo({...Lt,avatar_url:t}),ie.success("üé® Avatar g√ºncellendi!")}})),vr&&e.createElement(Qu,{imageUrl:vr,onClose:()=>Xt(null)}),Or&&e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"small",text:"Sabitlenmi≈ü mesajlar y√ºkleniyor..."})},e.createElement(gm,{messages:Dt,onClose:()=>Ao(!1)})),Ft&&e.createElement(ef,{user:Ft,onClose:()=>Rt(null),onStartDM:go,onImageClick:Xt,getDeterministicAvatar:mt,fetchWithAuth:G,apiBaseUrl:ee,currentUser:te,friendsList:wr}),ye&&to&&e.createElement("div",{style:fe.mobileOverlay,onClick:()=>Ne(!1)}),ye&&ro&&e.createElement("div",{style:fe.mobileOverlay,onClick:()=>vt(!1)}),e.createElement("div",{style:fe.chatLayout},(!ye||to)&&e.createElement("div",{style:{...fe.sidebarWrapper,...ye&&fe.mobileSidebar,paddingTop:Yo,paddingBottom:$r,height:"100%",boxSizing:"border-box"}},ye&&e.createElement("div",{style:fe.mobileSidebarHeader},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},e.createElement("img",{src:"https://media.pawscord.com/assets/logo.png",alt:"",style:{width:"24px",height:"24px"},onError:t=>{t.target.style.display="none"}}),e.createElement("span",{style:{fontSize:"18px",fontWeight:"bold",color:"white"}},"Pawscord")),e.createElement("button",{onClick:()=>Ne(!1),style:fe.closeSidebarButton},e.createElement(_o,null))),e.createElement(xm,{onFriendsClick:()=>ce("friends","friends"),onRoomSelect:Rs,onDMSelect:(t,E)=>ce("dm",t,E),onWelcomeClick:Wc,setIsLeftSidebarVisible:Ne,onProfileClick:()=>Co(!0),onViewUserProfile:t=>{const E=Ce.find(T=>T.username===t);E&&Rt(E)},onOpenStore:()=>no(!0),onOpenServerSettings:t=>as(t),categories:Ec,onServerDragStart:Cc,onServerDragOver:Ac,onServerDragEnd:kc,onServerDrop:Bc,conversations:gt,allUsers:Ce,onlineUsers:ga,serverMembers:Cr,isAdmin:je,friendsList:wr,pendingFriendRequests:oc,currentUsername:te,currentUserProfile:Lt,getRealUserAvatar:_t,getDeterministicAvatar:mt,unreadCounts:Ae,joinVoiceChat:m,leaveVoiceChat:y,voiceUsers:Y,isConnecting:_,currentVoiceRoom:S,currentRoom:S,currentConversationId:x.type==="dm"?x.id:null,remoteVolumes:p,setRemoteVolume:i,isPttActive:q,apiBaseUrl:ee,fetchWithAuth:G,onHideConversation:Vc,handleDrop:Mc,dropTarget:Xn,setDropTarget:Bo,isDragging:ds,onOpenCreateGroup:()=>$e(!0),toggleMute:A,toggleDeafened:w,isMuted:k,isDeafened:h,isInVoice:B,toggleVideo:C,toggleScreenShare:v,isVideoEnabled:L,isScreenSharing:P,updateAvailable:ts,onUpdateClick:()=>os(!0),onOpenAnalytics:()=>ao(!0),onOpenAdminPanel:()=>Do(!0),onOpenPaymentPanel:()=>gs(!0),onOpenStoreModal:()=>ys(!0),onOpenDailyRewards:()=>vs(!0),onOpenAPIUsage:()=>Es(!0),onOpenExportJobs:()=>bs(!0),onOpenScheduledAnnouncements:()=>_s(!0),onOpenMiniGames:()=>Ya(!0),onOpenProjectCollaboration:()=>Ja(!0),onOpenAvatarStudio:()=>Xa(!0),onServerSelect:Rc})),e.createElement("div",{style:fe.mainContent},e.createElement("div",{style:{position:"absolute",top:60,left:0,right:0,zIndex:90}},e.createElement(Ju,{message:Qa?.message,type:Qa?.type,onDismiss:()=>Vr(null)})),x.type==="friends"?e.createElement("div",{style:{width:"100%",height:"100%",paddingTop:Yo}},e.createElement(mm,{fetchWithAuth:G,apiBaseUrl:ee,onStartDM:go,getDeterministicAvatar:mt,onClose:()=>ce("welcome","welcome"),onPendingCountChange:nc,onlineUsers:ga})):x.type==="welcome"?e.createElement("div",{style:{width:"100%",height:"100%"}},e.createElement(Zu,{isMobile:ye,onOpenMenu:()=>Ne(!0),onOpenRightMenu:()=>vt(!0),updateAvailable:ts,isDownloading:Fr,downloadProgress:Mt,updateStatusText:Pr,onStartUpdate:jc,onSwitchToFriends:()=>{ce("friends","friends"),ye&&Ne(!1)},onSwitchToAI:()=>{Rs("ai")},onSwitchToCinema:()=>{oo(!0),ye&&Ne(!1)}})):Sc==="kanban"?e.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"}},e.createElement("div",{style:fe.chatHeader},e.createElement("h2",null,"# ",ho," (Pano)")),e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"medium",text:"Pano y√ºkleniyor..."})},e.createElement(cf,{roomSlug:x.id,apiBaseUrl:ee,fetchWithAuth:G}))):x.type==="voice"&&B?e.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#2f3136"}},e.createElement("div",{style:{...fe.chatHeader,justifyContent:"space-between"}},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},ye&&e.createElement("button",{onClick:()=>ce("welcome","welcome"),style:{...fe.mobileMenuButton}},"‚Üê"),e.createElement("h2",{style:{margin:0,fontSize:"1.2em"}},"üîä ",S)),e.createElement("button",{onClick:()=>{y(),ce("welcome","welcome")},style:{background:"#ed4245",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontWeight:"bold"}},"Baƒülantƒ±yƒ± Kes")),e.createElement($i,{roomName:S,onClose:()=>{y(),ce("welcome","welcome")},isMinimized:!1,onToggleMinimize:()=>{},getRealUserAvatar:_t,allUsers:Ce,currentUserProfile:Lt})):e.createElement("div",{style:{...fe.chatArea,position:"relative",paddingTop:Yo,boxSizing:"border-box"},onDrop:zc,onDragOver:t=>{t.preventDefault(),Uo(!0)},onDragEnter:t=>{t.preventDefault(),Uo(!0)},onDragLeave:t=>{t.preventDefault(),t.target===t.currentTarget&&Uo(!1)}},e.createElement("div",{style:{...fe.chatHeader,justifyContent:"space-between"}},e.createElement("div",{style:{display:"flex",alignItems:"center",overflow:"hidden",gap:"8px"}},ye&&!to&&e.createElement("button",{onClick:()=>Ne(!0),style:{...fe.mobileMenuButton,fontSize:"1.3em"},"aria-label":"Men√ºy√º A√ß"},"‚ò∞"),ye&&(x.type==="dm"||x.type==="room")&&e.createElement("button",{onClick:()=>{ce("welcome","welcome"),Ne(!1),vt(!1)},style:{...fe.mobileMenuButton,fontSize:"1.2em"},"aria-label":"Geri"},"‚Üê"),e.createElement("h2",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:ye?"1em":"1.1em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},x.type==="dm"?`@ ${String(x.targetUser||"DM")}`:`# ${String(ho)}`),e.createElement("div",{style:yt?fe.connectionPillOnline:fe.connectionPillOffline},yt?"Bagli":"Kopuk")),e.createElement("div",{style:{display:"flex",gap:ye?"5px":"10px",alignItems:"center",flexWrap:ye?"nowrap":"wrap",position:"relative"}},e.createElement("form",{onSubmit:Uc,style:fe.searchForm},e.createElement("input",{type:"text",placeholder:"Ara...",value:Lr,onChange:t=>fr(t.target.value),style:fe.searchInput,ref:Ds}),e.createElement(Xc,{style:fe.searchIcon})),!ye&&Bs.length>0&&e.createElement("span",{style:fe.typingIndicator},Bs.join(", ")," yazƒ±yor..."),e.createElement("button",{onClick:()=>ps(!xa),style:{...fe.iconButton,color:xa?"#5865f2":"#b9bbbe",position:"relative"},title:"Bildirimler"},e.createElement(Ms,null)),xa&&e.createElement("div",{style:{position:"absolute",top:"54px",right:"20px",zIndex:1e3}},e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"small",text:""})},e.createElement(_m,{currentUser:te,onClose:()=>ps(!1),fetchWithAuth:G,apiBaseUrl:ee}))),e.createElement("div",{className:"toolbar-menu-container",style:{position:"relative"}},e.createElement("button",{onClick:()=>ct(!mo),style:{...fe.iconButton,color:mo?"#5865f2":"#b9bbbe",fontSize:"1.2em",fontWeight:"bold"},title:"Daha Fazla"},"‚ãÆ"),mo&&e.createElement("div",{style:{position:"absolute",top:"50px",right:"0",backgroundColor:"#2f3136",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)",minWidth:"220px",zIndex:1e3,overflow:"hidden",border:"1px solid #202225"}},x.type==="dm"&&e.createElement("button",{onClick:()=>{kt(!0),ct(!1)},style:{...fe.menuItem,color:Jo?"#43b581":"#dcddde"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color=Jo?"#43b581":"#dcddde"}},Jo?e.createElement(Us,null):e.createElement(Us,{style:{opacity:.5}}),e.createElement("span",null,Jo?"≈ûifreli":"≈ûifrele")),e.createElement("button",{onClick:()=>{Ao(!Or),ct(!1)},style:{...fe.menuItem,color:Or?"#f5a524":"#dcddde"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color=Or?"#f5a524":"#dcddde"}},e.createElement(Zc,null),e.createElement("span",null,"Sabitli Mesajlar")),e.createElement("button",{onClick:()=>{Lc(),ct(!1)},style:fe.menuItem,onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#dcddde"}},e.createElement(Qc,null),e.createElement("span",null,"Baƒülantƒ±yƒ± Kopyala")),e.createElement("button",{onClick:()=>{Ic(),ct(!1)},style:{...fe.menuItem,color:fo.notifications?"#43b581":"#f04747"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color=fo.notifications?"#43b581":"#f04747"}},fo.notifications?e.createElement(Ms,null):e.createElement(el,null),e.createElement("span",null,fo.notifications?"Sessize Al":"Sesi A√ß")),e.createElement("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),e.createElement("button",{onClick:()=>{oo(!0),ct(!1)},style:fe.menuItem,onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#dcddde"}},e.createElement(tl,null),e.createElement("span",null,"Sinema Modu")),e.createElement("button",{onClick:()=>{ls(!0),ct(!1)},style:fe.menuItem,onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#dcddde"}},e.createElement(rl,null),e.createElement("span",null,"DJ Modu")),e.createElement("button",{onClick:()=>{lt(!0),ct(!1)},style:fe.menuItem,onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#dcddde"}},e.createElement(ol,null),e.createElement("span",null,"Beyaz Tahta")),B&&e.createElement("button",{onClick:()=>{Qe(!0),ct(!1)},style:fe.menuItem,onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#dcddde"}},e.createElement(Vs,null),e.createElement("span",null,"Ses Efektleri")),x.type==="room"&&e.createElement(e.Fragment,null,e.createElement("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),e.createElement("button",{onClick:()=>{Tc(),ct(!1)},style:fe.menuItem,onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#5865f2",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#dcddde"}},e.createElement(Vs,null),e.createElement("span",null,"Sohbeti √ñzetle")),e.createElement("button",{onClick:()=>{Dc(),ct(!1)},style:{...fe.menuItem,color:"#f04747"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#f04747",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#f04747"}},e.createElement(nl,null),e.createElement("span",null,"Sohbeti Temizle")),te==="admin"&&x.type==="dm"&&e.createElement(e.Fragment,null,e.createElement("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),e.createElement("button",{onClick:()=>{Nc(x.id),ct(!1)},style:{...fe.menuItem,color:"#ed4245",fontWeight:"bold"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#ed4245",t.currentTarget.style.color="#ffffff"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="transparent",t.currentTarget.style.color="#ed4245"},title:"Admin: Konu≈ümayƒ± kalƒ±cƒ± olarak sil (her iki taraftan)"},e.createElement(al,null),e.createElement("span",null,"‚ö†Ô∏è KALICI Sƒ∞L (ADMƒ∞N)")))))),ye&&!ro&&e.createElement("button",{onClick:()=>vt(!0),style:{...fe.mobileMenuButton,fontSize:"1.3em"},"aria-label":"Kullanƒ±cƒ±larƒ± G√∂ster"},e.createElement(Ta,null)))),e.createElement("div",{style:fe.messageBox,ref:ha,onScroll:wc},tc?e.createElement("p",{style:fe.systemMessage},"Y√ºkleniyor..."):ya.length>50?e.createElement(qu,{messages:ya,scrollToBottom:!0,renderMessage:(t,E)=>e.createElement(Pi,{key:t.id||t.temp_id||E,msg:t,currentUser:te,absoluteHostUrl:ee,isAdmin:je,onImageClick:Xt,fetchWithAuth:G,allUsers:Ce,getDeterministicAvatar:mt,onShowChart:dt,onDelete:Is,onStartEdit:jr,onSetReply:fs,onToggleReaction:()=>{},onStartForward:ms,isSelectionMode:xs,isSelected:yr.has(t.id),onToggleSelection:T=>{const M=new Set(yr);M.has(T)?M.delete(T):M.add(T),Je(M)},onScrollToMessage:Fs,onViewProfile:T=>Rt(Ce.find(M=>M.username===T)),onTogglePin:T=>{}})}):e.createElement(e.Fragment,null,ya.map((t,E)=>{const T=t.id||t.temp_id||E;return e.createElement(Pi,{key:T,msg:t,currentUser:te,absoluteHostUrl:ee,isAdmin:je,onImageClick:Xt,fetchWithAuth:G,allUsers:Ce,getDeterministicAvatar:mt,onShowChart:dt,onDelete:Is,onStartEdit:jr,onSetReply:fs,onToggleReaction:()=>{},onStartForward:ms,isSelectionMode:xs,isSelected:yr.has(t.id),onToggleSelection:M=>{const D=new Set(yr);D.has(M)?D.delete(M):D.add(M),Je(D)},onScrollToMessage:Fs,onViewProfile:M=>Rt(Ce.find(D=>D.username===M)),onTogglePin:M=>{}})}),e.createElement("div",{ref:pa,style:{float:"left",clear:"both",height:1}}))),dc&&e.createElement("button",{type:"button",style:fe.scrollToBottomButton,onClick:()=>{nr("smooth"),No(!1)},"aria-label":"En alta in"},"En alta in"),e.createElement("div",{style:{...fe.inputContainer,paddingBottom:ir?`calc(16px + ${$r})`:ye?"25px":"16px"}},ds&&e.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(88, 101, 242, 0.2)",border:"2px dashed #5865f2",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:1e3}},e.createElement("div",{style:{color:"#5865f2",fontSize:"1.2em",fontWeight:"bold"}},"üìÅ Dosyayƒ± buraya bƒ±rakƒ±n")),us&&ma>0&&e.createElement("div",{style:{position:"absolute",top:"-40px",left:"16px",right:"16px",backgroundColor:"#2b2d31",borderRadius:"8px",padding:"8px 12px",boxShadow:"0 2px 10px rgba(0,0,0,0.3)",zIndex:1001}},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},e.createElement("span",{style:{color:"#b9bbbe",fontSize:"12px",whiteSpace:"nowrap"}},"üì§ Y√ºkleniyor: ",ma,"%"),e.createElement("div",{style:{flex:1,height:"6px",backgroundColor:"#40444b",borderRadius:"3px",overflow:"hidden"}},e.createElement("div",{style:{width:`${ma}%`,height:"100%",backgroundColor:"#5865f2",borderRadius:"3px",transition:"width 0.3s ease"}})))),e.createElement(Ku,{onSendMessage:ba,onFileUpload:Ko,onShowCodeSnippet:()=>ur(!0),placeholder:ho?`${x.type==="dm"?ho:`# ${ho}`} kanalƒ±na mesaj g√∂nder`:"Mesaj yaz...",disabled:us,fetchWithAuth:G,apiBaseUrl:ee,activeChat:x}))),(!ye||ro)&&e.createElement("div",{style:{...fe.chatUserListPanel,...ye?fe.mobileRightSidebar:{},paddingTop:Yo}},ye&&e.createElement("div",{style:fe.mobileSidebarHeader},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},e.createElement(Ta,{size:18,color:"#b9bbbe"}),e.createElement("span",{style:{fontSize:"16px",fontWeight:"bold",color:"white"}},x.type==="room"?"Sunucu √úyeleri":x.type==="friends"?"√áevrimi√ßi":"Arkada≈ülar")),e.createElement("button",{onClick:()=>vt(!1),style:fe.closeSidebarButton},e.createElement(_o,null))),e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"small",text:"Kullanƒ±cƒ±lar y√ºkleniyor..."})},e.createElement(hm,{chatUsers:[],allUsers:Ce,onlineUsers:ga,currentUser:te,currentUserProfile:Lt,getDeterministicAvatar:mt,onUserClick:t=>{let E=Ce.find(T=>T.username===t);if(!E&&Cr.length>0){const T=Cr.find(M=>M.username===t);T&&(E={username:T.username,display_name:T.username,avatar:mt(T.username),role:T.role||"member"})}E&&Rt(E)},onUserContextMenu:(t,E)=>{if(E===te)return;const T=Ce.find(M=>M.username===E);T&&hs({x:t.clientX,y:t.clientY,user:T,permissions:vc})},activeChat:x,serverMembers:Cr,friendsList:wr,onNavigate:Pc})))),B&&e.createElement(Yu,{remoteStreams:o,remoteVolumes:p,mutedUsers:ge}),B&&!pt&&x.type!=="voice"&&e.createElement("button",{onClick:()=>pr(!0),style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9998,background:"#5865f2",color:"white",border:"none",borderRadius:"50%",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",transition:"all 0.2s"},title:"Ses Panelini A√ß",onMouseEnter:t=>t.currentTarget.style.transform="scale(1.1)",onMouseLeave:t=>t.currentTarget.style.transform="scale(1)"},"üé§"),B&&pt&&x.type!=="voice"&&e.createElement(e.Fragment,null,ht?e.createElement($i,{roomName:S,onClose:()=>{pr(!1)},isMinimized:Vt,onToggleMinimize:()=>Ie(!Vt),getRealUserAvatar:_t,allUsers:Ce,currentUserProfile:Lt}):e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"small",text:"Sesli sohbet y√ºkleniyor..."})},e.createElement(ym,{islandState:Ke,onDrag:t=>xr(E=>({...E,x:t.x,y:t.y})),onResize:t=>xr(E=>({...E,width:t.width,height:t.height})),isMobile:ye,headerActions:e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"}},e.createElement("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("üéõÔ∏è [VoiceIsland] Hiding panel"),pr(!1)},style:{background:"rgba(255,255,255,0.1)",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:"Paneli Gizle"},e.createElement(_o,null)),e.createElement("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.createElement("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("üé§ [VoiceIsland] Mute toggle clicked"),A()},style:{background:k?"#ed4245":"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:k?"Mikrofonu A√ß":"Mikrofonu Kapat"},e.createElement(La,{style:{opacity:k?.5:1}})),e.createElement("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("üéß [VoiceIsland] Deafen toggle clicked"),w()},style:{background:h?"#ed4245":"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:h?"Sesi A√ß":"Sesi Kapat"},e.createElement(sl,{style:{opacity:h?.5:1}})),e.createElement("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("üìπ [VoiceIsland] Video toggle clicked"),C()},style:{background:L?"#5865f2":"rgba(255,255,255,0.1)",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:L?"Kamerayƒ± Kapat":"Kamerayƒ± A√ß"},e.createElement(il,{style:{opacity:L?1:.5}})),e.createElement("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("üñ•Ô∏è [VoiceIsland] Screen share toggle clicked"),v()},style:{background:P?"#5865f2":"rgba(255,255,255,0.1)",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:P?"Ekran Payla≈üƒ±mƒ±nƒ± Durdur":"Ekranƒ± Payla≈ü"},e.createElement(cl,{style:{opacity:P?1:.5}})),e.createElement("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.createElement("button",{onClick:y,style:{background:"#ed4245",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},title:"Odadan Ayrƒ±l"},e.createElement(ll,null)),e.createElement("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.createElement("button",{onClick:()=>de(t=>({...t,isActive:!t.isActive})),style:{background:oe.isActive?"#5865f2":"rgba(255,255,255,0.1)",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},oe.isActive?"üé¨ Kapat":"üçø Sinema"),e.createElement("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.createElement("select",{onChange:t=>j(t.target.value),value:re,style:{background:"rgba(0,0,0,0.3)",color:"white",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"4px",padding:"2px 4px",fontSize:"12px",cursor:"pointer",outline:"none"}},e.createElement("option",{value:"none"},"Normal"),e.createElement("option",{value:"robot"},"ü§ñ Robot"),e.createElement("option",{value:"child"},"üë∂ Bebek"),e.createElement("option",{value:"monster"},"üëπ Canavar")),e.createElement("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.createElement("div",{style:{display:"flex",gap:"5px"}},e.createElement("button",{onClick:()=>ue("reset"),title:"Reset Game",style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"16px"}},"üîÑ"),["ü™®","üìÑ","‚úÇÔ∏è"].map((t,E)=>{const T=E===0?"rock":E===1?"paper":"scissors";return e.createElement("button",{key:t,onClick:()=>ue("move",T),style:{background:he?.moves?.[te]===T?"rgba(88, 101, 242, 0.5)":"transparent",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",cursor:"pointer",fontSize:"16px",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.1s"},title:`Play ${T}`},t)})),e.createElement("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.createElement("div",{style:{display:"flex",gap:"5px"}},["‚ù§Ô∏è","üòÇ","üòÆ","üëç","üéâ"].map(t=>e.createElement("button",{key:t,onClick:()=>U(t),style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"16px",padding:"0 4px",transition:"transform 0.1s"},onMouseEnter:E=>E.target.style.transform="scale(1.2)",onMouseLeave:E=>E.target.style.transform="scale(1)",title:`Send ${t}`},t))))},oe.isActive?e.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},e.createElement("div",{style:{flex:1,minHeight:0,position:"relative"}},e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"large",text:"Cinema Player y√ºkleniyor...",fullscreen:!0})},e.createElement(vm,null))),e.createElement("div",{style:{height:"140px",display:"flex",gap:"8px",padding:"10px",overflowX:"auto",background:"rgba(0,0,0,0.5)",flexShrink:0,alignItems:"center"}},(()=>{const t=[];return t.push({id:"local-cam",user:{username:te,is_talking:d,is_mic_off:k,is_deafened:h},track:r?.getVideoTracks()[0]||null,streamType:"camera",isLocal:!0,avatarUrl:_t(te)}),F&&t.push({id:"local-screen",user:{username:te},track:F.getVideoTracks()[0],streamType:"screen",isLocal:!0,avatarUrl:_t(te)}),Object.entries(o||{}).forEach(([E,T])=>{const M=T.getVideoTracks(),D=T.getAudioTracks();M.length>0?M.forEach(H=>t.push({id:`${E}-${H.id}`,user:{username:E},track:H,streamType:"camera",isLocal:!1,avatarUrl:_t(E)})):D.length>0&&t.push({id:`${E}-audio`,user:{username:E},track:D[0],streamType:"camera",isLocal:!1,avatarUrl:_t(E)})}),t.map(E=>e.createElement(en,{key:E.id,...E,style:{height:"100%",aspectRatio:"16/9",minWidth:"160px"},lastReaction:V,gameMove:he?.moves?.[E.user.username]}))})())):e.createElement("div",{style:{...fe.videoGrid,flexDirection:rt?"column":"row",flexWrap:rt?"nowrap":"wrap",overflowY:"auto",height:"100%"}},(()=>{const t=[];if(t.push({id:"local-cam",user:{username:te,is_talking:d,is_mic_off:k,is_deafened:h},track:r?.getVideoTracks()[0]||null,streamType:"camera",isLocal:!0,avatarUrl:_t(te)}),F?.getVideoTracks()[0]&&t.push({id:"local-screen",user:{username:te,is_talking:!1},track:F.getVideoTracks()[0],streamType:"screen",isLocal:!0,avatarUrl:_t(te)}),Object.entries(o||{}).forEach(([T,M])=>{if(T!==te){const D=M.getVideoTracks(),H=M.getAudioTracks();D.length>0?D.forEach(Q=>{t.push({id:`${T}-${Q.id}`,user:{username:T},track:Q,streamType:Q.label?.toLowerCase().includes("screen")?"screen":"camera",isLocal:!1,avatarUrl:_t(T)})}):H.length>0&&t.push({id:`${T}-audio`,user:{username:T},track:H[0],streamType:"camera",isLocal:!1,avatarUrl:_t(T)})}}),rt){const T=t.find(D=>D.id===rt);if(!T)return Yt(null),E(t);const M=t.filter(D=>D.id!==rt);return e.createElement(e.Fragment,null,e.createElement("div",{style:{flex:1,width:"100%",minHeight:"300px",padding:"0",overflow:"hidden",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000"}},e.createElement(en,{...T,style:{width:"100%",height:"100%",maxWidth:"100%",borderRadius:"0",maxHeight:"100%",margin:"0 auto",aspectRatio:"unset"},onClick:()=>Yt(null),lastReaction:V,gameMove:he?.moves?.[T.user?.username]})),e.createElement("div",{style:{height:"120px",display:"flex",gap:"8px",padding:"10px",overflowX:"auto",flexShrink:0,justifyContent:"center"}},M.map(D=>e.createElement(en,{key:D.id,...D,style:{width:"180px",height:"100%",flexShrink:0,aspectRatio:"16/9"},onClick:()=>Yt(D.id),lastReaction:V,gameMove:he?.moves?.[D.user.username]}))))}else return E(t);function E(T){return T.map(M=>e.createElement(en,{key:M.id,...M,style:{width:"240px",maxWidth:"100%",flexGrow:1,height:"auto"},onClick:()=>Yt(M.id),lastReaction:V,gameMove:he?.moves?.[M.user.username]}))}})())))),Zn&&e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"medium",text:"Temalar y√ºkleniyor..."})},e.createElement(xf,{onClose:()=>Er(!1),currentTheme:ec,onThemeChange:Za})),ss&&e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"medium",text:"√ñzet hazƒ±rlanƒ±yor..."})},e.createElement(Ii,{roomSlug:x.id,onClose:()=>da(!1),fetchWithAuth:G,apiBaseUrl:ee})),et&&e.createElement(n.Suspense,{fallback:e.createElement(wt,{size:"small",text:"≈ûablonlar y√ºkleniyor..."})},e.createElement(lf,{onClose:()=>Fe(!1),onSelect:t=>{po.current?.appendText?.(t),Fe(!1)},fetchWithAuth:G,apiBaseUrl:ee,isAdmin:je}))),Wo&&e.createElement(Sm,{x:Wo.x,y:Wo.y,user:Wo.user,currentUser:te,onClose:()=>hs(null),onAction:Hc,voiceChannels:le.flatMap(t=>(t.categories||[]).flatMap(E=>(E.rooms||[]).filter(T=>T.is_voice))),isAdmin:je,isInVoiceRoom:B,friendsList:wr}),xo&&dl.createPortal(e.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999999},onClick:()=>Ho(null)},e.createElement("div",{onClick:t=>t.stopPropagation(),style:{backgroundColor:"#2b2d31",borderRadius:"12px",width:"400px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5)"}},e.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #3f4147",textAlign:"center"}},e.createElement("h2",{style:{color:"#f2f3f5",margin:0,fontSize:"18px"}},"üé´ Sunucuya Davet Et"),e.createElement("p",{style:{color:"#b9bbbe",margin:"8px 0 0",fontSize:"14px"}},e.createElement("strong",null,xo.username)," kullanƒ±cƒ±sƒ±nƒ± hangi sunucuya davet etmek istiyorsunuz?")),e.createElement("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"12px"}},le.map(t=>e.createElement("div",{key:t.id,onClick:async()=>{try{const E=await G(`${xe}/servers/${t.id}/invite/`,{method:"POST",body:JSON.stringify({target_username:xo.username})});if(E.ok)ie.success(`üé´ ${xo.username} kullanƒ±cƒ±sƒ±na davetiye g√∂nderildi!`);else{const T=await E.json();T.error&&T.error.includes("zaten")?ie.info(`‚ÑπÔ∏è ${xo.username} zaten bu sunucunun √ºyesi!`):ie.error(`‚ùå ${T.error||"Davet g√∂nderilemedi"}`)}}catch(E){console.error("‚ùå Invite error:",E),ie.error("‚ùå Baƒülantƒ± hatasƒ±")}Ho(null)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"rgba(255,255,255,0.02)",marginBottom:"8px"},onMouseEnter:E=>{E.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.2)"},onMouseLeave:E=>{E.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"}},t.icon?e.createElement("img",{src:t.icon,alt:t.name,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.createElement("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white",fontSize:"16px"}},t.name?.substring(0,2).toUpperCase()),e.createElement("div",{style:{flex:1}},e.createElement("div",{style:{color:"#f2f3f5",fontWeight:"600"}},t.name),e.createElement("div",{style:{color:"#b9bbbe",fontSize:"12px"}},t.member_count||t.categories?.length||0," √ºye")),e.createElement("div",{style:{color:"#5865f2",fontSize:"20px"}},"‚Üí")))),e.createElement("div",{style:{padding:"16px 20px",borderTop:"1px solid #3f4147",textAlign:"center"}},e.createElement("button",{onClick:()=>Ho(null),style:{backgroundColor:"#4f545c",color:"#f2f3f5",border:"none",padding:"10px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"600"}},"ƒ∞ptal")))),document.body))},fe={mainContainer:{display:"flex",width:"100%",height:"100dvh",backgroundColor:"#1E1F22",backgroundImage:"radial-gradient(circle at 50% 10%, rgba(88, 101, 242, 0.05) 0%, transparent 40%)",color:"white",overflow:"hidden",fontFamily:"'Inter', sans-serif"},chatLayout:{display:"flex",width:"100%",height:"100%",overflow:"hidden"},sidebarWrapper:{width:"312px",backgroundColor:"rgba(30, 31, 34, 0.6)",backdropFilter:"blur(10px)",display:"flex",flexDirection:"row",flexShrink:0,height:"100%",borderRight:"1px solid rgba(255,255,255,0.05)"},mainContent:{flex:1,display:"flex",minWidth:0,position:"relative",height:"100%",overflow:"hidden"},chatArea:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"transparent",minWidth:0,height:"100%",overflow:"hidden",position:"relative"},chatHeader:{height:"54px",minHeight:"54px",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",padding:"0 20px",flexShrink:0,backgroundColor:"rgba(20, 21, 24, 0.7)",backdropFilter:"blur(15px)",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",zIndex:10},messageBox:{flex:1,overflowY:"auto",padding:"20px 0",display:"flex",flexDirection:"column",gap:"4px",scrollBehavior:"smooth",minHeight:0},inputContainer:{padding:"0 20px 24px 20px",backgroundColor:"transparent",position:"relative",flexShrink:0,minHeight:"auto",zIndex:20},chatUserListPanel:{width:"240px",backgroundColor:"rgba(30, 31, 34, 0.6)",borderLeft:"1px solid rgba(255,255,255,0.08)",flexShrink:0,height:"100%",backdropFilter:"blur(10px)"},mobileSidebar:{position:"fixed",zIndex:100,top:0,bottom:0,left:0,width:"85vw",maxWidth:"350px",boxShadow:"5px 0 15px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},mobileRightSidebar:{position:"fixed",zIndex:100,top:0,bottom:0,right:0,width:"85vw",maxWidth:"300px",boxShadow:"-5px 0 15px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},mobileOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:99,backdropFilter:"blur(3px)"},mobileMenuButton:{background:"none",border:"none",color:"white",fontSize:"1.5em",marginRight:"10px",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",transition:"all 0.2s"},iconButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"1.3em",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",borderRadius:"50%",transition:"all 0.2s",":hover":{backgroundColor:"rgba(255,255,255,0.1)",color:"#fff"}},videoGrid:{display:"flex",flexWrap:"wrap",gap:"5px",padding:"5px",alignContent:"center",justifyContent:"center",alignItems:"center"},systemMessage:{color:"#949ba4",textAlign:"center",fontSize:"0.85em",margin:"10px 0",fontStyle:"italic"},searchForm:{position:"relative",display:"flex",alignItems:"center",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px",padding:"0 8px",height:"32px",marginRight:"8px",border:"1px solid rgba(255,255,255,0.05)"},searchInput:{backgroundColor:"transparent",border:"none",color:"#dcddde",fontSize:"0.9em",width:"140px",outline:"none"},searchIcon:{color:"#949ba4",fontSize:"0.8em",cursor:"pointer"},typingIndicator:{color:"#dbdee1",fontSize:"0.85em",maxWidth:"180px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:"bold"},connectionPillOnline:{marginLeft:"10px",padding:"4px 8px",borderRadius:"999px",backgroundColor:"rgba(59, 165, 93, 0.2)",border:"1px solid #3ba55d",color:"#3ba55d",fontSize:"0.75em",fontWeight:700},connectionPillOffline:{marginLeft:"10px",padding:"4px 8px",borderRadius:"999px",backgroundColor:"rgba(218, 55, 60, 0.2)",border:"1px solid #da373c",color:"#da373c",fontSize:"0.75em",fontWeight:700},scrollToBottomButton:{position:"absolute",right:"16px",bottom:"110px",backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.35)",cursor:"pointer",fontWeight:600},mobileSidebarHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",backgroundColor:"#202225",borderBottom:"1px solid #111214",minHeight:"54px",flexShrink:0},closeSidebarButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"22px",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background 0.2s, color 0.2s"},menuItem:{width:"100%",padding:"10px 16px",background:"transparent",border:"none",color:"#dcddde",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",fontWeight:"500",transition:"all 0.15s ease",borderRadius:"0"}};function Mm(){return e.createElement($l,{fallbackMessage:"Pawscord encountered an error. Please try refreshing the page."},e.createElement($u,null,e.createElement(zm,null)))}const Um=`${Ru}/auth/verify-email/`,Vm=()=>{const{token:f}=Wi(),c=jn(),[a,s]=n.useState("loading"),[u,g]=n.useState("Hesabƒ±nƒ±z doƒürulanƒ±yor, l√ºtfen bekleyin...");return n.useEffect(()=>{if(!f){s("error"),g("Ge√ßersiz veya eksik doƒürulama kodu.");return}const B=async()=>{try{const _=await fetch(`${Um}${f}/`),S=await _.json();_.ok?(s("success"),g("√úyeliƒüiniz ba≈üarƒ±yla aktif edildi!")):(s("error"),g(S.message||"Doƒürulama ba≈üarƒ±sƒ±z oldu."))}catch{s("error"),g("Sunucuya baƒülanƒ±lamadƒ±. L√ºtfen internet baƒülantƒ±nƒ±zƒ± kontrol edin.")}};setTimeout(()=>{B()},1e3)},[f]),e.createElement("div",{style:nt.container},e.createElement("div",{style:nt.card},a==="loading"&&e.createElement("div",{style:nt.content},e.createElement(Hi,{className:"spin-animation",size:50,color:"#5865f2",style:{marginBottom:20}}),e.createElement("h2",{style:nt.title},"Doƒürulanƒ±yor..."),e.createElement("p",{style:nt.text},u)),a==="success"&&e.createElement("div",{style:nt.content},e.createElement($a,{size:60,color:"#43b581",style:{marginBottom:20}}),e.createElement("h2",{style:{...nt.title,color:"#43b581"}},"Tebrikler! üéâ"),e.createElement("p",{style:nt.text},u),e.createElement("p",{style:nt.subText},"Artƒ±k Pawscord'a tam eri≈üim saƒülayabilirsin."),e.createElement("button",{onClick:()=>c("/"),style:nt.primaryButton},"Gƒ∞Rƒ∞≈û YAP")),a==="error"&&e.createElement("div",{style:nt.content},e.createElement(Oa,{size:60,color:"#f04747",style:{marginBottom:20}}),e.createElement("h2",{style:{...nt.title,color:"#f04747"}},"Hata Olu≈ütu"),e.createElement("p",{style:nt.text},u),e.createElement("button",{onClick:()=>c("/"),style:nt.secondaryButton},"Ana Sayfaya D√∂n"))))},nt={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100dvh",backgroundColor:"#1e1f22",fontFamily:"'Poppins', sans-serif",padding:"20px"},card:{backgroundColor:"#2b2d31",padding:"40px",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",maxWidth:"400px",width:"100%",textAlign:"center",border:"1px solid #1f2023"},content:{display:"flex",flexDirection:"column",alignItems:"center"},title:{margin:"0 0 10px 0",color:"#fff",fontSize:"1.8em"},text:{color:"#dbdee1",fontSize:"1.1em",margin:"0 0 20px 0",lineHeight:"1.5"},subText:{color:"#949ba4",fontSize:"0.9em",marginBottom:"30px"},primaryButton:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1em",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",width:"100%"},secondaryButton:{backgroundColor:"#4f545c",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1em",fontWeight:"bold",cursor:"pointer",width:"100%"}},r0=document.createElement("style");r0.innerText=`
  .spin-animation { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
`;document.head.appendChild(r0);const Nm=e.memo(Vm),Wm=()=>{const{code:f}=Wi(),c=jn(),{isAuthenticated:a,token:s}=So(),[u,g]=n.useState(null),[B,_]=n.useState(!0),[S,m]=n.useState(""),[y,k]=n.useState(!1),[h,A]=n.useState(!1),w="8888",C=window.Capacitor&&window.Capacitor.isNativePlatform(),v=typeof window<"u"&&typeof window.require=="function",i=`${(()=>{if(C)return"https://www.pawscord.com";if(v)return`http://127.0.0.1:${w}`;const d=window.location.protocol,l=window.location.hostname;return l.includes("pawscord.com")?"https://www.pawscord.com":`${d}//${l}:${w}`})()}/api`;n.useEffect(()=>{console.log("üé´ [Invite Page] Loaded with code:",f),r()},[f]);const r=async()=>{console.log("üîç [Invite Page] Fetching invite info..."),_(!0),m("");try{const d=await fetch(`${i}/invites/${f}/`),l=await d.json();console.log("üì¶ [Invite Page] Response:",{status:d.status,data:l}),d.ok?(g(l),console.log("‚úÖ [Invite Page] Invite info loaded")):(m(l.error||"Davet bulunamadƒ±"),console.error("‚ùå [Invite Page] Error:",l.error))}catch(d){console.error("‚ùå [Invite Page] Network error:",d),m("Baƒülantƒ± hatasƒ±. L√ºtfen tekrar deneyin.")}_(!1)},o=async()=>{if(!a){console.log("‚ö†Ô∏è [Invite Page] User not authenticated, redirecting to login"),ie.error("‚ùå L√ºtfen √∂nce giri≈ü yapƒ±n!"),sessionStorage.setItem("pending_invite",f),c("/");return}if(!s){console.error("‚ùå [Invite Page] No token found!"),ie.error("‚ùå Giri≈ü token'ƒ± bulunamadƒ±. L√ºtfen tekrar giri≈ü yapƒ±n."),c("/");return}console.log("üé´ [Invite Page] Accepting invite...",{code:f,apiUrl:`${i}/invites/${f}/accept/`,hasToken:!!s}),k(!0),m("");try{const d=`${i}/invites/${f}/accept/`;console.log("üì° [Invite Page] POST to:",d);const l=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});console.log("üì¶ [Invite Page] Response status:",l.status);const P=await l.json();if(console.log("üì¶ [Invite Page] Response data:",P),l.ok){console.log("‚úÖ [Invite Page] Successfully joined server!"),ie.success(`‚úÖ Ba≈üarƒ±lƒ±! ${P.server_name||"Sunucu"}ya katƒ±ldƒ±nƒ±z!`),A(!0);const L=P.redirect||"/";console.log("üîó [Invite Page] Redirecting to:",L),setTimeout(()=>{L.startsWith("http")?window.location.href=L:(c(L),window.location.reload())},2e3)}else{const L=P.error||P.message||"Sunucuya katƒ±lma hatasƒ±";console.error("‚ùå [Invite Page] Join failed:",L,P),m(L),ie.error(`‚ùå Hata: ${L}`)}}catch(d){console.error("‚ùå [Invite Page] Exception:",d);const l=d.message||"Baƒülantƒ± hatasƒ±";m(l),ie.error(`‚ùå Hata: ${l}`)}k(!1)};return B?e.createElement("div",{style:Se.container},e.createElement("div",{style:Se.backgroundGradient}),e.createElement("div",{style:Se.card},e.createElement("div",{style:Se.spinner}),e.createElement("p",{style:Se.loadingText},"Davet y√ºkleniyor..."))):S?e.createElement("div",{style:Se.container},e.createElement("div",{style:Se.backgroundGradient}),e.createElement("div",{style:Se.card},e.createElement(Oa,{size:64,color:"var(--error)"}),e.createElement("h2",{style:Se.errorTitle},"Hata"),e.createElement("p",{style:Se.errorText},S),e.createElement("button",{onClick:()=>c("/"),style:Se.homeButton},"Ana Sayfaya D√∂n"))):h?e.createElement("div",{style:Se.container},e.createElement("div",{style:Se.backgroundGradient}),e.createElement("div",{style:Se.card},e.createElement($a,{size:64,color:"var(--success)"}),e.createElement("h2",{style:Se.successTitle},"Ba≈üarƒ±lƒ±!"),e.createElement("p",{style:Se.successText},e.createElement("strong",null,u.server.name)," sunucusuna katƒ±ldƒ±nƒ±z!"),e.createElement("p",{style:Se.redirectText},"Ana sayfaya y√∂nlendiriliyorsunuz..."))):e.createElement("div",{style:Se.container},e.createElement("div",{style:Se.backgroundGradient}),e.createElement("div",{style:Se.card},u.server.icon&&e.createElement("img",{src:u.server.icon,alt:u.server.name,style:Se.serverIcon}),e.createElement("h1",{style:Se.serverName},e.createElement(ul,{style:Se.icon}),u.server.name),e.createElement("div",{style:Se.infoRow},e.createElement(Ta,{style:Se.infoIcon}),e.createElement("span",null,u.server.member_count," √úye")),u.expires_at&&e.createElement("div",{style:Se.infoRow},e.createElement(fl,{style:Se.infoIcon}),e.createElement("span",null,"S√ºre: ",new Date(u.expires_at).toLocaleString("tr-TR"))),u.max_uses>0&&e.createElement("div",{style:Se.infoRow},e.createElement("span",null,"Kullanƒ±m: ",u.uses," / ",u.max_uses)),e.createElement("div",{style:Se.inviterInfo},"Davet Eden: ",e.createElement("strong",null,u.inviter.username)),e.createElement("button",{onClick:o,disabled:y,style:{...Se.joinButton,...y?Se.joinButtonDisabled:{}}},y?"Katƒ±lƒ±nƒ±yor...":a?"Sunucuya Katƒ±l":"Giri≈ü Yap ve Katƒ±l"),!a&&e.createElement("p",{style:Se.loginHint},"* Sunucuya katƒ±lmak i√ßin giri≈ü yapmanƒ±z gerekiyor")))},Se={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"var(--bg-app)",padding:"20px",position:"relative",overflow:"hidden"},backgroundGradient:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(ellipse at top, rgba(139, 92, 246, 0.15), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.15), transparent 50%)",pointerEvents:"none",zIndex:0},card:{background:"var(--glass-bg)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",padding:"48px",borderRadius:"var(--radius-2xl)",textAlign:"center",color:"var(--text-primary)",maxWidth:"560px",width:"100%",boxShadow:"var(--shadow-2xl)",border:"1px solid var(--glass-border)",position:"relative",zIndex:1,animation:"scaleIn 0.4s ease-out"},spinner:{width:"50px",height:"50px",border:"3px solid var(--glass-border)",borderTop:"3px solid var(--brand-primary)",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto"},loadingText:{marginTop:"24px",color:"var(--text-tertiary)",fontSize:"15px",fontWeight:500},serverIcon:{width:"120px",height:"120px",borderRadius:"50%",marginBottom:"24px",objectFit:"cover",border:"4px solid var(--glass-border)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",transition:"var(--transition-normal)"},serverName:{fontSize:"32px",fontWeight:800,marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},icon:{fontSize:"28px",color:"var(--brand-primary)"},infoRow:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",margin:"16px 0",color:"var(--text-secondary)",fontSize:"16px",fontWeight:500,padding:"12px 20px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},infoIcon:{fontSize:"20px",color:"var(--brand-primary)"},inviterInfo:{marginTop:"24px",marginBottom:"32px",color:"var(--text-tertiary)",fontSize:"14px",padding:"16px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},joinButton:{background:"var(--gradient-primary)",color:"white",border:"none",padding:"16px 32px",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"16px",fontWeight:700,marginTop:"16px",width:"100%",transition:"var(--transition-normal)",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.4)",position:"relative",overflow:"hidden"},joinButtonDisabled:{background:"var(--bg-tertiary)",cursor:"not-allowed",opacity:.6,boxShadow:"none"},loginHint:{marginTop:"20px",fontSize:"13px",color:"var(--warning)",fontStyle:"italic",fontWeight:500},errorTitle:{color:"var(--error)",marginTop:"24px",fontSize:"28px",fontWeight:700},errorText:{color:"var(--text-tertiary)",margin:"24px 0",fontSize:"15px",lineHeight:1.6},successTitle:{color:"var(--success)",marginTop:"24px",fontSize:"28px",fontWeight:700},successText:{color:"var(--text-primary)",margin:"24px 0",fontSize:"18px",fontWeight:600},redirectText:{color:"var(--text-tertiary)",fontSize:"14px",marginTop:"12px",fontStyle:"italic"},homeButton:{background:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--glass-border)",padding:"14px 28px",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"15px",fontWeight:600,marginTop:"24px",transition:"var(--transition-normal)"}},o0=document.createElement("style");o0.textContent=`
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
`;document.head.appendChild(o0);const Hm=({apiBaseUrl:f})=>{const[c,a]=n.useState(!1),[s,u]=n.useState([]),[g,B]=n.useState(!1),_=n.useRef(null),S=n.useRef([]),m=n.useRef(null),{token:y}=So(),k=()=>{m.current?.scrollIntoView({behavior:"smooth"})};n.useEffect(()=>{k()},[s,g]);const h=async()=>{try{const C=await navigator.mediaDevices.getUserMedia({audio:!0});_.current=new MediaRecorder(C),S.current=[],_.current.ondataavailable=v=>{v.data.size>0&&S.current.push(v.data)},_.current.onstop=w,_.current.start(),a(!0)}catch{ie.error("‚ùå Mikrofon izni gerekli!")}},A=()=>{_.current&&c&&(_.current.stop(),a(!1))},w=async()=>{B(!0);const C=new Blob(S.current,{type:"audio/webm"}),v=new FormData;v.append("audio",C,"voice.webm");try{const p=await fetch(`${f}/eng-learn/voice-chat/`,{method:"POST",headers:{Authorization:`Bearer ${y}`},body:v});if(p.ok){const i=await p.json();u(o=>[...o,{sender:"user",text:i.user_text},{sender:"ai",text:i.ai_text}]),new Audio(`data:audio/mp3;base64,${i.audio_base64}`).play()}else console.error("Sunucu hatasƒ±:",p.status),ie.error("‚ùå Anla≈üƒ±lamadƒ± veya hata olu≈ütu.")}catch(p){console.error(p),ie.error("‚ùå Baƒülantƒ± hatasƒ±.")}finally{B(!1)}};return e.createElement("div",{style:Ht.container},e.createElement("div",{style:Ht.header},e.createElement(ji,{to:"/eng-learn",style:Ht.backBtn},e.createElement(Gi,null)," Geri"),e.createElement("h2",null,"AI ile Konu≈ü (Speaking)")),e.createElement("div",{style:Ht.chatArea},s.length===0&&e.createElement("div",{style:Ht.emptyState},e.createElement(Ns,{size:60,color:"#5865f2",style:{marginBottom:20}}),e.createElement("h3",null,"ƒ∞ngilizce Pratik Yap"),e.createElement("p",null,"Mikrofona basƒ±lƒ± tut ve konu≈ümaya ba≈üla."),e.createElement("small",{style:{color:"#72767d"}},'"Hello, how are you?" diyebilirsin.')),s.map((C,v)=>e.createElement("div",{key:v,style:{...Ht.messageBubble,alignSelf:C.sender==="user"?"flex-end":"flex-start",backgroundColor:C.sender==="user"?"#5865f2":"#2b2d31",color:"white",borderBottomRightRadius:C.sender==="user"?"0":"12px",borderBottomLeftRadius:C.sender==="ai"?"0":"12px"}},e.createElement("div",{style:Ht.msgHeader},C.sender==="user"?e.createElement(ml,{size:12}):e.createElement(Ns,{size:12}),e.createElement("span",{style:{marginLeft:5,fontSize:"0.8em",fontWeight:"bold"}},C.sender==="user"?"Sen":"AI √ñƒüretmen")),C.text)),g&&e.createElement("div",{style:{alignSelf:"flex-start",color:"#949ba4",marginLeft:10,fontStyle:"italic"}},"Yazƒ±yor ve seslendiriyor..."),e.createElement("div",{ref:m})),e.createElement("div",{style:Ht.controls},e.createElement("button",{onMouseDown:h,onMouseUp:A,onTouchStart:h,onTouchEnd:A,style:{...Ht.micButton,backgroundColor:c?"#f04747":"#5865f2",transform:c?"scale(1.1)":"scale(1)"}},c?e.createElement(xl,{size:24}):e.createElement(La,{size:30})),e.createElement("p",{style:{marginTop:15,color:"#949ba4",fontSize:"0.9em"}},c?"Dinliyor... (Bƒ±rakƒ±nca G√∂nderir)":"Basƒ±lƒ± Tut ve Konu≈ü")))},Ht={container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#313338",color:"white",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif"},header:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px",borderBottom:"1px solid #1f2023",paddingBottom:"15px"},backBtn:{color:"#b9bbbe",fontSize:"1em",textDecoration:"none",display:"flex",alignItems:"center",gap:"5px",fontWeight:"600"},chatArea:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px",paddingBottom:"20px",paddingRight:"5px"},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#949ba4",opacity:.8,textAlign:"center"},messageBubble:{maxWidth:"85%",padding:"15px",borderRadius:"12px",fontSize:"1em",lineHeight:"1.5",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",position:"relative"},msgHeader:{display:"flex",alignItems:"center",marginBottom:"5px",opacity:.8},controls:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"20px",borderTop:"1px solid #1f2023"},micButton:{width:"80px",height:"80px",borderRadius:"50%",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.1s ease",boxShadow:"0 5px 20px rgba(0,0,0,0.4)"}},Ui=[{text:"Hello",difficulty:"Kolay"},{text:"Water",difficulty:"Kolay"},{text:"Friend",difficulty:"Kolay"},{text:"Family",difficulty:"Kolay"},{text:"Music",difficulty:"Kolay"},{text:"School",difficulty:"Kolay"},{text:"Computer",difficulty:"Kolay"},{text:"Beautiful",difficulty:"Kolay"},{text:"Together",difficulty:"Kolay"},{text:"Morning",difficulty:"Kolay"},{text:"Happy",difficulty:"Kolay"},{text:"Garden",difficulty:"Kolay"},{text:"People",difficulty:"Kolay"},{text:"Coffee",difficulty:"Kolay"},{text:"Purple",difficulty:"Kolay"},{text:"Technology",difficulty:"Orta"},{text:"Development",difficulty:"Orta"},{text:"Environment",difficulty:"Orta"},{text:"Successfully",difficulty:"Orta"},{text:"Opportunity",difficulty:"Orta"},{text:"Government",difficulty:"Orta"},{text:"Communication",difficulty:"Orta"},{text:"Experience",difficulty:"Orta"},{text:"Available",difficulty:"Orta"},{text:"Management",difficulty:"Orta"},{text:"International",difficulty:"Orta"},{text:"Recommendation",difficulty:"Orta"},{text:"Responsibility",difficulty:"Orta"},{text:"Understand",difficulty:"Orta"},{text:"Literature",difficulty:"Orta"},{text:"Necessary",difficulty:"Orta"},{text:"Vocabulary",difficulty:"Orta"},{text:"Interesting",difficulty:"Orta"},{text:"Comfortable",difficulty:"Orta"},{text:"Vegetable",difficulty:"Orta"},{text:"Squirrel",difficulty:"Zor"},{text:"Schedule",difficulty:"Zor"},{text:"Queue",difficulty:"Zor"},{text:"Rural",difficulty:"Zor"},{text:"Brewery",difficulty:"Zor"},{text:"Phenomenon",difficulty:"Zor"},{text:"February",difficulty:"Zor"},{text:"Library",difficulty:"Zor"},{text:"Specific",difficulty:"Zor"},{text:"Regularly",difficulty:"Zor"},{text:"Probably",difficulty:"Zor"},{text:"Algorithm",difficulty:"Zor"},{text:"Hierarchical",difficulty:"Zor"},{text:"Maintenance",difficulty:"Zor"},{text:"Pronunciation",difficulty:"Zor"},{text:"Throughout",difficulty:"Zor"},{text:"Entrepreneur",difficulty:"Zor"},{text:"Simultaneously",difficulty:"Zor"},{text:"Mischievous",difficulty:"Zor"},{text:"Chaos",difficulty:"Zor"},{text:"Recipe",difficulty:"Zor"},{text:"Worcestershire",difficulty:"Efsane"},{text:"Colonel",difficulty:"Efsane"},{text:"Miscellaneous",difficulty:"Efsane"},{text:"Anesthetist",difficulty:"Efsane"},{text:"Otorhinolaryngologist",difficulty:"Efsane"},{text:"Isthmus",difficulty:"Efsane"},{text:"Anemone",difficulty:"Efsane"},{text:"Synecdoche",difficulty:"Efsane"},{text:"Onomatopoeia",difficulty:"Efsane"},{text:"Conscientious",difficulty:"Efsane"},{text:"Defibrillator",difficulty:"Efsane"},{text:"Antidisestablishmentarianism",difficulty:"Efsane"},{text:"How are you doing today?",difficulty:"C√ºmle"},{text:"I would like to order a coffee.",difficulty:"C√ºmle"},{text:"The quick brown fox jumps over the lazy dog.",difficulty:"C√ºmle"},{text:"Can you please repeat that?",difficulty:"C√ºmle"},{text:"I am learning to speak English fluently.",difficulty:"C√ºmle"},{text:"It is raining cats and dogs outside.",difficulty:"C√ºmle"},{text:"Actions speak louder than words.",difficulty:"C√ºmle"},{text:"I need to schedule a meeting for tomorrow.",difficulty:"C√ºmle"},{text:"What do you do for a living?",difficulty:"C√ºmle"},{text:"She sells seashells by the seashore.",difficulty:"Tekerleme"},{text:"Red lorry, yellow lorry.",difficulty:"Tekerleme"},{text:"Peter Piper picked a peck of pickled peppers.",difficulty:"Tekerleme"},{text:"How much wood would a woodchuck chuck?",difficulty:"Tekerleme"},{text:"Unique New York.",difficulty:"Tekerleme"},{text:"Fuzzy Wuzzy was a bear.",difficulty:"Tekerleme"},{text:"Which wristwatches are Swiss wristwatches?",difficulty:"Tekerleme"}],jm=({apiBaseUrl:f})=>{const{token:c}=So(),[a,s]=n.useState(null),[u,g]=n.useState(!1),[B,_]=n.useState(!1),[S,m]=n.useState("idle"),[y,k]=n.useState(""),[h,A]=n.useState(0),w=n.useRef(null),C=n.useRef([]);n.useEffect(()=>{v()},[]);const v=()=>{const d=Math.floor(Math.random()*Ui.length);s(Ui[d]),m("idle"),k("")},p=async()=>{if(a)try{const d=await fetch(`${f}/eng-learn/speak-text/`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({text:a.text})});if(d.ok){const l=await d.json();new Audio(`data:audio/mp3;base64,${l.audio_base64}`).play()}}catch(d){console.error(d)}},i=async()=>{k(""),m("recording");try{const d=await navigator.mediaDevices.getUserMedia({audio:!0});w.current=new MediaRecorder(d),C.current=[],w.current.ondataavailable=l=>{l.data.size>0&&C.current.push(l.data)},w.current.onstop=o,w.current.start(),g(!0)}catch{ie.error("‚ùå Mikrofon izni gerekli!"),m("idle")}},r=()=>{w.current&&u&&(w.current.stop(),g(!1))},o=async()=>{_(!0);const d=new Blob(C.current,{type:"audio/webm"}),l=new FormData;l.append("audio",d,"voice.webm"),l.append("target_text",a.text);try{const L=await(await fetch(`${f}/eng-learn/check-pronunciation/`,{method:"POST",headers:{Authorization:`Bearer ${c}`},body:l})).json();L.is_correct?(m("success"),k(`Harika! üéâ (${L.spoken_text})`),A(q=>q+1)):(m("error"),k(`Algƒ±lanan: "${L.spoken_text||"???"}" - Tekrar dene!`))}catch(P){console.error(P),k("Sunucu hatasƒ±."),m("error")}finally{_(!1)}};return a?e.createElement("div",{style:Ze.container},e.createElement("div",{style:Ze.header},e.createElement(ji,{to:"/eng-learn",style:Ze.backBtn},e.createElement(Gi,null)," √áƒ±kƒ±≈ü"),e.createElement("div",{style:Ze.scoreBadge},"Skor: ",h)),e.createElement("div",{style:Ze.mainContent},e.createElement("div",{style:{...Ze.card,borderColor:S==="success"?"#43b581":S==="error"?"#f04747":"transparent",boxShadow:S==="success"?"0 0 30px rgba(67, 181, 129, 0.3)":S==="error"?"0 0 30px rgba(240, 71, 71, 0.3)":"0 10px 30px rgba(0,0,0,0.3)"}},e.createElement("span",{style:{...Ze.difficulty,backgroundColor:a.difficulty==="Efsane"?"#eb459e":a.difficulty==="Zor"?"#f04747":"#202225",color:a.difficulty==="Efsane"||a.difficulty==="Zor"?"white":"#949ba4"}},a.difficulty),e.createElement("h1",{style:Ze.wordText},a.text),e.createElement("div",{style:{height:"30px",marginTop:"10px",color:S==="success"?"#43b581":"#f04747",fontWeight:"bold"}},B?"Analiz ediliyor...":y),e.createElement("div",{style:Ze.controls},e.createElement("button",{onClick:p,style:Ze.iconButton,title:"Doƒürusunu Dinle"},e.createElement(pl,{size:24})),e.createElement("button",{onMouseDown:i,onMouseUp:r,onTouchStart:i,onTouchEnd:r,style:{...Ze.micButton,backgroundColor:u?"#f04747":S==="success"?"#43b581":"#5865f2",transform:u?"scale(1.1)":"scale(1)"}},e.createElement(La,{size:32}))),e.createElement("p",{style:Ze.hint},u?"Dinliyor...":"Mikrofona basƒ±lƒ± tut ve oku")),e.createElement("div",{style:Ze.bottomNav},e.createElement("button",{onClick:v,style:Ze.skipButton},S==="success"?e.createElement(e.Fragment,null,"Sonraki Kelime ",e.createElement(hl,null)):e.createElement(e.Fragment,null,"Bunu Ge√ß ",e.createElement(gl,null)))))):e.createElement("div",{style:Ze.container},"Y√ºkleniyor...")},Ze={container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#1e1f22",color:"white",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif",alignItems:"center"},header:{width:"100%",maxWidth:"600px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},backBtn:{color:"#b9bbbe",textDecoration:"none",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},scoreBadge:{backgroundColor:"#f0b232",color:"#000",padding:"5px 15px",borderRadius:"20px",fontWeight:"bold"},mainContent:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},card:{backgroundColor:"#2b2d31",padding:"40px",borderRadius:"24px",width:"100%",maxWidth:"500px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",border:"3px solid transparent",transition:"all 0.3s ease"},difficulty:{padding:"4px 12px",borderRadius:"12px",fontSize:"0.85em",marginBottom:"20px",fontWeight:"bold"},wordText:{fontSize:"2.2em",fontWeight:"800",margin:"0 0 10px 0",color:"#fff",letterSpacing:"1px",lineHeight:"1.3"},controls:{display:"flex",alignItems:"center",gap:"30px",marginTop:"30px"},iconButton:{width:"50px",height:"50px",borderRadius:"50%",border:"2px solid #40444b",backgroundColor:"transparent",color:"#b9bbbe",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},micButton:{width:"80px",height:"80px",borderRadius:"50%",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 5px 20px rgba(0,0,0,0.4)",transition:"all 0.1s ease"},hint:{marginTop:"20px",color:"#72767d",fontSize:"0.9em"},bottomNav:{marginTop:"50px"},skipButton:{background:"transparent",border:"none",color:"#b9bbbe",fontSize:"1.1em",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",padding:"10px 20px",borderRadius:"8px",transition:"background 0.2s",":hover":{backgroundColor:"rgba(255,255,255,0.05)"}}},Gm=e.memo(jm),qm=({apiBaseUrl:f})=>{const[c,a]=n.useState("loading"),s=jn(),u=Ni();return n.useEffect(()=>{const g=new URLSearchParams(u.search),B=g.get("code");if(g.get("error")){a("error");return}if(B){const S=localStorage.getItem("access_token");fetch(`${f}/spotify/callback/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({code:B})}).then(m=>{m.ok?(a("success"),setTimeout(()=>{s("/",{replace:!0})},1500)):a("error")}).catch(m=>{console.error(m),a("error")})}},[u,f,s]),e.createElement("div",{style:Da.container},e.createElement("div",{style:Da.card},c==="loading"&&e.createElement(e.Fragment,null,e.createElement(Hi,{className:"spin",size:50,color:"#1db954",style:{marginBottom:20}}),e.createElement("h2",null,"Spotify Baƒülanƒ±yor..."),e.createElement("p",null,"Token alƒ±nƒ±yor, l√ºtfen bekleyin.")),c==="success"&&e.createElement(e.Fragment,null,e.createElement($a,{size:60,color:"#1db954",style:{marginBottom:20}}),e.createElement("h2",{style:{color:"#1db954"}},"Ba≈üarƒ±lƒ±!"),e.createElement("p",null,"Hesabƒ±n baƒülandƒ±. Sohbet ekranƒ±na d√∂n√ºl√ºyor...")),c==="error"&&e.createElement(e.Fragment,null,e.createElement(Oa,{size:60,color:"#f04747",style:{marginBottom:20}}),e.createElement("h2",{style:{color:"#f04747"}},"Hata Olu≈ütu"),e.createElement("p",null,"Baƒülantƒ± kurulamadƒ±."),e.createElement("button",{onClick:()=>s("/"),style:Da.button},"Geri D√∂n"))))},Da={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100dvh",backgroundColor:"#191414",color:"white",fontFamily:"Poppins, sans-serif"},card:{backgroundColor:"#282828",padding:"40px",borderRadius:"16px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",maxWidth:"400px",width:"90%"},button:{marginTop:"20px",padding:"10px 20px",borderRadius:"20px",border:"none",backgroundColor:"#1db954",color:"white",fontWeight:"bold",cursor:"pointer"}},n0=document.createElement("style");n0.innerText=`
  .spin { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
`;document.head.appendChild(n0);const Km=e.memo(qm),Ym=()=>{const{globalData:f}=t0(),[c,a]=n.useState(null),[s,u]=n.useState(!1),g=jn();if(n.useEffect(()=>{if(f&&f.type==="chat_message_handler"&&f.username==="‚ö° Signal Bot"){const _=f.content.split(`
`),S=_.find(h=>h.includes("ü™ô"))||"Bilinmiyor",m=_.find(h=>h.includes("üìà"))||"",y={title:"YENƒ∞ KRƒ∞PTO Sƒ∞NYALƒ∞! üö®",coin:S.replace("ü™ô","").replace(/\*/g,"").trim(),direction:m.includes("LONG")?"Y√úKSELƒ∞≈û (LONG)":"D√ú≈û√ú≈û (SHORT)",isLong:m.includes("LONG"),raw:f};a(y),u(!0);const k=setTimeout(()=>{u(!1)},8e3);return()=>clearTimeout(k)}},[f]),!s||!c)return null;const B=()=>{u(!1),g("/")};return e.createElement("div",{style:jt.container,className:"slide-in-notification"},e.createElement("div",{style:jt.iconBox},e.createElement(yl,{size:24,color:"#f0b232"})),e.createElement("div",{style:jt.content,onClick:B},e.createElement("h4",{style:jt.title},c.title),e.createElement("div",{style:jt.details},e.createElement("span",{style:jt.coinName},c.coin),e.createElement("span",{style:{...jt.directionBadge,backgroundColor:c.isLong?"rgba(35, 165, 89, 0.2)":"rgba(240, 71, 71, 0.2)",color:c.isLong?"#23a559":"#da373c"}},c.direction)),e.createElement("span",{style:jt.hint},"Detaylar i√ßin tƒ±kla ",e.createElement(vl,{size:10}))),e.createElement("button",{onClick:_=>{_.stopPropagation(),u(!1)},style:jt.closeButton},e.createElement(_o,null)))},jt={container:{position:"fixed",top:"20px",right:"20px",width:"320px",backgroundColor:"#1e1f22",borderRadius:"8px",boxShadow:"0 8px 20px rgba(0,0,0,0.5)",borderLeft:"5px solid #f0b232",display:"flex",alignItems:"center",padding:"15px",zIndex:99999,cursor:"pointer",transition:"transform 0.3s ease-out"},iconBox:{marginRight:"15px",display:"flex",alignItems:"center"},content:{flex:1,display:"flex",flexDirection:"column"},title:{margin:0,color:"#fff",fontSize:"0.95em",fontWeight:"bold",marginBottom:"5px"},details:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"},coinName:{color:"#dcddde",fontWeight:"bold",fontSize:"1.1em"},directionBadge:{fontSize:"0.75em",padding:"2px 6px",borderRadius:"4px",fontWeight:"bold"},hint:{fontSize:"0.7em",color:"#949ba4",display:"flex",alignItems:"center",gap:"5px"},closeButton:{background:"none",border:"none",color:"#949ba4",cursor:"pointer",padding:"5px",marginLeft:"10px",fontSize:"1em"}},a0=document.createElement("style");a0.innerText=`
  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  .slide-in-notification {
    animation: slideInRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  }
`;document.head.appendChild(a0);function Jm(f={}){const{nonce:c,onScriptLoadSuccess:a,onScriptLoadError:s}=f,[u,g]=n.useState(!1),B=n.useRef(a);B.current=a;const _=n.useRef(s);return _.current=s,n.useEffect(()=>{const S=document.createElement("script");return S.src="https://accounts.google.com/gsi/client",S.async=!0,S.defer=!0,S.nonce=c,S.onload=()=>{var m;g(!0),(m=B.current)===null||m===void 0||m.call(B)},S.onerror=()=>{var m;g(!1),(m=_.current)===null||m===void 0||m.call(_)},document.body.appendChild(S),()=>{document.body.removeChild(S)}},[c]),u}const Xm=n.createContext(null);function Zm({clientId:f,nonce:c,onScriptLoadSuccess:a,onScriptLoadError:s,children:u}){const g=Jm({nonce:c,onScriptLoadSuccess:a,onScriptLoadError:s}),B=n.useMemo(()=>({clientId:f,scriptLoadedSuccessfully:g}),[f,g]);return e.createElement(Xm.Provider,{value:B},u)}const ze=({children:f})=>{const c=eo.isNativePlatform();return e.createElement("div",{style:{width:"100%",height:"100dvh",boxSizing:"border-box",paddingTop:c?"max(35px, env(safe-area-inset-top))":"0px",backgroundColor:"#1e1f22",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"}},f)};class Qm extends e.Component{constructor(c){super(c),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(c){return{hasError:!0}}componentDidCatch(c,a){console.error("üî¥ App Crashed:",c),console.error("Error Info:",a),this.setState({error:c,errorInfo:a});try{fetch("/api/errors/report/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:c?.toString(),stack:c?.stack,componentStack:a?.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})}).catch(()=>{})}catch(s){console.warn("Could not report error:",s)}}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()};render(){return this.state.hasError?e.createElement("div",{style:Gt.container},e.createElement("div",{style:Gt.content},e.createElement("div",{style:Gt.icon},"üí•"),e.createElement("h1",{style:Gt.title},"Oops! Bir ≈üeyler ters gitti"),e.createElement("p",{style:Gt.message},"√úzg√ºn√ºz, uygulama beklenmedik bir hatayla kar≈üƒ±la≈ütƒ±."),e.createElement("div",{style:Gt.actions},e.createElement("button",{onClick:this.handleReset,style:Gt.button},"üîÑ Yeniden Ba≈ülat"),e.createElement("button",{onClick:()=>window.location.href="/",style:{...Gt.button,...Gt.buttonSecondary}},"üè† Ana Sayfaya D√∂n")),!1)):this.props.children}}const Gt={container:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#1E1F22",color:"#FFFFFF",padding:"20px",fontFamily:"'Inter', sans-serif"},content:{textAlign:"center",maxWidth:"600px",padding:"40px",background:"linear-gradient(135deg, #2B2D31 0%, #1E1F22 100%)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},icon:{fontSize:"80px",marginBottom:"20px",animation:"shake 0.5s ease-in-out"},title:{fontSize:"32px",fontWeight:"bold",marginBottom:"16px",color:"#FFFFFF"},message:{fontSize:"16px",color:"#B9BBBE",marginBottom:"32px",lineHeight:"1.6"},actions:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},button:{padding:"12px 24px",fontSize:"16px",fontWeight:"600",border:"none",borderRadius:"8px",cursor:"pointer",backgroundColor:"#5865F2",color:"#FFFFFF",transition:"all 0.2s",":hover":{backgroundColor:"#4752C4"}},buttonSecondary:{backgroundColor:"#4E5058",":hover":{backgroundColor:"#6A6F78"}}},ex=e.lazy(()=>z(()=>import("./EnglishHub-DSGxVCmT.js"),__vite__mapDeps([164,1,2]),import.meta.url)),tx=e.lazy(()=>z(()=>import("./GrammarQuizPage-fc8T7pGe.js"),__vite__mapDeps([165,1,2,166]),import.meta.url)),rx=e.lazy(()=>z(()=>import("./EnglishLearningPage-DHFeU-P5.js"),__vite__mapDeps([167,1,2,166]),import.meta.url)),ox=e.lazy(()=>z(()=>import("./CryptoDashboard-CZXUp3Cw.js"),__vite__mapDeps([168,1,2,35]),import.meta.url)),nx=e.lazy(()=>z(()=>import("./CryptoSignals-Vez6ovNV.js"),__vite__mapDeps([169,1,2]),import.meta.url)),ax=e.lazy(()=>z(()=>import("./ForgotPasswordPage-B9w2m-d6.js"),__vite__mapDeps([115,1,2,32]),import.meta.url)),sx=e.lazy(()=>z(()=>import("./ResetPasswordPage-BBffqbYh.js"),__vite__mapDeps([116,1,2]),import.meta.url)),ix=e.lazy(()=>z(()=>import("./TwoFactorLoginPage-2EHyMX-U.js"),__vite__mapDeps([117,1,2]),import.meta.url)),cx=e.lazy(()=>z(()=>import("./VerifyEmailPage-RBlIf0uV.js"),__vite__mapDeps([114,1,2]),import.meta.url)),lx=e.lazy(()=>z(()=>import("./LandingPage-BZZQY3m9.js"),__vite__mapDeps([170,1,2,135,171]),import.meta.url)),dx=e.lazy(()=>z(()=>import("./ReferralProgram-CVRtBfSI.js"),__vite__mapDeps([172,1,2,135,173]),import.meta.url)),ux=e.lazy(()=>z(()=>import("./GrowthDashboard-bRqeouaj.js"),__vite__mapDeps([174,1,2,135,28,175]),import.meta.url)),fx=e.lazy(()=>z(()=>import("./ToastDemo-BhKE9ouG.js"),__vite__mapDeps([176,1,2,177]),import.meta.url)),mx=window.location.hostname==="pawscord.com"||window.location.hostname==="www.pawscord.com",xx="192.168.68.53",px="8888",hx=mx?"https://www.pawscord.com":`http://${xx}:${px}`,$t=`${hx}/api`,gx="774757987258-poa0elqqapnab8eud3tol3h2pilcqe71.apps.googleusercontent.com",yx=()=>(n.useEffect(()=>{const f=setTimeout(()=>{try{Ki()}catch(c){console.warn("preloadCriticalChunks error",c)}},3e3);if("requestIdleCallback"in window)window.requestIdleCallback(()=>{try{Fa()}catch(c){console.warn("prefetchNextChunks error",c)}},{timeout:2e3});else{const c=setTimeout(()=>{try{Fa()}catch(a){console.warn("prefetchNextChunks error",a)}},4e3);return()=>clearTimeout(c)}return()=>clearTimeout(f)},[]),e.createElement(Zm,{clientId:gx},e.createElement(Iu,null,e.createElement(zu,null,e.createElement(Qm,null,e.createElement(bl,null,e.createElement(Ym,null),e.createElement(_l,null,e.createElement(Le,{path:"/verify/:token",element:e.createElement(ze,null,e.createElement(Nm,null))}),e.createElement(Le,{path:"/verify-email/:token",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(cx,{apiBaseUrl:$t})))}),e.createElement(Le,{path:"/forgot-password",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(ax,{apiBaseUrl:$t})))}),e.createElement(Le,{path:"/reset-password/:token",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(sx,{apiBaseUrl:$t})))}),e.createElement(Le,{path:"/2fa-login",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(ix,{apiBaseUrl:$t})))}),e.createElement(Le,{path:"/launch",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(lx,{apiBaseUrl:$t})))}),e.createElement(Le,{path:"/referral",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(dx,{apiBaseUrl:$t})))}),e.createElement(Le,{path:"/growth-dashboard",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(ux,{apiBaseUrl:$t})))}),e.createElement(Le,{path:"/toast-demo",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(fx,null)))}),e.createElement(Le,{path:"/invite/:code",element:e.createElement(ze,null,e.createElement(Wm,null))}),e.createElement(Le,{path:"/spotify-callback",element:e.createElement(ze,null,e.createElement(Km,{apiBaseUrl:$t}))}),e.createElement(Le,{path:"/eng-learn",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(ex,null)))}),e.createElement(Le,{path:"/eng-learn/vocab",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(rx,null)))}),e.createElement(Le,{path:"/eng-learn/grammar",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(tx,null)))}),e.createElement(Le,{path:"/eng-learn/voice",element:e.createElement(ze,null,e.createElement(Hm,{apiBaseUrl:$t}))}),e.createElement(Le,{path:"/eng-learn/pronunciation",element:e.createElement(ze,null,e.createElement(Gm,{apiBaseUrl:$t}))}),e.createElement(Le,{path:"/crypto-analysis",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(nx,null)))}),e.createElement(Le,{path:"/crypto-dashboard-old",element:e.createElement(ze,null,e.createElement(e.Suspense,{fallback:e.createElement("div",null,"Y√ºkleniyor...")},e.createElement(ox,null)))}),e.createElement(Le,{path:"/*",element:e.createElement(Mm,null)})))))))),vx=El.createRoot(document.getElementById("root"));vx.render(e.createElement(yx,null));export{Ru as A,eo as C,Ll as G,Cl as S,Ra as T,qi as W,So as a,op as b,Au as c,He as d,rp as e,tp as f,Jl as g,Ou as h,Na as i,Xr as j,hu as k,Ge as l,za as r,ie as t,t0 as u};

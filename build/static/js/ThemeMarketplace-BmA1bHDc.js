import{r,n as e}from"./react-core-Cj7FUMmY.js";import{t as h}from"./index-DcErrD_T.js";import{a as p}from"./index-BV9jtLkh.js";import"./editor-vendor-D9c4a6XZ.js";import"./media-vendor-BsD1gqUZ.js";import"./router-vendor-QeioVw-9.js";import"./icons-vendor-DnRG7SaF.js";import"./state-vendor-MN-5i-Jz.js";import"./crypto-vendor-DK-7ILyQ.js";const P=()=>{const[t,i]=r.useState([]),[o,d]=r.useState(""),[a,c]=r.useState("popular"),[m,n]=r.useState(!0);r.useEffect(()=>{u()},[a]);const u=async()=>{n(!0);try{const s=await p.get(`/api/themes/marketplace/?filter=${a}`);i(s.data.themes)}catch{}finally{n(!1)}},x=async s=>{try{const l=await p.post("/api/themes/install/",{theme_id:s});l.data.success&&(h.success("âœ… Theme installed successfully!"),j(l.data.theme))}catch{h.error("âŒ Installation failed")}},j=s=>{const l=document.documentElement;Object.entries(s.colors).forEach(([f,N])=>{l.style.setProperty(`--${f}`,N)}),localStorage.setItem("current_theme",JSON.stringify(s))},v=t.filter(s=>s.name.toLowerCase().includes(o.toLowerCase())||s.author.toLowerCase().includes(o.toLowerCase()));return e.jsxs("div",{className:"theme-marketplace",children:[e.jsxs("div",{className:"marketplace-header",children:[e.jsx("h1",{children:"ğŸ¨ Theme Marketplace"}),e.jsx("p",{children:"Discover and install community-created themes"})]}),e.jsxs("div",{className:"marketplace-controls",children:[e.jsx("input",{type:"text",placeholder:"Search themes...",value:o,onChange:s=>d(s.target.value),className:"theme-search"}),e.jsxs("div",{className:"theme-filters",children:[e.jsx("button",{className:a==="popular"?"active":"",onClick:()=>c("popular"),children:"ğŸ”¥ Popular"}),e.jsx("button",{className:a==="new"?"active":"",onClick:()=>c("new"),children:"âœ¨ New"}),e.jsx("button",{className:a==="top-rated"?"active":"",onClick:()=>c("top-rated"),children:"â­ Top Rated"})]})]}),m?e.jsx("div",{className:"loading",children:"Loading themes..."}):e.jsx("div",{className:"theme-grid",children:v.map(s=>e.jsx(y,{theme:s,onInstall:()=>x(s.id)},s.id))})]})},y=({theme:t,onInstall:i})=>{const[o,d]=r.useState(!1),a=()=>{d(!0);const c=document.documentElement;Object.entries(t.colors).forEach(([m,n])=>{c.style.setProperty(`--${m}-preview`,n)})};return e.jsxs("div",{className:"theme-card",children:[e.jsx("div",{className:"theme-preview",style:{background:`linear-gradient(135deg, ${t.colors.primary}, ${t.colors.secondary})`},children:t.screenshot&&e.jsx("img",{src:t.screenshot,alt:t.name})}),e.jsxs("div",{className:"theme-info",children:[e.jsx("h3",{children:t.name}),e.jsxs("p",{className:"theme-author",children:["by ",t.author]}),e.jsx("p",{className:"theme-description",children:t.description}),e.jsxs("div",{className:"theme-stats",children:[e.jsxs("span",{children:["â­ ",t.rating.toFixed(1)]}),e.jsxs("span",{children:["ğŸ“¥ ",t.downloads.toLocaleString()," installs"]})]}),e.jsxs("div",{className:"theme-actions",children:[e.jsx("button",{onClick:a,className:"btn-preview",children:"ğŸ‘ï¸ Preview"}),e.jsx("button",{onClick:i,className:"btn-install",children:"ğŸ“¥ Install"})]})]})]})};export{P as default};

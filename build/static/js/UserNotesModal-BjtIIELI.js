var v=Object.defineProperty;var n=(a,s)=>v(a,"name",{value:s,configurable:!0});import{r as c,j as e}from"./react-core-Djgtqrmb.js";import{aJ as j,a as k,aY as C}from"./icons-vendor-BMXAt4pj.js";const z=n(({targetUser:a,apiBaseUrl:s,fetchWithAuth:f,onClose:x,inline:b=!1})=>{const[l,p]=c.useState(""),[r,u]=c.useState("yellow"),[i,y]=c.useState(!1),d=[{name:"yellow",value:"#fef3bd"},{name:"green",value:"#d4edda"},{name:"blue",value:"#d1ecf1"},{name:"red",value:"#f8d7da"},{name:"purple",value:"#e2d9f3"}];c.useEffect(()=>{g()},[a]);const g=n(async()=>{try{const t=await f(`${s}/user-notes/${a}/`);if(t.ok){const h=await t.json();p(h.note||""),u(h.color||"yellow")}}catch{}},"loadNote"),m=n(async()=>{y(!0);try{(await f(`${s}/user-notes/${a}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:l,color:r})})).ok&&(b?y(!1):x())}catch{}finally{y(!1)}},"saveNote");return b?e.jsxs("div",{style:{marginTop:"8px"},children:[e.jsx("p",{style:o.info,children:"Bu not sadece sen gÃ¶rebilirsin"}),e.jsxs("div",{style:o.colorPicker,children:[e.jsx("label",{style:o.label,children:"Renk:"}),e.jsx("div",{style:o.colors,children:d.map(t=>e.jsx("button",{onClick:n(()=>u(t.name),"onClick"),style:{...o.colorButton,backgroundColor:t.value,...r===t.name?o.colorButtonActive:{}}},t.name))})]}),e.jsx("textarea",{value:l,onChange:n(t=>p(t.target.value),"onChange"),placeholder:"Notunu buraya yaz...",style:{...o.textarea,backgroundColor:d.find(t=>t.name===r)?.value},maxLength:500}),e.jsxs("div",{style:o.footer,children:[e.jsxs("span",{style:o.charCount,children:[l.length,"/500"]}),e.jsx("button",{onClick:m,disabled:i,style:o.saveButton,children:i?"Kaydediliyor...":"ðŸ’¾ Kaydet"})]})]}):e.jsx("div",{style:o.overlay,onClick:x,children:e.jsxs("div",{style:o.modal,onClick:n(t=>t.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:o.header,children:[e.jsxs("h3",{style:o.title,children:[e.jsx(j,{})," ",a," HakkÄ±nda Not"]}),e.jsx("button",{onClick:x,style:o.closeButton,children:e.jsx(k,{})})]}),e.jsxs("div",{style:o.content,children:[e.jsx("p",{style:o.info,children:"Bu not sadece sen gÃ¶rebilirsin"}),e.jsxs("div",{style:o.colorPicker,children:[e.jsx("label",{style:o.label,children:"Renk:"}),e.jsx("div",{style:o.colors,children:d.map(t=>e.jsx("button",{onClick:n(()=>u(t.name),"onClick"),style:{...o.colorButton,backgroundColor:t.value,...r===t.name?o.colorButtonActive:{}}},t.name))})]}),e.jsx("textarea",{value:l,onChange:n(t=>p(t.target.value),"onChange"),placeholder:"Notunu buraya yaz...",style:{...o.textarea,backgroundColor:d.find(t=>t.name===r)?.value},maxLength:500}),e.jsxs("div",{style:o.footer,children:[e.jsxs("span",{style:o.charCount,children:[l.length,"/500"]}),e.jsxs("button",{onClick:m,disabled:i,style:o.saveButton,children:[e.jsx(C,{})," ",i?"Kaydediliyor...":"Kaydet"]})]})]})]})})},"UserNotesModal"),o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"500px",maxWidth:"90vw",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{padding:"16px 20px",borderBottom:"1px solid #1e1f22",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{color:"#fff",fontSize:"18px",margin:0,display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"20px",cursor:"pointer",padding:"4px"},content:{padding:"20px"},info:{color:"#72767d",fontSize:"13px",marginBottom:"16px",fontStyle:"italic"},colorPicker:{marginBottom:"16px"},label:{color:"#b9bbbe",fontSize:"14px",marginBottom:"8px",display:"block"},colors:{display:"flex",gap:"8px"},colorButton:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid transparent",cursor:"pointer",transition:"transform 0.2s"},colorButtonActive:{border:"2px solid #5865f2",transform:"scale(1.1)"},textarea:{width:"100%",minHeight:"150px",padding:"12px",border:"1px solid #4e5058",borderRadius:"6px",fontSize:"14px",color:"#1e1f22",resize:"vertical",fontFamily:"inherit",marginBottom:"12px"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center"},charCount:{color:"#72767d",fontSize:"12px"},saveButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 20px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"}};export{z as default};

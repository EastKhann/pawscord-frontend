var m=Object.defineProperty;var r=(i,s)=>m(i,"name",{value:s,configurable:!0});import{r as d,j as e}from"./react-core-Djgtqrmb.js";import{ac as f,a as y,l as j,k as S}from"./icons-vendor-BMXAt4pj.js";import{t as k}from"./index-D0nbcjO7.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-CbW2fAN9.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const M=r(({messageId:i,onClose:s,fetchWithAuth:l,apiBaseUrl:c})=>{const[a,p]=d.useState(""),[b,x]=d.useState(!1),[n,u]=d.useState(!1),h=r(async()=>{try{(await l(`${c}/threads/${n?"unsubscribe":"subscribe"}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({thread_id:i})})).ok&&u(!n)}catch{}},"handleToggleSubscription"),g=r(async()=>{if(a.trim()){x(!0);try{(await l(`${c}/threads/create/`,{method:"POST",body:JSON.stringify({parent_message_id:i,content:a})})).ok&&(k.success("âœ… Thread oluÅŸturuldu!"),p(""),s())}catch{}finally{x(!1)}}},"handleSendThread");return e.jsx("div",{style:t.overlay,onClick:s,children:e.jsxs("div",{style:t.modal,onClick:r(o=>o.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:t.header,children:[e.jsxs("h3",{style:t.title,children:[e.jsx(f,{})," Thread BaÅŸlat"]}),e.jsx("button",{onClick:s,style:t.closeButton,children:e.jsx(y,{})})]}),e.jsxs("div",{style:t.content,children:[e.jsxs("div",{style:{padding:"12px",backgroundColor:"#2f3136",borderRadius:"6px",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("span",{style:{color:"#dcddde",fontSize:"14px"},children:n?"ðŸ”” Subscribed to notifications":"ðŸ”• Not subscribed"}),e.jsx("button",{onClick:h,style:{padding:"6px 12px",backgroundColor:n?"#f04747":"#43b581",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",fontWeight:"bold"},children:n?e.jsxs(e.Fragment,{children:[e.jsx(j,{})," Unsubscribe"]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{})," Subscribe"]})})]}),e.jsx("textarea",{value:a,onChange:r(o=>p(o.target.value),"onChange"),placeholder:"Thread mesajÄ±nÄ± yazÄ±n...",style:t.textarea}),e.jsx("button",{onClick:g,disabled:b||!a.trim(),style:t.sendButton,children:b?"GÃ¶nderiliyor...":"ðŸ’¬ Thread GÃ¶nder"})]})]})})},"MessageThreads"),t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"500px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.3em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.3em"},content:{padding:"20px"},textarea:{width:"100%",minHeight:"100px",padding:"10px",backgroundColor:"#40444b",border:"1px solid #5865f2",borderRadius:"4px",color:"white",fontSize:"1em",resize:"vertical",marginBottom:"15px"},sendButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",fontSize:"1em"}};export{M as default};

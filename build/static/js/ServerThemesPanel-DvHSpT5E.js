import{r as n,b as e}from"./react-core-9vc7GIjk.js";import{aM as _,a as v,ae as k,Z as E}from"./icons-vendor-BHKL7tCa.js";import{t as c}from"./index-BIYh9lA9.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const O=({fetchWithAuth:i,apiBaseUrl:s,serverId:m,onClose:d})=>{const[C,f]=n.useState([]),[g,p]=n.useState(null),[r,a]=n.useState({name:"",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"}),[T,u]=n.useState(!0),x=[{name:"Discord Classic",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"},{name:"Dark Purple",primary_color:"#7289da",secondary_color:"#2c2f33",background_color:"#23272a",text_color:"#ffffff",accent_color:"#99aab5"},{name:"Ocean Blue",primary_color:"#4a9eff",secondary_color:"#1a3a52",background_color:"#0d2137",text_color:"#e3f2fd",accent_color:"#00bcd4"},{name:"Forest Green",primary_color:"#4caf50",secondary_color:"#1b5e20",background_color:"#0d3b0d",text_color:"#e8f5e9",accent_color:"#8bc34a"},{name:"Sunset Orange",primary_color:"#ff9800",secondary_color:"#e65100",background_color:"#3e2723",text_color:"#fff3e0",accent_color:"#ffb74d"},{name:"Midnight Black",primary_color:"#424242",secondary_color:"#212121",background_color:"#000000",text_color:"#e0e0e0",accent_color:"#757575"}];n.useEffect(()=>{y()},[]);const y=async()=>{try{u(!0);const o=await i(`${s}/api/servers/${m}/themes/`);if(o.ok){const l=await o.json();f(l.themes||[]),p(l.active_theme)}}catch(o){console.error("Tema yükleme hatası:",o)}finally{u(!1)}},h=async o=>{try{(await i(`${s}/api/servers/${m}/theme/apply/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok?(c.success("Tema uygulandı"),p(o)):c.error("Tema uygulanamadı")}catch(l){console.error("Tema uygulama hatası:",l),c.error("Bir hata oluştu")}},b=async()=>{if(!r.name.trim()){c.error("Tema adı girin");return}try{(await i(`${s}/api/servers/${m}/theme/save/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?(c.success("Özel tema kaydedildi"),y(),a({name:"",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"})):c.error("Tema kaydedilemedi")}catch(o){console.error("Tema kaydetme hatası:",o),c.error("Bir hata oluştu")}};return e.createElement("div",{style:t.overlay,onClick:d},e.createElement("div",{style:t.modal,onClick:o=>o.stopPropagation()},e.createElement("div",{style:t.header},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},e.createElement(_,{style:{color:"#5865f2"}}),e.createElement("h2",{style:{margin:0}},"Sunucu Temaları")),e.createElement(v,{onClick:d,style:t.closeBtn})),e.createElement("div",{style:t.content},e.createElement("section",{style:t.section},e.createElement("h3",{style:t.sectionTitle},"Hazır Temalar"),e.createElement("div",{style:t.themeGrid},x.map((o,l)=>e.createElement("div",{key:l,style:t.themeCard,onClick:()=>h(o)},e.createElement("div",{style:t.themePreview},e.createElement("div",{style:{...t.colorStrip,backgroundColor:o.background_color}}),e.createElement("div",{style:{...t.colorStrip,backgroundColor:o.secondary_color}}),e.createElement("div",{style:{...t.colorStrip,backgroundColor:o.primary_color}}),e.createElement("div",{style:{...t.colorStrip,backgroundColor:o.accent_color}})),e.createElement("div",{style:t.themeName},o.name),g?.name===o.name&&e.createElement(k,{style:t.activeCheck}))))),e.createElement("section",{style:t.section},e.createElement("h3",{style:t.sectionTitle},"Özel Tema Oluştur"),e.createElement("div",{style:t.customForm},e.createElement("input",{type:"text",placeholder:"Tema Adı",value:r.name,onChange:o=>a({...r,name:o.target.value}),style:t.input}),e.createElement("div",{style:t.colorGrid},e.createElement("div",{style:t.colorField},e.createElement("label",null,"Ana Renk"),e.createElement("input",{type:"color",value:r.primary_color,onChange:o=>a({...r,primary_color:o.target.value}),style:t.colorInput})),e.createElement("div",{style:t.colorField},e.createElement("label",null,"İkinci Renk"),e.createElement("input",{type:"color",value:r.secondary_color,onChange:o=>a({...r,secondary_color:o.target.value}),style:t.colorInput})),e.createElement("div",{style:t.colorField},e.createElement("label",null,"Arkaplan"),e.createElement("input",{type:"color",value:r.background_color,onChange:o=>a({...r,background_color:o.target.value}),style:t.colorInput})),e.createElement("div",{style:t.colorField},e.createElement("label",null,"Metin"),e.createElement("input",{type:"color",value:r.text_color,onChange:o=>a({...r,text_color:o.target.value}),style:t.colorInput})),e.createElement("div",{style:t.colorField},e.createElement("label",null,"Vurgu"),e.createElement("input",{type:"color",value:r.accent_color,onChange:o=>a({...r,accent_color:o.target.value}),style:t.colorInput}))),e.createElement("button",{onClick:b,style:t.saveBtn},e.createElement(E,null)," Temayı Kaydet"))))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},section:{marginBottom:"30px"},sectionTitle:{color:"#dcddde",fontSize:"18px",fontWeight:"600",marginBottom:"15px"},themeGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px"},themeCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"15px",cursor:"pointer",position:"relative",transition:"transform 0.2s"},themePreview:{display:"flex",height:"60px",borderRadius:"4px",overflow:"hidden",marginBottom:"10px"},colorStrip:{flex:1},themeName:{textAlign:"center",fontSize:"14px",fontWeight:"500"},activeCheck:{position:"absolute",top:"10px",right:"10px",color:"#43b581",fontSize:"20px"},customForm:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"20px"},input:{width:"100%",padding:"10px",backgroundColor:"#1e1e1e",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",marginBottom:"15px"},colorGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"15px",marginBottom:"15px"},colorField:{display:"flex",flexDirection:"column",gap:"8px"},colorInput:{width:"100%",height:"50px",border:"none",borderRadius:"4px",cursor:"pointer"},saveBtn:{width:"100%",backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}};export{O as default};

import{r as l,b as e}from"./react-core-DFLfBPkm.js";import{ar as p,a as T,aT as D,bu as I,af as y,n as j,ag as F}from"./icons-vendor-BhMLc_xA.js";import{t as d}from"./index-HXUkOlUr.js";import"./chart-vendor-CPuFblPm.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-CHa0MeHY.js";import"./router-vendor-BjbMlE9x.js";import"./crypto-vendor-23zpSg_R.js";import"./state-vendor-CMQ4V16Y.js";const G=({fetchWithAuth:m,apiBaseUrl:f,onClose:S,serverId:i})=>{const[g,h]=l.useState([]),[x,L]=l.useState(null),[C,u]=l.useState(!1),[n,v]=l.useState("overview");l.useEffect(()=>{b(),E()},[i]);const b=async()=>{try{const r=await(await m(`${f}/api/servers/${i}/boosts/`)).json();h(r.boosts||[])}catch{d.error("Failed to load boosts")}},E=async()=>{u(!0);try{const r=await(await m(`${f}/api/servers/${i}/boost_stats/`)).json();L(r)}catch{d.error("Failed to load server stats")}finally{u(!1)}},B=async()=>{try{await m(`${f}/api/servers/boost/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:i})}),d.success("ðŸš€ Server boosted successfully!"),b(),E()}catch{d.error("Failed to boost server")}},k=o=>o>=30?{level:3,name:"Level 3",color:"#9b59b6"}:o>=15?{level:2,name:"Level 2",color:"#e91e63"}:o>=2?{level:1,name:"Level 1",color:"#5865f2"}:{level:0,name:"No Level",color:"#99aab5"},w=o=>o>=30?{current:o,target:30,percentage:100}:o>=15?{current:o,target:30,percentage:(o-15)/15*100}:o>=2?{current:o,target:15,percentage:(o-2)/13*100}:{current:o,target:2,percentage:o/2*100},z=[{level:1,icon:"ðŸŽ¨",name:"128 Emoji Slots",description:"Upload up to 128 custom emojis"},{level:1,icon:"ðŸŽµ",name:"128kbps Audio",description:"Higher quality voice channels"},{level:1,icon:"ðŸ–¼ï¸",name:"Animated Icon",description:"Set an animated server icon"},{level:1,icon:"ðŸŒŸ",name:"Custom Invite Background",description:"Customize your invite splash"},{level:2,icon:"ðŸ˜€",name:"256 Emoji Slots",description:"Even more custom emojis"},{level:2,icon:"ðŸŽ¤",name:"256kbps Audio",description:"Crystal clear voice quality"},{level:2,icon:"ðŸ“¤",name:"50MB Upload Limit",description:"Share larger files"},{level:2,icon:"ðŸŽ¬",name:"1080p Screen Share",description:"HD screen sharing"},{level:3,icon:"ðŸŽ­",name:"500 Emoji Slots",description:"Maximum emoji capacity"},{level:3,icon:"ðŸŽ§",name:"384kbps Audio",description:"Professional audio quality"},{level:3,icon:"ðŸ“¦",name:"100MB Upload Limit",description:"Share even larger files"},{level:3,icon:"ðŸ”—",name:"Custom Vanity URL",description:"Custom server invite link"}],c=x?.boost_count||0,a=k(c),s=w(c);return e.createElement("div",{style:t.overlay},e.createElement("div",{style:t.modal},e.createElement("div",{style:t.header},e.createElement("div",{style:t.headerLeft},e.createElement(p,{style:{marginRight:"10px",color:"#5865f2"}}),e.createElement("h2",{style:t.title},"Server Boost")),e.createElement("button",{onClick:S,style:t.closeButton},e.createElement(T,null))),e.createElement("div",{style:t.tabs},e.createElement("button",{onClick:()=>v("overview"),style:{...t.tab,...n==="overview"&&t.tabActive}},e.createElement(p,{style:{marginRight:"5px"}}),"Overview"),e.createElement("button",{onClick:()=>v("boosts"),style:{...t.tab,...n==="boosts"&&t.tabActive}},e.createElement(D,{style:{marginRight:"5px"}}),"Boosts (",g.length,")"),e.createElement("button",{onClick:()=>v("perks"),style:{...t.tab,...n==="perks"&&t.tabActive}},e.createElement(I,{style:{marginRight:"5px"}}),"Perks")),e.createElement("div",{style:t.content},C?e.createElement("div",{style:t.loading},"Loading..."):n==="overview"?e.createElement("div",{style:t.overview},e.createElement("div",{style:t.boostCard},e.createElement("div",{style:{...t.boostLevel,backgroundColor:a.color}},e.createElement(y,{style:{fontSize:"32px"}}),e.createElement("div",{style:t.levelText},a.name),e.createElement("div",{style:t.boostCountText},c," Boosts")),e.createElement("div",{style:t.progressSection},e.createElement("div",{style:t.progressHeader},e.createElement("span",null,"Progress to Next Level"),e.createElement("span",null,s.current," / ",s.target)),e.createElement("div",{style:t.progressBar},e.createElement("div",{style:{...t.progressFill,width:`${Math.min(s.percentage,100)}%`,backgroundColor:a.color}})),c<30&&e.createElement("div",{style:t.progressFooter},s.target-s.current," more boosts needed")),e.createElement("button",{onClick:B,style:t.boostButton},e.createElement(p,{style:{marginRight:"8px"}}),"Boost This Server")),e.createElement("div",{style:t.statsGrid},e.createElement("div",{style:t.statCard},e.createElement(j,{style:t.statIcon}),e.createElement("div",{style:t.statValue},x?.total_boosters||0),e.createElement("div",{style:t.statLabel},"Boosters")),e.createElement("div",{style:t.statCard},e.createElement(F,{style:t.statIcon}),e.createElement("div",{style:t.statValue},x?.total_boosts||0),e.createElement("div",{style:t.statLabel},"Total Boosts")),e.createElement("div",{style:t.statCard},e.createElement(y,{style:t.statIcon}),e.createElement("div",{style:t.statValue},a.level),e.createElement("div",{style:t.statLabel},"Current Level")))):n==="boosts"?e.createElement("div",{style:t.boostsList},g.length===0?e.createElement("div",{style:t.empty},"No boosts yet. Be the first to boost this server!"):g.map((o,r)=>e.createElement("div",{key:r,style:t.boostItem},e.createElement("div",{style:t.boostUser},e.createElement(p,{style:{color:"#5865f2",marginRight:"10px"}}),e.createElement("div",null,e.createElement("div",{style:t.boostUsername},o.user?.username||"Anonymous"),e.createElement("div",{style:t.boostDate},"Boosted ",new Date(o.boosted_at).toLocaleDateString()))),o.expires_at&&e.createElement("div",{style:t.boostExpires},"Expires ",new Date(o.expires_at).toLocaleDateString())))):e.createElement("div",{style:t.perksList},[1,2,3].map(o=>e.createElement("div",{key:o,style:t.perkLevel},e.createElement("div",{style:t.perkLevelHeader},e.createElement(y,{style:{marginRight:"8px",color:k(o===1?2:o===2?15:30).color}}),"Level ",o," Perks",e.createElement("span",{style:t.perkRequirement},"(",o===1?"2":o===2?"15":"30"," boosts required)")),e.createElement("div",{style:t.perksGrid},z.filter(r=>r.level===o).map((r,R)=>e.createElement("div",{key:R,style:{...t.perkCard,opacity:a.level>=o?1:.5}},e.createElement("div",{style:t.perkIcon},r.icon),e.createElement("div",{style:t.perkName},r.name),e.createElement("div",{style:t.perkDescription},r.description),a.level>=o&&e.createElement("div",{style:t.perkUnlocked},"âœ“ Unlocked"))))))))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},tabs:{display:"flex",borderBottom:"1px solid #2c2f33",padding:"0 20px"},tab:{padding:"12px 20px",backgroundColor:"transparent",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",borderBottom:"2px solid transparent",transition:"all 0.2s"},tabActive:{color:"#5865f2",borderBottom:"2px solid #5865f2"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},overview:{display:"flex",flexDirection:"column",gap:"20px"},boostCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"24px",display:"flex",flexDirection:"column",gap:"20px"},boostLevel:{textAlign:"center",padding:"24px",borderRadius:"8px",color:"#ffffff"},levelText:{fontSize:"24px",fontWeight:"600",marginTop:"8px"},boostCountText:{fontSize:"14px",opacity:.9,marginTop:"4px"},progressSection:{display:"flex",flexDirection:"column",gap:"8px"},progressHeader:{display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#dcddde"},progressBar:{height:"8px",backgroundColor:"#1e1e1e",borderRadius:"4px",overflow:"hidden"},progressFill:{height:"100%",transition:"width 0.3s"},progressFooter:{fontSize:"12px",color:"#99aab5",textAlign:"center"},boostButton:{padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px"},statCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"20px",textAlign:"center"},statIcon:{fontSize:"24px",color:"#5865f2",marginBottom:"8px"},statValue:{fontSize:"24px",fontWeight:"600",color:"#ffffff",marginBottom:"4px"},statLabel:{fontSize:"12px",color:"#99aab5"},boostsList:{display:"flex",flexDirection:"column",gap:"10px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},boostItem:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},boostUser:{display:"flex",alignItems:"center"},boostUsername:{color:"#ffffff",fontWeight:"500"},boostDate:{fontSize:"12px",color:"#99aab5",marginTop:"2px"},boostExpires:{fontSize:"12px",color:"#faa61a"},perksList:{display:"flex",flexDirection:"column",gap:"24px"},perkLevel:{display:"flex",flexDirection:"column",gap:"12px"},perkLevelHeader:{fontSize:"18px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center"},perkRequirement:{fontSize:"12px",color:"#99aab5",marginLeft:"8px",fontWeight:"400"},perksGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"},perkCard:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px",display:"flex",flexDirection:"column",gap:"8px"},perkIcon:{fontSize:"32px"},perkName:{fontSize:"14px",fontWeight:"600",color:"#ffffff"},perkDescription:{fontSize:"12px",color:"#99aab5"},perkUnlocked:{fontSize:"12px",color:"#43b581",fontWeight:"600",marginTop:"4px"}};export{G as default};

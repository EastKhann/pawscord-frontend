{"version":3,"file":"ServerTemplates-BM2E9hRL.js","sources":["../../../src/components/ServerTemplates.js"],"sourcesContent":["// frontend/src/components/ServerTemplates.js\r\nimport { useState, useEffect } from 'react';\r\nimport { FaGamepad, FaGraduationCap, FaUsers, FaMusic, FaCode, FaRocket, FaCheck, FaStar } from 'react-icons/fa';\r\nimport toast from '../utils/toast';\r\nimport './ServerTemplates.css';\r\n\r\nconst ServerTemplates = ({ onSelectTemplate, onClose }) => {\r\n    const [templates, setTemplates] = useState([]);\r\n    const [categories, setCategories] = useState([]);\r\n    const [selectedCategory, setSelectedCategory] = useState('all');\r\n    const [loading, setLoading] = useState(true);\r\n    const [previewTemplate, setPreviewTemplate] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchTemplates();\r\n        fetchCategories();\r\n    }, []);\r\n\r\n    const fetchTemplates = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await fetch('/api/templates/list/', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n                }\r\n            });\r\n            \r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setTemplates(data.templates || []);\r\n            }\r\n        } catch (error) {\r\n            toast.error('‚ùå ≈ûablonlar y√ºklenemedi');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchCategories = async () => {\r\n        try {\r\n            const response = await fetch('/api/templates/categories/', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n                }\r\n            });\r\n            \r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setCategories(data.categories || []);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to fetch categories:', error);\r\n        }\r\n    };\r\n\r\n    const getTemplateDetails = async (templateId) => {\r\n        try {\r\n            const response = await fetch(`/api/templates/${templateId}/`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n                }\r\n            });\r\n            \r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setPreviewTemplate(data.template);\r\n            }\r\n        } catch (error) {\r\n            toast.error('‚ùå ≈ûablon detaylarƒ± y√ºklenemedi');\r\n        }\r\n    };\r\n\r\n    const useTemplate = async (templateId) => {\r\n        try {\r\n            const response = await fetch(`/api/templates/${templateId}/use/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n                }\r\n            });\r\n            \r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                toast.success('‚úÖ Sunucu olu≈üturuldu!');\r\n                if (onSelectTemplate) {\r\n                    onSelectTemplate(data.server);\r\n                }\r\n                onClose();\r\n            } else {\r\n                toast.error('‚ùå Sunucu olu≈üturulamadƒ±');\r\n            }\r\n        } catch (error) {\r\n            toast.error('‚ùå Baƒülantƒ± hatasƒ±');\r\n        }\r\n    };\r\n\r\n    const getCategoryIcon = (category) => {\r\n        const icons = {\r\n            gaming: <FaGamepad />,\r\n            education: <FaGraduationCap />,\r\n            community: <FaUsers />,\r\n            music: <FaMusic />,\r\n            tech: <FaCode />,\r\n            other: <FaRocket />\r\n        };\r\n        return icons[category] || <FaUsers />;\r\n    };\r\n\r\n    const filteredTemplates = selectedCategory === 'all' \r\n        ? templates \r\n        : templates.filter(t => t.category === selectedCategory);\r\n\r\n    return (\r\n        <div className=\"templates-overlay\" onClick={onClose}>\r\n            <div className=\"templates-panel\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"templates-header\">\r\n                    <h2>Sunucu ≈ûablonlarƒ±</h2>\r\n                    <button className=\"close-btn\" onClick={onClose}>√ó</button>\r\n                </div>\r\n\r\n                <div className=\"category-filters\">\r\n                    <button \r\n                        className={`category-btn ${selectedCategory === 'all' ? 'active' : ''}`}\r\n                        onClick={() => setSelectedCategory('all')}\r\n                    >\r\n                        T√ºm√º\r\n                    </button>\r\n                    {categories.map(cat => (\r\n                        <button\r\n                            key={cat.id}\r\n                            className={`category-btn ${selectedCategory === cat.slug ? 'active' : ''}`}\r\n                            onClick={() => setSelectedCategory(cat.slug)}\r\n                        >\r\n                            {getCategoryIcon(cat.slug)}\r\n                            <span>{cat.name}</span>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"loading-state\">\r\n                        <div className=\"spinner\"></div>\r\n                        <p>Y√ºkleniyor...</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"templates-grid\">\r\n                        {filteredTemplates.map(template => (\r\n                            <div key={template.id} className=\"template-card\">\r\n                                <div className=\"template-icon\">\r\n                                    {getCategoryIcon(template.category)}\r\n                                </div>\r\n                                <div className=\"template-info\">\r\n                                    <h3>{template.name}</h3>\r\n                                    <p>{template.description}</p>\r\n                                    <div className=\"template-stats\">\r\n                                        <span className=\"stat\">\r\n                                            üìù {template.channels_count || 0} kanal\r\n                                        </span>\r\n                                        <span className=\"stat\">\r\n                                            üë• {template.roles_count || 0} rol\r\n                                        </span>\r\n                                        {template.is_featured && (\r\n                                            <span className=\"featured-badge\">\r\n                                                <FaStar /> √ñne √áƒ±kan\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"template-actions\">\r\n                                    <button \r\n                                        className=\"btn-preview\"\r\n                                        onClick={() => getTemplateDetails(template.id)}\r\n                                    >\r\n                                        √ñnizle\r\n                                    </button>\r\n                                    <button \r\n                                        className=\"btn-use\"\r\n                                        onClick={() => useTemplate(template.id)}\r\n                                    >\r\n                                        <FaCheck /> Kullan\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {previewTemplate && (\r\n                    <div className=\"preview-modal\" onClick={() => setPreviewTemplate(null)}>\r\n                        <div className=\"preview-content\" onClick={(e) => e.stopPropagation()}>\r\n                            <div className=\"preview-header\">\r\n                                <h3>{previewTemplate.name}</h3>\r\n                                <button onClick={() => setPreviewTemplate(null)}>√ó</button>\r\n                            </div>\r\n                            <div className=\"preview-body\">\r\n                                <p>{previewTemplate.description}</p>\r\n                                \r\n                                {previewTemplate.channels && (\r\n                                    <div className=\"preview-section\">\r\n                                        <h4>Kanallar ({previewTemplate.channels.length})</h4>\r\n                                        <div className=\"channel-list\">\r\n                                            {previewTemplate.channels.map((ch, i) => (\r\n                                                <div key={i} className=\"channel-item\">\r\n                                                    {ch.type === 'text' ? 'üí¨' : 'üîä'} {ch.name}\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {previewTemplate.roles && (\r\n                                    <div className=\"preview-section\">\r\n                                        <h4>Roller ({previewTemplate.roles.length})</h4>\r\n                                        <div className=\"role-list\">\r\n                                            {previewTemplate.roles.map((role, i) => (\r\n                                                <div \r\n                                                    key={i} \r\n                                                    className=\"role-item\"\r\n                                                    style={{ borderLeftColor: role.color }}\r\n                                                >\r\n                                                    {role.name}\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"preview-actions\">\r\n                                <button \r\n                                    className=\"btn-use-large\"\r\n                                    onClick={() => {\r\n                                        useTemplate(previewTemplate.id);\r\n                                        setPreviewTemplate(null);\r\n                                    }}\r\n                                >\r\n                                    <FaCheck /> Bu ≈ûablonu Kullan\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ServerTemplates;\r\n"],"names":["useState","useEffect","jsx","jsxs"],"mappings":"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"}
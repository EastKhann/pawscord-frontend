import{r as n}from"./react-core-B6hadH-M.js";import{a as w,t as s}from"./index-D_6pZib5.js";const B=()=>{const{token:c}=w(),[i,h]=n.useState("frames"),[u,E]=n.useState([]),[R,v]=n.useState([]),[g,m]=n.useState(0),[l,S]=n.useState("free"),[C,x]=n.useState(!0),[a,d]=n.useState(null),p="https://api.pawscord.com",k=[{id:"frames",name:"ðŸ–¼ï¸ Ã‡erÃ§eveler",icon:"ðŸ–¼ï¸"},{id:"badges",name:"ðŸ† Rozetler",icon:"ðŸ†"},{id:"banners",name:"ðŸŽ¨ Banner",icon:"ðŸŽ¨"},{id:"emojis",name:"ðŸ˜Ž Emoji",icon:"ðŸ˜Ž"},{id:"voices",name:"ðŸŽ™ï¸ Ses Efekti",icon:"ðŸŽ™ï¸"},{id:"themes",name:"ðŸŒˆ Tema",icon:"ðŸŒˆ"}];n.useEffect(()=>{z(),F(),f()},[i]);const z=async()=>{try{const t=await(await fetch(`${p}/api/store/coins/balance/`,{headers:{Authorization:`Bearer ${c}`}})).json();m(t.coins),S(t.premium_tier)}catch(e){console.error("Error fetching user data:",e)}},F=async()=>{x(!0);try{const t=await(await fetch(`${p}/api/store/items/?category=${i}`,{headers:{Authorization:`Bearer ${c}`}})).json();E(t.results||t)}catch(e){console.error("Error fetching items:",e)}x(!1)},f=async()=>{try{const t=await(await fetch(`${p}/api/store/inventory/`,{headers:{Authorization:`Bearer ${c}`}})).json();v(t.results||t)}catch(e){console.error("Error fetching inventory:",e)}},y=async e=>{if(g<e.price){s.error(`âŒ Yetersiz coin! ${e.price} coin gerekli, ${g} coin var.`);return}if(e.premium_required&&l==="free"){s.error(`âŒ ${e.premium_required} Ã¼yelik gerekli!`);return}try{const t=await fetch(`${p}/api/store/items/${e.id}/purchase/`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}),r=await t.json();t.ok?(s.success(`âœ… ${e.name} satÄ±n alÄ±ndÄ±!`),m(r.coins_remaining),f(),d(null)):s.error(`âŒ ${r.error||"SatÄ±n alma baÅŸarÄ±sÄ±z"}`)}catch(t){console.error("Purchase error:",t),s.error("âŒ Bir hata oluÅŸtu")}},o=e=>({common:"#FFFFFF",rare:"#5865F2",epic:"#9B59B6",legendary:"#F1C40F",unique:"#E74C3C"})[e]||"#FFFFFF",b=e=>R.some(t=>t.item.item_id===e);return React.createElement("div",{style:{width:"100%",minHeight:"100vh",background:"linear-gradient(135deg, #1e1e1e 0%, #2c2c2c 100%)",color:"#fff"}},React.createElement("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"20px 40px",borderBottom:"2px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("h1",{style:{margin:0,fontSize:"32px",fontWeight:700}},"ðŸ›’ Pawscord MaÄŸaza"),React.createElement("div",{style:{display:"flex",gap:"20px",alignItems:"center"}},React.createElement("div",{style:{background:"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)",padding:"12px 24px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px",fontWeight:700,fontSize:"18px"}},React.createElement("span",null,"ðŸ’°"),React.createElement("span",null,g.toLocaleString()," Coins")),l!=="free"&&React.createElement("div",{style:{background:l==="elite"?"linear-gradient(135deg, #E74C3C 0%, #C0392B 100%)":"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)",padding:"12px 24px",borderRadius:"12px",fontWeight:700}},l==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"))),React.createElement("div",{style:{padding:"30px 40px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"}},React.createElement("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"}},k.map(e=>React.createElement("button",{key:e.id,onClick:()=>h(e.id),style:{background:i===e.id?"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)":"rgba(255, 255, 255, 0.05)",border:i===e.id?"2px solid #5865F2":"1px solid rgba(255, 255, 255, 0.1)",color:"#fff",padding:"12px 24px",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:600,transition:"all 0.3s"},onMouseEnter:t=>{i!==e.id&&(t.target.style.background="rgba(255, 255, 255, 0.1)")},onMouseLeave:t=>{i!==e.id&&(t.target.style.background="rgba(255, 255, 255, 0.05)")}},e.name)))),React.createElement("div",{style:{padding:"40px"}},C?React.createElement("div",{style:{textAlign:"center",padding:"60px",fontSize:"20px"}},"â³ YÃ¼kleniyor..."):u.length===0?React.createElement("div",{style:{textAlign:"center",padding:"60px",fontSize:"18px",color:"#888"}},"Bu kategoride henÃ¼z Ã¶ÄŸe yok"):React.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px"}},u.map(e=>{const t=b(e.item_id);return React.createElement("div",{key:e.id,style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"16px",padding:"20px",border:`2px solid ${o(e.rarity)}`,boxShadow:`0 0 20px ${o(e.rarity)}40`,cursor:"pointer",transition:"transform 0.3s",position:"relative"},onClick:()=>d(e),onMouseEnter:r=>{r.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:r=>{r.currentTarget.style.transform="translateY(0)"}},t&&React.createElement("div",{style:{position:"absolute",top:"10px",right:"10px",background:"#43b581",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700}},"âœ… Sahip"),e.premium_required&&React.createElement("div",{style:{position:"absolute",top:"10px",left:"10px",background:e.premium_required==="elite"?"#E74C3C":"#5865F2",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700}},e.premium_required==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"),React.createElement("div",{style:{height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"80px",marginTop:e.premium_required?"30px":"0"}},e.preview_url||"ðŸŽ"),React.createElement("h3",{style:{margin:"16px 0 8px",fontSize:"20px",color:o(e.rarity)}},e.name),React.createElement("p",{style:{margin:"0 0 16px",fontSize:"14px",color:"#aaa",minHeight:"40px"}},e.description),React.createElement("div",{style:{fontSize:"12px",color:o(e.rarity),fontWeight:700,textTransform:"uppercase",marginBottom:"12px"}},e.rarity),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},React.createElement("div",{style:{fontSize:"24px",fontWeight:700,color:"#F1C40F"}},e.price===0?"ÃœCRETSIZ":`${e.price} ðŸ’°`),!t&&React.createElement("button",{onClick:r=>{r.stopPropagation(),y(e)},style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",fontWeight:700,cursor:"pointer",fontSize:"14px"},onMouseEnter:r=>{r.target.style.transform="scale(1.05)"},onMouseLeave:r=>{r.target.style.transform="scale(1)"}},"SatÄ±n Al")))}))),a&&React.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},onClick:()=>d(null)},React.createElement("div",{style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"20px",padding:"40px",maxWidth:"500px",width:"90%",border:`3px solid ${o(a.rarity)}`,boxShadow:`0 0 40px ${o(a.rarity)}60`},onClick:e=>e.stopPropagation()},React.createElement("div",{style:{textAlign:"center",fontSize:"100px",marginBottom:"20px"}},a.preview_url||"ðŸŽ"),React.createElement("h2",{style:{margin:"0 0 10px",fontSize:"28px",color:o(a.rarity)}},a.name),React.createElement("p",{style:{margin:"0 0 20px",color:"#aaa",fontSize:"16px"}},a.description),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"30px"}},React.createElement("button",{onClick:()=>d(null),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600}},"Kapat"),!b(a.item_id)&&React.createElement("button",{onClick:()=>y(a),style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"12px 32px",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"16px"}},"SatÄ±n Al (",a.price," ðŸ’°)")))))};export{B as default};

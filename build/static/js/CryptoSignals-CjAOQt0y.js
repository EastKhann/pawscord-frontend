var fe=Object.defineProperty;var c=(o,l)=>fe(o,"name",{value:l,configurable:!0});import{j as e,r as s,a as be}from"./react-core-Djgtqrmb.js";import{J as pe,X as ge,A as he,z as ye,c as me,O as je,P as Se,V as Ce,a as ke,T as ve,Y as Be,Z as Te}from"./icons-vendor-BW7dxHkX.js";import{L as Re}from"./router-vendor-ClgLnMjk.js";import{u as _e}from"./useWindowWidth-Bfmtox1e.js";import{g as we,c as ze}from"./index-BT6pEMKq.js";import"./media-vendor-CxFPycob.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const O=c(o=>{if(!o||o==="-")return"-";const l=parseFloat(String(o).replace(/,/g,""));return isNaN(l)?String(o):l>=1e3?l.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):l>=1?l.toFixed(4):l.toPrecision(4)},"formatPrice"),T=c(o=>o&&parseFloat(String(o).replace("%","").replace("+",""))||0,"parsePnl"),We=c(o=>{const l={icon:"ðŸ“‹",label:o.replace(/_/g," "),shortLabel:o.slice(0,8),color:"#5865f2"},g=o.toUpperCase();return g.includes("ACIK")||g.includes("POZISYON")?{icon:"ðŸ’¼",label:o.replace(/_/g," "),shortLabel:"AÃ§Ä±k Poz.",color:"#f0b232"}:g.includes("ZARAR")?{icon:"ðŸ”´",label:o.replace(/_/g," "),shortLabel:"Zararda",color:"#da373c"}:g.includes("ALIM")||g.includes("FIRSAT")?{icon:"ðŸ’°",label:o.replace(/_/g," "),shortLabel:"AlÄ±m FÄ±r.",color:"#23a559"}:g.includes("OLMAYAN")||g.includes("YOK")?{icon:"ðŸ”",label:o.replace(/_/g," "),shortLabel:"Poz. Yok",color:"#949ba4"}:l},"getTabConfig"),ce=c(o=>{const l=T(o);return l>0?"#23a559":l<0?"#da373c":"#949ba4"},"pnlColor"),ee=c(({value:o})=>{if(!o||o==="-")return e.jsx("span",{style:{color:"#949ba4"},children:"-"});const l=String(o).toUpperCase()==="LONG";return e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4,padding:"3px 10px",borderRadius:6,fontWeight:700,fontSize:"0.82em",backgroundColor:l?"rgba(35,165,89,0.12)":"rgba(218,55,60,0.12)",color:l?"#23a559":"#da373c",border:`1px solid ${l?"rgba(35,165,89,0.25)":"rgba(218,55,60,0.25)"}`},children:[l?"â–²":"â–¼"," ",o]})},"SignalBadge"),ue=c(({status:o})=>{if(!o)return e.jsx("span",{style:{color:"#949ba4"},children:"-"});const l=String(o),g=l.includes("KAR")||l.includes("UYUYOR"),R=l.includes("ZARAR")||l.includes("TERS"),W=l.replace(/[\u{1F7E2}\u{1F534}\u{2705}\u{26A0}\u{FE0F}]/gu,"").trim();return e.jsxs("span",{style:{padding:"3px 10px",borderRadius:6,fontWeight:700,fontSize:"0.82em",backgroundColor:g?"rgba(35,165,89,0.12)":R?"rgba(218,55,60,0.12)":"rgba(240,178,50,0.12)",color:g?"#57F287":R?"#ED4245":"#f0b232"},children:[g?"âœ…":R?"ðŸ”´":"âšª"," ",W]})},"StatusBadge"),t={page:{minHeight:"100vh",backgroundColor:"#1e1f22",color:"#dbdee1",padding:"16px",boxSizing:"border-box",paddingTop:"max(16px, env(safe-area-inset-top))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},loadingBox:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"70vh"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,paddingBottom:12,borderBottom:"1px solid #2b2d31",flexWrap:"wrap",gap:10},headerLeft:{display:"flex",flexDirection:"column",gap:4},headerRight:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},backBtn:{textDecoration:"none",color:"#949ba4",fontSize:"0.85em",display:"flex",alignItems:"center",gap:5},title:{margin:0,fontSize:"1.4em",display:"flex",alignItems:"center",gap:10,fontWeight:700,color:"#fff"},versionBadge:{fontSize:"0.4em",color:"#949ba4",backgroundColor:"#2b2d31",padding:"2px 8px",borderRadius:8},updateTime:{fontSize:"0.8em",color:"#949ba4",display:"flex",alignItems:"center",gap:4},checkboxLabel:{fontSize:"0.8em",color:"#b9bbbe",display:"flex",alignItems:"center",gap:4,cursor:"pointer"},primaryBtn:{backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"8px 16px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:6,fontWeight:600,fontSize:"0.85em",transition:"background-color 0.2s"},modeToggle:{display:"flex",gap:8,marginBottom:12},fileTabBar:{display:"flex",gap:8,marginBottom:12,alignItems:"center",overflowX:"auto",paddingBottom:8,paddingTop:2,borderBottom:"2px solid #2f3136"},fileTabBtn:{backgroundColor:"#2b2d31",border:"2px solid #40444b",color:"#949ba4",padding:"10px 20px",borderRadius:10,cursor:"pointer",fontWeight:700,fontSize:"0.9em",whiteSpace:"nowrap",transition:"all 0.2s",flexShrink:0,display:"flex",alignItems:"center",gap:6},fileTabBtnActive:{backgroundColor:"#5865f2",borderColor:"#5865f2",color:"#fff",boxShadow:"0 4px 14px rgba(88,101,242,0.35)"},modeBtn:{flex:1,padding:"10px 16px",borderRadius:10,border:"2px solid #40444b",backgroundColor:"#2b2d31",color:"#949ba4",cursor:"pointer",fontWeight:700,fontSize:"0.9em",display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"all 0.2s"},modeBtnActive:{backgroundColor:"#313338",color:"#fff",boxShadow:"0 2px 10px rgba(0,0,0,0.3)"},statsBar:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(90px, 1fr))",gap:8,marginBottom:12},statCard:{backgroundColor:"#2b2d31",borderRadius:10,padding:"10px 8px",textAlign:"center",border:"1px solid #2f3136"},statNum:{display:"block",fontSize:"1.2em",fontWeight:700,color:"#fff"},statLabel:{display:"block",fontSize:"0.72em",color:"#949ba4",marginTop:2},tabBar:{display:"flex",gap:6,marginBottom:12,overflowX:"auto",paddingBottom:4},tabBtn:{backgroundColor:"#2b2d31",border:"1px solid #40444b",color:"#949ba4",padding:"8px 14px",borderRadius:10,cursor:"pointer",fontWeight:500,fontSize:"0.85em",display:"flex",alignItems:"center",gap:6,whiteSpace:"nowrap",transition:"all 0.2s",flexShrink:0},filterBar:{display:"flex",gap:10,marginBottom:12,alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#2b2d31",borderRadius:8,padding:"7px 12px",border:"1px solid #40444b",flex:1,maxWidth:360,gap:8},searchInput:{backgroundColor:"transparent",border:"none",outline:"none",color:"#dbdee1",fontSize:"0.88em",flex:1},clearBtn:{background:"none",border:"none",color:"#949ba4",cursor:"pointer",padding:"2px 4px",fontSize:"0.9em"},viewToggle:{backgroundColor:"#2b2d31",border:"1px solid #40444b",color:"#dbdee1",padding:"6px 10px",borderRadius:6,cursor:"pointer",fontSize:"1em"},posBanner:{padding:"10px 14px",backgroundColor:"rgba(240,178,50,0.06)",border:"1px solid rgba(240,178,50,0.15)",borderRadius:10,marginBottom:12,fontSize:"0.85em",color:"#dbdee1",display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},posTag:{padding:"3px 10px",borderRadius:6,fontWeight:700,fontSize:"0.82em",display:"inline-flex",alignItems:"center",gap:3,transition:"all 0.2s"},tableWrap:{overflowX:"auto",borderRadius:12,border:"1px solid #2f3136",backgroundColor:"#2b2d31"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.85em"},th:{padding:"10px 10px",textAlign:"center",backgroundColor:"#202225",color:"#b9bbbe",fontWeight:600,fontSize:"0.82em",borderBottom:"2px solid #40444b",position:"sticky",top:0,zIndex:1},td:{padding:"8px 8px",textAlign:"center",borderBottom:"1px solid rgba(47,49,54,0.6)"},tfBadge:{backgroundColor:"#40444b",color:"#dbdee1",padding:"2px 8px",borderRadius:4,fontSize:"0.82em",fontWeight:600},linkBtn:{color:"#5865f2",fontSize:"0.85em",padding:"4px 8px",borderRadius:4,display:"inline-flex"},pagination:{display:"flex",justifyContent:"center",alignItems:"center",gap:6,marginTop:16,paddingBottom:24},pageBtn:{backgroundColor:"#2b2d31",border:"1px solid #40444b",color:"#dbdee1",padding:"6px 12px",borderRadius:6,cursor:"pointer",fontWeight:600},pageNumBtn:{backgroundColor:"#2b2d31",border:"1px solid #40444b",color:"#949ba4",padding:"6px 10px",borderRadius:4,cursor:"pointer",fontSize:"0.85em",minWidth:32,textAlign:"center"},pageNumActive:{backgroundColor:"#5865f2",borderColor:"#5865f2",color:"#fff",fontWeight:700},cardGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12},coinCard:{backgroundColor:"#2b2d31",borderRadius:12,padding:14,border:"1px solid #2f3136",cursor:"pointer",transition:"all 0.2s ease"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10,paddingBottom:8,borderBottom:"1px solid #40444b"},cardCoinName:{color:"#f0b232",fontWeight:700,fontSize:"1.1em"},cardBody:{display:"flex",flexDirection:"column",gap:6},cardRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0"},cardRowLabel:{color:"#949ba4",fontSize:"0.82em"},cardRowValue:{color:"#dbdee1",fontSize:"0.9em",fontWeight:600},cardFooter:{marginTop:10,paddingTop:8,borderTop:"1px solid #40444b"},miniBarBg:{width:"100%",height:4,backgroundColor:"#da373c",borderRadius:4,overflow:"hidden"},miniBar:{height:"100%",borderRadius:4,backgroundColor:"#23a559",transition:"width 0.3s ease"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#949ba4"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:16,backdropFilter:"blur(6px)"},modal:{backgroundColor:"#1e1f22",borderRadius:16,width:"100%",maxWidth:700,maxHeight:"88vh",overflow:"hidden",display:"flex",flexDirection:"column",border:"1px solid #f0b232",boxShadow:"0 20px 60px rgba(240,178,50,0.2)"},modalHeader:{padding:"16px 20px",borderBottom:"1px solid #2f3136",display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(135deg, #2b2d31 0%, #1e1f22 100%)"},modalBadge:{padding:"4px 10px",backgroundColor:"#5865f2",borderRadius:16,fontSize:"0.72em",fontWeight:600,color:"#fff"},modalCloseBtn:{background:"none",border:"none",color:"#b9bbbe",fontSize:22,cursor:"pointer",padding:8,borderRadius:8,lineHeight:1,transition:"color 0.2s"},modalStats:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:10,padding:"16px 20px",borderBottom:"1px solid #2f3136",background:"linear-gradient(180deg, rgba(240,178,50,0.04) 0%, transparent 100%)"},mStatCard:{textAlign:"center",padding:"10px 6px",backgroundColor:"#2b2d31",borderRadius:10,border:"1px solid #40444b"},mStatLabel:{display:"block",fontSize:"0.7em",color:"#949ba4",marginTop:2,textTransform:"uppercase"},modalBody:{flex:1,overflow:"auto",padding:"16px 20px"},strategyList:{display:"flex",flexDirection:"column",gap:10},strategyCard:{backgroundColor:"#2b2d31",borderRadius:10,padding:14,border:"1px solid #40444b",animation:"cryptoSlideIn 0.35s ease forwards",opacity:0,transform:"translateX(15px)"},strategyGrid:{display:"grid",gridTemplateColumns:window.innerWidth<640?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:8},stratItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 10px",backgroundColor:"#202225",borderRadius:6,fontSize:"0.85em"},stratItemLabel:{color:"#949ba4",fontSize:"0.85em"},stratItemVal:{color:"#dbdee1",fontWeight:600}};if(typeof document<"u"&&!document.getElementById("crypto-signals-v4-styles")){const o=document.createElement("style");o.id="crypto-signals-v4-styles",o.textContent=`
        @keyframes cryptoSlideIn {
            from { opacity: 0; transform: translateX(15px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes cryptoSpin {
            100% { transform: rotate(360deg); }
        }
        .crypto-spin { animation: cryptoSpin 1s linear infinite; display: inline-block; }
    `,document.head.appendChild(o)}const xe=we(),Ae=`${xe}/api/crypto/signals/`,Fe=`${xe}/api/crypto/signals/list/`,Ie=c(()=>{const[o,l]=s.useState(null),[g,R]=s.useState(!0),[W,u]=s.useState(null),[y,G]=s.useState(null),[p,A]=s.useState([]),[S,z]=s.useState(""),[k,_]=s.useState("balance_mode"),[j,b]=s.useState(null),[C,K]=s.useState(""),[v,P]=s.useState("rank"),[$,H]=s.useState("asc"),[te,U]=s.useState("table"),[Y,V]=s.useState(1),[M,q]=s.useState(!0),[re,ne]=s.useState(null),E=50,F=s.useRef(null),B=s.useRef(0);s.useEffect(()=>{V(1)},[j,k,C,S]),s.useEffect(()=>{(async()=>{try{const r=await fetch(Fe);if(!r.ok)throw new Error(`HTTP ${r.status}`);const a=(await r.json()).files||[];A(a),a.length>0&&z(a[0].key)}catch{u("Sinyal dosyalarÄ± yÃ¼klenemedi")}})()},[]);const x=s.useCallback(async r=>{const n=r||S;if(n)try{F.current&&(B.current=F.current.scrollTop);const a=await fetch(`${Ae}?t=${Date.now()}&file=${n}`);if(!a.ok)throw new Error(`HTTP ${a.status}`);const d=await a.json();if(d.error){u(d.error),R(!1);return}l(d),G(new Date(d.meta?.export_time||Date.now())),u(null),setTimeout(()=>{F.current&&B.current>0&&(F.current.scrollTop=B.current)},50)}catch(a){o||u("Sunucuya baÄŸlanÄ±lamadÄ±: "+a.message)}finally{R(!1)}},[S]);s.useEffect(()=>{S&&(R(!0),b(null),x(S))},[S]),s.useEffect(()=>{if(!M||!S)return;const r=setInterval(()=>x(S),3e4);return()=>clearInterval(r)},[M,x,S]);const Q=o?.meta||{},m=Q.position_coins||[],J=s.useMemo(()=>o?.[k]||null,[o,k]),I=s.useMemo(()=>J?.tabs||{},[J]),N=s.useMemo(()=>I[j]||null,[I,j]),f=s.useMemo(()=>N?.data||[],[N]);s.useEffect(()=>{const r=Object.keys(I);r.length>0&&(!j||!I[j])&&b(r[0])},[I,j]);const L=s.useMemo(()=>{let r=[...f];if(C.trim()){const n=C.trim().toUpperCase();r=r.filter(a=>a.coin?.toUpperCase().includes(n)||a.timeframe?.toUpperCase().includes(n)||a.signal?.toUpperCase().includes(n))}return r.sort((n,a)=>{let d,h;switch(v){case"coin":return d=n.coin||"",h=a.coin||"",$==="asc"?d.localeCompare(h):h.localeCompare(d);case"pnl":d=T(n.pnl_percent),h=T(a.pnl_percent);break;case"win_rate":d=parseFloat(String(n.win_rate||"0").replace("%","")),h=parseFloat(String(a.win_rate||"0").replace("%",""));break;case"x_kat":d=parseFloat(String(n.x_kat||"0").replace("x","")),h=parseFloat(String(a.x_kat||"0").replace("x",""));break;case"trades":d=parseInt(n.trades||0),h=parseInt(a.trades||0);break;default:d=n.rank||9999,h=a.rank||9999;break}return typeof d=="string"?0:$==="asc"?d-h:h-d}),r},[f,C,v,$]),ae=Math.max(1,Math.ceil(L.length/E)),oe=L.slice((Y-1)*E,Y*E),se=j==="ACIK_POZISYONLAR",le=c(r=>{v===r?H(n=>n==="asc"?"desc":"asc"):(P(r),H(r==="rank"?"asc":"desc"))},"handleSort"),ie=s.useMemo(()=>{if(!f.length)return null;const r=f.filter(i=>T(i.pnl_percent)>0),n=f.filter(i=>T(i.pnl_percent)<0),a=f.reduce((i,Z)=>i+T(Z.pnl_percent),0)/f.length,d=f.reduce((i,Z)=>i+parseFloat(String(Z.win_rate||"0").replace("%","")),0)/f.length,h=[...new Set(f.map(i=>i.coin))],w=f.filter(i=>i.ters_sinyal===!0).length,X=f.filter(i=>i.ters_sinyal!==!0).length;return{profits:r.length,losses:n.length,avgPnl:a,avgWr:d,uniqueCoins:h.length,total:f.length,tersSinyal:w,uyumluSinyal:X}},[f]),de=s.useMemo(()=>{const r={};return m.length>0&&f.length>0&&m.forEach(n=>{const a=f.filter(d=>d.coin===n);r[n]={hasTersSinyal:a.some(d=>d.ters_sinyal===!0),rows:a}}),r},[m,f]),D=s.useMemo(()=>{const r={};return L.forEach(n=>{const a=n.coin||"UNKNOWN";r[a]||(r[a]=[]),r[a].push(n)}),r},[L]);return{data:o,loading:g,error:W,lastUpdate:y,availableFiles:p,activeFileKey:S,setActiveFileKey:z,activeMode:k,setActiveMode:_,activeTab:j,setActiveTab:b,searchQuery:C,setSearchQuery:K,sortBy:v,sortDir:$,viewMode:te,setViewMode:U,page:Y,setPage:V,autoRefresh:M,setAutoRefresh:q,selectedCoin:re,setSelectedCoin:ne,tableRef:F,meta:Q,positionCoins:m,allTabs:I,currentTab:N,tabData:f,processedData:L,pagedData:oe,totalPages:ae,isPositionsTab:se,handleSort:le,stats:ie,positionCoinStatus:de,coinGroups:D,fetchData:x,ITEMS_PER_PAGE:E}},"useCryptoSignals"),Le=c(({selectedCoin:o,isPositionsTab:l,onClose:g})=>{const{overlayProps:R,dialogProps:W}=ze({onClose:g,isOpen:!!o,label:"Coin Detay"});if(!o)return null;const u=o.data,y=s.useMemo(()=>{const p=u.filter(b=>T(b.pnl_percent)>0).length,A=u.filter(b=>T(b.pnl_percent)<0).length,S=u.filter(b=>b.ters_sinyal===!0).length,z=u.filter(b=>b.ters_sinyal!==!0).length,k=u.reduce((b,C)=>b+T(C.pnl_percent),0)/u.length,_=u.reduce((b,C)=>b+parseFloat(String(C.win_rate||"0").replace("%","")),0)/u.length,j=u[0]?.current_price;return{profits:p,losses:A,tersCount:S,uyumluCount:z,avgPnl:k,avgWr:_,price:j}},[u]),G=`https://www.binance.com/en/futures/${o.name.endsWith("USDT")?o.name:o.name+"USDT"}`;return e.jsx("div",{style:t.modalOverlay,...R,children:e.jsxs("div",{style:t.modal,...W,children:[e.jsxs("div",{style:t.modalHeader,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx(pe,{style:{fontSize:28,color:"#f0b232"}}),e.jsx("h2",{style:{margin:0,color:"#f0b232",fontWeight:700},children:o.name.replace("USDT","")}),e.jsxs("span",{style:t.modalBadge,children:[u.length," Strateji"]})]}),e.jsx("button",{onClick:g,style:t.modalCloseBtn,children:"âœ•"})]}),e.jsxs("div",{style:t.modalStats,children:[e.jsxs("div",{style:t.mStatCard,children:[e.jsx("span",{style:{fontSize:"1.3em",fontWeight:700,color:"#23a559"},children:l?y.uyumluCount:y.profits}),e.jsx("span",{style:t.mStatLabel,children:l?"âœ… Uyumlu":"KÃ¢rda"})]}),e.jsxs("div",{style:t.mStatCard,children:[e.jsx("span",{style:{fontSize:"1.3em",fontWeight:700,color:"#da373c"},children:l?y.tersCount:y.losses}),e.jsx("span",{style:t.mStatLabel,children:l?"âš ï¸ Ters Sinyal":"Zararda"})]}),e.jsxs("div",{style:t.mStatCard,children:[e.jsxs("span",{style:{fontSize:"1.3em",fontWeight:700,color:y.avgPnl>=0?"#23a559":"#da373c"},children:[y.avgPnl>=0?"+":"",y.avgPnl.toFixed(2),"%"]}),e.jsx("span",{style:t.mStatLabel,children:"Ort. PNL"})]}),e.jsxs("div",{style:t.mStatCard,children:[e.jsxs("span",{style:{fontSize:"1.3em",fontWeight:700,color:"#f0b232"},children:[y.avgWr.toFixed(1),"%"]}),e.jsx("span",{style:t.mStatLabel,children:"Ort. WR"})]}),y.price&&e.jsxs("div",{style:t.mStatCard,children:[e.jsxs("span",{style:{fontSize:"1.3em",fontWeight:700,color:"#fff"},children:["$",O(y.price)]}),e.jsx("span",{style:t.mStatLabel,children:"Fiyat"})]})]}),e.jsxs("div",{style:t.modalBody,children:[e.jsxs("h3",{style:{margin:"0 0 12px",color:"#fff",fontSize:"1em"},children:["ðŸ“Š"," Strateji Detaylar","Ä±"]}),e.jsx("div",{style:t.strategyList,children:u.map((p,A)=>{const z=T(p.pnl_percent)>0;return e.jsxs("div",{style:{...t.strategyCard,borderLeft:`4px solid ${z?"#23a559":"#da373c"}`,animationDelay:`${A*.04}s`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx("span",{style:{color:"#5865f2",fontWeight:700,fontSize:"1.05em"},children:p.timeframe}),e.jsx(ee,{value:p.signal||p.sinyal_yonu||p.pozisyon_yonu||"-"})]}),e.jsx("div",{style:t.strategyGrid,children:[{label:"GiriÅŸ",val:`$${O(p.entry_price)}`},{label:"GÃ¼ncel",val:`$${O(p.current_price)}`},{label:"PNL",val:p.pnl_percent||"-",color:z?"#23a559":"#da373c",bold:!0},{label:"WR",val:p.win_rate||"-"},{label:"X Kat",val:p.x_kat||"-",color:"#f0b232"},{label:"Hedef",val:p.hedef_roe||"-",color:"#5865f2"}].map(({label:k,val:_,color:j,bold:b},C)=>e.jsxs("div",{style:t.stratItem,children:[e.jsx("span",{style:t.stratItemLabel,children:k}),e.jsx("span",{style:{...t.stratItemVal,...j?{color:j}:{},...b?{fontWeight:700}:{}},children:_})]},C))}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,paddingTop:8,borderTop:"1px solid #40444b"},children:[e.jsx(ue,{status:p.status}),p.days_ago!==void 0&&e.jsxs("span",{style:{color:"#949ba4",fontSize:"0.78em"},children:[p.days_ago," g","Ã¼","n ","Â·"," ",p.bars_ago," bar"]})]})]},A)})})]}),e.jsx("div",{style:{padding:"12px 20px",borderTop:"1px solid #2f3136",textAlign:"center"},children:e.jsxs("a",{href:G,target:"_blank",rel:"noopener noreferrer",style:{color:"#f0b232",textDecoration:"none",fontWeight:600,fontSize:"0.9em"},children:[e.jsx(ge,{})," Binance Futures'da A","Ã§"]})})]})})},"CoinDetailModal"),De=be.memo(Le),Pe=c(()=>{const{isMobile:o}=_e(),{data:l,loading:g,error:R,lastUpdate:W,availableFiles:u,activeFileKey:y,setActiveFileKey:G,activeMode:p,setActiveMode:A,activeTab:S,setActiveTab:z,searchQuery:k,setSearchQuery:_,sortBy:j,sortDir:b,viewMode:C,setViewMode:K,page:v,setPage:P,autoRefresh:$,setAutoRefresh:H,selectedCoin:te,setSelectedCoin:U,tableRef:Y,meta:V,positionCoins:M,allTabs:q,currentTab:re,tabData:ne,processedData:E,pagedData:F,totalPages:B,isPositionsTab:x,handleSort:Q,stats:m,positionCoinStatus:J,coinGroups:I,fetchData:N}=Ie(),f=s.useCallback(r=>H(r.target.checked),[H]),L=s.useCallback(()=>N(y),[N,y]),ae=s.useCallback(r=>_(r.target.value),[_]),oe=s.useCallback(()=>_(""),[_]),se=s.useCallback(()=>K(r=>r==="table"?"cards":"table"),[K]),le=s.useCallback(()=>U(null),[U]),ie=s.useCallback(()=>P(r=>Math.max(1,r-1)),[P]),de=s.useCallback(()=>P(r=>Math.min(B,r+1)),[P,B]),D=c(({field:r,children:n,style:a})=>e.jsxs("th",{onClick:c(()=>Q(r),"onClick"),style:{...t.th,cursor:"pointer",userSelect:"none",whiteSpace:"nowrap",color:j===r?"#f0b232":"#b9bbbe",...a},children:[n," ",j===r&&(b==="asc"?e.jsx(Be,{style:{fontSize:"0.7em"}}):e.jsx(Te,{style:{fontSize:"0.7em"}}))]}),"SortHeader");return g&&!l?e.jsx("div",{style:t.page,children:e.jsxs("div",{style:t.loadingBox,children:[e.jsx("div",{className:"crypto-spin",style:{fontSize:48},children:"â‚¿"}),e.jsx("p",{style:{color:"#f0b232",fontSize:"1.1em",marginTop:16},children:"Kripto Verileri YÃ¼kleniyor..."})]})}):R&&!l?e.jsx("div",{style:t.page,children:e.jsxs("div",{style:{textAlign:"center",marginTop:80},children:[e.jsx("div",{style:{fontSize:60,marginBottom:16},children:"âš ï¸"}),e.jsx("h3",{style:{color:"#da373c",marginBottom:8},children:R}),e.jsx("button",{onClick:L,style:t.primaryBtn,children:"Tekrar Dene"})]})}):e.jsxs("div",{style:t.page,children:[e.jsxs("header",{style:t.header,children:[e.jsxs("div",{style:t.headerLeft,children:[e.jsxs(Re,{to:"/",style:t.backBtn,children:[e.jsx(he,{})," Geri"]}),e.jsxs("h1",{style:t.title,children:[e.jsx(pe,{style:{color:"#f0b232"}}),e.jsx("span",{children:"Kripto Sinyaller"}),V.version&&e.jsxs("span",{style:t.versionBadge,children:["v",V.version]})]})]}),e.jsxs("div",{style:t.headerRight,children:[W&&e.jsxs("span",{style:t.updateTime,children:[e.jsx(ye,{})," ",W.toLocaleTimeString("tr-TR")]}),e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:$,onChange:f})," Oto"]}),e.jsxs("button",{onClick:L,style:t.primaryBtn,children:[e.jsx(me,{className:g?"crypto-spin":""})," Yenile"]})]})]}),u.length>1&&e.jsx("div",{style:t.fileTabBar,children:u.map(r=>e.jsxs("button",{onClick:c(()=>{y!==r.key&&G(r.key)},"onClick"),style:{...t.fileTabBtn,...y===r.key?t.fileTabBtnActive:{}},children:["ðŸ“Š"," ",r.label,y===r.key&&g&&e.jsx("span",{className:"crypto-spin",style:{marginLeft:6,fontSize:"0.85em"},children:"â³"})]},r.key))}),e.jsx("div",{style:t.modeToggle,children:[{key:"balance_mode",icon:e.jsx(je,{}),label:o?"Balance":"ðŸ’° Balance SÄ±ralama",color:"#f0b232"},{key:"winrate_mode",icon:e.jsx(Se,{}),label:o?"Winrate":"ðŸ† Winrate SÄ±ralama",color:"#23a559"}].map(r=>e.jsxs("button",{onClick:c(()=>A(r.key),"onClick"),style:{...t.modeBtn,...p===r.key?t.modeBtnActive:{},borderColor:p===r.key?r.color:"#40444b"},children:[r.icon," ",r.label]},r.key))}),m&&e.jsx("div",{style:t.statsBar,children:[{num:m.total,label:"Strateji"},{num:m.uniqueCoins,label:"Coin"},{num:x?m.uyumluSinyal:m.profits,label:x?"âœ… Uyumlu":"KÃ¢rda",color:"#23a559"},{num:x?m.tersSinyal:m.losses,label:x?"âš ï¸ Ters Sinyal":"Zararda",color:"#da373c"},{num:`${m.avgPnl>=0?"+":""}${m.avgPnl.toFixed(2)}%`,label:"Ort. PNL",color:m.avgPnl>=0?"#23a559":"#da373c"},{num:`${m.avgWr.toFixed(1)}%`,label:"Ort. WR",color:m.avgWr>=50?"#23a559":"#f0b232"}].map(({num:r,label:n,color:a})=>e.jsxs("div",{style:t.statCard,children:[e.jsx("span",{style:{...t.statNum,...a?{color:a}:{}},children:r}),e.jsx("span",{style:t.statLabel,children:n})]},n))}),e.jsx("div",{style:t.tabBar,children:Object.keys(q).map(r=>{const n=We(r),a=q[r],d=S===r;return e.jsxs("button",{onClick:c(()=>z(r),"onClick"),style:{...t.tabBtn,...d?{backgroundColor:n.color,borderColor:n.color,color:"#fff",boxShadow:`0 4px 14px ${n.color}44`}:{}},children:[e.jsx("span",{children:n.icon}),e.jsx("span",{children:o?n.shortLabel:n.label}),e.jsx("span",{style:{backgroundColor:d?"rgba(0,0,0,0.3)":"rgba(255,255,255,0.08)",padding:"2px 8px",borderRadius:12,fontSize:"0.75em",fontWeight:700},children:a?.count||0})]},r)})}),e.jsxs("div",{style:t.filterBar,children:[e.jsxs("div",{style:t.searchBox,children:[e.jsx(Ce,{style:{color:"#949ba4",flexShrink:0}}),e.jsx("input",{type:"text",value:k,onChange:ae,placeholder:"Coin ara... (BTC, ETH, SOL)",style:t.searchInput}),k&&e.jsx("button",{onClick:oe,style:t.clearBtn,children:e.jsx(ke,{})})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsxs("span",{style:{color:"#949ba4",fontSize:"0.85em"},children:[E.length," sonuÃ§"]}),e.jsx("button",{onClick:se,style:t.viewToggle,title:C==="table"?"Kart gÃ¶rÃ¼nÃ¼mÃ¼":"Tablo gÃ¶rÃ¼nÃ¼mÃ¼",children:C==="table"?"ðŸƒ ":"ðŸ“‹ "})]})]}),x&&M.length>0&&e.jsxs("div",{style:t.posBanner,children:[e.jsxs("strong",{children:[e.jsx(ve,{style:{marginRight:6}}),"AÃ§Ä±k Pozisyon (",M.length,"):"]}),M.map((r,n)=>{const a=J[r]?.hasTersSinyal;return e.jsxs("span",{style:{...t.posTag,backgroundColor:a?"rgba(218,55,60,0.15)":"rgba(35,165,89,0.15)",color:a?"#da373c":"#23a559",border:`1px solid ${a?"rgba(218,55,60,0.4)":"rgba(35,165,89,0.4)"}`},children:[n+1,". ",a?"âš ï¸ ":"âœ… "," ",r.replace("USDT","")]},r)})]}),re?C==="cards"?e.jsx("div",{style:t.cardGrid,children:Object.entries(I).map(([r,n])=>{const a=x?n.filter(i=>i.ters_sinyal!==!0):n.filter(i=>T(i.pnl_percent)>0),d=x?n.filter(i=>i.ters_sinyal===!0):n.filter(i=>T(i.pnl_percent)<0),h=n.reduce((i,Z)=>i+T(Z.pnl_percent),0)/n.length,w=Math.max(...n.map(i=>parseFloat(String(i.win_rate||"0").replace("%","")))),X=n[0]||{};return e.jsxs("div",{style:t.coinCard,onClick:c(()=>U({name:r,data:n}),"onClick"),onMouseEnter:c(i=>{i.currentTarget.style.transform="translateY(-3px)",i.currentTarget.style.borderColor="#f0b232"},"onMouseEnter"),onMouseLeave:c(i=>{i.currentTarget.style.transform="translateY(0)",i.currentTarget.style.borderColor="#2f3136"},"onMouseLeave"),children:[e.jsxs("div",{style:t.cardHeader,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:t.cardCoinName,children:r.replace("USDT","")}),e.jsx(ee,{value:X.signal||X.sinyal_yonu||"-"})]}),e.jsxs("span",{style:{color:"#949ba4",fontSize:"0.78em"},children:[n.length," str."]})]}),e.jsxs("div",{style:t.cardBody,children:[e.jsxs("div",{style:t.cardRow,children:[e.jsx("span",{style:t.cardRowLabel,children:"Fiyat"}),e.jsxs("span",{style:t.cardRowValue,children:["$",O(X.current_price)]})]}),e.jsxs("div",{style:t.cardRow,children:[e.jsx("span",{style:t.cardRowLabel,children:"Ort. PNL"}),e.jsxs("span",{style:{...t.cardRowValue,color:ce(h.toString()),fontWeight:700},children:[h>=0?"+":"",h.toFixed(2),"%"]})]}),e.jsxs("div",{style:t.cardRow,children:[e.jsx("span",{style:t.cardRowLabel,children:"En Ä°yi WR"}),e.jsxs("span",{style:{...t.cardRowValue,color:w>=50?"#23a559":"#da373c"},children:[w.toFixed(1),"%"]})]})]}),e.jsxs("div",{style:t.cardFooter,children:[e.jsx("div",{style:t.miniBarBg,children:e.jsx("div",{style:{...t.miniBar,width:`${a.length/Math.max(n.length,1)*100}%`}})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75em",marginTop:4},children:[e.jsxs("span",{style:{color:"#23a559"},children:[x?"âœ… ":"âœ“ "," ",a.length]}),e.jsxs("span",{style:{color:"#da373c"},children:[x?"âš ï¸ ":"âœ— "," ",d.length]})]})]})]},r)})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:Y,style:t.tableWrap,children:e.jsxs("table",{style:t.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx(D,{field:"rank",children:"#"}),e.jsx(D,{field:"coin",children:"Coin"}),e.jsx("th",{style:t.th,children:"TF"}),e.jsx("th",{style:t.th,children:"Sinyal"}),x&&e.jsx("th",{style:t.th,children:"Poz.YÃ¶nÃ¼"}),x&&e.jsx("th",{style:t.th,children:"Uyum"}),e.jsx("th",{style:t.th,children:"GiriÅŸ"}),e.jsx("th",{style:t.th,children:"GÃ¼ncel"}),e.jsx(D,{field:"pnl",children:"PNL%"}),e.jsx(D,{field:"win_rate",children:"WR%"}),e.jsx(D,{field:"trades",children:"Ä°ÅŸlem"}),e.jsx(D,{field:"x_kat",children:"X Kat"}),e.jsx("th",{style:t.th,children:"Hedef ROE"}),e.jsx("th",{style:t.th,children:"Durum"}),e.jsx("th",{style:t.th,children:"Link"})]})}),e.jsx("tbody",{children:F.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:x?15:13,style:{textAlign:"center",padding:40,color:"#949ba4"},children:k?`"${k}" iÃ§in sonuÃ§ bulunamadÄ±`:"Bu sekmede veri yok"})}):F.map((r,n)=>{const a=(r.coin||"").replace("USDT",""),d=r.coin?.endsWith("USDT")?r.coin:`${r.coin}USDT`,h=n%2===0?"transparent":"rgba(255,255,255,0.015)";return e.jsxs("tr",{style:{backgroundColor:h,transition:"background-color 0.15s"},onMouseEnter:c(w=>w.currentTarget.style.backgroundColor="rgba(88,101,242,0.06)","onMouseEnter"),onMouseLeave:c(w=>w.currentTarget.style.backgroundColor=h,"onMouseLeave"),children:[e.jsx("td",{style:t.td,children:e.jsx("span",{style:{color:"#949ba4",fontWeight:600},children:r.rank})}),e.jsx("td",{style:t.td,children:e.jsx("span",{style:{color:"#f0b232",fontWeight:700,cursor:"pointer"},onClick:c(()=>U({name:r.coin,data:ne.filter(w=>w.coin===r.coin)}),"onClick"),children:a})}),e.jsx("td",{style:t.td,children:e.jsx("span",{style:t.tfBadge,children:r.timeframe})}),e.jsx("td",{style:t.td,children:e.jsx(ee,{value:r.signal||r.sinyal_yonu||"-"})}),x&&e.jsx("td",{style:t.td,children:e.jsx(ee,{value:r.pozisyon_yonu||"-"})}),x&&e.jsx("td",{style:t.td,children:e.jsx("span",{style:{fontSize:"0.8em",fontWeight:600,color:r.ters_sinyal?"#da373c":"#23a559"},children:r.ters_sinyal?"âš ï¸ Ters":"âœ… Uyumlu"})}),e.jsxs("td",{style:{...t.td,color:"#b9bbbe",fontSize:"0.85em"},children:["$",O(r.entry_price)]}),e.jsxs("td",{style:{...t.td,color:"#dbdee1",fontSize:"0.85em"},children:["$",O(r.current_price)]}),e.jsx("td",{style:{...t.td,color:ce(r.pnl_percent),fontWeight:700},children:r.pnl_percent||"-"}),e.jsx("td",{style:{...t.td,fontWeight:600,color:parseFloat(String(r.win_rate||"0").replace("%",""))>=50?"#23a559":"#da373c"},children:r.win_rate||"-"}),e.jsx("td",{style:t.td,children:r.trades||"-"}),e.jsx("td",{style:{...t.td,color:"#f0b232",fontWeight:700},children:r.x_kat||"-"}),e.jsx("td",{style:{...t.td,color:"#5865f2",fontWeight:600},children:r.hedef_roe||"-"}),e.jsx("td",{style:t.td,children:e.jsx(ue,{status:r.status})}),e.jsx("td",{style:t.td,children:e.jsx("a",{href:`https://www.binance.com/en/futures/${d}`,target:"_blank",rel:"noopener noreferrer",style:t.linkBtn,title:`${a} Binance Futures`,children:e.jsx(ge,{})})})]},`${r.rank}-${r.coin}-${r.timeframe}-${n}`)})})]})}),B>1&&e.jsxs("div",{style:t.pagination,children:[e.jsx("button",{onClick:ie,disabled:v===1,style:{...t.pageBtn,opacity:v===1?.4:1},children:"â—„"}),Array.from({length:Math.min(B,7)},(r,n)=>{let a;return B<=7||v<=4?a=n+1:v>=B-3?a=B-6+n:a=v-3+n,e.jsx("button",{onClick:c(()=>P(a),"onClick"),style:{...t.pageNumBtn,...v===a?t.pageNumActive:{}},children:a},a)}),e.jsx("button",{onClick:de,disabled:v===B,style:{...t.pageBtn,opacity:v===B?.4:1},children:"â–º"})]})]}):e.jsxs("div",{style:t.emptyState,children:[e.jsx("div",{style:{fontSize:48,marginBottom:12},children:"ðŸ“­"}),e.jsx("p",{children:"Bu modda veri bulunamadÄ±"})]}),e.jsx(De,{selectedCoin:te,isPositionsTab:x,onClose:le})]})},"CryptoSignals"),Xe=s.memo(Pe);export{Xe as default};

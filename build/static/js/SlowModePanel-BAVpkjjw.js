import{r as n,Y as u,l as b,ci as y,cj as x}from"./react-core-B6hadH-M.js";import{t as r}from"./index-D_6pZib5.js";const E=({fetchWithAuth:s,apiBaseUrl:i,roomSlug:c,onClose:l})=>{const[a,o]=n.useState({enabled:!1,interval_seconds:5}),[k,d]=n.useState(!0),f=[{label:"5 saniye",value:5},{label:"10 saniye",value:10},{label:"15 saniye",value:15},{label:"30 saniye",value:30},{label:"1 dakika",value:60},{label:"2 dakika",value:120},{label:"5 dakika",value:300},{label:"10 dakika",value:600},{label:"15 dakika",value:900}];n.useEffect(()=>{m()},[]);const m=async()=>{try{d(!0);const t=await s(`${i}/rooms/${c}/slowmode/`);if(t.ok){const p=await t.json();p&&o(p)}}catch(t){console.error("Slow mode yükleme hatası:",t)}finally{d(!1)}},g=async()=>{try{(await s(`${i}/rooms/slowmode/set/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:c,...a})})).ok?(r.success("Slow mode ayarları kaydedildi"),l()):r.error("Ayarlar kaydedilemedi")}catch(t){console.error("Slow mode kaydetme hatası:",t),r.error("Bir hata oluştu")}};return React.createElement("div",{style:e.overlay,onClick:l},React.createElement("div",{style:e.modal,onClick:t=>t.stopPropagation()},React.createElement("div",{style:e.header},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement(u,{style:{color:"#faa61a"}}),React.createElement("h2",{style:{margin:0}},"Slow Mode")),React.createElement(b,{onClick:l,style:e.closeBtn})),React.createElement("div",{style:e.content},React.createElement("div",{style:e.toggle},React.createElement("div",{style:e.toggleInfo},React.createElement("strong",null,"Slow Mode'u Etkinleştir"),React.createElement("p",{style:e.desc},"Kullanıcılar mesaj gönderdikten sonra belirli bir süre beklemek zorunda kalır")),React.createElement("button",{onClick:()=>o({...a,enabled:!a.enabled}),style:e.toggleBtn},a.enabled?React.createElement(y,{style:{color:"#43b581",fontSize:"32px"}}):React.createElement(x,{style:{color:"#888",fontSize:"32px"}}))),a.enabled&&React.createElement(React.Fragment,null,React.createElement("div",{style:e.field},React.createElement("label",{style:e.label},"Mesajlar Arası Bekleme Süresi"),React.createElement("div",{style:e.presetGrid},f.map(t=>React.createElement("button",{key:t.value,onClick:()=>o({...a,interval_seconds:t.value}),style:{...e.presetBtn,backgroundColor:a.interval_seconds===t.value?"#5865f2":"#2c2f33"}},t.label)))),React.createElement("div",{style:e.field},React.createElement("label",{style:e.label},"Özel Süre (saniye)"),React.createElement("input",{type:"number",value:a.interval_seconds,onChange:t=>o({...a,interval_seconds:parseInt(t.target.value)||0}),min:"1",max:"21600",style:e.input})),React.createElement("div",{style:e.info},"⏱️ Kullanıcılar her ",React.createElement("strong",null,a.interval_seconds," saniye"),"'de bir mesaj gönderebilecek"))),React.createElement("div",{style:e.footer},React.createElement("button",{onClick:l,style:e.cancelBtn},"İptal"),React.createElement("button",{onClick:g,style:e.saveBtn},"Kaydet"))))},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},toggle:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",backgroundColor:"#2c2f33",borderRadius:"8px",marginBottom:"20px"},toggleInfo:{flex:1},desc:{fontSize:"13px",color:"#888",margin:"6px 0 0 0"},toggleBtn:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"12px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},presetGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"15px"},presetBtn:{padding:"12px",border:"none",borderRadius:"4px",color:"#fff",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},input:{width:"100%",padding:"12px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},info:{backgroundColor:"#5865f21a",border:"1px solid #5865f2",borderRadius:"4px",padding:"15px",color:"#5865f2",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},cancelBtn:{flex:1,backgroundColor:"#2c2f33",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},saveBtn:{flex:1,backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{E as default};

import{r,ch as i}from"./react-core-B6hadH-M.js";import{g as v}from"./index-D_6pZib5.js";const y=({serverId:n,onClose:g})=>{const o=v(),[a,c]=r.useState({enabled:!1,auto_translate:!1,default_language:"tr",allowed_languages:["en","tr","de","fr","es"],react_to_translate:!0,translation_emoji:"ðŸŒ"}),[l,d]=r.useState({total_translations:0,top_languages:[],translations_today:0}),[u,E]=r.useState(!0),m=[{code:"tr",name:"TÃ¼rkÃ§e",flag:"ðŸ‡¹ðŸ‡·"},{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"de",name:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"fr",name:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"es",name:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"it",name:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"pt",name:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"ja",name:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},{code:"zh",name:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"ar",name:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦"},{code:"hi",name:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³"}];r.useEffect(()=>{R(),p()},[n]);const R=async()=>{try{const e=await fetch(`${o}/translation/server/${n}/config/`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(e.ok){const t=await e.json();c(t)}}catch(e){console.error("Error:",e)}finally{E(!1)}},p=async()=>{try{const e=await fetch(`${o}/translation/server/${n}/stats/`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Error:",e)}},f=async()=>{try{(await fetch(`${o}/translation/server/${n}/config/`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify(a)})).ok?i.success("âœ… Ã‡eviri ayarlarÄ± kaydedildi"):i.error("âŒ Kaydetme hatasÄ±")}catch{i.error("âŒ BaÄŸlantÄ± hatasÄ±")}},h=e=>{const t=a.allowed_languages.includes(e)?a.allowed_languages.filter(s=>s!==e):[...a.allowed_languages,e];c({...a,allowed_languages:t})};return React.createElement("div",{className:"translation-overlay",onClick:g},React.createElement("div",{className:"translation-panel",onClick:e=>e.stopPropagation()},React.createElement("div",{className:"translation-header"},React.createElement("h2",null,"ðŸŒ Ã‡eviri Sistemi"),React.createElement("button",{className:"close-btn",onClick:g},"Ã—")),React.createElement("div",{className:"translation-content"},u?React.createElement("div",{className:"loading-state"},React.createElement("div",{className:"spinner"}),React.createElement("p",null,"YÃ¼kleniyor...")):React.createElement(React.Fragment,null,React.createElement("div",{className:"stats-section"},React.createElement("div",{className:"stat-card"},React.createElement("span",{className:"stat-icon"},"ðŸŒ"),React.createElement("div",{className:"stat-info"},React.createElement("h3",null,l.total_translations),React.createElement("p",null,"Toplam Ã‡eviri"))),React.createElement("div",{className:"stat-card"},React.createElement("span",{className:"stat-icon"},"ðŸ“…"),React.createElement("div",{className:"stat-info"},React.createElement("h3",null,l.translations_today),React.createElement("p",null,"BugÃ¼n"))),React.createElement("div",{className:"stat-card"},React.createElement("span",{className:"stat-icon"},"ðŸ†"),React.createElement("div",{className:"stat-info"},React.createElement("h3",null,l.top_languages[0]||"N/A"),React.createElement("p",null,"En PopÃ¼ler")))),React.createElement("div",{className:"config-section"},React.createElement("div",{className:"section-header"},React.createElement("h3",null,"âš™ï¸ Ayarlar"),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.enabled,onChange:e=>c({...a,enabled:e.target.checked})}),React.createElement("span",{className:"toggle-slider"}))),React.createElement("div",{className:"config-grid"},React.createElement("div",{className:"form-group"},React.createElement("label",null,"ðŸŒ VarsayÄ±lan Dil"),React.createElement("select",{value:a.default_language,onChange:e=>c({...a,default_language:e.target.value})},m.map(e=>React.createElement("option",{key:e.code,value:e.code},e.flag," ",e.name)))),React.createElement("div",{className:"form-group"},React.createElement("label",null,"ðŸŒ Ã‡eviri Emoji"),React.createElement("input",{type:"text",value:a.translation_emoji,onChange:e=>c({...a,translation_emoji:e.target.value})})),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"checkbox-label"},React.createElement("input",{type:"checkbox",checked:a.auto_translate,onChange:e=>c({...a,auto_translate:e.target.checked})}),React.createElement("span",null,"Otomatik Ã§eviri"))),React.createElement("div",{className:"form-group"},React.createElement("label",{className:"checkbox-label"},React.createElement("input",{type:"checkbox",checked:a.react_to_translate,onChange:e=>c({...a,react_to_translate:e.target.checked})}),React.createElement("span",null,"Emoji ile Ã§evir")))),React.createElement("div",{className:"languages-section"},React.createElement("h4",null,"Ä°zin Verilen Diller"),React.createElement("div",{className:"languages-grid"},m.map(e=>React.createElement("div",{key:e.code,className:`language-card ${a.allowed_languages.includes(e.code)?"active":""}`,onClick:()=>h(e.code)},React.createElement("span",{className:"language-flag"},e.flag),React.createElement("span",{className:"language-name"},e.name),a.allowed_languages.includes(e.code)&&React.createElement("span",{className:"check-icon"},"âœ…"))))),React.createElement("button",{className:"save-btn",onClick:f},"ðŸ’¾ Kaydet")),l.top_languages.length>0&&React.createElement("div",{className:"top-languages-section"},React.createElement("h3",null,"ðŸ“Š En Ã‡ok KullanÄ±lan Diller"),React.createElement("div",{className:"top-languages-list"},l.top_languages.slice(0,5).map((e,t)=>{const s=m.find(N=>N.code===e.code);return React.createElement("div",{key:t,className:"top-language-item"},React.createElement("span",{className:"rank"},"#",t+1),React.createElement("span",{className:"flag"},s?.flag),React.createElement("span",{className:"name"},s?.name),React.createElement("span",{className:"count"},e.count," Ã§eviri"))})))))))};export{y as default};

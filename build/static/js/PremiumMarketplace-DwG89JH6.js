import{r,d as e}from"./react-core-DrOm_csO.js";import{t as f}from"./index-BYhWpPLp.js";import{a as g}from"./index-D5GkNzM3.js";const q=()=>{const[m,o]=r.useState([]),[p,c]=r.useState(null),[t,i]=r.useState("yearly"),[l,s]=r.useState(null),[y,u]=r.useState(!0);r.useEffect(()=>{N()},[]);const N=async()=>{try{const a=await g.get("/api/premium/plans/");o(a.data.plans),s(a.data.promotion),u(!1)}catch(a){console.error("Failed to fetch plans:",a),u(!1)}},v=async a=>{c(a);try{const n=await g.post("/api/premium/purchase/",{plan_id:a.id,billing_cycle:t});if(n.data.checkout_url){window.location.href=n.data.checkout_url;return}f.info(`ðŸ“‹ Purchasing ${a.name} - ${t} plan`)}catch(n){console.error("Purchase failed:",n),f.error("âŒ Purchase failed. Please try again.")}},P=a=>{const n=a.monthly_price*12,E=a.yearly_price,d=n-E,h=Math.round(d/n*100);return{amount:d.toFixed(2),percentage:h}};return y?e.createElement("div",{className:"loading"},"Loading premium plans..."):e.createElement("div",{className:"premium-marketplace"},l&&e.createElement("div",{className:"promotion-banner"},e.createElement("h2",null,l.name),e.createElement("p",null,"ðŸ”¥ Save ",l.discount_percent,"% on all plans!"),e.createElement("p",{className:"promotion-ends"},"Ends: ",new Date(l.ends_at).toLocaleDateString())),e.createElement("div",{className:"billing-toggle"},e.createElement("button",{className:t==="monthly"?"active":"",onClick:()=>i("monthly")},"Monthly"),e.createElement("button",{className:t==="yearly"?"active":"",onClick:()=>i("yearly")},"Yearly ",e.createElement("span",{className:"save-badge"},"Save 17%"))),e.createElement("div",{className:"plans-grid"},m.map((a,n)=>{const E=P(a),d=t==="yearly"?a.yearly_price:a.monthly_price,h=a.original_yearly_price||a.original_monthly_price;return e.createElement(_,{key:a.id,plan:a,price:d,originalPrice:h,billingCycle:t,savings:E,promotion:l,onPurchase:()=>v(a),featured:n===1})})),e.createElement("div",{className:"premium-faq"},e.createElement("h3",null,"Frequently Asked Questions"),e.createElement("div",{className:"faq-item"},e.createElement("h4",null,"Can I cancel anytime?"),e.createElement("p",null,"Yes! Cancel anytime and keep your benefits until the end of the billing period.")),e.createElement("div",{className:"faq-item"},e.createElement("h4",null,"What payment methods do you accept?"),e.createElement("p",null,"We accept all major credit cards, PayPal, and cryptocurrencies.")),e.createElement("div",{className:"faq-item"},e.createElement("h4",null,"Is there a free trial?"),e.createElement("p",null,"Yes! 7-day free trial on all plans. No credit card required."))))},_=({plan:m,price:o,originalPrice:p,billingCycle:c,savings:t,promotion:i,onPurchase:l,featured:s})=>e.createElement("div",{className:`premium-plan-card ${s?"featured":""}`},s&&e.createElement("div",{className:"featured-badge"},"ðŸŒŸ Most Popular"),e.createElement("div",{className:"plan-header"},e.createElement("h3",null,m.name),e.createElement("div",{className:"plan-price"},p&&i&&e.createElement("span",{className:"original-price"},"$",p),e.createElement("span",{className:"current-price"},"$",o,e.createElement("span",{className:"billing-period"},"/",c==="yearly"?"year":"month")),c==="yearly"&&e.createElement("div",{className:"savings-badge"},"ðŸ’° Save $",t.amount,"/year (",t.percentage,"% off)"))),e.createElement("ul",{className:"plan-features"},m.features.map((y,u)=>e.createElement("li",{key:u},e.createElement("span",{className:"check"},"âœ“")," ",y))),e.createElement("button",{className:"purchase-btn",onClick:l},s?"ðŸš€ Upgrade Now":"Get Started"),c==="yearly"&&e.createElement("p",{className:"monthly-equivalent"},"Just $",(o/12).toFixed(2),"/month"));export{q as default};

{"version":3,"file":"QuickSwitcher-XwmF63EV.js","sources":["../../../src/components/QuickSwitcher.js"],"sourcesContent":["// components/QuickSwitcher.js\r\n// ⚡ Quick Switcher - Ctrl+K Feature\r\n\r\nimport React, { useState, useEffect, useMemo, useRef } from 'react';\r\nimport { FaSearch, FaTimes, FaHashtag, FaAt } from 'react-icons/fa';\r\nimport './QuickSwitcher.css';\r\n\r\nconst QuickSwitcher = ({\r\n  onClose,\r\n  onNavigate,\r\n  channels = [],\r\n  users = [],\r\n  conversations = []\r\n}) => {\r\n  const [query, setQuery] = useState('');\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    inputRef.current?.focus();\r\n  }, []);\r\n\r\n  // Fuzzy search\r\n  const fuzzyMatch = (text, query) => {\r\n    if (!text || !query) return false;\r\n    text = text.toLowerCase();\r\n    query = query.toLowerCase();\r\n\r\n    if (text.includes(query)) return true;\r\n\r\n    let queryIndex = 0;\r\n    for (let i = 0; i < text.length && queryIndex < query.length; i++) {\r\n      if (text[i] === query[queryIndex]) {\r\n        queryIndex++;\r\n      }\r\n    }\r\n    return queryIndex === query.length;\r\n  };\r\n\r\n  const results = useMemo(() => {\r\n    if (!query.trim()) {\r\n      // Recent items\r\n      return [\r\n        ...channels.slice(0, 5).map(c => ({ type: 'channel', ...c })),\r\n        ...users.slice(0, 5).map(u => ({ type: 'user', ...u })),\r\n        ...conversations.slice(0, 5).map(c => ({ type: 'dm', ...c }))\r\n      ].slice(0, 10);\r\n    }\r\n\r\n    const allItems = [\r\n      ...channels.map(c => ({ type: 'channel', ...c, searchText: c.name })),\r\n      ...users.map(u => ({ type: 'user', ...u, searchText: u.username })),\r\n      ...conversations.map(c => ({ type: 'dm', ...c, searchText: c.target_user }))\r\n    ];\r\n\r\n    return allItems\r\n      .filter(item => fuzzyMatch(item.searchText, query))\r\n      .slice(0, 10);\r\n  }, [query, channels, users, conversations]);\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'ArrowDown') {\r\n      e.preventDefault();\r\n      setSelectedIndex(prev => (prev + 1) % results.length);\r\n    } else if (e.key === 'ArrowUp') {\r\n      e.preventDefault();\r\n      setSelectedIndex(prev => (prev - 1 + results.length) % results.length);\r\n    } else if (e.key === 'Enter' && results[selectedIndex]) {\r\n      e.preventDefault();\r\n      handleSelect(results[selectedIndex]);\r\n    } else if (e.key === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleSelect = (item) => {\r\n    onNavigate(item);\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className=\"quick-switcher-overlay\" onClick={onClose}>\r\n      <div className=\"quick-switcher-panel\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"quick-switcher-search\">\r\n          <FaSearch className=\"search-icon\" />\r\n          <input\r\n            ref={inputRef}\r\n            type=\"text\"\r\n            placeholder=\"Kanal veya kullanıcı ara... (Ctrl+K)\"\r\n            value={query}\r\n            onChange={(e) => {\r\n              setQuery(e.target.value);\r\n              setSelectedIndex(0);\r\n            }}\r\n            onKeyDown={handleKeyDown}\r\n            className=\"search-input\"\r\n          />\r\n          {query && (\r\n            <button className=\"clear-btn\" onClick={() => setQuery('')}>\r\n              <FaTimes />\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"quick-switcher-results\">\r\n          {results.length > 0 ? (\r\n            results.map((item, index) => (\r\n              <div\r\n                key={`${item.type}-${item.id || item.username}`}\r\n                className={`quick-result-item ${index === selectedIndex ? 'selected' : ''}`}\r\n                onClick={() => handleSelect(item)}\r\n                onMouseEnter={() => setSelectedIndex(index)}\r\n              >\r\n                <div className=\"result-icon\">\r\n                  {item.type === 'channel' && <FaHashtag />}\r\n                  {item.type === 'user' && <FaAt />}\r\n                  {item.type === 'dm' && <FaAt />}\r\n                </div>\r\n                <div className=\"result-content\">\r\n                  <div className=\"result-name\">\r\n                    {item.type === 'channel' && item.name}\r\n                    {item.type === 'user' && item.username}\r\n                    {item.type === 'dm' && item.target_user}\r\n                  </div>\r\n                  <div className=\"result-type\">\r\n                    {item.type === 'channel' && 'Kanal'}\r\n                    {item.type === 'user' && 'Kullanıcı'}\r\n                    {item.type === 'dm' && 'Direkt Mesaj'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"no-results\">\r\n              <FaSearch size={32} />\r\n              <p>Sonuç bulunamadı</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"quick-switcher-footer\">\r\n          <div className=\"shortcut-hints\">\r\n            <span><kbd>↑↓</kbd> Gezin</span>\r\n            <span><kbd>Enter</kbd> Seç</span>\r\n            <span><kbd>Esc</kbd> Kapat</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(QuickSwitcher);\r\n\r\n\r\n\r\n"],"names":["useState","useRef","useEffect","query","useMemo","jsx","jsxs"],"mappings":";;;;AAOA,MAAM,gBAAgB,wBAAC;AAAA,EACrB;AAAA,EACA;AAAA,EACA,WAAW,CAAA;AAAA,EACX,QAAQ,CAAA;AAAA,EACR,gBAAgB,CAAA;AAClB,MAAM;AACJ,QAAM,CAAC,OAAO,QAAQ,IAAIA,aAAAA,SAAS,EAAE;AACrC,QAAM,CAAC,eAAe,gBAAgB,IAAIA,aAAAA,SAAS,CAAC;AACpD,QAAM,WAAWC,aAAAA,OAAO,IAAI;AAE5BC,eAAAA,UAAU,MAAM;AACd,aAAS,SAAS,MAAA;AAAA,EACpB,GAAG,CAAA,CAAE;AAGL,QAAM,aAAa,wBAAC,MAAMC,WAAU;AAClC,QAAI,CAAC,QAAQ,CAACA,OAAO,QAAO;AAC5B,WAAO,KAAK,YAAA;AACZA,aAAQA,OAAM,YAAA;AAEd,QAAI,KAAK,SAASA,MAAK,EAAG,QAAO;AAEjC,QAAI,aAAa;AACjB,aAAS,IAAI,GAAG,IAAI,KAAK,UAAU,aAAaA,OAAM,QAAQ,KAAK;AACjE,UAAI,KAAK,CAAC,MAAMA,OAAM,UAAU,GAAG;AACjC;AAAA,MACF;AAAA,IACF;AACA,WAAO,eAAeA,OAAM;AAAA,EAC9B,GAdmB;AAgBnB,QAAM,UAAUC,aAAAA,QAAQ,MAAM;AAC5B,QAAI,CAAC,MAAM,QAAQ;AAEjB,aAAO;AAAA,QACL,GAAG,SAAS,MAAM,GAAG,CAAC,EAAE,IAAI,CAAA,OAAM,EAAE,MAAM,WAAW,GAAG,IAAI;AAAA,QAC5D,GAAG,MAAM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAA,OAAM,EAAE,MAAM,QAAQ,GAAG,IAAI;AAAA,QACtD,GAAG,cAAc,MAAM,GAAG,CAAC,EAAE,IAAI,CAAA,OAAM,EAAE,MAAM,MAAM,GAAG,IAAI;AAAA,MAAA,EAC5D,MAAM,GAAG,EAAE;AAAA,IACf;AAEA,UAAM,WAAW;AAAA,MACf,GAAG,SAAS,IAAI,CAAA,OAAM,EAAE,MAAM,WAAW,GAAG,GAAG,YAAY,EAAE,KAAA,EAAO;AAAA,MACpE,GAAG,MAAM,IAAI,CAAA,OAAM,EAAE,MAAM,QAAQ,GAAG,GAAG,YAAY,EAAE,SAAA,EAAW;AAAA,MAClE,GAAG,cAAc,IAAI,CAAA,OAAM,EAAE,MAAM,MAAM,GAAG,GAAG,YAAY,EAAE,YAAA,EAAc;AAAA,IAAA;AAG7E,WAAO,SACJ,OAAO,CAAA,SAAQ,WAAW,KAAK,YAAY,KAAK,CAAC,EACjD,MAAM,GAAG,EAAE;AAAA,EAChB,GAAG,CAAC,OAAO,UAAU,OAAO,aAAa,CAAC;AAE1C,QAAM,gBAAgB,wBAAC,MAAM;AAC3B,QAAI,EAAE,QAAQ,aAAa;AACzB,QAAE,eAAA;AACF,uBAAiB,CAAA,UAAS,OAAO,KAAK,QAAQ,MAAM;AAAA,IACtD,WAAW,EAAE,QAAQ,WAAW;AAC9B,QAAE,eAAA;AACF,uBAAiB,WAAS,OAAO,IAAI,QAAQ,UAAU,QAAQ,MAAM;AAAA,IACvE,WAAW,EAAE,QAAQ,WAAW,QAAQ,aAAa,GAAG;AACtD,QAAE,eAAA;AACF,mBAAa,QAAQ,aAAa,CAAC;AAAA,IACrC,WAAW,EAAE,QAAQ,UAAU;AAC7B,cAAA;AAAA,IACF;AAAA,EACF,GAbsB;AAetB,QAAM,eAAe,wBAAC,SAAS;AAC7B,eAAW,IAAI;AACf,YAAA;AAAA,EACF,GAHqB;AAKrB,SACEC,kCAAAA,IAAC,OAAA,EAAI,WAAU,0BAAyB,SAAS,SAC/C,UAAAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,wBAAuB,SAAS,wBAAC,MAAM,EAAE,mBAAT,YAC7C,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,yBACb,UAAA;AAAA,MAAAD,kCAAAA,IAAC,UAAA,EAAS,WAAU,cAAA,CAAc;AAAA,MAClCA,kCAAAA;AAAAA,QAAC;AAAA,QAAA;AAAA,UACC,KAAK;AAAA,UACL,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,OAAO;AAAA,UACP,UAAU,wBAAC,MAAM;AACf,qBAAS,EAAE,OAAO,KAAK;AACvB,6BAAiB,CAAC;AAAA,UACpB,GAHU;AAAA,UAIV,WAAW;AAAA,UACX,WAAU;AAAA,QAAA;AAAA,MAAA;AAAA,MAEX,SACCA,kCAAAA,IAAC,UAAA,EAAO,WAAU,aAAY,SAAS,6BAAM,SAAS,EAAE,GAAjB,YACrC,UAAAA,kCAAAA,IAAC,SAAA,CAAA,CAAQ,EAAA,CACX;AAAA,IAAA,GAEJ;AAAA,IAEAA,kCAAAA,IAAC,OAAA,EAAI,WAAU,0BACZ,UAAA,QAAQ,SAAS,IAChB,QAAQ,IAAI,CAAC,MAAM,UACjBC,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QAEC,WAAW,qBAAqB,UAAU,gBAAgB,aAAa,EAAE;AAAA,QACzE,SAAS,6BAAM,aAAa,IAAI,GAAvB;AAAA,QACT,cAAc,6BAAM,iBAAiB,KAAK,GAA5B;AAAA,QAEd,UAAA;AAAA,UAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,eACZ,UAAA;AAAA,YAAA,KAAK,SAAS,aAAaD,kCAAAA,IAAC,WAAA,CAAA,CAAU;AAAA,YACtC,KAAK,SAAS,UAAUA,kCAAAA,IAAC,MAAA,CAAA,CAAK;AAAA,YAC9B,KAAK,SAAS,QAAQA,kCAAAA,IAAC,MAAA,CAAA,CAAK;AAAA,UAAA,GAC/B;AAAA,UACAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACb,UAAA;AAAA,YAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,eACZ,UAAA;AAAA,cAAA,KAAK,SAAS,aAAa,KAAK;AAAA,cAChC,KAAK,SAAS,UAAU,KAAK;AAAA,cAC7B,KAAK,SAAS,QAAQ,KAAK;AAAA,YAAA,GAC9B;AAAA,YACAA,kCAAAA,KAAC,OAAA,EAAI,WAAU,eACZ,UAAA;AAAA,cAAA,KAAK,SAAS,aAAa;AAAA,cAC3B,KAAK,SAAS,UAAU;AAAA,cACxB,KAAK,SAAS,QAAQ;AAAA,YAAA,EAAA,CACzB;AAAA,UAAA,EAAA,CACF;AAAA,QAAA;AAAA,MAAA;AAAA,MArBK,GAAG,KAAK,IAAI,IAAI,KAAK,MAAM,KAAK,QAAQ;AAAA,IAAA,CAuBhD,IAEDA,kCAAAA,KAAC,OAAA,EAAI,WAAU,cACb,UAAA;AAAA,MAAAD,kCAAAA,IAAC,UAAA,EAAS,MAAM,GAAA,CAAI;AAAA,MACpBA,kCAAAA,IAAC,OAAE,UAAA,mBAAA,CAAgB;AAAA,IAAA,EAAA,CACrB,EAAA,CAEJ;AAAA,0CAEC,OAAA,EAAI,WAAU,yBACb,UAAAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,kBACb,UAAA;AAAA,MAAAA,uCAAC,QAAA,EAAK,UAAA;AAAA,QAAAD,kCAAAA,IAAC,SAAI,UAAA,KAAA,CAAE;AAAA,QAAM;AAAA,MAAA,GAAM;AAAA,6CACxB,QAAA,EAAK,UAAA;AAAA,QAAAA,kCAAAA,IAAC,SAAI,UAAA,QAAA,CAAK;AAAA,QAAM;AAAA,MAAA,GAAI;AAAA,6CACzB,QAAA,EAAK,UAAA;AAAA,QAAAA,kCAAAA,IAAC,SAAI,UAAA,MAAA,CAAG;AAAA,QAAM;AAAA,MAAA,EAAA,CAAM;AAAA,IAAA,EAAA,CAC5B,EAAA,CACF;AAAA,EAAA,EAAA,CACF,EAAA,CACF;AAEJ,GA/IsB;AAiJtB,MAAA,wBAAe,MAAM,KAAK,aAAa;"}
import{f as t,r as l,cn as u,w as z,aJ as C,N as I,c9 as B,cA as k,aT as L}from"./react-core-B6hadH-M.js";const R=({serverId:n,apiBaseUrl:c,fetchWithAuth:d})=>{const[i,a]=l.useState([]),[p,y]=l.useState("all"),[m,b]=l.useState(""),[h,v]=l.useState(!0),E=[{id:"all",label:"T√ºm√º",icon:u},{id:"images",label:"Resimler",icon:C},{id:"videos",label:"Videolar",icon:I},{id:"documents",label:"Belgeler",icon:B},{id:"archives",label:"Ar≈üivler",icon:k}];l.useEffect(()=>{F()},[n]);const F=async()=>{try{const e=await d(`${c}/files/?server=${n}`);if(e.ok){const r=await e.json();a(r)}}catch(e){console.error("Failed to load files:",e)}finally{v(!1)}},g=e=>{const r=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(r)?"images":["mp4","avi","mov","webm"].includes(r)?"videos":["pdf","doc","docx","txt","xlsx"].includes(r)?"documents":["zip","rar","7z","tar"].includes(r)?"archives":"other"},x=e=>e<1024?e+" B":e<1024*1024?(e/1024).toFixed(1)+" KB":e<1024*1024*1024?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB",s=i.filter(e=>{const r=p==="all"||g(e.filename)===p,f=e.filename.toLowerCase().includes(m.toLowerCase());return r&&f}),S=s.reduce((e,r)=>e+(r.size||0),0);return t.createElement("div",{style:o.container},t.createElement("div",{style:o.header},t.createElement("h2",{style:o.title},t.createElement(u,null)," Dosya Y√∂neticisi"),t.createElement("div",{style:o.stats},s.length," dosya ¬∑ ",x(S))),t.createElement("div",{style:o.search},t.createElement(z,{style:o.searchIcon}),t.createElement("input",{type:"text",placeholder:"Dosya ara...",value:m,onChange:e=>b(e.target.value),style:o.searchInput})),t.createElement("div",{style:o.categories},E.map(e=>{const r=e.icon,f=i.filter(w=>e.id==="all"||g(w.filename)===e.id).length;return t.createElement("button",{key:e.id,onClick:()=>y(e.id),style:{...o.categoryButton,...p===e.id?o.categoryButtonActive:{}}},t.createElement(r,{style:o.categoryIcon}),t.createElement("span",null,e.label),t.createElement("span",{style:o.categoryCount},f))})),t.createElement("div",{style:o.fileList},h?t.createElement("div",{style:o.loading},"Y√ºkleniyor..."):s.length===0?t.createElement("div",{style:o.empty},t.createElement(u,{style:o.emptyIcon}),t.createElement("p",null,"Dosya bulunamadƒ±")):s.map(e=>t.createElement(A,{key:e.id,file:e,formatSize:x}))))},A=({file:n,formatSize:c})=>{const d=i=>{const a=i.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif"].includes(a)?"üñºÔ∏è":["mp4","avi","mov"].includes(a)?"üé•":["pdf"].includes(a)?"üìï":["doc","docx"].includes(a)?"üìò":["zip","rar"].includes(a)?"üì¶":"üìÑ"};return t.createElement("div",{style:o.fileCard},t.createElement("div",{style:o.fileIcon},d(n.filename)),t.createElement("div",{style:o.fileInfo},t.createElement("div",{style:o.fileName},n.filename),t.createElement("div",{style:o.fileMeta},c(n.size||0)," ¬∑ ",n.uploaded_by," ¬∑ ",new Date(n.created_at).toLocaleDateString("tr-TR"))),t.createElement("a",{href:n.url,download:!0,style:o.downloadButton},t.createElement(L,null)))},o={container:{padding:"20px",backgroundColor:"#2b2d31",borderRadius:"8px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid #1e1f22"},title:{color:"#fff",fontSize:"20px",margin:0,display:"flex",alignItems:"center",gap:"10px"},stats:{color:"#72767d",fontSize:"13px"},search:{position:"relative",marginBottom:"16px"},searchIcon:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#72767d",fontSize:"14px"},searchInput:{width:"100%",padding:"10px 10px 10px 36px",backgroundColor:"#1e1f22",border:"1px solid #4e5058",borderRadius:"6px",color:"#fff",fontSize:"14px"},categories:{display:"flex",gap:"8px",marginBottom:"20px",overflowX:"auto"},categoryButton:{padding:"8px 16px",backgroundColor:"#1e1f22",border:"1px solid #4e5058",borderRadius:"6px",color:"#b9bbbe",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",whiteSpace:"nowrap",transition:"all 0.2s"},categoryButtonActive:{backgroundColor:"#5865f2",borderColor:"#5865f2",color:"#fff"},categoryIcon:{fontSize:"16px"},categoryCount:{fontSize:"12px",opacity:.7},fileList:{display:"grid",gap:"8px"},loading:{textAlign:"center",padding:"40px",color:"#b9bbbe"},empty:{textAlign:"center",padding:"60px 20px",color:"#b9bbbe"},emptyIcon:{fontSize:"64px",opacity:.3,marginBottom:"20px"},fileCard:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"#1e1f22",borderRadius:"6px",border:"1px solid transparent",transition:"border-color 0.2s"},fileIcon:{fontSize:"32px"},fileInfo:{flex:1,minWidth:0},fileName:{color:"#fff",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},fileMeta:{color:"#72767d",fontSize:"12px",marginTop:"4px"},downloadButton:{padding:"8px 12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#fff",cursor:"pointer",fontSize:"14px",textDecoration:"none",display:"flex",alignItems:"center"}},j=t.memo(R);export{j as default};

var k=Object.defineProperty;var s=(l,a)=>k(l,"name",{value:a,configurable:!0});import{r as n,j as e}from"./react-core-Djgtqrmb.js";import{a as h}from"./index-BNjLOQm3.js";import{P as t,t as u}from"./index-B9TNnJpS.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./icons-vendor-BW7dxHkX.js";import"./ui-vendor-IhB9Znpc.js";function M({user:l}){const[a,x]=n.useState(""),[r,j]=n.useState(0),[b,C]=n.useState([]),[p,d]=n.useState(!1);n.useEffect(()=>{l&&m()},[l]);const m=s(async()=>{try{const i=await h.get("/api/user/profile/");x(i.data.referral_code||f()),j(i.data.referral_count||0)}catch{}},"loadReferralData"),f=s(()=>Math.random().toString(36).substring(2,10).toUpperCase(),"generateCode"),w=s(()=>{const i=`${t}/join/${a}`;navigator.clipboard.writeText(i),d(!0),setTimeout(()=>d(!1),2e3)},"copyReferralLink"),N=s(()=>{const i=`Join me on Pawscord - a privacy-first Discord alternative! üêæ

No tracking. No ads. 100% open source.

Sign up with my link for 3 months free premium:`,v=`${t}/join/${a}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(i)}&url=${encodeURIComponent(v)}`,"_blank")},"shareOnTwitter"),o=s(async()=>{try{const i=await h.post("/api/referral/claim/");u.success(`Reward claimed! You got ${i.data.reward}`),m()}catch(i){u.error(i.response?.data?.error||"Failed to claim reward")}},"claimReward"),c=s(()=>r>=10?"lifetime":r>=5?"6months":r>=1?"1month":"none","getReferralTier")();return e.jsxs("div",{className:"referral-program",children:[e.jsxs("div",{className:"referral-header",children:[e.jsx("h2",{children:"üéÅ Invite Friends, Get Rewards"}),e.jsx("p",{children:"Share Pawscord and earn free premium for every friend who joins!"})]}),e.jsxs("div",{className:"referral-link-card",children:[e.jsx("label",{children:"Your Referral Link:"}),e.jsxs("div",{className:"link-container",children:[e.jsx("input",{type:"text",value:`${t}/join/${a}`,readOnly:!0,className:"referral-input"}),e.jsx("button",{onClick:w,className:"copy-btn",children:p?"‚úÖ Copied!":"üìã Copy"})]}),e.jsx("button",{onClick:N,className:"share-btn twitter",children:"üê¶ Share on Twitter"})]}),e.jsxs("div",{className:"referral-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:r}),e.jsx("div",{className:"stat-label",children:"Friends Referred"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:c==="lifetime"?"‚àû":c==="6months"?"6mo":c==="1month"?"1mo":"0"}),e.jsx("div",{className:"stat-label",children:"Premium Earned"})]})]}),e.jsxs("div",{className:"rewards-tiers",children:[e.jsx("h3",{children:"Reward Tiers:"}),e.jsxs("div",{className:"tier-list",children:[e.jsxs("div",{className:`tier-item ${r>=1?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ü•â"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Bronze"}),e.jsx("div",{className:"tier-reward",children:"1 Month Premium"}),e.jsx("div",{className:"tier-requirement",children:"1 Friend"})]}),r>=1&&r<5&&e.jsx("button",{onClick:o,className:"claim-btn",children:"Claim"})]}),e.jsxs("div",{className:`tier-item ${r>=5?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ü•à"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Silver"}),e.jsx("div",{className:"tier-reward",children:"6 Months Premium"}),e.jsx("div",{className:"tier-requirement",children:"5 Friends"})]}),r>=5&&r<10&&e.jsx("button",{onClick:o,className:"claim-btn",children:"Claim"})]}),e.jsxs("div",{className:`tier-item ${r>=10?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ü•á"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Gold"}),e.jsx("div",{className:"tier-reward",children:"Lifetime Premium üöÄ"}),e.jsx("div",{className:"tier-requirement",children:"10 Friends"})]}),r>=10&&e.jsx("button",{onClick:o,className:"claim-btn",children:"Claim"})]})]})]}),e.jsxs("div",{className:"progress-section",children:[e.jsx("h3",{children:"Your Progress:"}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${Math.min(r/10*100,100)}%`},children:e.jsxs("span",{children:[r," / 10"]})})}),e.jsx("p",{className:"progress-hint",children:r>=10?"üéâ You unlocked Lifetime Premium!":r>=5?`${10-r} more friends for Lifetime Premium!`:r>=1?`${5-r} more for 6 Months Premium!`:"Share your link to start earning rewards!"})]}),e.jsxs("div",{className:"how-it-works",children:[e.jsx("h3",{children:"How It Works:"}),e.jsxs("ol",{children:[e.jsx("li",{children:"üì§ Share your unique referral link with friends"}),e.jsx("li",{children:"‚úÖ They sign up using your link"}),e.jsx("li",{children:"üéÅ You automatically earn premium time!"}),e.jsx("li",{children:"üîÅ Keep sharing to unlock more rewards"})]})]}),e.jsxs("div",{className:"social-share",children:[e.jsx("h3",{children:"Share on:"}),e.jsxs("div",{className:"share-buttons",children:[e.jsx("button",{onClick:s(()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=${t}/join/${a}`,"_blank"),"onClick"),className:"share-btn facebook",children:"üìò Facebook"}),e.jsx("button",{onClick:s(()=>window.open(`https://www.reddit.com/submit?url=${t}/join/${a}&title=Check out Pawscord!`,"_blank"),"onClick"),className:"share-btn reddit",children:"ü§ñ Reddit"}),e.jsx("button",{onClick:s(()=>window.open(`https://wa.me/?text=Join me on Pawscord! ${t}/join/${a}`,"_blank"),"onClick"),className:"share-btn whatsapp",children:"üí¨ WhatsApp"}),e.jsx("button",{onClick:s(()=>window.open(`https://t.me/share/url?url=${t}/join/${a}&text=Check out Pawscord!`,"_blank"),"onClick"),className:"share-btn telegram",children:"‚úàÔ∏è Telegram"})]})]})]})}s(M,"ReferralProgram");export{M as default};

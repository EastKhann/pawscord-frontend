{"version":3,"file":"EmailVerification-CVo9AUBw.js","sources":["../../../src/components/EmailVerification.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './EmailVerification.css';\r\n\r\nconst EmailVerification = () => {\r\n    const { token } = useParams();\r\n    const navigate = useNavigate();\r\n    const [status, setStatus] = useState('verifying'); // verifying, success, error\r\n    const [message, setMessage] = useState('Verifying your email...');\r\n\r\n    useEffect(() => {\r\n        verifyEmail();\r\n    }, [token]);\r\n\r\n    const verifyEmail = async () => {\r\n        try {\r\n            const response = await fetch('/api/auth/verify-email/', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ token })\r\n            });\r\n\r\n            const data = await response.json();\r\n\r\n            if (data.success) {\r\n                setStatus('success');\r\n                setMessage('Email verified successfully! Redirecting...');\r\n\r\n                // Redirect to login after 3 seconds\r\n                setTimeout(() => {\r\n                    navigate('/login');\r\n                }, 3000);\r\n            } else {\r\n                setStatus('error');\r\n                setMessage(data.error || 'Verification failed');\r\n            }\r\n        } catch (error) {\r\n            console.error('Verification error:', error);\r\n            setStatus('error');\r\n            setMessage('An error occurred during verification');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"email-verification\">\r\n            <div className=\"verification-card\">\r\n                <div className={`status-icon ${status}`}>\r\n                    {status === 'verifying' && (\r\n                        <div className=\"spinner\"></div>\r\n                    )}\r\n                    {status === 'success' && (\r\n                        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                            <path d=\"M20 6L9 17l-5-5\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                        </svg>\r\n                    )}\r\n                    {status === 'error' && (\r\n                        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n                            <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth=\"2\" />\r\n                            <path d=\"M15 9l-6 6M9 9l6 6\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n                        </svg>\r\n                    )}\r\n                </div>\r\n\r\n                <h2>{status === 'success' ? 'Email Verified!' : status === 'error' ? 'Verification Failed' : 'Verifying Email'}</h2>\r\n                <p>{message}</p>\r\n\r\n                {status === 'success' && (\r\n                    <button\r\n                        className=\"btn-primary\"\r\n                        onClick={() => navigate('/login')}\r\n                    >\r\n                        Go to Login\r\n                    </button>\r\n                )}\r\n\r\n                {status === 'error' && (\r\n                    <button\r\n                        className=\"btn-secondary\"\r\n                        onClick={() => navigate('/register')}\r\n                    >\r\n                        Back to Registration\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EmailVerification;\r\n\r\n\r\n"],"names":["useState","useEffect","jsxs","jsx"],"mappings":";;;;AAIA,MAAM,oBAAoB,6BAAM;AAC5B,QAAM,EAAE,MAAA,IAAU,UAAA;AAClB,QAAM,WAAW,YAAA;AACjB,QAAM,CAAC,QAAQ,SAAS,IAAIA,aAAAA,SAAS,WAAW;AAChD,QAAM,CAAC,SAAS,UAAU,IAAIA,aAAAA,SAAS,yBAAyB;AAEhEC,eAAAA,UAAU,MAAM;AACZ,gBAAA;AAAA,EACJ,GAAG,CAAC,KAAK,CAAC;AAEV,QAAM,cAAc,mCAAY;AAC5B,QAAI;AACA,YAAM,WAAW,MAAM,MAAM,2BAA2B;AAAA,QACpD,QAAQ;AAAA,QACR,SAAS;AAAA,UACL,gBAAgB;AAAA,QAAA;AAAA,QAEpB,MAAM,KAAK,UAAU,EAAE,OAAO;AAAA,MAAA,CACjC;AAED,YAAM,OAAO,MAAM,SAAS,KAAA;AAE5B,UAAI,KAAK,SAAS;AACd,kBAAU,SAAS;AACnB,mBAAW,6CAA6C;AAGxD,mBAAW,MAAM;AACb,mBAAS,QAAQ;AAAA,QACrB,GAAG,GAAI;AAAA,MACX,OAAO;AACH,kBAAU,OAAO;AACjB,mBAAW,KAAK,SAAS,qBAAqB;AAAA,MAClD;AAAA,IACJ,SAAS,OAAO;AACZ,cAAQ,MAAM,uBAAuB,KAAK;AAC1C,gBAAU,OAAO;AACjB,iBAAW,uCAAuC;AAAA,IACtD;AAAA,EACJ,GA7BoB;AA+BpB,+CACK,OAAA,EAAI,WAAU,sBACX,UAAAC,kCAAAA,KAAC,OAAA,EAAI,WAAU,qBACX,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,WAAW,eAAe,MAAM,IAChC,UAAA;AAAA,MAAA,WAAW,eACRC,kCAAAA,IAAC,OAAA,EAAI,WAAU,WAAU;AAAA,MAE5B,WAAW,aACRA,sCAAC,OAAA,EAAI,SAAQ,aAAY,MAAK,QAAO,QAAO,gBACxC,gDAAC,QAAA,EAAK,GAAE,mBAAkB,aAAY,KAAI,eAAc,SAAQ,gBAAe,SAAQ,EAAA,CAC3F;AAAA,MAEH,WAAW,WACRD,uCAAC,OAAA,EAAI,SAAQ,aAAY,MAAK,QAAO,QAAO,gBACxC,UAAA;AAAA,QAAAC,kCAAAA,IAAC,UAAA,EAAO,IAAG,MAAK,IAAG,MAAK,GAAE,MAAK,aAAY,IAAA,CAAI;AAAA,8CAC9C,QAAA,EAAK,GAAE,sBAAqB,aAAY,KAAI,eAAc,QAAA,CAAQ;AAAA,MAAA,EAAA,CACvE;AAAA,IAAA,GAER;AAAA,IAEAA,kCAAAA,IAAC,QAAI,UAAA,WAAW,YAAY,oBAAoB,WAAW,UAAU,wBAAwB,kBAAA,CAAkB;AAAA,IAC/GA,kCAAAA,IAAC,OAAG,UAAA,QAAA,CAAQ;AAAA,IAEX,WAAW,aACRA,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACG,WAAU;AAAA,QACV,SAAS,6BAAM,SAAS,QAAQ,GAAvB;AAAA,QACZ,UAAA;AAAA,MAAA;AAAA,IAAA;AAAA,IAKJ,WAAW,WACRA,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACG,WAAU;AAAA,QACV,SAAS,6BAAM,SAAS,WAAW,GAA1B;AAAA,QACZ,UAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAED,EAAA,CAER,EAAA,CACJ;AAER,GApF0B;"}
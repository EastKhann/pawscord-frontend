import{r as t,n as e}from"./react-core-Cj7FUMmY.js";import{a as m}from"./index-BV9jtLkh.js";import{P as a,t as h}from"./index-CzTkJwMP.js";import"./editor-vendor-D9c4a6XZ.js";import"./media-vendor-By68PLJG.js";import"./router-vendor-QeioVw-9.js";import"./icons-vendor-TGltgKsJ.js";import"./state-vendor-DGcbxrkI.js";import"./crypto-vendor-DK-7ILyQ.js";function F({user:o}){const[i,u]=t.useState(""),[r,x]=t.useState(0),[v,k]=t.useState([]),[j,c]=t.useState(!1);t.useEffect(()=>{o&&d()},[o]);const d=async()=>{try{const s=await m.get("/api/user/profile/");u(s.data.referral_code||p()),x(s.data.referral_count||0)}catch{}},p=()=>Math.random().toString(36).substring(2,10).toUpperCase(),f=()=>{const s=`${a}/join/${i}`;navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)},w=()=>{const s=`Join me on Pawscord - a privacy-first Discord alternative! ğŸ¾

No tracking. No ads. 100% open source.

Sign up with my link for 3 months free premium:`,N=`${a}/join/${i}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(s)}&url=${encodeURIComponent(N)}`,"_blank")},n=async()=>{try{const s=await m.post("/api/referral/claim/");h.success(`Reward claimed! You got ${s.data.reward}`),d()}catch(s){h.error(s.response?.data?.error||"Failed to claim reward")}},l=r>=10?"lifetime":r>=5?"6months":r>=1?"1month":"none";return e.jsxs("div",{className:"referral-program",children:[e.jsxs("div",{className:"referral-header",children:[e.jsx("h2",{children:"ğŸ Invite Friends, Get Rewards"}),e.jsx("p",{children:"Share Pawscord and earn free premium for every friend who joins!"})]}),e.jsxs("div",{className:"referral-link-card",children:[e.jsx("label",{children:"Your Referral Link:"}),e.jsxs("div",{className:"link-container",children:[e.jsx("input",{type:"text",value:`${a}/join/${i}`,readOnly:!0,className:"referral-input"}),e.jsx("button",{onClick:f,className:"copy-btn",children:j?"âœ… Copied!":"ğŸ“‹ Copy"})]}),e.jsx("button",{onClick:w,className:"share-btn twitter",children:"ğŸ¦ Share on Twitter"})]}),e.jsxs("div",{className:"referral-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:r}),e.jsx("div",{className:"stat-label",children:"Friends Referred"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-value",children:l==="lifetime"?"âˆ":l==="6months"?"6mo":l==="1month"?"1mo":"0"}),e.jsx("div",{className:"stat-label",children:"Premium Earned"})]})]}),e.jsxs("div",{className:"rewards-tiers",children:[e.jsx("h3",{children:"Reward Tiers:"}),e.jsxs("div",{className:"tier-list",children:[e.jsxs("div",{className:`tier-item ${r>=1?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ğŸ¥‰"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Bronze"}),e.jsx("div",{className:"tier-reward",children:"1 Month Premium"}),e.jsx("div",{className:"tier-requirement",children:"1 Friend"})]}),r>=1&&r<5&&e.jsx("button",{onClick:n,className:"claim-btn",children:"Claim"})]}),e.jsxs("div",{className:`tier-item ${r>=5?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ğŸ¥ˆ"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Silver"}),e.jsx("div",{className:"tier-reward",children:"6 Months Premium"}),e.jsx("div",{className:"tier-requirement",children:"5 Friends"})]}),r>=5&&r<10&&e.jsx("button",{onClick:n,className:"claim-btn",children:"Claim"})]}),e.jsxs("div",{className:`tier-item ${r>=10?"unlocked":""}`,children:[e.jsx("div",{className:"tier-icon",children:"ğŸ¥‡"}),e.jsxs("div",{className:"tier-info",children:[e.jsx("div",{className:"tier-title",children:"Gold"}),e.jsx("div",{className:"tier-reward",children:"Lifetime Premium ğŸš€"}),e.jsx("div",{className:"tier-requirement",children:"10 Friends"})]}),r>=10&&e.jsx("button",{onClick:n,className:"claim-btn",children:"Claim"})]})]})]}),e.jsxs("div",{className:"progress-section",children:[e.jsx("h3",{children:"Your Progress:"}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${Math.min(r/10*100,100)}%`},children:e.jsxs("span",{children:[r," / 10"]})})}),e.jsx("p",{className:"progress-hint",children:r>=10?"ğŸ‰ You unlocked Lifetime Premium!":r>=5?`${10-r} more friends for Lifetime Premium!`:r>=1?`${5-r} more for 6 Months Premium!`:"Share your link to start earning rewards!"})]}),e.jsxs("div",{className:"how-it-works",children:[e.jsx("h3",{children:"How It Works:"}),e.jsxs("ol",{children:[e.jsx("li",{children:"ğŸ“¤ Share your unique referral link with friends"}),e.jsx("li",{children:"âœ… They sign up using your link"}),e.jsx("li",{children:"ğŸ You automatically earn premium time!"}),e.jsx("li",{children:"ğŸ” Keep sharing to unlock more rewards"})]})]}),e.jsxs("div",{className:"social-share",children:[e.jsx("h3",{children:"Share on:"}),e.jsxs("div",{className:"share-buttons",children:[e.jsx("button",{onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=${a}/join/${i}`,"_blank"),className:"share-btn facebook",children:"ğŸ“˜ Facebook"}),e.jsx("button",{onClick:()=>window.open(`https://www.reddit.com/submit?url=${a}/join/${i}&title=Check out Pawscord!`,"_blank"),className:"share-btn reddit",children:"ğŸ¤– Reddit"}),e.jsx("button",{onClick:()=>window.open(`https://wa.me/?text=Join me on Pawscord! ${a}/join/${i}`,"_blank"),className:"share-btn whatsapp",children:"ğŸ’¬ WhatsApp"}),e.jsx("button",{onClick:()=>window.open(`https://t.me/share/url?url=${a}/join/${i}&text=Check out Pawscord!`,"_blank"),className:"share-btn telegram",children:"âœˆï¸ Telegram"})]})]})]})}export{F as default};

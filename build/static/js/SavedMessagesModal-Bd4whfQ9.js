import{b as j,r as i,n as e}from"./react-core-zXIKm1Jm.js";import{a as k,s as v,bo as S,ar as C,D as w}from"./icons-vendor-BBdoVeJd.js";import"./editor-vendor-DiU449Dh.js";const z=({type:o="bookmarks",onClose:n,fetchWithAuth:l,apiBaseUrl:d,onScrollToMessage:c})=>{const[m,x]=i.useState([]),[p,g]=i.useState(!0);i.useEffect(()=>{f()},[o]);const f=async()=>{g(!0);try{let s="";o==="bookmarks"||o==="starred"?s="/messages/favorites/":o==="readlater"&&(s="/messages/readlater/list/");const a=await l(`${d}${s}`);if(a.ok){const r=await a.json();x(r.messages||r.results||[])}}catch(s){console.error("Load saved messages error:",s)}finally{g(!1)}},b=async s=>{try{let a="";o==="bookmarks"?a="/messages/bookmark/toggle/":o==="starred"?a="/messages/star/toggle/":o==="readlater"&&(a="/messages/readlater/toggle/"),await l(`${d}${a}`,{method:"POST",body:JSON.stringify({message_id:s})}),x(r=>r.filter(y=>y.id!==s))}catch(a){console.error("Remove error:",a)}},u=()=>o==="bookmarks"?"ðŸ“‘ Bookmarklar":o==="starred"?"â­ YÄ±ldÄ±zlÄ± Mesajlar":o==="readlater"?"ðŸ• Sonra Oku":"Kaydedilen Mesajlar",h=()=>o==="bookmarks"?e.jsx(S,{}):o==="starred"?e.jsx(C,{}):o==="readlater"?e.jsx(w,{}):null;return e.jsx("div",{style:t.overlay,onClick:n,children:e.jsxs("div",{style:t.modal,onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{style:t.header,children:[e.jsxs("h2",{style:t.title,children:[h()," ",u()]}),e.jsx("button",{onClick:n,style:t.closeButton,children:e.jsx(k,{})})]}),e.jsx("div",{style:t.content,children:p?e.jsx("div",{style:t.loading,children:"YÃ¼kleniyor..."}):m.length===0?e.jsx("div",{style:t.empty,children:"HenÃ¼z kaydedilmiÅŸ mesaj yok"}):e.jsx("div",{style:t.messageList,children:m.map(s=>e.jsxs("div",{style:t.messageItem,children:[e.jsxs("div",{style:t.messageContent,children:[e.jsxs("div",{style:t.messageHeader,children:[e.jsx("span",{style:t.username,children:s.username}),e.jsx("span",{style:t.timestamp,children:new Date(s.timestamp).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:t.messageText,children:[s.content?.substring(0,150),s.content?.length>150&&"..."]}),s.room_name&&e.jsxs("div",{style:t.roomTag,children:["#",s.room_name]})]}),e.jsxs("div",{style:t.actions,children:[e.jsx("button",{onClick:()=>{c&&(c(s.id),n())},style:t.actionButton,title:"Mesaja git",children:"â†’"}),e.jsx("button",{onClick:()=>b(s.id),style:{...t.actionButton,color:"#f04747"},title:"KaldÄ±r",children:e.jsx(v,{})})]})]},s.id))})})]})})},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"10px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},messageList:{display:"flex",flexDirection:"column",gap:"10px"},messageItem:{backgroundColor:"#40444b",borderRadius:"4px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"10px"},messageContent:{flex:1},messageHeader:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},username:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},messageText:{color:"#dcddde",fontSize:"0.9em",marginBottom:"5px"},roomTag:{display:"inline-block",backgroundColor:"#5865f2",color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"0.7em",fontWeight:"bold"},actions:{display:"flex",gap:"5px"},actionButton:{background:"none",border:"1px solid #72767d",color:"#b9bbbe",cursor:"pointer",padding:"5px 10px",borderRadius:"4px",fontSize:"0.9em"}},T=j.memo(z);export{T as default};

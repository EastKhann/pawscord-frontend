const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/BookmarkButton-TTfr2p03.js","static/js/react-core-Djgtqrmb.js","static/js/icons-vendor-BW7dxHkX.js","static/js/ReactionPicker-DrE1rP-3.js","static/js/LinkPreview-DdcprwAK.js","static/js/VoiceMessagePlayer-f0kPzJtZ.js","static/js/CodeBlock-zhwpSXCK.js","static/js/index-GGLPABCW.js","static/js/media-vendor-CxFPycob.js","static/js/router-vendor-ClgLnMjk.js","static/js/state-vendor-BRqaXHJQ.js","static/js/crypto-vendor-D1XRGppi.js","static/js/ui-vendor-IhB9Znpc.js","static/css/index-pnGyWLwG.css","static/js/syntax-core-ClRPxWov.js","static/js/perf-vendor-BfRgZ-u9.js","static/js/Spoiler-DuL8rZAH.js","static/js/TicTacToe-CGERo3sD.js","static/js/ReminderModal-DbRb-1Xi.js","static/js/MessageThreads-CJx_ZXSf.js"])))=>i.map(i=>d[i]);
var wi=Object.defineProperty;var i=(e,n)=>wi(e,"name",{value:n,configurable:!0});import{_ as he}from"./media-vendor-CxFPycob.js";import{b as pr,j as x,r as z,a as Si}from"./react-core-Djgtqrmb.js";import{n as hr,a_ as dr,a$ as Ci,a9 as mr,b0 as gr,k as xr,ac as yr,d as br,at as kr,f as wr,i as Zt,av as Ei,b1 as Ii,aV as _i,b2 as Ti,a5 as Sr,O as vi,h as wn}from"./icons-vendor-BW7dxHkX.js";import{L as Ai}from"./LazyImage-h7tJnYE0.js";import{useCachedImage as zi}from"./imageCaching-Df571KuS.js";import{t as we,e as ji,h as Sn,j as Cn,k as Li}from"./index-GGLPABCW.js";import{s as en,h as Fi,f as Pi,a as Di,b as Ri,c as Bi,d as tn}from"./syntax-core-ClRPxWov.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";import"./perf-vendor-BfRgZ-u9.js";const Oi=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ni=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Mi={};function En(e,n){return(Mi.jsx?Ni:Oi).test(e)}i(En,"name");const $i=/[ \t\n\f\r]/g;function Hi(e){return typeof e=="object"?e.type==="text"?In(e.value):!1:In(e)}i(Hi,"whitespace");function In(e){return e.replace($i,"")===""}i(In,"empty$1");var Pe={},Et,_n;function qi(){if(_n)return Et;_n=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,s=/^\s+|\s+$/g,c=`
`,u="/",p="*",f="",d="comment",h="declaration";function y(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var _=1,I=1;function B(P){var A=P.match(n);A&&(_+=A.length);var U=P.lastIndexOf(c);I=~U?P.length-U:I+P.length}i(B,"updatePosition");function O(){var P={line:_,column:I};return function(A){return A.position=new E(P),$(),A}}i(O,"position");function E(P){this.start=P,this.end={line:_,column:I},this.source=k.source}i(E,"Position"),E.prototype.content=S;function N(P){var A=new Error(k.source+":"+_+":"+I+": "+P);if(A.reason=P,A.filename=k.source,A.line=_,A.column=I,A.source=S,!k.silent)throw A}i(N,"error");function H(P){var A=P.exec(S);if(A){var U=A[0];return B(U),S=S.slice(U.length),A}}i(H,"match");function $(){H(t)}i($,"whitespace");function w(P){var A;for(P=P||[];A=j();)A!==!1&&P.push(A);return P}i(w,"comments");function j(){var P=O();if(!(u!=S.charAt(0)||p!=S.charAt(1))){for(var A=2;f!=S.charAt(A)&&(p!=S.charAt(A)||u!=S.charAt(A+1));)++A;if(A+=2,f===S.charAt(A-1))return N("End of comment missing");var U=S.slice(2,A-2);return I+=2,B(U),S=S.slice(A),I+=2,P({type:d,comment:U})}}i(j,"comment");function L(){var P=O(),A=H(r);if(A){if(j(),!H(o))return N("property missing ':'");var U=H(a),J=P({type:h,property:b(A[0].replace(e,f)),value:U?b(U[0].replace(e,f)):f});return H(l),J}}i(L,"declaration");function Q(){var P=[];w(P);for(var A;A=L();)A!==!1&&(P.push(A),w(P));return P}return i(Q,"declarations"),$(),Q()}i(y,"index");function b(S){return S?S.replace(s,f):f}return i(b,"trim"),Et=y,Et}i(qi,"requireCjs$2");var Tn;function Vi(){if(Tn)return Pe;Tn=1;var e=Pe&&Pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=t;const n=e(qi());function t(r,o){let a=null;if(!r||typeof r!="string")return a;const l=(0,n.default)(r),s=typeof o=="function";return l.forEach(c=>{if(c.type!=="declaration")return;const{property:u,value:p}=c;s?o(u,p,c):p&&(a=a||{},a[u]=p)}),a}return i(t,"StyleToObject"),Pe}i(Vi,"requireCjs$1");var Ve={},vn;function Wi(){if(vn)return Ve;vn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=i(function(u){return!u||t.test(u)||e.test(u)},"skipCamelCase"),l=i(function(u,p){return p.toUpperCase()},"capitalize"),s=i(function(u,p){return"".concat(p,"-")},"trimHyphen"),c=i(function(u,p){return p===void 0&&(p={}),a(u)?u:(u=u.toLowerCase(),p.reactCompat?u=u.replace(o,s):u=u.replace(r,s),u.replace(n,l))},"camelCase");return Ve.camelCase=c,Ve}i(Wi,"requireUtilities");var We,An;function Ui(){if(An)return We;An=1;var e=We&&We.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},n=e(Vi()),t=Wi();function r(o,a){var l={};return!o||typeof o!="string"||(0,n.default)(o,function(s,c){s&&c&&(l[(0,t.camelCase)(s,a)]=c)}),l}return i(r,"StyleToJS"),r.default=r,We=r,We}i(Ui,"requireCjs");var Qi=Ui();const Yi=pr(Qi),Cr=Er("end"),nn=Er("start");function Er(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}i(Er,"point$2");function Gi(e){const n=nn(e),t=Cr(e);if(n&&t)return{start:n,end:t}}i(Gi,"position$1");function Ye(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?zn(e.position):"start"in e||"end"in e?zn(e):"line"in e||"column"in e?Ht(e):""}i(Ye,"stringifyPosition");function Ht(e){return jn(e&&e.line)+":"+jn(e&&e.column)}i(Ht,"point$1");function zn(e){return Ht(e&&e.start)+"-"+Ht(e&&e.end)}i(zn,"position");function jn(e){return e&&typeof e=="number"?e:1}i(jn,"index");const xn=class xn extends Error{constructor(n,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let o="",a={},l=!1;if(t&&("line"in t&&"column"in t?a={place:t}:"start"in t&&"end"in t?a={place:t}:"type"in t?a={ancestors:[t],place:t.position}:a={...t}),typeof n=="string"?o=n:!a.cause&&n&&(l=!0,o=n.message,a.cause=n),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=s?s.line:void 0,this.name=Ye(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};i(xn,"VFileMessage");let ee=xn;ee.prototype.file="";ee.prototype.name="";ee.prototype.reason="";ee.prototype.message="";ee.prototype.stack="";ee.prototype.column=void 0;ee.prototype.line=void 0;ee.prototype.ancestors=void 0;ee.prototype.cause=void 0;ee.prototype.fatal=void 0;ee.prototype.place=void 0;ee.prototype.ruleId=void 0;ee.prototype.source=void 0;const rn={}.hasOwnProperty,Xi=new Map,Ji=/[A-Z]/g,Ki=new Set(["table","tbody","thead","tfoot","tr"]),Zi=new Set(["td","th"]),Ir="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eo(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=n.filePath||void 0;let r;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=so(t,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=ao(t,n.jsx,n.jsxs)}const o={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:r,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?en:Fi,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},a=_r(o,e,void 0);return a&&typeof a!="string"?a:o.create(e,o.Fragment,{children:a||void 0},void 0)}i(eo,"toJsxRuntime");function _r(e,n,t){if(n.type==="element")return to(e,n,t);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return no(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return io(e,n,t);if(n.type==="mdxjsEsm")return ro(e,n);if(n.type==="root")return oo(e,n,t);if(n.type==="text")return lo(e,n)}i(_r,"one$1");function to(e,n,t){const r=e.schema;let o=r;n.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=en,e.schema=o),e.ancestors.push(n);const a=vr(e,n.tagName,!1),l=uo(e,n);let s=ln(e,n);return Ki.has(n.tagName)&&(s=s.filter(function(c){return typeof c=="string"?!Hi(c):!0})),Tr(e,l,a,n),on(l,s),e.ancestors.pop(),e.schema=r,e.create(n,a,l,t)}i(to,"element");function no(e,n){if(n.data&&n.data.estree&&e.evaluater){const r=n.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Je(e,n.position)}i(no,"mdxExpression");function ro(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);Je(e,n.position)}i(ro,"mdxEsm");function io(e,n,t){const r=e.schema;let o=r;n.name==="svg"&&r.space==="html"&&(o=en,e.schema=o),e.ancestors.push(n);const a=n.name===null?e.Fragment:vr(e,n.name,!0),l=co(e,n),s=ln(e,n);return Tr(e,l,a,n),on(l,s),e.ancestors.pop(),e.schema=r,e.create(n,a,l,t)}i(io,"mdxJsxElement");function oo(e,n,t){const r={};return on(r,ln(e,n)),e.create(n,e.Fragment,r,t)}i(oo,"root$2");function lo(e,n){return n.value}i(lo,"text$5");function Tr(e,n,t,r){typeof t!="string"&&t!==e.Fragment&&e.passNode&&(n.node=r)}i(Tr,"addNode");function on(e,n){if(n.length>0){const t=n.length>1?n:n[0];t&&(e.children=t)}}i(on,"addChildren");function ao(e,n,t){return r;function r(o,a,l,s){const u=Array.isArray(l.children)?t:n;return s?u(a,l,s):u(a,l)}}i(ao,"productionCreate");function so(e,n){return t;function t(r,o,a,l){const s=Array.isArray(a.children),c=nn(r);return n(o,a,l,s,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}i(so,"developmentCreate");function uo(e,n){const t={};let r,o;for(o in n.properties)if(o!=="children"&&rn.call(n.properties,o)){const a=fo(e,o,n.properties[o]);if(a){const[l,s]=a;e.tableCellAlignToStyle&&l==="align"&&typeof s=="string"&&Zi.has(n.tagName)?r=s:t[l]=s}}if(r){const a=t.style||(t.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}i(uo,"createElementProps");function co(e,n){const t={};for(const r of n.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const s=l.properties[0];s.type,Object.assign(t,e.evaluater.evaluateExpression(s.argument))}else Je(e,n.position);else{const o=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Je(e,n.position);else a=r.value===null?!0:r.value;t[o]=a}return t}i(co,"createJsxElementProps");function ln(e,n){const t=[];let r=-1;const o=e.passKeys?new Map:Xi;for(;++r<n.children.length;){const a=n.children[r];let l;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=o.get(c)||0;l=c+"-"+u,o.set(c,u+1)}}const s=_r(e,a,l);s!==void 0&&t.push(s)}return t}i(ln,"createChildren");function fo(e,n,t){const r=Pi(e.schema,n);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?Di(t):Ri(t)),r.property==="style"){let o=typeof t=="object"?t:po(e,String(t));return e.stylePropertyNameCase==="css"&&(o=ho(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?Bi[r.property]||r.property:r.attribute,t]}}i(fo,"createProperty");function po(e,n){try{return Yi(n,{reactCompat:!0})}catch(t){if(e.ignoreInvalidStyle)return{};const r=t,o=new ee("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=Ir+"#cannot-parse-style-attribute",o}}i(po,"parseStyle");function vr(e,n,t){let r;if(!t)r={type:"Literal",value:n};else if(n.includes(".")){const o=n.split(".");let a=-1,l;for(;++a<o.length;){const s=En(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};l=l?{type:"MemberExpression",object:l,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=l}else r=En(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(r.type==="Literal"){const o=r.value;return rn.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Je(e)}i(vr,"findComponentFromName");function Je(e,n){const t=new ee("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=e.filePath||void 0,t.url=Ir+"#cannot-handle-mdx-estrees-without-createevaluater",t}i(Je,"crashEstree");function ho(e){const n={};let t;for(t in e)rn.call(e,t)&&(n[mo(t)]=e[t]);return n}i(ho,"transformStylesToCssCasing");function mo(e){let n=e.replace(Ji,go);return n.slice(0,3)==="ms-"&&(n="-"+n),n}i(mo,"transformStyleToCssCasing");function go(e){return"-"+e.toLowerCase()}i(go,"toDash");const It={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xo={};function an(e,n){const t=xo,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,o=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return Ar(e,r,o)}i(an,"toString$1");function Ar(e,n,t){if(yo(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Ln(e.children,n,t)}return Array.isArray(e)?Ln(e,n,t):""}i(Ar,"one");function Ln(e,n,t){const r=[];let o=-1;for(;++o<e.length;)r[o]=Ar(e[o],n,t);return r.join("")}i(Ln,"all");function yo(e){return!!(e&&typeof e=="object")}i(yo,"node");function ce(e,n,t,r){const o=e.length;let a=0,l;if(n<0?n=-n>o?0:o+n:n=n>o?o:n,t=t>0?t:0,r.length<1e4)l=Array.from(r),l.unshift(n,t),e.splice(...l);else for(t&&e.splice(n,t);a<r.length;)l=r.slice(a,a+1e4),l.unshift(n,0),e.splice(...l),a+=1e4,n+=1e4}i(ce,"splice");function pe(e,n){return e.length>0?(ce(e,e.length,0,n),e):n}i(pe,"push");const Fn={}.hasOwnProperty;function zr(e){const n={};let t=-1;for(;++t<e.length;)bo(n,e[t]);return n}i(zr,"combineExtensions");function bo(e,n){let t;for(t in n){const o=(Fn.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let l;if(a)for(l in a){Fn.call(o,l)||(o[l]=[]);const s=a[l];ko(o[l],Array.isArray(s)?s:s?[s]:[])}}}i(bo,"syntaxExtension");function ko(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);ce(e,0,0,r)}i(ko,"constructs");function jr(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"�":String.fromCodePoint(t)}i(jr,"decodeNumericCharacterReference");function ge(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}i(ge,"normalizeIdentifier");const ie=_e(/[A-Za-z]/),ne=_e(/[\dA-Za-z]/),wo=_e(/[#-'*+\--9=?A-Z^-~]/);function ct(e){return e!==null&&(e<32||e===127)}i(ct,"asciiControl");const qt=_e(/\d/),So=_e(/[\dA-Fa-f]/),Co=_e(/[!-/:-@[-`{-~]/);function D(e){return e!==null&&e<-2}i(D,"markdownLineEnding");function G(e){return e!==null&&(e<0||e===32)}i(G,"markdownLineEndingOrSpace");function V(e){return e===-2||e===-1||e===32}i(V,"markdownSpace");const gt=_e(/\p{P}|\p{S}/u),je=_e(/\s/);function _e(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}i(_e,"regexCheck");function Oe(e){const n=[];let t=-1,r=0,o=0;for(;++t<e.length;){const a=e.charCodeAt(t);let l="";if(a===37&&ne(e.charCodeAt(t+1))&&ne(e.charCodeAt(t+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(t+1);a<56320&&s>56319&&s<57344?(l=String.fromCharCode(a,s),o=1):l="�"}else l=String.fromCharCode(a);l&&(n.push(e.slice(r,t),encodeURIComponent(l)),r=t+o+1,l=""),o&&(t+=o,o=0)}return n.join("")+e.slice(r)}i(Oe,"normalizeUri");function W(e,n,t,r){const o=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(c){return V(c)?(e.enter(t),s(c)):n(c)}function s(c){return V(c)&&a++<o?(e.consume(c),s):(e.exit(t),n(c))}}i(W,"factorySpace");const Eo={tokenize:Io};function Io(e){const n=e.attempt(this.parser.constructs.contentInitial,r,o);let t;return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),W(e,n,"linePrefix")}function o(s){return e.enter("paragraph"),a(s)}function a(s){const c=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,l(s)}function l(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return D(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),l)}}i(Io,"initializeContent");const _o={tokenize:To},Pn={tokenize:vo};function To(e){const n=this,t=[];let r=0,o,a,l;return s;function s(I){if(r<t.length){const B=t[r];return n.containerState=B[1],e.attempt(B[0].continuation,c,u)(I)}return u(I)}function c(I){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,o&&_();const B=n.events.length;let O=B,E;for(;O--;)if(n.events[O][0]==="exit"&&n.events[O][1].type==="chunkFlow"){E=n.events[O][1].end;break}k(r);let N=B;for(;N<n.events.length;)n.events[N][1].end={...E},N++;return ce(n.events,O+1,0,n.events.slice(B)),n.events.length=N,u(I)}return s(I)}function u(I){if(r===t.length){if(!o)return d(I);if(o.currentConstruct&&o.currentConstruct.concrete)return y(I);n.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Pn,p,f)(I)}function p(I){return o&&_(),k(r),d(I)}function f(I){return n.parser.lazy[n.now().line]=r!==t.length,l=n.now().offset,y(I)}function d(I){return n.containerState={},e.attempt(Pn,h,y)(I)}function h(I){return r++,t.push([n.currentConstruct,n.containerState]),d(I)}function y(I){if(I===null){o&&_(),k(0),e.consume(I);return}return o=o||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),b(I)}function b(I){if(I===null){S(e.exit("chunkFlow"),!0),k(0),e.consume(I);return}return D(I)?(e.consume(I),S(e.exit("chunkFlow")),r=0,n.interrupt=void 0,s):(e.consume(I),b)}function S(I,B){const O=n.sliceStream(I);if(B&&O.push(null),I.previous=a,a&&(a.next=I),a=I,o.defineSkip(I.start),o.write(O),n.parser.lazy[I.start.line]){let E=o.events.length;for(;E--;)if(o.events[E][1].start.offset<l&&(!o.events[E][1].end||o.events[E][1].end.offset>l))return;const N=n.events.length;let H=N,$,w;for(;H--;)if(n.events[H][0]==="exit"&&n.events[H][1].type==="chunkFlow"){if($){w=n.events[H][1].end;break}$=!0}for(k(r),E=N;E<n.events.length;)n.events[E][1].end={...w},E++;ce(n.events,H+1,0,n.events.slice(N)),n.events.length=E}}function k(I){let B=t.length;for(;B-- >I;){const O=t[B];n.containerState=O[1],O[0].exit.call(n,e)}t.length=I}function _(){o.write([null]),a=void 0,o=void 0,n.containerState._closeFlow=void 0}}i(To,"initializeDocument");function vo(e,n,t){return W(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}i(vo,"tokenizeContainer");function Be(e){if(e===null||G(e)||je(e))return 1;if(gt(e))return 2}i(Be,"classifyCharacter");function xt(e,n,t){const r=[];let o=-1;for(;++o<e.length;){const a=e[o].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}i(xt,"resolveAll");const Vt={name:"attention",resolveAll:Ao,tokenize:zo};function Ao(e,n){let t=-1,r,o,a,l,s,c,u,p;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const f={...e[r][1].end},d={...e[t][1].start};Dn(f,-c),Dn(d,c),l={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:c>1?"strongSequence":"emphasisSequence",start:{...e[t][1].start},end:d},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[t][1].start}},o={type:c>1?"strong":"emphasis",start:{...l.start},end:{...s.end}},e[r][1].end={...l.start},e[t][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=pe(u,[["enter",e[r][1],n],["exit",e[r][1],n]])),u=pe(u,[["enter",o,n],["enter",l,n],["exit",l,n],["enter",a,n]]),u=pe(u,xt(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),u=pe(u,[["exit",a,n],["enter",s,n],["exit",s,n],["exit",o,n]]),e[t][1].end.offset-e[t][1].start.offset?(p=2,u=pe(u,[["enter",e[t][1],n],["exit",e[t][1],n]])):p=0,ce(e,r-1,t-r+3,u),t=r+u.length-p-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}i(Ao,"resolveAllAttention");function zo(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Be(r);let a;return l;function l(c){return a=c,e.enter("attentionSequence"),s(c)}function s(c){if(c===a)return e.consume(c),s;const u=e.exit("attentionSequence"),p=Be(c),f=!p||p===2&&o||t.includes(c),d=!o||o===2&&p||t.includes(r);return u._open=!!(a===42?f:f&&(o||!d)),u._close=!!(a===42?d:d&&(p||!f)),n(c)}}i(zo,"tokenizeAttention");function Dn(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}i(Dn,"movePoint");const jo={name:"autolink",tokenize:Lo};function Lo(e,n,t){let r=0;return o;function o(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return ie(h)?(e.consume(h),l):h===64?t(h):u(h)}function l(h){return h===43||h===45||h===46||ne(h)?(r=1,s(h)):u(h)}function s(h){return h===58?(e.consume(h),r=0,c):(h===43||h===45||h===46||ne(h))&&r++<32?(e.consume(h),s):(r=0,u(h))}function c(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),n):h===null||h===32||h===60||ct(h)?t(h):(e.consume(h),c)}function u(h){return h===64?(e.consume(h),p):wo(h)?(e.consume(h),u):t(h)}function p(h){return ne(h)?f(h):t(h)}function f(h){return h===46?(e.consume(h),r=0,p):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),n):d(h)}function d(h){if((h===45||ne(h))&&r++<63){const y=h===45?d:f;return e.consume(h),y}return t(h)}}i(Lo,"tokenizeAutolink");const Ze={partial:!0,tokenize:Fo};function Fo(e,n,t){return r;function r(a){return V(a)?W(e,o,"linePrefix")(a):o(a)}function o(a){return a===null||D(a)?n(a):t(a)}}i(Fo,"tokenizeBlankLine");const Lr={continuation:{tokenize:Do},exit:Ro,name:"blockQuote",tokenize:Po};function Po(e,n,t){const r=this;return o;function o(l){if(l===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return t(l)}function a(l){return V(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(l))}}i(Po,"tokenizeBlockQuoteStart");function Do(e,n,t){const r=this;return o;function o(l){return V(l)?W(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(Lr,n,t)(l)}}i(Do,"tokenizeBlockQuoteContinuation");function Ro(e){e.exit("blockQuote")}i(Ro,"exit$1");const Fr={name:"characterEscape",tokenize:Bo};function Bo(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),o}function o(a){return Co(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}i(Bo,"tokenizeCharacterEscape");const Pr={name:"characterReference",tokenize:Oo};function Oo(e,n,t){const r=this;let o=0,a,l;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,l=ne,p(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=So,p):(e.enter("characterReferenceValue"),a=7,l=qt,p(f))}function p(f){if(f===59&&o){const d=e.exit("characterReferenceValue");return l===ne&&!tn(r.sliceSerialize(d))?t(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return l(f)&&o++<a?(e.consume(f),p):t(f)}}i(Oo,"tokenizeCharacterReference");const Rn={partial:!0,tokenize:Mo},Bn={concrete:!0,name:"codeFenced",tokenize:No};function No(e,n,t){const r=this,o={partial:!0,tokenize:O};let a=0,l=0,s;return c;function c(E){return u(E)}function u(E){const N=r.events[r.events.length-1];return a=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,s=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(E)}function p(E){return E===s?(l++,e.consume(E),p):l<3?t(E):(e.exit("codeFencedFenceSequence"),V(E)?W(e,f,"whitespace")(E):f(E))}function f(E){return E===null||D(E)?(e.exit("codeFencedFence"),r.interrupt?n(E):e.check(Rn,b,B)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(E))}function d(E){return E===null||D(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(E)):V(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),W(e,h,"whitespace")(E)):E===96&&E===s?t(E):(e.consume(E),d)}function h(E){return E===null||D(E)?f(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(E))}function y(E){return E===null||D(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(E)):E===96&&E===s?t(E):(e.consume(E),y)}function b(E){return e.attempt(o,B,S)(E)}function S(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),k}function k(E){return a>0&&V(E)?W(e,_,"linePrefix",a+1)(E):_(E)}function _(E){return E===null||D(E)?e.check(Rn,b,B)(E):(e.enter("codeFlowValue"),I(E))}function I(E){return E===null||D(E)?(e.exit("codeFlowValue"),_(E)):(e.consume(E),I)}function B(E){return e.exit("codeFenced"),n(E)}function O(E,N,H){let $=0;return w;function w(A){return E.enter("lineEnding"),E.consume(A),E.exit("lineEnding"),j}function j(A){return E.enter("codeFencedFence"),V(A)?W(E,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):L(A)}function L(A){return A===s?(E.enter("codeFencedFenceSequence"),Q(A)):H(A)}function Q(A){return A===s?($++,E.consume(A),Q):$>=l?(E.exit("codeFencedFenceSequence"),V(A)?W(E,P,"whitespace")(A):P(A)):H(A)}function P(A){return A===null||D(A)?(E.exit("codeFencedFence"),N(A)):H(A)}}}i(No,"tokenizeCodeFenced");function Mo(e,n,t){const r=this;return o;function o(l){return l===null?t(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?t(l):n(l)}}i(Mo,"tokenizeNonLazyContinuation");const _t={name:"codeIndented",tokenize:Ho},$o={partial:!0,tokenize:qo};function Ho(e,n,t){const r=this;return o;function o(u){return e.enter("codeIndented"),W(e,a,"linePrefix",5)(u)}function a(u){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(u):t(u)}function l(u){return u===null?c(u):D(u)?e.attempt($o,l,c)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||D(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),s)}function c(u){return e.exit("codeIndented"),n(u)}}i(Ho,"tokenizeCodeIndented");function qo(e,n,t){const r=this;return o;function o(l){return r.parser.lazy[r.now().line]?t(l):D(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):W(e,a,"linePrefix",5)(l)}function a(l){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?n(l):D(l)?o(l):t(l)}}i(qo,"tokenizeFurtherStart");const Vo={name:"codeText",previous:Uo,resolve:Wo,tokenize:Qo};function Wo(e){let n=e.length-4,t=3,r,o;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)o===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(o=r):(r===n||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),n-=r-o-2,r=o+2),o=void 0);return e}i(Wo,"resolveCodeText");function Uo(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}i(Uo,"previous$1");function Qo(e,n,t){let r=0,o,a;return l;function l(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?t(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(a=e.enter("codeTextSequence"),o=0,p(f)):D(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||D(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function p(f){return f===96?(e.consume(f),o++,p):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(f)):(a.type="codeTextData",u(f))}}i(Qo,"tokenizeCodeText");const yn=class yn{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(n,r):n>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(n,t,r){const o=t||0;this.setCursor(Math.trunc(n));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Ue(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Ue(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Ue(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const t=this.left.splice(n,Number.POSITIVE_INFINITY);Ue(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Ue(this.left,t.reverse())}}};i(yn,"SpliceBuffer");let Wt=yn;function Ue(e,n){let t=0;if(n.length<1e4)e.push(...n);else for(;t<n.length;)e.push(...n.slice(t,t+1e4)),t+=1e4}i(Ue,"chunkedPush");function Dr(e){const n={};let t=-1,r,o,a,l,s,c,u;const p=new Wt(e);for(;++t<p.length;){for(;t in n;)t=n[t];if(r=p.get(t),t&&r[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Yo(p,t)),t=n[t],u=!0);else if(r[1]._container){for(a=t,o=void 0;a--;)if(l=p.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(p.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(r[1].end={...p.get(o)[1].start},s=p.slice(o,t),s.unshift(r),p.splice(o,t-o+1,s))}}return ce(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!u}i(Dr,"subtokenize");function Yo(e,n){const t=e.get(n)[1],r=e.get(n)[2];let o=n-1;const a=[];let l=t._tokenizer;l||(l=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const s=l.events,c=[],u={};let p,f,d=-1,h=t,y=0,b=0;const S=[b];for(;h;){for(;e.get(++o)[1]!==h;);a.push(o),h._tokenizer||(p=r.sliceStream(h),h.next||p.push(null),f&&l.defineSkip(h.start),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),h._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=t;++d<s.length;)s[d][0]==="exit"&&s[d-1][0]==="enter"&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(b=d+1,S.push(b),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(l.events=[],h?(h._tokenizer=void 0,h.previous=void 0):S.pop(),d=S.length;d--;){const k=s.slice(S[d],S[d+1]),_=a.pop();c.push([_,_+k.length-1]),e.splice(_,2,k)}for(c.reverse(),d=-1;++d<c.length;)u[y+c[d][0]]=y+c[d][1],y+=c[d][1]-c[d][0]-1;return u}i(Yo,"subcontent");const Go={resolve:Jo,tokenize:Ko},Xo={partial:!0,tokenize:Zo};function Jo(e){return Dr(e),e}i(Jo,"resolveContent");function Ko(e,n){let t;return r;function r(s){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),o(s)}function o(s){return s===null?a(s):D(s)?e.check(Xo,l,a)(s):(e.consume(s),o)}function a(s){return e.exit("chunkContent"),e.exit("content"),n(s)}function l(s){return e.consume(s),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,o}}i(Ko,"tokenizeContent");function Zo(e,n,t){const r=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),W(e,a,"linePrefix")}function a(l){if(l===null||D(l))return t(l);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?n(l):e.interrupt(r.parser.constructs.flow,t,n)(l)}}i(Zo,"tokenizeContinuation");function Rr(e,n,t,r,o,a,l,s,c){const u=c||Number.POSITIVE_INFINITY;let p=0;return f;function f(k){return k===60?(e.enter(r),e.enter(o),e.enter(a),e.consume(k),e.exit(a),d):k===null||k===32||k===41||ct(k)?t(k):(e.enter(r),e.enter(l),e.enter(s),e.enter("chunkString",{contentType:"string"}),b(k))}function d(k){return k===62?(e.enter(a),e.consume(k),e.exit(a),e.exit(o),e.exit(r),n):(e.enter(s),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===62?(e.exit("chunkString"),e.exit(s),d(k)):k===null||k===60||D(k)?t(k):(e.consume(k),k===92?y:h)}function y(k){return k===60||k===62||k===92?(e.consume(k),h):h(k)}function b(k){return!p&&(k===null||k===41||G(k))?(e.exit("chunkString"),e.exit(s),e.exit(l),e.exit(r),n(k)):p<u&&k===40?(e.consume(k),p++,b):k===41?(e.consume(k),p--,b):k===null||k===32||k===40||ct(k)?t(k):(e.consume(k),k===92?S:b)}function S(k){return k===40||k===41||k===92?(e.consume(k),b):b(k)}}i(Rr,"factoryDestination");function Br(e,n,t,r,o,a){const l=this;let s=0,c;return u;function u(h){return e.enter(r),e.enter(o),e.consume(h),e.exit(o),e.enter(a),p}function p(h){return s>999||h===null||h===91||h===93&&!c||h===94&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?t(h):h===93?(e.exit(a),e.enter(o),e.consume(h),e.exit(o),e.exit(r),n):D(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||D(h)||s++>999?(e.exit("chunkString"),p(h)):(e.consume(h),c||(c=!V(h)),h===92?d:f)}function d(h){return h===91||h===92||h===93?(e.consume(h),s++,f):f(h)}}i(Br,"factoryLabel");function Or(e,n,t,r,o,a){let l;return s;function s(d){return d===34||d===39||d===40?(e.enter(r),e.enter(o),e.consume(d),e.exit(o),l=d===40?41:d,c):t(d)}function c(d){return d===l?(e.enter(o),e.consume(d),e.exit(o),e.exit(r),n):(e.enter(a),u(d))}function u(d){return d===l?(e.exit(a),c(l)):d===null?t(d):D(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),W(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(d))}function p(d){return d===l||d===null||D(d)?(e.exit("chunkString"),u(d)):(e.consume(d),d===92?f:p)}function f(d){return d===l||d===92?(e.consume(d),p):p(d)}}i(Or,"factoryTitle");function Ge(e,n){let t;return r;function r(o){return D(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t=!0,r):V(o)?W(e,r,t?"linePrefix":"lineSuffix")(o):n(o)}}i(Ge,"factoryWhitespace");const el={name:"definition",tokenize:nl},tl={partial:!0,tokenize:rl};function nl(e,n,t){const r=this;let o;return a;function a(h){return e.enter("definition"),l(h)}function l(h){return Br.call(r,e,s,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function s(h){return o=ge(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),c):t(h)}function c(h){return G(h)?Ge(e,u)(h):u(h)}function u(h){return Rr(e,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function p(h){return e.attempt(tl,f,f)(h)}function f(h){return V(h)?W(e,d,"whitespace")(h):d(h)}function d(h){return h===null||D(h)?(e.exit("definition"),r.parser.defined.push(o),n(h)):t(h)}}i(nl,"tokenizeDefinition");function rl(e,n,t){return r;function r(s){return G(s)?Ge(e,o)(s):t(s)}function o(s){return Or(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return V(s)?W(e,l,"whitespace")(s):l(s)}function l(s){return s===null||D(s)?n(s):t(s)}}i(rl,"tokenizeTitleBefore");const il={name:"hardBreakEscape",tokenize:ol};function ol(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),o}function o(a){return D(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}i(ol,"tokenizeHardBreakEscape");const ll={name:"headingAtx",resolve:al,tokenize:sl};function al(e,n){let t=e.length-2,r=3,o,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},ce(e,r,t-r+1,[["enter",o,n],["enter",a,n],["exit",a,n],["exit",o,n]])),e}i(al,"resolveHeadingAtx");function sl(e,n,t){let r=0;return o;function o(p){return e.enter("atxHeading"),a(p)}function a(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||G(p)?(e.exit("atxHeadingSequence"),s(p)):t(p)}function s(p){return p===35?(e.enter("atxHeadingSequence"),c(p)):p===null||D(p)?(e.exit("atxHeading"),n(p)):V(p)?W(e,s,"whitespace")(p):(e.enter("atxHeadingText"),u(p))}function c(p){return p===35?(e.consume(p),c):(e.exit("atxHeadingSequence"),s(p))}function u(p){return p===null||p===35||G(p)?(e.exit("atxHeadingText"),s(p)):(e.consume(p),u)}}i(sl,"tokenizeHeadingAtx");const ul=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],On=["pre","script","style","textarea"],cl={concrete:!0,name:"htmlFlow",resolveTo:hl,tokenize:dl},fl={partial:!0,tokenize:gl},pl={partial:!0,tokenize:ml};function hl(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}i(hl,"resolveToHtmlFlow");function dl(e,n,t){const r=this;let o,a,l,s,c;return u;function u(g){return p(g)}function p(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),f}function f(g){return g===33?(e.consume(g),d):g===47?(e.consume(g),a=!0,b):g===63?(e.consume(g),o=3,r.interrupt?n:m):ie(g)?(e.consume(g),l=String.fromCharCode(g),S):t(g)}function d(g){return g===45?(e.consume(g),o=2,h):g===91?(e.consume(g),o=5,s=0,y):ie(g)?(e.consume(g),o=4,r.interrupt?n:m):t(g)}function h(g){return g===45?(e.consume(g),r.interrupt?n:m):t(g)}function y(g){const se="CDATA[";return g===se.charCodeAt(s++)?(e.consume(g),s===se.length?r.interrupt?n:L:y):t(g)}function b(g){return ie(g)?(e.consume(g),l=String.fromCharCode(g),S):t(g)}function S(g){if(g===null||g===47||g===62||G(g)){const se=g===47,de=l.toLowerCase();return!se&&!a&&On.includes(de)?(o=1,r.interrupt?n(g):L(g)):ul.includes(l.toLowerCase())?(o=6,se?(e.consume(g),k):r.interrupt?n(g):L(g)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(g):a?_(g):I(g))}return g===45||ne(g)?(e.consume(g),l+=String.fromCharCode(g),S):t(g)}function k(g){return g===62?(e.consume(g),r.interrupt?n:L):t(g)}function _(g){return V(g)?(e.consume(g),_):w(g)}function I(g){return g===47?(e.consume(g),w):g===58||g===95||ie(g)?(e.consume(g),B):V(g)?(e.consume(g),I):w(g)}function B(g){return g===45||g===46||g===58||g===95||ne(g)?(e.consume(g),B):O(g)}function O(g){return g===61?(e.consume(g),E):V(g)?(e.consume(g),O):I(g)}function E(g){return g===null||g===60||g===61||g===62||g===96?t(g):g===34||g===39?(e.consume(g),c=g,N):V(g)?(e.consume(g),E):H(g)}function N(g){return g===c?(e.consume(g),c=null,$):g===null||D(g)?t(g):(e.consume(g),N)}function H(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||G(g)?O(g):(e.consume(g),H)}function $(g){return g===47||g===62||V(g)?I(g):t(g)}function w(g){return g===62?(e.consume(g),j):t(g)}function j(g){return g===null||D(g)?L(g):V(g)?(e.consume(g),j):t(g)}function L(g){return g===45&&o===2?(e.consume(g),U):g===60&&o===1?(e.consume(g),J):g===62&&o===4?(e.consume(g),le):g===63&&o===3?(e.consume(g),m):g===93&&o===5?(e.consume(g),fe):D(g)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(fl,ae,Q)(g)):g===null||D(g)?(e.exit("htmlFlowData"),Q(g)):(e.consume(g),L)}function Q(g){return e.check(pl,P,ae)(g)}function P(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),A}function A(g){return g===null||D(g)?Q(g):(e.enter("htmlFlowData"),L(g))}function U(g){return g===45?(e.consume(g),m):L(g)}function J(g){return g===47?(e.consume(g),l="",re):L(g)}function re(g){if(g===62){const se=l.toLowerCase();return On.includes(se)?(e.consume(g),le):L(g)}return ie(g)&&l.length<8?(e.consume(g),l+=String.fromCharCode(g),re):L(g)}function fe(g){return g===93?(e.consume(g),m):L(g)}function m(g){return g===62?(e.consume(g),le):g===45&&o===2?(e.consume(g),m):L(g)}function le(g){return g===null||D(g)?(e.exit("htmlFlowData"),ae(g)):(e.consume(g),le)}function ae(g){return e.exit("htmlFlow"),n(g)}}i(dl,"tokenizeHtmlFlow");function ml(e,n,t){const r=this;return o;function o(l){return D(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):t(l)}function a(l){return r.parser.lazy[r.now().line]?t(l):n(l)}}i(ml,"tokenizeNonLazyContinuationStart");function gl(e,n,t){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Ze,n,t)}}i(gl,"tokenizeBlankLineBefore");const xl={name:"htmlText",tokenize:yl};function yl(e,n,t){const r=this;let o,a,l;return s;function s(m){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(m),c}function c(m){return m===33?(e.consume(m),u):m===47?(e.consume(m),O):m===63?(e.consume(m),I):ie(m)?(e.consume(m),H):t(m)}function u(m){return m===45?(e.consume(m),p):m===91?(e.consume(m),a=0,y):ie(m)?(e.consume(m),_):t(m)}function p(m){return m===45?(e.consume(m),h):t(m)}function f(m){return m===null?t(m):m===45?(e.consume(m),d):D(m)?(l=f,J(m)):(e.consume(m),f)}function d(m){return m===45?(e.consume(m),h):f(m)}function h(m){return m===62?U(m):m===45?d(m):f(m)}function y(m){const le="CDATA[";return m===le.charCodeAt(a++)?(e.consume(m),a===le.length?b:y):t(m)}function b(m){return m===null?t(m):m===93?(e.consume(m),S):D(m)?(l=b,J(m)):(e.consume(m),b)}function S(m){return m===93?(e.consume(m),k):b(m)}function k(m){return m===62?U(m):m===93?(e.consume(m),k):b(m)}function _(m){return m===null||m===62?U(m):D(m)?(l=_,J(m)):(e.consume(m),_)}function I(m){return m===null?t(m):m===63?(e.consume(m),B):D(m)?(l=I,J(m)):(e.consume(m),I)}function B(m){return m===62?U(m):I(m)}function O(m){return ie(m)?(e.consume(m),E):t(m)}function E(m){return m===45||ne(m)?(e.consume(m),E):N(m)}function N(m){return D(m)?(l=N,J(m)):V(m)?(e.consume(m),N):U(m)}function H(m){return m===45||ne(m)?(e.consume(m),H):m===47||m===62||G(m)?$(m):t(m)}function $(m){return m===47?(e.consume(m),U):m===58||m===95||ie(m)?(e.consume(m),w):D(m)?(l=$,J(m)):V(m)?(e.consume(m),$):U(m)}function w(m){return m===45||m===46||m===58||m===95||ne(m)?(e.consume(m),w):j(m)}function j(m){return m===61?(e.consume(m),L):D(m)?(l=j,J(m)):V(m)?(e.consume(m),j):$(m)}function L(m){return m===null||m===60||m===61||m===62||m===96?t(m):m===34||m===39?(e.consume(m),o=m,Q):D(m)?(l=L,J(m)):V(m)?(e.consume(m),L):(e.consume(m),P)}function Q(m){return m===o?(e.consume(m),o=void 0,A):m===null?t(m):D(m)?(l=Q,J(m)):(e.consume(m),Q)}function P(m){return m===null||m===34||m===39||m===60||m===61||m===96?t(m):m===47||m===62||G(m)?$(m):(e.consume(m),P)}function A(m){return m===47||m===62||G(m)?$(m):t(m)}function U(m){return m===62?(e.consume(m),e.exit("htmlTextData"),e.exit("htmlText"),n):t(m)}function J(m){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),re}function re(m){return V(m)?W(e,fe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):fe(m)}function fe(m){return e.enter("htmlTextData"),l(m)}}i(yl,"tokenizeHtmlText");const sn={name:"labelEnd",resolveAll:Sl,resolveTo:Cl,tokenize:El},bl={tokenize:Il},kl={tokenize:_l},wl={tokenize:Tl};function Sl(e){let n=-1;const t=[];for(;++n<e.length;){const r=e[n][1];if(t.push(e[n]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",n+=o}}return e.length!==t.length&&ce(e,0,e.length,t),e}i(Sl,"resolveAllLabelEnd");function Cl(e,n){let t=e.length,r=0,o,a,l,s;for(;t--;)if(o=e[t][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[t][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[t][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=t,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=t);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[l-2][1].start}};return s=[["enter",c,n],["enter",u,n]],s=pe(s,e.slice(a+1,a+r+3)),s=pe(s,[["enter",p,n]]),s=pe(s,xt(n.parser.constructs.insideSpan.null,e.slice(a+r+4,l-3),n)),s=pe(s,[["exit",p,n],e[l-2],e[l-1],["exit",u,n]]),s=pe(s,e.slice(l+1)),s=pe(s,[["exit",c,n]]),ce(e,a,e.length,s),e}i(Cl,"resolveToLabelEnd");function El(e,n,t){const r=this;let o=r.events.length,a,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){a=r.events[o][1];break}return s;function s(d){return a?a._inactive?f(d):(l=r.parser.defined.includes(ge(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),c):t(d)}function c(d){return d===40?e.attempt(bl,p,l?p:f)(d):d===91?e.attempt(kl,p,l?u:f)(d):l?p(d):f(d)}function u(d){return e.attempt(wl,p,f)(d)}function p(d){return n(d)}function f(d){return a._balanced=!0,t(d)}}i(El,"tokenizeLabelEnd");function Il(e,n,t){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),o}function o(f){return G(f)?Ge(e,a)(f):a(f)}function a(f){return f===41?p(f):Rr(e,l,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function l(f){return G(f)?Ge(e,c)(f):p(f)}function s(f){return t(f)}function c(f){return f===34||f===39||f===40?Or(e,u,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):p(f)}function u(f){return G(f)?Ge(e,p)(f):p(f)}function p(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),n):t(f)}}i(Il,"tokenizeResource");function _l(e,n,t){const r=this;return o;function o(s){return Br.call(r,e,a,l,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(ge(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(s):t(s)}function l(s){return t(s)}}i(_l,"tokenizeReferenceFull");function Tl(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),o}function o(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}i(Tl,"tokenizeReferenceCollapsed");const vl={name:"labelStartImage",resolveAll:sn.resolveAll,tokenize:Al};function Al(e,n,t){const r=this;return o;function o(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),l):t(s)}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}i(Al,"tokenizeLabelStartImage");const zl={name:"labelStartLink",resolveAll:sn.resolveAll,tokenize:jl};function jl(e,n,t){const r=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}i(jl,"tokenizeLabelStartLink");const Tt={name:"lineEnding",tokenize:Ll};function Ll(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),W(e,n,"linePrefix")}}i(Ll,"tokenizeLineEnding");const ut={name:"thematicBreak",tokenize:Fl};function Fl(e,n,t){let r=0,o;return a;function a(u){return e.enter("thematicBreak"),l(u)}function l(u){return o=u,s(u)}function s(u){return u===o?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||D(u))?(e.exit("thematicBreak"),n(u)):t(u)}function c(u){return u===o?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),V(u)?W(e,s,"whitespace")(u):s(u))}}i(Fl,"tokenizeThematicBreak");const oe={continuation:{tokenize:Bl},exit:Nl,name:"list",tokenize:Rl},Pl={partial:!0,tokenize:Ml},Dl={partial:!0,tokenize:Ol};function Rl(e,n,t){const r=this,o=r.events[r.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return s;function s(h){const y=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:qt(h)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(ut,t,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(h)}return t(h)}function c(h){return qt(h)&&++l<10?(e.consume(h),c):(!r.interrupt||l<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):t(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Ze,r.interrupt?t:p,e.attempt(Pl,d,f))}function p(h){return r.containerState.initialBlankLine=!0,a++,d(h)}function f(h){return V(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),d):t(h)}function d(h){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(h)}}i(Rl,"tokenizeListStart");function Bl(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Ze,o,a);function o(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,W(e,n,"listItemIndent",r.containerState.size+1)(s)}i(o,"onBlank");function a(s){return r.containerState.furtherBlankLines||!V(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Dl,n,l)(s))}i(a,"notBlank");function l(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,W(e,e.attempt(oe,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}i(l,"notInCurrentItem")}i(Bl,"tokenizeListContinuation");function Ol(e,n,t){const r=this;return W(e,o,"listItemIndent",r.containerState.size+1);function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?n(a):t(a)}}i(Ol,"tokenizeIndent$1");function Nl(e){e.exit(this.containerState.type)}i(Nl,"tokenizeListEnd");function Ml(e,n,t){const r=this;return W(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const l=r.events[r.events.length-1];return!V(a)&&l&&l[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}i(Ml,"tokenizeListItemPrefixWhitespace");const Nn={name:"setextUnderline",resolveTo:$l,tokenize:Hl};function $l(e,n){let t=e.length,r,o,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(o=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",a?(e.splice(o,0,["enter",l,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end={...e[a][1].end}):e[r][1]=l,e.push(["exit",l,n]),e}i($l,"resolveToSetextUnderline");function Hl(e,n,t){const r=this;let o;return a;function a(u){let p=r.events.length,f;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){f=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),o=u,l(u)):t(u)}function l(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===o?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),V(u)?W(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||D(u)?(e.exit("setextHeadingLine"),n(u)):t(u)}}i(Hl,"tokenizeSetextUnderline");const ql={tokenize:Vl};function Vl(e){const n=this,t=e.attempt(Ze,r,e.attempt(this.parser.constructs.flowInitial,o,W(e,e.attempt(this.parser.constructs.flow,o,e.attempt(Go,o)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function o(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}i(Vl,"initializeFlow");const Wl={resolveAll:Mr()},Ul=Nr("string"),Ql=Nr("text");function Nr(e){return{resolveAll:Mr(e==="text"?Yl:void 0),tokenize:n};function n(t){const r=this,o=this.parser.constructs[e],a=t.attempt(o,l,s);return l;function l(p){return u(p)?a(p):s(p)}function s(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),c}function c(p){return u(p)?(t.exit("data"),a(p)):(t.consume(p),c)}function u(p){if(p===null)return!0;const f=o[p];let d=-1;if(f)for(;++d<f.length;){const h=f[d];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}i(Nr,"initializeFactory");function Mr(e){return n;function n(t,r){let o=-1,a;for(;++o<=t.length;)a===void 0?t[o]&&t[o][1].type==="data"&&(a=o,o++):(!t[o]||t[o][1].type!=="data")&&(o!==a+2&&(t[a][1].end=t[o-1][1].end,t.splice(a+2,o-a-2),o=a+2),a=void 0);return e?e(t,r):t}}i(Mr,"createResolver");function Yl(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],o=n.sliceStream(r);let a=o.length,l=-1,s=0,c;for(;a--;){const u=o[a];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)s++,l--;if(l)break;l=-1}else if(u===-2)c=!0,s++;else if(u!==-1){a++;break}}if(n._contentTypeTextTrailing&&t===e.length&&(s=0),s){const u={type:t===e.length||c||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(t,0,["enter",u,n],["exit",u,n]),t+=2)}t++}return e}i(Yl,"resolveAllLineSuffixes");const Gl={42:oe,43:oe,45:oe,48:oe,49:oe,50:oe,51:oe,52:oe,53:oe,54:oe,55:oe,56:oe,57:oe,62:Lr},Xl={91:el},Jl={[-2]:_t,[-1]:_t,32:_t},Kl={35:ll,42:ut,45:[Nn,ut],60:cl,61:Nn,95:ut,96:Bn,126:Bn},Zl={38:Pr,92:Fr},ea={[-5]:Tt,[-4]:Tt,[-3]:Tt,33:vl,38:Pr,42:Vt,60:[jo,xl],91:zl,92:[il,Fr],93:sn,95:Vt,96:Vo},ta={null:[Vt,Wl]},na={null:[42,95]},ra={null:[]},ia=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:na,contentInitial:Xl,disable:ra,document:Gl,flow:Kl,flowInitial:Jl,insideSpan:ta,string:Zl,text:ea},Symbol.toStringTag,{value:"Module"}));function oa(e,n,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const o={},a=[];let l=[],s=[];const c={attempt:N(O),check:N(E),consume:_,enter:I,exit:B,interrupt:N(E,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:y,parser:e,previous:null,sliceSerialize:d,sliceStream:h,write:f};let p=n.tokenize.call(u,c);return n.resolveAll&&a.push(n),u;function f(j){return l=pe(l,j),S(),l[l.length-1]!==null?[]:(H(n,0),u.events=xt(a,u.events,u),u.events)}i(f,"write");function d(j,L){return aa(h(j),L)}i(d,"sliceSerialize");function h(j){return la(l,j)}i(h,"sliceStream");function y(){const{_bufferIndex:j,_index:L,line:Q,column:P,offset:A}=r;return{_bufferIndex:j,_index:L,line:Q,column:P,offset:A}}i(y,"now");function b(j){o[j.line]=j.column,w()}i(b,"defineSkip");function S(){let j;for(;r._index<l.length;){const L=l[r._index];if(typeof L=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<L.length;)k(L.charCodeAt(r._bufferIndex));else k(L)}}i(S,"main");function k(j){p=p(j)}i(k,"go");function _(j){D(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,w()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=j}i(_,"consume");function I(j,L){const Q=L||{};return Q.type=j,Q.start=y(),u.events.push(["enter",Q,u]),s.push(Q),Q}i(I,"enter");function B(j){const L=s.pop();return L.end=y(),u.events.push(["exit",L,u]),L}i(B,"exit");function O(j,L){H(j,L.from)}i(O,"onsuccessfulconstruct");function E(j,L){L.restore()}i(E,"onsuccessfulcheck");function N(j,L){return Q;function Q(P,A,U){let J,re,fe,m;return Array.isArray(P)?ae(P):"tokenize"in P?ae([P]):le(P);function le(Z){return Te;function Te(te){const Ce=te!==null&&Z[te],Ee=te!==null&&Z.null,Le=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return ae(Le)(te)}}function ae(Z){return J=Z,re=0,Z.length===0?U:g(Z[re])}function g(Z){return Te;function Te(te){return m=$(),fe=Z,Z.partial||(u.currentConstruct=Z),Z.name&&u.parser.constructs.disable.null.includes(Z.name)?de():Z.tokenize.call(L?Object.assign(Object.create(u),L):u,c,se,de)(te)}}function se(Z){return j(fe,m),A}function de(Z){return m.restore(),++re<J.length?g(J[re]):U}}}i(N,"constructFactory");function H(j,L){j.resolveAll&&!a.includes(j)&&a.push(j),j.resolve&&ce(u.events,L,u.events.length-L,j.resolve(u.events.slice(L),u)),j.resolveTo&&(u.events=j.resolveTo(u.events,u))}i(H,"addResult");function $(){const j=y(),L=u.previous,Q=u.currentConstruct,P=u.events.length,A=Array.from(s);return{from:P,restore:U};function U(){r=j,u.previous=L,u.currentConstruct=Q,u.events.length=P,s=A,w()}}i($,"store");function w(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}i(w,"accountForPotentialSkip")}i(oa,"createTokenizer");function la(e,n){const t=n.start._index,r=n.start._bufferIndex,o=n.end._index,a=n.end._bufferIndex;let l;if(t===o)l=[e[t].slice(r,a)];else{if(l=e.slice(t,o),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):l.shift()}a>0&&l.push(e[o].slice(0,a))}return l}i(la,"sliceChunks");function aa(e,n){let t=-1;const r=[];let o;for(;++t<e.length;){const a=e[t];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=n?" ":"	";break}case-1:{if(!n&&o)continue;l=" ";break}default:l=String.fromCharCode(a)}o=a===-2,r.push(l)}return r.join("")}i(aa,"serializeChunks");function sa(e){const r={constructs:zr([ia,...(e||{}).extensions||[]]),content:o(Eo),defined:[],document:o(_o),flow:o(ql),lazy:{},string:o(Ul),text:o(Ql)};return r;function o(a){return l;function l(s){return oa(r,a,s)}}}i(sa,"parse");function ua(e){for(;!Dr(e););return e}i(ua,"postprocess");const Mn=/[\0\t\n\r]/g;function ca(){let e=1,n="",t=!0,r;return o;function o(a,l,s){const c=[];let u,p,f,d,h;for(a=n+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),f=0,n="",t&&(a.charCodeAt(0)===65279&&f++,t=void 0);f<a.length;){if(Mn.lastIndex=f,u=Mn.exec(a),d=u&&u.index!==void 0?u.index:a.length,h=a.charCodeAt(d),!u){n=a.slice(f);break}if(h===10&&f===d&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<d&&(c.push(a.slice(f,d)),e+=d-f),h){case 0:{c.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,c.push(-2);e++<p;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=d+1}return s&&(r&&c.push(-5),n&&c.push(n),c.push(null)),c}}i(ca,"preprocess");const fa=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function pa(e){return e.replace(fa,ha)}i(pa,"decodeString");function ha(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const o=t.charCodeAt(1),a=o===120||o===88;return jr(t.slice(a?2:1),a?16:10)}return tn(t)||e}i(ha,"decode");const $r={}.hasOwnProperty;function da(e,n,t){return typeof n!="string"&&(t=n,n=void 0),ma(t)(ua(sa(t).document().write(ca()(e,n,!0))))}i(da,"fromMarkdown");function ma(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a($e),autolinkProtocol:$,autolinkEmail:$,atxHeading:a(Me),blockQuote:a(Ee),characterEscape:$,characterReference:$,codeFenced:a(Le),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Le,l),codeText:a(tt,l),codeTextData:$,data:$,codeFlowValue:$,definition:a(Ne),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(ve),hardBreakEscape:a(nt),hardBreakTrailing:a(nt),htmlFlow:a(rt,l),htmlFlowData:$,htmlText:a(rt,l),htmlTextData:$,image:a(wt),label:l,link:a($e),listItem:a(St),listItemValue:d,listOrdered:a(it,f),listUnordered:a(it),paragraph:a(Ct),reference:g,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Me),strong:a(v),thematicBreak:a(K)},exit:{atxHeading:c(),atxHeadingSequence:O,autolink:c(),autolinkEmail:Ce,autolinkProtocol:te,blockQuote:c(),characterEscapeValue:w,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:Z,characterReference:Te,codeFenced:c(S),codeFencedFence:b,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:w,codeIndented:c(k),codeText:c(A),codeTextData:w,data:w,definition:c(),definitionDestinationString:B,definitionLabelString:_,definitionTitleString:I,emphasis:c(),hardBreakEscape:c(L),hardBreakTrailing:c(L),htmlFlow:c(Q),htmlFlowData:w,htmlText:c(P),htmlTextData:w,image:c(J),label:fe,labelText:re,lineEnding:j,link:c(U),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:se,resourceDestinationString:m,resourceTitleString:le,resource:ae,setextHeading:c(H),setextHeadingLineSequence:N,setextHeadingText:E,strong:c(),thematicBreak:c()}};Hr(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(C){let T={type:"root",children:[]};const R={stack:[T],tokenStack:[],config:n,enter:s,exit:u,buffer:l,resume:p,data:t},q=[];let Y=-1;for(;++Y<C.length;)if(C[Y][1].type==="listOrdered"||C[Y][1].type==="listUnordered")if(C[Y][0]==="enter")q.push(Y);else{const me=q.pop();Y=o(C,me,Y)}for(Y=-1;++Y<C.length;){const me=n[C[Y][0]];$r.call(me,C[Y][1].type)&&me[C[Y][1].type].call(Object.assign({sliceSerialize:C[Y][2].sliceSerialize},R),C[Y][1])}if(R.tokenStack.length>0){const me=R.tokenStack[R.tokenStack.length-1];(me[1]||$n).call(R,void 0,me[0])}for(T.position={start:Ie(C.length>0?C[0][1].start:{line:1,column:1,offset:0}),end:Ie(C.length>0?C[C.length-2][1].end:{line:1,column:1,offset:0})},Y=-1;++Y<n.transforms.length;)T=n.transforms[Y](T)||T;return T}function o(C,T,R){let q=T-1,Y=-1,me=!1,Ae,be,He,qe;for(;++q<=R;){const ue=C[q];switch(ue[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ue[0]==="enter"?Y++:Y--,qe=void 0;break}case"lineEndingBlank":{ue[0]==="enter"&&(Ae&&!qe&&!Y&&!He&&(He=q),qe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:qe=void 0}if(!Y&&ue[0]==="enter"&&ue[1].type==="listItemPrefix"||Y===-1&&ue[0]==="exit"&&(ue[1].type==="listUnordered"||ue[1].type==="listOrdered")){if(Ae){let Fe=q;for(be=void 0;Fe--;){const ke=C[Fe];if(ke[1].type==="lineEnding"||ke[1].type==="lineEndingBlank"){if(ke[0]==="exit")continue;be&&(C[be][1].type="lineEndingBlank",me=!0),ke[1].type="lineEnding",be=Fe}else if(!(ke[1].type==="linePrefix"||ke[1].type==="blockQuotePrefix"||ke[1].type==="blockQuotePrefixWhitespace"||ke[1].type==="blockQuoteMarker"||ke[1].type==="listItemIndent"))break}He&&(!be||He<be)&&(Ae._spread=!0),Ae.end=Object.assign({},be?C[be][1].start:ue[1].end),C.splice(be||q,0,["exit",Ae,ue[2]]),q++,R++}if(ue[1].type==="listItemPrefix"){const Fe={type:"listItem",_spread:!1,start:Object.assign({},ue[1].start),end:void 0};Ae=Fe,C.splice(q,0,["enter",Fe,ue[2]]),q++,R++,He=void 0,qe=!0}}}return C[T][1]._spread=me,R}function a(C,T){return R;function R(q){s.call(this,C(q),q),T&&T.call(this,q)}}function l(){this.stack.push({type:"fragment",children:[]})}function s(C,T,R){this.stack[this.stack.length-1].children.push(C),this.stack.push(C),this.tokenStack.push([T,R||void 0]),C.position={start:Ie(T.start),end:void 0}}function c(C){return T;function T(R){C&&C.call(this,R),u.call(this,R)}}function u(C,T){const R=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==C.type&&(T?T.call(this,C,q[0]):(q[1]||$n).call(this,C,q[0]));else throw new Error("Cannot close `"+C.type+"` ("+Ye({start:C.start,end:C.end})+"): it’s not open");R.position.end=Ie(C.end)}function p(){return an(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(C){if(this.data.expectingFirstListItemValue){const T=this.stack[this.stack.length-2];T.start=Number.parseInt(this.sliceSerialize(C),10),this.data.expectingFirstListItemValue=void 0}}function h(){const C=this.resume(),T=this.stack[this.stack.length-1];T.lang=C}function y(){const C=this.resume(),T=this.stack[this.stack.length-1];T.meta=C}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const C=this.resume(),T=this.stack[this.stack.length-1];T.value=C.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const C=this.resume(),T=this.stack[this.stack.length-1];T.value=C.replace(/(\r?\n|\r)$/g,"")}function _(C){const T=this.resume(),R=this.stack[this.stack.length-1];R.label=T,R.identifier=ge(this.sliceSerialize(C)).toLowerCase()}function I(){const C=this.resume(),T=this.stack[this.stack.length-1];T.title=C}function B(){const C=this.resume(),T=this.stack[this.stack.length-1];T.url=C}function O(C){const T=this.stack[this.stack.length-1];if(!T.depth){const R=this.sliceSerialize(C).length;T.depth=R}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function N(C){const T=this.stack[this.stack.length-1];T.depth=this.sliceSerialize(C).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function $(C){const R=this.stack[this.stack.length-1].children;let q=R[R.length-1];(!q||q.type!=="text")&&(q=M(),q.position={start:Ie(C.start),end:void 0},R.push(q)),this.stack.push(q)}function w(C){const T=this.stack.pop();T.value+=this.sliceSerialize(C),T.position.end=Ie(C.end)}function j(C){const T=this.stack[this.stack.length-1];if(this.data.atHardBreak){const R=T.children[T.children.length-1];R.position.end=Ie(C.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(T.type)&&($.call(this,C),w.call(this,C))}function L(){this.data.atHardBreak=!0}function Q(){const C=this.resume(),T=this.stack[this.stack.length-1];T.value=C}function P(){const C=this.resume(),T=this.stack[this.stack.length-1];T.value=C}function A(){const C=this.resume(),T=this.stack[this.stack.length-1];T.value=C}function U(){const C=this.stack[this.stack.length-1];if(this.data.inReference){const T=this.data.referenceType||"shortcut";C.type+="Reference",C.referenceType=T,delete C.url,delete C.title}else delete C.identifier,delete C.label;this.data.referenceType=void 0}function J(){const C=this.stack[this.stack.length-1];if(this.data.inReference){const T=this.data.referenceType||"shortcut";C.type+="Reference",C.referenceType=T,delete C.url,delete C.title}else delete C.identifier,delete C.label;this.data.referenceType=void 0}function re(C){const T=this.sliceSerialize(C),R=this.stack[this.stack.length-2];R.label=pa(T),R.identifier=ge(T).toLowerCase()}function fe(){const C=this.stack[this.stack.length-1],T=this.resume(),R=this.stack[this.stack.length-1];if(this.data.inReference=!0,R.type==="link"){const q=C.children;R.children=q}else R.alt=T}function m(){const C=this.resume(),T=this.stack[this.stack.length-1];T.url=C}function le(){const C=this.resume(),T=this.stack[this.stack.length-1];T.title=C}function ae(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function se(C){const T=this.resume(),R=this.stack[this.stack.length-1];R.label=T,R.identifier=ge(this.sliceSerialize(C)).toLowerCase(),this.data.referenceType="full"}function de(C){this.data.characterReferenceType=C.type}function Z(C){const T=this.sliceSerialize(C),R=this.data.characterReferenceType;let q;R?(q=jr(T,R==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=tn(T);const Y=this.stack[this.stack.length-1];Y.value+=q}function Te(C){const T=this.stack.pop();T.position.end=Ie(C.end)}function te(C){w.call(this,C);const T=this.stack[this.stack.length-1];T.url=this.sliceSerialize(C)}function Ce(C){w.call(this,C);const T=this.stack[this.stack.length-1];T.url="mailto:"+this.sliceSerialize(C)}function Ee(){return{type:"blockquote",children:[]}}function Le(){return{type:"code",lang:null,meta:null,value:""}}function tt(){return{type:"inlineCode",value:""}}function Ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ve(){return{type:"emphasis",children:[]}}function Me(){return{type:"heading",depth:0,children:[]}}function nt(){return{type:"break"}}function rt(){return{type:"html",value:""}}function wt(){return{type:"image",title:null,url:"",alt:null}}function $e(){return{type:"link",title:null,url:"",children:[]}}function it(C){return{type:"list",ordered:C.type==="listOrdered",start:null,spread:C._spread,children:[]}}function St(C){return{type:"listItem",spread:C._spread,checked:null,children:[]}}function Ct(){return{type:"paragraph",children:[]}}function v(){return{type:"strong",children:[]}}function M(){return{type:"text",value:""}}function K(){return{type:"thematicBreak"}}}i(ma,"compiler");function Ie(e){return{line:e.line,column:e.column,offset:e.offset}}i(Ie,"point");function Hr(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?Hr(e,r):ga(e,r)}}i(Hr,"configure");function ga(e,n){let t;for(t in n)if($r.call(n,t))switch(t){case"canContainEols":{const r=n[t];r&&e[t].push(...r);break}case"transforms":{const r=n[t];r&&e[t].push(...r);break}case"enter":case"exit":{const r=n[t];r&&Object.assign(e[t],r);break}}}i(ga,"extension");function $n(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+Ye({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+Ye({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+Ye({start:n.start,end:n.end})+") is still open")}i($n,"defaultOnError");function xa(e){const n=this;n.parser=t;function t(r){return da(r,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}i(t,"parser")}i(xa,"remarkParse");function ya(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}i(ya,"blockquote$1");function ba(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}i(ba,"hardBreak$1");function ka(e,n){const t=n.value?n.value+`
`:"",r={},o=n.lang?n.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}i(ka,"code$2");function wa(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}i(wa,"strikethrough");function Sa(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}i(Sa,"emphasis$1");function Ca(e,n){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(n.identifier).toUpperCase(),o=Oe(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let l,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=a+1,s+=1,e.footnoteCounts.set(r,s);const c={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+o,id:t+"fnref-"+o+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(n,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(n,u),e.applyData(n,u)}i(Ca,"footnoteReference$1");function Ea(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}i(Ea,"heading$1");function Ia(e,n){if(e.options.allowDangerousHtml){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}}i(Ia,"html$1");function qr(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+r}];const o=e.all(n),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=r:o.push({type:"text",value:r}),o}i(qr,"revert");function _a(e,n){const t=String(n.identifier).toUpperCase(),r=e.definitionById.get(t);if(!r)return qr(e,n);const o={src:Oe(r.url||""),alt:n.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"img",properties:o,children:[]};return e.patch(n,a),e.applyData(n,a)}i(_a,"imageReference$1");function Ta(e,n){const t={src:Oe(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}i(Ta,"image$1");function va(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}i(va,"inlineCode$1");function Aa(e,n){const t=String(n.identifier).toUpperCase(),r=e.definitionById.get(t);if(!r)return qr(e,n);const o={href:Oe(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"a",properties:o,children:e.all(n)};return e.patch(n,a),e.applyData(n,a)}i(Aa,"linkReference$1");function za(e,n){const t={href:Oe(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}i(za,"link$1");function ja(e,n,t){const r=e.all(n),o=t?La(t):Vr(n),a={},l=[];if(typeof n.checked=="boolean"){const p=r[0];let f;p&&p.type==="element"&&p.tagName==="p"?f=p:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const p=r[s];(o||s!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!o?l.push(...p.children):l.push(p)}const c=r[r.length-1];c&&(o||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:l};return e.patch(n,u),e.applyData(n,u)}i(ja,"listItem$1");function La(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=Vr(t[r])}return n}i(La,"listLoose");function Vr(e){const n=e.spread;return n??e.children.length>1}i(Vr,"listItemLoose");function Fa(e,n){const t={},r=e.all(n);let o=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++o<r.length;){const l=r[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}i(Fa,"list$1");function Pa(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}i(Pa,"paragraph$1");function Da(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}i(Da,"root$1");function Ra(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}i(Ra,"strong$1");function Ba(e,n){const t=e.all(n),r=t.shift(),o=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],l),o.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},s=nn(n.children[1]),c=Cr(n.children[n.children.length-1]);s&&c&&(l.position={start:s,end:c}),o.push(l)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(n,a),e.applyData(n,a)}i(Ba,"table");function Oa(e,n,t){const r=t?t.children:void 0,a=(r?r.indexOf(n):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,s=l?l.length:n.children.length;let c=-1;const u=[];for(;++c<s;){const f=n.children[c],d={},h=l?l[c]:void 0;h&&(d.align=h);let y={type:"element",tagName:a,properties:d,children:[]};f&&(y.children=e.all(f),e.patch(f,y),y=e.applyData(f,y)),u.push(y)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(n,p),e.applyData(n,p)}i(Oa,"tableRow");function Na(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}i(Na,"tableCell");const Hn=9,qn=32;function Ma(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),o=0;const a=[];for(;r;)a.push(Vn(n.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=t.exec(n);return a.push(Vn(n.slice(o),o>0,!1)),a.join("")}i(Ma,"trimLines");function Vn(e,n,t){let r=0,o=e.length;if(n){let a=e.codePointAt(r);for(;a===Hn||a===qn;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(o-1);for(;a===Hn||a===qn;)o--,a=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}i(Vn,"trimLine");function $a(e,n){const t={type:"text",value:Ma(String(n.value))};return e.patch(n,t),e.applyData(n,t)}i($a,"text$2");function Ha(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}i(Ha,"thematicBreak$1");const qa={blockquote:ya,break:ba,code:ka,delete:wa,emphasis:Sa,footnoteReference:Ca,heading:Ea,html:Ia,imageReference:_a,image:Ta,inlineCode:va,linkReference:Aa,link:za,listItem:ja,list:Fa,paragraph:Pa,root:Da,strong:Ra,table:Ba,tableCell:Na,tableRow:Oa,text:$a,thematicBreak:Ha,toml:ot,yaml:ot,definition:ot,footnoteDefinition:ot};function ot(){}i(ot,"ignore");const Wr=-1,yt=0,Xe=1,ft=2,un=3,cn=4,fn=5,pn=6,Ur=7,Qr=8,Wn=typeof self=="object"?self:globalThis,Va=i((e,n)=>{const t=i((o,a)=>(e.set(a,o),o),"as"),r=i(o=>{if(e.has(o))return e.get(o);const[a,l]=n[o];switch(a){case yt:case Wr:return t(l,o);case Xe:{const s=t([],o);for(const c of l)s.push(r(c));return s}case ft:{const s=t({},o);for(const[c,u]of l)s[r(c)]=r(u);return s}case un:return t(new Date(l),o);case cn:{const{source:s,flags:c}=l;return t(new RegExp(s,c),o)}case fn:{const s=t(new Map,o);for(const[c,u]of l)s.set(r(c),r(u));return s}case pn:{const s=t(new Set,o);for(const c of l)s.add(r(c));return s}case Ur:{const{name:s,message:c}=l;return t(new Wn[s](c),o)}case Qr:return t(BigInt(l),o);case"BigInt":return t(Object(BigInt(l)),o);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:s}=new Uint8Array(l);return t(new DataView(s),l)}}return t(new Wn[a](l),o)},"unpair");return r},"deserializer"),Un=i(e=>Va(new Map,e)(0),"deserialize"),De="",{toString:Wa}={},{keys:Ua}=Object,Qe=i(e=>{const n=typeof e;if(n!=="object"||!e)return[yt,n];const t=Wa.call(e).slice(8,-1);switch(t){case"Array":return[Xe,De];case"Object":return[ft,De];case"Date":return[un,De];case"RegExp":return[cn,De];case"Map":return[fn,De];case"Set":return[pn,De];case"DataView":return[Xe,t]}return t.includes("Array")?[Xe,t]:t.includes("Error")?[Ur,t]:[ft,t]},"typeOf"),lt=i(([e,n])=>e===yt&&(n==="function"||n==="symbol"),"shouldSkip"),Qa=i((e,n,t,r)=>{const o=i((l,s)=>{const c=r.push(l)-1;return t.set(s,c),c},"as"),a=i(l=>{if(t.has(l))return t.get(l);let[s,c]=Qe(l);switch(s){case yt:{let p=l;switch(c){case"bigint":s=Qr,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);p=null;break;case"undefined":return o([Wr],l)}return o([s,p],l)}case Xe:{if(c){let d=l;return c==="DataView"?d=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(d=new Uint8Array(l)),o([c,[...d]],l)}const p=[],f=o([s,p],l);for(const d of l)p.push(a(d));return f}case ft:{if(c)switch(c){case"BigInt":return o([c,l.toString()],l);case"Boolean":case"Number":case"String":return o([c,l.valueOf()],l)}if(n&&"toJSON"in l)return a(l.toJSON());const p=[],f=o([s,p],l);for(const d of Ua(l))(e||!lt(Qe(l[d])))&&p.push([a(d),a(l[d])]);return f}case un:return o([s,l.toISOString()],l);case cn:{const{source:p,flags:f}=l;return o([s,{source:p,flags:f}],l)}case fn:{const p=[],f=o([s,p],l);for(const[d,h]of l)(e||!(lt(Qe(d))||lt(Qe(h))))&&p.push([a(d),a(h)]);return f}case pn:{const p=[],f=o([s,p],l);for(const d of l)(e||!lt(Qe(d)))&&p.push(a(d));return f}}const{message:u}=l;return o([s,{name:c,message:u}],l)},"pair");return a},"serializer"),Qn=i((e,{json:n,lossy:t}={})=>{const r=[];return Qa(!(n||t),!!n,new Map,r)(e),r},"serialize$1"),pt=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?Un(Qn(e,n)):structuredClone(e):(e,n)=>Un(Qn(e,n));function Ya(e,n){const t=[{type:"text",value:"↩"}];return n>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),t}i(Ya,"defaultFootnoteBackContent");function Ga(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}i(Ga,"defaultFootnoteBackLabel");function Xa(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",t=e.options.footnoteBackContent||Ya,r=e.options.footnoteBackLabel||Ga,o=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const p=e.all(u),f=String(u.identifier).toUpperCase(),d=Oe(f.toLowerCase());let h=0;const y=[],b=e.footnoteCounts.get(f);for(;b!==void 0&&++h<=b;){y.length>0&&y.push({type:"text",value:" "});let _=typeof t=="string"?t:t(c,h);typeof _=="string"&&(_={type:"text",value:_}),y.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,h),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const S=p[p.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const _=S.children[S.children.length-1];_&&_.type==="text"?_.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...y)}else p.push(...y);const k={type:"element",tagName:"li",properties:{id:n+"fn-"+d},children:e.wrap(p,!0)};e.patch(u,k),s.push(k)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...pt(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}i(Xa,"footer");const bt=i((function(e){if(e==null)return es;if(typeof e=="function")return kt(e);if(typeof e=="object")return Array.isArray(e)?Ja(e):Ka(e);if(typeof e=="string")return Za(e);throw new Error("Expected function, string, or object as test")}),"convert");function Ja(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=bt(e[t]);return kt(r);function r(...o){let a=-1;for(;++a<n.length;)if(n[a].apply(this,o))return!0;return!1}}i(Ja,"anyFactory");function Ka(e){const n=e;return kt(t);function t(r){const o=r;let a;for(a in e)if(o[a]!==n[a])return!1;return!0}}i(Ka,"propertiesFactory");function Za(e){return kt(n);function n(t){return t&&t.type===e}}i(Za,"typeFactory");function kt(e){return n;function n(t,r,o){return!!(ts(t)&&e.call(this,t,typeof r=="number"?r:void 0,o||void 0))}}i(kt,"castFactory");function es(){return!0}i(es,"ok");function ts(e){return e!==null&&typeof e=="object"&&"type"in e}i(ts,"looksLikeANode");const Yr=[],ns=!0,Ut=!1,rs="skip";function Gr(e,n,t,r){let o;typeof n=="function"&&typeof t!="function"?(r=t,t=n):o=n;const a=bt(o),l=r?-1:1;s(e,void 0,[])();function s(c,u,p){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return d;function d(){let h=Yr,y,b,S;if((!n||a(c,u,p[p.length-1]||void 0))&&(h=is(t(c,p)),h[0]===Ut))return h;if("children"in c&&c.children){const k=c;if(k.children&&h[0]!==rs)for(b=(r?k.children.length:-1)+l,S=p.concat(k);b>-1&&b<k.children.length;){const _=k.children[b];if(y=s(_,b,S)(),y[0]===Ut)return y;b=typeof y[1]=="number"?y[1]:b+l}}return h}}i(s,"factory")}i(Gr,"visitParents");function is(e){return Array.isArray(e)?e:typeof e=="number"?[ns,e]:e==null?Yr:[e]}i(is,"toResult");function hn(e,n,t,r){let o,a,l;typeof n=="function"&&typeof t!="function"?(a=void 0,l=n,o=t):(a=n,l=t,o=r),Gr(e,a,s,o);function s(c,u){const p=u[u.length-1],f=p?p.children.indexOf(c):void 0;return l(c,f,p)}i(s,"overload")}i(hn,"visit");const Qt={}.hasOwnProperty,os={};function ls(e,n){const t=n||os,r=new Map,o=new Map,a=new Map,l={...qa,...t.handlers},s={all:u,applyData:ss,definitionById:r,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:l,one:c,options:t,patch:as,wrap:cs};return hn(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const f=p.type==="definition"?r:o,d=String(p.identifier).toUpperCase();f.has(d)||f.set(d,p)}}),s;function c(p,f){const d=p.type,h=s.handlers[d];if(Qt.call(s.handlers,d)&&h)return h(s,p,f);if(s.options.passThrough&&s.options.passThrough.includes(d)){if("children"in p){const{children:b,...S}=p,k=pt(S);return k.children=s.all(p),k}return pt(p)}return(s.options.unknownHandler||us)(s,p,f)}i(c,"one");function u(p){const f=[];if("children"in p){const d=p.children;let h=-1;for(;++h<d.length;){const y=s.one(d[h],p);if(y){if(h&&d[h-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=Yn(y.value)),!Array.isArray(y)&&y.type==="element")){const b=y.children[0];b&&b.type==="text"&&(b.value=Yn(b.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}i(u,"all")}i(ls,"createState");function as(e,n){e.position&&(n.position=Gi(e))}i(as,"patch");function ss(e,n){let t=n;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const l="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:l}}t.type==="element"&&a&&Object.assign(t.properties,pt(a)),"children"in t&&t.children&&o!==null&&o!==void 0&&(t.children=o)}return t}i(ss,"applyData");function us(e,n){const t=n.data||{},r="value"in n&&!(Qt.call(t,"hProperties")||Qt.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}i(us,"defaultUnknownHandler");function cs(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}i(cs,"wrap$1");function Yn(e){let n=0,t=e.charCodeAt(n);for(;t===9||t===32;)n++,t=e.charCodeAt(n);return e.slice(n)}i(Yn,"trimMarkdownSpaceStart");function Gn(e,n){const t=ls(e,n),r=t.one(e,void 0),o=Xa(t),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}i(Gn,"toHast");function fs(e,n){return e&&"run"in e?async function(t,r){const o=Gn(t,{file:r,...n});await e.run(o,r)}:function(t,r){return Gn(t,{file:r,...e||n})}}i(fs,"remarkRehype");function Xn(e){if(e)throw e}i(Xn,"bail");var vt,Jn;function ps(){if(Jn)return vt;Jn=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=i(function(u){return typeof Array.isArray=="function"?Array.isArray(u):n.call(u)==="[object Array]"},"isArray"),a=i(function(u){if(!u||n.call(u)!=="[object Object]")return!1;var p=e.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!p&&!f)return!1;var d;for(d in u);return typeof d>"u"||e.call(u,d)},"isPlainObject"),l=i(function(u,p){t&&p.name==="__proto__"?t(u,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):u[p.name]=p.newValue},"setProperty"),s=i(function(u,p){if(p==="__proto__")if(e.call(u,p)){if(r)return r(u,p).value}else return;return u[p]},"getProperty");return vt=i(function c(){var u,p,f,d,h,y,b=arguments[0],S=1,k=arguments.length,_=!1;for(typeof b=="boolean"&&(_=b,b=arguments[1]||{},S=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});S<k;++S)if(u=arguments[S],u!=null)for(p in u)f=s(b,p),d=s(u,p),b!==d&&(_&&d&&(a(d)||(h=o(d)))?(h?(h=!1,y=f&&o(f)?f:[]):y=f&&a(f)?f:{},l(b,{name:p,newValue:c(_,y,d)})):typeof d<"u"&&l(b,{name:p,newValue:d}));return b},"extend"),vt}i(ps,"requireExtend");var hs=ps();const At=pr(hs);function Yt(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}i(Yt,"isPlainObject");function ds(){const e=[],n={run:t,use:r};return n;function t(...o){let a=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);s(null,...o);function s(c,...u){const p=e[++a];let f=-1;if(c){l(c);return}for(;++f<o.length;)(u[f]===null||u[f]===void 0)&&(u[f]=o[f]);o=u,p?ms(p,s)(...u):l(null,...u)}i(s,"next")}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),n}}i(ds,"trough");function ms(e,n){let t;return r;function r(...l){const s=e.length>l.length;let c;s&&l.push(o);try{c=e.apply(this,l)}catch(u){const p=u;if(s&&t)throw p;return o(p)}s||(c&&c.then&&typeof c.then=="function"?c.then(a,o):c instanceof Error?o(c):a(c))}function o(l,...s){t||(t=!0,n(l,...s))}function a(l){o(null,l)}}i(ms,"wrap");const xe={basename:gs,dirname:xs,extname:ys,join:bs,sep:"/"};function gs(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');et(e);let t=0,r=-1,o=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(a){t=o+1;break}}else r<0&&(a=!0,r=o+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let l=-1,s=n.length-1;for(;o--;)if(e.codePointAt(o)===47){if(a){t=o+1;break}}else l<0&&(a=!0,l=o+1),s>-1&&(e.codePointAt(o)===n.codePointAt(s--)?s<0&&(r=o):(s=-1,r=l));return t===r?r=l:r<0&&(r=e.length),e.slice(t,r)}i(gs,"basename");function xs(e){if(et(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.codePointAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}i(xs,"dirname");function ys(e){et(e);let n=e.length,t=-1,r=0,o=-1,a=0,l;for(;n--;){const s=e.codePointAt(n);if(s===47){if(l){r=n+1;break}continue}t<0&&(l=!0,t=n+1),s===46?o<0?o=n:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||t<0||a===0||a===1&&o===t-1&&o===r+1?"":e.slice(o,t)}i(ys,"extname");function bs(...e){let n=-1,t;for(;++n<e.length;)et(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":ks(t)}i(bs,"join");function ks(e){et(e);const n=e.codePointAt(0)===47;let t=ws(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.codePointAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}i(ks,"normalize");function ws(e,n){let t="",r=0,o=-1,a=0,l=-1,s,c;for(;++l<=e.length;){if(l<e.length)s=e.codePointAt(l);else{if(s===47)break;s=47}if(s===47){if(!(o===l-1||a===1))if(o!==l-1&&a===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),o=l,a=0;continue}}else if(t.length>0){t="",r=0,o=l,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(o+1,l):t=e.slice(o+1,l),r=l-o-1;o=l,a=0}else s===46&&a>-1?a++:a=-1}return t}i(ws,"normalizeString");function et(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}i(et,"assertPath$1");const Ss={cwd:Cs};function Cs(){return"/"}i(Cs,"cwd");function Gt(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}i(Gt,"isUrl");function Es(e){if(typeof e=="string")e=new URL(e);else if(!Gt(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Is(e)}i(Es,"urlToPath");function Is(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.codePointAt(t)===37&&n.codePointAt(t+1)===50){const r=n.codePointAt(t+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(n)}i(Is,"getPathFromURLPosix");const zt=["history","path","basename","stem","extname","dirname"],bn=class bn{constructor(n){let t;n?Gt(n)?t={path:n}:typeof n=="string"||_s(n)?t={value:n}:t=n:t={},this.cwd="cwd"in t?"":Ss.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zt.length;){const a=zt[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let o;for(o in t)zt.includes(o)||(this[o]=t[o])}get basename(){return typeof this.path=="string"?xe.basename(this.path):void 0}set basename(n){Lt(n,"basename"),jt(n,"basename"),this.path=xe.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?xe.dirname(this.path):void 0}set dirname(n){Kn(this.basename,"dirname"),this.path=xe.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?xe.extname(this.path):void 0}set extname(n){if(jt(n,"extname"),Kn(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=xe.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Gt(n)&&(n=Es(n)),Lt(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?xe.basename(this.path,this.extname):void 0}set stem(n){Lt(n,"stem"),jt(n,"stem"),this.path=xe.join(this.dirname||"",n+(this.extname||""))}fail(n,t,r){const o=this.message(n,t,r);throw o.fatal=!0,o}info(n,t,r){const o=this.message(n,t,r);return o.fatal=void 0,o}message(n,t,r){const o=new ee(n,t,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}};i(bn,"VFile");let ht=bn;function jt(e,n){if(e&&e.includes(xe.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+xe.sep+"`")}i(jt,"assertPart");function Lt(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}i(Lt,"assertNonEmpty");function Kn(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}i(Kn,"assertPath");function _s(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}i(_s,"isUint8Array$1");const Ts=i((function(e){const r=this.constructor.prototype,o=r[e],a=i(function(){return o.apply(a,arguments)},"apply");return Object.setPrototypeOf(a,r),a}),"CallableInstance"),vs={}.hasOwnProperty,mt=class mt extends Ts{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ds()}copy(){const n=new mt;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];n.use(...r)}return n.data(At(!0,{},this.namespace)),n}data(n,t){return typeof n=="string"?arguments.length===2?(Dt("data",this.frozen),this.namespace[n]=t,this):vs.call(this.namespace,n)&&this.namespace[n]||void 0:n?(Dt("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=t.call(n,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const t=at(n),r=this.parser||this.Parser;return Ft("parse",r),r(String(t),t)}process(n,t){const r=this;return this.freeze(),Ft("process",this.parser||this.Parser),Pt("process",this.compiler||this.Compiler),t?o(void 0,t):new Promise(o);function o(a,l){const s=at(n),c=r.parse(s);r.run(c,s,function(p,f,d){if(p||!f||!d)return u(p);const h=f,y=r.stringify(h,d);js(y)?d.value=y:d.result=y,u(p,d)});function u(p,f){p||!f?l(p):a?a(f):t(void 0,f)}i(u,"realDone")}i(o,"executor")}processSync(n){let t=!1,r;return this.freeze(),Ft("processSync",this.parser||this.Parser),Pt("processSync",this.compiler||this.Compiler),this.process(n,o),er("processSync","process",t),r;function o(a,l){t=!0,Xn(a),r=l}i(o,"realDone")}run(n,t,r){Zn(n),this.freeze();const o=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?a(void 0,r):new Promise(a);function a(l,s){const c=at(t);o.run(n,c,u);function u(p,f,d){const h=f||n;p?s(p):l?l(h):r(void 0,h,d)}i(u,"realDone")}i(a,"executor")}runSync(n,t){let r=!1,o;return this.run(n,t,a),er("runSync","run",r),o;function a(l,s){Xn(l),o=s,r=!0}i(a,"realDone")}stringify(n,t){this.freeze();const r=at(t),o=this.compiler||this.Compiler;return Pt("stringify",o),Zn(n),o(n,r)}use(n,...t){const r=this.attachers,o=this.namespace;if(Dt("use",this.frozen),n!=null)if(typeof n=="function")c(n,t);else if(typeof n=="object")Array.isArray(n)?s(n):l(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[p,...f]=u;c(p,f)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(o.settings=At(!0,o.settings,u.settings))}function s(u){let p=-1;if(u!=null)if(Array.isArray(u))for(;++p<u.length;){const f=u[p];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,p){let f=-1,d=-1;for(;++f<r.length;)if(r[f][0]===u){d=f;break}if(d===-1)r.push([u,...p]);else if(p.length>0){let[h,...y]=p;const b=r[d][1];Yt(b)&&Yt(h)&&(h=At(!0,b,h)),r[d]=[u,h,...y]}}}};i(mt,"Processor");let Xt=mt;const As=new Xt().freeze();function Ft(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}i(Ft,"assertParser");function Pt(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}i(Pt,"assertCompiler");function Dt(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}i(Dt,"assertUnfrozen");function Zn(e){if(!Yt(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}i(Zn,"assertNode");function er(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}i(er,"assertDone");function at(e){return zs(e)?e:new ht(e)}i(at,"vfile");function zs(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}i(zs,"looksLikeAVFile");function js(e){return typeof e=="string"||Ls(e)}i(js,"looksLikeAValue");function Ls(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}i(Ls,"isUint8Array");const Fs="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",tr=[],nr={allowDangerousHtml:!0},Ps=/^(https?|ircs?|mailto|xmpp)$/i,Ds=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Rs(e){const n=Bs(e),t=Os(e);return Ns(n.runSync(n.parse(t),t),e)}i(Rs,"Markdown");function Bs(e){const n=e.rehypePlugins||tr,t=e.remarkPlugins||tr,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...nr}:nr;return As().use(xa).use(t).use(fs,r).use(n)}i(Bs,"createProcessor");function Os(e){const n=e.children||"",t=new ht;return typeof n=="string"&&(t.value=n),t}i(Os,"createFile");function Ns(e,n){const t=n.allowedElements,r=n.allowElement,o=n.components,a=n.disallowedElements,l=n.skipHtml,s=n.unwrapDisallowed,c=n.urlTransform||Ms;for(const p of Ds)Object.hasOwn(n,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Fs+p.id,void 0);return hn(e,u),eo(e,{Fragment:x.Fragment,components:o,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function u(p,f,d){if(p.type==="raw"&&d&&typeof f=="number")return l?d.children.splice(f,1):d.children[f]={type:"text",value:p.value},f;if(p.type==="element"){let h;for(h in It)if(Object.hasOwn(It,h)&&Object.hasOwn(p.properties,h)){const y=p.properties[h],b=It[h];(b===null||b.includes(p.tagName))&&(p.properties[h]=c(String(y||""),h,p))}}if(p.type==="element"){let h=t?!t.includes(p.tagName):a?a.includes(p.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(p,f,d)),h&&d&&typeof f=="number")return s&&p.children?d.children.splice(f,1,...p.children):d.children.splice(f,1),f}}i(u,"transform")}i(Ns,"post");function Ms(e){const n=e.indexOf(":"),t=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return n===-1||o!==-1&&n>o||t!==-1&&n>t||r!==-1&&n>r||Ps.test(e.slice(0,n))?e:""}i(Ms,"defaultUrlTransform");function rr(e,n){const t=String(e);if(typeof n!="string")throw new TypeError("Expected character");let r=0,o=t.indexOf(n);for(;o!==-1;)r++,o=t.indexOf(n,o+n.length);return r}i(rr,"ccount");function $s(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}i($s,"escapeStringRegexp");function Hs(e,n,t){const o=bt((t||{}).ignore||[]),a=qs(n);let l=-1;for(;++l<a.length;)Gr(e,"text",s);function s(u,p){let f=-1,d;for(;++f<p.length;){const h=p[f],y=d?d.children:void 0;if(o(h,y?y.indexOf(h):void 0,d))return;d=h}if(d)return c(u,p)}i(s,"visitor");function c(u,p){const f=p[p.length-1],d=a[l][0],h=a[l][1];let y=0;const S=f.children.indexOf(u);let k=!1,_=[];d.lastIndex=0;let I=d.exec(u.value);for(;I;){const B=I.index,O={index:I.index,input:I.input,stack:[...p,u]};let E=h(...I,O);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?d.lastIndex=B+1:(y!==B&&_.push({type:"text",value:u.value.slice(y,B)}),Array.isArray(E)?_.push(...E):E&&_.push(E),y=B+I[0].length,k=!0),!d.global)break;I=d.exec(u.value)}return k?(y<u.value.length&&_.push({type:"text",value:u.value.slice(y)}),f.children.splice(S,1,..._)):_=[u],S+_.length}i(c,"handler")}i(Hs,"findAndReplace");function qs(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<t.length;){const o=t[r];n.push([Vs(o[0]),Ws(o[1])])}return n}i(qs,"toPairs");function Vs(e){return typeof e=="string"?new RegExp($s(e),"g"):e}i(Vs,"toExpression");function Ws(e){return typeof e=="function"?e:function(){return e}}i(Ws,"toFunction");const Rt="phrasing",Bt=["autolink","link","image","label"];function Us(){return{transforms:[Zs],enter:{literalAutolink:Ys,literalAutolinkEmail:Ot,literalAutolinkHttp:Ot,literalAutolinkWww:Ot},exit:{literalAutolink:Ks,literalAutolinkEmail:Js,literalAutolinkHttp:Gs,literalAutolinkWww:Xs}}}i(Us,"gfmAutolinkLiteralFromMarkdown");function Qs(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rt,notInConstruct:Bt},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rt,notInConstruct:Bt},{character:":",before:"[ps]",after:"\\/",inConstruct:Rt,notInConstruct:Bt}]}}i(Qs,"gfmAutolinkLiteralToMarkdown");function Ys(e){this.enter({type:"link",title:null,url:"",children:[]},e)}i(Ys,"enterLiteralAutolink");function Ot(e){this.config.enter.autolinkProtocol.call(this,e)}i(Ot,"enterLiteralAutolinkValue");function Gs(e){this.config.exit.autolinkProtocol.call(this,e)}i(Gs,"exitLiteralAutolinkHttp");function Xs(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(e)}i(Xs,"exitLiteralAutolinkWww");function Js(e){this.config.exit.autolinkEmail.call(this,e)}i(Js,"exitLiteralAutolinkEmail");function Ks(e){this.exit(e)}i(Ks,"exitLiteralAutolink");function Zs(e){Hs(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,eu],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,tu]],{ignore:["link","linkReference"]})}i(Zs,"transformGfmAutolinkLiterals");function eu(e,n,t,r,o){let a="";if(!Xr(o)||(/^w/i.test(n)&&(t=n+t,n="",a="http://"),!nu(t)))return!1;const l=ru(t+r);if(!l[0])return!1;const s={type:"link",title:null,url:a+n+l[0],children:[{type:"text",value:n+l[0]}]};return l[1]?[s,{type:"text",value:l[1]}]:s}i(eu,"findUrl");function tu(e,n,t,r){return!Xr(r,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+t,children:[{type:"text",value:n+"@"+t}]}}i(tu,"findEmail");function nu(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}i(nu,"isCorrectDomain");function ru(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let t=n[0],r=t.indexOf(")");const o=rr(e,"(");let a=rr(e,")");for(;r!==-1&&o>a;)e+=t.slice(0,r+1),t=t.slice(r+1),r=t.indexOf(")"),a++;return[e,t]}i(ru,"splitUrl");function Xr(e,n){const t=e.input.charCodeAt(e.index-1);return(e.index===0||je(t)||gt(t))&&(!n||t!==47)}i(Xr,"previous");Jr.peek=pu;function iu(){this.buffer()}i(iu,"enterFootnoteCallString");function ou(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}i(ou,"enterFootnoteCall");function lu(){this.buffer()}i(lu,"enterFootnoteDefinitionLabelString");function au(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}i(au,"enterFootnoteDefinition");function su(e){const n=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=ge(this.sliceSerialize(e)).toLowerCase(),t.label=n}i(su,"exitFootnoteCallString");function uu(e){this.exit(e)}i(uu,"exitFootnoteCall");function cu(e){const n=this.resume(),t=this.stack[this.stack.length-1];t.type,t.identifier=ge(this.sliceSerialize(e)).toLowerCase(),t.label=n}i(cu,"exitFootnoteDefinitionLabelString");function fu(e){this.exit(e)}i(fu,"exitFootnoteDefinition");function pu(){return"["}i(pu,"footnoteReferencePeek");function Jr(e,n,t,r){const o=t.createTracker(r);let a=o.move("[^");const l=t.enter("footnoteReference"),s=t.enter("reference");return a+=o.move(t.safe(t.associationId(e),{after:"]",before:a})),s(),l(),a+=o.move("]"),a}i(Jr,"footnoteReference");function hu(){return{enter:{gfmFootnoteCallString:iu,gfmFootnoteCall:ou,gfmFootnoteDefinitionLabelString:lu,gfmFootnoteDefinition:au},exit:{gfmFootnoteCallString:su,gfmFootnoteCall:uu,gfmFootnoteDefinitionLabelString:cu,gfmFootnoteDefinition:fu}}}i(hu,"gfmFootnoteFromMarkdown");function du(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:t,footnoteReference:Jr},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(r,o,a,l){const s=a.createTracker(l);let c=s.move("[^");const u=a.enter("footnoteDefinition"),p=a.enter("label");return c+=s.move(a.safe(a.associationId(r),{before:c,after:"]"})),p(),c+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),c+=s.move((n?`
`:" ")+a.indentLines(a.containerFlow(r,s.current()),n?Kr:mu))),u(),c}i(t,"footnoteDefinition")}i(du,"gfmFootnoteToMarkdown");function mu(e,n,t){return n===0?e:Kr(e,n,t)}i(mu,"mapExceptFirst");function Kr(e,n,t){return(t?"":"    ")+e}i(Kr,"mapAll");const gu=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Zr.peek=wu;function xu(){return{canContainEols:["delete"],enter:{strikethrough:bu},exit:{strikethrough:ku}}}i(xu,"gfmStrikethroughFromMarkdown");function yu(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:gu}],handlers:{delete:Zr}}}i(yu,"gfmStrikethroughToMarkdown");function bu(e){this.enter({type:"delete",children:[]},e)}i(bu,"enterStrikethrough");function ku(e){this.exit(e)}i(ku,"exitStrikethrough");function Zr(e,n,t,r){const o=t.createTracker(r),a=t.enter("strikethrough");let l=o.move("~~");return l+=t.containerPhrasing(e,{...o.current(),before:l,after:"~"}),l+=o.move("~~"),a(),l}i(Zr,"handleDelete");function wu(){return"~"}i(wu,"peekDelete");function Su(e){return e.length}i(Su,"defaultStringLength");function Cu(e,n){const t=n||{},r=(t.align||[]).concat(),o=t.stringLength||Su,a=[],l=[],s=[],c=[];let u=0,p=-1;for(;++p<e.length;){const b=[],S=[];let k=-1;for(e[p].length>u&&(u=e[p].length);++k<e[p].length;){const _=Eu(e[p][k]);if(t.alignDelimiters!==!1){const I=o(_);S[k]=I,(c[k]===void 0||I>c[k])&&(c[k]=I)}b.push(_)}l[p]=b,s[p]=S}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=ir(r[f]);else{const b=ir(r);for(;++f<u;)a[f]=b}f=-1;const d=[],h=[];for(;++f<u;){const b=a[f];let S="",k="";b===99?(S=":",k=":"):b===108?S=":":b===114&&(k=":");let _=t.alignDelimiters===!1?1:Math.max(1,c[f]-S.length-k.length);const I=S+"-".repeat(_)+k;t.alignDelimiters!==!1&&(_=S.length+_+k.length,_>c[f]&&(c[f]=_),h[f]=_),d[f]=I}l.splice(1,0,d),s.splice(1,0,h),p=-1;const y=[];for(;++p<l.length;){const b=l[p],S=s[p];f=-1;const k=[];for(;++f<u;){const _=b[f]||"";let I="",B="";if(t.alignDelimiters!==!1){const O=c[f]-(S[f]||0),E=a[f];E===114?I=" ".repeat(O):E===99?O%2?(I=" ".repeat(O/2+.5),B=" ".repeat(O/2-.5)):(I=" ".repeat(O/2),B=I):B=" ".repeat(O)}t.delimiterStart!==!1&&!f&&k.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&_==="")&&(t.delimiterStart!==!1||f)&&k.push(" "),t.alignDelimiters!==!1&&k.push(I),k.push(_),t.alignDelimiters!==!1&&k.push(B),t.padding!==!1&&k.push(" "),(t.delimiterEnd!==!1||f!==u-1)&&k.push("|")}y.push(t.delimiterEnd===!1?k.join("").replace(/ +$/,""):k.join(""))}return y.join(`
`)}i(Cu,"markdownTable");function Eu(e){return e==null?"":String(e)}i(Eu,"serialize");function ir(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}i(ir,"toAlignment");function Iu(e,n,t,r){const o=t.enter("blockquote"),a=t.createTracker(r);a.move("> "),a.shift(2);const l=t.indentLines(t.containerFlow(e,a.current()),_u);return o(),l}i(Iu,"blockquote");function _u(e,n,t){return">"+(t?"":" ")+e}i(_u,"map$1");function Tu(e,n){return or(e,n.inConstruct,!0)&&!or(e,n.notInConstruct,!1)}i(Tu,"patternInScope");function or(e,n,t){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return t;let r=-1;for(;++r<n.length;)if(e.includes(n[r]))return!0;return!1}i(or,"listInScope");function lr(e,n,t,r){let o=-1;for(;++o<t.unsafe.length;)if(t.unsafe[o].character===`
`&&Tu(t.stack,t.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}i(lr,"hardBreak");function vu(e,n){const t=String(e);let r=t.indexOf(n),o=r,a=0,l=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++a>l&&(l=a):a=1,o=r+n.length,r=t.indexOf(n,o);return l}i(vu,"longestStreak");function Au(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}i(Au,"formatCodeAsIndented");function zu(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}i(zu,"checkFence");function ju(e,n,t,r){const o=zu(t),a=e.value||"",l=o==="`"?"GraveAccent":"Tilde";if(Au(e,t)){const f=t.enter("codeIndented"),d=t.indentLines(a,Lu);return f(),d}const s=t.createTracker(r),c=o.repeat(Math.max(vu(a,o)+1,3)),u=t.enter("codeFenced");let p=s.move(c);if(e.lang){const f=t.enter(`codeFencedLang${l}`);p+=s.move(t.safe(e.lang,{before:p,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=t.enter(`codeFencedMeta${l}`);p+=s.move(" "),p+=s.move(t.safe(e.meta,{before:p,after:`
`,encode:["`"],...s.current()})),f()}return p+=s.move(`
`),a&&(p+=s.move(a+`
`)),p+=s.move(c),u(),p}i(ju,"code$1");function Lu(e,n,t){return(t?"":"    ")+e}i(Lu,"map");function dn(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}i(dn,"checkQuote");function Fu(e,n,t,r){const o=dn(t),a=o==='"'?"Quote":"Apostrophe",l=t.enter("definition");let s=t.enter("label");const c=t.createTracker(r);let u=c.move("[");return u+=c.move(t.safe(t.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(t.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(s=t.enter("destinationRaw"),u+=c.move(t.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),s(),e.title&&(s=t.enter(`title${a}`),u+=c.move(" "+o),u+=c.move(t.safe(e.title,{before:u,after:o,...c.current()})),u+=c.move(o),s()),l(),u}i(Fu,"definition");function Pu(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}i(Pu,"checkEmphasis");function Ke(e){return"&#x"+e.toString(16).toUpperCase()+";"}i(Ke,"encodeCharacterReference");function dt(e,n,t){const r=Be(e),o=Be(n);return r===void 0?o===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}i(dt,"encodeInfo");ei.peek=Du;function ei(e,n,t,r){const o=Pu(t),a=t.enter("emphasis"),l=t.createTracker(r),s=l.move(o);let c=l.move(t.containerPhrasing(e,{after:o,before:s,...l.current()}));const u=c.charCodeAt(0),p=dt(r.before.charCodeAt(r.before.length-1),u,o);p.inside&&(c=Ke(u)+c.slice(1));const f=c.charCodeAt(c.length-1),d=dt(r.after.charCodeAt(0),f,o);d.inside&&(c=c.slice(0,-1)+Ke(f));const h=l.move(o);return a(),t.attentionEncodeSurroundingInfo={after:d.outside,before:p.outside},s+c+h}i(ei,"emphasis");function Du(e,n,t){return t.options.emphasis||"*"}i(Du,"emphasisPeek");function Ru(e,n){let t=!1;return hn(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,Ut}),!!((!e.depth||e.depth<3)&&an(e)&&(n.options.setext||t))}i(Ru,"formatHeadingAsSetext");function Bu(e,n,t,r){const o=Math.max(Math.min(6,e.depth||1),1),a=t.createTracker(r);if(Ru(e,t)){const p=t.enter("headingSetext"),f=t.enter("phrasing"),d=t.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),p(),d+`
`+(o===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const l="#".repeat(o),s=t.enter("headingAtx"),c=t.enter("phrasing");a.move(l+" ");let u=t.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Ke(u.charCodeAt(0))+u.slice(1)),u=u?l+" "+u:l,t.options.closeAtx&&(u+=" "+l),c(),s(),u}i(Bu,"heading");ti.peek=Ou;function ti(e){return e.value||""}i(ti,"html");function Ou(){return"<"}i(Ou,"htmlPeek");ni.peek=Nu;function ni(e,n,t,r){const o=dn(t),a=o==='"'?"Quote":"Apostrophe",l=t.enter("image");let s=t.enter("label");const c=t.createTracker(r);let u=c.move("![");return u+=c.move(t.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(t.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(s=t.enter("destinationRaw"),u+=c.move(t.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),s(),e.title&&(s=t.enter(`title${a}`),u+=c.move(" "+o),u+=c.move(t.safe(e.title,{before:u,after:o,...c.current()})),u+=c.move(o),s()),u+=c.move(")"),l(),u}i(ni,"image");function Nu(){return"!"}i(Nu,"imagePeek");ri.peek=Mu;function ri(e,n,t,r){const o=e.referenceType,a=t.enter("imageReference");let l=t.enter("label");const s=t.createTracker(r);let c=s.move("![");const u=t.safe(e.alt,{before:c,after:"]",...s.current()});c+=s.move(u+"]["),l();const p=t.stack;t.stack=[],l=t.enter("reference");const f=t.safe(t.associationId(e),{before:c,after:"]",...s.current()});return l(),t.stack=p,a(),o==="full"||!u||u!==f?c+=s.move(f+"]"):o==="shortcut"?c=c.slice(0,-1):c+=s.move("]"),c}i(ri,"imageReference");function Mu(){return"!"}i(Mu,"imageReferencePeek");ii.peek=$u;function ii(e,n,t){let r=e.value||"",o="`",a=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<t.unsafe.length;){const l=t.unsafe[a],s=t.compilePattern(l);let c;if(l.atBreak)for(;c=s.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return o+r+o}i(ii,"inlineCode");function $u(){return"`"}i($u,"inlineCodePeek");function oi(e,n){const t=an(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(t===e.url||"mailto:"+t===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}i(oi,"formatLinkAsAutolink");li.peek=Hu;function li(e,n,t,r){const o=dn(t),a=o==='"'?"Quote":"Apostrophe",l=t.createTracker(r);let s,c;if(oi(e,t)){const p=t.stack;t.stack=[],s=t.enter("autolink");let f=l.move("<");return f+=l.move(t.containerPhrasing(e,{before:f,after:">",...l.current()})),f+=l.move(">"),s(),t.stack=p,f}s=t.enter("link"),c=t.enter("label");let u=l.move("[");return u+=l.move(t.containerPhrasing(e,{before:u,after:"](",...l.current()})),u+=l.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=t.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(t.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(c=t.enter("destinationRaw"),u+=l.move(t.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),c(),e.title&&(c=t.enter(`title${a}`),u+=l.move(" "+o),u+=l.move(t.safe(e.title,{before:u,after:o,...l.current()})),u+=l.move(o),c()),u+=l.move(")"),s(),u}i(li,"link");function Hu(e,n,t){return oi(e,t)?"<":"["}i(Hu,"linkPeek");ai.peek=qu;function ai(e,n,t,r){const o=e.referenceType,a=t.enter("linkReference");let l=t.enter("label");const s=t.createTracker(r);let c=s.move("[");const u=t.containerPhrasing(e,{before:c,after:"]",...s.current()});c+=s.move(u+"]["),l();const p=t.stack;t.stack=[],l=t.enter("reference");const f=t.safe(t.associationId(e),{before:c,after:"]",...s.current()});return l(),t.stack=p,a(),o==="full"||!u||u!==f?c+=s.move(f+"]"):o==="shortcut"?c=c.slice(0,-1):c+=s.move("]"),c}i(ai,"linkReference");function qu(){return"["}i(qu,"linkReferencePeek");function mn(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}i(mn,"checkBullet");function Vu(e){const n=mn(e),t=e.options.bulletOther;if(!t)return n==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+t+"`) to be different");return t}i(Vu,"checkBulletOther");function Wu(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}i(Wu,"checkBulletOrdered");function si(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}i(si,"checkRule");function Uu(e,n,t,r){const o=t.enter("list"),a=t.bulletCurrent;let l=e.ordered?Wu(t):mn(t);const s=e.ordered?l==="."?")":".":Vu(t);let c=n&&t.bulletLastUsed?l===t.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(c=!0),si(t)===l&&p){let f=-1;for(;++f<e.children.length;){const d=e.children[f];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=s),t.bulletCurrent=l;const u=t.containerFlow(e,r);return t.bulletLastUsed=l,t.bulletCurrent=a,o(),u}i(Uu,"list");function Qu(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}i(Qu,"checkListItemIndent");function Yu(e,n,t,r){const o=Qu(t);let a=t.bulletCurrent||mn(t);n&&n.type==="list"&&n.ordered&&(a=(typeof n.start=="number"&&n.start>-1?n.start:1)+(t.options.incrementListMarker===!1?0:n.children.indexOf(e))+a);let l=a.length+1;(o==="tab"||o==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(l=Math.ceil(l/4)*4);const s=t.createTracker(r);s.move(a+" ".repeat(l-a.length)),s.shift(l);const c=t.enter("listItem"),u=t.indentLines(t.containerFlow(e,s.current()),p);return c(),u;function p(f,d,h){return d?(h?"":" ".repeat(l))+f:(h?a:a+" ".repeat(l-a.length))+f}i(p,"map")}i(Yu,"listItem");function Gu(e,n,t,r){const o=t.enter("paragraph"),a=t.enter("phrasing"),l=t.containerPhrasing(e,r);return a(),o(),l}i(Gu,"paragraph");const Xu=bt(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Ju(e,n,t,r){return(e.children.some(function(l){return Xu(l)})?t.containerPhrasing:t.containerFlow).call(t,e,r)}i(Ju,"root");function Ku(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}i(Ku,"checkStrong");ui.peek=Zu;function ui(e,n,t,r){const o=Ku(t),a=t.enter("strong"),l=t.createTracker(r),s=l.move(o+o);let c=l.move(t.containerPhrasing(e,{after:o,before:s,...l.current()}));const u=c.charCodeAt(0),p=dt(r.before.charCodeAt(r.before.length-1),u,o);p.inside&&(c=Ke(u)+c.slice(1));const f=c.charCodeAt(c.length-1),d=dt(r.after.charCodeAt(0),f,o);d.inside&&(c=c.slice(0,-1)+Ke(f));const h=l.move(o+o);return a(),t.attentionEncodeSurroundingInfo={after:d.outside,before:p.outside},s+c+h}i(ui,"strong");function Zu(e,n,t){return t.options.strong||"*"}i(Zu,"strongPeek");function ec(e,n,t,r){return t.safe(e.value,r)}i(ec,"text$1");function tc(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}i(tc,"checkRuleRepetition");function nc(e,n,t){const r=(si(t)+(t.options.ruleSpaces?" ":"")).repeat(tc(t));return t.options.ruleSpaces?r.slice(0,-1):r}i(nc,"thematicBreak");const ci={blockquote:Iu,break:lr,code:ju,definition:Fu,emphasis:ei,hardBreak:lr,heading:Bu,html:ti,image:ni,imageReference:ri,inlineCode:ii,link:li,linkReference:ai,list:Uu,listItem:Yu,paragraph:Gu,root:Ju,strong:ui,text:ec,thematicBreak:nc};function rc(){return{enter:{table:ic,tableData:ar,tableHeader:ar,tableRow:lc},exit:{codeText:ac,table:oc,tableData:Nt,tableHeader:Nt,tableRow:Nt}}}i(rc,"gfmTableFromMarkdown");function ic(e){const n=e._align;this.enter({type:"table",align:n.map(function(t){return t==="none"?null:t}),children:[]},e),this.data.inTable=!0}i(ic,"enterTable");function oc(e){this.exit(e),this.data.inTable=void 0}i(oc,"exitTable");function lc(e){this.enter({type:"tableRow",children:[]},e)}i(lc,"enterRow");function Nt(e){this.exit(e)}i(Nt,"exit");function ar(e){this.enter({type:"tableCell",children:[]},e)}i(ar,"enterCell");function ac(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,sc));const t=this.stack[this.stack.length-1];t.type,t.value=n,this.exit(e)}i(ac,"exitCodeText");function sc(e,n){return n==="|"?n:e}i(sc,"replace");function uc(e){const n=e||{},t=n.tableCellPadding,r=n.tablePipeAlign,o=n.stringLength,a=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:l,tableCell:c,tableRow:s}};function l(h,y,b,S){return u(p(h,b,S),h.align)}function s(h,y,b,S){const k=f(h,b,S),_=u([k]);return _.slice(0,_.indexOf(`
`))}function c(h,y,b,S){const k=b.enter("tableCell"),_=b.enter("phrasing"),I=b.containerPhrasing(h,{...S,before:a,after:a});return _(),k(),I}function u(h,y){return Cu(h,{align:y,alignDelimiters:r,padding:t,stringLength:o})}function p(h,y,b){const S=h.children;let k=-1;const _=[],I=y.enter("table");for(;++k<S.length;)_[k]=f(S[k],y,b);return I(),_}function f(h,y,b){const S=h.children;let k=-1;const _=[],I=y.enter("tableRow");for(;++k<S.length;)_[k]=c(S[k],h,y,b);return I(),_}function d(h,y,b){let S=ci.inlineCode(h,y,b);return b.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}i(uc,"gfmTableToMarkdown");function cc(){return{exit:{taskListCheckValueChecked:sr,taskListCheckValueUnchecked:sr,paragraph:pc}}}i(cc,"gfmTaskListItemFromMarkdown");function fc(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:hc}}}i(fc,"gfmTaskListItemToMarkdown");function sr(e){const n=this.stack[this.stack.length-2];n.type,n.checked=e.type==="taskListCheckValueChecked"}i(sr,"exitCheck");function pc(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const t=this.stack[this.stack.length-1];t.type;const r=t.children[0];if(r&&r.type==="text"){const o=n.children;let a=-1,l;for(;++a<o.length;){const s=o[a];if(s.type==="paragraph"){l=s;break}}l===t&&(r.value=r.value.slice(1),r.value.length===0?t.children.shift():t.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,t.position.start=Object.assign({},r.position.start)))}}this.exit(e)}i(pc,"exitParagraphWithTaskListItem");function hc(e,n,t,r){const o=e.children[0],a=typeof e.checked=="boolean"&&o&&o.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",s=t.createTracker(r);a&&s.move(l);let c=ci.listItem(e,n,t,{...r,...s.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(p){return p+l}i(u,"check")}i(hc,"listItemWithTaskListItem");function dc(){return[Us(),hu(),xu(),rc(),cc()]}i(dc,"gfmFromMarkdown");function mc(e){return{extensions:[Qs(),du(e),yu(),uc(e),fc()]}}i(mc,"gfmToMarkdown");const gc={tokenize:Sc,partial:!0},fi={tokenize:Cc,partial:!0},pi={tokenize:Ec,partial:!0},hi={tokenize:Ic,partial:!0},xc={tokenize:_c,partial:!0},di={name:"wwwAutolink",tokenize:kc,previous:gi},mi={name:"protocolAutolink",tokenize:wc,previous:xi},Se={name:"emailAutolink",tokenize:bc,previous:yi},ye={};function yc(){return{text:ye}}i(yc,"gfmAutolinkLiteral");let ze=48;for(;ze<123;)ye[ze]=Se,ze++,ze===58?ze=65:ze===91&&(ze=97);ye[43]=Se;ye[45]=Se;ye[46]=Se;ye[95]=Se;ye[72]=[Se,mi];ye[104]=[Se,mi];ye[87]=[Se,di];ye[119]=[Se,di];function bc(e,n,t){const r=this;let o,a;return l;function l(f){return!Jt(f)||!yi.call(r,r.previous)||gn(r.events)?t(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return Jt(f)?(e.consume(f),s):f===64?(e.consume(f),c):t(f)}function c(f){return f===46?e.check(xc,p,u)(f):f===45||f===95||ne(f)?(a=!0,e.consume(f),c):p(f)}function u(f){return e.consume(f),o=!0,c}function p(f){return a&&o&&ie(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(f)):t(f)}}i(bc,"tokenizeEmailAutolink");function kc(e,n,t){const r=this;return o;function o(l){return l!==87&&l!==119||!gi.call(r,r.previous)||gn(r.events)?t(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(gc,e.attempt(fi,e.attempt(pi,a),t),t)(l))}function a(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(l)}}i(kc,"tokenizeWwwAutolink");function wc(e,n,t){const r=this;let o="",a=!1;return l;function l(f){return(f===72||f===104)&&xi.call(r,r.previous)&&!gn(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(f),e.consume(f),s):t(f)}function s(f){if(ie(f)&&o.length<5)return o+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const d=o.toLowerCase();if(d==="http"||d==="https")return e.consume(f),c}return t(f)}function c(f){return f===47?(e.consume(f),a?u:(a=!0,c)):t(f)}function u(f){return f===null||ct(f)||G(f)||je(f)||gt(f)?t(f):e.attempt(fi,e.attempt(pi,p),t)(f)}function p(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(f)}}i(wc,"tokenizeProtocolAutolink");function Sc(e,n,t){let r=0;return o;function o(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),o):l===46&&r===3?(e.consume(l),a):t(l)}function a(l){return l===null?t(l):n(l)}}i(Sc,"tokenizeWwwPrefix");function Cc(e,n,t){let r,o,a;return l;function l(u){return u===46||u===95?e.check(hi,c,s)(u):u===null||G(u)||je(u)||u!==45&&gt(u)?c(u):(a=!0,e.consume(u),l)}function s(u){return u===95?r=!0:(o=r,r=void 0),e.consume(u),l}function c(u){return o||r||!a?t(u):n(u)}}i(Cc,"tokenizeDomain");function Ec(e,n){let t=0,r=0;return o;function o(l){return l===40?(t++,e.consume(l),o):l===41&&r<t?a(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(hi,n,a)(l):l===null||G(l)||je(l)?n(l):(e.consume(l),o)}function a(l){return l===41&&r++,e.consume(l),o}}i(Ec,"tokenizePath");function Ic(e,n,t){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),o):s===60||s===null||G(s)||je(s)?n(s):t(s)}function o(s){return s===null||s===40||s===91||G(s)||je(s)?n(s):r(s)}function a(s){return ie(s)?l(s):t(s)}function l(s){return s===59?(e.consume(s),r):ie(s)?(e.consume(s),l):t(s)}}i(Ic,"tokenizeTrail");function _c(e,n,t){return r;function r(a){return e.consume(a),o}function o(a){return ne(a)?t(a):n(a)}}i(_c,"tokenizeEmailDomainDotTrail");function gi(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||G(e)}i(gi,"previousWww");function xi(e){return!ie(e)}i(xi,"previousProtocol");function yi(e){return!(e===47||Jt(e))}i(yi,"previousEmail");function Jt(e){return e===43||e===45||e===46||e===95||ne(e)}i(Jt,"gfmAtext");function gn(e){let n=e.length,t=!1;for(;n--;){const r=e[n][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return e.length>0&&!t&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}i(gn,"previousUnbalanced");const Tc={tokenize:Dc,partial:!0};function vc(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Lc,continuation:{tokenize:Fc},exit:Pc}},text:{91:{name:"gfmFootnoteCall",tokenize:jc},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ac,resolveTo:zc}}}}i(vc,"gfmFootnote");function Ac(e,n,t){const r=this;let o=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;o--;){const c=r.events[o][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return s;function s(c){if(!l||!l._balanced)return t(c);const u=ge(r.sliceSerialize({start:l.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?t(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),n(c))}}i(Ac,"tokenizePotentialGfmFootnoteCall");function zc(e,n){let t=e.length;for(;t--;)if(e[t][1].type==="labelImage"&&e[t][0]==="enter"){e[t][1];break}e[t+1][1].type="data",e[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[t+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[t+3][1].end),end:Object.assign({},e[t+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[t+1],e[t+2],["enter",r,n],e[t+3],e[t+4],["enter",o,n],["exit",o,n],["enter",a,n],["enter",l,n],["exit",l,n],["exit",a,n],e[e.length-2],e[e.length-1],["exit",r,n]];return e.splice(t,e.length-t+1,...s),e}i(zc,"resolveToPotentialGfmFootnoteCall");function jc(e,n,t){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,l;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?t(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!l||f===null||f===91||G(f))return t(f);if(f===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return o.includes(ge(r.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):t(f)}return G(f)||(l=!0),a++,e.consume(f),f===92?p:u}function p(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}i(jc,"tokenizeGfmFootnoteCall");function Lc(e,n,t){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,l=0,s;return c;function c(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):t(y)}function p(y){if(l>999||y===93&&!s||y===null||y===91||G(y))return t(y);if(y===93){e.exit("chunkString");const b=e.exit("gfmFootnoteDefinitionLabelString");return a=ge(r.sliceSerialize(b)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return G(y)||(s=!0),l++,e.consume(y),y===92?f:p}function f(y){return y===91||y===92||y===93?(e.consume(y),l++,p):p(y)}function d(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),o.includes(a)||o.push(a),W(e,h,"gfmFootnoteDefinitionWhitespace")):t(y)}function h(y){return n(y)}}i(Lc,"tokenizeDefinitionStart");function Fc(e,n,t){return e.check(Ze,n,e.attempt(Tc,n,t))}i(Fc,"tokenizeDefinitionContinuation");function Pc(e){e.exit("gfmFootnoteDefinition")}i(Pc,"gfmFootnoteDefinitionEnd");function Dc(e,n,t){const r=this;return W(e,o,"gfmFootnoteDefinitionIndent",5);function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?n(a):t(a)}}i(Dc,"tokenizeIndent");function Rc(e){let t=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:o};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(l,s){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let u=c;for(;u--;)if(l[u][0]==="exit"&&l[u][1].type==="strikethroughSequenceTemporary"&&l[u][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[u][1].end.offset-l[u][1].start.offset){l[c][1].type="strikethroughSequence",l[u][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[u][1].start),end:Object.assign({},l[c][1].end)},f={type:"strikethroughText",start:Object.assign({},l[u][1].end),end:Object.assign({},l[c][1].start)},d=[["enter",p,s],["enter",l[u][1],s],["exit",l[u][1],s],["enter",f,s]],h=s.parser.constructs.insideSpan.null;h&&ce(d,d.length,0,xt(h,l.slice(u+1,c),s)),ce(d,d.length,0,[["exit",f,s],["enter",l[c][1],s],["exit",l[c][1],s],["exit",p,s]]),ce(l,u-1,c-u+3,d),c=u+d.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}i(o,"resolveAllStrikethrough");function a(l,s,c){const u=this.previous,p=this.events;let f=0;return d;function d(y){return u===126&&p[p.length-1][1].type!=="characterEscape"?c(y):(l.enter("strikethroughSequenceTemporary"),h(y))}function h(y){const b=Be(u);if(y===126)return f>1?c(y):(l.consume(y),f++,h);if(f<2&&!t)return c(y);const S=l.exit("strikethroughSequenceTemporary"),k=Be(y);return S._open=!k||k===2&&!!b,S._close=!b||b===2&&!!k,s(y)}}i(a,"tokenizeStrikethrough")}i(Rc,"gfmStrikethrough");const kn=class kn{constructor(){this.map=[]}add(n,t,r){Bc(this,n,t,r)}consume(n){if(this.map.sort(function(a,l){return a[0]-l[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(n.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),n.length=this.map[t][0];r.push(n.slice()),n.length=0;let o=r.pop();for(;o;){for(const a of o)n.push(a);o=r.pop()}this.map.length=0}};i(kn,"EditMap");let Kt=kn;function Bc(e,n,t,r){let o=0;if(!(t===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===n){e.map[o][1]+=t,e.map[o][2].push(...r);return}o+=1}e.map.push([n,t,r])}}i(Bc,"addImplementation");function Oc(e,n){let t=!1;const r=[];for(;n<e.length;){const o=e[n];if(t){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(t=!0);n+=1}return r}i(Oc,"gfmTableAlign");function Nc(){return{flow:{null:{name:"table",tokenize:Mc,resolveAll:$c}}}}i(Nc,"gfmTable");function Mc(e,n,t){const r=this;let o=0,a=0,l;return s;function s(w){let j=r.events.length-1;for(;j>-1;){const P=r.events[j][1].type;if(P==="lineEnding"||P==="linePrefix")j--;else break}const L=j>-1?r.events[j][1].type:null,Q=L==="tableHead"||L==="tableRow"?E:c;return Q===E&&r.parser.lazy[r.now().line]?t(w):Q(w)}function c(w){return e.enter("tableHead"),e.enter("tableRow"),u(w)}function u(w){return w===124||(l=!0,a+=1),p(w)}function p(w){return w===null?t(w):D(w)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),h):t(w):V(w)?W(e,p,"whitespace")(w):(a+=1,l&&(l=!1,o+=1),w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),l=!0,p):(e.enter("data"),f(w)))}function f(w){return w===null||w===124||G(w)?(e.exit("data"),p(w)):(e.consume(w),w===92?d:f)}function d(w){return w===92||w===124?(e.consume(w),f):f(w)}function h(w){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(w):(e.enter("tableDelimiterRow"),l=!1,V(w)?W(e,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):y(w))}function y(w){return w===45||w===58?S(w):w===124?(l=!0,e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),b):O(w)}function b(w){return V(w)?W(e,S,"whitespace")(w):S(w)}function S(w){return w===58?(a+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),k):w===45?(a+=1,k(w)):w===null||D(w)?B(w):O(w)}function k(w){return w===45?(e.enter("tableDelimiterFiller"),_(w)):O(w)}function _(w){return w===45?(e.consume(w),_):w===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),I):(e.exit("tableDelimiterFiller"),I(w))}function I(w){return V(w)?W(e,B,"whitespace")(w):B(w)}function B(w){return w===124?y(w):w===null||D(w)?!l||o!==a?O(w):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(w)):O(w)}function O(w){return t(w)}function E(w){return e.enter("tableRow"),N(w)}function N(w){return w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),N):w===null||D(w)?(e.exit("tableRow"),n(w)):V(w)?W(e,N,"whitespace")(w):(e.enter("data"),H(w))}function H(w){return w===null||w===124||G(w)?(e.exit("data"),N(w)):(e.consume(w),w===92?$:H)}function $(w){return w===92||w===124?(e.consume(w),H):H(w)}}i(Mc,"tokenizeTable");function $c(e,n){let t=-1,r=!0,o=0,a=[0,0,0,0],l=[0,0,0,0],s=!1,c=0,u,p,f;const d=new Kt;for(;++t<e.length;){const h=e[t],y=h[1];h[0]==="enter"?y.type==="tableHead"?(s=!1,c!==0&&(ur(d,n,c,u,p),p=void 0,c=0),u={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},d.add(t,0,[["enter",u,n]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],l=[0,t+1,0,0],s&&(s=!1,p={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},d.add(t,0,[["enter",p,n]])),o=y.type==="tableDelimiterRow"?2:p?3:1):o&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(a[1]!==0&&(l[0]=l[1],f=st(d,n,a,o,void 0,f),a=[0,0,0,0]),l[2]=t)):y.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(l[0]=l[1],f=st(d,n,a,o,void 0,f)),a=l,l=[a[1],t,0,0])):y.type==="tableHead"?(s=!0,c=t):y.type==="tableRow"||y.type==="tableDelimiterRow"?(c=t,a[1]!==0?(l[0]=l[1],f=st(d,n,a,o,t,f)):l[1]!==0&&(f=st(d,n,l,o,t,f)),o=0):o&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(l[3]=t)}for(c!==0&&ur(d,n,c,u,p),d.consume(n.events),t=-1;++t<n.events.length;){const h=n.events[t];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=Oc(n.events,t))}return e}i($c,"resolveTable");function st(e,n,t,r,o,a){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";t[0]!==0&&(a.end=Object.assign({},Re(n.events,t[0])),e.add(t[0],0,[["exit",a,n]]));const c=Re(n.events,t[1]);if(a={type:l,start:Object.assign({},c),end:Object.assign({},c)},e.add(t[1],0,[["enter",a,n]]),t[2]!==0){const u=Re(n.events,t[2]),p=Re(n.events,t[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},p)};if(e.add(t[2],0,[["enter",f,n]]),r!==2){const d=n.events[t[2]],h=n.events[t[3]];if(d[1].end=Object.assign({},h[1].end),d[1].type="chunkText",d[1].contentType="text",t[3]>t[2]+1){const y=t[2]+1,b=t[3]-t[2]-1;e.add(y,b,[])}}e.add(t[3]+1,0,[["exit",f,n]])}return o!==void 0&&(a.end=Object.assign({},Re(n.events,o)),e.add(o,0,[["exit",a,n]]),a=void 0),a}i(st,"flushCell");function ur(e,n,t,r,o){const a=[],l=Re(n.events,t);o&&(o.end=Object.assign({},l),a.push(["exit",o,n])),r.end=Object.assign({},l),a.push(["exit",r,n]),e.add(t+1,0,a)}i(ur,"flushTableEnd");function Re(e,n){const t=e[n],r=t[0]==="enter"?"start":"end";return t[1][r]}i(Re,"getPoint");const Hc={name:"tasklistCheck",tokenize:Vc};function qc(){return{text:{91:Hc}}}i(qc,"gfmTaskListItem");function Vc(e,n,t){const r=this;return o;function o(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return G(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),l):t(c)}function l(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):t(c)}function s(c){return D(c)?n(c):V(c)?e.check({tokenize:Wc},n,t)(c):t(c)}}i(Vc,"tokenizeTasklistCheck");function Wc(e,n,t){return W(e,r,"whitespace");function r(o){return o===null?t(o):n(o)}}i(Wc,"spaceThenNonSpace");function Uc(e){return zr([yc(),vc(),Rc(e),Nc(),qc()])}i(Uc,"gfm");const Qc={};function Yc(e){const n=this,t=e||Qc,r=n.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(Uc(t)),a.push(dc()),l.push(mc(t))}i(Yc,"remarkGfm");const F={chatMessage:{display:"flex",padding:"8px 20px",marginBottom:"2px",position:"relative",transition:"background-color 0.1s ease",width:"100%",boxSizing:"border-box",borderRadius:"0"},avatarContainer:{marginTop:"4px",marginRight:"16px",flexShrink:0},userAvatar:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},messageHeader:{display:"flex",alignItems:"baseline",marginBottom:"4px",gap:"8px"},timestamp:{fontSize:"0.75rem",color:"#949ba4",fontWeight:"400",lineHeight:"1.375rem",marginLeft:"4px",fontFamily:"'gg sans', 'Noto Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},messageContent:{color:"#dcddde",fontSize:"1rem",lineHeight:"1.375rem",whiteSpace:"pre-wrap",wordBreak:"break-word",fontWeight:"400",fontFamily:"'gg sans', 'Noto Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},contentWrapper:{flex:1,minWidth:0,maxWidth:"100%"},messageActions:{position:"absolute",top:"-10px",right:"10px",backgroundColor:"#313338",borderRadius:"8px",padding:"4px",display:"flex",gap:"4px",border:"1px solid rgba(255,255,255,0.08)",zIndex:50,boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},actionButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.2em",padding:"6px",display:"flex",borderRadius:"4px",transition:"all 0.1s"},inlineCode:{backgroundColor:"#2b2d31",padding:"2px 4px",borderRadius:"3px",fontFamily:"'Consolas', monospace",fontSize:"0.85em",border:"1px solid rgba(255,255,255,0.05)"},messageImage:{maxWidth:"min(300px, 70%)",maxHeight:"250px",width:"auto",height:"auto",display:"block",objectFit:"cover",borderRadius:"8px",marginTop:"8px",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},messageVideo:{maxWidth:"min(400px, 80%)",maxHeight:"300px",width:"auto",height:"auto",borderRadius:"8px",marginTop:"8px",backgroundColor:"black"},fileAttachment:{display:"flex",alignItems:"center",padding:"12px 16px",backgroundColor:"#2b2d31",borderRadius:8,marginTop:8,border:"1px solid rgba(255,255,255,0.06)",maxWidth:490,transition:"all 0.2s ease",cursor:"default"},fileIcon:{fontSize:28,marginRight:12,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40},fileInfo:{flex:1,minWidth:0,marginRight:12},fileName:{color:"#00a8fc",fontSize:14,fontWeight:500,marginBottom:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontFamily:"'gg sans', 'Noto Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},fileDetails:{color:"#72767d",fontSize:12,fontFamily:"'gg sans', 'Noto Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif"},downloadButton:{display:"flex",alignItems:"center",padding:"8px 14px",backgroundColor:"transparent",color:"#b5bac1",borderRadius:4,textDecoration:"none",fontSize:20,transition:"all 0.2s ease",border:"none",cursor:"pointer",flexShrink:0},reactionsRow:{display:"flex",gap:"4px",marginTop:"6px",flexWrap:"wrap"},reactionTag:{backgroundColor:"#2b2d31",padding:"4px 8px",borderRadius:"8px",fontSize:"0.85em",cursor:"pointer",color:"#b9bbbe",border:"1px solid transparent",display:"flex",alignItems:"center",gap:"4px"},footerRow:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"4px",minHeight:"20px"},readReceipt:{fontSize:"0.75em",color:"#b9bbbe",marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px"},replyContainer:{display:"flex",alignItems:"center",fontSize:"0.85em",color:"#b9bbbe",marginBottom:"4px",opacity:.8},replyLine:{width:"30px",borderTop:"2px solid #4f545c",borderLeft:"2px solid #4f545c",height:"10px",marginRight:"8px",borderTopLeftRadius:"6px",marginTop:"6px"},historyDropdown:{position:"absolute",top:"100%",left:0,width:"280px",backgroundColor:"#1e1f22",border:"1px solid #111214",borderRadius:"8px",padding:"12px",zIndex:100,boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},historyHeader:{margin:"0 0 10px 0",fontSize:"0.9em",color:"#fff",borderBottom:"1px solid #2f3136",paddingBottom:"8px"},historyItem:{marginBottom:"12px",fontSize:"0.85em",color:"#b9bbbe",paddingBottom:"8px",borderBottom:"1px solid #2b2d31"},langBadge:{textTransform:"uppercase",fontSize:"0.7em",fontWeight:"bold",padding:"2px 4px",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.1)",marginLeft:"8px"},chartBtn:{marginTop:"5px",backgroundColor:"rgba(240, 178, 50, 0.1)",border:"1px solid #f0b232",color:"#f0b232",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"0.85em",display:"inline-flex",alignItems:"center",gap:"6px"},pollContainer:{marginTop:"10px",padding:"12px",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",backgroundColor:"rgba(0,0,0,0.2)"},pollOption:{display:"flex",justifyContent:"space-between",width:"100%",padding:"10px",margin:"6px 0",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",textAlign:"left",backgroundColor:"rgba(255,255,255,0.05)",transition:"background 0.2s"},snippetContainer:{marginTop:"8px",borderRadius:"8px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.08)"},snippetHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",backgroundColor:"#2b2d31",fontSize:"0.85em",color:"#b9bbbe"},contextMenu:{position:"fixed",backgroundColor:"#18191c",border:"1px solid #2b2d31",borderRadius:"6px",boxShadow:"0 8px 16px rgba(0,0,0,0.5)",zIndex:1e4,minWidth:"220px",overflow:"hidden",padding:"6px 0"},contextMenuItem:{padding:"10px 14px",cursor:"pointer",color:"#b5bac1",fontSize:"0.9em",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.15s",backgroundColor:"transparent"},contextMenuDivider:{height:"1px",backgroundColor:"#2b2d31",margin:"6px 0"},voiceTranscription:{display:"flex",alignItems:"flex-start",gap:"8px",marginTop:"8px",padding:"10px 12px",backgroundColor:"rgba(114, 137, 218, 0.1)",border:"1px solid rgba(114, 137, 218, 0.3)",borderRadius:"8px",maxWidth:"400px"},transcriptionIcon:{fontSize:"16px",flexShrink:0,marginTop:"2px"},transcriptionText:{flex:1,fontSize:"13px",lineHeight:"1.5",color:"#dcddde",fontStyle:"italic"},transcribeButton:{marginTop:"8px",padding:"6px 12px",backgroundColor:"rgba(88, 101, 242, 0.15)",border:"1px solid rgba(88, 101, 242, 0.4)",borderRadius:"6px",color:"#7289da",fontSize:"12px",cursor:"pointer",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"6px"},transcribingLoader:{marginTop:"8px",padding:"6px 12px",color:"#72767d",fontSize:"12px",fontStyle:"italic"}};if(typeof document<"u"){const e=document.createElement("style");e.innerText=`
    .message-hover-trigger:hover { background-color: rgba(255, 255, 255, 0.03) !important; }
    .action-button:hover { background-color: rgba(255, 255, 255, 0.1); color: white; }
    .poll-option:hover { background-color: rgba(255, 255, 255, 0.1) !important; }
    .context-menu-item:hover { background-color: #5865f2 !important; color: #fff !important; }
    .context-menu-item.danger:hover { background-color: #ed4245 !important; }
    
    /* 🆕 File Attachment Hover Effects */
    .file-attachment-hover:hover {
        background-color: #32353b !important;
        border-color: rgba(255,255,255,0.1) !important;
    }
    .download-button-hover:hover {
        color: #dcddde !important;
        background-color: rgba(255,255,255,0.06) !important;
        border-radius: 4px;
    }
    .download-button-hover:active {
        transform: scale(0.95);
    }
    
    /* FileCodePreview hover */
    .file-code-preview-hover:hover {
        border-color: rgba(255,255,255,0.12) !important;
    }
    .file-code-header-btn:hover {
        background-color: rgba(255,255,255,0.1) !important;
        color: #dcddde !important;
    }
    .file-code-footer:hover {
        background-color: #32353b !important;
    }
`,document.head.appendChild(e)}const Gc=z.memo(({src:e,style:n})=>{const t=z.useRef(null),[r,o]=z.useState(!1);return z.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&(o(!0),a.disconnect())},{threshold:.2});return t.current&&a.observe(t.current),()=>{t.current&&a.unobserve(t.current)}},[]),x.jsx("div",{ref:t,style:{minHeight:"200px",...n,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000"},children:r?x.jsxs("video",{controls:!0,preload:"metadata",src:e,style:n,children:["Tarayıcınız video oynatmayı desteklemiyor.",x.jsx("a",{href:e,download:!0,children:"İndir"})]}):x.jsx("span",{style:{color:"#aaa"},children:"Video Yükleniyor..."})})}),Xc=z.memo(({children:e,minHeight:n=60})=>{const t=z.useRef(null),[r,o]=z.useState(!1);return z.useEffect(()=>{const a=new IntersectionObserver(([l])=>{l.isIntersecting&&(o(!0),a.disconnect())},{threshold:.1});return t.current&&a.observe(t.current),()=>a.disconnect()},[]),x.jsx("div",{ref:t,style:{minHeight:n},children:r?e:null})}),Jc=i(({messageId:e,messageEditHistoryUrl:n,fetchWithAuth:t})=>{const[r,o]=z.useState([]),[a,l]=z.useState(!1),s=z.useRef(null);return z.useEffect(()=>{if(!a)return;i(async()=>{try{const p=await t(`${n}${e}/edit_history/`);p.ok&&o(await p.json())}catch{}},"fetchHistory")();const u=i(p=>{s.current&&!s.current.contains(p.target)&&l(!1)},"handleClickOutside");return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[a,e,n,t]),x.jsxs("div",{style:{position:"relative",display:"inline-block",marginLeft:"5px"},ref:s,children:[x.jsx("span",{onClick:i(c=>{c.stopPropagation(),l(!a)},"onClick"),style:{fontSize:"0.7em",color:"#72767d",cursor:"pointer",textDecoration:"underline"},children:"(düzenlendi)"}),a&&x.jsxs("div",{style:F.historyDropdown,children:[x.jsxs("h4",{style:F.historyHeader,children:["Geçmiş (",r.length,")"]}),x.jsx("div",{style:{maxHeight:"200px",overflowY:"auto"},children:r.map((c,u)=>x.jsxs("div",{style:F.historyItem,children:[x.jsx("small",{children:new Date(c.edited_at).toLocaleString()}),x.jsx("div",{children:x.jsx("del",{children:c.old_content})})]},u))})]})]})},"EditHistory"),Kc=i(e=>{if(!e)return"";const n=new Date(e),t=new Date;return n.toDateString()===t.toDateString()?n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n.toLocaleString([],{hour:"2-digit",minute:"2-digit"})},"formatTimestamp"),Zc=z.lazy(()=>he(()=>import("./BookmarkButton-TTfr2p03.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.BookmarkButton}))),ef=z.lazy(()=>he(()=>import("./BookmarkButton-TTfr2p03.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.StarButton}))),tf=z.lazy(()=>he(()=>import("./BookmarkButton-TTfr2p03.js"),__vite__mapDeps([0,1,2])).then(e=>({default:e.ReadLaterButton}))),nf=i(({msg:e,isMyMessage:n,isAdmin:t,currentPermissions:r,onSetReply:o,onStartEdit:a,onDelete:l,onTogglePin:s,onToggleReaction:c,onToggleSelection:u,onStartForward:p,onQuote:f,showReactionPicker:d,setShowReactionPicker:h,setShowReminderModal:y,setShowThreadModal:b,fetchWithAuth:S,absoluteHostUrl:k})=>{const _=z.lazy(()=>he(()=>import("./ReactionPicker-DrE1rP-3.js"),__vite__mapDeps([3,1])));return x.jsxs("div",{style:F.messageActions,children:[d&&x.jsx(z.Suspense,{fallback:null,children:x.jsx(_,{onEmojiSelect:i(I=>c(e.id,I),"onEmojiSelect"),onClose:i(()=>h(!1),"onClose")})}),x.jsx("button",{onClick:i(()=>h(!0),"onClick"),style:F.actionButton,title:"Tepki",children:x.jsx(hr,{})}),x.jsx("button",{onClick:i(()=>o(e),"onClick"),style:F.actionButton,title:"Yanıtla",children:x.jsx(dr,{})}),x.jsx("button",{onClick:f,style:F.actionButton,title:"Alıntıla",children:x.jsx(Ci,{})}),x.jsx("button",{onClick:i(()=>u(e.id),"onClick"),style:F.actionButton,title:"Seç",children:x.jsx(mr,{})}),x.jsx("button",{onClick:i(()=>p(e),"onClick"),style:F.actionButton,title:"İlet",children:x.jsx(gr,{})}),x.jsxs(z.Suspense,{fallback:null,children:[x.jsx(Zc,{messageId:e.id,isBookmarked:e.is_bookmarked,fetchWithAuth:S,apiBaseUrl:k}),x.jsx(ef,{messageId:e.id,isStarred:e.is_starred,fetchWithAuth:S,apiBaseUrl:k}),x.jsx(tf,{messageId:e.id,isReadLater:e.is_read_later,fetchWithAuth:S,apiBaseUrl:k})]}),x.jsx("button",{onClick:i(()=>y(!0),"onClick"),style:F.actionButton,title:"Hatırlatıcı Kur",children:x.jsx(xr,{})}),x.jsx("button",{onClick:i(()=>b(!0),"onClick"),style:F.actionButton,title:"Thread Başlat",children:x.jsx(yr,{})}),!n&&x.jsx("button",{onClick:i(async()=>{const I=prompt("Rapor sebebi:");I&&(await S(`${k}/api/messages/report/`,{method:"POST",body:JSON.stringify({message_id:e.id,reason:I})}),we.success("✅ Rapor gönderildi"))},"onClick"),style:F.actionButton,title:"Rapor Et",children:x.jsx(br,{})}),n&&e.content&&x.jsx("button",{onClick:i(()=>a(e),"onClick"),style:F.actionButton,title:"Düzenle",children:x.jsx(kr,{})}),(n||t||r.can_delete_messages)&&x.jsx("button",{onClick:i(()=>l(e.id),"onClick"),style:F.actionButton,title:"Sil",children:x.jsx(wr,{})}),t&&e.room&&x.jsx("button",{onClick:i(()=>s(e.id),"onClick"),style:F.actionButton,title:"Sabitle",children:x.jsx(Zt,{})})]})},"MessageToolbar"),rf=i(({contextMenu:e,msg:n,isMyMessage:t,displayContent:r,onSetReply:o,onStartEdit:a,onDelete:l,onTogglePin:s,onStartForward:c,setShowReactionPicker:u,setShowThreadModal:p,setShowReminderModal:f,setContextMenu:d,fetchWithAuth:h,absoluteHostUrl:y})=>{if(!e)return null;const b=i((S,k,_,I)=>x.jsxs("div",{className:"context-menu-item",style:{...F.contextMenuItem,...I?{color:"#ed4245"}:{}},onClick:_,children:[S," ",k]}),"menuItem");return x.jsxs("div",{style:{...F.contextMenu,left:`${e.x}px`,top:`${e.y}px`},onClick:i(S=>S.stopPropagation(),"onClick"),children:[b(x.jsx(hr,{}),"Tepki Ekle",()=>{u(!0),d(null)}),b(x.jsx(dr,{}),"Yanıtla",()=>{o(n),d(null)}),t&&n.content&&b(x.jsx(kr,{}),"Düzenle",()=>{a(n),d(null)}),b(x.jsx(Ei,{}),"Mesajı Kopyala",()=>{navigator.clipboard.writeText(r),we.success("✅ Mesaj kopyalandı"),d(null)}),b(x.jsx(Zt,{}),n.is_pinned?"Sabitlemeyi Kaldır":"Sabitle",async()=>{await s(n.id),d(null)}),b(x.jsx(gr,{}),"İlet",()=>{c(n),d(null)}),b(x.jsx(yr,{}),"Thread Başlat",()=>{p(!0),d(null)}),b(x.jsx(xr,{}),"Hatırlatıcı Kur",()=>{f(!0),d(null)}),x.jsx("div",{style:F.contextMenuDivider}),t&&b(x.jsx(wr,{}),"Sil",async()=>{await ji("Bu mesajı silmek istediğinize emin misiniz?")&&(await l(n.id),d(null))},!0),!t&&b(x.jsx(br,{}),"Rapor Et",async()=>{const S=prompt("Rapor sebebi:");S&&(await h(`${y}/api/messages/report/`,{method:"POST",body:JSON.stringify({message_id:n.id,reason:S})}),we.success("✅ Rapor gönderildi"),d(null))},!0)]})},"MessageContextMenu"),bi={js:"JavaScript",jsx:"JavaScript",ts:"TypeScript",tsx:"TypeScript",py:"Python",rb:"Ruby",go:"Go",rs:"Rust",java:"Java",c:"C",cpp:"C++",cs:"C#",swift:"Swift",kt:"Kotlin",php:"PHP",sh:"Shell",bash:"Shell",bat:"Batch",cmd:"Batch",ps1:"PowerShell",psm1:"PowerShell",html:"HTML",htm:"HTML",css:"CSS",scss:"SCSS",less:"LESS",json:"JSON",xml:"XML",yaml:"YAML",yml:"YAML",toml:"TOML",md:"Markdown",txt:"Text",log:"Log",ini:"INI",cfg:"Config",env:"Environment",sql:"SQL",graphql:"GraphQL",dockerfile:"Dockerfile",makefile:"Makefile",r:"R",dart:"Dart",lua:"Lua",perl:"Perl",pl:"Perl",vue:"Vue",svelte:"Svelte"},of=new Set(Object.keys(bi)),lf={js:"#f7df1e",jsx:"#61dafb",ts:"#3178c6",tsx:"#3178c6",py:"#3572A5",rb:"#CC342D",go:"#00ADD8",rs:"#dea584",java:"#b07219",c:"#555555",cpp:"#f34b7d",cs:"#178600",swift:"#F05138",kt:"#A97BFF",php:"#4F5D95",sh:"#89e051",bash:"#89e051",bat:"#C1F12E",cmd:"#C1F12E",ps1:"#012456",html:"#e34c26",htm:"#e34c26",css:"#563d7c",scss:"#c6538c",json:"#292929",xml:"#0060ac",yaml:"#cb171e",yml:"#cb171e",md:"#083fa1",txt:"#b5bac1",sql:"#e38c00",log:"#999",env:"#ecd53f"},Mt=7,cr=120,ki=i(e=>{if(!e)return!1;const n=e.split(".").pop()?.toLowerCase()||"";return of.has(n)},"isCodeFile"),af=i(({fileUrl:e,fileName:n,fileSize:t,onDownload:r})=>{const[o,a]=z.useState(null),[l,s]=z.useState(!0),[c,u]=z.useState(!1),[p,f]=z.useState(!1),[d,h]=z.useState(!1),y=(n||"").split(".").pop()?.toLowerCase()||"",b=bi[y]||y.toUpperCase(),S=lf[y]||"#5865f2";z.useEffect(()=>{if(!e)return;i(async()=>{s(!0);try{const H=await fetch(e);if(!H.ok)throw new Error("Failed");const $=await H.text();$&&!$.includes("\0")?a($):u(!0)}catch{u(!0)}finally{s(!1)}},"fetchContent")()},[e]);const k=z.useCallback(()=>{o&&(navigator.clipboard.writeText(o),h(!0),setTimeout(()=>h(!1),2e3))},[o]),_=o?o.split(`
`):[],I=_.length,B=p?_:_.slice(0,Mt),O=I>Mt,E=t?sf(t):"";return c||!l&&!o?null:x.jsxs("div",{style:X.container,children:[x.jsxs("div",{style:X.header,children:[x.jsxs("div",{style:X.headerLeft,children:[x.jsx(Ii,{style:{color:S,fontSize:16,flexShrink:0}}),x.jsx("span",{style:X.fileName,children:n||"file"}),x.jsx("span",{style:{...X.langBadge,color:S,borderColor:`${S}40`},children:b}),E&&x.jsx("span",{style:X.fileSize,children:E})]}),x.jsxs("div",{style:X.headerActions,children:[x.jsx("button",{onClick:k,style:X.headerBtn,title:d?"Kopyalandı!":"Kodu Kopyala",children:d?x.jsx(mr,{style:{color:"#57F287"}}):x.jsx(_i,{})}),O&&x.jsx("button",{onClick:i(()=>f(!p),"onClick"),style:X.headerBtn,title:p?"Daralt":"Tümünü Göster",children:x.jsx(Ti,{})}),x.jsx("a",{href:e,download:n,style:X.headerBtn,title:"İndir",onClick:i(N=>N.stopPropagation(),"onClick"),children:x.jsx(Sr,{})})]})]}),x.jsx("div",{style:X.codeArea,children:l?x.jsxs("div",{style:X.loadingArea,children:[x.jsx("div",{style:X.loadingLine}),x.jsx("div",{style:{...X.loadingLine,width:"70%"}}),x.jsx("div",{style:{...X.loadingLine,width:"85%"}}),x.jsx("div",{style:{...X.loadingLine,width:"60%"}})]}):x.jsx("table",{style:X.codeTable,children:x.jsx("tbody",{children:B.map((N,H)=>x.jsxs("tr",{style:X.codeLine,children:[x.jsx("td",{style:X.lineNumber,children:H+1}),x.jsx("td",{style:X.lineContent,children:N.length>cr&&!p?N.substring(0,cr)+"…":N||" "})]},H))})})}),O&&!p&&x.jsx("div",{style:X.footer,onClick:i(()=>f(!0),"onClick"),children:x.jsxs("span",{style:X.footerText,children:[I-Mt," satır daha..."]})}),p&&O&&x.jsx("div",{style:X.footer,onClick:i(()=>f(!1),"onClick"),children:x.jsx("span",{style:X.footerText,children:"Daralt"})})]})},"FileCodePreview$1");function sf(e){return e?e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`:""}i(sf,"formatFileSize");const X={container:{marginTop:8,maxWidth:490,borderRadius:8,overflow:"hidden",border:"1px solid #2a2d33",backgroundColor:"#2b2d31",transition:"border-color 0.2s"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",backgroundColor:"#2b2d31",borderBottom:"1px solid rgba(255,255,255,0.06)",gap:8},headerLeft:{display:"flex",alignItems:"center",gap:8,flex:1,minWidth:0},fileName:{color:"#00a8fc",fontSize:14,fontWeight:500,cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},langBadge:{fontSize:10,fontWeight:600,padding:"2px 6px",borderRadius:4,border:"1px solid",textTransform:"uppercase",letterSpacing:.5,flexShrink:0},fileSize:{fontSize:11,color:"#72767d",flexShrink:0},headerActions:{display:"flex",alignItems:"center",gap:2},headerBtn:{width:30,height:30,display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",color:"#b5bac1",cursor:"pointer",borderRadius:4,fontSize:13,transition:"all 0.15s",textDecoration:"none"},codeArea:{backgroundColor:"#1e1f22",maxHeight:400,overflowY:"auto",overflowX:"auto"},codeTable:{borderCollapse:"collapse",width:"100%",fontFamily:"'Consolas', 'Monaco', 'Courier New', monospace",fontSize:13,lineHeight:"20px"},codeLine:{height:20},lineNumber:{color:"#5c6370",textAlign:"right",paddingRight:12,paddingLeft:12,userSelect:"none",width:1,whiteSpace:"nowrap",verticalAlign:"top",borderRight:"1px solid rgba(255,255,255,0.06)"},lineContent:{color:"#dcddde",paddingLeft:12,paddingRight:12,whiteSpace:"pre",tabSize:4},loadingArea:{padding:"12px 16px",display:"flex",flexDirection:"column",gap:8},loadingLine:{height:12,backgroundColor:"rgba(255,255,255,0.06)",borderRadius:4,animation:"pulse 1.5s ease-in-out infinite"},footer:{padding:"8px 12px",backgroundColor:"#2b2d31",borderTop:"1px solid rgba(255,255,255,0.06)",cursor:"pointer",textAlign:"center",transition:"background-color 0.15s"},footerText:{fontSize:12,color:"#00a8fc",fontWeight:500}},uf=z.memo(af),cf=Object.freeze(Object.defineProperty({__proto__:null,default:uf,isCodeFile:ki},Symbol.toStringTag,{value:"Module"})),ff=z.lazy(()=>he(()=>import("./LinkPreview-DdcprwAK.js"),__vite__mapDeps([4,1]))),$t=z.lazy(()=>he(()=>import("./VoiceMessagePlayer-f0kPzJtZ.js"),__vite__mapDeps([5,1,2]))),pf=z.lazy(()=>he(()=>Promise.resolve().then(()=>cf),void 0)),hf=i(({msg:e,displayContent:n,signalCoin:t,onShowChart:r,finalImageUrl:o,finalFileUrl:a,fullFileUrl:l,onImageClick:s,onContentLoad:c,localTranscription:u,localIsTranscribing:p,handleTranscribe:f,handleVote:d,fetchWithAuth:h,absoluteHostUrl:y})=>x.jsxs(x.Fragment,{children:[t&&x.jsxs("button",{onClick:i(()=>r(t),"onClick"),style:F.chartBtn,children:[x.jsx(vi,{})," ",t," Grafiği"]}),e.link_preview_data&&x.jsx(Xc,{minHeight:80,children:x.jsx(z.Suspense,{fallback:null,children:x.jsx(ff,{data:e.link_preview_data})})}),e.poll&&x.jsxs("div",{style:F.pollContainer,children:[x.jsx("h4",{style:{marginTop:0,marginBottom:10},children:e.poll.question}),x.jsxs("div",{style:{fontSize:"0.8em",color:"#b9bbbe",marginBottom:8},children:[e.poll.allow_multiple_votes?"Çoklu Seçim":"Tek Seçim"," • ",e.poll.total_votes||0," Oy"]}),e.poll.options.map(b=>{const S=b.is_voted,k=e.poll.total_votes||0,_=k>0?Math.round(b.vote_count/k*100):0;return x.jsx("div",{style:{position:"relative",marginBottom:6},children:x.jsxs("button",{onClick:i(()=>d(b.id),"onClick"),style:{...F.pollOption,backgroundColor:S?"#4752c4":"rgba(255,255,255,0.05)",border:S?"1px solid #5865f2":"1px solid transparent",justifyContent:"space-between",display:"flex",alignItems:"center",position:"relative",zIndex:2,width:"100%",overflow:"hidden",padding:"10px 12px"},children:[x.jsx("span",{style:{zIndex:3,textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:b.text}),x.jsxs("span",{style:{zIndex:3,fontWeight:"bold"},children:[b.vote_count," (",_,"%)"]}),x.jsx("div",{style:{position:"absolute",top:0,left:0,bottom:0,width:`${_}%`,backgroundColor:S?"rgba(255,255,255,0.2)":"rgba(88, 101, 242, 0.3)",zIndex:1,transition:"width 0.3s ease"}})]})},b.id)}),e.poll.expires_at&&x.jsxs("div",{style:{fontSize:"0.75em",color:"#72767d",marginTop:5},children:["Bitiş: ",new Date(e.poll.expires_at).toLocaleString()]})]}),o&&x.jsx("img",{src:o,alt:"attachment",style:F.messageImage,onClick:i(()=>s(o),"onClick"),loading:"lazy",onLoad:c}),e.is_voice_message&&l&&x.jsx(z.Suspense,{fallback:x.jsx("div",{style:{padding:"12px",color:"#72767d",fontSize:"13px"},children:"🎵 Ses yükleniyor..."}),children:x.jsxs("div",{children:[x.jsx($t,{audioUrl:l,duration:e.voice_duration||0,onDownload:i(()=>{const b=document.createElement("a");b.href=l,b.download=e.file_name||`voice-${Date.now()}.webm`,b.click()},"onDownload")}),u&&x.jsxs("div",{style:F.voiceTranscription,children:[x.jsx("div",{style:F.transcriptionIcon,children:"💬"}),x.jsx("div",{style:F.transcriptionText,children:u})]}),!u&&!p&&x.jsx("button",{onClick:f,style:F.transcribeButton,children:"📝 Metne Çevir"}),p&&x.jsx("div",{style:F.transcribingLoader,children:"⏳ Çevriliyor..."})]})}),a&&!e.is_voice_message&&(()=>{const b=(e.file_name||"").split(".").pop().toLowerCase(),S=(e.file_name||"").toLowerCase();if((S.startsWith("voice_")||S.startsWith("voice-"))&&b==="webm")return x.jsx(z.Suspense,{fallback:null,children:x.jsx($t,{audioUrl:a,duration:e.voice_duration||0,onDownload:i(()=>{const I=document.createElement("a");I.href=a,I.download=e.file_name||`voice-${Date.now()}.webm`,I.click()},"onDownload")})});if(["mp4","mov","mkv"].includes(b)||b==="webm"&&!S.startsWith("voice_")&&!S.startsWith("voice-"))return x.jsx(Gc,{src:a,style:F.messageVideo});if(["mp3","wav","ogg"].includes(b))return x.jsx(z.Suspense,{fallback:null,children:x.jsx($t,{audioUrl:a,duration:0,onDownload:i(()=>{const I=document.createElement("a");I.href=a,I.download=e.file_name||`audio-${Date.now()}.${b}`,I.click()},"onDownload")})});if(ki(e.file_name))return x.jsx(z.Suspense,{fallback:x.jsxs("div",{style:F.fileAttachment,className:"file-attachment-hover",children:[x.jsx("div",{style:F.fileIcon,children:"📄"}),x.jsxs("div",{style:F.fileInfo,children:[x.jsx("div",{style:F.fileName,children:e.file_name}),x.jsx("div",{style:F.fileDetails,children:"Yükleniyor..."})]})]}),children:x.jsx(pf,{fileUrl:a,fileName:e.file_name,fileSize:e.file_size})});const k=b.toUpperCase(),_=e.file_size?`(${(e.file_size/1024/1024).toFixed(2)} MB)`:"";return x.jsxs("div",{style:F.fileAttachment,className:"file-attachment-hover",children:[x.jsx("div",{style:F.fileIcon,children:["zip","rar","7z","tar","gz"].includes(b)?"📦":["pdf"].includes(b)?"📄":["doc","docx"].includes(b)?"📝":["xls","xlsx"].includes(b)?"📊":["ppt","pptx"].includes(b)?"📽️":["txt"].includes(b)?"📃":"📎"}),x.jsxs("div",{style:F.fileInfo,children:[x.jsx("div",{style:F.fileName,children:e.file_name||"Dosya"}),x.jsxs("div",{style:F.fileDetails,children:[k," ",_]})]}),x.jsxs("a",{href:a,download:e.file_name,style:F.downloadButton,className:"download-button-hover",onClick:i(I=>I.stopPropagation(),"onClick"),children:[x.jsx(Sr,{size:18}),x.jsx("span",{style:{marginLeft:"6px"},children:"İndir"})]})]})})()]}),"MessageMedia"),fr=z.lazy(()=>he(()=>import("./CodeBlock-zhwpSXCK.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,13,14,15]))),df=z.lazy(()=>he(()=>import("./Spoiler-DuL8rZAH.js"),__vite__mapDeps([16,1]))),mf=z.lazy(()=>he(()=>import("./TicTacToe-CGERo3sD.js"),__vite__mapDeps([17,1]))),gf=z.lazy(()=>he(()=>import("./ReminderModal-DbRb-1Xi.js"),__vite__mapDeps([18,1,7,8,9,10,11,2,12,13]))),xf=z.lazy(()=>he(()=>import("./MessageThreads-CJx_ZXSf.js"),__vite__mapDeps([19,1,2,7,8,9,10,11,12,13]))),yf=i(({msg:e,currentUser:n,isAdmin:t,onDelete:r,onStartEdit:o,onToggleReaction:a,onTogglePin:l,onSetReply:s,onImageClick:c,absoluteHostUrl:u,onScrollToMessage:p,onVisible:f,messageEditHistoryUrl:d,onViewProfile:h,onStartForward:y,fetchWithAuth:b,isSelectionMode:S,isSelected:k,onToggleSelection:_,allUsers:I,getDeterministicAvatar:B,onShowChart:O,onContentLoad:E})=>{if(!e||typeof e!="object"||!e.id)return null;const N=Sn(v=>v.encryptionKeys),H=Sn(v=>v.currentPermissions),[$,w]=z.useState(e.transcription||null),[j,L]=z.useState(!1),[Q,P]=z.useState(!1),[A,U]=z.useState(!1),[J,re]=z.useState(null),[fe,m]=z.useState(!1),[le,ae]=z.useState(!1),g=e.username===n,se=["Pawscord AI","PawPaw AI","⚡ Signal Bot"].includes(e.username),de=z.useRef(null),Z=z.useCallback(async()=>{try{if((await b(`${u}/messages/${e.id}/quote/`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok){const M=e.content||"",K=`> ${e.username} said:
> ${M.split(`
`).join(`
> `)}

`;s({...e,quotedText:K}),we.success("Message quoted!")}else we.error("Failed to quote message")}catch{we.error("Failed to quote message")}},[e,u,b,s]),Te=z.useCallback(v=>{v.preventDefault(),re({x:v.clientX,y:v.clientY})},[]);z.useEffect(()=>{const v=i(()=>re(null),"handleClick");if(J)return document.addEventListener("click",v),()=>document.removeEventListener("click",v)},[J]),z.useEffect(()=>{if(!f||g||e.read_by?.includes(n))return;const v=new IntersectionObserver(([M])=>{M.isIntersecting&&(f(e.id),v.disconnect())},{threshold:.8});return de.current&&v.observe(de.current),()=>v.disconnect()},[e.id,g,e.read_by,f,n]);const te=z.useMemo(()=>{if(!e.content)return"";if(Cn(e.content)){const v=e.room?`room-${e.room}`:e.conversation?`dm-${e.conversation}`:null,M=N[v];return M?Li(e.content,M):"🔒 Bu mesaj şifreli. Okumak için anahtarı girin."}return e.content},[e.content,e.room,e.conversation,N]),Ce=Cn(e.content),Ee=z.useMemo(()=>{let v=e.avatar;return v||(v=I?.find(K=>K.username===e.username)?.avatar),v||(v=B(e.username)),v&&v.includes("ui-avatars.com")||v&&!v.startsWith("http")&&!v.startsWith("blob:")&&(v=`${u.replace(/\/$/,"")}/${v.replace(/^\//,"")}`),v},[e.avatar,e.username,I,B,u]),{url:Le}=zi(Ee),tt=i(v=>{if(!v)return null;if(v.startsWith("http")||v.startsWith("blob:"))return v;let M=`${u.replace(/\/$/,"")}/${v.replace(/^\//,"")}`;if(M.includes("/media/local/stream/")){const K=localStorage.getItem("access_token");K&&(M+=(M.includes("?")?"&":"?")+`token=${K}`)}return M},"getFullUrl"),Ne=tt(e.image_url||e.image),ve=tt(e.file_url||e.file),Me=z.useMemo(()=>{if(!ve||Ne)return!1;const v=(e.file_name||"").toLowerCase();return["jpg","jpeg","png","gif","webp","bmp","svg","ico"].some(M=>v.endsWith(`.${M}`))},[ve,Ne,e.file_name]),nt=Ne||(Me?ve:null),rt=Me?null:ve,wt=z.useMemo(()=>{if(e.username==="⚡ Signal Bot"&&te){const v=te.match(/\*\*(.*?)\*\*/);if(v&&v[1])return v[1]}return null},[e.username,te]),$e=z.useMemo(()=>{if(!e.reactions)return[];const v={};return e.reactions.forEach(M=>{v[M.emoji]||(v[M.emoji]=[]),v[M.emoji].push(M.username)}),Object.entries(v).map(([M,K])=>({emoji:M,users:K,count:K.length}))},[e.reactions]),it=z.useCallback(v=>e.reactions?.some(M=>M.username===n&&M.emoji===v),[e.reactions,n]),St=z.useCallback(async v=>{if(e.poll)try{await b(`${u}/api/polls/${e.poll.id}/vote/`,{method:"POST",body:JSON.stringify({option_id:v})})}catch{}},[e.poll,b,u]),Ct=z.useCallback(async()=>{if(!(j||$)){L(!0);try{const v=await b(`${u}/api/messages/${e.id}/transcribe/`,{method:"POST"});if(v.ok){const M=await v.json();M.transcription?w(M.transcription):we.error("❌ Çeviri boş döndü.")}else{const M=await v.json();we.error(`❌ Çeviri hatası: ${M.error||"Bilinmeyen hata"}`)}}catch{we.error("❌ Ses metne çevrilemedi.")}finally{L(!1)}}},[j,$,b,u,e.id]);return x.jsxs("div",{ref:de,style:{...F.chatMessage,backgroundColor:k?"rgba(88, 101, 242, 0.3)":fe?"rgba(4, 4, 5, 0.07)":"transparent",cursor:S?"pointer":"default"},onMouseEnter:i(()=>m(!0),"onMouseEnter"),onMouseLeave:i(()=>{m(!1),ae(!1)},"onMouseLeave"),onContextMenu:Te,id:`message-${e.id}`,onClick:i(()=>S&&_(e.id),"onClick"),children:[x.jsx("div",{style:F.avatarContainer,children:x.jsx(Ai,{src:Le,alt:e.username,style:F.userAvatar,onClick:i(()=>h(e.username),"onClick"),placeholder:B(e.username)})}),x.jsxs("div",{style:F.contentWrapper,children:[e.reply_to&&x.jsxs("div",{style:F.replyContainer,role:"button",tabIndex:0,onClick:i(()=>p(e.reply_to.id),"onClick"),onKeyDown:i(v=>v.key==="Enter"&&p(e.reply_to.id),"onKeyDown"),"aria-label":"Yanıtlanan mesaja git",children:[x.jsx("div",{style:F.replyLine}),x.jsxs("span",{style:{fontWeight:"bold",marginRight:5},children:["@",e.reply_to.username]}),x.jsx("span",{style:{opacity:.7,fontSize:"0.9em"},children:e.reply_to.content?e.reply_to.content.substring(0,50)+"...":"Bir dosya"})]}),x.jsxs("div",{style:F.messageHeader,children:[x.jsxs("strong",{style:{cursor:"pointer",color:e.username==="⚡ Signal Bot"?"#5865f2":t?"#f0b232":"#fff"},onClick:i(()=>h(e.username),"onClick"),children:[se&&"🤖 "," ",e.username]}),e.is_locked&&x.jsx(wn,{style:{marginLeft:8,color:"#f0b232",fontSize:"0.9em"},title:"Locked"}),x.jsxs("span",{style:F.timestamp,children:[Kc(e.timestamp),e.is_edited&&x.jsx(Jc,{messageId:e.id,messageEditHistoryUrl:d,fetchWithAuth:b}),e.is_pinned&&x.jsx(Zt,{style:{marginLeft:5,color:"#f0b232",fontSize:"0.8em"}})]})]}),fe&&!e.temp_id&&!S&&x.jsx(z.Suspense,{fallback:null,children:x.jsx(nf,{msg:e,isMyMessage:g,isAdmin:t,currentPermissions:H,onSetReply:s,onStartEdit:o,onDelete:r,onTogglePin:l,onToggleReaction:a,onToggleSelection:_,onStartForward:y,onQuote:Z,showReactionPicker:le,setShowReactionPicker:ae,setShowReminderModal:P,setShowThreadModal:U,fetchWithAuth:b,absoluteHostUrl:u})}),Q&&x.jsx(z.Suspense,{fallback:null,children:x.jsx(gf,{messageId:e.id,messageContent:te,onClose:i(()=>P(!1),"onClose"),fetchWithAuth:b,apiBaseUrl:u})}),A&&x.jsx(z.Suspense,{fallback:null,children:x.jsx(xf,{messageId:e.id,onClose:i(()=>U(!1),"onClose"),fetchWithAuth:b,apiBaseUrl:u})}),x.jsx(rf,{contextMenu:J,msg:e,isMyMessage:g,displayContent:te,onSetReply:s,onStartEdit:o,onDelete:r,onTogglePin:l,onStartForward:y,setShowReactionPicker:ae,setShowThreadModal:U,setShowReminderModal:P,setContextMenu:re,fetchWithAuth:b,absoluteHostUrl:u}),e.snippet_data&&e.snippet_data.type==="game_xox"?x.jsx(z.Suspense,{fallback:x.jsxs("div",{style:{padding:"12px",color:"#b9bbbe",fontSize:"0.9em"},children:["🎮"," Oyun y","ü","kleniyor..."]}),children:x.jsx(mf,{gameData:e.snippet_data,currentUser:n,onMove:i((v,M)=>{b(`${u}/api/games/xox/move/`,{method:"POST",body:JSON.stringify({game_id:v,index:M})})},"onMove")})}):e.snippet_data?x.jsxs("div",{style:F.snippetContainer,children:[x.jsxs("div",{style:F.snippetHeader,children:[x.jsxs("span",{children:["💻"," ",e.snippet_data.title||"Kod Parçası"]}),x.jsx("span",{style:F.langBadge,children:e.snippet_data.language})]}),x.jsx(z.Suspense,{fallback:null,children:x.jsx(fr,{language:e.snippet_data.language,children:e.snippet_data.code})})]}):te&&x.jsxs("div",{style:F.messageContent,children:[Ce&&x.jsx("span",{style:{color:"#43b581",marginRight:5},title:"Encrypted",children:x.jsx(wn,{})}),x.jsx(Rs,{remarkPlugins:[Yc],components:{code({node:v,inline:M,className:K,children:C,...T}){return M?x.jsx("code",{className:K,style:F.inlineCode,...T,children:C}):x.jsx(z.Suspense,{fallback:null,children:x.jsx(fr,{language:K?.replace("language-",""),value:C})})},p:i(({children:v})=>{const M=Si.Children.toArray(v);return x.jsx("p",{style:{margin:0},children:M.map((K,C)=>typeof K=="string"?K.split(/(\|\|.*?\|\|)/g).map((R,q)=>R.startsWith("||")&&R.endsWith("||")?x.jsx(z.Suspense,{fallback:null,children:x.jsx(df,{children:R.slice(2,-2)})},`${C}-${q}`):R):K)})},"p")},children:te})]}),x.jsx(hf,{msg:e,displayContent:te,signalCoin:wt,onShowChart:O,finalImageUrl:nt,finalFileUrl:rt,fullFileUrl:ve,onImageClick:c,onContentLoad:E,localTranscription:$,localIsTranscribing:j,handleTranscribe:Ct,handleVote:St,fetchWithAuth:b,absoluteHostUrl:u}),x.jsxs("div",{style:F.footerRow,children:[$e.length>0&&x.jsx("div",{style:F.reactionsRow,children:$e.map(({emoji:v,count:M})=>x.jsxs("span",{role:"button",tabIndex:0,onClick:i(()=>a(e.id,v),"onClick"),onKeyDown:i(K=>K.key==="Enter"&&a(e.id,v),"onKeyDown"),style:{...F.reactionTag,border:it(v)?"1px solid #5865f2":"1px solid transparent",cursor:"pointer"},"aria-label":`${v} tepki (${M})`,children:[v," ",M]},v))}),g&&!e.temp_id&&x.jsx("span",{style:F.readReceipt,title:"Iletildi",children:"✓"})]})]})]})},"Message"),bf=i((e,n)=>{const t=["msg","currentUser","isAdmin","isSelectionMode","isSelected"];for(const r of t)if(e[r]!==n[r])return!1;return!0},"areEqual"),Ff=z.memo(yf,bf);export{Ff as default};

import{r as i,j as n}from"./react-vendor-D4QjtNWS.js";import{bg as f,c7 as u,x as p,ag as y,c8 as S}from"./icons-vendor-BZYtSAMW.js";import"./vendor-Brv1On52.js";import"./state-vendor-T8XA44Ud.js";import"./perf-vendor-CmoV45_-.js";const L=({messageId:l,isBookmarked:d,fetchWithAuth:c,apiBaseUrl:g,onUpdate:a})=>{const[t,k]=i.useState(d),[e,r]=i.useState(!1),m=async b=>{if(b.stopPropagation(),!e){r(!0);try{const o=await c(`${g}/messages/bookmark/toggle/`,{method:"POST",body:JSON.stringify({message_id:l})});if(o.ok){const s=await o.json();k(s.bookmarked),a&&a(s.bookmarked)}}catch(o){console.error("Bookmark error:",o)}finally{r(!1)}}};return n.jsx("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:t?"#faa61a":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:t?"Bookmark kaldır":"Bookmark ekle",children:t?n.jsx(f,{}):n.jsx(u,{})})},O=({messageId:l,isStarred:d,fetchWithAuth:c,apiBaseUrl:g,onUpdate:a})=>{const[t,k]=i.useState(d),[e,r]=i.useState(!1),m=async b=>{if(b.stopPropagation(),!e){r(!0);try{const o=await c(`${g}/messages/star/toggle/`,{method:"POST",body:JSON.stringify({message_id:l})});if(o.ok){const s=await o.json();k(s.starred),a&&a(s.starred)}}catch(o){console.error("Star error:",o)}finally{r(!1)}}};return n.jsx("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:t?"#ffd700":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:t?"Yıldız kaldır":"Yıldız ekle",children:t?n.jsx(y,{}):n.jsx(S,{})})},P=({messageId:l,isReadLater:d,fetchWithAuth:c,apiBaseUrl:g,onUpdate:a})=>{const[t,k]=i.useState(d),[e,r]=i.useState(!1),m=async b=>{if(b.stopPropagation(),!e){r(!0);try{const o=await c(`${g}/messages/readlater/toggle/`,{method:"POST",body:JSON.stringify({message_id:l})});if(o.ok){const s=await o.json();k(s.read_later),a&&a(s.read_later)}}catch(o){console.error("Read later error:",o)}finally{r(!1)}}};return n.jsx("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:t?"#3ba55d":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:t?"Sonra oku listesinden çıkar":"Sonra oku listesine ekle",children:n.jsx(p,{})})};export{L as BookmarkButton,P as ReadLaterButton,O as StarButton};

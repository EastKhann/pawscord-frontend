import{r as o,j as e}from"./react-vendor-D4QjtNWS.js";import{a as u,b as f}from"./router-vendor-BDkI7eRJ.js";import"./vendor-Brv1On52.js";import"./state-vendor-T8XA44Ud.js";import"./perf-vendor-CmoV45_-.js";const j=()=>{const{token:a}=u(),s=f(),[r,i]=o.useState("verifying"),[l,t]=o.useState("Verifying your email...");o.useEffect(()=>{d()},[a]);const d=async()=>{try{const c=await(await fetch("/api/auth/verify-email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})})).json();c.success?(i("success"),t("Email verified successfully! Redirecting..."),setTimeout(()=>{s("/login")},3e3)):(i("error"),t(c.error||"Verification failed"))}catch(n){console.error("Verification error:",n),i("error"),t("An error occurred during verification")}};return e.jsx("div",{className:"email-verification",children:e.jsxs("div",{className:"verification-card",children:[e.jsxs("div",{className:`status-icon ${r}`,children:[r==="verifying"&&e.jsx("div",{className:"spinner"}),r==="success"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M20 6L9 17l-5-5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),r==="error"&&e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),e.jsx("path",{d:"M15 9l-6 6M9 9l6 6",strokeWidth:"2",strokeLinecap:"round"})]})]}),e.jsx("h2",{children:r==="success"?"Email Verified!":r==="error"?"Verification Failed":"Verifying Email"}),e.jsx("p",{children:l}),r==="success"&&e.jsx("button",{className:"btn-primary",onClick:()=>s("/login"),children:"Go to Login"}),r==="error"&&e.jsx("button",{className:"btn-secondary",onClick:()=>s("/register"),children:"Back to Registration"})]})})};export{j as default};

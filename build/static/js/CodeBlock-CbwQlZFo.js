import{r as n,U as I,bT as F,aX as z,bo as H,dx as W,p as A,dI as e,dJ as N,dK as c,dL as u,dM as b,dN as P,dO as L,dP as _,dQ as O,dR as U,dS as f,dT as $,dU as R,dV as D,dW as p,dX as q,dY as C,dZ as J,d_ as K,d$ as d}from"./react-core-B6hadH-M.js";import{A as M}from"./index-D_6pZib5.js";e.registerLanguage("javascript",c);e.registerLanguage("js",c);e.registerLanguage("jsx",c);e.registerLanguage("typescript",u);e.registerLanguage("ts",u);e.registerLanguage("tsx",u);e.registerLanguage("python",b);e.registerLanguage("py",b);e.registerLanguage("java",P);e.registerLanguage("csharp",L);e.registerLanguage("cs",L);e.registerLanguage("cpp",_);e.registerLanguage("c",O);e.registerLanguage("go",U);e.registerLanguage("rust",f);e.registerLanguage("rs",f);e.registerLanguage("php",$);e.registerLanguage("ruby",R);e.registerLanguage("rb",R);e.registerLanguage("swift",D);e.registerLanguage("bash",p);e.registerLanguage("shell",p);e.registerLanguage("sh",p);e.registerLanguage("json",q);e.registerLanguage("yaml",C);e.registerLanguage("yml",C);e.registerLanguage("sql",J);e.registerLanguage("css",K);e.registerLanguage("html",d);e.registerLanguage("xml",d);e.registerLanguage("markup",d);const X=({language:a,value:o,children:S})=>{const[k,m]=n.useState(!1),[g,w]=n.useState(!1),[i,y]=n.useState(!1),[h,r]=n.useState(null),s=String(o||S||"").replace(/\n$/,""),x=s.split(`
`).length>15,v=()=>{navigator.clipboard.writeText(s),m(!0),setTimeout(()=>m(!1),2e3)},B=async()=>{y(!0),r(null);const j=localStorage.getItem("access_token");try{const l=await(await fetch(`${M}/tools/run-code/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j}`},body:JSON.stringify({language:a,code:s})})).json();l.run?r(l.run.output||"Çıktı boş."):r("Hata: "+(l.message||"Bilinmeyen hata"))}catch{r("Bağlantı hatası.")}y(!1)};return React.createElement("div",{style:t.container},React.createElement("div",{style:t.header},React.createElement("span",{style:t.language},a||"text"),React.createElement("div",{style:{display:"flex",gap:"10px"}},React.createElement("button",{onClick:B,style:t.runButton,disabled:i},i?React.createElement(I,{className:"spin"}):React.createElement(F,{size:10}),i?" Çalışıyor...":" Run"),React.createElement("button",{onClick:v,style:t.copyButton},k?React.createElement(z,null):React.createElement(H,null)))),React.createElement("div",{style:{...t.codeWrapper,maxHeight:!g&&x?"300px":"none"}},React.createElement(E,{language:a?a.toLowerCase():"text",content:s})),h&&React.createElement("div",{style:t.outputContainer},React.createElement("div",{style:t.outputHeader},"ÇIKTI (TERMINAL):"),React.createElement("pre",{style:t.outputBody},h)),x&&React.createElement("button",{onClick:()=>w(!g),style:t.expandButton},g?React.createElement(React.Fragment,null,React.createElement(W,null)," Daralt"):React.createElement(React.Fragment,null,React.createElement(A,null)," Genişlet")))},t={container:{marginTop:"8px",marginBottom:"8px",borderRadius:"8px",border:"1px solid #202225",overflow:"hidden",backgroundColor:"#1e1f22"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 10px",backgroundColor:"#202225",color:"#b9bbbe",fontSize:"0.8em",fontWeight:"bold",fontFamily:"monospace"},language:{textTransform:"uppercase"},copyButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},runButton:{backgroundColor:"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"2px 10px",fontSize:"0.9em",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},codeWrapper:{overflow:"hidden",transition:"max-height 0.3s"},expandButton:{width:"100%",padding:"8px",backgroundColor:"#2f3136",border:"none",borderTop:"1px solid #202225",color:"#dbdee1",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},outputContainer:{borderTop:"1px solid #40444b",backgroundColor:"#000"},outputHeader:{padding:"5px 10px",fontSize:"0.75em",color:"#99aab5",backgroundColor:"#111"},outputBody:{padding:"10px",color:"#0f0",fontFamily:"monospace",margin:0,whiteSpace:"pre-wrap",fontSize:"0.9em"}},E=n.memo(({language:a,content:o})=>React.createElement(e,{language:a||"text",style:N,customStyle:{margin:0,padding:"15px",fontSize:"0.9em"},wrapLongLines:!0},o));E.displayName="SyntaxHighlighterWithStyle";const Z=n.memo(X);export{Z as default};

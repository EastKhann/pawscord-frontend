import{r as i,d as e,aK as v,i as E,bu as k}from"./react-core-DrOm_csO.js";const C=({targetUser:l,apiBaseUrl:u,fetchWithAuth:y,onClose:c,inline:f=!1})=>{const[a,d]=i.useState(""),[n,p]=i.useState("yellow"),[r,m]=i.useState(!1),s=[{name:"yellow",value:"#fef3bd"},{name:"green",value:"#d4edda"},{name:"blue",value:"#d1ecf1"},{name:"red",value:"#f8d7da"},{name:"purple",value:"#e2d9f3"}];i.useEffect(()=>{g()},[l]);const g=async()=>{try{const t=await y(`${u}/user-notes/${l}/`);if(t.ok){const x=await t.json();d(x.note||""),p(x.color||"yellow")}}catch(t){console.error("Failed to load note:",t)}},b=async()=>{m(!0);try{(await y(`${u}/user-notes/${l}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:a,color:n})})).ok&&(f?m(!1):c())}catch(t){console.error("Failed to save note:",t)}finally{m(!1)}};return f?e.createElement("div",{style:{marginTop:"8px"}},e.createElement("p",{style:o.info},"Bu not sadece sen gÃ¶rebilirsin"),e.createElement("div",{style:o.colorPicker},e.createElement("label",{style:o.label},"Renk:"),e.createElement("div",{style:o.colors},s.map(t=>e.createElement("button",{key:t.name,onClick:()=>p(t.name),style:{...o.colorButton,backgroundColor:t.value,...n===t.name?o.colorButtonActive:{}}})))),e.createElement("textarea",{value:a,onChange:t=>d(t.target.value),placeholder:"Notunu buraya yaz...",style:{...o.textarea,backgroundColor:s.find(t=>t.name===n)?.value},maxLength:500}),e.createElement("div",{style:o.footer},e.createElement("span",{style:o.charCount},a.length,"/500"),e.createElement("button",{onClick:b,disabled:r,style:o.saveButton},r?"Kaydediliyor...":"ðŸ’¾ Kaydet"))):e.createElement("div",{style:o.overlay,onClick:c},e.createElement("div",{style:o.modal,onClick:t=>t.stopPropagation()},e.createElement("div",{style:o.header},e.createElement("h3",{style:o.title},e.createElement(v,null)," ",l," HakkÄ±nda Not"),e.createElement("button",{onClick:c,style:o.closeButton},e.createElement(E,null))),e.createElement("div",{style:o.content},e.createElement("p",{style:o.info},"Bu not sadece sen gÃ¶rebilirsin"),e.createElement("div",{style:o.colorPicker},e.createElement("label",{style:o.label},"Renk:"),e.createElement("div",{style:o.colors},s.map(t=>e.createElement("button",{key:t.name,onClick:()=>p(t.name),style:{...o.colorButton,backgroundColor:t.value,...n===t.name?o.colorButtonActive:{}}})))),e.createElement("textarea",{value:a,onChange:t=>d(t.target.value),placeholder:"Notunu buraya yaz...",style:{...o.textarea,backgroundColor:s.find(t=>t.name===n)?.value},maxLength:500}),e.createElement("div",{style:o.footer},e.createElement("span",{style:o.charCount},a.length,"/500"),e.createElement("button",{onClick:b,disabled:r,style:o.saveButton},e.createElement(k,null)," ",r?"Kaydediliyor...":"Kaydet")))))},o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"500px",maxWidth:"90vw",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{padding:"16px 20px",borderBottom:"1px solid #1e1f22",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{color:"#fff",fontSize:"18px",margin:0,display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"20px",cursor:"pointer",padding:"4px"},content:{padding:"20px"},info:{color:"#72767d",fontSize:"13px",marginBottom:"16px",fontStyle:"italic"},colorPicker:{marginBottom:"16px"},label:{color:"#b9bbbe",fontSize:"14px",marginBottom:"8px",display:"block"},colors:{display:"flex",gap:"8px"},colorButton:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid transparent",cursor:"pointer",transition:"transform 0.2s"},colorButtonActive:{border:"2px solid #5865f2",transform:"scale(1.1)"},textarea:{width:"100%",minHeight:"150px",padding:"12px",border:"1px solid #4e5058",borderRadius:"6px",fontSize:"14px",color:"#1e1f22",resize:"vertical",fontFamily:"inherit",marginBottom:"12px"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center"},charCount:{color:"#72767d",fontSize:"12px"},saveButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 20px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"}};export{C as default};

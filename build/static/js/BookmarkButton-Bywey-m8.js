import{r as l,d as s,c4 as b,dh as f,M as y,aF as S,di as p}from"./react-core-4ecKhyvC.js";const B=({messageId:i,isBookmarked:d,fetchWithAuth:c,apiBaseUrl:g,onUpdate:o})=>{const[a,k]=l.useState(d),[e,r]=l.useState(!1),m=async u=>{if(u.stopPropagation(),!e){r(!0);try{const t=await c(`${g}/messages/bookmark/toggle/`,{method:"POST",body:JSON.stringify({message_id:i})});if(t.ok){const n=await t.json();k(n.bookmarked),o&&o(n.bookmarked)}}catch(t){console.error("Bookmark error:",t)}finally{r(!1)}}};return s.createElement("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:a?"#faa61a":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Bookmark kaldır":"Bookmark ekle"},a?s.createElement(b,null):s.createElement(f,null))},w=({messageId:i,isStarred:d,fetchWithAuth:c,apiBaseUrl:g,onUpdate:o})=>{const[a,k]=l.useState(d),[e,r]=l.useState(!1),m=async u=>{if(u.stopPropagation(),!e){r(!0);try{const t=await c(`${g}/messages/star/toggle/`,{method:"POST",body:JSON.stringify({message_id:i})});if(t.ok){const n=await t.json();k(n.starred),o&&o(n.starred)}}catch(t){console.error("Star error:",t)}finally{r(!1)}}};return s.createElement("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:a?"#ffd700":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Yıldız kaldır":"Yıldız ekle"},a?s.createElement(S,null):s.createElement(p,null))},E=({messageId:i,isReadLater:d,fetchWithAuth:c,apiBaseUrl:g,onUpdate:o})=>{const[a,k]=l.useState(d),[e,r]=l.useState(!1),m=async u=>{if(u.stopPropagation(),!e){r(!0);try{const t=await c(`${g}/messages/readlater/toggle/`,{method:"POST",body:JSON.stringify({message_id:i})});if(t.ok){const n=await t.json();k(n.read_later),o&&o(n.read_later)}}catch(t){console.error("Read later error:",t)}finally{r(!1)}}};return s.createElement("button",{onClick:m,disabled:e,style:{background:"none",border:"none",color:a?"#3ba55d":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Sonra oku listesinden çıkar":"Sonra oku listesine ekle"},s.createElement(y,null))};export{B as BookmarkButton,E as ReadLaterButton,w as StarButton};

import{r as o,aI as h,a0 as k,l as E}from"./react-core-B6hadH-M.js";import{t as m}from"./index-D_6pZib5.js";const B=({onClose:l,fetchWithAuth:s,apiBaseUrl:c,serverId:v,embedded:u=!1})=>{const[i,b]=o.useState([]),[x,y]=o.useState(!0),[d,n]=o.useState(!1),[r,a]=o.useState({trigger:"",response:"",is_regex:!1});o.useEffect(()=>{p()},[]);const p=async()=>{try{const t=await s(`${c}/autoresponders/list/`);if(t.ok){const R=await t.json();b(R.responders||[])}}catch(t){console.error("Load responders error:",t)}finally{y(!1)}},f=async()=>{if(!r.trigger||!r.response){m.error("âŒ Tetikleyici ve yanÄ±t gerekli");return}try{(await s(`${c}/autoresponders/create/`,{method:"POST",body:JSON.stringify(r)})).ok&&(m.success("âœ… Auto-responder oluÅŸturuldu!"),n(!1),a({trigger:"",response:"",is_regex:!1}),p())}catch(t){console.error("Create responder error:",t)}},g=React.createElement(React.Fragment,null,!d&&React.createElement("button",{onClick:()=>n(!0),style:e.createButton},React.createElement(h,null)," Yeni Otomatik YanÄ±t"),d&&React.createElement("div",{style:e.createForm},React.createElement("input",{type:"text",placeholder:"Tetikleyici kelime (Ã¶rn: merhaba)",value:r.trigger,onChange:t=>a({...r,trigger:t.target.value}),style:e.input}),React.createElement("textarea",{placeholder:"Otomatik yanÄ±t mesajÄ±",value:r.response,onChange:t=>a({...r,response:t.target.value}),style:e.textarea}),React.createElement("label",{style:e.checkbox},React.createElement("input",{type:"checkbox",checked:r.is_regex,onChange:t=>a({...r,is_regex:t.target.checked})}),React.createElement("span",{style:{marginLeft:"8px",color:"#b9bbbe"}},"Regex kullan")),React.createElement("div",{style:{display:"flex",gap:"10px"}},React.createElement("button",{onClick:f,style:e.submitButton},"OluÅŸtur"),React.createElement("button",{onClick:()=>n(!1),style:e.cancelButton},"Ä°ptal"))),x?React.createElement("div",{style:e.loading},"YÃ¼kleniyor..."):i.length===0?React.createElement("div",{style:e.empty},"HenÃ¼z otomatik yanÄ±t oluÅŸturulmamÄ±ÅŸ"):React.createElement("div",{style:e.responderList},i.map(t=>React.createElement("div",{key:t.id,style:e.responderItem},React.createElement("div",null,React.createElement("div",{style:e.trigger},"ðŸ¤– ",t.trigger),React.createElement("div",{style:e.response},t.response))))));return u?React.createElement("div",{style:e.content},g):React.createElement("div",{style:e.overlay,onClick:l},React.createElement("div",{style:e.modal,onClick:t=>t.stopPropagation()},React.createElement("div",{style:e.header},React.createElement("h2",{style:e.title},React.createElement(k,null)," Otomatik YanÄ±tlar"),React.createElement("button",{onClick:l,style:e.closeButton},React.createElement(E,null))),React.createElement("div",{style:e.content},g)))},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},content:{padding:"20px",overflowY:"auto",flex:1},createButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"15px"},createForm:{backgroundColor:"#40444b",padding:"15px",borderRadius:"8px",marginBottom:"15px"},input:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#2b2d31",border:"1px solid #5865f2",borderRadius:"4px",color:"white"},textarea:{width:"100%",padding:"10px",marginBottom:"10px",minHeight:"80px",backgroundColor:"#2b2d31",border:"1px solid #5865f2",borderRadius:"4px",color:"white",resize:"vertical"},checkbox:{display:"flex",alignItems:"center",marginBottom:"10px"},submitButton:{flex:1,padding:"10px",backgroundColor:"#3ba55d",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer"},cancelButton:{flex:1,padding:"10px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer"},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},responderList:{display:"flex",flexDirection:"column",gap:"10px"},responderItem:{backgroundColor:"#40444b",padding:"15px",borderRadius:"8px"},trigger:{color:"#5865f2",fontWeight:"bold",marginBottom:"8px"},response:{color:"#dcddde",fontSize:"0.9em"}};export{B as A};

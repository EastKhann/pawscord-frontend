{"version":3,"file":"ForumPanel-Cg4YKtbe.js","sources":["../../../src/components/ForumPanel.js"],"sourcesContent":["// frontend/src/components/ForumPanel.js\r\nimport { useState, useEffect } from 'react';\r\nimport toast from '../utils/toast';\r\nimport './ForumPanel.css';\r\n\r\nconst ForumPanel = ({ serverId, apiBaseUrl, onClose }) => {\r\n    const [forums, setForums] = useState([]);\r\n    const [selectedForum, setSelectedForum] = useState(null);\r\n    const [posts, setPosts] = useState([]);\r\n    const [selectedPost, setSelectedPost] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [creating, setCreating] = useState(false);\r\n    const [showCreatePost, setShowCreatePost] = useState(false);\r\n    const [newPost, setNewPost] = useState({ title: '', content: '', tags: [] });\r\n    const [replyContent, setReplyContent] = useState('');\r\n\r\n    useEffect(() => {\r\n        fetchForums();\r\n    }, [serverId]);\r\n\r\n    useEffect(() => {\r\n        if (selectedForum) {\r\n            fetchPosts(selectedForum.id);\r\n        }\r\n    }, [selectedForum]);\r\n\r\n    const fetchForums = async () => {\r\n        try {\r\n            const token = localStorage.getItem('access_token');\r\n            const response = await fetch(`${apiBaseUrl}/servers/${serverId}/forums/`, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setForums(Array.isArray(data) ? data : data.forums || []);\r\n            }\r\n        } catch (error) {\r\n            console.error('Forum fetch error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchPosts = async (forumId) => {\r\n        try {\r\n            const token = localStorage.getItem('access_token');\r\n            const response = await fetch(`${apiBaseUrl}/forums/${forumId}/posts/`, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setPosts(Array.isArray(data) ? data : data.posts || []);\r\n            }\r\n        } catch (error) {\r\n            console.error('Posts fetch error:', error);\r\n        }\r\n    };\r\n\r\n    const handleCreateForum = async () => {\r\n        const name = prompt('Forum kanalƒ± adƒ±:');\r\n        if (!name) return;\r\n\r\n        try {\r\n            const token = localStorage.getItem('access_token');\r\n            const response = await fetch(`${apiBaseUrl}/servers/${serverId}/forums/create/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ name })\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setForums([...forums, data.forum]);\r\n                toast.success('‚úÖ Forum olu≈üturuldu!');\r\n            } else {\r\n                toast.error('‚ùå Forum olu≈üturulamadƒ±');\r\n            }\r\n        } catch (error) {\r\n            console.error('Forum creation error:', error);\r\n            toast.error('‚ùå Hata olu≈ütu');\r\n        }\r\n    };\r\n\r\n    const handleCreatePost = async () => {\r\n        if (!newPost.title.trim() || !newPost.content.trim()) {\r\n            toast.error('‚ö†Ô∏è Ba≈ülƒ±k ve i√ßerik gerekli');\r\n            return;\r\n        }\r\n\r\n        setCreating(true);\r\n        try {\r\n            const token = localStorage.getItem('access_token');\r\n            const response = await fetch(`${apiBaseUrl}/forums/${selectedForum.id}/posts/create/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(newPost)\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setPosts([data.post, ...posts]);\r\n                setNewPost({ title: '', content: '', tags: [] });\r\n                setShowCreatePost(false);\r\n                toast.success('‚úÖ G√∂nderi olu≈üturuldu!');\r\n            } else {\r\n                toast.error('‚ùå G√∂nderi olu≈üturulamadƒ±');\r\n            }\r\n        } catch (error) {\r\n            console.error('Post creation error:', error);\r\n            toast.error('‚ùå Hata olu≈ütu');\r\n        } finally {\r\n            setCreating(false);\r\n        }\r\n    };\r\n\r\n    const handleReply = async (postId) => {\r\n        if (!replyContent.trim()) {\r\n            toast.error('‚ö†Ô∏è Yanƒ±t i√ßeriƒüi gerekli');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const token = localStorage.getItem('access_token');\r\n            const response = await fetch(`${apiBaseUrl}/forums/posts/${postId}/reply/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ content: replyContent })\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                // Refresh post details\r\n                setSelectedPost({ ...selectedPost, replies: [...(selectedPost.replies || []), data.reply] });\r\n                setReplyContent('');\r\n                toast.success('‚úÖ Yanƒ±t g√∂nderildi!');\r\n            } else {\r\n                toast.error('‚ùå Yanƒ±t g√∂nderilemedi');\r\n            }\r\n        } catch (error) {\r\n            console.error('Reply error:', error);\r\n            toast.error('‚ùå Hata olu≈ütu');\r\n        }\r\n    };\r\n\r\n    const handleVote = async (postId, voteType) => {\r\n        try {\r\n            const token = localStorage.getItem('access_token');\r\n            const response = await fetch(`${apiBaseUrl}/forums/posts/${postId}/vote/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ vote_type: voteType })\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                // Update post votes\r\n                setPosts(posts.map(p => p.id === postId ? { ...p, votes: data.votes } : p));\r\n                toast.success(voteType === 'up' ? 'üëç Upvote!' : 'üëé Downvote!');\r\n            }\r\n        } catch (error) {\r\n            console.error('Vote error:', error);\r\n        }\r\n    };\r\n\r\n    const handleMarkSolution = async (postId, replyId) => {\r\n        try {\r\n            const token = localStorage.getItem('access_token');\r\n            const response = await fetch(`${apiBaseUrl}/forums/posts/${postId}/solve/${replyId}/`, {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n\r\n            if (response.ok) {\r\n                toast.success('‚úÖ √á√∂z√ºm olarak i≈üaretlendi!');\r\n                // Refresh post\r\n                setSelectedPost({ ...selectedPost, solution_id: replyId });\r\n            }\r\n        } catch (error) {\r\n            console.error('Mark solution error:', error);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"forum-panel-overlay\" onClick={onClose}>\r\n                <div className=\"forum-panel\" onClick={e => e.stopPropagation()}>\r\n                    <div className=\"forum-loading\">\r\n                        <div className=\"spinner\"></div>\r\n                        <p>Y√ºkleniyor...</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"forum-panel-overlay\" onClick={onClose}>\r\n            <div className=\"forum-panel\" onClick={e => e.stopPropagation()}>\r\n                <div className=\"forum-header\">\r\n                    <h2>üí¨ Forum</h2>\r\n                    <button className=\"close-btn\" onClick={onClose}>‚úï</button>\r\n                </div>\r\n\r\n                {!selectedForum ? (\r\n                    <div className=\"forum-list\">\r\n                        <div className=\"forum-list-header\">\r\n                            <h3>Forum Kanallarƒ±</h3>\r\n                            <button className=\"create-forum-btn\" onClick={handleCreateForum}>\r\n                                ‚ûï Yeni Forum\r\n                            </button>\r\n                        </div>\r\n\r\n                        {forums.length > 0 ? (\r\n                            <div className=\"forums-grid\">\r\n                                {forums.map(forum => (\r\n                                    <div \r\n                                        key={forum.id}\r\n                                        className=\"forum-card\"\r\n                                        onClick={() => setSelectedForum(forum)}\r\n                                    >\r\n                                        <div className=\"forum-icon\">üí¨</div>\r\n                                        <h4>{forum.name}</h4>\r\n                                        <p className=\"forum-stats\">\r\n                                            {forum.posts_count || 0} g√∂nderi ‚Ä¢ {forum.members_count || 0} √ºye\r\n                                        </p>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"no-forums\">\r\n                                <p>üìã Hen√ºz forum kanalƒ± yok</p>\r\n                                <button onClick={handleCreateForum}>ƒ∞lk forumu olu≈ütur</button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                ) : !selectedPost ? (\r\n                    <div className=\"posts-view\">\r\n                        <div className=\"posts-header\">\r\n                            <button className=\"back-btn\" onClick={() => setSelectedForum(null)}>\r\n                                ‚Üê Geri\r\n                            </button>\r\n                            <h3># {selectedForum.name}</h3>\r\n                            <button \r\n                                className=\"new-post-btn\"\r\n                                onClick={() => setShowCreatePost(!showCreatePost)}\r\n                            >\r\n                                ‚ûï Yeni G√∂nderi\r\n                            </button>\r\n                        </div>\r\n\r\n                        {showCreatePost && (\r\n                            <div className=\"create-post-form\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"G√∂nderi ba≈ülƒ±ƒüƒ±...\"\r\n                                    value={newPost.title}\r\n                                    onChange={(e) => setNewPost({ ...newPost, title: e.target.value })}\r\n                                    maxLength={200}\r\n                                />\r\n                                <textarea\r\n                                    placeholder=\"ƒ∞√ßerik...\"\r\n                                    value={newPost.content}\r\n                                    onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\r\n                                    rows={6}\r\n                                />\r\n                                <div className=\"form-actions\">\r\n                                    <button \r\n                                        className=\"submit-btn\"\r\n                                        onClick={handleCreatePost}\r\n                                        disabled={creating}\r\n                                    >\r\n                                        {creating ? '‚è≥ G√∂nderiliyor...' : 'üì§ G√∂nder'}\r\n                                    </button>\r\n                                    <button \r\n                                        className=\"cancel-btn\"\r\n                                        onClick={() => setShowCreatePost(false)}\r\n                                    >\r\n                                        ƒ∞ptal\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"posts-list\">\r\n                            {posts.map(post => (\r\n                                <div \r\n                                    key={post.id}\r\n                                    className=\"post-item\"\r\n                                    onClick={() => setSelectedPost(post)}\r\n                                >\r\n                                    <div className=\"post-votes\">\r\n                                        <button onClick={(e) => { e.stopPropagation(); handleVote(post.id, 'up'); }}>\r\n                                            üëç\r\n                                        </button>\r\n                                        <span>{post.votes || 0}</span>\r\n                                        <button onClick={(e) => { e.stopPropagation(); handleVote(post.id, 'down'); }}>\r\n                                            üëé\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"post-content\">\r\n                                        <h4>{post.title}</h4>\r\n                                        <p className=\"post-meta\">\r\n                                            üë§ {post.author} ‚Ä¢ ‚è∞ {new Date(post.created_at).toLocaleDateString('tr-TR')} \r\n                                            {post.is_solved && ' ‚Ä¢ ‚úÖ √á√∂z√ºld√º'}\r\n                                        </p>\r\n                                        <p className=\"post-preview\">{post.content?.substring(0, 150)}...</p>\r\n                                        <div className=\"post-stats\">\r\n                                            üí¨ {post.replies_count || 0} yanƒ±t\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n\r\n                            {posts.length === 0 && (\r\n                                <div className=\"no-posts\">\r\n                                    <p>üì≠ Hen√ºz g√∂nderi yok</p>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"post-detail\">\r\n                        <div className=\"detail-header\">\r\n                            <button className=\"back-btn\" onClick={() => setSelectedPost(null)}>\r\n                                ‚Üê Geri\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"post-main\">\r\n                            <div className=\"post-votes-vertical\">\r\n                                <button onClick={() => handleVote(selectedPost.id, 'up')}>üëç</button>\r\n                                <span>{selectedPost.votes || 0}</span>\r\n                                <button onClick={() => handleVote(selectedPost.id, 'down')}>üëé</button>\r\n                            </div>\r\n\r\n                            <div className=\"post-body\">\r\n                                <h2>{selectedPost.title}</h2>\r\n                                <p className=\"post-meta\">\r\n                                    üë§ {selectedPost.author} ‚Ä¢ ‚è∞ {new Date(selectedPost.created_at).toLocaleString('tr-TR')}\r\n                                </p>\r\n                                <div className=\"post-text\">{selectedPost.content}</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"replies-section\">\r\n                            <h3>üí¨ Yanƒ±tlar ({selectedPost.replies?.length || 0})</h3>\r\n\r\n                            {(selectedPost.replies || []).map(reply => (\r\n                                <div \r\n                                    key={reply.id}\r\n                                    className={`reply-item ${reply.id === selectedPost.solution_id ? 'solution' : ''}`}\r\n                                >\r\n                                    <div className=\"reply-header\">\r\n                                        <span className=\"reply-author\">üë§ {reply.author}</span>\r\n                                        <span className=\"reply-time\">\r\n                                            {new Date(reply.created_at).toLocaleString('tr-TR')}\r\n                                        </span>\r\n                                        {reply.id === selectedPost.solution_id && (\r\n                                            <span className=\"solution-badge\">‚úÖ √á√∂z√ºm</span>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className=\"reply-content\">{reply.content}</div>\r\n                                    {!selectedPost.solution_id && (\r\n                                        <button \r\n                                            className=\"mark-solution-btn\"\r\n                                            onClick={() => handleMarkSolution(selectedPost.id, reply.id)}\r\n                                        >\r\n                                            ‚úÖ √á√∂z√ºm olarak i≈üaretle\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n\r\n                            <div className=\"reply-form\">\r\n                                <textarea\r\n                                    placeholder=\"Yanƒ±tƒ±nƒ±zƒ± yazƒ±n...\"\r\n                                    value={replyContent}\r\n                                    onChange={(e) => setReplyContent(e.target.value)}\r\n                                    rows={4}\r\n                                />\r\n                                <button \r\n                                    className=\"reply-submit-btn\"\r\n                                    onClick={() => handleReply(selectedPost.id)}\r\n                                >\r\n                                    üì§ Yanƒ±tla\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForumPanel;\r\n"],"names":["useState","useEffect","jsxs","jsx"],"mappings":"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"}
import"./index-CGHvfKK4.js";import"./vendor-Brv1On52.js";import"./react-vendor-D4QjtNWS.js";import"./state-vendor-T8XA44Ud.js";import"./perf-vendor-CmoV45_-.js";import"./router-vendor-BDkI7eRJ.js";import"./icons-vendor-BZYtSAMW.js";import"./crypto-vendor-BQNqsgOu.js";const w=r=>{window.Capacitor?.isNativePlatform()&&(window.Capacitor.Plugins.App.addListener("appUrlOpen",i=>{n(i.url,r)}),console.log("✅ Deep link handler initialized"))},n=(r,i)=>{try{console.log("Deep link received:",r);const t=new URL(r),e=t.pathname,s=new URLSearchParams(t.search);if(e.startsWith("/chat/")){const o=e.split("/chat/")[1];i(`/chat/${o}`)}else if(e.startsWith("/server/")){const o=e.split("/server/")[1];i(`/server/${o}`)}else if(e.startsWith("/profile/")){const o=e.split("/profile/")[1];i(`/profile/${o}`)}else i(e==="/notifications"?"/notifications":e||"/");console.log("✅ Deep link handled:",e)}catch(t){console.error("❌ Deep link error:",t)}};typeof window<"u"&&window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),window.deferredPrompt=r,console.log("PWA install prompt available")});export{n as handleDeepLink,w as initializeDeepLinkHandler};

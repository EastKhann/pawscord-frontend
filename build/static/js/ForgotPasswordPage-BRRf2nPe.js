import{r as s,b as e}from"./react-core-9vc7GIjk.js";import{u as x,y,T as E}from"./icons-vendor-C1zuqBwn.js";import{u as k}from"./recaptcha-DCjcE_52.js";import{b as h}from"./router-vendor-u6fxj6P4.js";import"./editor-vendor-DiU449Dh.js";const w=({apiBaseUrl:m})=>{const c=h(),[r,f]=s.useState(""),[n,o]=s.useState("idle"),[d,i]=s.useState(""),{getToken:u}=k(),b=async a=>{a.preventDefault(),i(""),o("loading");try{const l=await u("password_reset");console.log("‚úÖ [reCAPTCHA] Token alƒ±ndƒ±:",l?"OK":"FAIL");const p=await fetch(`${m}/auth/request-password-reset/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,recaptcha_token:l})}),g=await p.json();p.ok?o("sent"):(i(g.error||"Bir hata olu≈ütu"),o("idle"))}catch{i("Baƒülantƒ± hatasƒ± olu≈ütu"),o("idle")}};return n==="sent"?e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},e.createElement(x,{style:{...t.icon,color:"#23a559"}}),e.createElement("h2",{style:t.title},"Email G√∂nderildi!"),e.createElement("p",{style:t.text},"Eƒüer ",e.createElement("strong",null,r)," adresine kayƒ±tlƒ± bir hesap varsa, ≈üifre sƒ±fƒ±rlama linki g√∂nderildi."),e.createElement("p",{style:t.infoText},"üìß Email'inizi kontrol edin (Spam klas√∂r√ºn√º de kontrol etmeyi unutmayƒ±n)"),e.createElement("p",{style:t.infoText},"‚è±Ô∏è Link 1 saat ge√ßerlidir"),e.createElement("button",{onClick:()=>c("/login"),style:t.button},"Giri≈ü Sayfasƒ±na D√∂n"))):e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},e.createElement("button",{onClick:()=>c("/login"),style:t.backButton},e.createElement(y,null)," Geri"),e.createElement(E,{style:t.icon}),e.createElement("h2",{style:t.title},"≈ûifremi Unuttum"),e.createElement("p",{style:t.text},"Email adresinizi girin, size ≈üifre sƒ±fƒ±rlama linki g√∂nderelim."),e.createElement("form",{onSubmit:b,style:t.form},e.createElement("input",{type:"email",placeholder:"Email adresiniz",value:r,onChange:a=>f(a.target.value),required:!0,style:t.input,disabled:n==="loading"}),d&&e.createElement("div",{style:t.error},"‚ùå ",d),e.createElement("button",{type:"submit",style:t.submitButton,disabled:n==="loading"},n==="loading"?"G√∂nderiliyor...":"Sƒ±fƒ±rlama Linki G√∂nder")),e.createElement("div",{style:t.info},e.createElement("p",{style:t.infoTitle},"üí° Bilgi:"),e.createElement("ul",{style:t.infoList},e.createElement("li",null,"Email hesabƒ±nƒ±za eri≈üiminiz olmalƒ±"),e.createElement("li",null,"Link 1 saat ge√ßerlidir"),e.createElement("li",null,"G√ºvenlik nedeniyle email'in kayƒ±tlƒ± olup olmadƒ±ƒüƒ±nƒ± s√∂ylemiyoruz")))))},t={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1e1f22",padding:"20px"},card:{backgroundColor:"#2b2d31",borderRadius:"12px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",position:"relative"},backButton:{position:"absolute",top:"20px",left:"20px",background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",transition:"color 0.2s"},icon:{fontSize:"64px",color:"#5865f2",display:"block",margin:"0 auto 20px"},title:{color:"#fff",fontSize:"28px",textAlign:"center",margin:"0 0 10px 0"},text:{color:"#b9bbbe",fontSize:"16px",textAlign:"center",marginBottom:"30px"},form:{display:"flex",flexDirection:"column",gap:"15px"},input:{backgroundColor:"#1e1f22",border:"1px solid #1e1f22",borderRadius:"6px",padding:"12px",color:"#fff",fontSize:"16px",outline:"none",transition:"border-color 0.2s"},error:{backgroundColor:"#da373c",color:"#fff",padding:"12px",borderRadius:"6px",fontSize:"14px",textAlign:"center"},submitButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s"},button:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 32px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginTop:"20px",display:"block",width:"100%"},info:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"15px",marginTop:"20px"},infoTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",margin:"0 0 10px 0"},infoText:{color:"#b9bbbe",fontSize:"14px",textAlign:"center",margin:"10px 0"},infoList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"}};export{w as default};

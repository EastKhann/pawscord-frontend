import{r as s,ak as m,Y as D,am as j,al as o,aZ as y,du as f,cx as x,y as _,aX as G,N as V,bK as W,dv as H,ct as A,aW as M,K,L as Y,bt as $,a$ as U}from"./react-core-B6hadH-M.js";const X=({fetchWithAuth:R,apiBaseUrl:b,currentUser:N})=>{const[a,E]=s.useState({weekly:[],daily:[],special:[]}),[c,k]=s.useState({totalPoints:0,weeklyPoints:0,streak:0,completedChallenges:0,rank:1,rewards:[]}),[C,h]=s.useState(!0),[i,p]=s.useState("weekly"),[u,z]=s.useState({days:0,hours:0,minutes:0}),v=s.useCallback(async()=>{h(!0);try{const t=await R(`${b}/challenges/`);if(t.ok){const r=await t.json();E(r.challenges),k(r.userProgress)}else E({weekly:[{id:1,title:"Sosyal Kelebek",description:"50 mesaj gÃ¶nder",icon:"comments",type:"messages",target:50,current:32,points:100,reward:{type:"badge",name:"KonuÅŸkan"},difficulty:"easy",status:"in_progress"},{id:2,title:"Ses UstasÄ±",description:"2 saat sesli sohbette kal",icon:"microphone",type:"voice_time",target:120,current:85,points:200,reward:{type:"coins",amount:500},difficulty:"medium",status:"in_progress"},{id:3,title:"Topluluk YÄ±ldÄ±zÄ±",description:"10 farklÄ± sunucuda aktif ol",icon:"users",type:"servers_active",target:10,current:10,points:300,reward:{type:"badge",name:"YÄ±ldÄ±z"},difficulty:"hard",status:"completed"},{id:4,title:"Oyun Maratonu",description:"5 oyun aktivitesi baÅŸlat",icon:"gamepad",type:"games_played",target:5,current:2,points:150,reward:{type:"xp",amount:1e3},difficulty:"medium",status:"in_progress"},{id:5,title:"Kalp DaÄŸÄ±tÄ±cÄ±",description:"25 mesaja tepki ver",icon:"heart",type:"reactions",target:25,current:0,points:75,reward:{type:"emoji",name:"â¤ï¸â€ðŸ”¥"},difficulty:"easy",status:"not_started"}],daily:[{id:101,title:"GÃ¼nlÃ¼k Selamlama",description:"Ä°lk mesajÄ±nÄ± gÃ¶nder",icon:"comments",target:1,current:1,points:25,status:"completed"},{id:102,title:"Sesli KatÄ±lÄ±m",description:"Bir sesli kanala katÄ±l",icon:"microphone",target:1,current:0,points:25,status:"not_started"},{id:103,title:"Tepki Ver",description:"5 mesaja emoji tepkisi ver",icon:"heart",target:5,current:3,points:25,status:"in_progress"}],special:[{id:201,title:"Yeni YÄ±l Ã–zel",description:"Yeni yÄ±l kutlamasÄ±na katÄ±l",icon:"gift",target:1,current:0,points:500,reward:{type:"special_badge",name:"2026 YÄ±ldÄ±zÄ±"},endsAt:"2026-01-31T23:59:59",status:"locked"}]}),k({totalPoints:2450,weeklyPoints:625,streak:7,completedChallenges:23,rank:156,rewards:[{type:"badge",name:"KonuÅŸkan",earnedAt:"2026-01-20"},{type:"badge",name:"Yeni BaÅŸlayan",earnedAt:"2026-01-15"}]})}catch(t){console.error("Failed to fetch challenges:",t)}finally{h(!1)}},[R,b]);s.useEffect(()=>{v()},[v]),s.useEffect(()=>{const t=()=>{const n=new Date,l=new Date;l.setDate(n.getDate()+(7-n.getDay())),l.setHours(23,59,59,999);const d=l-n,L=Math.floor(d/(1e3*60*60*24)),T=Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),P=Math.floor(d%(1e3*60*60)/(1e3*60));z({days:L,hours:T,minutes:P})};t();const r=setInterval(t,6e4);return()=>clearInterval(r)},[]);const S=t=>{const n={comments:$,microphone:Y,users:K,gamepad:M,heart:A,share:H,music:W,video:V,gift:x}[t]||o;return React.createElement(n,null)},w=t=>{switch(t){case"easy":return"#43b581";case"medium":return"#faa61a";case"hard":return"#f04747";default:return"#72767d"}},I=t=>Array(t==="easy"?1:t==="medium"?2:3).fill(0).map((n,l)=>React.createElement(o,{key:l,size:10,color:w(t)})),F=t=>{if(!t)return null;switch(t.type){case"badge":return React.createElement(y,{color:"#faa61a"});case"coins":return React.createElement(U,{color:"#f1c40f"});case"xp":return React.createElement(o,{color:"#5865f2"});case"emoji":return React.createElement("span",null,t.name);case"special_badge":return React.createElement(f,{color:"#e91e63"});default:return React.createElement(x,{color:"#43b581"})}},B=t=>{if(!t)return"";switch(t.type){case"badge":return t.name;case"coins":return`${t.amount} Coin`;case"xp":return`${t.amount} XP`;case"emoji":return"Ã–zel Emoji";case"special_badge":return t.name;default:return"Ã–dÃ¼l"}},g=(t,r=!1)=>{const n=t.current/t.target*100,l=t.status==="completed",d=t.status==="locked";return React.createElement("div",{key:t.id,style:{...e.challengeCard,opacity:l?.7:1,backgroundColor:l?"#202225":"#2f3136"}},React.createElement("div",{style:e.challengeIcon},d?React.createElement(_,{size:20,color:"#72767d"}):l?React.createElement(G,{size:20,color:"#43b581"}):React.createElement("span",{style:{color:w(t.difficulty)}},S(t.icon))),React.createElement("div",{style:e.challengeContent},React.createElement("div",{style:e.challengeHeader},React.createElement("h4",{style:e.challengeTitle},t.title),!r&&t.difficulty&&React.createElement("div",{style:e.difficultyStars},I(t.difficulty))),React.createElement("p",{style:e.challengeDescription},t.description),React.createElement("div",{style:e.progressContainer},React.createElement("div",{style:e.progressBar},React.createElement("div",{style:{...e.progressFill,width:`${Math.min(n,100)}%`,backgroundColor:l?"#43b581":"#5865f2"}})),React.createElement("span",{style:e.progressText},t.current,"/",t.target))),React.createElement("div",{style:e.challengeReward},React.createElement("div",{style:e.pointsBadge},React.createElement(o,{size:10,color:"#faa61a"}),React.createElement("span",null,t.points)),t.reward&&React.createElement("div",{style:e.rewardBadge},F(t.reward),React.createElement("span",null,B(t.reward)))))};return C?React.createElement("div",{style:e.container},React.createElement("div",{style:e.loading},React.createElement(m,{className:"pulse",size:32,color:"#faa61a"}),React.createElement("span",null,"GÃ¶revler yÃ¼kleniyor..."))):React.createElement("div",{style:e.container},React.createElement("div",{style:e.header},React.createElement("div",{style:e.headerLeft},React.createElement(m,{size:24,color:"#faa61a"}),React.createElement("div",null,React.createElement("h2",{style:e.title},"HaftalÄ±k GÃ¶revler"),React.createElement("p",{style:e.subtitle},"GÃ¶revleri tamamla, Ã¶dÃ¼ller kazan!"))),React.createElement("div",{style:e.timer},React.createElement(D,{size:14,color:"#72767d"}),React.createElement("span",null,u.days,"g ",u.hours,"s ",u.minutes,"d kaldÄ±"))),React.createElement("div",{style:e.statsGrid},React.createElement("div",{style:e.statCard},React.createElement(j,{size:20,color:"#f04747"}),React.createElement("div",{style:e.statInfo},React.createElement("span",{style:e.statValue},c.streak),React.createElement("span",{style:e.statLabel},"GÃ¼nlÃ¼k Seri"))),React.createElement("div",{style:e.statCard},React.createElement(o,{size:20,color:"#faa61a"}),React.createElement("div",{style:e.statInfo},React.createElement("span",{style:e.statValue},c.weeklyPoints),React.createElement("span",{style:e.statLabel},"HaftalÄ±k Puan"))),React.createElement("div",{style:e.statCard},React.createElement(m,{size:20,color:"#5865f2"}),React.createElement("div",{style:e.statInfo},React.createElement("span",{style:e.statValue},"#",c.rank),React.createElement("span",{style:e.statLabel},"SÄ±ralama"))),React.createElement("div",{style:e.statCard},React.createElement(y,{size:20,color:"#43b581"}),React.createElement("div",{style:e.statInfo},React.createElement("span",{style:e.statValue},c.completedChallenges),React.createElement("span",{style:e.statLabel},"Tamamlanan")))),React.createElement("div",{style:e.tabs},React.createElement("button",{style:{...e.tab,...i==="weekly"?e.tabActive:{}},onClick:()=>p("weekly")},React.createElement(m,{size:14}),"HaftalÄ±k (",a.weekly.length,")"),React.createElement("button",{style:{...e.tab,...i==="daily"?e.tabActive:{}},onClick:()=>p("daily")},React.createElement(o,{size:14}),"GÃ¼nlÃ¼k (",a.daily.length,")"),React.createElement("button",{style:{...e.tab,...i==="special"?e.tabActive:{}},onClick:()=>p("special")},React.createElement(f,{size:14}),"Ã–zel (",a.special.length,")")),React.createElement("div",{style:e.challengesList},i==="weekly"&&a.weekly.map(t=>g(t)),i==="daily"&&a.daily.map(t=>g(t,!0)),i==="special"&&a.special.map(t=>g(t))),c.rewards.length>0&&React.createElement("div",{style:e.rewardsSection},React.createElement("h3",{style:e.rewardsSectionTitle},React.createElement(x,{size:14})," KazanÄ±lan Ã–dÃ¼ller"),React.createElement("div",{style:e.rewardsList},c.rewards.map((t,r)=>React.createElement("div",{key:r,style:e.earnedReward},React.createElement(y,{size:16,color:"#faa61a"}),React.createElement("span",null,t.name))))),React.createElement("div",{style:e.summaryCard},React.createElement("div",{style:e.summaryHeader},React.createElement(f,{size:16,color:"#e91e63"}),React.createElement("span",null,"Bu Hafta")),React.createElement("div",{style:e.summaryStats},React.createElement("div",{style:e.summaryItem},React.createElement("span",{style:e.summaryValue},a.weekly.filter(t=>t.status==="completed").length,"/",a.weekly.length),React.createElement("span",{style:e.summaryLabel},"GÃ¶rev")),React.createElement("div",{style:e.summaryItem},React.createElement("span",{style:e.summaryValue},c.weeklyPoints),React.createElement("span",{style:e.summaryLabel},"Puan")),React.createElement("div",{style:e.summaryItem},React.createElement("span",{style:e.summaryValue},Math.round(a.weekly.filter(t=>t.status==="completed").length/a.weekly.length*100),"%"),React.createElement("span",{style:e.summaryLabel},"Ä°lerleme"))),React.createElement("div",{style:e.totalProgressBar},React.createElement("div",{style:{...e.totalProgressFill,width:`${a.weekly.filter(t=>t.status==="completed").length/a.weekly.length*100}%`}}))))},e={container:{backgroundColor:"#36393f",borderRadius:"8px",padding:"20px",color:"#dcddde"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",padding:"60px",color:"#b9bbbe"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},headerLeft:{display:"flex",alignItems:"center",gap:"16px"},title:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff"},subtitle:{margin:"4px 0 0",fontSize:"13px",color:"#72767d"},timer:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"#2f3136",borderRadius:"4px",fontSize:"13px",color:"#b9bbbe"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",marginBottom:"20px"},statCard:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",backgroundColor:"#2f3136",borderRadius:"8px"},statInfo:{display:"flex",flexDirection:"column"},statValue:{fontSize:"20px",fontWeight:"700",color:"#fff"},statLabel:{fontSize:"11px",color:"#72767d",textTransform:"uppercase"},tabs:{display:"flex",gap:"8px",marginBottom:"16px",borderBottom:"1px solid #40444b",paddingBottom:"12px"},tab:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#72767d",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},tabActive:{backgroundColor:"#5865f2",color:"#fff"},challengesList:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"20px"},challengeCard:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",backgroundColor:"#2f3136",borderRadius:"8px",transition:"transform 0.2s"},challengeIcon:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#202225",borderRadius:"12px",fontSize:"20px"},challengeContent:{flex:1},challengeHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},challengeTitle:{margin:0,fontSize:"15px",fontWeight:"600",color:"#fff"},difficultyStars:{display:"flex",gap:"2px"},challengeDescription:{margin:"0 0 8px",fontSize:"13px",color:"#b9bbbe"},progressContainer:{display:"flex",alignItems:"center",gap:"8px"},progressBar:{flex:1,height:"6px",backgroundColor:"#202225",borderRadius:"3px",overflow:"hidden"},progressFill:{height:"100%",backgroundColor:"#5865f2",borderRadius:"3px",transition:"width 0.3s"},progressText:{fontSize:"12px",color:"#72767d",minWidth:"45px",textAlign:"right"},challengeReward:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},pointsBadge:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"rgba(250, 166, 26, 0.2)",borderRadius:"12px",fontSize:"12px",color:"#faa61a",fontWeight:"600"},rewardBadge:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"rgba(88, 101, 242, 0.2)",borderRadius:"12px",fontSize:"11px",color:"#dcddde"},rewardsSection:{marginBottom:"20px"},rewardsSectionTitle:{display:"flex",alignItems:"center",gap:"8px",margin:"0 0 12px",fontSize:"14px",fontWeight:"600",color:"#fff"},rewardsList:{display:"flex",flexWrap:"wrap",gap:"8px"},earnedReward:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"#2f3136",borderRadius:"16px",fontSize:"13px",color:"#dcddde"},summaryCard:{padding:"20px",backgroundColor:"linear-gradient(135deg, #5865f2 0%, #7289da 100%)",background:"linear-gradient(135deg, rgba(88, 101, 242, 0.3) 0%, rgba(114, 137, 218, 0.3) 100%)",borderRadius:"12px",border:"1px solid rgba(88, 101, 242, 0.5)"},summaryHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px",fontSize:"14px",fontWeight:"600",color:"#fff"},summaryStats:{display:"flex",justifyContent:"space-around",marginBottom:"16px"},summaryItem:{display:"flex",flexDirection:"column",alignItems:"center"},summaryValue:{fontSize:"24px",fontWeight:"700",color:"#fff"},summaryLabel:{fontSize:"11px",color:"#b9bbbe",textTransform:"uppercase"},totalProgressBar:{height:"8px",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"4px",overflow:"hidden"},totalProgressFill:{height:"100%",backgroundColor:"#43b581",borderRadius:"4px",transition:"width 0.3s"}};export{X as default};

import{r as l,d as e,aV as d,i as I,af as f,by as m,aR as C,aS as T}from"./react-core-DrOm_csO.js";import{t as y}from"./index-DmEhdEtw.js";const B=({onClose:s,currentCoins:u,onPurchaseComplete:p})=>{const[h,S]=l.useState([]),[i,c]=l.useState(!1),[E,g]=l.useState(null),x="https://api.pawscord.com",b=localStorage.getItem("access_token");l.useEffect(()=>{k()},[]);const k=async()=>{try{const n=await(await fetch(`${x}/coins/packages/`)).json();console.log("ðŸ’° [COIN PACKAGES] Response:",n),n.success&&S(n.packages)}catch(t){console.error("âŒ Coin paketleri yÃ¼klenemedi:",t)}},w=async t=>{g(t.id),c(!0),console.log("ðŸ”‘ [COIN PURCHASE] Token:",b?"EXISTS":"MISSING"),console.log("ðŸ“¦ [COIN PURCHASE] Package ID:",t.id);try{const o=await(await fetch(`${x}/coins/checkout/`,{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({package_id:t.id,payment_method:"stripe"})})).json();console.log("ðŸ›’ [COIN PURCHASE] Response:",o),o.success&&(o.test_mode?(y.success(`âœ… ${t.coins+(t.bonus||0)} coin eklendi!

Yeni bakiye: ${o.new_balance} coin`,{duration:4e3}),p&&p(o.new_balance),s()):window.location.href=o.checkout_url)}catch(n){console.error("âŒ SatÄ±n alma hatasÄ±:",n),y.error("SatÄ±n alma baÅŸarÄ±sÄ±z oldu. LÃ¼tfen tekrar deneyin.")}finally{c(!1),g(null)}},v=t=>({"ðŸ’°":d,"ðŸ’Ž":m,"ðŸ‘‘":T,"ðŸŒŸ":f})[t]||d;return e.createElement("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px",animation:"fadeIn 0.2s ease-in"},onClick:s},e.createElement("div",{style:{background:"linear-gradient(135deg, #2a2d35 0%, #1e2024 100%)",borderRadius:"24px",maxWidth:"1000px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 100px rgba(255, 215, 0, 0.1)",border:"1px solid rgba(255, 215, 0, 0.2)",animation:"slideUp 0.3s ease-out"},onClick:t=>t.stopPropagation()},e.createElement("div",{style:{position:"sticky",top:0,background:"linear-gradient(135deg, #2a2d35 0%, #1e2024 100%)",borderBottom:"2px solid rgba(255, 215, 0, 0.15)",padding:"24px 32px",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:10,borderRadius:"24px 24px 0 0"}},e.createElement("div",null,e.createElement("h2",{style:{fontSize:"32px",fontWeight:"bold",background:"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"}},e.createElement(d,{style:{fontSize:"36px",color:"#ffd700",filter:"drop-shadow(0 0 10px rgba(255, 215, 0, 0.5))"}}),"ðŸ’° Coin MaÄŸazasÄ±"),e.createElement("p",{style:{fontSize:"14px",color:"#b9bbbe",marginTop:"4px"}},"Mevcut bakiye: ",e.createElement("span",{style:{color:"#ffd700",fontWeight:"bold",fontSize:"16px",textShadow:"0 0 10px rgba(255, 215, 0, 0.3)"}},u?.toLocaleString()||0)," coin")),e.createElement("button",{onClick:s,style:{color:"#b9bbbe",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"12px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:t=>{t.target.style.background="rgba(255, 255, 255, 0.1)",t.target.style.color="#ffffff",t.target.style.transform="scale(1.1)"},onMouseLeave:t=>{t.target.style.background="rgba(255, 255, 255, 0.05)",t.target.style.color="#b9bbbe",t.target.style.transform="scale(1)"}},e.createElement(I,{style:{fontSize:"24px"}}))),e.createElement("div",{style:{padding:"32px"}},e.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"24px"}},h.map(t=>{const n=v(t.icon),o=t.coins+(t.bonus||0),a=t.popular,z=i&&E===t.id;return e.createElement("div",{key:t.id,style:{position:"relative",background:a?"linear-gradient(135deg, rgba(88, 101, 242, 0.15) 0%, rgba(88, 101, 242, 0.05) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",borderRadius:"20px",padding:"28px",border:a?"2px solid rgba(88, 101, 242, 0.5)":"2px solid rgba(255, 255, 255, 0.1)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",boxShadow:a?"0 8px 32px rgba(88, 101, 242, 0.3), inset 0 0 60px rgba(88, 101, 242, 0.1)":"0 4px 20px rgba(0, 0, 0, 0.3)",transform:"translateY(0)",overflow:"hidden"},onMouseEnter:r=>{r.currentTarget.style.transform="translateY(-8px)",r.currentTarget.style.boxShadow=a?"0 12px 48px rgba(88, 101, 242, 0.4), inset 0 0 80px rgba(88, 101, 242, 0.15)":"0 8px 32px rgba(255, 215, 0, 0.2)",r.currentTarget.style.border=a?"2px solid rgba(88, 101, 242, 0.8)":"2px solid rgba(255, 215, 0, 0.3)"},onMouseLeave:r=>{r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow=a?"0 8px 32px rgba(88, 101, 242, 0.3), inset 0 0 60px rgba(88, 101, 242, 0.1)":"0 4px 20px rgba(0, 0, 0, 0.3)",r.currentTarget.style.border=a?"2px solid rgba(88, 101, 242, 0.5)":"2px solid rgba(255, 255, 255, 0.1)"}},a&&e.createElement("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(88, 101, 242, 0.1) 0%, transparent 70%)",animation:"rotate 8s linear infinite",pointerEvents:"none"}}),a&&e.createElement("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #5865f2 0%, #4752c4 100%)",color:"white",fontSize:"12px",fontWeight:"bold",padding:"6px 16px",borderRadius:"20px",display:"flex",alignItems:"center",gap:"6px",boxShadow:"0 4px 12px rgba(88, 101, 242, 0.4)",border:"1px solid rgba(255, 255, 255, 0.2)",animation:"pulse 2s ease-in-out infinite"}},e.createElement(f,{style:{fontSize:"12px"}}),"EN POPÃœLER"),e.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px",marginTop:a?"12px":"0",position:"relative",zIndex:1}},e.createElement("div",{style:{width:"100px",height:"100px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:a?"linear-gradient(135deg, rgba(88, 101, 242, 0.3) 0%, rgba(88, 101, 242, 0.1) 100%)":"linear-gradient(135deg, rgba(255, 215, 0, 0.2) 0%, rgba(255, 215, 0, 0.05) 100%)",boxShadow:a?"0 0 40px rgba(88, 101, 242, 0.3), inset 0 0 20px rgba(88, 101, 242, 0.2)":"0 0 30px rgba(255, 215, 0, 0.2), inset 0 0 20px rgba(255, 215, 0, 0.1)",border:`2px solid ${a?"rgba(88, 101, 242, 0.3)":"rgba(255, 215, 0, 0.2)"}`}},e.createElement(n,{style:{fontSize:"48px",color:a?"#5865f2":"#ffd700",filter:`drop-shadow(0 0 15px ${a?"rgba(88, 101, 242, 0.5)":"rgba(255, 215, 0, 0.5)"})`}}))),e.createElement("h3",{style:{fontSize:"24px",fontWeight:"bold",color:"white",textAlign:"center",marginBottom:"16px",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",position:"relative",zIndex:1}},t.name),e.createElement("div",{style:{textAlign:"center",marginBottom:"20px",position:"relative",zIndex:1}},e.createElement("div",{style:{fontSize:"42px",fontWeight:"bold",background:"linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 30px rgba(255, 215, 0, 0.3)",marginBottom:"8px"}},t.coins.toLocaleString()),t.bonus&&e.createElement(e.Fragment,null,e.createElement("div",{style:{fontSize:"16px",color:"#57f287",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",marginTop:"8px",textShadow:"0 0 10px rgba(87, 242, 135, 0.3)"}},e.createElement(m,{style:{fontSize:"18px"}}),"+",t.bonus.toLocaleString()," Bonus!"),e.createElement("div",{style:{fontSize:"13px",color:"#b9bbbe",marginTop:"6px"}},"Toplam: ",o.toLocaleString()," coin"))),e.createElement("div",{style:{textAlign:"center",marginBottom:"20px",position:"relative",zIndex:1}},e.createElement("div",{style:{fontSize:"32px",fontWeight:"bold",color:"white",textShadow:"0 2px 12px rgba(0, 0, 0, 0.4)"}},t.price.toFixed(2)," ",t.currency)),e.createElement("button",{onClick:()=>w(t),disabled:i,style:{width:"100%",padding:"16px",borderRadius:"12px",fontWeight:"bold",fontSize:"16px",color:"white",background:a?"linear-gradient(135deg, #5865f2 0%, #4752c4 100%)":"linear-gradient(135deg, #57f287 0%, #3ba55d 100%)",border:"none",cursor:i?"not-allowed":"pointer",transition:"all 0.3s",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:a?"0 6px 20px rgba(88, 101, 242, 0.4)":"0 6px 20px rgba(87, 242, 135, 0.3)",opacity:i?.6:1,position:"relative",zIndex:1,overflow:"hidden"},onMouseEnter:r=>{i||(r.target.style.transform="translateY(-2px)",r.target.style.boxShadow=a?"0 8px 28px rgba(88, 101, 242, 0.6)":"0 8px 28px rgba(87, 242, 135, 0.5)")},onMouseLeave:r=>{r.target.style.transform="translateY(0)",r.target.style.boxShadow=a?"0 6px 20px rgba(88, 101, 242, 0.4)":"0 6px 20px rgba(87, 242, 135, 0.3)"}},z?e.createElement(e.Fragment,null,e.createElement("div",{style:{width:"20px",height:"20px",border:"3px solid rgba(255, 255, 255, 0.3)",borderTop:"3px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Ä°ÅŸleniyor..."):e.createElement(e.Fragment,null,e.createElement(C,{style:{fontSize:"18px"}}),"SatÄ±n Al")))})),e.createElement("div",{style:{marginTop:"32px",padding:"24px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%)",borderRadius:"16px",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)"}},e.createElement("div",{style:{fontSize:"14px",color:"#dcddde",display:"flex",flexDirection:"column",gap:"12px"}},e.createElement("p",{style:{display:"flex",alignItems:"flex-start",gap:"10px"}},e.createElement("span",{style:{color:"#57f287",fontSize:"16px"}},"âœ“"),e.createElement("span",null,"Coin'ler hesabÄ±nÄ±za anÄ±nda eklenir")),e.createElement("p",{style:{display:"flex",alignItems:"flex-start",gap:"10px"}},e.createElement("span",{style:{color:"#57f287",fontSize:"16px"}},"âœ“"),e.createElement("span",null,"GÃ¼venli Ã¶deme Stripe ile korunuyor")),e.createElement("p",{style:{display:"flex",alignItems:"flex-start",gap:"10px"}},e.createElement("span",{style:{color:"#57f287",fontSize:"16px"}},"âœ“"),e.createElement("span",null,"Bonus coin'ler belirli paketlere dahildir")),e.createElement("p",{style:{display:"flex",alignItems:"flex-start",gap:"10px"}},e.createElement("span",{style:{color:"#faa61a",fontSize:"16px"}},"âš "),e.createElement("span",{style:{color:"#b9bbbe",fontSize:"12px"}},"Test modunda Ã§alÄ±ÅŸÄ±yor - gerÃ§ek Ã¶deme alÄ±nmÄ±yor"))))),e.createElement("style",null,`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideUp {
            from { 
              opacity: 0;
              transform: translateY(20px);
            }
            to { 
              opacity: 1;
              transform: translateY(0);
            }
          }
          @keyframes pulse {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.05); }
          }
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
          @keyframes rotate {
            to { transform: rotate(360deg); }
          }
        `)))};export{B as default};

import{r as c,x as R,l as E,ci as a,cj as r,Y as u}from"./react-core-B6hadH-M.js";import{t as o}from"./index-D_6pZib5.js";const _=({fetchWithAuth:s,apiBaseUrl:d,onClose:m})=>{const[t,i]=c.useState({all_messages:!0,mentions_only:!1,direct_messages:!0,server_notifications:!0,keyword_notifications:[],muted_channels:[],muted_servers:[],sound_enabled:!0,desktop_enabled:!0,email_enabled:!1,dnd_enabled:!1,dnd_start:"22:00",dnd_end:"08:00"}),[x,p]=c.useState(!0);c.useEffect(()=>{g()},[]);const g=async()=>{try{p(!0);const l=await s(`${d}/notifications/preferences/`);if(l.ok){const f=await l.json();i({...t,...f})}}catch(l){console.error("Tercih yükleme hatası:",l)}finally{p(!1)}},y=async()=>{try{(await s(`${d}/notifications/preferences/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?o.success("Tercihler kaydedildi"):o.error("Tercihler kaydedilemedi")}catch(l){console.error("Kaydetme hatası:",l),o.error("Bir hata oluştu")}},n=l=>{i({...t,[l]:!t[l]})};return React.createElement("div",{style:e.overlay,onClick:m},React.createElement("div",{style:e.modal,onClick:l=>l.stopPropagation()},React.createElement("div",{style:e.header},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement(R,{style:{color:"#43b581"}}),React.createElement("h2",{style:{margin:0}},"Bildirim Tercihleri")),React.createElement(E,{onClick:m,style:e.closeBtn})),React.createElement("div",{style:e.content},React.createElement("div",{style:e.section},React.createElement("h3",{style:e.sectionTitle},"Mesaj Bildirimleri"),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("strong",null,"Tüm Mesajlar"),React.createElement("p",{style:e.settingDesc},"Her yeni mesajdan bildirim al")),React.createElement("button",{onClick:()=>n("all_messages"),style:e.toggle},t.all_messages?React.createElement(a,{style:{color:"#43b581",fontSize:"32px"}}):React.createElement(r,{style:{color:"#888",fontSize:"32px"}}))),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("strong",null,"Sadece Mention'lar"),React.createElement("p",{style:e.settingDesc},"Yalnızca etiketlendiğinizde bildirim")),React.createElement("button",{onClick:()=>n("mentions_only"),style:e.toggle},t.mentions_only?React.createElement(a,{style:{color:"#43b581",fontSize:"32px"}}):React.createElement(r,{style:{color:"#888",fontSize:"32px"}}))),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("strong",null,"Direkt Mesajlar"),React.createElement("p",{style:e.settingDesc},"DM'lerden bildirim al")),React.createElement("button",{onClick:()=>n("direct_messages"),style:e.toggle},t.direct_messages?React.createElement(a,{style:{color:"#43b581",fontSize:"32px"}}):React.createElement(r,{style:{color:"#888",fontSize:"32px"}})))),React.createElement("div",{style:e.section},React.createElement("h3",{style:e.sectionTitle},"Bildirim Kanalları"),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("strong",null,"Ses Bildirimleri"),React.createElement("p",{style:e.settingDesc},"Bildirim geldiğinde ses çal")),React.createElement("button",{onClick:()=>n("sound_enabled"),style:e.toggle},t.sound_enabled?React.createElement(a,{style:{color:"#43b581",fontSize:"32px"}}):React.createElement(r,{style:{color:"#888",fontSize:"32px"}}))),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("strong",null,"Masaüstü Bildirimleri"),React.createElement("p",{style:e.settingDesc},"Tarayıcı bildirimleri")),React.createElement("button",{onClick:()=>n("desktop_enabled"),style:e.toggle},t.desktop_enabled?React.createElement(a,{style:{color:"#43b581",fontSize:"32px"}}):React.createElement(r,{style:{color:"#888",fontSize:"32px"}}))),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("strong",null,"Email Bildirimleri"),React.createElement("p",{style:e.settingDesc},"Önemli bildirimleri email'le al")),React.createElement("button",{onClick:()=>n("email_enabled"),style:e.toggle},t.email_enabled?React.createElement(a,{style:{color:"#43b581",fontSize:"32px"}}):React.createElement(r,{style:{color:"#888",fontSize:"32px"}})))),React.createElement("div",{style:e.section},React.createElement("h3",{style:e.sectionTitle},React.createElement(u,{style:{marginRight:"8px"}}),"Rahatsız Etme Saatleri"),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("strong",null,"Rahatsız Etme Modu"),React.createElement("p",{style:e.settingDesc},"Belirli saatlerde bildirimleri kapat")),React.createElement("button",{onClick:()=>n("dnd_enabled"),style:e.toggle},t.dnd_enabled?React.createElement(a,{style:{color:"#43b581",fontSize:"32px"}}):React.createElement(r,{style:{color:"#888",fontSize:"32px"}}))),t.dnd_enabled&&React.createElement("div",{style:e.timeRange},React.createElement("div",{style:e.timeInput},React.createElement("label",null,"Başlangıç:"),React.createElement("input",{type:"time",value:t.dnd_start,onChange:l=>i({...t,dnd_start:l.target.value}),style:e.input})),React.createElement("div",{style:e.timeInput},React.createElement("label",null,"Bitiş:"),React.createElement("input",{type:"time",value:t.dnd_end,onChange:l=>i({...t,dnd_end:l.target.value}),style:e.input}))))),React.createElement("div",{style:e.footer},React.createElement("button",{onClick:y,style:e.saveBtn},"Kaydet"))))},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},section:{marginBottom:"30px"},sectionTitle:{color:"#5865f2",fontSize:"16px",fontWeight:"600",marginBottom:"15px",display:"flex",alignItems:"center"},setting:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px",backgroundColor:"#2c2f33",borderRadius:"8px",marginBottom:"10px"},settingInfo:{flex:1},settingDesc:{fontSize:"12px",color:"#888",margin:"4px 0 0 0"},toggle:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0"},timeRange:{display:"flex",gap:"20px",padding:"15px",backgroundColor:"#2c2f33",borderRadius:"8px",marginTop:"10px"},timeInput:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},input:{padding:"8px",backgroundColor:"#1e1e1e",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},footer:{padding:"20px",borderTop:"1px solid #333"},saveBtn:{width:"100%",backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{_ as default};

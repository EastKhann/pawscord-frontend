var k=Object.defineProperty;var o=(c,n)=>k(c,"name",{value:n,configurable:!0});import{r as x,j as e}from"./react-core-Djgtqrmb.js";import{c as w,t as d}from"./index-BRQzOq3v.js";import{k as S,a as B}from"./icons-vendor-BW7dxHkX.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const G=o(({messageId:c,messageContent:n,onClose:p,fetchWithAuth:g,apiBaseUrl:h})=>{const{overlayProps:y,dialogProps:f}=w({onClose:p,label:"Hatırlatıcı"}),[i,l]=x.useState(""),[b,j]=x.useState(""),[a,m]=x.useState(!1),v=o(async()=>{if(!i){d.error("❌ Lütfen bir tarih seçin");return}m(!0);try{const r=await g(`${h}/reminders/create/`,{method:"POST",body:JSON.stringify({message_id:c,reminder_time:i,note:b||n?.substring(0,100)})});if(r.ok)d.success("✅ Hatırlatıcı oluşturuldu!"),p();else{const s=await r.json();d.error("❌ Hata: "+(s.error||"Bilinmeyen hata"))}}catch{d.error("❌ Hatırlatıcı oluşturulamadı")}finally{m(!1)}},"handleCreate"),u=o(r=>{const s=new Date;return s.setHours(s.getHours()+r),s.toISOString().slice(0,16)},"getPresetTime");return e.jsx("div",{style:t.overlay,...y,children:e.jsxs("div",{style:t.modal,...f,children:[e.jsxs("div",{style:t.header,children:[e.jsxs("h3",{style:t.title,children:[e.jsx(S,{})," Hatırlatıcı Kur"]}),e.jsx("button",{onClick:p,style:t.closeButton,children:e.jsx(B,{})})]}),e.jsxs("div",{style:t.content,children:[e.jsxs("div",{style:t.messagePreview,children:[n?.substring(0,150),n?.length>150&&"..."]}),e.jsxs("div",{style:t.presets,children:[e.jsx("button",{onClick:o(()=>l(u(1)),"onClick"),style:t.presetButton,children:"1 saat sonra"}),e.jsx("button",{onClick:o(()=>l(u(3)),"onClick"),style:t.presetButton,children:"3 saat sonra"}),e.jsx("button",{onClick:o(()=>l(u(24)),"onClick"),style:t.presetButton,children:"Yarın"})]}),e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:"Tarih ve Saat"}),e.jsx("input",{type:"datetime-local",value:i,onChange:o(r=>l(r.target.value),"onChange"),style:t.input})]}),e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:"Not (Opsiyonel)"}),e.jsx("input",{type:"text",value:b,onChange:o(r=>j(r.target.value),"onChange"),placeholder:"Hatırlatıcı için not ekle...",style:t.input})]}),e.jsx("button",{onClick:v,disabled:a||!i,style:{...t.createButton,opacity:a||!i?.5:1,cursor:a||!i?"not-allowed":"pointer"},children:a?"Oluşturuluyor...":"✅ Hatırlatıcı Oluştur"})]})]})})},"ReminderModal"),t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"500px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.3em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.3em",padding:"5px"},content:{padding:"20px"},messagePreview:{backgroundColor:"#40444b",padding:"12px",borderRadius:"4px",color:"#dcddde",fontSize:"0.9em",marginBottom:"15px",borderLeft:"3px solid #5865f2"},presets:{display:"flex",gap:"8px",marginBottom:"15px"},presetButton:{flex:1,padding:"8px",backgroundColor:"#40444b",border:"1px solid #5865f2",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"0.85em"},inputGroup:{marginBottom:"15px"},label:{display:"block",color:"#b9bbbe",fontSize:"0.85em",marginBottom:"5px",fontWeight:"bold"},input:{width:"100%",padding:"10px",backgroundColor:"#40444b",border:"1px solid #5865f2",borderRadius:"4px",color:"white",fontSize:"1em"},createButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",fontSize:"1em"}};export{G as default};

import{r as a,b as t}from"./react-core-9vc7GIjk.js";import{a as B,g as I,t as l}from"./index-CUykE5-R.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./icons-vendor-u_f-1GKM.js";import"./state-vendor-0vlBuk0v.js";const M=()=>{const{token:p}=B(),[s,E]=a.useState("frames"),[m,v]=a.useState([]),[S,C]=a.useState([]),[u,x]=a.useState(0),[c,k]=a.useState("free"),[z,f]=a.useState(!0),[o,d]=a.useState(null),g=I().replace("/api",""),F=[{id:"frames",name:"ðŸ–¼ï¸ Ã‡erÃ§eveler",icon:"ðŸ–¼ï¸"},{id:"badges",name:"ðŸ† Rozetler",icon:"ðŸ†"},{id:"banners",name:"ðŸŽ¨ Banner",icon:"ðŸŽ¨"},{id:"emojis",name:"ðŸ˜Ž Emoji",icon:"ðŸ˜Ž"},{id:"voices",name:"ðŸŽ™ï¸ Ses Efekti",icon:"ðŸŽ™ï¸"},{id:"themes",name:"ðŸŒˆ Tema",icon:"ðŸŒˆ"}];a.useEffect(()=>{w(),$(),y()},[s]);const w=async()=>{try{const r=await(await fetch(`${g}/api/store/coins/balance/`,{headers:{Authorization:`Bearer ${p}`}})).json();x(r.coins),k(r.premium_tier)}catch(e){console.error("Error fetching user data:",e)}},$=async()=>{f(!0);try{const r=await(await fetch(`${g}/api/store/items/?category=${s}`,{headers:{Authorization:`Bearer ${p}`}})).json();v(r.results||r)}catch(e){console.error("Error fetching items:",e)}f(!1)},y=async()=>{try{const r=await(await fetch(`${g}/api/store/inventory/`,{headers:{Authorization:`Bearer ${p}`}})).json();C(r.results||r)}catch(e){console.error("Error fetching inventory:",e)}},b=async e=>{if(u<e.price){l.error(`âŒ Yetersiz coin! ${e.price} coin gerekli, ${u} coin var.`);return}if(e.premium_required&&c==="free"){l.error(`âŒ ${e.premium_required} Ã¼yelik gerekli!`);return}try{const r=await fetch(`${g}/api/store/items/${e.id}/purchase/`,{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}}),n=await r.json();r.ok?(l.success(`âœ… ${e.name} satÄ±n alÄ±ndÄ±!`),x(n.coins_remaining),y(),d(null)):l.error(`âŒ ${n.error||"SatÄ±n alma baÅŸarÄ±sÄ±z"}`)}catch(r){console.error("Purchase error:",r),l.error("âŒ Bir hata oluÅŸtu")}},i=e=>({common:"#FFFFFF",rare:"#5865F2",epic:"#9B59B6",legendary:"#F1C40F",unique:"#E74C3C"})[e]||"#FFFFFF",h=e=>S.some(r=>r.item.item_id===e);return t.createElement("div",{style:{width:"100%",minHeight:"100vh",background:"linear-gradient(135deg, #1e1e1e 0%, #2c2c2c 100%)",color:"#fff"}},t.createElement("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"20px 40px",borderBottom:"2px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"}},t.createElement("h1",{style:{margin:0,fontSize:"32px",fontWeight:700}},"ðŸ›’ Pawscord MaÄŸaza"),t.createElement("div",{style:{display:"flex",gap:"20px",alignItems:"center"}},t.createElement("div",{style:{background:"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)",padding:"12px 24px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px",fontWeight:700,fontSize:"18px"}},t.createElement("span",null,"ðŸ’°"),t.createElement("span",null,u.toLocaleString()," Coins")),c!=="free"&&t.createElement("div",{style:{background:c==="elite"?"linear-gradient(135deg, #E74C3C 0%, #C0392B 100%)":"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)",padding:"12px 24px",borderRadius:"12px",fontWeight:700}},c==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"))),t.createElement("div",{style:{padding:"30px 40px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"}},t.createElement("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"}},F.map(e=>t.createElement("button",{key:e.id,onClick:()=>E(e.id),style:{background:s===e.id?"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)":"rgba(255, 255, 255, 0.05)",border:s===e.id?"2px solid #5865F2":"1px solid rgba(255, 255, 255, 0.1)",color:"#fff",padding:"12px 24px",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:600,transition:"all 0.3s"},onMouseEnter:r=>{s!==e.id&&(r.target.style.background="rgba(255, 255, 255, 0.1)")},onMouseLeave:r=>{s!==e.id&&(r.target.style.background="rgba(255, 255, 255, 0.05)")}},e.name)))),t.createElement("div",{style:{padding:"40px"}},z?t.createElement("div",{style:{textAlign:"center",padding:"60px",fontSize:"20px"}},"â³ YÃ¼kleniyor..."):m.length===0?t.createElement("div",{style:{textAlign:"center",padding:"60px",fontSize:"18px",color:"#888"}},"Bu kategoride henÃ¼z Ã¶ÄŸe yok"):t.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px"}},m.map(e=>{const r=h(e.item_id);return t.createElement("div",{key:e.id,style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"16px",padding:"20px",border:`2px solid ${i(e.rarity)}`,boxShadow:`0 0 20px ${i(e.rarity)}40`,cursor:"pointer",transition:"transform 0.3s",position:"relative"},onClick:()=>d(e),onMouseEnter:n=>{n.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateY(0)"}},r&&t.createElement("div",{style:{position:"absolute",top:"10px",right:"10px",background:"#43b581",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700}},"âœ… Sahip"),e.premium_required&&t.createElement("div",{style:{position:"absolute",top:"10px",left:"10px",background:e.premium_required==="elite"?"#E74C3C":"#5865F2",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700}},e.premium_required==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"),t.createElement("div",{style:{height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"80px",marginTop:e.premium_required?"30px":"0"}},e.preview_url||"ðŸŽ"),t.createElement("h3",{style:{margin:"16px 0 8px",fontSize:"20px",color:i(e.rarity)}},e.name),t.createElement("p",{style:{margin:"0 0 16px",fontSize:"14px",color:"#aaa",minHeight:"40px"}},e.description),t.createElement("div",{style:{fontSize:"12px",color:i(e.rarity),fontWeight:700,textTransform:"uppercase",marginBottom:"12px"}},e.rarity),t.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},t.createElement("div",{style:{fontSize:"24px",fontWeight:700,color:"#F1C40F"}},e.price===0?"ÃœCRETSIZ":`${e.price} ðŸ’°`),!r&&t.createElement("button",{onClick:n=>{n.stopPropagation(),b(e)},style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",fontWeight:700,cursor:"pointer",fontSize:"14px"},onMouseEnter:n=>{n.target.style.transform="scale(1.05)"},onMouseLeave:n=>{n.target.style.transform="scale(1)"}},"SatÄ±n Al")))}))),o&&t.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},onClick:()=>d(null)},t.createElement("div",{style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"20px",padding:"40px",maxWidth:"500px",width:"90%",border:`3px solid ${i(o.rarity)}`,boxShadow:`0 0 40px ${i(o.rarity)}60`},onClick:e=>e.stopPropagation()},t.createElement("div",{style:{textAlign:"center",fontSize:"100px",marginBottom:"20px"}},o.preview_url||"ðŸŽ"),t.createElement("h2",{style:{margin:"0 0 10px",fontSize:"28px",color:i(o.rarity)}},o.name),t.createElement("p",{style:{margin:"0 0 20px",color:"#aaa",fontSize:"16px"}},o.description),t.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"30px"}},t.createElement("button",{onClick:()=>d(null),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600}},"Kapat"),!h(o.item_id)&&t.createElement("button",{onClick:()=>b(o),style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"12px 32px",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"16px"}},"SatÄ±n Al (",o.price," ðŸ’°)")))))};export{M as default};

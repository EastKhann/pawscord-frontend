import{r as s,n as r}from"./react-core-CvG1duuD.js";import"./editor-vendor-D9c4a6XZ.js";const d=e=>{if(!e)return null;const t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,o=e.match(t);return o&&o[2].length===11?o[2]:null},c=e=>{const t=d(e);return t?`https://www.youtube.com/embed/${t}`:null},m=e=>{if(!e)return null;const t=e.match(/https:\/\/open\.spotify\.com\/(track|album|playlist|episode)\/([a-zA-Z0-9]+)/);return t?`https://open.spotify.com/embed/${t[1]}/${t[2]}`:null},p=(e,t)=>{if(!e)return{name:"Website",color:"#5865f2"};const o=e.toLowerCase();return o.includes("youtube.com")||o.includes("youtu.be")?{name:"YouTube",color:"#FF0000"}:o.includes("spotify.com")?{name:"Spotify",color:"#1DB954"}:o.includes("twitter.com")||o.includes("x.com")?{name:"Twitter",color:"#1DA1F2"}:o.includes("github.com")?{name:"GitHub",color:"#f0f6fc"}:o.includes("twitch.tv")?{name:"Twitch",color:"#9146FF"}:o.includes("reddit.com")?{name:"Reddit",color:"#FF4500"}:o.includes("instagram.com")?{name:"Instagram",color:"#E4405F"}:o.includes("tiktok.com")?{name:"TikTok",color:"#00f2ea"}:o.includes("steam")?{name:"Steam",color:"#66c0f4"}:o.includes("wikipedia.org")?{name:"Wikipedia",color:"#636466"}:{name:t||a(e),color:"#5865f2"}},a=e=>{try{return new URL(e).hostname.replace("www.","")}catch{return""}},u=({data:e})=>{if(!e||!e.url)return null;const t=c(e.url),o=m(e.url),n=p(e.url,e.site_name);if(t)return r.jsxs("div",{style:i.embedContainer,children:[r.jsx("div",{style:{...i.accentBar,backgroundColor:n.color}}),r.jsxs("div",{style:i.embedBody,children:[r.jsx("div",{style:i.providerRow,children:r.jsx("span",{style:{...i.providerName,color:n.color},children:n.name})}),r.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:i.embedTitle,children:e.title||"YouTube Video"}),e.description&&r.jsx("p",{style:i.embedDescription,children:e.description.length>200?e.description.substring(0,200)+"…":e.description}),r.jsx("div",{style:i.videoWrapper,children:r.jsx("iframe",{src:t,style:i.videoIframe,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})]});if(o)return r.jsxs("div",{style:i.embedContainer,children:[r.jsx("div",{style:{...i.accentBar,backgroundColor:"#1DB954"}}),r.jsxs("div",{style:i.embedBody,children:[r.jsx("div",{style:i.providerRow,children:r.jsx("span",{style:{...i.providerName,color:"#1DB954"},children:"Spotify"})}),r.jsx("div",{style:i.spotifyWrapper,children:r.jsx("iframe",{src:o,style:{width:"100%",height:"80px",border:"none",borderRadius:8},title:"Spotify Player",allow:"encrypted-media"})})]})]});const l=e.image&&(e.title||e.description);return r.jsxs("div",{style:i.embedContainer,children:[r.jsx("div",{style:{...i.accentBar,backgroundColor:n.color}}),r.jsxs("div",{style:i.embedBody,children:[r.jsx("div",{style:i.providerRow,children:r.jsx("span",{style:{...i.providerName,color:n.color},children:n.name})}),r.jsxs("div",{style:i.embedContent,children:[r.jsxs("div",{style:i.embedTextArea,children:[e.title&&r.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:i.embedTitle,children:e.title}),e.description&&r.jsx("p",{style:i.embedDescription,children:e.description.length>300?e.description.substring(0,300)+"…":e.description})]}),e.image&&e.description&&e.description.length<100&&r.jsx("div",{style:i.thumbnailContainer,children:r.jsx("img",{src:e.image,alt:"",style:i.thumbnailImg,loading:"lazy"})})]}),l&&(!e.description||e.description.length>=100)&&r.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{display:"block",marginTop:8},children:r.jsx("img",{src:e.image,alt:"",style:i.largeImage,loading:"lazy"})})]})]})},i={embedContainer:{display:"flex",marginTop:6,maxWidth:516,borderRadius:4,overflow:"hidden",backgroundColor:"#2b2d31",border:"1px solid rgba(255,255,255,0.04)"},accentBar:{width:4,flexShrink:0,borderRadius:"4px 0 0 4px"},embedBody:{padding:"8px 16px 16px 12px",flex:1,minWidth:0,overflow:"hidden"},providerRow:{marginBottom:4},providerName:{fontSize:12,fontWeight:500,lineHeight:"16px"},embedTitle:{display:"block",color:"#00a8fc",textDecoration:"none",fontWeight:600,fontSize:"1rem",lineHeight:"1.25rem",marginBottom:4,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},embedDescription:{fontSize:"0.875rem",color:"#dcddde",margin:0,lineHeight:"1.125rem",maxHeight:54,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},embedContent:{display:"flex",gap:16},embedTextArea:{flex:1,minWidth:0},thumbnailContainer:{flexShrink:0,width:80,height:80,borderRadius:4,overflow:"hidden"},thumbnailImg:{width:"100%",height:"100%",objectFit:"cover"},largeImage:{maxWidth:"100%",maxHeight:300,borderRadius:4,objectFit:"cover",display:"block"},videoWrapper:{position:"relative",width:"100%",maxWidth:400,aspectRatio:"16/9",borderRadius:4,overflow:"hidden",marginTop:8,backgroundColor:"#000"},videoIframe:{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"},spotifyWrapper:{marginTop:4,borderRadius:8,overflow:"hidden"}},f=s.memo(u);export{f as default};

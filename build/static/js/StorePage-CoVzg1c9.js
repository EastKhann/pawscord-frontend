var F=Object.defineProperty;var i=(e,r)=>F(e,"name",{value:r,configurable:!0});import{r as d,j as t}from"./react-core-Djgtqrmb.js";import{a as I,t as c,c as $}from"./index-CjRzheBN.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./icons-vendor-BW7dxHkX.js";import"./ui-vendor-IhB9Znpc.js";const R=[{id:"frames",name:"ðŸ–¼ï¸ Ã‡erÃ§eveler",icon:"ðŸ–¼ï¸"},{id:"badges",name:"ðŸ† Rozetler",icon:"ðŸ†"},{id:"banners",name:"ðŸŽ¨ Banner",icon:"ðŸŽ¨"},{id:"emojis",name:"ðŸ˜Ž Emoji",icon:"ðŸ˜Ž"},{id:"voices",name:"ðŸŽ™ï¸ Ses Efekti",icon:"ðŸŽ™ï¸"},{id:"themes",name:"ðŸŒˆ Tema",icon:"ðŸŒˆ"}],P={common:"#FFFFFF",rare:"#5865F2",epic:"#9B59B6",legendary:"#F1C40F",unique:"#E74C3C"},l=i(e=>P[e]||"#FFFFFF","getRarityColor"),T=i(()=>{const{token:e}=I(),[r,a]=d.useState("frames"),[n,x]=d.useState([]),[g,u]=d.useState([]),[h,f]=d.useState(0),[m,C]=d.useState("free"),[S,y]=d.useState(!0),[k,b]=d.useState(null),p="https://api.pawscord.com";d.useEffect(()=>{z(),w(),j()},[r]);const z=i(async()=>{try{const s=await(await fetch(`${p}/api/store/coins/balance/`,{headers:{Authorization:`Bearer ${e}`}})).json();f(s.coins),C(s.premium_tier)}catch{}},"fetchUserData"),w=i(async()=>{y(!0);try{const s=await(await fetch(`${p}/api/store/items/?category=${r}`,{headers:{Authorization:`Bearer ${e}`}})).json();x(s.results||s)}catch{}y(!1)},"fetchItems"),j=i(async()=>{try{const s=await(await fetch(`${p}/api/store/inventory/`,{headers:{Authorization:`Bearer ${e}`}})).json();u(s.results||s)}catch{}},"fetchInventory");return{activeCategory:r,setActiveCategory:a,items:n,userCoins:h,premiumTier:m,loading:S,selectedItem:k,setSelectedItem:b,handlePurchase:i(async o=>{if(h<o.price){c.error(`âŒ Yetersiz coin! ${o.price} coin gerekli, ${h} coin var.`);return}if(o.premium_required&&m==="free"){c.error(`âŒ ${o.premium_required} Ã¼yelik gerekli!`);return}try{const s=await fetch(`${p}/api/store/items/${o.id}/purchase/`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),v=await s.json();s.ok?(c.success(`âœ… ${o.name} satÄ±n alÄ±ndÄ±!`),f(v.coins_remaining),j(),b(null)):c.error(`âŒ ${v.error||"SatÄ±n alma baÅŸarÄ±sÄ±z"}`)}catch{c.error("âŒ Bir hata oluÅŸtu")}},"handlePurchase"),isOwned:i(o=>g.some(s=>s.item.item_id===o),"isOwned")}},"useStorePage"),A=i(({item:e,isOwned:r,onPurchase:a,onClose:n})=>{const{overlayProps:x,dialogProps:g}=$({onClose:n,isOpen:!0,label:"Item Detail"});return t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},...x,children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"20px",padding:"40px",maxWidth:"500px",width:"90%",border:`3px solid ${l(e.rarity)}`,boxShadow:`0 0 40px ${l(e.rarity)}60`},onClick:i(u=>u.stopPropagation(),"onClick"),...g,children:[t.jsx("div",{style:{textAlign:"center",fontSize:"100px",marginBottom:"20px"},children:e.preview_url||"ðŸŽ"}),t.jsx("h2",{style:{margin:"0 0 10px",fontSize:"28px",color:l(e.rarity)},children:e.name}),t.jsx("p",{style:{margin:"0 0 20px",color:"#aaa",fontSize:"16px"},children:e.description}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"30px"},children:[t.jsx("button",{onClick:n,style:{background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600},children:"Kapat"}),!r&&t.jsxs("button",{onClick:i(()=>a(e),"onClick"),style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"12px 32px",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"16px"},children:["Sat","Ä±","n Al (",e.price," ","ðŸ’°",")"]})]})]})})},"ItemDetailModal"),H=i(()=>{const e=T();return t.jsxs("div",{style:{width:"100%",minHeight:"100vh",background:"linear-gradient(135deg, #1e1e1e 0%, #2c2c2c 100%)",color:"#fff"},children:[t.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"20px 40px",borderBottom:"2px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("h1",{style:{margin:0,fontSize:"32px",fontWeight:700},children:["ðŸ›’"," Pawscord Ma","ÄŸ","aza"]}),t.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[t.jsxs("div",{style:{background:"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)",padding:"12px 24px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px",fontWeight:700,fontSize:"18px"},children:[t.jsx("span",{children:"ðŸ’°"}),t.jsxs("span",{children:[e.userCoins.toLocaleString()," Coins"]})]}),e.premiumTier!=="free"&&t.jsx("div",{style:{background:e.premiumTier==="elite"?"linear-gradient(135deg, #E74C3C 0%, #C0392B 100%)":"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)",padding:"12px 24px",borderRadius:"12px",fontWeight:700},children:e.premiumTier==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"})]})]}),t.jsx("div",{style:{padding:"30px 40px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:t.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:R.map(r=>t.jsx("button",{onClick:i(()=>e.setActiveCategory(r.id),"onClick"),style:{background:e.activeCategory===r.id?"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)":"rgba(255,255,255,0.05)",border:e.activeCategory===r.id?"2px solid #5865F2":"1px solid rgba(255,255,255,0.1)",color:"#fff",padding:"12px 24px",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:600,transition:"all 0.3s"},onMouseEnter:i(a=>{e.activeCategory!==r.id&&(a.target.style.background="rgba(255,255,255,0.1)")},"onMouseEnter"),onMouseLeave:i(a=>{e.activeCategory!==r.id&&(a.target.style.background="rgba(255,255,255,0.05)")},"onMouseLeave"),children:r.name},r.id))})}),t.jsx("div",{style:{padding:"40px"},children:e.loading?t.jsxs("div",{style:{textAlign:"center",padding:"60px",fontSize:"20px"},children:["â³"," Y","Ã¼","kleniyor..."]}):e.items.length===0?t.jsxs("div",{style:{textAlign:"center",padding:"60px",fontSize:"18px",color:"#888"},children:["Bu kategoride hen","Ã¼","z ","Ã¶ÄŸ","e yok"]}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px"},children:e.items.map(r=>{const a=e.isOwned(r.item_id);return t.jsxs("div",{onClick:i(()=>e.setSelectedItem(r),"onClick"),style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"16px",padding:"20px",border:`2px solid ${l(r.rarity)}`,boxShadow:`0 0 20px ${l(r.rarity)}40`,cursor:"pointer",transition:"transform 0.3s",position:"relative"},onMouseEnter:i(n=>{n.currentTarget.style.transform="translateY(-5px)"},"onMouseEnter"),onMouseLeave:i(n=>{n.currentTarget.style.transform="translateY(0)"},"onMouseLeave"),children:[a&&t.jsxs("div",{style:{position:"absolute",top:"10px",right:"10px",background:"#43b581",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:["âœ…"," Sahip"]}),r.premium_required&&t.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",background:r.premium_required==="elite"?"#E74C3C":"#5865F2",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:r.premium_required==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"}),t.jsx("div",{style:{height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"80px",marginTop:r.premium_required?"30px":"0"},children:r.preview_url||"ðŸŽ"}),t.jsx("h3",{style:{margin:"16px 0 8px",fontSize:"20px",color:l(r.rarity)},children:r.name}),t.jsx("p",{style:{margin:"0 0 16px",fontSize:"14px",color:"#aaa",minHeight:"40px"},children:r.description}),t.jsx("div",{style:{fontSize:"12px",color:l(r.rarity),fontWeight:700,textTransform:"uppercase",marginBottom:"12px"},children:r.rarity}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:700,color:"#F1C40F"},children:r.price===0?"ÃœCRETSIZ":`${r.price} ðŸ’°`}),!a&&t.jsxs("button",{onClick:i(n=>{n.stopPropagation(),e.handlePurchase(r)},"onClick"),style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",fontWeight:700,cursor:"pointer",fontSize:"14px"},onMouseEnter:i(n=>{n.target.style.transform="scale(1.05)"},"onMouseEnter"),onMouseLeave:i(n=>{n.target.style.transform="scale(1)"},"onMouseLeave"),children:["Sat","Ä±","n Al"]})]})]},r.id)})})}),e.selectedItem&&t.jsx(A,{item:e.selectedItem,isOwned:e.isOwned(e.selectedItem.item_id),onPurchase:e.handlePurchase,onClose:i(()=>e.setSelectedItem(null),"onClose")})]})},"StorePage");export{H as default};

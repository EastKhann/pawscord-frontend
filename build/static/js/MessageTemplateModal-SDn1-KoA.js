import{r as l,b as e}from"./react-core-9vc7GIjk.js";import{a6 as S,a as w,ae as v,Z as F,m as T}from"./icons-vendor-BHKL7tCa.js";import"./editor-vendor-DiU449Dh.js";const K=({onClose:y,onSelect:g,fetchWithAuth:r,apiBaseUrl:s,isAdmin:x})=>{const[c,d]=l.useState([]),[b,p]=l.useState(!0),[f,i]=l.useState(!1),[n,a]=l.useState({name:"",content:"",is_global:!1});l.useEffect(()=>{m()},[]);const m=async()=>{p(!0);try{const t=await r(`${s}/templates/`);if(t.ok){const o=await t.json();d(o||[])}}catch(t){console.error(t)}p(!1)},E=async()=>{if(!(!n.name||!n.content))try{(await r(`${s}/templates/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok&&(a({name:"",content:"",is_global:!1}),i(!1),m())}catch(t){console.error(t)}},h=async(t,o)=>{if(o.stopPropagation(),!!window.confirm("Bu şablonu silmek istediğine emin misin?"))try{(await r(`${s}/templates/${t}/`,{method:"DELETE"})).ok&&d(k=>k.filter(C=>C.id!==t))}catch(u){console.error(u)}};return e.createElement("div",{style:B},e.createElement("div",{style:D},e.createElement("div",{style:R},e.createElement("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"}},e.createElement(S,null)," Hazır Şablonlar"),e.createElement("button",{onClick:y,style:z},e.createElement(w,null))),e.createElement("div",{style:A},f?e.createElement("div",{style:$},e.createElement("input",{placeholder:"Şablon Adı",value:n.name,onChange:t=>a({...n,name:t.target.value}),style:N}),e.createElement("textarea",{placeholder:"Şablon İçeriği...",value:n.content,onChange:t=>a({...n,content:t.target.value}),style:P}),x&&e.createElement("label",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"12px"}},e.createElement("input",{type:"checkbox",checked:n.is_global,onChange:t=>a({...n,is_global:t.target.checked})}),"Herkese Açık (Global)"),e.createElement("div",{style:{display:"flex",gap:"10px",marginTop:"10px"}},e.createElement("button",{onClick:E,style:Y},e.createElement(v,null)," Kaydet"),e.createElement("button",{onClick:()=>i(!1),style:G},"İptal"))):e.createElement(e.Fragment,null,e.createElement("button",{onClick:()=>i(!0),style:I},e.createElement(F,null)," Yeni Şablon Oluştur"),e.createElement("div",{style:j},b?e.createElement("p",null,"Yükleniyor..."):c.length===0?e.createElement("p",{style:{opacity:.5}},"Henüz şablon yok."):c.map(t=>e.createElement("div",{key:t.id,style:H,onClick:()=>g(t.content)},e.createElement("div",null,e.createElement("div",{style:{fontWeight:"bold"}},t.name),e.createElement("div",{style:{fontSize:"12px",opacity:.7,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px"}},t.content)),e.createElement("div",{style:{display:"flex",gap:"10px"}},t.is_global&&e.createElement("span",{style:_},"Global"),e.createElement("button",{onClick:o=>h(t.id,o),style:O},e.createElement(T,null))))))))))},B={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(5px)"},D={backgroundColor:"#313338",width:"400px",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 15px rgba(0,0,0,0.5)",color:"white",display:"flex",flexDirection:"column",maxHeight:"80vh"},R={padding:"16px",backgroundColor:"#2B2D31",borderBottom:"1px solid #1F2023",display:"flex",justifyContent:"space-between",alignItems:"center"},z={background:"none",border:"none",color:"#B5BAC1",cursor:"pointer",fontSize:"16px"},A={padding:"16px",overflowY:"auto"},I={width:"100%",padding:"10px",backgroundColor:"#5865F2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",marginBottom:"15px"},j={display:"flex",flexDirection:"column",gap:"8px"},H={backgroundColor:"#2B2D31",padding:"10px",borderRadius:"4px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"0.2s"},_={fontSize:"10px",backgroundColor:"#FAA61A",color:"black",padding:"2px 6px",borderRadius:"10px",fontWeight:"bold"},O={background:"none",border:"none",color:"#DA373C",cursor:"pointer"},$={display:"flex",flexDirection:"column",gap:"10px"},N={padding:"8px",borderRadius:"4px",border:"none",backgroundColor:"#1E1F22",color:"white"},P={padding:"8px",borderRadius:"4px",border:"none",backgroundColor:"#1E1F22",color:"white",minHeight:"100px",resize:"vertical"},Y={flex:1,padding:"8px",backgroundColor:"#23A559",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},G={flex:1,padding:"8px",backgroundColor:"#DA373C",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"};export{K as default};

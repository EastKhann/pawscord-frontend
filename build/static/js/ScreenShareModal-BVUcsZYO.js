var v=Object.defineProperty;var p=(n,i)=>v(n,"name",{value:i,configurable:!0});import{r,j as e}from"./react-core-Djgtqrmb.js";import{af as f,cq as C,b2 as k,a as I,D as z}from"./icons-vendor-BW7dxHkX.js";import{c as S}from"./index-BT6pEMKq.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const q=p(({isOpen:n,onClose:i,onStopSharing:u,screenStream:o,isSharing:l,participants:a=[]})=>{const[y,c]=r.useState(!1),[b,R]=r.useState("1080p"),s=r.useRef(null),x=r.useRef(null),{overlayProps:g,dialogProps:h}=S({onClose:i,isOpen:n,label:"Screen Share"});r.useEffect(()=>{s.current&&o&&(s.current.srcObject=o)},[o]);const m=p(async()=>{if(document.fullscreenElement)await document.exitFullscreen(),c(!1);else try{await x.current?.requestFullscreen(),c(!0)}catch{}},"toggleFullscreen");return n?e.jsx("div",{style:t.overlay,...g,children:e.jsxs("div",{ref:x,style:t.container,...h,children:[e.jsxs("div",{style:t.header,children:[e.jsxs("div",{style:t.headerInfo,children:[e.jsx(f,{style:t.headerIcon}),e.jsx("span",{style:t.title,children:"Ekran PaylaÅŸÄ±mÄ±"}),l&&e.jsxs("span",{style:t.badge,children:["ðŸ”´ PaylaÅŸÄ±lÄ±yor (",a.length," izleyici)"]})]}),e.jsxs("div",{style:t.headerActions,children:[e.jsx("button",{onClick:m,style:t.headerButton,title:"Tam ekran",children:y?e.jsx(C,{}):e.jsx(k,{})}),e.jsx("button",{onClick:i,style:t.closeButton,title:"Kapat",children:e.jsx(I,{})})]})]}),e.jsx("div",{style:t.videoContainer,children:o?e.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,style:t.video}):e.jsxs("div",{style:t.placeholder,children:[e.jsx(f,{style:t.placeholderIcon}),e.jsx("p",{style:t.placeholderText,children:"Ekran paylaÅŸÄ±mÄ± baÅŸlatÄ±lmadÄ±"})]})}),l&&e.jsxs("div",{style:t.qualityBadge,children:[b," â€¢ ",o?.getVideoTracks()[0]?.getSettings().frameRate||30," FPS"]}),e.jsx("div",{style:t.controls,children:l?e.jsxs("button",{onClick:u,style:t.stopButton,children:[e.jsx(z,{style:{marginRight:"8px"}}),"PaylaÅŸÄ±mÄ± Durdur"]}):e.jsx("div",{style:t.info,children:e.jsx("p",{style:t.infoText,children:"Ekran paylaÅŸÄ±mÄ± sona erdi"})})}),a.length>0&&e.jsxs("div",{style:t.participants,children:[e.jsx("span",{style:t.participantsTitle,children:"Ä°zleyenler:"}),e.jsx("div",{style:t.participantList,children:a.map((d,j)=>e.jsxs("div",{style:t.participant,children:[e.jsx("div",{style:t.participantAvatar,children:d.username?.[0]?.toUpperCase()||"U"}),e.jsx("span",{style:t.participantName,children:d.username})]},j))})]})]})}):null},"ScreenShareModal"),t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},container:{width:"90%",maxWidth:"1200px",height:"90%",backgroundColor:"#1e1f22",borderRadius:"8px",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 24px",backgroundColor:"#2f3136",borderBottom:"1px solid #1e1f22"},headerInfo:{display:"flex",alignItems:"center",gap:"12px"},headerIcon:{color:"#5865f2",fontSize:"20px"},title:{fontSize:"16px",fontWeight:"bold",color:"#fff"},badge:{fontSize:"13px",color:"#f04747",backgroundColor:"rgba(240, 71, 71, 0.1)",padding:"4px 12px",borderRadius:"12px"},headerActions:{display:"flex",gap:"8px"},headerButton:{backgroundColor:"transparent",border:"none",color:"#b9bbbe",fontSize:"18px",cursor:"pointer",padding:"8px",borderRadius:"4px"},closeButton:{backgroundColor:"#f04747",border:"none",color:"#fff",fontSize:"18px",cursor:"pointer",padding:"8px 12px",borderRadius:"4px"},videoContainer:{flex:1,backgroundColor:"#000",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},video:{width:"100%",height:"100%",objectFit:"contain"},placeholder:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",color:"#b9bbbe"},placeholderIcon:{fontSize:"64px",opacity:.5},placeholderText:{fontSize:"16px"},qualityBadge:{position:"absolute",top:"80px",right:"24px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#fff",padding:"6px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},controls:{padding:"24px",backgroundColor:"#2f3136",display:"flex",justifyContent:"center",alignItems:"center"},stopButton:{backgroundColor:"#f04747",color:"#fff",border:"none",padding:"12px 32px",borderRadius:"4px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",transition:"background-color 0.2s"},info:{textAlign:"center"},infoText:{color:"#b9bbbe",fontSize:"14px"},participants:{position:"absolute",bottom:"100px",left:"24px",backgroundColor:"rgba(47, 49, 54, 0.9)",borderRadius:"8px",padding:"12px",maxWidth:"200px"},participantsTitle:{fontSize:"12px",color:"#b9bbbe",fontWeight:"bold",display:"block",marginBottom:"8px"},participantList:{display:"flex",flexDirection:"column",gap:"8px"},participant:{display:"flex",alignItems:"center",gap:"8px"},participantAvatar:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:"#fff"},participantName:{fontSize:"13px",color:"#dcddde"}};export{q as default};

{"version":3,"file":"ChangelogPanel-Ch212w6j.js","sources":["../../../src/components/ChangelogPanel.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport './ChangelogPanel.css';\nimport { FaNewspaper, FaFilter, FaBug, FaStar, FaWrench, FaCalendar } from 'react-icons/fa';\n\nfunction ChangelogPanel({ apiBaseUrl, fetchWithAuth }) {\n  const [changes, setChanges] = useState([]);\n  const [selectedModel, setSelectedModel] = useState('all');\n  const [selectedType, setSelectedType] = useState('all');\n  const [models, setModels] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const typeIcons = {\n    new: <FaStar className=\"type-icon new\" />,\n    fix: <FaBug className=\"type-icon fix\" />,\n    improvement: <FaWrench className=\"type-icon improvement\" />\n  };\n\n  useEffect(() => {\n    loadChanges();\n    loadModels();\n  }, [selectedModel]);\n\n  const loadChanges = async () => {\n    setLoading(true);\n    try {\n      const url = selectedModel === 'all' \n        ? `${apiBaseUrl}/changelog/`\n        : `${apiBaseUrl}/changelog/${selectedModel}/`;\n      \n      const response = await fetchWithAuth(url);\n      if (response.ok) {\n        const data = await response.json();\n        setChanges(data.changes || []);\n      }\n    } catch (err) {\n      console.error('Error loading changelog:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadModels = async () => {\n    try {\n      const response = await fetchWithAuth(`${apiBaseUrl}/changelog/models/`);\n      if (response.ok) {\n        const data = await response.json();\n        setModels(data.models || []);\n      }\n    } catch (err) {\n      console.error('Error loading models:', err);\n    }\n  };\n\n  const filteredChanges = selectedType === 'all' \n    ? changes \n    : changes.filter(c => c.change_type === selectedType);\n\n  const groupedByDate = filteredChanges.reduce((groups, change) => {\n    const date = new Date(change.created_at).toLocaleDateString();\n    if (!groups[date]) groups[date] = [];\n    groups[date].push(change);\n    return groups;\n  }, {});\n\n  return (\n    <div className=\"changelog-panel\">\n      <div className=\"changelog-header\">\n        <h2><FaNewspaper /> Changelog</h2>\n      </div>\n\n      <div className=\"changelog-filters\">\n        <div className=\"filter-group\">\n          <label>Model:</label>\n          <select \n            value={selectedModel}\n            onChange={(e) => setSelectedModel(e.target.value)}\n            className=\"filter-select\"\n          >\n            <option value=\"all\">All Models</option>\n            {models.map(model => (\n              <option key={model} value={model}>{model}</option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"filter-group\">\n          <label>Type:</label>\n          <select \n            value={selectedType}\n            onChange={(e) => setSelectedType(e.target.value)}\n            className=\"filter-select\"\n          >\n            <option value=\"all\">All Types</option>\n            <option value=\"new\">New Features</option>\n            <option value=\"fix\">Bug Fixes</option>\n            <option value=\"improvement\">Improvements</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"changelog-timeline\">\n        {loading ? (\n          <div className=\"loading\">Loading changelog...</div>\n        ) : Object.keys(groupedByDate).length === 0 ? (\n          <div className=\"empty-changelog\">\n            <FaNewspaper className=\"empty-icon\" />\n            <p>No changelog entries found</p>\n          </div>\n        ) : (\n          Object.entries(groupedByDate).map(([date, dateChanges]) => (\n            <div key={date} className=\"date-group\">\n              <div className=\"date-header\">\n                <FaCalendar />\n                <h3>{date}</h3>\n              </div>\n              <div className=\"changes-list\">\n                {dateChanges.map((change, idx) => (\n                  <div key={idx} className={`change-item ${change.change_type}`}>\n                    <div className=\"change-icon\">\n                      {typeIcons[change.change_type]}\n                    </div>\n                    <div className=\"change-content\">\n                      <div className=\"change-header\">\n                        <span className={`change-badge ${change.change_type}`}>\n                          {change.change_type.toUpperCase()}\n                        </span>\n                        {change.model_name && (\n                          <span className=\"change-model\">{change.model_name}</span>\n                        )}\n                        {change.version && (\n                          <span className=\"change-version\">v{change.version}</span>\n                        )}\n                      </div>\n                      <div className=\"change-description\">{change.description}</div>\n                      {change.details && (\n                        <div className=\"change-details\">{change.details}</div>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ChangelogPanel;\n"],"names":["useState","jsx","useEffect","jsxs"],"mappings":"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"}
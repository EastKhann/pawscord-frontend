{"version":3,"file":"RichTextEditor-CnydQuQx.js","sources":["../../../src/components/SlashCommandList.js","../../../src/components/RichTextEditor.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { FaUserShield, FaVolumeMute, FaBan, FaBroom, FaUserEdit, FaRegSmile, FaTable, FaUndo, FaFont, FaTerminal, FaCode, FaStickyNote } from 'react-icons/fa';\r\n\r\nexport const COMMANDS = [\r\n    { name: 'zar-at', description: '1-100 arasÄ± zar at', icon: <FaTable /> },\r\n    { name: 'yazitura', description: 'YazÄ± tura at', icon: <FaUndo /> },\r\n    { name: 'tkm', description: 'TaÅŸ KaÄŸÄ±t Makas oyna (@kullanici)', icon: <FaRegSmile /> },\r\n    { name: 'xox', description: 'XOX oyunu baÅŸlat', icon: <FaTable /> },\r\n    { name: 'sec', description: 'SeÃ§eneklerden birini seÃ§ (/sec a b c)', icon: <FaTerminal /> },\r\n    { name: 'cuzdan', description: 'Coin bakiyeni gÃ¶r', icon: <FaUserShield /> },\r\n    { name: 'transfer', description: 'Coin gÃ¶nder (/transfer @kullanici miktar)', icon: <FaUserShield /> },\r\n    { name: 'kanban', description: 'Kanban panosunu aÃ§', icon: <FaTable /> },\r\n    { name: 'kod', description: 'Python kodu Ã§alÄ±ÅŸtÄ±r', icon: <FaCode /> },\r\n    { name: 'resimgelismis', description: 'AI ile resim Ã§iz', icon: <FaRegSmile /> },\r\n    { name: 'temizle', description: 'MesajlarÄ± sil (Admin)', icon: <FaBroom />, adminOnly: true },\r\n    { name: 'yardim', description: 'Komut listesini gÃ¶r', icon: <FaTerminal /> },\r\n    { name: 'tema', description: 'Tema MaÄŸazasÄ±nÄ± AÃ§', icon: <FaTable /> },\r\n    { name: 'duyuru', description: 'Sabit Duyuru Yap (/duyuru mesaj)', icon: <FaBroom />, adminOnly: true },\r\n    { name: 'sablon', description: 'HazÄ±r Åžablonlar', icon: <FaStickyNote /> },\r\n    { name: 'shrug', description: 'Â¯\\\\_(ãƒ„)_/Â¯ gÃ¶nder', icon: <FaRegSmile /> },\r\n];\r\n\r\nconst SlashCommandList = ({ query, onSelect, activeIndex }) => {\r\n    const [filteredCommands, setFilteredCommands] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (query === null || query === undefined) return;\r\n\r\n        const q = query.toLowerCase().replace('/', '');\r\n        const filtered = COMMANDS.filter(cmd =>\r\n            cmd.name.toLowerCase().startsWith(q)\r\n        );\r\n        setFilteredCommands(filtered);\r\n    }, [query]);\r\n\r\n    if (filteredCommands.length === 0) return null;\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.header}>\r\n                <FaTerminal style={{ marginRight: 6 }} />\r\n                KOMUTLAR\r\n            </div>\r\n            <div style={styles.list}>\r\n                {filteredCommands.map((cmd, index) => (\r\n                    <div\r\n                        key={cmd.name}\r\n                        onClick={() => onSelect(cmd)}\r\n                        style={{\r\n                            ...styles.item,\r\n                            backgroundColor: index === activeIndex ? '#5865f2' : 'transparent',\r\n                        }}\r\n                    >\r\n                        <div style={styles.iconWrapper}>\r\n                            {cmd.icon}\r\n                        </div>\r\n                        <div style={styles.textWrapper}>\r\n                            <span style={{ fontWeight: 'bold', color: 'white' }}>/{cmd.name}</span>\r\n                            <span style={{ fontSize: '0.85em', color: index === activeIndex ? '#eee' : '#b9bbbe', marginLeft: 8 }}>\r\n                                {cmd.description}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    container: {\r\n        position: 'absolute',\r\n        bottom: '100%', // Inputun Ã¼stÃ¼nde\r\n        left: 0,\r\n        width: '300px',\r\n        maxHeight: '300px',\r\n        backgroundColor: '#2f3136',\r\n        borderRadius: '8px',\r\n        boxShadow: '0 -4px 15px rgba(0,0,0,0.4)',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        marginBottom: '10px',\r\n        overflow: 'hidden',\r\n        zIndex: 1000,\r\n        border: '1px solid rgba(255,255,255,0.05)',\r\n    },\r\n    header: {\r\n        padding: '8px 12px',\r\n        fontSize: '0.75em',\r\n        fontWeight: 'bold',\r\n        color: '#b9bbbe',\r\n        backgroundColor: '#202225',\r\n        borderBottom: '1px solid rgba(255,255,255,0.05)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        letterSpacing: '0.5px'\r\n    },\r\n    list: {\r\n        overflowY: 'auto',\r\n        padding: '0',\r\n    },\r\n    item: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: '10px 12px',\r\n        cursor: 'pointer',\r\n        transition: 'background-color 0.1s',\r\n    },\r\n    iconWrapper: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: '24px',\r\n        height: '24px',\r\n        marginRight: '10px',\r\n        color: 'white',\r\n        fontSize: '1.1em'\r\n    },\r\n    textWrapper: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis'\r\n    }\r\n};\r\n\r\nexport default SlashCommandList;\r\n\r\n\r\n","// frontend/src/components/RichTextEditor.js\n\nimport { useEffect, useImperativeHandle, forwardRef, useCallback, useRef, useState } from 'react';\nimport { useEditor, EditorContent } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport SlashCommandList, { COMMANDS } from './SlashCommandList';\nimport './RichTextEditor.css';\n\nconst RichTextEditor = forwardRef(({ onSend, onChange, placeholder, initialValue = '', onFileUpload }, ref) => {\n    const isSendingRef = useRef(false);\n    const [slashQuery, setSlashQuery] = useState(null);\n    const [slashIndex, setSlashIndex] = useState(0);\n\n    const editor = useEditor({\n        extensions: [\n            StarterKit,\n            Placeholder.configure({\n                placeholder: placeholder || 'Bir mesaj yaz...',\n            }),\n        ],\n        content: initialValue,\n        editorProps: {\n            handlePaste: (view, event, slice) => {\n                // ðŸ”¥ PASTE EVENT - Clipboard'dan dosya/resim yapÄ±ÅŸtÄ±rma\n                const items = event.clipboardData?.items;\n                if (items && onFileUpload) {\n                    for (let i = 0; i < items.length; i++) {\n                        const item = items[i];\n\n                        // EÄŸer bir dosya/gÃ¶rsel ise\n                        if (item.kind === 'file') {\n                            event.preventDefault();\n                            const file = item.getAsFile();\n                            if (file) {\n                                onFileUpload(file);\n                            }\n                            return true; // Event'i handle ettik\n                        }\n                    }\n                }\n                return false; // Normal paste iÅŸlemi devam etsin\n            },\n            handleKeyDown: (view, event) => {\n                // Slash menu navigation\n                if (slashQuery !== null) {\n                    if (event.key === 'ArrowUp') {\n                        event.preventDefault();\n                        setSlashIndex(prev => Math.max(0, prev - 1));\n                        return true;\n                    }\n                    if (event.key === 'ArrowDown') {\n                        event.preventDefault();\n                        setSlashIndex(prev => prev + 1);\n                        return true;\n                    }\n                    if (event.key === 'Enter') {\n                        event.preventDefault();\n                        const q = slashQuery.toLowerCase().replace('/', '');\n                        const filtered = COMMANDS.filter(cmd => cmd.name.toLowerCase().startsWith(q));\n\n                        if (filtered.length > 0) {\n                            const actualIndex = Math.max(0, Math.min(slashIndex, filtered.length - 1));\n                            const cmd = filtered[actualIndex];\n\n                            editor.commands.setContent(`/${cmd.name} `);\n                            editor.commands.focus('end');\n                            setSlashQuery(null);\n                        }\n                        return true;\n                    }\n                    if (event.key === 'Escape') {\n                        event.preventDefault();\n                        setSlashQuery(null);\n                        return true;\n                    }\n                }\n\n                if (event.key === 'Enter' && !event.shiftKey) {\n                    // ... existing enter logic ...\n                    event.preventDefault();\n                    if (slashQuery !== null) {\n                        // If menu was open but we didn't handle it above (e.g. logic missing), \n                        // we shouldn't send message yet if it looks like a incomplete command.\n                        // But actually we want 'Enter' to select from menu if open. \n                        // So the block above should handle it.\n                        return true;\n                    }\n\n                    const text = view.state.doc.textContent;\n                    if (text.trim().length > 0) {\n                        isSendingRef.current = true;\n                        onSend(text);\n                        editor.commands.clearContent();\n                        onChange?.('');\n                        setTimeout(() => { isSendingRef.current = false; }, 100);\n                    }\n                    return true;\n                }\n                return false;\n            },\n        },\n    });\n\n    // YazÄ± deÄŸiÅŸimini dinle\n    useEffect(() => {\n        if (!editor) return;\n        const handler = () => {\n            if (isSendingRef.current) return;\n            const text = editor.getText().trim();\n\n            // Slash Command Detection\n            if (text.startsWith('/')) {\n                // Check if we are still typing the command (no spaces yet, or maybe allow arguments? \n                // Creating a simplified slash menu that only appears for the command name)\n                if (!text.includes(' ')) {\n                    setSlashQuery(text);\n                    setSlashIndex(0); // Reset index on type\n                } else {\n                    setSlashQuery(null);\n                }\n            } else {\n                if (slashQuery !== null) setSlashQuery(null);\n            }\n\n            onChange?.(text);\n        };\n        editor.on('update', handler);\n        return () => editor.off('update', handler);\n    }, [editor, onChange]);\n\n    // ðŸ”¥ DÃœZELTME: DÄ±ÅŸarÄ±dan gelen boÅŸaltma emrini (initialValue='') uygula\n    useEffect(() => {\n        if (!editor) return;\n        const currentContent = editor.getText();\n\n        // EÄŸer dÄ±ÅŸarÄ±dan gelen deÄŸer boÅŸsa ve editÃ¶r doluysa -> TEMÄ°ZLE\n        if (initialValue === '' && currentContent !== '') {\n            editor.commands.clearContent();\n        }\n        // EÄŸer editÃ¶r boÅŸsa ve dÄ±ÅŸarÄ±dan dolu geliyorsa (Draft yÃ¼kleme) -> DOLDUR\n        else if (initialValue !== '' && currentContent === '') {\n            editor.commands.setContent(initialValue);\n        }\n    }, [editor, initialValue]);\n\n    const focusEditor = useCallback(() => {\n        if (editor) editor.chain().focus().run();\n    }, [editor]);\n\n    // DÄ±ÅŸarÄ±ya aÃ§Ä±lan metodlar\n    useImperativeHandle(ref, () => ({\n        send: () => {\n            if (!editor) return;\n            const text = editor.getText().trim();\n            if (!text) return;\n            isSendingRef.current = true;\n            onSend(text);\n            editor.commands.clearContent();\n            onChange?.('');\n            setTimeout(() => { isSendingRef.current = false; }, 100);\n        },\n        clear: () => editor?.commands.clearContent(),\n        hasContent: () => !!editor?.getText().trim(),\n        appendText: (val) => {\n            if (!editor || !val) return;\n            editor.chain().focus().insertContent(val).run();\n        },\n    }), [editor, onSend, onChange]);\n\n    if (!editor) return null;\n\n    return (\n        <div className=\"rich-editor-wrapper\" onClick={focusEditor} role=\"textbox\" aria-label=\"Mesaj editÃ¶rÃ¼\">\n            <EditorContent editor={editor} className=\"tiptap-editor\" />\n\n            {slashQuery !== null && (\n                <SlashCommandList\n                    query={slashQuery}\n                    activeIndex={slashIndex}\n                    onSelect={(cmd) => {\n                        if (!editor) return;\n                        // Replace the entire content with the command name + space\n                        editor.commands.setContent(`/${cmd.name} `);\n                        editor.commands.focus('end');\n                        setSlashQuery(null);\n                    }}\n                />\n            )}\n        </div>\n    );\n});\n\nRichTextEditor.displayName = 'RichTextEditor';\n\nexport default RichTextEditor;\n\n"],"names":["jsx","useState","useEffect","jsxs","forwardRef","useRef","StarterKit","Placeholder","useCallback","useImperativeHandle"],"mappings":"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"}
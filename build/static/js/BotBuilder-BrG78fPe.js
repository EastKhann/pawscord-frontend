import{r as i,n as e}from"./react-core-zXIKm1Jm.js";import{t as s,g as I}from"./index-C08_kc3Q.js";import{a as R}from"./index-D5GkNzM3.js";import{G as A,aW as F,s as W,aa as H,aJ as T}from"./icons-vendor-BBdoVeJd.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-BSOZ7IB3.js";import"./router-vendor-PJALNo1v.js";import"./crypto-vendor-D_AcF0lD.js";import"./state-vendor-8NbFPBhQ.js";const _=({onClose:d,serverSlug:y,token:f,isMobile:n})=>{const[p,j]=i.useState(""),[h,v]=i.useState("ðŸ¤–"),[r,x]=i.useState([{id:1,trigger:"!hello",response:"Hello! How can I help you?",enabled:!0}]),[B,G]=i.useState({onMemberJoin:{enabled:!1,message:"Welcome {{username}} to {{server}}!"},onMemberLeave:{enabled:!1,message:"Goodbye {{username}}. We will miss you!"},onMessageDelete:{enabled:!1,action:"log"}}),[c,C]=i.useState({spamDetection:!1,profanityFilter:!1,capsLimit:70,linkBlocking:!1}),[l,m]=i.useState(!1),w=()=>{x([...r,{id:Date.now(),trigger:"",response:"",enabled:!0}])},g=(a,o,b)=>{x(r.map(u=>u.id===a?{...u,[o]:b}:u))},k=a=>{r.length>1&&x(r.filter(o=>o.id!==a))},S=async()=>{if(!p.trim()){s.error("âŒ Please enter a bot name");return}const a=r.filter(o=>o.trigger&&o.response);if(a.length===0){s.error("âŒ Please add at least one valid command");return}m(!0);try{const o={server_slug:y,name:p,avatar:h,commands:a,events:B,auto_moderation:c};await R.post(`${I()}/bots/create/`,o,{headers:{Authorization:`Bearer ${f}`}}),s.success("âœ… Bot created successfully!"),d()}catch(o){console.error("Failed to create bot:",o),s.error("âŒ Failed to create bot. Please try again.")}finally{m(!1)}},z=a=>{s.info(`ðŸ“‹ Test Output:

${a.response}`)},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:n?"0":"20px"},modal:{background:"linear-gradient(135deg, rgba(30, 31, 34, 0.98), rgba(35, 36, 40, 0.98))",borderRadius:n?"0":"16px",width:"100%",maxWidth:n?"100%":"900px",height:n?"100%":"auto",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(88, 101, 242, 0.3)",border:n?"none":"1px solid rgba(88, 101, 242, 0.4)"},header:{padding:n?"16px":"20px 24px",background:"linear-gradient(135deg, rgba(88, 101, 242, 0.15), rgba(114, 137, 218, 0.15))",borderBottom:"1px solid rgba(88, 101, 242, 0.3)",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{fontSize:n?"20px":"24px",fontWeight:"700",color:"rgba(255, 255, 255, 0.95)",margin:0,display:"flex",alignItems:"center",gap:"10px"},content:{flex:1,overflowY:"auto",padding:n?"16px":"24px"},section:{marginBottom:"24px"},sectionTitle:{fontSize:"18px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},inputGroup:{marginBottom:"16px"},label:{display:"block",fontSize:"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",marginBottom:"8px"},input:{width:"100%",padding:"12px 14px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.95)",fontSize:"15px",outline:"none",boxSizing:"border-box",transition:"all 0.2s ease"},textarea:{width:"100%",minHeight:"80px",padding:"12px 14px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.95)",fontSize:"14px",outline:"none",resize:"vertical",fontFamily:"inherit",boxSizing:"border-box"},commandCard:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"12px",padding:n?"12px":"16px",marginBottom:"12px"},commandHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},commandActions:{display:"flex",gap:"8px"},iconBtn:{background:"rgba(88, 101, 242, 0.2)",border:"1px solid rgba(88, 101, 242, 0.4)",borderRadius:"6px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"rgba(255, 255, 255, 0.9)",transition:"all 0.2s ease",fontSize:"14px"},deleteBtn:{background:"rgba(218, 55, 60, 0.2)",border:"1px solid rgba(218, 55, 60, 0.4)",color:"#da373c"},addBtn:{width:"100%",padding:"12px",background:"rgba(88, 101, 242, 0.2)",border:"1px solid rgba(88, 101, 242, 0.4)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"15px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease",minHeight:"44px"},toggle:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},switch:a=>({width:"50px",height:"28px",background:a?"linear-gradient(135deg, #43b581, #4caf50)":"rgba(255, 255, 255, 0.2)",borderRadius:"14px",position:"relative",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid rgba(88, 101, 242, 0.3)"}),switchKnob:a=>({width:"22px",height:"22px",background:"white",borderRadius:"50%",position:"absolute",top:"1px",left:a?"24px":"1px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}),footer:{padding:n?"16px":"20px 24px",borderTop:"1px solid rgba(88, 101, 242, 0.2)",display:"flex",gap:"12px",background:"rgba(0, 0, 0, 0.2)"},cancelBtn:{flex:1,padding:"14px",background:"rgba(78, 80, 88, 0.5)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",minHeight:"44px"},saveBtn:{flex:1,padding:"14px",background:"linear-gradient(135deg, #5865f2, #7289da)",border:"none",borderRadius:"8px",color:"white",fontSize:"16px",fontWeight:"600",cursor:l?"not-allowed":"pointer",opacity:l?.6:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",minHeight:"44px"}};return e.jsx("div",{style:t.overlay,onClick:d,children:e.jsxs("div",{style:t.modal,onClick:a=>a.stopPropagation(),children:[e.jsx("div",{style:t.header,children:e.jsxs("h2",{style:t.title,children:[e.jsx(A,{}),"Custom Bot Builder"]})}),e.jsxs("div",{style:t.content,children:[e.jsxs("div",{style:t.section,children:[e.jsx("h3",{style:t.sectionTitle,children:"ðŸ¤– Basic Information"}),e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:"Bot Name"}),e.jsx("input",{type:"text",value:p,onChange:a=>j(a.target.value),placeholder:"My Awesome Bot",style:t.input,maxLength:32})]}),e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:"Bot Avatar (Emoji)"}),e.jsx("input",{type:"text",value:h,onChange:a=>v(a.target.value),placeholder:"ðŸ¤–",style:t.input,maxLength:2})]})]}),e.jsxs("div",{style:t.section,children:[e.jsx("h3",{style:t.sectionTitle,children:"âš¡ Commands"}),r.map(a=>e.jsxs("div",{style:t.commandCard,children:[e.jsxs("div",{style:t.commandHeader,children:[e.jsxs("div",{style:t.toggle,children:[e.jsx("div",{style:t.switch(a.enabled),onClick:()=>g(a.id,"enabled",!a.enabled),children:e.jsx("div",{style:t.switchKnob(a.enabled)})}),e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px"},children:a.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{style:t.commandActions,children:[e.jsx("button",{onClick:()=>z(a),style:t.iconBtn,title:"Test Command",children:e.jsx(F,{})}),r.length>1&&e.jsx("button",{onClick:()=>k(a.id),style:{...t.iconBtn,...t.deleteBtn},title:"Delete Command",children:e.jsx(W,{})})]})]}),e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:"Trigger (e.g., !hello)"}),e.jsx("input",{type:"text",value:a.trigger,onChange:o=>g(a.id,"trigger",o.target.value),placeholder:"!command",style:t.input})]}),e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:"Response"}),e.jsx("textarea",{value:a.response,onChange:o=>g(a.id,"response",o.target.value),placeholder:"Bot response here...",style:t.textarea})]})]},a.id)),e.jsxs("button",{onClick:w,style:t.addBtn,children:[e.jsx(H,{}),"Add Command"]})]}),e.jsxs("div",{style:t.section,children:[e.jsx("h3",{style:t.sectionTitle,children:"ðŸ›¡ï¸ Auto Moderation"}),Object.entries(c).map(([a,o])=>typeof o=="boolean"?e.jsxs("div",{style:t.toggle,children:[e.jsx("div",{style:t.switch(o),onClick:()=>C({...c,[a]:!o}),children:e.jsx("div",{style:t.switchKnob(o)})}),e.jsx("span",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px"},children:a.replace(/([A-Z])/g," $1").replace(/^./,b=>b.toUpperCase())})]},a):null)]})]}),e.jsxs("div",{style:t.footer,children:[e.jsx("button",{onClick:d,style:t.cancelBtn,children:"Cancel"}),e.jsxs("button",{onClick:S,disabled:l,style:t.saveBtn,children:[e.jsx(T,{}),l?"Creating...":"Create Bot"]})]})]})})};export{_ as default};

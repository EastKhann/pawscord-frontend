import{G as u,H as d,r as a,d as e}from"./react-core-DMT_QkRe.js";const E=()=>{const{token:n}=u(),r=d(),[t,i]=a.useState("verifying"),[l,s]=a.useState("Verifying your email...");a.useEffect(()=>{m()},[n]);const m=async()=>{try{const c=await(await fetch("/api/auth/verify-email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})})).json();c.success?(i("success"),s("Email verified successfully! Redirecting..."),setTimeout(()=>{r("/login")},3e3)):(i("error"),s(c.error||"Verification failed"))}catch(o){console.error("Verification error:",o),i("error"),s("An error occurred during verification")}};return e.createElement("div",{className:"email-verification"},e.createElement("div",{className:"verification-card"},e.createElement("div",{className:`status-icon ${t}`},t==="verifying"&&e.createElement("div",{className:"spinner"}),t==="success"&&e.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M20 6L9 17l-5-5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),t==="error"&&e.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),e.createElement("path",{d:"M15 9l-6 6M9 9l6 6",strokeWidth:"2",strokeLinecap:"round"}))),e.createElement("h2",null,t==="success"?"Email Verified!":t==="error"?"Verification Failed":"Verifying Email"),e.createElement("p",null,l),t==="success"&&e.createElement("button",{className:"btn-primary",onClick:()=>r("/login")},"Go to Login"),t==="error"&&e.createElement("button",{className:"btn-secondary",onClick:()=>r("/register")},"Back to Registration")))};export{E as default};

import"./index-DK2jvQ9U.js";import"./media-vendor-B-uSUaIv.js";import"./react-core-9vc7GIjk.js";import"./editor-vendor-DiU449Dh.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./icons-vendor-NoxEirJf.js";import"./state-vendor-0vlBuk0v.js";const w=r=>{window.Capacitor?.isNativePlatform()&&(window.Capacitor.Plugins.App.addListener("appUrlOpen",i=>{n(i.url,r)}),console.log("✅ Deep link handler initialized"))},n=(r,i)=>{try{console.log("Deep link received:",r);const t=new URL(r),e=t.pathname,s=new URLSearchParams(t.search);if(e.startsWith("/chat/")){const o=e.split("/chat/")[1];i(`/chat/${o}`)}else if(e.startsWith("/server/")){const o=e.split("/server/")[1];i(`/server/${o}`)}else if(e.startsWith("/profile/")){const o=e.split("/profile/")[1];i(`/profile/${o}`)}else i(e==="/notifications"?"/notifications":e||"/");console.log("✅ Deep link handled:",e)}catch(t){console.error("❌ Deep link error:",t)}};typeof window<"u"&&window.addEventListener("beforeinstallprompt",r=>{r.preventDefault(),window.deferredPrompt=r,console.log("PWA install prompt available")});export{n as handleDeepLink,w as initializeDeepLinkHandler};

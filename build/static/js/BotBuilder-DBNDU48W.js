var A=Object.defineProperty;var n=(t,o)=>A(t,"name",{value:o,configurable:!0});import{r as m,j as e}from"./react-core-Djgtqrmb.js";import{aN as R,g as I,B as T,an as F,aY as H}from"./icons-vendor-BMXAt4pj.js";import{t as h,g as W}from"./index-Bohqi95c.js";import{a as D}from"./index-BNjLOQm3.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-CbW2fAN9.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const G=n((t,o)=>({overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:t?"0":"20px"},modal:{background:"linear-gradient(135deg, rgba(30,31,34,0.98), rgba(35,36,40,0.98))",borderRadius:t?"0":"16px",width:"100%",maxWidth:t?"100%":"900px",height:t?"100%":"auto",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.8), 0 0 40px rgba(88,101,242,0.3)",border:t?"none":"1px solid rgba(88,101,242,0.4)"},header:{padding:t?"16px":"20px 24px",background:"linear-gradient(135deg, rgba(88,101,242,0.15), rgba(114,137,218,0.15))",borderBottom:"1px solid rgba(88,101,242,0.3)",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{fontSize:t?"20px":"24px",fontWeight:"700",color:"rgba(255,255,255,0.95)",margin:0,display:"flex",alignItems:"center",gap:"10px"},content:{flex:1,overflowY:"auto",padding:t?"16px":"24px"},section:{marginBottom:"24px"},sectionTitle:{fontSize:"18px",fontWeight:"600",color:"rgba(255,255,255,0.9)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},inputGroup:{marginBottom:"16px"},label:{display:"block",fontSize:"14px",fontWeight:"500",color:"rgba(255,255,255,0.8)",marginBottom:"8px"},input:{width:"100%",padding:"12px 14px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(88,101,242,0.3)",borderRadius:"8px",color:"rgba(255,255,255,0.95)",fontSize:"15px",outline:"none",boxSizing:"border-box",transition:"all 0.2s ease"},textarea:{width:"100%",minHeight:"80px",padding:"12px 14px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(88,101,242,0.3)",borderRadius:"8px",color:"rgba(255,255,255,0.95)",fontSize:"14px",outline:"none",resize:"vertical",fontFamily:"inherit",boxSizing:"border-box"},commandCard:{background:"rgba(0,0,0,0.3)",border:"1px solid rgba(88,101,242,0.3)",borderRadius:"12px",padding:t?"12px":"16px",marginBottom:"12px"},commandHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},commandActions:{display:"flex",gap:"8px"},iconBtn:{background:"rgba(88,101,242,0.2)",border:"1px solid rgba(88,101,242,0.4)",borderRadius:"6px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"rgba(255,255,255,0.9)",transition:"all 0.2s ease",fontSize:"14px"},deleteBtn:{background:"rgba(218,55,60,0.2)",border:"1px solid rgba(218,55,60,0.4)",color:"#da373c"},addBtn:{width:"100%",padding:"12px",background:"rgba(88,101,242,0.2)",border:"1px solid rgba(88,101,242,0.4)",borderRadius:"8px",color:"rgba(255,255,255,0.9)",fontSize:"15px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease",minHeight:"44px"},toggle:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},switch:n(i=>({width:"50px",height:"28px",background:i?"linear-gradient(135deg, #43b581, #4caf50)":"rgba(255,255,255,0.2)",borderRadius:"14px",position:"relative",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid rgba(88,101,242,0.3)"}),"switch"),switchKnob:n(i=>({width:"22px",height:"22px",background:"white",borderRadius:"50%",position:"absolute",top:"1px",left:i?"24px":"1px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}),"switchKnob"),footer:{padding:t?"16px":"20px 24px",borderTop:"1px solid rgba(88,101,242,0.2)",display:"flex",gap:"12px",background:"rgba(0,0,0,0.2)"},cancelBtn:{flex:1,padding:"14px",background:"rgba(78,80,88,0.5)",border:"1px solid rgba(88,101,242,0.3)",borderRadius:"8px",color:"rgba(255,255,255,0.9)",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",minHeight:"44px"},saveBtn:{flex:1,padding:"14px",background:"linear-gradient(135deg, #5865f2, #7289da)",border:"none",borderRadius:"8px",color:"white",fontSize:"16px",fontWeight:"600",cursor:o?"not-allowed":"pointer",opacity:o?.6:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",minHeight:"44px"}}),"getStyles"),N=n((t,o,i)=>{const[d,b]=m.useState(""),[c,p]=m.useState("ðŸ¤–"),[l,g]=m.useState([{id:1,trigger:"!hello",response:"Hello! How can I help you?",enabled:!0}]),[C,w]=m.useState({onMemberJoin:{enabled:!1,message:"Welcome {{username}} to {{server}}!"},onMemberLeave:{enabled:!1,message:"Goodbye {{username}}. We will miss you!"},onMessageDelete:{enabled:!1,action:"log"}}),[f,B]=m.useState({spamDetection:!1,profanityFilter:!1,capsLimit:70,linkBlocking:!1}),[y,v]=m.useState(!1);return{botName:d,setBotName:b,botAvatar:c,setBotAvatar:p,commands:l,addCommand:n(()=>{g([...l,{id:Date.now(),trigger:"",response:"",enabled:!0}])},"addCommand"),updateCommand:n((s,x,z)=>{g(l.map(S=>S.id===s?{...S,[x]:z}:S))},"updateCommand"),removeCommand:n(s=>{l.length>1&&g(l.filter(x=>x.id!==s))},"removeCommand"),testCommand:n(s=>{h.info(`ðŸ“‹ Test Output:

${s.response}`)},"testCommand"),autoModeration:f,setAutoModeration:B,isSaving:y,handleSave:n(async()=>{if(!d.trim()){h.error("âŒ Please enter a bot name");return}const s=l.filter(x=>x.trigger&&x.response);if(s.length===0){h.error("âŒ Please add at least one valid command");return}v(!0);try{await D.post(`${W()}/bots/create/`,{server_slug:t,name:d,avatar:c,commands:s,events:C,auto_moderation:f},{headers:{Authorization:`Bearer ${o}`}}),h.success("âœ… Bot created successfully!"),i()}catch{h.error("âŒ Failed to create bot. Please try again.")}finally{v(!1)}},"handleSave")}},"useBotBuilder"),P=n(({cmd:t,styles:o,onUpdate:i,onRemove:d,onTest:b,canRemove:c})=>e.jsxs("div",{style:o.commandCard,children:[e.jsxs("div",{style:o.commandHeader,children:[e.jsxs("div",{style:o.toggle,children:[e.jsx("div",{style:o.switch(t.enabled),onClick:n(()=>i(t.id,"enabled",!t.enabled),"onClick"),children:e.jsx("div",{style:o.switchKnob(t.enabled)})}),e.jsx("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"14px"},children:t.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{style:o.commandActions,children:[e.jsx("button",{onClick:n(()=>b(t),"onClick"),style:o.iconBtn,title:"Test Command",children:e.jsx(R,{})}),c&&e.jsx("button",{onClick:n(()=>d(t.id),"onClick"),style:{...o.iconBtn,...o.deleteBtn},title:"Delete Command",children:e.jsx(I,{})})]})]}),e.jsxs("div",{style:o.inputGroup,children:[e.jsx("label",{style:o.label,children:"Trigger (e.g., !hello)"}),e.jsx("input",{type:"text",value:t.trigger,onChange:n(p=>i(t.id,"trigger",p.target.value),"onChange"),placeholder:"!command",style:o.input})]}),e.jsxs("div",{style:o.inputGroup,children:[e.jsx("label",{style:o.label,children:"Response"}),e.jsx("textarea",{value:t.response,onChange:n(p=>i(t.id,"response",p.target.value),"onChange"),placeholder:"Bot response here...",style:o.textarea})]})]}),"CommandCard"),M=n(({onClose:t,serverSlug:o,token:i,isMobile:d})=>{const{botName:b,setBotName:c,botAvatar:p,setBotAvatar:l,commands:g,addCommand:C,updateCommand:w,removeCommand:f,testCommand:B,autoModeration:y,setAutoModeration:v,isSaving:j,handleSave:k}=N(o,i,t),a=G(d,j);return e.jsx("div",{style:a.overlay,onClick:t,children:e.jsxs("div",{style:a.modal,onClick:n(r=>r.stopPropagation(),"onClick"),children:[e.jsx("div",{style:a.header,children:e.jsxs("h2",{style:a.title,children:[e.jsx(T,{})," Custom Bot Builder"]})}),e.jsxs("div",{style:a.content,children:[e.jsxs("div",{style:a.section,children:[e.jsxs("h3",{style:a.sectionTitle,children:["ðŸ¤–"," Basic Information"]}),e.jsxs("div",{style:a.inputGroup,children:[e.jsx("label",{style:a.label,children:"Bot Name"}),e.jsx("input",{type:"text",value:b,onChange:n(r=>c(r.target.value),"onChange"),placeholder:"My Awesome Bot",style:a.input,maxLength:32})]}),e.jsxs("div",{style:a.inputGroup,children:[e.jsx("label",{style:a.label,children:"Bot Avatar (Emoji)"}),e.jsx("input",{type:"text",value:p,onChange:n(r=>l(r.target.value),"onChange"),placeholder:"ðŸ¤–",style:a.input,maxLength:2})]})]}),e.jsxs("div",{style:a.section,children:[e.jsxs("h3",{style:a.sectionTitle,children:["âš¡"," Commands"]}),g.map(r=>e.jsx(P,{cmd:r,styles:a,onUpdate:w,onRemove:f,onTest:B,canRemove:g.length>1},r.id)),e.jsxs("button",{onClick:C,style:a.addBtn,children:[e.jsx(F,{})," Add Command"]})]}),e.jsxs("div",{style:a.section,children:[e.jsxs("h3",{style:a.sectionTitle,children:["ðŸ›¡ï¸"," Auto Moderation"]}),Object.entries(y).map(([r,u])=>typeof u!="boolean"?null:e.jsxs("div",{style:a.toggle,children:[e.jsx("div",{style:a.switch(u),onClick:n(()=>v({...y,[r]:!u}),"onClick"),children:e.jsx("div",{style:a.switchKnob(u)})}),e.jsx("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"14px"},children:r.replace(/([A-Z])/g," $1").replace(/^./,s=>s.toUpperCase())})]},r))]})]}),e.jsxs("div",{style:a.footer,children:[e.jsx("button",{onClick:t,style:a.cancelBtn,children:"Cancel"}),e.jsxs("button",{onClick:k,disabled:j,style:a.saveBtn,children:[e.jsx(H,{})," ",j?"Creating...":"Create Bot"]})]})]})})},"BotBuilder");export{M as default};

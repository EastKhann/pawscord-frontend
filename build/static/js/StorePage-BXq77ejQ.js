import{r as o,n as r}from"./react-core-zXIKm1Jm.js";import{a as E,t as d}from"./index-DgENSQV4.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-BSOZ7IB3.js";import"./router-vendor-ltdGXAv4.js";import"./crypto-vendor-D_AcF0lD.js";import"./icons-vendor-BBdoVeJd.js";import"./state-vendor-8NbFPBhQ.js";const q=()=>{const{token:l}=E(),[a,j]=o.useState("frames"),[u,v]=o.useState([]),[S,C]=o.useState([]),[g,f]=o.useState(0),[p,k]=o.useState("free"),[z,h]=o.useState(!0),[i,c]=o.useState(null),x="https://api.pawscord.com",F=[{id:"frames",name:"ðŸ–¼ï¸ Ã‡erÃ§eveler",icon:"ðŸ–¼ï¸"},{id:"badges",name:"ðŸ† Rozetler",icon:"ðŸ†"},{id:"banners",name:"ðŸŽ¨ Banner",icon:"ðŸŽ¨"},{id:"emojis",name:"ðŸ˜Ž Emoji",icon:"ðŸ˜Ž"},{id:"voices",name:"ðŸŽ™ï¸ Ses Efekti",icon:"ðŸŽ™ï¸"},{id:"themes",name:"ðŸŒˆ Tema",icon:"ðŸŒˆ"}];o.useEffect(()=>{w(),$(),m()},[a]);const w=async()=>{try{const t=await(await fetch(`${x}/api/store/coins/balance/`,{headers:{Authorization:`Bearer ${l}`}})).json();f(t.coins),k(t.premium_tier)}catch(e){console.error("Error fetching user data:",e)}},$=async()=>{h(!0);try{const t=await(await fetch(`${x}/api/store/items/?category=${a}`,{headers:{Authorization:`Bearer ${l}`}})).json();v(t.results||t)}catch(e){console.error("Error fetching items:",e)}h(!1)},m=async()=>{try{const t=await(await fetch(`${x}/api/store/inventory/`,{headers:{Authorization:`Bearer ${l}`}})).json();C(t.results||t)}catch(e){console.error("Error fetching inventory:",e)}},y=async e=>{if(g<e.price){d.error(`âŒ Yetersiz coin! ${e.price} coin gerekli, ${g} coin var.`);return}if(e.premium_required&&p==="free"){d.error(`âŒ ${e.premium_required} Ã¼yelik gerekli!`);return}try{const t=await fetch(`${x}/api/store/items/${e.id}/purchase/`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}}),n=await t.json();t.ok?(d.success(`âœ… ${e.name} satÄ±n alÄ±ndÄ±!`),f(n.coins_remaining),m(),c(null)):d.error(`âŒ ${n.error||"SatÄ±n alma baÅŸarÄ±sÄ±z"}`)}catch(t){console.error("Purchase error:",t),d.error("âŒ Bir hata oluÅŸtu")}},s=e=>({common:"#FFFFFF",rare:"#5865F2",epic:"#9B59B6",legendary:"#F1C40F",unique:"#E74C3C"})[e]||"#FFFFFF",b=e=>S.some(t=>t.item.item_id===e);return r.jsxs("div",{style:{width:"100%",minHeight:"100vh",background:"linear-gradient(135deg, #1e1e1e 0%, #2c2c2c 100%)",color:"#fff"},children:[r.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"20px 40px",borderBottom:"2px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("h1",{style:{margin:0,fontSize:"32px",fontWeight:700},children:"ðŸ›’ Pawscord MaÄŸaza"}),r.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[r.jsxs("div",{style:{background:"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)",padding:"12px 24px",borderRadius:"12px",display:"flex",alignItems:"center",gap:"10px",fontWeight:700,fontSize:"18px"},children:[r.jsx("span",{children:"ðŸ’°"}),r.jsxs("span",{children:[g.toLocaleString()," Coins"]})]}),p!=="free"&&r.jsx("div",{style:{background:p==="elite"?"linear-gradient(135deg, #E74C3C 0%, #C0392B 100%)":"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)",padding:"12px 24px",borderRadius:"12px",fontWeight:700},children:p==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"})]})]}),r.jsx("div",{style:{padding:"30px 40px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:r.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:F.map(e=>r.jsx("button",{onClick:()=>j(e.id),style:{background:a===e.id?"linear-gradient(135deg, #5865F2 0%, #4752C4 100%)":"rgba(255, 255, 255, 0.05)",border:a===e.id?"2px solid #5865F2":"1px solid rgba(255, 255, 255, 0.1)",color:"#fff",padding:"12px 24px",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:600,transition:"all 0.3s"},onMouseEnter:t=>{a!==e.id&&(t.target.style.background="rgba(255, 255, 255, 0.1)")},onMouseLeave:t=>{a!==e.id&&(t.target.style.background="rgba(255, 255, 255, 0.05)")},children:e.name},e.id))})}),r.jsx("div",{style:{padding:"40px"},children:z?r.jsx("div",{style:{textAlign:"center",padding:"60px",fontSize:"20px"},children:"â³ YÃ¼kleniyor..."}):u.length===0?r.jsx("div",{style:{textAlign:"center",padding:"60px",fontSize:"18px",color:"#888"},children:"Bu kategoride henÃ¼z Ã¶ÄŸe yok"}):r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"24px"},children:u.map(e=>{const t=b(e.item_id);return r.jsxs("div",{style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"16px",padding:"20px",border:`2px solid ${s(e.rarity)}`,boxShadow:`0 0 20px ${s(e.rarity)}40`,cursor:"pointer",transition:"transform 0.3s",position:"relative"},onClick:()=>c(e),onMouseEnter:n=>{n.currentTarget.style.transform="translateY(-5px)"},onMouseLeave:n=>{n.currentTarget.style.transform="translateY(0)"},children:[t&&r.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",background:"#43b581",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:"âœ… Sahip"}),e.premium_required&&r.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",background:e.premium_required==="elite"?"#E74C3C":"#5865F2",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700},children:e.premium_required==="elite"?"ðŸ‘‘ Elite":"ðŸ’Ž Premium"}),r.jsx("div",{style:{height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"80px",marginTop:e.premium_required?"30px":"0"},children:e.preview_url||"ðŸŽ"}),r.jsx("h3",{style:{margin:"16px 0 8px",fontSize:"20px",color:s(e.rarity)},children:e.name}),r.jsx("p",{style:{margin:"0 0 16px",fontSize:"14px",color:"#aaa",minHeight:"40px"},children:e.description}),r.jsx("div",{style:{fontSize:"12px",color:s(e.rarity),fontWeight:700,textTransform:"uppercase",marginBottom:"12px"},children:e.rarity}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("div",{style:{fontSize:"24px",fontWeight:700,color:"#F1C40F"},children:e.price===0?"ÃœCRETSIZ":`${e.price} ðŸ’°`}),!t&&r.jsx("button",{onClick:n=>{n.stopPropagation(),y(e)},style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",fontWeight:700,cursor:"pointer",fontSize:"14px"},onMouseEnter:n=>{n.target.style.transform="scale(1.05)"},onMouseLeave:n=>{n.target.style.transform="scale(1)"},children:"SatÄ±n Al"})]})]},e.id)})})}),i&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},onClick:()=>c(null),children:r.jsxs("div",{style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"20px",padding:"40px",maxWidth:"500px",width:"90%",border:`3px solid ${s(i.rarity)}`,boxShadow:`0 0 40px ${s(i.rarity)}60`},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{textAlign:"center",fontSize:"100px",marginBottom:"20px"},children:i.preview_url||"ðŸŽ"}),r.jsx("h2",{style:{margin:"0 0 10px",fontSize:"28px",color:s(i.rarity)},children:i.name}),r.jsx("p",{style:{margin:"0 0 20px",color:"#aaa",fontSize:"16px"},children:i.description}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"30px"},children:[r.jsx("button",{onClick:()=>c(null),style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600},children:"Kapat"}),!b(i.item_id)&&r.jsxs("button",{onClick:()=>y(i),style:{background:"linear-gradient(135deg, #43b581 0%, #3ca374 100%)",border:"none",color:"#fff",padding:"12px 32px",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"16px"},children:["SatÄ±n Al (",i.price," ðŸ’°)"]})]})]})})]})};export{q as default};

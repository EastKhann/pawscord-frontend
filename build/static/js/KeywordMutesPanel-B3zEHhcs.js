var j=Object.defineProperty;var t=(n,s)=>j(n,"name",{value:s,configurable:!0});import{r as l,j as e}from"./react-core-Djgtqrmb.js";import{V as c,a as w,an as b,f as v}from"./icons-vendor-BW7dxHkX.js";import{t as i}from"./index-m2zCEI_Z.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const R=t(({fetchWithAuth:n,apiBaseUrl:s,onClose:x})=>{const[y,u]=l.useState([]),[d,m]=l.useState(""),[k,f]=l.useState(!0);l.useEffect(()=>{a()},[]);const a=t(async()=>{try{f(!0);const o=await n(`${s}/mutekeyword/list/`);if(o.ok){const p=await o.json();u(p)}}catch{}finally{f(!1)}},"loadKeywords"),g=t(async()=>{if(!d.trim()){i.error("Kelime girin");return}try{(await n(`${s}/mutekeyword/add/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:d.trim()})})).ok?(i.success("Kelime eklendi"),m(""),a()):i.error("Kelime eklenemedi")}catch{i.error("Bir hata oluÅŸtu")}},"addKeyword"),h=t(async o=>{try{(await n(`${s}/mutekeyword/remove/`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword_id:o})})).ok?(i.success("Kelime kaldÄ±rÄ±ldÄ±"),a()):i.error("Kelime kaldÄ±rÄ±lamadÄ±")}catch{i.error("Bir hata oluÅŸtu")}},"removeKeyword");return e.jsx("div",{style:r.overlay,onClick:x,children:e.jsxs("div",{style:r.modal,onClick:t(o=>o.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:r.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(c,{style:{color:"#f04747"}}),e.jsx("h2",{style:{margin:0},children:"Kelime Filtreleri"})]}),e.jsx(w,{onClick:x,style:r.closeBtn})]}),e.jsxs("div",{style:r.addSection,children:[e.jsx("input",{type:"text",value:d,onChange:t(o=>m(o.target.value),"onChange"),onKeyPress:t(o=>o.key==="Enter"&&g(),"onKeyPress"),placeholder:"Filtrelenecek kelime/ifade girin...",style:r.input}),e.jsxs("button",{onClick:g,style:r.addBtn,children:[e.jsx(b,{})," Ekle"]})]}),e.jsx("div",{style:r.content,children:k?e.jsx("div",{style:r.loading,children:"YÃ¼kleniyor..."}):y.length===0?e.jsxs("div",{style:r.empty,children:[e.jsx(c,{style:{fontSize:"48px",color:"#555",marginBottom:"10px"}}),e.jsx("p",{children:"HenÃ¼z filtrelenmiÅŸ kelime yok"}),e.jsx("p",{style:{fontSize:"12px",color:"#888"},children:"Bu kelimeler iÃ§eren mesajlar sizden gizlenecek"})]}):e.jsx("div",{style:r.keywordList,children:y.map(o=>e.jsxs("div",{style:r.keywordItem,children:[e.jsxs("div",{style:r.keywordText,children:[e.jsx(c,{style:{color:"#888",fontSize:"14px"}}),e.jsx("span",{children:o.keyword})]}),e.jsx("button",{onClick:t(()=>h(o.id),"onClick"),style:r.removeBtn,children:e.jsx(v,{})})]},o.id))})}),e.jsx("div",{style:r.footer,children:e.jsx("div",{style:r.hint,children:"ðŸ’¡ Ä°pucu: Bu kelimeleri iÃ§eren mesajlar size gÃ¶sterilmeyecek"})})]})})},"KeywordMutesPanel"),r={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},addSection:{display:"flex",gap:"10px",padding:"20px",borderBottom:"1px solid #333"},input:{flex:1,padding:"12px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},addBtn:{backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},content:{flex:1,overflowY:"auto",padding:"20px"},keywordList:{display:"flex",flexDirection:"column",gap:"10px"},keywordItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px",backgroundColor:"#2c2f33",borderRadius:"8px"},keywordText:{display:"flex",alignItems:"center",gap:"10px",flex:1},removeBtn:{backgroundColor:"#f04747",color:"#fff",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},loading:{textAlign:"center",padding:"40px",color:"#888"},empty:{textAlign:"center",padding:"60px 20px",color:"#888"},footer:{padding:"15px 20px",borderTop:"1px solid #333"},hint:{fontSize:"13px",color:"#888",textAlign:"center"}};export{R as default};

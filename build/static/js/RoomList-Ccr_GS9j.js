var io=Object.defineProperty;var t=(n,o)=>io(n,"name",{value:o,configurable:!0});import{r as c,j as e,e as ne,a as Q,f as ao}from"./react-core-Djgtqrmb.js";import{by as ut,a as Re,p as so,J as lo,aV as Me,y as co,a6 as pt,az as ke,at as uo,f as Oe,a7 as xt,an as Ze,B as po,O as xo,ad as go,bJ as mo,g as fo,G as ho,o as yo,bK as bo,af as vo,bL as jo,E as ko,bM as So,bN as wo,bO as Co,b9 as zo,j as Io,aB as gt,ay as Ro,bd as Bo,aE as Do,d as mt,a9 as ft,aw as To,h as Po,ax as $o,k as Lo,l as Fo,aa as Eo,ab as Mo,bB as Oo}from"./icons-vendor-BW7dxHkX.js";import{t as P,d as Ue,u as No}from"./index-m2zCEI_Z.js";import{s as y,U as Ao}from"./UserFooter-D4atGSba.js";import{u as Qe}from"./useModalA11y-VFHkzbFx.js";import{L as ht}from"./LazyImage-h7tJnYE0.js";import{S as _o}from"./crypto-vendor-D1XRGppi.js";import Ko from"./InviteModal-B2KSeY0J.js";import Wo from"./SavedMessagesModal-fVsnHsoq.js";import{S as Ho}from"./ScheduledMessageModal-DtF8TRvU.js";import Jo from"./WebhookManager-Bi8HOGCS.js";import Yo from"./ModeratorTools-DTdHmi7d.js";import Vo from"./VanityURLManager-BS87GcPF.js";import{A as Go}from"./AutoResponderManager-cvcZgNw9.js";import Uo from"./ChannelSettingsModal-C4mwd4lD.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-BRqaXHJQ.js";import"./ui-vendor-IhB9Znpc.js";const Ce={sol:"Bk6ywhae86fp6BHmGtxabS6ncEGsFxhcnZEWJRZLVr9z",eth:"0xeaa14d4651a8ea7488289209b9294a1309dde37c",usdt:"TGAny6VmDAWdVmTXCPrpsbLKKQQdvyvnWC",coffee:"https://buymeacoffee.com/dogudoguweo"},Xo=t(({isOpen:n,onClose:o})=>{const[i,r]=c.useState(null),m=t((x,v)=>{navigator.clipboard.writeText(x).then(()=>{r(v),setTimeout(()=>r(null),2e3)})},"copyToClipboard");if(!n)return null;const{overlayProps:h,dialogProps:u}=Qe({onClose:o,isOpen:n,label:"Bizi Destekle"});return e.jsx("div",{style:y.modalOverlay,...h,children:e.jsxs("div",{style:y.selectionModalContent,...u,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[e.jsxs("h3",{style:{color:"white",margin:0},children:["Bizi Destekle ",e.jsx(ut,{color:"#eb459e"})]}),e.jsx(Re,{style:{cursor:"pointer",color:"#b9bbbe"},onClick:o})]}),e.jsxs("div",{style:{backgroundColor:"#1e1f22",padding:15,borderRadius:8,marginBottom:15},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:10},children:[e.jsx(so,{color:"#FFDD00",size:24}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{color:"white",fontWeight:"bold"},children:"Buy Me a Coffee"}),e.jsx("div",{style:{fontSize:"0.8em",color:"#b9bbbe"},children:"En kolay destek yÃ¶ntemi"})]})]}),e.jsx("button",{onClick:t(()=>window.open(Ce.coffee,"_blank"),"onClick"),style:{width:"100%",padding:10,backgroundColor:"#FFDD00",border:"none",borderRadius:6,fontWeight:"bold",cursor:"pointer"},children:"Kahve Ismarla â˜•"})]}),e.jsxs("div",{style:{backgroundColor:"#1e1f22",padding:15,borderRadius:8},children:[e.jsxs("h4",{style:{margin:"0 0 10px 0",color:"white",textAlign:"left"},children:[e.jsx(lo,{color:"#f7931a"})," Kripto ile Destek"]}),e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"Solana (SOL)"}),e.jsx("button",{onClick:t(()=>m(Ce.sol,"sol"),"onClick"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:i==="sol"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Me,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:Ce.sol})]}),e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"Ethereum (ETH)"}),e.jsx("button",{onClick:t(()=>m(Ce.eth,"eth"),"onClick"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:i==="eth"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Me,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:Ce.eth})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"USDT (TRC20)"}),e.jsx("button",{onClick:t(()=>m(Ce.usdt,"usdt"),"onClick"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:i==="usdt"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Me,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:Ce.usdt})]})]})]})})},"SupportModal"),Zo=t(({isOpen:n,onClose:o,onCreateServer:i,onFriendsClick:r})=>{const[m,h]=c.useState(!1),[u,x]=c.useState(""),[v,l]=c.useState(!1),B=t(async a=>{a?.preventDefault(),u.trim()&&(await i(u,v),x(""),l(!1),h(!1))},"handleCreateServer");return!n&&!m?null:m?ne.createPortal(e.jsx("div",{style:y.modalOverlay,children:e.jsxs("form",{onSubmit:B,style:y.addCategoryForm,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0,color:"white"},children:"Sunucu OluÅŸtur"}),e.jsx(Re,{style:{cursor:"pointer",color:"#b9bbbe"},onClick:t(()=>{h(!1),o()},"onClick")})]}),e.jsx("p",{style:{color:"#b9bbbe",fontSize:"0.9em"},children:"Sunucuna bir isim ver."}),e.jsx("input",{autoFocus:!0,placeholder:"Sunucu AdÄ±...","aria-label":"Sunucu adÄ±",value:u,onChange:t(a=>x(a.target.value),"onChange"),style:y.addRoomInput}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",margin:"10px 0"},children:[e.jsx("input",{type:"checkbox",id:"publicCheck",checked:v,onChange:t(a=>l(a.target.checked),"onChange"),style:{width:"16px",height:"16px",accentColor:"#23a559"}}),e.jsx("label",{htmlFor:"publicCheck",style:{color:"#dbdee1",fontSize:"0.9em",cursor:"pointer"},children:"Herkese AÃ§Ä±k (KeÅŸfet'te GÃ¶rÃ¼nÃ¼r)"})]}),e.jsx("button",{type:"submit",style:y.addRoomButton,children:"OluÅŸtur"})]})}),document.body):ne.createPortal(e.jsx("div",{style:y.modalOverlay,onClick:o,children:e.jsxs("div",{style:y.selectionModalContent,onClick:t(a=>a.stopPropagation(),"onClick"),children:[e.jsx("h3",{style:{color:"white",margin:0},children:"Ne Yapmak Ä°stersin?"}),e.jsxs("button",{style:{...y.selectionButton,backgroundColor:"#5865f2"},onClick:t(()=>{h(!0)},"onClick"),children:[e.jsx(co,{})," Sunucu OluÅŸtur"]}),e.jsxs("button",{style:{...y.selectionButton,backgroundColor:"#23a559"},onClick:t(()=>{o(),r&&r()},"onClick"),children:[e.jsx(pt,{})," ArkadaÅŸ Ekle"]}),e.jsx("button",{style:{marginTop:10,background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},onClick:o,children:"Ä°ptal"})]})}),document.body)},"AddServerModal"),Qo=t(({actionMenu:n,onClose:o,onRename:i,onDelete:r,onSettings:m})=>n?e.jsx("div",{style:y.modalOverlay,onClick:o,children:e.jsxs("div",{style:{...y.selectionModalContent,width:"250px"},onClick:t(h=>h.stopPropagation(),"onClick"),children:[e.jsx("h4",{style:{color:"white",marginTop:0,borderBottom:"1px solid #4f545c",paddingBottom:10},children:n.name}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[n.type==="room"&&e.jsxs("button",{onClick:m,style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(ke,{})," Kanal AyarlarÄ±"]}),e.jsxs("button",{onClick:i,style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(uo,{})," Yeniden AdlandÄ±r"]}),e.jsxs("button",{onClick:r,style:{backgroundColor:"#da373c",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(Oe,{})," Sil"]})]}),e.jsx("button",{style:{marginTop:15,background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",width:"100%"},onClick:o,children:"Ä°ptal"})]})}):null,"ActionMenuModal"),qo=t(({apiUrl:n,fetchWithAuth:o,servers:i,currentUsername:r,selectedServerId:m,setSelectedServerId:h,onWelcomeClick:u,onMoveServer:x})=>{const[v,l]=c.useState([]),[B,a]=c.useState(""),[d,f]=c.useState(""),[g,w]=c.useState(""),[R,p]=c.useState("text"),[s,b]=c.useState(!1),[I,k]=c.useState(null),[$,L]=c.useState(null),[N,z]=c.useState(null),[K,U]=c.useState(""),[q,ee]=c.useState(null),[oe,re]=c.useState(null);return{handleLeaveServer:t(async S=>{const C=i.find(M=>M.id===S);if(C&&C.owner_username===r){P.warning(`Sunucu sahibi sunucudan ayrÄ±lamaz!

Sunucuyu silmek iÃ§in:
1. Sunucuya saÄŸ tÄ±klayÄ±n
2. "Sunucuyu Sil" seÃ§eneÄŸini tÄ±klayÄ±n

Veya Ã¶nce sahipliÄŸi baÅŸka birine devredin.`,7e3);return}ee({server:C,isOpen:!0})},"handleLeaveServer"),executeLeaveServer:t(async S=>{try{const C=await o(`${n}/servers/${S}/leave/`,{method:"POST"});if(C.ok){const M=await C.json();h("home"),u(),P.success("âœ… Sunucudan baÅŸarÄ±yla ayrÄ±ldÄ±nÄ±z!")}else{const Y=(await C.json()).error||"Sunucudan ayrÄ±lÄ±rken hata oluÅŸtu";P.error(`âŒ Hata: ${Y}`)}}catch{P.error("âŒ Sunucudan ayrÄ±lÄ±rken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}},"executeLeaveServer"),handleChangeServerIcon:t(async S=>{const C=document.createElement("input");C.type="file",C.accept="image/*",C.onchange=async M=>{const Y=M.target.files[0];if(!Y)return;if(Y.size>5*1024*1024){P.warning("Dosya boyutu Ã§ok bÃ¼yÃ¼k! Maksimum 5MB olmalÄ±dÄ±r.");return}const te=new FormData;te.append("icon",Y);try{const ce=await o(`${n}/servers/${S}/icon/`,{method:"POST",body:te});if(ce.ok){const ye=await ce.json()}else{const ye=await ce.json();P.error(`Ä°kon gÃ¼ncellenirken hata: ${ye.error||"Bilinmeyen hata"}`)}}catch{P.error("Ä°kon yÃ¼klenirken bir hata oluÅŸtu.")}},C.click()},"handleChangeServerIcon"),handleChangeServerPrivacy:t(async S=>{const C=i.find(te=>te.id===S);if(!C)return;const M=!C.is_public;if(await Ue(M?"Sunucuyu herkese aÃ§Ä±k yapmak istediÄŸinize emin misiniz? Herkes bu sunucuyu bulabilir ve katÄ±labilir.":"Sunucuyu Ã¶zel yapmak istediÄŸinize emin misiniz? Sadece davet edilen kiÅŸiler katÄ±labilir."))try{const te=await o(`${n}/servers/${S}/privacy/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_public:M})});if(te.ok){const ce=await te.json()}else{const ce=await te.json();P.error(`Gizlilik ayarÄ± deÄŸiÅŸtirilirken hata: ${ce.error||"Bilinmeyen hata"}`)}}catch{P.error("Gizlilik ayarÄ± deÄŸiÅŸtirilirken bir hata oluÅŸtu.")}},"handleChangeServerPrivacy"),handleCopyServerInvite:t(async S=>{try{const C=await o(`${n}/invites/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:S,max_uses:0,expires_hours:0})});if(C.ok){const M=await C.json(),ye=`${!0?"https://www.pawscord.com":window.location.origin}/#/invite/${M.code}`;await navigator.clipboard.writeText(ye),P.success(`Davet linki kopyalandÄ±!

${ye}`,4e3)}else{const M=await C.json();P.error(`Hata: ${M.error||"Davet oluÅŸturulamadÄ±"}`)}}catch{}},"handleCopyServerInvite"),handleCreateServer:t(async(S,C)=>{S?.preventDefault&&S.preventDefault();const M=typeof S=="string"?S:B,Y=typeof S=="string"?C:s;M?.trim()&&(await o(`${n}/servers/create/`,{method:"POST",body:JSON.stringify({name:M,is_public:!!Y})}),a(""),b(!1))},"handleCreateServer"),handleCreateCategory:t(async(S,C)=>{S.preventDefault(),d.trim()&&(await o(`${n}/categories/create/`,{method:"POST",body:JSON.stringify({server_id:C,name:d})}),f(""),k(null))},"handleCreateCategory"),handleCreateRoom:t(async(S,C)=>{S.preventDefault(),g.trim()&&(await o(`${n}/categories/${C}/create_room/`,{method:"POST",body:JSON.stringify({name:g,channel_type:R})}),w(""),L(null))},"handleCreateRoom"),handleRenameCategory:t(async(S,C)=>{S.preventDefault(),await o(`${n}/categories/${C}/rename/`,{method:"POST",body:JSON.stringify({new_name:K})}),z(null)},"handleRenameCategory"),handleDeleteCategory:t(async(S,C)=>{S.stopPropagation(),await Ue("Kategoriyi silmek istediÄŸine emin misin? Ä°Ã§indeki odalar da silinecek!")&&await o(`${n}/categories/${C}/delete/`,{method:"POST"})},"handleDeleteCategory"),handleRenameRoom:t(async(S,C)=>{S.preventDefault(),await o(`${n}/rooms/${C}/rename/`,{method:"POST",body:JSON.stringify({new_name:K})}),z(null)},"handleRenameRoom"),handleDeleteRoom:t(async(S,C)=>{S.stopPropagation(),await Ue("KanalÄ± silmek istediÄŸine emin misin?")&&await o(`${n}/rooms/${C}/delete/`,{method:"POST"})},"handleDeleteRoom"),handleMoveServer:t((S,C)=>{x&&x(S,C)},"handleMoveServer"),handleMoveUserToChannel:t(async(S,C,M)=>{try{const Y=await o(`${n}/voice/move_user/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,from_channel:C,to_channel:M})});if(Y.ok){const te=await Y.json()}else{const te=await Y.json()}}catch{}},"handleMoveUserToChannel"),handleKickUserFromChannel:t(async(S,C)=>{try{const M=await o(`${n}/voice/kick_user/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:S,channel:C})});if(M.ok){const Y=await M.json()}else{const Y=await M.json()}}catch{}},"handleKickUserFromChannel"),handleOpenDiscovery:t(async()=>{try{const C=await(await o(`${n}/servers/public/`)).json();l(C)}catch{}},"handleOpenDiscovery"),handleJoinServer:t(async S=>{try{(await o(`${n}/servers/${S}/join/`,{method:"POST"})).ok&&P.success("âœ… Sunucuya baÅŸarÄ±yla katÄ±ldÄ±n!")}catch{}},"handleJoinServer"),handleJoinViaCode:t(async S=>{if(S.trim())try{const C=await o(`${n}/invites/join/`,{method:"POST",body:JSON.stringify({code:S})}),M=await C.json();C.ok&&P.success(`âœ… "${M.server_name}" sunucusuna katÄ±ldÄ±n!`)}catch{}},"handleJoinViaCode"),publicServers:v,setPublicServers:l,newServerName:B,setNewServerName:a,newCategoryName:d,setNewCategoryName:f,newRoomName:g,setNewRoomName:w,newRoomType:R,setNewRoomType:p,isNewServerPublic:s,setIsNewServerPublic:b,activeServerIdForCategory:I,setActiveServerIdForCategory:k,activeCategoryIdForRoom:$,setActiveCategoryIdForRoom:L,editingItemId:N,setEditingItemId:z,editName:K,setEditName:U,leaveServerModal:q,setLeaveServerModal:ee,deleteServerModal:oe,setDeleteServerModal:re}},"useServerActions"),er=t(({apiUrl:n,fetchWithAuth:o,servers:i,onViewUserProfile:r})=>{const[m,h]=c.useState(null),[u,x]=c.useState(null);return{handleClearDM:t(async s=>{if(confirm("Bu konuÅŸmadaki tÃ¼m mesajlarÄ± silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz.")){try{const b=await o(`${n}/conversations/${s}/clear/`,{method:"POST"});if(b.ok)P.success("âœ… KonuÅŸma temizlendi!");else{const I=await b.json();P.error(`âŒ Hata: ${I.error||"KonuÅŸma temizlenemedi"}`)}}catch{P.error("âŒ BaÄŸlantÄ± hatasÄ±")}h(null)}},"handleClearDM"),handleHideDM:t(async s=>{if(confirm("Bu konuÅŸmayÄ± gizlemek istediÄŸinizden emin misiniz?")){try{const b=await o(`${n}/conversations/${s}/hide/`,{method:"POST"});if(b.ok)P.success("âœ… KonuÅŸma gizlendi!");else{const I=await b.json();P.error(`âŒ Hata: ${I.error||"KonuÅŸma gizlenemedi"}`)}}catch{P.error("âŒ BaÄŸlantÄ± hatasÄ±")}h(null)}},"handleHideDM"),handleViewProfile:t(s=>{r?r(s):P.info(`ðŸ‘¤ ${s} profili gÃ¶rÃ¼ntÃ¼lenemiyor`),h(null)},"handleViewProfile"),handleInviteToServer:t(s=>{if(!i||i.length===0){P.error("âŒ Davet edebileceÄŸiniz sunucu bulunmuyor"),h(null);return}x({username:s,isOpen:!0}),h(null)},"handleInviteToServer"),handleSendServerInvite:t(async(s,b)=>{try{const I=await o(`${n}/servers/${s}/invite/`,{method:"POST",body:JSON.stringify({target_username:b})});if(I.ok){const k=await I.json();P.success(`ðŸŽ« ${b} kullanÄ±cÄ±sÄ±na davetiye gÃ¶nderildi!`)}else{const k=await I.json();P.error(`âŒ ${k.error||"Davet gÃ¶nderilemedi"}`)}}catch{P.error("âŒ BaÄŸlantÄ± hatasÄ±")}x(null)},"handleSendServerInvite"),handleMuteUser:t(async(s,b)=>{try{const I=JSON.parse(localStorage.getItem("mutedDMUsers")||"{}");I[s]?(delete I[s],localStorage.setItem("mutedDMUsers",JSON.stringify(I)),P.success(`ðŸ”Š ${s} artÄ±k sessize alÄ±nmadÄ±`)):(I[s]={timestamp:Date.now(),conversationId:b},localStorage.setItem("mutedDMUsers",JSON.stringify(I)),P.success(`ðŸ”‡ ${s} sessize alÄ±ndÄ±. Bildirimleri almayacaksÄ±nÄ±z.`))}catch{P.error("âŒ Sessize alma hatasÄ±")}h(null)},"handleMuteUser"),handlePinConversation:t(async s=>{try{const b=JSON.parse(localStorage.getItem("pinnedConversations")||"[]");if(b.includes(s)){const I=b.filter(k=>k!==s);localStorage.setItem("pinnedConversations",JSON.stringify(I)),P.success("ðŸ“Œ KonuÅŸma sabitleme kaldÄ±rÄ±ldÄ±")}else b.length>=5?P.warning("âš ï¸ En fazla 5 konuÅŸma sabitleyebilirsiniz"):(b.push(s),localStorage.setItem("pinnedConversations",JSON.stringify(b)),P.success("ðŸ“Œ KonuÅŸma sabitlendi!"))}catch{P.error("âŒ Sabitleme hatasÄ±")}h(null)},"handlePinConversation"),handleBlockUser:t(async s=>{if(confirm(`${s} kullanÄ±cÄ±sÄ±nÄ± engellemek istediÄŸinizden emin misiniz?`)){try{(await o(`${n}/users/${s}/block/`,{method:"POST"})).ok?P.success(`âœ… ${s} engellendi!`):P.error("âŒ KullanÄ±cÄ± engellenemedi")}catch{P.error("âŒ BaÄŸlantÄ± hatasÄ±")}h(null)}},"handleBlockUser"),handleAddFriend:t(async s=>{try{const b=await o(`${n}/friends/send/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s})});if(b.ok)window.Notification&&Notification.permission==="granted"&&new Notification("ArkadaÅŸlÄ±k Ä°steÄŸi GÃ¶nderildi",{body:`${s} kullanÄ±cÄ±sÄ±na arkadaÅŸlÄ±k isteÄŸi gÃ¶nderildi!`,icon:"/logo192.png"});else{const I=await b.json()}}catch{}},"handleAddFriend"),handleRemoveFriend:t(async s=>{try{const b=await o(`${n}/friends/remove/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s})});if(b.ok)window.Notification&&Notification.permission==="granted"&&new Notification("ArkadaÅŸ Ã‡Ä±karÄ±ldÄ±",{body:`${s} arkadaÅŸ listesinden Ã§Ä±karÄ±ldÄ±.`,icon:"/logo192.png"});else{const I=await b.json()}}catch{}},"handleRemoveFriend"),dmContextMenu:m,setDmContextMenu:h,inviteToServerModal:u,setInviteToServerModal:x}},"useDMActions"),tr=t(({servers:n,selectedServerId:o,hoveredServerId:i,setHoveredServerId:r,safeUnreadCounts:m,draggedServerId:h,dropTargetIndex:u,dropPosition:x,onHomeClick:v,handleServerClick:l,handleServerContextMenu:B,handleServerDragStartWrapper:a,handleServerDragOverWrapper:d,handleServerDragEndWrapper:f,handleServerDropWrapper:g,onOpenStore:w,onDiscoverClick:R,onAddClick:p})=>e.jsxs("div",{style:y.serverRail,children:[e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",width:"100%",justifyContent:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{position:"absolute",left:0,width:"4px",height:o==="home"?"40px":i==="home"?"20px":"0px",backgroundColor:"#fff",borderRadius:"0 4px 4px 0",transition:"height 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"}}),e.jsx("div",{style:{...y.serverIcon,backgroundColor:o==="home"?"#5865f2":"#313338",borderRadius:o==="home"||i==="home"?"16px":"50%",width:"48px",height:"48px",marginBottom:0,transition:"border-radius 0.3s ease, background-color 0.3s ease"},onClick:v,onMouseEnter:t(()=>r("home"),"onMouseEnter"),onMouseLeave:t(()=>r(null),"onMouseLeave"),title:"Ana Sayfa",children:e.jsx("img",{src:"https://media.pawscord.com/assets/logo.png",alt:"Pawscord",style:{width:"32px",height:"32px",objectFit:"contain"},onError:t(s=>{s.target.style.display="none"},"onError")})})]}),e.jsx("div",{style:y.separator}),n&&n.map((s,b)=>{const I=s.name.substring(0,2).toUpperCase(),k=o===s.id,$=h===s.id,L=u===b&&!$,N=Object.keys(m).filter(z=>z.startsWith("room-")&&s.categories?.some(K=>K.rooms?.some(U=>`room-${U.slug}`===z))).reduce((z,K)=>z+(m[K]||0),0);return e.jsxs("div",{style:{position:"relative",marginBottom:"8px",display:"flex",alignItems:"center",width:"100%",justifyContent:"center"},children:[e.jsx("div",{style:{position:"absolute",left:0,width:"4px",height:k?"40px":i===s.id?"20px":N>0?"8px":"0px",backgroundColor:"#fff",borderRadius:"0 4px 4px 0",transition:"height 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"}}),L&&x==="before"&&e.jsx("div",{style:{position:"absolute",top:"-4px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:"#43b581",borderRadius:"2px",zIndex:1e3,boxShadow:"0 0 8px rgba(67, 181, 129, 0.6)"}}),e.jsxs("div",{draggable:!0,onDragStart:t(z=>a(z,s.id,b),"onDragStart"),onDragOver:t(z=>d(z,b),"onDragOver"),onDragEnd:f,onDrop:t(z=>g(z,b),"onDrop"),style:{...y.serverIcon,backgroundColor:k||i===s.id?"#5865f2":"#313338",borderRadius:k||i===s.id?"16px":"50%",cursor:$?"grabbing":"grab",position:"relative",transition:"border-radius 0.3s ease, background-color 0.3s ease, opacity 0.2s ease, transform 0.1s ease",opacity:$?.4:1,marginBottom:0},onClick:t(()=>l(s),"onClick"),onContextMenu:t(z=>B(z,s),"onContextMenu"),onMouseEnter:t(()=>r(s.id),"onMouseEnter"),onMouseLeave:t(()=>r(null),"onMouseLeave"),onMouseDown:t(z=>{z.currentTarget.style.cursor="grabbing",z.currentTarget.style.transform="scale(0.95)"},"onMouseDown"),onMouseUp:t(z=>{z.currentTarget.style.cursor="grab",z.currentTarget.style.transform="scale(1)"},"onMouseUp"),title:s.name,children:[s.icon?e.jsx(ht,{src:s.icon,alt:s.name,style:{width:"100%",height:"100%",borderRadius:"inherit",objectFit:"cover"}}):e.jsx("span",{style:{fontWeight:"bold",fontSize:"14px",color:"white"},children:I}),N>0&&e.jsx("div",{style:y.serverBadge,children:N>99?"99+":N})]}),L&&x==="after"&&e.jsx("div",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:"#43b581",borderRadius:"2px",zIndex:1e3,boxShadow:"0 0 8px rgba(67, 181, 129, 0.6)"}})]},s.id)}),e.jsx("div",{style:{...y.serverIcon,backgroundColor:i==="discover"?"#23a559":"#313338",color:i==="discover"?"white":"#23a559",marginTop:"10px",borderRadius:i==="discover"?"16px":"50%",transition:"border-radius 0.3s ease, background-color 0.3s ease, color 0.3s ease"},onClick:R,onMouseEnter:t(()=>r("discover"),"onMouseEnter"),onMouseLeave:t(()=>r(null),"onMouseLeave"),title:"Sunucu KeÅŸfet",children:e.jsx(xt,{size:24})}),e.jsx("div",{style:{...y.serverIcon,background:i==="store"?"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)":"#313338",color:i==="store"?"#000":"#F1C40F",fontWeight:"bold",cursor:"pointer",borderRadius:i==="store"?"16px":"50%",transition:"border-radius 0.3s ease, background 0.3s ease, color 0.3s ease"},onClick:w,onMouseEnter:t(()=>r("store"),"onMouseEnter"),onMouseLeave:t(()=>r(null),"onMouseLeave"),title:"Premium MaÄŸaza",children:"ðŸ›’"}),e.jsx("div",{style:{...y.serverIcon,backgroundColor:i==="add"?"#23a559":"#313338",color:i==="add"?"white":"#23a559",borderRadius:i==="add"?"16px":"50%",transition:"border-radius 0.3s ease, background-color 0.3s ease, color 0.3s ease"},onClick:p,onMouseEnter:t(()=>r("add"),"onMouseEnter"),onMouseLeave:t(()=>r(null),"onMouseLeave"),title:"Ekle",children:e.jsx(Ze,{size:20})})]}),"ServerRail"),nr=Q.memo(tr),or=t(({conversations:n,currentConversationId:o,currentUsername:i,onRoomSelect:r,onDMSelect:m,onFriendsClick:h,pendingFriendRequests:u,safeUnreadCounts:x,onlineUsers:v,allUsers:l,getAvatarUrl:B,setDmContextMenu:a})=>e.jsxs("div",{style:y.topSection,children:[e.jsx("div",{style:y.headerTitle,children:"Ana Sayfa"}),e.jsxs("div",{style:y.channelsContainer,children:[e.jsx("div",{style:{...y.roomItem,marginBottom:5},role:"button",tabIndex:0,onClick:t(()=>r("ai"),"onClick"),onKeyDown:t(d=>d.key==="Enter"&&r("ai"),"onKeyDown"),"aria-label":"PawPaw AI kanalÄ±",children:e.jsxs("div",{style:y.channelContent,children:[e.jsx(po,{style:{marginRight:8}})," ",e.jsx("span",{children:"PawPaw AI"})]})}),e.jsx("div",{style:{...y.roomItem,marginBottom:15},role:"button",tabIndex:0,onClick:t(()=>r("sinyal-bot"),"onClick"),onKeyDown:t(d=>d.key==="Enter"&&r("sinyal-bot"),"onKeyDown"),"aria-label":"Sinyal Bot kanalÄ±",children:e.jsxs("div",{style:y.channelContent,children:[e.jsx(xo,{style:{marginRight:8}})," ",e.jsx("span",{children:"Sinyal Bot"})]})})]}),e.jsxs("div",{style:y.dmListContainer,children:[e.jsxs("div",{style:y.groupHeader,children:[e.jsx("span",{children:"Ã–ZEL MESAJLAR"}),e.jsxs("button",{onClick:h,style:{...y.addDmButton,position:"relative"},children:[e.jsx(pt,{})," Ekle",u>0&&e.jsx("div",{style:{position:"absolute",top:"-6px",right:"-6px",backgroundColor:"#ed4245",color:"white",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",border:"2px solid #2b2d31",zIndex:1},children:u>9?"9+":u})]})]}),!n||n.length===0?e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#72767d",fontSize:"0.9em"},children:["HenÃ¼z Ã¶zel mesaj yok.",e.jsx("br",{}),"ArkadaÅŸ ekle butonuna tÄ±klayarak baÅŸla!"]}):n.map(d=>{const f=d.participants.find(w=>w.username!==i);if(!f)return null;const g=x[`dm-${d.id}`]||0;return e.jsx(rr,{conv:d,otherUser:f,unread:g,isActive:o===d.id,currentUsername:i,onDMSelect:m,setDmContextMenu:a,getAvatarUrl:B,onlineUsers:v,allUsers:l},d.id)})]})]}),"HomePanel"),rr=t(({conv:n,otherUser:o,unread:i,isActive:r,currentUsername:m,onDMSelect:h,setDmContextMenu:u,getAvatarUrl:x,onlineUsers:v,allUsers:l})=>{const a=v.includes(o.username)?"#23a559":"#80848e";return e.jsxs("div",{style:{...y.dmItem,backgroundColor:r?"rgba(255,255,255,0.1)":"transparent",position:"relative"},onClick:t(()=>h(n.id,o.username),"onClick"),onContextMenu:t(d=>{d.preventDefault(),u({x:d.clientX,y:d.clientY,conversation:n})},"onContextMenu"),onDragOver:t(d=>{d.preventDefault(),d.stopPropagation(),d.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.3)"},"onDragOver"),onDragLeave:t(d=>{d.preventDefault(),d.currentTarget.style.backgroundColor=r?"rgba(255,255,255,0.1)":"transparent"},"onDragLeave"),onDrop:t(d=>{d.preventDefault(),d.stopPropagation(),d.currentTarget.style.backgroundColor=r?"rgba(255,255,255,0.1)":"transparent";const f=d.dataTransfer.files;f&&f.length>0&&(h(n.id,o.username),setTimeout(()=>{const g=document.querySelector('input[type="file"]');if(g){const w=new DataTransfer;for(let R=0;R<f.length;R++)w.items.add(f[R]);g.files=w.files,g.dispatchEvent(new Event("change",{bubbles:!0}))}},100))},"onDrop"),children:[e.jsxs("div",{style:{position:"relative",width:32,height:32},children:[e.jsx(ht,{src:x(o.avatar,o.username),style:{...y.avatarSmall,width:32,height:32},alt:""}),e.jsx("div",{style:{position:"absolute",bottom:-2,right:-2,width:12,height:12,borderRadius:"50%",backgroundColor:a,border:"2px solid #2b2d31"}})]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginLeft:8,overflow:"hidden"},children:[e.jsx("span",{style:{fontWeight:i?"bold":"normal",color:"#dbdee1"},children:o.username}),e.jsx(ir,{otherUser:o,allUsers:l})]}),i>0&&e.jsx("span",{style:y.unreadBadge,children:i})]})},"DMItem"),ir=t(({otherUser:n,allUsers:o})=>{const r=(o?.find(h=>h.username===n.username)||n).current_activity;if(!r)return null;const m=[];return r.steam&&m.push(e.jsxs("span",{style:{fontSize:"10px",color:"#66c0f4",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸŽ® ",r.steam.name]},"steam")),r.spotify&&m.push(e.jsxs("span",{style:{fontSize:"10px",color:"#1db954",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸŽµ ",r.spotify.name]},"spotify")),m.length===0&&(r.type==="listening"?m.push(e.jsxs("span",{style:{fontSize:"10px",color:"#1db954",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸŽµ ",r.name]},"leg-sp")):r.type==="playing"&&m.push(e.jsxs("span",{style:{fontSize:"10px",color:"#66c0f4",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸŽ® ",r.name]},"leg-st"))),e.jsx(e.Fragment,{children:m})},"ActivityDisplay"),ar=Q.memo(or),F={container:{width:"100%",backgroundColor:"transparent",color:"#ccc",padding:"4px 0",minHeight:"30px",maxHeight:"400px",overflowY:"auto"},userList:{padding:"0 2px",display:"flex",flexDirection:"column",gap:"2px"},userItemNew:{padding:"4px 6px",fontSize:"0.8em",borderRadius:"4px",background:"rgba(255, 255, 255, 0.02)",transition:"all 0.15s ease",cursor:"pointer",border:"1px solid transparent",display:"flex",flexDirection:"row",alignItems:"center"},userClickArea:{display:"flex",alignItems:"center",gap:"6px",width:"100%",flexDirection:"row"},avatarContainer:{position:"relative",flexShrink:0,width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},avatar:{width:"22px",height:"22px",borderRadius:"50%",objectFit:"cover",transition:"all 0.2s ease",display:"block",backgroundColor:"#2f3136",flexShrink:0,minWidth:"22px",minHeight:"22px"},statusBadge:{position:"absolute",bottom:"-2px",right:"-2px",width:"10px",height:"10px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"6px",border:"1px solid #2f3136",boxShadow:"0 1px 2px rgba(0,0,0,0.3)"},userInfo:{flex:1,overflow:"hidden",marginLeft:"2px"},username:{display:"block",fontSize:"0.85em",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},sharingIndicator:{fontSize:"0.65em",color:"#5865f2",marginTop:"0",fontWeight:"500"},talkingUser:{color:"#4CAF50",fontWeight:"bold"},activeUser:{color:"#CCCCCC"},mutedUser:{color:"#e67e22"},deafenedUser:{color:"#e74c3c"},contextMenu:{position:"fixed",backgroundColor:"#111214",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0,0,0,0.6), 0 2px 8px rgba(0,0,0,0.3)",zIndex:1e4,minWidth:"240px",maxWidth:"280px",overflow:"hidden",animation:"contextMenuIn 0.12s ease-out"},menuHeader:{padding:"14px 12px",fontWeight:"600",color:"#fff",backgroundColor:"#1a1b1e",fontSize:"0.9em",borderBottom:"1px solid rgba(255,255,255,0.06)"},menuSection:{padding:"4px 0"},menuDivider:{height:"1px",backgroundColor:"rgba(255,255,255,0.06)",margin:"4px 8px"},volumeSection:{padding:"10px 14px 12px",backgroundColor:"#1a1b1e",borderBottom:"1px solid rgba(255,255,255,0.06)"},menuItem:{padding:"8px 12px",cursor:"pointer",color:"#dcddde",fontSize:"13px",transition:"background-color 0.1s, color 0.1s",position:"relative",display:"flex",alignItems:"center",borderRadius:"4px",margin:"0 4px"}},Xe=document.createElement("style");Xe.textContent=`
    @keyframes contextMenuIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
    }

    div[style*="userItemNew"]:hover {
        background: rgba(88, 101, 242, 0.08) !important;
        border-color: rgba(88, 101, 242, 0.2) !important;
        transform: translateX(1px);
    }
    
    .user-context-menu-item:hover {
        background-color: rgba(88, 101, 242, 0.15) !important;
        color: #fff !important;
    }
    
    .user-context-menu-item-danger:hover {
        background-color: rgba(237, 66, 69, 0.15) !important;
        color: #ed4245 !important;
    }
    
    .user-context-submenu-item:hover {
        background-color: rgba(88, 101, 242, 0.15) !important;
        color: #fff !important;
    }
    
    .voice-user-dragging {
        opacity: 0.4 !important;
        border: 1px dashed rgba(88, 101, 242, 0.5) !important;
    }
    
    .voice-channel-drop-target {
        background: rgba(88, 101, 242, 0.15) !important;
        border-color: rgba(88, 101, 242, 0.6) !important;
        box-shadow: inset 0 0 12px rgba(88, 101, 242, 0.2) !important;
    }
    
    .voice-channel-drop-target::after {
        content: 'ðŸ”€ Buraya bÄ±rak';
        position: absolute;
        right: 8px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 10px;
        color: #5865f2;
        font-weight: 600;
        background: rgba(88, 101, 242, 0.15);
        padding: 2px 8px;
        border-radius: 4px;
    }

    .voice-volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: #fff;
        cursor: pointer;
        box-shadow: 0 1px 4px rgba(0,0,0,0.4), 0 0 0 1px rgba(88, 101, 242, 0.3);
        border: 2px solid #5865f2;
        transition: transform 0.1s, box-shadow 0.1s;
        position: relative;
        z-index: 3;
    }
    .voice-volume-slider::-webkit-slider-thumb:hover {
        transform: scale(1.15);
        box-shadow: 0 1px 6px rgba(88, 101, 242, 0.5), 0 0 0 2px rgba(88, 101, 242, 0.2);
    }
    .voice-volume-slider::-webkit-slider-thumb:active {
        transform: scale(1.25);
        background: #5865f2;
        border-color: #fff;
    }
    .voice-volume-slider::-moz-range-thumb {
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: #fff;
        cursor: pointer;
        border: 2px solid #5865f2;
        box-shadow: 0 1px 4px rgba(0,0,0,0.4);
    }
    .voice-volume-slider::-webkit-slider-runnable-track {
        height: 6px;
        background: transparent;
        border-radius: 3px;
    }
    .voice-volume-slider::-moz-range-track {
        height: 6px;
        background: transparent;
        border-radius: 3px;
    }

    input[type="range"]:not(.voice-volume-slider)::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #5865f2;
        cursor: pointer;
        box-shadow: 0 0 3px rgba(88, 101, 242, 0.5);
    }
    
    input[type="range"]:not(.voice-volume-slider)::-moz-range-thumb {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #5865f2;
        cursor: pointer;
        border: none;
        box-shadow: 0 0 3px rgba(88, 101, 242, 0.5);
    }
`;document.head.querySelector("style[data-voice-user-list]")||(Xe.setAttribute("data-voice-user-list","true"),document.head.appendChild(Xe));const sr=t(n=>n.is_deafened?{icon:"ðŸ”•",style:F.deafenedUser}:n.is_talking?{icon:"ðŸ—£ï¸",style:F.talkingUser}:n.is_mic_off?{icon:"ðŸ”‡",style:F.mutedUser}:{icon:"ðŸŽ¤",style:F.activeUser},"getStatusInfo"),lr=t(({userObj:n,isSelf:o,getAvatar:i,allUsers:r,isAdmin:m,isDragging:h,draggedUser:u,isClientInThisChannel:x,isPttActive:v,onDragStart:l,onDragEnd:B,onContextMenu:a,onClick:d})=>{const f=n.username,{icon:g,style:w}=sr(n);let R=n.avatar||n.avatarUrl;R||(R=r.find($=>$.username===f)?.avatar||i(f));const p=n.is_talking?"2px solid #4CAF50":"2px solid transparent",s=n.is_talking?"0 0 10px rgba(76, 175, 80, 0.6)":"none",b=n.is_deafened?"#e74c3c":n.is_mic_off?"#e67e22":"#43b581",I=t(()=>e.jsxs("div",{style:F.avatarContainer,children:[e.jsx("img",{src:R,alt:f,onError:t(k=>{k.target.onerror=null,k.target.src=i(f)},"onError"),style:{...F.avatar,border:p,boxShadow:s}}),e.jsx("div",{style:{...F.statusBadge,background:b},children:g})]}),"AvatarSection");return o?e.jsxs("div",{style:F.userItemNew,children:[e.jsx(I,{}),e.jsxs("div",{style:F.userInfo,children:[e.jsxs("span",{className:x&&v&&!n.is_talking?"ptt-active":"",style:{...F.username,...w,fontWeight:"bold"},children:[f," ",e.jsx("span",{style:{fontSize:"0.85em",color:"#99aab5"},children:"(Sen)"})]}),n.is_sharing&&e.jsxs("div",{style:F.sharingIndicator,children:["ðŸ–¥ï¸"," Ekran Payla","ÅŸÄ±","yor"]})]})]}):e.jsx("div",{style:{...F.userItemNew,...m?{cursor:"grab"}:{},...h&&u===f?{opacity:.4,border:"1px dashed rgba(88, 101, 242, 0.5)",background:"rgba(88, 101, 242, 0.05)"}:{}},draggable:m,onDragStart:t(k=>l(k,n),"onDragStart"),onDragEnd:B,onContextMenu:t(k=>a(k,n),"onContextMenu"),children:e.jsxs("div",{style:F.userClickArea,onClick:t(()=>d(n),"onClick"),children:[e.jsx(I,{}),e.jsxs("div",{style:F.userInfo,children:[e.jsx("span",{className:n.is_talking?"voice-user-item is-talking":"",style:{...F.username,...w},children:f}),n.is_sharing&&e.jsxs("div",{style:F.sharingIndicator,children:["ðŸ–¥ï¸"," Ekran Payla","ÅŸÄ±","yor"]})]})]})})},"VoiceUserItem"),dr=Q.memo(lr),cr=t(({contextMenu:n,currentUsername:o,isAdmin:i,isClientInThisChannel:r,remoteVolumes:m,handleVolumeChange:h,handleMenuAction:u,showMoveMenu:x,setShowMoveMenu:v,voiceChannels:l,roomName:B,getAvatar:a,allUsers:d,friendsList:f})=>{if(!n)return null;const g=n.user;let w=g.avatar||g.avatarUrl;w||(w=d.find(s=>s.username===g.username)?.avatar||a(g.username));const R=m[g.username]||100;return ao.createPortal(e.jsxs("div",{style:{...F.contextMenu,left:`${Math.min(n.x,window.innerWidth-260)}px`,top:`${Math.min(n.y,window.innerHeight-400)}px`,position:"fixed",zIndex:2147483647},onClick:t(p=>p.stopPropagation(),"onClick"),children:[e.jsx("div",{style:F.menuHeader,children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("img",{src:w,alt:g.username,onError:t(p=>{p.target.onerror=null,p.target.src=a(g.username)},"onError"),style:{width:"36px",height:"36px",borderRadius:"50%",objectFit:"cover",border:"2px solid #5865f2",flexShrink:0}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"14px",color:"#fff"},children:g.username}),g.username===o&&e.jsx("div",{style:{fontSize:"11px",color:"#b9bbbe",marginTop:"1px"},children:"Sensin"})]})]})}),r&&g.username!==o&&e.jsxs("div",{style:F.volumeSection,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsxs("span",{style:{fontSize:"12px",color:"#b9bbbe",fontWeight:"500",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z",fill:"#b9bbbe"}),R>0&&e.jsx("path",{d:"M15.54 8.46a5 5 0 010 7.07",stroke:"#b9bbbe",strokeWidth:"1.5",strokeLinecap:"round"}),R>100&&e.jsx("path",{d:"M19.07 4.93a10 10 0 010 14.14",stroke:"#5865f2",strokeWidth:"1.5",strokeLinecap:"round"})]}),"Ses Seviyesi"]}),e.jsxs("span",{style:{fontSize:"12px",fontWeight:"700",color:R>100?"#5865f2":"#fff",background:R>100?"rgba(88,101,242,0.15)":"rgba(255,255,255,0.08)",padding:"2px 8px",borderRadius:"10px",minWidth:"42px",textAlign:"center"},children:[R,"%"]})]}),e.jsxs("div",{style:{position:"relative",height:"20px",display:"flex",alignItems:"center"},children:[e.jsx("input",{type:"range",min:"0",max:"200",value:R,onChange:t(p=>h(g.username,p),"onChange"),"aria-label":`${g.username} ses seviyesi`,className:"voice-volume-slider",style:{width:"100%",height:"6px",cursor:"pointer",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",background:"transparent",outline:"none",position:"relative",zIndex:2}}),e.jsx("div",{style:{position:"absolute",left:0,right:0,top:"50%",transform:"translateY(-50%)",height:"6px",borderRadius:"3px",overflow:"hidden",pointerEvents:"none",zIndex:1,background:"#1e1f22"},children:e.jsx("div",{style:{height:"100%",width:`${R/200*100}%`,background:R>100?"linear-gradient(90deg, #5865f2 50%, #7289da 100%)":"#5865f2",borderRadius:"3px",transition:"width 0.05s ease"}})}),e.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"2px",height:"12px",background:"rgba(255,255,255,0.2)",borderRadius:"1px",pointerEvents:"none",zIndex:1}})]})]}),e.jsxs("div",{style:F.menuSection,role:"menu",children:[e.jsxs("div",{className:"user-context-menu-item",role:"menuitem",tabIndex:0,style:F.menuItem,onClick:t(()=>u("profile"),"onClick"),onKeyDown:t(p=>p.key==="Enter"&&u("profile"),"onKeyDown"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ðŸ‘¤"})," Profili G","Ã¶","r","Ã¼","nt","Ã¼","le"]}),e.jsxs("div",{className:"user-context-menu-item",role:"menuitem",tabIndex:0,style:F.menuItem,onClick:t(()=>u("dm"),"onClick"),onKeyDown:t(p=>p.key==="Enter"&&u("dm"),"onKeyDown"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ðŸ’¬"})," ","Ã–","zelden Mesaj At"]}),g.username!==o&&!f.some(p=>p.sender_username===g.username||p.receiver_username===g.username)&&e.jsxs("div",{className:"user-context-menu-item",role:"menuitem",tabIndex:0,style:F.menuItem,onClick:t(()=>u("add_friend"),"onClick"),onKeyDown:t(p=>p.key==="Enter"&&u("add_friend"),"onKeyDown"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"âž•"})," Arkada","ÅŸ"," Ekle"]})]}),i&&g.username!==o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:F.menuDivider}),e.jsxs("div",{style:F.menuSection,children:[e.jsxs("div",{style:{fontSize:"10px",color:"#72767d",padding:"6px 12px 4px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Mod Ara","Ã§","lar","Ä±"]}),e.jsx("div",{className:"user-context-menu-item",style:F.menuItem,onClick:t(()=>v(!x),"onClick"),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("span",{children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ðŸ”€"}),"Ba","ÅŸ","ka Kanala Ta","ÅŸÄ±"]}),e.jsx("span",{style:{fontSize:"10px",transform:x?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s",color:"#72767d"},children:"â€º"})]})}),x&&l?.length>0&&e.jsxs("div",{style:{padding:"4px 0",background:"rgba(88, 101, 242, 0.05)",borderTop:"1px solid rgba(88, 101, 242, 0.15)",borderBottom:"1px solid rgba(88, 101, 242, 0.15)",margin:"2px 0"},children:[l.filter(p=>p.slug!==B).map(p=>e.jsxs("div",{style:{...F.menuItem,paddingLeft:"24px",fontSize:"0.82em",display:"flex",alignItems:"center",gap:"8px"},onClick:t(()=>u("move",p.slug),"onClick"),children:[e.jsx("span",{style:{color:"#5865f2"},children:"ðŸ”Š"})," ",p.name]},p.slug)),l.filter(p=>p.slug!==B).length===0&&e.jsxs("div",{style:{...F.menuItem,color:"#72767d",cursor:"default",paddingLeft:"24px",fontSize:"0.82em"},children:["Ba","ÅŸ","ka kanal yok"]})]}),e.jsxs("div",{className:"user-context-menu-item-danger",style:{...F.menuItem,color:"#ed4245"},onClick:t(()=>u("kick"),"onClick"),children:[e.jsx("span",{style:{marginRight:"8px"},children:"âŒ"})," Kanaldan At"]}),e.jsxs("div",{className:"user-context-menu-item",style:F.menuItem,onClick:t(()=>u("server_mute"),"onClick"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ðŸ”‡"})," Sunucu Sustur"]}),e.jsxs("div",{className:"user-context-menu-item",style:F.menuItem,onClick:t(()=>u("server_deafen"),"onClick"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ðŸ™‰"})," Sunucu Sa","ÄŸÄ±","rla","ÅŸ","t","Ä±","r"]})]})]}),g.username!==o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:F.menuDivider}),e.jsxs("div",{className:"user-context-menu-item",style:F.menuItem,onClick:t(()=>u("mute_local"),"onClick"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ðŸ”‡"})," Benim ","Ä°Ã§","in Sessize Al"]})]})]}),document.getElementById("portal-root")||document.body)},"VoiceUserContextMenu"),ur=Q.memo(cr),pr=t(n=>{if(!n)return"https://ui-avatars.com/api/?name=User&background=5865f2&color=fff&bold=true&size=128";const o=_o.hash(n),i=parseInt(o.substring(0,8),16)%360;return`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=${i.toString(16).padStart(2,"0")}${((i+60)%360).toString(16).padStart(2,"0")}${((i+120)%360).toString(16).padStart(2,"0")}&color=fff&bold=true&size=128`},"getDeterministicAvatar"),xr=t(({voiceUsers:n,roomName:o,currentUsername:i,remoteVolumes:r,setRemoteVolume:m,isClientInThisChannel:h,isPttActive:u,onUserAction:x,isAdmin:v,voiceChannels:l,friendsList:B=[],getDeterministicAvatar:a,allUsers:d=[]})=>{const f=a||pr,[g,w]=c.useState(null),[R,p]=c.useState(!1),[s,b]=c.useState(!1),[I,k]=c.useState(null),{globalData:$}=No();c.useEffect(()=>{if(g){const T=t(()=>w(null),"handleClick");return window.addEventListener("click",T),()=>window.removeEventListener("click",T)}},[g]);const L=n||$?.voice_users||{},N=L&&typeof L=="object"&&!Array.isArray(L)?L[o]||[]:[],z=c.useCallback((T,W)=>{m(T,parseInt(W.target.value,10))},[m]),K=c.useCallback((T,W)=>{T.preventDefault(),W.username!==i&&w({x:T.clientX,y:T.clientY,user:W})},[i]),U=c.useCallback(()=>{w(null),p(!1)},[]),q=c.useCallback((T,W)=>{g&&x&&(T==="move"&&W?x(T,g.user.username,W):x(T,g.user.username)),U()},[g,x,U]),ee=c.useCallback(T=>{T.username!==i&&x&&x("profile",T.username)},[i,x]),oe=c.useCallback((T,W)=>{if(!v)return;b(!0),k(W.username),T.dataTransfer.setData("application/json",JSON.stringify({username:W.username,fromChannel:o})),T.dataTransfer.effectAllowed="move";const D=document.createElement("div");D.style.cssText="position:fixed;top:-1000px;background:linear-gradient(135deg,#5865f2,#7289da);color:#fff;padding:8px 16px;border-radius:10px;font-size:13px;font-weight:600;box-shadow:0 4px 20px rgba(88,101,242,0.6);display:flex;align-items:center;gap:8px;z-index:99999;",D.textContent="ðŸ”€ "+W.username,document.body.appendChild(D),T.dataTransfer.setDragImage(D,60,20),setTimeout(()=>document.body.removeChild(D),0)},[v,o]),re=c.useCallback(()=>{b(!1),k(null)},[]);return!L||typeof L!="object"||Array.isArray(L)||!Array.isArray(N)||N.length===0?null:e.jsxs("div",{style:F.container,children:[e.jsx("div",{style:F.userList,children:N.map(T=>e.jsx(dr,{userObj:T,isSelf:T.username===i,getAvatar:f,allUsers:d,isAdmin:v,isDragging:s,draggedUser:I,isClientInThisChannel:h,isPttActive:u,onDragStart:oe,onDragEnd:re,onContextMenu:K,onClick:ee},T.username))}),e.jsx(ur,{contextMenu:g,currentUsername:i,isAdmin:v,isClientInThisChannel:h,remoteVolumes:r,handleVolumeChange:z,handleMenuAction:q,showMoveMenu:R,setShowMoveMenu:p,voiceChannels:l,roomName:o,getAvatar:f,allUsers:d,friendsList:B})]})},"VoiceUserList"),gr=Q.memo(xr),mr=t(({servers:n,selectedServerId:o,isAdmin:i,currentUsername:r,currentVoiceRoom:m,activeVoiceUsers:h,collapsedCategories:u,toggleCategory:x,editingItemId:v,setEditingItemId:l,editName:B,setEditName:a,newCategoryName:d,setNewCategoryName:f,newRoomName:g,setNewRoomName:w,newRoomType:R,setNewRoomType:p,activeServerIdForCategory:s,setActiveServerIdForCategory:b,activeCategoryIdForRoom:I,setActiveCategoryIdForRoom:k,handleCreateCategory:$,handleCreateRoom:L,handleRenameCategory:N,handleRenameRoom:z,handleOpenActionMenu:K,handleCreateInvite:U,onOpenServerSettings:q,joinVoiceChat:ee,onRoomSelect:oe,safeUnreadCounts:re,onDMSelect:T,conversations:W,friendsList:D,getDeterministicAvatar:X,allUsers:se,isPttActive:E,remoteVolumes:_,setRemoteVolume:pe,dropTargetChannel:xe,setDropTargetChannel:le,handleAddFriend:ge,handleRemoveFriend:O,handleMoveUserToChannel:ie,handleKickUserFromChannel:de,onViewUserProfile:Se})=>n?e.jsx("div",{style:y.topSection,children:n.filter(H=>H.id===o).map(H=>{const ve=H.owner_username===r||i,Be=ve||H.my_permissions?.is_owner;return e.jsxs("div",{children:[e.jsxs("div",{style:y.serverHeader,children:[e.jsx("h3",{style:{maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:H.name}),e.jsxs("div",{style:{display:"flex",gap:"5px"},children:[e.jsx("button",{style:y.iconBtn,onClick:t(S=>U(S,H),"onClick"),title:"Davet Linki",children:e.jsx(go,{})}),ve&&e.jsx("button",{style:y.iconBtn,onClick:t(S=>{S.stopPropagation(),b(H.id)},"onClick"),title:"Kategori Ekle",children:e.jsx(Ze,{})}),Be&&e.jsx("button",{style:y.iconBtn,onClick:t(S=>{S.stopPropagation(),q&&q(H)},"onClick"),title:"Sunucu AyarlarÄ±",children:e.jsx(ke,{})})]})]}),s===H.id&&e.jsxs("form",{onSubmit:t(S=>$(S,H.id),"onSubmit"),style:y.addCategoryForm,children:[e.jsx("input",{autoFocus:!0,placeholder:"Kategori AdÄ±...","aria-label":"Kategori adÄ±",value:d,onChange:t(S=>f(S.target.value),"onChange"),style:y.addRoomInput}),e.jsxs("div",{style:y.addRoomControls,children:[e.jsx("button",{type:"submit",style:y.addRoomButton,children:"Ekle"}),e.jsx("button",{type:"button",onClick:t(()=>b(null),"onClick"),style:{...y.addRoomButton,background:"#da373c"},children:"X"})]})]}),H.categories&&H.categories.map(S=>e.jsx(fr,{cat:S,server:H,isOwner:ve,isAdmin:i,currentUsername:r,currentVoiceRoom:m,activeVoiceUsers:h,collapsedCategories:u,toggleCategory:x,editingItemId:v,setEditingItemId:l,editName:B,setEditName:a,newRoomName:g,setNewRoomName:w,newRoomType:R,setNewRoomType:p,activeCategoryIdForRoom:I,setActiveCategoryIdForRoom:k,handleCreateRoom:L,handleRenameCategory:N,handleRenameRoom:z,handleOpenActionMenu:K,joinVoiceChat:ee,onRoomSelect:oe,safeUnreadCounts:re,onDMSelect:T,conversations:W,friendsList:D,getDeterministicAvatar:X,allUsers:se,isPttActive:E,remoteVolumes:_,setRemoteVolume:pe,dropTargetChannel:xe,setDropTargetChannel:le,handleAddFriend:ge,handleRemoveFriend:O,handleMoveUserToChannel:ie,handleKickUserFromChannel:de,onViewUserProfile:Se},S.id))]},H.id)})}):null,"ServerPanel"),fr=Q.memo(({cat:n,server:o,isOwner:i,isAdmin:r,currentUsername:m,currentVoiceRoom:h,activeVoiceUsers:u,collapsedCategories:x,toggleCategory:v,editingItemId:l,setEditingItemId:B,editName:a,setEditName:d,newRoomName:f,setNewRoomName:g,newRoomType:w,setNewRoomType:R,activeCategoryIdForRoom:p,setActiveCategoryIdForRoom:s,handleCreateRoom:b,handleRenameCategory:I,handleRenameRoom:k,handleOpenActionMenu:$,joinVoiceChat:L,onRoomSelect:N,safeUnreadCounts:z,onDMSelect:K,conversations:U,friendsList:q,getDeterministicAvatar:ee,allUsers:oe,isPttActive:re,remoteVolumes:T,setRemoteVolume:W,dropTargetChannel:D,setDropTargetChannel:X,handleAddFriend:se,handleRemoveFriend:E,handleMoveUserToChannel:_,handleKickUserFromChannel:pe,onViewUserProfile:xe})=>{const le=x[n.id],ge=l===`cat-${n.id}`;return e.jsxs("div",{style:{marginBottom:5},children:[e.jsxs("div",{style:y.categoryHeader,onClick:t(()=>v(n.id),"onClick"),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[le?e.jsx(mo,{size:9}):e.jsx(fo,{size:9}),ge?e.jsx("form",{onSubmit:t(O=>I(O,n.id),"onSubmit"),onClick:t(O=>O.stopPropagation(),"onClick"),style:{marginLeft:5},children:e.jsx("input",{autoFocus:!0,"aria-label":"Kategori adÄ±nÄ± dÃ¼zenle",value:a,onChange:t(O=>d(O.target.value),"onChange"),onBlur:t(()=>B(null),"onBlur"),style:y.inlineInput})}):e.jsx("span",{style:{marginLeft:5},children:n.name})]}),i&&e.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"5px"},children:[e.jsx("button",{style:y.iconBtn,onClick:t(O=>$(O,"category",n.id,n.name),"onClick"),children:e.jsx(ke,{size:10})}),e.jsx("button",{style:y.iconBtn,onClick:t(O=>{O.stopPropagation(),s(n.id)},"onClick"),children:e.jsx(Ze,{size:10})})]})]}),p===n.id&&e.jsxs("form",{onSubmit:t(O=>b(O,n.id),"onSubmit"),style:{padding:"5px 10px"},children:[e.jsx("input",{autoFocus:!0,placeholder:"Kanal AdÄ±...","aria-label":"Kanal adÄ±",value:f,onChange:t(O=>g(O.target.value),"onChange"),style:y.addRoomInput}),e.jsxs("select",{value:w,onChange:t(O=>R(O.target.value),"onChange"),style:y.channelTypeSelect,children:[e.jsx("option",{value:"text",children:"ðŸ“ Metin"}),e.jsx("option",{value:"voice",children:"ðŸŽ¤ Sesli"}),e.jsx("option",{value:"kanban",children:"ðŸ“‹ Kanban Board"})]}),e.jsxs("div",{style:y.addRoomControls,children:[e.jsx("button",{type:"submit",style:y.addRoomButton,children:"Ekle"}),e.jsx("button",{type:"button",onClick:t(()=>s(null),"onClick"),style:{...y.addRoomButton,background:"#da373c"},children:"X"})]})]}),!le&&n.rooms&&n.rooms.map(O=>e.jsx(hr,{room:O,cat:n,server:o,isOwner:i,isAdmin:r,currentUsername:m,currentVoiceRoom:h,activeVoiceUsers:u,editingItemId:l,setEditingItemId:B,editName:a,setEditName:d,handleRenameRoom:k,handleOpenActionMenu:$,joinVoiceChat:L,onRoomSelect:N,safeUnreadCounts:z,onDMSelect:K,conversations:U,friendsList:q,getDeterministicAvatar:ee,allUsers:oe,isPttActive:re,remoteVolumes:T,setRemoteVolume:W,dropTargetChannel:D,setDropTargetChannel:X,handleAddFriend:se,handleRemoveFriend:E,handleMoveUserToChannel:_,handleKickUserFromChannel:pe,onViewUserProfile:xe},O.id))]})}),hr=Q.memo(({room:n,cat:o,server:i,isOwner:r,isAdmin:m,currentUsername:h,currentVoiceRoom:u,activeVoiceUsers:x,editingItemId:v,setEditingItemId:l,editName:B,setEditName:a,handleRenameRoom:d,handleOpenActionMenu:f,joinVoiceChat:g,onRoomSelect:w,safeUnreadCounts:R,onDMSelect:p,conversations:s,friendsList:b,getDeterministicAvatar:I,allUsers:k,isPttActive:$,remoteVolumes:L,setRemoteVolume:N,dropTargetChannel:z,setDropTargetChannel:K,handleAddFriend:U,handleRemoveFriend:q,handleMoveUserToChannel:ee,handleKickUserFromChannel:oe,onViewUserProfile:re})=>{const T=u===n.slug,W=R[`room-${n.slug}`]||0,D=n.channel_type==="voice",X=v===`room-${n.slug}`,se=D&&x[n.slug]?x[n.slug].length:0;return e.jsxs("div",{className:"channel-wrapper",children:[e.jsxs("div",{className:`channel-item ${D?"voice-channel":"text-channel"} ${T?"active":""} ${z===n.slug?"voice-channel-drop-target":""}`,style:{...y.roomItem,marginLeft:8,backgroundColor:z===n.slug?"rgba(88, 101, 242, 0.2)":T?"rgba(88, 101, 242, 0.15)":"transparent",color:T?"#fff":"#949ba4",borderLeft:z===n.slug||T?"3px solid #5865f2":"3px solid transparent",paddingLeft:T?"5px":"8px",transition:"all 0.2s ease",borderRadius:"6px",margin:"2px 8px",position:"relative",...z===n.slug?{boxShadow:"inset 0 0 12px rgba(88, 101, 242, 0.15), 0 0 8px rgba(88, 101, 242, 0.2)",border:"1px dashed rgba(88, 101, 242, 0.5)"}:{}},onClick:t(()=>{D?g(n.slug):w(n.slug)},"onClick"),onDragOver:t(E=>{D&&(E.preventDefault(),E.dataTransfer.dropEffect="move",K(n.slug))},"onDragOver"),onDragLeave:t(()=>{z===n.slug&&K(null)},"onDragLeave"),onDrop:t(E=>{if(E.preventDefault(),K(null),!(!D||!m))try{const _=JSON.parse(E.dataTransfer.getData("application/json"));_.username&&_.fromChannel&&_.fromChannel!==n.slug&&ee(_.username,_.fromChannel,n.slug)}catch{}},"onDrop"),children:[e.jsxs("div",{style:y.channelContent,children:[D&&e.jsx(ho,{style:{...y.voiceIcon,color:T?"#43b581":"#949ba4",transition:"color 0.2s ease"}}),!D&&e.jsx(ke,{style:{...y.hashtagIcon,fontSize:"0.9em"}}),X?e.jsx("form",{onSubmit:t(E=>d(E,n.slug),"onSubmit"),onClick:t(E=>E.stopPropagation(),"onClick"),style:{flex:1},children:e.jsx("input",{autoFocus:!0,"aria-label":"Kanal adÄ±nÄ± dÃ¼zenle",value:B,onChange:t(E=>a(E.target.value),"onChange"),onBlur:t(()=>l(null),"onBlur"),style:y.inlineInput})}):e.jsxs("span",{style:{...y.channelNameText,paddingLeft:"5px",fontWeight:T?"600":"normal",flex:1,display:"flex",alignItems:"center",gap:"6px"},children:[n.name,n.is_private&&e.jsx("span",{style:{fontSize:"0.7em",color:"#faa61a",border:"1px solid #faa61a",borderRadius:"3px",padding:"1px 4px"},children:"ðŸ”’"}),n.is_nsfw&&e.jsx("span",{style:{fontSize:"0.7em",color:"#f04747",border:"1px solid #f04747",borderRadius:"3px",padding:"1px 4px"},children:"18+"}),n.is_locked&&e.jsx("span",{style:{fontSize:"0.7em",color:"#949ba4",border:"1px solid #949ba4",borderRadius:"3px",padding:"1px 4px"},children:"ðŸ”"}),n.admin_only_chat&&e.jsx("span",{style:{fontSize:"0.7em",color:"#43b581",border:"1px solid #43b581",borderRadius:"3px",padding:"1px 4px"},children:"ðŸ“¢"})]}),D&&e.jsxs("span",{style:{fontSize:"0.75em",color:se>0?"#43b581":"#72767d",fontWeight:"500",marginLeft:"auto",marginRight:"4px"},children:["(",se,"/",n.user_limit>0?n.user_limit:"âˆž",")"]})]}),r&&!X&&e.jsx("div",{style:{display:"flex",gap:"3px",marginLeft:"5px"},children:e.jsx("button",{style:y.iconBtn,onClick:t(E=>f(E,"room",n.slug,n.name),"onClick"),children:e.jsx(ke,{size:12})})}),W>0&&e.jsx("span",{style:y.unreadBadge,children:W})]}),D&&e.jsx("div",{style:{marginLeft:"28px",marginTop:"2px",marginBottom:"2px",padding:"0",position:"relative",zIndex:1},children:e.jsx(gr,{voiceUsers:x,roomName:n.slug,currentUsername:h,remoteVolumes:L,setRemoteVolume:N,isClientInThisChannel:u===n.slug,isPttActive:$,isAdmin:m,voiceChannels:o.rooms.filter(E=>E.is_voice),friendsList:b,getDeterministicAvatar:I,allUsers:k,onUserAction:t((E,_,pe)=>{if(E==="profile")re?.(_);else if(E==="message"||E==="dm"){const xe=s.find(le=>le.participants.some(ge=>ge.username===_));xe&&p(xe.id,_)}else E==="add_friend"?U(_):E==="remove_friend"?q(_):E==="move"&&pe?ee(_,n.slug,pe):E==="kick"&&oe(_,n.slug)},"onUserAction")})})]})}),yr=Q.memo(mr),br=[{key:"payment",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",emoji:"ðŸ’°",title:"ðŸ’° Payment Panel"},{key:"store",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",emoji:"ðŸ›’",title:"ðŸ›’ Store"},{key:"daily",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",emoji:"ðŸŽ",title:"ðŸŽ Daily Rewards"},{key:"api",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",emoji:"ðŸ“Š",title:"ðŸ“Š API Usage"},{key:"export",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",emoji:"ðŸ“¥",title:"ðŸ“¥ Export Jobs"},{key:"announce",gradient:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",emoji:"ðŸ“¢",title:"ðŸ“¢ Scheduled Announcements"},{key:"games",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",emoji:"ðŸŽ®",title:"ðŸŽ® Mini Games"},{key:"projects",gradient:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",emoji:"ðŸ“‚",title:"ðŸ“‚ Projects"},{key:"avatar",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",emoji:"ðŸŽ¨",title:"ðŸŽ¨ Avatar Studio"}],vr=t(n=>({minWidth:"36px",width:"36px",height:"36px",padding:"0",background:n,border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),"btnStyle"),jr=t(n=>{n.target.style.transform="scale(1.1)"},"hoverIn"),kr=t(n=>{n.target.style.transform="scale(1)"},"hoverOut"),Sr=t(({handlers:n})=>{const o={payment:n.onOpenPaymentPanel,store:n.onOpenStoreModal,daily:n.onOpenDailyRewards,api:n.onOpenAPIUsage,export:n.onOpenExportJobs,announce:n.onOpenScheduledAnnouncements,games:n.onOpenMiniGames,projects:n.onOpenProjectCollaboration,avatar:n.onOpenAvatarStudio};return e.jsx("div",{style:{display:"flex",gap:"5px",marginBottom:"10px",padding:"5px",backgroundColor:"#1e1f22",borderRadius:"8px",overflowX:"auto",scrollbarWidth:"thin"},children:br.map(i=>{const r=o[i.key];return r?e.jsx("button",{onClick:r,style:vr(i.gradient),title:i.title,onMouseEnter:jr,onMouseLeave:kr,children:i.emoji},i.key):null})})},"QuickAccessButtons"),wr=Q.memo(Sr),Cr=t(({isInVoice:n,isConnecting:o,isMuted:i,isDeafened:r,isVideoEnabled:m,isScreenSharing:h,toggleVideo:u,toggleScreenShare:x,toggleMute:v,toggleDeafened:l,leaveVoiceChat:B,voiceRoomDisplayName:a,getAvatarUrl:d,currentUserProfile:f,currentUsername:g,getDeterministicAvatar:w})=>{if(!n&&!o)return null;const R=t((p,s="#23a559",b="#2b2d31")=>({flex:1,background:p?s:b,border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"}),"ctrlBtn");return e.jsxs("div",{style:{padding:"8px",backgroundColor:"#232428",borderTop:"1px solid #1e1f22",borderBottom:"1px solid #1e1f22"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",padding:"0 4px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("img",{src:d(f?.avatar,g),alt:g,style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid #23a559",boxShadow:"0 0 8px rgba(35, 165, 89, 0.5)"},onError:t(p=>{p.target.onerror=null,p.target.src=w(g)},"onError")}),e.jsx("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:i?"#f04747":"#23a559",border:"2px solid #232428",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px"},children:i?"ðŸ”‡":"ðŸŽ¤"})]}),e.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[e.jsx("div",{style:{color:o?"#eba61e":"#23a559",fontWeight:"bold",fontSize:"0.8em"},children:o?"BaÄŸlanÄ±lÄ±yor...":"Ses BaÄŸlandÄ±"}),e.jsxs("div",{style:{fontSize:"0.7em",color:"#b9bbbe",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[a," / Genel"]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"5px"},children:[e.jsx("button",{onClick:t(p=>{p.stopPropagation(),u()},"onClick"),style:R(m),title:m?"KamerayÄ± Kapat":"KamerayÄ± AÃ§",children:m?e.jsx(yo,{size:16}):e.jsx(bo,{size:16})}),e.jsx("button",{onClick:t(p=>{p.stopPropagation(),x()},"onClick"),style:R(h),title:h?"PaylaÅŸÄ±mÄ± Durdur":"Ekran PaylaÅŸ",children:e.jsx(vo,{size:16})}),e.jsx("button",{onClick:t(p=>{p.stopPropagation(),v()},"onClick"),style:R(i,"#da373c"),title:i?"Sesi AÃ§":"Sessize Al",children:i?e.jsx(jo,{size:16}):e.jsx(ko,{size:16})}),e.jsx("button",{onClick:t(p=>{p.stopPropagation(),l()},"onClick"),style:R(r,"#da373c"),title:r?"Duy":"SaÄŸÄ±rlaÅŸtÄ±r",children:r?e.jsx(So,{size:18}):e.jsx(wo,{size:16})}),e.jsx("button",{onClick:t(p=>{p.stopPropagation(),window.dispatchEvent(new CustomEvent("openVoiceSettings"))},"onClick"),style:R(!1),title:"Ses AyarlarÄ±",children:e.jsx(ke,{size:16})}),e.jsx("button",{onClick:t(p=>{p.stopPropagation(),typeof B=="function"&&B()},"onClick"),style:R(!0,"#da373c"),title:"Sesli Kanaldan Ã‡Ä±k",children:e.jsx(Co,{size:16})})]})]})},"VoiceControlBar"),zr=Q.memo(Cr),Ir=t(({onClick:n})=>e.jsxs("div",{onClick:n,style:{backgroundColor:"#1e1f22",padding:"10px 14px",margin:"0 8px 8px 8px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid transparent",background:"linear-gradient(135deg, rgba(235, 69, 158, 0.06) 0%, rgba(88, 101, 242, 0.06) 100%)",overflow:"hidden",flexShrink:0,minHeight:"44px"},onMouseEnter:t(o=>{o.currentTarget.style.background="linear-gradient(135deg, rgba(235, 69, 158, 0.12) 0%, rgba(88, 101, 242, 0.12) 100%)",o.currentTarget.style.borderColor="#eb459e",o.currentTarget.style.transform="scale(1.01)"},"onMouseEnter"),onMouseLeave:t(o=>{o.currentTarget.style.background="linear-gradient(135deg, rgba(235, 69, 158, 0.06) 0%, rgba(88, 101, 242, 0.06) 100%)",o.currentTarget.style.borderColor="transparent",o.currentTarget.style.transform="scale(1)"},"onMouseLeave"),title:"GeliÅŸtiriciye Destek Ol",children:[e.jsx(ut,{style:{color:"#eb459e",fontSize:"18px",flexShrink:0,animation:"heartPulse 2s ease-in-out infinite"}}),e.jsx("div",{style:{flex:1,textAlign:"left",overflow:"hidden"},children:e.jsx("div",{style:{color:"white",fontWeight:"600",fontSize:"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Developer'Ä± Destekle"})}),e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(235, 69, 158, 0.2) 0%, rgba(88, 101, 242, 0.2) 100%)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",color:"#eb459e",fontWeight:"bold",flexShrink:0},children:"â˜•"})]}),"SupportButton"),Rr=Q.memo(Ir),Br=t(({onClose:n,isAdmin:o,onOpenWebhooks:i,onOpenModerator:r,onExportData:m,onShowAuditLogs:h,onShowReports:u})=>{const x=[{icon:zo,label:"ModeratÃ¶r AraÃ§larÄ±",onClick:r,color:"#f04747"},{icon:Io,label:"Webhook YÃ¶netimi",onClick:i,color:"#5865f2"},{icon:gt,label:"Audit LoglarÄ±",onClick:h,color:"#faa61a"},{icon:Ro,label:"RaporlarÄ± GÃ¶rÃ¼ntÃ¼le",onClick:u,color:"#f04747"},{icon:Bo,label:"Veri DÄ±ÅŸa Aktar",onClick:m,color:"#43b581"},{icon:Do,label:"Sunucu Ä°statistikleri",onClick:t(()=>window.open("/analytics","_blank"),"onClick"),color:"#f0b132"}];return e.jsx("div",{style:Le.overlay,onClick:n,children:e.jsxs("div",{style:Le.menu,onClick:t(v=>v.stopPropagation(),"onClick"),children:[e.jsx("h3",{style:Le.title,children:"âš¡ HÄ±zlÄ± Ä°ÅŸlemler"}),e.jsx("div",{style:Le.actions,children:x.map((v,l)=>e.jsxs("button",{onClick:t(()=>{v.onClick?.(),n()},"onClick"),style:{...Le.actionButton,backgroundColor:v.color},children:[e.jsx(v.icon,{style:{fontSize:"1.2em"}}),e.jsx("span",{children:v.label})]},l))})]})})},"QuickActionsMenu"),Le={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},menu:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",width:"90%",maxWidth:"400px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},title:{color:"white",margin:"0 0 15px 0",fontSize:"1.2em",textAlign:"center"},actions:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},actionButton:{padding:"15px 10px",border:"none",borderRadius:"8px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontSize:"0.9em",transition:"transform 0.2s",":hover":{transform:"scale(1.05)"}}},Dr=Q.memo(Br),Tr=t(({onClose:n,fetchWithAuth:o,apiBaseUrl:i})=>{const[r,m]=c.useState([]),[h,u]=c.useState(!0),[x,v]=c.useState("all");c.useEffect(()=>{l()},[x]);const l=t(async()=>{try{const a=await o(`${i}/audit/logs/?filter=${x}`);if(a.ok){const d=await a.json();m(d.logs||[])}}catch{}finally{u(!1)}},"loadLogs"),B=t(a=>a.includes("delete")||a.includes("ban")?"#f04747":a.includes("create")||a.includes("add")?"#43b581":a.includes("update")||a.includes("edit")?"#faa61a":"#5865f2","getActionColor");return e.jsx("div",{style:V.overlay,onClick:n,children:e.jsxs("div",{style:V.modal,onClick:t(a=>a.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:V.header,children:[e.jsxs("h2",{style:V.title,children:[e.jsx(gt,{})," Audit LoglarÄ±"]}),e.jsx("button",{onClick:n,style:V.closeButton,children:e.jsx(Re,{})})]}),e.jsxs("div",{style:V.filters,children:[e.jsx("button",{onClick:t(()=>v("all"),"onClick"),style:{...V.filterButton,backgroundColor:x==="all"?"#5865f2":"#40444b"},children:"TÃ¼mÃ¼"}),e.jsx("button",{onClick:t(()=>v("moderation"),"onClick"),style:{...V.filterButton,backgroundColor:x==="moderation"?"#5865f2":"#40444b"},children:"Moderasyon"}),e.jsx("button",{onClick:t(()=>v("server"),"onClick"),style:{...V.filterButton,backgroundColor:x==="server"?"#5865f2":"#40444b"},children:"Sunucu"}),e.jsx("button",{onClick:t(()=>v("user"),"onClick"),style:{...V.filterButton,backgroundColor:x==="user"?"#5865f2":"#40444b"},children:"KullanÄ±cÄ±"})]}),e.jsx("div",{style:V.content,children:h?e.jsx("div",{style:V.loading,children:"YÃ¼kleniyor..."}):r.length===0?e.jsx("div",{style:V.empty,children:"Log bulunamadÄ±"}):e.jsx("div",{style:V.logList,children:r.map((a,d)=>e.jsxs("div",{style:V.logItem,children:[e.jsx("div",{style:{...V.actionBadge,backgroundColor:B(a.action)},children:a.action}),e.jsxs("div",{style:V.logDetails,children:[e.jsx("div",{style:V.logUser,children:a.user}),e.jsx("div",{style:V.logDescription,children:a.description}),e.jsx("div",{style:V.logTime,children:new Date(a.timestamp).toLocaleString("tr-TR")})]})]},d))})})]})})},"AuditLogViewer"),V={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},filters:{display:"flex",gap:"8px",padding:"15px",borderBottom:"1px solid #40444b"},filterButton:{padding:"8px 15px",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",fontSize:"0.85em"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},logList:{display:"flex",flexDirection:"column",gap:"10px"},logItem:{backgroundColor:"#40444b",padding:"12px",borderRadius:"8px",display:"flex",gap:"12px"},actionBadge:{padding:"4px 8px",borderRadius:"4px",color:"white",fontWeight:"bold",fontSize:"0.75em",height:"fit-content",textTransform:"uppercase"},logDetails:{flex:1},logUser:{color:"#5865f2",fontWeight:"bold",marginBottom:"4px"},logDescription:{color:"#dcddde",fontSize:"0.9em",marginBottom:"4px"},logTime:{color:"#72767d",fontSize:"0.75em"}},Pr=t(({onClose:n,fetchWithAuth:o,apiBaseUrl:i})=>{const[r,m]=c.useState([]),[h,u]=c.useState(!0);c.useEffect(()=>{x()},[]);const x=t(async()=>{try{const l=await o(`${i}/reports/list/`);if(l.ok){const B=await l.json();m(B.reports||[])}}catch{}finally{u(!1)}},"loadReports"),v=t(async(l,B)=>{try{(await o(`${i}/reports/handle/${l}/`,{method:"POST",body:JSON.stringify({action:B})})).ok&&(m(d=>d.filter(f=>f.id!==l)),P.success(`âœ… Rapor ${B==="approve"?"onaylandÄ±":"reddedildi"}`))}catch{}},"handleReport");return e.jsx("div",{style:G.overlay,onClick:n,children:e.jsxs("div",{style:G.modal,onClick:t(l=>l.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:G.header,children:[e.jsxs("h2",{style:G.title,children:[e.jsx(mt,{})," Raporlar (",r.length,")"]}),e.jsx("button",{onClick:n,style:G.closeButton,children:e.jsx(Re,{})})]}),e.jsx("div",{style:G.content,children:h?e.jsx("div",{style:G.loading,children:"YÃ¼kleniyor..."}):r.length===0?e.jsx("div",{style:G.empty,children:"Bekleyen rapor yok âœ…"}):e.jsx("div",{style:G.reportList,children:r.map(l=>e.jsxs("div",{style:G.reportItem,children:[e.jsxs("div",{style:G.reportHeader,children:[e.jsxs("span",{style:G.reporter,children:["Raporlayan: ",l.reporter]}),e.jsx("span",{style:G.timestamp,children:new Date(l.created_at).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:G.reportContent,children:[e.jsxs("div",{style:G.reportedUser,children:["Raporlanan: ",l.reported_user]}),e.jsxs("div",{style:G.reason,children:["Sebep: ",l.reason]}),l.message_preview&&e.jsxs("div",{style:G.messagePreview,children:['"',l.message_preview,'"']})]}),e.jsxs("div",{style:G.actions,children:[e.jsxs("button",{onClick:t(()=>v(l.id,"approve"),"onClick"),style:G.approveButton,children:[e.jsx(ft,{})," Onayla"]}),e.jsxs("button",{onClick:t(()=>v(l.id,"reject"),"onClick"),style:G.rejectButton,children:[e.jsx(Oe,{})," Reddet"]})]})]},l.id))})})]})})},"ReportsViewer"),G={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#43b581",padding:"40px",fontSize:"1.2em"},reportList:{display:"flex",flexDirection:"column",gap:"15px"},reportItem:{backgroundColor:"#40444b",padding:"15px",borderRadius:"8px",borderLeft:"4px solid #f04747"},reportHeader:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},reporter:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},reportContent:{marginBottom:"15px"},reportedUser:{color:"#f04747",fontWeight:"bold",marginBottom:"5px"},reason:{color:"#dcddde",marginBottom:"8px",fontSize:"0.9em"},messagePreview:{backgroundColor:"#2b2d31",padding:"10px",borderRadius:"4px",color:"#b9bbbe",fontSize:"0.85em",fontStyle:"italic",borderLeft:"3px solid #5865f2"},actions:{display:"flex",gap:"10px"},approveButton:{flex:1,padding:"10px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},rejectButton:{flex:1,padding:"10px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"}},$r=Q.memo(Pr),Lr=t(({x:n,y:o,server:i,isOwner:r,onClose:m,onLeaveServer:h,onServerSettings:u,onMuteServer:x,onUnmuteServer:v,onMoveUp:l,onMoveDown:B,onCopyInvite:a,onDeleteServer:d,onChangeIcon:f,onChangePrivacy:g,canMoveUp:w=!0,canMoveDown:R=!0,isMuted:p=!1})=>{const s=c.useRef(null);c.useEffect(()=>{const k=t(L=>{s.current&&!s.current.contains(L.target)&&m()},"handleClickOutside"),$=t(L=>{L.key==="Escape"&&m()},"handleEscape");return document.addEventListener("mousedown",k),document.addEventListener("keydown",$),()=>{document.removeEventListener("mousedown",k),document.removeEventListener("keydown",$)}},[m]),c.useEffect(()=>{if(s.current){const k=s.current.getBoundingClientRect(),$=window.innerWidth,L=window.innerHeight;let N=n,z=o;k.right>$&&(N=$-k.width-10),k.bottom>L&&(z=L-k.height-10),s.current.style.left=`${N}px`,s.current.style.top=`${z}px`}},[n,o]);const b=t(k=>{k(),m()},"handleAction"),I=[{icon:Me,label:"Davet Linki Kopyala",action:a,show:!0,color:"#5865f2"},{divider:!0,show:!0},{icon:To,label:"Sunucu Ä°konunu DeÄŸiÅŸtir",action:f,show:r,color:"#faa61a"},{icon:i.is_public?Po:$o,label:i.is_public?"Ã–zel Yap":"Herkese AÃ§Ä±k Yap",action:g,show:r,color:i.is_public?"#ed4245":"#43b581"},{divider:!0,show:r},{icon:p?Lo:Fo,label:p?"Bildirimleri AÃ§":"Bildirimleri Kapat",action:p?v:x,show:!0},{divider:!0,show:!0},{icon:Eo,label:"YukarÄ± TaÅŸÄ±",action:l,show:w},{icon:Mo,label:"AÅŸaÄŸÄ± TaÅŸÄ±",action:B,show:R},{divider:!0,show:w||R},{icon:ke,label:"Sunucu AyarlarÄ±",action:u,show:r},{icon:Oe,label:"Sunucuyu Sil",action:d,show:r,danger:!0},{divider:!0,show:!0},{icon:Oo,label:"Sunucudan AyrÄ±l",action:h,show:!r,danger:!0}];return e.jsxs("div",{ref:s,className:"server-context-menu",style:Ie.menu,children:[e.jsx("div",{style:Ie.serverHeader,children:e.jsx("strong",{children:i.name})}),I.filter(k=>k.show).map((k,$)=>{if(k.divider)return e.jsx("div",{style:Ie.divider},`divider-${$}`);const L=k.icon;return e.jsxs("button",{onClick:t(()=>b(k.action),"onClick"),style:{...Ie.menuItem,...k.danger&&Ie.dangerItem,...k.color&&{color:k.color}},children:[e.jsx(L,{style:Ie.icon}),e.jsx("span",{children:k.label})]},$)})]})},"ServerContextMenu"),Ie={menu:{position:"fixed",backgroundColor:"#111214",borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)",minWidth:"220px",padding:"6px",zIndex:1e5,animation:"contextMenuFadeIn 0.1s ease"},serverHeader:{padding:"8px 12px",color:"#fff",fontSize:"14px",borderBottom:"1px solid #2b2d31",marginBottom:"4px"},menuItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"8px 12px",background:"none",border:"none",color:"#b5bac1",fontSize:"14px",cursor:"pointer",borderRadius:"2px",transition:"all 0.15s",textAlign:"left"},dangerItem:{color:"#f23f43"},icon:{fontSize:"16px",flexShrink:0},divider:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 0"}};if(!document.getElementById("server-context-menu-styles")){const n=document.createElement("style");n.id="server-context-menu-styles",n.textContent=`
        @keyframes contextMenuFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Menu button hover effect */
        .server-context-menu button:hover {
            background-color: #5865f2 !important;
            color: #fff !important;
        }
        
        .server-context-menu button:active {
            transform: scale(0.98);
        }
        
        /* Menu container class */
        .server-context-menu {
            user-select: none;
        }
    `,document.head.appendChild(n)}const Fr=Q.memo(Lr),ct=t(({isOpen:n,onClose:o,onConfirm:i,title:r="Emin misiniz?",message:m="Bu iÅŸlemi gerÃ§ekleÅŸtirmek istediÄŸinizden emin misiniz?",confirmText:h="Evet",cancelText:u="HayÄ±r",type:x="warning",requireTextConfirmation:v=!1,confirmationText:l="",inputPlaceholder:B="Onaylamak iÃ§in buraya yazÄ±n...",dangerDetails:a=null})=>{const[d,f]=c.useState(""),[g,w]=c.useState(!1);if(c.useEffect(()=>{n?(f(""),w(!1),document.body.style.overflow="hidden"):document.body.style.overflow="auto";const $=t(L=>{L.key==="Escape"&&!g&&o()},"handleEsc");return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$),document.body.style.overflow="auto"}},[n,o,g]),!n)return null;const R=t(async()=>{if(!(v&&d!==l)){w(!0);try{await i(),o()}catch{}finally{w(!1)}}},"handleConfirm"),p=t($=>{$.target===$.currentTarget&&!g&&o()},"handleBackdropClick"),s={warning:{icon:e.jsx(mt,{}),color:"#f39c12",gradient:"linear-gradient(135deg, #f39c12 0%, #e67e22 100%)"},danger:{icon:e.jsx(Oe,{}),color:"#e74c3c",gradient:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)"},info:{icon:e.jsx(ft,{}),color:"#3498db",gradient:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)"}},b=s[x]||s.warning,I=!v||d===l,k=e.jsx("div",{style:J.overlay,onClick:p,children:e.jsxs("div",{style:J.modal,children:[e.jsxs("div",{style:{...J.header,background:b.gradient},children:[e.jsx("div",{style:J.headerIcon,children:b.icon}),e.jsx("h2",{style:J.title,children:r}),e.jsx("button",{onClick:o,disabled:g,style:J.closeButton,title:"Kapat",children:e.jsx(Re,{})})]}),e.jsxs("div",{style:J.body,children:[e.jsx("p",{style:J.message,children:m}),a&&a.length>0&&e.jsxs("div",{style:J.dangerBox,children:[e.jsx("div",{style:J.dangerHeader,children:"âš ï¸ Bu iÅŸlem:"}),e.jsx("ul",{style:J.dangerList,children:a.map(($,L)=>e.jsxs("li",{style:J.dangerItem,children:["â€¢ ",$]},L))}),e.jsx("div",{style:J.dangerFooter,children:"GERÄ° ALINAMAZ!"})]}),v&&e.jsxs("div",{style:J.inputContainer,children:[e.jsxs("label",{style:J.inputLabel,children:["Devam etmek iÃ§in ",e.jsxs("strong",{children:['"',l,'"']})," yazÄ±n:"]}),e.jsx("input",{type:"text",value:d,onChange:t($=>f($.target.value),"onChange"),placeholder:B,style:{...J.input,borderColor:d&&d!==l?"#e74c3c":"#4e5058"},disabled:g,autoFocus:!0}),d&&d!==l&&e.jsx("div",{style:J.inputError,children:"Metin eÅŸleÅŸmiyor"})]})]}),e.jsxs("div",{style:J.footer,children:[e.jsx("button",{onClick:o,disabled:g,style:J.cancelButton,children:u}),e.jsx("button",{onClick:R,disabled:!I||g,style:{...J.confirmButton,background:I?b.gradient:"#4e5058",cursor:I&&!g?"pointer":"not-allowed",opacity:I&&!g?1:.6},children:g?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:J.spinner})," Ä°ÅŸleniyor..."]}):h})]})]})});return ne.createPortal(k,document.body)},"ConfirmModal"),J={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px",animation:"fadeIn 0.2s ease-out"},modal:{backgroundColor:"#2f3136",borderRadius:"12px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",animation:"slideUp 0.3s ease-out",overflow:"hidden"},header:{padding:"20px",display:"flex",alignItems:"center",gap:"12px",position:"relative"},headerIcon:{fontSize:"24px",color:"white",animation:"pulse 2s ease-in-out infinite"},title:{margin:0,fontSize:"20px",fontWeight:"bold",color:"white",flex:1},closeButton:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"6px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",transition:"all 0.2s",fontSize:"16px"},body:{padding:"24px"},message:{margin:0,fontSize:"15px",lineHeight:"1.6",color:"#dcddde",marginBottom:"16px"},dangerBox:{backgroundColor:"rgba(231, 76, 60, 0.1)",border:"2px solid rgba(231, 76, 60, 0.3)",borderRadius:"8px",padding:"16px",marginTop:"16px"},dangerHeader:{fontSize:"14px",fontWeight:"bold",color:"#e74c3c",marginBottom:"8px"},dangerList:{margin:"8px 0",padding:"0 0 0 12px",listStyle:"none",color:"#dcddde"},dangerItem:{fontSize:"13px",lineHeight:"1.8",color:"#dcddde"},dangerFooter:{fontSize:"14px",fontWeight:"bold",color:"#e74c3c",marginTop:"12px",textAlign:"center",padding:"8px",backgroundColor:"rgba(231, 76, 60, 0.2)",borderRadius:"6px"},inputContainer:{marginTop:"20px"},inputLabel:{display:"block",fontSize:"14px",color:"#dcddde",marginBottom:"8px"},input:{width:"100%",padding:"12px",backgroundColor:"#202225",border:"2px solid #4e5058",borderRadius:"6px",color:"#dcddde",fontSize:"14px",outline:"none",transition:"border-color 0.2s",boxSizing:"border-box"},inputError:{fontSize:"12px",color:"#e74c3c",marginTop:"6px"},footer:{padding:"16px 24px",backgroundColor:"#2b2d31",display:"flex",gap:"12px",justifyContent:"flex-end"},cancelButton:{padding:"10px 24px",backgroundColor:"transparent",border:"2px solid #4e5058",borderRadius:"6px",color:"#dcddde",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},confirmButton:{padding:"10px 24px",border:"none",borderRadius:"6px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},spinner:{width:"14px",height:"14px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 0.6s linear infinite",display:"inline-block"}},yt=document.createElement("style");yt.textContent=`
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }
  
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
`;document.head.appendChild(yt);const Er=t(({isOpen:n,onClose:o,publicServers:i,onJoinServer:r,fetchWithAuth:m,apiUrl:h})=>{const[u,x]=c.useState(""),v=t(async a=>{if(a.preventDefault(),!!u.trim())try{const d=await m(`${h}/invites/join/`,{method:"POST",body:JSON.stringify({code:u})}),f=await d.json();d.ok&&(x(""),o(),P.success(`âœ… "${f.server_name}" sunucusuna katÄ±ldÄ±n!`))}catch{}},"handleJoinViaCode");if(!n)return null;const{overlayProps:l,dialogProps:B}=Qe({onClose:o,label:"Sunucuya KatÄ±l"});return ne.createPortal(e.jsx("div",{style:{...y.modalOverlay,display:"flex",justifyContent:"center",alignItems:"center"},...l,children:e.jsxs("div",{style:{...y.selectionModalContent,width:"600px",maxWidth:"90vw",maxHeight:"80vh",overflowY:"auto"},...B,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:15,borderBottom:"1px solid #1e1f22"},children:[e.jsx("h3",{style:{color:"white",margin:0,fontSize:"1.5em"},children:"ðŸŒ Sunucuya KatÄ±l"}),e.jsx(Re,{style:{cursor:"pointer",color:"#b9bbbe",fontSize:"1.3em"},onClick:o})]}),e.jsxs("div",{style:{backgroundColor:"#202225",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("p",{style:{color:"#b9bbbe",fontSize:"0.9em",marginTop:0},children:"Elinizde bir davet kodu veya linki varsa aÅŸaÄŸÄ±ya yapÄ±ÅŸtÄ±rÄ±n."}),e.jsxs("form",{onSubmit:v,style:{display:"flex",gap:"10px"},children:[e.jsx("input",{value:u,onChange:t(a=>x(a.target.value),"onChange"),"aria-label":"Davet kodu",placeholder:"https://www.pawscord.com/invite/...",style:{flex:1,padding:"10px",borderRadius:"4px",border:"1px solid #1e1f22",backgroundColor:"#313338",color:"white",outline:"none"}}),e.jsx("button",{type:"submit",style:{backgroundColor:"#5865f2",color:"white",border:"none",borderRadius:"4px",padding:"0 20px",fontWeight:"bold",cursor:"pointer"},children:"KatÄ±l"})]})]}),e.jsxs("h4",{style:{textAlign:"left",color:"#dbdee1",borderBottom:"1px solid #4f545c",paddingBottom:"5px",marginBottom:"10px"},children:[e.jsx(xt,{style:{marginRight:8}})," TopluluklarÄ± KeÅŸfet"]}),i.length===0?e.jsx("p",{style:{color:"#b9bbbe",fontStyle:"italic"},children:"Åžu an katÄ±labileceÄŸin halka aÃ§Ä±k sunucu yok."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:i.map(a=>e.jsxs("div",{style:{backgroundColor:"#2b2d31",padding:"10px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #1f2023"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.icon?e.jsx("img",{src:`https://www.pawscord.com${a.icon}`,alt:`${a.name} sunucu ikonu`,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white"},children:a.name.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{color:"white",fontWeight:"bold"},children:a.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"0.8em"},children:[a.member_count," Ãœye â€¢ Kurucu: ",a.owner]})]})]}),e.jsx("button",{onClick:t(()=>r(a.id),"onClick"),style:{backgroundColor:"#23a559",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"KatÄ±l"})]},a.id))})]})}),document.body)},"DiscoveryModal"),Mr=t(({inviteToServerModal:n,servers:o,onSendInvite:i,onClose:r})=>{if(!n||!n.isOpen)return null;const{overlayProps:m,dialogProps:h}=Qe({onClose:r,label:"Sunucuya Davet Et"});return ne.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999999},...m,children:e.jsxs("div",{...h,style:{backgroundColor:"#2b2d31",borderRadius:"12px",width:"400px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #3f4147",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#f2f3f5",margin:0,fontSize:"18px"},children:"ðŸŽ« Sunucuya Davet Et"}),e.jsxs("p",{style:{color:"#b9bbbe",margin:"8px 0 0",fontSize:"14px"},children:[e.jsx("strong",{children:n.username})," kullanÄ±cÄ±sÄ±nÄ± hangi sunucuya davet etmek istiyorsunuz?"]})]}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"12px"},children:o.map(u=>e.jsxs("div",{onClick:t(()=>i(u.id,n.username),"onClick"),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"rgba(255,255,255,0.02)",marginBottom:"8px"},onMouseEnter:t(x=>{x.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.2)"},"onMouseEnter"),onMouseLeave:t(x=>{x.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},"onMouseLeave"),children:[u.icon?e.jsx("img",{src:u.icon,alt:u.name,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white",fontSize:"16px"},children:u.name?.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{color:"#f2f3f5",fontWeight:"600"},children:u.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"12px"},children:[u.member_count||u.categories?.length||0," Ã¼ye"]})]}),e.jsx("div",{style:{color:"#5865f2",fontSize:"20px"},children:"â†’"})]},u.id))}),e.jsx("div",{style:{padding:"16px 20px",borderTop:"1px solid #3f4147",textAlign:"center"},children:e.jsx("button",{onClick:r,style:{backgroundColor:"#4f545c",color:"#f2f3f5",border:"none",padding:"10px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"600"},children:"Ä°ptal"})})]})}),document.body)},"InviteToServerModal"),Or=t(({showDiscovery:n,setShowDiscovery:o,publicServers:i,handleJoinServer:r,handleJoinViaCode:m,showInviteModal:h,setShowInviteModal:u,inviteModalServer:x,setInviteModalServer:v,fetchWithAuth:l,apiUrl:B,apiBaseUrl:a,currentUsername:d,showSavedMessages:f,setShowSavedMessages:g,showScheduledMessages:w,setShowScheduledMessages:R,actualCurrentRoom:p,currentConversationId:s,showWebhooks:b,setShowWebhooks:I,selectedServerId:k,showModTools:$,setShowModTools:L,showQuickActions:N,setShowQuickActions:z,setShowAuditLogs:K,setShowReports:U,setShowVanityURL:q,setShowAutoResponder:ee,showAuditLogs:oe,showReports:re,showVanityURL:T,showAutoResponder:W,serverContextMenu:D,setServerContextMenu:X,handleLeaveServer:se,onOpenServerSettings:E,handleMoveServer:_,handleCopyServerInvite:pe,handleChangeServerIcon:xe,handleChangeServerPrivacy:le,mutedServers:ge,setMutedServers:O,servers:ie,deleteServerModal:de,setDeleteServerModal:Se,leaveServerModal:H,setLeaveServerModal:ve,executeLeaveServer:Be,setSelectedServerId:S,onWelcomeClick:C,dmContextMenu:M,setDmContextMenu:Y,getAvatarUrl:te,onlineUsers:ce,onDMSelect:ye,handleViewProfile:Ne,handleInviteToServer:Ae,handlePinConversation:_e,handleMuteUser:Fe,handleHideDM:De,handleClearDM:Te,handleBlockUser:Ke,inviteToServerModal:We,setInviteToServerModal:Pe,handleSendServerInvite:He,showChannelSettings:je,setShowChannelSettings:be,selectedRoom:ze,setSelectedRoom:Ee})=>e.jsxs(e.Fragment,{children:[e.jsx(Er,{isOpen:n,onClose:t(()=>o(!1),"onClose"),publicServers:i,onJoinServer:r,onJoinViaCode:m}),h&&x&&e.jsx(Ko,{onClose:t(()=>{u(!1),v(null)},"onClose"),server:x,fetchWithAuth:l,apiBaseUrl:B,currentUser:d}),f&&ne.createPortal(e.jsx(Wo,{type:f,onClose:t(()=>g(null),"onClose"),fetchWithAuth:l,apiBaseUrl:a}),document.body),w&&ne.createPortal(e.jsx(Ho,{room:p,conversation:s,onClose:t(()=>R(!1),"onClose"),fetchWithAuth:l,apiBaseUrl:a}),document.body),b&&ne.createPortal(e.jsx(Jo,{serverId:k,onClose:t(()=>I(!1),"onClose"),fetchWithAuth:l,apiBaseUrl:a}),document.body),$&&ne.createPortal(e.jsx(Yo,{serverId:k,onClose:t(()=>L(!1),"onClose"),fetchWithAuth:l,apiBaseUrl:a}),document.body),N&&ne.createPortal(e.jsx(Dr,{onClose:t(()=>z(!1),"onClose"),onOpenWebhooks:t(()=>{z(!1),I(!0)},"onOpenWebhooks"),onOpenAuditLogs:t(()=>{z(!1),K(!0)},"onOpenAuditLogs"),onOpenReports:t(()=>{z(!1),U(!0)},"onOpenReports"),onOpenVanityURL:t(()=>{z(!1),q(!0)},"onOpenVanityURL"),onOpenAutoResponder:t(()=>{z(!1),ee(!0)},"onOpenAutoResponder")}),document.body),oe&&ne.createPortal(e.jsx(Tr,{serverId:k,onClose:t(()=>K(!1),"onClose"),fetchWithAuth:l,apiBaseUrl:a}),document.body),re&&ne.createPortal(e.jsx($r,{serverId:k,onClose:t(()=>U(!1),"onClose"),fetchWithAuth:l,apiBaseUrl:a}),document.body),T&&ne.createPortal(e.jsx(Vo,{serverId:k,onClose:t(()=>q(!1),"onClose"),fetchWithAuth:l,apiBaseUrl:a}),document.body),W&&ne.createPortal(e.jsx(Go,{serverId:k,onClose:t(()=>ee(!1),"onClose"),fetchWithAuth:l,apiBaseUrl:a}),document.body),D&&ne.createPortal(e.jsx(Fr,{x:D.x,y:D.y,server:D.server,isOwner:D.isOwner,onClose:t(()=>X(null),"onClose"),onLeaveServer:t(()=>se(D.server.id),"onLeaveServer"),onServerSettings:t(()=>{E(D.server),X(null)},"onServerSettings"),onMuteServer:t(()=>{const ue=D.server.id;O(me=>{const ae=[...me,ue];return localStorage.setItem("mutedServers",JSON.stringify(ae)),ae}),X(null)},"onMuteServer"),onUnmuteServer:t(()=>{const ue=D.server.id;O(me=>{const ae=me.filter(we=>we!==ue);return localStorage.setItem("mutedServers",JSON.stringify(ae)),ae}),X(null)},"onUnmuteServer"),onMoveUp:t(()=>_(D.server.id,"up"),"onMoveUp"),onMoveDown:t(()=>_(D.server.id,"down"),"onMoveDown"),onCopyInvite:t(()=>pe(D.server.id),"onCopyInvite"),onChangeIcon:t(()=>{xe(D.server.id),X(null)},"onChangeIcon"),onChangePrivacy:t(()=>{le(D.server.id),X(null)},"onChangePrivacy"),onDeleteServer:t(()=>{Se({server:D.server,isOpen:!0}),X(null)},"onDeleteServer"),canMoveUp:ie&&ie.findIndex(ue=>ue.id===D.server.id)>0,canMoveDown:ie&&ie.findIndex(ue=>ue.id===D.server.id)<ie.length-1,isMuted:ge.includes(D.server.id)}),document.body),M&&e.jsx(Nr,{dmContextMenu:M,currentUsername:d,getAvatarUrl:te,onlineUsers:ce,onDMSelect:ye,setDmContextMenu:Y,handleViewProfile:Ne,handleInviteToServer:Ae,handlePinConversation:_e,handleMuteUser:Fe,handleHideDM:De,handleClearDM:Te,handleBlockUser:Ke}),de?.isOpen&&e.jsx(ct,{isOpen:de.isOpen,onClose:t(()=>Se(null),"onClose"),onConfirm:t(async()=>{const ue=de.server.id,me=de.server.name;try{const ae=await l(`${B}/servers/${ue}/delete/`,{method:"DELETE"});if(ae.ok)P.success(`"${me}" sunucusu baÅŸarÄ±yla silindi!`,5e3),S("home"),C();else{const we=await ae.json();P.error(`Hata: ${we.error||"Sunucu silinirken bir hata oluÅŸtu"}`)}}catch{P.error("Sunucu silinirken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}},"onConfirm"),title:"âš ï¸ Sunucuyu Sil",message:`"${de.server.name}" sunucusunu KALÄ°CÄ° OLARAK silmek Ã¼zeresiniz!`,confirmText:"Sunucuyu Sil",cancelText:"Ä°ptal",type:"danger",requireTextConfirmation:!0,confirmationText:de.server.name,inputPlaceholder:`Onaylamak iÃ§in "${de.server.name}" yazÄ±n...`,dangerDetails:["Sunucudaki TÃœM kanallar silinecek","Sunucudaki TÃœM mesajlar silinecek","TÃœM Ã¼yeler atÄ±lacak","TÃ¼m roller ve ayarlar silinecek"]}),H?.isOpen&&e.jsx(ct,{isOpen:H.isOpen,onClose:t(()=>ve(null),"onClose"),onConfirm:t(async()=>{await Be(H.server.id)},"onConfirm"),title:"ðŸšª Sunucudan AyrÄ±l",message:`"${H.server.name}" sunucusundan ayrÄ±lmak istediÄŸinize emin misiniz?`,confirmText:"AyrÄ±l",cancelText:"VazgeÃ§",type:"warning",dangerDetails:["Sunucudaki mesajlarÄ±nÄ±z silinmeyecek","Tekrar katÄ±lmak iÃ§in davet almanÄ±z gerekecek","Sunucuyla ilgili tÃ¼m bildirimler duracak"]}),e.jsx(Mr,{inviteToServerModal:We,servers:ie,onSendInvite:He,onClose:t(()=>Pe(null),"onClose")}),je&&ze&&(()=>{const me=ie?.find(ae=>ae.id===ze.server_id)?.roles||[];return e.jsx(Uo,{room:ze,serverId:ze.server_id||k,serverRoles:me,onClose:t(()=>{be(!1),Ee(null)},"onClose"),onUpdate:t(()=>{be(!1),Ee(null)},"onUpdate"),fetchWithAuth:l,apiBaseUrl:a})})()]}),"RoomListModals"),Nr=t(({dmContextMenu:n,currentUsername:o,getAvatarUrl:i,onlineUsers:r,onDMSelect:m,setDmContextMenu:h,handleViewProfile:u,handleInviteToServer:x,handlePinConversation:v,handleMuteUser:l,handleHideDM:B,handleClearDM:a,handleBlockUser:d})=>{const f=n.conversation.participants.find(w=>w.username!==o);if(!f)return null;const g=[{icon:"ðŸ‘¤",label:"Profili GÃ¶rÃ¼ntÃ¼le",color:"#dbdee1",onClick:t(()=>u(f.username),"onClick")},{icon:"ðŸ’¬",label:"Mesaj GÃ¶nder",color:"#dbdee1",divider:!0,onClick:t(()=>{m(n.conversation.id,f.username),h(null)},"onClick")},{icon:"ðŸŽ«",label:"Sunucuya Davet Et",color:"#5865f2",onClick:t(()=>x(f.username),"onClick")},{icon:"ðŸ“Œ",label:"KonuÅŸmayÄ± Sabitle",color:"#dbdee1",divider:!0,onClick:t(()=>v(n.conversation.id),"onClick")},{icon:"ðŸ”‡",label:"Sessize Al",color:"#b9bbbe",onClick:t(()=>l(f.username,n.conversation.id),"onClick")},{icon:"ðŸ‘ï¸â€ðŸ—¨ï¸",label:"KonuÅŸmayÄ± Gizle",color:"#b9bbbe",divider:!0,onClick:t(()=>B(n.conversation.id),"onClick")},{icon:"ðŸ—‘ï¸",label:"KonuÅŸmayÄ± Temizle",color:"#f23f42",onClick:t(()=>a(n.conversation.id),"onClick")},{icon:"ðŸš«",label:"KullanÄ±cÄ±yÄ± Engelle",color:"#ed4245",onClick:t(()=>d(f.username),"onClick")}];return ne.createPortal(e.jsxs("div",{onClick:t(w=>w.stopPropagation(),"onClick"),style:{position:"fixed",top:n.y,left:n.x,backgroundColor:"#111214",border:"1px solid #2b2d31",borderRadius:"8px",minWidth:"220px",boxShadow:"0 8px 24px rgba(0,0,0,0.4), 0 0 1px rgba(0,0,0,0.5)",zIndex:999999,overflow:"hidden",animation:"contextMenuSlide 0.1s ease-out"},children:[e.jsxs("div",{style:{padding:"12px",backgroundColor:"#1e1f22",borderBottom:"1px solid #2b2d31",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("img",{src:i(f.avatar,f.username),style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"},alt:""}),e.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[e.jsx("div",{style:{color:"#f2f3f5",fontSize:"14px",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.username}),e.jsx("div",{style:{color:"#b9bbbe",fontSize:"12px",marginTop:"2px"},children:r.includes(f.username)?"ðŸŸ¢ Ã‡evrimiÃ§i":"âš« Ã‡evrimdÄ±ÅŸÄ±"})]})]}),g.map((w,R)=>e.jsxs(Q.Fragment,{children:[e.jsxs("div",{onClick:w.onClick,style:{padding:"10px 12px",cursor:"pointer",color:w.color,fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.1s ease",backgroundColor:"transparent"},onMouseEnter:t(p=>{p.currentTarget.style.backgroundColor=w.color==="#f23f42"||w.color==="#ed4245"?"rgba(237, 66, 69, 0.15)":"rgba(88, 101, 242, 0.1)",p.currentTarget.style.paddingLeft="16px"},"onMouseEnter"),onMouseLeave:t(p=>{p.currentTarget.style.backgroundColor="transparent",p.currentTarget.style.paddingLeft="12px"},"onMouseLeave"),children:[e.jsx("span",{style:{fontSize:"16px",width:"20px",textAlign:"center"},children:w.icon}),e.jsx("span",{style:{flex:1},children:w.label})]}),w.divider&&e.jsx("div",{style:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 8px"}})]},R))]}),document.body)},"DMContextMenuPortal"),Ar=Q.memo(Or);function _r(){if(typeof document>"u"||document.head.querySelector("style[data-roomlist-animations]"))return;const n=document.createElement("style");n.textContent=`
        /* Kanal Hover Efektleri */
        .channel-item {
            position: relative;
            overflow: hidden;
        }
        
        .channel-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 50%;
            background: linear-gradient(90deg, rgba(88, 101, 242, 0.4), transparent);
            transition: width 0.3s ease;
            border-radius: 0 4px 4px 0;
        }
        
        .channel-item:hover::before {
            width: 4px;
        }
        
        .channel-item:hover {
            background: rgba(255, 255, 255, 0.05) !important;
            color: #fff !important;
            transform: translateX(2px);
        }
        
        .channel-item.active {
            background: rgba(88, 101, 242, 0.15) !important;
            box-shadow: 0 2px 8px rgba(88, 101, 242, 0.2);
        }
        
        /* Voice Channel Ã–zel Animasyonlar */
        .voice-channel.active {
            background: linear-gradient(90deg, rgba(67, 181, 129, 0.15), rgba(88, 101, 242, 0.1)) !important;
        }
        
        .voice-channel:hover {
            background: rgba(67, 181, 129, 0.08) !important;
        }
        
        /* KullanÄ±cÄ± Listesi Fade-in Animasyonu */
        .channel-wrapper {
            animation: channelFadeIn 0.3s ease;
        }
        
        @keyframes channelFadeIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Kanal Ä°kon Pulse Animasyonu (Aktif Sesli Kanal iÃ§in) */
        
    /* ðŸ’ Developer Support Heart Animation */
    @keyframes heartPulse {
        0%, 100% { transform: scale(1); }
        25% { transform: scale(1.15); }
        50% { transform: scale(1); }
        75% { transform: scale(1.1); }
    }
    
    .voice-channel.active svg {
            animation: iconPulse 2s infinite;
        }
        
        @keyframes iconPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }
        
        /* KullanÄ±cÄ± SayÄ±sÄ± Badge Pulse */
        .voice-channel.active > div > div:last-child {
            animation: badgePulse 1.5s infinite;
        }
        
        @keyframes badgePulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(67, 181, 129, 0.4);
            }
            50% {
                box-shadow: 0 0 0 4px rgba(67, 181, 129, 0);
            }
        }

        /* Context Menu Slide Animation */
        @keyframes contextMenuSlide {
            from {
                opacity: 0;
                transform: translateY(-8px) scale(0.96);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
    `,n.setAttribute("data-roomlist-animations","true"),document.head.appendChild(n)}t(_r,"injectRoomListAnimations");_r();const Kr=t(({onFriendsClick:n,onWelcomeClick:o,isAdmin:i,categories:r=[],conversations:m=[],currentRoom:h,currentConversationId:u,onRoomSelect:x,onDMSelect:v,joinVoiceChat:l,leaveVoiceChat:B,unreadCounts:a={},voiceUsers:d,currentUsername:f,currentUserProfile:g,currentVoiceRoom:w,remoteVolumes:R,setRemoteVolume:p,onProfileClick:s,onViewUserProfile:b,getDeterministicAvatar:I,isPttActive:k,setIsLeftSidebarVisible:$,apiBaseUrl:L,fetchWithAuth:N,activeChat:z,onOpenServerSettings:K,allUsers:U,onlineUsers:q,friendsList:ee=[],pendingFriendRequests:oe=0,toggleMute:re,toggleDeafened:T,isMuted:W,isDeafened:D,isInVoice:X,isConnecting:se,toggleVideo:E,toggleScreenShare:_,isVideoEnabled:pe,isScreenSharing:xe,onServerDragStart:le,onServerDragOver:ge,onServerDragEnd:O,onServerDrop:ie,onMoveServer:de,updateAvailable:Se=!1,onUpdateClick:H,onOpenStore:ve,onOpenAnalytics:Be,onOpenAdminPanel:S,onOpenPaymentPanel:C,onOpenStoreModal:M,onOpenDailyRewards:Y,onOpenAPIUsage:te,onOpenExportJobs:ce,onOpenScheduledAnnouncements:ye,onOpenMiniGames:Ne,onOpenProjectCollaboration:Ae,onOpenAvatarStudio:_e,onServerSelect:Fe})=>{const De=a||{},Te=`${L}/api`,Ke=d||{},We=h||(z?.type==="room"?z.id:null),Pe=c.useCallback((j,A)=>{if(!j||typeof j!="string")return I(A);if(j.startsWith("http://")||j.startsWith("https://")||j.startsWith("blob:")||j.includes("ui-avatars.com"))return j;let Z=j.startsWith("/")?j:`/${j}`;return`${L}${Z}`},[L,I]),He=c.useMemo(()=>{if(!w)return"";for(const j of r)if(j.categories)for(const A of j.categories){const Z=A.rooms?.find(fe=>fe.slug===w);if(Z)return String(Z.name)}return String(w)},[w,r]),[je,be]=c.useState("home"),[ze,Ee]=c.useState({}),[ue,me]=c.useState(null),[ae,we]=c.useState(null),[bt,Je]=c.useState(null),[vt,jt]=c.useState(null),[he,$e]=c.useState(null),[kt,qe]=c.useState(null),[St,wt]=c.useState(null),[Ct,et]=c.useState(!1),[zt,tt]=c.useState(!1),[It,nt]=c.useState(!1),[Rt,ot]=c.useState(!1),[Bt,rt]=c.useState(null),[Dt,Tt]=c.useState(null),[Pt,$t]=c.useState(!1),[Lt,Ft]=c.useState(!1),[Et,Mt]=c.useState(!1),[Ot,Nt]=c.useState(!1),[At,_t]=c.useState(!1),[Kt,Wt]=c.useState(!1),[Ht,Jt]=c.useState(!1),[Yt,Vt]=c.useState(!1),[Gt,it]=c.useState(!1),[Ut,at]=c.useState(null),[Xt,Zt]=c.useState(()=>{const j=localStorage.getItem("mutedServers");return j?JSON.parse(j):[]}),{publicServers:Qt,newCategoryName:qt,setNewCategoryName:en,newRoomName:tn,setNewRoomName:nn,newRoomType:on,setNewRoomType:rn,activeServerIdForCategory:an,setActiveServerIdForCategory:sn,activeCategoryIdForRoom:ln,setActiveCategoryIdForRoom:dn,editingItemId:cn,setEditingItemId:st,editName:un,setEditName:lt,deleteServerModal:pn,setDeleteServerModal:xn,leaveServerModal:gn,setLeaveServerModal:mn,handleLeaveServer:fn,executeLeaveServer:hn,handleChangeServerIcon:yn,handleChangeServerPrivacy:bn,handleCopyServerInvite:vn,handleCreateServer:jn,handleCreateCategory:kn,handleCreateRoom:Sn,handleRenameCategory:wn,handleDeleteCategory:Cn,handleRenameRoom:zn,handleDeleteRoom:In,handleMoveServer:Rn,handleMoveUserToChannel:Bn,handleKickUserFromChannel:Dn,handleOpenDiscovery:Tn,handleJoinServer:Pn,handleJoinViaCode:$n}=qo({apiUrl:Te,fetchWithAuth:N,servers:r,currentUsername:f,selectedServerId:je,setSelectedServerId:be,onWelcomeClick:o,onMoveServer:de}),{dmContextMenu:Ye,setDmContextMenu:Ve,inviteToServerModal:Ln,setInviteToServerModal:Fn,handleClearDM:En,handleHideDM:Mn,handleViewProfile:On,handleInviteToServer:Nn,handleSendServerInvite:An,handleMuteUser:_n,handlePinConversation:Kn,handleBlockUser:Wn,handleAddFriend:Hn,handleRemoveFriend:Jn}=er({apiUrl:Te,fetchWithAuth:N,servers:r,onViewUserProfile:b});c.useEffect(()=>{z&&(z.type==="welcome"||z.type==="friends"||z.type==="dm")&&be("home")},[z]),c.useEffect(()=>{const j=t(()=>Ve(null),"handleClickOutside");if(Ye)return document.addEventListener("click",j),()=>document.removeEventListener("click",j)},[Ye]);const Yn=t(j=>Ee(A=>({...A,[j]:!A[j]})),"toggleCategory"),Vn=t(j=>{be(j.id),Fe&&Fe(j)},"handleServerClick"),Gn=t((j,A,Z,fe)=>{j.stopPropagation(),$e({type:A,id:Z,name:fe})},"handleOpenActionMenu"),Un=t(j=>{j.preventDefault(),st(he.type==="category"?`cat-${he.id}`:`room-${he.id}`),lt(he.name),$e(null)},"executeRename"),Xn=t(j=>{he.type==="category"?Cn(j,he.id):In(j,he.id),$e(null)},"executeDelete"),Zn=t(j=>{if(j.preventDefault(),he.type==="room"){let A=null,Z=null;r?.forEach(fe=>{fe.categories?.forEach(Ge=>{if(Ge.rooms){const dt=Ge.rooms.find(ro=>ro.slug===he.id);dt&&(A={...dt,server_id:fe.id,category_id:Ge.id},Z=fe.id)}})}),A?(at(A),be(Z),it(!0)):P.error("Kanal ayarlarÄ± aÃ§Ä±lÄ±rken bir hata oluÅŸtu. Kanal bulunamadÄ±.")}$e(null)},"executeSettings"),Qn=t((j,A)=>{j.preventDefault(),j.stopPropagation(),qe({x:j.clientX,y:j.clientY,server:A,isOwner:A.owner_username===f})},"handleServerContextMenu"),qn=t((j,A,Z)=>{me(A),le&&le(j,A,Z)},"handleServerDragStartWrapper"),eo=t((j,A)=>{j.preventDefault();const Z=j.currentTarget.getBoundingClientRect(),fe=j.clientY<Z.top+Z.height/2?"before":"after";we(A),Je(fe),ge&&ge(j)},"handleServerDragOverWrapper"),to=t(j=>{me(null),we(null),Je(null),O&&O(j)},"handleServerDragEndWrapper"),no=t((j,A)=>{const Z=j.currentTarget.getBoundingClientRect(),fe=j.clientY<Z.top+Z.height/2?"before":"after";we(null),Je(null),me(null),ie&&ie(j,fe==="after"?A+1:A)},"handleServerDropWrapper"),oo=t((j,A)=>{j.stopPropagation(),rt(A),ot(!0)},"handleCreateInvite");return e.jsxs("div",{style:{display:"flex",width:"100%",height:"100%"},children:[e.jsx(Qo,{actionMenu:he,onClose:t(()=>$e(null),"onClose"),onRename:Un,onDelete:Xn,onSettings:Zn}),e.jsx(Xo,{isOpen:zt,onClose:t(()=>tt(!1),"onClose")}),e.jsx(nr,{servers:r,selectedServerId:je,hoveredServerId:vt,setHoveredServerId:jt,safeUnreadCounts:De,draggedServerId:ue,dropTargetIndex:ae,dropPosition:bt,onHomeClick:t(()=>{be("home"),o()},"onHomeClick"),handleServerClick:Vn,handleServerContextMenu:Qn,handleServerDragStartWrapper:qn,handleServerDragOverWrapper:eo,handleServerDragEndWrapper:to,handleServerDropWrapper:no,onOpenStore:ve,onDiscoverClick:t(()=>{et(!0),Tn()},"onDiscoverClick"),onAddClick:t(()=>nt(!0),"onAddClick")}),e.jsxs("div",{style:y.sidebar,children:[je==="home"&&e.jsx(ar,{conversations:m,currentConversationId:u,currentUsername:f,onRoomSelect:x,onDMSelect:v,onFriendsClick:n,pendingFriendRequests:oe,safeUnreadCounts:De,onlineUsers:q,allUsers:U,getAvatarUrl:Pe,setDmContextMenu:Ve}),je!=="home"&&r&&e.jsx(yr,{servers:r,selectedServerId:je,isAdmin:i,currentUsername:f,currentVoiceRoom:w,activeVoiceUsers:Ke,collapsedCategories:ze,toggleCategory:Yn,editingItemId:cn,setEditingItemId:st,editName:un,setEditName:lt,newCategoryName:qt,setNewCategoryName:en,newRoomName:tn,setNewRoomName:nn,newRoomType:on,setNewRoomType:rn,activeServerIdForCategory:an,setActiveServerIdForCategory:sn,activeCategoryIdForRoom:ln,setActiveCategoryIdForRoom:dn,handleCreateCategory:kn,handleCreateRoom:Sn,handleRenameCategory:wn,handleRenameRoom:zn,handleOpenActionMenu:Gn,handleCreateInvite:oo,onOpenServerSettings:K,joinVoiceChat:l,onRoomSelect:x,safeUnreadCounts:De,onDMSelect:v,conversations:m,friendsList:ee,getDeterministicAvatar:I,allUsers:U,isPttActive:k,remoteVolumes:R,setRemoteVolume:p,dropTargetChannel:St,setDropTargetChannel:wt,handleAddFriend:Hn,handleRemoveFriend:Jn,handleMoveUserToChannel:Bn,handleKickUserFromChannel:Dn,onViewUserProfile:b}),e.jsx(Zo,{isOpen:It,onClose:t(()=>nt(!1),"onClose"),onCreateServer:jn}),e.jsxs("div",{style:y.bottomSection,children:[i&&e.jsxs("button",{onClick:S,style:{width:"100%",padding:"12px",marginBottom:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",color:"white",fontWeight:"600",fontSize:"0.95em",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseEnter:t(j=>{j.currentTarget.style.transform="translateY(-2px)",j.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},"onMouseEnter"),onMouseLeave:t(j=>{j.currentTarget.style.transform="translateY(0)",j.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},"onMouseLeave"),children:[e.jsx(ke,{size:16}),e.jsx("span",{children:"Admin Panel"})]}),e.jsx(wr,{handlers:{onOpenPaymentPanel:C,onOpenStoreModal:M,onOpenDailyRewards:Y,onOpenAPIUsage:te,onOpenExportJobs:ce,onOpenScheduledAnnouncements:ye,onOpenMiniGames:Ne,onOpenProjectCollaboration:Ae,onOpenAvatarStudio:_e}}),e.jsx(zr,{isInVoice:X,isConnecting:se,isMuted:W,isDeafened:D,isVideoEnabled:pe,isScreenSharing:xe,toggleVideo:E,toggleScreenShare:_,toggleMute:re,toggleDeafened:T,leaveVoiceChat:B,voiceRoomDisplayName:He,getAvatarUrl:Pe,currentUserProfile:g,currentUsername:f,getDeterministicAvatar:I}),!(X||se)&&e.jsx(Rr,{onClick:t(()=>tt(!0),"onClick")}),e.jsx(Ao,{currentUserProfile:g,currentUsername:f,getDeterministicAvatar:I,onProfileClick:s,updateAvailable:Se,onUpdateClick:H})]})]}),e.jsx(Ar,{showDiscovery:Ct,setShowDiscovery:et,publicServers:Qt,handleJoinServer:Pn,handleJoinViaCode:$n,showInviteModal:Rt,setShowInviteModal:ot,inviteModalServer:Bt,setInviteModalServer:rt,fetchWithAuth:N,apiUrl:Te,apiBaseUrl:L,currentUsername:f,showSavedMessages:Dt,setShowSavedMessages:Tt,showScheduledMessages:Pt,setShowScheduledMessages:$t,actualCurrentRoom:We,currentConversationId:u,showWebhooks:Lt,setShowWebhooks:Ft,selectedServerId:je,showModTools:Et,setShowModTools:Mt,showQuickActions:Ot,setShowQuickActions:Nt,setShowAuditLogs:_t,setShowReports:Wt,setShowVanityURL:Jt,setShowAutoResponder:Vt,showAuditLogs:At,showReports:Kt,showVanityURL:Ht,showAutoResponder:Yt,serverContextMenu:kt,setServerContextMenu:qe,handleLeaveServer:fn,onOpenServerSettings:K,handleMoveServer:Rn,handleCopyServerInvite:vn,handleChangeServerIcon:yn,handleChangeServerPrivacy:bn,mutedServers:Xt,setMutedServers:Zt,servers:r,deleteServerModal:pn,setDeleteServerModal:xn,leaveServerModal:gn,setLeaveServerModal:mn,executeLeaveServer:hn,setSelectedServerId:be,onWelcomeClick:o,dmContextMenu:Ye,setDmContextMenu:Ve,getAvatarUrl:Pe,onlineUsers:q,onDMSelect:v,handleViewProfile:On,handleInviteToServer:Nn,handlePinConversation:Kn,handleMuteUser:_n,handleHideDM:Mn,handleClearDM:En,handleBlockUser:Wn,inviteToServerModal:Ln,setInviteToServerModal:Fn,handleSendServerInvite:An,showChannelSettings:Gt,setShowChannelSettings:it,selectedRoom:Ut,setSelectedRoom:at})]})},"RoomList"),di=Q.memo(Kr);export{di as default};

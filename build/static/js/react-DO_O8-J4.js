var G=Object.defineProperty;var J=e=>{throw TypeError(e)};var at=(e,t,i)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var u=(e,t)=>G(e,"name",{value:t,configurable:!0});var O=(e,t,i)=>at(e,typeof t!="symbol"?t+"":t,i),I=(e,t,i)=>t.has(e)||J("Cannot "+i);var T=(e,t,i)=>(I(e,t,"read from private field"),i?i.call(e):t.get(e)),g=(e,t,i)=>t.has(e)?J("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),A=(e,t,i,r)=>(I(e,t,"write to private field"),r?r.call(e,i):t.set(e,i),i),y=(e,t,i)=>(I(e,t,"access private method"),i);import{a as lt}from"./react-core-Djgtqrmb.js";const dt=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],B=globalThis.document?.createElement("template");B&&(B.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video,
      audio {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    </style>
    <slot></slot>
  `);const V=u((e,{tag:t,is:i})=>{var n,L,w,tt,M,k,b,E,S,f,l,H,et,it,st,ot,nt;const r=globalThis.document?.createElement(t,{is:i}),p=r?K(r):[];return n=class extends e{constructor(){super();g(this,l);g(this,M);g(this,k);g(this,b,!1);g(this,E,!1);g(this,S);g(this,f);this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0))),this.load!==n.prototype.load&&(this.loadComplete=new N)}static get observedAttributes(){var o;return y(o=n,w,tt).call(o),[...r?.constructor?.observedAttributes??[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}get loadComplete(){return T(this,k)}set loadComplete(s){A(this,E,!1),A(this,k,s),s?.then(()=>{A(this,E,!0)})}get isLoaded(){return T(this,E)}get nativeEl(){return T(this,S)??this.shadowRoot.querySelector(t)??this.querySelector(t)}set nativeEl(s){A(this,S,s)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(s){this.toggleAttribute("muted",!!s)}get src(){return this.getAttribute("src")}set src(s){this.setAttribute("src",`${s}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(s){this.setAttribute("preload",`${s}`)}attributeChangedCallback(s,o,v){y(this,l,H).call(this),s==="src"&&this.load!==n.prototype.load&&y(this,l,ot).call(this),y(this,l,nt).call(this,s,o,v)}connectedCallback(){y(this,l,H).call(this)}},L=new WeakMap,w=new WeakSet,tt=u(function(){if(T(this,L))return;A(this,L,!0);const s=new Set(this.observedAttributes);s.delete("muted");for(let o of p){if(o in this.prototype)continue;if(typeof r[o]=="function")this.prototype[o]=function(...c){y(this,l,H).call(this);const h=u(()=>this.call?this.call(o,...c):this.nativeEl[o].apply(this.nativeEl,c),"fn");return this.loadComplete&&!this.isLoaded?this.loadComplete.then(h):h()};else{let c={get(){y(this,l,H).call(this);let h=o.toLowerCase();if(s.has(h)){const _=this.getAttribute(h);return _===null?!1:_===""?!0:_}return this.get?.(o)??this.nativeEl?.[o]??T(this,f)[o]}};o!==o.toUpperCase()&&(c.set=async function(h){y(this,l,H).call(this);let _=o.toLowerCase();if(s.has(_)){h===!0||h===!1||h==null?this.toggleAttribute(_,!!h):this.setAttribute(_,h);return}if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.set){this.set(o,h);return}this.nativeEl[o]=h}),Object.defineProperty(this.prototype,o,c)}}},"#define"),M=new WeakMap,k=new WeakMap,b=new WeakMap,E=new WeakMap,S=new WeakMap,f=new WeakMap,l=new WeakSet,H=u(async function(){if(T(this,M))return;A(this,M,!0),y(this,l,it).call(this),y(this,l,st).call(this);for(let v of p)y(this,l,et).call(this,v);const s=new Map,o=this.shadowRoot.querySelector("slot:not([name])");o?.addEventListener("slotchange",()=>{const v=new Map(s);o.assignedElements().filter(c=>["track","source"].includes(c.localName)).forEach(async c=>{v.delete(c);let h=s.get(c);h||(h=c.cloneNode(),s.set(c,h)),this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.nativeEl.append?.(h)}),v.forEach(c=>c.remove())});for(let v of this.constructor.Events)this.shadowRoot.addEventListener?.(v,c=>{c.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(c.type,{detail:c.detail}))},!0)},"#init"),et=u(function(s){if(Object.prototype.hasOwnProperty.call(this,s)){const o=this[s];delete this[s],this[s]=o}},"#upgradeProperty"),it=u(function(){const s=document.createElement(t,{is:i});s.muted=this.hasAttribute("muted");for(let{name:o,value:v}of this.attributes)s.setAttribute(o,v);A(this,f,{});for(let o of K(s))T(this,f)[o]=s[o];s.removeAttribute("src"),s.load()},"#initStandinEl"),st=u(async function(){if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,!this.nativeEl){const s=document.createElement(t,{is:i});s.part=t,this.shadowRoot.append(s)}this.nativeEl.muted=this.hasAttribute("muted")},"#initNativeEl"),ot=u(async function(){T(this,b)&&(this.loadComplete=new N),A(this,b,!0),await Promise.resolve(),await this.load(),this.loadComplete?.resolve(),await this.loadComplete},"#loadSrc"),nt=u(async function(s,o,v){this.loadComplete&&!this.isLoaded&&await this.loadComplete,!["id","class",...this.constructor.skipAttributes].includes(s)&&(v===null?this.nativeEl.removeAttribute?.(s):this.nativeEl.setAttribute?.(s,v))},"#forwardAttribute"),g(n,w),u(n,"SuperMedia"),O(n,"Events",dt),O(n,"template",B),O(n,"skipAttributes",[]),g(n,L),n},"SuperMediaMixin");function K(e){let t=[];for(let i=Object.getPrototypeOf(e);i&&i!==HTMLElement.prototype;i=Object.getPrototypeOf(i))t.push(...Object.getOwnPropertyNames(i));return t}u(K,"getNativeElProps");const U=class U extends Promise{constructor(t=()=>{}){let i,r;super((p,n)=>{t(p,n),i=p,r=n}),this.resolve=i,this.reject=r}};u(U,"PublicPromise");let N=U;const ut=globalThis.document?V(HTMLElement,{tag:"video"}):class{};globalThis.document&&V(HTMLElement,{tag:"audio"});var Q,X;const D=(Q=globalThis.document)==null?void 0:Q.createElement("template");D&&(D.innerHTML=`
  <div class="wistia_embed"></div>
  `);const F=(X=globalThis.document)==null?void 0:X.createElement("template");F&&(F.innerHTML=`
  <style>
    :host {
      display: inline-block;
      min-width: 300px;
      min-height: 150px;
      position: relative;
    }
    ::slotted(.wistia_embed) {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  </style>
  <slot></slot>
  `);const R=class R extends ut{get nativeEl(){var t;return((t=this.api)==null?void 0:t.elem())??this.querySelector("video")}async load(){var t;if((t=this.querySelector(".wistia_embed"))==null||t.remove(),!this.src)return;await new Promise(w=>setTimeout(w,50));const i=/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/i,r=this.src.match(i)[1],p={autoPlay:this.autoplay,preload:this.preload??"metadata",playsinline:this.playsInline,endVideoBehavior:this.loop&&"loop",chromeless:!this.controls,playButton:this.controls,muted:this.defaultMuted};this.append(D.content.cloneNode(!0));const n=this.querySelector(".wistia_embed");n.id||(n.id=pt(r)),n.classList.add(`wistia_async_${r}`),await ct("https://fast.wistia.com/assets/external/E-v1.js","Wistia"),this.api=await new Promise(w=>{globalThis._wq.push({id:n.id,onReady:w,options:p})})}async attributeChangedCallback(t,i,r){if(t==="controls"){await this.loadComplete,t==="controls"&&(this.api.bigPlayButtonEnabled(this.controls),this.controls?this.api.releaseChromeless():this.api.requestChromeless());return}super.attributeChangedCallback(t,i,r)}get duration(){var t;return(t=this.api)==null?void 0:t.duration()}async play(){return await this.loadComplete,this.api.play(),new Promise(t=>this.addEventListener("playing",t))}};u(R,"WistiaVideoElement"),O(R,"template",F),O(R,"skipAttributes",["src"]);let j=R;const $={};async function ct(e,t){return $[e]?$[e]:self[t]?self[t]:$[e]=new Promise((i,r)=>{const p=document.createElement("script");p.defer=!0,p.src=e,p.onload=()=>i(self[t]),p.onerror=r,document.head.append(p)})}u(ct,"loadScript");let ht=0;function pt(e){const t=++ht;return`${e}${t}`}u(pt,"uniqueId");globalThis.customElements&&!globalThis.customElements.get("wistia-video")&&globalThis.customElements.define("wistia-video",j);var ft=j,mt=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),vt={className:"class",htmlFor:"for"};function rt(e){return e.toLowerCase()}u(rt,"defaultToAttributeName");function Y(e){if(typeof e=="boolean")return e?"":void 0;if(typeof e!="function"&&!(typeof e=="object"&&e!==null))return e}u(Y,"defaultToAttributeValue");function yt({react:e,tagName:t,elementClass:i,events:r,displayName:p,defaultProps:n,toAttributeName:L=rt,toAttributeValue:w=Y}){const W=Number.parseInt(e.version)>=19,M=e.forwardRef((k,b)=>{var E,S;const f=e.useRef(null),l=e.useRef(new Map),q={},z={},P={},x={};for(const[a,d]of Object.entries(k)){if(mt.has(a)){P[a]=d;continue}const m=L(vt[a]??a);if(i.prototype&&a in i.prototype&&!(a in(((E=globalThis.HTMLElement)==null?void 0:E.prototype)??{}))&&!((S=i.observedAttributes)!=null&&S.some(s=>s===m))){x[a]=d;continue}if(a.startsWith("on")){q[a]=d;continue}const C=w(d);if(m&&C!=null&&(z[m]=String(C),W||(P[m]=C)),m&&W){const s=Y(d);C!==s?P[m]=C:P[m]=d}}if(typeof window<"u"){for(const a in q){const d=q[a],m=a.endsWith("Capture"),C=(r?.[a]??a.slice(2).toLowerCase()).slice(0,m?-7:void 0);e.useLayoutEffect(()=>{const s=f?.current;if(!(!s||typeof d!="function"))return s.addEventListener(C,d,m),()=>{s.removeEventListener(C,d,m)}},[f?.current,d])}e.useLayoutEffect(()=>{if(f.current===null)return;const a=new Map;for(const d in x)Z(f.current,d,x[d]),l.current.delete(d),a.set(d,x[d]);for(const[d,m]of l.current)Z(f.current,d,void 0);l.current=a})}if(typeof window>"u"&&i?.getTemplateHTML&&i?.shadowRootOptions){const{mode:a,delegatesFocus:d}=i.shadowRootOptions,m=e.createElement("template",{shadowrootmode:a,shadowrootdelegatesfocus:d,dangerouslySetInnerHTML:{__html:i.getTemplateHTML(z,k)},key:"ce-la-react-ssr-template-shadow-root"});P.children=[m,P.children]}return e.createElement(t,{...n,...P,ref:e.useCallback(a=>{f.current=a,typeof b=="function"?b(a):b!==null&&(b.current=a)},[b])},P.children)});return M.displayName=p??i.name,M}u(yt,"createComponent");function Z(e,t,i){var r;e[t]=i,i==null&&t in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&e.removeAttribute(t)}u(Z,"setProperty");var gt=yt({react:lt,tagName:"wistia-video",elementClass:ft,toAttributeName(e){return e==="muted"?"":e==="defaultMuted"?"muted":rt(e)}});export{gt as default};

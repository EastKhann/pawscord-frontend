import{r as s,ay as v,o as y,V as S,b_ as w,ax as D}from"./react-core-B6hadH-M.js";import{a as d}from"./index-D5GkNzM3.js";import{g,t as f}from"./index-D_6pZib5.js";const A=({serverSlug:p,token:o,isMobile:n})=>{const[a,i]=s.useState({spamDetection:!0,profanityFilter:!0,nsfwDetection:!0,toxicityThreshold:70,autoTimeout:!1,autoDelete:!1,warningCount:3}),[l,b]=s.useState([]),[r,u]=s.useState({messagesScanned:0,flaggedToday:0,autoModActions:0,accuracy:0}),[B,m]=s.useState(!1);s.useEffect(()=>{x()},[]);const x=async()=>{m(!0);try{const t=await d.get(`${g()}/moderation/${p}/`,{headers:{Authorization:`Bearer ${o}`}});t.data.settings&&i(t.data.settings),t.data.recent_flags&&b(t.data.recent_flags),t.data.stats&&u(t.data.stats)}catch(t){console.error("Failed to load moderation:",t)}finally{m(!1)}},R=async()=>{try{await d.post(`${g()}/moderation/${p}/update/`,{settings:a},{headers:{Authorization:`Bearer ${o}`}}),f.success("âœ… Moderation settings saved!")}catch(t){console.error("Failed to save:",t),f.error("âŒ Failed to save settings")}},c=async(t,E)=>{try{await d.post(`${g()}/moderation/flag/${t}/action/`,{action:E},{headers:{Authorization:`Bearer ${o}`}}),x()}catch(h){console.error("Action failed:",h)}},e={container:{padding:n?"16px":"24px",maxWidth:"1200px",margin:"0 auto"},header:{marginBottom:"32px"},title:{fontSize:n?"24px":"32px",fontWeight:"700",color:"rgba(255, 255, 255, 0.95)",display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},subtitle:{fontSize:n?"14px":"16px",color:"rgba(255, 255, 255, 0.6)"},statsGrid:{display:"grid",gridTemplateColumns:n?"1fr 1fr":"repeat(4, 1fr)",gap:"16px",marginBottom:"32px"},statCard:{background:"linear-gradient(135deg, rgba(88, 101, 242, 0.1), rgba(114, 137, 218, 0.1))",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"12px",padding:"20px",textAlign:"center"},statValue:{fontSize:n?"24px":"32px",fontWeight:"700",color:"#5865f2",marginBottom:"8px"},statLabel:{fontSize:"14px",color:"rgba(255, 255, 255, 0.7)"},section:{background:"rgba(30, 31, 34, 0.6)",border:"1px solid rgba(88, 101, 242, 0.2)",borderRadius:"16px",padding:n?"20px":"24px",marginBottom:"24px"},sectionTitle:{fontSize:"20px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},setting:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 0",borderBottom:"1px solid rgba(88, 101, 242, 0.1)"},settingInfo:{flex:1},settingLabel:{fontSize:"16px",fontWeight:"500",color:"rgba(255, 255, 255, 0.9)",marginBottom:"4px"},settingDesc:{fontSize:"13px",color:"rgba(255, 255, 255, 0.6)"},switch:t=>({width:"56px",height:"32px",background:t?"linear-gradient(135deg, #43b581, #4caf50)":"rgba(255, 255, 255, 0.2)",borderRadius:"16px",position:"relative",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid rgba(88, 101, 242, 0.3)"}),switchKnob:t=>({width:"26px",height:"26px",background:"white",borderRadius:"50%",position:"absolute",top:"1px",left:t?"26px":"1px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}),slider:{width:"100%",height:"6px",borderRadius:"3px",background:"rgba(255, 255, 255, 0.2)",outline:"none",marginTop:"8px"},flagsList:{display:"flex",flexDirection:"column",gap:"12px"},flagCard:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(218, 55, 60, 0.4)",borderRadius:"12px",padding:"16px"},flagHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},flagType:t=>({display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",background:t==="spam"?"rgba(218, 55, 60, 0.2)":t==="nsfw"?"rgba(240, 183, 50, 0.2)":"rgba(88, 101, 242, 0.2)",color:t==="spam"?"#da373c":t==="nsfw"?"#f0b732":"#5865f2"}),flagMessage:{background:"rgba(0, 0, 0, 0.4)",padding:"12px",borderRadius:"8px",color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",marginBottom:"12px",fontFamily:"monospace"},flagActions:{display:"flex",gap:"8px",flexWrap:"wrap"},actionBtn:t=>({padding:"8px 16px",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease",minHeight:"36px",background:t==="delete"?"rgba(218, 55, 60, 0.2)":t==="timeout"?"rgba(240, 183, 50, 0.2)":"rgba(67, 181, 129, 0.2)",color:t==="delete"?"#da373c":t==="timeout"?"#f0b732":"#43b581",border:`1px solid ${t==="delete"?"rgba(218, 55, 60, 0.4)":t==="timeout"?"rgba(240, 183, 50, 0.4)":"rgba(67, 181, 129, 0.4)"}`}),saveBtn:{width:"100%",padding:"16px",background:"linear-gradient(135deg, #5865f2, #7289da)",border:"none",borderRadius:"12px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",marginTop:"24px",transition:"all 0.2s ease",minHeight:"48px"}};return React.createElement("div",{style:e.container},React.createElement("div",{style:e.header},React.createElement("h1",{style:e.title},React.createElement(v,null),"AI Moderation"),React.createElement("p",{style:e.subtitle},"Automated content filtering powered by machine learning")),React.createElement("div",{style:e.statsGrid},React.createElement("div",{style:e.statCard},React.createElement("div",{style:e.statValue},r.messagesScanned.toLocaleString()),React.createElement("div",{style:e.statLabel},"Messages Scanned")),React.createElement("div",{style:e.statCard},React.createElement("div",{style:e.statValue},r.flaggedToday),React.createElement("div",{style:e.statLabel},"Flagged Today")),React.createElement("div",{style:e.statCard},React.createElement("div",{style:e.statValue},r.autoModActions),React.createElement("div",{style:e.statLabel},"Auto Actions")),React.createElement("div",{style:e.statCard},React.createElement("div",{style:e.statValue},r.accuracy,"%"),React.createElement("div",{style:e.statLabel},"Accuracy"))),React.createElement("div",{style:e.section},React.createElement("h2",{style:e.sectionTitle},"âš™ï¸ Detection Settings"),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("div",{style:e.settingLabel},"Spam Detection"),React.createElement("div",{style:e.settingDesc},"Detect repeated or mass messages")),React.createElement("div",{style:e.switch(a.spamDetection),onClick:()=>i({...a,spamDetection:!a.spamDetection})},React.createElement("div",{style:e.switchKnob(a.spamDetection)}))),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("div",{style:e.settingLabel},"Profanity Filter"),React.createElement("div",{style:e.settingDesc},"Block offensive language")),React.createElement("div",{style:e.switch(a.profanityFilter),onClick:()=>i({...a,profanityFilter:!a.profanityFilter})},React.createElement("div",{style:e.switchKnob(a.profanityFilter)}))),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("div",{style:e.settingLabel},"NSFW Detection"),React.createElement("div",{style:e.settingDesc},"Detect inappropriate images")),React.createElement("div",{style:e.switch(a.nsfwDetection),onClick:()=>i({...a,nsfwDetection:!a.nsfwDetection})},React.createElement("div",{style:e.switchKnob(a.nsfwDetection)}))),React.createElement("div",{style:e.setting},React.createElement("div",{style:e.settingInfo},React.createElement("div",{style:e.settingLabel},"Toxicity Threshold: ",a.toxicityThreshold,"%"),React.createElement("div",{style:e.settingDesc},"Sensitivity level for toxic content")),React.createElement("input",{type:"range",min:"0",max:"100",value:a.toxicityThreshold,onChange:t=>i({...a,toxicityThreshold:parseInt(t.target.value)}),style:e.slider}))),React.createElement("div",{style:e.section},React.createElement("h2",{style:e.sectionTitle},React.createElement(y,null),"Recent Flags (",l.length,")"),l.length===0?React.createElement("div",{style:{textAlign:"center",padding:"40px",color:"rgba(255, 255, 255, 0.5)"}},React.createElement(S,{size:48}),React.createElement("p",{style:{marginTop:"16px"}},"No recent violations detected")):React.createElement("div",{style:e.flagsList},l.map(t=>React.createElement("div",{key:t.id,style:e.flagCard},React.createElement("div",{style:e.flagHeader},React.createElement("div",null,React.createElement("span",{style:e.flagType(t.type)},React.createElement(y,null),t.type.toUpperCase()),React.createElement("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.5)",marginTop:"8px"}},t.user," â€¢ ",t.timestamp)),React.createElement("div",{style:{fontSize:"18px",fontWeight:"700",color:t.confidence>80?"#da373c":"#f0b732"}},t.confidence,"%")),React.createElement("div",{style:e.flagMessage},t.message),React.createElement("div",{style:e.flagActions},React.createElement("button",{onClick:()=>c(t.id,"delete"),style:e.actionBtn("delete")},React.createElement(w,null),"Delete"),React.createElement("button",{onClick:()=>c(t.id,"timeout"),style:e.actionBtn("timeout")},"Timeout User"),React.createElement("button",{onClick:()=>c(t.id,"dismiss"),style:e.actionBtn("dismiss")},React.createElement(D,null),"Dismiss")))))),React.createElement("button",{onClick:R,style:e.saveBtn},"ğŸ’¾ Save Settings"))};export{A as default};

import{r as c,aQ as g,l as v,bD as R}from"./react-core-B6hadH-M.js";const k=({targetUser:n,apiBaseUrl:m,fetchWithAuth:u,onClose:s,inline:y=!1})=>{const[a,i]=c.useState(""),[o,d]=c.useState("yellow"),[l,p]=c.useState(!1),r=[{name:"yellow",value:"#fef3bd"},{name:"green",value:"#d4edda"},{name:"blue",value:"#d1ecf1"},{name:"red",value:"#f8d7da"},{name:"purple",value:"#e2d9f3"}];c.useEffect(()=>{x()},[n]);const x=async()=>{try{const e=await u(`${m}/user-notes/${n}/`);if(e.ok){const b=await e.json();i(b.note||""),d(b.color||"yellow")}}catch(e){console.error("Failed to load note:",e)}},f=async()=>{p(!0);try{(await u(`${m}/user-notes/${n}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:a,color:o})})).ok&&(y?p(!1):s())}catch(e){console.error("Failed to save note:",e)}finally{p(!1)}};return y?React.createElement("div",{style:{marginTop:"8px"}},React.createElement("p",{style:t.info},"Bu not sadece sen gÃ¶rebilirsin"),React.createElement("div",{style:t.colorPicker},React.createElement("label",{style:t.label},"Renk:"),React.createElement("div",{style:t.colors},r.map(e=>React.createElement("button",{key:e.name,onClick:()=>d(e.name),style:{...t.colorButton,backgroundColor:e.value,...o===e.name?t.colorButtonActive:{}}})))),React.createElement("textarea",{value:a,onChange:e=>i(e.target.value),placeholder:"Notunu buraya yaz...",style:{...t.textarea,backgroundColor:r.find(e=>e.name===o)?.value},maxLength:500}),React.createElement("div",{style:t.footer},React.createElement("span",{style:t.charCount},a.length,"/500"),React.createElement("button",{onClick:f,disabled:l,style:t.saveButton},l?"Kaydediliyor...":"ðŸ’¾ Kaydet"))):React.createElement("div",{style:t.overlay,onClick:s},React.createElement("div",{style:t.modal,onClick:e=>e.stopPropagation()},React.createElement("div",{style:t.header},React.createElement("h3",{style:t.title},React.createElement(g,null)," ",n," HakkÄ±nda Not"),React.createElement("button",{onClick:s,style:t.closeButton},React.createElement(v,null))),React.createElement("div",{style:t.content},React.createElement("p",{style:t.info},"Bu not sadece sen gÃ¶rebilirsin"),React.createElement("div",{style:t.colorPicker},React.createElement("label",{style:t.label},"Renk:"),React.createElement("div",{style:t.colors},r.map(e=>React.createElement("button",{key:e.name,onClick:()=>d(e.name),style:{...t.colorButton,backgroundColor:e.value,...o===e.name?t.colorButtonActive:{}}})))),React.createElement("textarea",{value:a,onChange:e=>i(e.target.value),placeholder:"Notunu buraya yaz...",style:{...t.textarea,backgroundColor:r.find(e=>e.name===o)?.value},maxLength:500}),React.createElement("div",{style:t.footer},React.createElement("span",{style:t.charCount},a.length,"/500"),React.createElement("button",{onClick:f,disabled:l,style:t.saveButton},React.createElement(R,null)," ",l?"Kaydediliyor...":"Kaydet")))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"500px",maxWidth:"90vw",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{padding:"16px 20px",borderBottom:"1px solid #1e1f22",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{color:"#fff",fontSize:"18px",margin:0,display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"20px",cursor:"pointer",padding:"4px"},content:{padding:"20px"},info:{color:"#72767d",fontSize:"13px",marginBottom:"16px",fontStyle:"italic"},colorPicker:{marginBottom:"16px"},label:{color:"#b9bbbe",fontSize:"14px",marginBottom:"8px",display:"block"},colors:{display:"flex",gap:"8px"},colorButton:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid transparent",cursor:"pointer",transition:"transform 0.2s"},colorButtonActive:{border:"2px solid #5865f2",transform:"scale(1.1)"},textarea:{width:"100%",minHeight:"150px",padding:"12px",border:"1px solid #4e5058",borderRadius:"6px",fontSize:"14px",color:"#1e1f22",resize:"vertical",fontFamily:"inherit",marginBottom:"12px"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center"},charCount:{color:"#72767d",fontSize:"12px"},saveButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 20px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"}};export{k as default};

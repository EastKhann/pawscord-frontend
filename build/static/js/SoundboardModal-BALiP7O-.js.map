{"version":3,"file":"SoundboardModal-BALiP7O-.js","sources":["../../../src/components/SoundboardModal.js"],"sourcesContent":["// frontend/src/components/SoundboardModal.js\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { FaTimes, FaMusic, FaVolumeUp } from 'react-icons/fa';\r\n\r\nconst SoundboardModal = ({ onClose, fetchWithAuth, apiBaseUrl, sendSignal, absoluteHostUrl }) => {\r\n    const [sounds, setSounds] = useState([]);\r\n\r\n    useEffect(() => {\r\n        // Sesleri çek\r\n        fetchWithAuth(`${apiBaseUrl}/sounds/list/`)\r\n            .then(res => res.json())\r\n            .then(data => setSounds(data))\r\n            .catch(err => console.error(err));\r\n    }, [apiBaseUrl, fetchWithAuth]);\r\n\r\n    useEffect(() => {\r\n        const handleEsc = (e) => { if (e.key === 'Escape') onClose(); };\r\n        window.addEventListener('keydown', handleEsc);\r\n        return () => window.removeEventListener('keydown', handleEsc);\r\n    }, [onClose]);\r\n\r\n    const playSound = (soundUrl) => {\r\n        // Tam URL oluştur\r\n        const fullUrl = soundUrl.startsWith('http') ? soundUrl : `${absoluteHostUrl}${soundUrl}`;\r\n\r\n        // Socket üzerinden odaya sinyal gönder\r\n        // type: 'play_sound' sinyali VoiceContext tarafından yakalanacak\r\n        sendSignal({ type: 'play_sound', url: fullUrl });\r\n\r\n        // Kendim de duyayım (Gecikmesiz)\r\n        const audio = new Audio(fullUrl);\r\n        audio.volume = 0.5;\r\n        audio.play();\r\n\r\n        // Modalı kapatmaya gerek yok, arka arkaya basılabilir\r\n    };\r\n\r\n    const fallbackSounds = [\r\n        { id: 'f1', name: 'Airhorn', file: 'https://www.myinstants.com/media/sounds/airhorn.mp3' },\r\n        { id: 'f2', name: 'Vine Boom', file: 'https://www.myinstants.com/media/sounds/vine-boom.mp3' },\r\n        { id: 'f3', name: 'Alkış', file: 'https://www.myinstants.com/media/sounds/applause.mp3' },\r\n        { id: 'f4', name: 'Bruh', file: 'https://www.myinstants.com/media/sounds/movie_1.mp3' },\r\n        { id: 'f5', name: 'Cricket', file: 'https://www.myinstants.com/media/sounds/cricket_2.mp3' },\r\n        { id: 'f6', name: 'Drum', file: 'https://www.myinstants.com/media/sounds/ba-dum-tss.mp3' }\r\n    ];\r\n\r\n    const displaySounds = sounds.length > 0 ? sounds : fallbackSounds;\r\n\r\n    return (\r\n        <div style={styles.overlay} onClick={onClose}>\r\n            <div style={styles.modal} onClick={e => e.stopPropagation()}>\r\n                <div style={styles.header}>\r\n                    <h3 style={{ margin: 0, display: 'flex', alignItems: 'center', gap: 10, textShadow: '0 0 10px rgba(235, 69, 158, 0.5)' }}>\r\n                        <FaMusic color=\"#eb459e\" /> Ses Paneli\r\n                    </h3>\r\n                    <button onClick={onClose} style={styles.closeBtn}><FaTimes /></button>\r\n                </div>\r\n\r\n                <div style={styles.grid}>\r\n                    {displaySounds.map(sound => (\r\n                        <button key={sound.id} onClick={() => playSound(sound.file)} style={styles.soundBtn}>\r\n                            <FaVolumeUp size={24} style={{ marginBottom: 5, filter: 'drop-shadow(0 0 5px rgba(255,255,255,0.5))' }} />\r\n                            <span>{sound.name}</span>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    overlay: { position: 'fixed', top: 0, left: 0, width: '100%', height: '100%', backgroundColor: 'rgba(0,0,0,0.6)', backdropFilter: 'blur(5px)', zIndex: 3000, display: 'flex', justifyContent: 'center', alignItems: 'center' },\r\n    modal: {\r\n        background: 'linear-gradient(135deg, rgba(43, 45, 49, 0.9), rgba(30, 31, 34, 0.95))',\r\n        backdropFilter: 'blur(20px)',\r\n        width: '90%', maxWidth: '500px', borderRadius: '16px', padding: '24px',\r\n        border: '1px solid rgba(255,255,255,0.1)',\r\n        boxShadow: '0 10px 40px rgba(0,0,0,0.5)'\r\n    },\r\n    header: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px', color: 'white', borderBottom: '1px solid rgba(255,255,255,0.05)', paddingBottom: '15px' },\r\n    closeBtn: { background: 'none', border: 'none', color: '#b9bbbe', fontSize: '1.2em', cursor: 'pointer', transition: 'color 0.2s', ':hover': { color: '#fff' } },\r\n    grid: { display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(110px, 1fr))', gap: '12px' },\r\n    soundBtn: {\r\n        backgroundColor: 'rgba(255,255,255,0.05)',\r\n        color: '#dbdee1',\r\n        border: '1px solid rgba(255,255,255,0.05)',\r\n        borderRadius: '12px',\r\n        padding: '20px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        gap: '8px',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s',\r\n        fontSize: '0.95em',\r\n        fontWeight: 'bold',\r\n        ':hover': {\r\n            backgroundColor: 'rgba(235, 69, 158, 0.2)',\r\n            transform: 'translateY(-2px)',\r\n            borderColor: '#eb459e',\r\n            color: 'white'\r\n        }\r\n    }\r\n};\r\n\r\nexport default SoundboardModal;\r\n\r\n"],"names":["useState","useEffect","jsxs","jsx"],"mappings":"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"}
import{r as n,aQ as k,l as C,aX as S,aI as v,v as w}from"./react-core-B6hadH-M.js";import{h as F}from"./index-D_6pZib5.js";const J=({onClose:u,onSelect:y,fetchWithAuth:l,apiBaseUrl:r,isAdmin:g})=>{const[s,i]=n.useState([]),[x,d]=n.useState(!0),[b,c]=n.useState(!1),[t,o]=n.useState({name:"",content:"",is_global:!1});n.useEffect(()=>{p()},[]);const p=async()=>{d(!0);try{const e=await l(`${r}/templates/`);if(e.ok){const a=await e.json();i(a||[])}}catch(e){console.error(e)}d(!1)},f=async()=>{if(!(!t.name||!t.content))try{(await l(`${r}/templates/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(o({name:"",content:"",is_global:!1}),c(!1),p())}catch(e){console.error(e)}},R=async(e,a)=>{if(a.stopPropagation(),!!await F("Bu şablonu silmek istediğine emin misin?"))try{(await l(`${r}/templates/${e}/`,{method:"DELETE"})).ok&&i(E=>E.filter(h=>h.id!==e))}catch(m){console.error(m)}};return React.createElement("div",{style:T},React.createElement("div",{style:B},React.createElement("div",{style:D},React.createElement("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"}},React.createElement(k,null)," Hazır Şablonlar"),React.createElement("button",{onClick:u,style:z},React.createElement(C,null))),React.createElement("div",{style:I},b?React.createElement("div",{style:$},React.createElement("input",{placeholder:"Şablon Adı",value:t.name,onChange:e=>o({...t,name:e.target.value}),style:N}),React.createElement("textarea",{placeholder:"Şablon İçeriği...",value:t.content,onChange:e=>o({...t,content:e.target.value}),style:P}),g&&React.createElement("label",{style:{display:"flex",alignItems:"center",gap:"5px",fontSize:"12px"}},React.createElement("input",{type:"checkbox",checked:t.is_global,onChange:e=>o({...t,is_global:e.target.checked})}),"Herkese Açık (Global)"),React.createElement("div",{style:{display:"flex",gap:"10px",marginTop:"10px"}},React.createElement("button",{onClick:f,style:Y},React.createElement(S,null)," Kaydet"),React.createElement("button",{onClick:()=>c(!1),style:G},"İptal"))):React.createElement(React.Fragment,null,React.createElement("button",{onClick:()=>c(!0),style:A},React.createElement(v,null)," Yeni Şablon Oluştur"),React.createElement("div",{style:j},x?React.createElement("p",null,"Yükleniyor..."):s.length===0?React.createElement("p",{style:{opacity:.5}},"Henüz şablon yok."):s.map(e=>React.createElement("div",{key:e.id,style:H,onClick:()=>y(e.content)},React.createElement("div",null,React.createElement("div",{style:{fontWeight:"bold"}},e.name),React.createElement("div",{style:{fontSize:"12px",opacity:.7,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px"}},e.content)),React.createElement("div",{style:{display:"flex",gap:"10px"}},e.is_global&&React.createElement("span",{style:_},"Global"),React.createElement("button",{onClick:a=>R(e.id,a),style:O},React.createElement(w,null))))))))))},T={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(5px)"},B={backgroundColor:"#313338",width:"400px",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 15px rgba(0,0,0,0.5)",color:"white",display:"flex",flexDirection:"column",maxHeight:"80vh"},D={padding:"16px",backgroundColor:"#2B2D31",borderBottom:"1px solid #1F2023",display:"flex",justifyContent:"space-between",alignItems:"center"},z={background:"none",border:"none",color:"#B5BAC1",cursor:"pointer",fontSize:"16px"},I={padding:"16px",overflowY:"auto"},A={width:"100%",padding:"10px",backgroundColor:"#5865F2",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px",marginBottom:"15px"},j={display:"flex",flexDirection:"column",gap:"8px"},H={backgroundColor:"#2B2D31",padding:"10px",borderRadius:"4px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",transition:"0.2s"},_={fontSize:"10px",backgroundColor:"#FAA61A",color:"black",padding:"2px 6px",borderRadius:"10px",fontWeight:"bold"},O={background:"none",border:"none",color:"#DA373C",cursor:"pointer"},$={display:"flex",flexDirection:"column",gap:"10px"},N={padding:"8px",borderRadius:"4px",border:"none",backgroundColor:"#1E1F22",color:"white"},P={padding:"8px",borderRadius:"4px",border:"none",backgroundColor:"#1E1F22",color:"white",minHeight:"100px",resize:"vertical"},Y={flex:1,padding:"8px",backgroundColor:"#23A559",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},G={flex:1,padding:"8px",backgroundColor:"#DA373C",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"};export{J as default};

import{r as i,n as e}from"./react-core-Cj7FUMmY.js";import{u as v,a as k}from"./icons-vendor-DnRG7SaF.js";import{t as n}from"./index-DcErrD_T.js";import"./editor-vendor-D9c4a6XZ.js";import"./media-vendor-BsD1gqUZ.js";import"./router-vendor-QeioVw-9.js";import"./state-vendor-MN-5i-Jz.js";import"./crypto-vendor-DK-7ILyQ.js";const A=({fetchWithAuth:g,apiBaseUrl:h,serverId:m,onClose:s})=>{const[o,b]=i.useState("ban"),[a,d]=i.useState(""),[c,p]=i.useState(""),[x,u]=i.useState(""),[f,y]=i.useState(!1),j=async()=>{if(!a.trim()){n.error("KullanÄ±cÄ± ID'leri girin");return}const l=a.split(`
`).map(r=>r.trim()).filter(r=>r);if(l.length===0){n.error("GeÃ§erli kullanÄ±cÄ± ID'si bulunamadÄ±");return}try{y(!0),(await g(`${h}/moderation/mass_action/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:m,action_type:o,user_ids:l,reason:c,duration:x||null})})).ok?(n.success(`${l.length} kullanÄ±cÄ±ya ${o} iÅŸlemi uygulandÄ±`),d(""),p(""),u("")):n.error("Ä°ÅŸlem baÅŸarÄ±sÄ±z oldu")}catch{n.error("Bir hata oluÅŸtu")}finally{y(!1)}};return e.jsx("div",{style:t.overlay,onClick:s,children:e.jsxs("div",{style:t.modal,onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{style:t.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(v,{style:{color:"#f04747"}}),e.jsx("h2",{style:{margin:0},children:"Toplu Moderasyon"})]}),e.jsx(k,{onClick:s,style:t.closeBtn})]}),e.jsxs("div",{style:t.content,children:[e.jsxs("div",{style:t.field,children:[e.jsx("label",{style:t.label,children:"Ä°ÅŸlem TÃ¼rÃ¼"}),e.jsxs("select",{value:o,onChange:l=>b(l.target.value),style:t.select,children:[e.jsx("option",{value:"ban",children:"ðŸ”¨ Ban (Yasakla)"}),e.jsx("option",{value:"kick",children:"ðŸ‘¢ Kick (At)"}),e.jsx("option",{value:"mute",children:"ðŸ”‡ Mute (Sustur)"}),e.jsx("option",{value:"timeout",children:"â° Timeout (Zaman AÅŸÄ±mÄ±)"}),e.jsx("option",{value:"warn",children:"âš ï¸ Warn (Uyar)"}),e.jsx("option",{value:"delete_messages",children:"ðŸ—‘ï¸ Delete Messages (MesajlarÄ± Sil)"})]})]}),e.jsxs("div",{style:t.field,children:[e.jsx("label",{style:t.label,children:"KullanÄ±cÄ± ID'leri (Her satÄ±rda bir tane)"}),e.jsx("textarea",{value:a,onChange:l=>d(l.target.value),placeholder:`123456789
987654321
555555555`,style:t.textarea,rows:8})]}),(o==="mute"||o==="timeout")&&e.jsxs("div",{style:t.field,children:[e.jsx("label",{style:t.label,children:"SÃ¼re (dakika)"}),e.jsx("input",{type:"number",value:x,onChange:l=>u(l.target.value),placeholder:"60",style:t.input})]}),e.jsxs("div",{style:t.field,children:[e.jsx("label",{style:t.label,children:"Sebep (opsiyonel)"}),e.jsx("input",{type:"text",value:c,onChange:l=>p(l.target.value),placeholder:"Spam, kural ihlali, vb.",style:t.input})]}),e.jsxs("div",{style:t.warning,children:["âš ï¸ Bu iÅŸlem ",e.jsx("strong",{children:a.split(`
`).filter(l=>l.trim()).length})," kullanÄ±cÄ±yÄ± etkileyecek!"]})]}),e.jsxs("div",{style:t.footer,children:[e.jsx("button",{onClick:s,style:t.cancelBtn,children:"Ä°ptal"}),e.jsx("button",{onClick:j,disabled:f,style:t.executeBtn,children:f?"Ä°ÅŸleniyor...":"Uygula"})]})]})})},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},select:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},textarea:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",fontFamily:"monospace",resize:"vertical"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},warning:{backgroundColor:"#faa61a1a",border:"1px solid #faa61a",borderRadius:"4px",padding:"15px",color:"#faa61a",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},cancelBtn:{flex:1,backgroundColor:"#2c2f33",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},executeBtn:{flex:1,backgroundColor:"#f04747",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{A as default};

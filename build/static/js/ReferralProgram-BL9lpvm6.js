import{r}from"./react-core-B6hadH-M.js";import{a as o}from"./index-D5GkNzM3.js";import{t as m}from"./index-D_6pZib5.js";function g({user:l}){const[a,d]=r.useState(""),[e,u]=r.useState(0),[f,N]=r.useState([]),[w,s]=r.useState(!1);r.useEffect(()=>{l&&i()},[l]);const i=async()=>{try{const t=await o.get("/api/user/profile/");d(t.data.referral_code||R()),u(t.data.referral_count||0)}catch(t){console.error("Failed to load referral data:",t)}},R=()=>Math.random().toString(36).substring(2,10).toUpperCase(),p=()=>{const t=`https://www.pawscord.com/join/${a}`;navigator.clipboard.writeText(t),s(!0),setTimeout(()=>s(!1),2e3)},E=()=>{const t=`Join me on Pawscord - a privacy-first Discord alternative! üêæ

No tracking. No ads. 100% open source.

Sign up with my link for 3 months free premium:`,h=`https://www.pawscord.com/join/${a}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(h)}`,"_blank")},c=async()=>{try{const t=await o.post("/api/referral/claim/");m.success(`Reward claimed! You got ${t.data.reward}`),i()}catch(t){m.error(t.response?.data?.error||"Failed to claim reward")}},n=e>=10?"lifetime":e>=5?"6months":e>=1?"1month":"none";return React.createElement("div",{className:"referral-program"},React.createElement("div",{className:"referral-header"},React.createElement("h2",null,"üéÅ Invite Friends, Get Rewards"),React.createElement("p",null,"Share Pawscord and earn free premium for every friend who joins!")),React.createElement("div",{className:"referral-link-card"},React.createElement("label",null,"Your Referral Link:"),React.createElement("div",{className:"link-container"},React.createElement("input",{type:"text",value:`https://www.pawscord.com/join/${a}`,readOnly:!0,className:"referral-input"}),React.createElement("button",{onClick:p,className:"copy-btn"},w?"‚úÖ Copied!":"üìã Copy")),React.createElement("button",{onClick:E,className:"share-btn twitter"},"üê¶ Share on Twitter")),React.createElement("div",{className:"referral-stats"},React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-value"},e),React.createElement("div",{className:"stat-label"},"Friends Referred")),React.createElement("div",{className:"stat-card"},React.createElement("div",{className:"stat-value"},n==="lifetime"?"‚àû":n==="6months"?"6mo":n==="1month"?"1mo":"0"),React.createElement("div",{className:"stat-label"},"Premium Earned"))),React.createElement("div",{className:"rewards-tiers"},React.createElement("h3",null,"Reward Tiers:"),React.createElement("div",{className:"tier-list"},React.createElement("div",{className:`tier-item ${e>=1?"unlocked":""}`},React.createElement("div",{className:"tier-icon"},"ü•â"),React.createElement("div",{className:"tier-info"},React.createElement("div",{className:"tier-title"},"Bronze"),React.createElement("div",{className:"tier-reward"},"1 Month Premium"),React.createElement("div",{className:"tier-requirement"},"1 Friend")),e>=1&&e<5&&React.createElement("button",{onClick:c,className:"claim-btn"},"Claim")),React.createElement("div",{className:`tier-item ${e>=5?"unlocked":""}`},React.createElement("div",{className:"tier-icon"},"ü•à"),React.createElement("div",{className:"tier-info"},React.createElement("div",{className:"tier-title"},"Silver"),React.createElement("div",{className:"tier-reward"},"6 Months Premium"),React.createElement("div",{className:"tier-requirement"},"5 Friends")),e>=5&&e<10&&React.createElement("button",{onClick:c,className:"claim-btn"},"Claim")),React.createElement("div",{className:`tier-item ${e>=10?"unlocked":""}`},React.createElement("div",{className:"tier-icon"},"ü•á"),React.createElement("div",{className:"tier-info"},React.createElement("div",{className:"tier-title"},"Gold"),React.createElement("div",{className:"tier-reward"},"Lifetime Premium üöÄ"),React.createElement("div",{className:"tier-requirement"},"10 Friends")),e>=10&&React.createElement("button",{onClick:c,className:"claim-btn"},"Claim")))),React.createElement("div",{className:"progress-section"},React.createElement("h3",null,"Your Progress:"),React.createElement("div",{className:"progress-bar"},React.createElement("div",{className:"progress-fill",style:{width:`${Math.min(e/10*100,100)}%`}},React.createElement("span",null,e," / 10"))),React.createElement("p",{className:"progress-hint"},e>=10?"üéâ You unlocked Lifetime Premium!":e>=5?`${10-e} more friends for Lifetime Premium!`:e>=1?`${5-e} more for 6 Months Premium!`:"Share your link to start earning rewards!")),React.createElement("div",{className:"how-it-works"},React.createElement("h3",null,"How It Works:"),React.createElement("ol",null,React.createElement("li",null,"üì§ Share your unique referral link with friends"),React.createElement("li",null,"‚úÖ They sign up using your link"),React.createElement("li",null,"üéÅ You automatically earn premium time!"),React.createElement("li",null,"üîÅ Keep sharing to unlock more rewards"))),React.createElement("div",{className:"social-share"},React.createElement("h3",null,"Share on:"),React.createElement("div",{className:"share-buttons"},React.createElement("button",{onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=https://www.pawscord.com/join/${a}`,"_blank"),className:"share-btn facebook"},"üìò Facebook"),React.createElement("button",{onClick:()=>window.open(`https://www.reddit.com/submit?url=https://www.pawscord.com/join/${a}&title=Check out Pawscord!`,"_blank"),className:"share-btn reddit"},"ü§ñ Reddit"),React.createElement("button",{onClick:()=>window.open(`https://wa.me/?text=Join me on Pawscord! https://www.pawscord.com/join/${a}`,"_blank"),className:"share-btn whatsapp"},"üí¨ WhatsApp"),React.createElement("button",{onClick:()=>window.open(`https://t.me/share/url?url=https://www.pawscord.com/join/${a}&text=Check out Pawscord!`,"_blank"),className:"share-btn telegram"},"‚úàÔ∏è Telegram"))))}export{g as default};

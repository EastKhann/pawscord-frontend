{"version":3,"file":"UserActivityPanel-CD0qRsam.js","sources":["../../../src/components/UserActivityPanel.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { FaTimes, FaChartBar, FaClock, FaCalendar } from 'react-icons/fa';\nimport { toast } from '../utils/toast';\n\nconst UserActivityPanel = ({ fetchWithAuth, apiBaseUrl, onClose, username }) => {\n    const [activityLog, setActivityLog] = useState([]);\n    const [presenceHistory, setPresenceHistory] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [activeTab, setActiveTab] = useState('activity'); // activity, presence\n\n    useEffect(() => {\n        fetchActivityLog();\n        fetchPresenceHistory();\n    }, [username]);\n\n    const fetchActivityLog = async () => {\n        setLoading(true);\n        try {\n            const response = await fetchWithAuth(`${apiBaseUrl}/activity/${username}/`);\n            const data = await response.json();\n            setActivityLog(data.activity || []);\n        } catch (error) {\n            toast.error('Failed to load activity log');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const fetchPresenceHistory = async () => {\n        try {\n            const response = await fetchWithAuth(`${apiBaseUrl}/presence/${username}/`);\n            const data = await response.json();\n            setPresenceHistory(data.history || []);\n        } catch (error) {\n            toast.error('Failed to load presence history');\n        }\n    };\n\n    const getActivityIcon = (type) => {\n        switch (type) {\n            case 'message':\n                return 'üí¨';\n            case 'reaction':\n                return '‚ù§Ô∏è';\n            case 'join':\n                return 'üö™';\n            case 'voice':\n                return 'üé§';\n            default:\n                return 'üìä';\n        }\n    };\n\n    return (\n        <div style={styles.overlay}>\n            <div style={styles.modal}>\n                <div style={styles.header}>\n                    <div style={styles.headerLeft}>\n                        <FaChartBar style={{ marginRight: '10px', color: '#5865f2' }} />\n                        <h2 style={styles.title}>Activity - {username}</h2>\n                    </div>\n                    <button onClick={onClose} style={styles.closeButton}>\n                        <FaTimes />\n                    </button>\n                </div>\n\n                <div style={styles.tabs}>\n                    <button onClick={() => setActiveTab('activity')} style={{ ...styles.tab, ...(activeTab === 'activity' && styles.tabActive) }}>\n                        <FaClock style={{ marginRight: '5px' }} />\n                        Activity Log\n                    </button>\n                    <button onClick={() => setActiveTab('presence')} style={{ ...styles.tab, ...(activeTab === 'presence' && styles.tabActive) }}>\n                        <FaCalendar style={{ marginRight: '5px' }} />\n                        Presence History\n                    </button>\n                </div>\n\n                <div style={styles.content}>\n                    {loading ? (\n                        <div style={styles.loading}>Loading activity...</div>\n                    ) : activeTab === 'activity' ? (\n                        <div style={styles.activityList}>\n                            {activityLog.length === 0 ? (\n                                <div style={styles.empty}>No activity data available</div>\n                            ) : (\n                                activityLog.map((activity, idx) => (\n                                    <div key={idx} style={styles.activityItem}>\n                                        <div style={styles.activityIcon}>{getActivityIcon(activity.type)}</div>\n                                        <div style={styles.activityInfo}>\n                                            <div style={styles.activityText}>{activity.description}</div>\n                                            <div style={styles.activityTime}>\n                                                {new Date(activity.timestamp).toLocaleString()}\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))\n                            )}\n                        </div>\n                    ) : (\n                        <div style={styles.presenceList}>\n                            {presenceHistory.length === 0 ? (\n                                <div style={styles.empty}>No presence history available</div>\n                            ) : (\n                                presenceHistory.map((presence, idx) => (\n                                    <div key={idx} style={styles.presenceItem}>\n                                        <div style={{\n                                            ...styles.statusIndicator,\n                                            backgroundColor: presence.status === 'online' ? '#43b581' :\n                                                presence.status === 'idle' ? '#faa61a' :\n                                                    presence.status === 'dnd' ? '#f04747' : '#99aab5'\n                                        }} />\n                                        <div style={styles.presenceInfo}>\n                                            <div style={styles.presenceStatus}>\n                                                {presence.status.charAt(0).toUpperCase() + presence.status.slice(1)}\n                                            </div>\n                                            <div style={styles.presenceTime}>\n                                                {new Date(presence.timestamp).toLocaleString()}\n                                            </div>\n                                        </div>\n                                        {presence.duration && (\n                                            <div style={styles.presenceDuration}>\n                                                {Math.round(presence.duration / 60)} minutes\n                                            </div>\n                                        )}\n                                    </div>\n                                ))\n                            )}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst styles = {\n    overlay: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 999999,\n    },\n    modal: {\n        backgroundColor: '#1e1e1e',\n        borderRadius: '8px',\n        width: '90%',\n        maxWidth: '700px',\n        maxHeight: '90vh',\n        display: 'flex',\n        flexDirection: 'column',\n        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4)',\n    },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '20px',\n        borderBottom: '1px solid #2c2f33',\n    },\n    headerLeft: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    title: {\n        margin: 0,\n        fontSize: '20px',\n        color: '#ffffff',\n    },\n    closeButton: {\n        background: 'none',\n        border: 'none',\n        color: '#99aab5',\n        cursor: 'pointer',\n        fontSize: '20px',\n        padding: '5px',\n    },\n    tabs: {\n        display: 'flex',\n        borderBottom: '1px solid #2c2f33',\n        padding: '0 20px',\n    },\n    tab: {\n        padding: '12px 20px',\n        backgroundColor: 'transparent',\n        border: 'none',\n        color: '#99aab5',\n        cursor: 'pointer',\n        fontSize: '14px',\n        display: 'flex',\n        alignItems: 'center',\n        borderBottom: '2px solid transparent',\n    },\n    tabActive: {\n        color: '#5865f2',\n        borderBottom: '2px solid #5865f2',\n    },\n    content: {\n        padding: '20px',\n        overflowY: 'auto',\n        flex: 1,\n    },\n    loading: {\n        textAlign: 'center',\n        color: '#99aab5',\n        padding: '40px',\n    },\n    empty: {\n        textAlign: 'center',\n        color: '#99aab5',\n        padding: '40px',\n    },\n    activityList: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '12px',\n    },\n    activityItem: {\n        backgroundColor: '#2c2f33',\n        borderRadius: '6px',\n        padding: '16px',\n        display: 'flex',\n        gap: '16px',\n        alignItems: 'center',\n    },\n    activityIcon: {\n        fontSize: '24px',\n    },\n    activityInfo: {\n        flex: 1,\n    },\n    activityText: {\n        fontSize: '14px',\n        color: '#dcddde',\n        marginBottom: '4px',\n    },\n    activityTime: {\n        fontSize: '12px',\n        color: '#99aab5',\n    },\n    presenceList: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '12px',\n    },\n    presenceItem: {\n        backgroundColor: '#2c2f33',\n        borderRadius: '6px',\n        padding: '16px',\n        display: 'flex',\n        gap: '12px',\n        alignItems: 'center',\n    },\n    statusIndicator: {\n        width: '12px',\n        height: '12px',\n        borderRadius: '50%',\n    },\n    presenceInfo: {\n        flex: 1,\n    },\n    presenceStatus: {\n        fontSize: '14px',\n        fontWeight: '600',\n        color: '#ffffff',\n        marginBottom: '4px',\n    },\n    presenceTime: {\n        fontSize: '12px',\n        color: '#99aab5',\n    },\n    presenceDuration: {\n        fontSize: '13px',\n        color: '#dcddde',\n    },\n};\n\nexport default UserActivityPanel;\n"],"names":["useState","useEffect","jsx","jsxs"],"mappings":"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"}
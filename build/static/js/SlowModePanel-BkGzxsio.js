var y=Object.defineProperty;var t=(n,a)=>y(n,"name",{value:a,configurable:!0});import{r as d,j as e}from"./react-core-Djgtqrmb.js";import{z as m,a as h,bo as k,bp as v}from"./icons-vendor-BW7dxHkX.js";import{t as c}from"./index-CjRzheBN.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const _=t(({fetchWithAuth:n,apiBaseUrl:a,roomSlug:p,onClose:s})=>{const[r,i]=d.useState({enabled:!1,interval_seconds:5}),[j,x]=d.useState(!0),g=[{label:"5 saniye",value:5},{label:"10 saniye",value:10},{label:"15 saniye",value:15},{label:"30 saniye",value:30},{label:"1 dakika",value:60},{label:"2 dakika",value:120},{label:"5 dakika",value:300},{label:"10 dakika",value:600},{label:"15 dakika",value:900}];d.useEffect(()=>{b()},[]);const b=t(async()=>{try{x(!0);const l=await n(`${a}/rooms/${p}/slowmode/`);if(l.ok){const f=await l.json();f&&i(f)}}catch{}finally{x(!1)}},"loadSlowMode"),u=t(async()=>{try{(await n(`${a}/rooms/slowmode/set/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:p,...r})})).ok?(c.success("Slow mode ayarları kaydedildi"),s()):c.error("Ayarlar kaydedilemedi")}catch{c.error("Bir hata oluştu")}},"saveSlowMode");return e.jsx("div",{style:o.overlay,onClick:s,children:e.jsxs("div",{style:o.modal,onClick:t(l=>l.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:o.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(m,{style:{color:"#faa61a"}}),e.jsx("h2",{style:{margin:0},children:"Slow Mode"})]}),e.jsx(h,{onClick:s,style:o.closeBtn})]}),e.jsxs("div",{style:o.content,children:[e.jsxs("div",{style:o.toggle,children:[e.jsxs("div",{style:o.toggleInfo,children:[e.jsx("strong",{children:"Slow Mode'u Etkinleştir"}),e.jsx("p",{style:o.desc,children:"Kullanıcılar mesaj gönderdikten sonra belirli bir süre beklemek zorunda kalır"})]}),e.jsx("button",{onClick:t(()=>i({...r,enabled:!r.enabled}),"onClick"),style:o.toggleBtn,children:r.enabled?e.jsx(k,{style:{color:"#43b581",fontSize:"32px"}}):e.jsx(v,{style:{color:"#888",fontSize:"32px"}})})]}),r.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:o.field,children:[e.jsx("label",{style:o.label,children:"Mesajlar Arası Bekleme Süresi"}),e.jsx("div",{style:o.presetGrid,children:g.map(l=>e.jsx("button",{onClick:t(()=>i({...r,interval_seconds:l.value}),"onClick"),style:{...o.presetBtn,backgroundColor:r.interval_seconds===l.value?"#5865f2":"#2c2f33"},children:l.label},l.value))})]}),e.jsxs("div",{style:o.field,children:[e.jsx("label",{style:o.label,children:"Özel Süre (saniye)"}),e.jsx("input",{type:"number",value:r.interval_seconds,onChange:t(l=>i({...r,interval_seconds:parseInt(l.target.value)||0}),"onChange"),min:"1",max:"21600",style:o.input})]}),e.jsxs("div",{style:o.info,children:["⏱️ Kullanıcılar her ",e.jsxs("strong",{children:[r.interval_seconds," saniye"]}),"'de bir mesaj gönderebilecek"]})]})]}),e.jsxs("div",{style:o.footer,children:[e.jsx("button",{onClick:s,style:o.cancelBtn,children:"İptal"}),e.jsx("button",{onClick:u,style:o.saveBtn,children:"Kaydet"})]})]})})},"SlowModePanel"),o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},toggle:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",backgroundColor:"#2c2f33",borderRadius:"8px",marginBottom:"20px"},toggleInfo:{flex:1},desc:{fontSize:"13px",color:"#888",margin:"6px 0 0 0"},toggleBtn:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"12px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},presetGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"15px"},presetBtn:{padding:"12px",border:"none",borderRadius:"4px",color:"#fff",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},input:{width:"100%",padding:"12px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},info:{backgroundColor:"#5865f21a",border:"1px solid #5865f2",borderRadius:"4px",padding:"15px",color:"#5865f2",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},cancelBtn:{flex:1,backgroundColor:"#2c2f33",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},saveBtn:{flex:1,backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{_ as default};

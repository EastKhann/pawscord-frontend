var v=Object.defineProperty;var r=(s,i)=>v(s,"name",{value:i,configurable:!0});import{r as u,j as e}from"./react-core-Djgtqrmb.js";import{z as j,a as S,G as C}from"./icons-vendor-BMXAt4pj.js";import{t as l}from"./index-D0nbcjO7.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-CbW2fAN9.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const $=r(({fetchWithAuth:s,apiBaseUrl:i,roomSlug:c,userId:x,username:p,onClose:n})=>{const[a,f]=u.useState("60"),[m,g]=u.useState(""),[b,d]=u.useState(!1),y=[{label:"1 Dakika",value:"1"},{label:"5 Dakika",value:"5"},{label:"10 Dakika",value:"10"},{label:"30 Dakika",value:"30"},{label:"1 Saat",value:"60"},{label:"6 Saat",value:"360"},{label:"12 Saat",value:"720"},{label:"24 Saat",value:"1440"},{label:"7 Gün",value:"10080"}],h=r(async()=>{if(!a||parseInt(a)<=0){l.error("Geçerli bir süre girin");return}try{d(!0),(await s(`${i}/rooms/mute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:c,user_id:x,duration_minutes:parseInt(a),reason:m})})).ok?(l.success(`${p} ${a} dakika susturuldu`),n()):l.error("Susturma başarısız oldu")}catch{l.error("Bir hata oluştu")}finally{d(!1)}},"applyMute"),k=r(async()=>{try{d(!0),(await s(`${i}/rooms/unmute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:c,user_id:x})})).ok?(l.success(`${p} susturması kaldırıldı`),n()):l.error("İşlem başarısız oldu")}catch{l.error("Bir hata oluştu")}finally{d(!1)}},"removeMute");return e.jsx("div",{style:o.overlay,onClick:n,children:e.jsxs("div",{style:o.modal,onClick:r(t=>t.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:o.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(j,{style:{color:"#faa61a"}}),e.jsxs("h2",{style:{margin:0},children:["Timeout - ",p]})]}),e.jsx(S,{onClick:n,style:o.closeBtn})]}),e.jsxs("div",{style:o.content,children:[e.jsx("div",{style:o.presets,children:y.map(t=>e.jsx("button",{onClick:r(()=>f(t.value),"onClick"),style:{...o.presetBtn,backgroundColor:a===t.value?"#5865f2":"#2c2f33"},children:t.label},t.value))}),e.jsxs("div",{style:o.field,children:[e.jsx("label",{style:o.label,children:"Özel Süre (dakika)"}),e.jsx("input",{type:"number",value:a,onChange:r(t=>f(t.target.value),"onChange"),placeholder:"60",style:o.input,min:"1"})]}),e.jsxs("div",{style:o.field,children:[e.jsx("label",{style:o.label,children:"Sebep (opsiyonel)"}),e.jsx("textarea",{value:m,onChange:r(t=>g(t.target.value),"onChange"),placeholder:"Spam, kural ihlali, vb.",style:o.textarea,rows:3})]}),e.jsxs("div",{style:o.info,children:["⏰ Kullanıcı ",e.jsxs("strong",{children:[a," dakika"]})," boyunca mesaj gönderemeyecek"]})]}),e.jsxs("div",{style:o.footer,children:[e.jsxs("button",{onClick:k,style:o.unmuteBtn,children:[e.jsx(C,{})," Susturmayı Kaldır"]}),e.jsx("button",{onClick:h,disabled:b,style:o.muteBtn,children:b?"İşleniyor...":"Timeout Uygula"})]})]})})},"TimeoutMutePanel"),o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},presets:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"20px"},presetBtn:{padding:"12px",border:"none",borderRadius:"4px",color:"#fff",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},textarea:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",resize:"vertical"},info:{backgroundColor:"#5865f21a",border:"1px solid #5865f2",borderRadius:"4px",padding:"15px",color:"#5865f2",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},unmuteBtn:{flex:1,backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},muteBtn:{flex:1,backgroundColor:"#faa61a",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{$ as default};

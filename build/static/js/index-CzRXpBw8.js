const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/web-BCj4wF-k.js","static/js/media-vendor-DQG9xQkU.js","static/js/react-core-CvG1duuD.js","static/js/editor-vendor-D9c4a6XZ.js","static/js/router-vendor-DXeerrpf.js","static/js/icons-vendor-DhG1XKwU.js","static/js/state-vendor-BJ77FbUv.js","static/js/crypto-vendor-BHxPXfg-.js","static/js/ServerSettingsModal-B7rnftwa.js","static/js/ui-vendor-CZjcsNHc.js","static/js/AutoResponderManager-ja3QCYwB.js","static/js/VanityURLManager-BOxf93kD.js","static/js/UserProfileModal-C__lb767.js","static/js/SessionManagerModal-DphWRTKO.js","static/js/UserNotesModal-Wlu6EYB2.js","static/js/ImageModal-B0CS9zTI.js","static/js/GifPicker-DJ0rmchd.js","static/js/StickerPicker-DhdrF-QP.js","static/js/PollCreateModal-3BVyA7nC.js","static/js/CodeSnippetModal-DjS82gHJ.js","static/js/Message--_h_mRoi.js","static/js/LazyImage-Dj0uUchY.js","static/js/imageCaching--KtX5P-6.js","static/js/purify.es-FVN2sLic.js","static/js/syntax-core-Cvprr4pv.js","static/js/perf-vendor-Dzl7HULm.js","static/js/VirtualMessageList-BhTfaIja.js","static/js/MessageInput-B7te6sxP.js","static/js/MessageTemplateModal-CL_5fnV0.js","static/js/ScheduledMessageModal-Dv5TzV0c.js","static/css/MessageInput-Q2oINpgp.css","static/js/UserVideoContainer-DXtMMyx1.js","static/js/VoiceAudioController-CEUjow1u.js","static/js/RichTextEditor-BUccRZ7n.js","static/css/RichTextEditor-D1KllEDh.css","static/js/StickyMessageBanner-DhjrMQcv.js","static/js/LoginPage-BbvyPbV8.js","static/js/recaptcha-B7diSl0O.js","static/js/WelcomeScreen-nKuvtvBy.js","static/js/DownloadModal-CfMgYN2G.js","static/js/AvatarCropper-BT1VtnGW.js","static/css/AvatarCropper-D7v9iP7L.css","static/js/CryptoChartModal-caxdunPj.js","static/js/CryptoStoreModal-D5CSrQu4.js","static/js/PremiumStoreModal-C7hKj6_o.js","static/js/CoinStoreModal-Zgb6jh50.js","static/js/WhiteboardModal-Bl_pQh07.js","static/js/SoundboardModal-jHvC71hR.js","static/js/KanbanBoard-CWJRvTa6.js","static/js/SummaryModal-CtvVLgp9.js","static/js/CinemaModal-B1RcBqMK.js","static/js/DJModal-CMOhwfQM.js","static/js/ThemeStoreModal-q0AF3BQl.js","static/js/EncryptionKeyModal-CPHoRQqP.js","static/js/CreateGroupModal-6OlIHS61.js","static/js/AdminAnalyticsPanel-D_gdZCFZ.js","static/js/AdminPanelModal-CreVNsTC.js","static/js/WebhooksPanel-CQLpDoW3.js","static/css/WebhooksPanel-Cn13v79_.css","static/js/AutoModerationDashboard-D-NvJVSI.js","static/js/AutoModerationPanel-C793S0GW.js","static/css/AutoModerationPanel-iAw0CZQU.css","static/js/RaidProtectionPanel-C9i9aYEJ.js","static/js/ReportSystemPanel-DDs2H3mW.js","static/js/AuditLogPanel-UR-0tNFU.js","static/js/UserWarningsPanel-BGpVS9qo.js","static/js/BookmarkPanel-CK3ZupnZ.js","static/js/ReadLaterPanel-noYmLTtP.js","static/css/ReadLaterPanel-B_WZGTiX.css","static/js/ChannelPermissionsPanel-DW98Sdo8.js","static/js/MessageThreadsPanel--vPz1luD.js","static/js/ModeratorNotesPanel-aZ7xA_rE.js","static/js/ServerRolesPanel-BzPQ4LjI.js","static/js/NotificationPreferencesPanel-DpGKoJ3r.js","static/js/MessageOCRPanel-Hn1_heaK.js","static/js/MassActionsPanel-D6eZMVy6.js","static/js/TimeoutMutePanel-DGr59XSd.js","static/js/ServerThemesPanel-BoD8jrQV.js","static/js/KeywordMutesPanel-BCx_yIvm.js","static/js/WelcomeTemplatesPanel-NzROonzw.js","static/js/StickyMessagesPanel-CbdJZYJW.js","static/js/MessageTemplatesPanel-DMIml_Sh.js","static/js/MessageExportPanel-D8zKkTu7.js","static/js/ArchivedRoomsPanel-hY55dSYA.js","static/js/SlowModePanel-Ipk940Oi.js","static/js/EmojiManagementPanel-B5USmho0.js","static/js/MentionsInboxPanel-DeL86OWB.js","static/js/CustomStatusModal-BaRtBOM2.js","static/js/ReactionAnalyticsPanel-BwHajhP1.js","static/js/LinkClickTrackingPanel-CpWy13Rx.js","static/js/JoinLeaveLogsPanel-C-D2frKr.js","static/js/UserActivityPanel-BZ1kEqbE.js","static/js/NicknameHistoryPanel-DzppGnp3.js","static/js/FieldChangeTrackingPanel-Hm1UqBHh.js","static/js/InviteAnalyticsPanel-BM2EdAiW.js","static/js/ContentScannerPanel-B15Qly62.js","static/js/EphemeralMessagesPanel-DKubhKJI.js","static/js/TopicHistoryPanel-BcQ-UpIY.js","static/js/DraftsPanel-DnvWQ55g.js","static/js/ServerNicknamesPanel-Bloqkw3W.js","static/js/ServerBoostPanel-g6si61_d.js","static/js/RoomWebhooksPanel-DpYxLcr2.js","static/js/OAuthAppsPanel--6lSe7_x.js","static/js/VanityURLPanel-CFFm6w_o.js","static/js/AutoRespondersPanel-BL0VUQxD.js","static/js/SessionManagementPanel-Ctmdz0CR.js","static/js/GDPRExportPanel-CrCSIsKx.js","static/js/DataRetentionPanel-Clj0gNy2.js","static/js/TwoFactorSetupWizard-Fis9Ismq.js","static/js/EnhancedPollsPanel-DUJW4c4D.js","static/js/VoiceTranscriptsPanel-B6WjCJ2i.js","static/js/PaymentPanel-DmO50-LA.js","static/js/StoreModal-C2H0wazq.js","static/js/DailyRewardsModal-Cdqfd1Na.js","static/js/APIUsagePanel-CYOeRTqU.js","static/js/ExportJobsPanel-iLxADLum.js","static/js/ScheduledAnnouncementsPanel-CkRScWeU.js","static/js/InviteExportPanel-DxrA3DAL.js","static/js/AdvancedSearchPanel-Bk3ZWId1.js","static/js/GrowthMetricsPanel-C9e-P6Rz.js","static/js/LinkPreviewRenderer-G8UgXsuB.js","static/js/InventoryPanel-DL1g-hP0.js","static/js/WaitlistPanel-D-gKWPIL.js","static/js/ReferralRewardsPanel-B4u5_fTi.js","static/js/VerifyEmailPage-apDpmfAT.js","static/js/ForgotPasswordPage-BCVCQKSL.js","static/js/ResetPasswordPage-DMf-pEAa.js","static/js/TwoFactorLoginPage-DlYvIAWc.js","static/js/TwoFactorSetup-_D9cQzrM.js","static/css/TwoFactorSetup-CtmcmlFU.css","static/js/TwoFactorLogin-BbBHvUsF.js","static/css/TwoFactorLogin-DgREC4Q6.css","static/js/VanityInviteScreen-B9s8jdLK.js","static/js/InviteCodeScreen-BrhG_BJ3.js","static/js/EmailVerification-Ro1o7icn.js","static/css/EmailVerification-CE2S-15C.css","static/js/MobileNav-JvKGTaOP.js","static/css/MobileNav-BLwPGkd1.css","static/js/SwipeActions-CURQBkVE.js","static/css/SwipeActions-CCPpS4d3.css","static/js/VoiceMessage-CpOTU0FP.js","static/css/VoiceMessage-Czmu0SFR.css","static/js/FriendsTab-3MrL0ImZ.js","static/js/RoomList-Bh5Zygg_.js","static/js/UserFooter-B9zOVm_g.js","static/js/InviteModal-wiqb7CJv.js","static/js/SavedMessagesModal-ELS1VskF.js","static/js/WebhookManager-YRk-DK76.js","static/js/ModeratorTools-BM6f-ENq.js","static/js/ChannelSettingsModal-CeyY7QK6.js","static/js/UserProfilePanel-CPzWwh-b.js","static/js/index-BV9jtLkh.js","static/js/LogoutModal-BuAGulAv.js","static/css/LogoutModal-CN0Shh05.css","static/css/UserProfilePanel-CYuLGoEH.css","static/js/VoiceChatPanel-CtI-m1u6.js","static/js/cjs-DSoowdRs.js","static/js/UserContextMenu-DU7lxNJ4.js","static/js/VoiceSettingsPanel-DgtpQK6p.js","static/css/VoiceSettingsPanel-D0hk1ENV.css","static/js/ChatUserList-DYAzu29T.js","static/js/PinnedMessages-BC6X79Ih.js","static/js/FloatingVoiceIsland-gO5pOZkx.js","static/css/FloatingVoiceIsland-CMKNK2uU.css","static/js/CinemaPlayer-Bodvd6GW.js","static/js/ConnectionsPanel-qOLsgdQa.js","static/css/ConnectionsPanel-BHb_cRVQ.css","static/js/PasswordSetupModal-BsHXbR1D.js","static/css/PasswordSetupModal-hiiUdoNl.css","static/js/NotificationDropdown-BvLQuY_H.js","static/js/ReactionStatsPanel-D81lDnwc.js","static/css/ReactionStatsPanel-C-EVTLx8.css","static/js/ServerHealthPanel-BA3Nf-Vx.js","static/css/ServerHealthPanel-BMi05DZE.css","static/js/ChannelAnalyticsPanel-DiyHlhRv.js","static/css/ChannelAnalyticsPanel-B6Q8OoDz.css","static/js/SmartSuggestionsPanel-B9A6L4pi.js","static/css/SmartSuggestionsPanel-BFDBx7VC.css","static/js/UserPresenceInsightsPanel-DKZvKceR.js","static/css/UserPresenceInsightsPanel-WBZVzGk9.css","static/js/MiniGamesPanel-BUeK3m_D.js","static/js/ProjectCollaborationPanel-C4yA3hFd.js","static/js/AvatarStudioPanel-D1ZPRO5V.js","static/js/ImageLightbox-Cyx16SWV.js","static/js/ChannelAboutPanel-DrdbNeHu.js","static/js/MessageSchedulePicker-C9Q_ZnRB.js","static/js/UserSettingsModal-BPfyXPXB.js","static/js/KeyboardShortcutsModal-D5kL6Cxp.js","static/js/CommandPalette-qGJ2zsV0.js","static/css/CommandPalette-DYovmTGR.css","static/js/ServerDiscoveryPage-DUmMnrud.js","static/css/ServerDiscoveryPage-C9ji3_0z.css","static/js/AppearanceSettingsPanel-CUu2Szc7.js","static/css/AppearanceSettingsPanel-DtvYtcjX.css","static/js/LanguageSelector-C2B9stvV.js","static/css/LanguageSelector-DWfI0Cd9.css","static/js/ChangelogPanel-C-rDJwTW.js","static/css/ChangelogPanel-DSahUrmd.css","static/js/NotificationSoundSettings-CNHaHED3.js","static/js/QuickSwitcher-D1rxHYcz.js","static/css/QuickSwitcher-eeXZ-Hh6.css","static/js/LoginHistory-Cj0KyeFN.js","static/js/SecuritySettingsPanel--J4EVEwn.js","static/css/SecuritySettingsPanel-CdlUdRq4.css","static/js/PrivacySettingsPanel-cOsDHoAU.js","static/css/PrivacySettingsPanel-DOp087aH.css","static/js/AccountDeletionModal-BQ216ceg.js","static/js/BlockListPanel-ChWcHcII.js","static/css/BlockListPanel-ydu-83CR.css","static/js/E2EESettingsPanel-DmiBsol-.js","static/js/ThreadView-612W_Ym5.js","static/js/ScheduledMessagesPanel-BXdq7iUv.js","static/css/ScheduledMessagesPanel-BkeBtQYY.css","static/js/ReminderPanel-DK8JmsON.js","static/css/ReminderPanel-C5wuT3oc.css","static/js/ForumPanel-DiAcaIu7.js","static/css/ForumPanel-DH186p-Q.css","static/js/StageChannelPanel-DUAFMeat.js","static/css/StageChannelPanel-ec-xBVIi.css","static/js/VideoCallModal-CrZgnBzA.js","static/js/MessageSearchPanel-UkS-g6ms.js","static/css/MessageSearchPanel-C3bbTam8.css","static/js/index-Cv7WEbD_.js","static/css/index-CXqjumg6.css","static/js/AutoRolesPanel-Dkq_I0hz.js","static/css/AutoRolesPanel-DU8S1w3K.css","static/js/ReactionRolesPanel-B3rQ2liG.js","static/css/ReactionRolesPanel-Dbki0uIx.css","static/js/WelcomeMessagesPanel-Z6sYMPG2.js","static/css/WelcomeMessagesPanel-CUulvusV.css","static/js/EventCalendar-C6FIGLJu.js","static/js/GiveawayPanel-DPip13oA.js","static/css/GiveawayPanel-DSMCDI8W.css","static/js/TicketSystemPanel-CdRHEBU9.js","static/css/TicketSystemPanel-Dw5YdR4r.css","static/js/StarboardPanel-DXk6bkKq.js","static/css/StarboardPanel-Bplj_3AV.css","static/js/ServerBackupPanel-CXmdUscq.js","static/css/ServerBackupPanel-DUuXPoYi.css","static/js/BanAppealsPanel-DBqQzfMD.js","static/css/BanAppealsPanel-Crjfvdr1.css","static/js/CustomCommandsPanel-CHboUHVy.js","static/css/CustomCommandsPanel-DzBoUe0r.css","static/js/LevelingSystemPanel-CosIsI-F.js","static/css/LevelingSystemPanel-fFhst46i.css","static/js/LiveStreamPanel-Dj0-3_b2.js","static/js/AchievementsPanel-BaBIs5dq.js","static/css/AchievementsPanel-DFaxIlHI.css","static/js/BirthdaySystemPanel-BGx8Pqk2.js","static/css/BirthdaySystemPanel-RkokRZM1.css","static/js/PremiumModal-NEOCssMa.js","static/js/MusicPlayer-DBKJ6GF3.js","static/css/MusicPlayer-2TVw9zgE.css","static/js/BotMarketplace-Ca4NBLBl.js","static/css/BotMarketplace-CV8H4agR.css","static/js/ProfileCustomization--tGKJosh.js","static/js/IntegrationHubPanel-aaz08k3e.js","static/css/IntegrationHubPanel-DWLyQi8b.css","static/js/TournamentSystem-Bk9f80Yb.js","static/js/HighlightsPanel-CcIyg72_.js","static/css/HighlightsPanel-CjciKa29.css","static/js/CustomEmbedPanel-I1w_Oxzw.js","static/css/CustomEmbedPanel-cL1bEdfz.css","static/js/SpotifyIntegrationPanel-nT8EZvxx.js","static/css/SpotifyIntegrationPanel-DG57gen_.css","static/js/ServerClonePanel-CoQt4t-3.js","static/css/ServerClonePanel-DjIQu65K.css","static/js/WeeklyChallengesPanel-DrAPQKFl.js","static/js/AIModerationPanel-Bso2lg2A.js","static/js/SpamDetectionPanel-3E0V1q4o.js","static/js/AuditLogsPanel-BYQOtUlB.js","static/css/AuditLogsPanel-C2HV5vlK.css","static/js/BanHistoryPanel-BntK0F1V.js","static/css/BanHistoryPanel-B1HoK-Y5.css","static/js/ModerationLogsPanel-B2EH6Bkr.js","static/css/ModerationLogsPanel-DihbAUcA.css","static/js/RaidProtectionDashboard-bEsGanVU.js","static/css/RaidProtectionDashboard-BDwwojVg.css","static/js/SecurityAlertsPanel-VWkHw3na.js","static/css/SecurityAlertsPanel-K6MWC1t2.css","static/js/BookmarksPanel-DGg5NI-m.js","static/js/GIFPickerPanel-DCVAfU1Z.js","static/css/GIFPickerPanel-DNJgydbk.css","static/js/PollCreator-BlHdKORd.js","static/js/StickersPanel-BifyKiYg.js","static/css/StickersPanel-MPh7JAbI.css","static/js/NotificationsCenter-Dsy1v6KG.js","static/css/NotificationsCenter-i-qTrh8-.css","static/js/MessageSummaryPanel-BsCQdRel.js","static/css/MessageSummaryPanel-Bw4dZH15.css","static/js/TranslationPanel-BIX8P7Pi.js","static/css/TranslationPanel-rNJv43tY.css","static/js/ServerTemplates-BKKN0YRs.js","static/css/ServerTemplates-H_lq5rz_.css","static/js/ServerAnalyticsDashboard-ChtKfFvI.js","static/js/RolesManager-DgkCwTzI.js","static/css/RolesManager-KxnUcG0l.css","static/js/WelcomeScreenEditor-oBcZlACU.js","static/js/CommunitySettingsPanel-DwZQ9rMZ.js","static/css/CommunitySettingsPanel-CCLBP5zl.css","static/js/InviteLinkManager-CS0Xugg6.js","static/js/BotBuilder-EDOEqQoZ.js","static/js/BotDeveloperPortal-Bxz2KID-.js","static/css/BotDeveloperPortal-CiAN0d3V.css","static/js/APIKeysPanel-DZvWgAW9.js","static/js/SlashCommandsPanel-6t_VZ-AK.js","static/css/SlashCommandsPanel-B3KOzHRE.css","static/js/CodeRunnerPanel-cXxDO-p0.js","static/css/CodeRunnerPanel-BsecIpfS.css","static/js/ProfileCard-Cw30tt9w.js","static/css/ProfileCard-BAIgDvZ2.css","static/js/StatusPicker-DOtuJ4B8.js","static/js/MutualsPanel-BOGoR2Ze.js","static/css/MutualsPanel-bqsABtPE.css","static/js/ProfileShowcasePanel-2sYYTx8-.js","static/css/ProfileShowcasePanel-BzQDM2cl.css","static/js/PremiumManagementPanel-ClnmbYgF.js","static/css/PremiumManagementPanel-CKheEDbN.css","static/js/SubscriptionManager-CiR6ZOqj.js","static/js/GiftPremiumPanel-BAmcexeZ.js","static/css/GiftPremiumPanel-J9GaqGZk.css","static/js/PremiumMarketplace-Bv-tUCdi.js","static/css/PremiumMarketplace-D4Iktq9p.css","static/js/ThemeMarketplace-DBsWEW6E.js","static/css/ThemeMarketplace-DgqXjbLi.css","static/js/AIChatbotPanel-BzJEi1Xe.js","static/css/AIChatbotPanel-B_ZPS7ZT.css","static/js/CollaborativeCodeEditor-LBEyTsWk.js","static/js/ScreenShareModal-BjEPAptQ.js","static/js/LiveStreamModal-BHoqtnFm.js","static/js/AdvancedAnalyticsDashboard-Dd4x38el.js","static/css/AdvancedAnalyticsDashboard-zKSzz6gj.css","static/js/FileManagerPanel-B4Lu7ppC.js","static/js/ReportsPanel-fXDhyTwc.js","static/css/ReportsPanel-D2fwu3EV.css","static/js/ErrorReportingPanel-BRb9xBvI.js","static/css/ErrorReportingPanel-BpwRIoym.css","static/js/urlHandlers-CA9x1Jww.js","static/js/pushNotifications-DriSvqFN.js","static/js/EnglishHub-DKHg7uXI.js","static/js/GrammarQuizPage-CPvt1rDR.js","static/js/grammarQuestions-KIuWaxJH.js","static/js/EnglishLearningPage-CE0DXiGb.js","static/js/CryptoDashboard-C9ku-ZsB.js","static/js/CryptoSignals-8Gwa8org.js","static/js/PrivacyPolicyPage-BXrwAPmg.js","static/js/StorePage-Nz2lMEvT.js","static/js/LandingPage-BNzZcyfr.js","static/css/LandingPage-CHHpsw7G.css","static/js/ReferralProgram-BVT5Ad7U.js","static/css/ReferralProgram-CBBjqZR4.css","static/js/GrowthDashboard-pqllXsZ7.js","static/css/GrowthDashboard-xlqndw5F.css","static/js/ToastDemo-Dx6wxFuG.js","static/css/ToastDemo-DxNVRuTl.css"])))=>i.map(i=>d[i]);
var Hf=Object.defineProperty;var Kf=(i,s,n)=>s in i?Hf(i,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[s]=n;var Gs=(i,s,n)=>Kf(i,typeof s!="symbol"?s+"":s,n);import{_ as d}from"./media-vendor-DQG9xQkU.js";import{a as c,n as e,r as t,o as qf,f as Jf,p as Zf}from"./react-core-CvG1duuD.js";import{u as Dl,a as Ol,b as rs,L as zl,c as Xf,H as Qf,R as ep,d as we,N as tp}from"./router-vendor-DXeerrpf.js";import{F as rp,a as Tr,b as sp,c as np,d as Ml,e as op,f as ap,g as Bl,h as ip,i as dl,j as ul,k as lp,l as cp,m as dp,n as up,o as fp,p as pp,q as mp,r as hp,s as fl,t as gp,u as Eo,v as Do,w as yp,x as xp,y as bp,z as Sp,A as Ul,B as Oo,C as zo,D as _p,E as vp,G as Vl,H as pl,I as wp,J as kp,K as jp,L as Cp,M as Ep,N as Tp,O as Pp}from"./icons-vendor-DhG1XKwU.js";import{c as Ip}from"./state-vendor-BJ77FbUv.js";import{C as To,j as Er}from"./crypto-vendor-BHxPXfg-.js";import"./editor-vendor-D9c4a6XZ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))f(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const w of h.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&f(w)}).observe(document,{childList:!0,subtree:!0});function n(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function f(u){if(u.ep)return;u.ep=!0;const h=n(u);fetch(u.href,h)}})();var Pr;(function(i){i.Unimplemented="UNIMPLEMENTED",i.Unavailable="UNAVAILABLE"})(Pr||(Pr={}));class wo extends Error{constructor(s,n,f){super(s),this.message=s,this.code=n,this.data=f}}const Rp=i=>{var s,n;return i?.androidBridge?"android":!((n=(s=i?.webkit)===null||s===void 0?void 0:s.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Ap=i=>{const s=i.CapacitorCustomPlatform||null,n=i.Capacitor||{},f=n.Plugins=n.Plugins||{},u=()=>s!==null?s.name:Rp(i),h=()=>u()!=="web",w=D=>{const O=L.get(D);return!!(O?.platforms.has(u())||C(D))},C=D=>{var O;return(O=n.PluginHeaders)===null||O===void 0?void 0:O.find(N=>N.name===D)},P=D=>i.console.error(D),L=new Map,H=(D,O={})=>{const N=L.get(D);if(N)return N.proxy;const ee=u(),F=C(D);let Y;const te=async()=>(!Y&&ee in O?Y=typeof O[ee]=="function"?Y=await O[ee]():Y=O[ee]:s!==null&&!Y&&"web"in O&&(Y=typeof O.web=="function"?Y=await O.web():Y=O.web),Y),G=(B,q)=>{var be,_e;if(F){const ue=F?.methods.find(ke=>q===ke.name);if(ue)return ue.rtype==="promise"?ke=>n.nativePromise(D,q.toString(),ke):(ke,Ge)=>n.nativeCallback(D,q.toString(),ke,Ge);if(B)return(be=B[q])===null||be===void 0?void 0:be.bind(B)}else{if(B)return(_e=B[q])===null||_e===void 0?void 0:_e.bind(B);throw new wo(`"${D}" plugin is not implemented on ${ee}`,Pr.Unimplemented)}},ge=B=>{let q;const be=(..._e)=>{const ue=te().then(ke=>{const Ge=G(ke,B);if(Ge){const et=Ge(..._e);return q=et?.remove,et}else throw new wo(`"${D}.${B}()" is not implemented on ${ee}`,Pr.Unimplemented)});return B==="addListener"&&(ue.remove=async()=>q()),ue};return be.toString=()=>`${B.toString()}() { [capacitor code] }`,Object.defineProperty(be,"name",{value:B,writable:!1,configurable:!1}),be},fe=ge("addListener"),re=ge("removeListener"),pe=(B,q)=>{const be=fe({eventName:B},q),_e=async()=>{const ke=await be;re({eventName:B,callbackId:ke},q)},ue=new Promise(ke=>be.then(()=>ke({remove:_e})));return ue.remove=async()=>{await _e()},ue},Se=new Proxy({},{get(B,q){switch(q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return F?pe:fe;case"removeListener":return re;default:return ge(q)}}});return f[D]=Se,L.set(D,{name:D,proxy:Se,platforms:new Set([...Object.keys(O),...F?[ee]:[]])}),Se};return n.convertFileSrc||(n.convertFileSrc=D=>D),n.getPlatform=u,n.handleError=P,n.isNativePlatform=h,n.isPluginAvailable=w,n.registerPlugin=H,n.Exception=wo,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Lp=i=>i.Capacitor=Ap(i),Ir=Lp(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Mo=Ir.registerPlugin;class $l{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(s,n){let f=!1;this.listeners[s]||(this.listeners[s]=[],f=!0),this.listeners[s].push(n);const h=this.windowListeners[s];h&&!h.registered&&this.addWindowListener(h),f&&this.sendRetainedArgumentsForEvent(s);const w=async()=>this.removeListener(s,n);return Promise.resolve({remove:w})}async removeAllListeners(){this.listeners={};for(const s in this.windowListeners)this.removeWindowListener(this.windowListeners[s]);this.windowListeners={}}notifyListeners(s,n,f){const u=this.listeners[s];if(!u){if(f){let h=this.retainedEventArguments[s];h||(h=[]),h.push(n),this.retainedEventArguments[s]=h}return}u.forEach(h=>h(n))}hasListeners(s){var n;return!!(!((n=this.listeners[s])===null||n===void 0)&&n.length)}registerWindowListener(s,n){this.windowListeners[n]={registered:!1,windowEventName:s,pluginEventName:n,handler:f=>{this.notifyListeners(n,f)}}}unimplemented(s="not implemented"){return new Ir.Exception(s,Pr.Unimplemented)}unavailable(s="not available"){return new Ir.Exception(s,Pr.Unavailable)}async removeListener(s,n){const f=this.listeners[s];if(!f)return;const u=f.indexOf(n);this.listeners[s].splice(u,1),this.listeners[s].length||this.removeWindowListener(this.windowListeners[s])}addWindowListener(s){window.addEventListener(s.windowEventName,s.handler),s.registered=!0}removeWindowListener(s){s&&(window.removeEventListener(s.windowEventName,s.handler),s.registered=!1)}sendRetainedArgumentsForEvent(s){const n=this.retainedEventArguments[s];n&&(delete this.retainedEventArguments[s],n.forEach(f=>{this.notifyListeners(s,f)}))}}const ml=i=>encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),hl=i=>i.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Dp extends $l{async getCookies(){const s=document.cookie,n={};return s.split(";").forEach(f=>{if(f.length<=0)return;let[u,h]=f.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");u=hl(u).trim(),h=hl(h).trim(),n[u]=h}),n}async setCookie(s){try{const n=ml(s.key),f=ml(s.value),u=`; expires=${(s.expires||"").replace("expires=","")}`,h=(s.path||"/").replace("path=",""),w=s.url!=null&&s.url.length>0?`domain=${s.url}`:"";document.cookie=`${n}=${f||""}${u}; path=${h}; ${w};`}catch(n){return Promise.reject(n)}}async deleteCookie(s){try{document.cookie=`${s.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const s=document.cookie.split(";")||[];for(const n of s)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(s){return Promise.reject(s)}}async clearAllCookies(){try{await this.clearCookies()}catch(s){return Promise.reject(s)}}}Mo("CapacitorCookies",{web:()=>new Dp});const Op=async i=>new Promise((s,n)=>{const f=new FileReader;f.onload=()=>{const u=f.result;s(u.indexOf(",")>=0?u.split(",")[1]:u)},f.onerror=u=>n(u),f.readAsDataURL(i)}),zp=(i={})=>{const s=Object.keys(i);return Object.keys(i).map(u=>u.toLocaleLowerCase()).reduce((u,h,w)=>(u[h]=i[s[w]],u),{})},Mp=(i,s=!0)=>i?Object.entries(i).reduce((f,u)=>{const[h,w]=u;let C,P;return Array.isArray(w)?(P="",w.forEach(L=>{C=s?encodeURIComponent(L):L,P+=`${h}=${C}&`}),P.slice(0,-1)):(C=s?encodeURIComponent(w):w,P=`${h}=${C}`),`${f}&${P}`},"").substr(1):null,Bp=(i,s={})=>{const n=Object.assign({method:i.method||"GET",headers:i.headers},s),u=zp(i.headers)["content-type"]||"";if(typeof i.data=="string")n.body=i.data;else if(u.includes("application/x-www-form-urlencoded")){const h=new URLSearchParams;for(const[w,C]of Object.entries(i.data||{}))h.set(w,C);n.body=h.toString()}else if(u.includes("multipart/form-data")||i.data instanceof FormData){const h=new FormData;if(i.data instanceof FormData)i.data.forEach((C,P)=>{h.append(P,C)});else for(const C of Object.keys(i.data))h.append(C,i.data[C]);n.body=h;const w=new Headers(n.headers);w.delete("content-type"),n.headers=w}else(u.includes("application/json")||typeof i.data=="object")&&(n.body=JSON.stringify(i.data));return n};class Up extends $l{async request(s){const n=Bp(s,s.webFetchExtra),f=Mp(s.params,s.shouldEncodeUrlParams),u=f?`${s.url}?${f}`:s.url,h=await fetch(u,n),w=h.headers.get("content-type")||"";let{responseType:C="text"}=h.ok?s:{};w.includes("application/json")&&(C="json");let P,L;switch(C){case"arraybuffer":case"blob":L=await h.blob(),P=await Op(L);break;case"json":P=await h.json();break;default:P=await h.text()}const H={};return h.headers.forEach((D,O)=>{H[O]=D}),{data:P,headers:H,status:h.status,url:h.url}}async get(s){return this.request(Object.assign(Object.assign({},s),{method:"GET"}))}async post(s){return this.request(Object.assign(Object.assign({},s),{method:"POST"}))}async put(s){return this.request(Object.assign(Object.assign({},s),{method:"PUT"}))}async patch(s){return this.request(Object.assign(Object.assign({},s),{method:"PATCH"}))}async delete(s){return this.request(Object.assign(Object.assign({},s),{method:"DELETE"}))}}Mo("CapacitorHttp",{web:()=>new Up});const Vp=Mo("GoogleAuth",{web:()=>d(()=>import("./web-BCj4wF-k.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(i=>new i.GoogleAuthWeb)});let $p=class extends c.Component{constructor(n){super(n);Gs(this,"reportError",async(n,f)=>{try{await fetch("/api/errors/report/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:n.toString(),stack:f.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})})}catch{}});Gs(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,f){this.setState({error:n,errorInfo:f,errorCount:this.state.errorCount+1}),window.gtag&&window.gtag("event","exception",{description:n.toString(),fatal:!1}),this.reportError(n,f)}render(){return this.state.hasError?this.state.errorCount>3?e.jsx("div",{className:"error-boundary critical",children:e.jsxs("div",{className:"error-content",children:[e.jsx("h1",{children:"‚ö†Ô∏è Critical Error"}),e.jsx("p",{children:"Multiple errors detected. Please refresh the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"btn-reload",children:"Refresh Page"})]})}):e.jsx("div",{className:"error-boundary",children:e.jsxs("div",{className:"error-content",children:[e.jsx("div",{className:"error-icon",children:"üòï"}),e.jsx("h1",{children:"Oops! Something went wrong"}),e.jsx("p",{className:"error-message",children:this.props.fallbackMessage||"We're sorry for the inconvenience. The error has been reported."}),!1,e.jsxs("div",{className:"error-actions",children:[e.jsx("button",{onClick:this.handleReset,className:"btn-retry",children:"Try Again"}),e.jsx("button",{onClick:()=>window.location.href="/",className:"btn-home",children:"Go Home"})]})]})}):this.props.children}},wr=null;function Np(){return wr||(wr=document.createElement("div"),wr.id="toast-container",wr.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 999999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        `,document.body.appendChild(wr)),wr}function es(i,s="info",n=3e3){const f=Np(),u=document.createElement("div");u.className=`toast toast-${s}`;let h="‚ÑπÔ∏è",w="#3b82f6";switch(s){case"success":h="‚úÖ",w="#10b981";break;case"error":h="‚ùå",w="#ef4444";break;case"warning":h="‚ö†Ô∏è",w="#f59e0b";break;case"info":h="‚ÑπÔ∏è",w="#3b82f6";break}u.style.cssText=`
        background: ${w};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 300px;
        max-width: 500px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 14px;
        pointer-events: all;
        animation: slideIn 0.3s ease-out;
        transition: opacity 0.3s ease-out;
    `,u.innerHTML=`
        <span style="font-size: 20px;">${h}</span>
        <span style="flex: 1;">${i}</span>
        <button onclick="this.parentElement.remove()" style="
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        " onmouseover="this.style.background='rgba(255,255,255,0.3)'" 
           onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
    `,f.appendChild(u);const C=document.createElement("style");C.textContent=`
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }
    `,document.getElementById("toast-styles")||(C.id="toast-styles",document.head.appendChild(C)),setTimeout(()=>{u.style.animation="slideOut 0.3s ease-out",setTimeout(()=>u.remove(),300)},n)}const V={success:(i,s)=>es(i,"success",s),error:(i,s)=>es(i,"error",s),warning:(i,s)=>es(i,"warning",s),info:(i,s)=>es(i,"info",s)};typeof window<"u"&&(window.toast=V,window.showToast=es);const Fp=async()=>{if(typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.toLowerCase().includes("electron")||window.location?.protocol==="file:"))return null;if("serviceWorker"in navigator)try{const s=await navigator.serviceWorker.getRegistrations();for(const f of s)if(f.active&&f.active.scriptURL.includes("service-worker.js")){await f.unregister();const u=await caches.keys();for(const h of u)h.includes("pawscord-v")&&await caches.delete(h)}const n=await navigator.serviceWorker.getRegistration("/");return n&&(n.addEventListener("updatefound",()=>{const f=n.installing;f.addEventListener("statechange",()=>{f.state==="installed"&&navigator.serviceWorker.controller&&(f.postMessage({type:"SKIP_WAITING"}),window.location.reload())})}),setInterval(()=>{n.update()},1800*1e3)),n}catch{return null}},Wp=()=>{window.addEventListener("beforeinstallprompt",i=>{i.preventDefault();const s=document.getElementById("install-pwa-button");s&&(s.style.display="block")}),window.addEventListener("appinstalled",()=>{window.gtag&&window.gtag("event","pwa_installed",{event_category:"PWA",event_label:"App Installed"})})},Yp=(i,s)=>{const n=()=>{i&&i(),gl("üü¢ √áevrimi√ßi","success")},f=()=>{s&&s(),gl("üî¥ √áevrimdƒ±≈üƒ± - Baƒülantƒ± koptu","error")};return window.addEventListener("online",n),window.addEventListener("offline",f),navigator.onLine||f(),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",f)}},gl=(i,s="info")=>{const n=document.getElementById("network-banner");n&&n.remove();const f=document.createElement("div");f.id="network-banner",f.textContent=i,f.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        padding: 12px;
        text-align: center;
        color: white;
        font-weight: 600;
        z-index: 9999;
        animation: slideDown 0.3s ease;
        background: ${s==="success"?"#43b581":"#ed4245"};
    `,document.body.appendChild(f),s==="success"&&setTimeout(()=>{f.style.animation="slideUp 0.3s ease",setTimeout(()=>f.remove(),300)},3e3)},Gp=()=>{const i=document.createElement("style");i.textContent=`
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { transform: translateY(0); }
            to { transform: translateY(-100%); }
        }
    `,document.head.appendChild(i)};Gp();const Hp=`
/* üé® PAWSCORD Critical CSS - Above the Fold */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    background-color: #1e1f22;
    color: #dcddde;
    overflow: hidden;
}

/* Loading Screen */
#loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: #1e1f22;
    display: flex;
    align-items: center;
    justify-center: center;
    z-index: 9999;
}

.spinner {
    width: 50px;
    height: 50px;
    border: 4px solid #40444b;
    border-top-color: #5865f2;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Main Layout */
#root {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

.app-container {
    display: flex;
    width: 100%;
    height: 100%;
}

/* Sidebar */
.sidebar {
    width: 240px;
    background: #2b2d31;
    flex-shrink: 0;
}

/* Chat Area */
.chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #313338;
}

/* Message Input - Critical */
.message-input-container {
    padding: 16px;
    background: #383a40;
}

.message-input {
    width: 100%;
    padding: 12px;
    background: #40444b;
    border: none;
    border-radius: 8px;
    color: #dcddde;
    font-size: 15px;
    outline: none;
}

/* Button Base */
button {
    cursor: pointer;
    border: none;
    background: transparent;
    color: inherit;
    font-family: inherit;
}

.btn-primary {
    background: #5865f2;
    color: white;
    padding: 10px 16px;
    border-radius: 4px;
    font-weight: 500;
    transition: background 0.17s ease;
}

.btn-primary:hover {
    background: #4752c4;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #2b2d31;
}

::-webkit-scrollbar-thumb {
    background: #1a1b1e;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #141517;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
}

/* Utilities */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.items-center {
    align-items: center;
}

.justify-center {
    justify-content: center;
}

.gap-2 {
    gap: 8px;
}

.gap-4 {
    gap: 16px;
}

.hidden {
    display: none !important;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .sidebar {
        width: 100%;
        position: absolute;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .sidebar.open {
        transform: translateX(0);
    }
}
`,Kp=()=>{const i=document.createElement("style");i.id="critical-css",i.textContent=Hp,document.head.insertBefore(i,document.head.firstChild)},qp=i=>new Promise((s,n)=>{const f=document.createElement("link");f.rel="stylesheet",f.href=i,f.onload=()=>{s()},f.onerror=n,document.head.appendChild(f)}),Jp=()=>{const i=[],s=()=>{i.forEach(n=>{qp(n)})};"requestIdleCallback"in window?requestIdleCallback(s):setTimeout(s,1)},Zp=()=>{typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.includes("Electron")||window.location?.protocol)},Xp=()=>{typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.includes("Electron")||window.location?.protocol)},yl=()=>{const i=document.getElementById("critical-css");i&&setTimeout(()=>{i.remove()},1e3)},Qp=()=>{Kp(),Xp(),Zp(),Jp(),document.readyState==="complete"?yl():window.addEventListener("load",yl)},or={serverSettings:()=>d(()=>import("./ServerSettingsModal-B7rnftwa.js"),__vite__mapDeps([8,2,3,5,9,10,11,1,4,6,7])),userProfile:()=>d(()=>import("./UserProfileModal-C__lb767.js"),__vite__mapDeps([12,2,3,5,13,1,4,6,7,14])),imageModal:()=>d(()=>import("./ImageModal-B0CS9zTI.js"),__vite__mapDeps([15,2,3])),gifPicker:()=>d(()=>import("./GifPicker-DJ0rmchd.js"),__vite__mapDeps([16,2,3])),stickerPicker:()=>d(()=>import("./StickerPicker-DhdrF-QP.js"),__vite__mapDeps([17,2,3])),poll:()=>d(()=>import("./PollCreateModal-3BVyA7nC.js"),__vite__mapDeps([18,2,3,5])),codeSnippet:()=>d(()=>import("./CodeSnippetModal-DjS82gHJ.js"),__vite__mapDeps([19,2,3,5]))},Nl=()=>{[or.userProfile,or.imageModal,or.serverSettings].forEach(s=>{try{s()}catch{}})},Po=()=>{[or.gifPicker,or.stickerPicker,or.poll,or.codeSnippet].forEach(s=>{try{s()}catch{}})},Io={default:{name:"Pawscord Dark",colors:{"--background-primary":"#313338","--background-secondary":"#2b2d31","--background-tertiary":"#1e1f22","--background-accent":"#404249","--text-primary":"#dbdee1","--text-secondary":"#949ba4","--text-muted":"#787f89","--text-link":"#00a8fc","--button-primary":"#5865f2","--button-secondary":"#4e5058","--border-primary":"#1f2023"}},midnight:{name:"Midnight AMOLED",colors:{"--background-primary":"#000000","--background-secondary":"#0a0a0a","--background-tertiary":"#111111","--background-accent":"#222222","--text-primary":"#ffffff","--text-secondary":"#b0b0b0","--text-muted":"#666666","--text-link":"#3ea6ff","--button-primary":"#3ea6ff","--button-secondary":"#333333","--border-primary":"#333333"}},dracula:{name:"Dracula",colors:{"--background-primary":"#282a36","--background-secondary":"#44475a","--background-tertiary":"#6272a4","--background-accent":"#44475a","--text-primary":"#f8f8f2","--text-secondary":"#bfbfbf","--text-muted":"#6272a4","--text-link":"#8be9fd","--button-primary":"#bd93f9","--button-secondary":"#44475a","--border-primary":"#44475a"}},ocean:{name:"Deep Ocean",colors:{"--background-primary":"#0f172a","--background-secondary":"#1e293b","--background-tertiary":"#334155","--background-accent":"#334155","--text-primary":"#e2e8f0","--text-secondary":"#94a3b8","--text-muted":"#64748b","--text-link":"#38bdf8","--button-primary":"#0ea5e9","--button-secondary":"#334155","--border-primary":"#1e293b"}},forest:{name:"Enchanted Forest",colors:{"--background-primary":"#1a2f1a","--background-secondary":"#243b24","--background-tertiary":"#2f4b2f","--background-accent":"#3a5a3a","--text-primary":"#e0ffe0","--text-secondary":"#a0cca0","--text-muted":"#608060","--text-link":"#4caf50","--button-primary":"#4caf50","--button-secondary":"#2f4b2f","--border-primary":"#2f4b2f"}},matrix:{name:"The Matrix",colors:{"--background-primary":"#0d0d0d","--background-secondary":"#121212","--background-tertiary":"#1a1a1a","--background-accent":"#003b00","--text-primary":"#00ff41","--text-secondary":"#008f11","--text-muted":"#003b00","--text-link":"#00ff41","--button-primary":"#008f11","--button-secondary":"#003b00","--border-primary":"#003b00"}},sunset:{name:"Sunset Vibes",colors:{"--background-primary":"#2d1b2e","--background-secondary":"#442740","--background-tertiary":"#5a3450","--background-accent":"#734361","--text-primary":"#ffccaa","--text-secondary":"#ff9e7d","--text-muted":"#b05963","--text-link":"#ffbd69","--button-primary":"#ff6b6b","--button-secondary":"#5a3450","--border-primary":"#5a3450"}}},em=i=>{const s=Io[i]||Io.default,n=document.documentElement;Object.entries(s.colors).forEach(([f,u])=>{n.style.setProperty(f,u)}),localStorage.setItem("pawscord_theme",i)},tm=()=>{const i=localStorage.getItem("pawscord_theme");return i&&Io[i]?(em(i),i):"default"},Le=Ip((i,s)=>({messages:[],encryptionKeys:{},activeChat:{type:"welcome",id:"welcome",targetUser:null},unreadCounts:{},typingUsers:[],onlineUsers:[],voiceUsers:{},currentPermissions:{is_owner:!1,can_manage_channels:!1,can_delete_messages:!1,can_manage_roles:!1,can_ban_members:!1},setActiveChat:(n,f,u=null)=>{let h,w,C;n&&typeof n=="object"?(h=n.type,w=n.id||n.slug,C=n.targetUser||null):(h=n,w=f,C=u),i({activeChat:{type:h,id:w,targetUser:C}});const P=h==="room"?`room-${w}`:`dm-${w}`;i(L=>{const H={...L.unreadCounts};return delete H[P],{unreadCounts:H}})},addMessage:n=>i(f=>!n||typeof n!="object"||!n.id?f:n.temp_id&&f.messages.some(h=>h.temp_id===n.temp_id)?{messages:f.messages.map(h=>h.temp_id===n.temp_id?n:h)}:f.messages.some(u=>u.id===n.id)?f:{messages:[...f.messages,n]}),updateMessage:(n,f)=>i(u=>({messages:u.messages.map(h=>h.id===n?{...h,...f}:h)})),setMessages:n=>i(f=>{const u=typeof n=="function"?n(f.messages):n;return{messages:Array.isArray(u)?u.filter(w=>w&&typeof w=="object"&&w.id):[]}}),prependMessages:n=>i(f=>({messages:[...n,...f.messages]})),incrementUnread:n=>i(f=>({unreadCounts:{...f.unreadCounts,[n]:(f.unreadCounts[n]||0)+1}})),setOnlineUsers:n=>i({onlineUsers:n}),setTypingUser:(n,f)=>i(u=>f?{typingUsers:u.typingUsers.includes(n)?u.typingUsers:[...u.typingUsers,n]}:{typingUsers:u.typingUsers.filter(h=>h!==n)}),setVoiceUsers:n=>i({voiceUsers:n}),setEncryptionKey:(n,f)=>i(u=>({encryptionKeys:{...u.encryptionKeys,[n]:f}})),setPermissions:n=>i({currentPermissions:n||{is_owner:!1,can_manage_channels:!1,can_delete_messages:!1,can_manage_roles:!1,can_ban_members:!1}})})),en="ENC::",rm=(i,s)=>{if(!i||!s)return i;try{const n=To.AES.encrypt(i,s).toString();return en+n}catch{return i}},Xb=(i,s)=>{if(!i||!i.startsWith(en)||!s)return i;try{const n=i.replace(en,""),u=To.AES.decrypt(n,s).toString(To.enc.Utf8);return u||"üîí ≈ûifreli Mesaj (Anahtar Yanlƒ±≈ü)"}catch{return"üîí √á√∂z√ºlemedi"}},Qb=i=>i&&typeof i=="string"&&i.startsWith(en),ut={mobile:768,tablet:1024,desktop:1920,ultrawide:2560},sm=()=>{const[i,s]=t.useState({width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080});t.useEffect(()=>{if(typeof window>"u")return;let u;const h=()=>{clearTimeout(u),u=setTimeout(()=>{s({width:window.innerWidth,height:window.innerHeight})},150)};return h(),window.addEventListener("resize",h),window.addEventListener("orientationchange",h),()=>{clearTimeout(u),window.removeEventListener("resize",h),window.removeEventListener("orientationchange",h)}},[]);const{width:n,height:f}=i;return{isMobile:n<=ut.mobile,isTablet:n>ut.mobile&&n<=ut.tablet,isDesktop:n>ut.tablet&&n<=ut.desktop,isUltrawide:n>ut.desktop,width:n,height:f,orientation:f>n?"portrait":"landscape",isSmallScreen:n<=ut.mobile,isMediumScreen:n>ut.mobile&&n<=ut.tablet,isLargeScreen:n>ut.tablet,isTouchDevice:typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),breakpoints:ut}},nm=(i,s,n)=>t.useMemo(()=>{if(!i||!Array.isArray(i))return[];let u=i;if(s&&typeof s=="string"&&s.trim()){const h=s.toLowerCase();u=u.filter(w=>w.content?.toLowerCase().includes(h)||w.user?.username?.toLowerCase().includes(h))}return u.sort((h,w)=>{const C=new Date(h.created_at||h.timestamp),P=new Date(w.created_at||w.timestamp);return C-P})},[i,s]),om=i=>t.useMemo(()=>!i||!Array.isArray(i)?[]:i.filter(s=>s.is_online||s.online),[i]),Bo=()=>"https://api.pawscord.com",am=Bo(),im=()=>Bo().replace("/api","/media"),eS=Bo,tS=im,lm=`${am}/api`,cm=()=>{let i=sessionStorage.getItem("analytics_session_id");return i||(i=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("analytics_session_id",i)),i},dm=()=>{const i=Dl();t.useEffect(()=>{(async()=>{try{const n=cm();await fetch(`${lm}/analytics/track/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:i.pathname,session_id:n,referrer:document.referrer,timestamp:new Date().toISOString()})})}catch{}})()},[i.pathname])},um=(i,s)=>{const n=t.useRef(null);return t.useCallback((...f)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{i(...f)},s)},[i,s])},fm=(i,s)=>{const n=t.useRef(Date.now());return t.useCallback((...f)=>{const u=Date.now();u-n.current>=s&&(i(...f),n.current=u)},[i,s])},rS=i=>{const s=t.useRef(0),n=t.useRef(0);t.useEffect(()=>{const f=performance.now();return s.current+=1,()=>{const h=performance.now()-f;n.current+=h,s.current%10}})},pm="pawscord.com",mm="443",Fl=typeof window>"u"?!1:!!(typeof window.require=="function"||typeof process<"u"&&process.versions&&process.versions.electron||navigator.userAgent.toLowerCase().includes("electron")||window.location.protocol==="file:"),Wl=Ir.isNativePlatform(),Dt=Wl||Fl||!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("192.168.")?"https://api.pawscord.com":`http://${pm}:${mm}`,rt=`${Dt}/api`;typeof window<"u"&&(window.__PAWSCORD_API_BASE__=`${Dt}/api`);Wl||Fl||window.location.hostname.includes("localhost");const hm=Dt.startsWith("https")?"wss":"ws",gm=Dt.replace(/^https?:\/\//,""),Yl="774757987258-poa0elqqapnab8eud3tol3h2pilcqe71.apps.googleusercontent.com",Gl=t.createContext(null),ym=Dt,xm=({children:i})=>{const s=localStorage.getItem("access_token"),n=(()=>{if(!s)return!1;try{return Er(s).exp>Date.now()/1e3}catch{return!1}})(),[f,u]=t.useState(n?{username:localStorage.getItem("chat_username")||""}:null),[h,w]=t.useState(s),[C,P]=t.useState(n),[L,H]=t.useState(!1),D=t.useRef(null),O=t.useCallback(async()=>{const Y=localStorage.getItem("refresh_token");if(!Y)return F(),!1;try{const te=await fetch(`${ym}/api/auth/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:Y})});if(te.ok){const G=await te.json();localStorage.setItem("access_token",G.access),G.refresh&&localStorage.setItem("refresh_token",G.refresh);const ge=Er(G.access);return w(G.access),u({username:ge.username}),P(!0),N(G.access),!0}else return F(),!1}catch{return F(),!1}},[]),N=t.useCallback(Y=>{D.current&&clearTimeout(D.current);try{const te=Er(Y),G=Date.now()/1e3,ge=te.exp-G,fe=Math.max((ge-300)*1e3,6e4);D.current=setTimeout(()=>{O()},fe)}catch{}},[O]);t.useEffect(()=>((async()=>{const te=localStorage.getItem("access_token");if(te)try{const G=Er(te),ge=Date.now()/1e3,fe=300,re=G.exp>ge,pe=G.exp>ge-fe;if(re)w(te),u({username:G.username}),P(!0),localStorage.setItem("chat_username",G.username),N(te);else if(pe){const Se=await O()}else O()}catch{F()}})(),()=>{D.current&&clearTimeout(D.current)}),[N,O]);const ee=(Y,te)=>{try{localStorage.setItem("access_token",Y),localStorage.setItem("refresh_token",te);const G=Er(Y);localStorage.setItem("chat_username",G.username),w(Y),u({username:G.username}),P(!0),N(Y)}catch{F()}},F=t.useCallback(()=>{D.current&&clearTimeout(D.current),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("chat_username"),w(null),u(null),P(!1)},[]);return e.jsx(Gl.Provider,{value:{user:f,token:h,isAuthenticated:C,login:ee,logout:F,isLoading:L,refreshAccessToken:O},children:i})},ar=()=>t.useContext(Gl),We={log:(...i)=>{},warn:(...i)=>{},error:(...i)=>{},debug:(...i)=>{},voice:(...i)=>{},webrtc:(...i)=>{},signal:(...i)=>{},audio:(...i)=>{}};class bm{constructor(){this.audioContext=null,this.masterGain=null,this.spatialNodes={},this.listenerPosition={x:0,y:0,z:0},this.initialized=!1}async initialize(){if(!this.initialized)try{const s=window.AudioContext||window.webkitAudioContext;this.audioContext=new s,this.masterGain=this.audioContext.createGain(),this.masterGain.gain.value=1,this.masterGain.connect(this.audioContext.destination),this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.setupListener(),this.initialized=!0}catch(s){throw s}}setupListener(){const s=this.audioContext.listener;s.positionX?(s.positionX.value=this.listenerPosition.x,s.positionY.value=this.listenerPosition.y,s.positionZ.value=this.listenerPosition.z):s.setPosition(this.listenerPosition.x,this.listenerPosition.y,this.listenerPosition.z),s.forwardX?(s.forwardX.value=0,s.forwardY.value=0,s.forwardZ.value=-1,s.upX.value=0,s.upY.value=1,s.upZ.value=0):s.setOrientation(0,0,-1,0,1,0)}addUser(s,n,f={x:0,y:0,z:-1}){if(!this.initialized)return null;this.spatialNodes[s]&&this.removeUser(s);try{const u=this.audioContext.createMediaStreamSource(n),h=this.audioContext.createPanner();h.panningModel="HRTF",h.distanceModel="inverse",h.refDistance=1,h.maxDistance=1e4,h.rolloffFactor=1.5,h.coneInnerAngle=360,h.coneOuterAngle=360,h.coneOuterGain=0,this.setUserPosition(s,f,h);const w=this.audioContext.createGain();w.gain.value=1;const C=this.audioContext.createAnalyser();return C.fftSize=256,C.smoothingTimeConstant=.8,u.connect(C),C.connect(h),h.connect(w),w.connect(this.masterGain),this.spatialNodes[s]={source:u,panner:h,gain:w,analyser:C,position:f,audioElement:null},this.spatialNodes[s]}catch{return null}}setUserPosition(s,n,f=null){const u=f||this.spatialNodes[s]?.panner;u&&(u.positionX?(u.positionX.setValueAtTime(n.x,this.audioContext.currentTime),u.positionY.setValueAtTime(n.y,this.audioContext.currentTime),u.positionZ.setValueAtTime(n.z,this.audioContext.currentTime)):u.setPosition(n.x,n.y,n.z),this.spatialNodes[s]&&(this.spatialNodes[s].position=n))}setUserVolume(s,n){const f=this.spatialNodes[s];if(!f)return;const u=Math.max(0,Math.min(1,n));f.gain.gain.setValueAtTime(u,this.audioContext.currentTime)}getVoiceActivity(s){const n=this.spatialNodes[s];if(!n)return 0;const f=n.analyser,u=new Uint8Array(f.frequencyBinCount);f.getByteFrequencyData(u);const w=u.reduce((C,P)=>C+P,0)/u.length;return Math.round(w/255*100)}removeUser(s){const n=this.spatialNodes[s];if(n)try{n.source.disconnect(),n.analyser.disconnect(),n.panner.disconnect(),n.gain.disconnect(),delete this.spatialNodes[s]}catch{}}updateListenerPosition(s){this.listenerPosition=s,this.setupListener()}setMasterVolume(s){if(!this.masterGain)return;const n=Math.max(0,Math.min(1,s));this.masterGain.gain.setValueAtTime(n,this.audioContext.currentTime)}setUserMuted(s,n){this.setUserVolume(s,n?0:1)}destroy(){Object.keys(this.spatialNodes).forEach(s=>{this.removeUser(s)}),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.initialized=!1}getUserDistance(s){const n=this.spatialNodes[s];if(!n)return 1/0;const f=n.position,u=this.listenerPosition;return Math.sqrt(Math.pow(f.x-u.x,2)+Math.pow(f.y-u.y,2)+Math.pow(f.z-u.z,2))}arrangeUsersInCircle(s,n=3){const f={},u=2*Math.PI/s.length;return s.forEach((h,w)=>{const C=u*w,P={x:Math.cos(C)*n,y:0,z:Math.sin(C)*n};f[h]=P,this.setUserPosition(h,P)}),f}}const Xr=new bm,Sm=Dt;let rr=!1,Ro=[];const xl=i=>{Ro.push(i)},bl=i=>{Ro.forEach(s=>s(i)),Ro=[]},_m=i=>{if(!i)return!0;try{const s=Er(i),n=Date.now()/1e3;return s.exp<n+30}catch{return!0}},Sl=async()=>{const i=localStorage.getItem("refresh_token");if(!i)throw new Error("No refresh token available");const s=await fetch(`${Sm}/api/auth/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:i})});if(!s.ok)throw new Error("Token refresh failed");const n=await s.json();return localStorage.setItem("access_token",n.access),n.refresh&&localStorage.setItem("refresh_token",n.refresh),n.access},Ao=async(i,s={})=>{let n=localStorage.getItem("access_token");if(_m(n))if(rr)n=await new Promise(h=>{xl(w=>h(w))});else{rr=!0;try{n=await Sl(),bl(n)}catch(h){throw rr=!1,window.dispatchEvent(new CustomEvent("auth:logout")),h}finally{rr=!1}}const f={...s.headers,Authorization:`Bearer ${n}`};let u=await fetch(i,{...s,headers:f});if(u.status===401)if(rr)n=await new Promise(h=>{xl(w=>h(w))}),f.Authorization=`Bearer ${n}`,u=await fetch(i,{...s,headers:f});else{rr=!0;try{n=await Sl(),bl(n),f.Authorization=`Bearer ${n}`,u=await fetch(i,{...s,headers:f})}catch(h){throw window.dispatchEvent(new CustomEvent("auth:logout")),h}finally{rr=!1}}return u},Hl=t.createContext(null),sr=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"stun:stun.cloudflare.com:3478"},{urls:"stun:stun.services.mozilla.com:3478"},{urls:"stun:stun.stunprotocol.org:3478"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}];let Lo={iceServers:sr,iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};const Hs=i=>{Lo={...Lo,iceServers:i}},vm=({children:i})=>{const{user:s,token:n}=ar(),f=s?.username,[u,h]=t.useState(!1),[w,C]=t.useState(!1),[P,L]=t.useState(null),[H,D]=t.useState(!1),[O,N]=t.useState(!1),[ee,F]=t.useState(!1),[Y,te]=t.useState(!1),[G,ge]=t.useState(!1),[fe,re]=t.useState(!1),[pe,Se]=t.useState(0),[B,q]=t.useState(null),[be,_e]=t.useState(50),[ue,ke]=t.useState(null),[Ge,et]=t.useState(null),[ft,Gt]=t.useState(null),[Ce,pt]=t.useState({}),[rn,Ht]=t.useState([]),[ns,l]=t.useState(null),[Rr,Kt]=t.useState({isActive:!1,url:"https://www.youtube.com/watch?v=jfKfPfyJRdk",playing:!1,time:0,lastSyncAction:null,timestamp:0}),[sn,os]=t.useState({gameType:"rps",moves:{},result:null,players:[],currentTurn:null}),[ae,Te]=t.useState({}),[as,nn]=t.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_noise_gate"))||-50}catch{return-50}}),[on,an]=t.useState(()=>{try{return localStorage.getItem("pawscord_noise_gate_enabled")!=="false"}catch{return!0}}),[ln,is]=t.useState({local:new Uint8Array(128),remote:{}}),[Ot,cn]=t.useState(()=>{try{return localStorage.getItem("pawscord_visualizer")==="true"}catch{return!1}}),[ir,dn]=t.useState(()=>{try{return JSON.parse(localStorage.getItem("pawscord_user_volumes"))||{}}catch{return{}}}),[ls,Uo]=t.useState(new Set),[zt,un]=t.useState(()=>{try{return localStorage.getItem("pawscord_spatial_audio")==="true"}catch{return!1}}),[qt,cs]=t.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_vad_sensitivity"))||45}catch{return 45}}),[Mt,fn]=t.useState(()=>{try{const p=localStorage.getItem("pawscord_noise_suppression");return p===null?!0:p==="true"}catch{return!0}}),[ds,pn]=t.useState(()=>{try{return JSON.parse(localStorage.getItem("voice_settings")||"{}").audio?.noiseSuppressionLevel||"medium"}catch{return"medium"}}),[lr,mn]=t.useState(()=>{try{return localStorage.getItem("pawscord_screen_quality")||"1080p"}catch{return"1080p"}}),[je,T]=t.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_screen_fps"))||30}catch{return 30}}),[Ar,Lr]=t.useState(()=>{try{return localStorage.getItem("pawscord_system_audio")!=="false"}catch{return!1}}),[Bt,hn]=t.useState(()=>{try{return localStorage.getItem("pawscord_ptt_mode")==="true"}catch{return!1}}),[mt,cr]=t.useState(()=>{try{return localStorage.getItem("pawscord_ptt_key")||"Space"}catch{return"Space"}}),[le,Dr]=t.useState(!1),[dr,Ut]=t.useState(sr),[gn,He]=t.useState(!1),[us,Vt]=t.useState(0),[fs,St]=t.useState(1e3),Ke=t.useRef(null),Or=t.useRef(null);t.useRef(null);const yn=t.useCallback(async()=>{if(!n){Ut(sr),Hs(sr);return}try{const p=await Ao(`${Dt}/api/voice/turn-credentials/`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!p.ok)throw p.status===401||p.status,new Error(`TURN fetch failed ${p.status}`);const b=await p.json(),_=[...sr,...b?.iceServers||[]];Ut(_),Hs(_)}catch{Ut(sr),Hs(sr)}},[n]);t.useEffect(()=>{yn()},[yn]);const J=t.useRef(null),ye=t.useRef({}),qe=t.useRef(null),Pe=t.useRef(null),oe=t.useRef(null),Ie=t.useRef(null),Z=t.useRef(null),ht=t.useRef([]),me=t.useRef(null),st=t.useRef(null),_t=t.useRef(!1),nt=t.useRef(!1),Ne=t.useRef(null),zr=t.useRef(null),ps=t.useRef(null),$t=t.useRef(null);t.useEffect(()=>{localStorage.setItem("pawscord_user_volumes",JSON.stringify(ir))},[ir]);const Mr=t.useCallback((p,b)=>{dn(_=>({..._,[p]:Math.max(0,Math.min(100,b))}))},[]);t.useEffect(()=>{oe.current=ue},[ue]),t.useEffect(()=>{Ie.current=Ge},[Ge]),t.useEffect(()=>{Z.current=ft},[ft]),t.useEffect(()=>{if(!ue||!u||H){ge(!1);return}if(!Pe.current){const z=window.AudioContext||window.webkitAudioContext;Pe.current=new z}const p=Pe.current,b=p.createAnalyser();b.fftSize=2048,b.smoothingTimeConstant=.85;const _=b.frequencyBinCount,E=new Uint8Array(_),I=p.createMediaStreamSource(ue);I.connect(b);let j=null;const v=qt,S=150,R=setInterval(()=>{b.getByteFrequencyData(E);const z=E.slice(10,100);z.reduce((he,ve)=>he+ve,0)/z.length>v&&(ge(!0),j&&clearTimeout(j),j=setTimeout(()=>ge(!1),S))},25);return()=>{clearInterval(R),j&&clearTimeout(j),I.disconnect()}},[ue,u,H,qt]);const De=t.useCallback(()=>{if(!qe.current){const p=window.AudioContext||window.webkitAudioContext;qe.current=new p}qe.current.state==="suspended"&&qe.current.resume()},[]),Br=t.useCallback(async()=>{const p=!zt;if(p)try{await Xr.initialize(),Object.keys(Ce).forEach((b,_)=>{const E=Ce[b],I=b.replace("_camera","").replace("_screen","");if(!b.includes("_camera")&&!b.includes("_screen")){const j=_/Object.keys(Ce).length*2*Math.PI,v={x:Math.cos(j)*3,y:0,z:Math.sin(j)*3};Xr.addUser(I,E,v)}})}catch{V.warning("Spatial Audio ba≈ülatƒ±lamadƒ±. Tarayƒ±cƒ±nƒ±z desteklemiyor olabilir.");return}else Xr.destroy();un(p),localStorage.setItem("pawscord_spatial_audio",p.toString())},[zt,Ce]),Nt=t.useCallback(p=>{const b=Math.max(20,Math.min(80,p));cs(b),localStorage.setItem("pawscord_vad_sensitivity",b.toString())},[]),xn=t.useCallback(async()=>{const p=!Mt;if(fn(p),localStorage.setItem("pawscord_noise_suppression",p.toString()),ue){const b=ue.getAudioTracks()[0];if(b&&b.applyConstraints)try{await b.applyConstraints({noiseSuppression:p,echoCancellation:!0,autoGainControl:!0})}catch{try{const I=(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:p,echoCancellation:!0,autoGainControl:!0,googHighpassFilter:!0,googNoiseSuppression:p,googNoiseSuppression2:p,googEchoCancellation:!0,googAutoGainControl:!0,googTypingNoiseDetection:!0,sampleRate:{ideal:48e3},latency:{ideal:.01},channelCount:{ideal:1}}})).getAudioTracks()[0],j=new MediaStream([I]);ke(j),oe.current=j}catch{}}}},[Mt,ue]),ms=t.useCallback(p=>{const _=["low","medium","high","aggressive"].includes(p)?p:"high";pn(_);try{const E=JSON.parse(localStorage.getItem("voice_settings")||"{}");E.audio={...E.audio,noiseSuppressionLevel:_},localStorage.setItem("voice_settings",JSON.stringify(E))}catch{}},[]),ur=t.useCallback(p=>{Lr(p),localStorage.setItem("pawscord_system_audio",p.toString())},[]),hs=t.useCallback(()=>{const p=!Bt;hn(p),localStorage.setItem("pawscord_ptt_mode",p.toString()),p?(oe.current&&oe.current.getAudioTracks().forEach(b=>{b.enabled=!1}),D(!0)):(oe.current&&oe.current.getAudioTracks().forEach(b=>{b.enabled=!0}),D(!1))},[Bt]),bn=t.useCallback(p=>{cr(p),localStorage.setItem("pawscord_ptt_key",p)},[]);t.useEffect(()=>{if(!Bt||!u)return;const p=_=>{const E=_.target;E.tagName==="INPUT"||E.tagName==="TEXTAREA"||_.code===mt&&!_.repeat&&(Dr(!0),oe.current&&oe.current.getAudioTracks().forEach(I=>{I.enabled=!0}))},b=_=>{_.code===mt&&(Dr(!1),oe.current&&oe.current.getAudioTracks().forEach(E=>{E.enabled=!1}))};return window.addEventListener("keydown",p),window.addEventListener("keyup",b),()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",b)}},[Bt,u,mt]);const gs=t.useCallback(p=>{mn(p),localStorage.setItem("pawscord_screen_quality",p)},[]),Sn=t.useCallback(p=>{const b=parseInt(p);T(b),localStorage.setItem("pawscord_screen_fps",b.toString())},[]);t.useEffect(()=>{zt&&Object.keys(Ce).forEach((p,b)=>{const _=Ce[p],E=p.replace("_camera","").replace("_screen","");if(!p.includes("_camera")&&!p.includes("_screen")&&!Xr.spatialNodes[E]){const I=b/Object.keys(Ce).length*2*Math.PI,j={x:Math.cos(I)*3,y:0,z:Math.sin(I)*3};Xr.addUser(E,_,j)}})},[Ce,zt]),t.useCallback(async p=>{try{const b=p.getAudioTracks();if(b.length===0)return p;const _=b[0],E={echoCancellation:{exact:!0},noiseSuppression:{exact:!0},autoGainControl:{exact:!0},googEchoCancellation:{exact:!0},googAutoGainControl:{exact:!0},googNoiseSuppression:{exact:!0},googHighpassFilter:{exact:!0},googTypingNoiseDetection:{exact:!0},googAudioMirroring:!1,googAutoGainControl2:{exact:!0},echoCancellationType:"system"};if(_.applyConstraints)try{await _.applyConstraints(E),We.audio("üéØ ADVANCED noise suppression enabled")}catch{await _.applyConstraints({echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),We.audio("‚úÖ Basic noise suppression enabled (fallback)")}return p}catch{return p}},[]);const ot=t.useCallback(p=>{try{const _=JSON.parse(localStorage.getItem("voice_settings")||"{}").audio?.noiseSuppressionLevel||"high",E={low:{gateThreshold:-70,compressorThreshold:-15,compressorRatio:2,highPassFreq:50,lowPassFreq:14e3,gateRelease:.3,speechThreshold:20},medium:{gateThreshold:-60,compressorThreshold:-20,compressorRatio:3,highPassFreq:80,lowPassFreq:12e3,gateRelease:.25,speechThreshold:25},high:{gateThreshold:-50,compressorThreshold:-25,compressorRatio:4,highPassFreq:100,lowPassFreq:1e4,gateRelease:.2,speechThreshold:30},aggressive:{gateThreshold:-45,compressorThreshold:-30,compressorRatio:6,highPassFreq:120,lowPassFreq:8e3,gateRelease:.15,speechThreshold:35}},I=E[_]||E.high;if(!Pe.current){const mr=window.AudioContext||window.webkitAudioContext;Pe.current=new mr({sampleRate:48e3,latencyHint:"interactive"})}const j=Pe.current;j.state==="suspended"&&j.resume().then(()=>{});const v=j.createMediaStreamSource(p),S=j.createGain();let R=!0;const z=I.gateThreshold,se=.005,he=I.gateRelease,ve=j.createDynamicsCompressor();ve.threshold.value=I.compressorThreshold,ve.knee.value=30,ve.ratio.value=Math.min(I.compressorRatio,4),ve.attack.value=.003,ve.release.value=.15;const Je=j.createBiquadFilter();Je.type="highpass",Je.frequency.value=I.highPassFreq,Je.Q.value=.707;const it=j.createBiquadFilter();it.type="lowpass",it.frequency.value=I.lowPassFreq,it.Q.value=.707;const Ze=j.createBiquadFilter();Ze.type="notch",Ze.frequency.value=50,Ze.Q.value=10;const kt=j.createBiquadFilter();kt.type="peaking",kt.frequency.value=6e3,kt.Q.value=1,kt.gain.value=-3;const jt=j.createAnalyser();jt.fftSize=2048,jt.smoothingTimeConstant=.85;const Ct=new Uint8Array(jt.frequencyBinCount);let vs=new Float32Array(jt.frequencyBinCount),ws=!0,Fr=0;const $o=()=>{if(jt.getByteFrequencyData(Ct),Ct.reduce((Et,js)=>Et+js)/Ct.length<20){if(Fr++,Fr>10)for(let Et=0;Et<Ct.length;Et++)vs[Et]=Math.max(vs[Et],Ct[Et])}else Fr=0;ws&&Fr>50&&(ws=!1)},No=I.speechThreshold||25,Fo=setInterval(()=>{jt.getByteFrequencyData(Ct);const mr=Ct.slice(8,120),js=mr.reduce((Pn,In)=>Pn+In)/mr.length-(vs[50]||0),Tn=j.currentTime;js>No?R||(S.gain.setTargetAtTime(1,Tn,se),R=!0):R&&(S.gain.setTargetAtTime(0,Tn,he),R=!1),(ws||Math.random()<.01)&&$o()},30);v.connect(Je),Je.connect(Ze),Ze.connect(it),it.connect(kt),kt.connect(ve),ve.connect(S),S.connect(jt);const ks=j.createMediaStreamDestination();return S.connect(ks),ks.stream.addEventListener("inactive",()=>{clearInterval(Fo)}),ks.stream}catch{return p}},[]),Me=t.useCallback(p=>{J.current?.readyState===WebSocket.OPEN?(We.signal(`Sending ${p.type} to ${p.receiver_username||"BROADCAST"}`),J.current.send(JSON.stringify({...p,sender_username:f}))):We.warn("[Signal] WS not ready, cannot send:",p.type)},[f]),Ft=t.useCallback((p,b)=>{try{const E=p.getSenders().find(S=>S.track?.kind==="video");if(!E)return;const I=E.getParameters();(!I.encodings||I.encodings.length===0)&&(I.encodings=[{}]);const j={low:{maxBitrate:3e5,maxFramerate:15},medium:{maxBitrate:8e5,maxFramerate:24},high:{maxBitrate:25e5,maxFramerate:30}},v=j[b]||j.medium;I.encodings[0].maxBitrate=v.maxBitrate,I.encodings[0].maxFramerate=v.maxFramerate,E.setParameters(I).then(()=>{}).catch(S=>{})}catch{}},[]),ys=t.useCallback((p,b)=>{const{track:_}=b;We.webrtc(`Track Received from ${p}:`,_.kind,_.id,"label:",_.label,"hint:",_.contentHint);const E=(_.label||"").toLowerCase(),I=E.includes("screen")||E.includes("window")||E.includes("monitor")||E.includes("display")||E.includes("tab")||_.contentHint==="detail",j=_.kind==="video"&&I?`${p}_screen`:_.kind==="video"?`${p}_camera`:p;if(pt(v=>{const S=v[j];if(S){if(!S.getTracks().some(z=>z.id===_.id)){S.addTrack(_);const z=new MediaStream(S.getTracks());return{...v,[j]:z}}return v}const R=new MediaStream([_]);return{...v,[j]:R}}),_.kind==="audio"){De();try{const v=document.createElement("audio");v.id=`remote-audio-${p}`,v.srcObject=new MediaStream([_]),v.autoplay=!0,v.playsInline=!0;const S=document.getElementById(`remote-audio-${p}`);S&&S.remove(),v.style.display="none",document.body.appendChild(v),v.play().then(()=>{}).catch(R=>{const z=()=>{v.play().catch(()=>{}),document.removeEventListener("click",z)};document.addEventListener("click",z,{once:!0})})}catch{}}else _.kind},[De]),Fe=t.useRef({}),vt=t.useCallback((p,b=!1)=>{if(ye.current[p])return ye.current[p];const _=new RTCPeerConnection(Lo);ye.current[p]=_;try{_.getTransceivers().forEach(I=>{if(I.sender&&I.sender.track?.kind==="audio"){const j=RTCRtpSender.getCapabilities("audio")?.codecs||[],v=j.filter(z=>z.mimeType.toLowerCase().includes("opus")),S=j.filter(z=>!z.mimeType.toLowerCase().includes("opus")),R=[...v,...S];I.setCodecPreferences&&R.length>0&&I.setCodecPreferences(R)}})}catch{}return typeof window<"u"&&(window.__pawscord_peer_connections__=ye.current),_.onicecandidate=E=>{E.candidate&&Me({type:"candidate",candidate:E.candidate,receiver_username:p})},_.ontrack=E=>ys(p,E),oe.current&&oe.current.getTracks().forEach(E=>{We.webrtc(`Adding local audio track to PC for ${p}:`,E.kind),_.addTrack(E,oe.current)}),_.oniceconnectionstatechange=()=>{_.iceConnectionState==="failed"?(He(!0),_.restartIce(),setTimeout(()=>He(!1),3e3)):_.iceConnectionState==="disconnected"?(He(!0),setTimeout(()=>{(_.iceConnectionState==="disconnected"||_.iceConnectionState==="failed")&&(pt(E=>{const I={...E};return delete I[p],I}),ye.current[p]&&(ye.current[p].close(),delete ye.current[p])),He(!1)},15e3)):_.iceConnectionState==="closed"?(pt(E=>{const I={...E};return delete I[p],I}),ye.current[p]&&delete ye.current[p],He(!1)):_.iceConnectionState==="connected"?(He(!1),setTimeout(async()=>{try{(await _.getStats()).forEach(I=>{if(I.type==="candidate-pair"&&I.state==="succeeded"){const j=I.currentRoundTripTime*1e3;j>500?Ft(_,"low"):j>300?Ft(_,"medium"):Ft(_,"high")}})}catch{}},2e3)):_.iceConnectionState},_},[Me,ys]),Ur=t.useCallback(async p=>{if(p.type==="kicked"){V.warning(`Sesli Kanaldan √áƒ±karƒ±ldƒ±nƒ±z

Neden: ${p.message}`,5e3),gt();return}if(p.type==="video_ended"){const v=p.from||p.username,S=p.streamType||"camera",R=`${v}_${S}`;pt(z=>{const se={...z};return se[R]&&(se[R].getTracks().forEach(he=>he.stop()),delete se[R]),se});return}if(p.type==="voice_reaction"){const v=p.from||p.username;l({username:v,emoji:p.emoji,timestamp:Date.now()}),setTimeout(()=>{l(S=>S&&S.timestamp===Date.now()?null:S)},3e3);return}if(p.type==="game_signal"){const v=p.from||p.username;os(S=>{const R={...S};if(p.action==="start")R.gameType=p.game_type,R.players=[v,p.target].filter(Boolean),R.moves={},R.result=null,R.currentTurn=v;else if(p.action==="move"){if(R.moves={...S.moves,[v]:p.move},p.game_type==="rps"&&Object.keys(R.moves).length===2){const[z,se]=Object.keys(R.moves),he=R.moves[z],ve=R.moves[se];he===ve?R.result={winner:null,type:"draw"}:{rock:"scissors",scissors:"paper",paper:"rock"}[he]===ve?R.result={winner:z,loser:se}:R.result={winner:se,loser:z}}}else p.action==="end"&&(R.result=p.result||{type:"cancelled"});return R});return}if(p.type==="cinema_sync"){const v=p.from||p.username;Kt(S=>({...S,isActive:p.action!=="stop",url:p.url||S.url,playing:p.action==="play",time:p.time||S.time,lastSyncAction:p.action,timestamp:Date.now(),syncedBy:v}));return}if(p.type==="current_users"){Ht(v=>{const S=p.users||[],R=S.some(he=>he.username===f),z=v.find(he=>he.username===f);let se=[...S];return!R&&z?se=[z,...S]:!R&&f&&(se=[{username:f,isMuted:H,isCameraOn:ee,isScreenSharing:Y,isTalking:G},...S]),se});return}const b=p.from||p.sender_username||p.username,{type:_,sdp:E,candidate:I}=p;if(!b||b===f)return;let j=ye.current[b];if(!j)if(_==="offer")j=vt(b,!1);else if(_==="user_joined"){if(Ht(v=>v.find(S=>S.username===b)?v:[...v,{username:b,isMuted:!1,isCameraOn:!1,isScreenSharing:!1}]),j=vt(b,!0),oe.current){const v=j.getSenders();oe.current.getTracks().forEach(S=>{v.some(z=>z.track===S)||(We.webrtc(`Adding audio track to new peer ${b}:`,S.kind),j.addTrack(S,oe.current))})}if(Ie.current){const v=j.getSenders();Ie.current.getTracks().forEach(S=>{v.some(z=>z.track===S)||(We.webrtc(`Adding camera track to new peer ${b}:`,S.kind),j.addTrack(S,Ie.current))})}if(Z.current){const v=j.getSenders();Z.current.getTracks().forEach(S=>{v.some(z=>z.track===S)||(We.webrtc(`Adding screen track to new peer ${b}:`,S.kind),j.addTrack(S,Z.current))})}try{const v=await j.createOffer();await j.setLocalDescription(v),Me({type:"offer",sdp:j.localDescription,target:b}),We.signal(`Sent offer to ${b}`)}catch{}return}else if(_==="user_left"){Ht(S=>S.filter(R=>R.username!==b));const v=document.getElementById(`remote-audio-${b}`);v&&(v.pause(),v.srcObject=null,v.remove()),pt(S=>{const R={...S};return delete R[b],delete R[`${b}_camera`],delete R[`${b}_screen`],R}),ye.current[b]&&(ye.current[b].close(),delete ye.current[b]);return}else if(_==="stream_update"){if(Ht(v=>v.map(S=>S.username===b?{...S,isCameraOn:p.streamType==="camera"?p.enabled:S.isCameraOn,isScreenSharing:p.streamType==="screen"?p.enabled:S.isScreenSharing}:S)),p.enabled&&!ye.current[b]){const v=vt(b,!0);oe.current&&oe.current.getTracks().forEach(S=>{We.webrtc(`Adding audio track to ${b}:`,S.kind),v.addTrack(S,oe.current)}),Ie.current&&Ie.current.getTracks().forEach(S=>{We.webrtc(`Adding camera track to ${b}:`,S.kind),v.addTrack(S,Ie.current)}),Z.current&&Z.current.getTracks().forEach(S=>{We.webrtc(`Adding screen track to ${b}:`,S.kind),v.addTrack(S,Z.current)});try{const S=await v.createOffer();await v.setLocalDescription(S),Me({type:"offer",sdp:v.localDescription,target:b}),We.signal(`Sent offer to ${b} after stream_update`)}catch{}}return}else return;try{if(_==="offer"){if(j.signalingState!=="stable")return;await j.setRemoteDescription(new RTCSessionDescription(E));const v=await j.createAnswer();if(await j.setLocalDescription(v),Me({type:"answer",sdp:j.localDescription,target:b}),Fe.current[b]){for(const S of Fe.current[b])try{await j.addIceCandidate(S)}catch{}delete Fe.current[b]}}else if(_==="answer"){if(j.signalingState!=="have-local-offer")return;if(await j.setRemoteDescription(new RTCSessionDescription(E)),Fe.current[b]){for(const v of Fe.current[b])try{await j.addIceCandidate(v)}catch{}delete Fe.current[b]}}else _==="candidate"&&(j.remoteDescription?await j.addIceCandidate(new RTCIceCandidate(I)):(Fe.current[b]||(Fe.current[b]=[]),Fe.current[b].push(new RTCIceCandidate(I))))}catch{}},[f,vt,Me]),gt=t.useCallback(()=>{if(!_t.current){if(_t.current=!0,J.current&&J.current.readyState===WebSocket.OPEN)try{J.current.send(JSON.stringify({type:"user_leaving",sender_username:f}))}catch{}oe.current&&(oe.current.getTracks().forEach(p=>{p.stop()}),ke(null),oe.current=null),Ge&&(Ge.getTracks().forEach(p=>{p.stop()}),et(null),F(!1)),ft&&(ft.getTracks().forEach(p=>{p.stop()}),Gt(null),te(!1)),Object.entries(ye.current).forEach(([p,b])=>{b.close()}),ye.current={},pt({}),Fe.current={},J.current&&(J.current.onclose=null,J.current.close(),J.current=null),h(!1),L(null),C(!1),D(!1),N(!1),fe&&(me.current&&me.current.state!=="inactive"&&me.current.stop(),st.current&&(clearInterval(st.current),st.current=null),re(!1),Se(0)),Ne.current&&(clearInterval(Ne.current),Ne.current=null),Ke.current&&(clearTimeout(Ke.current),Ke.current=null),Or.current&&(clearInterval(Or.current),Or.current=null),Vt(0),St(1e3),He(!1),setTimeout(()=>{_t.current=!1},100)}},[f,Ge,ft,fe]),wt=t.useCallback(async p=>{if(u&&P&&P!==p&&!nt.current){if(nt.current=!0,J.current){const b=J.current;try{b.send(JSON.stringify({type:"user_leaving",sender_username:f}))}catch{}b.onclose=null,b.onerror=null,b.onmessage=null,b.close(1e3,"Switching channel"),J.current=null}Object.values(ye.current).forEach(b=>b.close()),ye.current={},pt({}),Fe.current={},nt.current=!1}if(!(u&&P===p)&&!nt.current){C(!0),L(p);try{dr&&dr.length>0&&Hs(dr);let b;const _=oe.current?.getAudioTracks()?.[0];if(_&&_.readyState==="live")b=oe.current;else{const j=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:{ideal:48e3},sampleSize:{ideal:16},channelCount:{ideal:1},googEchoCancellation:!0,googAutoGainControl:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,googAudioMirroring:!1,latency:{ideal:.02}},video:!1});if(b=j,Mt)try{b=ot(j)}catch{b=j}}ke(b),oe.current=b,b.getAudioTracks().forEach(j=>{j.enabled=!H}),De(),Ne.current||(Ne.current=setInterval(async()=>{const v=oe.current?.getAudioTracks()?.[0];if(!(!u||_t.current)&&(qe.current?.state==="suspended"&&await qe.current.resume().catch(()=>{}),!v||v.readyState==="ended"||!v.enabled&&!H&&!Bt))try{const S=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,googEchoCancellation:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,sampleRate:48e3,channelCount:1},video:!1});ke(S),oe.current=S;const R=S.getAudioTracks()[0];Object.values(ye.current).forEach(z=>{z.getSenders().filter(se=>se.track?.kind==="audio").forEach(se=>se.replaceTrack(R).catch(()=>{}))})}catch{}},8e3));const E=`${hm}://${gm}/ws/voice/${p}/?token=${n}`,I=new WebSocket(E);J.current=I,I.onopen=()=>{h(!0),C(!1),Ht(j=>j.some(S=>S.username===f)?j:[{username:f,isMuted:H,isCameraOn:ee,isScreenSharing:Y,isTalking:!1},...j])},I.onmessage=j=>{try{const v=JSON.parse(j.data);Ur(v)}catch{}},I.onerror=j=>{C(!1),!_t.current&&nt.current},I.onclose=j=>{if(_t.current||nt.current){He(!1),Vt(0),St(1e3),Ke.current&&(clearTimeout(Ke.current),Ke.current=null);return}if(j.code===1e3){gt();return}if(p&&u){const S=us+1;if(S>10){V.error("Sesli sohbet baƒülantƒ±sƒ± 10 denemeden sonra kurulamadƒ±. L√ºtfen sayfayƒ± yenileyin.",5e3),gt(),Vt(0),St(1e3);return}const R=Math.min(fs,3e4);He(!0),Vt(S),Ke.current&&clearTimeout(Ke.current),Ke.current=setTimeout(()=>{!_t.current&&!nt.current&&p?(St(z=>Math.min(z*2,3e4)),wt(p).then(()=>{Vt(0),St(1e3),He(!1)}).catch(z=>{})):(He(!1),Vt(0),St(1e3))},R)}else gt()}}catch(b){C(!1),nt.current=!1,b.name==="NotAllowedError"?V.warning("Mikrofon izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan izin verin.",5e3):b.name==="NotFoundError"?V.warning("Mikrofon bulunamadƒ±. L√ºtfen bir mikrofon baƒülayƒ±n."):V.error("Sesli sohbete baƒülanƒ±lamadƒ±: "+b.message)}}},[u,P,n,Ur,De,gt]),Vr=t.useCallback(()=>{D(p=>{const b=!p;return oe.current&&oe.current.getAudioTracks().forEach(_=>{_.enabled=!b}),J.current?.readyState===WebSocket.OPEN&&J.current.send(JSON.stringify({type:"mic_off_state",is_mic_off:b})),b})},[]),xs=t.useCallback(()=>{N(p=>{const b=!p;return J.current?.readyState===WebSocket.OPEN&&J.current.send(JSON.stringify({type:"deaf_state",is_deafened:b})),b})},[]),Jt=t.useRef(!1),yt=t.useCallback(async()=>{if(!Jt.current){Jt.current=!0;try{const p=Ie.current;if(p){F(!1),et(null),Ie.current=null,p.getTracks().forEach(_=>{_.stop()});const b=[];for(const[_,E]of Object.entries(ye.current)){const I=E.getSenders();let j=!1;for(const v of I)if(v.track&&v.track.kind==="video"&&v.track.contentHint!=="detail")try{E.removeTrack(v),j=!0}catch{}if(j){const v=(async()=>{try{const S=await E.createOffer();await E.setLocalDescription(S),Me({type:"offer",sdp:E.localDescription,target:_})}catch{}})();b.push(v)}}J.current?.readyState===WebSocket.OPEN&&(J.current.send(JSON.stringify({type:"camera_state",is_camera_on:!1})),J.current.send(JSON.stringify({type:"video_ended",streamType:"camera"}))),Promise.all(b).catch(_=>{})}else{const b=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}}});if(!Jt.current){b.getTracks().forEach(I=>I.stop());return}Ie.current=b,et(b),F(!0);const _=b.getVideoTracks()[0];_.onended=()=>{et(null),Ie.current=null,F(!1),J.current?.readyState===WebSocket.OPEN&&J.current.send(JSON.stringify({type:"video_ended",streamType:"camera"}))};try{_.contentHint="motion"}catch{}const E=[];for(const[I,j]of Object.entries(ye.current)){const v=(async()=>{try{j.addTrack(_,b);const S=await j.createOffer();await j.setLocalDescription(S),Me({type:"offer",sdp:j.localDescription,target:I})}catch{}})();E.push(v)}J.current?.readyState===WebSocket.OPEN&&J.current.send(JSON.stringify({type:"camera_state",is_camera_on:!0})),Promise.all(E).catch(I=>{})}}catch(p){p.name==="NotAllowedError"?V.warning("Kamera izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan kamera iznini a√ßƒ±n.",5e3):p.name==="NotFoundError"?V.warning("Kamera bulunamadƒ±. L√ºtfen bir kamera baƒülayƒ±n."):V.error("Kamera ba≈ülatƒ±lamadƒ±: "+p.message),F(!1),Ie.current=null,et(null)}finally{setTimeout(()=>{Jt.current=!1},300)}}},[Me]),_n=yt,Zt=t.useRef(!1),vn=t.useCallback(async()=>{if(!Zt.current){Zt.current=!0;try{const p=Z.current;if(p){te(!1),Gt(null),Z.current=null,p.getTracks().forEach(_=>{_.stop()});const b=[];for(const[_,E]of Object.entries(ye.current)){const I=E.getSenders();let j=!1;for(const v of I)if(v.track&&v.track.contentHint==="detail")try{E.removeTrack(v),j=!0}catch{}if(j){const v=(async()=>{try{const S=await E.createOffer();await E.setLocalDescription(S),Me({type:"offer",sdp:E.localDescription,target:_})}catch{}})();b.push(v)}}J.current?.readyState===WebSocket.OPEN&&(J.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!1})),J.current.send(JSON.stringify({type:"video_ended",streamType:"screen"}))),Promise.all(b).catch(_=>{})}else{const b={"720p":{width:1280,height:720},"1080p":{width:1920,height:1080},"4K":{width:3840,height:2160}},_=b[lr]||b["1080p"],E=await navigator.mediaDevices.getDisplayMedia({video:{cursor:"always",displaySurface:"monitor",width:{ideal:_.width},height:{ideal:_.height},frameRate:{ideal:je}},audio:Ar});if(!Zt.current){E.getTracks().forEach(v=>v.stop());return}E.getVideoTracks()[0].onended=()=>{Gt(null),Z.current=null,te(!1),J.current?.readyState===WebSocket.OPEN&&(J.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!1})),J.current.send(JSON.stringify({type:"video_ended",streamType:"screen"})))},Z.current=E,Gt(E),te(!0);const I=E.getVideoTracks()[0];try{I.contentHint="detail"}catch{}const j=[];for(const[v,S]of Object.entries(ye.current)){const R=(async()=>{try{S.addTrack(I,E);const z=await S.createOffer();await S.setLocalDescription(z),Me({type:"offer",sdp:S.localDescription,target:v})}catch{}})();j.push(R)}J.current?.readyState===WebSocket.OPEN&&J.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!0})),Promise.all(j).catch(v=>{})}}catch(p){p.name==="NotAllowedError"||(p.name==="NotFoundError"?V.warning("Ekran payla≈üƒ±mƒ± desteklenmiyor."):V.error("Ekran payla≈üƒ±mƒ± ba≈ülatƒ±lamadƒ±: "+p.message)),te(!1),Z.current=null,Gt(null)}finally{setTimeout(()=>{Zt.current=!1},300)}}},[Me,lr,je,Ar]),bs=t.useCallback(()=>{if(!(!u||fe))try{const p=new(window.AudioContext||window.webkitAudioContext),b=p.createMediaStreamDestination();ue&&p.createMediaStreamSource(ue).connect(b),Object.entries(Ce).forEach(([E,I])=>{!E.includes("_camera")&&!E.includes("_screen")&&I.getAudioTracks().length>0&&p.createMediaStreamSource(I).connect(b)});const _=new MediaRecorder(b.stream,{mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:128e3});ht.current=[],_.ondataavailable=E=>{E.data.size>0&&ht.current.push(E.data)},_.onstop=()=>{const E=new Blob(ht.current,{type:"audio/webm"}),I=URL.createObjectURL(E),j=document.createElement("a");j.href=I,j.download=`pawscord-voice-${P}-${Date.now()}.webm`,j.click(),URL.revokeObjectURL(I)},_.start(1e3),me.current=_,re(!0),Se(0),st.current=setInterval(()=>{Se(E=>E+1)},1e3)}catch(p){V.error("Kayƒ±t ba≈ülatƒ±lamadƒ±: "+p.message)}},[u,fe,ue,Ce,P]),$r=t.useCallback(()=>{fe&&(me.current&&me.current.state!=="inactive"&&me.current.stop(),st.current&&(clearInterval(st.current),st.current=null),me.current=null,re(!1),Se(0))},[fe]),Ss=t.useCallback(()=>{if(ht.current.length===0){V.warning("Hen√ºz kayƒ±t yok!");return}const p=new Blob(ht.current,{type:"audio/webm"}),b=URL.createObjectURL(p),_=document.createElement("a");_.href=b,_.download=`pawscord-voice-${P||"recording"}-${Date.now()}.webm`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(b)},[P]),wn=t.useCallback(async(p,b=50)=>{if(!(!ue||!u))try{if(zr.current&&(zr.current.forEach(S=>{try{S.disconnect()}catch{}}),zr.current=null),!p){q(null);return}const _=Pe.current||new AudioContext;Pe.current||(Pe.current=_);const E=_.createMediaStreamSource(ue),I=_.createMediaStreamDestination(),j=[],v=b/100;switch(p){case"robot":{const S=_.createOscillator(),R=_.createGain(),z=_.createWaveShaper();S.type="sawtooth",S.frequency.value=50+v*100,R.gain.value=.3+v*.4;const se=new Float32Array(256);for(let he=0;he<256;he++){const ve=he/128-1;se[he]=Math.tanh(ve*(1+v*3))}z.curve=se,S.connect(R),E.connect(z),z.connect(I),S.start(),j.push(S,R,z);break}case"echo":{const S=_.createDelay(1),R=_.createGain(),z=_.createGain(),se=_.createGain();S.delayTime.value=.1+v*.4,R.gain.value=.2+v*.5,z.gain.value=.3+v*.4,se.gain.value=1-v*.3,E.connect(se),E.connect(S),S.connect(R),R.connect(S),S.connect(z),se.connect(I),z.connect(I),j.push(S,R,z,se);break}case"deep":{const S=_.createBiquadFilter(),R=_.createGain();S.type="lowshelf",S.frequency.value=500,S.gain.value=10+v*15,R.gain.value=1.2,E.connect(S),S.connect(R),R.connect(I),j.push(S,R);break}case"high":{const S=_.createBiquadFilter(),R=_.createGain();S.type="highshelf",S.frequency.value=1e3,S.gain.value=8+v*12,R.gain.value=.9,E.connect(S),S.connect(R),R.connect(I),j.push(S,R);break}case"radio":{const S=_.createBiquadFilter(),R=_.createBiquadFilter(),z=_.createWaveShaper();S.type="lowpass",S.frequency.value=3e3-v*1e3,R.type="highpass",R.frequency.value=300+v*200;const se=new Float32Array(256);for(let he=0;he<256;he++){const ve=he/128-1;se[he]=Math.sign(ve)*Math.pow(Math.abs(ve),.8)}z.curve=se,E.connect(R),R.connect(S),S.connect(z),z.connect(I),j.push(S,R,z);break}case"reverb":{const S=_.createConvolver(),R=_.createGain(),z=_.createGain(),se=_.sampleRate,he=se*(.5+v*2),ve=_.createBuffer(2,he,se);for(let Je=0;Je<2;Je++){const it=ve.getChannelData(Je);for(let Ze=0;Ze<he;Ze++)it[Ze]=(Math.random()*2-1)*Math.pow(1-Ze/he,2)}S.buffer=ve,R.gain.value=.3+v*.5,z.gain.value=1-v*.2,E.connect(z),E.connect(S),S.connect(R),z.connect(I),R.connect(I),j.push(S,R,z);break}default:E.connect(I)}zr.current=j,ps.current=I.stream,q(p),_e(b)}catch{V.error("Ses efekti uygulanamadƒ±")}},[ue,u]),Nr=t.useCallback(p=>{!J.current||J.current.readyState!==WebSocket.OPEN||J.current.send(JSON.stringify({type:"voice_reaction",emoji:p}))},[]),kn=t.useCallback((p,b,_=null,E=null)=>{!J.current||J.current.readyState!==WebSocket.OPEN||J.current.send(JSON.stringify({type:"game_signal",game_type:p,action:b,move:_,target:E}))},[]),_s=t.useCallback((p,b=0,_=null)=>{!J.current||J.current.readyState!==WebSocket.OPEN||J.current.send(JSON.stringify({type:"cinema_sync",action:p,time:b,url:_}))},[]),jn=t.useCallback(()=>{$t.current||($t.current=setInterval(async()=>{const p={};for(const[b,_]of Object.entries(ye.current))try{const E=await _.getStats();let I=null,j=null;E.forEach(v=>{v.type==="inbound-rtp"&&v.kind==="audio"&&(I={packetsReceived:v.packetsReceived,packetsLost:v.packetsLost,jitter:v.jitter,bytesReceived:v.bytesReceived}),v.type==="inbound-rtp"&&v.kind==="video"&&(j={packetsReceived:v.packetsReceived,packetsLost:v.packetsLost,framesDecoded:v.framesDecoded,frameWidth:v.frameWidth,frameHeight:v.frameHeight}),v.type==="candidate-pair"&&v.state==="succeeded"&&(p[b]={...p[b],rtt:v.currentRoundTripTime*1e3,connectionType:v.localCandidateId?.includes("relay")?"TURN":"STUN/Direct"})}),p[b]={...p[b],audio:I,video:j,connectionState:_.connectionState,iceConnectionState:_.iceConnectionState}}catch{}Te(p)},2e3))},[]),fr=t.useCallback(()=>{$t.current&&(clearInterval($t.current),$t.current=null,Te({}))},[]),Vo=t.useCallback(p=>{an(p),localStorage.setItem("pawscord_noise_gate_enabled",p.toString())},[]),Cn=t.useCallback(p=>{const b=Math.max(-80,Math.min(-20,p));nn(b),localStorage.setItem("pawscord_noise_gate",b.toString())},[]),En=t.useCallback(p=>{cn(p),localStorage.setItem("pawscord_visualizer",p.toString())},[]),Wt=t.useRef(null),at=t.useRef(null),Xt=t.useCallback(()=>{if(!(!Ot||!ue)&&!Wt.current)try{Pe.current||(Pe.current=new(window.AudioContext||window.webkitAudioContext));const p=Pe.current,b=p.createAnalyser();b.fftSize=256;const _=p.createMediaStreamSource(ue);_.connect(b),at.current={local:b,localSource:_,remote:{}},Object.entries(Ce).forEach(([E,I])=>{if(!E.includes("_camera")&&!E.includes("_screen")){const j=p.createAnalyser();j.fftSize=256;const v=p.createMediaStreamSource(I);v.connect(j),at.current.remote[E]={analyser:j,source:v}}}),Wt.current=setInterval(()=>{const E=new Uint8Array(128);at.current.local.getByteFrequencyData(E);const I={};Object.entries(at.current.remote).forEach(([j,{analyser:v}])=>{const S=new Uint8Array(128);v.getByteFrequencyData(S),I[j]=S}),is({local:E,remote:I})},33)}catch{}},[Ot,ue,Ce]),pr=t.useCallback(()=>{if(Wt.current&&(clearInterval(Wt.current),Wt.current=null),at.current){try{at.current.localSource?.disconnect(),Object.values(at.current.remote).forEach(({source:p})=>{p?.disconnect()})}catch{}at.current=null}is({local:new Uint8Array(128),remote:{}})},[]);return t.useEffect(()=>(u&&Ot?Xt():pr(),()=>pr()),[u,Ot,Xt,pr]),t.useEffect(()=>()=>{fe&&$r(),Ne.current&&(clearInterval(Ne.current),Ne.current=null),fr()},[fe,$r,fr]),e.jsx(Hl.Provider,{value:{isInVoice:u,isConnecting:w,currentRoom:P,isMuted:H,isDeafened:O,isVideoEnabled:ee,isScreenSharing:Y,isTalking:G,isSpatialAudioEnabled:zt,vadSensitivity:qt,isNoiseSuppressionEnabled:Mt,screenShareQuality:lr,screenShareFPS:je,isRecording:fe,recordingDuration:pe,isPTTMode:Bt,isPTTActive:le,pttKey:mt,includeSystemAudio:Ar,localStream:ue,localAudioStream:ue,localCameraStream:Ge,localScreenStream:ft,remoteStreams:Ce,connectedUsers:rn,remoteVolumes:ir,mutedUsers:ls,joinVoiceRoom:wt,leaveVoiceRoom:gt,joinChannel:wt,leaveChannel:gt,setRemoteVolume:Mr,setIsMuted:D,setIsDeafened:N,setIsVideoEnabled:F,setIsScreenSharing:te,toggleMute:Vr,toggleDeafened:xs,toggleVideo:yt,toggleCamera:_n,toggleScreenShare:vn,toggleSpatialAudio:Br,updateVadSensitivity:Nt,toggleNoiseSuppression:xn,updateScreenQuality:gs,updateScreenFPS:Sn,toggleSystemAudio:ur,togglePTTMode:hs,updatePTTKey:bn,startRecording:bs,stopRecording:$r,downloadRecording:Ss,sendSignal:Me,isPttActive:le,sendReaction:Nr,lastReaction:ns,applyVoiceEffect:wn,activeVoiceEffect:B,voiceEffectIntensity:be,setVoiceEffectIntensity:_e,cinemaState:Rr,setCinemaState:Kt,sendCinemaSync:_s,gameState:sn,setGameState:os,sendGameSignal:kn,connectionStats:ae,startStatsMonitoring:jn,stopStatsMonitoring:fr,noiseSuppressionLevel:ds,updateNoiseSuppressionLevel:ms,iceServers:dr,isReconnecting:gn,adjustBandwidth:Ft,noiseGateThreshold:as,isNoiseGateEnabled:on,toggleNoiseGate:Vo,updateNoiseGateThreshold:Cn,audioVisualizerData:ln,isVisualizerEnabled:Ot,toggleVisualizer:En,startVisualizer:Xt,stopVisualizer:pr},children:i})},wm=()=>t.useContext(Hl),Kl=t.createContext(null),km=({children:i})=>{const[s,n]=t.useState(!1),[f,u]=t.useState(null),[h,w]=t.useState(0),C=t.useCallback(P=>{u(P),P.type==="chat_message_handler"&&P.username==="‚ö° Signal Bot"&&(typeof Notification<"u"&&Notification.permission==="granted"&&document.hidden&&new Notification("üö® YENƒ∞ KRƒ∞PTO Sƒ∞NYALƒ∞!",{body:`${P.content.split(`
`)[2]}`,icon:"/logo192.png"}),w(L=>L+1))},[]);return e.jsx(Kl.Provider,{value:{isConnected:s,setIsConnected:n,globalData:f,setGlobalData:C,unreadGlobal:h,setUnreadGlobal:w},children:i})},ql=()=>t.useContext(Kl),jm=({message:i,endTime:s,level:n="info",onDismiss:f})=>{const[u,h]=t.useState("");t.useEffect(()=>{if(!s)return;const P=()=>{const H=new Date,O=new Date(s)-H;if(O<=0){h("Ending soon..."),setTimeout(()=>window.location.reload(),5e3);return}const N=Math.floor(O/(1e3*60*60)),ee=Math.floor(O%(1e3*60*60)/(1e3*60));h(`${N}h ${ee}m remaining`)};P();const L=setInterval(P,6e4);return()=>clearInterval(L)},[s]);const w={info:{bg:"rgba(88, 101, 242, 0.1)",border:"#5865f2",text:"#5865f2"},warning:{bg:"rgba(250, 166, 26, 0.1)",border:"#faa61a",text:"#faa61a"},critical:{bg:"rgba(240, 71, 71, 0.1)",border:"#f04747",text:"#f04747"}},C=w[n]||w.info;return e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:C.bg,borderBottom:`2px solid ${C.border}`,padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:9999,animation:"slideDown 0.3s ease"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(rp,{style:{color:C.text,fontSize:"18px"}}),e.jsxs("div",{children:[e.jsx("div",{style:{color:C.text,fontWeight:"bold"},children:n==="critical"?"üö® Critical Maintenance":n==="warning"?"‚ö†Ô∏è Scheduled Maintenance":"‚ÑπÔ∏è Maintenance Notice"}),e.jsxs("div",{style:{color:"#dcddde",fontSize:"14px",marginTop:"2px"},children:[i,u&&e.jsxs("span",{style:{marginLeft:"10px",opacity:.7},children:["(",u,")"]})]})]})]}),f&&e.jsx("button",{onClick:f,style:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",padding:"8px",borderRadius:"4px",transition:"background 0.2s"},onMouseEnter:P=>P.target.style.background="rgba(255,255,255,0.1)",onMouseLeave:P=>P.target.style.background="none",children:e.jsx(Tr,{})})]})},tt=({size:i="medium",text:s="Y√ºkleniyor...",fullscreen:n=!1})=>{const f={small:{spinner:24,text:"12px"},medium:{spinner:40,text:"14px"},large:{spinner:60,text:"16px"}},u=f[i]||f.medium,h=n?kr.fullscreenContainer:kr.inlineContainer;return e.jsxs("div",{style:h,children:[e.jsxs("div",{style:{...kr.spinnerWrapper,width:u.spinner,height:u.spinner},children:[e.jsx("div",{style:kr.spinnerOuter}),e.jsx("div",{style:kr.spinnerInner})]}),s&&e.jsx("div",{style:{...kr.loadingText,fontSize:u.text},children:s})]})},kr={fullscreenContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#36393f",zIndex:9999,gap:"16px"},inlineContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"20px",minHeight:"100px"},spinnerWrapper:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},spinnerOuter:{position:"absolute",width:"100%",height:"100%",border:"3px solid rgba(88, 101, 242, 0.2)",borderTop:"3px solid #5865f2",borderRadius:"50%",animation:"spin 1s linear infinite"},spinnerInner:{position:"absolute",width:"70%",height:"70%",border:"3px solid rgba(88, 101, 242, 0.1)",borderBottom:"3px solid #7289da",borderRadius:"50%",animation:"spin 0.7s linear infinite reverse"},loadingText:{color:"#b5bac1",fontWeight:500,textAlign:"center",animation:"pulse 1.5s ease-in-out infinite"}};if(typeof document<"u"){const i=document.createElement("style");i.innerText=`
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
    `,document.head.querySelector("[data-loading-spinner-styles]")||(i.setAttribute("data-loading-spinner-styles","true"),document.head.appendChild(i))}const Cm="https://media.pawscord.com",Em=`${Cm}/assets`,Tm=`${Em}/logo.png`,Pm=Tm,Im=()=>e.jsxs("svg",{className:"splash-logo",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("ellipse",{cx:"50",cy:"62",rx:"22",ry:"18",fill:"white"}),e.jsx("ellipse",{cx:"28",cy:"38",rx:"10",ry:"12",fill:"white"}),e.jsx("ellipse",{cx:"72",cy:"38",rx:"10",ry:"12",fill:"white"}),e.jsx("ellipse",{cx:"22",cy:"55",rx:"8",ry:"10",fill:"white"}),e.jsx("ellipse",{cx:"78",cy:"55",rx:"8",ry:"10",fill:"white"})]}),Rm=()=>{const[i,s]=t.useState(!1);return i?e.jsx(Im,{}):e.jsx("img",{src:Pm,alt:"Pawscord",className:"splash-logo",onError:()=>s(!0)})},Am=({animationState:i})=>e.jsxs("div",{className:`splash-screen ${i}`,children:[e.jsx("div",{className:"particles",children:[...Array(15)].map((s,n)=>e.jsx("div",{className:"particle",style:{"--delay":`${Math.random()*2}s`,"--x":`${Math.random()*100}%`,"--size":`${4+Math.random()*8}px`,"--duration":`${2+Math.random()*3}s`}},n))}),e.jsxs("div",{className:"rings-container",children:[e.jsx("div",{className:"ring ring-1"}),e.jsx("div",{className:"ring ring-2"}),e.jsx("div",{className:"ring ring-3"})]}),e.jsxs("div",{className:"logo-container",children:[e.jsx("div",{className:"logo-glow"}),e.jsx(Rm,{})]}),e.jsxs("div",{className:"brand-text",children:[e.jsx("span",{className:"letter",style:{"--i":0},children:"P"}),e.jsx("span",{className:"letter",style:{"--i":1},children:"A"}),e.jsx("span",{className:"letter",style:{"--i":2},children:"W"}),e.jsx("span",{className:"letter",style:{"--i":3},children:"S"}),e.jsx("span",{className:"letter",style:{"--i":4},children:"C"}),e.jsx("span",{className:"letter",style:{"--i":5},children:"O"}),e.jsx("span",{className:"letter",style:{"--i":6},children:"R"}),e.jsx("span",{className:"letter",style:{"--i":7},children:"D"})]}),e.jsx("div",{className:"loading-bar",children:e.jsx("div",{className:"loading-progress"})})]}),_l=c.memo(Am),Lm=()=>{const[i,s]=t.useState("online"),[n,f]=t.useState(!1),[u,h]=t.useState(!1),w=t.useCallback(()=>{s("offline"),f(!0),h(!1)},[]),C=t.useCallback(()=>{s("reconnecting"),f(!0),h(!1),setTimeout(()=>{s("online"),setTimeout(()=>{h(!0),setTimeout(()=>f(!1),500)},2e3)},1e3)},[]);if(t.useEffect(()=>(window.addEventListener("online",C),window.addEventListener("offline",w),navigator.onLine||w(),()=>{window.removeEventListener("online",C),window.removeEventListener("offline",w)}),[C,w]),!n)return null;const L={offline:{bg:"linear-gradient(135deg, #da373c, #a12d2f)",icon:e.jsx(Ml,{}),text:"ƒ∞nternet baƒülantƒ±sƒ± yok",pulse:!1},reconnecting:{bg:"linear-gradient(135deg, #f0b232, #d4982a)",icon:e.jsx(np,{className:"conn-status-spin"}),text:"Yeniden baƒülanƒ±lƒ±yor...",pulse:!0},online:{bg:"linear-gradient(135deg, #23a559, #1e8e4a)",icon:e.jsx(sp,{}),text:"Baƒülantƒ± saƒülandƒ±!",pulse:!1}}[i];return e.jsxs("div",{style:{...ko.bar,background:L.bg,opacity:u?0:1,transform:u?"translateY(-100%)":"translateY(0)"},children:[e.jsx("span",{style:ko.icon,children:L.icon}),e.jsx("span",{style:ko.text,children:L.text})]})},ko={bar:{position:"fixed",top:0,left:0,right:0,height:32,display:"flex",alignItems:"center",justifyContent:"center",gap:8,zIndex:99999,transition:"all 0.5s ease",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},icon:{color:"#fff",fontSize:14,display:"flex",alignItems:"center"},text:{color:"#fff",fontSize:13,fontWeight:600}};if(typeof document<"u"){const i="conn-status-css";if(!document.getElementById(i)){const s=document.createElement("style");s.id=i,s.textContent=`@keyframes connSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.conn-status-spin { animation: connSpin 1s linear infinite; }`,document.head.appendChild(s)}}const Dm=t.memo(Lm),Om=({onClick:i,unreadCount:s=0,visible:n=!0})=>n?e.jsxs("button",{onClick:i,style:vl.fab,className:"scroll-to-bottom-fab",title:"En alta git",children:[s>0&&e.jsx("div",{style:vl.badge,children:s>99?"99+":s}),e.jsx(op,{style:{fontSize:16}})]}):null,vl={fab:{position:"absolute",bottom:90,right:20,width:40,height:40,borderRadius:"50%",backgroundColor:"#313338",border:"1px solid rgba(255,255,255,0.1)",color:"#dcddde",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",transition:"all 0.2s ease",zIndex:50},badge:{position:"absolute",top:-8,right:-4,minWidth:20,height:20,borderRadius:10,backgroundColor:"#5865f2",color:"#fff",fontSize:11,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 5px",boxShadow:"0 2px 6px rgba(88,101,242,0.4)"}};if(typeof document<"u"){const i="scroll-bottom-fab-css";if(!document.getElementById(i)){const s=document.createElement("style");s.id=i,s.textContent=".scroll-to-bottom-fab:hover { background-color: #404249 !important; transform: scale(1.1); }",document.head.appendChild(s)}}const zm=t.memo(Om),Mm=i=>{const s=new Date(i),n=new Date,f=new Date(n.getFullYear(),n.getMonth(),n.getDate()),u=new Date(f.getTime()-864e5),h=new Date(s.getFullYear(),s.getMonth(),s.getDate());return h.getTime()===f.getTime()?"Bug√ºn":h.getTime()===u.getTime()?"D√ºn":Math.floor((f.getTime()-h.getTime())/864e5)<7?["Pazar","Pazartesi","Salƒ±","√áar≈üamba","Per≈üembe","Cuma","Cumartesi"][s.getDay()]:s.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})},Bm=({date:i})=>e.jsxs("div",{style:Ks.container,children:[e.jsx("div",{style:Ks.line}),e.jsx("span",{style:Ks.label,children:Mm(i)}),e.jsx("div",{style:Ks.line})]}),Ks={container:{display:"flex",alignItems:"center",gap:12,padding:"16px 0 8px",userSelect:"none"},line:{flex:1,height:1,backgroundColor:"rgba(255,255,255,0.06)"},label:{color:"#949ba4",fontSize:12,fontWeight:600,whiteSpace:"nowrap",padding:"2px 8px",borderRadius:12,backgroundColor:"rgba(255,255,255,0.03)"}},wl=t.memo(Bm),Um=({typingUsers:i=[],currentUser:s})=>{const n=t.useMemo(()=>i.filter(u=>u!==s),[i,s]);if(n.length===0)return null;const f=t.useMemo(()=>n.length===1?`${n[0]} yazƒ±yor`:n.length===2?`${n[0]} ve ${n[1]} yazƒ±yor`:n.length===3?`${n[0]}, ${n[1]} ve ${n[2]} yazƒ±yor`:`${n[0]}, ${n[1]} ve ${n.length-2} ki≈üi daha yazƒ±yor`,[n]);return e.jsxs("div",{style:jr.container,children:[e.jsxs("div",{style:jr.dots,children:[e.jsx("span",{style:{...jr.dot,animationDelay:"0s"}}),e.jsx("span",{style:{...jr.dot,animationDelay:"0.2s"}}),e.jsx("span",{style:{...jr.dot,animationDelay:"0.4s"}})]}),e.jsx("span",{style:jr.text,children:f})]})},jr={container:{display:"flex",alignItems:"center",gap:8,padding:"4px 16px",height:24,overflow:"hidden"},dots:{display:"flex",gap:3,alignItems:"center"},dot:{width:6,height:6,borderRadius:"50%",backgroundColor:"#fff",animation:"typingDotBounce 1.2s infinite ease-in-out"},text:{color:"#949ba4",fontSize:12,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};if(typeof document<"u"){const i="typing-enhanced-css";if(!document.getElementById(i)){const s=document.createElement("style");s.id=i,s.textContent=`
            @keyframes typingDotBounce {
                0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
                30% { transform: translateY(-4px); opacity: 1; }
            }
        `,document.head.appendChild(s)}}const Vm=t.memo(Um),$m=({count:i})=>e.jsxs("div",{style:qs.container,children:[e.jsx("div",{style:qs.line}),e.jsx("span",{style:qs.label,children:i>0?`${i} yeni mesaj`:"Yeni mesajlar"}),e.jsx("div",{style:qs.line})]}),qs={container:{display:"flex",alignItems:"center",gap:10,padding:"8px 0",userSelect:"none"},line:{flex:1,height:1,backgroundColor:"#da373c"},label:{color:"#da373c",fontSize:12,fontWeight:700,whiteSpace:"nowrap",textTransform:"uppercase",letterSpacing:"0.03em"}};t.memo($m);let Qr=null;function Yt(i){return new Promise(s=>{const n=typeof i=="string"?{message:i}:{...i},{title:f="Emin misiniz?",message:u="Bu i≈ülemi ger√ßekle≈ütirmek istediƒüinizden emin misiniz?",confirmText:h="Evet",cancelText:w="Vazge√ß",type:C="warning",details:P=null}=n;Qr||(Qr=document.createElement("div"),Qr.id="confirm-dialog-root",document.body.appendChild(Qr));const L=qf.createRoot(Qr),H=N=>{L.unmount(),s(N)},D={warning:{icon:e.jsx(Ml,{}),color:"#f59e0b",gradient:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",btnColor:"#f59e0b"},danger:{icon:e.jsx(Bl,{}),color:"#ef4444",gradient:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",btnColor:"#ef4444"},info:{icon:e.jsx(ap,{}),color:"#5865f2",gradient:"linear-gradient(135deg, #5865f2 0%, #4752c4 100%)",btnColor:"#5865f2"}},O=D[C]||D.warning;L.render(e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,animation:"confirmFadeIn 0.2s ease-out",backdropFilter:"blur(4px)"},onClick:N=>{N.target===N.currentTarget&&H(!1)},children:[e.jsx("style",{children:`
                    @keyframes confirmFadeIn { from { opacity: 0; } to { opacity: 1; } }
                    @keyframes confirmSlideIn { from { transform: scale(0.9) translateY(20px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
                    .confirm-btn:hover { filter: brightness(1.1); transform: translateY(-1px); }
                    .confirm-btn:active { transform: translateY(0); }
                `}),e.jsxs("div",{style:{background:"#2b2d31",borderRadius:"16px",width:"420px",maxWidth:"90vw",boxShadow:"0 20px 60px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.05)",overflow:"hidden",animation:"confirmSlideIn 0.25s ease-out"},children:[e.jsxs("div",{style:{background:O.gradient,padding:"20px 24px",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",color:"#fff",flexShrink:0},children:O.icon}),e.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px",fontWeight:600,flex:1},children:f}),e.jsx("button",{onClick:()=>H(!1),style:{background:"rgba(255,255,255,0.15)",border:"none",color:"#fff",width:"32px",height:"32px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0,transition:"background 0.15s"},onMouseEnter:N=>N.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:N=>N.target.style.background="rgba(255,255,255,0.15)",children:e.jsx(Tr,{})})]}),e.jsxs("div",{style:{padding:"20px 24px"},children:[e.jsx("p",{style:{color:"#dbdee1",fontSize:"14px",lineHeight:"1.6",margin:"0 0 16px 0",whiteSpace:"pre-line"},children:u}),P&&P.length>0&&e.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",padding:"12px 16px",marginBottom:"16px"},children:[e.jsx("div",{style:{color:"#f59e0b",fontSize:"12px",fontWeight:600,marginBottom:"8px"},children:"‚ö†Ô∏è Bu i≈ülem:"}),P.map((N,ee)=>e.jsxs("div",{style:{color:"#b5bac1",fontSize:"13px",padding:"3px 0",display:"flex",gap:"8px"},children:[e.jsx("span",{style:{color:O.color},children:"‚Ä¢"}),e.jsx("span",{children:N})]},ee))]})]}),e.jsxs("div",{style:{padding:"16px 24px",background:"rgba(0,0,0,0.15)",display:"flex",justifyContent:"flex-end",gap:"10px"},children:[e.jsx("button",{className:"confirm-btn",onClick:()=>H(!1),style:{background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"#b5bac1",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.15s"},onMouseEnter:N=>{N.target.style.background="rgba(255,255,255,0.05)",N.target.style.color="#fff"},onMouseLeave:N=>{N.target.style.background="transparent",N.target.style.color="#b5bac1"},children:w}),e.jsx("button",{className:"confirm-btn",onClick:()=>H(!0),autoFocus:!0,style:{background:O.btnColor,border:"none",color:"#fff",padding:"10px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,transition:"all 0.15s",boxShadow:`0 2px 8px ${O.btnColor}40`},children:h})]})]})]}))})}typeof window<"u"&&(window.confirmDialog=Yt);const kl=c.lazy(()=>d(()=>import("./Message--_h_mRoi.js"),__vite__mapDeps([20,1,2,3,5,21,22,23,24,25,9,4,6,7]))),Nm=c.lazy(()=>d(()=>import("./VirtualMessageList-BhTfaIja.js"),__vite__mapDeps([26,2,3,25,9]))),Fm=c.lazy(()=>d(()=>import("./MessageInput-B7te6sxP.js"),__vite__mapDeps([27,1,2,3,5,28,4,6,7,29,30]))),Js=c.lazy(()=>d(()=>import("./UserVideoContainer-DXtMMyx1.js"),__vite__mapDeps([31,2,3]))),Wm=c.lazy(()=>d(()=>import("./VoiceAudioController-CEUjow1u.js"),__vite__mapDeps([32,2,3,1,4,5,6,7])));c.lazy(()=>d(()=>import("./RichTextEditor-BUccRZ7n.js"),__vite__mapDeps([33,2,3,5,34])));const Ym=c.lazy(()=>d(()=>import("./StickyMessageBanner-DhjrMQcv.js"),__vite__mapDeps([35,2,3,5]))),Gm=c.lazy(()=>d(()=>import("./LoginPage-BbvyPbV8.js"),__vite__mapDeps([36,2,3,5,37,7,1,4,6]))),Hm=c.lazy(()=>d(()=>import("./WelcomeScreen-nKuvtvBy.js"),__vite__mapDeps([38,2,3,5,39,1,4,6,7])));c.lazy(()=>d(()=>import("./ImageModal-B0CS9zTI.js"),__vite__mapDeps([15,2,3])));const Km=c.lazy(()=>d(()=>import("./UserProfileModal-C__lb767.js"),__vite__mapDeps([12,2,3,5,13,1,4,6,7,14]))),qm=c.lazy(()=>d(()=>import("./PollCreateModal-3BVyA7nC.js"),__vite__mapDeps([18,2,3,5]))),Jm=c.lazy(()=>d(()=>import("./CodeSnippetModal-DjS82gHJ.js"),__vite__mapDeps([19,2,3,5])));c.lazy(()=>d(()=>import("./AvatarCropper-BT1VtnGW.js"),__vite__mapDeps([40,2,3,41])));const Zm=c.lazy(()=>d(()=>import("./CryptoChartModal-caxdunPj.js"),__vite__mapDeps([42,2,3,5])));c.lazy(()=>d(()=>import("./CryptoStoreModal-D5CSrQu4.js"),__vite__mapDeps([43,2,3,5,1,4,6,7])));const Xm=c.lazy(()=>d(()=>import("./PremiumStoreModal-C7hKj6_o.js"),__vite__mapDeps([44,2,3,5,45,1,4,6,7]))),Qm=c.lazy(()=>d(()=>import("./WhiteboardModal-Bl_pQh07.js"),__vite__mapDeps([46,2,3,5]))),eh=c.lazy(()=>d(()=>import("./SoundboardModal-jHvC71hR.js"),__vite__mapDeps([47,2,3,5]))),th=c.lazy(()=>d(()=>import("./KanbanBoard-CWJRvTa6.js"),__vite__mapDeps([48,2,3,9,5,1,4,6,7]))),jl=c.lazy(()=>d(()=>import("./SummaryModal-CtvVLgp9.js"),__vite__mapDeps([49,2,3,5]))),rh=c.lazy(()=>d(()=>import("./MessageTemplateModal-CL_5fnV0.js"),__vite__mapDeps([28,2,3,5,1,4,6,7]))),sh=c.lazy(()=>d(()=>import("./CinemaModal-B1RcBqMK.js"),__vite__mapDeps([50,1,2,3,5]))),nh=c.lazy(()=>d(()=>import("./StickerPicker-DhdrF-QP.js"),__vite__mapDeps([17,2,3]))),oh=c.lazy(()=>d(()=>import("./GifPicker-DJ0rmchd.js"),__vite__mapDeps([16,2,3]))),ah=c.lazy(()=>d(()=>import("./DJModal-CMOhwfQM.js"),__vite__mapDeps([51,1,2,3,5]))),ih=c.lazy(()=>d(()=>import("./ThemeStoreModal-q0AF3BQl.js"),__vite__mapDeps([52,2,3,5,1,4,6,7]))),lh=c.lazy(()=>d(()=>import("./EncryptionKeyModal-CPHoRQqP.js"),__vite__mapDeps([53,2,3,5]))),ch=c.lazy(()=>d(()=>import("./DownloadModal-CfMgYN2G.js"),__vite__mapDeps([39,2,3,5,1,4,6,7]))),dh=c.lazy(()=>d(()=>import("./ServerSettingsModal-B7rnftwa.js"),__vite__mapDeps([8,2,3,5,9,10,11,1,4,6,7]))),uh=c.lazy(()=>d(()=>import("./CreateGroupModal-6OlIHS61.js"),__vite__mapDeps([54,2,3,5,1,4,6,7]))),fh=c.lazy(()=>d(()=>import("./AdminAnalyticsPanel-D_gdZCFZ.js"),__vite__mapDeps([55,2,3,5]))),ph=c.lazy(()=>d(()=>import("./AdminPanelModal-CreVNsTC.js"),__vite__mapDeps([56,2,3,5,1,4,6,7]))),mh=c.lazy(()=>d(()=>import("./WebhooksPanel-CQLpDoW3.js"),__vite__mapDeps([57,2,3,9,1,4,5,6,7,58]))),hh=c.lazy(()=>d(()=>import("./VanityURLManager-BOxf93kD.js"),__vite__mapDeps([11,2,3,5,1,4,6,7]))),gh=c.lazy(()=>d(()=>import("./AutoModerationDashboard-D-NvJVSI.js"),__vite__mapDeps([59,2,3,5,1,4,6,7]))),yh=c.lazy(()=>d(()=>import("./AutoModerationPanel-C793S0GW.js"),__vite__mapDeps([60,2,3,5,1,4,6,7,61]))),xh=c.lazy(()=>d(()=>import("./RaidProtectionPanel-C9i9aYEJ.js"),__vite__mapDeps([62,2,3,5,1,4,6,7]))),bh=c.lazy(()=>d(()=>import("./ReportSystemPanel-DDs2H3mW.js"),__vite__mapDeps([63,2,3,5,1,4,6,7]))),Sh=c.lazy(()=>d(()=>import("./AuditLogPanel-UR-0tNFU.js"),__vite__mapDeps([64,2,3,5]))),_h=c.lazy(()=>d(()=>import("./UserWarningsPanel-BGpVS9qo.js"),__vite__mapDeps([65,2,3,5,1,4,6,7]))),vh=c.lazy(()=>d(()=>import("./BookmarkPanel-CK3ZupnZ.js"),__vite__mapDeps([66,2,3,5,1,4,6,7]))),wh=c.lazy(()=>d(()=>import("./ReadLaterPanel-noYmLTtP.js"),__vite__mapDeps([67,2,3,5,68]))),kh=c.lazy(()=>d(()=>import("./ChannelPermissionsPanel-DW98Sdo8.js"),__vite__mapDeps([69,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./MessageThreadsPanel--vPz1luD.js"),__vite__mapDeps([70,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./ModeratorNotesPanel-aZ7xA_rE.js"),__vite__mapDeps([71,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./ServerRolesPanel-BzPQ4LjI.js"),__vite__mapDeps([72,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./NotificationPreferencesPanel-DpGKoJ3r.js"),__vite__mapDeps([73,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./MessageOCRPanel-Hn1_heaK.js"),__vite__mapDeps([74,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./MassActionsPanel-D6eZMVy6.js"),__vite__mapDeps([75,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./TimeoutMutePanel-DGr59XSd.js"),__vite__mapDeps([76,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./ServerThemesPanel-BoD8jrQV.js"),__vite__mapDeps([77,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./KeywordMutesPanel-BCx_yIvm.js"),__vite__mapDeps([78,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./WelcomeTemplatesPanel-NzROonzw.js"),__vite__mapDeps([79,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./StickyMessagesPanel-CbdJZYJW.js"),__vite__mapDeps([80,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./MessageTemplatesPanel-DMIml_Sh.js"),__vite__mapDeps([81,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./MessageExportPanel-D8zKkTu7.js"),__vite__mapDeps([82,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./ArchivedRoomsPanel-hY55dSYA.js"),__vite__mapDeps([83,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./SlowModePanel-Ipk940Oi.js"),__vite__mapDeps([84,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./EmojiManagementPanel-B5USmho0.js"),__vite__mapDeps([85,2,3,5,1,4,6,7])));const jh=c.lazy(()=>d(()=>import("./MentionsInboxPanel-DeL86OWB.js"),__vite__mapDeps([86,2,3,5,1,4,6,7]))),Ch=c.lazy(()=>d(()=>import("./CustomStatusModal-BaRtBOM2.js"),__vite__mapDeps([87,2,3,5,1,4,6,7]))),Eh=c.lazy(()=>d(()=>import("./ReactionAnalyticsPanel-BwHajhP1.js"),__vite__mapDeps([88,2,3,5,1,4,6,7]))),Th=c.lazy(()=>d(()=>import("./LinkClickTrackingPanel-CpWy13Rx.js"),__vite__mapDeps([89,2,3,5,1,4,6,7]))),Ph=c.lazy(()=>d(()=>import("./JoinLeaveLogsPanel-C-D2frKr.js"),__vite__mapDeps([90,2,3,5,1,4,6,7]))),Ih=c.lazy(()=>d(()=>import("./UserActivityPanel-BZ1kEqbE.js"),__vite__mapDeps([91,2,3,5,1,4,6,7]))),Rh=c.lazy(()=>d(()=>import("./NicknameHistoryPanel-DzppGnp3.js"),__vite__mapDeps([92,2,3,5,1,4,6,7]))),Ah=c.lazy(()=>d(()=>import("./FieldChangeTrackingPanel-Hm1UqBHh.js"),__vite__mapDeps([93,2,3,5,1,4,6,7]))),Lh=c.lazy(()=>d(()=>import("./InviteAnalyticsPanel-BM2EdAiW.js"),__vite__mapDeps([94,2,3,5,1,4,6,7]))),Dh=c.lazy(()=>d(()=>import("./ContentScannerPanel-B15Qly62.js"),__vite__mapDeps([95,2,3,5,1,4,6,7]))),Oh=c.lazy(()=>d(()=>import("./EphemeralMessagesPanel-DKubhKJI.js"),__vite__mapDeps([96,2,3,5,1,4,6,7]))),zh=c.lazy(()=>d(()=>import("./TopicHistoryPanel-BcQ-UpIY.js"),__vite__mapDeps([97,2,3,5,1,4,6,7]))),Mh=c.lazy(()=>d(()=>import("./DraftsPanel-DnvWQ55g.js"),__vite__mapDeps([98,2,3,5,1,4,6,7]))),Bh=c.lazy(()=>d(()=>import("./ServerNicknamesPanel-Bloqkw3W.js"),__vite__mapDeps([99,2,3,5,1,4,6,7]))),Uh=c.lazy(()=>d(()=>import("./ServerBoostPanel-g6si61_d.js"),__vite__mapDeps([100,2,3,5,1,4,6,7]))),Vh=c.lazy(()=>d(()=>import("./RoomWebhooksPanel-DpYxLcr2.js"),__vite__mapDeps([101,2,3,5,1,4,6,7]))),$h=c.lazy(()=>d(()=>import("./OAuthAppsPanel--6lSe7_x.js"),__vite__mapDeps([102,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./VanityURLPanel-CFFm6w_o.js"),__vite__mapDeps([103,2,3,5,1,4,6,7])));const Cl=c.lazy(()=>d(()=>import("./AutoRespondersPanel-BL0VUQxD.js"),__vite__mapDeps([104,2,3,5,1,4,6,7]))),Nh=c.lazy(()=>d(()=>import("./SessionManagementPanel-Ctmdz0CR.js"),__vite__mapDeps([105,2,3,5,1,4,6,7]))),Fh=c.lazy(()=>d(()=>import("./GDPRExportPanel-CrCSIsKx.js"),__vite__mapDeps([106,2,3,5,1,4,6,7]))),Wh=c.lazy(()=>d(()=>import("./DataRetentionPanel-Clj0gNy2.js"),__vite__mapDeps([107,2,3,5,1,4,6,7]))),Yh=c.lazy(()=>d(()=>import("./TwoFactorSetupWizard-Fis9Ismq.js"),__vite__mapDeps([108,2,3,5,1,4,6,7]))),Gh=c.lazy(()=>d(()=>import("./EnhancedPollsPanel-DUJW4c4D.js"),__vite__mapDeps([109,2,3,5,1,4,6,7]))),Hh=c.lazy(()=>d(()=>import("./VoiceTranscriptsPanel-B6WjCJ2i.js"),__vite__mapDeps([110,2,3,5,1,4,6,7]))),Kh=c.lazy(()=>d(()=>import("./PaymentPanel-DmO50-LA.js"),__vite__mapDeps([111,2,3,5,1,4,6,7]))),qh=c.lazy(()=>d(()=>import("./StoreModal-C2H0wazq.js"),__vite__mapDeps([112,2,3,5,1,4,6,7]))),Jh=c.lazy(()=>d(()=>import("./DailyRewardsModal-Cdqfd1Na.js"),__vite__mapDeps([113,2,3,5,1,4,6,7]))),Zh=c.lazy(()=>d(()=>import("./APIUsagePanel-CYOeRTqU.js"),__vite__mapDeps([114,2,3,5,1,4,6,7]))),Xh=c.lazy(()=>d(()=>import("./ExportJobsPanel-iLxADLum.js"),__vite__mapDeps([115,2,3,5,1,4,6,7]))),Qh=c.lazy(()=>d(()=>import("./ScheduledAnnouncementsPanel-CkRScWeU.js"),__vite__mapDeps([116,2,3,5,1,4,6,7]))),eg=c.lazy(()=>d(()=>import("./InviteExportPanel-DxrA3DAL.js"),__vite__mapDeps([117,2,3,5,1,4,6,7]))),tg=c.lazy(()=>d(()=>import("./AdvancedSearchPanel-Bk3ZWId1.js"),__vite__mapDeps([118,2,3,5,1,4,6,7]))),rg=c.lazy(()=>d(()=>import("./GrowthMetricsPanel-C9e-P6Rz.js"),__vite__mapDeps([119,2,3,5,1,4,6,7]))),sg=c.lazy(()=>d(()=>import("./LinkPreviewRenderer-G8UgXsuB.js"),__vite__mapDeps([120,2,3,5]))),ng=c.lazy(()=>d(()=>import("./InventoryPanel-DL1g-hP0.js"),__vite__mapDeps([121,2,3,5,1,4,6,7]))),og=c.lazy(()=>d(()=>import("./WaitlistPanel-D-gKWPIL.js"),__vite__mapDeps([122,2,3,5,1,4,6,7]))),ag=c.lazy(()=>d(()=>import("./ReferralRewardsPanel-B4u5_fTi.js"),__vite__mapDeps([123,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./VerifyEmailPage-apDpmfAT.js"),__vite__mapDeps([124,2,3,5,4])));c.lazy(()=>d(()=>import("./ForgotPasswordPage-BCVCQKSL.js"),__vite__mapDeps([125,2,3,5,37,4])));c.lazy(()=>d(()=>import("./ResetPasswordPage-DMf-pEAa.js"),__vite__mapDeps([126,2,3,5,4])));c.lazy(()=>d(()=>import("./TwoFactorLoginPage-DlYvIAWc.js"),__vite__mapDeps([127,2,3,4,5,1,6,7])));c.lazy(()=>d(()=>import("./TwoFactorSetup-_D9cQzrM.js"),__vite__mapDeps([128,2,3,1,4,5,6,7,129])));c.lazy(()=>d(()=>import("./TwoFactorLogin-BbBHvUsF.js"),__vite__mapDeps([130,2,3,131])));const ig=c.lazy(()=>d(()=>import("./VanityInviteScreen-B9s8jdLK.js"),__vite__mapDeps([132,2,3,9]))),lg=c.lazy(()=>d(()=>import("./InviteCodeScreen-BrhG_BJ3.js"),__vite__mapDeps([133,2,3,1,4,5,6,7])));c.lazy(()=>d(()=>import("./EmailVerification-Ro1o7icn.js"),__vite__mapDeps([134,2,3,4,135])));c.lazy(()=>d(()=>import("./MobileNav-JvKGTaOP.js"),__vite__mapDeps([136,2,3,137])));c.lazy(()=>d(()=>import("./SwipeActions-CURQBkVE.js"),__vite__mapDeps([138,2,3,139])));c.lazy(()=>d(()=>import("./VoiceMessage-CpOTU0FP.js"),__vite__mapDeps([140,2,3,1,4,5,6,7,141])));const cg=c.lazy(()=>d(()=>import("./FriendsTab-3MrL0ImZ.js"),__vite__mapDeps([142,2,3,5,21,1,4,6,7]))),dg=c.lazy(()=>d(()=>import("./RoomList-Bh5Zygg_.js"),__vite__mapDeps([143,2,3,5,7,144,145,1,4,6,146,29,147,148,11,10,149,21]))),ug=c.lazy(()=>d(()=>import("./UserProfilePanel-CPzWwh-b.js"),__vite__mapDeps([150,2,3,151,1,40,41,152,153,4,5,6,7,154]))),El=c.lazy(()=>d(()=>import("./VoiceChatPanel-CtI-m1u6.js"),__vite__mapDeps([155,2,3,156,9,157,5,158,1,4,6,7,159]))),fg=c.lazy(()=>d(()=>import("./ChatUserList-DYAzu29T.js"),__vite__mapDeps([160,2,3,5,4]))),pg=c.lazy(()=>d(()=>import("./PinnedMessages-BC6X79Ih.js"),__vite__mapDeps([161,2,3,20,1,5,21,22,23,24,25,9,4,6,7]))),mg=c.lazy(()=>d(()=>import("./FloatingVoiceIsland-gO5pOZkx.js"),__vite__mapDeps([162,2,3,156,9,163]))),hg=c.lazy(()=>d(()=>import("./CinemaPlayer-Bodvd6GW.js"),__vite__mapDeps([164,1,2,3,5,4,6,7]))),gg=c.lazy(()=>d(()=>import("./ConnectionsPanel-qOLsgdQa.js"),__vite__mapDeps([165,2,3,5,1,4,6,7,166]))),yg=c.lazy(()=>d(()=>import("./PasswordSetupModal-BsHXbR1D.js"),__vite__mapDeps([167,2,3,5,1,4,6,7,168]))),xg=c.lazy(()=>d(()=>import("./NotificationDropdown-BvLQuY_H.js"),__vite__mapDeps([169,2,3,5,1,4,6,7])));c.lazy(()=>d(()=>import("./ReactionStatsPanel-D81lDnwc.js"),__vite__mapDeps([170,2,3,5,1,4,6,7,171])));c.lazy(()=>d(()=>import("./ServerHealthPanel-BA3Nf-Vx.js"),__vite__mapDeps([172,2,3,5,1,4,6,7,173])));c.lazy(()=>d(()=>import("./ChannelAnalyticsPanel-DiyHlhRv.js"),__vite__mapDeps([174,2,3,5,1,4,6,7,175])));c.lazy(()=>d(()=>import("./SmartSuggestionsPanel-B9A6L4pi.js"),__vite__mapDeps([176,2,3,5,1,4,6,7,177])));c.lazy(()=>d(()=>import("./UserPresenceInsightsPanel-DKZvKceR.js"),__vite__mapDeps([178,2,3,5,1,4,6,7,179])));c.lazy(()=>d(()=>import("./UserFooter-B9zOVm_g.js").then(i=>i.a),__vite__mapDeps([144,2,3,5])));const bg=c.lazy(()=>d(()=>import("./UserContextMenu-DU7lxNJ4.js"),__vite__mapDeps([157,2,3,5]))),Sg=c.lazy(()=>d(()=>import("./MiniGamesPanel-BUeK3m_D.js"),__vite__mapDeps([180,2,3,5,1,4,6,7]))),_g=c.lazy(()=>d(()=>import("./ProjectCollaborationPanel-C4yA3hFd.js"),__vite__mapDeps([181,2,3,5,1,4,6,7]))),vg=c.lazy(()=>d(()=>import("./AvatarStudioPanel-D1ZPRO5V.js"),__vite__mapDeps([182,2,3,5,1,4,6,7]))),Tl=c.lazy(()=>d(()=>import("./ImageLightbox-Cyx16SWV.js"),__vite__mapDeps([183,2,3,5])));c.lazy(()=>d(()=>import("./ChannelAboutPanel-DrdbNeHu.js"),__vite__mapDeps([184,2,3,5])));c.lazy(()=>d(()=>import("./MessageSchedulePicker-C9Q_ZnRB.js"),__vite__mapDeps([185,2,3,5])));const wg=c.lazy(()=>d(()=>import("./UserSettingsModal-BPfyXPXB.js"),__vite__mapDeps([186,2,3,5,1,4,6,7]))),kg=c.lazy(()=>d(()=>import("./KeyboardShortcutsModal-D5kL6Cxp.js"),__vite__mapDeps([187,2,3,5]))),jg=c.lazy(()=>d(()=>import("./CommandPalette-qGJ2zsV0.js"),__vite__mapDeps([188,2,3,5,189]))),Cg=c.lazy(()=>d(()=>import("./ServerDiscoveryPage-DUmMnrud.js"),__vite__mapDeps([190,2,3,1,4,5,6,7,191]))),Eg=c.lazy(()=>d(()=>import("./AppearanceSettingsPanel-CUu2Szc7.js"),__vite__mapDeps([192,2,3,9,1,4,5,6,7,193]))),Tg=c.lazy(()=>d(()=>import("./LanguageSelector-C2B9stvV.js"),__vite__mapDeps([194,2,3,7,1,4,5,6,195]))),Pg=c.lazy(()=>d(()=>import("./ChangelogPanel-C-rDJwTW.js"),__vite__mapDeps([196,2,3,5,197]))),Ig=c.lazy(()=>d(()=>import("./LogoutModal-BuAGulAv.js"),__vite__mapDeps([152,2,3,153]))),Rg=c.lazy(()=>d(()=>import("./NotificationSoundSettings-CNHaHED3.js"),__vite__mapDeps([198,2,3,5]))),Ag=c.lazy(()=>d(()=>import("./QuickSwitcher-D1rxHYcz.js"),__vite__mapDeps([199,2,3,5,200]))),Lg=c.lazy(()=>d(()=>import("./LoginHistory-Cj0KyeFN.js"),__vite__mapDeps([201,2,3,5]))),Dg=c.lazy(()=>d(()=>import("./SecuritySettingsPanel--J4EVEwn.js"),__vite__mapDeps([202,2,3,9,1,4,5,6,7,203]))),Og=c.lazy(()=>d(()=>import("./PrivacySettingsPanel-cOsDHoAU.js"),__vite__mapDeps([204,2,3,9,1,4,5,6,7,205]))),zg=c.lazy(()=>d(()=>import("./AccountDeletionModal-BQ216ceg.js"),__vite__mapDeps([206,2,3,5,1,4,6,7]))),Mg=c.lazy(()=>d(()=>import("./BlockListPanel-ChWcHcII.js"),__vite__mapDeps([207,2,3,9,1,4,5,6,7,208]))),Bg=c.lazy(()=>d(()=>import("./E2EESettingsPanel-DmiBsol-.js"),__vite__mapDeps([209,1,2,3,5,4,6,7]))),Ug=c.lazy(()=>d(()=>import("./ThreadView-612W_Ym5.js"),__vite__mapDeps([210,2,3,5]))),Vg=c.lazy(()=>d(()=>import("./ScheduledMessagesPanel-BXdq7iUv.js"),__vite__mapDeps([211,2,3,1,4,5,6,7,212]))),$g=c.lazy(()=>d(()=>import("./ReminderPanel-DK8JmsON.js"),__vite__mapDeps([213,2,3,9,1,4,5,6,7,214]))),Ng=c.lazy(()=>d(()=>import("./ForumPanel-DiAcaIu7.js"),__vite__mapDeps([215,2,3,1,4,5,6,7,216]))),Fg=c.lazy(()=>d(()=>import("./StageChannelPanel-DUAFMeat.js"),__vite__mapDeps([217,2,3,1,4,5,6,7,218]))),Wg=c.lazy(()=>d(()=>import("./VideoCallModal-CrZgnBzA.js"),__vite__mapDeps([219,2,3,5]))),Yg=c.lazy(()=>d(()=>import("./VoiceSettingsPanel-DgtpQK6p.js"),__vite__mapDeps([158,2,3,9,5,1,4,6,7,159]))),Gg=c.lazy(()=>d(()=>import("./MessageSearchPanel-UkS-g6ms.js"),__vite__mapDeps([220,2,3,5,1,4,6,7,221]))),Hg=c.lazy(()=>d(()=>import("./index-Cv7WEbD_.js"),__vite__mapDeps([222,2,3,5,1,4,6,7,223]))),Kg=c.lazy(()=>d(()=>import("./AutoRolesPanel-Dkq_I0hz.js"),__vite__mapDeps([224,2,3,9,1,4,5,6,7,225]))),qg=c.lazy(()=>d(()=>import("./ReactionRolesPanel-B3rQ2liG.js"),__vite__mapDeps([226,2,3,9,1,4,5,6,7,227]))),Jg=c.lazy(()=>d(()=>import("./WelcomeMessagesPanel-Z6sYMPG2.js"),__vite__mapDeps([228,2,3,9,1,4,5,6,7,229]))),Zg=c.lazy(()=>d(()=>import("./EventCalendar-C6FIGLJu.js"),__vite__mapDeps([230,2,3,5]))),Xg=c.lazy(()=>d(()=>import("./GiveawayPanel-DPip13oA.js"),__vite__mapDeps([231,2,3,9,1,4,5,6,7,232]))),Qg=c.lazy(()=>d(()=>import("./TicketSystemPanel-CdRHEBU9.js"),__vite__mapDeps([233,2,3,9,1,4,5,6,7,234]))),ey=c.lazy(()=>d(()=>import("./StarboardPanel-DXk6bkKq.js"),__vite__mapDeps([235,2,3,9,1,4,5,6,7,236]))),ty=c.lazy(()=>d(()=>import("./ServerBackupPanel-CXmdUscq.js"),__vite__mapDeps([237,2,3,9,1,4,5,6,7,238]))),ry=c.lazy(()=>d(()=>import("./BanAppealsPanel-DBqQzfMD.js"),__vite__mapDeps([239,2,3,5,240]))),sy=c.lazy(()=>d(()=>import("./CustomCommandsPanel-CHboUHVy.js"),__vite__mapDeps([241,2,3,9,1,4,5,6,7,242]))),ny=c.lazy(()=>d(()=>import("./LevelingSystemPanel-CosIsI-F.js"),__vite__mapDeps([243,2,3,9,1,4,5,6,7,244]))),oy=c.lazy(()=>d(()=>import("./LiveStreamPanel-Dj0-3_b2.js"),__vite__mapDeps([245,2,3,5]))),ay=c.lazy(()=>d(()=>import("./AchievementsPanel-BaBIs5dq.js"),__vite__mapDeps([246,2,3,1,4,5,6,7,247]))),iy=c.lazy(()=>d(()=>import("./BirthdaySystemPanel-BGx8Pqk2.js"),__vite__mapDeps([248,2,3,9,1,4,5,6,7,249]))),ly=c.lazy(()=>d(()=>import("./PremiumModal-NEOCssMa.js"),__vite__mapDeps([250,2,3,1,4,5,6,7]))),cy=c.lazy(()=>d(()=>import("./MusicPlayer-DBKJ6GF3.js"),__vite__mapDeps([251,2,3,5,1,4,6,7,252]))),dy=c.lazy(()=>d(()=>import("./BotMarketplace-Ca4NBLBl.js"),__vite__mapDeps([253,2,3,1,4,5,6,7,254]))),uy=c.lazy(()=>d(()=>import("./ProfileCustomization--tGKJosh.js"),__vite__mapDeps([255,2,3,5,1,4,6,7]))),fy=c.lazy(()=>d(()=>import("./IntegrationHubPanel-aaz08k3e.js"),__vite__mapDeps([256,2,3,5,9,1,4,6,7,257]))),py=c.lazy(()=>d(()=>import("./TournamentSystem-Bk9f80Yb.js"),__vite__mapDeps([258,2,3,5,1,4,6,7]))),my=c.lazy(()=>d(()=>import("./HighlightsPanel-CcIyg72_.js"),__vite__mapDeps([259,2,3,9,23,1,4,5,6,7,260]))),hy=c.lazy(()=>d(()=>import("./CustomEmbedPanel-I1w_Oxzw.js"),__vite__mapDeps([261,2,3,9,1,4,5,6,7,262]))),gy=c.lazy(()=>d(()=>import("./SpotifyIntegrationPanel-nT8EZvxx.js"),__vite__mapDeps([263,2,3,5,264]))),yy=c.lazy(()=>d(()=>import("./ServerClonePanel-CoQt4t-3.js"),__vite__mapDeps([265,2,3,5,1,4,6,7,266]))),xy=c.lazy(()=>d(()=>import("./WeeklyChallengesPanel-DrAPQKFl.js"),__vite__mapDeps([267,2,3,5]))),by=c.lazy(()=>d(()=>import("./ModeratorTools-BM6f-ENq.js"),__vite__mapDeps([148,2,3,5,1,4,6,7]))),Sy=c.lazy(()=>d(()=>import("./AIModerationPanel-Bso2lg2A.js"),__vite__mapDeps([268,2,3,151,5,1,4,6,7]))),_y=c.lazy(()=>d(()=>import("./SpamDetectionPanel-3E0V1q4o.js"),__vite__mapDeps([269,2,3,5,1,4,6,7]))),vy=c.lazy(()=>d(()=>import("./AuditLogsPanel-BYQOtUlB.js"),__vite__mapDeps([270,2,3,9,1,4,5,6,7,271]))),wy=c.lazy(()=>d(()=>import("./BanHistoryPanel-BntK0F1V.js"),__vite__mapDeps([272,2,3,5,9,273]))),ky=c.lazy(()=>d(()=>import("./ModerationLogsPanel-B2EH6Bkr.js"),__vite__mapDeps([274,2,3,5,9,1,4,6,7,275])));c.lazy(()=>d(()=>import("./RaidProtectionDashboard-bEsGanVU.js"),__vite__mapDeps([276,2,3,5,1,4,6,7,277])));const jy=c.lazy(()=>d(()=>import("./SecurityAlertsPanel-VWkHw3na.js"),__vite__mapDeps([278,2,3,5,1,4,6,7,279])));c.lazy(()=>d(()=>import("./BookmarksPanel-DGg5NI-m.js"),__vite__mapDeps([280,2,3,5])));const Cy=c.lazy(()=>d(()=>import("./GIFPickerPanel-DCVAfU1Z.js"),__vite__mapDeps([281,2,3,5,282]))),Ey=c.lazy(()=>d(()=>import("./PollCreator-BlHdKORd.js"),__vite__mapDeps([283,2,3,151,1,4,5,6,7]))),Ty=c.lazy(()=>d(()=>import("./StickersPanel-BifyKiYg.js"),__vite__mapDeps([284,2,3,1,4,5,6,7,285]))),Py=c.lazy(()=>d(()=>import("./SavedMessagesModal-ELS1VskF.js"),__vite__mapDeps([146,2,3,5]))),Iy=c.lazy(()=>d(()=>import("./NotificationsCenter-Dsy1v6KG.js"),__vite__mapDeps([286,2,3,5,1,4,6,7,287]))),Ry=c.lazy(()=>d(()=>import("./MessageSummaryPanel-BsCQdRel.js"),__vite__mapDeps([288,2,3,5,23,289]))),Ay=c.lazy(()=>d(()=>import("./TranslationPanel-BIX8P7Pi.js"),__vite__mapDeps([290,2,3,9,1,4,5,6,7,291]))),Ly=c.lazy(()=>d(()=>import("./ChannelSettingsModal-CeyY7QK6.js"),__vite__mapDeps([149,2,3,5,1,4,6,7]))),Dy=c.lazy(()=>d(()=>import("./InviteModal-wiqb7CJv.js"),__vite__mapDeps([145,2,3,5,1,4,6,7]))),Oy=c.lazy(()=>d(()=>import("./ServerTemplates-BKKN0YRs.js"),__vite__mapDeps([292,2,3,5,1,4,6,7,293]))),zy=c.lazy(()=>d(()=>import("./ServerAnalyticsDashboard-ChtKfFvI.js"),__vite__mapDeps([294,2,3,5]))),My=c.lazy(()=>d(()=>import("./RolesManager-DgkCwTzI.js"),__vite__mapDeps([295,2,3,1,4,5,6,7,296]))),By=c.lazy(()=>d(()=>import("./WelcomeScreenEditor-oBcZlACU.js"),__vite__mapDeps([297,2,3,5]))),Uy=c.lazy(()=>d(()=>import("./CommunitySettingsPanel-DwZQ9rMZ.js"),__vite__mapDeps([298,2,3,5,1,4,6,7,299]))),Vy=c.lazy(()=>d(()=>import("./InviteLinkManager-CS0Xugg6.js"),__vite__mapDeps([300,2,3,5]))),$y=c.lazy(()=>d(()=>import("./BotBuilder-EDOEqQoZ.js"),__vite__mapDeps([301,2,3,151,5,1,4,6,7]))),Ny=c.lazy(()=>d(()=>import("./BotDeveloperPortal-Bxz2KID-.js"),__vite__mapDeps([302,2,3,5,1,4,6,7,303]))),Fy=c.lazy(()=>d(()=>import("./WebhookManager-YRk-DK76.js"),__vite__mapDeps([147,2,3,5,1,4,6,7]))),Wy=c.lazy(()=>d(()=>import("./APIKeysPanel-DZvWgAW9.js"),__vite__mapDeps([304,2,3,5,1,4,6,7]))),Yy=c.lazy(()=>d(()=>import("./SlashCommandsPanel-6t_VZ-AK.js"),__vite__mapDeps([305,2,3,5,306]))),Gy=c.lazy(()=>d(()=>import("./CodeRunnerPanel-cXxDO-p0.js"),__vite__mapDeps([307,2,3,5,9,308]))),Hy=c.lazy(()=>d(()=>import("./ProfileCard-Cw30tt9w.js"),__vite__mapDeps([309,2,3,1,4,5,6,7,310]))),Ky=c.lazy(()=>d(()=>import("./UserNotesModal-Wlu6EYB2.js"),__vite__mapDeps([14,2,3,5]))),qy=c.lazy(()=>d(()=>import("./StatusPicker-DOtuJ4B8.js"),__vite__mapDeps([311,2,3,5]))),Jy=c.lazy(()=>d(()=>import("./MutualsPanel-BOGoR2Ze.js"),__vite__mapDeps([312,2,3,5,9,313]))),Zy=c.lazy(()=>d(()=>import("./ProfileShowcasePanel-2sYYTx8-.js"),__vite__mapDeps([314,2,3,5,9,1,4,6,7,315]))),Xy=c.lazy(()=>d(()=>import("./SessionManagerModal-DphWRTKO.js"),__vite__mapDeps([13,2,3,5,1,4,6,7]))),Qy=c.lazy(()=>d(()=>import("./CoinStoreModal-Zgb6jh50.js"),__vite__mapDeps([45,2,3,5,1,4,6,7]))),ex=c.lazy(()=>d(()=>import("./PremiumManagementPanel-ClnmbYgF.js"),__vite__mapDeps([316,2,3,9,1,4,5,6,7,317]))),tx=c.lazy(()=>d(()=>import("./SubscriptionManager-CiR6ZOqj.js"),__vite__mapDeps([318,2,3,5,1,4,6,7]))),rx=c.lazy(()=>d(()=>import("./GiftPremiumPanel-BAmcexeZ.js"),__vite__mapDeps([319,2,3,5,320]))),sx=c.lazy(()=>d(()=>import("./PremiumMarketplace-Bv-tUCdi.js"),__vite__mapDeps([321,2,3,151,1,4,5,6,7,322]))),nx=c.lazy(()=>d(()=>import("./ThemeMarketplace-DBsWEW6E.js"),__vite__mapDeps([323,2,3,151,1,4,5,6,7,324]))),ox=c.lazy(()=>d(()=>import("./AIChatbotPanel-BzJEi1Xe.js"),__vite__mapDeps([325,2,3,5,1,4,6,7,326]))),ax=c.lazy(()=>d(()=>import("./CollaborativeCodeEditor-LBEyTsWk.js"),__vite__mapDeps([327,2,3,5,1,4,6,7]))),ix=c.lazy(()=>d(()=>import("./ScreenShareModal-BjEPAptQ.js"),__vite__mapDeps([328,2,3,5]))),lx=c.lazy(()=>d(()=>import("./LiveStreamModal-BHoqtnFm.js"),__vite__mapDeps([329,2,3,5,1,4,6,7]))),cx=c.lazy(()=>d(()=>import("./AdvancedAnalyticsDashboard-Dd4x38el.js"),__vite__mapDeps([330,2,3,5,1,4,6,7,331]))),dx=c.lazy(()=>d(()=>import("./FileManagerPanel-B4Lu7ppC.js"),__vite__mapDeps([332,2,3,5]))),ux=c.lazy(()=>d(()=>import("./ReportsPanel-fXDhyTwc.js"),__vite__mapDeps([333,2,3,1,4,5,6,7,334]))),fx=c.lazy(()=>d(()=>import("./ErrorReportingPanel-BRb9xBvI.js"),__vite__mapDeps([335,2,3,1,4,5,6,7,336]))),px="8888",ts=typeof window<"u"&&typeof window.require=="function",nr=window.Capacitor&&window.Capacitor.isNativePlatform(),ss=(()=>{if(nr||ts)return"https://api.pawscord.com";const i=window.location.protocol,s=window.location.hostname;return s.includes("pawscord.com")?"https://api.pawscord.com":`${i}//${s}:${px}`})(),Cr=ts||nr?"https://www.pawscord.com":ss,W=`${ss}/api`,x=ss,Zs=ss.startsWith("https")?"wss":"ws",Xs=ss.replace(/^https?:\/\//,""),mx=`${W}/auth/login/`,hx=`${W}/auth/register/`,gx=`${W}/messages/history/room/`,yx=`${W}/messages/history/dm/`,jo=`${W}/rooms/list_with_categories/`,xx=`${W}/conversations/`,bx=`${W}/conversations/find_or_create/`,Sx=`${W}/users/update_profile/`,_x=`${W}/users/change_username/`,vx=`${W}/gifs/list_local/`,Pl="chat_drafts_v1",Qs=()=>(Date.now()+Math.floor(Math.random()*1e3)).toString(),wx=async i=>{const s=(await d(async()=>{const{default:n}=await import("./crypto-vendor-BHxPXfg-.js").then(f=>f.s);return{default:n}},__vite__mapDeps([7,2,3]))).default;return new Promise((n,f)=>{const h=Math.ceil(i.size/2097152);let w=0;const C=new s.ArrayBuffer,P=new FileReader;P.onload=H=>{C.append(H.target.result),w++,w<h?L():n(C.end())},P.onerror=H=>f(H);function L(){const H=w*2097152,D=Math.min(H+2097152,i.size);P.readAsArrayBuffer(i.slice(H,D))}L()})},kx=c.memo(({messages:i,currentUser:s,absoluteHostUrl:n,isAdmin:f,onOpenGallery:u,onViewProfile:h,onDelete:w,allUsers:C,getDeterministicAvatar:P,fetchWithAuth:L,onVisible:H})=>{const D=i[0],O=(()=>{let B=D.avatar;return B||(B=C?.find(be=>be.username===D.username)?.avatar),B||(B=P(D.username)),B&&!B.startsWith("http")&&!B.startsWith("blob:")&&(B=`${n.replace(/\/$/,"")}/${B.replace(/^\//,"")}`),B})(),N=B=>B?B.startsWith("http")||B.startsWith("blob:")?B:`${n.replace(/\/$/,"")}/${B.replace(/^\//,"")}`:null,ee=i.map(B=>{const q=B.image_url||B.image;if(q)return N(q);const be=B.file_url||B.file;return be&&/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(B.file_name||"")?N(be):null}).filter(Boolean),F=4,Y=ee.length,te=ee.slice(0,F),G=te.length,ge=Math.max(0,Y-F),fe=()=>G===1?{gridTemplateColumns:"1fr",maxWidth:"300px"}:G===2?{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"}:G===3?{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"}:{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"},re=D.timestamp?new Date(D.timestamp):null,pe=re?re.toDateString()===new Date().toDateString()?re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):re.toLocaleString([],{hour:"2-digit",minute:"2-digit"}):"",Se=B=>{u&&u(ee,B)};return e.jsxs("div",{style:{display:"flex",padding:"4px 48px 4px 16px",gap:"12px",position:"relative"},children:[e.jsx("div",{style:{flexShrink:0,width:"40px",paddingTop:"2px"},children:e.jsx("img",{src:O,alt:D.username,style:{width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",objectFit:"cover"},onClick:()=>h(D.username)})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("strong",{style:{cursor:"pointer",color:f&&D.username===s?"#f0b232":"#fff",fontSize:"0.95em"},onClick:()=>h(D.username),children:D.username}),e.jsx("span",{style:{color:"#72767d",fontSize:"0.75em"},children:pe}),Y>1&&e.jsxs("span",{style:{color:"#5865f2",fontSize:"0.72em",fontWeight:600},children:["üì∑ ",Y," fotoƒüraf"]})]}),e.jsx("div",{style:{display:"grid",...fe(),gap:"3px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:te.map((B,q)=>{const be=q===F-1&&ge>0;return e.jsxs("div",{style:{aspectRatio:G===1?"auto":G===3&&q===0?"2/1":"1/1",overflow:"hidden",position:"relative",...G===3&&q===0?{gridColumn:"1 / -1"}:{},maxHeight:G===1?"300px":"200px",cursor:"pointer"},onClick:()=>Se(q),children:[e.jsx("img",{src:B,alt:`gallery-${q}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",transition:"transform 0.2s, filter 0.2s",filter:be?"brightness(0.4)":"none"},loading:"lazy",onMouseEnter:_e=>{_e.target.style.transform="scale(1.05)",be||(_e.target.style.filter="brightness(0.85)")},onMouseLeave:_e=>{_e.target.style.transform="scale(1)",be?_e.target.style.filter="brightness(0.4)":_e.target.style.filter="none"}}),be&&e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:e.jsxs("span",{style:{color:"#fff",fontSize:"2rem",fontWeight:700,textShadow:"0 2px 8px rgba(0,0,0,0.6)",letterSpacing:"1px"},children:["+",ge]})})]},i[q]?.id||q)})})]})]})}),jx=()=>{const{user:i,isAuthenticated:s,token:n,login:f,logout:u,isLoading:h,refreshAccessToken:w}=ar(),{isInVoice:C,isConnecting:P,currentRoom:L,joinChannel:H,leaveChannel:D,isMuted:O,isDeafened:N,toggleMute:ee,toggleDeafened:F,toggleVideo:Y,toggleScreenShare:te,remoteVolumes:G,setRemoteVolume:ge,localCameraStream:fe,remoteStreams:re,isTalking:pe,sendSignal:Se,isScreenSharing:B,isVideoEnabled:q,isPttActive:be,localScreenStream:_e,sendReaction:ue,lastReaction:ke,applyVoiceEffect:Ge,activeEffect:et,cinemaState:ft,setCinemaState:Gt,gameState:Ce,sendGameSignal:pt,mutedUsers:rn}=wm(),{setGlobalData:Ht,setIsConnected:ns}=ql(),l=Le(r=>r.activeChat),Rr=Le(r=>r.messages),Kt=Le(r=>r.encryptionKeys),sn=Le(r=>r.voiceUsers),os=Le(r=>r.unreadCounts),ae=Le(r=>r.setActiveChat);Le(r=>r.addMessage),Le(r=>r.updateMessage);const Te=Le(r=>r.setMessages),as=Le(r=>r.setTypingUser),nn=Le(r=>r.setOnlineUsers),on=Le(r=>r.setVoiceUsers),an=Le(r=>r.incrementUnread),ln=Le(r=>r.setEncryptionKey),[is,Ot]=t.useState(!1),[cn,ir]=t.useState(!1),[dn,ls]=t.useState(!1),[Uo,zt]=t.useState(!1),[un,qt]=t.useState(!1),[cs,Mt]=t.useState(null),[fn,ds]=t.useState(!1),[pn,lr]=t.useState(0),[mn,je]=t.useState(""),T=i?.username||"",[Ar,Lr]=t.useState(!1),[Bt,hn]=t.useState(!1),[mt,cr]=t.useState(null),{isMobile:le}=sm(),[Dr,dr]=t.useState(""),Ut=um(Dr,300),[gn,He]=t.useState("0px"),us=nr?"max(20px, env(safe-area-inset-bottom))":"0px",[Vt,fs]=t.useState({width:300,height:225,x:100,y:100}),[St,Ke]=t.useState(!0),[Or,yn]=t.useState(!0),[J,ye]=t.useState(!1),[qe,Pe]=t.useState("start"),[oe,Ie]=t.useState([]),[Z,ht]=t.useState([]),[me,st]=t.useState([]),[_t,nt]=t.useState([]),[Ne,zr]=t.useState([]),[ps,$t]=t.useState(!1),[Mr,De]=t.useState(!1),[Br,Nt]=t.useState(!1),[xn,ms]=t.useState(!1),[ur,hs]=t.useState(!1),[bn,gs]=t.useState(!1),[Sn,ot]=t.useState(""),[Me,Ft]=t.useState(!1),[ys,Fe]=t.useState(!1),[vt,Ur]=t.useState(new Set),[gt,wt]=t.useState(null),[Vr,xs]=t.useState(null),[Jt,yt]=t.useState(null),[_n,Zt]=t.useState(null),[vn,bs]=t.useState(!1),[$r,Ss]=t.useState(!1),[wn,Nr]=t.useState(!1),[kn,_s]=t.useState(!1),[jn,fr]=t.useState(!1),[Vo,Cn]=t.useState(!1),[En,Wt]=t.useState(!1),[at,Xt]=t.useState(!1),[pr,p]=t.useState(!1),[b,_]=t.useState(!1),[E,I]=t.useState(!1),[j,v]=t.useState(!1),[S,R]=t.useState(!1),[z,se]=t.useState(!1),[he,ve]=t.useState(!1),[Je,it]=t.useState(!1),[Ze,kt]=t.useState(!1),[jt,Ct]=t.useState(!1),[vs,ws]=t.useState(!1),[Fr,$o]=t.useState(!1),[No,tc]=t.useState(!1),[Fo,ks]=t.useState(!1),[mr,Et]=t.useState(!1),[js,Tn]=t.useState(!1),[Pn,In]=t.useState(!1),[rc,sc]=t.useState(!1),[nc,oc]=t.useState(!1),[ac,ic]=t.useState(!1),[lc,cc]=t.useState(!1),[dc,uc]=t.useState(!1),[fc,pc]=t.useState(!1),[mc,hc]=t.useState(!1),[gc,yc]=t.useState(!1),[xc,bc]=t.useState(!1),[Sc,Wo]=t.useState(!1),[_c,vc]=t.useState(!1),[wc,kc]=t.useState(!1),[jc,Cc]=t.useState(!1),[Ec,Tc]=t.useState(!1),[Pc,Ic]=t.useState(!1),[Rc,Ac]=t.useState(!1),[Lc,Dc]=t.useState(!1),[Oc,zc]=t.useState(!1),[Mc,Rn]=t.useState(!1),[Bc,Uc]=t.useState(!1),[Vc,$c]=t.useState(!1),[Nc,Fc]=t.useState(!1),[Wc,Yo]=t.useState(!1),[Yc,Gc]=t.useState(!1),[Hc,Kc]=t.useState(!1),[qc,Jc]=t.useState(!1),[Zc,Xc]=t.useState(!1),[Qc,ed]=t.useState(!1),[td,Go]=t.useState(!1),[rd,Ho]=t.useState(!1),[sd,Ko]=t.useState(!1),[db,ub]=t.useState(!1),[fb,pb]=t.useState(!1),[mb,hb]=t.useState(!1),[gb,yb]=t.useState(!1),[xb,bb]=t.useState(!1),[Sb,_b]=t.useState(!1),[vb,wb]=t.useState(!1),[kb,jb]=t.useState(!1),[Cb,Eb]=t.useState(!1),[Tb,Pb]=t.useState(!1),[nd,An]=t.useState(!1),[od,Ln]=t.useState(!1),[ad,Cs]=t.useState(!1),[id,Dn]=t.useState(!1),[ld,On]=t.useState(!1),[cd,zn]=t.useState(!1),[dd,qo]=t.useState(!1),[ud,Es]=t.useState(!1),[fd,Mn]=t.useState(!1),[pd,Ts]=t.useState(!1),[md,Bn]=t.useState(!1),[hd,Un]=t.useState(!1),[gd,Vn]=t.useState(!1),[yd,$n]=t.useState(!1),[xd,Nn]=t.useState(!1),[bd,Jo]=t.useState(!1),[Sd,Zo]=t.useState(!1),[_d,Xo]=t.useState(!1),[vd,Qo]=t.useState(!1),[wd,ea]=t.useState(!1),[kd,ta]=t.useState(!1),[jd,ra]=t.useState(!1),[Cd,sa]=t.useState(!1),[Ed,Fn]=t.useState(!1),[Td,na]=t.useState(!1),[Pd,oa]=t.useState(!1),[Id,aa]=t.useState(!1),[Rd,ia]=t.useState(!1),[Ad,la]=t.useState(!1),[Ld,ca]=t.useState(!1),[Dd,da]=t.useState(!1),[Od,ua]=t.useState(!1),[zd,fa]=t.useState(!1),[Md,pa]=t.useState(!1),[Bd,ma]=t.useState(!1),[Ud,ha]=t.useState(!1),[Vd,ga]=t.useState(!1),[$d,ya]=t.useState(!1),[Nd,xa]=t.useState(!1),[Fd,ba]=t.useState(!1),[Wd,Sa]=t.useState(!1),[Yd,_a]=t.useState(!1),[Gd,va]=t.useState(!1),[Hd,wa]=t.useState(!1),[Kd,ka]=t.useState(!1),[qd,ja]=t.useState(!1),[Jd,Ca]=t.useState(!1),[Zd,Ea]=t.useState(!1),[Xd,Ta]=t.useState(!1),[Qd,Pa]=t.useState(!1),[Wn,Oe]=t.useState(!1),[eu,Ia]=t.useState(!1),[tu,Ra]=t.useState(!1),[ru,Aa]=t.useState(!1),[su,La]=t.useState(!1),[nu,Da]=t.useState(!1),[ou,Oa]=t.useState(!1),[au,za]=t.useState(!1),[iu,Yn]=t.useState(!1),[lu,Ma]=t.useState(!1),[cu,Gn]=t.useState(!1),[du,Ba]=t.useState(!1),[uu,Ua]=t.useState(!1),[fu,Va]=t.useState(!1),[pu,$a]=t.useState(!1),[mu,Na]=t.useState(!1),[hu,Fa]=t.useState(!1),[gu,Wa]=t.useState(!1),[yu,Ya]=t.useState(!1),[xu,Ga]=t.useState(!1),[bu,Ha]=t.useState(!1),[Su,Ka]=t.useState(!1),[_u,qa]=t.useState(!1),[vu,Ja]=t.useState(!1),[wu,Za]=t.useState(!1),[ku,Xa]=t.useState(!1),[ju,Qa]=t.useState(!1),[Cu,ei]=t.useState(!1),[Eu,ti]=t.useState(!1),[Tu,ri]=t.useState(!1),[Pu,si]=t.useState(!1),[Iu,ni]=t.useState(!1),[Ru,oi]=t.useState(!1),[Au,ai]=t.useState(!1),[Lu,ii]=t.useState(!1),[Du,li]=t.useState(!1),[Ou,ci]=t.useState(!1),[zu,di]=t.useState(!1),[Mu,ui]=t.useState(!1),[Bu,fi]=t.useState(!1),[Uu,pi]=t.useState(!1),[Vu,mi]=t.useState(!1),[$u,hi]=t.useState(!1),[Nu,gi]=t.useState(!1),[Fu,yi]=t.useState(!1),[Wu,xi]=t.useState(!1),[Yu,bi]=t.useState(!1),[Gu,Si]=t.useState(!1),[Hu,_i]=t.useState(!1),[vi,Hn]=t.useState("default"),[wi,hr]=t.useState(null),[Ib,Rb]=t.useState(!1),[Ku,Ps]=t.useState(!1),[Ab,Is]=t.useState(!0),[Lb,Kn]=t.useState(0),[xt,qu]=t.useState(!1),[Qt,qn]=t.useState([]),[Ju,Zu]=t.useState(0),[lt,Rs]=t.useState([]),[er,Tt]=t.useState([]),[Db,Xu]=t.useState(null),[Be,Wr]=t.useState(null),[ki,ji]=t.useState(!1),[Qu,Ci]=t.useState(!1),[Ei,Ti]=t.useState(null),[Pi,Jn]=t.useState(!1),[ef,Ii]=t.useState(!1),[tf,As]=t.useState(""),[gr,Zn]=t.useState(()=>JSON.parse(localStorage.getItem("chat_sound_settings"))||{notifications:!0,mentions:!0,userJoinLeave:!0}),[Ls,Ds]=t.useState(null),[rf,Ri]=t.useState(!1),[Ai,Xn]=t.useState(!1),[Li,Qn]=t.useState(!1),[eo,Os]=t.useState(0),[sf,Di]=t.useState([]),[Ob,zb]=t.useState(!1),[Mb,yr]=t.useState(!1),[Bb,xr]=t.useState(""),[nf,zs]=t.useState(!1),[Ub,br]=t.useState(null),[Vb,Oi]=t.useState(null),[$b,zi]=t.useState(null),[Mi,Nb]=t.useState(!1),[to,Bi]=t.useState(!1),[Yr,ze]=t.useState(!1),[Ms,Ui]=t.useState(null),[Gr,Bs]=t.useState(null),[of,Vi]=t.useState(!1),[af,$i]=t.useState(!1),[lf,Ni]=t.useState(!1),[cf,Fi]=t.useState(!1),[df,Wi]=t.useState(!1),[uf,Yi]=t.useState(!1),[Gi,ro]=t.useState(null),[Hi,Ki]=t.useState(null),[ff,so]=t.useState(!1),[pf,qi]=t.useState(!1),Ji=Le(r=>r.typingUsers),Zi=t.useMemo(()=>Ji.filter(r=>r!==T),[Ji,T]);t.useRef(null),t.useRef([]);const Ue=t.useRef(null),tr=t.useRef(null),Xi=t.useRef(l),no=t.useRef(null),Hr=t.useRef(0);t.useRef(null);const Kr=t.useRef(null),oo=t.useRef(null),mf=t.useRef(null),Pt=t.useRef({}),Qi=t.useRef({}),el=t.useRef(null),Us=t.useRef(n),ao=t.useRef(T),io=t.useRef(!1);t.useEffect(()=>{Xi.current=l},[l]),t.useEffect(()=>{Us.current=n},[n]),t.useEffect(()=>{ao.current=T},[T]);const Re=T==="Eastkhan"||T==="PawPaw"||Be?.role==="admin",hf=t.useMemo(()=>{const r=Z?.find(y=>y.id===l?.serverId),o=r?.owner===T||r?.created_by===T,a=er?.find(y=>y.username===T)?.role==="moderator";return{isAdmin:Re,isServerOwner:o,isModerator:a,canKick:Re||o||a,canBan:Re||o,canMute:Re||o||a,canWarn:Re||o||a,canManageRoles:Re||o}},[Re,Z,l?.serverId,T,er]),gf=t.useMemo(()=>{if(!Z||Z.length===0)return[];if(!lt||lt.length===0)return Z;const r=[],o=[];return lt.forEach(a=>{const y=Z.find(g=>g.id===a);y&&r.push(y)}),Z.forEach(a=>{lt.includes(a.id)||o.push(a)}),[...r,...o]},[Z,lt]),lo=Le(r=>r.onlineUsers),yf=Le(r=>r.messages),ct=nm(yf,Ut);om(me);const tl=r=>{if(!r)return!1;const o=!!(r.image_url||r.image),a=!!(r.file_url||r.file)&&!r.is_voice_message&&/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(r.file_name||""),y=!!(r.content&&r.content.trim()),g=!!r.poll,k=!!r.reply_to;return(o||a)&&!y&&!g&&!k};t.useEffect(()=>{if(qe==="finished")return;Pe("start");const r=setTimeout(()=>Pe("pre-transition"),800),o=setTimeout(()=>Pe("finished"),2e3);return()=>{clearTimeout(r),clearTimeout(o)}},[]),t.useEffect(()=>{xt&&qe==="pre-transition"&&Pe("finished")},[xt,qe]),t.useEffect(()=>{const r=new URLSearchParams(window.location.search),o=r.get("verification"),a=r.get("username"),y=r.get("reason"),g=r.get("needs_password");if(o==="success")V.success(`‚úÖ Email doƒürulandƒ±! Ho≈ügeldin ${a||"kullanƒ±cƒ±"}!`),window.history.replaceState({},document.title,window.location.pathname);else if(o==="failed"){const k=y==="expired"?"‚è∞ Doƒürulama linki s√ºresi dolmu≈ü. Yeni bir link talep edin.":"‚ùå Ge√ßersiz doƒürulama linki.";V.error(k),window.history.replaceState({},document.title,window.location.pathname)}g==="true"&&(qi(!0),window.history.replaceState({},document.title,window.location.pathname))},[]),t.useEffect(()=>{const r=new URLSearchParams(window.location.search),o=r.get("success"),a=r.get("coins"),y=r.get("session_id"),g=r.get("canceled");o==="true"&&a&&((async()=>{try{const A=localStorage.getItem("access_token"),M="https://api.pawscord.com/api";if(y){const $=await(await fetch(`${M}/payments/verify/`,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({session_id:y,coin_amount:parseInt(a)})})).json();$.success?$.already_processed?V.info(`?? ÔøΩdeme zaten islendi! Bakiye: ${$.balance} coin`):V.success(`?? ${a} coin hesabina eklendi! Yeni bakiye: ${$.balance} coin`):V.error($.error||"ÔøΩdeme dogrulama hatasi")}else V.success(`?? ÔøΩdeme basarili! ${a} coin hesabina eklendi.`)}catch{V.success(`?? ${a} coin satin alma tamamlandi!`)}})(),window.history.replaceState({},document.title,window.location.pathname)),g==="true"&&(V.info("? ÔøΩdeme iptal edildi."),window.history.replaceState({},document.title,window.location.pathname))},[]),t.useEffect(()=>{const r=window.location.hash,o=r.match(/^#\/invite\/([^/?]+)/);if(o){Ki(o[1]);return}const a=r.match(/^#\/join\/([^/?]+)/);if(a){ro(a[1]);return}const y=window.location.pathname.match(/^\/join\/([^/?]+)/);if(y){const g=y[1];window.history.replaceState({},"",`/#/join/${g}`),ro(g)}},[]),t.useEffect(()=>(window.showAutoModeration=()=>Xt(!0),window.showRaidProtection=()=>p(!0),window.showReportSystem=()=>_(!0),window.showAuditLog=()=>I(!0),window.showUserWarnings=()=>v(!0),()=>{delete window.showAutoModeration,delete window.showRaidProtection,delete window.showReportSystem,delete window.showAuditLog,delete window.showUserWarnings}),[]),t.useEffect(()=>{const r=o=>{Yr&&!o.target.closest(".toolbar-menu-container")&&ze(!1)};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)},[Yr]),t.useEffect(()=>{const r=()=>{so(!0)};return window.addEventListener("openConnectionsPanel",r),()=>window.removeEventListener("openConnectionsPanel",r)},[]),t.useEffect(()=>{Fp(),Wp(),Yp(),Qp(),setTimeout(()=>{Nl()},3e3),"requestIdleCallback"in window&&requestIdleCallback(()=>{Po()}),nr&&d(async()=>{const{initializeDeepLinkHandler:r}=await import("./urlHandlers-CA9x1Jww.js");return{initializeDeepLinkHandler:r}},__vite__mapDeps([337,1,2,3,4,5,6,7])).then(({initializeDeepLinkHandler:r})=>{})},[]),t.useEffect(()=>{s&&d(async()=>{const{pushNotificationManager:r}=await import("./pushNotifications-DriSvqFN.js");return{pushNotificationManager:r}},__vite__mapDeps([338,1,2,3])).then(({pushNotificationManager:r})=>{r.init(W,m)})},[s]);const qr=t.useMemo(()=>{if(l.type==="room"){if(Z){for(const r of Z)if(r.categories)for(const o of r.categories){const a=o.rooms?.find(y=>y.slug===l.id);if(a)return String(a.name)}}return String(l.id)}else if(l.type==="dm")return`@ ${String(l.targetUser||"DM")}`;return""},[l,Z]),Sr=t.useMemo(()=>!l||!l.id?"":`${l.type}-${l.id}`,[l]),Vs=t.useCallback(()=>{try{const r=localStorage.getItem(Pl);if(!r)return{};const o=JSON.parse(r);return o&&typeof o=="object"?o:{}}catch{return{}}},[]),xf=t.useCallback(r=>{if(!Sr)return;const o=Vs();o[Sr]=r,localStorage.setItem(Pl,JSON.stringify(o))},[Sr,Vs]);t.useEffect(()=>{if(!Sr){xr(""),yr(!1);return}const o=Vs()[Sr]||"";xr(o),yr(!!o.trim())},[Sr,Vs]);const bf=t.useMemo(()=>{if(l.type!=="room"||!Z)return"text";for(const r of Z)if(r.categories)for(const o of r.categories){const a=o.rooms?.find(y=>y.slug===l.id);if(a)return a.channel_type}return"text"},[l,Z]),It=t.useCallback((r="auto")=>{no.current&&no.current.scrollIntoView({behavior:r})},[]),co=t.useCallback(()=>{const r=oo.current;return r?r.scrollHeight-r.scrollTop-r.clientHeight<160:!0},[]),uo=t.useCallback(()=>{const r=oo.current;if(!r)return;const o=r.scrollHeight-r.scrollTop-r.clientHeight;zs(o>160)},[]),Sf=fm(uo,100),Xe=t.useCallback(r=>{if(r==="‚ö° Signal Bot")return`${Cr}/static/bot/signal.png`;if(r==="PawPaw AI")return`${Cr}/static/bot/ai.png`;if(!r||!Ne||Ne.length===0)return`${Cr}/avatars/cat_1.png`;let o=0;for(let k=0;k<r.length;k++)o=r.charCodeAt(k)+((o<<5)-o);const a=Math.abs(o%Ne.length),y=Ne[a];let g;return typeof y=="object"&&y!==null?g=y.original||y.thumbnail||y.url:typeof y=="string"&&(g=y),!g||typeof g!="string"?`${Cr}/avatars/cat_1.png`:g.startsWith("http")||g.startsWith("blob:")?g:(g.startsWith("/")||(g="/"+g),`${Cr}${g}`)},[Ne]),dt=t.useCallback(r=>{const o=me.find(a=>a.username===r);if(o&&o.avatar&&typeof o.avatar=="string"){if(o.avatar.startsWith("http://")||o.avatar.startsWith("https://")||o.avatar.startsWith("blob:"))return o.avatar;let a=o.avatar;return a.startsWith("/")||(a="/"+a),`${Cr}${a}`}return Xe(r)},[me,Xe]),fo=t.useRef(!1),rl=t.useRef(null),m=t.useCallback(async(r,o={},a=!1)=>{const y=Us.current||n,g={...o.headers||{}};y&&(g.Authorization=`Bearer ${y}`),o.body instanceof FormData||(g["Content-Type"]="application/json");try{const A=r.includes("upload")||o.body instanceof FormData?3e5:3e4,M=new AbortController,ce=setTimeout(()=>M.abort(),A),$=await fetch(r,{...o,headers:g,signal:M.signal});if(clearTimeout(ce),$.status===401&&!a){if(r.includes("/auth/")||r.includes("/login"))throw u(),new Error("Unauthorized");if(fo.current||(fo.current=!0,rl.current=w().finally(()=>{fo.current=!1})),await rl.current)return m(r,o,!0);throw new Error("Unauthorized")}return $}catch(k){throw k.name==="AbortError"?new Error("ƒ∞stek zaman a≈üƒ±mƒ±na uƒüradƒ±"):(k.message==="Unauthorized",k)}},[n,u,w]);dm(),t.useEffect(()=>{const r=window.location.hash,o=r.includes("?")?r.split("?")[1]:"",y=new URLSearchParams(o).get("join_server");if(y&&s&&Z&&Z.length>0){const g=Z.find(k=>k.id===parseInt(y));if(g){if(g.categories&&g.categories.length>0){const k=g.categories[0];if(k.rooms&&k.rooms.length>0){const A=k.rooms[0];ae({type:"room",id:A.slug})}}window.history.replaceState({},document.title,"/#/")}else(async()=>{try{const A=await m(`${W}/servers/${y}/join/`,{method:"POST"});if(A.ok){V.success("Sunucuya katƒ±ldƒ±nƒ±z!");try{const M=await m(jo);if(M.ok){const ce=await M.json();ht(ce);const $=ce.find(U=>U.id===parseInt(y));$&&nl($)}}catch{}}else{const M=await A.json();V.error(M.error||"Sunucuya katƒ±lƒ±namadƒ±")}}catch{V.error("Sunucuya katƒ±lƒ±rken hata olu≈ütu")}finally{window.history.replaceState({},document.title,"/#/")}})()}},[s,Z,m]);const $s=t.useCallback(async r=>{try{await m(`${W}/user/server-order/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_order:r})})}catch{}},[m]),_f=(r,o,a)=>{r.dataTransfer.effectAllowed="move",r.dataTransfer.setData("serverId",o.toString()),r.dataTransfer.setData("sourceIndex",a.toString());const y=r.currentTarget.cloneNode(!0);y.style.position="absolute",y.style.top="-9999px",y.style.opacity="0.8",y.style.transform="rotate(5deg)",y.style.pointerEvents="none",document.body.appendChild(y),r.dataTransfer.setDragImage(y,24,24),setTimeout(()=>{document.body.contains(y)&&document.body.removeChild(y)},0),r.currentTarget.style.opacity="0.4"},vf=r=>{r.preventDefault(),r.dataTransfer.dropEffect="move"},wf=r=>{r.currentTarget.style.opacity="1"},kf=t.useCallback((r,o)=>{let a=lt.length>0?[...lt]:Z.map(A=>A.id);Z.forEach(A=>{a.includes(A.id)||a.push(A.id)});const y=a.indexOf(r);if(y===-1)return;const g=o==="up"?y-1:y+1;if(g<0||g>=a.length)return;const[k]=a.splice(y,1);a.splice(g,0,k),Rs(a),$s(a)},[lt,Z,$s]),jf=t.useCallback((r,o)=>{r.preventDefault();const a=parseInt(r.dataTransfer.getData("serverId"));if(isNaN(a))return;let y=lt.length>0?[...lt]:Z.map(M=>M.id);Z.forEach(M=>{y.includes(M.id)||y.push(M.id)});const g=y.indexOf(a);if(g===-1||g===o||g+1===o)return;const[k]=y.splice(g,1),A=g<o?o-1:o;y.splice(A,0,k),Rs(y),$s(y)},[lt,Z,$s]),sl=r=>{const o=document.getElementById(`message-${r}`);o&&o.scrollIntoView({behavior:"smooth",block:"center"})},Cf=async()=>{if(await Yt("Bu odadaki t√ºm mesajlarƒ± silmek istediƒüine emin misin?"))try{(await m(`${W}/rooms/${l.id}/clear/`,{method:"POST"})).ok&&Te([])}catch{}},Ef=async()=>{Jn(!0),Ii(!0),As("");try{const r=await m(`${W}/rooms/${l.id}/summarize/`,{method:"POST"}),o=await r.json();r.ok?As(o.summary):As("Hata: "+o.error)}catch{As("Baƒülantƒ± hatasƒ±.")}Ii(!1)},po=r=>{if(!r)return;const o=r.trim();if(!o)return;if(o==="/tema"){Ss(!0),br(null),yr(!1),xr(""),Kr.current?.clear?.();return}if(o==="/sablon"){qt(!0),br(null),yr(!1),xr(""),Kr.current?.clear?.();return}if(o.startsWith("/duyuru ")){const $=o.slice(8).trim();if($){const U={type:l.type==="room"?"chat_message":"dm_message",message:`[ANNOUNCE] ${$}`,username:T,temp_id:Qs(),...l.type==="room"?{room:l.id}:{conversation:l.id}};Ue.current?.send(JSON.stringify(U)),hr({message:$,type:"info",author:T}),br(null),yr(!1),xr(""),Kr.current?.clear?.();return}}br(null),yr(!1),xr(""),xf("");const a=l.type==="room"?`room-${l.id}`:`dm-${l.id}`,y=Kt[a];let g=o;l.type==="dm"&&y&&(g=rm(o,y));const k={type:l.type==="room"?"chat_message":"dm_message",message:g,username:T,temp_id:Qs(),...l.type==="room"?{room:l.id}:{conversation:l.id}},A=JSON.stringify(k),M=async()=>{let de=0;for(;Ue.current&&Ue.current.readyState===WebSocket.CONNECTING&&de<3e3;)await new Promise(X=>setTimeout(X,100)),de+=100;if(Ue.current&&Ue.current.readyState===WebSocket.OPEN)try{return Ue.current.send(A),!0}catch{return!1}return!1},ce=async()=>{try{const $=l.type==="dm"?`${W}/messages/send_dm/`:`${W}/messages/send/`,U=l.type==="dm"?{conversation_id:l.id,content:g}:{room:l.id,content:g};return(await m($,{method:"POST",body:JSON.stringify(U)})).ok}catch{return!1}};(async()=>await M()||await ce())(),Te($=>{const U={...k,content:g,timestamp:new Date().toISOString(),id:k.temp_id,avatar:Be?.avatar||Xe(T)},de=[...$,U],X=l.type==="room"?`room-${l.id}`:`dm-${l.id}`;return Pt.current[X]&&(Pt.current[X].messages=de),de}),Kr.current?.clear?.(),It("smooth")},Tf=r=>{const o={type:l.type==="room"?"chat_message":"dm_message",message:"",username:T,temp_id:Qs(),snippet_data:r,...l.type==="room"?{room:l.id}:{conversation:l.id}};Ue.current?.send(JSON.stringify(o)),Te(a=>[...a,{...o,timestamp:new Date().toISOString(),id:o.temp_id,avatar:Be?.avatar||Xe(T)}]),Lr(!1)},mo=t.useCallback(()=>{if(!l.id||l.type==="welcome"||l.type==="friends"||!T)return;if(Ue.current&&Ue.current.readyState===WebSocket.OPEN){const y=Ue.current.url,g=l.type==="room"?`/ws/chat/${l.id}/`:`/ws/dm/${l.id}/`;if(y.includes(g))return}Ue.current&&Ue.current.close(1e3,"change_room");let r="";const o=`?username=${encodeURIComponent(T)}&token=${n}`;if(l.type==="room"?r=`${Zs}://${Xs}/ws/chat/${l.id}/${o}`:l.type==="dm"&&(r=`${Zs}://${Xs}/ws/dm/${l.id}/${o}`),!r)return;const a=new WebSocket(r);Ue.current=a,a.onopen=()=>{$t(!0)},a.onmessage=y=>{const g=JSON.parse(y.data);if(g.type==="chat"||g.type==="dm"||g.type==="chat_message_handler"){const k=A=>A.room?`room-${A.room}`:A.conversation?`dm-${A.conversation}`:l.type==="room"?`room-${l.id}`:`dm-${l.id}`;if(Te(A=>{if(g.temp_id){const $=A.findIndex(U=>U.temp_id===g.temp_id);if($!==-1){const U=[...A];U[$]=g;const de=k(g);return Pt.current[de]&&(Pt.current[de].messages=U),U}}if(g.id&&A.some($=>$.id===g.id))return A;const M=[...A,g],ce=k(g);return Pt.current[ce]&&(Pt.current[ce].messages=M),M}),as(g.username,!1),g.username!==T)try{const{soundManager:A}=require("./utils/notificationSounds"),M=g.content?.includes(`@${T}`)||g.mentions?.includes(T),ce=g.type==="dm";M?A.play("mention"):ce?A.play("dm"):A.play("message")}catch{}co()?It("smooth"):zs(!0)}else g.type==="typing_status_update"?g.username!==T&&as(g.username,g.is_typing):g.type==="chat_cleared"&&Te([]);if(g.message&&g.message.startsWith("[ANNOUNCE] ")){const k=g.message.replace("[ANNOUNCE] ","");hr({message:k,type:"info",author:g.username})}},a.onerror=y=>{},a.onclose=y=>{$t(!1)}},[l.id,l.type,T,n]);t.useEffect(()=>{Ir.isNativePlatform()&&(Vp.initialize({clientId:Yl,scopes:["profile","email"],grantOfflineAccess:!0}),He("max(35px, env(safe-area-inset-top))"))},[]),t.useEffect(()=>{if(!s||xt||io.current)return;io.current=!0,(async()=>{try{const o=ao.current||T;let a=null;try{const U=await m(`${W}/init/`);U.ok&&(a=await U.json())}catch{}let y,g,k,A;if(a)y=a.user,g=a.servers,k=a.conversations,A=a.friends,a.server_order&&Rs(a.server_order),a.maintenance?.is_maintenance&&Ds({message:a.maintenance.message||"System maintenance in progress",endTime:a.maintenance.estimated_end,level:"info"});else{const[U,de,X,Q]=await Promise.all([m(jo).then(ne=>ne.json()),m(`${xx}?username=${encodeURIComponent(o)}`).then(ne=>ne.json()),m(`${W}/friends/list/`).then(ne=>ne.json()),m(`${W}/users/me/`).then(ne=>ne.json())]);y=Q,g=U,k=de,A=X}const M={username:y?.username||T,email:y?.email||"",avatar:y?.avatar||null,status_message:y?.status_message||"",friend_code:y?.friend_code||"0000",social_links:y?.social_links||{},coins:y?.coins||0,xp:y?.xp||0,level:y?.level||1,status:"online",role:y?.role||"member",is_whitelisted:y?.is_whitelisted||!1};Wr(M);const $=(A.friends||[]).map(U=>{const de=U.sender_username===T,X=de?U.receiver_username:U.sender_username,Q=de?U.receiver_avatar:U.sender_avatar,ne=de?U.receiver_status:U.sender_status,bt=de?U.receiver_activity:U.sender_activity;return X?{username:X,avatar:Q,status:ne||"offline",display_name:X,current_activity:bt||{},status_message:"",last_seen:U.created_at,role:"friend",friend_code:""}:null}).filter(Boolean).filter(U=>U.username!==M.username);st($),ht(g),Ie(k),qn($),qu(!0),d(async()=>{const{prefetchUserAvatars:U}=await import("./imageCaching--KtX5P-6.js");return{prefetchUserAvatars:U}},__vite__mapDeps([22,2,3])).then(({prefetchUserAvatars:U})=>{U($)})}catch{ot("Veriler y√ºklenemedi."),io.current=!1}})()},[s,xt,m]),t.useEffect(()=>{if(xt)return;T&&(async()=>{try{const o=await m(`${W}/user/server-order/`);if(o.ok){const a=await o.json();Rs(a.server_order||[])}}catch{}})()},[T,m,xt]),t.useEffect(()=>{const r=async()=>{if(!l.id||l.type!=="room"){hr(null);return}try{const o=await m(`${W}/stickies/list/?room=${l.id}`);if(o.ok){const a=await o.json();a&&a.length>0?hr({message:a[0].content,type:"info",author:a[0].creator}):hr(null)}}catch{}};s&&l.id&&r()},[l.id,l.type,s,m]);const Ns=t.useCallback(async(r,o=!1)=>{if(!r){Tt([]);return}const a=Qi.current[r];if(!o&&a&&Date.now()-a.timestamp<12e4){Tt(a.members);return}try{const y=await m(`${W}/servers/${r}/members/`);if(y.ok){const g=await y.json();Qi.current[r]={members:g,timestamp:Date.now()},Tt(g)}else Tt([])}catch{Tt([])}},[m]),nl=t.useCallback(r=>{Xu(r),Ns(r.id);const o=r.metadata?.default_channel_slug;let a=null;if(r.categories&&Array.isArray(r.categories)){for(const y of r.categories)if(y.rooms&&Array.isArray(y.rooms)){for(const g of y.rooms){if(o&&g.slug===o){a=g;break}!a&&g.room_type!=="voice"&&(a=g)}if(a&&o&&a.slug===o)break}}a?ae("room",a.slug,null):ae("server",r.id,null)},[Ns,ae]);t.useEffect(()=>{const r=async()=>{if(!l.id||l.type!=="room"){l.type!=="server"&&Tt([]);return}try{let o=null;for(const a of Z)if(!(!a.categories||!Array.isArray(a.categories))){for(const y of a.categories)if(!(!y.rooms||!Array.isArray(y.rooms))){for(const g of y.rooms)if(g.slug===l.id){o=a.id;break}if(o)break}if(o)break}if(!o){Tt([]);return}Ns(o)}catch{Tt([])}};s&&l.id&&l.type==="room"?r():l.type!=="server"&&Tt([])},[l.id,l.type,s,Ns,Z]),t.useEffect(()=>{const o=setInterval(async()=>{try{const a=await fetch(`${W}/maintenance/status/`);if(a.ok){const y=await a.json();y.active?Ds({message:y.message||"System maintenance in progress",endTime:y.end_time,level:y.level||"info"}):Ds(null)}}catch{}},3e5);return()=>clearInterval(o)},[]),t.useEffect(()=>{const r=(y,g)=>{try{const k=y.split(".").map(Number),A=g.split(".").map(Number);return k[0]>A[0]?!0:k[0]<A[0]?!1:k[1]>A[1]?!0:k[1]<A[1]?!1:k[2]>A[2]}catch{return!1}},o=async()=>{const y=window.location.hostname==="localhost"&&window.location.port==="3000";if(!(!ts&&!nr&&!y))try{let g="1.1.209";if(window.electron?.getAppVersion)try{g=await window.electron.getAppVersion()}catch{}const k=await fetch("https://media.pawscord.com/builds/version.json");if(!k.ok)return;const A=await k.json(),M=A.latest_version,ce=r(M,g);if(M&&ce){if(ji(!0),window.require){const{ipcRenderer:$}=window.require("electron");$.send("update-available",{currentVersion:g,latestVersion:M,downloadUrl:A.download_url_windows})}}else ji(!1)}catch{}};o();const a=setInterval(o,1800*1e3);return()=>clearInterval(a)},[]),t.useEffect(()=>{if(!xt||!l.id||l.type==="friends"||l.type==="welcome"||l.type==="server")return;let r=!1;const o=l.type==="room"?`room-${l.id}`:`dm-${l.id}`,a=Pt.current[o];return a?.messages?.length>0?(Te(a.messages),Is(!!a.hasMore),Kn(a.offset||0),setTimeout(()=>{r||It("auto")},50),r||mo()):(Kn(0),Is(!0),r||mo(),setTimeout(()=>{r||al(!0,0)},50)),()=>{r=!0}},[l.id,l.type,xt,mo]),t.useEffect(()=>{if(!s||!T)return;const r={current:null},o=async()=>{try{const y=await m(`${W}/users/rich_presence/${T}/`);if(y.ok){const g=await y.json();let k={};const A=$=>{if(!$)return!0;const U=new Date($);return(new Date-U)/1e3/60<2};g.spotify&&A(g.spotify.timestamp)&&(k.spotify={type:"listening",name:g.spotify.track,details:g.spotify.artist,album_art:g.spotify.album_art}),g.steam&&A(g.steam.timestamp)&&(k.steam={type:"playing",name:g.steam.game,state:g.steam.state}),Object.keys(k).length===0&&(k=null);const M=JSON.stringify(r.current),ce=JSON.stringify(k);M!==ce&&(r.current=k,tr.current&&tr.current.readyState===WebSocket.OPEN&&tr.current.send(JSON.stringify({type:"update_activity",activity:k})))}}catch{}},a=setInterval(o,3e4);return o(),()=>clearInterval(a)},[s,T,m]),t.useEffect(()=>{co()&&(It("smooth"),zs(!1))},[Rr,co,It]),t.useEffect(()=>{uo()},[l,uo]),t.useEffect(()=>{const r=o=>{(o.ctrlKey||o.metaKey)&&o.key.toLowerCase()==="k"&&(o.preventDefault(),Ts(a=>!a)),(o.ctrlKey||o.metaKey)&&o.key==="/"&&(o.preventDefault(),Ln(a=>!a)),(o.ctrlKey||o.metaKey)&&o.shiftKey&&o.key.toLowerCase()==="p"&&(o.preventDefault(),Cs(a=>!a)),(o.ctrlKey||o.metaKey)&&o.key===","&&(o.preventDefault(),An(a=>!a)),o.key==="Escape"&&Wn&&Oe(!1)};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[Wn]),t.useEffect(()=>{if(!s||!xt)return;const r=tm();Hn(r);const o=Us.current;if(!o)return;let a=!1,y=0;const g=10,k=()=>{const M=Us.current||o,ce=ao.current||T,$=`${Zs}://${Xs}/ws/status/?username=${encodeURIComponent(ce)}&token=${M}`;let U;try{U=new WebSocket($)}catch{return null}return U.onopen=()=>{ns(!0),y=0},U.onerror=de=>{},U.onclose=de=>{if(ns(!1),!a&&de.code!==1e3&&de.code!==1001){if(y>=g)return;y++;const X=Math.min(5e3*Math.pow(2,y-1),6e4);el.current=setTimeout(()=>{if(!a){const Q=k();Q&&(tr.current=Q)}},X)}},U.onmessage=de=>{try{const X=JSON.parse(de.data);if(Ht(X),X.type==="online_user_list_update"){const Q=Array.isArray(X.users)?X.users.map(ne=>typeof ne=="string"?ne:ne.username||ne):[];nn(Q)}if(X.type==="voice_users_update"&&on(X.voice_users),X.type==="user_activity_update"&&st(Q=>Q.map(ne=>ne.username===X.username?{...ne,current_activity:X.activity}:ne)),X.type==="user_profile_update"&&X.user_data){const Q=X.user_data;Q.username===T&&Wr(ne=>({...ne,avatar:Q.avatar,status_message:Q.status_message,social_links:Q.social_links,coins:Q.coins,xp:Q.xp,level:Q.level,status:Q.status,role:Q.role})),st(ne=>ne.map(bt=>bt.username===Q.username?{...bt,...Q}:bt))}if(X.type==="global_message_notification"&&X.username!==T){const Q=X.room_slug?`room-${X.room_slug}`:`dm-${X.conversation_id}`,ne=Xi.current,bt=ne.type==="room"?`room-${ne.id}`:`dm-${ne.id}`;Q!==bt&&an(Q)}X.type==="server_structure_update"&&(X.categories&&Array.isArray(X.categories)?ht(X.categories):m(jo).then(Q=>Q.json()).then(Q=>ht(Q)).catch(console.error))}catch{}},U},A=k();return A&&(tr.current=A),()=>{a=!0,clearTimeout(el.current);try{tr.current&&tr.current.close(1e3,"Component unmount")}catch{}}},[s,xt]),t.useEffect(()=>{C&&L&&ae("voice",L)},[C,L]);const ol=r=>{ae("room",r),le&&De(!1)},Jr=r=>{m(bx,{method:"POST",body:JSON.stringify({target_username:r})}).then(o=>o.json()).then(o=>{ae("dm",o.conversation_id,r),le&&De(!1)})},Pf=t.useCallback(r=>{r&&(window.location.hash=r.startsWith("#/")?r:`#${r.startsWith("/")?r:`/${r}`}`,le&&Nt(!1))},[le]),If=t.useCallback(()=>{Zn(r=>{const o={...r,notifications:!r.notifications};return localStorage.setItem("chat_sound_settings",JSON.stringify(o)),o})},[]),Rf=t.useCallback(async()=>{if(!l?.id)return;const r=`${window.location.origin}/#/${l.type==="dm"?`dm/${l.id}`:`room/${l.id}`}`;try{await navigator.clipboard.writeText(r),je("Link kopyalandƒ±"),setTimeout(()=>je(""),1500)}catch{V.error("Link kopyalanamadƒ±")}},[l]),al=async(r=!0,o=0)=>{if(!l.id)return;if(l.type==="voice"){Te([]),Is(!1);return}Ps(!0);const a=l.type==="room"?gx:yx,y=l.type==="room"?`room-${l.id}`:`dm-${l.id}`;try{const g=await m(`${a}${l.id}/?limit=50&offset=${o}`);if(g.ok){const k=await g.json(),A=k.results||[],M=A.filter(ne=>!(!ne||typeof ne!="object"||!ne.id&&!ne.temp_id));M.length<A.length;const ce=M.reverse();let $=ce;r?(Te(ce),setTimeout(()=>It("auto"),100)):Te(ne=>($=[...ce,...ne],$));const U=r?ce.length:o+ce.length,de=!!k.next;Is(de),r||Kn(U);const X=Pt.current[y]?.messages||[],Q=r?ce:[...ce,...X];Pt.current[y]={messages:$||Q,offset:U,hasMore:de}}}catch{}Ps(!1)},Af=async(r,o)=>{try{const a=await fetch(mx,{method:"POST",body:JSON.stringify({username:r,password:o}),headers:{"Content-Type":"application/json"}}),y=await a.json();if(a.ok)f(y.access,y.refresh);else{if(a.status===401&&y.requires_2fa&&y.temp_token){window.location.href=`/#/2fa-login?temp_token=${encodeURIComponent(y.temp_token)}`;return}a.status===401?ot("Kullanƒ±cƒ± adƒ± veya ≈üifre hatalƒ±"):a.status===400?ot(y.detail||y.error||"Ge√ßersiz giri≈ü bilgileri"):a.status>=500?ot("Sunucu hatasƒ±. L√ºtfen daha sonra tekrar deneyin."):ot(y.detail||y.error||"Giri≈ü ba≈üarƒ±sƒ±z")}}catch{ot("Sunucuya baƒülanƒ±lamadƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin.")}},Lf=async(r,o,a)=>{try{const y=await fetch(hx,{method:"POST",body:JSON.stringify({username:r,email:o,password:a}),headers:{"Content-Type":"application/json"}});if(y.status===201)return!0;const g=await y.json();let k="";return g.username?k=g.username.join(" "):g.email?k=g.email.join(" "):g.password?k=g.password.join(" "):g.detail?k=g.detail:k=Object.values(g).flat().join(" "),ot(k||"Kayƒ±t i≈ülemi ba≈üarƒ±sƒ±z"),!1}catch{return ot("Sunucuya baƒülanƒ±lamadƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin."),!1}},ho=t.useCallback(async(r,o=!1,a=0,y=null)=>{const g=r.size>=5242880;g&&(Qn(!0),Os(0));const k=y||l,A=Qs();try{const M=await wx(r),ce=r.type||"application/octet-stream",$=10*1024*1024,U=5,de=Math.ceil(r.size/$),Q=await(await m(`${W}/upload/multipart/init/`,{method:"POST",body:JSON.stringify({file_name:r.name,file_size:r.size,content_type:ce,file_hash:M,room_slug:k.type==="room"?k.id:null,conversation_id:k.type==="dm"?k.id:null,temp_id:A,is_voice_message:o?"true":"false",duration:a.toString()})})).json();if(Q.file_exists){g&&(Qn(!1),Os(100)),Q.id&&k.id===l.id&&(Te(xe=>{if(Q.temp_id){const Ae=xe.findIndex(Qe=>Qe.temp_id===Q.temp_id);if(Ae!==-1){const Qe=[...xe];return Qe[Ae]=Q,Qe}}return xe.some(Ae=>Ae.id===Q.id)?xe:[...xe,Q]}),It("smooth"));return}const{upload_id:ne,key:bt}=Q,_o=[];let cl=0;const Nf=async xe=>{const Ae=(xe-1)*$,Qe=Math.min(Ae+$,r.size),vr=r.slice(Ae,Qe),Zr=new FormData;Zr.append("upload_id",ne),Zr.append("key",bt),Zr.append("part_number",xe.toString()),Zr.append("chunk",vr,`part_${xe}`);const Ys=await m(`${W}/upload/multipart/upload-part/`,{method:"POST",body:Zr,headers:{}});if(!Ys.ok){const Gf=await Ys.text();throw new Error(`Part ${xe} upload failed: ${Ys.status} - ${Gf}`)}const{etag:Ff,part_number:Wf}=await Ys.json();cl++;const Yf=Math.round(cl/de*95);return g&&Os(Yf),{ETag:Ff,PartNumber:Wf}};for(let xe=0;xe<de;xe+=U){const Ae=[];for(let vr=0;vr<U&&xe+vr<de;vr++)Ae.push(Nf(xe+vr+1));const Qe=await Promise.all(Ae);_o.push(...Qe)}_o.sort((xe,Ae)=>xe.PartNumber-Ae.PartNumber);const vo=await m(`${W}/upload/multipart/complete/`,{method:"POST",body:JSON.stringify({upload_id:ne,key:bt,parts:_o,file_name:r.name,file_hash:M,room_slug:k.type==="room"?k.id:null,conversation_id:k.type==="dm"?k.id:null,temp_id:A,is_voice_message:o?"true":"false",duration:a.toString()})});if(!vo.ok){const xe=await vo.text();throw new Error(`Complete failed: ${xe}`)}const _r=await vo.json();g&&Os(100),k.id===l.id&&(Te(xe=>{if(_r.temp_id){const Ae=xe.findIndex(Qe=>Qe.temp_id===_r.temp_id);if(Ae!==-1){const Qe=[...xe];return Qe[Ae]=_r,Qe}}return _r.id&&xe.some(Ae=>Ae.id===_r.id)?xe:[...xe,_r]}),It("smooth"))}catch(M){V.error(`Y√ºkleme hatasƒ±: ${M.message}`)}g&&Qn(!1)},[l,T,m]),Df=r=>{if(r.preventDefault(),r.stopPropagation(),Hr.current=0,Xn(!1),r.dataTransfer.files&&r.dataTransfer.files.length>0){const a=Array.from(r.dataTransfer.files).map(y=>({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:y,name:y.name,size:y.size,type:y.type,previewUrl:y.type.startsWith("image/")||y.type.startsWith("video/")?URL.createObjectURL(y):null}));Di(a)}},Of=(r,o)=>{if(r.preventDefault(),r.stopPropagation(),Zt(null),r.dataTransfer.files&&r.dataTransfer.files.length>0){const a=Array.from(r.dataTransfer.files);if(o.type==="dm"){const y=oe.find(g=>g.id===o.id);if(y){const g=y.participants.find(k=>k.username!==T);g&&(Jr(g.username),setTimeout(async()=>{for(const k of a)await ho(k,!1,0,o)},300))}}else o.type==="room"&&roomsWithCategories.find(g=>g.room_slug===o.id)&&(handleRoomClick(o.id),setTimeout(async()=>{for(const g of a)await ho(g,!1,0,o)},300))}},zf=async r=>{if(r.preventDefault(),!l.id||!Ut.trim()){Ut.trim()||al(!0,0);return}Ps(!0);try{let o=`${W}/messages/search/?q=${encodeURIComponent(Ut)}`;l.type==="room"?o+=`&room=${l.id}`:o+=`&dm=${l.id}`;const a=await m(o);if(a.ok){const y=await a.json();Te(y.results||y)}}catch{}Ps(!1)},go=t.useRef([]),yo=t.useRef(null),xo=t.useCallback(r=>{go.current.push(r),!yo.current&&(yo.current=setTimeout(async()=>{const o=[...new Set(go.current)];if(go.current=[],yo.current=null,o.length!==0)try{(await m(`${W}/messages/mark_read/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message_ids:o})})).ok&&Te(y=>y.map(g=>o.includes(g.id)?{...g,read_by:[...g.read_by||[],T]}:g))}catch{}},1500))},[m,T]),bo=async r=>{if(await Yt("Bu mesajƒ± silmek istediƒüine emin misin?"))try{(await m(`${W}/messages/${r}/delete/`,{method:"DELETE"})).ok&&Te(a=>a.filter(y=>y.id!==r))}catch{}},il=async r=>{try{const o=await m(`${W}/messages/${r}/pin/`,{method:"POST"});if(o.ok){const a=await o.json(),y=a.is_pinned??a.pinned??!Rr.find(g=>g.id===r)?.is_pinned;Te(g=>g.map(k=>k.id===r?{...k,is_pinned:y}:k)),y?(nt(g=>{const k=Rr.find(A=>A.id===r);return k&&!g.some(A=>A.id===r)?[...g,{...k,is_pinned:!0}]:g}),V.success("üìå Mesaj sabitlendi")):(nt(g=>g.filter(k=>k.id!==r)),V.success("üìå Sabitleme kaldƒ±rƒ±ldƒ±"))}}catch{V.error("‚ùå Sabitleme hatasƒ±")}},Mf=async r=>{if(await Yt("Bu sohbeti listenizden gizlemek istiyor musunuz?"))try{(await m(`${W}/conversations/${r}/hide/`,{method:"POST"})).ok&&(Ie(a=>a.filter(y=>y.id!==r)),l.type==="dm"&&l.id===r&&ae("welcome","welcome"))}catch{}},Bf=async r=>{if(await Yt(`‚ö†Ô∏è ADMƒ∞N: Bu konu≈ümayƒ± HER ƒ∞Kƒ∞ TARAFTAN KALICI OLARAK silmek istediƒüinize emin misiniz?

Bu i≈ülem GERƒ∞ ALINAMAZ!`))try{const o=await m(`${W}/conversations/${r}/admin-delete/`,{method:"DELETE"});if(o.ok){const a=await o.json();V.success(`‚úÖ ${a.deleted_messages} mesaj silindi. Katƒ±lƒ±mcƒ±lar: ${a.participants.join(", ")}`),Ie(y=>y.filter(g=>g.id!==r)),l.type==="dm"&&l.id===r&&ae("welcome","welcome")}else{const a=await o.json();V.error(`‚ùå Hata: ${a.error||"Silme i≈ülemi ba≈üarƒ±sƒ±z"}`)}}catch{V.error("‚ùå Sunucuyla baƒülantƒ± hatasƒ±")}},Uf=t.useCallback(()=>{ae("welcome","welcome",null),le&&De(!1)},[le]),Vf=t.useCallback(async(r,o,a)=>{switch(r){case"profile":const y=me.find(g=>g.username===o.username);y&&yt(y);break;case"message":Jr(o.username);break;case"volume":break;case"move":if(Re&&a&&L)try{(await m(`${W}/voice/move_user/`,{method:"POST",body:JSON.stringify({username:o.username,from_channel:L,to_channel:a})})).ok}catch{}break;case"kick":if(Re&&await Yt(`${o.username} kullanƒ±cƒ±sƒ±nƒ± kanaldan atmak istediƒüine emin misin?`))try{(await m(`${W}/voice/kick_user/`,{method:"POST",body:JSON.stringify({username:o.username,room:L})})).ok}catch{}break;case"server_mute":if(Re)try{(await m(`${W}/voice/server_mute/`,{method:"POST",body:JSON.stringify({username:o.username,room:L})})).ok}catch{}break;case"add_friend":try{const g=await m(`${W}/friends/send/`,{method:"POST",body:JSON.stringify({username:o.username})});if(g.ok)je(`‚úÖ ${o.username} kullanƒ±cƒ±sƒ±na arkada≈ülƒ±k isteƒüi g√∂nderildi!`),setTimeout(()=>je(""),3e3);else{const k=await g.json();je(`‚ùå ${k.error||"ƒ∞stek g√∂nderilemedi"}`),setTimeout(()=>je(""),3e3)}}catch{je("‚ùå Arkada≈ü ekleme hatasƒ±"),setTimeout(()=>je(""),3e3)}break;case"remove_friend":if(await Yt(`${o.username} ile arkada≈ülƒ±ƒüƒ± sonlandƒ±rmak istediƒüinize emin misiniz?`))try{const g=Qt.find(k=>k.sender_username===o.username||k.receiver_username===o.username);if(g&&(await m(`${W}/friends/remove/${g.id}/`,{method:"DELETE"})).ok){je(`‚úÖ ${o.username} ile arkada≈ülƒ±k sonlandƒ±rƒ±ldƒ±`),setTimeout(()=>je(""),3e3);const A=await m(`${W}/friends/list/`);if(A.ok){const M=await A.json();qn(M.friends||[])}}}catch{je("‚ùå Arkada≈ülƒ±k sonlandƒ±rma hatasƒ±"),setTimeout(()=>je(""),3e3)}break;case"invite_to_server":Bs({username:o.username});break;case"mute_user":try{const g=await m(`${W}/users/${o.username}/mute/`,{method:"POST"});if(g.ok)V.success(`üîá ${o.username} sessize alƒ±ndƒ±`);else{const k=await g.json();V.error(`‚ùå ${k.error||"Sessize alma ba≈üarƒ±sƒ±z"}`)}}catch{V.error("‚ùå Sessize alma hatasƒ±")}break;case"block_user":if(await Yt(`${o.username} kullanƒ±cƒ±sƒ±nƒ± engellemek istediƒüinize emin misiniz?`))try{const g=await m(`${W}/users/${o.username}/block/`,{method:"POST"});if(g.ok){V.success(`üö´ ${o.username} engellendi`);const k=await m(`${W}/friends/list/`);if(k.ok){const A=await k.json();qn(A.friends||[])}}else{const k=await g.json();V.error(`‚ùå ${k.error||"Engelleme ba≈üarƒ±sƒ±z"}`)}}catch{V.error("‚ùå Engelleme hatasƒ±")}break}},[me,Re,L,m,W,Jr,Qt,je]),$f=()=>{if(ts){ds(!0),je("ƒ∞ndiriliyor...");const{ipcRenderer:r}=window.require("electron"),o=`${x}/media/build/Pawscord-Setup.exe`;r.send("start-download",o)}else window.open(`${x}/media/build/Pawscord-Setup.exe`,"_blank")};t.useEffect(()=>{if(ts){const{ipcRenderer:r}=window.require("electron"),o=(g,k)=>lr(Math.round(k*100)),a=()=>{je("Ba≈ülatƒ±lƒ±yor..."),lr(100),setTimeout(()=>je("Kapanƒ±yor..."),1500)},y=(g,k)=>{ds(!1),V.error(`ƒ∞ndirme hatasƒ±: ${k}`)};return r.on("download-progress",o),r.on("download-complete",a),r.on("download-error",y),()=>{r.removeAllListeners("download-progress"),r.removeAllListeners("download-complete"),r.removeAllListeners("download-error")}}},[]);const ll=qe!=="finished";if(!s)return e.jsxs(e.Fragment,{children:[ll&&e.jsx(_l,{animationState:qe}),e.jsx(Gm,{onLogin:Af,onRegister:Lf,error:Sn,setAuthError:ot})]});const Fs=le&&!nr?"20px":gn,So=l.type==="room"?`room-${l.id}`:`dm-${l.id}`,Ws=!!Kt[So];return Gi?e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"large",text:"Davet y√ºkleniyor..."}),children:e.jsx(ig,{vanityPath:Gi,fetchWithAuth:m,apiBaseUrl:W,onClose:()=>{ro(null),window.location.hash="#/"}})}):Hi?e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"large",text:"Davet y√ºkleniyor..."}),children:e.jsx(lg,{inviteCode:Hi,fetchWithAuth:m,apiBaseUrl:W,onClose:()=>{Ki(null),window.location.hash="#/"}})}):e.jsxs("div",{style:{...K.mainContainer},className:"dark-theme",children:[ll&&e.jsx(_l,{animationState:qe}),Ls&&e.jsx(jm,{message:Ls.message,endTime:Ls.endTime,level:Ls.level,onDismiss:()=>Ds(null)}),e.jsxs(t.Suspense,{fallback:e.jsx(tt,{size:"medium",text:"Modal y√ºkleniyor..."}),children:[xn&&e.jsx(ug,{user:Be,onClose:()=>ms(!1),onProfileUpdate:r=>Wr(r),onLogout:u,fetchWithAuth:m,getDeterministicAvatar:Xe,updateProfileUrl:Sx,changeUsernameUrl:_x,soundSettings:gr,onUpdateSoundSettings:Zn,onImageClick:wt,apiBaseUrl:x}),vn&&e.jsx(Xm,{onClose:()=>bs(!1)}),wn&&e.jsx(fh,{onClose:()=>Nr(!1),fetchWithAuth:m,apiBaseUrl:x}),kn&&e.jsx(ph,{onClose:()=>_s(!1),onOpenAnalytics:()=>Nr(!0),onOpenWebhooks:()=>fr(!0),onOpenModTools:()=>Cn(!0),onOpenAuditLogs:()=>I(!0),onOpenReports:()=>_(!0),onOpenVanityURL:()=>Wt(!0),onOpenAutoResponder:()=>R(!0),fetchWithAuth:m,apiBaseUrl:x}),of&&e.jsx(Kh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Vi(!1),username:T}),af&&e.jsx(qh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>$i(!1),username:T}),lf&&e.jsx(Jh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Ni(!1),username:T}),cf&&e.jsx(Zh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Fi(!1),username:T}),df&&e.jsx(Xh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Wi(!1),username:T}),uf&&e.jsx(Qh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Yi(!1),serverId:l?.type==="room"?l.server_id:null}),ff&&e.jsx(gg,{onClose:()=>so(!1)}),pf&&e.jsx(yg,{onClose:()=>qi(!1),apiBaseUrl:x}),at&&e.jsx(gh,{serverId:l?.type==="room"?l.server_id:null,fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Xt(!1)}),pr&&e.jsx(xh,{serverId:l?.type==="room"?l.server_id:null,fetchWithAuth:m,apiBaseUrl:x,onClose:()=>p(!1)}),b&&e.jsx(bh,{serverId:l?.type==="room"?l.server_id:null,fetchWithAuth:m,apiBaseUrl:x,onClose:()=>_(!1)}),E&&e.jsx(Sh,{serverId:l?.type==="room"?l.server_id:null,fetchWithAuth:m,apiBaseUrl:x,onClose:()=>I(!1)}),j&&e.jsx(_h,{serverId:l?.type==="room"?l.server_id:null,fetchWithAuth:m,apiBaseUrl:x,onClose:()=>v(!1)}),jn&&e.jsx(mh,{serverId:l?.type==="room"?l.server_id:null,fetchWithAuth:m,apiBaseUrl:x,onClose:()=>fr(!1)}),En&&e.jsx(hh,{serverId:l?.type==="room"?l.server_id:null,fetchWithAuth:m,apiBaseUrl:W,onClose:()=>Wt(!1)}),S&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Cl,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>R(!1)})}),z&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(vh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>se(!1),onMessageClick:r=>{r.room?ae({type:"room",slug:r.room}):r.conversation&&ae({type:"dm",slug:r.conversation}),se(!1)}})}),he&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(wh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>ve(!1),onMessageClick:r=>{r.room?ae({type:"room",slug:r.room}):r.conversation&&ae({type:"dm",slug:r.conversation}),ve(!1)}})}),Je&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(jh,{isOpen:Je,onClose:()=>it(!1),currentUsername:currentUser?.username,onNavigateToMessage:r=>{r.room_id&&ae({type:"room",id:r.room_id}),it(!1)}})}),Ze&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Ch,{isOpen:Ze,onClose:()=>kt(!1),onStatusChange:r=>{currentUser&&setCurrentUser(o=>({...o,customStatus:r}))}})}),jt&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(kh,{fetchWithAuth:m,apiBaseUrl:x,channelSlug:l.slug,onClose:()=>Ct(!1)})}),at&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(yh,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.type==="room"?l.server_id:null,onClose:()=>Xt(!1)})}),cs&&e.jsx(Zm,{symbol:cs,onClose:()=>Mt(null)}),Me&&e.jsx(sh,{onClose:()=>Ft(!1),ws:Ue,username:T}),Ar&&e.jsx(Jm,{onClose:()=>Lr(!1),onSend:Tf}),Ei&&e.jsx(dh,{onClose:()=>Ti(null),server:Ei,currentUsername:T,fetchWithAuth:m,apiBaseUrl:W,serverMembers:er}),Uo&&e.jsx(lh,{onClose:()=>zt(!1),onSetKey:r=>ln(So,r),existingKey:Kt[So]}),Qu&&e.jsx(ch,{onClose:()=>Ci(!1),apiBaseUrl:x}),Pi&&e.jsx(jl,{isLoading:ef,summaryText:tf,onClose:()=>Jn(!1)}),is&&e.jsx(uh,{onClose:()=>Ot(!1),friendsList:Qt,fetchWithAuth:m,apiBaseUrl:x,onGroupCreated:r=>{Ie(o=>[r,...o]),ae("dm",r.id,"Grup Sohbeti")}}),dn&&(l.type==="room"||l.type==="dm")&&e.jsx(Qm,{roomSlug:l.type==="room"?l.id:`dm_${l.id}`,onClose:()=>ls(!1),wsProtocol:Zs,apiHost:Xs}),cn&&e.jsx(eh,{onClose:()=>ir(!1),fetchWithAuth:m,apiBaseUrl:x,sendSignal:Se,absoluteHostUrl:x}),rf&&e.jsx(ah,{onClose:()=>Ri(!1),ws:Ue,roomSlug:l.id}),bn&&e.jsx(oh,{onSelect:r=>{const o=r.startsWith("http")?r:x+r;po(o),gs(!1)},onClose:()=>gs(!1),localGifListUrl:vx,absoluteHostUrl:x,fetchWithAuth:m}),ys&&e.jsx(nh,{onClose:()=>Fe(!1),onSelect:r=>{po(r),Fe(!1)},fetchWithAuth:m,apiBaseUrl:x}),Bt&&e.jsx(qm,{onClose:()=>hn(!1),fetchWithAuth:m,apiBaseUrl:x,activeRoomSlug:l.id})]}),Pn&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Eh,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l.slug,onClose:()=>In(!1)})}),rc&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Th,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l.slug,onClose:()=>sc(!1)})}),nc&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Ph,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>oc(!1)})}),ac&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Ih,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>ic(!1)})}),lc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Rh,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>cc(!1)})}),dc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Ah,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>uc(!1)})}),fc&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Lh,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>pc(!1)})}),mc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Dh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>hc(!1)})}),gc&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Oh,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l.slug,onClose:()=>yc(!1)})}),xc&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(zh,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l.slug,onClose:()=>bc(!1)})}),Sc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Mh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Wo(!1),onLoadDraft:r=>{r.room&&ae({type:"room",slug:r.room}),Wo(!1)}})}),_c&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Bh,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>vc(!1)})}),wc&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Uh,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,currentUsername:T,onClose:()=>kc(!1)})}),jc&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Vh,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l.slug,onClose:()=>Cc(!1)})}),Ec&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx($h,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Tc(!1)})}),Pc&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Cl,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>Ic(!1)})}),Rc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Nh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Ac(!1)})}),Lc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Fh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Dc(!1)})}),Oc&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Wh,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>zc(!1)})}),Mc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Yh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Rn(!1),onSuccess:()=>{V.success("2FA ba≈üarƒ±yla etkinle≈ütirildi!"),Rn(!1)}})}),Bc&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Gh,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l.slug,onClose:()=>Uc(!1)})}),Vc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Hh,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>$c(!1)})}),Nc&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(eg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>Fc(!1)})}),Wc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(tg,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Yo(!1),onMessageClick:r=>{r.room&&ae({type:"room",slug:r.room}),Yo(!1)}})}),Yc&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(rg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>Gc(!1)})}),Hc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(sg,{fetchWithAuth:m,apiBaseUrl:x,url:null,onClose:()=>Kc(!1)})}),qc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(ng,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Jc(!1)})}),Zc&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(og,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>Xc(!1)})}),Qc&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(ag,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>ed(!1)})}),td&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üéÆ Oyunlar Y√ºkleniyor..."}),children:e.jsx(Sg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,currentUser:T,onClose:()=>Go(!1)})}),rd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìÇ Projeler Y√ºkleniyor..."}),children:e.jsx(_g,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,currentUser:T,onClose:()=>Ho(!1)})}),sd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üé® Avatar Studio Y√ºkleniyor..."}),children:e.jsx(vg,{fetchWithAuth:m,apiBaseUrl:x,currentUser:T,onClose:()=>Ko(!1),onAvatarChange:r=>{Be&&Wr({...Be,avatar_url:r}),V.success("üé® Avatar g√ºncellendi!")}})}),nd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"‚öôÔ∏è Ayarlar Y√ºkleniyor..."}),children:e.jsx(wg,{fetchWithAuth:m,apiBaseUrl:x,currentUser:Be,username:T,onClose:()=>An(!1),onOpenAppearance:()=>On(!0),onOpenPrivacy:()=>Vn(!0),onOpenSecurity:()=>Un(!0),onOpenNotifications:()=>Mn(!0),onOpenConnections:()=>so(!0),onOpenLanguage:()=>zn(!0),onLogout:()=>Es(!0)})}),od&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(kg,{onClose:()=>Ln(!1)})}),ad&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(jg,{onClose:()=>Cs(!1),onNavigate:r=>{r.type==="room"?ae({type:"room",slug:r.slug}):r.type==="dm"&&ae({type:"dm",id:r.id}),Cs(!1)},categories:Z,conversations:oe,allUsers:me})}),id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üåç Sunucu Ke≈üfet Y√ºkleniyor..."}),children:e.jsx(Cg,{fetchWithAuth:m,apiBaseUrl:x,currentUsername:T,onClose:()=>Dn(!1),onJoinServer:r=>{V.success(`${r.name} sunucusuna katƒ±ldƒ±n!`),Dn(!1)}})}),ld&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Eg,{onClose:()=>On(!1),currentTheme:vi,onThemeChange:Hn})}),cd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Tg,{onClose:()=>zn(!1)})}),dd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Pg,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>qo(!1)})}),ud&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Ig,{onConfirm:()=>{u(),Es(!1)},onClose:()=>Es(!1)})}),fd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Rg,{soundSettings:gr,onUpdateSettings:Zn,onClose:()=>Mn(!1)})}),pd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Ag,{onClose:()=>Ts(!1),categories:Z,conversations:oe,onSelect:r=>{r.type==="room"?ae({type:"room",slug:r.slug}):r.type==="dm"&&ae({type:"dm",id:r.id}),Ts(!1)}})}),md&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Lg,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Bn(!1)})}),hd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Dg,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>Un(!1),onOpen2FA:()=>Rn(!0),onOpenLoginHistory:()=>Bn(!0)})}),gd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Og,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>Vn(!1),onOpenBlockList:()=>Nn(!0)})}),yd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(zg,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>$n(!1),onConfirm:()=>{u(),$n(!1)}})}),xd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Mg,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Nn(!1)})}),bd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Bg,{fetchWithAuth:m,apiBaseUrl:x,encryptionKeys:Kt,onClose:()=>Jo(!1)})}),Sd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Ug,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,onClose:()=>Zo(!1)})}),_d&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Vg,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>Xo(!1)})}),vd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx($g,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>Qo(!1)})}),wd&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìã Forum Y√ºkleniyor..."}),children:e.jsx(Ng,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l.slug,serverId:l.server_id,currentUser:T,onClose:()=>ea(!1)})}),kd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üé§ Sahne Y√ºkleniyor..."}),children:e.jsx(Fg,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,currentUser:T,onClose:()=>ta(!1)})}),jd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìπ Video Arama Y√ºkleniyor..."}),children:e.jsx(Wg,{fetchWithAuth:m,apiBaseUrl:x,currentUser:T,targetUser:l?.type==="dm"?l.name:null,onClose:()=>ra(!1)})}),Cd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Yg,{onClose:()=>sa(!1),isMuted:O,isDeafened:N,onToggleMute:ee,onToggleDeafened:F})}),Ed&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Gg,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,onClose:()=>Fn(!1),onMessageClick:r=>{r.room&&ae({type:"room",slug:r.room}),Fn(!1)}})}),Td&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üé¨ Birlikte ƒ∞zle Y√ºkleniyor..."}),children:e.jsx(Hg,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,currentUser:T,onClose:()=>na(!1)})}),Pd&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Kg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>oa(!1)})}),Id&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(qg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>aa(!1)})}),Rd&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Jg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>ia(!1)})}),Ad&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìÖ Etkinlikler Y√ºkleniyor..."}),children:e.jsx(Zg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,currentUser:T,onClose:()=>la(!1)})}),Ld&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üéâ √áekili≈ü Y√ºkleniyor..."}),children:e.jsx(Xg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,currentUser:T,onClose:()=>ca(!1)})}),Dd&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üé´ Destek Sistemi Y√ºkleniyor..."}),children:e.jsx(Qg,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,currentUser:T,onClose:()=>da(!1)})}),Od&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(ey,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>ua(!1)})}),zd&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(ty,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>fa(!1)})}),Md&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(ry,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>pa(!1)})}),Bd&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(sy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>ma(!1)})}),Ud&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìä Seviye Sistemi Y√ºkleniyor..."}),children:e.jsx(ny,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,currentUser:T,onClose:()=>ha(!1)})}),Vd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üì∫ Canlƒ± Yayƒ±n Y√ºkleniyor..."}),children:e.jsx(oy,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,currentUser:T,onClose:()=>ga(!1)})}),$d&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üèÜ Ba≈üarƒ±mlar Y√ºkleniyor..."}),children:e.jsx(ay,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>ya(!1)})}),Nd&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(iy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>xa(!1)})}),Fd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üíé Premium Y√ºkleniyor..."}),children:e.jsx(ly,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>ba(!1)})}),Wd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üéµ M√ºzik Y√ºkleniyor..."}),children:e.jsx(cy,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,onClose:()=>Sa(!1)})}),Yd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"ü§ñ Bot Maƒüazasƒ± Y√ºkleniyor..."}),children:e.jsx(dy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>_a(!1)})}),Gd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(uy,{fetchWithAuth:m,apiBaseUrl:x,currentUser:Be,onClose:()=>va(!1),onProfileUpdate:r=>Wr(r)})}),Hd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üîó Entegrasyonlar Y√ºkleniyor..."}),children:e.jsx(fy,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>wa(!1)})}),Kd&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üèÜ Turnuvalar Y√ºkleniyor..."}),children:e.jsx(py,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,currentUser:T,onClose:()=>ka(!1)})}),qd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(my,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>ja(!1)})}),Jd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(hy,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,onClose:()=>Ca(!1)})}),Zd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üéµ Spotify Y√ºkleniyor..."}),children:e.jsx(gy,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Ea(!1)})}),Xd&&l?.type==="room"&&l.server_id&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(yy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>Ta(!1)})}),Qd&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üéØ Haftalƒ±k G√∂revler Y√ºkleniyor..."}),children:e.jsx(xy,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>Pa(!1)})}),eu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üõ°Ô∏è Moderasyon Ara√ßlarƒ± Y√ºkleniyor..."}),children:e.jsx(by,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,roomSlug:l?.slug,onClose:()=>Ia(!1)})}),tu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"ü§ñ AI Moderasyon Y√ºkleniyor..."}),children:e.jsx(Sy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Ra(!1)})}),ru&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üö´ Spam Korumasƒ± Y√ºkleniyor..."}),children:e.jsx(_y,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Aa(!1)})}),su&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìã Denetim Kayƒ±tlarƒ± Y√ºkleniyor..."}),children:e.jsx(vy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>La(!1)})}),nu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"‚õî Ban Ge√ßmi≈üi Y√ºkleniyor..."}),children:e.jsx(wy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Da(!1)})}),ou&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìú Moderasyon Loglarƒ± Y√ºkleniyor..."}),children:e.jsx(ky,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Oa(!1)})}),au&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üö® G√ºvenlik Uyarƒ±larƒ± Y√ºkleniyor..."}),children:e.jsx(jy,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>za(!1)})}),iu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üéûÔ∏è GIF Se√ßici Y√ºkleniyor..."}),children:e.jsx(Cy,{fetchWithAuth:m,apiBaseUrl:x,onSelect:r=>{Yn(!1)},onClose:()=>Yn(!1)})}),lu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìä Anket Olu≈üturucu Y√ºkleniyor..."}),children:e.jsx(Ey,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,onClose:()=>Ma(!1)})}),cu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üé® √áƒ±kartmalar Y√ºkleniyor..."}),children:e.jsx(Ty,{fetchWithAuth:m,apiBaseUrl:x,onSelect:r=>{Gn(!1)},onClose:()=>Gn(!1)})}),du&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üíæ Kayƒ±tlƒ± Mesajlar Y√ºkleniyor..."}),children:e.jsx(Py,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>Ba(!1)})}),uu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üîî Bildirimler Y√ºkleniyor..."}),children:e.jsx(Iy,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>Ua(!1)})}),fu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìù √ñzet Y√ºkleniyor..."}),children:e.jsx(Ry,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,onClose:()=>Va(!1)})}),pu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üåç √áeviri Y√ºkleniyor..."}),children:e.jsx(Ay,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>$a(!1)})}),mu&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"‚öôÔ∏è Kanal Ayarlarƒ± Y√ºkleniyor..."}),children:e.jsx(Ly,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l.slug,serverId:l.server_id,onClose:()=>Na(!1)})}),hu&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üì® Davet Y√ºkleniyor..."}),children:e.jsx(Dy,{fetchWithAuth:m,apiBaseUrl:W,server:(()=>{for(const r of Z||[])for(const o of r.categories||[])if(o.rooms?.some(a=>a.slug===l.id))return{id:r.id,name:r.name,avatar:r.avatar};return{id:l.server_id,name:"Sunucu"}})(),currentUser:T,onClose:()=>Fa(!1)})}),gu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìã ≈ûablonlar Y√ºkleniyor..."}),children:e.jsx(Oy,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Wa(!1)})}),yu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìä Analitik Y√ºkleniyor..."}),children:e.jsx(zy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Ya(!1)})}),xu&&l?.type==="room"&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üëë Rol Y√∂neticisi Y√ºkleniyor..."}),children:e.jsx(My,{fetchWithAuth:m,apiBaseUrl:x,serverId:l.server_id,onClose:()=>Ga(!1)})}),bu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üëã Kar≈üƒ±lama Ekranƒ± Y√ºkleniyor..."}),children:e.jsx(By,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Ha(!1)})}),Su&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üèòÔ∏è Topluluk Ayarlarƒ± Y√ºkleniyor..."}),children:e.jsx(Uy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Ka(!1)})}),_u&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üîó Davet Linkleri Y√ºkleniyor..."}),children:e.jsx(Vy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>qa(!1)})}),vu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"ü§ñ Bot Olu≈üturucu Y√ºkleniyor..."}),children:e.jsx($y,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Ja(!1)})}),wu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üßë‚Äçüíª Geli≈ütirici Portalƒ± Y√ºkleniyor..."}),children:e.jsx(Ny,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Za(!1)})}),ku&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üîó Webhook Y√∂neticisi Y√ºkleniyor..."}),children:e.jsx(Fy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Xa(!1)})}),ju&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üîë API Anahtarlarƒ± Y√ºkleniyor..."}),children:e.jsx(Wy,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>Qa(!1)})}),Cu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"‚ö° Komut Y√∂neticisi Y√ºkleniyor..."}),children:e.jsx(Yy,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>ei(!1)})}),Eu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üíª Kod √áalƒ±≈ütƒ±rƒ±cƒ± Y√ºkleniyor..."}),children:e.jsx(Gy,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>ti(!1)})}),Tu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üë§ Profil Kartƒ± Y√ºkleniyor..."}),children:e.jsx(Hy,{fetchWithAuth:m,apiBaseUrl:x,username:T,currentUser:Be,onClose:()=>ri(!1)})}),Pu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìù Notlar Y√ºkleniyor..."}),children:e.jsx(Ky,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>si(!1)})}),Iu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üü¢ Durum Se√ßici Y√ºkleniyor..."}),children:e.jsx(qy,{fetchWithAuth:m,apiBaseUrl:x,currentUser:Be,onClose:()=>ni(!1)})}),Ru&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üë• Ortak Arkada≈ülar Y√ºkleniyor..."}),children:e.jsx(Jy,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>oi(!1)})}),Au&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üèÖ Profil Vitrini Y√ºkleniyor..."}),children:e.jsx(Zy,{fetchWithAuth:m,apiBaseUrl:x,username:T,currentUser:Be,onClose:()=>ai(!1)})}),Lu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üì± Oturum Y√∂neticisi Y√ºkleniyor..."}),children:e.jsx(Xy,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>ii(!1)})}),Du&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"ü™ô Maƒüaza Y√ºkleniyor..."}),children:e.jsx(Qy,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>li(!1)})}),Ou&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üíé Premium Y√∂netimi Y√ºkleniyor..."}),children:e.jsx(ex,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>ci(!1)})}),zu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìã Abonelikler Y√ºkleniyor..."}),children:e.jsx(tx,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>di(!1)})}),Mu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üéÅ Hediye Premium Y√ºkleniyor..."}),children:e.jsx(rx,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>ui(!1)})}),Bu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üõí Premium Maƒüaza Y√ºkleniyor..."}),children:e.jsx(sx,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>fi(!1)})}),Uu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üé® Tema Maƒüazasƒ± Y√ºkleniyor..."}),children:e.jsx(nx,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>pi(!1)})}),Vu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"ü§ñ AI Chatbot Y√ºkleniyor..."}),children:e.jsx(ox,{fetchWithAuth:m,apiBaseUrl:x,username:T,onClose:()=>mi(!1)})}),$u&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üë®‚Äçüíª Kod Edit√∂r√º Y√ºkleniyor..."}),children:e.jsx(ax,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,username:T,onClose:()=>hi(!1)})}),Nu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üñ•Ô∏è Ekran Payla≈üƒ±mƒ± Y√ºkleniyor..."}),children:e.jsx(ix,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,onClose:()=>gi(!1)})}),Fu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üì∫ Canlƒ± Yayƒ±n Y√ºkleniyor..."}),children:e.jsx(lx,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,username:T,onClose:()=>yi(!1)})}),Wu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìà Geli≈ümi≈ü Analitik Y√ºkleniyor..."}),children:e.jsx(cx,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>xi(!1)})}),Yu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìÅ Dosya Y√∂neticisi Y√ºkleniyor..."}),children:e.jsx(dx,{fetchWithAuth:m,apiBaseUrl:x,roomSlug:l?.slug,onClose:()=>bi(!1)})}),Gu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üìä Raporlar Y√ºkleniyor..."}),children:e.jsx(ux,{fetchWithAuth:m,apiBaseUrl:x,serverId:l?.server_id,onClose:()=>Si(!1)})}),Hu&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"üêõ Hata Raporlama Y√ºkleniyor..."}),children:e.jsx(fx,{fetchWithAuth:m,apiBaseUrl:x,onClose:()=>_i(!1)})}),Wn&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(8px)"},onClick:r=>{r.target===r.currentTarget&&Oe(!1)},children:e.jsxs("div",{style:{backgroundColor:"#2f3136",borderRadius:"16px",width:"90%",maxWidth:"900px",maxHeight:"85vh",overflow:"auto",padding:"32px",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[e.jsx("h2",{style:{margin:0,fontSize:"1.5em",color:"#fff"},children:"üöÄ T√ºm √ñzellikler"}),e.jsx("button",{onClick:()=>Oe(!1),style:{background:"none",border:"none",color:"#b9bbbe",fontSize:"1.5em",cursor:"pointer"},children:"‚úï"})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#7289da",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"‚öôÔ∏è Genel Ayarlar"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"‚öôÔ∏è",label:"Kullanƒ±cƒ± Ayarlarƒ±",action:()=>An(!0)},{icon:"‚å®Ô∏è",label:"Kƒ±sayol Tu≈ülarƒ±",action:()=>Ln(!0)},{icon:"üîç",label:"Komut Paleti",action:()=>Cs(!0)},{icon:"üåç",label:"Sunucu Ke≈üfet",action:()=>Dn(!0)},{icon:"üé®",label:"G√∂r√ºn√ºm",action:()=>On(!0)},{icon:"üåê",label:"Dil Se√ßimi",action:()=>zn(!0)},{icon:"üìã",label:"Deƒüi≈üiklik G√ºnl√ºƒü√º",action:()=>qo(!0)},{icon:"üîä",label:"Bildirim Sesleri",action:()=>Mn(!0)},{icon:"‚ö°",label:"Hƒ±zlƒ± Ge√ßi≈ü",action:()=>Ts(!0)},{icon:"üö™",label:"√áƒ±kƒ±≈ü Yap",action:()=>Es(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(88,101,242,0.2)",a.currentTarget.style.borderColor="#5865f2"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#ed4245",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üîê G√ºvenlik & Gizlilik"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"üîê",label:"Giri≈ü Ge√ßmi≈üi",action:()=>Bn(!0)},{icon:"üõ°Ô∏è",label:"G√ºvenlik Ayarlarƒ±",action:()=>Un(!0)},{icon:"üîí",label:"Gizlilik Ayarlarƒ±",action:()=>Vn(!0)},{icon:"üö´",label:"Engel Listesi",action:()=>Nn(!0)},{icon:"üîê",label:"E2E ≈ûifreleme",action:()=>Jo(!0)},{icon:"‚ùå",label:"Hesap Silme",action:()=>$n(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(237,66,69,0.2)",a.currentTarget.style.borderColor="#ed4245"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#3ba55d",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üí¨ ƒ∞leti≈üim"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"üí¨",label:"Mesaj Konularƒ±",action:()=>Zo(!0)},{icon:"‚è∞",label:"Zamanlanmƒ±≈ü Mesajlar",action:()=>Xo(!0)},{icon:"‚è∞",label:"Hatƒ±rlatƒ±cƒ±lar",action:()=>Qo(!0)},{icon:"üìã",label:"Forum",action:()=>ea(!0)},{icon:"üé§",label:"Sahne Kanalƒ±",action:()=>ta(!0)},{icon:"üìπ",label:"G√∂r√ºnt√ºl√º Arama",action:()=>ra(!0)},{icon:"üéôÔ∏è",label:"Ses Ayarlarƒ±",action:()=>sa(!0)},{icon:"üîç",label:"Mesaj Arama",action:()=>Fn(!0)},{icon:"üé¨",label:"Birlikte ƒ∞zle",action:()=>na(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(59,165,93,0.2)",a.currentTarget.style.borderColor="#3ba55d"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#faa61a",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üè† Sunucu Y√∂netimi"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"ü§ñ",label:"Otomatik Roller",action:()=>oa(!0)},{icon:"üé≠",label:"Tepki Rolleri",action:()=>aa(!0)},{icon:"üëã",label:"Ho≈ü Geldin Mesajlarƒ±",action:()=>ia(!0)},{icon:"üìÖ",label:"Etkinlik Takvimi",action:()=>la(!0)},{icon:"üéâ",label:"√áekili≈ü",action:()=>ca(!0)},{icon:"üé´",label:"Destek Sistemi",action:()=>da(!0)},{icon:"‚≠ê",label:"Yƒ±ldƒ±z Panosu",action:()=>ua(!0)},{icon:"üíæ",label:"Sunucu Yedekleme",action:()=>fa(!0)},{icon:"‚öñÔ∏è",label:"Ban ƒ∞tirazlarƒ±",action:()=>pa(!0)},{icon:"ü§ñ",label:"√ñzel Komutlar",action:()=>ma(!0)},{icon:"üìä",label:"Seviye Sistemi",action:()=>ha(!0)},{icon:"üì∫",label:"Canlƒ± Yayƒ±n",action:()=>ga(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(250,166,26,0.2)",a.currentTarget.style.borderColor="#faa61a"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#9b59b6",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üéÆ Eƒülence & Sosyal"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"üèÜ",label:"Ba≈üarƒ±mlar",action:()=>ya(!0)},{icon:"üéÇ",label:"Doƒüum G√ºnleri",action:()=>xa(!0)},{icon:"üíé",label:"Premium",action:()=>ba(!0)},{icon:"üéµ",label:"M√ºzik √áalar",action:()=>Sa(!0)},{icon:"ü§ñ",label:"Bot Maƒüazasƒ±",action:()=>_a(!0)},{icon:"üë§",label:"Profil √ñzelle≈ütir",action:()=>va(!0)},{icon:"üîó",label:"Entegrasyonlar",action:()=>wa(!0)},{icon:"üèÜ",label:"Turnuvalar",action:()=>ka(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(155,89,182,0.2)",a.currentTarget.style.borderColor="#9b59b6"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#e67e22",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üîß Geli≈ümi≈ü"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"üí°",label:"√ñne √áƒ±kanlar",action:()=>ja(!0)},{icon:"üì¶",label:"√ñzel Embed",action:()=>Ca(!0)},{icon:"üéµ",label:"Spotify Baƒülantƒ±sƒ±",action:()=>Ea(!0)},{icon:"üìã",label:"Sunucu Klonla",action:()=>Ta(!0)},{icon:"üéØ",label:"Haftalƒ±k G√∂revler",action:()=>Pa(!0)},{icon:"ü§ñ",label:"AI Chatbot",action:()=>mi(!0)},{icon:"üë®‚Äçüíª",label:"Kod Edit√∂r√º",action:()=>hi(!0)},{icon:"üñ•Ô∏è",label:"Ekran Payla≈üƒ±mƒ±",action:()=>gi(!0)},{icon:"üì∫",label:"Canlƒ± Yayƒ±n",action:()=>yi(!0)},{icon:"üìà",label:"Geli≈ümi≈ü Analitik",action:()=>xi(!0)},{icon:"üìÅ",label:"Dosya Y√∂neticisi",action:()=>bi(!0)},{icon:"üìä",label:"Raporlar",action:()=>Si(!0)},{icon:"üêõ",label:"Hata Raporlama",action:()=>_i(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(230,126,34,0.2)",a.currentTarget.style.borderColor="#e67e22"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#e74c3c",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üî∞ Moderasyon & Y√∂netim"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"üõ°Ô∏è",label:"Moderasyon Ara√ßlarƒ±",action:()=>Ia(!0)},{icon:"ü§ñ",label:"AI Moderasyon",action:()=>Ra(!0)},{icon:"üö´",label:"Spam Korumasƒ±",action:()=>Aa(!0)},{icon:"üìã",label:"Denetim Kayƒ±tlarƒ±",action:()=>La(!0)},{icon:"‚õî",label:"Ban Ge√ßmi≈üi",action:()=>Da(!0)},{icon:"üìú",label:"Moderasyon Loglarƒ±",action:()=>Oa(!0)},{icon:"üõ°Ô∏è",label:"Baskƒ±n Korumasƒ±",action:()=>p(!0)},{icon:"üö®",label:"G√ºvenlik Uyarƒ±larƒ±",action:()=>za(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(231,76,60,0.2)",a.currentTarget.style.borderColor="#e74c3c"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#1abc9c",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üí¨ Mesajla≈üma & Medya"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"üîñ",label:"Yer ƒ∞mleri",action:()=>se(!0)},{icon:"üéûÔ∏è",label:"GIF Se√ßici",action:()=>Yn(!0)},{icon:"üìä",label:"Anket Olu≈ütur",action:()=>Ma(!0)},{icon:"üé®",label:"√áƒ±kartmalar",action:()=>Gn(!0)},{icon:"üíæ",label:"Kayƒ±tlƒ± Mesajlar",action:()=>Ba(!0)},{icon:"üîî",label:"Bildirim Merkezi",action:()=>Ua(!0)},{icon:"üìù",label:"Mesaj √ñzeti",action:()=>Va(!0)},{icon:"üåç",label:"√áeviri Paneli",action:()=>$a(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(26,188,156,0.2)",a.currentTarget.style.borderColor="#1abc9c"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#2ecc71",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üè† Sunucu Y√∂netimi (Geni≈ületilmi≈ü)"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"‚öôÔ∏è",label:"Kanal Ayarlarƒ±",action:()=>Na(!0)},{icon:"üì®",label:"Davet Y√∂netimi",action:()=>Fa(!0)},{icon:"üìã",label:"Sunucu ≈ûablonlarƒ±",action:()=>Wa(!0)},{icon:"üìä",label:"Sunucu Analitiƒüi",action:()=>Ya(!0)},{icon:"üëë",label:"Rol Y√∂neticisi",action:()=>Ga(!0)},{icon:"üëã",label:"Kar≈üƒ±lama Ekranƒ±",action:()=>Ha(!0)},{icon:"üèòÔ∏è",label:"Topluluk Ayarlarƒ±",action:()=>Ka(!0)},{icon:"üîó",label:"Davet Linkleri",action:()=>qa(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(46,204,113,0.2)",a.currentTarget.style.borderColor="#2ecc71"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#3498db",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"ü§ñ Bot & Geli≈ütirici"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"ü§ñ",label:"Bot Olu≈üturucu",action:()=>Ja(!0)},{icon:"üßë‚Äçüíª",label:"Geli≈ütirici Portalƒ±",action:()=>Za(!0)},{icon:"üîó",label:"Webhook Y√∂neticisi",action:()=>Xa(!0)},{icon:"üîë",label:"API Anahtarlarƒ±",action:()=>Qa(!0)},{icon:"‚ö°",label:"Slash Komutlarƒ±",action:()=>ei(!0)},{icon:"üíª",label:"Kod √áalƒ±≈ütƒ±rƒ±cƒ±",action:()=>ti(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(52,152,219,0.2)",a.currentTarget.style.borderColor="#3498db"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h3",{style:{color:"#e91e63",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üë§ Profil & Sosyal"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"üë§",label:"Profil Kartƒ±",action:()=>ri(!0)},{icon:"üìù",label:"Kullanƒ±cƒ± Notlarƒ±",action:()=>si(!0)},{icon:"üü¢",label:"Durum Se√ßici",action:()=>ni(!0)},{icon:"üë•",label:"Ortak Arkada≈ülar",action:()=>oi(!0)},{icon:"üèÖ",label:"Profil Vitrini",action:()=>ai(!0)},{icon:"üì±",label:"Oturum Y√∂neticisi",action:()=>ii(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(233,30,99,0.2)",a.currentTarget.style.borderColor="#e91e63"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{color:"#f1c40f",fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:"üíé Premium & Ekonomi"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:[{icon:"ü™ô",label:"Coin Maƒüazasƒ±",action:()=>li(!0)},{icon:"üíé",label:"Premium Y√∂netimi",action:()=>ci(!0)},{icon:"üìã",label:"Abonelik Y√∂netimi",action:()=>di(!0)},{icon:"üéÅ",label:"Premium Hediye Et",action:()=>ui(!0)},{icon:"üõí",label:"Premium Maƒüaza",action:()=>fi(!0)},{icon:"üé®",label:"Tema Maƒüazasƒ±",action:()=>pi(!0)}].map((r,o)=>e.jsxs("button",{onClick:()=>{r.action(),Oe(!1)},style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:a=>{a.currentTarget.style.backgroundColor="rgba(241,196,15,0.2)",a.currentTarget.style.borderColor="#f1c40f"},onMouseLeave:a=>{a.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",a.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:r.icon}),e.jsx("span",{children:r.label})]},o))})]})]})}),gt&&e.jsx(t.Suspense,{fallback:null,children:e.jsx(Tl,{imageUrl:gt,onClose:()=>wt(null)})}),Vr&&e.jsx(t.Suspense,{fallback:null,children:e.jsx(Tl,{images:Vr.images,startIndex:Vr.startIndex,onClose:()=>xs(null)})}),ur&&e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"small",text:"Sabitlenmi≈ü mesajlar y√ºkleniyor..."}),children:e.jsx(pg,{messages:_t,onClose:()=>hs(!1)})}),Jt&&e.jsx(Km,{user:Jt,onClose:()=>yt(null),onStartDM:Jr,onImageClick:wt,getDeterministicAvatar:Xe,fetchWithAuth:m,apiBaseUrl:x,currentUser:T,friendsList:Qt}),le&&Mr&&e.jsx("div",{style:K.mobileOverlay,onClick:()=>De(!1)}),le&&Br&&e.jsx("div",{style:K.mobileOverlay,onClick:()=>Nt(!1)}),e.jsx(Dm,{}),e.jsxs("div",{style:K.chatLayout,children:[(!le||Mr)&&e.jsxs("div",{style:{...K.sidebarWrapper,...le&&K.mobileSidebar,paddingTop:Fs,paddingBottom:us,height:"100%",boxSizing:"border-box"},children:[le&&e.jsxs("div",{style:K.mobileSidebarHeader,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("img",{src:"https://media.pawscord.com/assets/logo.png",alt:"",style:{width:"24px",height:"24px"},onError:r=>{r.target.style.display="none"}}),e.jsx("span",{style:{fontSize:"18px",fontWeight:"bold",color:"white"},children:"Pawscord"})]}),e.jsx("button",{onClick:()=>De(!1),style:K.closeSidebarButton,children:e.jsx(Tr,{})})]}),e.jsx(dg,{onFriendsClick:()=>ae("friends","friends"),onRoomSelect:ol,onDMSelect:(r,o)=>ae("dm",r,o),onWelcomeClick:Uf,setIsLeftSidebarVisible:De,onProfileClick:()=>ms(!0),onViewUserProfile:r=>{const o=me.find(a=>a.username===r);o&&yt(o)},onOpenStore:()=>bs(!0),onOpenServerSettings:r=>Ti(r),categories:gf,onServerDragStart:_f,onServerDragOver:vf,onServerDragEnd:wf,onServerDrop:jf,onMoveServer:kf,conversations:oe,allUsers:me,onlineUsers:lo,serverMembers:er,isAdmin:Re,friendsList:Qt,pendingFriendRequests:Ju,currentUsername:T,currentUserProfile:Be,getRealUserAvatar:dt,getDeterministicAvatar:Xe,unreadCounts:os,joinVoiceChat:H,leaveVoiceChat:D,voiceUsers:sn,isConnecting:P,currentVoiceRoom:L,currentRoom:L,currentConversationId:l.type==="dm"?l.id:null,remoteVolumes:G,setRemoteVolume:ge,isPttActive:be,apiBaseUrl:x,fetchWithAuth:m,onHideConversation:Mf,handleDrop:Of,dropTarget:_n,setDropTarget:Zt,isDragging:Ai,onOpenCreateGroup:()=>Ot(!0),toggleMute:ee,toggleDeafened:F,isMuted:O,isDeafened:N,isInVoice:C,toggleVideo:Y,toggleScreenShare:te,isVideoEnabled:q,isScreenSharing:B,updateAvailable:ki,onUpdateClick:()=>Ci(!0),onOpenAnalytics:()=>Nr(!0),onOpenAdminPanel:()=>_s(!0),onOpenPaymentPanel:()=>Vi(!0),onOpenStoreModal:()=>$i(!0),onOpenDailyRewards:()=>Ni(!0),onOpenAPIUsage:()=>Fi(!0),onOpenExportJobs:()=>Wi(!0),onOpenScheduledAnnouncements:()=>Yi(!0),onOpenMiniGames:()=>Go(!0),onOpenProjectCollaboration:()=>Ho(!0),onOpenAvatarStudio:()=>Ko(!0),onServerSelect:nl})]}),e.jsxs("div",{style:K.mainContent,children:[e.jsx("div",{style:{position:"absolute",top:60,left:0,right:0,zIndex:90},children:e.jsx(Ym,{message:wi?.message,type:wi?.type,onDismiss:()=>hr(null)})}),l.type==="friends"?e.jsx("div",{style:{width:"100%",height:"100%",paddingTop:Fs},children:e.jsx(cg,{fetchWithAuth:m,apiBaseUrl:W,onStartDM:Jr,getDeterministicAvatar:Xe,onClose:()=>ae("welcome","welcome"),onPendingCountChange:Zu,onlineUsers:lo})}):l.type==="welcome"?e.jsx("div",{style:{width:"100%",height:"100%"},children:e.jsx(Hm,{isMobile:le,onOpenMenu:()=>De(!0),onOpenRightMenu:()=>Nt(!0),updateAvailable:ki,isDownloading:fn,downloadProgress:pn,updateStatusText:mn,onStartUpdate:$f,onSwitchToFriends:()=>{ae("friends","friends"),le&&De(!1)},onSwitchToAI:()=>{ol("ai")},onSwitchToCinema:()=>{Ft(!0),le&&De(!1)}})}):bf==="kanban"?e.jsxs("div",{style:{width:"100%",height:"100%",overflow:"hidden"},children:[e.jsx("div",{style:K.chatHeader,children:e.jsxs("h2",{children:["# ",qr," (Pano)"]})}),e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"medium",text:"Pano y√ºkleniyor..."}),children:e.jsx(th,{roomSlug:l.id,apiBaseUrl:x,fetchWithAuth:m})})]}):l.type==="voice"&&C?e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#2f3136"},children:[e.jsxs("div",{style:{...K.chatHeader,justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[le&&e.jsx("button",{onClick:()=>ae("welcome","welcome"),style:{...K.mobileMenuButton},children:"‚Üê"}),e.jsxs("h2",{style:{margin:0,fontSize:"1.2em"},children:["üîä ",L]})]}),e.jsx("button",{onClick:()=>{D(),ae("welcome","welcome")},style:{background:"#ed4245",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontWeight:"bold"},children:"Baƒülantƒ±yƒ± Kes"})]}),e.jsx(El,{roomName:L,onClose:()=>{D(),ae("welcome","welcome")},isMinimized:!1,onToggleMinimize:()=>{},getRealUserAvatar:dt,allUsers:me,currentUserProfile:Be})]}):e.jsxs("div",{style:{...K.chatArea,position:"relative",paddingTop:Fs,boxSizing:"border-box"},onDrop:Df,onDragOver:r=>{r.preventDefault()},onDragEnter:r=>{r.preventDefault(),Hr.current++,Xn(!0)},onDragLeave:r=>{r.preventDefault(),Hr.current--,Hr.current<=0&&(Hr.current=0,Xn(!1))},children:[e.jsxs("div",{style:{...K.chatHeader,justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",overflow:"hidden",gap:"8px"},children:[le&&!Mr&&e.jsx("button",{onClick:()=>De(!0),style:{...K.mobileMenuButton,fontSize:"1.3em"},"aria-label":"Men√ºy√º A√ß",children:"‚ò∞"}),le&&(l.type==="dm"||l.type==="room")&&e.jsx("button",{onClick:()=>{ae("welcome","welcome"),De(!1),Nt(!1)},style:{...K.mobileMenuButton,fontSize:"1.2em"},"aria-label":"Geri",children:"‚Üê"}),e.jsx("h2",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:le?"1em":"1.1em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:l.type==="dm"?`@ ${String(l.targetUser||"DM")}`:`# ${String(qr)}`}),e.jsx("div",{style:ps?K.connectionPillOnline:K.connectionPillOffline,children:ps?"Bagli":"Kopuk"})]}),e.jsxs("div",{style:{display:"flex",gap:le?"5px":"10px",alignItems:"center",flexWrap:le?"nowrap":"wrap",position:"relative"},children:[e.jsxs("form",{onSubmit:zf,style:K.searchForm,children:[e.jsx("input",{type:"text",placeholder:"Ara...",value:Dr,onChange:r=>dr(r.target.value),style:K.searchInput,ref:mf}),e.jsx(ip,{style:K.searchIcon})]}),!le&&Zi.length>0&&e.jsx(Vm,{users:Zi}),e.jsx("button",{onClick:()=>Bi(!to),style:{...K.iconButton,color:to?"#5865f2":"#b9bbbe",position:"relative"},title:"Bildirimler",children:e.jsx(dl,{})}),to&&e.jsx("div",{style:{position:"absolute",top:"54px",right:"20px",zIndex:1e3},children:e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"small",text:""}),children:e.jsx(xg,{currentUser:T,onClose:()=>Bi(!1),fetchWithAuth:m,apiBaseUrl:x})})}),e.jsxs("div",{className:"toolbar-menu-container",style:{position:"relative"},children:[e.jsx("button",{onClick:()=>ze(!Yr),style:{...K.iconButton,color:Yr?"#5865f2":"#b9bbbe",fontSize:"1.2em",fontWeight:"bold"},title:"Daha Fazla",children:"‚ãÆ"}),Yr&&e.jsxs("div",{style:{position:"absolute",top:"50px",right:"0",backgroundColor:"#2f3136",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)",minWidth:"220px",zIndex:1e3,overflow:"hidden",border:"1px solid #202225"},children:[l.type==="dm"&&e.jsxs("button",{onClick:()=>{zt(!0),ze(!1)},style:{...K.menuItem,color:Ws?"#43b581":"#dcddde"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color=Ws?"#43b581":"#dcddde"},children:[Ws?e.jsx(ul,{}):e.jsx(ul,{style:{opacity:.5}}),e.jsx("span",{children:Ws?"≈ûifreli":"≈ûifrele"})]}),e.jsxs("button",{onClick:()=>{hs(!ur),ze(!1)},style:{...K.menuItem,color:ur?"#f5a524":"#dcddde"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color=ur?"#f5a524":"#dcddde"},children:[e.jsx(lp,{}),e.jsx("span",{children:"Sabitli Mesajlar"})]}),e.jsxs("button",{onClick:()=>{Rf(),ze(!1)},style:K.menuItem,onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#dcddde"},children:[e.jsx(cp,{}),e.jsx("span",{children:"Baƒülantƒ±yƒ± Kopyala"})]}),e.jsxs("button",{onClick:()=>{If(),ze(!1)},style:{...K.menuItem,color:gr.notifications?"#43b581":"#f04747"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color=gr.notifications?"#43b581":"#f04747"},children:[gr.notifications?e.jsx(dl,{}):e.jsx(dp,{}),e.jsx("span",{children:gr.notifications?"Sessize Al":"Sesi A√ß"})]}),e.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),e.jsxs("button",{onClick:()=>{it(!0),ze(!1)},style:K.menuItem,onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#dcddde"},children:[e.jsx(up,{}),e.jsx("span",{children:"Bahsedilmeler"})]}),e.jsxs("button",{onClick:()=>{kt(!0),ze(!1)},style:K.menuItem,onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#dcddde"},children:[e.jsx(fp,{}),e.jsx("span",{children:"Durumunu Ayarla"})]}),e.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),e.jsxs("button",{onClick:()=>{Ft(!0),ze(!1)},style:K.menuItem,onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#dcddde"},children:[e.jsx(pp,{}),e.jsx("span",{children:"Sinema Modu"})]}),e.jsxs("button",{onClick:()=>{Ri(!0),ze(!1)},style:K.menuItem,onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#dcddde"},children:[e.jsx(mp,{}),e.jsx("span",{children:"DJ Modu"})]}),e.jsxs("button",{onClick:()=>{ls(!0),ze(!1)},style:K.menuItem,onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#dcddde"},children:[e.jsx(hp,{}),e.jsx("span",{children:"Beyaz Tahta"})]}),C&&e.jsxs("button",{onClick:()=>{ir(!0),ze(!1)},style:K.menuItem,onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#dcddde"},children:[e.jsx(fl,{}),e.jsx("span",{children:"Ses Efektleri"})]}),l.type==="room"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),e.jsxs("button",{onClick:()=>{Ef(),ze(!1)},style:K.menuItem,onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#dcddde"},children:[e.jsx(fl,{}),e.jsx("span",{children:"Sohbeti √ñzetle"})]}),e.jsxs("button",{onClick:()=>{Cf(),ze(!1)},style:{...K.menuItem,color:"#f04747"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#f04747",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#f04747"},children:[e.jsx(gp,{}),e.jsx("span",{children:"Sohbeti Temizle"})]}),T==="admin"&&l.type==="dm"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),e.jsxs("button",{onClick:()=>{Bf(l.id),ze(!1)},style:{...K.menuItem,color:"#ed4245",fontWeight:"bold"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#ed4245",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#ed4245"},title:"Admin: Konu≈ümayƒ± kalƒ±cƒ± olarak sil (her iki taraftan)",children:[e.jsx(Bl,{}),e.jsx("span",{children:"‚ö†Ô∏è KALICI Sƒ∞L (ADMƒ∞N)"})]})]})]}),e.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),e.jsxs("button",{onClick:()=>{Oe(!0),ze(!1)},style:{...K.menuItem,color:"#5865f2",fontWeight:"bold"},onMouseEnter:r=>{r.currentTarget.style.backgroundColor="#5865f2",r.currentTarget.style.color="#ffffff"},onMouseLeave:r=>{r.currentTarget.style.backgroundColor="transparent",r.currentTarget.style.color="#5865f2"},children:["üöÄ",e.jsx("span",{children:"T√ºm √ñzellikler"})]})]})]}),le&&!Br&&e.jsx("button",{onClick:()=>Nt(!0),style:{...K.mobileMenuButton,fontSize:"1.3em"},"aria-label":"Kullanƒ±cƒ±larƒ± G√∂ster",children:e.jsx(Eo,{})})]})]}),e.jsx("div",{style:K.messageBox,ref:oo,onScroll:Sf,children:Ku?e.jsx("p",{style:K.systemMessage,children:"Y√ºkleniyor..."}):ct.length>50?e.jsx(Nm,{messages:ct,scrollToBottom:!0,renderMessage:(r,o)=>e.jsx(kl,{msg:r,currentUser:T,absoluteHostUrl:x,isAdmin:Re,onImageClick:wt,fetchWithAuth:m,allUsers:me,getDeterministicAvatar:Xe,onShowChart:Mt,onDelete:bo,onStartEdit:br,onSetReply:Oi,onToggleReaction:()=>{},onStartForward:zi,isSelectionMode:Mi,isSelected:vt.has(r.id),onToggleSelection:a=>{const y=new Set(vt);y.has(a)?y.delete(a):y.add(a),Ur(y)},onScrollToMessage:sl,onViewProfile:a=>yt(me.find(y=>y.username===a)),onTogglePin:il,onVisible:xo},r.id||r.temp_id||o)}):e.jsxs(e.Fragment,{children:[(()=>{const r=[];let o=0;for(;o<ct.length;){const a=ct[o],y=a.id||a.temp_id||o,g=o>0?ct[o-1]:null,k=!g||a.timestamp&&g.timestamp&&new Date(a.timestamp).toDateString()!==new Date(g.timestamp).toDateString();if(tl(a)){const A=[a];let M=o+1;for(;M<ct.length&&tl(ct[M])&&ct[M].username===a.username&&a.timestamp&&ct[M].timestamp&&Math.abs(new Date(ct[M].timestamp)-new Date(a.timestamp))<3e5;)A.push(ct[M]),M++;if(A.length>=2){const ce=A.map($=>$.id||$.temp_id).join("-");r.push(e.jsxs(c.Fragment,{children:[k&&a.timestamp&&e.jsx(wl,{date:a.timestamp}),e.jsx(kx,{messages:A,currentUser:T,absoluteHostUrl:x,isAdmin:Re,onOpenGallery:($,U)=>xs({images:$,startIndex:U}),onViewProfile:$=>yt(me.find(U=>U.username===$)),onDelete:bo,allUsers:me,getDeterministicAvatar:Xe,fetchWithAuth:m,onVisible:xo})]},`gallery-${ce}`)),o=M;continue}}r.push(e.jsxs(c.Fragment,{children:[k&&a.timestamp&&e.jsx(wl,{date:a.timestamp}),e.jsx(kl,{msg:a,currentUser:T,absoluteHostUrl:x,isAdmin:Re,onImageClick:wt,fetchWithAuth:m,allUsers:me,getDeterministicAvatar:Xe,onShowChart:Mt,onDelete:bo,onStartEdit:br,onSetReply:Oi,onToggleReaction:()=>{},onStartForward:zi,isSelectionMode:Mi,isSelected:vt.has(a.id),onToggleSelection:A=>{const M=new Set(vt);M.has(A)?M.delete(A):M.add(A),Ur(M)},onScrollToMessage:sl,onViewProfile:A=>yt(me.find(M=>M.username===A)),onTogglePin:il,onVisible:xo},y)]},y)),o++}return r})(),e.jsx("div",{ref:no,style:{float:"left",clear:"both",height:1}})]})}),Ai&&e.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(30, 31, 34, 0.9)",border:"3px dashed #5865f2",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:"üìÅ"}),e.jsx("div",{style:{color:"#5865f2",fontSize:"1.4em",fontWeight:"bold"},children:"Dosyalarƒ± buraya bƒ±rakƒ±n"}),e.jsx("div",{style:{color:"#b9bbbe",fontSize:"0.9em",marginTop:"6px"},children:"Birden fazla dosya se√ßebilirsiniz"})]}),nf&&e.jsx(zm,{onClick:()=>{It("smooth"),zs(!1)},unreadCount:0}),e.jsxs("div",{style:{...K.inputContainer,paddingBottom:nr?`calc(16px + ${us})`:le?"25px":"16px"},children:[Li&&eo>0&&e.jsx("div",{style:{position:"absolute",top:"-40px",left:"16px",right:"16px",backgroundColor:"#2b2d31",borderRadius:"8px",padding:"8px 12px",boxShadow:"0 2px 10px rgba(0,0,0,0.3)",zIndex:1001},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsxs("span",{style:{color:"#b9bbbe",fontSize:"12px",whiteSpace:"nowrap"},children:["üì§ Y√ºkleniyor: ",eo,"%"]}),e.jsx("div",{style:{flex:1,height:"6px",backgroundColor:"#40444b",borderRadius:"3px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${eo}%`,height:"100%",backgroundColor:"#5865f2",borderRadius:"3px",transition:"width 0.3s ease"}})})]})}),e.jsx(Fm,{onSendMessage:po,onFileUpload:ho,onShowCodeSnippet:()=>Lr(!0),placeholder:qr?`${l.type==="dm"?qr:`# ${qr}`} kanalƒ±na mesaj g√∂nder`:"Mesaj yaz...",disabled:Li,fetchWithAuth:m,apiBaseUrl:x,activeChat:l,pendingFilesFromDrop:sf,onClearPendingFiles:()=>Di([])})]})]}),(!le||Br)&&e.jsxs("div",{style:{...K.chatUserListPanel,...le?K.mobileRightSidebar:{},paddingTop:Fs},children:[le&&e.jsxs("div",{style:K.mobileSidebarHeader,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Eo,{size:18,color:"#b9bbbe"}),e.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"white"},children:l.type==="room"?"Sunucu √úyeleri":l.type==="friends"?"√áevrimi√ßi":"Arkada≈ülar"})]}),e.jsx("button",{onClick:()=>Nt(!1),style:K.closeSidebarButton,children:e.jsx(Tr,{})})]}),e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"small",text:"Kullanƒ±cƒ±lar y√ºkleniyor..."}),children:e.jsx(fg,{chatUsers:[],allUsers:me,onlineUsers:lo,currentUser:T,currentUserProfile:Be,getDeterministicAvatar:Xe,onUserClick:r=>{let o=me.find(a=>a.username===r);if(!o&&er.length>0){const a=er.find(y=>y.username===r);a&&(o={username:a.username,display_name:a.username,avatar:Xe(a.username),role:a.role||"member"})}o&&yt(o)},onUserContextMenu:(r,o)=>{if(o===T)return;const a=me.find(y=>y.username===o);a&&Ui({x:r.clientX,y:r.clientY,user:a,permissions:hf})},activeChat:l,serverMembers:er,friendsList:Qt,onNavigate:Pf})})]})]}),C&&e.jsx(Wm,{remoteStreams:re,remoteVolumes:G,mutedUsers:rn}),C&&!St&&l.type!=="voice"&&e.jsx("button",{onClick:()=>Ke(!0),style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9998,background:"#5865f2",color:"white",border:"none",borderRadius:"50%",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",transition:"all 0.2s"},title:"Ses Panelini A√ß",onMouseEnter:r=>r.currentTarget.style.transform="scale(1.1)",onMouseLeave:r=>r.currentTarget.style.transform="scale(1)",children:"üé§"}),C&&St&&l.type!=="voice"&&e.jsx(e.Fragment,{children:Or?e.jsx(El,{roomName:L,onClose:()=>{Ke(!1)},isMinimized:J,onToggleMinimize:()=>ye(!J),getRealUserAvatar:dt,allUsers:me,currentUserProfile:Be}):e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"small",text:"Sesli sohbet y√ºkleniyor..."}),children:e.jsx(mg,{islandState:Vt,onDrag:r=>fs(o=>({...o,x:r.x,y:r.y})),onResize:r=>fs(o=>({...o,width:r.width,height:r.height})),isMobile:le,headerActions:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[e.jsx("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),Ke(!1)},style:{background:"rgba(255,255,255,0.1)",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:"Paneli Gizle",children:e.jsx(Tr,{})}),e.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.jsx("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),ee()},style:{background:O?"#ed4245":"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:O?"Mikrofonu A√ß":"Mikrofonu Kapat",children:e.jsx(Do,{style:{opacity:O?.5:1}})}),e.jsx("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),F()},style:{background:N?"#ed4245":"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:N?"Sesi A√ß":"Sesi Kapat",children:e.jsx(yp,{style:{opacity:N?.5:1}})}),e.jsx("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),Y()},style:{background:q?"#5865f2":"rgba(255,255,255,0.1)",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:q?"Kamerayƒ± Kapat":"Kamerayƒ± A√ß",children:e.jsx(xp,{style:{opacity:q?1:.5}})}),e.jsx("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),te()},style:{background:B?"#5865f2":"rgba(255,255,255,0.1)",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",transition:"all 0.2s"},title:B?"Ekran Payla≈üƒ±mƒ±nƒ± Durdur":"Ekranƒ± Payla≈ü",children:e.jsx(bp,{style:{opacity:B?1:.5}})}),e.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.jsx("button",{onClick:D,style:{background:"#ed4245",color:"white",border:"none",borderRadius:"4px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px"},title:"Odadan Ayrƒ±l",children:e.jsx(Sp,{})}),e.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.jsx("button",{onClick:()=>Gt(r=>({...r,isActive:!r.isActive})),style:{background:ft.isActive?"#5865f2":"rgba(255,255,255,0.1)",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:ft.isActive?"üé¨ Kapat":"üçø Sinema"}),e.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.jsxs("select",{onChange:r=>Ge(r.target.value),value:et,style:{background:"rgba(0,0,0,0.3)",color:"white",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"4px",padding:"2px 4px",fontSize:"12px",cursor:"pointer",outline:"none"},children:[e.jsx("option",{value:"none",children:"Normal"}),e.jsx("option",{value:"robot",children:"ü§ñ Robot"}),e.jsx("option",{value:"child",children:"üë∂ Bebek"}),e.jsx("option",{value:"monster",children:"üëπ Canavar"})]}),e.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.jsxs("div",{style:{display:"flex",gap:"5px"},children:[e.jsx("button",{onClick:()=>pt("reset"),title:"Reset Game",style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"16px"},children:"üîÑ"}),["ü™®","üìÑ","‚úÇÔ∏è"].map((r,o)=>{const a=o===0?"rock":o===1?"paper":"scissors";return e.jsx("button",{onClick:()=>pt("move",a),style:{background:Ce?.moves?.[T]===a?"rgba(88, 101, 242, 0.5)":"transparent",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",cursor:"pointer",fontSize:"16px",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.1s"},title:`Play ${a}`,children:r},r)})]}),e.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),e.jsx("div",{style:{display:"flex",gap:"5px"},children:["‚ù§Ô∏è","üòÇ","üòÆ","üëç","üéâ"].map(r=>e.jsx("button",{onClick:()=>ue(r),style:{background:"transparent",border:"none",cursor:"pointer",fontSize:"16px",padding:"0 4px",transition:"transform 0.1s"},onMouseEnter:o=>o.target.style.transform="scale(1.2)",onMouseLeave:o=>o.target.style.transform="scale(1)",title:`Send ${r}`,children:r},r))})]}),children:ft.isActive?e.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx("div",{style:{flex:1,minHeight:0,position:"relative"},children:e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"large",text:"Cinema Player y√ºkleniyor...",fullscreen:!0}),children:e.jsx(hg,{})})}),e.jsx("div",{style:{height:"140px",display:"flex",gap:"8px",padding:"10px",overflowX:"auto",background:"rgba(0,0,0,0.5)",flexShrink:0,alignItems:"center"},children:(()=>{const r=[];return r.push({id:"local-cam",user:{username:T,is_talking:pe,is_mic_off:O,is_deafened:N},track:fe?.getVideoTracks()[0]||null,streamType:"camera",isLocal:!0,avatarUrl:dt(T)}),_e&&r.push({id:"local-screen",user:{username:T},track:_e.getVideoTracks()[0],streamType:"screen",isLocal:!0,avatarUrl:dt(T)}),Object.entries(re||{}).forEach(([o,a])=>{const y=a.getVideoTracks(),g=a.getAudioTracks();y.length>0?y.forEach(k=>r.push({id:`${o}-${k.id}`,user:{username:o},track:k,streamType:"camera",isLocal:!1,avatarUrl:dt(o)})):g.length>0&&r.push({id:`${o}-audio`,user:{username:o},track:g[0],streamType:"camera",isLocal:!1,avatarUrl:dt(o)})}),r.map(o=>e.jsx(Js,{...o,style:{height:"100%",aspectRatio:"16/9",minWidth:"160px"},lastReaction:ke,gameMove:Ce?.moves?.[o.user.username]},o.id))})()})]}):e.jsx("div",{style:{...K.videoGrid,flexDirection:mt?"column":"row",flexWrap:mt?"nowrap":"wrap",overflowY:"auto",height:"100%"},children:(()=>{const r=[];if(r.push({id:"local-cam",user:{username:T,is_talking:pe,is_mic_off:O,is_deafened:N},track:fe?.getVideoTracks()[0]||null,streamType:"camera",isLocal:!0,avatarUrl:dt(T)}),_e?.getVideoTracks()[0]&&r.push({id:"local-screen",user:{username:T,is_talking:!1},track:_e.getVideoTracks()[0],streamType:"screen",isLocal:!0,avatarUrl:dt(T)}),Object.entries(re||{}).forEach(([a,y])=>{if(a!==T){const g=y.getVideoTracks(),k=y.getAudioTracks();g.length>0?g.forEach(A=>{r.push({id:`${a}-${A.id}`,user:{username:a},track:A,streamType:A.label?.toLowerCase().includes("screen")?"screen":"camera",isLocal:!1,avatarUrl:dt(a)})}):k.length>0&&r.push({id:`${a}-audio`,user:{username:a},track:k[0],streamType:"camera",isLocal:!1,avatarUrl:dt(a)})}}),mt){const a=r.find(g=>g.id===mt);if(!a)return cr(null),o(r);const y=r.filter(g=>g.id!==mt);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{flex:1,width:"100%",minHeight:"300px",padding:"0",overflow:"hidden",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000"},children:e.jsx(Js,{...a,style:{width:"100%",height:"100%",maxWidth:"100%",borderRadius:"0",maxHeight:"100%",margin:"0 auto",aspectRatio:"unset"},onClick:()=>cr(null),lastReaction:ke,gameMove:Ce?.moves?.[a.user?.username]})}),e.jsx("div",{style:{height:"120px",display:"flex",gap:"8px",padding:"10px",overflowX:"auto",flexShrink:0,justifyContent:"center"},children:y.map(g=>e.jsx(Js,{...g,style:{width:"180px",height:"100%",flexShrink:0,aspectRatio:"16/9"},onClick:()=>cr(g.id),lastReaction:ke,gameMove:Ce?.moves?.[g.user.username]},g.id))})]})}else return o(r);function o(a){return a.map(y=>e.jsx(Js,{...y,style:{width:"240px",maxWidth:"100%",flexGrow:1,height:"auto"},onClick:()=>cr(y.id),lastReaction:ke,gameMove:Ce?.moves?.[y.user.username]},y.id))}})()})})})}),$r&&e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"medium",text:"Temalar y√ºkleniyor..."}),children:e.jsx(ih,{onClose:()=>Ss(!1),currentTheme:vi,onThemeChange:Hn})}),Pi&&e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"medium",text:"√ñzet hazƒ±rlanƒ±yor..."}),children:e.jsx(jl,{roomSlug:l.id,onClose:()=>Jn(!1),fetchWithAuth:m,apiBaseUrl:x})}),un&&e.jsx(t.Suspense,{fallback:e.jsx(tt,{size:"small",text:"≈ûablonlar y√ºkleniyor..."}),children:e.jsx(rh,{onClose:()=>qt(!1),onSelect:r=>{Kr.current?.appendText?.(r),qt(!1)},fetchWithAuth:m,apiBaseUrl:x,isAdmin:Re})})]}),Ms&&e.jsx(bg,{x:Ms.x,y:Ms.y,user:Ms.user,currentUser:T,onClose:()=>Ui(null),onAction:Vf,voiceChannels:Z.flatMap(r=>(r.categories||[]).flatMap(o=>(o.rooms||[]).filter(a=>a.is_voice))),isAdmin:Re,isInVoiceRoom:C,friendsList:Qt}),Gr&&Jf.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999999},onClick:()=>Bs(null),children:e.jsxs("div",{onClick:r=>r.stopPropagation(),style:{backgroundColor:"#2b2d31",borderRadius:"12px",width:"400px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #3f4147",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#f2f3f5",margin:0,fontSize:"18px"},children:"üé´ Sunucuya Davet Et"}),e.jsxs("p",{style:{color:"#b9bbbe",margin:"8px 0 0",fontSize:"14px"},children:[e.jsx("strong",{children:Gr.username})," kullanƒ±cƒ±sƒ±nƒ± hangi sunucuya davet etmek istiyorsunuz?"]})]}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"12px"},children:Z.map(r=>e.jsxs("div",{onClick:async()=>{try{const o=await m(`${W}/servers/${r.id}/invite/`,{method:"POST",body:JSON.stringify({target_username:Gr.username})});if(o.ok)V.success(`üé´ ${Gr.username} kullanƒ±cƒ±sƒ±na davetiye g√∂nderildi!`);else{const a=await o.json();a.error&&a.error.includes("zaten")?V.info(`‚ÑπÔ∏è ${Gr.username} zaten bu sunucunun √ºyesi!`):V.error(`‚ùå ${a.error||"Davet g√∂nderilemedi"}`)}}catch{V.error("‚ùå Baƒülantƒ± hatasƒ±")}Bs(null)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"rgba(255,255,255,0.02)",marginBottom:"8px"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.2)"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},children:[r.icon?e.jsx("img",{src:r.icon,alt:r.name,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white",fontSize:"16px"},children:r.name?.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{color:"#f2f3f5",fontWeight:"600"},children:r.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"12px"},children:[r.member_count||r.categories?.length||0," √ºye"]})]}),e.jsx("div",{style:{color:"#5865f2",fontSize:"20px"},children:"‚Üí"})]},r.id))}),e.jsx("div",{style:{padding:"16px 20px",borderTop:"1px solid #3f4147",textAlign:"center"},children:e.jsx("button",{onClick:()=>Bs(null),style:{backgroundColor:"#4f545c",color:"#f2f3f5",border:"none",padding:"10px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"600"},children:"ƒ∞ptal"})})]})}),document.body)]})},K={mainContainer:{display:"flex",width:"100%",height:"100dvh",backgroundColor:"#1E1F22",backgroundImage:"radial-gradient(circle at 50% 10%, rgba(88, 101, 242, 0.05) 0%, transparent 40%)",color:"white",overflow:"hidden",fontFamily:"'Inter', sans-serif"},chatLayout:{display:"flex",width:"100%",height:"100%",overflow:"hidden"},sidebarWrapper:{width:"312px",backgroundColor:"rgba(30, 31, 34, 0.6)",backdropFilter:"blur(10px)",display:"flex",flexDirection:"row",flexShrink:0,height:"100%",borderRight:"1px solid rgba(255,255,255,0.05)"},mainContent:{flex:1,display:"flex",minWidth:0,position:"relative",height:"100%",overflow:"hidden"},chatArea:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"transparent",minWidth:0,height:"100%",overflow:"hidden",position:"relative"},chatHeader:{height:"54px",minHeight:"54px",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",padding:"0 20px",flexShrink:0,backgroundColor:"rgba(20, 21, 24, 0.7)",backdropFilter:"blur(15px)",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",zIndex:10},messageBox:{flex:1,overflowY:"auto",padding:"20px 0",display:"flex",flexDirection:"column",gap:"4px",scrollBehavior:"smooth",minHeight:0},inputContainer:{padding:"0 20px 24px 20px",backgroundColor:"transparent",position:"relative",flexShrink:0,minHeight:"auto",zIndex:20},chatUserListPanel:{width:"240px",backgroundColor:"rgba(30, 31, 34, 0.6)",borderLeft:"1px solid rgba(255,255,255,0.08)",flexShrink:0,height:"100%",backdropFilter:"blur(10px)"},mobileSidebar:{position:"fixed",zIndex:100,top:0,bottom:0,left:0,width:"85vw",maxWidth:"350px",boxShadow:"5px 0 15px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},mobileRightSidebar:{position:"fixed",zIndex:100,top:0,bottom:0,right:0,width:"85vw",maxWidth:"300px",boxShadow:"-5px 0 15px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},mobileOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:99,backdropFilter:"blur(3px)"},mobileMenuButton:{background:"none",border:"none",color:"white",fontSize:"1.5em",marginRight:"10px",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",transition:"all 0.2s"},iconButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"1.3em",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",borderRadius:"50%",transition:"all 0.2s",":hover":{backgroundColor:"rgba(255,255,255,0.1)",color:"#fff"}},videoGrid:{display:"flex",flexWrap:"wrap",gap:"5px",padding:"5px",alignContent:"center",justifyContent:"center",alignItems:"center"},systemMessage:{color:"#949ba4",textAlign:"center",fontSize:"0.85em",margin:"10px 0",fontStyle:"italic"},searchForm:{position:"relative",display:"flex",alignItems:"center",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px",padding:"0 8px",height:"32px",marginRight:"8px",border:"1px solid rgba(255,255,255,0.05)"},searchInput:{backgroundColor:"transparent",border:"none",color:"#dcddde",fontSize:"0.9em",width:"140px",outline:"none"},searchIcon:{color:"#949ba4",fontSize:"0.8em",cursor:"pointer"},connectionPillOnline:{marginLeft:"10px",padding:"4px 8px",borderRadius:"999px",backgroundColor:"rgba(59, 165, 93, 0.2)",border:"1px solid #3ba55d",color:"#3ba55d",fontSize:"0.75em",fontWeight:700},connectionPillOffline:{marginLeft:"10px",padding:"4px 8px",borderRadius:"999px",backgroundColor:"rgba(218, 55, 60, 0.2)",border:"1px solid #da373c",color:"#da373c",fontSize:"0.75em",fontWeight:700},mobileSidebarHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",backgroundColor:"#202225",borderBottom:"1px solid #111214",minHeight:"54px",flexShrink:0},closeSidebarButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"22px",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background 0.2s, color 0.2s"},menuItem:{width:"100%",padding:"10px 16px",background:"transparent",border:"none",color:"#dcddde",textAlign:"left",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",fontSize:"14px",fontWeight:"500",transition:"all 0.15s ease",borderRadius:"0"}};function Cx(){return e.jsx($p,{fallbackMessage:"Pawscord encountered an error. Please try refreshing the page.",children:e.jsx(vm,{children:e.jsx(jx,{})})})}const Ex=`${rt}/auth/verify-email/`,Tx=()=>{const{token:i}=Ol(),s=rs(),[n,f]=t.useState("loading"),[u,h]=t.useState("Hesabƒ±nƒ±z doƒürulanƒ±yor, l√ºtfen bekleyin...");return t.useEffect(()=>{if(!i){f("error"),h("Ge√ßersiz veya eksik doƒürulama kodu.");return}const w=async()=>{try{const C=await fetch(`${Ex}${i}/`),P=await C.json();C.ok?(f("success"),h("√úyeliƒüiniz ba≈üarƒ±yla aktif edildi!")):(f("error"),h(P.message||"Doƒürulama ba≈üarƒ±sƒ±z oldu."))}catch{f("error"),h("Sunucuya baƒülanƒ±lamadƒ±. L√ºtfen internet baƒülantƒ±nƒ±zƒ± kontrol edin.")}};setTimeout(()=>{w()},1e3)},[i]),e.jsx("div",{style:Ye.container,children:e.jsxs("div",{style:Ye.card,children:[n==="loading"&&e.jsxs("div",{style:Ye.content,children:[e.jsx(Ul,{className:"spin-animation",size:50,color:"#5865f2",style:{marginBottom:20}}),e.jsx("h2",{style:Ye.title,children:"Doƒürulanƒ±yor..."}),e.jsx("p",{style:Ye.text,children:u})]}),n==="success"&&e.jsxs("div",{style:Ye.content,children:[e.jsx(Oo,{size:60,color:"#43b581",style:{marginBottom:20}}),e.jsx("h2",{style:{...Ye.title,color:"#43b581"},children:"Tebrikler! üéâ"}),e.jsx("p",{style:Ye.text,children:u}),e.jsx("p",{style:Ye.subText,children:"Artƒ±k Pawscord'a tam eri≈üim saƒülayabilirsin."}),e.jsx("button",{onClick:()=>s("/"),style:Ye.primaryButton,children:"Gƒ∞Rƒ∞≈û YAP"})]}),n==="error"&&e.jsxs("div",{style:Ye.content,children:[e.jsx(zo,{size:60,color:"#f04747",style:{marginBottom:20}}),e.jsx("h2",{style:{...Ye.title,color:"#f04747"},children:"Hata Olu≈ütu"}),e.jsx("p",{style:Ye.text,children:u}),e.jsx("button",{onClick:()=>s("/"),style:Ye.secondaryButton,children:"Ana Sayfaya D√∂n"})]})]})})},Ye={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100dvh",backgroundColor:"#1e1f22",fontFamily:"'Poppins', sans-serif",padding:"20px"},card:{backgroundColor:"#2b2d31",padding:"40px",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",maxWidth:"400px",width:"100%",textAlign:"center",border:"1px solid #1f2023"},content:{display:"flex",flexDirection:"column",alignItems:"center"},title:{margin:"0 0 10px 0",color:"#fff",fontSize:"1.8em"},text:{color:"#dbdee1",fontSize:"1.1em",margin:"0 0 20px 0",lineHeight:"1.5"},subText:{color:"#949ba4",fontSize:"0.9em",marginBottom:"30px"},primaryButton:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1em",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",width:"100%"},secondaryButton:{backgroundColor:"#4f545c",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1em",fontWeight:"bold",cursor:"pointer",width:"100%"}},Jl=document.createElement("style");Jl.innerText=`
  .spin-animation { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
`;document.head.appendChild(Jl);const Px=c.memo(Tx),Ix=()=>{const{code:i}=Ol(),s=rs(),{isAuthenticated:n,token:f}=ar(),[u,h]=t.useState(null),[w,C]=t.useState(!0),[P,L]=t.useState(""),[H,D]=t.useState(!1),[O,N]=t.useState(!1),ee="8888",F=window.Capacitor&&window.Capacitor.isNativePlatform(),Y=typeof window<"u"&&typeof window.require=="function",G=`${(()=>{if(F)return"https://www.pawscord.com";if(Y)return`http://127.0.0.1:${ee}`;const re=window.location.protocol,pe=window.location.hostname;return pe.includes("pawscord.com")?"https://www.pawscord.com":`${re}//${pe}:${ee}`})()}/api`;t.useEffect(()=>{ge()},[i]);const ge=async()=>{C(!0),L("");try{const re=await fetch(`${G}/invites/${i}/`);if(!(re.headers.get("content-type")||"").includes("application/json")){L("Davet bulunamadƒ± veya ge√ßersiz"),C(!1);return}const Se=await re.json();re.ok?h(Se):L(Se.error||"Davet bulunamadƒ±")}catch{L("Baƒülantƒ± hatasƒ±. L√ºtfen tekrar deneyin.")}C(!1)},fe=async()=>{if(!n){V.error("‚ùå L√ºtfen √∂nce giri≈ü yapƒ±n!"),sessionStorage.setItem("pending_invite",i),s("/");return}if(!f){V.error("‚ùå Giri≈ü token'ƒ± bulunamadƒ±. L√ºtfen tekrar giri≈ü yapƒ±n."),s("/");return}D(!0),L("");try{const pe=u?.type==="vanity"?`${G}/servers/${u.server.id}/join/`:`${G}/invites/${i}/accept/`,Se=await fetch(pe,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}}),B=await Se.json();if(Se.ok){V.success(`‚úÖ Ba≈üarƒ±lƒ±! ${B.server_name||"Sunucu"}ya katƒ±ldƒ±nƒ±z!`),N(!0);const q=B.redirect||"/";setTimeout(()=>{q.startsWith("http")?window.location.href=q:s(q)},2e3)}else{const q=B.error||B.message||"Sunucuya katƒ±lma hatasƒ±";L(q),V.error(`‚ùå Hata: ${q}`)}}catch(re){const pe=re.message||"Baƒülantƒ± hatasƒ±";L(pe),V.error(`‚ùå Hata: ${pe}`)}D(!1)};return w?e.jsxs("div",{style:ie.container,children:[e.jsx("div",{style:ie.backgroundGradient}),e.jsxs("div",{style:ie.card,children:[e.jsx("div",{style:ie.spinner}),e.jsx("p",{style:ie.loadingText,children:"Davet y√ºkleniyor..."})]})]}):P?e.jsxs("div",{style:ie.container,children:[e.jsx("div",{style:ie.backgroundGradient}),e.jsxs("div",{style:ie.card,children:[e.jsx(zo,{size:64,color:"var(--error)"}),e.jsx("h2",{style:ie.errorTitle,children:"Hata"}),e.jsx("p",{style:ie.errorText,children:P}),e.jsx("button",{onClick:()=>s("/"),style:ie.homeButton,children:"Ana Sayfaya D√∂n"})]})]}):O?e.jsxs("div",{style:ie.container,children:[e.jsx("div",{style:ie.backgroundGradient}),e.jsxs("div",{style:ie.card,children:[e.jsx(Oo,{size:64,color:"var(--success)"}),e.jsx("h2",{style:ie.successTitle,children:"Ba≈üarƒ±lƒ±!"}),e.jsxs("p",{style:ie.successText,children:[e.jsx("strong",{children:u.server.name})," sunucusuna katƒ±ldƒ±nƒ±z!"]}),e.jsx("p",{style:ie.redirectText,children:"Ana sayfaya y√∂nlendiriliyorsunuz..."})]})]}):e.jsxs("div",{style:ie.container,children:[e.jsx("div",{style:ie.backgroundGradient}),e.jsxs("div",{style:ie.card,children:[u.server.icon&&e.jsx("img",{src:u.server.icon,alt:u.server.name,style:ie.serverIcon}),e.jsxs("h1",{style:ie.serverName,children:[e.jsx(_p,{style:ie.icon}),u.server.name]}),e.jsxs("div",{style:ie.infoRow,children:[e.jsx(Eo,{style:ie.infoIcon}),e.jsxs("span",{children:[u.server.member_count," √úye"]})]}),u.expires_at&&e.jsxs("div",{style:ie.infoRow,children:[e.jsx(vp,{style:ie.infoIcon}),e.jsxs("span",{children:["S√ºre: ",new Date(u.expires_at).toLocaleString("tr-TR")]})]}),u.max_uses>0&&e.jsx("div",{style:ie.infoRow,children:e.jsxs("span",{children:["Kullanƒ±m: ",u.uses," / ",u.max_uses]})}),e.jsxs("div",{style:ie.inviterInfo,children:["Davet Eden: ",e.jsx("strong",{children:u.inviter.username})]}),e.jsx("button",{onClick:fe,disabled:H,style:{...ie.joinButton,...H?ie.joinButtonDisabled:{}},children:H?"Katƒ±lƒ±nƒ±yor...":n?"Sunucuya Katƒ±l":"Giri≈ü Yap ve Katƒ±l"}),!n&&e.jsx("p",{style:ie.loginHint,children:"* Sunucuya katƒ±lmak i√ßin giri≈ü yapmanƒ±z gerekiyor"})]})]})},ie={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"var(--bg-app)",padding:"20px",position:"relative",overflow:"hidden"},backgroundGradient:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(ellipse at top, rgba(139, 92, 246, 0.15), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.15), transparent 50%)",pointerEvents:"none",zIndex:0},card:{background:"var(--glass-bg)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",padding:"48px",borderRadius:"var(--radius-2xl)",textAlign:"center",color:"var(--text-primary)",maxWidth:"560px",width:"100%",boxShadow:"var(--shadow-2xl)",border:"1px solid var(--glass-border)",position:"relative",zIndex:1,animation:"scaleIn 0.4s ease-out"},spinner:{width:"50px",height:"50px",border:"3px solid var(--glass-border)",borderTop:"3px solid var(--brand-primary)",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto"},loadingText:{marginTop:"24px",color:"var(--text-tertiary)",fontSize:"15px",fontWeight:500},serverIcon:{width:"120px",height:"120px",borderRadius:"50%",marginBottom:"24px",objectFit:"cover",border:"4px solid var(--glass-border)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",transition:"var(--transition-normal)"},serverName:{fontSize:"32px",fontWeight:800,marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},icon:{fontSize:"28px",color:"var(--brand-primary)"},infoRow:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",margin:"16px 0",color:"var(--text-secondary)",fontSize:"16px",fontWeight:500,padding:"12px 20px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},infoIcon:{fontSize:"20px",color:"var(--brand-primary)"},inviterInfo:{marginTop:"24px",marginBottom:"32px",color:"var(--text-tertiary)",fontSize:"14px",padding:"16px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},joinButton:{background:"var(--gradient-primary)",color:"white",border:"none",padding:"16px 32px",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"16px",fontWeight:700,marginTop:"16px",width:"100%",transition:"var(--transition-normal)",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.4)",position:"relative",overflow:"hidden"},joinButtonDisabled:{background:"var(--bg-tertiary)",cursor:"not-allowed",opacity:.6,boxShadow:"none"},loginHint:{marginTop:"20px",fontSize:"13px",color:"var(--warning)",fontStyle:"italic",fontWeight:500},errorTitle:{color:"var(--error)",marginTop:"24px",fontSize:"28px",fontWeight:700},errorText:{color:"var(--text-tertiary)",margin:"24px 0",fontSize:"15px",lineHeight:1.6},successTitle:{color:"var(--success)",marginTop:"24px",fontSize:"28px",fontWeight:700},successText:{color:"var(--text-primary)",margin:"24px 0",fontSize:"18px",fontWeight:600},redirectText:{color:"var(--text-tertiary)",fontSize:"14px",marginTop:"12px",fontStyle:"italic"},homeButton:{background:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--glass-border)",padding:"14px 28px",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"15px",fontWeight:600,marginTop:"24px",transition:"var(--transition-normal)"}},Zl=document.createElement("style");Zl.textContent=`
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
`;document.head.appendChild(Zl);const Il="pawscord_chunk_reload",Rl="pawscord_chunk_reload_count",Rx=1e4,Ax=2;function tn(i){if(!i)return!1;const s=i.message||i.toString();return s.includes("Failed to fetch dynamically imported module")||s.includes("Loading chunk")||s.includes("Loading CSS chunk")||s.includes("ChunkLoadError")||s.includes("Importing a module script failed")||s.includes("error loading dynamically imported module")}function $e(i,s=1){return c.lazy(()=>new Promise((n,f)=>{const u=h=>{i().then(n).catch(w=>{h>0&&tn(w)?setTimeout(()=>u(h-1),500):(tn(w)&&Xl(),f(w))})};u(s)}))}function Xl(){const i=sessionStorage.getItem(Il),s=parseInt(sessionStorage.getItem(Rl)||"0",10),n=Date.now();s>=Ax||i&&n-parseInt(i,10)<Rx||(sessionStorage.setItem(Il,n.toString()),sessionStorage.setItem(Rl,(s+1).toString()),window.location.reload())}function Lx(i){return tn(i)?(Xl(),!0):!1}const Dx=({apiBaseUrl:i})=>{const[s,n]=t.useState(!1),[f,u]=t.useState([]),[h,w]=t.useState(!1),C=t.useRef(null),P=t.useRef([]),L=t.useRef(null),{token:H}=ar(),D=()=>{L.current?.scrollIntoView({behavior:"smooth"})};t.useEffect(()=>{D()},[f,h]);const O=async()=>{try{const F=await navigator.mediaDevices.getUserMedia({audio:!0});C.current=new MediaRecorder(F),P.current=[],C.current.ondataavailable=Y=>{Y.data.size>0&&P.current.push(Y.data)},C.current.onstop=ee,C.current.start(),n(!0)}catch{V.error("‚ùå Mikrofon izni gerekli!")}},N=()=>{C.current&&s&&(C.current.stop(),n(!1))},ee=async()=>{w(!0);const F=new Blob(P.current,{type:"audio/webm"}),Y=new FormData;Y.append("audio",F,"voice.webm");try{const te=await fetch(`${i}/eng-learn/voice-chat/`,{method:"POST",headers:{Authorization:`Bearer ${H}`},body:Y});if(te.ok){const G=await te.json();u(fe=>[...fe,{sender:"user",text:G.user_text},{sender:"ai",text:G.ai_text}]),new Audio(`data:audio/mp3;base64,${G.audio_base64}`).play()}else V.error("‚ùå Anla≈üƒ±lamadƒ± veya hata olu≈ütu.")}catch{V.error("‚ùå Baƒülantƒ± hatasƒ±.")}finally{w(!1)}};return e.jsxs("div",{style:Rt.container,children:[e.jsxs("div",{style:Rt.header,children:[e.jsxs(zl,{to:"/eng-learn",style:Rt.backBtn,children:[e.jsx(Vl,{})," Geri"]}),e.jsx("h2",{children:"AI ile Konu≈ü (Speaking)"})]}),e.jsxs("div",{style:Rt.chatArea,children:[f.length===0&&e.jsxs("div",{style:Rt.emptyState,children:[e.jsx(pl,{size:60,color:"#5865f2",style:{marginBottom:20}}),e.jsx("h3",{children:"ƒ∞ngilizce Pratik Yap"}),e.jsx("p",{children:"Mikrofona basƒ±lƒ± tut ve konu≈ümaya ba≈üla."}),e.jsx("small",{style:{color:"#72767d"},children:'"Hello, how are you?" diyebilirsin.'})]}),f.map((F,Y)=>e.jsxs("div",{style:{...Rt.messageBubble,alignSelf:F.sender==="user"?"flex-end":"flex-start",backgroundColor:F.sender==="user"?"#5865f2":"#2b2d31",color:"white",borderBottomRightRadius:F.sender==="user"?"0":"12px",borderBottomLeftRadius:F.sender==="ai"?"0":"12px"},children:[e.jsxs("div",{style:Rt.msgHeader,children:[F.sender==="user"?e.jsx(wp,{size:12}):e.jsx(pl,{size:12}),e.jsx("span",{style:{marginLeft:5,fontSize:"0.8em",fontWeight:"bold"},children:F.sender==="user"?"Sen":"AI √ñƒüretmen"})]}),F.text]},Y)),h&&e.jsx("div",{style:{alignSelf:"flex-start",color:"#949ba4",marginLeft:10,fontStyle:"italic"},children:"Yazƒ±yor ve seslendiriyor..."}),e.jsx("div",{ref:L})]}),e.jsxs("div",{style:Rt.controls,children:[e.jsx("button",{onMouseDown:O,onMouseUp:N,onTouchStart:O,onTouchEnd:N,style:{...Rt.micButton,backgroundColor:s?"#f04747":"#5865f2",transform:s?"scale(1.1)":"scale(1)"},children:s?e.jsx(kp,{size:24}):e.jsx(Do,{size:30})}),e.jsx("p",{style:{marginTop:15,color:"#949ba4",fontSize:"0.9em"},children:s?"Dinliyor... (Bƒ±rakƒ±nca G√∂nderir)":"Basƒ±lƒ± Tut ve Konu≈ü"})]})]})},Rt={container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#313338",color:"white",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif"},header:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px",borderBottom:"1px solid #1f2023",paddingBottom:"15px"},backBtn:{color:"#b9bbbe",fontSize:"1em",textDecoration:"none",display:"flex",alignItems:"center",gap:"5px",fontWeight:"600"},chatArea:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px",paddingBottom:"20px",paddingRight:"5px"},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#949ba4",opacity:.8,textAlign:"center"},messageBubble:{maxWidth:"85%",padding:"15px",borderRadius:"12px",fontSize:"1em",lineHeight:"1.5",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",position:"relative"},msgHeader:{display:"flex",alignItems:"center",marginBottom:"5px",opacity:.8},controls:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"20px",borderTop:"1px solid #1f2023"},micButton:{width:"80px",height:"80px",borderRadius:"50%",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.1s ease",boxShadow:"0 5px 20px rgba(0,0,0,0.4)"}},Al=[{text:"Hello",difficulty:"Kolay"},{text:"Water",difficulty:"Kolay"},{text:"Friend",difficulty:"Kolay"},{text:"Family",difficulty:"Kolay"},{text:"Music",difficulty:"Kolay"},{text:"School",difficulty:"Kolay"},{text:"Computer",difficulty:"Kolay"},{text:"Beautiful",difficulty:"Kolay"},{text:"Together",difficulty:"Kolay"},{text:"Morning",difficulty:"Kolay"},{text:"Happy",difficulty:"Kolay"},{text:"Garden",difficulty:"Kolay"},{text:"People",difficulty:"Kolay"},{text:"Coffee",difficulty:"Kolay"},{text:"Purple",difficulty:"Kolay"},{text:"Technology",difficulty:"Orta"},{text:"Development",difficulty:"Orta"},{text:"Environment",difficulty:"Orta"},{text:"Successfully",difficulty:"Orta"},{text:"Opportunity",difficulty:"Orta"},{text:"Government",difficulty:"Orta"},{text:"Communication",difficulty:"Orta"},{text:"Experience",difficulty:"Orta"},{text:"Available",difficulty:"Orta"},{text:"Management",difficulty:"Orta"},{text:"International",difficulty:"Orta"},{text:"Recommendation",difficulty:"Orta"},{text:"Responsibility",difficulty:"Orta"},{text:"Understand",difficulty:"Orta"},{text:"Literature",difficulty:"Orta"},{text:"Necessary",difficulty:"Orta"},{text:"Vocabulary",difficulty:"Orta"},{text:"Interesting",difficulty:"Orta"},{text:"Comfortable",difficulty:"Orta"},{text:"Vegetable",difficulty:"Orta"},{text:"Squirrel",difficulty:"Zor"},{text:"Schedule",difficulty:"Zor"},{text:"Queue",difficulty:"Zor"},{text:"Rural",difficulty:"Zor"},{text:"Brewery",difficulty:"Zor"},{text:"Phenomenon",difficulty:"Zor"},{text:"February",difficulty:"Zor"},{text:"Library",difficulty:"Zor"},{text:"Specific",difficulty:"Zor"},{text:"Regularly",difficulty:"Zor"},{text:"Probably",difficulty:"Zor"},{text:"Algorithm",difficulty:"Zor"},{text:"Hierarchical",difficulty:"Zor"},{text:"Maintenance",difficulty:"Zor"},{text:"Pronunciation",difficulty:"Zor"},{text:"Throughout",difficulty:"Zor"},{text:"Entrepreneur",difficulty:"Zor"},{text:"Simultaneously",difficulty:"Zor"},{text:"Mischievous",difficulty:"Zor"},{text:"Chaos",difficulty:"Zor"},{text:"Recipe",difficulty:"Zor"},{text:"Worcestershire",difficulty:"Efsane"},{text:"Colonel",difficulty:"Efsane"},{text:"Miscellaneous",difficulty:"Efsane"},{text:"Anesthetist",difficulty:"Efsane"},{text:"Otorhinolaryngologist",difficulty:"Efsane"},{text:"Isthmus",difficulty:"Efsane"},{text:"Anemone",difficulty:"Efsane"},{text:"Synecdoche",difficulty:"Efsane"},{text:"Onomatopoeia",difficulty:"Efsane"},{text:"Conscientious",difficulty:"Efsane"},{text:"Defibrillator",difficulty:"Efsane"},{text:"Antidisestablishmentarianism",difficulty:"Efsane"},{text:"How are you doing today?",difficulty:"C√ºmle"},{text:"I would like to order a coffee.",difficulty:"C√ºmle"},{text:"The quick brown fox jumps over the lazy dog.",difficulty:"C√ºmle"},{text:"Can you please repeat that?",difficulty:"C√ºmle"},{text:"I am learning to speak English fluently.",difficulty:"C√ºmle"},{text:"It is raining cats and dogs outside.",difficulty:"C√ºmle"},{text:"Actions speak louder than words.",difficulty:"C√ºmle"},{text:"I need to schedule a meeting for tomorrow.",difficulty:"C√ºmle"},{text:"What do you do for a living?",difficulty:"C√ºmle"},{text:"She sells seashells by the seashore.",difficulty:"Tekerleme"},{text:"Red lorry, yellow lorry.",difficulty:"Tekerleme"},{text:"Peter Piper picked a peck of pickled peppers.",difficulty:"Tekerleme"},{text:"How much wood would a woodchuck chuck?",difficulty:"Tekerleme"},{text:"Unique New York.",difficulty:"Tekerleme"},{text:"Fuzzy Wuzzy was a bear.",difficulty:"Tekerleme"},{text:"Which wristwatches are Swiss wristwatches?",difficulty:"Tekerleme"}],Ox=({apiBaseUrl:i})=>{const{token:s}=ar(),[n,f]=t.useState(null),[u,h]=t.useState(!1),[w,C]=t.useState(!1),[P,L]=t.useState("idle"),[H,D]=t.useState(""),[O,N]=t.useState(0),ee=t.useRef(null),F=t.useRef([]);t.useEffect(()=>{Y()},[]);const Y=()=>{const re=Math.floor(Math.random()*Al.length);f(Al[re]),L("idle"),D("")},te=async()=>{if(n)try{const re=await fetch(`${i}/eng-learn/speak-text/`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({text:n.text})});if(re.ok){const pe=await re.json();new Audio(`data:audio/mp3;base64,${pe.audio_base64}`).play()}}catch{}},G=async()=>{D(""),L("recording");try{const re=await navigator.mediaDevices.getUserMedia({audio:!0});ee.current=new MediaRecorder(re),F.current=[],ee.current.ondataavailable=pe=>{pe.data.size>0&&F.current.push(pe.data)},ee.current.onstop=fe,ee.current.start(),h(!0)}catch{V.error("‚ùå Mikrofon izni gerekli!"),L("idle")}},ge=()=>{ee.current&&u&&(ee.current.stop(),h(!1))},fe=async()=>{C(!0);const re=new Blob(F.current,{type:"audio/webm"}),pe=new FormData;pe.append("audio",re,"voice.webm"),pe.append("target_text",n.text);try{const B=await(await fetch(`${i}/eng-learn/check-pronunciation/`,{method:"POST",headers:{Authorization:`Bearer ${s}`},body:pe})).json();B.is_correct?(L("success"),D(`Harika! üéâ (${B.spoken_text})`),N(q=>q+1)):(L("error"),D(`Algƒ±lanan: "${B.spoken_text||"???"}" - Tekrar dene!`))}catch{D("Sunucu hatasƒ±."),L("error")}finally{C(!1)}};return n?e.jsxs("div",{style:Ve.container,children:[e.jsxs("div",{style:Ve.header,children:[e.jsxs(zl,{to:"/eng-learn",style:Ve.backBtn,children:[e.jsx(Vl,{})," √áƒ±kƒ±≈ü"]}),e.jsxs("div",{style:Ve.scoreBadge,children:["Skor: ",O]})]}),e.jsxs("div",{style:Ve.mainContent,children:[e.jsxs("div",{style:{...Ve.card,borderColor:P==="success"?"#43b581":P==="error"?"#f04747":"transparent",boxShadow:P==="success"?"0 0 30px rgba(67, 181, 129, 0.3)":P==="error"?"0 0 30px rgba(240, 71, 71, 0.3)":"0 10px 30px rgba(0,0,0,0.3)"},children:[e.jsx("span",{style:{...Ve.difficulty,backgroundColor:n.difficulty==="Efsane"?"#eb459e":n.difficulty==="Zor"?"#f04747":"#202225",color:n.difficulty==="Efsane"||n.difficulty==="Zor"?"white":"#949ba4"},children:n.difficulty}),e.jsx("h1",{style:Ve.wordText,children:n.text}),e.jsx("div",{style:{height:"30px",marginTop:"10px",color:P==="success"?"#43b581":"#f04747",fontWeight:"bold"},children:w?"Analiz ediliyor...":H}),e.jsxs("div",{style:Ve.controls,children:[e.jsx("button",{onClick:te,style:Ve.iconButton,title:"Doƒürusunu Dinle",children:e.jsx(jp,{size:24})}),e.jsx("button",{onMouseDown:G,onMouseUp:ge,onTouchStart:G,onTouchEnd:ge,style:{...Ve.micButton,backgroundColor:u?"#f04747":P==="success"?"#43b581":"#5865f2",transform:u?"scale(1.1)":"scale(1)"},children:e.jsx(Do,{size:32})})]}),e.jsx("p",{style:Ve.hint,children:u?"Dinliyor...":"Mikrofona basƒ±lƒ± tut ve oku"})]}),e.jsx("div",{style:Ve.bottomNav,children:e.jsx("button",{onClick:Y,style:Ve.skipButton,children:P==="success"?e.jsxs(e.Fragment,{children:["Sonraki Kelime ",e.jsx(Cp,{})]}):e.jsxs(e.Fragment,{children:["Bunu Ge√ß ",e.jsx(Ep,{})]})})})]})]}):e.jsx("div",{style:Ve.container,children:"Y√ºkleniyor..."})},Ve={container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#1e1f22",color:"white",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif",alignItems:"center"},header:{width:"100%",maxWidth:"600px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},backBtn:{color:"#b9bbbe",textDecoration:"none",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},scoreBadge:{backgroundColor:"#f0b232",color:"#000",padding:"5px 15px",borderRadius:"20px",fontWeight:"bold"},mainContent:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},card:{backgroundColor:"#2b2d31",padding:"40px",borderRadius:"24px",width:"100%",maxWidth:"500px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",border:"3px solid transparent",transition:"all 0.3s ease"},difficulty:{padding:"4px 12px",borderRadius:"12px",fontSize:"0.85em",marginBottom:"20px",fontWeight:"bold"},wordText:{fontSize:"2.2em",fontWeight:"800",margin:"0 0 10px 0",color:"#fff",letterSpacing:"1px",lineHeight:"1.3"},controls:{display:"flex",alignItems:"center",gap:"30px",marginTop:"30px"},iconButton:{width:"50px",height:"50px",borderRadius:"50%",border:"2px solid #40444b",backgroundColor:"transparent",color:"#b9bbbe",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},micButton:{width:"80px",height:"80px",borderRadius:"50%",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 5px 20px rgba(0,0,0,0.4)",transition:"all 0.1s ease"},hint:{marginTop:"20px",color:"#72767d",fontSize:"0.9em"},bottomNav:{marginTop:"50px"},skipButton:{background:"transparent",border:"none",color:"#b9bbbe",fontSize:"1.1em",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",padding:"10px 20px",borderRadius:"8px",transition:"background 0.2s",":hover":{backgroundColor:"rgba(255,255,255,0.05)"}}},zx=c.memo(Ox),Mx=({apiBaseUrl:i})=>{const[s,n]=t.useState("loading"),f=rs(),u=Dl();return t.useEffect(()=>{const h=new URLSearchParams(u.search),w=h.get("code");if(h.get("error")){n("error");return}if(w){const P=localStorage.getItem("access_token");fetch(`${i}/spotify/callback/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P}`},body:JSON.stringify({code:w})}).then(L=>{L.ok?(n("success"),setTimeout(()=>{f("/",{replace:!0})},1500)):n("error")}).catch(L=>{n("error")})}},[u,i,f]),e.jsx("div",{style:Co.container,children:e.jsxs("div",{style:Co.card,children:[s==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx(Ul,{className:"spin",size:50,color:"#1db954",style:{marginBottom:20}}),e.jsx("h2",{children:"Spotify Baƒülanƒ±yor..."}),e.jsx("p",{children:"Token alƒ±nƒ±yor, l√ºtfen bekleyin."})]}),s==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(Oo,{size:60,color:"#1db954",style:{marginBottom:20}}),e.jsx("h2",{style:{color:"#1db954"},children:"Ba≈üarƒ±lƒ±!"}),e.jsx("p",{children:"Hesabƒ±n baƒülandƒ±. Sohbet ekranƒ±na d√∂n√ºl√ºyor..."})]}),s==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(zo,{size:60,color:"#f04747",style:{marginBottom:20}}),e.jsx("h2",{style:{color:"#f04747"},children:"Hata Olu≈ütu"}),e.jsx("p",{children:"Baƒülantƒ± kurulamadƒ±."}),e.jsx("button",{onClick:()=>f("/"),style:Co.button,children:"Geri D√∂n"})]})]})})},Co={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100dvh",backgroundColor:"#191414",color:"white",fontFamily:"Poppins, sans-serif"},card:{backgroundColor:"#282828",padding:"40px",borderRadius:"16px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",maxWidth:"400px",width:"90%"},button:{marginTop:"20px",padding:"10px 20px",borderRadius:"20px",border:"none",backgroundColor:"#1db954",color:"white",fontWeight:"bold",cursor:"pointer"}},Ql=document.createElement("style");Ql.innerText=`
  .spin { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
`;document.head.appendChild(Ql);const Bx=c.memo(Mx),Ux=()=>{const{globalData:i}=ql(),[s,n]=t.useState(null),[f,u]=t.useState(!1),h=rs();if(t.useEffect(()=>{if(i&&i.type==="chat_message_handler"&&i.username==="‚ö° Signal Bot"){const C=i.content.split(`
`),P=C.find(O=>O.includes("ü™ô"))||"Bilinmiyor",L=C.find(O=>O.includes("üìà"))||"",H={title:"YENƒ∞ KRƒ∞PTO Sƒ∞NYALƒ∞! üö®",coin:P.replace("ü™ô","").replace(/\*/g,"").trim(),direction:L.includes("LONG")?"Y√úKSELƒ∞≈û (LONG)":"D√ú≈û√ú≈û (SHORT)",isLong:L.includes("LONG"),raw:i};n(H),u(!0);const D=setTimeout(()=>{u(!1)},8e3);return()=>clearTimeout(D)}},[i]),!f||!s)return null;const w=()=>{u(!1),h("/")};return e.jsxs("div",{style:At.container,className:"slide-in-notification",children:[e.jsx("div",{style:At.iconBox,children:e.jsx(Tp,{size:24,color:"#f0b232"})}),e.jsxs("div",{style:At.content,onClick:w,children:[e.jsx("h4",{style:At.title,children:s.title}),e.jsxs("div",{style:At.details,children:[e.jsx("span",{style:At.coinName,children:s.coin}),e.jsx("span",{style:{...At.directionBadge,backgroundColor:s.isLong?"rgba(35, 165, 89, 0.2)":"rgba(240, 71, 71, 0.2)",color:s.isLong?"#23a559":"#da373c"},children:s.direction})]}),e.jsxs("span",{style:At.hint,children:["Detaylar i√ßin tƒ±kla ",e.jsx(Pp,{size:10})]})]}),e.jsx("button",{onClick:C=>{C.stopPropagation(),u(!1)},style:At.closeButton,children:e.jsx(Tr,{})})]})},At={container:{position:"fixed",top:"20px",right:"20px",width:"320px",backgroundColor:"#1e1f22",borderRadius:"8px",boxShadow:"0 8px 20px rgba(0,0,0,0.5)",borderLeft:"5px solid #f0b232",display:"flex",alignItems:"center",padding:"15px",zIndex:99999,cursor:"pointer",transition:"transform 0.3s ease-out"},iconBox:{marginRight:"15px",display:"flex",alignItems:"center"},content:{flex:1,display:"flex",flexDirection:"column"},title:{margin:0,color:"#fff",fontSize:"0.95em",fontWeight:"bold",marginBottom:"5px"},details:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"},coinName:{color:"#dcddde",fontWeight:"bold",fontSize:"1.1em"},directionBadge:{fontSize:"0.75em",padding:"2px 6px",borderRadius:"4px",fontWeight:"bold"},hint:{fontSize:"0.7em",color:"#949ba4",display:"flex",alignItems:"center",gap:"5px"},closeButton:{background:"none",border:"none",color:"#949ba4",cursor:"pointer",padding:"5px",marginLeft:"10px",fontSize:"1em"}},ec=document.createElement("style");ec.innerText=`
  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  .slide-in-notification {
    animation: slideInRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  }
`;document.head.appendChild(ec);function Vx(i={}){const{nonce:s,onScriptLoadSuccess:n,onScriptLoadError:f}=i,[u,h]=t.useState(!1),w=t.useRef(n);w.current=n;const C=t.useRef(f);return C.current=f,t.useEffect(()=>{const P=document.createElement("script");return P.src="https://accounts.google.com/gsi/client",P.async=!0,P.defer=!0,P.nonce=s,P.onload=()=>{var L;h(!0),(L=w.current)===null||L===void 0||L.call(w)},P.onerror=()=>{var L;h(!1),(L=C.current)===null||L===void 0||L.call(C)},document.body.appendChild(P),()=>{document.body.removeChild(P)}},[s]),u}const $x=t.createContext(null);function Nx({clientId:i,nonce:s,onScriptLoadSuccess:n,onScriptLoadError:f,children:u}){const h=Vx({nonce:s,onScriptLoadSuccess:n,onScriptLoadError:f}),w=t.useMemo(()=>({clientId:i,scriptLoadedSuccessfully:h}),[i,h]);return c.createElement($x.Provider,{value:w},u)}const Ee=({children:i})=>{const s=Ir.isNativePlatform();return e.jsx("div",{style:{width:"100%",height:"100dvh",boxSizing:"border-box",paddingTop:s?"max(35px, env(safe-area-inset-top))":"0px",backgroundColor:"#1e1f22",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:i})};class Fx extends c.Component{constructor(n){super(n);Gs(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,f){if(tn(n)){Lx(n);return}this.setState({error:n,errorInfo:f});try{const u=typeof window<"u"&&window.__PAWSCORD_API_BASE__||"https://api.pawscord.com/api";fetch(`${u}/errors/report/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:n?.toString(),stack:n?.stack,componentStack:f?.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})}).catch(()=>{})}catch{}}render(){return this.state.hasError?e.jsx("div",{style:Lt.container,children:e.jsxs("div",{style:Lt.content,children:[e.jsx("div",{style:Lt.icon,children:"üí•"}),e.jsx("h1",{style:Lt.title,children:"Oops! Bir ≈üeyler ters gitti"}),e.jsx("p",{style:Lt.message,children:"√úzg√ºn√ºz, uygulama beklenmedik bir hatayla kar≈üƒ±la≈ütƒ±."}),e.jsxs("div",{style:Lt.actions,children:[e.jsx("button",{onClick:this.handleReset,style:Lt.button,children:"üîÑ Yeniden Ba≈ülat"}),e.jsx("button",{onClick:()=>window.location.href="/",style:{...Lt.button,...Lt.buttonSecondary},children:"üè† Ana Sayfaya D√∂n"})]}),!1]})}):this.props.children}}const Lt={container:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#1E1F22",color:"#FFFFFF",padding:"20px",fontFamily:"'Inter', sans-serif"},content:{textAlign:"center",maxWidth:"600px",padding:"40px",background:"linear-gradient(135deg, #2B2D31 0%, #1E1F22 100%)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},icon:{fontSize:"80px",marginBottom:"20px",animation:"shake 0.5s ease-in-out"},title:{fontSize:"32px",fontWeight:"bold",marginBottom:"16px",color:"#FFFFFF"},message:{fontSize:"16px",color:"#B9BBBE",marginBottom:"32px",lineHeight:"1.6"},actions:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},button:{padding:"12px 24px",fontSize:"16px",fontWeight:"600",border:"none",borderRadius:"8px",cursor:"pointer",backgroundColor:"#5865F2",color:"#FFFFFF",transition:"all 0.2s",":hover":{backgroundColor:"#4752C4"}},buttonSecondary:{backgroundColor:"#4E5058",":hover":{backgroundColor:"#6A6F78"}}},Wx={async post(i,s,n={}){const f={"Content-Type":"application/json",...n.headers};try{const u=await Ao(i,{method:"POST",headers:f,body:JSON.stringify(s),credentials:"include"}),h=await u.json();if(!u.ok){const w=new Error(h.error||"Request failed");throw w.response={data:h,status:u.status},w}return{data:h,status:u.status}}catch(u){if(u.message==="No refresh token available"){const h=await fetch(i,{method:"POST",headers:f,body:JSON.stringify(s),credentials:"include"}),w=await h.json();if(!h.ok){const C=new Error(w.error||"Request failed");throw C.response={data:w,status:h.status},C}return{data:w,status:h.status}}throw u}},async get(i,s={}){const n={"Content-Type":"application/json",...s.headers};try{const f=await Ao(i,{method:"GET",headers:n,credentials:"include"}),u=await f.json();if(!f.ok){const h=new Error(u.error||"Request failed");throw h.response={data:u,status:f.status},h}return{data:u,status:f.status}}catch(f){if(f.message==="No refresh token available"){const u=await fetch(i,{method:"GET",headers:n,credentials:"include"}),h=await u.json();if(!u.ok){const w=new Error(h.error||"Request failed");throw w.response={data:h,status:u.status},w}return{data:h,status:u.status}}throw f}}},Yx=({apiBaseUrl:i})=>{const[s]=Xf(),n=rs(),{login:f}=ar(),[u,h]=t.useState("processing"),[w,C]=t.useState(null),P=t.useRef(!1);return t.useEffect(()=>{(async()=>{if(P.current)return;P.current=!0;const H=s.get("code"),D=s.get("access_token"),O=s.get("refresh_token"),N=s.get("error"),ee=s.get("needs_password")==="true";if(N){h("error"),C("Google giri≈ü ba≈üarƒ±sƒ±z oldu. L√ºtfen tekrar deneyin."),setTimeout(()=>n("/"),3e3);return}if(D&&O){try{localStorage.setItem("access_token",D),localStorage.setItem("refresh_token",O),f&&await f(D,O),h("success"),setTimeout(()=>{n(ee?"/settings?section=security&action=set-password":"/")},1500)}catch{h("error"),C("Token i≈üleme hatasƒ±."),setTimeout(()=>n("/"),3e3)}return}if(!H){h("error"),C("Yetkilendirme bilgisi bulunamadƒ±."),setTimeout(()=>n("/"),3e3);return}try{h("exchanging");const F=`${i}/auth/exchange-code/`,Y=await Wx.post(F,{code:H});if(Y.data.success){const{access_token:te,refresh_token:G,user_id:ge,needs_password:fe}=Y.data;localStorage.setItem("access_token",te),localStorage.setItem("refreshToken",G),f&&await f(te,G),h("success"),setTimeout(fe?()=>{n("/settings?section=security&action=set-password")}:()=>{n("/")},1500)}else throw new Error(Y.data.error||"Token exchange failed")}catch(F){h("error"),C(F.response?.data?.error||"Giri≈ü i≈ülemi ba≈üarƒ±sƒ±z oldu."),setTimeout(()=>n("/"),3e3)}})()},[s,n,f,i]),e.jsx("div",{className:"auth-callback-container",children:e.jsxs("div",{className:"auth-callback-card",children:[u==="processing"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"auth-spinner"}),e.jsx("h2",{children:"ƒ∞≈üleniyor..."}),e.jsx("p",{children:"Google hesabƒ±nƒ±z doƒürulanƒ±yor"})]}),u==="exchanging"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"auth-spinner"}),e.jsx("h2",{children:"Giri≈ü Yapƒ±lƒ±yor..."}),e.jsx("p",{children:"G√ºvenli baƒülantƒ± kuruluyor"})]}),u==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"auth-success-icon",children:"‚úì"}),e.jsx("h2",{children:"Giri≈ü Ba≈üarƒ±lƒ±!"}),e.jsx("p",{children:"Y√∂nlendiriliyorsunuz..."})]}),u==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"auth-error-icon",children:"‚úï"}),e.jsx("h2",{children:"Hata"}),e.jsx("p",{children:w}),e.jsx("p",{className:"auth-redirect-text",children:"Ana sayfaya y√∂nlendiriliyorsunuz..."})]})]})})},Gx=$e(()=>d(()=>import("./EnglishHub-DKHg7uXI.js"),__vite__mapDeps([339,2,3,4,5]))),Hx=$e(()=>d(()=>import("./GrammarQuizPage-CPvt1rDR.js"),__vite__mapDeps([340,2,3,4,5,341,1,6,7]))),Kx=$e(()=>d(()=>import("./EnglishLearningPage-CE0DXiGb.js"),__vite__mapDeps([342,2,3,4,341,1,5,6,7]))),qx=$e(()=>d(()=>import("./CryptoDashboard-C9ku-ZsB.js"),__vite__mapDeps([343,2,3,4,5,1,6,7]))),Jx=$e(()=>d(()=>import("./CryptoSignals-8Gwa8org.js"),__vite__mapDeps([344,2,3,5,4,1,6,7]))),Zx=({children:i})=>{const{token:s,isAuthenticated:n}=ar(),[f,u]=t.useState(null),h=t.useRef(!1);return t.useEffect(()=>{if(!n||!s){u(!1),h.current=!1;return}h.current||(async()=>{try{const w=await fetch(`${rt}/users/me/`,{headers:{Authorization:`Bearer ${s}`}});if(w.ok){const C=await w.json();u(!!C.is_whitelisted),h.current=!0}else w.status===401||u(!1)}catch{u(!1)}})()},[n,s]),f===null?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#1e1f22",color:"#f0b232",fontSize:18},children:"‚è≥ Kontrol ediliyor..."}):f?i:e.jsx(tp,{to:"/",replace:!0})},Xx=$e(()=>d(()=>import("./ForgotPasswordPage-BCVCQKSL.js"),__vite__mapDeps([125,2,3,5,37,4]))),Qx=$e(()=>d(()=>import("./ResetPasswordPage-DMf-pEAa.js"),__vite__mapDeps([126,2,3,5,4]))),eb=$e(()=>d(()=>import("./TwoFactorLoginPage-DlYvIAWc.js"),__vite__mapDeps([127,2,3,4,5,1,6,7]))),tb=$e(()=>d(()=>import("./VerifyEmailPage-apDpmfAT.js"),__vite__mapDeps([124,2,3,5,4]))),Ll=$e(()=>d(()=>import("./PrivacyPolicyPage-BXrwAPmg.js"),__vite__mapDeps([345,2,3]))),rb=$e(()=>d(()=>import("./StorePage-Nz2lMEvT.js"),__vite__mapDeps([346,2,3,1,4,5,6,7]))),sb=$e(()=>d(()=>import("./LandingPage-BNzZcyfr.js"),__vite__mapDeps([347,2,3,151,1,4,5,6,7,348]))),nb=$e(()=>d(()=>import("./ReferralProgram-BVT5Ad7U.js"),__vite__mapDeps([349,2,3,151,1,4,5,6,7,350]))),ob=$e(()=>d(()=>import("./GrowthDashboard-pqllXsZ7.js"),__vite__mapDeps([351,2,3,151,352]))),ab=$e(()=>d(()=>import("./ToastDemo-Dx6wxFuG.js"),__vite__mapDeps([353,2,3,1,4,5,6,7,354]))),ib=Yl,lb=()=>(t.useEffect(()=>{const i=setTimeout(()=>{try{Nl()}catch{}},500);if("requestIdleCallback"in window)window.requestIdleCallback(()=>{try{Po()}catch{}},{timeout:1500});else{const s=setTimeout(()=>{try{Po()}catch{}},2e3);return()=>clearTimeout(s)}return()=>clearTimeout(i)},[]),e.jsx(Nx,{clientId:ib,children:e.jsx(xm,{children:e.jsx(km,{children:e.jsx(Fx,{children:e.jsxs(Qf,{children:[e.jsx(Ux,{}),e.jsxs(ep,{children:[e.jsx(we,{path:"/verify/:token",element:e.jsx(Ee,{children:e.jsx(Px,{})})}),e.jsx(we,{path:"/verify-email/:token",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(tb,{apiBaseUrl:rt})})})}),e.jsx(we,{path:"/forgot-password",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Xx,{apiBaseUrl:rt})})})}),e.jsx(we,{path:"/reset-password/:token",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Qx,{apiBaseUrl:rt})})})}),e.jsx(we,{path:"/2fa-login",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(eb,{apiBaseUrl:rt})})})}),e.jsx(we,{path:"/auth/callback",element:e.jsx(Ee,{children:e.jsx(Yx,{apiBaseUrl:Dt})})}),e.jsx(we,{path:"/privacy-policy",element:e.jsx(c.Suspense,{fallback:e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:e.jsx(Ll,{})})}),e.jsx(we,{path:"/terms-of-service",element:e.jsx(c.Suspense,{fallback:e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:e.jsx(Ll,{})})}),e.jsx(we,{path:"/store",element:e.jsx(c.Suspense,{fallback:e.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:e.jsx(rb,{})})}),e.jsx(we,{path:"/launch",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(sb,{apiBaseUrl:rt})})})}),e.jsx(we,{path:"/referral",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(nb,{apiBaseUrl:rt})})})}),e.jsx(we,{path:"/growth-dashboard",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(ob,{apiBaseUrl:rt})})})}),e.jsx(we,{path:"/toast-demo",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(ab,{})})})}),e.jsx(we,{path:"/invite/:code",element:e.jsx(Ee,{children:e.jsx(Ix,{})})}),e.jsx(we,{path:"/spotify-callback",element:e.jsx(Ee,{children:e.jsx(Bx,{apiBaseUrl:rt})})}),e.jsx(we,{path:"/eng-learn",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Gx,{})})})}),e.jsx(we,{path:"/eng-learn/vocab",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Kx,{})})})}),e.jsx(we,{path:"/eng-learn/grammar",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Hx,{})})})}),e.jsx(we,{path:"/eng-learn/voice",element:e.jsx(Ee,{children:e.jsx(Dx,{apiBaseUrl:rt})})}),e.jsx(we,{path:"/eng-learn/pronunciation",element:e.jsx(Ee,{children:e.jsx(zx,{apiBaseUrl:rt})})}),e.jsx(we,{path:"/crypto-analysis",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(Zx,{children:e.jsx(Jx,{})})})})}),e.jsx(we,{path:"/crypto-dashboard-old",element:e.jsx(Ee,{children:e.jsx(c.Suspense,{fallback:e.jsx("div",{children:"Y√ºkleniyor..."}),children:e.jsx(qx,{})})})}),e.jsx(we,{path:"/*",element:e.jsx(Cx,{})})]})]})})})})}));window.addEventListener("unhandledrejection",i=>{const s=i?.reason?.message||"";if(s.includes("Failed to fetch dynamically imported module")||s.includes("Loading chunk")||s.includes("ChunkLoadError")){const n="pawscord_chunk_reload",f="pawscord_chunk_reload_count",u=sessionStorage.getItem(n),h=parseInt(sessionStorage.getItem(f)||"0",10),w=Date.now();if(h>=2)return;(!u||w-parseInt(u,10)>1e4)&&(sessionStorage.setItem(n,w.toString()),sessionStorage.setItem(f,(h+1).toString()),i.preventDefault(),window.location.reload())}});window.addEventListener("load",()=>{setTimeout(()=>{sessionStorage.removeItem("pawscord_chunk_reload_count")},5e3)});const cb=Zf.createRoot(document.getElementById("root"));cb.render(e.jsx(lb,{}));export{rt as A,Ir as C,Vp as G,Io as T,hm as W,ar as a,tS as b,rS as c,Le as d,um as e,Yt as f,eS as g,Qb as h,Fl as i,Xb as j,em as k,We as l,wm as m,sm as n,gm as o,lm as p,Dt as q,$l as r,Mo as s,V as t,ql as u};

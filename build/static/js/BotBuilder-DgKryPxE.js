import{r as l,d as e,X as I,bK as R,E as A,aC as F,bu as H}from"./react-core-DrOm_csO.js";import{t as i,g as T}from"./index-BYhWpPLp.js";import{a as W}from"./index-D5GkNzM3.js";const K=({onClose:d,serverSlug:f,token:h,isMobile:r})=>{const[p,v]=l.useState(""),[u,E]=l.useState("ðŸ¤–"),[o,c]=l.useState([{id:1,trigger:"!hello",response:"Hello! How can I help you?",enabled:!0}]),[C,j]=l.useState({onMemberJoin:{enabled:!1,message:"Welcome {{username}} to {{server}}!"},onMemberLeave:{enabled:!1,message:"Goodbye {{username}}. We will miss you!"},onMessageDelete:{enabled:!1,action:"log"}}),[g,B]=l.useState({spamDetection:!1,profanityFilter:!1,capsLimit:70,linkBlocking:!1}),[s,y]=l.useState(!1),w=()=>{c([...o,{id:Date.now(),trigger:"",response:"",enabled:!0}])},m=(a,n,b)=>{c(o.map(x=>x.id===a?{...x,[n]:b}:x))},k=a=>{o.length>1&&c(o.filter(n=>n.id!==a))},S=async()=>{if(!p.trim()){i.error("âŒ Please enter a bot name");return}const a=o.filter(n=>n.trigger&&n.response);if(a.length===0){i.error("âŒ Please add at least one valid command");return}y(!0);try{const n={server_slug:f,name:p,avatar:u,commands:a,events:C,auto_moderation:g};await W.post(`${T()}/bots/create/`,n,{headers:{Authorization:`Bearer ${h}`}}),i.success("âœ… Bot created successfully!"),d()}catch(n){console.error("Failed to create bot:",n),i.error("âŒ Failed to create bot. Please try again.")}finally{y(!1)}},z=a=>{i.info(`ðŸ“‹ Test Output:

${a.response}`)},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:r?"0":"20px"},modal:{background:"linear-gradient(135deg, rgba(30, 31, 34, 0.98), rgba(35, 36, 40, 0.98))",borderRadius:r?"0":"16px",width:"100%",maxWidth:r?"100%":"900px",height:r?"100%":"auto",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(88, 101, 242, 0.3)",border:r?"none":"1px solid rgba(88, 101, 242, 0.4)"},header:{padding:r?"16px":"20px 24px",background:"linear-gradient(135deg, rgba(88, 101, 242, 0.15), rgba(114, 137, 218, 0.15))",borderBottom:"1px solid rgba(88, 101, 242, 0.3)",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{fontSize:r?"20px":"24px",fontWeight:"700",color:"rgba(255, 255, 255, 0.95)",margin:0,display:"flex",alignItems:"center",gap:"10px"},content:{flex:1,overflowY:"auto",padding:r?"16px":"24px"},section:{marginBottom:"24px"},sectionTitle:{fontSize:"18px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},inputGroup:{marginBottom:"16px"},label:{display:"block",fontSize:"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",marginBottom:"8px"},input:{width:"100%",padding:"12px 14px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.95)",fontSize:"15px",outline:"none",boxSizing:"border-box",transition:"all 0.2s ease"},textarea:{width:"100%",minHeight:"80px",padding:"12px 14px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.95)",fontSize:"14px",outline:"none",resize:"vertical",fontFamily:"inherit",boxSizing:"border-box"},commandCard:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"12px",padding:r?"12px":"16px",marginBottom:"12px"},commandHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},commandActions:{display:"flex",gap:"8px"},iconBtn:{background:"rgba(88, 101, 242, 0.2)",border:"1px solid rgba(88, 101, 242, 0.4)",borderRadius:"6px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"rgba(255, 255, 255, 0.9)",transition:"all 0.2s ease",fontSize:"14px"},deleteBtn:{background:"rgba(218, 55, 60, 0.2)",border:"1px solid rgba(218, 55, 60, 0.4)",color:"#da373c"},addBtn:{width:"100%",padding:"12px",background:"rgba(88, 101, 242, 0.2)",border:"1px solid rgba(88, 101, 242, 0.4)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"15px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease",minHeight:"44px"},toggle:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},switch:a=>({width:"50px",height:"28px",background:a?"linear-gradient(135deg, #43b581, #4caf50)":"rgba(255, 255, 255, 0.2)",borderRadius:"14px",position:"relative",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid rgba(88, 101, 242, 0.3)"}),switchKnob:a=>({width:"22px",height:"22px",background:"white",borderRadius:"50%",position:"absolute",top:"1px",left:a?"24px":"1px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}),footer:{padding:r?"16px":"20px 24px",borderTop:"1px solid rgba(88, 101, 242, 0.2)",display:"flex",gap:"12px",background:"rgba(0, 0, 0, 0.2)"},cancelBtn:{flex:1,padding:"14px",background:"rgba(78, 80, 88, 0.5)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",minHeight:"44px"},saveBtn:{flex:1,padding:"14px",background:"linear-gradient(135deg, #5865f2, #7289da)",border:"none",borderRadius:"8px",color:"white",fontSize:"16px",fontWeight:"600",cursor:s?"not-allowed":"pointer",opacity:s?.6:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",minHeight:"44px"}};return e.createElement("div",{style:t.overlay,onClick:d},e.createElement("div",{style:t.modal,onClick:a=>a.stopPropagation()},e.createElement("div",{style:t.header},e.createElement("h2",{style:t.title},e.createElement(I,null),"Custom Bot Builder")),e.createElement("div",{style:t.content},e.createElement("div",{style:t.section},e.createElement("h3",{style:t.sectionTitle},"ðŸ¤– Basic Information"),e.createElement("div",{style:t.inputGroup},e.createElement("label",{style:t.label},"Bot Name"),e.createElement("input",{type:"text",value:p,onChange:a=>v(a.target.value),placeholder:"My Awesome Bot",style:t.input,maxLength:32})),e.createElement("div",{style:t.inputGroup},e.createElement("label",{style:t.label},"Bot Avatar (Emoji)"),e.createElement("input",{type:"text",value:u,onChange:a=>E(a.target.value),placeholder:"ðŸ¤–",style:t.input,maxLength:2}))),e.createElement("div",{style:t.section},e.createElement("h3",{style:t.sectionTitle},"âš¡ Commands"),o.map(a=>e.createElement("div",{key:a.id,style:t.commandCard},e.createElement("div",{style:t.commandHeader},e.createElement("div",{style:t.toggle},e.createElement("div",{style:t.switch(a.enabled),onClick:()=>m(a.id,"enabled",!a.enabled)},e.createElement("div",{style:t.switchKnob(a.enabled)})),e.createElement("span",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px"}},a.enabled?"Enabled":"Disabled")),e.createElement("div",{style:t.commandActions},e.createElement("button",{onClick:()=>z(a),style:t.iconBtn,title:"Test Command"},e.createElement(R,null)),o.length>1&&e.createElement("button",{onClick:()=>k(a.id),style:{...t.iconBtn,...t.deleteBtn},title:"Delete Command"},e.createElement(A,null)))),e.createElement("div",{style:t.inputGroup},e.createElement("label",{style:t.label},"Trigger (e.g., !hello)"),e.createElement("input",{type:"text",value:a.trigger,onChange:n=>m(a.id,"trigger",n.target.value),placeholder:"!command",style:t.input})),e.createElement("div",{style:t.inputGroup},e.createElement("label",{style:t.label},"Response"),e.createElement("textarea",{value:a.response,onChange:n=>m(a.id,"response",n.target.value),placeholder:"Bot response here...",style:t.textarea})))),e.createElement("button",{onClick:w,style:t.addBtn},e.createElement(F,null),"Add Command")),e.createElement("div",{style:t.section},e.createElement("h3",{style:t.sectionTitle},"ðŸ›¡ï¸ Auto Moderation"),Object.entries(g).map(([a,n])=>typeof n=="boolean"?e.createElement("div",{key:a,style:t.toggle},e.createElement("div",{style:t.switch(n),onClick:()=>B({...g,[a]:!n})},e.createElement("div",{style:t.switchKnob(n)})),e.createElement("span",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px"}},a.replace(/([A-Z])/g," $1").replace(/^./,b=>b.toUpperCase()))):null))),e.createElement("div",{style:t.footer},e.createElement("button",{onClick:d,style:t.cancelBtn},"Cancel"),e.createElement("button",{onClick:S,disabled:s,style:t.saveBtn},e.createElement(H,null),s?"Creating...":"Create Bot"))))};export{K as default};

import{r as a,b as e}from"./react-core-DFLfBPkm.js";import{a as u,b as f}from"./router-vendor-BjbMlE9x.js";import"./chart-vendor-CPuFblPm.js";import"./editor-vendor-DiU449Dh.js";const v=()=>{const{token:o}=u(),t=f(),[r,i]=a.useState("verifying"),[l,s]=a.useState("Verifying your email...");a.useEffect(()=>{m()},[o]);const m=async()=>{try{const c=await(await fetch("/api/auth/verify-email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o})})).json();c.success?(i("success"),s("Email verified successfully! Redirecting..."),setTimeout(()=>{t("/login")},3e3)):(i("error"),s(c.error||"Verification failed"))}catch(n){console.error("Verification error:",n),i("error"),s("An error occurred during verification")}};return e.createElement("div",{className:"email-verification"},e.createElement("div",{className:"verification-card"},e.createElement("div",{className:`status-icon ${r}`},r==="verifying"&&e.createElement("div",{className:"spinner"}),r==="success"&&e.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("path",{d:"M20 6L9 17l-5-5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),r==="error"&&e.createElement("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},e.createElement("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),e.createElement("path",{d:"M15 9l-6 6M9 9l6 6",strokeWidth:"2",strokeLinecap:"round"}))),e.createElement("h2",null,r==="success"?"Email Verified!":r==="error"?"Verification Failed":"Verifying Email"),e.createElement("p",null,l),r==="success"&&e.createElement("button",{className:"btn-primary",onClick:()=>t("/login")},"Go to Login"),r==="error"&&e.createElement("button",{className:"btn-secondary",onClick:()=>t("/register")},"Back to Registration")))};export{v as default};

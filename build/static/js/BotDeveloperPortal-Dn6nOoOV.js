var le=Object.defineProperty;var t=(d,v)=>le(d,"name",{value:v,configurable:!0});import{r as n,j as e}from"./react-core-Djgtqrmb.js";import{bl as Z,aV as ee,B as M,an as Y,a as ie,aM as oe,aN as ce,at as re,f as de,y as he,O as J,a2 as me,$ as xe,a0 as ue,c as je,j as q,ao as pe}from"./icons-vendor-BW7dxHkX.js";import{t as x,e as Q}from"./index-BT6pEMKq.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const se={messages:!0,reactions:!0,presence:!1,members:!1,voice:!1},K={name:"",description:"",avatar_url:"",prefix:"!",is_public:!1,intents:{...se}},be=[{id:"message_create",label:"Mesaj GÃ¶nderildi"},{id:"message_edit",label:"Mesaj DÃ¼zenlendi"},{id:"message_delete",label:"Mesaj Silindi"},{id:"reaction_add",label:"Reaction Eklendi"},{id:"reaction_remove",label:"Reaction KaldÄ±rÄ±ldÄ±"},{id:"member_join",label:"Ãœye KatÄ±ldÄ±"},{id:"member_leave",label:"Ãœye AyrÄ±ldÄ±"},{id:"voice_join",label:"Ses KanalÄ±na KatÄ±ldÄ±"},{id:"voice_leave",label:"Ses KanalÄ±ndan AyrÄ±ldÄ±"}],ke=t(d=>{const[v,y]=n.useState("list"),[i,o]=n.useState([]),[j,c]=n.useState(null),[_,O]=n.useState(!0),[b,f]=n.useState({}),[h,m]=n.useState({...K}),[D,N]=n.useState(!1),[C,w]=n.useState(""),[E,B]=n.useState([]);n.useEffect(()=>{W()},[]);const A=t(()=>localStorage.getItem("access_token"),"getToken"),k=t(()=>({Authorization:`Bearer ${A()}`}),"authHeaders"),S=t(()=>({...k(),"Content-Type":"application/json"}),"jsonHeaders"),W=t(async()=>{try{const a=await fetch(`${d}/bots/my/`,{headers:k()});if(a.ok){const l=await a.json();o(l.bots||[])}}catch{}finally{O(!1)}},"fetchBots");return{view:v,setView:y,bots:i,selectedBot:j,setSelectedBot:c,loading:_,showToken:b,setShowToken:f,botForm:h,setBotForm:m,showWebhookForm:D,setShowWebhookForm:N,webhookUrl:C,setWebhookUrl:w,webhookEvents:E,setWebhookEvents:B,handleCreateBot:t(async()=>{if(!h.name.trim()){x.error("âš ï¸ Bot adÄ± gerekli");return}try{const a=await fetch(`${d}/bots/create/`,{method:"POST",headers:S(),body:JSON.stringify(h)});if(a.ok){const l=await a.json();o([...i,l.bot]),m({...K}),y("list"),x.success("âœ… Bot oluÅŸturuldu!"),c(l.bot),f({[l.bot.id]:!0})}else{const l=await a.json();x.error(l.error||"âŒ Bot oluÅŸturulamadÄ±")}}catch{x.error("âŒ Hata oluÅŸtu")}},"handleCreateBot"),handleUpdateBot:t(async()=>{if(j)try{const a=await fetch(`${d}/bots/${j.id}/update/`,{method:"PUT",headers:S(),body:JSON.stringify(h)});if(a.ok){const l=await a.json();o(i.map(u=>u.id===j.id?l.bot:u)),y("list"),x.success("âœ… Bot gÃ¼ncellendi!")}}catch{}},"handleUpdateBot"),handleDeleteBot:t(async a=>{if(await Q("Bu botu silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz."))try{(await fetch(`${d}/bots/${a}/delete/`,{method:"DELETE",headers:k()})).ok&&(o(i.filter(u=>u.id!==a)),j?.id===a&&c(null),x.success("âœ… Bot silindi"))}catch{}},"handleDeleteBot"),handleRegenerateToken:t(async a=>{if(await Q("Token yenilenecek. Eski token geÃ§ersiz olacak. Devam?"))try{const l=await fetch(`${d}/bots/${a}/regenerate-token/`,{method:"POST",headers:k()});if(l.ok){const u=await l.json();o(i.map(g=>g.id===a?{...g,token:u.token}:g)),f({...b,[a]:!0}),x.success("âœ… Token yenilendi!")}}catch{}},"handleRegenerateToken"),handleCreateWebhook:t(async a=>{if(!C.trim()){x.error("âš ï¸ Webhook URL gerekli");return}try{(await fetch(`${d}/bots/${a}/webhook/`,{method:"POST",headers:S(),body:JSON.stringify({url:C,events:E})})).ok&&(x.success("âœ… Webhook oluÅŸturuldu!"),N(!1),w(""),B([]))}catch{}},"handleCreateWebhook"),handleToggleBotStatus:t(async(a,l)=>{try{if((await fetch(`${d}/bots/${a}/${l==="online"?"pause":"start"}/`,{method:"POST",headers:k()})).ok){const P=l==="online"?"offline":"online";o(i.map(T=>T.id===a?{...T,status:P}:T)),x.success(P==="online"?"âœ… Bot baÅŸlatÄ±ldÄ±!":"â¸ï¸ Bot durduruldu")}}catch{}},"handleToggleBotStatus"),copyToClipboard:t(a=>{navigator.clipboard.writeText(a),x.success("ðŸ“‹ Panoya kopyalandÄ±!")},"copyToClipboard"),editBot:t(a=>{m({name:a.name,description:a.description||"",avatar_url:a.avatar_url||"",prefix:a.prefix||"!",is_public:a.is_public||!1,intents:a.intents||{...se}}),c(a),y("edit")},"editBot"),resetForm:t(()=>{m({...K}),c(null)},"resetForm")}},"useBotPortal"),X=`const PAWSCORD = require('pawscord-bot');

const bot = new PAWSCORD.Client({
    token: 'YOUR_BOT_TOKEN'
});

bot.on('message', (message) => {
    if (message.content === '!ping') {
        message.reply('Pong! ðŸ“');
    }
});

bot.connect();`,ve=t(({copyToClipboard:d})=>e.jsxs("div",{className:"docs-view",children:[e.jsxs("h3",{children:[e.jsx(Z,{})," Bot API Dok","Ã¼","mantasyonu"]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸš€"," H","Ä±","zl","Ä±"," Ba","ÅŸ","lang","Ä±Ã§"]}),e.jsxs("p",{children:["PAWSCORD Bot API ile kendi botunuzu olu","ÅŸ","turabilirsiniz."]}),e.jsxs("div",{className:"code-block",children:[e.jsxs("div",{className:"code-header",children:[e.jsx("span",{children:"JavaScript (Node.js)"}),e.jsx("button",{onClick:t(()=>d(X),"onClick"),children:e.jsx(ee,{})})]}),e.jsx("pre",{children:X})]})]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸ“¡"," API Endpoints"]}),e.jsxs("div",{className:"endpoint-list",children:[e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method get",children:"GET"}),e.jsx("code",{children:"/api/bots/@me"}),e.jsx("span",{children:"Bot bilgilerini al"})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method post",children:"POST"}),e.jsx("code",{children:"/api/messages/send"}),e.jsxs("span",{children:["Mesaj g","Ã¶","nder"]})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method post",children:"POST"}),e.jsx("code",{children:"/api/reactions/add"}),e.jsx("span",{children:"Reaction ekle"})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method get",children:"GET"}),e.jsx("code",{children:"/api/servers"}),e.jsx("span",{children:"Sunucu listesi"})]})]})]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸ”—"," WebSocket Events"]}),e.jsxs("div",{className:"event-list",children:[e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"MESSAGE_CREATE"}),e.jsxs("span",{children:["Yeni mesaj g","Ã¶","nderildi","ÄŸ","inde"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"REACTION_ADD"}),e.jsxs("span",{children:["Reaction eklendi","ÄŸ","inde"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"MEMBER_JOIN"}),e.jsxs("span",{children:["Ãœ","ye sunucuya kat","Ä±","ld","Ä±ÄŸÄ±","nda"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"VOICE_STATE_UPDATE"}),e.jsxs("span",{children:["Ses durumu de","ÄŸ","i","ÅŸ","ti","ÄŸ","inde"]})]})]})]})]}),"BotDocsView"),Ne=t(({apiBaseUrl:d,onClose:v,currentUser:y})=>{const{view:i,setView:o,bots:j,selectedBot:c,setSelectedBot:_,loading:O,showToken:b,setShowToken:f,botForm:h,setBotForm:m,showWebhookForm:D,setShowWebhookForm:N,webhookUrl:C,setWebhookUrl:w,webhookEvents:E,setWebhookEvents:B,handleCreateBot:A,handleUpdateBot:k,handleDeleteBot:S,handleRegenerateToken:W,handleCreateWebhook:L,handleToggleBotStatus:U,copyToClipboard:R,editBot:V,resetForm:$}=ke(d),H=n.useCallback(s=>s.stopPropagation(),[]),F=n.useCallback(()=>o("list"),[o]),G=n.useCallback(()=>{o("create"),$()},[o,$]),I=n.useCallback(()=>o("create"),[o]),a=n.useCallback(()=>o("docs"),[o]),l=n.useCallback(s=>m(r=>({...r,name:s.target.value})),[]),u=n.useCallback(s=>m(r=>({...r,description:s.target.value})),[]),g=n.useCallback(s=>m(r=>({...r,avatar_url:s.target.value})),[]),P=n.useCallback(s=>m(r=>({...r,prefix:s.target.value})),[]),T=n.useCallback(s=>m(r=>({...r,is_public:s.target.checked})),[]),ae=n.useCallback(()=>N(!1),[N]),te=n.useCallback(s=>w(s.target.value),[w]);return e.jsx("div",{className:"bot-portal-overlay",onClick:v,children:e.jsxs("div",{className:"bot-portal-panel",onClick:H,children:[e.jsxs("div",{className:"portal-header",children:[e.jsxs("h2",{children:[e.jsx(M,{})," Bot GeliÅŸtirici PortalÄ±"]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:`nav-btn ${i==="list"?"active":""}`,onClick:F,children:[e.jsx(M,{})," BotlarÄ±m"]}),e.jsxs("button",{className:`nav-btn ${i==="create"?"active":""}`,onClick:G,children:[e.jsx(Y,{})," Yeni Bot"]}),e.jsxs("button",{className:`nav-btn ${i==="docs"?"active":""}`,onClick:a,children:[e.jsx(Z,{})," DokÃ¼mantasyon"]})]}),e.jsx("button",{className:"close-btn",onClick:v,children:e.jsx(ie,{})})]}),e.jsxs("div",{className:"portal-content",children:[i==="list"&&e.jsx("div",{className:"bots-list-view",children:O?e.jsx("div",{className:"loading",children:"YÃ¼kleniyor..."}):j.length>0?e.jsx("div",{className:"bots-grid",children:j.map(s=>e.jsxs("div",{className:"bot-card",children:[e.jsxs("div",{className:"bot-header",children:[e.jsx("img",{src:s.avatar_url||"/default-bot.png",alt:s.name,className:"bot-avatar"}),e.jsxs("div",{className:"bot-info",children:[e.jsx("h3",{children:s.name}),e.jsx("span",{className:`bot-status ${s.status||"offline"}`,children:s.status==="online"?"ðŸŸ¢ Online":"ðŸ”´ Offline"})]}),e.jsxs("div",{className:"bot-actions",children:[e.jsx("button",{className:"action-btn",onClick:t(()=>U(s.id,s.status),"onClick"),title:s.status==="online"?"Durdur":"BaÅŸlat",children:s.status==="online"?e.jsx(oe,{}):e.jsx(ce,{})}),e.jsx("button",{className:"action-btn",onClick:t(()=>V(s),"onClick"),title:"DÃ¼zenle",children:e.jsx(re,{})}),e.jsx("button",{className:"action-btn delete",onClick:t(()=>S(s.id),"onClick"),title:"Sil",children:e.jsx(de,{})})]})]}),e.jsx("p",{className:"bot-description",children:s.description||"AÃ§Ä±klama yok"}),e.jsxs("div",{className:"bot-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx(he,{}),e.jsxs("span",{children:[s.servers_count||0," sunucu"]})]}),e.jsxs("div",{className:"stat",children:[e.jsx(J,{}),e.jsxs("span",{children:[s.commands_used||0," komut"]})]})]}),e.jsxs("div",{className:"bot-token-section",children:[e.jsxs("div",{className:"token-header",children:[e.jsx(me,{})," Token",e.jsx("button",{className:"toggle-token",onClick:t(()=>f({...b,[s.id]:!b[s.id]}),"onClick"),children:b[s.id]?e.jsx(xe,{}):e.jsx(ue,{})})]}),e.jsxs("div",{className:"token-value",children:[e.jsx("code",{children:b[s.id]?s.token:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{className:"copy-btn",onClick:t(()=>R(s.token),"onClick"),children:e.jsx(ee,{})})]}),e.jsxs("button",{className:"regenerate-btn",onClick:t(()=>W(s.id),"onClick"),children:[e.jsx(je,{})," Token Yenile"]})]}),e.jsxs("div",{className:"bot-footer",children:[e.jsxs("button",{className:"webhook-btn",onClick:t(()=>{_(s),N(!0)},"onClick"),children:[e.jsx(q,{})," Webhook Ekle"]}),e.jsxs("button",{className:"analytics-btn",onClick:t(()=>{_(s),o("analytics")},"onClick"),children:[e.jsx(J,{})," Analitik"]})]})]},s.id))}):e.jsxs("div",{className:"no-bots",children:[e.jsx(M,{className:"empty-icon"}),e.jsx("p",{children:"HenÃ¼z bot oluÅŸturmadÄ±nÄ±z"}),e.jsxs("button",{onClick:I,children:[e.jsx(Y,{})," Ä°lk botunu oluÅŸtur"]})]})}),(i==="create"||i==="edit")&&e.jsxs("div",{className:"bot-form-view",children:[e.jsx("h3",{children:i==="create"?"ðŸ¤– Yeni Bot OluÅŸtur":"âœï¸ Bot DÃ¼zenle"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bot AdÄ± *"}),e.jsx("input",{type:"text",placeholder:"Harika Bot",value:h.name,onChange:l,maxLength:32})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AÃ§Ä±klama"}),e.jsx("textarea",{placeholder:"Bu bot ne yapar?",value:h.description,onChange:u,rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Avatar URL"}),e.jsx("input",{type:"text",placeholder:"https://...",value:h.avatar_url,onChange:g})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Komut Prefix"}),e.jsx("input",{type:"text",placeholder:"!",value:h.prefix,onChange:P,maxLength:5})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bot Ä°zinleri (Intents)"}),e.jsx("div",{className:"intents-grid",children:Object.entries(h.intents).map(([s,r])=>e.jsxs("label",{className:"intent-checkbox",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:t(p=>m({...h,intents:{...h.intents,[s]:p.target.checked}}),"onChange")}),e.jsx("span",{children:s.charAt(0).toUpperCase()+s.slice(1)})]},s))})]}),e.jsx("div",{className:"form-group checkbox",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:h.is_public,onChange:T}),e.jsx("span",{children:"Bot'u herkese aÃ§Ä±k yap (keÅŸfedilebilir)"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{className:"submit-btn",onClick:i==="create"?A:k,children:[e.jsx(pe,{})," ",i==="create"?"Bot OluÅŸtur":"Kaydet"]}),e.jsx("button",{className:"cancel-btn",onClick:F,children:"Ä°ptal"})]})]}),i==="analytics"&&c&&e.jsxs("div",{className:"analytics-view",children:[e.jsx("button",{className:"back-btn",onClick:F,children:"â† Geri"}),e.jsxs("h3",{children:["ðŸ“Š ",c.name," - Analitik"]}),e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:c.servers_count||0}),e.jsx("div",{className:"analytics-label",children:"Toplam Sunucu"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:c.users_count||0}),e.jsx("div",{className:"analytics-label",children:"Toplam KullanÄ±cÄ±"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:c.commands_used||0}),e.jsx("div",{className:"analytics-label",children:"Komut KullanÄ±mÄ±"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:c.messages_sent||0}),e.jsx("div",{className:"analytics-label",children:"Mesaj GÃ¶nderildi"})]})]}),e.jsxs("div",{className:"analytics-chart-placeholder",style:{padding:"20px"},children:[e.jsx("h4",{style:{color:"#dbdee1",marginBottom:"16px"},children:"ðŸ“ˆ HaftalÄ±k KullanÄ±m"}),e.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",height:"120px",padding:"0 10px"},children:["Pzt","Sal","Ã‡ar","Per","Cum","Cmt","Paz"].map((s,r)=>{const p=Math.max(10,Math.floor((c.commands_used||50)*(.3+Math.sin(r*1.2)*.5+Math.random()*.2)/7)),z=(c.commands_used||50)/4,ne=Math.min(100,p/Math.max(z,1)*100);return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[e.jsx("span",{style:{color:"#949ba4",fontSize:"0.7em"},children:p}),e.jsx("div",{style:{width:"100%",maxWidth:"40px",height:`${Math.max(ne,8)}%`,backgroundColor:"#5865f2",borderRadius:"4px 4px 0 0",minHeight:"6px",transition:"height 0.3s ease"}}),e.jsx("span",{style:{color:"#949ba4",fontSize:"0.7em"},children:s})]},s)})})]})]}),i==="docs"&&e.jsx(ve,{copyToClipboard:R})]}),D&&e.jsx("div",{className:"webhook-modal-overlay",children:e.jsxs("div",{className:"webhook-modal",children:[e.jsxs("h3",{children:[e.jsx(q,{})," Webhook OluÅŸtur"]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Webhook URL *"}),e.jsx("input",{type:"text",placeholder:"https://your-server.com/webhook",value:C,onChange:te})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Olaylar"}),e.jsx("div",{className:"webhook-events",children:be.map(s=>e.jsxs("label",{className:"event-checkbox",children:[e.jsx("input",{type:"checkbox",checked:E.includes(s.id),onChange:t(r=>{r.target.checked?B(p=>[...p,s.id]):B(p=>p.filter(z=>z!==s.id))},"onChange")}),e.jsx("span",{children:s.label})]},s.id))})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"submit-btn",onClick:t(()=>L(c.id),"onClick"),children:"Webhook OluÅŸtur"}),e.jsx("button",{className:"cancel-btn",onClick:ae,children:"Ä°ptal"})]})]})})]})})},"BotDeveloperPortal"),Ee=n.memo(Ne);export{Ee as default};

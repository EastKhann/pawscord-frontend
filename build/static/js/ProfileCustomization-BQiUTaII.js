var k=Object.defineProperty;var i=(s,d)=>k(s,"name",{value:d,configurable:!0});import{r as u,j as e}from"./react-core-Djgtqrmb.js";import{ap as C,aY as _,bx as w}from"./icons-vendor-BW7dxHkX.js";import{t as z}from"./index-CjRzheBN.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const B={banner_url:"",banner_color:"#5865f2",theme_color:"#5865f2",accent_color:"#5865f2",bio_text:"",bio_background_color:"#2b2d31",show_badges:!0,show_activity:!0},R=i((s,d,p)=>{const[r,a]=u.useState(B),[b,f]=u.useState(!1),[g,m]=u.useState(!0);u.useEffect(()=>{y()},[s]);const y=i(async()=>{try{const l=await(await d(`${p}/users/${s}/customization/`)).json();l.customization&&a(l.customization)}catch{}finally{m(!1)}},"loadCustomization");return{customization:r,previewMode:b,setPreviewMode:f,loading:g,saveCustomization:i(async()=>{try{(await d(`${p}/users/${s}/customization/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&z.success("âœ… Profil Ã¶zelleÅŸtirmeleri kaydedildi!")}catch{}},"saveCustomization"),applyPreset:i(n=>{a(l=>({...l,theme_color:n.primary,accent_color:n.accent,bio_background_color:n.bg,banner_color:n.primary}))},"applyPreset"),uploadBanner:i(async n=>{const l=new FormData;l.append("banner",n);try{const v=await(await d(`${p}/users/${s}/upload-banner/`,{method:"POST",body:l})).json();v.banner_url&&a(j=>({...j,banner_url:v.banner_url}))}catch{}},"uploadBanner"),updateField:i((n,l)=>a(h=>({...h,[n]:l})),"updateField")}},"useProfileCustomization"),S=[{name:"Discord Purple",primary:"#5865f2",accent:"#4752c4",bg:"#2b2d31"},{name:"Sunset Orange",primary:"#f26522",accent:"#e04e1b",bg:"#2d2420"},{name:"Forest Green",primary:"#3ba55d",accent:"#2d7d46",bg:"#1f2b23"},{name:"Ocean Blue",primary:"#3498db",accent:"#2980b9",bg:"#1e2838"},{name:"Rose Pink",primary:"#e91e63",accent:"#c2185b",bg:"#2d1f26"},{name:"Golden Yellow",primary:"#faa61a",accent:"#f57c00",bg:"#2d2819"},{name:"Dark Red",primary:"#ed4245",accent:"#c03537",bg:"#2d1e1f"},{name:"Cyber Purple",primary:"#9b59b6",accent:"#8e44ad",bg:"#251f2d"}],t={container:{width:"100%",height:"100%",backgroundColor:"#313338",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #1e1f22",backgroundColor:"#2b2d31"},title:{margin:0,color:"#fff",fontSize:"20px",fontWeight:"600",display:"flex",alignItems:"center",gap:"10px"},headerActions:{display:"flex",gap:"12px"},previewButton:{backgroundColor:"#383a40",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},previewButtonActive:{backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},saveButton:{backgroundColor:"#3ba55d",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},editContainer:{flex:1,overflowY:"auto",padding:"20px"},section:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",marginBottom:"16px"},sectionTitle:{color:"#fff",fontSize:"16px",fontWeight:"600",marginBottom:"16px"},inputGroup:{marginBottom:"16px"},label:{display:"block",color:"#b5bac1",fontSize:"14px",marginBottom:"8px",fontWeight:"500"},colorInput:{width:"100%",height:"50px",border:"none",borderRadius:"4px",cursor:"pointer"},fileInput:{display:"none"},uploadButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},presetGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"12px"},presetCard:{padding:"20px",borderRadius:"8px",cursor:"pointer",textAlign:"center",transition:"transform 0.2s"},presetName:{color:"#fff",fontSize:"13px",fontWeight:"600",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},colorGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},bioTextarea:{width:"100%",padding:"12px",backgroundColor:"#1e1f22",border:"1px solid #1e1f22",borderRadius:"4px",color:"#fff",fontSize:"14px",resize:"vertical",minHeight:"100px",fontFamily:"inherit"},charCount:{textAlign:"right",color:"#b5bac1",fontSize:"12px",marginTop:"8px"},checkbox:{display:"flex",alignItems:"center",gap:"12px",color:"#b5bac1",fontSize:"14px",marginBottom:"12px",cursor:"pointer"},preview:{flex:1,overflowY:"auto",padding:"40px"},previewBanner:{width:"100%",height:"200px",borderRadius:"8px 8px 0 0",backgroundSize:"cover",backgroundPosition:"center"},previewContent:{backgroundColor:"#2b2d31",borderRadius:"0 0 8px 8px",padding:"60px 20px 20px",position:"relative"},previewAvatar:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:"#5865f2",position:"absolute",top:"-60px",left:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"48px"},previewInfo:{marginTop:"20px"},loading:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#b5bac1"}},M=i(({userId:s,fetchWithAuth:d,apiBaseUrl:p})=>{const{customization:r,previewMode:a,setPreviewMode:b,loading:f,saveCustomization:g,applyPreset:m,uploadBanner:y,updateField:x}=R(s,d,p);return f?e.jsxs("div",{style:t.loading,children:["Y","Ã¼","kleniyor..."]}):e.jsxs("div",{style:t.container,children:[e.jsxs("div",{style:t.header,children:[e.jsxs("h2",{style:t.title,children:[e.jsx(C,{})," Profil ","Ã–","zelle","ÅŸ","tirme"]}),e.jsxs("div",{style:t.headerActions,children:[e.jsx("button",{onClick:i(()=>b(!a),"onClick"),style:a?t.previewButtonActive:t.previewButton,children:a?"DÃ¼zenleme":"Ã–nizleme"}),e.jsxs("button",{onClick:g,style:t.saveButton,children:[e.jsx(_,{})," Kaydet"]})]})]}),a?e.jsxs("div",{style:t.preview,children:[e.jsx("div",{style:{...t.previewBanner,backgroundColor:r.banner_color,backgroundImage:r.banner_url?`url(${r.banner_url})`:"none"}}),e.jsxs("div",{style:t.previewContent,children:[e.jsx("div",{style:{...t.previewAvatar,border:`4px solid ${r.theme_color}`},children:"ðŸ‘¤"}),e.jsxs("div",{style:t.previewInfo,children:[e.jsxs("h3",{style:{color:r.theme_color},children:["Kullan","Ä±","c","Ä±"," Ad","Ä±"]}),e.jsx("p",{style:{backgroundColor:r.bio_background_color,color:"#fff",padding:"12px",borderRadius:"8px",borderLeft:`3px solid ${r.accent_color}`},children:r.bio_text||"Buraya biyografi metni gelecek..."})]})]})]}):e.jsxs("div",{style:t.editContainer,children:[e.jsxs("div",{style:t.section,children:[e.jsxs("h3",{style:t.sectionTitle,children:["ðŸ–¼ï¸"," Banner"]}),e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:"Banner Resmi"}),e.jsx("input",{type:"file",accept:"image/*",onChange:i(o=>o.target.files[0]&&y(o.target.files[0]),"onChange"),style:t.fileInput}),e.jsxs("button",{onClick:i(()=>document.querySelector('input[type="file"]').click(),"onClick"),style:t.uploadButton,children:[e.jsx(w,{})," Resim Y","Ã¼","kle"]})]}),e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:"Banner Rengi (resim yoksa)"}),e.jsx("input",{type:"color",value:r.banner_color,onChange:i(o=>x("banner_color",o.target.value),"onChange"),style:t.colorInput})]})]}),e.jsxs("div",{style:t.section,children:[e.jsxs("h3",{style:t.sectionTitle,children:["ðŸŽ¨"," Haz","Ä±","r Temalar"]}),e.jsx("div",{style:t.presetGrid,children:S.map((o,c)=>e.jsx("div",{onClick:i(()=>m(o),"onClick"),style:{...t.presetCard,background:`linear-gradient(135deg, ${o.primary}, ${o.accent})`},children:e.jsx("span",{style:t.presetName,children:o.name})},c))})]}),e.jsxs("div",{style:t.section,children:[e.jsxs("h3",{style:t.sectionTitle,children:["ðŸŽ¨"," Renkler"]}),e.jsx("div",{style:t.colorGrid,children:[{field:"theme_color",label:"Ana Tema Rengi"},{field:"accent_color",label:"Vurgu Rengi"},{field:"bio_background_color",label:"Biyografi Arka Plan"}].map(o=>e.jsxs("div",{style:t.inputGroup,children:[e.jsx("label",{style:t.label,children:o.label}),e.jsx("input",{type:"color",value:r[o.field],onChange:i(c=>x(o.field,c.target.value),"onChange"),style:t.colorInput})]},o.field))})]}),e.jsxs("div",{style:t.section,children:[e.jsxs("h3",{style:t.sectionTitle,children:["ðŸ“"," Biyografi"]}),e.jsx("textarea",{value:r.bio_text,onChange:i(o=>x("bio_text",o.target.value),"onChange"),placeholder:"Biyografini buraya yaz...",style:t.bioTextarea,maxLength:190}),e.jsxs("div",{style:t.charCount,children:[r.bio_text.length," / 190 karakter"]})]}),e.jsxs("div",{style:t.section,children:[e.jsxs("h3",{style:t.sectionTitle,children:["âš™ï¸"," G","Ã¶","r","Ã¼","n","Ã¼","m Ayarlar","Ä±"]}),[{field:"show_badges",label:"Rozetleri gÃ¶ster"},{field:"show_activity",label:"Aktiviteyi gÃ¶ster"}].map(o=>e.jsxs("label",{style:t.checkbox,children:[e.jsx("input",{type:"checkbox",checked:r[o.field],onChange:i(c=>x(o.field,c.target.checked),"onChange")}),e.jsx("span",{children:o.label})]},o.field))]})]})]})},"ProfileCustomization");export{M as default};

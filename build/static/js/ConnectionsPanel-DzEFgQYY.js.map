{"version":3,"file":"ConnectionsPanel-DzEFgQYY.js","sources":["../../../src/components/ConnectionsPanel.js"],"sourcesContent":["import { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { FaSpotify, FaSteam, FaPlaystation, FaXbox, FaTwitch, FaDiscord, FaGamepad, FaLink, FaUnlink, FaCheckCircle, FaExclamationCircle, FaSpinner, FaMusic, FaYoutube, FaGithub, FaTwitter, FaTimes } from 'react-icons/fa';\r\nimport { SiEpicgames, SiBattledotnet, SiRiotgames, SiOrigin } from 'react-icons/si';\r\nimport { useAuth } from '../AuthContext';\r\nimport toast from '../utils/toast';\r\nimport { getApiBase } from '../utils/apiEndpoints';\r\nimport './ConnectionsPanel.css';\r\n\r\nconst ConnectionsPanel = ({ onClose }) => {\r\n    const { token, user } = useAuth();\r\n    const [connections, setConnections] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    const [connecting, setConnecting] = useState(null);\r\n    const popupIntervalRef = useRef(null);\r\n    const popupTimeoutRef = useRef(null);\r\n\r\n    // Dinamik API URL\r\n    const API_URL = getApiBase().replace('/api', '');\r\n\r\n    // Bağlantı platformları\r\n    const platforms = [\r\n        {\r\n            id: 'spotify',\r\n            name: 'Spotify',\r\n            icon: FaSpotify,\r\n            color: '#1DB954',\r\n            description: 'Dinlediğin müziği profilinde göster',\r\n            oauth: true,\r\n            features: ['Now Playing', 'Rich Presence']\r\n        },\r\n        {\r\n            id: 'steam',\r\n            name: 'Steam',\r\n            icon: FaSteam,\r\n            color: '#171A21',\r\n            description: 'Oynadığın oyunları profilinde göster',\r\n            oauth: true,\r\n            features: ['Game Activity', 'Rich Presence', 'Achievements']\r\n        },\r\n        {\r\n            id: 'xbox',\r\n            name: 'Xbox',\r\n            icon: FaXbox,\r\n            color: '#107C10',\r\n            description: 'Xbox Live hesabını bağla',\r\n            oauth: true,\r\n            features: ['Gamertag', 'Game Activity', 'Achievements']\r\n        },\r\n        {\r\n            id: 'twitch',\r\n            name: 'Twitch',\r\n            icon: FaTwitch,\r\n            color: '#9146FF',\r\n            description: 'Twitch yayın durumunu göster',\r\n            oauth: true,\r\n            features: ['Stream Status', 'Rich Presence']\r\n        },\r\n        {\r\n            id: 'github',\r\n            name: 'GitHub',\r\n            icon: FaGithub,\r\n            color: '#333333',\r\n            description: 'GitHub profilini bağla',\r\n            oauth: true,\r\n            features: ['Repositories', 'Contributions', 'Profile']\r\n        },\r\n        {\r\n            id: 'youtube',\r\n            name: 'YouTube',\r\n            icon: FaYoutube,\r\n            color: '#FF0000',\r\n            description: 'YouTube kanalını bağla',\r\n            oauth: true,\r\n            features: ['Channel', 'Subscribers', 'Videos']\r\n        },\r\n        {\r\n            id: 'discord',\r\n            name: 'Discord',\r\n            icon: FaDiscord,\r\n            color: '#5865F2',\r\n            description: 'Discord hesabını bağla (migration)',\r\n            oauth: true,\r\n            features: ['Profile', 'Friends Import']\r\n        }\r\n        // Yakında eklenecek platformlar:\r\n        // PlayStation, Epic Games, Battle.net, Riot Games, Twitter\r\n    ];\r\n\r\n    // Bağlantı durumlarını yükle\r\n    const loadConnections = useCallback(async () => {\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 10000); // 10 saniye timeout\r\n\r\n        try {\r\n            const response = await fetch(`${API_URL}/api/connections/status/`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                signal: controller.signal\r\n            });\r\n            clearTimeout(timeoutId);\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setConnections(data.connections || {});\r\n            }\r\n        } catch (error) {\r\n            if (error.name === 'AbortError') {\r\n                console.error('Connections loading timeout (10s)');\r\n                toast.error('Bağlantılar yüklenemedi - zaman aşımı');\r\n            } else {\r\n                console.error('Failed to load connections:', error);\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [token, API_URL]);\r\n\r\n    useEffect(() => {\r\n        loadConnections();\r\n        // Cleanup interval/timeout on unmount\r\n        return () => {\r\n            if (popupIntervalRef.current) clearInterval(popupIntervalRef.current);\r\n            if (popupTimeoutRef.current) clearTimeout(popupTimeoutRef.current);\r\n        };\r\n    }, [loadConnections]);\r\n\r\n    // OAuth bağlantısı başlat\r\n    const handleConnect = (platformId) => {\r\n        // Clear any existing intervals before starting new one\r\n        if (popupIntervalRef.current) clearInterval(popupIntervalRef.current);\r\n        if (popupTimeoutRef.current) clearTimeout(popupTimeoutRef.current);\r\n\r\n        setConnecting(platformId);\r\n\r\n        // OAuth URL'ini direkt popup'ta aç (CORS hatası olmasın)\r\n        const width = 500;\r\n        const height = 700;\r\n        const left = window.screenX + (window.outerWidth - width) / 2;\r\n        const top = window.screenY + (window.outerHeight - height) / 2;\r\n\r\n        const popup = window.open(\r\n            `${API_URL}/api/auth/${platformId}/start/?username=${user?.username || 'anonymous'}`,\r\n            `${platformId}_oauth`,\r\n            `width=${width},height=${height},left=${left},top=${top},toolbar=no,menubar=no`\r\n        );\r\n\r\n        if (!popup) {\r\n            toast.error('Popup blocker tarafından engellendi. Lütfen popup\\'lara izin verin.');\r\n            setConnecting(null);\r\n            return;\r\n        }\r\n\r\n        // Popup kapanınca bağlantıları yenile\r\n        popupIntervalRef.current = setInterval(() => {\r\n            if (popup.closed) {\r\n                clearInterval(popupIntervalRef.current);\r\n                popupIntervalRef.current = null;\r\n                setConnecting(null);\r\n                loadConnections();\r\n                toast.success(`${platformId} bağlantısı kontrol ediliyor...`);\r\n            }\r\n        }, 500);\r\n\r\n        // Timeout (2 dakika)\r\n        popupTimeoutRef.current = setTimeout(() => {\r\n            if (popupIntervalRef.current) {\r\n                clearInterval(popupIntervalRef.current);\r\n                popupIntervalRef.current = null;\r\n            }\r\n            if (!popup.closed) {\r\n                popup.close();\r\n            }\r\n            setConnecting(null);\r\n        }, 120000);\r\n    };\r\n\r\n    // Bağlantıyı kes\r\n    const handleDisconnect = async (platformId) => {\r\n        if (!confirm(`${platformId} bağlantısını kesmek istediğinize emin misiniz?`)) {\r\n            return;\r\n        }\r\n\r\n        setConnecting(platformId);\r\n\r\n        try {\r\n            const response = await fetch(`${API_URL}/api/connections/${platformId}/disconnect/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n\r\n            if (response.ok) {\r\n                toast.success(`${platformId} bağlantısı kesildi`);\r\n                loadConnections();\r\n            } else {\r\n                toast.error('Bağlantı kesilemedi');\r\n            }\r\n        } catch (error) {\r\n            console.error('Disconnect error:', error);\r\n            toast.error('Bağlantı kesme hatası');\r\n        } finally {\r\n            setConnecting(null);\r\n        }\r\n    };\r\n\r\n    const renderPlatform = (platform) => {\r\n        const connection = connections[platform.id];\r\n        const isConnected = connection?.connected;\r\n        const isConnecting = connecting === platform.id;\r\n        const Icon = platform.icon;\r\n\r\n        return (\r\n            <div\r\n                key={platform.id}\r\n                className={`connection-card ${isConnected ? 'connected' : ''}`}\r\n                style={{ '--platform-color': platform.color }}\r\n            >\r\n                <div className=\"connection-header\">\r\n                    <div className=\"platform-icon\" style={{ backgroundColor: platform.color }}>\r\n                        <Icon />\r\n                    </div>\r\n                    <div className=\"platform-info\">\r\n                        <h3>{platform.name}</h3>\r\n                        <p>{platform.description}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {isConnected && connection.username && (\r\n                    <div className=\"connection-details\">\r\n                        <span className=\"connected-as\">\r\n                            <FaCheckCircle className=\"status-icon success\" />\r\n                            Bağlı: <strong>{connection.username}</strong>\r\n                        </span>\r\n                        {connection.data && (\r\n                            <div className=\"connection-data\">\r\n                                {connection.data.game && (\r\n                                    <span className=\"activity\">\r\n                                        <FaGamepad /> {connection.data.game}\r\n                                    </span>\r\n                                )}\r\n                                {connection.data.track && (\r\n                                    <span className=\"activity\">\r\n                                        <FaMusic /> {connection.data.track}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"connection-features\">\r\n                    {platform.features.map(feature => (\r\n                        <span key={feature} className=\"feature-tag\">{feature}</span>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"connection-actions\">\r\n                    {isConnected ? (\r\n                        <button\r\n                            className=\"disconnect-btn\"\r\n                            onClick={() => handleDisconnect(platform.id)}\r\n                            disabled={isConnecting}\r\n                        >\r\n                            {isConnecting ? <FaSpinner className=\"spin\" /> : <FaUnlink />}\r\n                            Bağlantıyı Kes\r\n                        </button>\r\n                    ) : (\r\n                        <button\r\n                            className=\"connect-btn\"\r\n                            onClick={() => handleConnect(platform.id)}\r\n                            disabled={isConnecting}\r\n                            style={{ backgroundColor: platform.color }}\r\n                        >\r\n                            {isConnecting ? <FaSpinner className=\"spin\" /> : <FaLink />}\r\n                            Bağlan\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"connections-modal-overlay\" onClick={onClose}>\r\n                <div className=\"connections-modal\" onClick={e => e.stopPropagation()}>\r\n                    <div className=\"connections-panel loading\">\r\n                        <FaSpinner className=\"spin large\" />\r\n                        <p>Bağlantılar yükleniyor...</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"connections-modal-overlay\" onClick={onClose}>\r\n            <div className=\"connections-modal\" onClick={e => e.stopPropagation()}>\r\n                <button className=\"connections-close-btn\" onClick={onClose}>\r\n                    <FaTimes />\r\n                </button>\r\n                <div className=\"connections-panel\">\r\n                    <div className=\"connections-header\">\r\n                        <h2>\r\n                            <FaLink /> Bağlantılar\r\n                        </h2>\r\n                        <p>Hesaplarını bağlayarak profilini zenginleştir ve aktivitelerini göster</p>\r\n                    </div>\r\n\r\n                    <div className=\"connections-grid\">\r\n                        {/* Oyun Platformları */}\r\n                        <div className=\"connection-section\">\r\n                            <h3 className=\"section-title\">\r\n                                <FaGamepad /> Oyun Platformları\r\n                            </h3>\r\n                            <div className=\"platforms-grid\">\r\n                                {platforms.filter(p => ['steam', 'epic', 'xbox', 'playstation', 'battlenet', 'riot'].includes(p.id)).map(renderPlatform)}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Müzik & Streaming */}\r\n                        <div className=\"connection-section\">\r\n                            <h3 className=\"section-title\">\r\n                                <FaMusic /> Müzik & Streaming\r\n                            </h3>\r\n                            <div className=\"platforms-grid\">\r\n                                {platforms.filter(p => ['spotify', 'twitch', 'youtube'].includes(p.id)).map(renderPlatform)}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Sosyal */}\r\n                        <div className=\"connection-section\">\r\n                            <h3 className=\"section-title\">\r\n                                <FaLink /> Sosyal Medya\r\n                            </h3>\r\n                            <div className=\"platforms-grid\">\r\n                                {platforms.filter(p => ['discord', 'twitter', 'github'].includes(p.id)).map(renderPlatform)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"connections-footer\">\r\n                        <p className=\"privacy-note\">\r\n                            <FaExclamationCircle />\r\n                            Bağlantılar sadece izin verdiğin bilgilere erişir. İstediğin zaman bağlantıyı kesebilirsin.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConnectionsPanel;\r\n"],"names":["useState","useRef","useCallback","useEffect","jsxs","jsx"],"mappings":"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"}
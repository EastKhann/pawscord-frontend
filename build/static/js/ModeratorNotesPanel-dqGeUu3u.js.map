{"version":3,"file":"ModeratorNotesPanel-dqGeUu3u.js","sources":["../../../src/components/ModeratorNotesPanel.js"],"sourcesContent":["// frontend/src/components/ModeratorNotesPanel.js\nimport { useState, useEffect } from 'react';\nimport { FaTimes, FaStickyNote, FaPlus, FaTrash } from 'react-icons/fa';\nimport toast from '../utils/toast';\n\n/**\n * üìù Moderator Notes Panel\n * Kullanƒ±cƒ±lar hakkƒ±nda moderat√∂r notlarƒ±\n */\n\nconst ModeratorNotesPanel = ({ fetchWithAuth, apiBaseUrl, username, onClose }) => {\n    const [notes, setNotes] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [newNote, setNewNote] = useState('');\n\n    useEffect(() => {\n        loadNotes();\n    }, [username]);\n\n    const loadNotes = async () => {\n        try {\n            setLoading(true);\n            const response = await fetchWithAuth(`${apiBaseUrl}/moderation/notes/list/?username=${username}`);\n            if (response.ok) {\n                const data = await response.json();\n                setNotes(data);\n            }\n        } catch (error) {\n            console.error('Not y√ºkleme hatasƒ±:', error);\n            toast.error('Notlar y√ºklenemedi');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const addNote = async () => {\n        if (!newNote.trim()) {\n            toast.error('Not i√ßeriƒüi bo≈ü olamaz');\n            return;\n        }\n\n        try {\n            const response = await fetchWithAuth(`${apiBaseUrl}/moderation/notes/add/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    username: username,\n                    note: newNote\n                })\n            });\n\n            if (response.ok) {\n                toast.success('Not eklendi');\n                setNewNote('');\n                loadNotes();\n            } else {\n                toast.error('Not eklenemedi');\n            }\n        } catch (error) {\n            console.error('Not ekleme hatasƒ±:', error);\n            toast.error('Bir hata olu≈ütu');\n        }\n    };\n\n    const deleteNote = async (noteId) => {\n        try {\n            const response = await fetchWithAuth(`${apiBaseUrl}/moderation/notes/${noteId}/delete/`, {\n                method: 'DELETE'\n            });\n\n            if (response.ok) {\n                toast.success('Not silindi');\n                loadNotes();\n            }\n        } catch (error) {\n            console.error('Not silme hatasƒ±:', error);\n            toast.error('Bir hata olu≈ütu');\n        }\n    };\n\n    return (\n        <div style={styles.overlay} onClick={onClose}>\n            <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\n                <div style={styles.header}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                        <FaStickyNote style={{ color: '#faa61a' }} />\n                        <h2 style={{ margin: 0 }}>Moderat√∂r Notlarƒ± - {username}</h2>\n                    </div>\n                    <FaTimes onClick={onClose} style={styles.closeBtn} />\n                </div>\n\n                <div style={styles.addNote}>\n                    <textarea\n                        placeholder=\"Yeni not ekle...\"\n                        value={newNote}\n                        onChange={(e) => setNewNote(e.target.value)}\n                        style={styles.textarea}\n                        rows={3}\n                    />\n                    <button onClick={addNote} style={styles.addBtn}>\n                        <FaPlus /> Not Ekle\n                    </button>\n                </div>\n\n                <div style={styles.notesList}>\n                    {loading ? (\n                        <div style={styles.loading}>Y√ºkleniyor...</div>\n                    ) : notes.length === 0 ? (\n                        <div style={styles.empty}>\n                            <FaStickyNote style={{ fontSize: '48px', color: '#555' }} />\n                            <p>Hen√ºz not yok</p>\n                        </div>\n                    ) : (\n                        notes.map(note => (\n                            <div key={note.id} style={styles.noteItem}>\n                                <div style={styles.noteContent}>\n                                    <div style={styles.noteMeta}>\n                                        <strong>{note.moderator_username}</strong>\n                                        <span style={{ color: '#888', fontSize: '12px' }}>\n                                            {new Date(note.created_at).toLocaleString('tr-TR')}\n                                        </span>\n                                    </div>\n                                    <div style={styles.noteText}>{note.note}</div>\n                                </div>\n                                <button\n                                    onClick={() => deleteNote(note.id)}\n                                    style={styles.deleteBtn}\n                                    title=\"Sil\"\n                                >\n                                    <FaTrash />\n                                </button>\n                            </div>\n                        ))\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst styles = {\n    overlay: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.7)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 999999\n    },\n    modal: {\n        backgroundColor: '#1e1e1e',\n        borderRadius: '8px',\n        width: '90%',\n        maxWidth: '700px',\n        maxHeight: '90vh',\n        display: 'flex',\n        flexDirection: 'column',\n        color: '#fff'\n    },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '20px',\n        borderBottom: '1px solid #333'\n    },\n    closeBtn: {\n        cursor: 'pointer',\n        fontSize: '24px',\n        color: '#888'\n    },\n    addNote: {\n        padding: '20px',\n        borderBottom: '1px solid #333'\n    },\n    textarea: {\n        width: '100%',\n        padding: '10px',\n        backgroundColor: '#2c2f33',\n        border: '1px solid #444',\n        borderRadius: '4px',\n        color: '#fff',\n        fontSize: '14px',\n        marginBottom: '10px',\n        resize: 'vertical',\n        fontFamily: 'inherit'\n    },\n    addBtn: {\n        backgroundColor: '#43b581',\n        color: '#fff',\n        border: 'none',\n        padding: '10px 20px',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px',\n        fontSize: '14px',\n        fontWeight: '500'\n    },\n    notesList: {\n        flex: 1,\n        overflowY: 'auto',\n        padding: '20px'\n    },\n    noteItem: {\n        display: 'flex',\n        gap: '15px',\n        padding: '15px',\n        backgroundColor: '#2c2f33',\n        borderRadius: '8px',\n        marginBottom: '10px'\n    },\n    noteContent: {\n        flex: 1\n    },\n    noteMeta: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        marginBottom: '8px'\n    },\n    noteText: {\n        color: '#dcddde',\n        lineHeight: '1.5',\n        whiteSpace: 'pre-wrap'\n    },\n    deleteBtn: {\n        backgroundColor: 'transparent',\n        border: 'none',\n        color: '#ed4245',\n        cursor: 'pointer',\n        fontSize: '18px',\n        padding: '10px'\n    },\n    loading: {\n        textAlign: 'center',\n        padding: '40px',\n        color: '#888'\n    },\n    empty: {\n        textAlign: 'center',\n        padding: '60px 20px',\n        color: '#888'\n    }\n};\n\nexport default ModeratorNotesPanel;\n"],"names":["useState","useEffect","jsxs","jsx"],"mappings":"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"}
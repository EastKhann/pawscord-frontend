import{r as n,n as e}from"./react-core-Cj7FUMmY.js";import{b0 as _,a as v,as as j,ad as k}from"./icons-vendor-TGltgKsJ.js";import{t as a}from"./index-g9l3nMnA.js";import"./editor-vendor-D9c4a6XZ.js";import"./media-vendor-BsD1gqUZ.js";import"./router-vendor-QeioVw-9.js";import"./state-vendor-MN-5i-Jz.js";import"./crypto-vendor-DK-7ILyQ.js";const O=({fetchWithAuth:s,apiBaseUrl:i,serverId:d,onClose:p})=>{const[C,f]=n.useState([]),[y,m]=n.useState(null),[t,l]=n.useState({name:"",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"}),[T,x]=n.useState(!0),h=[{name:"Discord Classic",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"},{name:"Dark Purple",primary_color:"#7289da",secondary_color:"#2c2f33",background_color:"#23272a",text_color:"#ffffff",accent_color:"#99aab5"},{name:"Ocean Blue",primary_color:"#4a9eff",secondary_color:"#1a3a52",background_color:"#0d2137",text_color:"#e3f2fd",accent_color:"#00bcd4"},{name:"Forest Green",primary_color:"#4caf50",secondary_color:"#1b5e20",background_color:"#0d3b0d",text_color:"#e8f5e9",accent_color:"#8bc34a"},{name:"Sunset Orange",primary_color:"#ff9800",secondary_color:"#e65100",background_color:"#3e2723",text_color:"#fff3e0",accent_color:"#ffb74d"},{name:"Midnight Black",primary_color:"#424242",secondary_color:"#212121",background_color:"#000000",text_color:"#e0e0e0",accent_color:"#757575"}];n.useEffect(()=>{u()},[]);const u=async()=>{try{x(!0);const r=await s(`${i}/servers/${d}/themes/`);if(r.ok){const c=await r.json();f(c.themes||[]),m(c.active_theme)}}catch{}finally{x(!1)}},g=async r=>{try{(await s(`${i}/servers/${d}/theme/apply/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?(a.success("Tema uygulandı"),m(r)):a.error("Tema uygulanamadı")}catch{a.error("Bir hata oluştu")}},b=async()=>{if(!t.name.trim()){a.error("Tema adı girin");return}try{(await s(`${i}/servers/${d}/theme/save/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(a.success("Özel tema kaydedildi"),u(),l({name:"",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"})):a.error("Tema kaydedilemedi")}catch{a.error("Bir hata oluştu")}};return e.jsx("div",{style:o.overlay,onClick:p,children:e.jsxs("div",{style:o.modal,onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{style:o.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(_,{style:{color:"#5865f2"}}),e.jsx("h2",{style:{margin:0},children:"Sunucu Temaları"})]}),e.jsx(v,{onClick:p,style:o.closeBtn})]}),e.jsxs("div",{style:o.content,children:[e.jsxs("section",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"Hazır Temalar"}),e.jsx("div",{style:o.themeGrid,children:h.map((r,c)=>e.jsxs("div",{style:o.themeCard,onClick:()=>g(r),children:[e.jsxs("div",{style:o.themePreview,children:[e.jsx("div",{style:{...o.colorStrip,backgroundColor:r.background_color}}),e.jsx("div",{style:{...o.colorStrip,backgroundColor:r.secondary_color}}),e.jsx("div",{style:{...o.colorStrip,backgroundColor:r.primary_color}}),e.jsx("div",{style:{...o.colorStrip,backgroundColor:r.accent_color}})]}),e.jsx("div",{style:o.themeName,children:r.name}),y?.name===r.name&&e.jsx(j,{style:o.activeCheck})]},c))})]}),e.jsxs("section",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"Özel Tema Oluştur"}),e.jsxs("div",{style:o.customForm,children:[e.jsx("input",{type:"text",placeholder:"Tema Adı",value:t.name,onChange:r=>l({...t,name:r.target.value}),style:o.input}),e.jsxs("div",{style:o.colorGrid,children:[e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"Ana Renk"}),e.jsx("input",{type:"color",value:t.primary_color,onChange:r=>l({...t,primary_color:r.target.value}),style:o.colorInput})]}),e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"İkinci Renk"}),e.jsx("input",{type:"color",value:t.secondary_color,onChange:r=>l({...t,secondary_color:r.target.value}),style:o.colorInput})]}),e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"Arkaplan"}),e.jsx("input",{type:"color",value:t.background_color,onChange:r=>l({...t,background_color:r.target.value}),style:o.colorInput})]}),e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"Metin"}),e.jsx("input",{type:"color",value:t.text_color,onChange:r=>l({...t,text_color:r.target.value}),style:o.colorInput})]}),e.jsxs("div",{style:o.colorField,children:[e.jsx("label",{children:"Vurgu"}),e.jsx("input",{type:"color",value:t.accent_color,onChange:r=>l({...t,accent_color:r.target.value}),style:o.colorInput})]})]}),e.jsxs("button",{onClick:b,style:o.saveBtn,children:[e.jsx(k,{})," Temayı Kaydet"]})]})]})]})]})})},o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},section:{marginBottom:"30px"},sectionTitle:{color:"#dcddde",fontSize:"18px",fontWeight:"600",marginBottom:"15px"},themeGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px"},themeCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"15px",cursor:"pointer",position:"relative",transition:"transform 0.2s"},themePreview:{display:"flex",height:"60px",borderRadius:"4px",overflow:"hidden",marginBottom:"10px"},colorStrip:{flex:1},themeName:{textAlign:"center",fontSize:"14px",fontWeight:"500"},activeCheck:{position:"absolute",top:"10px",right:"10px",color:"#43b581",fontSize:"20px"},customForm:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"20px"},input:{width:"100%",padding:"10px",backgroundColor:"#1e1e1e",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",marginBottom:"15px"},colorGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"15px",marginBottom:"15px"},colorField:{display:"flex",flexDirection:"column",gap:"8px"},colorInput:{width:"100%",height:"50px",border:"none",borderRadius:"4px",cursor:"pointer"},saveBtn:{width:"100%",backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}};export{O as default};

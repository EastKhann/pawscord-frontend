import{a as xe,j as e,f as mo,r as o,e as X}from"./react-core-D6cE4lil.js";import{b9 as ho,j as fo,aB as At,ay as bo,bd as yo,aE as vo,a as we,d as _t,a9 as Ot,g as Ee,aV as Fe,aw as ko,h as jo,ax as So,k as wo,l as Co,aa as Io,ab as zo,az as ue,bB as Ro,by as Kt,p as Mo,J as To,a7 as Wt,y as Bo,a6 as Ht,at as Do,an as qe,B as Lo,O as $o,ad as Po,bJ as Fo,e as Eo,G as No,o as Ao,bK as _o,af as Oo,bL as Ko,E as Wo,bM as Ho,bN as Jo,bO as Yo}from"./icons-vendor-fClA8qVL.js";import{u as Uo,t as C,d as et}from"./index-B3eDbSm-.js";import{S as Vo}from"./crypto-vendor-Drccqhv1.js";import{s as a,U as Go}from"./UserFooter-BZ5BRdXW.js";import Xo from"./InviteModal-CWRdN7ES.js";import Qo from"./SavedMessagesModal-CG05ulXi.js";import{S as Zo}from"./ScheduledMessageModal-DJi-n9KI.js";import qo from"./WebhookManager-tKplLZi9.js";import er from"./ModeratorTools-D1JqLRXw.js";import tr from"./VanityURLManager-D1fkM1if.js";import{A as nr}from"./AutoResponderManager-BgQzzuAW.js";import or from"./ChannelSettingsModal-D0fZUSKH.js";import{L as Et}from"./LazyImage-DMMDh89g.js";import"./media-vendor-Du00QUHb.js";import"./router-vendor-wrB4dqw3.js";import"./state-vendor-DnurjGY_.js";import"./ui-vendor-CZOhtEfS.js";const T={container:{width:"100%",backgroundColor:"transparent",color:"#ccc",padding:"4px 0",minHeight:"30px",maxHeight:"400px",overflowY:"auto"},userList:{padding:"0 2px",display:"flex",flexDirection:"column",gap:"2px"},userItemNew:{padding:"4px 6px",fontSize:"0.8em",borderRadius:"4px",background:"rgba(255, 255, 255, 0.02)",transition:"all 0.15s ease",cursor:"pointer",border:"1px solid transparent",display:"flex",flexDirection:"row",alignItems:"center"},userClickArea:{display:"flex",alignItems:"center",gap:"6px",width:"100%",flexDirection:"row"},avatarContainer:{position:"relative",flexShrink:0,width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},avatar:{width:"22px",height:"22px",borderRadius:"50%",objectFit:"cover",transition:"all 0.2s ease",display:"block",backgroundColor:"#2f3136",flexShrink:0,minWidth:"22px",minHeight:"22px"},statusBadge:{position:"absolute",bottom:"-2px",right:"-2px",width:"10px",height:"10px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"6px",border:"1px solid #2f3136",boxShadow:"0 1px 2px rgba(0,0,0,0.3)"},userInfo:{flex:1,overflow:"hidden",marginLeft:"2px"},username:{display:"block",fontSize:"0.85em",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},sharingIndicator:{fontSize:"0.65em",color:"#5865f2",marginTop:"0",fontWeight:"500"},talkingUser:{color:"#4CAF50",fontWeight:"bold"},activeUser:{color:"#CCCCCC"},mutedUser:{color:"#e67e22"},deafenedUser:{color:"#e74c3c"},contextMenu:{position:"fixed",backgroundColor:"#111214",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0,0,0,0.6), 0 2px 8px rgba(0,0,0,0.3)",zIndex:1e4,minWidth:"240px",maxWidth:"280px",overflow:"hidden",animation:"contextMenuIn 0.12s ease-out"},menuHeader:{padding:"14px 12px",fontWeight:"600",color:"#fff",backgroundColor:"#1a1b1e",fontSize:"0.9em",borderBottom:"1px solid rgba(255,255,255,0.06)"},menuSection:{padding:"4px 0"},menuDivider:{height:"1px",backgroundColor:"rgba(255,255,255,0.06)",margin:"4px 8px"},volumeSection:{padding:"10px 14px 12px",backgroundColor:"#1a1b1e",borderBottom:"1px solid rgba(255,255,255,0.06)"},menuItem:{padding:"8px 12px",cursor:"pointer",color:"#dcddde",fontSize:"13px",transition:"background-color 0.1s, color 0.1s",position:"relative",display:"flex",alignItems:"center",borderRadius:"4px",margin:"0 4px"}},tt=document.createElement("style");tt.textContent=`
    @keyframes contextMenuIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
    }

    div[style*="userItemNew"]:hover {
        background: rgba(88, 101, 242, 0.08) !important;
        border-color: rgba(88, 101, 242, 0.2) !important;
        transform: translateX(1px);
    }
    
    .user-context-menu-item:hover {
        background-color: rgba(88, 101, 242, 0.15) !important;
        color: #fff !important;
    }
    
    .user-context-menu-item-danger:hover {
        background-color: rgba(237, 66, 69, 0.15) !important;
        color: #ed4245 !important;
    }
    
    .user-context-submenu-item:hover {
        background-color: rgba(88, 101, 242, 0.15) !important;
        color: #fff !important;
    }
    
    .voice-user-dragging {
        opacity: 0.4 !important;
        border: 1px dashed rgba(88, 101, 242, 0.5) !important;
    }
    
    .voice-channel-drop-target {
        background: rgba(88, 101, 242, 0.15) !important;
        border-color: rgba(88, 101, 242, 0.6) !important;
        box-shadow: inset 0 0 12px rgba(88, 101, 242, 0.2) !important;
    }
    
    .voice-channel-drop-target::after {
        content: 'ğŸ”€ Buraya bÄ±rak';
        position: absolute;
        right: 8px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 10px;
        color: #5865f2;
        font-weight: 600;
        background: rgba(88, 101, 242, 0.15);
        padding: 2px 8px;
        border-radius: 4px;
    }

    .voice-volume-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: #fff;
        cursor: pointer;
        box-shadow: 0 1px 4px rgba(0,0,0,0.4), 0 0 0 1px rgba(88, 101, 242, 0.3);
        border: 2px solid #5865f2;
        transition: transform 0.1s, box-shadow 0.1s;
        position: relative;
        z-index: 3;
    }
    .voice-volume-slider::-webkit-slider-thumb:hover {
        transform: scale(1.15);
        box-shadow: 0 1px 6px rgba(88, 101, 242, 0.5), 0 0 0 2px rgba(88, 101, 242, 0.2);
    }
    .voice-volume-slider::-webkit-slider-thumb:active {
        transform: scale(1.25);
        background: #5865f2;
        border-color: #fff;
    }
    .voice-volume-slider::-moz-range-thumb {
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: #fff;
        cursor: pointer;
        border: 2px solid #5865f2;
        box-shadow: 0 1px 4px rgba(0,0,0,0.4);
    }
    .voice-volume-slider::-webkit-slider-runnable-track {
        height: 6px;
        background: transparent;
        border-radius: 3px;
    }
    .voice-volume-slider::-moz-range-track {
        height: 6px;
        background: transparent;
        border-radius: 3px;
    }

    input[type="range"]:not(.voice-volume-slider)::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #5865f2;
        cursor: pointer;
        box-shadow: 0 0 3px rgba(88, 101, 242, 0.5);
    }
    
    input[type="range"]:not(.voice-volume-slider)::-moz-range-thumb {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #5865f2;
        cursor: pointer;
        border: none;
        box-shadow: 0 0 3px rgba(88, 101, 242, 0.5);
    }
`;document.head.querySelector("style[data-voice-user-list]")||(tt.setAttribute("data-voice-user-list","true"),document.head.appendChild(tt));const rr=n=>n.is_deafened?{icon:"ğŸ”•",style:T.deafenedUser}:n.is_talking?{icon:"ğŸ—£ï¸",style:T.talkingUser}:n.is_mic_off?{icon:"ğŸ”‡",style:T.mutedUser}:{icon:"ğŸ¤",style:T.activeUser},ir=({userObj:n,isSelf:r,getAvatar:u,allUsers:d,isAdmin:x,isDragging:b,draggedUser:w,isClientInThisChannel:v,isPttActive:j,onDragStart:l,onDragEnd:D,onContextMenu:h,onClick:$})=>{const R=n.username,{icon:f,style:P}=rr(n);let A=n.avatar||n.avatarUrl;A||(A=d.find(E=>E.username===R)?.avatar||u(R));const B=n.is_talking?"2px solid #4CAF50":"2px solid transparent",g=n.is_talking?"0 0 10px rgba(76, 175, 80, 0.6)":"none",y=n.is_deafened?"#e74c3c":n.is_mic_off?"#e67e22":"#43b581",I=()=>e.jsxs("div",{style:T.avatarContainer,children:[e.jsx("img",{src:A,alt:R,onError:S=>{S.target.onerror=null,S.target.src=u(R)},style:{...T.avatar,border:B,boxShadow:g}}),e.jsx("div",{style:{...T.statusBadge,background:y},children:f})]});return r?e.jsxs("div",{style:T.userItemNew,children:[e.jsx(I,{}),e.jsxs("div",{style:T.userInfo,children:[e.jsxs("span",{className:v&&j&&!n.is_talking?"ptt-active":"",style:{...T.username,...P,fontWeight:"bold"},children:[R," ",e.jsx("span",{style:{fontSize:"0.85em",color:"#99aab5"},children:"(Sen)"})]}),n.is_sharing&&e.jsxs("div",{style:T.sharingIndicator,children:["ğŸ–¥ï¸"," Ekran Payla","ÅŸÄ±","yor"]})]})]}):e.jsx("div",{style:{...T.userItemNew,...x?{cursor:"grab"}:{},...b&&w===R?{opacity:.4,border:"1px dashed rgba(88, 101, 242, 0.5)",background:"rgba(88, 101, 242, 0.05)"}:{}},draggable:x,onDragStart:S=>l(S,n),onDragEnd:D,onContextMenu:S=>h(S,n),children:e.jsxs("div",{style:T.userClickArea,onClick:()=>$(n),children:[e.jsx(I,{}),e.jsxs("div",{style:T.userInfo,children:[e.jsx("span",{className:n.is_talking?"voice-user-item is-talking":"",style:{...T.username,...P},children:R}),n.is_sharing&&e.jsxs("div",{style:T.sharingIndicator,children:["ğŸ–¥ï¸"," Ekran Payla","ÅŸÄ±","yor"]})]})]})})},sr=xe.memo(ir),ar=({contextMenu:n,currentUsername:r,isAdmin:u,isClientInThisChannel:d,remoteVolumes:x,handleVolumeChange:b,handleMenuAction:w,showMoveMenu:v,setShowMoveMenu:j,voiceChannels:l,roomName:D,getAvatar:h,allUsers:$,friendsList:R})=>{if(!n)return null;const f=n.user;let P=f.avatar||f.avatarUrl;P||(P=$.find(g=>g.username===f.username)?.avatar||h(f.username));const A=x[f.username]||100;return mo.createPortal(e.jsxs("div",{style:{...T.contextMenu,left:`${Math.min(n.x,window.innerWidth-260)}px`,top:`${Math.min(n.y,window.innerHeight-400)}px`,position:"fixed",zIndex:2147483647},onClick:B=>B.stopPropagation(),children:[e.jsx("div",{style:T.menuHeader,children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("img",{src:P,alt:f.username,onError:B=>{B.target.onerror=null,B.target.src=h(f.username)},style:{width:"36px",height:"36px",borderRadius:"50%",objectFit:"cover",border:"2px solid #5865f2",flexShrink:0}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"14px",color:"#fff"},children:f.username}),f.username===r&&e.jsx("div",{style:{fontSize:"11px",color:"#b9bbbe",marginTop:"1px"},children:"Sensin"})]})]})}),d&&f.username!==r&&e.jsxs("div",{style:T.volumeSection,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsxs("span",{style:{fontSize:"12px",color:"#b9bbbe",fontWeight:"500",display:"flex",alignItems:"center",gap:"5px"},children:[e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M11 5L6 9H2v6h4l5 4V5z",fill:"#b9bbbe"}),A>0&&e.jsx("path",{d:"M15.54 8.46a5 5 0 010 7.07",stroke:"#b9bbbe",strokeWidth:"1.5",strokeLinecap:"round"}),A>100&&e.jsx("path",{d:"M19.07 4.93a10 10 0 010 14.14",stroke:"#5865f2",strokeWidth:"1.5",strokeLinecap:"round"})]}),"Ses Seviyesi"]}),e.jsxs("span",{style:{fontSize:"12px",fontWeight:"700",color:A>100?"#5865f2":"#fff",background:A>100?"rgba(88,101,242,0.15)":"rgba(255,255,255,0.08)",padding:"2px 8px",borderRadius:"10px",minWidth:"42px",textAlign:"center"},children:[A,"%"]})]}),e.jsxs("div",{style:{position:"relative",height:"20px",display:"flex",alignItems:"center"},children:[e.jsx("input",{type:"range",min:"0",max:"200",value:A,onChange:B=>b(f.username,B),className:"voice-volume-slider",style:{width:"100%",height:"6px",cursor:"pointer",WebkitAppearance:"none",MozAppearance:"none",appearance:"none",background:"transparent",outline:"none",position:"relative",zIndex:2}}),e.jsx("div",{style:{position:"absolute",left:0,right:0,top:"50%",transform:"translateY(-50%)",height:"6px",borderRadius:"3px",overflow:"hidden",pointerEvents:"none",zIndex:1,background:"#1e1f22"},children:e.jsx("div",{style:{height:"100%",width:`${A/200*100}%`,background:A>100?"linear-gradient(90deg, #5865f2 50%, #7289da 100%)":"#5865f2",borderRadius:"3px",transition:"width 0.05s ease"}})}),e.jsx("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"2px",height:"12px",background:"rgba(255,255,255,0.2)",borderRadius:"1px",pointerEvents:"none",zIndex:1}})]})]}),e.jsxs("div",{style:T.menuSection,children:[e.jsxs("div",{className:"user-context-menu-item",style:T.menuItem,onClick:()=>w("profile"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ğŸ‘¤"})," Profili G","Ã¶","r","Ã¼","nt","Ã¼","le"]}),e.jsxs("div",{className:"user-context-menu-item",style:T.menuItem,onClick:()=>w("dm"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ğŸ’¬"})," ","Ã–","zelden Mesaj At"]}),f.username!==r&&!R.some(B=>B.sender_username===f.username||B.receiver_username===f.username)&&e.jsxs("div",{className:"user-context-menu-item",style:T.menuItem,onClick:()=>w("add_friend"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"â•"})," Arkada","ÅŸ"," Ekle"]})]}),u&&f.username!==r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:T.menuDivider}),e.jsxs("div",{style:T.menuSection,children:[e.jsxs("div",{style:{fontSize:"10px",color:"#72767d",padding:"6px 12px 4px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Mod Ara","Ã§","lar","Ä±"]}),e.jsx("div",{className:"user-context-menu-item",style:T.menuItem,onClick:()=>j(!v),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs("span",{children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ğŸ”€"}),"Ba","ÅŸ","ka Kanala Ta","ÅŸÄ±"]}),e.jsx("span",{style:{fontSize:"10px",transform:v?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s",color:"#72767d"},children:"â€º"})]})}),v&&l?.length>0&&e.jsxs("div",{style:{padding:"4px 0",background:"rgba(88, 101, 242, 0.05)",borderTop:"1px solid rgba(88, 101, 242, 0.15)",borderBottom:"1px solid rgba(88, 101, 242, 0.15)",margin:"2px 0"},children:[l.filter(B=>B.slug!==D).map(B=>e.jsxs("div",{style:{...T.menuItem,paddingLeft:"24px",fontSize:"0.82em",display:"flex",alignItems:"center",gap:"8px"},onClick:()=>w("move",B.slug),children:[e.jsx("span",{style:{color:"#5865f2"},children:"ğŸ”Š"})," ",B.name]},B.slug)),l.filter(B=>B.slug!==D).length===0&&e.jsxs("div",{style:{...T.menuItem,color:"#72767d",cursor:"default",paddingLeft:"24px",fontSize:"0.82em"},children:["Ba","ÅŸ","ka kanal yok"]})]}),e.jsxs("div",{className:"user-context-menu-item-danger",style:{...T.menuItem,color:"#ed4245"},onClick:()=>w("kick"),children:[e.jsx("span",{style:{marginRight:"8px"},children:"âŒ"})," Kanaldan At"]}),e.jsxs("div",{className:"user-context-menu-item",style:T.menuItem,onClick:()=>w("server_mute"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ğŸ”‡"})," Sunucu Sustur"]}),e.jsxs("div",{className:"user-context-menu-item",style:T.menuItem,onClick:()=>w("server_deafen"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ğŸ™‰"})," Sunucu Sa","ÄŸÄ±","rla","ÅŸ","t","Ä±","r"]})]})]}),f.username!==r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:T.menuDivider}),e.jsxs("div",{className:"user-context-menu-item",style:T.menuItem,onClick:()=>w("mute_local"),children:[e.jsx("span",{style:{marginRight:"8px",opacity:.7},children:"ğŸ”‡"})," Benim ","Ä°Ã§","in Sessize Al"]})]})]}),document.getElementById("portal-root")||document.body)},lr=xe.memo(ar),dr=n=>{if(!n)return"https://ui-avatars.com/api/?name=User&background=5865f2&color=fff&bold=true&size=128";const r=Vo.hash(n),u=parseInt(r.substring(0,8),16)%360;return`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=${u.toString(16).padStart(2,"0")}${((u+60)%360).toString(16).padStart(2,"0")}${((u+120)%360).toString(16).padStart(2,"0")}&color=fff&bold=true&size=128`},cr=({voiceUsers:n,roomName:r,currentUsername:u,remoteVolumes:d,setRemoteVolume:x,isClientInThisChannel:b,isPttActive:w,onUserAction:v,isAdmin:j,voiceChannels:l,friendsList:D=[],getDeterministicAvatar:h,allUsers:$=[]})=>{const R=h||dr,[f,P]=o.useState(null),[A,B]=o.useState(!1),[g,y]=o.useState(!1),[I,S]=o.useState(null),{globalData:E}=Uo();o.useEffect(()=>{if(f){const N=()=>P(null);return window.addEventListener("click",N),()=>window.removeEventListener("click",N)}},[f]);const M=n||E?.voice_users||{},O=M&&typeof M=="object"&&!Array.isArray(M)?M[r]||[]:[],G=o.useCallback((N,V)=>{x(N,parseInt(V.target.value,10))},[x]),de=o.useCallback((N,V)=>{N.preventDefault(),V.username!==u&&P({x:N.clientX,y:N.clientY,user:V})},[u]),ge=o.useCallback(()=>{P(null),B(!1)},[]),be=o.useCallback((N,V)=>{f&&v&&(N==="move"&&V?v(N,f.user.username,V):v(N,f.user.username)),ge()},[f,v,ge]),ye=o.useCallback(N=>{N.username!==u&&v&&v("profile",N.username)},[u,v]),me=o.useCallback((N,V)=>{if(!j)return;y(!0),S(V.username),N.dataTransfer.setData("application/json",JSON.stringify({username:V.username,fromChannel:r})),N.dataTransfer.effectAllowed="move";const ae=document.createElement("div");ae.style.cssText="position:fixed;top:-1000px;background:linear-gradient(135deg,#5865f2,#7289da);color:#fff;padding:8px 16px;border-radius:10px;font-size:13px;font-weight:600;box-shadow:0 4px 20px rgba(88,101,242,0.6);display:flex;align-items:center;gap:8px;z-index:99999;",ae.textContent="ğŸ”€ "+V.username,document.body.appendChild(ae),N.dataTransfer.setDragImage(ae,60,20),setTimeout(()=>document.body.removeChild(ae),0)},[j,r]),Ce=o.useCallback(()=>{y(!1),S(null)},[]);return!M||typeof M!="object"||Array.isArray(M)||!Array.isArray(O)||O.length===0?null:e.jsxs("div",{style:T.container,children:[e.jsx("div",{style:T.userList,children:O.map(N=>e.jsx(sr,{userObj:N,isSelf:N.username===u,getAvatar:R,allUsers:$,isAdmin:j,isDragging:g,draggedUser:I,isClientInThisChannel:b,isPttActive:w,onDragStart:me,onDragEnd:Ce,onContextMenu:de,onClick:ye},N.username))}),e.jsx(lr,{contextMenu:f,currentUsername:u,isAdmin:j,isClientInThisChannel:b,remoteVolumes:d,handleVolumeChange:G,handleMenuAction:be,showMoveMenu:A,setShowMoveMenu:B,voiceChannels:l,roomName:r,getAvatar:R,allUsers:$,friendsList:D})]})},pr=xe.memo(cr),ur=({onClose:n,isAdmin:r,onOpenWebhooks:u,onOpenModerator:d,onExportData:x,onShowAuditLogs:b,onShowReports:w})=>{const v=[{icon:ho,label:"ModeratÃ¶r AraÃ§larÄ±",onClick:d,color:"#f04747"},{icon:fo,label:"Webhook YÃ¶netimi",onClick:u,color:"#5865f2"},{icon:At,label:"Audit LoglarÄ±",onClick:b,color:"#faa61a"},{icon:bo,label:"RaporlarÄ± GÃ¶rÃ¼ntÃ¼le",onClick:w,color:"#f04747"},{icon:yo,label:"Veri DÄ±ÅŸa Aktar",onClick:x,color:"#43b581"},{icon:vo,label:"Sunucu Ä°statistikleri",onClick:()=>window.open("/analytics","_blank"),color:"#f0b132"}];return e.jsx("div",{style:Re.overlay,onClick:n,children:e.jsxs("div",{style:Re.menu,onClick:j=>j.stopPropagation(),children:[e.jsx("h3",{style:Re.title,children:"âš¡ HÄ±zlÄ± Ä°ÅŸlemler"}),e.jsx("div",{style:Re.actions,children:v.map((j,l)=>e.jsxs("button",{onClick:()=>{j.onClick?.(),n()},style:{...Re.actionButton,backgroundColor:j.color},children:[e.jsx(j.icon,{style:{fontSize:"1.2em"}}),e.jsx("span",{children:j.label})]},l))})]})})},Re={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},menu:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",width:"90%",maxWidth:"400px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},title:{color:"white",margin:"0 0 15px 0",fontSize:"1.2em",textAlign:"center"},actions:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},actionButton:{padding:"15px 10px",border:"none",borderRadius:"8px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontSize:"0.9em",transition:"transform 0.2s",":hover":{transform:"scale(1.05)"}}},xr=xe.memo(ur),gr=({onClose:n,fetchWithAuth:r,apiBaseUrl:u})=>{const[d,x]=o.useState([]),[b,w]=o.useState(!0),[v,j]=o.useState("all");o.useEffect(()=>{l()},[v]);const l=async()=>{try{const h=await r(`${u}/audit/logs/?filter=${v}`);if(h.ok){const $=await h.json();x($.logs||[])}}catch{}finally{w(!1)}},D=h=>h.includes("delete")||h.includes("ban")?"#f04747":h.includes("create")||h.includes("add")?"#43b581":h.includes("update")||h.includes("edit")?"#faa61a":"#5865f2";return e.jsx("div",{style:J.overlay,onClick:n,children:e.jsxs("div",{style:J.modal,onClick:h=>h.stopPropagation(),children:[e.jsxs("div",{style:J.header,children:[e.jsxs("h2",{style:J.title,children:[e.jsx(At,{})," Audit LoglarÄ±"]}),e.jsx("button",{onClick:n,style:J.closeButton,children:e.jsx(we,{})})]}),e.jsxs("div",{style:J.filters,children:[e.jsx("button",{onClick:()=>j("all"),style:{...J.filterButton,backgroundColor:v==="all"?"#5865f2":"#40444b"},children:"TÃ¼mÃ¼"}),e.jsx("button",{onClick:()=>j("moderation"),style:{...J.filterButton,backgroundColor:v==="moderation"?"#5865f2":"#40444b"},children:"Moderasyon"}),e.jsx("button",{onClick:()=>j("server"),style:{...J.filterButton,backgroundColor:v==="server"?"#5865f2":"#40444b"},children:"Sunucu"}),e.jsx("button",{onClick:()=>j("user"),style:{...J.filterButton,backgroundColor:v==="user"?"#5865f2":"#40444b"},children:"KullanÄ±cÄ±"})]}),e.jsx("div",{style:J.content,children:b?e.jsx("div",{style:J.loading,children:"YÃ¼kleniyor..."}):d.length===0?e.jsx("div",{style:J.empty,children:"Log bulunamadÄ±"}):e.jsx("div",{style:J.logList,children:d.map((h,$)=>e.jsxs("div",{style:J.logItem,children:[e.jsx("div",{style:{...J.actionBadge,backgroundColor:D(h.action)},children:h.action}),e.jsxs("div",{style:J.logDetails,children:[e.jsx("div",{style:J.logUser,children:h.user}),e.jsx("div",{style:J.logDescription,children:h.description}),e.jsx("div",{style:J.logTime,children:new Date(h.timestamp).toLocaleString("tr-TR")})]})]},$))})})]})})},J={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},filters:{display:"flex",gap:"8px",padding:"15px",borderBottom:"1px solid #40444b"},filterButton:{padding:"8px 15px",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",fontSize:"0.85em"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},logList:{display:"flex",flexDirection:"column",gap:"10px"},logItem:{backgroundColor:"#40444b",padding:"12px",borderRadius:"8px",display:"flex",gap:"12px"},actionBadge:{padding:"4px 8px",borderRadius:"4px",color:"white",fontWeight:"bold",fontSize:"0.75em",height:"fit-content",textTransform:"uppercase"},logDetails:{flex:1},logUser:{color:"#5865f2",fontWeight:"bold",marginBottom:"4px"},logDescription:{color:"#dcddde",fontSize:"0.9em",marginBottom:"4px"},logTime:{color:"#72767d",fontSize:"0.75em"}},mr=({onClose:n,fetchWithAuth:r,apiBaseUrl:u})=>{const[d,x]=o.useState([]),[b,w]=o.useState(!0);o.useEffect(()=>{v()},[]);const v=async()=>{try{const l=await r(`${u}/reports/list/`);if(l.ok){const D=await l.json();x(D.reports||[])}}catch{}finally{w(!1)}},j=async(l,D)=>{try{(await r(`${u}/reports/handle/${l}/`,{method:"POST",body:JSON.stringify({action:D})})).ok&&(x($=>$.filter(R=>R.id!==l)),C.success(`âœ… Rapor ${D==="approve"?"onaylandÄ±":"reddedildi"}`))}catch{}};return e.jsx("div",{style:Y.overlay,onClick:n,children:e.jsxs("div",{style:Y.modal,onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{style:Y.header,children:[e.jsxs("h2",{style:Y.title,children:[e.jsx(_t,{})," Raporlar (",d.length,")"]}),e.jsx("button",{onClick:n,style:Y.closeButton,children:e.jsx(we,{})})]}),e.jsx("div",{style:Y.content,children:b?e.jsx("div",{style:Y.loading,children:"YÃ¼kleniyor..."}):d.length===0?e.jsx("div",{style:Y.empty,children:"Bekleyen rapor yok âœ…"}):e.jsx("div",{style:Y.reportList,children:d.map(l=>e.jsxs("div",{style:Y.reportItem,children:[e.jsxs("div",{style:Y.reportHeader,children:[e.jsxs("span",{style:Y.reporter,children:["Raporlayan: ",l.reporter]}),e.jsx("span",{style:Y.timestamp,children:new Date(l.created_at).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:Y.reportContent,children:[e.jsxs("div",{style:Y.reportedUser,children:["Raporlanan: ",l.reported_user]}),e.jsxs("div",{style:Y.reason,children:["Sebep: ",l.reason]}),l.message_preview&&e.jsxs("div",{style:Y.messagePreview,children:['"',l.message_preview,'"']})]}),e.jsxs("div",{style:Y.actions,children:[e.jsxs("button",{onClick:()=>j(l.id,"approve"),style:Y.approveButton,children:[e.jsx(Ot,{})," Onayla"]}),e.jsxs("button",{onClick:()=>j(l.id,"reject"),style:Y.rejectButton,children:[e.jsx(Ee,{})," Reddet"]})]})]},l.id))})})]})})},Y={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#43b581",padding:"40px",fontSize:"1.2em"},reportList:{display:"flex",flexDirection:"column",gap:"15px"},reportItem:{backgroundColor:"#40444b",padding:"15px",borderRadius:"8px",borderLeft:"4px solid #f04747"},reportHeader:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},reporter:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},reportContent:{marginBottom:"15px"},reportedUser:{color:"#f04747",fontWeight:"bold",marginBottom:"5px"},reason:{color:"#dcddde",marginBottom:"8px",fontSize:"0.9em"},messagePreview:{backgroundColor:"#2b2d31",padding:"10px",borderRadius:"4px",color:"#b9bbbe",fontSize:"0.85em",fontStyle:"italic",borderLeft:"3px solid #5865f2"},actions:{display:"flex",gap:"10px"},approveButton:{flex:1,padding:"10px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},rejectButton:{flex:1,padding:"10px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"}},hr=xe.memo(mr),fr=({x:n,y:r,server:u,isOwner:d,onClose:x,onLeaveServer:b,onServerSettings:w,onMuteServer:v,onUnmuteServer:j,onMoveUp:l,onMoveDown:D,onCopyInvite:h,onDeleteServer:$,onChangeIcon:R,onChangePrivacy:f,canMoveUp:P=!0,canMoveDown:A=!0,isMuted:B=!1})=>{const g=o.useRef(null);o.useEffect(()=>{const S=M=>{g.current&&!g.current.contains(M.target)&&x()},E=M=>{M.key==="Escape"&&x()};return document.addEventListener("mousedown",S),document.addEventListener("keydown",E),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",E)}},[x]),o.useEffect(()=>{if(g.current){const S=g.current.getBoundingClientRect(),E=window.innerWidth,M=window.innerHeight;let O=n,G=r;S.right>E&&(O=E-S.width-10),S.bottom>M&&(G=M-S.height-10),g.current.style.left=`${O}px`,g.current.style.top=`${G}px`}},[n,r]);const y=S=>{S(),x()},I=[{icon:Fe,label:"Davet Linki Kopyala",action:h,show:!0,color:"#5865f2"},{divider:!0,show:!0},{icon:ko,label:"Sunucu Ä°konunu DeÄŸiÅŸtir",action:R,show:d,color:"#faa61a"},{icon:u.is_public?jo:So,label:u.is_public?"Ã–zel Yap":"Herkese AÃ§Ä±k Yap",action:f,show:d,color:u.is_public?"#ed4245":"#43b581"},{divider:!0,show:d},{icon:B?wo:Co,label:B?"Bildirimleri AÃ§":"Bildirimleri Kapat",action:B?j:v,show:!0},{divider:!0,show:!0},{icon:Io,label:"YukarÄ± TaÅŸÄ±",action:l,show:P},{icon:zo,label:"AÅŸaÄŸÄ± TaÅŸÄ±",action:D,show:A},{divider:!0,show:P||A},{icon:ue,label:"Sunucu AyarlarÄ±",action:w,show:d},{icon:Ee,label:"Sunucuyu Sil",action:$,show:d,danger:!0},{divider:!0,show:!0},{icon:Ro,label:"Sunucudan AyrÄ±l",action:b,show:!d,danger:!0}];return e.jsxs("div",{ref:g,className:"server-context-menu",style:Se.menu,children:[e.jsx("div",{style:Se.serverHeader,children:e.jsx("strong",{children:u.name})}),I.filter(S=>S.show).map((S,E)=>{if(S.divider)return e.jsx("div",{style:Se.divider},`divider-${E}`);const M=S.icon;return e.jsxs("button",{onClick:()=>y(S.action),style:{...Se.menuItem,...S.danger&&Se.dangerItem,...S.color&&{color:S.color}},children:[e.jsx(M,{style:Se.icon}),e.jsx("span",{children:S.label})]},E)})]})},Se={menu:{position:"fixed",backgroundColor:"#111214",borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)",minWidth:"220px",padding:"6px",zIndex:1e5,animation:"contextMenuFadeIn 0.1s ease"},serverHeader:{padding:"8px 12px",color:"#fff",fontSize:"14px",borderBottom:"1px solid #2b2d31",marginBottom:"4px"},menuItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"8px 12px",background:"none",border:"none",color:"#b5bac1",fontSize:"14px",cursor:"pointer",borderRadius:"2px",transition:"all 0.15s",textAlign:"left"},dangerItem:{color:"#f23f43"},icon:{fontSize:"16px",flexShrink:0},divider:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 0"}};if(!document.getElementById("server-context-menu-styles")){const n=document.createElement("style");n.id="server-context-menu-styles",n.textContent=`
        @keyframes contextMenuFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Menu button hover effect */
        .server-context-menu button:hover {
            background-color: #5865f2 !important;
            color: #fff !important;
        }
        
        .server-context-menu button:active {
            transform: scale(0.98);
        }
        
        /* Menu container class */
        .server-context-menu {
            user-select: none;
        }
    `,document.head.appendChild(n)}const br=xe.memo(fr),Nt=({isOpen:n,onClose:r,onConfirm:u,title:d="Emin misiniz?",message:x="Bu iÅŸlemi gerÃ§ekleÅŸtirmek istediÄŸinizden emin misiniz?",confirmText:b="Evet",cancelText:w="HayÄ±r",type:v="warning",requireTextConfirmation:j=!1,confirmationText:l="",inputPlaceholder:D="Onaylamak iÃ§in buraya yazÄ±n...",dangerDetails:h=null})=>{const[$,R]=o.useState(""),[f,P]=o.useState(!1);if(o.useEffect(()=>{n?(R(""),P(!1),document.body.style.overflow="hidden"):document.body.style.overflow="auto";const E=M=>{M.key==="Escape"&&!f&&r()};return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E),document.body.style.overflow="auto"}},[n,r,f]),!n)return null;const A=async()=>{if(!(j&&$!==l)){P(!0);try{await u(),r()}catch{}finally{P(!1)}}},B=E=>{E.target===E.currentTarget&&!f&&r()},g={warning:{icon:e.jsx(_t,{}),color:"#f39c12",gradient:"linear-gradient(135deg, #f39c12 0%, #e67e22 100%)"},danger:{icon:e.jsx(Ee,{}),color:"#e74c3c",gradient:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)"},info:{icon:e.jsx(Ot,{}),color:"#3498db",gradient:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)"}},y=g[v]||g.warning,I=!j||$===l,S=e.jsx("div",{style:W.overlay,onClick:B,children:e.jsxs("div",{style:W.modal,children:[e.jsxs("div",{style:{...W.header,background:y.gradient},children:[e.jsx("div",{style:W.headerIcon,children:y.icon}),e.jsx("h2",{style:W.title,children:d}),e.jsx("button",{onClick:r,disabled:f,style:W.closeButton,title:"Kapat",children:e.jsx(we,{})})]}),e.jsxs("div",{style:W.body,children:[e.jsx("p",{style:W.message,children:x}),h&&h.length>0&&e.jsxs("div",{style:W.dangerBox,children:[e.jsx("div",{style:W.dangerHeader,children:"âš ï¸ Bu iÅŸlem:"}),e.jsx("ul",{style:W.dangerList,children:h.map((E,M)=>e.jsxs("li",{style:W.dangerItem,children:["â€¢ ",E]},M))}),e.jsx("div",{style:W.dangerFooter,children:"GERÄ° ALINAMAZ!"})]}),j&&e.jsxs("div",{style:W.inputContainer,children:[e.jsxs("label",{style:W.inputLabel,children:["Devam etmek iÃ§in ",e.jsxs("strong",{children:['"',l,'"']})," yazÄ±n:"]}),e.jsx("input",{type:"text",value:$,onChange:E=>R(E.target.value),placeholder:D,style:{...W.input,borderColor:$&&$!==l?"#e74c3c":"#4e5058"},disabled:f,autoFocus:!0}),$&&$!==l&&e.jsx("div",{style:W.inputError,children:"Metin eÅŸleÅŸmiyor"})]})]}),e.jsxs("div",{style:W.footer,children:[e.jsx("button",{onClick:r,disabled:f,style:W.cancelButton,children:w}),e.jsx("button",{onClick:A,disabled:!I||f,style:{...W.confirmButton,background:I?y.gradient:"#4e5058",cursor:I&&!f?"pointer":"not-allowed",opacity:I&&!f?1:.6},children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:W.spinner})," Ä°ÅŸleniyor..."]}):b})]})]})});return X.createPortal(S,document.body)},W={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px",animation:"fadeIn 0.2s ease-out"},modal:{backgroundColor:"#2f3136",borderRadius:"12px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",animation:"slideUp 0.3s ease-out",overflow:"hidden"},header:{padding:"20px",display:"flex",alignItems:"center",gap:"12px",position:"relative"},headerIcon:{fontSize:"24px",color:"white",animation:"pulse 2s ease-in-out infinite"},title:{margin:0,fontSize:"20px",fontWeight:"bold",color:"white",flex:1},closeButton:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"6px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",transition:"all 0.2s",fontSize:"16px"},body:{padding:"24px"},message:{margin:0,fontSize:"15px",lineHeight:"1.6",color:"#dcddde",marginBottom:"16px"},dangerBox:{backgroundColor:"rgba(231, 76, 60, 0.1)",border:"2px solid rgba(231, 76, 60, 0.3)",borderRadius:"8px",padding:"16px",marginTop:"16px"},dangerHeader:{fontSize:"14px",fontWeight:"bold",color:"#e74c3c",marginBottom:"8px"},dangerList:{margin:"8px 0",padding:"0 0 0 12px",listStyle:"none",color:"#dcddde"},dangerItem:{fontSize:"13px",lineHeight:"1.8",color:"#dcddde"},dangerFooter:{fontSize:"14px",fontWeight:"bold",color:"#e74c3c",marginTop:"12px",textAlign:"center",padding:"8px",backgroundColor:"rgba(231, 76, 60, 0.2)",borderRadius:"6px"},inputContainer:{marginTop:"20px"},inputLabel:{display:"block",fontSize:"14px",color:"#dcddde",marginBottom:"8px"},input:{width:"100%",padding:"12px",backgroundColor:"#202225",border:"2px solid #4e5058",borderRadius:"6px",color:"#dcddde",fontSize:"14px",outline:"none",transition:"border-color 0.2s",boxSizing:"border-box"},inputError:{fontSize:"12px",color:"#e74c3c",marginTop:"6px"},footer:{padding:"16px 24px",backgroundColor:"#2b2d31",display:"flex",gap:"12px",justifyContent:"flex-end"},cancelButton:{padding:"10px 24px",backgroundColor:"transparent",border:"2px solid #4e5058",borderRadius:"6px",color:"#dcddde",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},confirmButton:{padding:"10px 24px",border:"none",borderRadius:"6px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},spinner:{width:"14px",height:"14px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 0.6s linear infinite",display:"inline-block"}},Jt=document.createElement("style");Jt.textContent=`
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }
  
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
`;document.head.appendChild(Jt);const fe={sol:"Bk6ywhae86fp6BHmGtxabS6ncEGsFxhcnZEWJRZLVr9z",eth:"0xeaa14d4651a8ea7488289209b9294a1309dde37c",usdt:"TGAny6VmDAWdVmTXCPrpsbLKKQQdvyvnWC",coffee:"https://buymeacoffee.com/dogudoguweo"},yr=({isOpen:n,onClose:r})=>{const[u,d]=o.useState(null),x=(b,w)=>{navigator.clipboard.writeText(b).then(()=>{d(w),setTimeout(()=>d(null),2e3)})};return n?e.jsx("div",{style:a.modalOverlay,onClick:r,children:e.jsxs("div",{style:a.selectionModalContent,onClick:b=>b.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[e.jsxs("h3",{style:{color:"white",margin:0},children:["Bizi Destekle ",e.jsx(Kt,{color:"#eb459e"})]}),e.jsx(we,{style:{cursor:"pointer",color:"#b9bbbe"},onClick:r})]}),e.jsxs("div",{style:{backgroundColor:"#1e1f22",padding:15,borderRadius:8,marginBottom:15},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:10},children:[e.jsx(Mo,{color:"#FFDD00",size:24}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{color:"white",fontWeight:"bold"},children:"Buy Me a Coffee"}),e.jsx("div",{style:{fontSize:"0.8em",color:"#b9bbbe"},children:"En kolay destek yÃ¶ntemi"})]})]}),e.jsx("button",{onClick:()=>window.open(fe.coffee,"_blank"),style:{width:"100%",padding:10,backgroundColor:"#FFDD00",border:"none",borderRadius:6,fontWeight:"bold",cursor:"pointer"},children:"Kahve Ismarla â˜•"})]}),e.jsxs("div",{style:{backgroundColor:"#1e1f22",padding:15,borderRadius:8},children:[e.jsxs("h4",{style:{margin:"0 0 10px 0",color:"white",textAlign:"left"},children:[e.jsx(To,{color:"#f7931a"})," Kripto ile Destek"]}),e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"Solana (SOL)"}),e.jsx("button",{onClick:()=>x(fe.sol,"sol"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:u==="sol"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Fe,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:fe.sol})]}),e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"Ethereum (ETH)"}),e.jsx("button",{onClick:()=>x(fe.eth,"eth"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:u==="eth"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Fe,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:fe.eth})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"USDT (TRC20)"}),e.jsx("button",{onClick:()=>x(fe.usdt,"usdt"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:u==="usdt"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Fe,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:fe.usdt})]})]})]})}):null},vr=({isOpen:n,onClose:r,publicServers:u,onJoinServer:d,fetchWithAuth:x,apiUrl:b})=>{const[w,v]=o.useState(""),j=async l=>{if(l.preventDefault(),!!w.trim())try{const D=await x(`${b}/invites/join/`,{method:"POST",body:JSON.stringify({code:w})}),h=await D.json();D.ok&&(v(""),r(),C.success(`âœ… "${h.server_name}" sunucusuna katÄ±ldÄ±n!`))}catch{}};return n?X.createPortal(e.jsx("div",{style:{...a.modalOverlay,display:"flex",justifyContent:"center",alignItems:"center"},onClick:r,children:e.jsxs("div",{style:{...a.selectionModalContent,width:"600px",maxWidth:"90vw",maxHeight:"80vh",overflowY:"auto"},onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:15,borderBottom:"1px solid #1e1f22"},children:[e.jsx("h3",{style:{color:"white",margin:0,fontSize:"1.5em"},children:"ğŸŒ Sunucuya KatÄ±l"}),e.jsx(we,{style:{cursor:"pointer",color:"#b9bbbe",fontSize:"1.3em"},onClick:r})]}),e.jsxs("div",{style:{backgroundColor:"#202225",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("p",{style:{color:"#b9bbbe",fontSize:"0.9em",marginTop:0},children:"Elinizde bir davet kodu veya linki varsa aÅŸaÄŸÄ±ya yapÄ±ÅŸtÄ±rÄ±n."}),e.jsxs("form",{onSubmit:j,style:{display:"flex",gap:"10px"},children:[e.jsx("input",{value:w,onChange:l=>v(l.target.value),placeholder:"https://www.pawscord.com/invite/...",style:{flex:1,padding:"10px",borderRadius:"4px",border:"1px solid #1e1f22",backgroundColor:"#313338",color:"white",outline:"none"}}),e.jsx("button",{type:"submit",style:{backgroundColor:"#5865f2",color:"white",border:"none",borderRadius:"4px",padding:"0 20px",fontWeight:"bold",cursor:"pointer"},children:"KatÄ±l"})]})]}),e.jsxs("h4",{style:{textAlign:"left",color:"#dbdee1",borderBottom:"1px solid #4f545c",paddingBottom:"5px",marginBottom:"10px"},children:[e.jsx(Wt,{style:{marginRight:8}})," TopluluklarÄ± KeÅŸfet"]}),u.length===0?e.jsx("p",{style:{color:"#b9bbbe",fontStyle:"italic"},children:"Åu an katÄ±labileceÄŸin halka aÃ§Ä±k sunucu yok."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:u.map(l=>e.jsxs("div",{style:{backgroundColor:"#2b2d31",padding:"10px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #1f2023"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[l.icon?e.jsx("img",{src:`https://www.pawscord.com${l.icon}`,alt:"",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white"},children:l.name.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{color:"white",fontWeight:"bold"},children:l.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"0.8em"},children:[l.member_count," Ãœye â€¢ Kurucu: ",l.owner]})]})]}),e.jsx("button",{onClick:()=>d(l.id),style:{backgroundColor:"#23a559",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"KatÄ±l"})]},l.id))})]})}),document.body):null},kr=({isOpen:n,onClose:r,onCreateServer:u,onFriendsClick:d})=>{const[x,b]=o.useState(!1),[w,v]=o.useState(""),[j,l]=o.useState(!1),D=async h=>{h?.preventDefault(),w.trim()&&(await u(w,j),v(""),l(!1),b(!1))};return!n&&!x?null:x?X.createPortal(e.jsx("div",{style:a.modalOverlay,children:e.jsxs("form",{onSubmit:D,style:a.addCategoryForm,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0,color:"white"},children:"Sunucu OluÅŸtur"}),e.jsx(we,{style:{cursor:"pointer",color:"#b9bbbe"},onClick:()=>{b(!1),r()}})]}),e.jsx("p",{style:{color:"#b9bbbe",fontSize:"0.9em"},children:"Sunucuna bir isim ver."}),e.jsx("input",{autoFocus:!0,placeholder:"Sunucu AdÄ±...",value:w,onChange:h=>v(h.target.value),style:a.addRoomInput}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",margin:"10px 0"},children:[e.jsx("input",{type:"checkbox",id:"publicCheck",checked:j,onChange:h=>l(h.target.checked),style:{width:"16px",height:"16px",accentColor:"#23a559"}}),e.jsx("label",{htmlFor:"publicCheck",style:{color:"#dbdee1",fontSize:"0.9em",cursor:"pointer"},children:"Herkese AÃ§Ä±k (KeÅŸfet'te GÃ¶rÃ¼nÃ¼r)"})]}),e.jsx("button",{type:"submit",style:a.addRoomButton,children:"OluÅŸtur"})]})}),document.body):X.createPortal(e.jsx("div",{style:a.modalOverlay,onClick:r,children:e.jsxs("div",{style:a.selectionModalContent,onClick:h=>h.stopPropagation(),children:[e.jsx("h3",{style:{color:"white",margin:0},children:"Ne Yapmak Ä°stersin?"}),e.jsxs("button",{style:{...a.selectionButton,backgroundColor:"#5865f2"},onClick:()=>{b(!0)},children:[e.jsx(Bo,{})," Sunucu OluÅŸtur"]}),e.jsxs("button",{style:{...a.selectionButton,backgroundColor:"#23a559"},onClick:()=>{r(),d&&d()},children:[e.jsx(Ht,{})," ArkadaÅŸ Ekle"]}),e.jsx("button",{style:{marginTop:10,background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},onClick:r,children:"Ä°ptal"})]})}),document.body)},jr=({actionMenu:n,onClose:r,onRename:u,onDelete:d,onSettings:x})=>n?e.jsx("div",{style:a.modalOverlay,onClick:r,children:e.jsxs("div",{style:{...a.selectionModalContent,width:"250px"},onClick:b=>b.stopPropagation(),children:[e.jsx("h4",{style:{color:"white",marginTop:0,borderBottom:"1px solid #4f545c",paddingBottom:10},children:n.name}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[n.type==="room"&&e.jsxs("button",{onClick:x,style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(ue,{})," Kanal AyarlarÄ±"]}),e.jsxs("button",{onClick:u,style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(Do,{})," Yeniden AdlandÄ±r"]}),e.jsxs("button",{onClick:d,style:{backgroundColor:"#da373c",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(Ee,{})," Sil"]})]}),e.jsx("button",{style:{marginTop:15,background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",width:"100%"},onClick:r,children:"Ä°ptal"})]})}):null,Sr=({inviteToServerModal:n,servers:r,onSendInvite:u,onClose:d})=>!n||!n.isOpen?null:X.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999999},onClick:d,children:e.jsxs("div",{onClick:x=>x.stopPropagation(),style:{backgroundColor:"#2b2d31",borderRadius:"12px",width:"400px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #3f4147",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#f2f3f5",margin:0,fontSize:"18px"},children:"ğŸ« Sunucuya Davet Et"}),e.jsxs("p",{style:{color:"#b9bbbe",margin:"8px 0 0",fontSize:"14px"},children:[e.jsx("strong",{children:n.username})," kullanÄ±cÄ±sÄ±nÄ± hangi sunucuya davet etmek istiyorsunuz?"]})]}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"12px"},children:r.map(x=>e.jsxs("div",{onClick:()=>u(x.id,n.username),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"rgba(255,255,255,0.02)",marginBottom:"8px"},onMouseEnter:b=>{b.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.2)"},onMouseLeave:b=>{b.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},children:[x.icon?e.jsx("img",{src:x.icon,alt:x.name,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white",fontSize:"16px"},children:x.name?.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{color:"#f2f3f5",fontWeight:"600"},children:x.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"12px"},children:[x.member_count||x.categories?.length||0," Ã¼ye"]})]}),e.jsx("div",{style:{color:"#5865f2",fontSize:"20px"},children:"â†’"})]},x.id))}),e.jsx("div",{style:{padding:"16px 20px",borderTop:"1px solid #3f4147",textAlign:"center"},children:e.jsx("button",{onClick:d,style:{backgroundColor:"#4f545c",color:"#f2f3f5",border:"none",padding:"10px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"600"},children:"Ä°ptal"})})]})}),document.body),wr=({apiUrl:n,fetchWithAuth:r,servers:u,currentUsername:d,selectedServerId:x,setSelectedServerId:b,onWelcomeClick:w,onMoveServer:v})=>{const[j,l]=o.useState([]),[D,h]=o.useState(""),[$,R]=o.useState(""),[f,P]=o.useState(""),[A,B]=o.useState("text"),[g,y]=o.useState(!1),[I,S]=o.useState(null),[E,M]=o.useState(null),[O,G]=o.useState(null),[de,ge]=o.useState(""),[be,ye]=o.useState(null),[me,Ce]=o.useState(null);return{handleLeaveServer:async k=>{const m=u.find(F=>F.id===k);if(m&&m.owner_username===d){C.warning(`Sunucu sahibi sunucudan ayrÄ±lamaz!

Sunucuyu silmek iÃ§in:
1. Sunucuya saÄŸ tÄ±klayÄ±n
2. "Sunucuyu Sil" seÃ§eneÄŸini tÄ±klayÄ±n

Veya Ã¶nce sahipliÄŸi baÅŸka birine devredin.`,7e3);return}ye({server:m,isOpen:!0})},executeLeaveServer:async k=>{try{const m=await r(`${n}/servers/${k}/leave/`,{method:"POST"});if(m.ok){const F=await m.json();b("home"),w(),C.success("âœ… Sunucudan baÅŸarÄ±yla ayrÄ±ldÄ±nÄ±z!")}else{const U=(await m.json()).error||"Sunucudan ayrÄ±lÄ±rken hata oluÅŸtu";C.error(`âŒ Hata: ${U}`)}}catch{C.error("âŒ Sunucudan ayrÄ±lÄ±rken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}},handleChangeServerIcon:async k=>{const m=document.createElement("input");m.type="file",m.accept="image/*",m.onchange=async F=>{const U=F.target.files[0];if(!U)return;if(U.size>5*1024*1024){C.warning("Dosya boyutu Ã§ok bÃ¼yÃ¼k! Maksimum 5MB olmalÄ±dÄ±r.");return}const Q=new FormData;Q.append("icon",U);try{const ie=await r(`${n}/servers/${k}/icon/`,{method:"POST",body:Q});if(ie.ok){const ce=await ie.json()}else{const ce=await ie.json();C.error(`Ä°kon gÃ¼ncellenirken hata: ${ce.error||"Bilinmeyen hata"}`)}}catch{C.error("Ä°kon yÃ¼klenirken bir hata oluÅŸtu.")}},m.click()},handleChangeServerPrivacy:async k=>{const m=u.find(Q=>Q.id===k);if(!m)return;const F=!m.is_public;if(await et(F?"Sunucuyu herkese aÃ§Ä±k yapmak istediÄŸinize emin misiniz? Herkes bu sunucuyu bulabilir ve katÄ±labilir.":"Sunucuyu Ã¶zel yapmak istediÄŸinize emin misiniz? Sadece davet edilen kiÅŸiler katÄ±labilir."))try{const Q=await r(`${n}/servers/${k}/privacy/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_public:F})});if(Q.ok){const ie=await Q.json()}else{const ie=await Q.json();C.error(`Gizlilik ayarÄ± deÄŸiÅŸtirilirken hata: ${ie.error||"Bilinmeyen hata"}`)}}catch{C.error("Gizlilik ayarÄ± deÄŸiÅŸtirilirken bir hata oluÅŸtu.")}},handleCopyServerInvite:async k=>{try{const m=await r(`${n}/invites/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:k,max_uses:0,expires_hours:0})});if(m.ok){const F=await m.json(),ce=`${!0?"https://www.pawscord.com":window.location.origin}/#/invite/${F.code}`;await navigator.clipboard.writeText(ce),C.success(`Davet linki kopyalandÄ±!

${ce}`,4e3)}else{const F=await m.json();C.error(`Hata: ${F.error||"Davet oluÅŸturulamadÄ±"}`)}}catch{}},handleCreateServer:async(k,m)=>{k?.preventDefault&&k.preventDefault();const F=typeof k=="string"?k:D,U=typeof k=="string"?m:g;F?.trim()&&(await r(`${n}/servers/create/`,{method:"POST",body:JSON.stringify({name:F,is_public:!!U})}),h(""),y(!1))},handleCreateCategory:async(k,m)=>{k.preventDefault(),$.trim()&&(await r(`${n}/categories/create/`,{method:"POST",body:JSON.stringify({server_id:m,name:$})}),R(""),S(null))},handleCreateRoom:async(k,m)=>{k.preventDefault(),f.trim()&&(await r(`${n}/categories/${m}/create_room/`,{method:"POST",body:JSON.stringify({name:f,channel_type:A})}),P(""),M(null))},handleRenameCategory:async(k,m)=>{k.preventDefault(),await r(`${n}/categories/${m}/rename/`,{method:"POST",body:JSON.stringify({new_name:de})}),G(null)},handleDeleteCategory:async(k,m)=>{k.stopPropagation(),await et("Kategoriyi silmek istediÄŸine emin misin? Ä°Ã§indeki odalar da silinecek!")&&await r(`${n}/categories/${m}/delete/`,{method:"POST"})},handleRenameRoom:async(k,m)=>{k.preventDefault(),await r(`${n}/rooms/${m}/rename/`,{method:"POST",body:JSON.stringify({new_name:de})}),G(null)},handleDeleteRoom:async(k,m)=>{k.stopPropagation(),await et("KanalÄ± silmek istediÄŸine emin misin?")&&await r(`${n}/rooms/${m}/delete/`,{method:"POST"})},handleMoveServer:(k,m)=>{v&&v(k,m)},handleMoveUserToChannel:async(k,m,F)=>{try{const U=await r(`${n}/voice/move_user/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:k,from_channel:m,to_channel:F})});if(U.ok){const Q=await U.json()}else{const Q=await U.json()}}catch{}},handleKickUserFromChannel:async(k,m)=>{try{const F=await r(`${n}/voice/kick_user/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:k,channel:m})});if(F.ok){const U=await F.json()}else{const U=await F.json()}}catch{}},handleOpenDiscovery:async()=>{try{const m=await(await r(`${n}/servers/public/`)).json();l(m)}catch{}},handleJoinServer:async k=>{try{(await r(`${n}/servers/${k}/join/`,{method:"POST"})).ok&&C.success("âœ… Sunucuya baÅŸarÄ±yla katÄ±ldÄ±n!")}catch{}},handleJoinViaCode:async k=>{if(k.trim())try{const m=await r(`${n}/invites/join/`,{method:"POST",body:JSON.stringify({code:k})}),F=await m.json();m.ok&&C.success(`âœ… "${F.server_name}" sunucusuna katÄ±ldÄ±n!`)}catch{}},publicServers:j,setPublicServers:l,newServerName:D,setNewServerName:h,newCategoryName:$,setNewCategoryName:R,newRoomName:f,setNewRoomName:P,newRoomType:A,setNewRoomType:B,isNewServerPublic:g,setIsNewServerPublic:y,activeServerIdForCategory:I,setActiveServerIdForCategory:S,activeCategoryIdForRoom:E,setActiveCategoryIdForRoom:M,editingItemId:O,setEditingItemId:G,editName:de,setEditName:ge,leaveServerModal:be,setLeaveServerModal:ye,deleteServerModal:me,setDeleteServerModal:Ce}},Cr=({apiUrl:n,fetchWithAuth:r,servers:u,onViewUserProfile:d})=>{const[x,b]=o.useState(null),[w,v]=o.useState(null);return{handleClearDM:async g=>{if(confirm("Bu konuÅŸmadaki tÃ¼m mesajlarÄ± silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz.")){try{const y=await r(`${n}/conversations/${g}/clear/`,{method:"POST"});if(y.ok)C.success("âœ… KonuÅŸma temizlendi!");else{const I=await y.json();C.error(`âŒ Hata: ${I.error||"KonuÅŸma temizlenemedi"}`)}}catch{C.error("âŒ BaÄŸlantÄ± hatasÄ±")}b(null)}},handleHideDM:async g=>{if(confirm("Bu konuÅŸmayÄ± gizlemek istediÄŸinizden emin misiniz?")){try{const y=await r(`${n}/conversations/${g}/hide/`,{method:"POST"});if(y.ok)C.success("âœ… KonuÅŸma gizlendi!");else{const I=await y.json();C.error(`âŒ Hata: ${I.error||"KonuÅŸma gizlenemedi"}`)}}catch{C.error("âŒ BaÄŸlantÄ± hatasÄ±")}b(null)}},handleViewProfile:g=>{d?d(g):C.info(`ğŸ‘¤ ${g} profili gÃ¶rÃ¼ntÃ¼lenemiyor`),b(null)},handleInviteToServer:g=>{if(!u||u.length===0){C.error("âŒ Davet edebileceÄŸiniz sunucu bulunmuyor"),b(null);return}v({username:g,isOpen:!0}),b(null)},handleSendServerInvite:async(g,y)=>{try{const I=await r(`${n}/servers/${g}/invite/`,{method:"POST",body:JSON.stringify({target_username:y})});if(I.ok){const S=await I.json();C.success(`ğŸ« ${y} kullanÄ±cÄ±sÄ±na davetiye gÃ¶nderildi!`)}else{const S=await I.json();C.error(`âŒ ${S.error||"Davet gÃ¶nderilemedi"}`)}}catch{C.error("âŒ BaÄŸlantÄ± hatasÄ±")}v(null)},handleMuteUser:async(g,y)=>{try{const I=JSON.parse(localStorage.getItem("mutedDMUsers")||"{}");I[g]?(delete I[g],localStorage.setItem("mutedDMUsers",JSON.stringify(I)),C.success(`ğŸ”Š ${g} artÄ±k sessize alÄ±nmadÄ±`)):(I[g]={timestamp:Date.now(),conversationId:y},localStorage.setItem("mutedDMUsers",JSON.stringify(I)),C.success(`ğŸ”‡ ${g} sessize alÄ±ndÄ±. Bildirimleri almayacaksÄ±nÄ±z.`))}catch{C.error("âŒ Sessize alma hatasÄ±")}b(null)},handlePinConversation:async g=>{try{const y=JSON.parse(localStorage.getItem("pinnedConversations")||"[]");if(y.includes(g)){const I=y.filter(S=>S!==g);localStorage.setItem("pinnedConversations",JSON.stringify(I)),C.success("ğŸ“Œ KonuÅŸma sabitleme kaldÄ±rÄ±ldÄ±")}else y.length>=5?C.warning("âš ï¸ En fazla 5 konuÅŸma sabitleyebilirsiniz"):(y.push(g),localStorage.setItem("pinnedConversations",JSON.stringify(y)),C.success("ğŸ“Œ KonuÅŸma sabitlendi!"))}catch{C.error("âŒ Sabitleme hatasÄ±")}b(null)},handleBlockUser:async g=>{if(confirm(`${g} kullanÄ±cÄ±sÄ±nÄ± engellemek istediÄŸinizden emin misiniz?`)){try{(await r(`${n}/users/${g}/block/`,{method:"POST"})).ok?C.success(`âœ… ${g} engellendi!`):C.error("âŒ KullanÄ±cÄ± engellenemedi")}catch{C.error("âŒ BaÄŸlantÄ± hatasÄ±")}b(null)}},handleAddFriend:async g=>{try{const y=await r(`${n}/friends/send/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:g})});if(y.ok)window.Notification&&Notification.permission==="granted"&&new Notification("ArkadaÅŸlÄ±k Ä°steÄŸi GÃ¶nderildi",{body:`${g} kullanÄ±cÄ±sÄ±na arkadaÅŸlÄ±k isteÄŸi gÃ¶nderildi!`,icon:"/logo192.png"});else{const I=await y.json()}}catch{}},handleRemoveFriend:async g=>{try{const y=await r(`${n}/friends/remove/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:g})});if(y.ok)window.Notification&&Notification.permission==="granted"&&new Notification("ArkadaÅŸ Ã‡Ä±karÄ±ldÄ±",{body:`${g} arkadaÅŸ listesinden Ã§Ä±karÄ±ldÄ±.`,icon:"/logo192.png"});else{const I=await y.json()}}catch{}},dmContextMenu:x,setDmContextMenu:b,inviteToServerModal:w,setInviteToServerModal:v}};function Ir(){if(typeof document>"u"||document.head.querySelector("style[data-roomlist-animations]"))return;const n=document.createElement("style");n.textContent=`
        /* Kanal Hover Efektleri */
        .channel-item {
            position: relative;
            overflow: hidden;
        }
        
        .channel-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 50%;
            background: linear-gradient(90deg, rgba(88, 101, 242, 0.4), transparent);
            transition: width 0.3s ease;
            border-radius: 0 4px 4px 0;
        }
        
        .channel-item:hover::before {
            width: 4px;
        }
        
        .channel-item:hover {
            background: rgba(255, 255, 255, 0.05) !important;
            color: #fff !important;
            transform: translateX(2px);
        }
        
        .channel-item.active {
            background: rgba(88, 101, 242, 0.15) !important;
            box-shadow: 0 2px 8px rgba(88, 101, 242, 0.2);
        }
        
        /* Voice Channel Ã–zel Animasyonlar */
        .voice-channel.active {
            background: linear-gradient(90deg, rgba(67, 181, 129, 0.15), rgba(88, 101, 242, 0.1)) !important;
        }
        
        .voice-channel:hover {
            background: rgba(67, 181, 129, 0.08) !important;
        }
        
        /* KullanÄ±cÄ± Listesi Fade-in Animasyonu */
        .channel-wrapper {
            animation: channelFadeIn 0.3s ease;
        }
        
        @keyframes channelFadeIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Kanal Ä°kon Pulse Animasyonu (Aktif Sesli Kanal iÃ§in) */
        
    /* ğŸ’ Developer Support Heart Animation */
    @keyframes heartPulse {
        0%, 100% { transform: scale(1); }
        25% { transform: scale(1.15); }
        50% { transform: scale(1); }
        75% { transform: scale(1.1); }
    }
    
    .voice-channel.active svg {
            animation: iconPulse 2s infinite;
        }
        
        @keyframes iconPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }
        
        /* KullanÄ±cÄ± SayÄ±sÄ± Badge Pulse */
        .voice-channel.active > div > div:last-child {
            animation: badgePulse 1.5s infinite;
        }
        
        @keyframes badgePulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(67, 181, 129, 0.4);
            }
            50% {
                box-shadow: 0 0 0 4px rgba(67, 181, 129, 0);
            }
        }

        /* Context Menu Slide Animation */
        @keyframes contextMenuSlide {
            from {
                opacity: 0;
                transform: translateY(-8px) scale(0.96);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
    `,n.setAttribute("data-roomlist-animations","true"),document.head.appendChild(n)}Ir();const zr=({onFriendsClick:n,onWelcomeClick:r,isAdmin:u,categories:d=[],conversations:x=[],currentRoom:b,currentConversationId:w,onRoomSelect:v,onDMSelect:j,joinVoiceChat:l,leaveVoiceChat:D,unreadCounts:h={},voiceUsers:$,currentUsername:R,currentUserProfile:f,currentVoiceRoom:P,remoteVolumes:A,setRemoteVolume:B,onProfileClick:g,onViewUserProfile:y,getDeterministicAvatar:I,isPttActive:S,setIsLeftSidebarVisible:E,apiBaseUrl:M,fetchWithAuth:O,activeChat:G,onOpenServerSettings:de,allUsers:ge,onlineUsers:be,friendsList:ye=[],pendingFriendRequests:me=0,toggleMute:Ce,toggleDeafened:N,isMuted:V,isDeafened:ae,isInVoice:re,isConnecting:te,toggleVideo:nt,toggleScreenShare:ot,isVideoEnabled:Me,isScreenSharing:Ne,onServerDragStart:Ae,onServerDragOver:_e,onServerDragEnd:Oe,onServerDrop:Ke,onMoveServer:rt,updateAvailable:it=!1,onUpdateClick:st,onOpenStore:at,onOpenAnalytics:Yt,onOpenAdminPanel:k,onOpenPaymentPanel:m,onOpenStoreModal:F,onOpenDailyRewards:U,onOpenAPIUsage:Q,onOpenExportJobs:ie,onOpenScheduledAnnouncements:ce,onOpenMiniGames:lt,onOpenProjectCollaboration:dt,onOpenAvatarStudio:ct,onServerSelect:pt})=>{const Te=h||{},Be=`${M}/api`,We=o.useCallback((t,c)=>{if(!t||typeof t!="string")return I(c);if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("blob:")||t.includes("ui-avatars.com"))return t;let p=t.startsWith("/")?t:`/${t}`;return`${M}${p}`},[M,I]),Ut=b||(G?.type==="room"?G.id:null),Vt=o.useMemo(()=>{if(!P)return"";for(const t of d)if(t.categories)for(const c of t.categories){const p=c.rooms?.find(i=>i.slug===P);if(p)return String(p.name)}return String(P)},[P,d]),[Rr,Mr]=o.useState(""),[Z,ve]=o.useState("home"),[Gt,Xt]=o.useState({}),[Qt,He]=o.useState(null),[Zt,Je]=o.useState(null),[ut,Ye]=o.useState(null),[q,le]=o.useState(null),[se,Ie]=o.useState(null),[H,pe]=o.useState(null),[qt,xt]=o.useState(!1),[en,gt]=o.useState(!1),[tn,mt]=o.useState(!1),[Tr,Br]=o.useState(!1),[nn,ht]=o.useState(!1),[ft,bt]=o.useState(null),[yt,on]=o.useState(null),[rn,sn]=o.useState(!1),[an,vt]=o.useState(!1),[ln,dn]=o.useState(!1),[cn,ke]=o.useState(!1),[pn,kt]=o.useState(!1),[un,jt]=o.useState(!1),[xn,St]=o.useState(!1),[gn,wt]=o.useState(!1),[mn,Ue]=o.useState(!1),[De,Ve]=o.useState(null),[Dr,Lr]=o.useState(!1),[hn,Ct]=o.useState(()=>{const t=localStorage.getItem("mutedServers");return t?JSON.parse(t):[]}),Ge=$||{},[ze,Xe]=o.useState(null),{publicServers:fn,newCategoryName:bn,setNewCategoryName:yn,newRoomName:vn,setNewRoomName:kn,newRoomType:jn,setNewRoomType:Sn,activeServerIdForCategory:wn,setActiveServerIdForCategory:It,activeCategoryIdForRoom:Cn,setActiveCategoryIdForRoom:zt,editingItemId:Rt,setEditingItemId:Le,editName:Mt,setEditName:$e,deleteServerModal:he,setDeleteServerModal:Tt,leaveServerModal:Pe,setLeaveServerModal:In,handleLeaveServer:zn,executeLeaveServer:Rn,handleChangeServerIcon:Mn,handleChangeServerPrivacy:Tn,handleCopyServerInvite:Bn,handleCreateServer:Dn,handleCreateCategory:Ln,handleCreateRoom:$n,handleRenameCategory:Pn,handleDeleteCategory:Fn,handleRenameRoom:En,handleDeleteRoom:Nn,handleMoveServer:Bt,handleMoveUserToChannel:Dt,handleKickUserFromChannel:An,handleOpenDiscovery:_n,handleJoinServer:On,handleJoinViaCode:Kn}=wr({apiUrl:Be,fetchWithAuth:O,servers:d,currentUsername:R,selectedServerId:Z,setSelectedServerId:ve,onWelcomeClick:r,onMoveServer:rt}),{dmContextMenu:ne,setDmContextMenu:Qe,inviteToServerModal:Wn,setInviteToServerModal:Hn,handleClearDM:Jn,handleHideDM:Yn,handleViewProfile:Un,handleInviteToServer:Vn,handleSendServerInvite:Gn,handleMuteUser:Xn,handlePinConversation:Qn,handleBlockUser:Zn,handleAddFriend:qn,handleRemoveFriend:eo}=Cr({apiUrl:Be,fetchWithAuth:O,servers:d,onViewUserProfile:y});o.useEffect(()=>{G&&(G.type==="welcome"||G.type==="friends"||G.type==="dm")&&ve("home")},[G]),o.useEffect(()=>{const t=()=>Qe(null);if(ne)return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[ne]);const to=t=>Xt(c=>({...c,[t]:!c[t]})),no=t=>{ve(t.id),pt&&pt(t)},Lt=(t,c,p,i)=>{t.stopPropagation(),Ie({type:c,id:p,name:i})},oo=t=>{t.preventDefault(),se.type==="category"?(Le(`cat-${se.id}`),$e(se.name)):(Le(`room-${se.id}`),$e(se.name)),Ie(null)},ro=t=>{se.type==="category"?Fn(t,se.id):Nn(t,se.id),Ie(null)},io=t=>{if(t.preventDefault(),se.type==="room"){let c=null,p=null;d?.forEach(i=>{i.categories?.forEach(z=>{if(z.rooms){const K=z.rooms.find(s=>s.slug===se.id);K&&(c={...K,server_id:i.id,category_id:z.id},p=i.id)}})}),c?(Ve(c),ve(p),Ue(!0)):C.error("Kanal ayarlarÄ± aÃ§Ä±lÄ±rken bir hata oluÅŸtu. Kanal bulunamadÄ±.")}Ie(null)},so=(t,c)=>{t.preventDefault(),t.stopPropagation();const p=c.owner_username===R;pe({x:t.clientX,y:t.clientY,server:c,isOwner:p})},ao=(t,c,p)=>{He(c),Ae&&Ae(t,c,p)},lo=(t,c)=>{t.preventDefault();const p=t.currentTarget.getBoundingClientRect(),i=t.clientY,z=p.top+p.height/2,K=i<z?"before":"after";Je(c),Ye(K),_e&&_e(t)},co=t=>{He(null),Je(null),Ye(null),Oe&&Oe(t)},po=(t,c)=>{const p=t.currentTarget.getBoundingClientRect(),i=t.clientY,z=p.top+p.height/2,K=i<z?"before":"after";if(Je(null),Ye(null),He(null),Ke){const s=K==="after"?c+1:c;Ke(t,s)}},uo=(t,c)=>{t.stopPropagation(),bt(c),ht(!0)};return e.jsxs("div",{style:{display:"flex",width:"100%",height:"100%"},children:[e.jsx(jr,{actionMenu:se,onClose:()=>Ie(null),onRename:oo,onDelete:ro,onSettings:io}),e.jsx(yr,{isOpen:en,onClose:()=>gt(!1)}),e.jsxs("div",{style:a.serverRail,children:[e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",width:"100%",justifyContent:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{position:"absolute",left:0,width:"4px",height:Z==="home"?"40px":q==="home"?"20px":"0px",backgroundColor:"#fff",borderRadius:"0 4px 4px 0",transition:"height 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"}}),e.jsx("div",{style:{...a.serverIcon,backgroundColor:Z==="home"?"#5865f2":"#313338",borderRadius:Z==="home"||q==="home"?"16px":"50%",width:"48px",height:"48px",marginBottom:0,transition:"border-radius 0.3s ease, background-color 0.3s ease"},onClick:()=>{ve("home"),r()},onMouseEnter:()=>le("home"),onMouseLeave:()=>le(null),title:"Ana Sayfa",children:e.jsx("img",{src:"https://media.pawscord.com/assets/logo.png",alt:"Pawscord",style:{width:"32px",height:"32px",objectFit:"contain"},onError:t=>{t.target.style.display="none"}})})]}),e.jsx("div",{style:a.separator}),d&&d.map((t,c)=>{const p=t.name.substring(0,2).toUpperCase(),i=Z===t.id,z=Qt===t.id,K=Zt===c&&!z,s=Object.keys(Te).filter(L=>L.startsWith("room-")&&t.categories?.some(je=>je.rooms?.some(oe=>`room-${oe.slug}`===L))).reduce((L,je)=>L+(Te[je]||0),0);return e.jsxs("div",{style:{position:"relative",marginBottom:"8px",display:"flex",alignItems:"center",width:"100%",justifyContent:"center"},children:[e.jsx("div",{style:{position:"absolute",left:0,width:"4px",height:i?"40px":q===t.id?"20px":s>0?"8px":"0px",backgroundColor:"#fff",borderRadius:"0 4px 4px 0",transition:"height 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"}}),K&&ut==="before"&&e.jsx("div",{style:{position:"absolute",top:"-4px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:"#43b581",borderRadius:"2px",zIndex:1e3,boxShadow:"0 0 8px rgba(67, 181, 129, 0.6)"}}),e.jsxs("div",{draggable:!0,onDragStart:L=>ao(L,t.id,c),onDragOver:L=>lo(L,c),onDragEnd:co,onDrop:L=>po(L,c),style:{...a.serverIcon,backgroundColor:i||q===t.id?"#5865f2":"#313338",borderRadius:i||q===t.id?"16px":"50%",cursor:z?"grabbing":"grab",position:"relative",transition:"border-radius 0.3s ease, background-color 0.3s ease, opacity 0.2s ease, transform 0.1s ease",opacity:z?.4:1,marginBottom:0},onClick:()=>no(t),onContextMenu:L=>so(L,t),onMouseEnter:()=>le(t.id),onMouseLeave:()=>le(null),onMouseDown:L=>{L.currentTarget.style.cursor="grabbing",L.currentTarget.style.transform="scale(0.95)"},onMouseUp:L=>{L.currentTarget.style.cursor="grab",L.currentTarget.style.transform="scale(1)"},title:t.name,children:[t.icon?e.jsx(Et,{src:t.icon,alt:t.name,style:{width:"100%",height:"100%",borderRadius:"inherit",objectFit:"cover"}}):e.jsx("span",{style:{fontWeight:"bold",fontSize:"14px",color:"white"},children:p}),s>0&&e.jsx("div",{style:a.serverBadge,children:s>99?"99+":s})]}),K&&ut==="after"&&e.jsx("div",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:"#43b581",borderRadius:"2px",zIndex:1e3,boxShadow:"0 0 8px rgba(67, 181, 129, 0.6)"}})]},t.id)}),e.jsx("div",{style:{...a.serverIcon,backgroundColor:q==="discover"?"#23a559":"#313338",color:q==="discover"?"white":"#23a559",marginTop:"10px",borderRadius:q==="discover"?"16px":"50%",transition:"border-radius 0.3s ease, background-color 0.3s ease, color 0.3s ease"},onClick:()=>{xt(!0),_n()},onMouseEnter:()=>le("discover"),onMouseLeave:()=>le(null),title:"Sunucu KeÅŸfet",children:e.jsx(Wt,{size:24})}),e.jsx("div",{style:{...a.serverIcon,background:q==="store"?"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)":"#313338",color:q==="store"?"#000":"#F1C40F",fontWeight:"bold",cursor:"pointer",borderRadius:q==="store"?"16px":"50%",transition:"border-radius 0.3s ease, background 0.3s ease, color 0.3s ease"},onClick:at,onMouseEnter:()=>le("store"),onMouseLeave:()=>le(null),title:"Premium MaÄŸaza",children:"ğŸ›’"}),e.jsx("div",{style:{...a.serverIcon,backgroundColor:q==="add"?"#23a559":"#313338",color:q==="add"?"white":"#23a559",borderRadius:q==="add"?"16px":"50%",transition:"border-radius 0.3s ease, background-color 0.3s ease, color 0.3s ease"},onClick:()=>mt(!0),onMouseEnter:()=>le("add"),onMouseLeave:()=>le(null),title:"Ekle",children:e.jsx(qe,{size:20})})]}),e.jsxs("div",{style:a.sidebar,children:[Z==="home"&&e.jsxs("div",{style:a.topSection,children:[e.jsx("div",{style:a.headerTitle,children:"Ana Sayfa"}),e.jsxs("div",{style:a.channelsContainer,children:[e.jsx("div",{style:{...a.roomItem,marginBottom:5},onClick:()=>v("ai"),children:e.jsxs("div",{style:a.channelContent,children:[e.jsx(Lo,{style:{marginRight:8}})," ",e.jsx("span",{children:"PawPaw AI"})]})}),e.jsx("div",{style:{...a.roomItem,marginBottom:15},onClick:()=>v("sinyal-bot"),children:e.jsxs("div",{style:a.channelContent,children:[e.jsx($o,{style:{marginRight:8}})," ",e.jsx("span",{children:"Sinyal Bot"})]})})]}),e.jsxs("div",{style:a.dmListContainer,children:[e.jsxs("div",{style:a.groupHeader,children:[e.jsx("span",{children:"Ã–ZEL MESAJLAR"}),e.jsxs("button",{onClick:n,style:{...a.addDmButton,position:"relative"},children:[e.jsx(Ht,{})," Ekle",me>0&&e.jsx("div",{style:{position:"absolute",top:"-6px",right:"-6px",backgroundColor:"#ed4245",color:"white",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",border:"2px solid #2b2d31",zIndex:1},children:me>9?"9+":me})]})]}),!x||x.length===0?e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#72767d",fontSize:"0.9em"},children:["HenÃ¼z Ã¶zel mesaj yok.",e.jsx("br",{}),"ArkadaÅŸ ekle butonuna tÄ±klayarak baÅŸla!"]}):x.map(t=>{const c=t.participants.find(i=>i.username!==R);if(!c)return null;const p=Te[`dm-${t.id}`]||0;return e.jsxs("div",{style:{...a.dmItem,backgroundColor:w===t.id?"rgba(255,255,255,0.1)":"transparent",position:"relative"},onClick:()=>j(t.id,c.username),onContextMenu:i=>{i.preventDefault(),Qe({x:i.clientX,y:i.clientY,conversation:t})},onDragOver:i=>{i.preventDefault(),i.stopPropagation(),i.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.3)"},onDragLeave:i=>{i.preventDefault(),i.currentTarget.style.backgroundColor=w===t.id?"rgba(255,255,255,0.1)":"transparent"},onDrop:i=>{i.preventDefault(),i.stopPropagation(),i.currentTarget.style.backgroundColor=w===t.id?"rgba(255,255,255,0.1)":"transparent";const z=i.dataTransfer.files;z&&z.length>0&&(j(t.id,c.username),setTimeout(()=>{const K=document.querySelector('input[type="file"]');if(K){const s=new DataTransfer;for(let L=0;L<z.length;L++)s.items.add(z[L]);K.files=s.files,K.dispatchEvent(new Event("change",{bubbles:!0}))}},100),C.success(`ğŸ“ ${z.length} dosya ${c.username}'a gÃ¶nderiliyor...`))},children:[e.jsxs("div",{style:{position:"relative",width:32,height:32},children:[e.jsx(Et,{src:We(c.avatar,c.username),style:{...a.avatarSmall,width:32,height:32},alt:""}),(()=>{const z=be.includes(c.username)?"#23a559":"#80848e";return e.jsx("div",{style:{position:"absolute",bottom:-2,right:-2,width:12,height:12,borderRadius:"50%",backgroundColor:z,border:"2px solid #2b2d31"}})})()]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginLeft:8,overflow:"hidden"},children:[e.jsx("span",{style:{fontWeight:p?"bold":"normal",color:"#dbdee1"},children:c.username}),(()=>{const z=(ge?.find(s=>s.username===c.username)||c).current_activity;if(!z)return null;const K=[];return z.steam&&K.push(e.jsxs("span",{style:{fontSize:"10px",color:"#66c0f4",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ğŸ® ",z.steam.name]},"steam")),z.spotify&&K.push(e.jsxs("span",{style:{fontSize:"10px",color:"#1db954",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ğŸµ ",z.spotify.name]},"spotify")),K.length===0&&(z.type==="listening"?K.push(e.jsxs("span",{style:{fontSize:"10px",color:"#1db954",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ğŸµ ",z.name]},"leg-sp")):z.type==="playing"&&K.push(e.jsxs("span",{style:{fontSize:"10px",color:"#66c0f4",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ğŸ® ",z.name]},"leg-st"))),K})()]}),p>0&&e.jsx("span",{style:a.unreadBadge,children:p})]},t.id)})]})]}),Z!=="home"&&d&&e.jsx("div",{style:a.topSection,children:d.filter(t=>t.id===Z).map(t=>{const c=t.owner_username===R||u,p=c||t.my_permissions?.is_owner;return e.jsxs("div",{children:[e.jsxs("div",{style:a.serverHeader,children:[e.jsx("h3",{style:{maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name}),e.jsxs("div",{style:{display:"flex",gap:"5px"},children:[e.jsx("button",{style:a.iconBtn,onClick:i=>uo(i,t),title:"Davet Linki",children:e.jsx(Po,{})}),c&&e.jsx("button",{style:a.iconBtn,onClick:i=>{i.stopPropagation(),It(t.id)},title:"Kategori Ekle",children:e.jsx(qe,{})}),p&&e.jsx("button",{style:a.iconBtn,onClick:i=>{i.stopPropagation(),de&&de(t)},title:"Sunucu AyarlarÄ±",children:e.jsx(ue,{})})]})]}),wn===t.id&&e.jsxs("form",{onSubmit:i=>Ln(i,t.id),style:a.addCategoryForm,children:[e.jsx("input",{autoFocus:!0,placeholder:"Kategori AdÄ±...",value:bn,onChange:i=>yn(i.target.value),style:a.addRoomInput}),e.jsxs("div",{style:a.addRoomControls,children:[e.jsx("button",{type:"submit",style:a.addRoomButton,children:"Ekle"}),e.jsx("button",{type:"button",onClick:()=>It(null),style:{...a.addRoomButton,background:"#da373c"},children:"X"})]})]}),t.categories&&t.categories.map(i=>{const z=Gt[i.id],K=Rt===`cat-${i.id}`;return e.jsxs("div",{style:{marginBottom:5},children:[e.jsxs("div",{style:a.categoryHeader,onClick:()=>to(i.id),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[z?e.jsx(Fo,{size:9}):e.jsx(Eo,{size:9}),K?e.jsx("form",{onSubmit:s=>Pn(s,i.id),onClick:s=>s.stopPropagation(),style:{marginLeft:5},children:e.jsx("input",{autoFocus:!0,value:Mt,onChange:s=>$e(s.target.value),onBlur:()=>Le(null),style:a.inlineInput})}):e.jsx("span",{style:{marginLeft:5},children:i.name})]}),c&&e.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"5px"},children:[e.jsx("button",{style:a.iconBtn,onClick:s=>Lt(s,"category",i.id,i.name),children:e.jsx(ue,{size:10})}),e.jsx("button",{style:a.iconBtn,onClick:s=>{s.stopPropagation(),zt(i.id)},children:e.jsx(qe,{size:10})})]})]}),Cn===i.id&&e.jsxs("form",{onSubmit:s=>$n(s,i.id),style:{padding:"5px 10px"},children:[e.jsx("input",{autoFocus:!0,placeholder:"Kanal AdÄ±...",value:vn,onChange:s=>kn(s.target.value),style:a.addRoomInput}),e.jsxs("select",{value:jn,onChange:s=>Sn(s.target.value),style:a.channelTypeSelect,children:[e.jsx("option",{value:"text",children:"ğŸ“ Metin"}),e.jsx("option",{value:"voice",children:"ğŸ¤ Sesli"}),e.jsx("option",{value:"kanban",children:"ğŸ“‹ Kanban Board"})]}),e.jsxs("div",{style:a.addRoomControls,children:[e.jsx("button",{type:"submit",style:a.addRoomButton,children:"Ekle"}),e.jsx("button",{type:"button",onClick:()=>zt(null),style:{...a.addRoomButton,background:"#da373c"},children:"X"})]})]}),!z&&i.rooms&&i.rooms.map(s=>{const L=P===s.slug,je=Te[`room-${s.slug}`]||0,oe=s.channel_type==="voice",$t=Rt===`room-${s.slug}`,Ze=oe&&Ge[s.slug]?Ge[s.slug].length:0;return s.is_locked||s.is_private,oe&&s.user_limit&&Ze>=s.user_limit,e.jsxs("div",{className:"channel-wrapper",children:[e.jsxs("div",{className:`channel-item ${oe?"voice-channel":"text-channel"} ${L?"active":""} ${ze===s.slug?"voice-channel-drop-target":""}`,style:{...a.roomItem,marginLeft:8,backgroundColor:ze===s.slug?"rgba(88, 101, 242, 0.2)":L?"rgba(88, 101, 242, 0.15)":"transparent",color:L?"#fff":"#949ba4",borderLeft:ze===s.slug||L?"3px solid #5865f2":"3px solid transparent",paddingLeft:L?"5px":"8px",transition:"all 0.2s ease",borderRadius:"6px",margin:"2px 8px",position:"relative",...ze===s.slug?{boxShadow:"inset 0 0 12px rgba(88, 101, 242, 0.15), 0 0 8px rgba(88, 101, 242, 0.2)",border:"1px dashed rgba(88, 101, 242, 0.5)"}:{}},onClick:()=>{oe?l(s.slug):v(s.slug)},onDragOver:_=>{oe&&(_.preventDefault(),_.dataTransfer.dropEffect="move",Xe(s.slug))},onDragLeave:_=>{ze===s.slug&&Xe(null)},onDrop:_=>{if(_.preventDefault(),Xe(null),!(!oe||!u))try{const ee=JSON.parse(_.dataTransfer.getData("application/json"));ee.username&&ee.fromChannel&&ee.fromChannel!==s.slug&&Dt(ee.username,ee.fromChannel,s.slug)}catch{}},children:[e.jsxs("div",{style:a.channelContent,children:[oe&&e.jsx(No,{style:{...a.voiceIcon,color:L?"#43b581":"#949ba4",transition:"color 0.2s ease"}}),!oe&&e.jsx(ue,{style:{...a.hashtagIcon,fontSize:"0.9em"}}),$t?e.jsx("form",{onSubmit:_=>En(_,s.slug),onClick:_=>_.stopPropagation(),style:{flex:1},children:e.jsx("input",{autoFocus:!0,value:Mt,onChange:_=>$e(_.target.value),onBlur:()=>Le(null),style:a.inlineInput})}):e.jsxs("span",{style:{...a.channelNameText,paddingLeft:"5px",fontWeight:L?"600":"normal",flex:1,display:"flex",alignItems:"center",gap:"6px"},children:[s.name,s.is_private&&e.jsx("span",{style:{fontSize:"0.7em",color:"#faa61a",border:"1px solid #faa61a",borderRadius:"3px",padding:"1px 4px"},children:"ğŸ”’"}),s.is_nsfw&&e.jsx("span",{style:{fontSize:"0.7em",color:"#f04747",border:"1px solid #f04747",borderRadius:"3px",padding:"1px 4px"},children:"18+"}),s.is_locked&&e.jsx("span",{style:{fontSize:"0.7em",color:"#949ba4",border:"1px solid #949ba4",borderRadius:"3px",padding:"1px 4px"},children:"ğŸ”"}),s.admin_only_chat&&e.jsx("span",{style:{fontSize:"0.7em",color:"#43b581",border:"1px solid #43b581",borderRadius:"3px",padding:"1px 4px"},children:"ğŸ“¢"})]}),oe&&e.jsxs("span",{style:{fontSize:"0.75em",color:Ze>0?"#43b581":"#72767d",fontWeight:"500",marginLeft:"auto",marginRight:"4px"},children:["(",Ze,"/",s.user_limit>0?s.user_limit:"âˆ",")"]})]}),c&&!$t&&e.jsx("div",{style:{display:"flex",gap:"3px",marginLeft:"5px"},children:e.jsx("button",{style:a.iconBtn,onClick:_=>Lt(_,"room",s.slug,s.name),children:e.jsx(ue,{size:12})})}),je>0&&e.jsx("span",{style:a.unreadBadge,children:je})]}),oe&&e.jsx("div",{style:{marginLeft:"28px",marginTop:"2px",marginBottom:"2px",padding:"0",position:"relative",zIndex:1},children:e.jsx(pr,{voiceUsers:Ge,roomName:s.slug,currentUsername:R,remoteVolumes:A,setRemoteVolume:B,isClientInThisChannel:P===s.slug,isPttActive:S,isAdmin:u,voiceChannels:i.rooms.filter(_=>_.is_voice),friendsList:ye,getDeterministicAvatar:I,allUsers:ge,onUserAction:(_,ee,Pt)=>{if(_==="profile")y?.(ee);else if(_==="message"||_==="dm"){const Ft=x.find(xo=>xo.participants.some(go=>go.username===ee));Ft&&j(Ft.id,ee)}else _==="add_friend"?qn(ee):_==="remove_friend"?eo(ee):_==="mute_local"||(_==="move"&&Pt?Dt(ee,s.slug,Pt):_==="kick"&&An(ee,s.slug))}})})]},s.id)})]},i.id)})]},t.id)})}),e.jsx(kr,{isOpen:tn,onClose:()=>mt(!1),onCreateServer:Dn}),e.jsxs("div",{style:a.bottomSection,children:[u&&e.jsxs("button",{onClick:k,style:{width:"100%",padding:"12px",marginBottom:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",color:"white",fontWeight:"600",fontSize:"0.95em",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:[e.jsx(ue,{size:16}),e.jsx("span",{children:"Admin Panel"})]}),e.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"10px",padding:"5px",backgroundColor:"#1e1f22",borderRadius:"8px",overflowX:"auto",scrollbarWidth:"thin"},children:[m&&e.jsx("button",{onClick:m,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ’° Payment Panel",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ’°"}),F&&e.jsx("button",{onClick:F,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ›’ Store",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ›’"}),U&&e.jsx("button",{onClick:U,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ Daily Rewards",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ"}),Q&&e.jsx("button",{onClick:Q,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ“Š API Usage",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ“Š"}),ie&&e.jsx("button",{onClick:ie,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ“¥ Export Jobs",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ“¥"}),ce&&e.jsx("button",{onClick:ce,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ“¢ Scheduled Announcements",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ“¢"}),lt&&e.jsx("button",{onClick:lt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ® Mini Games",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ®"}),dt&&e.jsx("button",{onClick:dt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ“‚ Projects",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ“‚"}),ct&&e.jsx("button",{onClick:ct,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ¨ Avatar Studio",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ¨"})]}),(re||te)&&e.jsxs("div",{style:{padding:"8px",backgroundColor:"#232428",borderTop:"1px solid #1e1f22",borderBottom:"1px solid #1e1f22"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",padding:"0 4px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("img",{src:We(f?.avatar,R),alt:R,style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid #23a559",boxShadow:"0 0 8px rgba(35, 165, 89, 0.5)"},onError:t=>{t.target.onerror=null,t.target.src=I(R)}}),e.jsx("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:V?"#f04747":"#23a559",border:"2px solid #232428",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px"},children:V?"ğŸ”‡":"ğŸ¤"})]}),e.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[e.jsx("div",{style:{color:te?"#eba61e":"#23a559",fontWeight:"bold",fontSize:"0.8em"},children:te?"BaÄŸlanÄ±lÄ±yor...":"Ses BaÄŸlandÄ±"}),e.jsxs("div",{style:{fontSize:"0.7em",color:"#b9bbbe",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[Vt," / Genel"]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"5px"},children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),nt()},style:{flex:1,background:Me?"#23a559":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:Me?"KamerayÄ± Kapat":"KamerayÄ± AÃ§",children:Me?e.jsx(Ao,{size:16}):e.jsx(_o,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),ot()},style:{flex:1,background:Ne?"#23a559":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:Ne?"PaylaÅŸÄ±mÄ± Durdur":"Ekran PaylaÅŸ",children:e.jsx(Oo,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),Ce()},style:{flex:1,background:V?"#da373c":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:V?"Sesi AÃ§":"Sessize Al",children:V?e.jsx(Ko,{size:16}):e.jsx(Wo,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),N()},style:{flex:1,background:ae?"#da373c":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:ae?"Duy":"SaÄŸÄ±rlaÅŸtÄ±r",children:ae?e.jsx(Ho,{size:18}):e.jsx(Jo,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),window.dispatchEvent(new CustomEvent("openVoiceSettings"))},style:{flex:1,background:"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:"Ses AyarlarÄ±",children:e.jsx(ue,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),typeof D=="function"&&D()},style:{flex:1,background:"#da373c",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:"Sesli Kanaldan Ã‡Ä±k",children:e.jsx(Yo,{size:16})})]})]}),!(re||te)&&e.jsxs("div",{onClick:()=>gt(!0),style:{backgroundColor:"#1e1f22",padding:re||te?"6px 10px":"10px 14px",margin:"0 8px 8px 8px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:re||te?"8px":"12px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid transparent",background:"linear-gradient(135deg, rgba(235, 69, 158, 0.06) 0%, rgba(88, 101, 242, 0.06) 100%)",overflow:"hidden",flexShrink:0,minHeight:re||te?"36px":"44px"},onMouseEnter:t=>{t.currentTarget.style.background="linear-gradient(135deg, rgba(235, 69, 158, 0.12) 0%, rgba(88, 101, 242, 0.12) 100%)",t.currentTarget.style.borderColor="#eb459e",t.currentTarget.style.transform="scale(1.01)"},onMouseLeave:t=>{t.currentTarget.style.background="linear-gradient(135deg, rgba(235, 69, 158, 0.06) 0%, rgba(88, 101, 242, 0.06) 100%)",t.currentTarget.style.borderColor="transparent",t.currentTarget.style.transform="scale(1)"},title:"GeliÅŸtiriciye Destek Ol",children:[e.jsx(Kt,{style:{color:"#eb459e",fontSize:re||te?"14px":"18px",flexShrink:0,animation:"heartPulse 2s ease-in-out infinite"}}),e.jsx("div",{style:{flex:1,textAlign:"left",overflow:"hidden"},children:e.jsx("div",{style:{color:"white",fontWeight:"600",fontSize:re||te?"11px":"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:re||te?"Destekle":"Developer'Ä± Destekle"})}),e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(235, 69, 158, 0.2) 0%, rgba(88, 101, 242, 0.2) 100%)",padding:re||te?"2px 6px":"4px 8px",borderRadius:"10px",fontSize:re||te?"10px":"12px",color:"#eb459e",fontWeight:"bold",flexShrink:0},children:"â˜•"})]}),e.jsx(Go,{currentUserProfile:f,currentUsername:R,getDeterministicAvatar:I,onProfileClick:g,updateAvailable:it,onUpdateClick:st})]})]}),e.jsx(vr,{isOpen:qt,onClose:()=>xt(!1),publicServers:fn,onJoinServer:On,onJoinViaCode:Kn}),nn&&ft&&e.jsx(Xo,{onClose:()=>{ht(!1),bt(null)},server:ft,fetchWithAuth:O,apiBaseUrl:Be,currentUser:R}),yt&&X.createPortal(e.jsx(Qo,{type:yt,onClose:()=>on(null),fetchWithAuth:O,apiBaseUrl:M}),document.body),rn&&X.createPortal(e.jsx(Zo,{room:Ut,conversation:w,onClose:()=>sn(!1),fetchWithAuth:O,apiBaseUrl:M}),document.body),an&&X.createPortal(e.jsx(qo,{serverId:Z,onClose:()=>vt(!1),fetchWithAuth:O,apiBaseUrl:M}),document.body),ln&&X.createPortal(e.jsx(er,{serverId:Z,onClose:()=>dn(!1),fetchWithAuth:O,apiBaseUrl:M}),document.body),cn&&X.createPortal(e.jsx(xr,{onClose:()=>ke(!1),onOpenWebhooks:()=>{ke(!1),vt(!0)},onOpenAuditLogs:()=>{ke(!1),kt(!0)},onOpenReports:()=>{ke(!1),jt(!0)},onOpenVanityURL:()=>{ke(!1),St(!0)},onOpenAutoResponder:()=>{ke(!1),wt(!0)}}),document.body),pn&&X.createPortal(e.jsx(gr,{serverId:Z,onClose:()=>kt(!1),fetchWithAuth:O,apiBaseUrl:M}),document.body),un&&X.createPortal(e.jsx(hr,{serverId:Z,onClose:()=>jt(!1),fetchWithAuth:O,apiBaseUrl:M}),document.body),xn&&X.createPortal(e.jsx(tr,{serverId:Z,onClose:()=>St(!1),fetchWithAuth:O,apiBaseUrl:M}),document.body),gn&&X.createPortal(e.jsx(nr,{serverId:Z,onClose:()=>wt(!1),fetchWithAuth:O,apiBaseUrl:M}),document.body),H&&X.createPortal(e.jsx(br,{x:H.x,y:H.y,server:H.server,isOwner:H.isOwner,onClose:()=>pe(null),onLeaveServer:()=>zn(H.server.id),onServerSettings:()=>{de(H.server),pe(null)},onMuteServer:()=>{const t=H.server.id;Ct(c=>{const p=[...c,t];return localStorage.setItem("mutedServers",JSON.stringify(p)),p}),pe(null)},onUnmuteServer:()=>{const t=H.server.id;Ct(c=>{const p=c.filter(i=>i!==t);return localStorage.setItem("mutedServers",JSON.stringify(p)),p}),pe(null)},onMoveUp:()=>Bt(H.server.id,"up"),onMoveDown:()=>Bt(H.server.id,"down"),onCopyInvite:()=>Bn(H.server.id),onChangeIcon:()=>{Mn(H.server.id),pe(null)},onChangePrivacy:()=>{Tn(H.server.id),pe(null)},onDeleteServer:async()=>{H.server.id,H.server.name,Tt({server:H.server,isOpen:!0}),pe(null)},canMoveUp:d&&d.findIndex(t=>t.id===H.server.id)>0,canMoveDown:d&&d.findIndex(t=>t.id===H.server.id)<d.length-1,isMuted:hn.includes(H.server.id)}),document.body),ne&&X.createPortal((()=>{const t=ne.conversation.participants.find(p=>p.username!==R);if(!t)return null;const c=[{icon:"ğŸ‘¤",label:"Profili GÃ¶rÃ¼ntÃ¼le",color:"#dbdee1",onClick:()=>Un(t.username),divider:!1},{icon:"ğŸ’¬",label:"Mesaj GÃ¶nder",color:"#dbdee1",onClick:()=>{const p=ne.conversation.participants?.find(i=>i.username!==R);j(ne.conversation.id,p?.username),Qe(null)},divider:!0},{icon:"ğŸ«",label:"Sunucuya Davet Et",color:"#5865f2",onClick:()=>Vn(t.username),divider:!1},{icon:"ğŸ“Œ",label:"KonuÅŸmayÄ± Sabitle",color:"#dbdee1",onClick:()=>Qn(ne.conversation.id),divider:!0},{icon:"ğŸ”‡",label:"Sessize Al",color:"#b9bbbe",onClick:()=>Xn(t.username,ne.conversation.id),divider:!1},{icon:"ğŸ‘ï¸â€ğŸ—¨ï¸",label:"KonuÅŸmayÄ± Gizle",color:"#b9bbbe",onClick:()=>Yn(ne.conversation.id),divider:!0},{icon:"ğŸ—‘ï¸",label:"KonuÅŸmayÄ± Temizle",color:"#f23f42",onClick:()=>Jn(ne.conversation.id),divider:!1},{icon:"ğŸš«",label:"KullanÄ±cÄ±yÄ± Engelle",color:"#ed4245",onClick:()=>Zn(t.username),divider:!1}];return e.jsxs("div",{onClick:p=>p.stopPropagation(),style:{position:"fixed",top:ne.y,left:ne.x,backgroundColor:"#111214",border:"1px solid #2b2d31",borderRadius:"8px",minWidth:"220px",boxShadow:"0 8px 24px rgba(0,0,0,0.4), 0 0 1px rgba(0,0,0,0.5)",zIndex:999999,overflow:"hidden",animation:"contextMenuSlide 0.1s ease-out"},children:[e.jsxs("div",{style:{padding:"12px",backgroundColor:"#1e1f22",borderBottom:"1px solid #2b2d31",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("img",{src:We(t.avatar,t.username),style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"},alt:""}),e.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[e.jsx("div",{style:{color:"#f2f3f5",fontSize:"14px",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.username}),e.jsx("div",{style:{color:"#b9bbbe",fontSize:"12px",marginTop:"2px"},children:be.includes(t.username)?"ğŸŸ¢ Ã‡evrimiÃ§i":"âš« Ã‡evrimdÄ±ÅŸÄ±"})]})]}),c.map((p,i)=>e.jsxs(xe.Fragment,{children:[e.jsxs("div",{onClick:p.onClick,style:{padding:"10px 12px",cursor:"pointer",color:p.color,fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.1s ease",backgroundColor:"transparent"},onMouseEnter:z=>{z.currentTarget.style.backgroundColor=p.color==="#f23f42"||p.color==="#ed4245"?"rgba(237, 66, 69, 0.15)":"rgba(88, 101, 242, 0.1)",z.currentTarget.style.paddingLeft="16px"},onMouseLeave:z=>{z.currentTarget.style.backgroundColor="transparent",z.currentTarget.style.paddingLeft="12px"},children:[e.jsx("span",{style:{fontSize:"16px",width:"20px",textAlign:"center"},children:p.icon}),e.jsx("span",{style:{flex:1},children:p.label})]}),p.divider&&e.jsx("div",{style:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 8px"}})]},i))]})})(),document.body),he?.isOpen&&e.jsx(Nt,{isOpen:he.isOpen,onClose:()=>Tt(null),onConfirm:async()=>{const t=he.server.id,c=he.server.name;try{const p=await O(`${Be}/servers/${t}/delete/`,{method:"DELETE"});if(p.ok)C.success(`"${c}" sunucusu baÅŸarÄ±yla silindi!`,5e3),ve("home"),r();else{const i=await p.json();C.error(`Hata: ${i.error||"Sunucu silinirken bir hata oluÅŸtu"}`)}}catch{C.error("Sunucu silinirken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}},title:"âš ï¸ Sunucuyu Sil",message:`"${he.server.name}" sunucusunu KALÄ°CÄ° OLARAK silmek Ã¼zeresiniz!`,confirmText:"Sunucuyu Sil",cancelText:"Ä°ptal",type:"danger",requireTextConfirmation:!0,confirmationText:he.server.name,inputPlaceholder:`Onaylamak iÃ§in "${he.server.name}" yazÄ±n...`,dangerDetails:["Sunucudaki TÃœM kanallar silinecek","Sunucudaki TÃœM mesajlar silinecek","TÃœM Ã¼yeler atÄ±lacak","TÃ¼m roller ve ayarlar silinecek"]}),Pe?.isOpen&&e.jsx(Nt,{isOpen:Pe.isOpen,onClose:()=>In(null),onConfirm:async()=>{await Rn(Pe.server.id)},title:"ğŸšª Sunucudan AyrÄ±l",message:`"${Pe.server.name}" sunucusundan ayrÄ±lmak istediÄŸinize emin misiniz?`,confirmText:"AyrÄ±l",cancelText:"VazgeÃ§",type:"warning",dangerDetails:["Sunucudaki mesajlarÄ±nÄ±z silinmeyecek","Tekrar katÄ±lmak iÃ§in davet almanÄ±z gerekecek","Sunucuyla ilgili tÃ¼m bildirimler duracak"]}),e.jsx(Sr,{inviteToServerModal:Wn,servers:d,onSendInvite:Gn,onClose:()=>Hn(null)}),mn&&De&&(()=>{const c=d?.find(p=>p.id===De.server_id)?.roles||[];return e.jsx(or,{room:De,serverId:De.server_id||Z,serverRoles:c,onClose:()=>{Ue(!1),Ve(null)},onUpdate:p=>{Ue(!1),Ve(null)},fetchWithAuth:O,apiBaseUrl:M})})()]})},Zr=xe.memo(zr);export{Zr as default};

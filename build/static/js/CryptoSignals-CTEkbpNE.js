import{r as d,b as e}from"./react-core-9vc7GIjk.js";import{P as z,y as W,G as B,x as A}from"./icons-vendor-BHKL7tCa.js";import{L as U}from"./router-vendor-u6fxj6P4.js";import"./editor-vendor-DiU449Dh.js";const F=window.Capacitor?.isNativePlatform?.()||window.location.protocol==="capacitor:"||window.location.protocol==="ionic:",j=F?"https://api.pawscord.com":window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://127.0.0.1:8888":"https://api.pawscord.com",G=`${j}/api/crypto/signals/`,V=()=>{const[m,w]=d.useState(null),[g,k]=d.useState(null),[T,L]=d.useState(null),[x,O]=d.useState(!0),[u,I]=d.useState(!1),[f,v]=d.useState(null),[E,h]=d.useState(""),y=d.useRef(null),C=d.useRef(0),Y=(o,n)=>{v({name:o,data:n}),setTimeout(()=>h("open"),10)},_=()=>{h("closing"),setTimeout(()=>{v(null),h("")},300)},D=o=>({rank:"Sƒ±ra",coin:"Coin",timeframe:"Zaman",signal:"Sinyal",pozisyon_yonu:"Pozisyon",sinyal_yonu:"Yeni Sinyal",yon_uyumu:"Durum",ters_sinyal:"Ters?",entry_price:"Giri≈ü",current_price:"≈ûu An",pnl_percent:"Kar/Zarar %",bars_ago:"Bar",days_ago:"G√ºn",trades:"ƒ∞≈ülem",win_rate:"Ba≈üarƒ± %",x_kat:"X Kat",hedef_roe:"Hedef ROE",status:"Durum"})[o]||o,N=(o,n)=>{if(n==null)return"-";if(o==="ters_sinyal")return null;if(o==="pozisyon_yonu")return e.createElement("span",{style:{padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",backgroundColor:n==="LONG"?"#23a55922":"#ed424222",color:n==="LONG"?"#23a559":"#ed4245"}},n==="LONG"?"üìà LONG":"üìâ SHORT");if(o==="sinyal_yonu"||o==="signal")return e.createElement("span",{style:{padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",backgroundColor:n==="LONG"?"#5865f222":"#faa61a22",color:n==="LONG"?"#5865f2":"#faa61a"}},n==="LONG"?"‚¨ÜÔ∏è LONG":"‚¨áÔ∏è SHORT");if(o==="yon_uyumu"){const a=n.includes("UYUYOR")||n.includes("AYNI");return e.createElement("span",{style:{padding:"6px 12px",borderRadius:"6px",fontWeight:"bold",fontSize:"0.95em",backgroundColor:a?"#23a55944":"#ed424544",color:a?"#57F287":"#ED4245",border:`2px solid ${a?"#57F287":"#ED4245"}`,textShadow:a?"0 0 8px #57F287":"0 0 8px #ED4245"}},a?"‚úÖ Y√ñN UYUYOR":"‚ö†Ô∏è TERS Sƒ∞NYAL")}if(o==="status"){const a=n.includes("UYUYOR")||n.includes("AYNI"),l=n.includes("KAR"),i=n.includes("TERS");let s,c,r;return a?(s="#23a55944",c="#57F287",r="‚úÖ Y√ñN UYUYOR"):i?(s="#ed424544",c="#ED4245",r="‚ö†Ô∏è TERS Sƒ∞NYAL"):l?(s="#23a55933",c="#57F287",r=n):(s="#ed424533",c="#ED4245",r=n),e.createElement("span",{style:{padding:"6px 12px",borderRadius:"6px",fontWeight:"bold",backgroundColor:s,color:c,border:`2px solid ${c}`,textShadow:`0 0 8px ${c}`}},r)}if(o==="pnl_percent"){const a=String(n).includes("+");return e.createElement("span",{style:{fontWeight:"bold",color:a?"#23a559":"#ed4245"}},n)}if(o==="coin"){const a=n.endsWith("USDT")?n:`${n}USDT`;return e.createElement("a",{href:`https://www.binance.com/en/futures/${a}`,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:"bold",color:"#f0b232",textDecoration:"none",cursor:"pointer"},onMouseOver:l=>l.target.style.textDecoration="underline",onMouseOut:l=>l.target.style.textDecoration="none"},n)}return String(n)},S=d.useCallback(async()=>{try{y.current&&(C.current=y.current.scrollTop);const n=await(await fetch(`${G}?t=${Date.now()}`)).json();if(w(n),L(new Date(n.meta.export_time)),!g&&n.tabs){const a=Object.keys(n.tabs)[0];k(a)}setTimeout(()=>{y.current&&C.current>0&&(y.current.scrollTop=C.current)},50)}catch(o){console.error("Signal y√ºkleme hatasƒ±:",o)}},[g]);if(d.useEffect(()=>{S()},[]),d.useEffect(()=>{if(!x)return;const o=setInterval(()=>{S()},3e4);return()=>clearInterval(o)},[x]),!m)return e.createElement("div",{style:t.container},e.createElement("div",{style:t.loadingContainer},e.createElement(z,{className:"spin",size:40,color:"#f0b232"}),e.createElement("p",null,"Sinyaller y√ºkleniyor...")));const p=m?.tabs?.[g];return e.createElement("div",{style:t.container},e.createElement("div",{style:t.header},e.createElement("div",{style:t.headerLeft},e.createElement(U,{to:"/",style:t.backButton},e.createElement(W,null)," Ana Men√º"),e.createElement("h1",{style:t.title},e.createElement(B,{style:{color:"#f0b232",marginRight:"10px"}}),"Kripto Sinyaller")),e.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},T&&e.createElement("div",{style:t.updateTime},e.createElement(A,null)," ",T.toLocaleTimeString("tr-TR")),e.createElement("label",{style:t.autoRefreshLabel},e.createElement("input",{type:"checkbox",checked:x,onChange:o=>O(o.target.checked),style:{marginRight:"5px"}}),"Otomatik Yenile"),e.createElement("button",{onClick:()=>I(!u),style:{...t.refreshButton,backgroundColor:u?"#23a559":"#5865f2"}},u?"üìä Detay":"‚ö° √ñzet"),e.createElement("button",{onClick:S,style:t.refreshButton},e.createElement(z,null)," Yenile"))),m?.meta&&e.createElement("div",{style:t.metaBar},e.createElement("div",{style:t.metaItem},e.createElement("strong",null,"Toplam Strateji:")," ",m.meta.total_strategies),m.meta.position_coins?.length>0&&e.createElement("div",{style:t.metaItem},e.createElement("strong",null,"Pozisyondaki Coinler:")," ",e.createElement("span",{style:{color:"#23a559"}},m.meta.position_coins.join(", "))),e.createElement("div",{style:t.metaItem},e.createElement("strong",null,"Versiyon:")," ",m.meta.version)),m?.tabs&&e.createElement("div",{style:t.tabsContainer},Object.entries(m.tabs).map(([o,n])=>e.createElement("button",{key:o,onClick:()=>k(o),style:{...t.tab,...g===o?t.activeTab:{}}},e.createElement("div",{style:t.tabTitle},n.title),e.createElement("div",{style:t.tabDesc},n.description),e.createElement("div",{style:t.tabCount},n.count," kayƒ±t")))),p&&e.createElement("div",{style:t.content},e.createElement("h2",{style:t.contentTitle},p.title),e.createElement("p",{style:t.contentDesc},p.description),u&&p.data?.length>0&&e.createElement("div",{style:t.compactGrid},(()=>{const o={};return p.data.forEach(n=>{const a=n.coin||"UNKNOWN";o[a]||(o[a]=[]),o[a].push(n)}),Object.entries(o).map(([n,a])=>{const i=a.slice(0,10).map(r=>{const b=r.yon_uyumu||r.status||"";return b.includes("UYUYOR")||b.includes("AYNI")});for(;i.length<10;)i.push(null);const s=i.filter(r=>r===!0).length,c=i.filter(r=>r===!1).length;return a[0],e.createElement("div",{key:n,style:t.compactCard,onClick:()=>Y(n,a),onMouseEnter:r=>{r.currentTarget.style.transform="translateY(-4px) scale(1.02)",r.currentTarget.style.boxShadow="0 8px 25px rgba(240,178,50,0.3)",r.currentTarget.style.borderColor="#f0b232"},onMouseLeave:r=>{r.currentTarget.style.transform="translateY(0) scale(1)",r.currentTarget.style.boxShadow="none",r.currentTarget.style.borderColor="#1f2023"}},e.createElement("div",{style:t.compactHeader},e.createElement("span",{style:t.compactCoinName},n),e.createElement("span",{style:{color:"#949ba4",fontSize:"0.8em"}},a.length," pozisyon")),e.createElement("div",{style:t.dotsContainer},i.map((r,b)=>e.createElement("div",{key:b,style:{width:"14px",height:"14px",borderRadius:"50%",backgroundColor:r===null?"#40444b":r?"#23a559":"#da373c",boxShadow:r===null?"none":r?"0 0 6px #23a559":"0 0 6px #da373c"},title:r===null?"Veri yok":r?"Y√∂n Uyuyor":"Ters Sinyal"}))),e.createElement("div",{style:t.compactStats},e.createElement("span",{style:{color:"#23a559",fontWeight:"bold"}},"‚úì ",s),e.createElement("span",{style:{color:"#da373c",fontWeight:"bold"}},"‚úó ",c)))})})()),!u&&p.data?.length>0&&e.createElement("div",{ref:y,style:t.tableContainer},e.createElement("table",{style:t.table},e.createElement("thead",null,e.createElement("tr",null,Object.keys(p.data[0]).filter(o=>o!=="ters_sinyal").map(o=>e.createElement("th",{key:o,style:t.th},D(o))))),e.createElement("tbody",null,p.data.map((o,n)=>e.createElement("tr",{key:n,style:t.tr},Object.entries(o).filter(([a])=>a!=="ters_sinyal").map(([a,l],i)=>e.createElement("td",{key:i,style:t.td},N(a,l)))))))),(!p.data||p.data.length===0)&&e.createElement("div",{style:t.emptyState},e.createElement("p",null,"Bu sekmede hen√ºz veri yok"))),f&&e.createElement("div",{style:{...t.modalOverlay,opacity:E==="open"?1:0},onClick:_},e.createElement("div",{style:{...t.modalContent,transform:E==="open"?"translateY(0) scale(1)":"translateY(50px) scale(0.9)",opacity:E==="open"?1:0},onClick:o=>o.stopPropagation()},e.createElement("div",{style:t.modalHeader},e.createElement("div",{style:t.modalCoinInfo},e.createElement(B,{style:{fontSize:"28px",color:"#f0b232"}}),e.createElement("h2",{style:t.modalTitle},f.name),e.createElement("span",{style:t.modalBadge},f.data?.length||0," Strateji")),e.createElement("button",{onClick:_,style:t.modalCloseBtn},"‚úï")),e.createElement("div",{style:t.modalStats},(()=>{const o=f.data||[],n=o.filter(s=>{const c=s.yon_uyumu||s.status||"";return c.includes("UYUYOR")||c.includes("AYNI")}).length,a=o.filter(s=>(s.yon_uyumu||s.status||"").includes("TERS")).length,l=o.reduce((s,c)=>{const r=parseFloat(c.pnl_percent)||0;return s+r},0)/(o.length||1),i=o[0]||{};return e.createElement(e.Fragment,null,e.createElement("div",{style:t.statBox},e.createElement("span",{style:t.statValue},n),e.createElement("span",{style:{...t.statLabel,color:"#23a559"}},"‚úì Y√∂n Uyuyor")),e.createElement("div",{style:t.statBox},e.createElement("span",{style:t.statValue},a),e.createElement("span",{style:{...t.statLabel,color:"#da373c"}},"‚úó Ters Sinyal")),e.createElement("div",{style:t.statBox},e.createElement("span",{style:{...t.statValue,color:l>=0?"#23a559":"#da373c"}},l>=0?"+":"",l.toFixed(2),"%"),e.createElement("span",{style:t.statLabel},"Ort. PNL")),e.createElement("div",{style:t.statBox},e.createElement("span",{style:t.statValue},i.current_price||"-"),e.createElement("span",{style:t.statLabel},"≈ûu Anki Fiyat")))})()),e.createElement("div",{style:t.modalPositions},e.createElement("h3",{style:t.modalSubtitle},"üìä Pozisyon Detaylarƒ±"),e.createElement("div",{style:t.positionsList},f.data?.map((o,n)=>{const a=o.yon_uyumu||o.status||"",l=a.includes("UYUYOR")||a.includes("AYNI"),i=parseFloat(o.pnl_percent)||0;return e.createElement("div",{key:n,style:{...t.positionCard,borderLeft:`4px solid ${l?"#23a559":"#da373c"}`,animationDelay:`${n*.05}s`}},e.createElement("div",{style:t.positionHeader},e.createElement("span",{style:t.positionTimeframe},o.timeframe||"N/A"),e.createElement("span",{style:{padding:"4px 10px",borderRadius:"4px",fontSize:"0.75em",fontWeight:"bold",backgroundColor:o.pozisyon_yonu==="LONG"?"#23a55922":"#ed424222",color:o.pozisyon_yonu==="LONG"?"#23a559":"#ed4245"}},o.pozisyon_yonu==="LONG"?"üìà LONG":"üìâ SHORT")),e.createElement("div",{style:t.positionBody},e.createElement("div",{style:t.positionRow},e.createElement("span",null,"Giri≈ü:"),e.createElement("strong",null,o.entry_price||"-")),e.createElement("div",{style:t.positionRow},e.createElement("span",null,"≈ûu An:"),e.createElement("strong",null,o.current_price||"-")),e.createElement("div",{style:t.positionRow},e.createElement("span",null,"PNL:"),e.createElement("strong",{style:{color:i>=0?"#23a559":"#da373c"}},i>=0?"+":"",i.toFixed(2),"%")),e.createElement("div",{style:t.positionRow},e.createElement("span",null,"Hedef:"),e.createElement("strong",{style:{color:"#f0b232"}},o.hedef_roe||o.x_kat||"-"))),e.createElement("div",{style:t.positionFooter},e.createElement("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"0.75em",backgroundColor:l?"#23a55933":"#da373c33",color:l?"#57F287":"#ED4245"}},l?"‚úÖ Y√∂n Uyuyor":"‚ö†Ô∏è Ters Sinyal"),o.bars_ago&&e.createElement("span",{style:{color:"#949ba4",fontSize:"0.75em"}},o.bars_ago," bar √∂nce")))}))))))},t={container:{backgroundColor:"#1e1f22",minHeight:"100vh",color:"#dcddde",padding:"20px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",gap:"20px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},headerLeft:{display:"flex",alignItems:"center",gap:"15px"},backButton:{textDecoration:"none",color:"#949ba4",fontSize:"0.9em",display:"flex",alignItems:"center",gap:"5px"},title:{margin:0,fontSize:"1.8em",display:"flex",alignItems:"center"},updateTime:{fontSize:"0.85em",color:"#949ba4",display:"flex",alignItems:"center",gap:"5px"},autoRefreshLabel:{fontSize:"0.85em",color:"#dcddde",display:"flex",alignItems:"center",cursor:"pointer"},refreshButton:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},metaBar:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",flexWrap:"wrap",gap:"20px",border:"1px solid #1f2023"},metaItem:{fontSize:"0.9em",color:"#b9bbbe"},tabsContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"15px",marginBottom:"20px"},tab:{backgroundColor:"#2b2d31",border:"1px solid #1f2023",borderRadius:"8px",padding:"15px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},activeTab:{backgroundColor:"#5865f2",borderColor:"#5865f2",boxShadow:"0 4px 12px rgba(88, 101, 242, 0.4)"},tabTitle:{fontSize:"1em",fontWeight:"bold",marginBottom:"5px",color:"#fff"},tabDesc:{fontSize:"0.8em",color:"#b9bbbe",marginBottom:"8px"},tabCount:{fontSize:"0.75em",color:"#f0b232",fontWeight:"bold"},content:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",border:"1px solid #1f2023"},contentTitle:{margin:"0 0 10px 0",color:"#fff",fontSize:"1.5em"},contentDesc:{margin:"0 0 20px 0",color:"#b9bbbe"},compactGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px",marginBottom:"20px"},compactCard:{backgroundColor:"#202225",borderRadius:"10px",padding:"12px",border:"1px solid #1f2023",transition:"transform 0.2s, box-shadow 0.2s"},compactHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},compactCoinName:{color:"#f0b232",fontWeight:"bold",fontSize:"1.1em"},dotsContainer:{display:"flex",gap:"5px",justifyContent:"center",marginBottom:"10px",flexWrap:"wrap"},compactStats:{display:"flex",justifyContent:"space-around",borderTop:"1px solid #40444b",paddingTop:"8px",fontSize:"0.9em"},tableContainer:{overflowX:"auto",borderRadius:"6px",border:"1px solid #1f2023"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.85em"},th:{backgroundColor:"#202225",color:"#fff",padding:"12px",textAlign:"left",borderBottom:"2px solid #f0b232",fontWeight:"bold",position:"sticky",top:0,zIndex:1},tr:{borderBottom:"1px solid #1f2023"},td:{padding:"10px 12px",color:"#dcddde"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#949ba4",fontSize:"1.1em"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",transition:"opacity 0.3s ease",backdropFilter:"blur(8px)"},modalContent:{backgroundColor:"#1e1f22",borderRadius:"16px",width:"100%",maxWidth:"700px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",border:"1px solid #f0b232",boxShadow:"0 20px 60px rgba(240, 178, 50, 0.3), 0 0 40px rgba(240, 178, 50, 0.1)",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease"},modalHeader:{padding:"20px 24px",borderBottom:"1px solid #2f3136",display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(135deg, #2b2d31 0%, #1e1f22 100%)"},modalCoinInfo:{display:"flex",alignItems:"center",gap:"12px"},modalTitle:{margin:0,fontSize:"1.5em",color:"#f0b232",fontWeight:"700"},modalBadge:{padding:"6px 12px",backgroundColor:"#5865f2",borderRadius:"20px",fontSize:"0.75em",fontWeight:"600",color:"#fff"},modalCloseBtn:{background:"none",border:"none",color:"#b9bbbe",fontSize:"24px",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"all 0.2s",lineHeight:1},modalStats:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",padding:"20px 24px",borderBottom:"1px solid #2f3136",background:"linear-gradient(180deg, rgba(240, 178, 50, 0.05) 0%, transparent 100%)"},statBox:{textAlign:"center",padding:"12px",backgroundColor:"#2b2d31",borderRadius:"10px",border:"1px solid #40444b"},statValue:{fontSize:"1.5em",fontWeight:"700",color:"#fff",display:"block",marginBottom:"4px"},statLabel:{fontSize:"0.75em",color:"#949ba4",textTransform:"uppercase",letterSpacing:"0.5px"},modalPositions:{flex:1,overflow:"auto",padding:"20px 24px"},modalSubtitle:{margin:"0 0 16px 0",fontSize:"1.1em",color:"#fff",fontWeight:"600"},positionsList:{display:"flex",flexDirection:"column",gap:"12px"},positionCard:{backgroundColor:"#2b2d31",borderRadius:"10px",padding:"16px",border:"1px solid #40444b",animation:"slideInFromRight 0.4s ease forwards",opacity:0,transform:"translateX(20px)"},positionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",paddingBottom:"10px",borderBottom:"1px solid #40444b"},positionTimeframe:{fontSize:"1.1em",fontWeight:"700",color:"#5865f2"},positionBody:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginBottom:"12px"},positionRow:{display:"flex",justifyContent:"space-between",padding:"8px 12px",backgroundColor:"#202225",borderRadius:"6px",fontSize:"0.9em"},positionFooter:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"10px",borderTop:"1px solid #40444b"}},R=document.createElement("style");R.textContent=`
@keyframes slideInFromRight {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.crypto-card-hover:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 8px 25px rgba(240,178,50,0.3);
    border-color: #f0b232 !important;
}
`;document.getElementById("crypto-signals-animations")||(R.id="crypto-signals-animations",document.head.appendChild(R));export{V as default};

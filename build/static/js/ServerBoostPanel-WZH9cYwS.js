var w=Object.defineProperty;var n=(r,a)=>w(r,"name",{value:a,configurable:!0});import{r as f,j as e}from"./react-core-Djgtqrmb.js";import{ao as y,a as z,aB as R,bC as T,ah as L,u as D,Q as I}from"./icons-vendor-BW7dxHkX.js";import{t as u}from"./index-D_luy7FO.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},tabs:{display:"flex",borderBottom:"1px solid #2c2f33",padding:"0 20px"},tab:{padding:"12px 20px",backgroundColor:"transparent",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",borderBottom:"2px solid transparent",transition:"all 0.2s"},tabActive:{color:"#5865f2",borderBottom:"2px solid #5865f2"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},overview:{display:"flex",flexDirection:"column",gap:"20px"},boostCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"24px",display:"flex",flexDirection:"column",gap:"20px"},boostLevel:{textAlign:"center",padding:"24px",borderRadius:"8px",color:"#ffffff"},levelText:{fontSize:"24px",fontWeight:"600",marginTop:"8px"},boostCountText:{fontSize:"14px",opacity:.9,marginTop:"4px"},progressSection:{display:"flex",flexDirection:"column",gap:"8px"},progressHeader:{display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#dcddde"},progressBar:{height:"8px",backgroundColor:"#1e1e1e",borderRadius:"4px",overflow:"hidden"},progressFill:{height:"100%",transition:"width 0.3s"},progressFooter:{fontSize:"12px",color:"#99aab5",textAlign:"center"},boostButton:{padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px"},statCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"20px",textAlign:"center"},statIcon:{fontSize:"24px",color:"#5865f2",marginBottom:"8px"},statValue:{fontSize:"24px",fontWeight:"600",color:"#ffffff",marginBottom:"4px"},statLabel:{fontSize:"12px",color:"#99aab5"},boostsList:{display:"flex",flexDirection:"column",gap:"10px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},boostItem:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"15px",display:"flex",justifyContent:"space-between",alignItems:"center"},boostUser:{display:"flex",alignItems:"center"},boostUsername:{color:"#ffffff",fontWeight:"500"},boostDate:{fontSize:"12px",color:"#99aab5",marginTop:"2px"},boostExpires:{fontSize:"12px",color:"#faa61a"},perksList:{display:"flex",flexDirection:"column",gap:"24px"},perkLevel:{display:"flex",flexDirection:"column",gap:"12px"},perkLevelHeader:{fontSize:"18px",fontWeight:"600",color:"#ffffff",display:"flex",alignItems:"center"},perkRequirement:{fontSize:"12px",color:"#99aab5",marginLeft:"8px",fontWeight:"400"},perksGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"},perkCard:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px",display:"flex",flexDirection:"column",gap:"8px"},perkIcon:{fontSize:"32px"},perkName:{fontSize:"14px",fontWeight:"600",color:"#ffffff"},perkDescription:{fontSize:"12px",color:"#99aab5"},perkUnlocked:{fontSize:"12px",color:"#43b581",fontWeight:"600",marginTop:"4px"}},F=[{level:1,icon:"ðŸŽ¨",name:"128 Emoji Slots",description:"Upload up to 128 custom emojis"},{level:1,icon:"ðŸŽµ",name:"128kbps Audio",description:"Higher quality voice channels"},{level:1,icon:"ðŸ–¼ï¸",name:"Animated Icon",description:"Set an animated server icon"},{level:1,icon:"ðŸŒŸ",name:"Custom Invite Background",description:"Customize your invite splash"},{level:2,icon:"ðŸ˜€",name:"256 Emoji Slots",description:"Even more custom emojis"},{level:2,icon:"ðŸŽ¤",name:"256kbps Audio",description:"Crystal clear voice quality"},{level:2,icon:"ðŸ“¤",name:"50MB Upload Limit",description:"Share larger files"},{level:2,icon:"ðŸŽ¬",name:"1080p Screen Share",description:"HD screen sharing"},{level:3,icon:"ðŸŽ­",name:"500 Emoji Slots",description:"Maximum emoji capacity"},{level:3,icon:"ðŸŽ§",name:"384kbps Audio",description:"Professional audio quality"},{level:3,icon:"ðŸ“¦",name:"100MB Upload Limit",description:"Share even larger files"},{level:3,icon:"ðŸ”—",name:"Custom Vanity URL",description:"Custom server invite link"}],B=n(r=>r>=30?{level:3,name:"Level 3",color:"#9b59b6"}:r>=15?{level:2,name:"Level 2",color:"#e91e63"}:r>=2?{level:1,name:"Level 1",color:"#5865f2"}:{level:0,name:"No Level",color:"#99aab5"},"getBoostLevel"),A=n(r=>r>=30?{current:r,target:30,percentage:100}:r>=15?{current:r,target:30,percentage:(r-15)/15*100}:r>=2?{current:r,target:15,percentage:(r-2)/13*100}:{current:r,target:2,percentage:r/2*100},"getNextLevelProgress"),E=n((r,a,c)=>{const[b,d]=f.useState([]),[p,h]=f.useState(null),[x,g]=f.useState(!1),[j,v]=f.useState("overview");f.useEffect(()=>{i(),l()},[c]);const i=n(async()=>{try{const k=await(await r(`${a}/servers/${c}/boosts/`)).json();d(k.boosts||[])}catch{u.error("Failed to load boosts")}},"fetchBoosts"),l=n(async()=>{g(!0);try{const k=await(await r(`${a}/servers/${c}/boost_stats/`)).json();h(k)}catch{u.error("Failed to load server stats")}finally{g(!1)}},"fetchServerStats"),o=n(async()=>{try{await r(`${a}/servers/boost/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:c})}),u.success("ðŸš€ Server boosted successfully!"),i(),l()}catch{u.error("Failed to boost server")}},"boostServer"),s=p?.boost_count||0,S=B(s),C=A(s);return{boosts:b,serverStats:p,loading:x,activeTab:j,setActiveTab:v,boostServer:o,currentBoostCount:s,currentLevel:S,progress:C}},"useServerBoost"),M=n(({fetchWithAuth:r,apiBaseUrl:a,onClose:c,serverId:b})=>{const{boosts:d,serverStats:p,loading:h,activeTab:x,setActiveTab:g,boostServer:j,currentBoostCount:v,currentLevel:i,progress:l}=E(r,a,b);return e.jsx("div",{style:t.overlay,children:e.jsxs("div",{style:t.modal,children:[e.jsxs("div",{style:t.header,children:[e.jsxs("div",{style:t.headerLeft,children:[e.jsx(y,{style:{marginRight:"10px",color:"#5865f2"}}),e.jsx("h2",{style:t.title,children:"Server Boost"})]}),e.jsx("button",{onClick:c,style:t.closeButton,children:e.jsx(z,{})})]}),e.jsx("div",{style:t.tabs,children:[{key:"overview",icon:e.jsx(y,{style:{marginRight:"5px"}}),label:"Overview"},{key:"boosts",icon:e.jsx(R,{style:{marginRight:"5px"}}),label:`Boosts (${d.length})`},{key:"perks",icon:e.jsx(T,{style:{marginRight:"5px"}}),label:"Perks"}].map(o=>e.jsxs("button",{onClick:n(()=>g(o.key),"onClick"),style:{...t.tab,...x===o.key&&t.tabActive},children:[o.icon,o.label]},o.key))}),e.jsx("div",{style:t.content,children:h?e.jsx("div",{style:t.loading,children:"Loading..."}):x==="overview"?e.jsxs("div",{style:t.overview,children:[e.jsxs("div",{style:t.boostCard,children:[e.jsxs("div",{style:{...t.boostLevel,backgroundColor:i.color},children:[e.jsx(L,{style:{fontSize:"32px"}}),e.jsx("div",{style:t.levelText,children:i.name}),e.jsxs("div",{style:t.boostCountText,children:[v," Boosts"]})]}),e.jsxs("div",{style:t.progressSection,children:[e.jsxs("div",{style:t.progressHeader,children:[e.jsx("span",{children:"Progress to Next Level"}),e.jsxs("span",{children:[l.current," / ",l.target]})]}),e.jsx("div",{style:t.progressBar,children:e.jsx("div",{style:{...t.progressFill,width:`${Math.min(l.percentage,100)}%`,backgroundColor:i.color}})}),v<30&&e.jsxs("div",{style:t.progressFooter,children:[l.target-l.current," more boosts needed"]})]}),e.jsxs("button",{onClick:j,style:t.boostButton,children:[e.jsx(y,{style:{marginRight:"8px"}})," Boost This Server"]})]}),e.jsx("div",{style:t.statsGrid,children:[{icon:e.jsx(D,{style:t.statIcon}),value:p?.total_boosters||0,label:"Boosters"},{icon:e.jsx(I,{style:t.statIcon}),value:p?.total_boosts||0,label:"Total Boosts"},{icon:e.jsx(L,{style:t.statIcon}),value:i.level,label:"Current Level"}].map((o,s)=>e.jsxs("div",{style:t.statCard,children:[o.icon,e.jsx("div",{style:t.statValue,children:o.value}),e.jsx("div",{style:t.statLabel,children:o.label})]},s))})]}):x==="boosts"?e.jsx("div",{style:t.boostsList,children:d.length===0?e.jsx("div",{style:t.empty,children:"No boosts yet. Be the first to boost this server!"}):d.map((o,s)=>e.jsxs("div",{style:t.boostItem,children:[e.jsxs("div",{style:t.boostUser,children:[e.jsx(y,{style:{color:"#5865f2",marginRight:"10px"}}),e.jsxs("div",{children:[e.jsx("div",{style:t.boostUsername,children:o.user?.username||"Anonymous"}),e.jsxs("div",{style:t.boostDate,children:["Boosted ",new Date(o.boosted_at).toLocaleDateString()]})]})]}),o.expires_at&&e.jsxs("div",{style:t.boostExpires,children:["Expires ",new Date(o.expires_at).toLocaleDateString()]})]},s))}):e.jsx("div",{style:t.perksList,children:[1,2,3].map(o=>e.jsxs("div",{style:t.perkLevel,children:[e.jsxs("div",{style:t.perkLevelHeader,children:[e.jsx(L,{style:{marginRight:"8px",color:B(o===1?2:o===2?15:30).color}}),"Level ",o," Perks",e.jsxs("span",{style:t.perkRequirement,children:["(",o===1?"2":o===2?"15":"30"," boosts required)"]})]}),e.jsx("div",{style:t.perksGrid,children:F.filter(s=>s.level===o).map((s,S)=>e.jsxs("div",{style:{...t.perkCard,opacity:i.level>=o?1:.5},children:[e.jsx("div",{style:t.perkIcon,children:s.icon}),e.jsx("div",{style:t.perkName,children:s.name}),e.jsx("div",{style:t.perkDescription,children:s.description}),i.level>=o&&e.jsxs("div",{style:t.perkUnlocked,children:["âœ“"," Unlocked"]})]},S))})]},o))})})]})})},"ServerBoostPanel");export{M as default};

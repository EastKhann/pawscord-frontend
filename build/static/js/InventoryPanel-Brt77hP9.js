import{r as c,b as t}from"./react-core-9vc7GIjk.js";import{bB as f,a as S,ao as q,af as m,bu as w}from"./icons-vendor-BHKL7tCa.js";import{t as n}from"./index-BhQiWqdf.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const j=({fetchWithAuth:a,apiBaseUrl:i,onClose:u,username:x})=>{const[p,g]=c.useState([]),[y,d]=c.useState(!1),[l,b]=c.useState("all"),v=[{value:"all",label:"All Items",icon:f},{value:"cosmetic",label:"Cosmetics",icon:q},{value:"badge",label:"Badges",icon:m},{value:"gift",label:"Gifts",icon:w}];c.useEffect(()=>{s()},[l]);const s=async()=>{d(!0);try{const e=new URLSearchParams({username:x||"",type:l!=="all"?l:""}),I=await(await a(`${i}/api/inventory/?${e}`)).json();g(I.items||[])}catch{n.error("Failed to load inventory")}finally{d(!1)}},E=async e=>{try{await a(`${i}/api/inventory/${e}/equip/`,{method:"POST"}),n.success("Item equipped"),s()}catch{n.error("Failed to equip item")}},h=async e=>{try{await a(`${i}/api/inventory/${e}/unequip/`,{method:"POST"}),n.success("Item unequipped"),s()}catch{n.error("Failed to unequip item")}},C=async e=>{try{await a(`${i}/api/inventory/${e}/use/`,{method:"POST"}),n.success("Item used"),s()}catch{n.error("Failed to use item")}};return t.createElement("div",{style:o.overlay},t.createElement("div",{style:o.modal},t.createElement("div",{style:o.header},t.createElement("div",{style:o.headerLeft},t.createElement(f,{style:{marginRight:"10px",color:"#5865f2"}}),t.createElement("h2",{style:o.title},"Inventory")),t.createElement("button",{onClick:u,style:o.closeButton},t.createElement(S,null))),t.createElement("div",{style:o.filterBar},v.map(e=>{const r=e.icon;return t.createElement("button",{key:e.value,onClick:()=>b(e.value),style:l===e.value?o.activeFilter:o.filterButton},t.createElement(r,{style:{marginRight:"6px"}}),e.label)})),t.createElement("div",{style:o.content},y?t.createElement("div",{style:o.loading},"Loading inventory..."):p.length===0?t.createElement("div",{style:o.empty},"No items in inventory"):t.createElement("div",{style:o.itemsGrid},p.map((e,r)=>t.createElement("div",{key:r,style:o.itemCard},e.image_url&&t.createElement("div",{style:o.itemImage},t.createElement("img",{src:e.image_url,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}})),e.equipped&&t.createElement("div",{style:o.equippedBadge},t.createElement(m,{style:{fontSize:"12px"}})," Equipped"),t.createElement("div",{style:o.itemInfo},t.createElement("div",{style:o.itemName},e.name),e.rarity&&t.createElement("div",{style:{...o.itemRarity,color:B(e.rarity)}},e.rarity.toUpperCase()),e.description&&t.createElement("div",{style:o.itemDescription},e.description),e.quantity>1&&t.createElement("div",{style:o.itemQuantity},"Quantity: ",e.quantity),t.createElement("div",{style:o.itemActions},e.type==="cosmetic"&&t.createElement(t.Fragment,null,e.equipped?t.createElement("button",{onClick:()=>h(e.id),style:o.unequipButton},"Unequip"):t.createElement("button",{onClick:()=>E(e.id),style:o.equipButton},"Equip")),e.usable&&t.createElement("button",{onClick:()=>C(e.id),style:o.useButton},"Use")))))))))},B=a=>({common:"#99aab5",uncommon:"#43b581",rare:"#5865f2",epic:"#a020f0",legendary:"#faa61a"})[a?.toLowerCase()]||"#99aab5",o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"1100px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},filterBar:{display:"flex",gap:"8px",padding:"16px 20px",borderBottom:"1px solid #2c2f33",overflowX:"auto"},filterButton:{padding:"8px 16px",backgroundColor:"#2c2f33",border:"none",borderRadius:"4px",color:"#dcddde",cursor:"pointer",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center"},activeFilter:{padding:"8px 16px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},itemsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},itemCard:{backgroundColor:"#2c2f33",borderRadius:"8px",overflow:"hidden",position:"relative"},itemImage:{width:"100%",height:"150px",backgroundColor:"#1e1e1e"},equippedBadge:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#faa61a",color:"#ffffff",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},itemInfo:{padding:"12px"},itemName:{fontSize:"15px",fontWeight:"600",color:"#ffffff",marginBottom:"6px"},itemRarity:{fontSize:"11px",fontWeight:"700",marginBottom:"6px",textTransform:"uppercase"},itemDescription:{fontSize:"12px",color:"#dcddde",marginBottom:"8px",lineHeight:"1.4"},itemQuantity:{fontSize:"12px",color:"#99aab5",marginBottom:"8px"},itemActions:{display:"flex",gap:"8px"},equipButton:{flex:1,padding:"8px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"},unequipButton:{flex:1,padding:"8px",backgroundColor:"#99aab5",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"},useButton:{flex:1,padding:"8px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"}};export{j as default};

{"version":3,"file":"ModeratorTools-CH2elA1l.js","sources":["../../../src/components/ModeratorTools.js"],"sourcesContent":["// frontend/src/components/ModeratorTools.js\r\nimport React, { useState } from 'react';\r\nimport toast from '../utils/toast';\r\nimport { FaTimes, FaBan, FaUserShield, FaTrashAlt } from 'react-icons/fa';\r\n\r\nconst ModeratorTools = ({ onClose, fetchWithAuth, apiBaseUrl, roomSlug, serverId }) => {\r\n    const [selectedUser, setSelectedUser] = useState('');\r\n    const [banReason, setBanReason] = useState('');\r\n    const [banDuration, setBanDuration] = useState('permanent');\r\n    const [moderatorNote, setModeratorNote] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleBanUser = async () => {\r\n        if (!selectedUser) {\r\n            toast.error('‚ùå L√ºtfen bir kullanƒ±cƒ± se√ßin');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetchWithAuth(`${apiBaseUrl}/moderation/ban/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    username: selectedUser,\r\n                    reason: banReason,\r\n                    duration: banDuration,\r\n                    room_slug: roomSlug\r\n                })\r\n            });\r\n\r\n            if (res.ok) {\r\n                toast.success('‚úÖ Kullanƒ±cƒ± yasaklandƒ±');\r\n                setSelectedUser('');\r\n                setBanReason('');\r\n            } else {\r\n                toast.error('‚ùå Yasaklama ba≈üarƒ±sƒ±z');\r\n            }\r\n        } catch (error) {\r\n            console.error('Ban error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAddNote = async () => {\r\n        if (!selectedUser || !moderatorNote) {\r\n            toast.error('‚ùå Kullanƒ±cƒ± ve not gerekli');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetchWithAuth(`${apiBaseUrl}/moderation/notes/add/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    username: selectedUser,\r\n                    note: moderatorNote\r\n                })\r\n            });\r\n\r\n            if (res.ok) {\r\n                toast.success('‚úÖ Not eklendi');\r\n                setModeratorNote('');\r\n            }\r\n        } catch (error) {\r\n            console.error('Add note error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.overlay} onClick={onClose}>\r\n            <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n                <div style={styles.header}>\r\n                    <h2 style={styles.title}>\r\n                        <FaUserShield /> Moderat√∂r Ara√ßlarƒ±\r\n                    </h2>\r\n                    <button onClick={onClose} style={styles.closeButton}>\r\n                        <FaTimes />\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={styles.content}>\r\n                    <div style={styles.section}>\r\n                        <h3 style={styles.sectionTitle}>\r\n                            <FaBan /> Kullanƒ±cƒ± Yasakla\r\n                        </h3>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Kullanƒ±cƒ± adƒ±\"\r\n                            value={selectedUser}\r\n                            onChange={(e) => setSelectedUser(e.target.value)}\r\n                            style={styles.input}\r\n                        />\r\n                        <textarea\r\n                            placeholder=\"Yasaklama sebebi\"\r\n                            value={banReason}\r\n                            onChange={(e) => setBanReason(e.target.value)}\r\n                            style={{ ...styles.input, minHeight: '80px', resize: 'vertical' }}\r\n                        />\r\n                        <select\r\n                            value={banDuration}\r\n                            onChange={(e) => setBanDuration(e.target.value)}\r\n                            style={styles.select}\r\n                        >\r\n                            <option value=\"1h\">1 Saat</option>\r\n                            <option value=\"1d\">1 G√ºn</option>\r\n                            <option value=\"7d\">7 G√ºn</option>\r\n                            <option value=\"30d\">30 G√ºn</option>\r\n                            <option value=\"permanent\">Kalƒ±cƒ±</option>\r\n                        </select>\r\n                        <button\r\n                            onClick={handleBanUser}\r\n                            disabled={loading}\r\n                            style={styles.banButton}\r\n                        >\r\n                            {loading ? 'Yasaklanƒ±yor...' : 'üî® Yasakla'}\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div style={styles.section}>\r\n                        <h3 style={styles.sectionTitle}>\r\n                            üìù Moderat√∂r Notu Ekle\r\n                        </h3>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Kullanƒ±cƒ± adƒ±\"\r\n                            value={selectedUser}\r\n                            onChange={(e) => setSelectedUser(e.target.value)}\r\n                            style={styles.input}\r\n                        />\r\n                        <textarea\r\n                            placeholder=\"Moderat√∂r notu\"\r\n                            value={moderatorNote}\r\n                            onChange={(e) => setModeratorNote(e.target.value)}\r\n                            style={{ ...styles.input, minHeight: '80px', resize: 'vertical' }}\r\n                        />\r\n                        <button\r\n                            onClick={handleAddNote}\r\n                            disabled={loading}\r\n                            style={styles.noteButton}\r\n                        >\r\n                            {loading ? 'Ekleniyor...' : '‚úçÔ∏è Not Ekle'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 10000\r\n    },\r\n    modal: {\r\n        backgroundColor: '#2b2d31',\r\n        borderRadius: '8px',\r\n        width: '90%',\r\n        maxWidth: '500px',\r\n        maxHeight: '80vh',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '20px',\r\n        borderBottom: '1px solid #40444b'\r\n    },\r\n    title: {\r\n        color: 'white',\r\n        margin: 0,\r\n        fontSize: '1.3em',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n    },\r\n    closeButton: {\r\n        background: 'none',\r\n        border: 'none',\r\n        color: '#b9bbbe',\r\n        cursor: 'pointer',\r\n        fontSize: '1.3em'\r\n    },\r\n    content: {\r\n        padding: '20px',\r\n        overflowY: 'auto',\r\n        flex: 1\r\n    },\r\n    section: {\r\n        marginBottom: '25px',\r\n        backgroundColor: '#40444b',\r\n        padding: '15px',\r\n        borderRadius: '8px'\r\n    },\r\n    sectionTitle: {\r\n        color: '#b9bbbe',\r\n        fontSize: '1em',\r\n        marginBottom: '10px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n    },\r\n    input: {\r\n        width: '100%',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n        backgroundColor: '#2b2d31',\r\n        border: '1px solid #5865f2',\r\n        borderRadius: '4px',\r\n        color: 'white'\r\n    },\r\n    select: {\r\n        width: '100%',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n        backgroundColor: '#2b2d31',\r\n        border: '1px solid #5865f2',\r\n        borderRadius: '4px',\r\n        color: 'white'\r\n    },\r\n    banButton: {\r\n        width: '100%',\r\n        padding: '12px',\r\n        backgroundColor: '#f04747',\r\n        border: 'none',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer'\r\n    },\r\n    noteButton: {\r\n        width: '100%',\r\n        padding: '12px',\r\n        backgroundColor: '#5865f2',\r\n        border: 'none',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer'\r\n    }\r\n};\r\n\r\nexport default React.memo(ModeratorTools);\r\n\r\n\r\n"],"names":["useState","jsxs","jsx"],"mappings":"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"}
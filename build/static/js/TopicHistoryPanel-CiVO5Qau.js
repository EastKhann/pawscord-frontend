var m=Object.defineProperty;var a=(s,n)=>m(s,"name",{value:n,configurable:!0});import{r,j as t}from"./react-core-Djgtqrmb.js";import{aF as u,a as b}from"./icons-vendor-BW7dxHkX.js";import{t as j}from"./index-GGLPABCW.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const H=a(({fetchWithAuth:s,apiBaseUrl:n,onClose:x,roomSlug:l})=>{const[c,f]=r.useState([]),[d,h]=r.useState(""),[y,p]=r.useState(!1);r.useEffect(()=>{g()},[l]);const g=a(async()=>{p(!0);try{const i=await(await s(`${n}/topics/${l}/history/`)).json();f(i.history||[]),h(i.current_topic||"")}catch{j.error("Failed to load topic history")}finally{p(!1)}},"fetchTopicHistory");return t.jsx("div",{style:e.overlay,children:t.jsxs("div",{style:e.modal,children:[t.jsxs("div",{style:e.header,children:[t.jsxs("div",{style:e.headerLeft,children:[t.jsx(u,{style:{marginRight:"10px",color:"#5865f2"}}),t.jsx("h2",{style:e.title,children:"Topic History"})]}),t.jsx("button",{onClick:x,style:e.closeButton,children:t.jsx(b,{})})]}),t.jsxs("div",{style:e.content,children:[d&&t.jsxs("div",{style:e.currentTopic,children:[t.jsx("div",{style:e.currentTopicLabel,children:"Current Topic"}),t.jsx("div",{style:e.currentTopicText,children:d})]}),y?t.jsx("div",{style:e.loading,children:"Loading history..."}):c.length===0?t.jsx("div",{style:e.empty,children:"No topic history available"}):t.jsx("div",{style:e.historyList,children:c.map((o,i)=>t.jsxs("div",{style:e.historyItem,children:[t.jsx("div",{style:e.topicText,children:o.topic}),t.jsxs("div",{style:e.topicMeta,children:["Set by ",o.user?.username||"Unknown"," on ",new Date(o.set_at).toLocaleString()]})]},i))})]})]})})},"TopicHistoryPanel"),e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},currentTopic:{backgroundColor:"#5865f2",borderRadius:"8px",padding:"16px",marginBottom:"20px"},currentTopicLabel:{fontSize:"12px",color:"rgba(255, 255, 255, 0.8)",marginBottom:"4px",fontWeight:"600"},currentTopicText:{fontSize:"16px",color:"#ffffff",fontWeight:"500"},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},historyList:{display:"flex",flexDirection:"column",gap:"12px"},historyItem:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px"},topicText:{fontSize:"15px",color:"#dcddde",marginBottom:"8px",fontWeight:"500"},topicMeta:{fontSize:"12px",color:"#99aab5"}};export{H as default};

import{r as o,d as e,c9 as n}from"./react-core-DrOm_csO.js";import{g as z}from"./index-BYhWpPLp.js";const C=({onClose:g})=>{const[l,E]=o.useState({allow_dm_from_everyone:!0,allow_dm_from_friends_only:!1,allow_dm_from_server_members:!0,allow_friend_requests:!0,keep_dm_history_on_server_leave:!0,show_current_activity:!0,explicit_content_filter:"friends",blocked_words_filter_enabled:!1,show_online_status:!0,show_read_receipts:!0,show_typing_indicator:!0,allow_profile_views_from_non_friends:!1,allow_data_collection:!1,allow_personalized_ads:!1}),[m,d]=o.useState([]),[c,k]=o.useState(""),[_,u]=o.useState(!0),i=z();o.useEffect(()=>{h(),N()},[]);const h=async()=>{try{const t=localStorage.getItem("access_token"),a=await fetch(`${i}/privacy/settings/`,{headers:{Authorization:`Bearer ${t}`}});if(a.ok){const r=await a.json();E(r)}}catch(t){console.error("Error fetching privacy settings:",t)}finally{u(!1)}},N=async()=>{try{const t=localStorage.getItem("access_token"),a=await fetch(`${i}/privacy/blocked-words/`,{headers:{Authorization:`Bearer ${t}`}});if(a.ok){const r=await a.json();d(r.blocked_words||[])}}catch(t){console.error("Error fetching blocked words:",t)}},v=async t=>{try{const a=localStorage.getItem("access_token");(await fetch(`${i}/privacy/settings/update/`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(E(t),n.success("âœ… Gizlilik ayarlarÄ± kaydedildi")):n.error("âŒ Ayarlar kaydedilemedi")}catch(a){console.error("Error updating settings:",a),n.error("âŒ BaÄŸlantÄ± hatasÄ±")}},s=t=>{const a={...l,[t]:!l[t]};v(a)},y=t=>{const a={...l,explicit_content_filter:t};v(a)},p=async()=>{if(c.trim())try{const t=localStorage.getItem("access_token");(await fetch(`${i}/privacy/blocked-words/add/`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({word:c.trim()})})).ok?(d([...m,c.trim()]),k(""),n.success(`âœ… "${c.trim()}" engellenmiÅŸ kelimeler listesine eklendi`)):n.error("âŒ Kelime eklenemedi")}catch(t){console.error("Error adding blocked word:",t),n.error("âŒ BaÄŸlantÄ± hatasÄ±")}},f=async t=>{try{const a=localStorage.getItem("access_token");(await fetch(`${i}/privacy/blocked-words/remove/`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({word:t})})).ok?(d(m.filter(w=>w!==t)),n.success(`âœ… "${t}" engellenmiÅŸ kelimeler listesinden kaldÄ±rÄ±ldÄ±`)):n.error("âŒ Kelime kaldÄ±rÄ±lamadÄ±")}catch(a){console.error("Error removing blocked word:",a),n.error("âŒ BaÄŸlantÄ± hatasÄ±")}},b=async()=>{if(window.confirm("Verilerinizi dÄ±ÅŸa aktarmak istediÄŸinizden emin misiniz? Bu iÅŸlem biraz zaman alabilir."))try{const t=localStorage.getItem("access_token"),a=await fetch(`${i}/privacy/data-export/request/`,{method:"POST",headers:{Authorization:`Bearer ${t}`}});if(a.ok){const r=await a.json();n.success("âœ… Veri dÄ±ÅŸa aktarma iÅŸlemi baÅŸlatÄ±ldÄ±. E-postanÄ±za link gÃ¶nderilecek.")}else n.error("âŒ Ä°stek gÃ¶nderilemedi")}catch(t){console.error("Error requesting data export:",t),n.error("âŒ BaÄŸlantÄ± hatasÄ±")}};return _?e.createElement("div",{className:"privacy-settings-overlay"},e.createElement("div",{className:"privacy-settings-panel"},e.createElement("div",{className:"loading-state"},e.createElement("div",{className:"spinner"}),e.createElement("p",null,"Gizlilik ayarlarÄ± yÃ¼kleniyor...")))):e.createElement("div",{className:"privacy-settings-overlay",onClick:g},e.createElement("div",{className:"privacy-settings-panel",onClick:t=>t.stopPropagation()},e.createElement("div",{className:"privacy-settings-header"},e.createElement("h2",null,"ðŸ”’ Gizlilik ve GÃ¼venlik AyarlarÄ±"),e.createElement("button",{className:"close-btn",onClick:g},"Ã—")),e.createElement("div",{className:"privacy-settings-content"},e.createElement("div",{className:"settings-section"},e.createElement("h3",null,"ðŸ’¬ Direkt Mesaj GizliliÄŸi"),e.createElement("div",{className:"settings-group"},e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"Herkesten DM alabilir"),e.createElement("div",{className:"setting-desc"},"Sunucu Ã¼yesi olmasalar bile")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.allow_dm_from_everyone,onChange:()=>s("allow_dm_from_everyone")}),e.createElement("span",{className:"slider"}))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"Sadece arkadaÅŸlardan DM"),e.createElement("div",{className:"setting-desc"},"YalnÄ±zca arkadaÅŸlarÄ±nÄ±zdan mesaj alabilirsiniz")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.allow_dm_from_friends_only,onChange:()=>s("allow_dm_from_friends_only")}),e.createElement("span",{className:"slider"}))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"Sunucu Ã¼yelerinden DM"),e.createElement("div",{className:"setting-desc"},"AynÄ± sunucudaki Ã¼yelerden mesaj alabilirsiniz")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.allow_dm_from_server_members,onChange:()=>s("allow_dm_from_server_members")}),e.createElement("span",{className:"slider"}))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"ArkadaÅŸlÄ±k isteklerini kabul et"),e.createElement("div",{className:"setting-desc"},"DiÄŸer kullanÄ±cÄ±lar size istek gÃ¶nderebilir")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.allow_friend_requests,onChange:()=>s("allow_friend_requests")}),e.createElement("span",{className:"slider"}))))),e.createElement("div",{className:"settings-section"},e.createElement("h3",null,"ðŸ  Sunucu GizliliÄŸi"),e.createElement("div",{className:"settings-group"},e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"Sunucudan ayrÄ±lÄ±rken DM geÃ§miÅŸini sakla"),e.createElement("div",{className:"setting-desc"},"Sunucudan ayrÄ±ldÄ±ktan sonra DM'ler silinmez")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.keep_dm_history_on_server_leave,onChange:()=>s("keep_dm_history_on_server_leave")}),e.createElement("span",{className:"slider"}))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"Mevcut aktiviteyi gÃ¶ster"),e.createElement("div",{className:"setting-desc"},"OynadÄ±ÄŸÄ±nÄ±z oyun veya dinlediÄŸiniz mÃ¼ziÄŸi gÃ¶sterin")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.show_current_activity,onChange:()=>s("show_current_activity")}),e.createElement("span",{className:"slider"}))))),e.createElement("div",{className:"settings-section"},e.createElement("h3",null,"ðŸ›¡ï¸ Mesaj Filtreleme"),e.createElement("div",{className:"settings-group"},e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"AÃ§Ä±k iÃ§erik filtresi"),e.createElement("div",{className:"setting-desc"},"Mesajlardaki mÃ¼stehcen iÃ§eriÄŸi otomatik tara")),e.createElement("select",{className:"explicit-filter-select",value:l.explicit_content_filter,onChange:t=>y(t.target.value)},e.createElement("option",{value:"none"},"KapalÄ±"),e.createElement("option",{value:"friends"},"ArkadaÅŸlar hariÃ§"),e.createElement("option",{value:"all"},"Herkesten tara"))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"EngellenmiÅŸ kelime filtresi"),e.createElement("div",{className:"setting-desc"},"BelirlediÄŸiniz kelimeleri iÃ§eren mesajlarÄ± gizleyin")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.blocked_words_filter_enabled,onChange:()=>s("blocked_words_filter_enabled")}),e.createElement("span",{className:"slider"})))),l.blocked_words_filter_enabled&&e.createElement("div",{className:"blocked-words-section"},e.createElement("h4",null,"EngellenmiÅŸ Kelimeler"),e.createElement("div",{className:"add-word-form"},e.createElement("input",{type:"text",placeholder:"Engellenecek kelime...",value:c,onChange:t=>k(t.target.value),onKeyPress:t=>t.key==="Enter"&&p()}),e.createElement("button",{className:"add-word-btn",onClick:p},"âž• Ekle")),m.length>0?e.createElement("div",{className:"blocked-words-list"},m.map((t,a)=>e.createElement("div",{key:a,className:"blocked-word-item"},e.createElement("span",null,t),e.createElement("button",{className:"remove-word-btn",onClick:()=>f(t)},"âœ•")))):e.createElement("p",{className:"empty-state"},"HenÃ¼z engellenmiÅŸ kelime yok"))),e.createElement("div",{className:"settings-section"},e.createElement("h3",null,"ðŸ‘ï¸ GÃ¶rÃ¼nÃ¼rlÃ¼k"),e.createElement("div",{className:"settings-group"},e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"Ã‡evrimiÃ§i durumu gÃ¶ster"),e.createElement("div",{className:"setting-desc"},"DiÄŸer kullanÄ±cÄ±lar Ã§evrimiÃ§i olduÄŸunuzu gÃ¶rebilir")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.show_online_status,onChange:()=>s("show_online_status")}),e.createElement("span",{className:"slider"}))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"Okundu bilgisi gÃ¶nder"),e.createElement("div",{className:"setting-desc"},"MesajlarÄ± okuduÄŸunuzda karÅŸÄ± tarafa bildirim gÃ¶sterilir")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.show_read_receipts,onChange:()=>s("show_read_receipts")}),e.createElement("span",{className:"slider"}))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"YazÄ±yor gÃ¶stergesini gÃ¶ster"),e.createElement("div",{className:"setting-desc"},"Mesaj yazarken karÅŸÄ± tarafa bildirim gÃ¶sterilir")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.show_typing_indicator,onChange:()=>s("show_typing_indicator")}),e.createElement("span",{className:"slider"}))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"ArkadaÅŸ olmayanlar profilimi gÃ¶rebilir"),e.createElement("div",{className:"setting-desc"},"Herkes profilinizi gÃ¶rÃ¼ntÃ¼leyebilir")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.allow_profile_views_from_non_friends,onChange:()=>s("allow_profile_views_from_non_friends")}),e.createElement("span",{className:"slider"}))))),e.createElement("div",{className:"settings-section"},e.createElement("h3",null,"ðŸ“Š Veri GizliliÄŸi"),e.createElement("div",{className:"settings-group"},e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"Veri toplamaya izin ver"),e.createElement("div",{className:"setting-desc"},"UygulamayÄ± geliÅŸtirmek iÃ§in anonim kullanÄ±m verisi toplanÄ±r")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.allow_data_collection,onChange:()=>s("allow_data_collection")}),e.createElement("span",{className:"slider"}))),e.createElement("div",{className:"setting-item"},e.createElement("div",{className:"setting-info"},e.createElement("div",{className:"setting-label"},"KiÅŸiselleÅŸtirilmiÅŸ reklamlara izin ver"),e.createElement("div",{className:"setting-desc"},"Size Ã¶zel reklamlar gÃ¶sterilir")),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:l.allow_personalized_ads,onChange:()=>s("allow_personalized_ads")}),e.createElement("span",{className:"slider"})))),e.createElement("button",{className:"export-data-btn",onClick:b},"ðŸ“¥ Verilerimi DÄ±ÅŸa Aktar")))))};export{C as default};

{"version":3,"file":"ReminderModal-DiPm76MM.js","sources":["../../../src/components/ReminderModal.js"],"sourcesContent":["// frontend/src/components/ReminderModal.js\r\nimport { useState } from 'react';\r\nimport toast from '../utils/toast';\r\nimport { FaTimes, FaBell } from 'react-icons/fa';\r\n\r\nconst ReminderModal = ({ messageId, messageContent, onClose, fetchWithAuth, apiBaseUrl }) => {\r\n    const [reminderTime, setReminderTime] = useState('');\r\n    const [reminderNote, setReminderNote] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleCreate = async () => {\r\n        if (!reminderTime) {\r\n            toast.error('❌ Lütfen bir tarih seçin');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetchWithAuth(`${apiBaseUrl}/reminders/create/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    message_id: messageId,\r\n                    reminder_time: reminderTime,\r\n                    note: reminderNote || messageContent?.substring(0, 100)\r\n                })\r\n            });\r\n\r\n            if (res.ok) {\r\n                toast.success('✅ Hatırlatıcı oluşturuldu!');\r\n                onClose();\r\n            } else {\r\n                const data = await res.json();\r\n                toast.error('❌ Hata: ' + (data.error || 'Bilinmeyen hata'));\r\n            }\r\n        } catch (error) {\r\n            console.error('Reminder error:', error);\r\n            toast.error('❌ Hatırlatıcı oluşturulamadı');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const getPresetTime = (hours) => {\r\n        const now = new Date();\r\n        now.setHours(now.getHours() + hours);\r\n        return now.toISOString().slice(0, 16);\r\n    };\r\n\r\n    return (\r\n        <div style={styles.overlay} onClick={onClose}>\r\n            <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n                <div style={styles.header}>\r\n                    <h3 style={styles.title}>\r\n                        <FaBell /> Hatırlatıcı Kur\r\n                    </h3>\r\n                    <button onClick={onClose} style={styles.closeButton}>\r\n                        <FaTimes />\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={styles.content}>\r\n                    <div style={styles.messagePreview}>\r\n                        {messageContent?.substring(0, 150)}\r\n                        {messageContent?.length > 150 && '...'}\r\n                    </div>\r\n\r\n                    <div style={styles.presets}>\r\n                        <button onClick={() => setReminderTime(getPresetTime(1))} style={styles.presetButton}>\r\n                            1 saat sonra\r\n                        </button>\r\n                        <button onClick={() => setReminderTime(getPresetTime(3))} style={styles.presetButton}>\r\n                            3 saat sonra\r\n                        </button>\r\n                        <button onClick={() => setReminderTime(getPresetTime(24))} style={styles.presetButton}>\r\n                            Yarın\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div style={styles.inputGroup}>\r\n                        <label style={styles.label}>Tarih ve Saat</label>\r\n                        <input\r\n                            type=\"datetime-local\"\r\n                            value={reminderTime}\r\n                            onChange={(e) => setReminderTime(e.target.value)}\r\n                            style={styles.input}\r\n                        />\r\n                    </div>\r\n\r\n                    <div style={styles.inputGroup}>\r\n                        <label style={styles.label}>Not (Opsiyonel)</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={reminderNote}\r\n                            onChange={(e) => setReminderNote(e.target.value)}\r\n                            placeholder=\"Hatırlatıcı için not ekle...\"\r\n                            style={styles.input}\r\n                        />\r\n                    </div>\r\n\r\n                    <button\r\n                        onClick={handleCreate}\r\n                        disabled={loading || !reminderTime}\r\n                        style={{\r\n                            ...styles.createButton,\r\n                            opacity: loading || !reminderTime ? 0.5 : 1,\r\n                            cursor: loading || !reminderTime ? 'not-allowed' : 'pointer'\r\n                        }}\r\n                    >\r\n                        {loading ? 'Oluşturuluyor...' : '✅ Hatırlatıcı Oluştur'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 10000\r\n    },\r\n    modal: {\r\n        backgroundColor: '#2b2d31',\r\n        borderRadius: '8px',\r\n        width: '90%',\r\n        maxWidth: '500px',\r\n        boxShadow: '0 8px 16px rgba(0,0,0,0.4)'\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '20px',\r\n        borderBottom: '1px solid #40444b'\r\n    },\r\n    title: {\r\n        color: 'white',\r\n        margin: 0,\r\n        fontSize: '1.3em',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n    },\r\n    closeButton: {\r\n        background: 'none',\r\n        border: 'none',\r\n        color: '#b9bbbe',\r\n        cursor: 'pointer',\r\n        fontSize: '1.3em',\r\n        padding: '5px'\r\n    },\r\n    content: {\r\n        padding: '20px'\r\n    },\r\n    messagePreview: {\r\n        backgroundColor: '#40444b',\r\n        padding: '12px',\r\n        borderRadius: '4px',\r\n        color: '#dcddde',\r\n        fontSize: '0.9em',\r\n        marginBottom: '15px',\r\n        borderLeft: '3px solid #5865f2'\r\n    },\r\n    presets: {\r\n        display: 'flex',\r\n        gap: '8px',\r\n        marginBottom: '15px'\r\n    },\r\n    presetButton: {\r\n        flex: 1,\r\n        padding: '8px',\r\n        backgroundColor: '#40444b',\r\n        border: '1px solid #5865f2',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        cursor: 'pointer',\r\n        fontSize: '0.85em'\r\n    },\r\n    inputGroup: {\r\n        marginBottom: '15px'\r\n    },\r\n    label: {\r\n        display: 'block',\r\n        color: '#b9bbbe',\r\n        fontSize: '0.85em',\r\n        marginBottom: '5px',\r\n        fontWeight: 'bold'\r\n    },\r\n    input: {\r\n        width: '100%',\r\n        padding: '10px',\r\n        backgroundColor: '#40444b',\r\n        border: '1px solid #5865f2',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        fontSize: '1em'\r\n    },\r\n    createButton: {\r\n        width: '100%',\r\n        padding: '12px',\r\n        backgroundColor: '#5865f2',\r\n        border: 'none',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        fontSize: '1em'\r\n    }\r\n};\r\n\r\nexport default ReminderModal;\r\n\r\n\r\n"],"names":["useState","jsxs","jsx"],"mappings":"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"}
import{r as l,aH as p,l as E,aI as k,bo as h,v}from"./react-core-B6hadH-M.js";import{t as a}from"./index-D_6pZib5.js";const w=({fetchWithAuth:r,apiBaseUrl:c,onSelectTemplate:m,onClose:i})=>{const[u,f]=l.useState([]),[o,s]=l.useState({name:"",content:""}),[g,x]=l.useState(!0);l.useEffect(()=>{d()},[]);const d=async()=>{try{x(!0);const e=await r(`${c}/templates/`);if(e.ok){const n=await e.json();f(n)}}catch(e){console.error("Şablon yükleme hatası:",e)}finally{x(!1)}},y=async()=>{if(!o.name.trim()||!o.content.trim()){a.error("İsim ve içerik gerekli");return}try{(await r(`${c}/templates/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok?(a.success("Şablon oluşturuldu"),s({name:"",content:""}),d()):a.error("Şablon oluşturulamadı")}catch(e){console.error("Şablon oluşturma hatası:",e),a.error("Bir hata oluştu")}},b=async e=>{try{(await r(`${c}/templates/${e}/`,{method:"DELETE"})).ok?(a.success("Şablon silindi"),d()):a.error("Şablon silinemedi")}catch(n){console.error("Şablon silme hatası:",n),a.error("Bir hata oluştu")}},R=e=>{m&&(m(e.content),a.success(`"${e.name}" şablonu kullanıldı`),i())};return React.createElement("div",{style:t.overlay,onClick:i},React.createElement("div",{style:t.modal,onClick:e=>e.stopPropagation()},React.createElement("div",{style:t.header},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement(p,{style:{color:"#5865f2"}}),React.createElement("h2",{style:{margin:0}},"Mesaj Şablonları")),React.createElement(E,{onClick:i,style:t.closeBtn})),React.createElement("div",{style:t.createSection},React.createElement("input",{type:"text",value:o.name,onChange:e=>s({...o,name:e.target.value}),placeholder:"Şablon adı (örn: Toplantı Daveti)",style:t.input}),React.createElement("textarea",{value:o.content,onChange:e=>s({...o,content:e.target.value}),placeholder:"Şablon içeriği...",style:t.textarea,rows:3}),React.createElement("button",{onClick:y,style:t.createBtn},React.createElement(k,null)," Şablon Oluştur")),React.createElement("div",{style:t.content},g?React.createElement("div",{style:t.loading},"Yükleniyor..."):u.length===0?React.createElement("div",{style:t.empty},React.createElement(p,{style:{fontSize:"48px",color:"#555",marginBottom:"10px"}}),React.createElement("p",null,"Henüz şablon yok"),React.createElement("p",{style:{fontSize:"12px",color:"#888"}},"Sık kullandığınız mesajları şablon olarak kaydedin")):u.map(e=>React.createElement("div",{key:e.id,style:t.templateCard},React.createElement("div",{style:t.templateIcon},React.createElement(p,{style:{color:"#5865f2"}})),React.createElement("div",{style:t.templateContent},React.createElement("div",{style:t.templateName},e.name),React.createElement("div",{style:t.templatePreview},e.content.substring(0,100),e.content.length>100&&"..."),React.createElement("div",{style:t.templateMeta},e.use_count||0," kez kullanıldı")),React.createElement("div",{style:t.templateActions},React.createElement("button",{onClick:()=>R(e),style:t.useBtn,title:"Şablonu kullan"},React.createElement(h,null)," Kullan"),React.createElement("button",{onClick:()=>b(e.id),style:t.deleteBtn,title:"Şablonu sil"},React.createElement(v,null))))))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},createSection:{padding:"20px",borderBottom:"1px solid #333"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",marginBottom:"10px"},textarea:{width:"100%",padding:"12px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",resize:"vertical",marginBottom:"10px"},createBtn:{width:"100%",backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},content:{flex:1,overflowY:"auto",padding:"20px"},templateCard:{display:"flex",gap:"15px",padding:"15px",backgroundColor:"#2c2f33",borderRadius:"8px",marginBottom:"10px"},templateIcon:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#5865f21a",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",flexShrink:0},templateContent:{flex:1},templateName:{fontWeight:"600",fontSize:"16px",marginBottom:"6px",color:"#dcddde"},templatePreview:{fontSize:"13px",color:"#888",lineHeight:"1.4",marginBottom:"6px"},templateMeta:{fontSize:"12px",color:"#666"},templateActions:{display:"flex",flexDirection:"column",gap:"8px"},useBtn:{backgroundColor:"#43b581",color:"#fff",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",whiteSpace:"nowrap"},deleteBtn:{backgroundColor:"#f04747",color:"#fff",border:"none",padding:"8px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},loading:{textAlign:"center",padding:"40px",color:"#888"},empty:{textAlign:"center",padding:"60px 20px",color:"#888"}};export{w as default};

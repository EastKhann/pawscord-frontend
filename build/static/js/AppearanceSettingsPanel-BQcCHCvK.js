var N=Object.defineProperty;var c=(t,a)=>N(t,"name",{value:a,configurable:!0});import{r as o,j as e}from"./react-core-Djgtqrmb.js";import{y as h}from"./ui-vendor-IhB9Znpc.js";import{g as b,e as f}from"./index-CjRzheBN.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./icons-vendor-BW7dxHkX.js";const C=[{name:"Discord Blue",color:"#5865f2"},{name:"Blurple",color:"#7289da"},{name:"Green",color:"#43b581"},{name:"Yellow",color:"#faa61a"},{name:"Red",color:"#f04747"},{name:"Pink",color:"#ff73fa"},{name:"Purple",color:"#9b59b6"},{name:"Orange",color:"#e67e22"}],S={theme:"dark",accent_color:"#5865f2",message_display_mode:"cozy",font_size:16,message_group_spacing:"default",show_emoji_picker:!0,show_gif_picker:!0,animate_emoji:!0,animate_stickers:!0,show_embeds:!0,render_embeds:!0,inline_embed_media:!0,inline_attachment_media:!0,use_reduced_motion:!1,high_contrast_mode:!1,saturate_colors:100,language:"tr",timezone:"Europe/Istanbul"},p=c(t=>{document.documentElement.setAttribute("data-theme",t.theme),document.documentElement.style.setProperty("--accent-color",t.accent_color),document.documentElement.style.setProperty("--font-size",`${t.font_size}px`),document.documentElement.style.setProperty("--saturation",`${t.saturate_colors}%`),t.use_reduced_motion?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion"),t.high_contrast_mode?document.documentElement.classList.add("high-contrast"):document.documentElement.classList.remove("high-contrast")},"applyTheme"),z=c(()=>{const[t,a]=o.useState(S),[m,n]=o.useState(!0),d=b();o.useEffect(()=>{u()},[]);const u=c(async()=>{try{const i=localStorage.getItem("access_token"),l=await fetch(`${d}/appearance/settings/`,{headers:{Authorization:`Bearer ${i}`}});if(l.ok){const r=await l.json();a(r),p(r)}}catch{}finally{n(!1)}},"fetchAppearanceSettings"),g=c(async i=>{try{const l=localStorage.getItem("access_token");(await fetch(`${d}/appearance/settings/update/`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify(i)})).ok?(a(i),p(i),h.success("âœ… GÃ¶rÃ¼nÃ¼m ayarlarÄ± kaydedildi")):h.error("âŒ Ayarlar kaydedilemedi")}catch{h.error("âŒ BaÄŸlantÄ± hatasÄ±")}},"updateSettings");return{settings:t,loading:m,updateSetting:c((i,l)=>{const r={...t,[i]:l};g(r)},"updateSetting"),toggleSetting:c(i=>{const l={...t,[i]:!t[i]};g(l)},"toggleSetting"),resetToDefaults:c(async()=>{if(await f("TÃ¼m gÃ¶rÃ¼nÃ¼m ayarlarÄ±nÄ± varsÄ±yÄ±lana dÃ¶ndÃ¼rmek istediÄŸinizden emin misiniz?"))try{const i=localStorage.getItem("access_token"),l=await fetch(`${d}/appearance/settings/reset/`,{method:"POST",headers:{Authorization:`Bearer ${i}`}});if(l.ok){const r=await l.json();a(r),p(r),h.success("âœ… Ayarlar varsÄ±yÄ±lana dÃ¶ndÃ¼rÃ¼ldÃ¼")}}catch{h.error("âŒ Ayarlar sÄ±fÄ±rlanamadÄ±")}},"resetToDefaults")}},"useAppearanceSettings"),k=c(({label:t,desc:a,checked:m,onChange:n})=>e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:t}),e.jsx("div",{className:"setting-desc",children:a})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:n}),e.jsx("span",{className:"slider"})]})]}),"SettingToggle"),A=[{key:"show_emoji_picker",label:"Emoji seÃ§iciyi gÃ¶ster",desc:"Mesaj yazarken emoji seÃ§ici"},{key:"show_gif_picker",label:"GIF seÃ§iciyi gÃ¶ster",desc:"Mesaj yazarken GIF seÃ§ici"},{key:"animate_emoji",label:"Emoji animasyonlarÄ±",desc:"Animasyonlu emojileri oynat"},{key:"animate_stickers",label:"Sticker animasyonlarÄ±",desc:"Animasyonlu stickerleri oynat"},{key:"show_embeds",label:"Embed gÃ¶ster",desc:"Link Ã¶nizlemelerini gÃ¶ster"},{key:"render_embeds",label:"Embed iÃ§eriÄŸi render et",desc:"Embed iÃ§indeki medyayÄ± gÃ¶ster"},{key:"inline_embed_media",label:"SatÄ±r iÃ§i medya",desc:"GÃ¶rselleri ve videolarÄ± mesaj iÃ§inde gÃ¶ster"},{key:"inline_attachment_media",label:"SatÄ±r iÃ§i ekler",desc:"Dosya eklerini mesaj iÃ§inde gÃ¶ster"}],E=[{key:"use_reduced_motion",label:"AzaltÄ±lmÄ±ÅŸ hareket",desc:"AnimasyonlarÄ± ve geÃ§iÅŸleri azalt"},{key:"high_contrast_mode",label:"YÃ¼ksek kontrast modu",desc:"Daha belirgin renkler kullan"}],T=c(({onClose:t})=>{const{settings:a,loading:m,updateSetting:n,toggleSetting:d,resetToDefaults:u}=z(),g=o.useCallback(s=>s.stopPropagation(),[]),j=o.useCallback(s=>n("accent_color",s.target.value),[n]),v=o.useCallback(()=>n("message_display_mode","cozy"),[n]),x=o.useCallback(()=>n("message_display_mode","compact"),[n]),i=o.useCallback(s=>n("font_size",parseInt(s.target.value)),[n]),l=o.useCallback(s=>n("message_group_spacing",s.target.value),[n]),r=o.useCallback(s=>n("saturate_colors",parseInt(s.target.value)),[n]),y=o.useCallback(s=>n("language",s.target.value),[n]),_=o.useCallback(s=>n("timezone",s.target.value),[n]);return m?e.jsx("div",{className:"appearance-settings-overlay",children:e.jsx("div",{className:"appearance-settings-panel",children:e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"GÃ¶rÃ¼nÃ¼m ayarlarÄ± yÃ¼kleniyor..."})]})})}):e.jsx("div",{className:"appearance-settings-overlay",onClick:t,children:e.jsxs("div",{className:"appearance-settings-panel",onClick:g,children:[e.jsxs("div",{className:"appearance-settings-header",children:[e.jsx("h2",{children:"ğŸ¨ GÃ¶rÃ¼nÃ¼m AyarlarÄ±"}),e.jsx("button",{className:"close-btn",onClick:t,children:"Ã—"})]}),e.jsxs("div",{className:"appearance-settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ğŸŒ™ Tema"}),e.jsx("div",{className:"theme-selector",children:[{value:"light",icon:"â˜€ï¸",label:"AÃ§Ä±k",cls:"light-theme"},{value:"dark",icon:"ğŸŒ™",label:"Koyu",cls:"dark-theme"},{value:"auto",icon:"ğŸ”„",label:"Otomatik",cls:"auto-theme"}].map(s=>e.jsxs("div",{className:`theme-option ${a.theme===s.value?"active":""}`,onClick:c(()=>n("theme",s.value),"onClick"),children:[e.jsxs("div",{className:`theme-preview ${s.cls}`,children:[e.jsx("div",{className:"preview-header"}),e.jsx("div",{className:"preview-content"})]}),e.jsxs("span",{children:[s.icon," ",s.label]})]},s.value))})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ğŸ¨ Vurgu Rengi"}),e.jsxs("div",{className:"color-picker",children:[C.map(s=>e.jsx("div",{className:`color-swatch ${a.accent_color===s.color?"active":""}`,style:{background:s.color},onClick:c(()=>n("accent_color",s.color),"onClick"),title:s.name,children:a.accent_color===s.color&&e.jsx("span",{children:"âœ“"})},s.color)),e.jsx("input",{type:"color",value:a.accent_color,onChange:j,className:"custom-color-input",title:"Ã–zel renk seÃ§"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ğŸ’¬ Mesaj GÃ¶rÃ¼nÃ¼mÃ¼"}),e.jsxs("div",{className:"settings-group",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Mesaj modu"}),e.jsx("div",{className:"setting-desc",children:"MesajlarÄ±n nasÄ±l gÃ¶rÃ¼ntÃ¼leneceÄŸini seÃ§in"})]}),e.jsxs("div",{className:"display-mode-selector",children:[e.jsx("button",{className:`mode-btn ${a.message_display_mode==="cozy"?"active":""}`,onClick:v,children:"Rahat"}),e.jsx("button",{className:`mode-btn ${a.message_display_mode==="compact"?"active":""}`,onClick:x,children:"Kompakt"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsxs("div",{className:"setting-label",children:["YazÄ± boyutu: ",a.font_size,"px"]}),e.jsx("div",{className:"setting-desc",children:"Mesaj yazÄ± tipi boyutu"})]}),e.jsx("input",{type:"range",min:"12",max:"20",value:a.font_size,onChange:i,className:"font-size-slider"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Mesaj aralÄ±ÄŸÄ±"}),e.jsx("div",{className:"setting-desc",children:"Mesajlar arasÄ± boÅŸluk"})]}),e.jsxs("select",{value:a.message_group_spacing,onChange:l,className:"spacing-select",children:[e.jsx("option",{value:"compact",children:"SÄ±kÄ±ÅŸÄ±k"}),e.jsx("option",{value:"default",children:"VarsÄ±yÄ±lan"}),e.jsx("option",{value:"spacious",children:"GeniÅŸ"})]})]})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"âœ¨ Sohbet Ã–zellikleri"}),e.jsx("div",{className:"settings-group",children:A.map(s=>e.jsx(k,{label:s.label,desc:s.desc,checked:a[s.key],onChange:c(()=>d(s.key),"onChange")},s.key))})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"â™¿ EriÅŸilebilirlik"}),e.jsxs("div",{className:"settings-group",children:[E.map(s=>e.jsx(k,{label:s.label,desc:s.desc,checked:a[s.key],onChange:c(()=>d(s.key),"onChange")},s.key)),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsxs("div",{className:"setting-label",children:["Renk doygunluÄŸu: ",a.saturate_colors,"%"]}),e.jsx("div",{className:"setting-desc",children:"Renklerin canlÄ±lÄ±ÄŸÄ±nÄ± ayarla"})]}),e.jsx("input",{type:"range",min:"0",max:"200",value:a.saturate_colors,onChange:r,className:"saturation-slider"})]})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ğŸŒ Dil ve BÃ¶lge"}),e.jsxs("div",{className:"settings-group",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Dil"}),e.jsx("div",{className:"setting-desc",children:"Uygulama dili"})]}),e.jsxs("select",{value:a.language,onChange:y,className:"language-select",children:[e.jsx("option",{value:"tr",children:"ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e"}),e.jsx("option",{value:"en",children:"ğŸ‡ºğŸ‡¸ English"}),e.jsx("option",{value:"de",children:"ğŸ‡©ğŸ‡ª Deutsch"}),e.jsx("option",{value:"fr",children:"ğŸ‡«ğŸ‡· FranÃ§ais"}),e.jsx("option",{value:"es",children:"ğŸ‡ªğŸ‡¸ EspaÃ±ol"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Saat dilimi"}),e.jsx("div",{className:"setting-desc",children:"Mesaj zaman damgalarÄ± iÃ§in"})]}),e.jsxs("select",{value:a.timezone,onChange:_,className:"timezone-select",children:[e.jsx("option",{value:"Europe/Istanbul",children:"Ä°stanbul (UTC+3)"}),e.jsx("option",{value:"Europe/London",children:"Londra (UTC+0)"}),e.jsx("option",{value:"America/New_York",children:"New York (UTC-5)"}),e.jsx("option",{value:"America/Los_Angeles",children:"Los Angeles (UTC-8)"}),e.jsx("option",{value:"Asia/Tokyo",children:"Tokyo (UTC+9)"})]})]})]})]}),e.jsx("div",{className:"settings-section",children:e.jsx("button",{className:"reset-btn",onClick:u,children:"ğŸ”„ VarsÄ±yÄ±lan Ayarlara DÃ¶n"})})]})]})})},"AppearanceSettingsPanel"),U=o.memo(T);export{U as default};

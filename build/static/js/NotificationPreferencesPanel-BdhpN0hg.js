var m=Object.defineProperty;var i=(d,a)=>m(d,"name",{value:a,configurable:!0});import{r as x,j as e}from"./react-core-Djgtqrmb.js";import{k as u,a as b,bo as o,bp as r,z as v}from"./icons-vendor-BW7dxHkX.js";import{t as p}from"./index-D_luy7FO.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const w=i(({fetchWithAuth:d,apiBaseUrl:a,onClose:g})=>{const[s,c]=x.useState({all_messages:!0,mentions_only:!1,direct_messages:!0,server_notifications:!0,keyword_notifications:[],muted_channels:[],muted_servers:[],sound_enabled:!0,desktop_enabled:!0,email_enabled:!1,dnd_enabled:!1,dnd_start:"22:00",dnd_end:"08:00"}),[_,y]=x.useState(!0);x.useEffect(()=>{f()},[]);const f=i(async()=>{try{y(!0);const n=await d(`${a}/notifications/preferences/`);if(n.ok){const h=await n.json();c({...s,...h})}}catch{}finally{y(!1)}},"loadPreferences"),j=i(async()=>{try{(await d(`${a}/notifications/preferences/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?p.success("Tercihler kaydedildi"):p.error("Tercihler kaydedilemedi")}catch{p.error("Bir hata oluştu")}},"savePreferences"),l=i(n=>{c({...s,[n]:!s[n]})},"togglePref");return e.jsx("div",{style:t.overlay,onClick:g,children:e.jsxs("div",{style:t.modal,onClick:i(n=>n.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:t.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(u,{style:{color:"#43b581"}}),e.jsx("h2",{style:{margin:0},children:"Bildirim Tercihleri"})]}),e.jsx(b,{onClick:g,style:t.closeBtn})]}),e.jsxs("div",{style:t.content,children:[e.jsxs("div",{style:t.section,children:[e.jsx("h3",{style:t.sectionTitle,children:"Mesaj Bildirimleri"}),e.jsxs("div",{style:t.setting,children:[e.jsxs("div",{style:t.settingInfo,children:[e.jsx("strong",{children:"Tüm Mesajlar"}),e.jsx("p",{style:t.settingDesc,children:"Her yeni mesajdan bildirim al"})]}),e.jsx("button",{onClick:i(()=>l("all_messages"),"onClick"),style:t.toggle,children:s.all_messages?e.jsx(o,{style:{color:"#43b581",fontSize:"32px"}}):e.jsx(r,{style:{color:"#888",fontSize:"32px"}})})]}),e.jsxs("div",{style:t.setting,children:[e.jsxs("div",{style:t.settingInfo,children:[e.jsx("strong",{children:"Sadece Mention'lar"}),e.jsx("p",{style:t.settingDesc,children:"Yalnızca etiketlendiğinizde bildirim"})]}),e.jsx("button",{onClick:i(()=>l("mentions_only"),"onClick"),style:t.toggle,children:s.mentions_only?e.jsx(o,{style:{color:"#43b581",fontSize:"32px"}}):e.jsx(r,{style:{color:"#888",fontSize:"32px"}})})]}),e.jsxs("div",{style:t.setting,children:[e.jsxs("div",{style:t.settingInfo,children:[e.jsx("strong",{children:"Direkt Mesajlar"}),e.jsx("p",{style:t.settingDesc,children:"DM'lerden bildirim al"})]}),e.jsx("button",{onClick:i(()=>l("direct_messages"),"onClick"),style:t.toggle,children:s.direct_messages?e.jsx(o,{style:{color:"#43b581",fontSize:"32px"}}):e.jsx(r,{style:{color:"#888",fontSize:"32px"}})})]})]}),e.jsxs("div",{style:t.section,children:[e.jsx("h3",{style:t.sectionTitle,children:"Bildirim Kanalları"}),e.jsxs("div",{style:t.setting,children:[e.jsxs("div",{style:t.settingInfo,children:[e.jsx("strong",{children:"Ses Bildirimleri"}),e.jsx("p",{style:t.settingDesc,children:"Bildirim geldiğinde ses çal"})]}),e.jsx("button",{onClick:i(()=>l("sound_enabled"),"onClick"),style:t.toggle,children:s.sound_enabled?e.jsx(o,{style:{color:"#43b581",fontSize:"32px"}}):e.jsx(r,{style:{color:"#888",fontSize:"32px"}})})]}),e.jsxs("div",{style:t.setting,children:[e.jsxs("div",{style:t.settingInfo,children:[e.jsx("strong",{children:"Masaüstü Bildirimleri"}),e.jsx("p",{style:t.settingDesc,children:"Tarayıcı bildirimleri"})]}),e.jsx("button",{onClick:i(()=>l("desktop_enabled"),"onClick"),style:t.toggle,children:s.desktop_enabled?e.jsx(o,{style:{color:"#43b581",fontSize:"32px"}}):e.jsx(r,{style:{color:"#888",fontSize:"32px"}})})]}),e.jsxs("div",{style:t.setting,children:[e.jsxs("div",{style:t.settingInfo,children:[e.jsx("strong",{children:"Email Bildirimleri"}),e.jsx("p",{style:t.settingDesc,children:"Önemli bildirimleri email'le al"})]}),e.jsx("button",{onClick:i(()=>l("email_enabled"),"onClick"),style:t.toggle,children:s.email_enabled?e.jsx(o,{style:{color:"#43b581",fontSize:"32px"}}):e.jsx(r,{style:{color:"#888",fontSize:"32px"}})})]})]}),e.jsxs("div",{style:t.section,children:[e.jsxs("h3",{style:t.sectionTitle,children:[e.jsx(v,{style:{marginRight:"8px"}}),"Rahatsız Etme Saatleri"]}),e.jsxs("div",{style:t.setting,children:[e.jsxs("div",{style:t.settingInfo,children:[e.jsx("strong",{children:"Rahatsız Etme Modu"}),e.jsx("p",{style:t.settingDesc,children:"Belirli saatlerde bildirimleri kapat"})]}),e.jsx("button",{onClick:i(()=>l("dnd_enabled"),"onClick"),style:t.toggle,children:s.dnd_enabled?e.jsx(o,{style:{color:"#43b581",fontSize:"32px"}}):e.jsx(r,{style:{color:"#888",fontSize:"32px"}})})]}),s.dnd_enabled&&e.jsxs("div",{style:t.timeRange,children:[e.jsxs("div",{style:t.timeInput,children:[e.jsx("label",{children:"Başlangıç:"}),e.jsx("input",{type:"time",value:s.dnd_start,onChange:i(n=>c({...s,dnd_start:n.target.value}),"onChange"),style:t.input})]}),e.jsxs("div",{style:t.timeInput,children:[e.jsx("label",{children:"Bitiş:"}),e.jsx("input",{type:"time",value:s.dnd_end,onChange:i(n=>c({...s,dnd_end:n.target.value}),"onChange"),style:t.input})]})]})]})]}),e.jsx("div",{style:t.footer,children:e.jsx("button",{onClick:j,style:t.saveBtn,children:"Kaydet"})})]})})},"NotificationPreferencesPanel"),t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},section:{marginBottom:"30px"},sectionTitle:{color:"#5865f2",fontSize:"16px",fontWeight:"600",marginBottom:"15px",display:"flex",alignItems:"center"},setting:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"15px",backgroundColor:"#2c2f33",borderRadius:"8px",marginBottom:"10px"},settingInfo:{flex:1},settingDesc:{fontSize:"12px",color:"#888",margin:"4px 0 0 0"},toggle:{backgroundColor:"transparent",border:"none",cursor:"pointer",padding:"0"},timeRange:{display:"flex",gap:"20px",padding:"15px",backgroundColor:"#2c2f33",borderRadius:"8px",marginTop:"10px"},timeInput:{flex:1,display:"flex",flexDirection:"column",gap:"8px"},input:{padding:"8px",backgroundColor:"#1e1e1e",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},footer:{padding:"20px",borderTop:"1px solid #333"},saveBtn:{width:"100%",backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{w as default};

var S=Object.defineProperty;var r=(o,i)=>S(o,"name",{value:i,configurable:!0});import{a as w,r as l,j as e}from"./react-core-Djgtqrmb.js";import{a as C,f as z,br as M,Q as B,z as R}from"./icons-vendor-BW7dxHkX.js";import{c as T}from"./index-BT6pEMKq.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const I=r(({type:o="bookmarks",onClose:i,fetchWithAuth:d,apiBaseUrl:c,onScrollToMessage:m})=>{const{overlayProps:f,dialogProps:b}=T({onClose:i,label:"Kaydedilen Mesajlar"}),[x,g]=l.useState([]),[u,p]=l.useState(!0);l.useEffect(()=>{y()},[o]);const y=r(async()=>{p(!0);try{let s="";o==="bookmarks"||o==="starred"?s="/messages/favorites/":o==="readlater"&&(s="/messages/readlater/list/");const a=await d(`${c}${s}`);if(a.ok){const n=await a.json();g(n.messages||n.results||[])}}catch{}finally{p(!1)}},"loadMessages"),h=r(async s=>{try{let a="";o==="bookmarks"?a="/messages/bookmark/toggle/":o==="starred"?a="/messages/star/toggle/":o==="readlater"&&(a="/messages/readlater/toggle/"),await d(`${c}${a}`,{method:"POST",body:JSON.stringify({message_id:s})}),g(n=>n.filter(v=>v.id!==s))}catch{}},"handleRemove"),j=r(()=>o==="bookmarks"?"ðŸ“‘ Bookmarklar":o==="starred"?"â­ YÄ±ldÄ±zlÄ± Mesajlar":o==="readlater"?"ðŸ• Sonra Oku":"Kaydedilen Mesajlar","getTitle"),k=r(()=>o==="bookmarks"?e.jsx(M,{}):o==="starred"?e.jsx(B,{}):o==="readlater"?e.jsx(R,{}):null,"getIcon");return e.jsx("div",{style:t.overlay,...f,children:e.jsxs("div",{style:t.modal,...b,children:[e.jsxs("div",{style:t.header,children:[e.jsxs("h2",{style:t.title,children:[k()," ",j()]}),e.jsx("button",{onClick:i,style:t.closeButton,children:e.jsx(C,{})})]}),e.jsx("div",{style:t.content,children:u?e.jsx("div",{style:t.loading,children:"YÃ¼kleniyor..."}):x.length===0?e.jsx("div",{style:t.empty,children:"HenÃ¼z kaydedilmiÅŸ mesaj yok"}):e.jsx("div",{style:t.messageList,children:x.map(s=>e.jsxs("div",{style:t.messageItem,children:[e.jsxs("div",{style:t.messageContent,children:[e.jsxs("div",{style:t.messageHeader,children:[e.jsx("span",{style:t.username,children:s.username}),e.jsx("span",{style:t.timestamp,children:new Date(s.timestamp).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:t.messageText,children:[s.content?.substring(0,150),s.content?.length>150&&"..."]}),s.room_name&&e.jsx("div",{style:t.roomTag,children:s.room_name})]}),e.jsxs("div",{style:t.actions,children:[e.jsx("button",{onClick:r(()=>{m&&(m(s.id),i())},"onClick"),style:t.actionButton,title:"Mesaja git",children:"â†’"}),e.jsx("button",{onClick:r(()=>h(s.id),"onClick"),style:{...t.actionButton,color:"#f04747"},title:"KaldÄ±r",children:e.jsx(z,{})})]})]},s.id))})})]})})},"SavedMessagesModal"),t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"10px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},messageList:{display:"flex",flexDirection:"column",gap:"10px"},messageItem:{backgroundColor:"#40444b",borderRadius:"4px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"10px"},messageContent:{flex:1},messageHeader:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},username:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},messageText:{color:"#dcddde",fontSize:"0.9em",marginBottom:"5px"},roomTag:{display:"inline-block",backgroundColor:"#5865f2",color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"0.7em",fontWeight:"bold"},actions:{display:"flex",gap:"5px"},actionButton:{background:"none",border:"1px solid #72767d",color:"#b9bbbe",cursor:"pointer",padding:"5px 10px",borderRadius:"4px",fontSize:"0.9em"}},Y=w.memo(I);export{Y as default};

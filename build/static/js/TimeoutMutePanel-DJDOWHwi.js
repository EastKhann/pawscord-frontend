import{r as i,Y as k,l as v,a3 as R}from"./react-core-B6hadH-M.js";import{t as o}from"./index-D_6pZib5.js";const S=({fetchWithAuth:s,apiBaseUrl:c,roomSlug:d,userId:u,username:n,onClose:r})=>{const[a,p]=i.useState("60"),[f,b]=i.useState(""),[m,l]=i.useState(!1),x=[{label:"1 Dakika",value:"1"},{label:"5 Dakika",value:"5"},{label:"10 Dakika",value:"10"},{label:"30 Dakika",value:"30"},{label:"1 Saat",value:"60"},{label:"6 Saat",value:"360"},{label:"12 Saat",value:"720"},{label:"24 Saat",value:"1440"},{label:"7 Gün",value:"10080"}],y=async()=>{if(!a||parseInt(a)<=0){o.error("Geçerli bir süre girin");return}try{l(!0),(await s(`${c}/rooms/mute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:d,user_id:u,duration_minutes:parseInt(a),reason:f})})).ok?(o.success(`${n} ${a} dakika susturuldu`),r()):o.error("Susturma başarısız oldu")}catch(t){console.error("Mute hatası:",t),o.error("Bir hata oluştu")}finally{l(!1)}},g=async()=>{try{l(!0),(await s(`${c}/rooms/unmute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:d,user_id:u})})).ok?(o.success(`${n} susturması kaldırıldı`),r()):o.error("İşlem başarısız oldu")}catch(t){console.error("Unmute hatası:",t),o.error("Bir hata oluştu")}finally{l(!1)}};return React.createElement("div",{style:e.overlay,onClick:r},React.createElement("div",{style:e.modal,onClick:t=>t.stopPropagation()},React.createElement("div",{style:e.header},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement(k,{style:{color:"#faa61a"}}),React.createElement("h2",{style:{margin:0}},"Timeout - ",n)),React.createElement(v,{onClick:r,style:e.closeBtn})),React.createElement("div",{style:e.content},React.createElement("div",{style:e.presets},x.map(t=>React.createElement("button",{key:t.value,onClick:()=>p(t.value),style:{...e.presetBtn,backgroundColor:a===t.value?"#5865f2":"#2c2f33"}},t.label))),React.createElement("div",{style:e.field},React.createElement("label",{style:e.label},"Özel Süre (dakika)"),React.createElement("input",{type:"number",value:a,onChange:t=>p(t.target.value),placeholder:"60",style:e.input,min:"1"})),React.createElement("div",{style:e.field},React.createElement("label",{style:e.label},"Sebep (opsiyonel)"),React.createElement("textarea",{value:f,onChange:t=>b(t.target.value),placeholder:"Spam, kural ihlali, vb.",style:e.textarea,rows:3})),React.createElement("div",{style:e.info},"⏰ Kullanıcı ",React.createElement("strong",null,a," dakika")," boyunca mesaj gönderemeyecek")),React.createElement("div",{style:e.footer},React.createElement("button",{onClick:g,style:e.unmuteBtn},React.createElement(R,null)," Susturmayı Kaldır"),React.createElement("button",{onClick:y,disabled:m,style:e.muteBtn},m?"İşleniyor...":"Timeout Uygula"))))},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},presets:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"20px"},presetBtn:{padding:"12px",border:"none",borderRadius:"4px",color:"#fff",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},textarea:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",resize:"vertical"},info:{backgroundColor:"#5865f21a",border:"1px solid #5865f2",borderRadius:"4px",padding:"15px",color:"#5865f2",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},unmuteBtn:{flex:1,backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},muteBtn:{flex:1,backgroundColor:"#faa61a",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{S as default};

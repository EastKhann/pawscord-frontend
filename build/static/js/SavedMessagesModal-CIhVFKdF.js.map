{"version":3,"file":"SavedMessagesModal-CIhVFKdF.js","sources":["../../../src/components/SavedMessagesModal.js"],"sourcesContent":["// frontend/src/components/SavedMessagesModal.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { FaTimes, FaBookmark, FaStar, FaClock, FaTrash } from 'react-icons/fa';\r\n\r\nconst SavedMessagesModal = ({ type = 'bookmarks', onClose, fetchWithAuth, apiBaseUrl, onScrollToMessage }) => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        loadMessages();\r\n    }, [type]);\r\n\r\n    const loadMessages = async () => {\r\n        setLoading(true);\r\n        try {\r\n            let endpoint = '';\r\n            if (type === 'bookmarks') endpoint = '/messages/favorites/';\r\n            else if (type === 'starred') endpoint = '/messages/favorites/';\r\n            else if (type === 'readlater') endpoint = '/messages/readlater/list/';\r\n\r\n            const res = await fetchWithAuth(`${apiBaseUrl}${endpoint}`);\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setMessages(data.messages || data.results || []);\r\n            }\r\n        } catch (error) {\r\n            console.error('Load saved messages error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleRemove = async (messageId) => {\r\n        try {\r\n            let endpoint = '';\r\n            if (type === 'bookmarks') endpoint = '/messages/bookmark/toggle/';\r\n            else if (type === 'starred') endpoint = '/messages/star/toggle/';\r\n            else if (type === 'readlater') endpoint = '/messages/readlater/toggle/';\r\n\r\n            await fetchWithAuth(`${apiBaseUrl}${endpoint}`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({ message_id: messageId })\r\n            });\r\n\r\n            setMessages(prev => prev.filter(msg => msg.id !== messageId));\r\n        } catch (error) {\r\n            console.error('Remove error:', error);\r\n        }\r\n    };\r\n\r\n    const getTitle = () => {\r\n        if (type === 'bookmarks') return 'üìë Bookmarklar';\r\n        if (type === 'starred') return '‚≠ê Yƒ±ldƒ±zlƒ± Mesajlar';\r\n        if (type === 'readlater') return 'üïê Sonra Oku';\r\n        return 'Kaydedilen Mesajlar';\r\n    };\r\n\r\n    const getIcon = () => {\r\n        if (type === 'bookmarks') return <FaBookmark />;\r\n        if (type === 'starred') return <FaStar />;\r\n        if (type === 'readlater') return <FaClock />;\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <div style={styles.overlay} onClick={onClose}>\r\n            <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n                <div style={styles.header}>\r\n                    <h2 style={styles.title}>\r\n                        {getIcon()} {getTitle()}\r\n                    </h2>\r\n                    <button onClick={onClose} style={styles.closeButton}>\r\n                        <FaTimes />\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={styles.content}>\r\n                    {loading ? (\r\n                        <div style={styles.loading}>Y√ºkleniyor...</div>\r\n                    ) : messages.length === 0 ? (\r\n                        <div style={styles.empty}>\r\n                            Hen√ºz kaydedilmi≈ü mesaj yok\r\n                        </div>\r\n                    ) : (\r\n                        <div style={styles.messageList}>\r\n                            {messages.map(msg => (\r\n                                <div key={msg.id} style={styles.messageItem}>\r\n                                    <div style={styles.messageContent}>\r\n                                        <div style={styles.messageHeader}>\r\n                                            <span style={styles.username}>{msg.username}</span>\r\n                                            <span style={styles.timestamp}>\r\n                                                {new Date(msg.timestamp).toLocaleString('tr-TR')}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div style={styles.messageText}>\r\n                                            {msg.content?.substring(0, 150)}\r\n                                            {msg.content?.length > 150 && '...'}\r\n                                        </div>\r\n                                        {msg.room_name && (\r\n                                            <div style={styles.roomTag}>#{msg.room_name}</div>\r\n                                        )}\r\n                                    </div>\r\n                                    <div style={styles.actions}>\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                if (onScrollToMessage) {\r\n                                                    onScrollToMessage(msg.id);\r\n                                                    onClose();\r\n                                                }\r\n                                            }}\r\n                                            style={styles.actionButton}\r\n                                            title=\"Mesaja git\"\r\n                                        >\r\n                                            ‚Üí\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleRemove(msg.id)}\r\n                                            style={{ ...styles.actionButton, color: '#f04747' }}\r\n                                            title=\"Kaldƒ±r\"\r\n                                        >\r\n                                            <FaTrash />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 10000\r\n    },\r\n    modal: {\r\n        backgroundColor: '#2b2d31',\r\n        borderRadius: '8px',\r\n        width: '90%',\r\n        maxWidth: '700px',\r\n        maxHeight: '80vh',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        boxShadow: '0 8px 16px rgba(0,0,0,0.4)'\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '20px',\r\n        borderBottom: '1px solid #40444b'\r\n    },\r\n    title: {\r\n        color: 'white',\r\n        margin: 0,\r\n        fontSize: '1.5em',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '10px'\r\n    },\r\n    closeButton: {\r\n        background: 'none',\r\n        border: 'none',\r\n        color: '#b9bbbe',\r\n        cursor: 'pointer',\r\n        fontSize: '1.5em',\r\n        padding: '5px'\r\n    },\r\n    content: {\r\n        padding: '20px',\r\n        overflowY: 'auto',\r\n        flex: 1\r\n    },\r\n    loading: {\r\n        textAlign: 'center',\r\n        color: '#b9bbbe',\r\n        padding: '40px'\r\n    },\r\n    empty: {\r\n        textAlign: 'center',\r\n        color: '#b9bbbe',\r\n        padding: '40px'\r\n    },\r\n    messageList: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '10px'\r\n    },\r\n    messageItem: {\r\n        backgroundColor: '#40444b',\r\n        borderRadius: '4px',\r\n        padding: '12px',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'flex-start',\r\n        gap: '10px'\r\n    },\r\n    messageContent: {\r\n        flex: 1\r\n    },\r\n    messageHeader: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        marginBottom: '5px'\r\n    },\r\n    username: {\r\n        color: '#5865f2',\r\n        fontWeight: 'bold',\r\n        fontSize: '0.9em'\r\n    },\r\n    timestamp: {\r\n        color: '#72767d',\r\n        fontSize: '0.75em'\r\n    },\r\n    messageText: {\r\n        color: '#dcddde',\r\n        fontSize: '0.9em',\r\n        marginBottom: '5px'\r\n    },\r\n    roomTag: {\r\n        display: 'inline-block',\r\n        backgroundColor: '#5865f2',\r\n        color: 'white',\r\n        padding: '2px 8px',\r\n        borderRadius: '10px',\r\n        fontSize: '0.7em',\r\n        fontWeight: 'bold'\r\n    },\r\n    actions: {\r\n        display: 'flex',\r\n        gap: '5px'\r\n    },\r\n    actionButton: {\r\n        background: 'none',\r\n        border: '1px solid #72767d',\r\n        color: '#b9bbbe',\r\n        cursor: 'pointer',\r\n        padding: '5px 10px',\r\n        borderRadius: '4px',\r\n        fontSize: '0.9em'\r\n    }\r\n};\r\n\r\nexport default React.memo(SavedMessagesModal);\r\n\r\n\r\n"],"names":["useState","useEffect","jsx","jsxs"],"mappings":"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"}
import{r as s}from"./react-core-B6hadH-M.js";import{t as d}from"./index-D_6pZib5.js";import{a as p}from"./index-D5GkNzM3.js";const k=()=>{const[t,o]=s.useState([]),[l,m]=s.useState(""),[a,r]=s.useState("popular"),[i,n]=s.useState(!0);s.useEffect(()=>{u()},[a]);const u=async()=>{n(!0);try{const e=await p.get(`/api/themes/marketplace/?filter=${a}`);o(e.data.themes)}catch(e){console.error("Failed to fetch themes:",e)}finally{n(!1)}},h=async e=>{try{const c=await p.post("/api/themes/install/",{theme_id:e});c.data.success&&(d.success("âœ… Theme installed successfully!"),E(c.data.theme))}catch(c){console.error("Failed to install theme:",c),d.error("âŒ Installation failed")}},E=e=>{const c=document.documentElement;Object.entries(e.colors).forEach(([v,f])=>{c.style.setProperty(`--${v}`,f)}),localStorage.setItem("current_theme",JSON.stringify(e))},R=t.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.author.toLowerCase().includes(l.toLowerCase()));return React.createElement("div",{className:"theme-marketplace"},React.createElement("div",{className:"marketplace-header"},React.createElement("h1",null,"ğŸ¨ Theme Marketplace"),React.createElement("p",null,"Discover and install community-created themes")),React.createElement("div",{className:"marketplace-controls"},React.createElement("input",{type:"text",placeholder:"Search themes...",value:l,onChange:e=>m(e.target.value),className:"theme-search"}),React.createElement("div",{className:"theme-filters"},React.createElement("button",{className:a==="popular"?"active":"",onClick:()=>r("popular")},"ğŸ”¥ Popular"),React.createElement("button",{className:a==="new"?"active":"",onClick:()=>r("new")},"âœ¨ New"),React.createElement("button",{className:a==="top-rated"?"active":"",onClick:()=>r("top-rated")},"â­ Top Rated"))),i?React.createElement("div",{className:"loading"},"Loading themes..."):React.createElement("div",{className:"theme-grid"},R.map(e=>React.createElement(y,{key:e.id,theme:e,onInstall:()=>h(e.id)}))))},y=({theme:t,onInstall:o})=>{const[l,m]=s.useState(!1),a=()=>{m(!0);const r=document.documentElement;Object.entries(t.colors).forEach(([i,n])=>{r.style.setProperty(`--${i}-preview`,n)})};return React.createElement("div",{className:"theme-card"},React.createElement("div",{className:"theme-preview",style:{background:`linear-gradient(135deg, ${t.colors.primary}, ${t.colors.secondary})`}},t.screenshot&&React.createElement("img",{src:t.screenshot,alt:t.name})),React.createElement("div",{className:"theme-info"},React.createElement("h3",null,t.name),React.createElement("p",{className:"theme-author"},"by ",t.author),React.createElement("p",{className:"theme-description"},t.description),React.createElement("div",{className:"theme-stats"},React.createElement("span",null,"â­ ",t.rating.toFixed(1)),React.createElement("span",null,"ğŸ“¥ ",t.downloads.toLocaleString()," installs")),React.createElement("div",{className:"theme-actions"},React.createElement("button",{onClick:a,className:"btn-preview"},"ğŸ‘ï¸ Preview"),React.createElement("button",{onClick:o,className:"btn-install"},"ğŸ“¥ Install"))))};export{k as default};

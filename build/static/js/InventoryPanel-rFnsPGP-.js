var q=Object.defineProperty;var i=(r,n)=>q(r,"name",{value:n,configurable:!0});import{r as p,j as t}from"./react-core-Djgtqrmb.js";import{bI as x,a as w,as as B,ah as u,bC as k}from"./icons-vendor-BW7dxHkX.js";import{t as s}from"./index-GGLPABCW.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const D=i(({fetchWithAuth:r,apiBaseUrl:n,onClose:m,username:g})=>{const[c,y]=p.useState([]),[b,f]=p.useState(!1),[l,h]=p.useState("all"),v=[{value:"all",label:"All Items",icon:x},{value:"cosmetic",label:"Cosmetics",icon:B},{value:"badge",label:"Badges",icon:u},{value:"gift",label:"Gifts",icon:k}];p.useEffect(()=>{d()},[l]);const d=i(async()=>{f(!0);try{const e=new URLSearchParams({username:g||"",type:l!=="all"?l:""}),S=await(await r(`${n}/inventory/?${e}`)).json();y(S.items||[])}catch{s.error("Failed to load inventory")}finally{f(!1)}},"fetchInventory"),j=i(async e=>{try{await r(`${n}/inventory/${e}/equip/`,{method:"POST"}),s.success("Item equipped"),d()}catch{s.error("Failed to equip item")}},"equipItem"),C=i(async e=>{try{await r(`${n}/inventory/${e}/unequip/`,{method:"POST"}),s.success("Item unequipped"),d()}catch{s.error("Failed to unequip item")}},"unequipItem"),I=i(async e=>{try{await r(`${n}/inventory/${e}/use/`,{method:"POST"}),s.success("Item used"),d()}catch{s.error("Failed to use item")}},"useItem");return t.jsx("div",{style:o.overlay,children:t.jsxs("div",{style:o.modal,children:[t.jsxs("div",{style:o.header,children:[t.jsxs("div",{style:o.headerLeft,children:[t.jsx(x,{style:{marginRight:"10px",color:"#5865f2"}}),t.jsx("h2",{style:o.title,children:"Inventory"})]}),t.jsx("button",{onClick:m,style:o.closeButton,children:t.jsx(w,{})})]}),t.jsx("div",{style:o.filterBar,children:v.map(e=>{const a=e.icon;return t.jsxs("button",{onClick:i(()=>h(e.value),"onClick"),style:l===e.value?o.activeFilter:o.filterButton,children:[t.jsx(a,{style:{marginRight:"6px"}}),e.label]},e.value)})}),t.jsx("div",{style:o.content,children:b?t.jsx("div",{style:o.loading,children:"Loading inventory..."}):c.length===0?t.jsx("div",{style:o.empty,children:"No items in inventory"}):t.jsx("div",{style:o.itemsGrid,children:c.map((e,a)=>t.jsxs("div",{style:o.itemCard,children:[e.image_url&&t.jsx("div",{style:o.itemImage,children:t.jsx("img",{src:e.image_url,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.equipped&&t.jsxs("div",{style:o.equippedBadge,children:[t.jsx(u,{style:{fontSize:"12px"}})," Equipped"]}),t.jsxs("div",{style:o.itemInfo,children:[t.jsx("div",{style:o.itemName,children:e.name}),e.rarity&&t.jsx("div",{style:{...o.itemRarity,color:R(e.rarity)},children:e.rarity.toUpperCase()}),e.description&&t.jsx("div",{style:o.itemDescription,children:e.description}),e.quantity>1&&t.jsxs("div",{style:o.itemQuantity,children:["Quantity: ",e.quantity]}),t.jsxs("div",{style:o.itemActions,children:[e.type==="cosmetic"&&t.jsx(t.Fragment,{children:e.equipped?t.jsx("button",{onClick:i(()=>C(e.id),"onClick"),style:o.unequipButton,children:"Unequip"}):t.jsx("button",{onClick:i(()=>j(e.id),"onClick"),style:o.equipButton,children:"Equip"})}),e.usable&&t.jsx("button",{onClick:i(()=>I(e.id),"onClick"),style:o.useButton,children:"Use"})]})]})]},a))})})]})})},"InventoryPanel"),R=i(r=>({common:"#99aab5",uncommon:"#43b581",rare:"#5865f2",epic:"#a020f0",legendary:"#faa61a"})[r?.toLowerCase()]||"#99aab5","getRarityColor"),o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"1100px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},filterBar:{display:"flex",gap:"8px",padding:"16px 20px",borderBottom:"1px solid #2c2f33",overflowX:"auto"},filterButton:{padding:"8px 16px",backgroundColor:"#2c2f33",border:"none",borderRadius:"4px",color:"#dcddde",cursor:"pointer",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center"},activeFilter:{padding:"8px 16px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},itemsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},itemCard:{backgroundColor:"#2c2f33",borderRadius:"8px",overflow:"hidden",position:"relative"},itemImage:{width:"100%",height:"150px",backgroundColor:"#1e1e1e"},equippedBadge:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#faa61a",color:"#ffffff",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},itemInfo:{padding:"12px"},itemName:{fontSize:"15px",fontWeight:"600",color:"#ffffff",marginBottom:"6px"},itemRarity:{fontSize:"11px",fontWeight:"700",marginBottom:"6px",textTransform:"uppercase"},itemDescription:{fontSize:"12px",color:"#dcddde",marginBottom:"8px",lineHeight:"1.4"},itemQuantity:{fontSize:"12px",color:"#99aab5",marginBottom:"8px"},itemActions:{display:"flex",gap:"8px"},equipButton:{flex:1,padding:"8px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"},unequipButton:{flex:1,padding:"8px",backgroundColor:"#99aab5",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"},useButton:{flex:1,padding:"8px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"}};export{D as default};

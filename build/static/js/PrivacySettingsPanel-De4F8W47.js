import{r as d,n as e}from"./react-core-BMiyQWF6.js";import{y as t}from"./ui-vendor-6RMGJYFH.js";import{g as w}from"./index-PGKgqJ1n.js";import"./editor-vendor-D9c4a6XZ.js";import"./media-vendor-BuSyE8vR.js";import"./router-vendor-B86Z1mIL.js";import"./icons-vendor-GUGjkvMm.js";import"./state-vendor-CAyNnPM4.js";import"./crypto-vendor-1Q6e4ZD-.js";const O=({onClose:h})=>{const[a,g]=d.useState({allow_dm_from_everyone:!0,allow_dm_from_friends_only:!1,allow_dm_from_server_members:!0,allow_friend_requests:!0,keep_dm_history_on_server_leave:!0,show_current_activity:!0,explicit_content_filter:"friends",blocked_words_filter_enabled:!1,show_online_status:!0,show_read_receipts:!0,show_typing_indicator:!0,allow_profile_views_from_non_friends:!1,allow_data_collection:!1,allow_personalized_ads:!1}),[o,m]=d.useState([]),[c,x]=d.useState(""),[v,k]=d.useState(!0),n=w();d.useEffect(()=>{_(),N()},[]);const _=async()=>{try{const s=localStorage.getItem("access_token"),i=await fetch(`${n}/privacy/settings/`,{headers:{Authorization:`Bearer ${s}`}});if(i.ok){const r=await i.json();g(r)}}catch{}finally{k(!1)}},N=async()=>{try{const s=localStorage.getItem("access_token"),i=await fetch(`${n}/privacy/blocked-words/`,{headers:{Authorization:`Bearer ${s}`}});if(i.ok){const r=await i.json();m(r.blocked_words||[])}}catch{}},j=async s=>{try{const i=localStorage.getItem("access_token");(await fetch(`${n}/privacy/settings/update/`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?(g(s),t.success("âœ… Gizlilik ayarlarÄ± kaydedildi")):t.error("âŒ Ayarlar kaydedilemedi")}catch{t.error("âŒ BaÄŸlantÄ± hatasÄ±")}},l=s=>{const i={...a,[s]:!a[s]};j(i)},u=s=>{const i={...a,explicit_content_filter:s};j(i)},p=async()=>{if(c.trim())try{const s=localStorage.getItem("access_token");(await fetch(`${n}/privacy/blocked-words/add/`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({word:c.trim()})})).ok?(m([...o,c.trim()]),x(""),t.success(`âœ… "${c.trim()}" engellenmiÅŸ kelimeler listesine eklendi`)):t.error("âŒ Kelime eklenemedi")}catch{t.error("âŒ BaÄŸlantÄ± hatasÄ±")}},y=async s=>{try{const i=localStorage.getItem("access_token");(await fetch(`${n}/privacy/blocked-words/remove/`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({word:s})})).ok?(m(o.filter(b=>b!==s)),t.success(`âœ… "${s}" engellenmiÅŸ kelimeler listesinden kaldÄ±rÄ±ldÄ±`)):t.error("âŒ Kelime kaldÄ±rÄ±lamadÄ±")}catch{t.error("âŒ BaÄŸlantÄ± hatasÄ±")}},f=async()=>{if(window.confirm("Verilerinizi dÄ±ÅŸa aktarmak istediÄŸinizden emin misiniz? Bu iÅŸlem biraz zaman alabilir."))try{const s=localStorage.getItem("access_token"),i=await fetch(`${n}/privacy/data-export/request/`,{method:"POST",headers:{Authorization:`Bearer ${s}`}});if(i.ok){const r=await i.json();t.success("âœ… Veri dÄ±ÅŸa aktarma iÅŸlemi baÅŸlatÄ±ldÄ±. E-postanÄ±za link gÃ¶nderilecek.")}else t.error("âŒ Ä°stek gÃ¶nderilemedi")}catch{t.error("âŒ BaÄŸlantÄ± hatasÄ±")}};return v?e.jsx("div",{className:"privacy-settings-overlay",children:e.jsx("div",{className:"privacy-settings-panel",children:e.jsxs("div",{className:"loading-state",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Gizlilik ayarlarÄ± yÃ¼kleniyor..."})]})})}):e.jsx("div",{className:"privacy-settings-overlay",onClick:h,children:e.jsxs("div",{className:"privacy-settings-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"privacy-settings-header",children:[e.jsx("h2",{children:"ðŸ”’ Gizlilik ve GÃ¼venlik AyarlarÄ±"}),e.jsx("button",{className:"close-btn",onClick:h,children:"Ã—"})]}),e.jsxs("div",{className:"privacy-settings-content",children:[e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ðŸ’¬ Direkt Mesaj GizliliÄŸi"}),e.jsxs("div",{className:"settings-group",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Herkesten DM alabilir"}),e.jsx("div",{className:"setting-desc",children:"Sunucu Ã¼yesi olmasalar bile"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.allow_dm_from_everyone,onChange:()=>l("allow_dm_from_everyone")}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Sadece arkadaÅŸlardan DM"}),e.jsx("div",{className:"setting-desc",children:"YalnÄ±zca arkadaÅŸlarÄ±nÄ±zdan mesaj alabilirsiniz"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.allow_dm_from_friends_only,onChange:()=>l("allow_dm_from_friends_only")}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Sunucu Ã¼yelerinden DM"}),e.jsx("div",{className:"setting-desc",children:"AynÄ± sunucudaki Ã¼yelerden mesaj alabilirsiniz"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.allow_dm_from_server_members,onChange:()=>l("allow_dm_from_server_members")}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"ArkadaÅŸlÄ±k isteklerini kabul et"}),e.jsx("div",{className:"setting-desc",children:"DiÄŸer kullanÄ±cÄ±lar size istek gÃ¶nderebilir"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.allow_friend_requests,onChange:()=>l("allow_friend_requests")}),e.jsx("span",{className:"slider"})]})]})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ðŸ  Sunucu GizliliÄŸi"}),e.jsxs("div",{className:"settings-group",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Sunucudan ayrÄ±lÄ±rken DM geÃ§miÅŸini sakla"}),e.jsx("div",{className:"setting-desc",children:"Sunucudan ayrÄ±ldÄ±ktan sonra DM'ler silinmez"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.keep_dm_history_on_server_leave,onChange:()=>l("keep_dm_history_on_server_leave")}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Mevcut aktiviteyi gÃ¶ster"}),e.jsx("div",{className:"setting-desc",children:"OynadÄ±ÄŸÄ±nÄ±z oyun veya dinlediÄŸiniz mÃ¼ziÄŸi gÃ¶sterin"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.show_current_activity,onChange:()=>l("show_current_activity")}),e.jsx("span",{className:"slider"})]})]})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ðŸ›¡ï¸ Mesaj Filtreleme"}),e.jsxs("div",{className:"settings-group",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"AÃ§Ä±k iÃ§erik filtresi"}),e.jsx("div",{className:"setting-desc",children:"Mesajlardaki mÃ¼stehcen iÃ§eriÄŸi otomatik tara"})]}),e.jsxs("select",{className:"explicit-filter-select",value:a.explicit_content_filter,onChange:s=>u(s.target.value),children:[e.jsx("option",{value:"none",children:"KapalÄ±"}),e.jsx("option",{value:"friends",children:"ArkadaÅŸlar hariÃ§"}),e.jsx("option",{value:"all",children:"Herkesten tara"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"EngellenmiÅŸ kelime filtresi"}),e.jsx("div",{className:"setting-desc",children:"BelirlediÄŸiniz kelimeleri iÃ§eren mesajlarÄ± gizleyin"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.blocked_words_filter_enabled,onChange:()=>l("blocked_words_filter_enabled")}),e.jsx("span",{className:"slider"})]})]})]}),a.blocked_words_filter_enabled&&e.jsxs("div",{className:"blocked-words-section",children:[e.jsx("h4",{children:"EngellenmiÅŸ Kelimeler"}),e.jsxs("div",{className:"add-word-form",children:[e.jsx("input",{type:"text",placeholder:"Engellenecek kelime...",value:c,onChange:s=>x(s.target.value),onKeyPress:s=>s.key==="Enter"&&p()}),e.jsx("button",{className:"add-word-btn",onClick:p,children:"âž• Ekle"})]}),o.length>0?e.jsx("div",{className:"blocked-words-list",children:o.map((s,i)=>e.jsxs("div",{className:"blocked-word-item",children:[e.jsx("span",{children:s}),e.jsx("button",{className:"remove-word-btn",onClick:()=>y(s),children:"âœ•"})]},i))}):e.jsx("p",{className:"empty-state",children:"HenÃ¼z engellenmiÅŸ kelime yok"})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ðŸ‘ï¸ GÃ¶rÃ¼nÃ¼rlÃ¼k"}),e.jsxs("div",{className:"settings-group",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Ã‡evrimiÃ§i durumu gÃ¶ster"}),e.jsx("div",{className:"setting-desc",children:"DiÄŸer kullanÄ±cÄ±lar Ã§evrimiÃ§i olduÄŸunuzu gÃ¶rebilir"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.show_online_status,onChange:()=>l("show_online_status")}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Okundu bilgisi gÃ¶nder"}),e.jsx("div",{className:"setting-desc",children:"MesajlarÄ± okuduÄŸunuzda karÅŸÄ± tarafa bildirim gÃ¶sterilir"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.show_read_receipts,onChange:()=>l("show_read_receipts")}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"YazÄ±yor gÃ¶stergesini gÃ¶ster"}),e.jsx("div",{className:"setting-desc",children:"Mesaj yazarken karÅŸÄ± tarafa bildirim gÃ¶sterilir"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.show_typing_indicator,onChange:()=>l("show_typing_indicator")}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"ArkadaÅŸ olmayanlar profilimi gÃ¶rebilir"}),e.jsx("div",{className:"setting-desc",children:"Herkes profilinizi gÃ¶rÃ¼ntÃ¼leyebilir"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.allow_profile_views_from_non_friends,onChange:()=>l("allow_profile_views_from_non_friends")}),e.jsx("span",{className:"slider"})]})]})]})]}),e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"ðŸ“Š Veri GizliliÄŸi"}),e.jsxs("div",{className:"settings-group",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"Veri toplamaya izin ver"}),e.jsx("div",{className:"setting-desc",children:"UygulamayÄ± geliÅŸtirmek iÃ§in anonim kullanÄ±m verisi toplanÄ±r"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.allow_data_collection,onChange:()=>l("allow_data_collection")}),e.jsx("span",{className:"slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx("div",{className:"setting-label",children:"KiÅŸiselleÅŸtirilmiÅŸ reklamlara izin ver"}),e.jsx("div",{className:"setting-desc",children:"Size Ã¶zel reklamlar gÃ¶sterilir"})]}),e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.allow_personalized_ads,onChange:()=>l("allow_personalized_ads")}),e.jsx("span",{className:"slider"})]})]})]}),e.jsx("button",{className:"export-data-btn",onClick:f,children:"ðŸ“¥ Verilerimi DÄ±ÅŸa Aktar"})]})]})]})})};export{O as default};

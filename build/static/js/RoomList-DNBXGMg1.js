import{b as Ie,r as o,n as e,f as Rt,l as ae}from"./react-core-zXIKm1Jm.js";import{a as fe,b as $o,aj as Tt,a$ as We,o as ze,bl as Do,al as Lo,z as Ct,a3 as Fe,aa as Bt,aY as gn,f as et,aZ as Ye,ba as _o,bk as Po,az as nt,a4 as Oo,d as tt,aX as mn,c as hn,g as Eo,b1 as Fo,b2 as Ko,aT as we,bx as Ao,$ as No,bF as Ho,ag as zt,aq as Wo,B as bn,_ as Yo,N as fn,aA as Jo,bu as pn,k as Go,I as Uo,ah as un,ar as Vo,bG as Xo,bH as Zo,E as Qo,y as qo,j as er,bI as tr,t as nr,bJ as or,q as rr,bK as ir,r as sr,u as ar}from"./icons-vendor-BNHs0e-7.js";import{u as lr,t as h}from"./index-CEfc8aoh.js";import{S as dr}from"./crypto-vendor-D_AcF0lD.js";import{s as x,U as cr}from"./UserFooter-BnaUsduW.js";import{S as pr}from"./ScheduledMessageModal-DUDms-GX.js";import ur from"./VanityURLManager-Bxz2rxcB.js";import{A as xr}from"./AutoResponderManager-BwTci1oT.js";import{L as xn}from"./LazyImage-rdPSnIcj.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-BSOZ7IB3.js";import"./router-vendor-ltdGXAv4.js";import"./state-vendor-8NbFPBhQ.js";const gr=l=>{if(!l)return"https://ui-avatars.com/api/?name=User&background=5865f2&color=fff&bold=true&size=128";const v=dr.hash(l),k=parseInt(v.substring(0,8),16)%360;return`https://ui-avatars.com/api/?name=${encodeURIComponent(l)}&background=${k.toString(16).padStart(2,"0")}${((k+60)%360).toString(16).padStart(2,"0")}${((k+120)%360).toString(16).padStart(2,"0")}&color=fff&bold=true&size=128`},mr=({voiceUsers:l,roomName:v,currentUsername:k,remoteVolumes:u,setRemoteVolume:T,isClientInThisChannel:R,isPttActive:P,onUserAction:B,isAdmin:I,voiceChannels:y,friendsList:F=[],getDeterministicAvatar:j,allUsers:O=[]})=>{const f=j||gr,[b,S]=o.useState(null),[Y,_]=o.useState(!1),[J,ee]=o.useState(!1),[te,K]=o.useState(null),{globalData:A}=lr();o.useEffect(()=>{const m=()=>{S(null)};if(b)return window.addEventListener("click",m),()=>window.removeEventListener("click",m)},[b]);const p=l||A?.voice_users||{},w=p&&typeof p=="object"&&!Array.isArray(p)?p[v]||[]:[];o.useEffect(()=>{},[l,A,v,w]);const ie=o.useCallback((m,M)=>{const c=M.target.value;T(m,parseInt(c,10))},[T]),me=o.useCallback((m,M)=>{m.preventDefault(),M.username!==k&&S({x:m.clientX,y:m.clientY,user:M})},[k]),de=o.useCallback(()=>{S(null),_(!1)},[]),se=o.useCallback((m,M)=>{b&&B&&(m==="move"&&M?B(m,b.user.username,M):B(m,b.user.username)),de()},[b,B,de]),ye=o.useCallback(m=>{m.username!==k&&B&&B("profile",m.username)},[k,B]),he=o.useCallback((m,M)=>{if(!I)return;ee(!0),K(M.username),m.dataTransfer.setData("application/json",JSON.stringify({username:M.username,fromChannel:v})),m.dataTransfer.effectAllowed="move";const c=document.createElement("div");c.style.cssText="position:fixed;top:-1000px;background:linear-gradient(135deg,#5865f2,#7289da);color:#fff;padding:8px 16px;border-radius:10px;font-size:13px;font-weight:600;box-shadow:0 4px 20px rgba(88,101,242,0.6);display:flex;align-items:center;gap:8px;z-index:99999;",c.innerHTML="ğŸ”€ "+M.username,document.body.appendChild(c),m.dataTransfer.setDragImage(c,60,20),setTimeout(()=>document.body.removeChild(c),0)},[I,v]),pe=o.useCallback(()=>{ee(!1),K(null)},[]);return!p||typeof p!="object"||Array.isArray(p)?(console.warn(`âš ï¸ [VoiceUserList] ${v}: Invalid voiceUsers structure:`,p),null):!Array.isArray(w)||w.length===0?null:e.jsxs("div",{style:$.container,children:[e.jsx("div",{style:$.userList,children:w.map(m=>{const M=m.username,c=m.is_talking,C=m.is_mic_off,z=m.is_deafened,H=m.is_sharing;let ue,oe=$.activeUser;z?(ue="ğŸ”•",oe=$.deafenedUser):c?(ue="ğŸ—£ï¸",oe=$.talkingUser):C?(ue="ğŸ”‡",oe=$.mutedUser):(ue="ğŸ¤",oe=$.activeUser);const Se=M===k;let ve=m.avatar||m.avatarUrl;return ve||(ve=O.find(je=>je.username===M)?.avatar||f(M)),Se?e.jsxs("div",{style:$.userItemNew,children:[e.jsxs("div",{style:$.avatarContainer,children:[e.jsx("img",{src:ve,alt:M,onError:ne=>{ne.target.onerror=null,ne.target.src=f(M)},style:{...$.avatar,border:c?"2px solid #4CAF50":"2px solid transparent",boxShadow:c?"0 0 10px rgba(76, 175, 80, 0.6)":"none"}}),e.jsx("div",{style:{...$.statusBadge,background:z?"#e74c3c":C?"#e67e22":"#43b581"},children:ue})]}),e.jsxs("div",{style:$.userInfo,children:[e.jsxs("span",{className:R&&P&&!c?"ptt-active":"",style:{...$.username,...oe,fontWeight:"bold"},children:[M," ",e.jsx("span",{style:{fontSize:"0.85em",color:"#99aab5"},children:"(Sen)"})]}),H&&e.jsx("div",{style:$.sharingIndicator,children:"ğŸ–¥ï¸ Ekran PaylaÅŸÄ±yor"})]})]},M):e.jsx("div",{style:{...$.userItemNew,...I?{cursor:"grab"}:{},...J&&te===M?{opacity:.4,border:"1px dashed rgba(88, 101, 242, 0.5)",background:"rgba(88, 101, 242, 0.05)"}:{}},draggable:I,onDragStart:ne=>he(ne,m),onDragEnd:pe,onContextMenu:ne=>me(ne,m),children:e.jsxs("div",{style:$.userClickArea,onClick:()=>ye(m),children:[e.jsxs("div",{style:$.avatarContainer,children:[e.jsx("img",{src:ve,alt:M,onError:ne=>{ne.target.onerror=null,ne.target.src=f(M)},style:{...$.avatar,border:c?"2px solid #4CAF50":"2px solid transparent",boxShadow:c?"0 0 10px rgba(76, 175, 80, 0.6)":"none"}}),e.jsx("div",{style:{...$.statusBadge,background:z?"#e74c3c":C?"#e67e22":"#43b581"},children:ue})]}),e.jsxs("div",{style:$.userInfo,children:[e.jsx("span",{className:c?"voice-user-item is-talking":"",style:{...$.username,...oe},children:M}),H&&e.jsx("div",{style:$.sharingIndicator,children:"ğŸ–¥ï¸ Ekran PaylaÅŸÄ±yor"})]})]})},M)})}),b&&Rt.createPortal(e.jsxs("div",{style:{...$.contextMenu,left:`${Math.min(b.x,window.innerWidth-250)}px`,top:`${Math.min(b.y,window.innerHeight-400)}px`,position:"fixed",zIndex:2147483647},onClick:m=>m.stopPropagation(),children:[e.jsx("div",{style:$.menuHeader,children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("img",{src:(()=>{const m=b.user;let M=m.avatar||m.avatarUrl;return M||(M=O.find(C=>C.username===m.username)?.avatar||f(m.username)),M})(),alt:b.user.username,onError:m=>{m.target.onerror=null,m.target.src=f(b.user.username)},style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid #5865f2"}}),e.jsx("span",{style:{fontWeight:"600"},children:b.user.username})]})}),R&&e.jsxs("div",{style:$.volumeSection,children:[e.jsxs("div",{style:{fontSize:"11px",color:"#b9bbbe",marginBottom:"4px",display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"ğŸ”Š Ses Seviyesi"}),e.jsxs("span",{children:[u[b.user.username]||100,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"200",value:u[b.user.username]||100,onChange:m=>ie(b.user.username,m),style:{...$.volumeSlider,background:`linear-gradient(to right, #5865f2 0%, #5865f2 ${(u[b.user.username]||100)/200*100}%, rgba(255,255,255,0.1) ${(u[b.user.username]||100)/200*100}%, rgba(255,255,255,0.1) 100%)`}})]}),e.jsxs("div",{style:$.menuSection,children:[e.jsx("div",{style:$.menuItem,onClick:()=>se("profile"),children:"ğŸ‘¤ Profili GÃ¶rÃ¼ntÃ¼le"}),e.jsx("div",{style:$.menuItem,onClick:()=>se("dm"),children:"ğŸ’¬ Ã–zelden Mesaj At"}),b.user.username!==k&&!F.some(m=>m.sender_username===b.user.username||m.receiver_username===b.user.username)&&e.jsx("div",{style:$.menuItem,onClick:()=>se("add_friend"),children:"â• ArkadaÅŸ Ekle"})]}),I&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:$.menuDivider}),e.jsxs("div",{style:$.menuSection,children:[e.jsx("div",{style:{fontSize:"10px",color:"#b9bbbe",padding:"4px 8px",fontWeight:"600"},children:"âš¡ MOD ARAÃ‡LARI"}),e.jsx("div",{style:$.menuItem,onClick:()=>_(!Y),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsx("span",{children:"ğŸ”€ BaÅŸka Kanala TaÅŸÄ±"}),e.jsx("span",{style:{fontSize:"10px",transform:Y?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"â€º"})]})}),Y&&y&&y.length>0&&e.jsxs("div",{style:{padding:"4px 0",background:"rgba(88, 101, 242, 0.05)",borderTop:"1px solid rgba(88, 101, 242, 0.15)",borderBottom:"1px solid rgba(88, 101, 242, 0.15)",margin:"2px 0"},children:[y.filter(m=>m.slug!==v).map(m=>e.jsxs("div",{style:{...$.menuItem,paddingLeft:"24px",fontSize:"0.82em",display:"flex",alignItems:"center",gap:"8px"},onClick:()=>se("move",m.slug),children:[e.jsx("span",{style:{color:"#5865f2"},children:"ğŸ”Š"})," ",m.name]},m.slug)),y.filter(m=>m.slug!==v).length===0&&e.jsx("div",{style:{...$.menuItem,color:"#72767d",cursor:"default",paddingLeft:"24px",fontSize:"0.82em"},children:"BaÅŸka kanal yok"})]}),e.jsx("div",{style:$.menuItem,onClick:()=>se("kick"),children:"âŒ Kanaldan At"}),e.jsx("div",{style:$.menuItem,onClick:()=>se("server_mute"),children:"ğŸ”‡ Sunucu Sustur"}),e.jsx("div",{style:$.menuItem,onClick:()=>se("server_deafen"),children:"ğŸ™‰ Sunucu SaÄŸÄ±rlaÅŸtÄ±r"})]})]}),!I&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:$.menuDivider}),e.jsx("div",{style:$.menuItem,onClick:()=>se("mute_local"),children:"ğŸ”‡ Sessize Al (Sadece Sen DuymazsÄ±n)"})]})]}),document.getElementById("portal-root")||document.body)]})},$={container:{width:"100%",backgroundColor:"transparent",color:"#ccc",padding:"4px 0",minHeight:"30px",maxHeight:"400px",overflowY:"auto"},userList:{padding:"0 2px",display:"flex",flexDirection:"column",gap:"2px"},userItemNew:{padding:"4px 6px",fontSize:"0.8em",borderRadius:"4px",background:"rgba(255, 255, 255, 0.02)",transition:"all 0.15s ease",cursor:"pointer",border:"1px solid transparent",display:"flex",flexDirection:"row",alignItems:"center"},userClickArea:{display:"flex",alignItems:"center",gap:"6px",width:"100%",flexDirection:"row"},avatarContainer:{position:"relative",flexShrink:0,width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},avatar:{width:"22px",height:"22px",borderRadius:"50%",objectFit:"cover",transition:"all 0.2s ease",display:"block",backgroundColor:"#2f3136",flexShrink:0,minWidth:"22px",minHeight:"22px"},statusBadge:{position:"absolute",bottom:"-2px",right:"-2px",width:"10px",height:"10px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"6px",border:"1px solid #2f3136",boxShadow:"0 1px 2px rgba(0,0,0,0.3)"},userInfo:{flex:1,overflow:"hidden",marginLeft:"2px"},username:{display:"block",fontSize:"0.85em",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},sharingIndicator:{fontSize:"0.65em",color:"#5865f2",marginTop:"0",fontWeight:"500"},talkingUser:{color:"#4CAF50",fontWeight:"bold"},activeUser:{color:"#CCCCCC"},mutedUser:{color:"#e67e22"},deafenedUser:{color:"#e74c3c"},volumeSlider:{flexGrow:1,height:"3px",cursor:"pointer",borderRadius:"2px",WebkitAppearance:"none",background:"rgba(255, 255, 255, 0.1)",outline:"none"},contextMenu:{position:"fixed",backgroundColor:"#18191c",border:"1px solid #2b2d31",borderRadius:"6px",boxShadow:"0 8px 16px rgba(0,0,0,0.5)",zIndex:1e4,minWidth:"220px",maxWidth:"280px",overflow:"visible"},menuHeader:{padding:"12px",fontWeight:"600",color:"#fff",backgroundColor:"#2b2d31",fontSize:"0.9em",borderBottom:"1px solid #1e1f22"},menuSection:{padding:"4px 0"},menuDivider:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 0"},volumeSection:{padding:"10px 12px",backgroundColor:"#1e1f22",borderBottom:"1px solid #2b2d31"},menuItem:{padding:"8px 12px",cursor:"pointer",color:"#b5bac1",fontSize:"0.85em",transition:"background-color 0.15s, color 0.15s",position:"relative"}},It=document.createElement("style");It.textContent=`
    div[style*="userItemNew"]:hover {
        background: rgba(88, 101, 242, 0.08) !important;
        border-color: rgba(88, 101, 242, 0.2) !important;
        transform: translateX(1px);
    }
    
    .user-context-menu-item:hover {
        background-color: rgba(88, 101, 242, 0.3) !important;
        color: #fff !important;
    }
    
    .user-context-menu-item-danger:hover {
        background-color: rgba(237, 66, 69, 0.2) !important;
        color: #ed4245 !important;
    }
    
    .user-context-submenu-item:hover {
        background-color: rgba(88, 101, 242, 0.3) !important;
        color: #fff !important;
    }
    
    /* Drag & Drop styling */
    .voice-user-dragging {
        opacity: 0.4 !important;
        border: 1px dashed rgba(88, 101, 242, 0.5) !important;
    }
    
    .voice-channel-drop-target {
        background: rgba(88, 101, 242, 0.15) !important;
        border-color: rgba(88, 101, 242, 0.6) !important;
        box-shadow: inset 0 0 12px rgba(88, 101, 242, 0.2) !important;
    }
    
    .voice-channel-drop-target::after {
        content: 'ğŸ”€ Buraya bÄ±rak';
        position: absolute;
        right: 8px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 10px;
        color: #5865f2;
        font-weight: 600;
        background: rgba(88, 101, 242, 0.15);
        padding: 2px 8px;
        border-radius: 4px;
    }

    /* Volume slider styling */
    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #5865f2;
        cursor: pointer;
        box-shadow: 0 0 3px rgba(88, 101, 242, 0.5);
    }
    
    input[type="range"]::-moz-range-thumb {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #5865f2;
        cursor: pointer;
        border: none;
        box-shadow: 0 0 3px rgba(88, 101, 242, 0.5);
    }
`;document.head.querySelector("style[data-voice-user-list]")||(It.setAttribute("data-voice-user-list","true"),document.head.appendChild(It));const hr=Ie.memo(mr),br=({onClose:l,server:v,fetchWithAuth:k,apiBaseUrl:u,currentUser:T})=>{const[R,P]=o.useState(""),[B,I]=o.useState(0),[y,F]=o.useState(0),[j,O]=o.useState(!1),[f,b]=o.useState(!1),[S,Y]=o.useState([]),[_,J]=o.useState(!1),[ee,te]=o.useState(""),[K,A]=o.useState(new Set),[p,w]=o.useState(T||"");o.useEffect(()=>{ie(),me()},[]);const ie=async()=>{if(!p)try{const c=await k(`${u}/users/me/`);if(c.ok){const C=await c.json();w(C.username)}}catch(c){console.error(c)}},me=async()=>{J(!0);try{const c=await k(`${u}/friends/list/`);if(c.ok){const C=await c.json();console.log("[InviteModal] Friends response:",C);const z=Array.isArray(C)?C:C.friends||[];Y(z),console.log("[InviteModal] Friends loaded:",z.length)}}catch(c){console.error("ArkadaÅŸ listesi hatasÄ±:",c)}finally{J(!1)}},de=async c=>{console.log(`ğŸ“¨ [InviteModal] Sending invite to: ${c}`),A(C=>new Set(C).add(c));try{const C={server_id:v.id,max_uses:1,expires_in_hours:24};console.log("ğŸ“¤ [InviteModal] Creating invite:",C);const z=await k(`${u}/invites/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!z.ok){const $e=await z.json();throw new Error($e.error||"Davet oluÅŸturulamadÄ±")}const H=await z.json(),ue=H.code,oe=H.url||H.invite_link;console.log("âœ… [InviteModal] Invite created:",{code:ue,url:oe});const Se=await k(`${u}/conversations/find_or_create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target_username:c})});if(!Se.ok)throw new Error("DM oluÅŸturulamadÄ±");const ne=(await Se.json()).conversation_id;console.log("ğŸ’¬ [InviteModal] Conversation created/found:",ne);const je={conversation_id:ne,content:`Hey! Seni **${v.name}** sunucusuna davet ediyorum. KatÄ±lmak iÃ§in:
${oe}`};(await k(`${u}/messages/send_dm/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(je)})).ok?(console.log("âœ… [InviteModal] Message sent successfully"),h.success(`${c} kullanÄ±cÄ±sÄ±na davet DM olarak gÃ¶nderildi!`)):(console.warn("âš ï¸ [InviteModal] Message send failed"),navigator.clipboard.writeText(oe),h.success(`Davet linki oluÅŸturuldu ve panoya kopyalandÄ±!

${c} ile manuel olarak paylaÅŸabilirsiniz:

${oe}`,5e3))}catch(C){console.error("âŒ [InviteModal] Error:",C),A(z=>{const H=new Set(z);return H.delete(c),H}),h.error("Davet gÃ¶nderilemedi: "+C.message)}},se=c=>p?c.sender_username===p?c.receiver_username:c.sender_username:c.receiver_username,ye=S.filter(c=>se(c).toLowerCase().includes(ee.toLowerCase())),he=async()=>{if(console.log("ğŸ¬ [InviteModal] Starting invite creation...",{server:v?{id:v.id,name:v.name}:null,maxUses:B,expiresAfter:y}),!v||!v.id){h.error("Hata: Sunucu bilgisi bulunamadÄ±!"),console.error("âŒ [InviteModal] No server provided!");return}b(!0);try{const c={server_id:v.id,max_uses:B===0?0:B,expires_in_hours:Math.floor(y/60)};console.log("ğŸ“¤ [InviteModal] Payload:",c);const C=await k(`${u}/invites/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});console.log("ğŸ“¥ [InviteModal] Response status:",C.status);const z=await C.json();if(console.log("ğŸ“‹ [InviteModal] Response data:",z),C.ok){const H=z.url||z.invite_link||`https://www.pawscord.com/#/invite/${z.code}`;if(console.log("âœ… [InviteModal] Invite created:",{code:z.code,url:H,rawData:z}),!H){console.error("âŒ [InviteModal] No URL in response!",z),h.error("Hata: Davet linki oluÅŸturulamadÄ± (URL yok)");return}P(H),console.log("ğŸ”— [InviteModal] Link set to:",H),h.success(`Davet linki oluÅŸturuldu!
${H}`,4e3)}else console.error("âŒ [InviteModal] Error:",z.error),h.error(z.error||"Davet oluÅŸturulamadÄ±.")}catch(c){console.error("âŒ [InviteModal] Exception:",c),h.error("BaÄŸlantÄ± hatasÄ±: "+c.message)}finally{b(!1)}},pe=()=>{navigator.clipboard.writeText(R),O(!0),setTimeout(()=>O(!1),2e3)},m=[{label:"30 Dk",value:30},{label:"1 GÃ¼n",value:1440},{label:"SÃ¼resiz",value:0}],M=e.jsx("div",{style:E.overlay,onClick:l,children:e.jsxs("div",{style:E.modal,onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{style:E.header,children:[e.jsx("h2",{style:E.title,children:"ArkadaÅŸlarÄ±nÄ± Davet Et"}),e.jsx("button",{onClick:l,style:E.closeBtn,children:e.jsx(fe,{})})]}),e.jsxs("div",{style:E.content,children:[e.jsxs("div",{style:E.friendSection,children:[e.jsxs("div",{style:E.searchBox,children:[e.jsx($o,{style:E.searchIcon}),e.jsx("input",{type:"text",placeholder:"ArkadaÅŸ ara...",style:E.searchInput,value:ee,onChange:c=>te(c.target.value)})]}),e.jsx("div",{style:E.friendList,children:_?e.jsx("div",{style:E.loadingText,children:"YÃ¼kleniyor..."}):ye.length===0?e.jsx("div",{style:E.emptyText,children:"ArkadaÅŸ bulunamadÄ±."}):ye.map(c=>{const C=se(c),z=K.has(C),H=c.sender_username===C?c.sender_avatar:c.receiver_avatar;return e.jsxs("div",{style:E.friendItem,children:[e.jsxs("div",{style:E.friendInfo,children:[e.jsx("div",{style:E.friendAvatar,children:H?e.jsx("img",{src:H,alt:C,style:E.avatarImg}):e.jsx("span",{children:C.charAt(0).toUpperCase()})}),e.jsx("span",{style:E.friendName,children:C})]}),e.jsx("button",{onClick:()=>!z&&de(C),style:{...E.inviteBtn,...z?E.inviteBtnSent:{}},disabled:z,children:z?"GÃ¶nderildi":"Davet Et"})]},c.id)})})]}),e.jsx("div",{style:E.divider,children:e.jsx("span",{children:"VEYA LÄ°NK OLUÅTUR"})}),e.jsxs("div",{style:E.linkSection,children:[e.jsx("div",{style:E.optionsRow,children:m.map(c=>e.jsx("button",{onClick:()=>F(c.value),style:{...E.miniOptionBtn,...y===c.value&&E.optionBtnActive},children:c.label},c.value))}),e.jsx("div",{style:E.linkBoxContainer,children:R?e.jsxs("div",{style:E.linkBox,children:[e.jsx("input",{type:"text",value:R,readOnly:!0,style:E.linkInput}),e.jsx("button",{onClick:pe,style:{...E.copyBtn,...j&&E.copyBtnSuccess},children:j?e.jsx(Tt,{}):e.jsx(We,{})})]}):e.jsx("button",{onClick:he,disabled:f,style:E.generateBtn,children:f?"Link OluÅŸturuluyor...":"Davet Linki OluÅŸtur"})}),R&&e.jsxs("div",{style:E.footerLinkOpts,children:[e.jsx("small",{style:{color:"#b9bbbe"},children:y===0?"SÃ¼re sÄ±nÄ±rÄ± yok":`${y} dakika geÃ§erli`}),e.jsx("button",{onClick:()=>P(""),style:E.textBtn,children:"Yeni Link"})]})]})]})]})});return Rt.createPortal(M,document.body)},E={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,backdropFilter:"blur(5px)",margin:0,padding:0},modal:{backgroundColor:"#313338",borderRadius:"8px",width:"440px",maxWidth:"90%",maxHeight:"85%",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",overflow:"hidden",position:"relative",margin:0},header:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{margin:0,color:"#f2f3f5",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"},closeBtn:{background:"none",border:"none",color:"#b5bac1",cursor:"pointer",fontSize:"20px"},content:{padding:"0 20px 20px 20px",display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},friendSection:{flex:1,display:"flex",flexDirection:"column",minHeight:"200px",marginBottom:"10px"},searchBox:{backgroundColor:"#1e1f22",borderRadius:"4px",padding:"0 10px",display:"flex",alignItems:"center",marginBottom:"10px",border:"1px solid #1e1f22"},searchIcon:{color:"#b5bac1",marginRight:"8px"},searchInput:{backgroundColor:"transparent",border:"none",color:"#f2f3f5",padding:"10px 0",flex:1,outline:"none",fontSize:"14px"},friendList:{flex:1,overflowY:"auto",paddingRight:"5px"},friendItem:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #3f4147"},friendInfo:{display:"flex",alignItems:"center",gap:"10px"},friendAvatar:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"14px",overflow:"hidden"},avatarImg:{width:"100%",height:"100%",objectFit:"cover"},friendName:{color:"#f2f3f5",fontSize:"14px",fontWeight:"500"},inviteBtn:{padding:"6px 16px",backgroundColor:"transparent",border:"1px solid #23a559",color:"#23a559",borderRadius:"3px",cursor:"pointer",fontSize:"12px",fontWeight:"500",transition:"all 0.2s"},inviteBtnSent:{backgroundColor:"transparent",border:"1px solid #b5bac1",color:"#b5bac1",cursor:"default"},loadingText:{color:"#b5bac1",textAlign:"center",marginTop:"20px",fontSize:"13px"},emptyText:{color:"#b5bac1",textAlign:"center",marginTop:"20px",fontSize:"13px"},divider:{display:"flex",alignItems:"center",justifyContent:"center",margin:"15px 0",color:"#b5bac1",fontSize:"11px",fontWeight:"bold",position:"relative"},linkSection:{backgroundColor:"#2b2d31",margin:"0 -20px -20px -20px",padding:"20px",borderTop:"1px solid #1e1f22"},optionsRow:{display:"flex",gap:"10px",marginBottom:"15px"},miniOptionBtn:{flex:1,padding:"8px",backgroundColor:"#1e1f22",border:"none",borderRadius:"4px",color:"#b5bac1",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},optionBtnActive:{backgroundColor:"#404249",color:"#f2f3f5"},linkBoxContainer:{display:"flex",gap:"10px"},linkBox:{display:"flex",flex:1,backgroundColor:"#1e1f22",borderRadius:"4px",padding:"2px",border:"1px solid #1e1f22",alignItems:"center"},linkInput:{flex:1,backgroundColor:"transparent",border:"none",color:"#f2f3f5",padding:"10px",fontSize:"13px",outline:"none",textOverflow:"ellipsis"},copyBtn:{padding:"8px 20px",backgroundColor:"#5865f2",border:"none",borderRadius:"3px",color:"white",cursor:"pointer",height:"100%",marginRight:"2px"},copyBtnSuccess:{backgroundColor:"#23a559"},generateBtn:{width:"100%",padding:"10px",backgroundColor:"#5865f2",border:"none",borderRadius:"3px",color:"white",fontWeight:"500",cursor:"pointer",fontSize:"13px"},footerLinkOpts:{display:"flex",justifyContent:"space-between",marginTop:"10px",alignItems:"center"},textBtn:{background:"none",border:"none",color:"#00a8fc",fontSize:"12px",cursor:"pointer",padding:0}},fr=({type:l="bookmarks",onClose:v,fetchWithAuth:k,apiBaseUrl:u,onScrollToMessage:T})=>{const[R,P]=o.useState([]),[B,I]=o.useState(!0);o.useEffect(()=>{y()},[l]);const y=async()=>{I(!0);try{let f="";l==="bookmarks"||l==="starred"?f="/messages/favorites/":l==="readlater"&&(f="/messages/readlater/list/");const b=await k(`${u}${f}`);if(b.ok){const S=await b.json();P(S.messages||S.results||[])}}catch(f){console.error("Load saved messages error:",f)}finally{I(!1)}},F=async f=>{try{let b="";l==="bookmarks"?b="/messages/bookmark/toggle/":l==="starred"?b="/messages/star/toggle/":l==="readlater"&&(b="/messages/readlater/toggle/"),await k(`${u}${b}`,{method:"POST",body:JSON.stringify({message_id:f})}),P(S=>S.filter(Y=>Y.id!==f))}catch(b){console.error("Remove error:",b)}},j=()=>l==="bookmarks"?"ğŸ“‘ Bookmarklar":l==="starred"?"â­ YÄ±ldÄ±zlÄ± Mesajlar":l==="readlater"?"ğŸ• Sonra Oku":"Kaydedilen Mesajlar",O=()=>l==="bookmarks"?e.jsx(Do,{}):l==="starred"?e.jsx(Lo,{}):l==="readlater"?e.jsx(Ct,{}):null;return e.jsx("div",{style:Q.overlay,onClick:v,children:e.jsxs("div",{style:Q.modal,onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{style:Q.header,children:[e.jsxs("h2",{style:Q.title,children:[O()," ",j()]}),e.jsx("button",{onClick:v,style:Q.closeButton,children:e.jsx(fe,{})})]}),e.jsx("div",{style:Q.content,children:B?e.jsx("div",{style:Q.loading,children:"YÃ¼kleniyor..."}):R.length===0?e.jsx("div",{style:Q.empty,children:"HenÃ¼z kaydedilmiÅŸ mesaj yok"}):e.jsx("div",{style:Q.messageList,children:R.map(f=>e.jsxs("div",{style:Q.messageItem,children:[e.jsxs("div",{style:Q.messageContent,children:[e.jsxs("div",{style:Q.messageHeader,children:[e.jsx("span",{style:Q.username,children:f.username}),e.jsx("span",{style:Q.timestamp,children:new Date(f.timestamp).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:Q.messageText,children:[f.content?.substring(0,150),f.content?.length>150&&"..."]}),f.room_name&&e.jsxs("div",{style:Q.roomTag,children:["#",f.room_name]})]}),e.jsxs("div",{style:Q.actions,children:[e.jsx("button",{onClick:()=>{T&&(T(f.id),v())},style:Q.actionButton,title:"Mesaja git",children:"â†’"}),e.jsx("button",{onClick:()=>F(f.id),style:{...Q.actionButton,color:"#f04747"},title:"KaldÄ±r",children:e.jsx(ze,{})})]})]},f.id))})})]})})},Q={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"10px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},messageList:{display:"flex",flexDirection:"column",gap:"10px"},messageItem:{backgroundColor:"#40444b",borderRadius:"4px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"10px"},messageContent:{flex:1},messageHeader:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},username:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},messageText:{color:"#dcddde",fontSize:"0.9em",marginBottom:"5px"},roomTag:{display:"inline-block",backgroundColor:"#5865f2",color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"0.7em",fontWeight:"bold"},actions:{display:"flex",gap:"5px"},actionButton:{background:"none",border:"1px solid #72767d",color:"#b9bbbe",cursor:"pointer",padding:"5px 10px",borderRadius:"4px",fontSize:"0.9em"}},yr=Ie.memo(fr),vr=({onClose:l,fetchWithAuth:v,apiBaseUrl:k,serverId:u})=>{const[T,R]=o.useState([]),[P,B]=o.useState(!0),[I,y]=o.useState(!1),[F,j]=o.useState({name:"",url:"",events:[]});o.useEffect(()=>{O()},[]);const O=async()=>{try{const S=await v(`${k}/webhooks/list/`);if(S.ok){const Y=await S.json();R(Y.webhooks||[])}}catch(S){console.error("Load webhooks error:",S)}finally{B(!1)}},f=async()=>{if(!F.name||!F.url){h.warning("Ä°sim ve URL gerekli");return}try{(await v(`${k}/webhooks/create/`,{method:"POST",body:JSON.stringify(F)})).ok&&(h.success("Webhook oluÅŸturuldu!"),y(!1),j({name:"",url:"",events:[]}),O())}catch(S){console.error("Create webhook error:",S)}},b=async S=>{if(confirm("Bu webhook'u silmek istediÄŸinizden emin misiniz?"))try{(await v(`${k}/webhooks/${S}/delete/`,{method:"DELETE"})).ok&&R(_=>_.filter(J=>J.id!==S))}catch(Y){console.error("Delete webhook error:",Y)}};return e.jsx("div",{style:q.overlay,onClick:l,children:e.jsxs("div",{style:q.modal,onClick:S=>S.stopPropagation(),children:[e.jsxs("div",{style:q.header,children:[e.jsx("h2",{style:q.title,children:"ğŸ”— Webhook YÃ¶netimi"}),e.jsx("button",{onClick:l,style:q.closeButton,children:e.jsx(fe,{})})]}),e.jsxs("div",{style:q.content,children:[!I&&e.jsxs("button",{onClick:()=>y(!0),style:q.createButton,children:[e.jsx(Fe,{})," Yeni Webhook"]}),I&&e.jsxs("div",{style:q.createForm,children:[e.jsx("input",{type:"text",placeholder:"Webhook Ä°smi",value:F.name,onChange:S=>j({...F,name:S.target.value}),style:q.input}),e.jsx("input",{type:"url",placeholder:"Webhook URL",value:F.url,onChange:S=>j({...F,url:S.target.value}),style:q.input}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:f,style:q.submitButton,children:"OluÅŸtur"}),e.jsx("button",{onClick:()=>y(!1),style:q.cancelButton,children:"Ä°ptal"})]})]}),P?e.jsx("div",{style:q.loading,children:"YÃ¼kleniyor..."}):T.length===0?e.jsx("div",{style:q.empty,children:"HenÃ¼z webhook oluÅŸturulmamÄ±ÅŸ"}):e.jsx("div",{style:q.webhookList,children:T.map(S=>e.jsxs("div",{style:q.webhookItem,children:[e.jsxs("div",{children:[e.jsx("div",{style:q.webhookName,children:S.name}),e.jsx("div",{style:q.webhookUrl,children:S.url})]}),e.jsx("button",{onClick:()=>b(S.id),style:q.deleteButton,children:e.jsx(ze,{})})]},S.id))})]})]})})},q={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},content:{padding:"20px",overflowY:"auto",flex:1},createButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"15px"},createForm:{backgroundColor:"#40444b",padding:"15px",borderRadius:"8px",marginBottom:"15px"},input:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#2b2d31",border:"1px solid #5865f2",borderRadius:"4px",color:"white"},submitButton:{flex:1,padding:"10px",backgroundColor:"#3ba55d",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer"},cancelButton:{flex:1,padding:"10px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer"},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},webhookList:{display:"flex",flexDirection:"column",gap:"10px"},webhookItem:{backgroundColor:"#40444b",padding:"15px",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},webhookName:{color:"white",fontWeight:"bold",marginBottom:"5px"},webhookUrl:{color:"#b9bbbe",fontSize:"0.85em"},deleteButton:{backgroundColor:"#f04747",border:"none",padding:"8px 12px",borderRadius:"4px",color:"white",cursor:"pointer"}},jr=({onClose:l,fetchWithAuth:v,apiBaseUrl:k,roomSlug:u,serverId:T})=>{const[R,P]=o.useState(""),[B,I]=o.useState(""),[y,F]=o.useState("permanent"),[j,O]=o.useState(""),[f,b]=o.useState(!1),S=async()=>{if(!R){h.error("âŒ LÃ¼tfen bir kullanÄ±cÄ± seÃ§in");return}b(!0);try{(await v(`${k}/moderation/ban/`,{method:"POST",body:JSON.stringify({username:R,reason:B,duration:y,room_slug:u})})).ok?(h.success("âœ… KullanÄ±cÄ± yasaklandÄ±"),P(""),I("")):h.error("âŒ Yasaklama baÅŸarÄ±sÄ±z")}catch(_){console.error("Ban error:",_)}finally{b(!1)}},Y=async()=>{if(!R||!j){h.error("âŒ KullanÄ±cÄ± ve not gerekli");return}b(!0);try{(await v(`${k}/moderation/notes/add/`,{method:"POST",body:JSON.stringify({username:R,note:j})})).ok&&(h.success("âœ… Not eklendi"),O(""))}catch(_){console.error("Add note error:",_)}finally{b(!1)}};return e.jsx("div",{style:re.overlay,onClick:l,children:e.jsxs("div",{style:re.modal,onClick:_=>_.stopPropagation(),children:[e.jsxs("div",{style:re.header,children:[e.jsxs("h2",{style:re.title,children:[e.jsx(Bt,{})," ModeratÃ¶r AraÃ§larÄ±"]}),e.jsx("button",{onClick:l,style:re.closeButton,children:e.jsx(fe,{})})]}),e.jsxs("div",{style:re.content,children:[e.jsxs("div",{style:re.section,children:[e.jsxs("h3",{style:re.sectionTitle,children:[e.jsx(gn,{})," KullanÄ±cÄ± Yasakla"]}),e.jsx("input",{type:"text",placeholder:"KullanÄ±cÄ± adÄ±",value:R,onChange:_=>P(_.target.value),style:re.input}),e.jsx("textarea",{placeholder:"Yasaklama sebebi",value:B,onChange:_=>I(_.target.value),style:{...re.input,minHeight:"80px",resize:"vertical"}}),e.jsxs("select",{value:y,onChange:_=>F(_.target.value),style:re.select,children:[e.jsx("option",{value:"1h",children:"1 Saat"}),e.jsx("option",{value:"1d",children:"1 GÃ¼n"}),e.jsx("option",{value:"7d",children:"7 GÃ¼n"}),e.jsx("option",{value:"30d",children:"30 GÃ¼n"}),e.jsx("option",{value:"permanent",children:"KalÄ±cÄ±"})]}),e.jsx("button",{onClick:S,disabled:f,style:re.banButton,children:f?"YasaklanÄ±yor...":"ğŸ”¨ Yasakla"})]}),e.jsxs("div",{style:re.section,children:[e.jsx("h3",{style:re.sectionTitle,children:"ğŸ“ ModeratÃ¶r Notu Ekle"}),e.jsx("input",{type:"text",placeholder:"KullanÄ±cÄ± adÄ±",value:R,onChange:_=>P(_.target.value),style:re.input}),e.jsx("textarea",{placeholder:"ModeratÃ¶r notu",value:j,onChange:_=>O(_.target.value),style:{...re.input,minHeight:"80px",resize:"vertical"}}),e.jsx("button",{onClick:Y,disabled:f,style:re.noteButton,children:f?"Ekleniyor...":"âœï¸ Not Ekle"})]})]})]})})},re={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.3em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.3em"},content:{padding:"20px",overflowY:"auto",flex:1},section:{marginBottom:"25px",backgroundColor:"#40444b",padding:"15px",borderRadius:"8px"},sectionTitle:{color:"#b9bbbe",fontSize:"1em",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},input:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#2b2d31",border:"1px solid #5865f2",borderRadius:"4px",color:"white"},select:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#2b2d31",border:"1px solid #5865f2",borderRadius:"4px",color:"white"},banButton:{width:"100%",padding:"12px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer"},noteButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer"}},kr=Ie.memo(jr),Sr=({onClose:l,isAdmin:v,onOpenWebhooks:k,onOpenModerator:u,onExportData:T,onShowAuditLogs:R,onShowReports:P})=>{const B=[{icon:Bt,label:"ModeratÃ¶r AraÃ§larÄ±",onClick:u,color:"#f04747"},{icon:et,label:"Webhook YÃ¶netimi",onClick:k,color:"#5865f2"},{icon:Ye,label:"Audit LoglarÄ±",onClick:R,color:"#faa61a"},{icon:gn,label:"RaporlarÄ± GÃ¶rÃ¼ntÃ¼le",onClick:P,color:"#f04747"},{icon:_o,label:"Veri DÄ±ÅŸa Aktar",onClick:T,color:"#43b581"},{icon:Po,label:"Sunucu Ä°statistikleri",onClick:()=>window.open("/analytics","_blank"),color:"#f0b132"}];return e.jsx("div",{style:He.overlay,onClick:l,children:e.jsxs("div",{style:He.menu,onClick:I=>I.stopPropagation(),children:[e.jsx("h3",{style:He.title,children:"âš¡ HÄ±zlÄ± Ä°ÅŸlemler"}),e.jsx("div",{style:He.actions,children:B.map((I,y)=>e.jsxs("button",{onClick:()=>{I.onClick?.(),l()},style:{...He.actionButton,backgroundColor:I.color},children:[e.jsx(I.icon,{style:{fontSize:"1.2em"}}),e.jsx("span",{children:I.label})]},y))})]})})},He={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},menu:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",width:"90%",maxWidth:"400px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},title:{color:"white",margin:"0 0 15px 0",fontSize:"1.2em",textAlign:"center"},actions:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},actionButton:{padding:"15px 10px",border:"none",borderRadius:"8px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontSize:"0.9em",transition:"transform 0.2s",":hover":{transform:"scale(1.05)"}}},wr=Ie.memo(Sr),Cr=({onClose:l,fetchWithAuth:v,apiBaseUrl:k})=>{const[u,T]=o.useState([]),[R,P]=o.useState(!0),[B,I]=o.useState("all");o.useEffect(()=>{y()},[B]);const y=async()=>{try{const j=await v(`${k}/audit/logs/?filter=${B}`);if(j.ok){const O=await j.json();T(O.logs||[])}}catch(j){console.error("Load audit logs error:",j)}finally{P(!1)}},F=j=>j.includes("delete")||j.includes("ban")?"#f04747":j.includes("create")||j.includes("add")?"#43b581":j.includes("update")||j.includes("edit")?"#faa61a":"#5865f2";return e.jsx("div",{style:V.overlay,onClick:l,children:e.jsxs("div",{style:V.modal,onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{style:V.header,children:[e.jsxs("h2",{style:V.title,children:[e.jsx(Ye,{})," Audit LoglarÄ±"]}),e.jsx("button",{onClick:l,style:V.closeButton,children:e.jsx(fe,{})})]}),e.jsxs("div",{style:V.filters,children:[e.jsx("button",{onClick:()=>I("all"),style:{...V.filterButton,backgroundColor:B==="all"?"#5865f2":"#40444b"},children:"TÃ¼mÃ¼"}),e.jsx("button",{onClick:()=>I("moderation"),style:{...V.filterButton,backgroundColor:B==="moderation"?"#5865f2":"#40444b"},children:"Moderasyon"}),e.jsx("button",{onClick:()=>I("server"),style:{...V.filterButton,backgroundColor:B==="server"?"#5865f2":"#40444b"},children:"Sunucu"}),e.jsx("button",{onClick:()=>I("user"),style:{...V.filterButton,backgroundColor:B==="user"?"#5865f2":"#40444b"},children:"KullanÄ±cÄ±"})]}),e.jsx("div",{style:V.content,children:R?e.jsx("div",{style:V.loading,children:"YÃ¼kleniyor..."}):u.length===0?e.jsx("div",{style:V.empty,children:"Log bulunamadÄ±"}):e.jsx("div",{style:V.logList,children:u.map((j,O)=>e.jsxs("div",{style:V.logItem,children:[e.jsx("div",{style:{...V.actionBadge,backgroundColor:F(j.action)},children:j.action}),e.jsxs("div",{style:V.logDetails,children:[e.jsx("div",{style:V.logUser,children:j.user}),e.jsx("div",{style:V.logDescription,children:j.description}),e.jsx("div",{style:V.logTime,children:new Date(j.timestamp).toLocaleString("tr-TR")})]})]},O))})})]})})},V={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},filters:{display:"flex",gap:"8px",padding:"15px",borderBottom:"1px solid #40444b"},filterButton:{padding:"8px 15px",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",fontSize:"0.85em"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},logList:{display:"flex",flexDirection:"column",gap:"10px"},logItem:{backgroundColor:"#40444b",padding:"12px",borderRadius:"8px",display:"flex",gap:"12px"},actionBadge:{padding:"4px 8px",borderRadius:"4px",color:"white",fontWeight:"bold",fontSize:"0.75em",height:"fit-content",textTransform:"uppercase"},logDetails:{flex:1},logUser:{color:"#5865f2",fontWeight:"bold",marginBottom:"4px"},logDescription:{color:"#dcddde",fontSize:"0.9em",marginBottom:"4px"},logTime:{color:"#72767d",fontSize:"0.75em"}},zr=({onClose:l,fetchWithAuth:v,apiBaseUrl:k})=>{const[u,T]=o.useState([]),[R,P]=o.useState(!0);o.useEffect(()=>{B()},[]);const B=async()=>{try{const y=await v(`${k}/reports/list/`);if(y.ok){const F=await y.json();T(F.reports||[])}}catch(y){console.error("Load reports error:",y)}finally{P(!1)}},I=async(y,F)=>{try{(await v(`${k}/reports/handle/${y}/`,{method:"POST",body:JSON.stringify({action:F})})).ok&&(T(O=>O.filter(f=>f.id!==y)),h.success(`âœ… Rapor ${F==="approve"?"onaylandÄ±":"reddedildi"}`))}catch(j){console.error("Handle report error:",j)}};return e.jsx("div",{style:X.overlay,onClick:l,children:e.jsxs("div",{style:X.modal,onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{style:X.header,children:[e.jsxs("h2",{style:X.title,children:[e.jsx(nt,{})," Raporlar (",u.length,")"]}),e.jsx("button",{onClick:l,style:X.closeButton,children:e.jsx(fe,{})})]}),e.jsx("div",{style:X.content,children:R?e.jsx("div",{style:X.loading,children:"YÃ¼kleniyor..."}):u.length===0?e.jsx("div",{style:X.empty,children:"Bekleyen rapor yok âœ…"}):e.jsx("div",{style:X.reportList,children:u.map(y=>e.jsxs("div",{style:X.reportItem,children:[e.jsxs("div",{style:X.reportHeader,children:[e.jsxs("span",{style:X.reporter,children:["Raporlayan: ",y.reporter]}),e.jsx("span",{style:X.timestamp,children:new Date(y.created_at).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:X.reportContent,children:[e.jsxs("div",{style:X.reportedUser,children:["Raporlanan: ",y.reported_user]}),e.jsxs("div",{style:X.reason,children:["Sebep: ",y.reason]}),y.message_preview&&e.jsxs("div",{style:X.messagePreview,children:['"',y.message_preview,'"']})]}),e.jsxs("div",{style:X.actions,children:[e.jsxs("button",{onClick:()=>I(y.id,"approve"),style:X.approveButton,children:[e.jsx(Tt,{})," Onayla"]}),e.jsxs("button",{onClick:()=>I(y.id,"reject"),style:X.rejectButton,children:[e.jsx(ze,{})," Reddet"]})]})]},y.id))})})]})})},X={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#43b581",padding:"40px",fontSize:"1.2em"},reportList:{display:"flex",flexDirection:"column",gap:"15px"},reportItem:{backgroundColor:"#40444b",padding:"15px",borderRadius:"8px",borderLeft:"4px solid #f04747"},reportHeader:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},reporter:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},reportContent:{marginBottom:"15px"},reportedUser:{color:"#f04747",fontWeight:"bold",marginBottom:"5px"},reason:{color:"#dcddde",marginBottom:"8px",fontSize:"0.9em"},messagePreview:{backgroundColor:"#2b2d31",padding:"10px",borderRadius:"4px",color:"#b9bbbe",fontSize:"0.85em",fontStyle:"italic",borderLeft:"3px solid #5865f2"},actions:{display:"flex",gap:"10px"},approveButton:{flex:1,padding:"10px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},rejectButton:{flex:1,padding:"10px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"}},Ir=Ie.memo(zr),Rr=({x:l,y:v,server:k,isOwner:u,onClose:T,onLeaveServer:R,onServerSettings:P,onMuteServer:B,onUnmuteServer:I,onMoveUp:y,onMoveDown:F,onCopyInvite:j,onDeleteServer:O,onChangeIcon:f,onChangePrivacy:b,canMoveUp:S=!0,canMoveDown:Y=!0,isMuted:_=!1})=>{const J=o.useRef(null);o.useEffect(()=>{const K=p=>{J.current&&!J.current.contains(p.target)&&T()},A=p=>{p.key==="Escape"&&T()};return document.addEventListener("mousedown",K),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",K),document.removeEventListener("keydown",A)}},[T]),o.useEffect(()=>{if(J.current){const K=J.current.getBoundingClientRect(),A=window.innerWidth,p=window.innerHeight;let w=l,ie=v;K.right>A&&(w=A-K.width-10),K.bottom>p&&(ie=p-K.height-10),J.current.style.left=`${w}px`,J.current.style.top=`${ie}px`}},[l,v]);const ee=K=>{K(),T()},te=[{icon:We,label:"Davet Linki Kopyala",action:j,show:!0,color:"#5865f2"},{divider:!0,show:!0},{icon:Oo,label:"Sunucu Ä°konunu DeÄŸiÅŸtir",action:f,show:u,color:"#faa61a"},{icon:k.is_public?tt:mn,label:k.is_public?"Ã–zel Yap":"Herkese AÃ§Ä±k Yap",action:b,show:u,color:k.is_public?"#ed4245":"#43b581"},{divider:!0,show:u},{icon:_?hn:Eo,label:_?"Bildirimleri AÃ§":"Bildirimleri Kapat",action:_?I:B,show:!0},{divider:!0,show:!0},{icon:Fo,label:"YukarÄ± TaÅŸÄ±",action:y,show:S},{icon:Ko,label:"AÅŸaÄŸÄ± TaÅŸÄ±",action:F,show:Y},{divider:!0,show:S||Y},{icon:we,label:"Sunucu AyarlarÄ±",action:P,show:u},{icon:ze,label:"Sunucuyu Sil",action:O,show:u,danger:!0},{divider:!0,show:!0},{icon:Ao,label:"Sunucudan AyrÄ±l",action:R,show:!u,danger:!0}];return e.jsxs("div",{ref:J,className:"server-context-menu",style:Ee.menu,children:[e.jsx("div",{style:Ee.serverHeader,children:e.jsx("strong",{children:k.name})}),te.filter(K=>K.show).map((K,A)=>{if(K.divider)return e.jsx("div",{style:Ee.divider},`divider-${A}`);const p=K.icon;return e.jsxs("button",{onClick:()=>ee(K.action),style:{...Ee.menuItem,...K.danger&&Ee.dangerItem,...K.color&&{color:K.color}},children:[e.jsx(p,{style:Ee.icon}),e.jsx("span",{children:K.label})]},A)})]})},Ee={menu:{position:"fixed",backgroundColor:"#111214",borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)",minWidth:"220px",padding:"6px",zIndex:1e5,animation:"contextMenuFadeIn 0.1s ease"},serverHeader:{padding:"8px 12px",color:"#fff",fontSize:"14px",borderBottom:"1px solid #2b2d31",marginBottom:"4px"},menuItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"8px 12px",background:"none",border:"none",color:"#b5bac1",fontSize:"14px",cursor:"pointer",borderRadius:"2px",transition:"all 0.15s",textAlign:"left"},dangerItem:{color:"#f23f43"},icon:{fontSize:"16px",flexShrink:0},divider:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 0"}};if(!document.getElementById("server-context-menu-styles")){const l=document.createElement("style");l.id="server-context-menu-styles",l.textContent=`
        @keyframes contextMenuFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Menu button hover effect */
        .server-context-menu button:hover {
            background-color: #5865f2 !important;
            color: #fff !important;
        }
        
        .server-context-menu button:active {
            transform: scale(0.98);
        }
        
        /* Menu container class */
        .server-context-menu {
            user-select: none;
        }
    `,document.head.appendChild(l)}const Tr=Ie.memo(Rr),Br=({room:l,serverRoles:v,onClose:k,fetchWithAuth:u,apiBaseUrl:T})=>{const[R,P]=o.useState("general"),[B,I]=o.useState(l.name),[y,F]=o.useState(l.allowed_roles||[]),[j,O]=o.useState(l.is_private||!1),[f,b]=o.useState(l.is_nsfw||!1),[S,Y]=o.useState(l.is_locked||!1),[_,J]=o.useState(l.admin_only_chat||!1),[ee,te]=o.useState(l.user_limit||0),[K,A]=o.useState(l.bitrate||64),[p,w]=o.useState({role_permissions:[],user_permissions:[],available_roles:[],available_users:[]}),[ie,me]=o.useState(!1),[de,se]=o.useState("role"),[ye,he]=o.useState(null),[pe,m]=o.useState(null),[M,c]=o.useState(""),[C,z]=o.useState([]),H=l.channel_type==="voice",ue=o.useCallback(s=>{O(s.target.checked),Re({is_private:s.target.checked})},[]),oe=o.useCallback(s=>{b(s.target.checked)},[]),Se=o.useCallback(s=>{Y(s.target.checked),Re({is_locked:s.target.checked})},[]),ve=o.useCallback(s=>{J(s.target.checked)},[]),ne=o.useCallback(s=>{const W=parseInt(s.target.value)||0;te(W),Re({user_limit:W})},[]);o.useEffect(()=>{R==="permissions"&&je()},[R]);const je=async()=>{try{const W=await(await u(`${T}/channels/${l.slug}/permissions/`)).json();w(W)}catch(s){console.error("âŒ Ä°zinler yÃ¼klenemedi:",s)}},Ke=async()=>{try{B!==l.name&&await u(`${T}/rooms/${l.slug}/settings/`,{method:"POST",body:JSON.stringify({action:"rename",name:B})}),j&&await u(`${T}/rooms/${l.slug}/settings/`,{method:"POST",body:JSON.stringify({action:"update_roles",allowed_roles:y})}),await u(`${T}/rooms/${l.slug}/settings/`,{method:"POST",body:JSON.stringify({action:"update_settings",is_private:j,is_nsfw:f,is_locked:S,admin_only_chat:_,user_limit:H?ee:null,bitrate:H?K:null})}),k()}catch(s){console.error("âŒ Ayarlar kaydedilemedi:",s),h.error("âŒ Hata oluÅŸtu.")}},$e=async()=>{if(window.confirm("Bu kanalÄ± kalÄ±cÄ± olarak silmek istiyor musun?"))try{await u(`${T}/rooms/${l.slug}/settings/`,{method:"POST",body:JSON.stringify({action:"delete"})}),k()}catch(s){console.error(s)}},ot=s=>{y.includes(s)?F(W=>W.filter(Te=>Te!==s)):F(W=>[...W,s])},rt=async()=>{if(de==="role"&&!ye){h.error("âŒ LÃ¼tfen bir rol seÃ§in!");return}if(de==="user"&&!pe){h.error("âŒ LÃ¼tfen bir kullanÄ±cÄ± seÃ§in!");return}try{const s={room_id:l.id,permissions:{can_view:!0,can_send_messages:!0,can_read_history:!0,can_connect:!0,can_speak:!0,can_video:!0}};de==="role"?s.role_id=ye:s.user_id=pe,await u(`${T}/channels/permissions/add/`,{method:"POST",body:JSON.stringify(s)}),me(!1),he(null),m(null),c(""),z([]),je()}catch(s){console.error("âŒ Ä°zin eklenemedi:",s),h.error("âŒ Ä°zin eklenemedi! Hata: "+(s.message||"Bilinmeyen hata"))}},Mt=async s=>{if(!s||s.length<2){z([]);return}try{const Te=await(await u(`${T}/users/search/?q=${encodeURIComponent(s)}`)).json();z(Te.users||Te||[])}catch(W){console.error("âŒ KullanÄ±cÄ± arama hatasÄ±:",W),z([])}},Je=async s=>{if(window.confirm("Bu izni kaldÄ±rmak istediÄŸinizden emin misiniz?"))try{await u(`${T}/channels/permissions/${s}/remove/`,{method:"DELETE"}),je()}catch(W){console.error("âŒ Ä°zin silinemedi:",W)}},Re=async s=>{try{await u(`${T}/channels/${l.slug}/restriction/`,{method:"PATCH",body:JSON.stringify(s)})}catch(W){console.error("âŒ KÄ±sÄ±tlama gÃ¼ncellenemedi:",W),h.error("âŒ Hata oluÅŸtu!")}},Ge=e.jsx("div",{style:i.overlay,onClick:k,children:e.jsxs("div",{style:i.modal,onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{style:i.header,children:[e.jsxs("div",{style:i.headerLeft,children:[e.jsx("div",{style:i.channelIcon,children:H?"ğŸ”Š":"#"}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1em",color:"#fff"},children:l.name}),e.jsxs("span",{style:{fontSize:"0.8em",color:"#72767d"},children:[H?"Ses KanalÄ±":"Metin KanalÄ±"," AyarlarÄ±"]})]})]}),e.jsx("button",{onClick:k,style:i.closeBtn,children:e.jsx(fe,{})})]}),e.jsxs("div",{style:i.tabs,children:[e.jsxs("button",{style:R==="general"?i.tabActive:i.tab,onClick:()=>P("general"),children:[e.jsx(we,{})," Genel"]}),e.jsxs("button",{style:R==="permissions"?i.tabActive:i.tab,onClick:()=>P("permissions"),children:[e.jsx(No,{})," Ä°zinler"]}),e.jsxs("button",{style:R==="integrations"?i.tabActive:i.tab,onClick:()=>P("integrations"),children:[e.jsx(et,{})," Entegrasyonlar"]}),e.jsxs("button",{style:R==="advanced"?i.tabActive:i.tab,onClick:()=>P("advanced"),children:[e.jsx(Ye,{})," GeliÅŸmiÅŸ"]})]}),e.jsxs("div",{style:i.body,children:[R==="general"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:i.section,children:[e.jsx("label",{style:i.label,children:"Kanal AdÄ±"}),e.jsx("input",{value:B,onChange:s=>I(s.target.value),style:i.input})]}),e.jsx("div",{style:i.section,children:e.jsxs("label",{style:i.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:j,onChange:ue}),j?e.jsx(tt,{color:"#f04747"}):e.jsx(mn,{color:"#43b581"}),e.jsx("span",{children:j?"ğŸ”’ Ã–zel Kanal (Ä°zinli roller)":"ğŸŒ Herkese AÃ§Ä±k Kanal"})]})}),j&&e.jsxs("div",{style:i.rolesList,children:[e.jsx("p",{style:{fontSize:"0.9em",color:"#ccc"},children:"Kimler eriÅŸebilir?"}),v.map(s=>e.jsxs("div",{style:i.roleItem,onClick:()=>ot(s.id),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:s.color}}),e.jsx("span",{children:s.name})]}),e.jsx("input",{type:"checkbox",checked:y.includes(s.id),readOnly:!0})]},s.id))]}),e.jsxs("div",{style:i.section,children:[e.jsxs("label",{style:i.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:f,onChange:oe}),e.jsx(nt,{color:"#f04747",size:16}),e.jsx("span",{children:"ğŸ” NSFW (18+ Ä°Ã§erik)"})]}),e.jsx("p",{style:{fontSize:"0.875em",color:"#949ba4",marginTop:"8px",marginLeft:"28px",fontStyle:"italic"},children:"YetiÅŸkin iÃ§erik uyarÄ±sÄ± gÃ¶sterilir."})]}),e.jsxs("div",{style:i.section,children:[e.jsxs("label",{style:i.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:S,onChange:Se}),e.jsx(tt,{color:"#f04747",size:14}),e.jsx("span",{children:"ğŸ”’ Kanal Kilitli"})]}),e.jsx("p",{style:{fontSize:"0.875em",color:"#949ba4",marginTop:"8px",marginLeft:"28px",fontStyle:"italic"},children:"Kimse mesaj gÃ¶nderemez (geÃ§ici kilitleme)."})]}),e.jsxs("div",{style:i.section,children:[e.jsxs("label",{style:i.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:_,onChange:ve}),e.jsx(Ho,{color:"#faa61a",size:16}),e.jsx("span",{children:"ğŸ“¢ Duyuru KanalÄ± (Sadece Admin Yazar)"})]}),e.jsx("p",{style:{fontSize:"0.875em",color:"#949ba4",marginTop:"8px",marginLeft:"28px",fontStyle:"italic"},children:"Herkes okuyabilir, sadece adminler yazabilir."})]}),H&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:i.section,children:[e.jsxs("label",{style:{...i.label,display:"flex",alignItems:"center",gap:10},children:[e.jsx(zt,{size:14})," KullanÄ±cÄ± Limiti"]}),e.jsx("input",{type:"number",min:"0",max:"99",value:ee,onChange:ne,style:i.input,placeholder:"0 = SÄ±nÄ±rsÄ±z"}),e.jsx("p",{style:{fontSize:"0.875em",color:"#949ba4",marginTop:"8px",fontStyle:"italic"},children:"Max kiÅŸi sayÄ±sÄ± (0 = limitsiz)"})]}),e.jsxs("div",{style:i.section,children:[e.jsxs("label",{style:{...i.label,display:"flex",alignItems:"center",gap:10},children:[e.jsx(Ct,{size:14})," Ses Kalitesi (Bitrate)"]}),e.jsxs("select",{value:K,onChange:s=>A(parseInt(s.target.value)),style:i.input,children:[e.jsx("option",{value:8,children:"8 kbps (DÃ¼ÅŸÃ¼k)"}),e.jsx("option",{value:32,children:"32 kbps"}),e.jsx("option",{value:64,children:"64 kbps (Normal)"}),e.jsx("option",{value:96,children:"96 kbps (Ä°yi)"}),e.jsx("option",{value:128,children:"128 kbps (YÃ¼ksek)"}),e.jsx("option",{value:256,children:"256 kbps (Ã‡ok YÃ¼ksek)"}),e.jsx("option",{value:384,children:"384 kbps (Maksimum)"})]}),e.jsx("p",{style:{fontSize:"0.85em",color:"#949ba4",marginTop:"6px",fontStyle:"italic"},children:"YÃ¼ksek bitrate = daha iyi ses"})]})]}),e.jsxs("div",{style:i.footer,children:[e.jsxs("button",{onClick:$e,style:i.deleteBtn,children:[e.jsx(ze,{})," KanalÄ± Sil"]}),e.jsxs("button",{onClick:Ke,style:i.saveBtn,children:[e.jsx(Wo,{})," Kaydet"]})]})]}),R==="permissions"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:i.permissionsHeader,children:[e.jsxs("h4",{style:{margin:0,color:"#fff"},children:[e.jsx(Bt,{})," Kanal Ä°zinleri"]}),e.jsxs("button",{onClick:()=>me(!0),style:i.addPermBtn,children:[e.jsx(Fe,{})," Ä°zin Ekle"]})]}),p.role_permissions?.length>0&&e.jsxs("div",{style:i.permSection,children:[e.jsx("h5",{style:{color:"#b9bbbe",fontSize:"0.9em",marginBottom:"10px"},children:"ROL Ä°ZÄ°NLERÄ°"}),p.role_permissions.map(s=>e.jsxs("div",{style:i.permissionItem,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[e.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:s.role_color}}),e.jsx("span",{style:{fontWeight:"bold"},children:s.role_name})]}),e.jsxs("div",{style:{fontSize:"0.85em",color:"#949ba4",marginTop:"5px"},children:[s.can_view&&"ğŸ‘ GÃ¶rÃ¼ntÃ¼le ",s.can_send_messages&&"âœï¸ Mesaj ",s.can_connect&&"ğŸ¤ BaÄŸlan ",s.can_speak&&"ğŸ”Š KonuÅŸ "]}),e.jsx("button",{onClick:()=>Je(s.id),style:i.removeBtn,children:"KaldÄ±r"})]},s.id))]}),p.user_permissions?.length>0&&e.jsxs("div",{style:i.permSection,children:[e.jsx("h5",{style:{color:"#b9bbbe",fontSize:"0.9em",marginBottom:"10px"},children:"KULLANICI Ä°ZÄ°NLERÄ°"}),p.user_permissions.map(s=>e.jsxs("div",{style:i.permissionItem,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[e.jsx("img",{src:s.avatar||"/default-avatar.png",alt:s.username,style:{width:24,height:24,borderRadius:"50%"}}),e.jsx("span",{children:s.username})]}),e.jsxs("div",{style:{fontSize:"0.85em",color:"#949ba4",marginTop:"5px"},children:[s.can_view&&"ğŸ‘ GÃ¶rÃ¼ntÃ¼le ",s.can_send_messages&&"âœï¸ Mesaj ",s.can_connect&&"ğŸ¤ BaÄŸlan "]}),e.jsx("button",{onClick:()=>Je(s.id),style:i.removeBtn,children:"KaldÄ±r"})]},s.id))]}),p.role_permissions?.length===0&&p.user_permissions?.length===0&&e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#949ba4"},children:[e.jsx(tt,{size:40,style:{opacity:.3,marginBottom:"10px"}}),e.jsx("p",{children:"HenÃ¼z Ã¶zel izin tanÄ±mlanmamÄ±ÅŸ"}),e.jsx("p",{style:{fontSize:"0.85em"},children:"Belirli roller veya kullanÄ±cÄ±lara Ã¶zel izinler tanÄ±mlayabilirsiniz"})]}),ie&&e.jsxs("div",{style:i.addPermModal,children:[e.jsx("h5",{style:{color:"#fff",marginBottom:"15px"},children:"Ä°zin Ekle"}),e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{color:"#b9bbbe",fontSize:"0.9em"},children:"Ä°zin TÃ¼rÃ¼"}),e.jsxs("select",{value:de,onChange:s=>se(s.target.value),style:i.input,children:[e.jsx("option",{value:"role",children:"Rol"}),e.jsx("option",{value:"user",children:"KullanÄ±cÄ±"})]})]}),de==="role"&&e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{color:"#b9bbbe",fontSize:"0.9em"},children:"Rol SeÃ§"}),e.jsxs("select",{value:ye||"",onChange:s=>he(s.target.value),style:i.input,children:[e.jsx("option",{value:"",children:"Rol seÃ§in..."}),p.available_roles?.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),de==="user"&&e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("label",{style:{color:"#b9bbbe",fontSize:"0.9em"},children:"KullanÄ±cÄ± Ara"}),e.jsx("input",{type:"text",placeholder:"KullanÄ±cÄ± adÄ± yazÄ±n... (min 2 karakter)",value:M,onChange:s=>{c(s.target.value),Mt(s.target.value)},style:i.input}),C.length>0&&e.jsx("div",{style:{background:"#1e1f22",borderRadius:"6px",marginTop:"8px",maxHeight:"200px",overflowY:"auto",border:"1px solid #4e5058"},children:C.map(s=>e.jsxs("div",{onClick:()=>{m(s.id),c(s.username),z([])},style:{padding:"10px 12px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",borderBottom:"1px solid #2b2d31",backgroundColor:pe===s.id?"#5865f2":"transparent",transition:"background-color 0.2s"},onMouseEnter:W=>{pe!==s.id&&(W.currentTarget.style.backgroundColor="#2b2d31")},onMouseLeave:W=>{pe!==s.id&&(W.currentTarget.style.backgroundColor="transparent")},children:[e.jsx("img",{src:s.avatar||"/default-avatar.png",alt:s.username,style:{width:24,height:24,borderRadius:"50%"}}),e.jsx("span",{style:{color:"#fff",fontSize:"0.95em"},children:s.username})]},s.id))}),M&&C.length===0&&e.jsx("p",{style:{fontSize:"0.8em",color:"#949ba4",marginTop:"5px"},children:M.length<2?"En az 2 karakter girin":"KullanÄ±cÄ± bulunamadÄ±"}),pe&&e.jsxs("p",{style:{fontSize:"0.85em",color:"#43b581",marginTop:"5px"},children:["âœ… KullanÄ±cÄ± seÃ§ildi: ",e.jsx("strong",{children:M})]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>{me(!1),c(""),z([]),m(null),he(null)},style:i.cancelBtn,children:"Ä°ptal"}),e.jsx("button",{onClick:rt,style:i.confirmBtn,children:"Ekle"})]})]})]}),R==="integrations"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:i.integrationHeader,children:[e.jsxs("h4",{style:{margin:0,color:"#fff"},children:[e.jsx(et,{})," Kanal EntegrasyonlarÄ±"]}),e.jsx("p",{style:{color:"#72767d",fontSize:"13px",marginTop:"8px"},children:"Webhooklar, botlar ve dÄ±ÅŸ servisler ile entegrasyon ayarlarÄ±"})]}),e.jsxs("div",{style:i.integrationCard,children:[e.jsxs("div",{style:i.integrationCardHeader,children:[e.jsx("div",{style:i.integrationIcon,children:e.jsx(bn,{style:{color:"#5865f2",fontSize:"20px"}})}),e.jsxs("div",{children:[e.jsx("h5",{style:i.integrationTitle,children:"Webhook"}),e.jsx("p",{style:i.integrationDesc,children:"Bu kanala mesaj gÃ¶ndermek iÃ§in webhook URL'i oluÅŸturun"})]})]}),e.jsxs("button",{style:i.integrationBtn,onClick:async()=>{try{const s=await u(`${T}/webhooks/create/`,{method:"POST",body:JSON.stringify({room_id:l.id,name:`${l.name} Webhook`})});if(s.ok){const W=await s.json();navigator.clipboard.writeText(W.url),h.success("Webhook oluÅŸturuldu ve kopyalandÄ±!")}else h.error("Webhook oluÅŸturulamadÄ±")}catch(s){console.error(s),h.error("Hata oluÅŸtu")}},children:[e.jsx(Fe,{})," Webhook OluÅŸtur"]})]}),e.jsxs("div",{style:i.integrationCard,children:[e.jsxs("div",{style:i.integrationCardHeader,children:[e.jsx("div",{style:{...i.integrationIcon,backgroundColor:"rgba(250, 166, 26, 0.2)"},children:e.jsx(hn,{style:{color:"#faa61a",fontSize:"20px"}})}),e.jsxs("div",{children:[e.jsx("h5",{style:i.integrationTitle,children:"Bildirim AyarlarÄ±"}),e.jsx("p",{style:i.integrationDesc,children:"Bu kanal iÃ§in bildirim tercihlerini yapÄ±landÄ±rÄ±n"})]})]}),e.jsxs("select",{style:{...i.input,maxWidth:"200px"},children:[e.jsx("option",{value:"all",children:"TÃ¼m Mesajlar"}),e.jsx("option",{value:"mentions",children:"Sadece Mention"}),e.jsx("option",{value:"none",children:"Bildirimsiz"})]})]}),e.jsxs("div",{style:i.integrationCard,children:[e.jsxs("div",{style:i.integrationCardHeader,children:[e.jsx("div",{style:{...i.integrationIcon,backgroundColor:"rgba(67, 181, 129, 0.2)"},children:e.jsx(Yo,{style:{color:"#43b581",fontSize:"20px"}})}),e.jsxs("div",{children:[e.jsx("h5",{style:i.integrationTitle,children:"Kanal Takibi"}),e.jsx("p",{style:i.integrationDesc,children:"Bu kanalÄ± baÅŸka bir sunucuya yansÄ±tÄ±n (mirror)"})]})]}),e.jsxs("button",{style:{...i.integrationBtn,backgroundColor:"#43b581"},children:[e.jsx(et,{})," Takip Linki OluÅŸtur"]})]})]}),R==="advanced"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:i.integrationHeader,children:[e.jsxs("h4",{style:{margin:0,color:"#fff"},children:[e.jsx(Ye,{})," GeliÅŸmiÅŸ Ayarlar"]}),e.jsx("p",{style:{color:"#72767d",fontSize:"13px",marginTop:"8px"},children:"Kanal geÃ§miÅŸi, arÅŸiv ve tehlikeli iÅŸlemler"})]}),e.jsxs("div",{style:i.advancedSection,children:[e.jsxs("h5",{style:i.advancedSectionTitle,children:[e.jsx(Ye,{})," Mesaj GeÃ§miÅŸi"]}),e.jsxs("div",{style:i.advancedOption,children:[e.jsxs("div",{children:[e.jsx("p",{style:i.advancedOptionTitle,children:"Mesaj GeÃ§miÅŸini Sil"}),e.jsx("p",{style:i.advancedOptionDesc,children:"Son X gÃ¼nÃ¼n mesajlarÄ±nÄ± toplu olarak sil"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsxs("select",{style:{...i.input,width:"100px"},children:[e.jsx("option",{value:"1",children:"1 GÃ¼n"}),e.jsx("option",{value:"7",children:"7 GÃ¼n"}),e.jsx("option",{value:"30",children:"30 GÃ¼n"}),e.jsx("option",{value:"all",children:"TÃ¼mÃ¼"})]}),e.jsx("button",{style:i.dangerBtnSmall,children:"Sil"})]})]})]}),e.jsxs("div",{style:i.advancedSection,children:[e.jsxs("h5",{style:i.advancedSectionTitle,children:[e.jsx(Ct,{})," Slow Mode"]}),e.jsxs("div",{style:i.advancedOption,children:[e.jsxs("div",{children:[e.jsx("p",{style:i.advancedOptionTitle,children:"Mesaj Bekleme SÃ¼resi"}),e.jsx("p",{style:i.advancedOptionDesc,children:"KullanÄ±cÄ±lar arasÄ±ndaki minimum bekleme sÃ¼resi"})]}),e.jsxs("select",{style:{...i.input,width:"150px"},onChange:async s=>{await Re({slow_mode_seconds:parseInt(s.target.value)}),h.success("Slow mode gÃ¼ncellendi!")},children:[e.jsx("option",{value:"0",children:"KapalÄ±"}),e.jsx("option",{value:"5",children:"5 Saniye"}),e.jsx("option",{value:"10",children:"10 Saniye"}),e.jsx("option",{value:"30",children:"30 Saniye"}),e.jsx("option",{value:"60",children:"1 Dakika"}),e.jsx("option",{value:"300",children:"5 Dakika"}),e.jsx("option",{value:"900",children:"15 Dakika"}),e.jsx("option",{value:"3600",children:"1 Saat"})]})]})]}),e.jsxs("div",{style:i.advancedSection,children:[e.jsxs("h5",{style:i.advancedSectionTitle,children:[e.jsx(fn,{})," Kanal Ä°statistikleri"]}),e.jsxs("div",{style:i.statsGrid,children:[e.jsxs("div",{style:i.statBox,children:[e.jsx("span",{style:i.statValue,children:l.message_count||0}),e.jsx("span",{style:i.statLabel,children:"Toplam Mesaj"})]}),e.jsxs("div",{style:i.statBox,children:[e.jsx("span",{style:i.statValue,children:l.member_count||v?.length||0}),e.jsx("span",{style:i.statLabel,children:"EriÅŸebilen Ãœye"})]}),e.jsxs("div",{style:i.statBox,children:[e.jsx("span",{style:i.statValue,children:l.file_count||0}),e.jsx("span",{style:i.statLabel,children:"PaylaÅŸÄ±lan Dosya"})]})]})]}),e.jsxs("div",{style:i.dangerZone,children:[e.jsxs("h5",{style:i.dangerZoneTitle,children:[e.jsx(nt,{})," Tehlikeli BÃ¶lge"]}),e.jsxs("div",{style:i.advancedOption,children:[e.jsxs("div",{children:[e.jsx("p",{style:i.advancedOptionTitle,children:"KanalÄ± Sil"}),e.jsx("p",{style:i.advancedOptionDesc,children:"Bu iÅŸlem geri alÄ±namaz! TÃ¼m mesajlar silinir."})]}),e.jsxs("button",{onClick:$e,style:i.dangerBtnLarge,children:[e.jsx(ze,{})," KanalÄ± Sil"]})]})]})]})]})]})});return Rt.createPortal(Ge,document.body)},i={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999,padding:"20px",overflow:"auto"},modal:{background:"#313338",width:"960px",maxWidth:"100%",borderRadius:"8px",overflow:"hidden",maxHeight:"calc(100vh - 40px)",display:"flex",flexDirection:"column",minHeight:"600px",boxShadow:"0 8px 32px rgba(0,0,0,0.6)",position:"relative",alignSelf:"center"},header:{padding:"24px 28px",borderBottom:"1px solid #1e1f22",display:"flex",justifyContent:"space-between",alignItems:"center",color:"white",flexShrink:0},closeBtn:{background:"none",border:"none",color:"#bbb",cursor:"pointer",fontSize:"1.4em",transition:"color 0.2s",padding:"8px"},tabs:{display:"flex",borderBottom:"1px solid #1e1f22",background:"#2b2d31",flexShrink:0},tab:{flex:1,padding:"14px 20px",background:"transparent",border:"none",color:"#949ba4",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",fontSize:"1em",transition:"all 0.2s",borderBottom:"2px solid transparent"},tabActive:{flex:1,padding:"14px 20px",background:"transparent",border:"none",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",fontSize:"1em",fontWeight:"bold",borderBottom:"2px solid #5865f2"},body:{padding:"28px 32px",overflowY:"auto",flex:1},section:{marginBottom:"24px",color:"#dbdee1",fontSize:"1em"},input:{width:"100%",padding:"12px 14px",background:"#1e1f22",border:"1px solid #1e1f22",color:"white",borderRadius:"6px",marginTop:"8px",boxSizing:"border-box",fontSize:"0.95em",transition:"border-color 0.2s"},rolesList:{maxHeight:"250px",overflowY:"auto",background:"#2b2d31",padding:"12px",borderRadius:"6px",marginTop:"12px"},roleItem:{display:"flex",justifyContent:"space-between",padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid #333",color:"white",alignItems:"center",fontSize:"0.95em",borderRadius:"4px",transition:"background-color 0.2s"},footer:{display:"flex",justifyContent:"space-between",marginTop:"28px",paddingTop:"20px",borderTop:"1px solid #1e1f22"},saveBtn:{background:"#23a559",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:8,fontWeight:"bold",fontSize:"0.95em",transition:"background-color 0.2s"},deleteBtn:{background:"transparent",color:"#da373c",border:"1px solid #da373c",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:8,fontSize:"0.95em",transition:"all 0.2s"},permissionsHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"10px",borderBottom:"1px solid #1e1f22"},addPermBtn:{background:"#5865f2",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px",fontSize:"0.9em",fontWeight:"bold"},permSection:{marginBottom:"20px"},permissionItem:{background:"#2b2d31",padding:"12px",borderRadius:"6px",marginBottom:"10px",display:"flex",flexDirection:"column",gap:"8px",position:"relative"},removeBtn:{position:"absolute",top:"10px",right:"10px",background:"#da373c",color:"white",border:"none",padding:"5px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"0.8em"},addPermModal:{background:"#2b2d31",padding:"20px",borderRadius:"8px",marginTop:"20px",border:"2px solid #5865f2"},cancelBtn:{background:"transparent",color:"#b9bbbe",border:"1px solid #4e5058",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"0.95em",transition:"all 0.2s"},confirmBtn:{background:"#5865f2",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"0.95em",fontWeight:"bold",transition:"background-color 0.2s"},label:{color:"#b5bac1",fontSize:"0.875em",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px",display:"block",letterSpacing:"0.5px"},checkboxLabel:{display:"flex",alignItems:"center",gap:12,cursor:"pointer",fontSize:"0.95em",padding:"8px 0"},integrationHeader:{marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid #1e1f22"},integrationCard:{background:"#2b2d31",borderRadius:"12px",padding:"20px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center",border:"1px solid #3f4147",transition:"border-color 0.2s"},integrationCardHeader:{display:"flex",alignItems:"center",gap:"16px"},integrationIcon:{width:"48px",height:"48px",borderRadius:"12px",background:"rgba(88, 101, 242, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},integrationTitle:{color:"#fff",fontSize:"1em",fontWeight:"bold",margin:0},integrationDesc:{color:"#72767d",fontSize:"0.85em",margin:"4px 0 0 0"},integrationBtn:{background:"#5865f2",color:"white",border:"none",padding:"10px 18px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9em",fontWeight:"bold",transition:"background-color 0.2s"},advancedSection:{background:"#2b2d31",borderRadius:"12px",padding:"20px",marginBottom:"16px",border:"1px solid #3f4147"},advancedSectionTitle:{color:"#fff",fontSize:"1em",fontWeight:"bold",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"10px"},advancedOption:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderTop:"1px solid #3f4147"},advancedOptionTitle:{color:"#dbdee1",fontSize:"0.95em",fontWeight:"500",margin:0},advancedOptionDesc:{color:"#72767d",fontSize:"0.8em",margin:"4px 0 0 0"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},statBox:{background:"#1e1f22",borderRadius:"8px",padding:"16px",textAlign:"center",display:"flex",flexDirection:"column",gap:"4px"},statValue:{color:"#5865f2",fontSize:"1.5em",fontWeight:"bold"},statLabel:{color:"#72767d",fontSize:"0.8em"},dangerZone:{background:"rgba(237, 66, 69, 0.1)",borderRadius:"12px",padding:"20px",marginTop:"24px",border:"1px solid rgba(237, 66, 69, 0.3)"},dangerZoneTitle:{color:"#ed4245",fontSize:"1em",fontWeight:"bold",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"10px"},dangerBtnSmall:{background:"#ed4245",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.85em",fontWeight:"bold"},dangerBtnLarge:{background:"#ed4245",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9em",fontWeight:"bold",transition:"background-color 0.2s"}},Mr=({isOpen:l,onClose:v,onConfirm:k,title:u="Emin misiniz?",message:T="Bu iÅŸlemi gerÃ§ekleÅŸtirmek istediÄŸinizden emin misiniz?",confirmText:R="Evet",cancelText:P="HayÄ±r",type:B="warning",requireTextConfirmation:I=!1,confirmationText:y="",inputPlaceholder:F="Onaylamak iÃ§in buraya yazÄ±n...",dangerDetails:j=null})=>{const[O,f]=o.useState(""),[b,S]=o.useState(!1);if(o.useEffect(()=>{l?(f(""),S(!1),document.body.style.overflow="hidden"):document.body.style.overflow="auto";const A=p=>{p.key==="Escape"&&!b&&v()};return document.addEventListener("keydown",A),()=>{document.removeEventListener("keydown",A),document.body.style.overflow="auto"}},[l,v,b]),!l)return null;const Y=async()=>{if(!(I&&O!==y)){S(!0);try{await k(),v()}catch(A){console.error("Confirm action failed:",A)}finally{S(!1)}}},_=A=>{A.target===A.currentTarget&&!b&&v()},J={warning:{icon:e.jsx(nt,{}),color:"#f39c12",gradient:"linear-gradient(135deg, #f39c12 0%, #e67e22 100%)"},danger:{icon:e.jsx(ze,{}),color:"#e74c3c",gradient:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)"},info:{icon:e.jsx(Tt,{}),color:"#3498db",gradient:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)"}},ee=J[B]||J.warning,te=!I||O===y,K=e.jsx("div",{style:G.overlay,onClick:_,children:e.jsxs("div",{style:G.modal,children:[e.jsxs("div",{style:{...G.header,background:ee.gradient},children:[e.jsx("div",{style:G.headerIcon,children:ee.icon}),e.jsx("h2",{style:G.title,children:u}),e.jsx("button",{onClick:v,disabled:b,style:G.closeButton,title:"Kapat",children:e.jsx(fe,{})})]}),e.jsxs("div",{style:G.body,children:[e.jsx("p",{style:G.message,children:T}),j&&j.length>0&&e.jsxs("div",{style:G.dangerBox,children:[e.jsx("div",{style:G.dangerHeader,children:"âš ï¸ Bu iÅŸlem:"}),e.jsx("ul",{style:G.dangerList,children:j.map((A,p)=>e.jsxs("li",{style:G.dangerItem,children:["â€¢ ",A]},p))}),e.jsx("div",{style:G.dangerFooter,children:"GERÄ° ALINAMAZ!"})]}),I&&e.jsxs("div",{style:G.inputContainer,children:[e.jsxs("label",{style:G.inputLabel,children:["Devam etmek iÃ§in ",e.jsxs("strong",{children:['"',y,'"']})," yazÄ±n:"]}),e.jsx("input",{type:"text",value:O,onChange:A=>f(A.target.value),placeholder:F,style:{...G.input,borderColor:O&&O!==y?"#e74c3c":"#4e5058"},disabled:b,autoFocus:!0}),O&&O!==y&&e.jsx("div",{style:G.inputError,children:"Metin eÅŸleÅŸmiyor"})]})]}),e.jsxs("div",{style:G.footer,children:[e.jsx("button",{onClick:v,disabled:b,style:G.cancelButton,children:P}),e.jsx("button",{onClick:Y,disabled:!te||b,style:{...G.confirmButton,background:te?ee.gradient:"#4e5058",cursor:te&&!b?"pointer":"not-allowed",opacity:te&&!b?1:.6},children:b?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:G.spinner})," Ä°ÅŸleniyor..."]}):R})]})]})});return ae.createPortal(K,document.body)},G={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px",animation:"fadeIn 0.2s ease-out"},modal:{backgroundColor:"#2f3136",borderRadius:"12px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",animation:"slideUp 0.3s ease-out",overflow:"hidden"},header:{padding:"20px",display:"flex",alignItems:"center",gap:"12px",position:"relative"},headerIcon:{fontSize:"24px",color:"white",animation:"pulse 2s ease-in-out infinite"},title:{margin:0,fontSize:"20px",fontWeight:"bold",color:"white",flex:1},closeButton:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"6px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",transition:"all 0.2s",fontSize:"16px"},body:{padding:"24px"},message:{margin:0,fontSize:"15px",lineHeight:"1.6",color:"#dcddde",marginBottom:"16px"},dangerBox:{backgroundColor:"rgba(231, 76, 60, 0.1)",border:"2px solid rgba(231, 76, 60, 0.3)",borderRadius:"8px",padding:"16px",marginTop:"16px"},dangerHeader:{fontSize:"14px",fontWeight:"bold",color:"#e74c3c",marginBottom:"8px"},dangerList:{margin:"8px 0",padding:"0 0 0 12px",listStyle:"none",color:"#dcddde"},dangerItem:{fontSize:"13px",lineHeight:"1.8",color:"#dcddde"},dangerFooter:{fontSize:"14px",fontWeight:"bold",color:"#e74c3c",marginTop:"12px",textAlign:"center",padding:"8px",backgroundColor:"rgba(231, 76, 60, 0.2)",borderRadius:"6px"},inputContainer:{marginTop:"20px"},inputLabel:{display:"block",fontSize:"14px",color:"#dcddde",marginBottom:"8px"},input:{width:"100%",padding:"12px",backgroundColor:"#202225",border:"2px solid #4e5058",borderRadius:"6px",color:"#dcddde",fontSize:"14px",outline:"none",transition:"border-color 0.2s",boxSizing:"border-box"},inputError:{fontSize:"12px",color:"#e74c3c",marginTop:"6px"},footer:{padding:"16px 24px",backgroundColor:"#2b2d31",display:"flex",gap:"12px",justifyContent:"flex-end"},cancelButton:{padding:"10px 24px",backgroundColor:"transparent",border:"2px solid #4e5058",borderRadius:"6px",color:"#dcddde",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},confirmButton:{padding:"10px 24px",border:"none",borderRadius:"6px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},spinner:{width:"14px",height:"14px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 0.6s linear infinite",display:"inline-block"}},yn=document.createElement("style");yn.textContent=`
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }
  
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
`;document.head.appendChild(yn);const $r=({onFriendsClick:l,onWelcomeClick:v,isAdmin:k,categories:u=[],conversations:T=[],currentRoom:R,currentConversationId:P,onRoomSelect:B,onDMSelect:I,joinVoiceChat:y,leaveVoiceChat:F,unreadCounts:j={},voiceUsers:O,currentUsername:f,currentUserProfile:b,currentVoiceRoom:S,remoteVolumes:Y,setRemoteVolume:_,onProfileClick:J,onViewUserProfile:ee,getDeterministicAvatar:te,isPttActive:K,setIsLeftSidebarVisible:A,apiBaseUrl:p,fetchWithAuth:w,activeChat:ie,onOpenServerSettings:me,allUsers:de,onlineUsers:se,friendsList:ye=[],pendingFriendRequests:he=0,toggleMute:pe,toggleDeafened:m,isMuted:M,isDeafened:c,isInVoice:C,isConnecting:z,toggleVideo:H,toggleScreenShare:ue,isVideoEnabled:oe,isScreenSharing:Se,onServerDragStart:ve,onServerDragOver:ne,onServerDragEnd:je,onServerDrop:Ke,updateAvailable:$e=!1,onUpdateClick:ot,onOpenStore:rt,onOpenAnalytics:Mt,onOpenAdminPanel:Je,onOpenPaymentPanel:Re,onOpenStoreModal:Ge,onOpenDailyRewards:s,onOpenAPIUsage:W,onOpenExportJobs:Te,onOpenScheduledAnnouncements:$t,onOpenMiniGames:Dt,onOpenProjectCollaboration:Lt,onOpenAvatarStudio:_t,onServerSelect:Pt})=>{const Ue=j||{},it=o.useCallback((t,n)=>{if(!t||typeof t!="string")return te(n);if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("blob:")||t.includes("ui-avatars.com"))return t;let r=t.startsWith("/")?t:`/${t}`;return`${p}${r}`},[p,te]),vn=R||(ie?.type==="room"?ie.id:null),[st,Ot]=o.useState(""),[ce,De]=o.useState("home"),[jn,kn]=o.useState({}),[Sn,at]=o.useState(null),[wn,lt]=o.useState(null),[dt,ct]=o.useState(null),[le,Le]=o.useState(null),[U,Ce]=o.useState(null),[Cn,Ae]=o.useState(!1),[zn,pt]=o.useState(!1),[In,_e]=o.useState(!1),[Rn,ut]=o.useState(!1),[Tn,Et]=o.useState(!1),[Ft,Kt]=o.useState(null),[At,Bn]=o.useState(null),[Mn,$n]=o.useState(!1),[Dn,Nt]=o.useState(!1),[Ln,_n]=o.useState(!1),[Pn,Pe]=o.useState(!1),[On,Ht]=o.useState(!1),[En,Wt]=o.useState(!1),[Fn,Yt]=o.useState(!1),[Kn,Jt]=o.useState(!1),[An,xt]=o.useState(!1),[Ve,gt]=o.useState(null),[Dr,Lr]=o.useState(!1),[Gt,Nn]=o.useState([]),[mt,Ut]=o.useState(null),[xe,be]=o.useState(null),[Xe,Ze]=o.useState(null),[Be,Vt]=o.useState(null),[Xt,Oe]=o.useState(null),[Qe,qe]=o.useState(""),[Hn,Zt]=o.useState(()=>{const t=localStorage.getItem("mutedServers");return t?JSON.parse(t):[]}),[ht,Qt]=o.useState(""),[Wn,bt]=o.useState(null),[ft,qt]=o.useState(""),[Yn,yt]=o.useState(null),[vt,en]=o.useState(""),[tn,Jn]=o.useState("text"),[nn,on]=o.useState(!1),jt=O||{},[Ne,kt]=o.useState(null);o.useEffect(()=>{ie&&(ie.type==="welcome"||ie.type==="friends"||ie.type==="dm")&&De("home")},[ie]),o.useEffect(()=>{const t=()=>be(null);if(xe)return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[xe]);const Gn=t=>kn(n=>({...n,[t]:!n[t]})),Un=t=>{De(t.id),Pt&&Pt(t)},rn=(t,n,r,a)=>{t.stopPropagation(),console.log("ğŸ¯ Context menu aÃ§Ä±lÄ±yor:",{type:n,id:r,name:a}),Le({type:n,id:r,name:a})},Vn=t=>{t.preventDefault(),le.type==="category"?(Oe(`cat-${le.id}`),qe(le.name)):(Oe(`room-${le.id}`),qe(le.name)),Le(null)},Xn=t=>{le.type==="category"?wo(t,le.id):zo(t,le.id),Le(null)},Zn=t=>{if(t.preventDefault(),console.log("ğŸ”§ executeSettings Ã§aÄŸrÄ±ldÄ±:",le),console.log("ğŸ”§ Mevcut servers:",u),console.log("ğŸ”§ selectedServerId:",ce),le.type==="room"){let n=null,r=null;u?.forEach(a=>{console.log(`ğŸ” ${a.name} sunucusunda arÄ±yorum...`),a.categories?.forEach(g=>{if(console.log(`  ğŸ“ ${g.name} kategorisinde arÄ±yorum...`),g.rooms){const L=g.rooms.find(d=>d.slug===le.id);L&&(console.log("  âœ… Kanal bulundu:",L),n={...L,server_id:a.id,category_id:g.id},r=a.id)}})}),n?(console.log("âœ… Kanal ayarlarÄ± aÃ§Ä±lÄ±yor:",n),gt(n),De(r),xt(!0)):(console.error("âŒ Kanal bulunamadÄ±:",le.id),h.error("Kanal ayarlarÄ± aÃ§Ä±lÄ±rken bir hata oluÅŸtu. Kanal bulunamadÄ±."))}Le(null)},sn=async(t,n,r)=>{try{const a=await w(`${p}/voice/move_user/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,from_channel:n,to_channel:r})});if(a.ok){const g=await a.json();console.log(`âœ… ${g.message||`${t} baÅŸarÄ±yla ${r} kanalÄ±na taÅŸÄ±ndÄ±!`}`)}else{const g=await a.json();console.error(`âŒ ${g.error||"KullanÄ±cÄ± taÅŸÄ±namadÄ±"}`)}}catch(a){console.error("âŒ KullanÄ±cÄ± taÅŸÄ±ma hatasÄ±:",a)}},Qn=async(t,n)=>{try{const r=await w(`${p}/voice/kick_user/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,channel:n})});if(r.ok){const a=await r.json();console.log(`âœ… ${a.message||`${t} kanaldan atÄ±ldÄ±!`}`)}else{const a=await r.json();console.error(`âŒ ${a.error||"KullanÄ±cÄ± atÄ±lamadÄ±"}`)}}catch(r){console.error("âŒ KullanÄ±cÄ± atma hatasÄ±:",r)}},qn=(t,n)=>{t.preventDefault(),t.stopPropagation();const r=n.owner_username===f;Ce({x:t.clientX,y:t.clientY,server:n,isOwner:r})},eo=(t,n,r)=>{at(n),ve&&ve(t,n,r)},to=(t,n)=>{t.preventDefault();const r=t.currentTarget.getBoundingClientRect(),a=t.clientY,g=r.top+r.height/2,L=a<g?"before":"after";lt(n),ct(L),ne&&ne(t)},no=t=>{at(null),lt(null),ct(null),je&&je(t)},oo=(t,n)=>{const r=dt;if(lt(null),ct(null),at(null),Ke){const a=r==="after"?n+1:n;Ke(t,a)}},ro=async t=>{const n=u.find(r=>r.id===t);if(n&&n.owner&&n.owner.user.username===username){h.warning(`Sunucu sahibi sunucudan ayrÄ±lamaz!

Sunucuyu silmek iÃ§in:
1. Sunucuya saÄŸ tÄ±klayÄ±n
2. "Sunucuyu Sil" seÃ§eneÄŸini tÄ±klayÄ±n

Veya Ã¶nce sahipliÄŸi baÅŸka birine devredin.`,7e3);return}if(window.confirm("Bu sunucudan ayrÄ±lmak istediÄŸinizden emin misiniz?"))try{const r=await w(`${p}/servers/${t}/leave/`,{method:"POST"});if(r.ok){const a=await r.json();console.log("âœ… Sunucudan ayrÄ±ldÄ±nÄ±z:",a),De("home"),v(),window.location.reload()}else{const g=(await r.json()).error||"Sunucudan ayrÄ±lÄ±rken hata oluÅŸtu";console.error("âŒ Sunucudan ayrÄ±lma hatasÄ±:",g),h.error(`âŒ Hata: ${g}

EÄŸer sunucu sahibiyseniz, sunucuyu silmeniz gerekir.
Sunucuya saÄŸ tÄ±klayÄ±p "Sunucuyu Sil" seÃ§eneÄŸini kullanÄ±n.`)}}catch(r){console.error("âŒ Sunucudan ayrÄ±lma hatasÄ±:",r),h.error("âŒ Sunucudan ayrÄ±lÄ±rken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}},an=async(t,n)=>{if(!u||!Array.isArray(u))return;const r=u.findIndex(D=>D.id===t);if(r===-1)return;const a=n==="up"?r-1:r+1;if(a<0||a>=u.length)return;const g=[...u],[L]=g.splice(r,1);g.splice(a,0,L);const d=g.map((D,ke)=>({id:D.id,order:ke}));try{const D=await w(`${p}/servers/reorder/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"server",items:d})});if(D.ok)console.log("âœ… Sunucu sÄ±rasÄ± gÃ¼ncellendi");else{const ke=await D.json();console.error("âŒ SÄ±ralama hatasÄ±:",ke)}}catch(D){console.error("âŒ Sunucu sÄ±ralama hatasÄ±:",D)}},io=async t=>{const n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=async r=>{const a=r.target.files[0];if(!a)return;if(a.size>5*1024*1024){h.warning("Dosya boyutu Ã§ok bÃ¼yÃ¼k! Maksimum 5MB olmalÄ±dÄ±r.");return}const g=new FormData;g.append("icon",a);try{const L=await w(`${p}/servers/${t}/icon/`,{method:"POST",body:g});if(L.ok){const d=await L.json();console.log("âœ… Sunucu ikonu gÃ¼ncellendi:",d)}else{const d=await L.json();h.error(`Ä°kon gÃ¼ncellenirken hata: ${d.error||"Bilinmeyen hata"}`)}}catch(L){console.error("âŒ Ä°kon yÃ¼kleme hatasÄ±:",L),h.error("Ä°kon yÃ¼klenirken bir hata oluÅŸtu.")}},n.click()},so=async t=>{const n=u.find(g=>g.id===t);if(!n)return;const r=!n.is_public,a=r?"Sunucuyu herkese aÃ§Ä±k yapmak istediÄŸinize emin misiniz? Herkes bu sunucuyu bulabilir ve katÄ±labilir.":"Sunucuyu Ã¶zel yapmak istediÄŸinize emin misiniz? Sadece davet edilen kiÅŸiler katÄ±labilir.";if(window.confirm(a))try{const g=await w(`${p}/servers/${t}/privacy/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_public:r})});if(g.ok){const L=await g.json();console.log("âœ… Sunucu gizlilik ayarÄ± gÃ¼ncellendi:",L)}else{const L=await g.json();h.error(`Gizlilik ayarÄ± deÄŸiÅŸtirilirken hata: ${L.error||"Bilinmeyen hata"}`)}}catch(g){console.error("âŒ Gizlilik ayarÄ± hatasÄ±:",g),h.error("Gizlilik ayarÄ± deÄŸiÅŸtirilirken bir hata oluÅŸtu.")}},ao=async t=>{try{const n=await w(`${p}/friends/send/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});if(n.ok)console.log(`âœ… ${t} kullanÄ±cÄ±sÄ±na arkadaÅŸlÄ±k isteÄŸi gÃ¶nderildi`),window.Notification&&Notification.permission==="granted"&&new Notification("ArkadaÅŸlÄ±k Ä°steÄŸi GÃ¶nderildi",{body:`${t} kullanÄ±cÄ±sÄ±na arkadaÅŸlÄ±k isteÄŸi gÃ¶nderildi!`,icon:"/logo192.png"});else{const r=await n.json();console.error(`âŒ ArkadaÅŸlÄ±k isteÄŸi hatasÄ±: ${r.error||"Bilinmeyen hata"}`)}}catch(n){console.error("âŒ ArkadaÅŸ ekleme hatasÄ±:",n)}},lo=async t=>{try{const n=await w(`${p}/friends/remove/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});if(n.ok)console.log(`âœ… ${t} arkadaÅŸ listesinden Ã§Ä±karÄ±ldÄ±`),window.Notification&&Notification.permission==="granted"&&new Notification("ArkadaÅŸ Ã‡Ä±karÄ±ldÄ±",{body:`${t} arkadaÅŸ listesinden Ã§Ä±karÄ±ldÄ±.`,icon:"/logo192.png"});else{const r=await n.json();console.error(`âŒ ArkadaÅŸ Ã§Ä±karma hatasÄ±: ${r.error||"Bilinmeyen hata"}`)}}catch(n){console.error("âŒ ArkadaÅŸ Ã§Ä±karma hatasÄ±:",n)}},co=async t=>{try{const n=await w(`${p}/invites/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:t,max_uses:0,expires_hours:0})});if(n.ok){const r=await n.json(),a="https://www.pawscord.com",g=!0,L=g?a:window.location.origin;console.log("ğŸ” [Invite] URL Bilgileri:",{NODE_ENV:"production",hostname:window.location.hostname,origin:window.location.origin,isProduction:g,baseUrl:L});const d=`${L}/#/invite/${r.code}`;console.log("âœ… [Invite] OluÅŸturulan link:",d),await navigator.clipboard.writeText(d),h.success(`Davet linki kopyalandÄ±!

${d}`,4e3)}else{const r=await n.json();console.error("âŒ Davet oluÅŸturma hatasÄ±:",r.error||"Davet oluÅŸturulamadÄ±"),h.error(`Hata: ${r.error||"Davet oluÅŸturulamadÄ±"}`)}}catch(n){console.error("âŒ Davet kopyalama hatasÄ±:",n)}},St=(t,n)=>{navigator.clipboard.writeText(t).then(()=>{Ut(n),setTimeout(()=>Ut(null),2e3)})},Me={sol:"Bk6ywhae86fp6BHmGtxabS6ncEGsFxhcnZEWJRZLVr9z",eth:"0xeaa14d4651a8ea7488289209b9294a1309dde37c",usdt:"TGAny6VmDAWdVmTXCPrpsbLKKQQdvyvnWC",coffee:"https://buymeacoffee.com/dogudoguweo"},po=async()=>{Ae(!0);try{const n=await(await w(`${p}/servers/public/`)).json();Nn(n)}catch(t){console.error("Sunucular Ã§ekilemedi",t)}},uo=async t=>{try{(await w(`${p}/servers/${t}/join/`,{method:"POST"})).ok&&(console.log("âœ… Sunucuya katÄ±ldÄ±n!"),Ae(!1),window.location.reload())}catch(n){console.error("âŒ Sunucuya katÄ±lma hatasÄ±:",n)}},xo=async t=>{if(t.preventDefault(),!!st.trim())try{const n=await w(`${p}/invites/join/`,{method:"POST",body:JSON.stringify({code:st})}),r=await n.json();n.ok?(console.log(`âœ… BaÅŸarÄ±lÄ±! "${r.server_name}" sunucusuna katÄ±ldÄ±n.`),Ot(""),Ae(!1),window.location.reload()):console.error("âŒ Sunucuya katÄ±lma hatasÄ±:",r.error||"Sunucuya katÄ±lÄ±namadÄ±.")}catch(n){console.error("âŒ Davet kodu hatasÄ±:",n)}},go=(t,n)=>{t.stopPropagation(),Kt(n),Et(!0)},mo=async t=>{if(confirm("Bu konuÅŸmadaki tÃ¼m mesajlarÄ± silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz.")){try{const n=await w(`${p}/conversations/${t}/clear/`,{method:"POST"});if(n.ok)h.success("âœ… KonuÅŸma temizlendi!"),window.location.reload();else{const r=await n.json();h.error(`âŒ Hata: ${r.error||"KonuÅŸma temizlenemedi"}`)}}catch(n){console.error("âŒ DM clear error:",n),h.error("âŒ BaÄŸlantÄ± hatasÄ±")}be(null)}},ho=async t=>{if(confirm("Bu konuÅŸmayÄ± gizlemek istediÄŸinizden emin misiniz?")){try{const n=await w(`${p}/conversations/${t}/hide/`,{method:"POST"});if(n.ok)h.success("âœ… KonuÅŸma gizlendi!"),window.location.reload();else{const r=await n.json();h.error(`âŒ Hata: ${r.error||"KonuÅŸma gizlenemedi"}`)}}catch(n){console.error("âŒ DM hide error:",n),h.error("âŒ BaÄŸlantÄ± hatasÄ±")}be(null)}},bo=t=>{ee?ee(t):h.info(`ğŸ‘¤ ${t} profili gÃ¶rÃ¼ntÃ¼lenemiyor`),be(null)},fo=t=>{if(!u||u.length===0){h.error("âŒ Davet edebileceÄŸiniz sunucu bulunmuyor"),be(null);return}Ze({username:t,isOpen:!0}),be(null)},yo=async(t,n)=>{try{const r=await w(`${p}/servers/${t}/invite/`,{method:"POST",body:JSON.stringify({target_username:n})});if(r.ok){const a=await r.json();h.success(`ğŸ« ${n} kullanÄ±cÄ±sÄ±na davetiye gÃ¶nderildi!`)}else{const a=await r.json();h.error(`âŒ ${a.error||"Davet gÃ¶nderilemedi"}`)}}catch(r){console.error("âŒ Invite error:",r),h.error("âŒ BaÄŸlantÄ± hatasÄ±")}Ze(null)},vo=async(t,n)=>{try{const r=JSON.parse(localStorage.getItem("mutedDMUsers")||"{}");r[t]?(delete r[t],localStorage.setItem("mutedDMUsers",JSON.stringify(r)),h.success(`ğŸ”Š ${t} artÄ±k sessize alÄ±nmadÄ±`)):(r[t]={timestamp:Date.now(),conversationId:n},localStorage.setItem("mutedDMUsers",JSON.stringify(r)),h.success(`ğŸ”‡ ${t} sessize alÄ±ndÄ±. Bildirimleri almayacaksÄ±nÄ±z.`))}catch(r){console.error("âŒ Mute error:",r),h.error("âŒ Sessize alma hatasÄ±")}be(null)},jo=async t=>{try{const n=JSON.parse(localStorage.getItem("pinnedConversations")||"[]");if(n.includes(t)){const r=n.filter(a=>a!==t);localStorage.setItem("pinnedConversations",JSON.stringify(r)),h.success("ğŸ“Œ KonuÅŸma sabitleme kaldÄ±rÄ±ldÄ±")}else n.length>=5?h.warning("âš ï¸ En fazla 5 konuÅŸma sabitleyebilirsiniz"):(n.push(t),localStorage.setItem("pinnedConversations",JSON.stringify(n)),h.success("ğŸ“Œ KonuÅŸma sabitlendi!"))}catch(n){console.error("âŒ Pin error:",n),h.error("âŒ Sabitleme hatasÄ±")}be(null)},ko=async t=>{if(confirm(`${t} kullanÄ±cÄ±sÄ±nÄ± engellemek istediÄŸinizden emin misiniz?`)){try{(await w(`${p}/users/${t}/block/`,{method:"POST"})).ok?(h.success(`âœ… ${t} engellendi!`),window.location.reload()):h.error("âŒ KullanÄ±cÄ± engellenemedi")}catch(n){console.error("âŒ Block error:",n),h.error("âŒ BaÄŸlantÄ± hatasÄ±")}be(null)}},So=async(t,n)=>{t.preventDefault(),await w(`${p}/categories/${n}/rename/`,{method:"POST",body:JSON.stringify({new_name:Qe})}),Oe(null)},wo=async(t,n)=>{t.stopPropagation(),window.confirm("Kategoriyi silmek istediÄŸine emin misin? Ä°Ã§indeki odalar da silinecek!")&&await w(`${p}/categories/${n}/delete/`,{method:"POST"})},Co=async(t,n)=>{t.preventDefault(),await w(`${p}/rooms/${n}/rename/`,{method:"POST",body:JSON.stringify({new_name:Qe})}),Oe(null)},zo=async(t,n)=>{t.stopPropagation(),window.confirm("KanalÄ± silmek istediÄŸine emin misin?")&&await w(`${p}/rooms/${n}/delete/`,{method:"POST"})},Io=async t=>{t.preventDefault(),ht.trim()&&(await w(`${p}/servers/create/`,{method:"POST",body:JSON.stringify({name:ht,is_public:nn})}),Qt(""),on(!1),ut(!1),_e(!1))},Ro=async(t,n)=>{t.preventDefault(),ft.trim()&&(await w(`${p}/categories/create/`,{method:"POST",body:JSON.stringify({server_id:n,name:ft})}),qt(""),bt(null))},To=async(t,n)=>{t.preventDefault(),vt.trim()&&(await w(`${p}/categories/${n}/create_room/`,{method:"POST",body:JSON.stringify({name:vt,channel_type:tn})}),en(""),yt(null))};return e.jsxs("div",{style:{display:"flex",width:"100%",height:"100%"},children:[le&&e.jsx("div",{style:x.modalOverlay,onClick:()=>Le(null),children:e.jsxs("div",{style:{...x.selectionModalContent,width:"250px"},onClick:t=>t.stopPropagation(),children:[e.jsx("h4",{style:{color:"white",marginTop:0,borderBottom:"1px solid #4f545c",paddingBottom:10},children:le.name}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[le.type==="room"&&e.jsxs("button",{onClick:Zn,style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(we,{})," Kanal AyarlarÄ±"]}),e.jsxs("button",{onClick:Vn,style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(Jo,{})," Yeniden AdlandÄ±r"]}),e.jsxs("button",{onClick:Xn,style:{backgroundColor:"#da373c",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(ze,{})," Sil"]})]}),e.jsx("button",{style:{marginTop:15,background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",width:"100%"},onClick:()=>Le(null),children:"Ä°ptal"})]})}),zn&&e.jsx("div",{style:x.modalOverlay,onClick:()=>pt(!1),children:e.jsxs("div",{style:x.selectionModalContent,onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[e.jsxs("h3",{style:{color:"white",margin:0},children:["Bizi Destekle ",e.jsx(pn,{color:"#eb459e"})]}),e.jsx(fe,{style:{cursor:"pointer",color:"#b9bbbe"},onClick:()=>pt(!1)})]}),e.jsxs("div",{style:{backgroundColor:"#1e1f22",padding:15,borderRadius:8,marginBottom:15},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:10},children:[e.jsx(Go,{color:"#FFDD00",size:24}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{color:"white",fontWeight:"bold"},children:"Buy Me a Coffee"}),e.jsx("div",{style:{fontSize:"0.8em",color:"#b9bbbe"},children:"En kolay destek yÃ¶ntemi"})]})]}),e.jsx("button",{onClick:()=>window.open(Me.coffee,"_blank"),style:{width:"100%",padding:10,backgroundColor:"#FFDD00",border:"none",borderRadius:6,fontWeight:"bold",cursor:"pointer"},children:"Kahve Ismarla â˜•"})]}),e.jsxs("div",{style:{backgroundColor:"#1e1f22",padding:15,borderRadius:8},children:[e.jsxs("h4",{style:{margin:"0 0 10px 0",color:"white",textAlign:"left"},children:[e.jsx(Uo,{color:"#f7931a"})," Kripto ile Destek"]}),e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"Solana (SOL)"}),e.jsx("button",{onClick:()=>St(Me.sol,"sol"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:mt==="sol"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(We,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:Me.sol})]}),e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"Ethereum (ETH)"}),e.jsx("button",{onClick:()=>St(Me.eth,"eth"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:mt==="eth"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(We,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:Me.eth})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"USDT (TRC20)"}),e.jsx("button",{onClick:()=>St(Me.usdt,"usdt"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:mt==="usdt"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(We,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:Me.usdt})]})]})]})}),e.jsxs("div",{style:x.serverRail,children:[e.jsx("div",{style:{...x.serverIcon,backgroundColor:ce==="home"?"#5865f2":"#313338",width:"56px",height:"56px"},onClick:()=>{De("home"),v()},title:"Ana Sayfa",children:e.jsx("img",{src:"https://media.pawscord.com/assets/logo.png",alt:"Pawscord",style:{width:"48px",height:"48px",objectFit:"contain"},onError:t=>{t.target.style.display="none"}})}),e.jsx("div",{style:x.separator}),u&&u.map((t,n)=>{const r=t.name.substring(0,2).toUpperCase(),a=ce===t.id,g=Sn===t.id,L=wn===n&&!g,d=Object.keys(Ue).filter(D=>D.startsWith("room-")&&t.categories?.some(ke=>ke.rooms?.some(ge=>`room-${ge.slug}`===D))).reduce((D,ke)=>D+(Ue[ke]||0),0);return e.jsxs("div",{style:{position:"relative",marginBottom:"8px"},children:[L&&dt==="before"&&e.jsx("div",{style:{position:"absolute",top:"-4px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:"#43b581",borderRadius:"2px",zIndex:1e3,boxShadow:"0 0 8px rgba(67, 181, 129, 0.6)"}}),e.jsxs("div",{draggable:!0,onDragStart:D=>eo(D,t.id,n),onDragOver:D=>to(D,n),onDragEnd:no,onDrop:D=>oo(D,n),style:{...x.serverIcon,backgroundColor:a?"#5865f2":"#313338",cursor:g?"grabbing":"grab",position:"relative",transition:"opacity 0.2s ease, transform 0.1s ease",opacity:g?.4:1,marginBottom:0},onClick:()=>Un(t),onContextMenu:D=>qn(D,t),onMouseDown:D=>{D.currentTarget.style.cursor="grabbing",D.currentTarget.style.transform="scale(0.95)"},onMouseUp:D=>{D.currentTarget.style.cursor="grab",D.currentTarget.style.transform="scale(1)"},title:t.name,children:[t.icon?e.jsx(xn,{src:t.icon,alt:t.name,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):e.jsx("span",{style:{fontWeight:"bold",fontSize:"14px",color:"white"},children:r}),d>0&&e.jsx("div",{style:x.serverBadge,children:d>99?"99+":d})]}),L&&dt==="after"&&e.jsx("div",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:"#43b581",borderRadius:"2px",zIndex:1e3,boxShadow:"0 0 8px rgba(67, 181, 129, 0.6)"}})]},t.id)}),e.jsx("div",{style:{...x.serverIcon,backgroundColor:"#23a559",color:"white",marginTop:"10px"},onClick:po,title:"Sunucu KeÅŸfet",children:e.jsx(un,{size:24})}),e.jsx("div",{style:{...x.serverIcon,background:"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)",color:"#000",fontWeight:"bold",cursor:"pointer"},onClick:rt,title:"Premium MaÄŸaza",children:"ğŸ›’"}),e.jsx("div",{style:{...x.serverIcon,backgroundColor:"#23a559",color:"white"},onClick:()=>_e(!0),title:"Ekle",children:e.jsx(Fe,{size:20})})]}),e.jsxs("div",{style:x.sidebar,children:[ce==="home"&&e.jsxs("div",{style:x.topSection,children:[e.jsx("div",{style:x.headerTitle,children:"Ana Sayfa"}),e.jsxs("div",{style:x.channelsContainer,children:[e.jsx("div",{style:{...x.roomItem,marginBottom:5},onClick:()=>B("ai"),children:e.jsxs("div",{style:x.channelContent,children:[e.jsx(bn,{style:{marginRight:8}})," ",e.jsx("span",{children:"PawPaw AI"})]})}),e.jsx("div",{style:{...x.roomItem,marginBottom:15},onClick:()=>B("sinyal-bot"),children:e.jsxs("div",{style:x.channelContent,children:[e.jsx(fn,{style:{marginRight:8}})," ",e.jsx("span",{children:"Sinyal Bot"})]})})]}),e.jsxs("div",{style:x.dmListContainer,children:[e.jsxs("div",{style:x.groupHeader,children:[e.jsx("span",{children:"Ã–ZEL MESAJLAR"}),e.jsxs("button",{onClick:l,style:{...x.addDmButton,position:"relative"},children:[e.jsx(zt,{})," Ekle",he>0&&e.jsx("div",{style:{position:"absolute",top:"-6px",right:"-6px",backgroundColor:"#ed4245",color:"white",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",border:"2px solid #2b2d31",zIndex:1},children:he>9?"9+":he})]})]}),!T||T.length===0?e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#72767d",fontSize:"0.9em"},children:["HenÃ¼z Ã¶zel mesaj yok.",e.jsx("br",{}),"ArkadaÅŸ ekle butonuna tÄ±klayarak baÅŸla!"]}):T.map(t=>{const n=t.participants.find(a=>a.username!==f);if(!n)return null;const r=Ue[`dm-${t.id}`]||0;return e.jsxs("div",{style:{...x.dmItem,backgroundColor:P===t.id?"rgba(255,255,255,0.1)":"transparent",position:"relative"},onClick:()=>I(t.id,n.username),onContextMenu:a=>{a.preventDefault(),be({x:a.clientX,y:a.clientY,conversation:t})},onDragOver:a=>{a.preventDefault(),a.stopPropagation(),a.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.3)"},onDragLeave:a=>{a.preventDefault(),a.currentTarget.style.backgroundColor=P===t.id?"rgba(255,255,255,0.1)":"transparent"},onDrop:a=>{a.preventDefault(),a.stopPropagation(),a.currentTarget.style.backgroundColor=P===t.id?"rgba(255,255,255,0.1)":"transparent";const g=a.dataTransfer.files;g&&g.length>0&&(I(t.id,n.username),setTimeout(()=>{const L=document.querySelector('input[type="file"]');if(L){const d=new DataTransfer;for(let D=0;D<g.length;D++)d.items.add(g[D]);L.files=d.files,L.dispatchEvent(new Event("change",{bubbles:!0}))}},100),h.success(`ğŸ“ ${g.length} dosya ${n.username}'a gÃ¶nderiliyor...`))},children:[e.jsxs("div",{style:{position:"relative",width:32,height:32},children:[e.jsx(xn,{src:it(n.avatar,n.username),style:{...x.avatarSmall,width:32,height:32},alt:""}),(()=>{const g=se.includes(n.username)?"#23a559":"#80848e";return e.jsx("div",{style:{position:"absolute",bottom:-2,right:-2,width:12,height:12,borderRadius:"50%",backgroundColor:g,border:"2px solid #2b2d31"}})})()]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginLeft:8,overflow:"hidden"},children:[e.jsx("span",{style:{fontWeight:r?"bold":"normal",color:"#dbdee1"},children:n.username}),(()=>{const g=(de?.find(d=>d.username===n.username)||n).current_activity;if(!g)return null;const L=[];return g.steam&&L.push(e.jsxs("span",{style:{fontSize:"10px",color:"#66c0f4",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ğŸ® ",g.steam.name]},"steam")),g.spotify&&L.push(e.jsxs("span",{style:{fontSize:"10px",color:"#1db954",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ğŸµ ",g.spotify.name]},"spotify")),L.length===0&&(g.type==="listening"?L.push(e.jsxs("span",{style:{fontSize:"10px",color:"#1db954",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ğŸµ ",g.name]},"leg-sp")):g.type==="playing"&&L.push(e.jsxs("span",{style:{fontSize:"10px",color:"#66c0f4",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ğŸ® ",g.name]},"leg-st"))),L})()]}),r>0&&e.jsx("span",{style:x.unreadBadge,children:r})]},t.id)})]})]}),ce!=="home"&&u&&e.jsx("div",{style:x.topSection,children:u.filter(t=>t.id===ce).map(t=>{const n=t.owner_username===f||k,r=n||t.my_permissions?.is_owner;return e.jsxs("div",{children:[e.jsxs("div",{style:x.serverHeader,children:[e.jsx("h3",{style:{maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name}),e.jsxs("div",{style:{display:"flex",gap:"5px"},children:[e.jsx("button",{style:x.iconBtn,onClick:a=>go(a,t),title:"Davet Linki",children:e.jsx(Vo,{})}),n&&e.jsx("button",{style:x.iconBtn,onClick:a=>{a.stopPropagation(),bt(t.id)},title:"Kategori Ekle",children:e.jsx(Fe,{})}),r&&e.jsx("button",{style:x.iconBtn,onClick:a=>{a.stopPropagation(),me&&me(t)},title:"Sunucu AyarlarÄ±",children:e.jsx(we,{})})]})]}),Wn===t.id&&e.jsxs("form",{onSubmit:a=>Ro(a,t.id),style:x.addCategoryForm,children:[e.jsx("input",{autoFocus:!0,placeholder:"Kategori AdÄ±...",value:ft,onChange:a=>qt(a.target.value),style:x.addRoomInput}),e.jsxs("div",{style:x.addRoomControls,children:[e.jsx("button",{type:"submit",style:x.addRoomButton,children:"Ekle"}),e.jsx("button",{type:"button",onClick:()=>bt(null),style:{...x.addRoomButton,background:"#da373c"},children:"X"})]})]}),t.categories&&t.categories.map(a=>{const g=jn[a.id],L=Xt===`cat-${a.id}`;return e.jsxs("div",{style:{marginBottom:5},children:[e.jsxs("div",{style:x.categoryHeader,onClick:()=>Gn(a.id),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[g?e.jsx(Xo,{size:9}):e.jsx(Zo,{size:9}),L?e.jsx("form",{onSubmit:d=>So(d,a.id),onClick:d=>d.stopPropagation(),style:{marginLeft:5},children:e.jsx("input",{autoFocus:!0,value:Qe,onChange:d=>qe(d.target.value),onBlur:()=>Oe(null),style:x.inlineInput})}):e.jsx("span",{style:{marginLeft:5},children:a.name})]}),n&&e.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"5px"},children:[e.jsx("button",{style:x.iconBtn,onClick:d=>rn(d,"category",a.id,a.name),children:e.jsx(we,{size:10})}),e.jsx("button",{style:x.iconBtn,onClick:d=>{d.stopPropagation(),yt(a.id)},children:e.jsx(Fe,{size:10})})]})]}),Yn===a.id&&e.jsxs("form",{onSubmit:d=>To(d,a.id),style:{padding:"5px 10px"},children:[e.jsx("input",{autoFocus:!0,placeholder:"Kanal AdÄ±...",value:vt,onChange:d=>en(d.target.value),style:x.addRoomInput}),e.jsxs("select",{value:tn,onChange:d=>Jn(d.target.value),style:x.channelTypeSelect,children:[e.jsx("option",{value:"text",children:"ğŸ“ Metin"}),e.jsx("option",{value:"voice",children:"ğŸ¤ Sesli"}),e.jsx("option",{value:"kanban",children:"ğŸ“‹ Kanban Board"})]}),e.jsxs("div",{style:x.addRoomControls,children:[e.jsx("button",{type:"submit",style:x.addRoomButton,children:"Ekle"}),e.jsx("button",{type:"button",onClick:()=>yt(null),style:{...x.addRoomButton,background:"#da373c"},children:"X"})]})]}),!g&&a.rooms&&a.rooms.map(d=>{const D=S===d.slug,ke=Ue[`room-${d.slug}`]||0,ge=d.channel_type==="voice",ln=Xt===`room-${d.slug}`,wt=ge&&jt[d.slug]?jt[d.slug].length:0;return d.is_locked||d.is_private,ge&&d.user_limit&&wt>=d.user_limit,e.jsxs("div",{className:"channel-wrapper",children:[e.jsxs("div",{className:`channel-item ${ge?"voice-channel":"text-channel"} ${D?"active":""} ${Ne===d.slug?"voice-channel-drop-target":""}`,style:{...x.roomItem,marginLeft:8,backgroundColor:Ne===d.slug?"rgba(88, 101, 242, 0.2)":D?"rgba(88, 101, 242, 0.15)":"transparent",color:D?"#fff":"#949ba4",borderLeft:Ne===d.slug||D?"3px solid #5865f2":"3px solid transparent",paddingLeft:D?"5px":"8px",transition:"all 0.2s ease",borderRadius:"6px",margin:"2px 8px",position:"relative",...Ne===d.slug?{boxShadow:"inset 0 0 12px rgba(88, 101, 242, 0.15), 0 0 8px rgba(88, 101, 242, 0.2)",border:"1px dashed rgba(88, 101, 242, 0.5)"}:{}},onClick:()=>{ge?y(d.slug):B(d.slug)},onDragOver:N=>{ge&&(N.preventDefault(),N.dataTransfer.dropEffect="move",kt(d.slug))},onDragLeave:N=>{Ne===d.slug&&kt(null)},onDrop:N=>{if(N.preventDefault(),kt(null),!(!ge||!k))try{const Z=JSON.parse(N.dataTransfer.getData("application/json"));Z.username&&Z.fromChannel&&Z.fromChannel!==d.slug&&sn(Z.username,Z.fromChannel,d.slug)}catch(Z){console.error("Drop error:",Z)}},children:[e.jsxs("div",{style:x.channelContent,children:[ge&&e.jsx(Qo,{style:{...x.voiceIcon,color:D?"#43b581":"#949ba4",transition:"color 0.2s ease"}}),!ge&&e.jsx(we,{style:{...x.hashtagIcon,fontSize:"0.9em"}}),ln?e.jsx("form",{onSubmit:N=>Co(N,d.slug),onClick:N=>N.stopPropagation(),style:{flex:1},children:e.jsx("input",{autoFocus:!0,value:Qe,onChange:N=>qe(N.target.value),onBlur:()=>Oe(null),style:x.inlineInput})}):e.jsxs("span",{style:{...x.channelNameText,paddingLeft:"5px",fontWeight:D?"600":"normal",flex:1,display:"flex",alignItems:"center",gap:"6px"},children:[d.name,d.is_private&&e.jsx("span",{style:{fontSize:"0.7em",color:"#faa61a",border:"1px solid #faa61a",borderRadius:"3px",padding:"1px 4px"},children:"ğŸ”’"}),d.is_nsfw&&e.jsx("span",{style:{fontSize:"0.7em",color:"#f04747",border:"1px solid #f04747",borderRadius:"3px",padding:"1px 4px"},children:"18+"}),d.is_locked&&e.jsx("span",{style:{fontSize:"0.7em",color:"#949ba4",border:"1px solid #949ba4",borderRadius:"3px",padding:"1px 4px"},children:"ğŸ”"}),d.admin_only_chat&&e.jsx("span",{style:{fontSize:"0.7em",color:"#43b581",border:"1px solid #43b581",borderRadius:"3px",padding:"1px 4px"},children:"ğŸ“¢"})]}),ge&&e.jsxs("span",{style:{fontSize:"0.75em",color:wt>0?"#43b581":"#72767d",fontWeight:"500",marginLeft:"auto",marginRight:"4px"},children:["(",wt,"/",d.user_limit>0?d.user_limit:"âˆ",")"]})]}),n&&!ln&&e.jsx("div",{style:{display:"flex",gap:"3px",marginLeft:"5px"},children:e.jsx("button",{style:x.iconBtn,onClick:N=>rn(N,"room",d.slug,d.name),children:e.jsx(we,{size:12})})}),ke>0&&e.jsx("span",{style:x.unreadBadge,children:ke})]}),ge&&e.jsx("div",{style:{marginLeft:"28px",marginTop:"2px",marginBottom:"2px",padding:"0",position:"relative",zIndex:1},children:e.jsx(hr,{voiceUsers:jt,roomName:d.slug,currentUsername:f,remoteVolumes:Y,setRemoteVolume:_,isClientInThisChannel:S===d.slug,isPttActive:K,isAdmin:k,voiceChannels:a.rooms.filter(N=>N.is_voice),friendsList:ye,getDeterministicAvatar:te,allUsers:de,onUserAction:(N,Z,dn)=>{if(N==="profile")ee?.(Z);else if(N==="message"||N==="dm"){const cn=T.find(Bo=>Bo.participants.some(Mo=>Mo.username===Z));cn?I(cn.id,Z):console.log(`ğŸ’¬ ${Z} ile DM konuÅŸmasÄ± bulunamadÄ±. Ã–nce arkadaÅŸ ekleyin.`)}else N==="add_friend"?ao(Z):N==="remove_friend"?lo(Z):N==="mute_local"?console.log(`ğŸ”‡ ${Z} lokal olarak sessize alÄ±ndÄ±`):N==="move"&&dn?sn(Z,d.slug,dn):N==="kick"?Qn(Z,d.slug):N==="server_mute"?console.log(`ğŸ”‡ ${Z} sunucu susturma yapÄ±lacak`):N==="server_deafen"&&console.log(`ğŸ™‰ ${Z} sunucu saÄŸÄ±rlaÅŸtÄ±rma yapÄ±lacak`)}})})]},d.id)})]},a.id)})]},t.id)})}),In&&ae.createPortal(e.jsx("div",{style:x.modalOverlay,onClick:()=>_e(!1),children:e.jsxs("div",{style:x.selectionModalContent,onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{style:{color:"white",margin:0},children:"Ne Yapmak Ä°stersin?"}),e.jsxs("button",{style:{...x.selectionButton,backgroundColor:"#5865f2"},onClick:()=>{_e(!1),ut(!0)},children:[e.jsx(qo,{})," Sunucu OluÅŸtur"]}),e.jsxs("button",{style:{...x.selectionButton,backgroundColor:"#23a559"},onClick:()=>{_e(!1),l()},children:[e.jsx(zt,{})," ArkadaÅŸ Ekle"]}),e.jsx("button",{style:{marginTop:10,background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},onClick:()=>_e(!1),children:"Ä°ptal"})]})}),document.body),Rn&&ae.createPortal(e.jsx("div",{style:x.modalOverlay,children:e.jsxs("form",{onSubmit:Io,style:x.addCategoryForm,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0,color:"white"},children:"Sunucu OluÅŸtur"}),e.jsx(fe,{style:{cursor:"pointer",color:"#b9bbbe"},onClick:()=>ut(!1)})]}),e.jsx("p",{style:{color:"#b9bbbe",fontSize:"0.9em"},children:"Sunucuna bir isim ver."}),e.jsx("input",{autoFocus:!0,placeholder:"Sunucu AdÄ±...",value:ht,onChange:t=>Qt(t.target.value),style:x.addRoomInput}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",margin:"10px 0"},children:[e.jsx("input",{type:"checkbox",id:"publicCheck",checked:nn,onChange:t=>on(t.target.checked),style:{width:"16px",height:"16px",accentColor:"#23a559"}}),e.jsx("label",{htmlFor:"publicCheck",style:{color:"#dbdee1",fontSize:"0.9em",cursor:"pointer"},children:"Herkese AÃ§Ä±k (KeÅŸfet'te GÃ¶rÃ¼nÃ¼r)"})]}),e.jsx("button",{type:"submit",style:x.addRoomButton,children:"OluÅŸtur"})]})}),document.body),e.jsxs("div",{style:x.bottomSection,children:[k&&e.jsxs("button",{onClick:Je,style:{width:"100%",padding:"12px",marginBottom:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",color:"white",fontWeight:"600",fontSize:"0.95em",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:[e.jsx(we,{size:16}),e.jsx("span",{children:"Admin Panel"})]}),e.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"10px",padding:"5px",backgroundColor:"#1e1f22",borderRadius:"8px",overflowX:"auto",scrollbarWidth:"thin"},children:[Re&&e.jsx("button",{onClick:Re,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ’° Payment Panel",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ’°"}),Ge&&e.jsx("button",{onClick:Ge,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ›’ Store",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ›’"}),s&&e.jsx("button",{onClick:s,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ Daily Rewards",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ"}),W&&e.jsx("button",{onClick:W,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ“Š API Usage",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ“Š"}),Te&&e.jsx("button",{onClick:Te,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ“¥ Export Jobs",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ“¥"}),$t&&e.jsx("button",{onClick:$t,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ“¢ Scheduled Announcements",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ“¢"}),Dt&&e.jsx("button",{onClick:Dt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ® Mini Games",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ®"}),Lt&&e.jsx("button",{onClick:Lt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ“‚ Projects",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ“‚"}),_t&&e.jsx("button",{onClick:_t,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ğŸ¨ Avatar Studio",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ğŸ¨"})]}),(C||z)&&e.jsxs("div",{style:{padding:"8px",backgroundColor:"#232428",borderTop:"1px solid #1e1f22",borderBottom:"1px solid #1e1f22"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",padding:"0 4px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("img",{src:it(b?.avatar,f),alt:f,style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid #23a559",boxShadow:"0 0 8px rgba(35, 165, 89, 0.5)"},onError:t=>{t.target.onerror=null,t.target.src=te(f)}}),e.jsx("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:M?"#f04747":"#23a559",border:"2px solid #232428",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px"},children:M?"ğŸ”‡":"ğŸ¤"})]}),e.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[e.jsx("div",{style:{color:z?"#eba61e":"#23a559",fontWeight:"bold",fontSize:"0.8em"},children:z?"BaÄŸlanÄ±lÄ±yor...":"Ses BaÄŸlandÄ±"}),e.jsxs("div",{style:{fontSize:"0.7em",color:"#b9bbbe",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[S," / Genel"]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"5px"},children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),H()},style:{flex:1,background:oe?"#23a559":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:oe?"KamerayÄ± Kapat":"KamerayÄ± AÃ§",children:oe?e.jsx(er,{size:16}):e.jsx(tr,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),ue()},style:{flex:1,background:Se?"#23a559":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:Se?"PaylaÅŸÄ±mÄ± Durdur":"Ekran PaylaÅŸ",children:e.jsx(nr,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),pe()},style:{flex:1,background:M?"#da373c":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:M?"Sesi AÃ§":"Sessize Al",children:M?e.jsx(or,{size:16}):e.jsx(rr,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),m()},style:{flex:1,background:c?"#da373c":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:c?"Duy":"SaÄŸÄ±rlaÅŸtÄ±r",children:c?e.jsx(ir,{size:18}):e.jsx(sr,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),window.dispatchEvent(new CustomEvent("openVoiceSettings"))},style:{flex:1,background:"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:"Ses AyarlarÄ±",children:e.jsx(we,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),typeof F=="function"?F():console.error("leaveVoiceChat is not a function")},style:{flex:1,background:"#da373c",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:"Sesli Kanaldan Ã‡Ä±k",children:e.jsx(ar,{size:16})})]})]}),e.jsxs("div",{onClick:()=>pt(!0),style:{backgroundColor:"#1e1f22",padding:C||z?"6px 10px":"10px 14px",margin:"0 8px 8px 8px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:C||z?"8px":"12px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid transparent",background:"linear-gradient(135deg, rgba(235, 69, 158, 0.06) 0%, rgba(88, 101, 242, 0.06) 100%)",overflow:"hidden",flexShrink:0,minHeight:C||z?"36px":"44px"},onMouseEnter:t=>{t.currentTarget.style.background="linear-gradient(135deg, rgba(235, 69, 158, 0.12) 0%, rgba(88, 101, 242, 0.12) 100%)",t.currentTarget.style.borderColor="#eb459e",t.currentTarget.style.transform="scale(1.01)"},onMouseLeave:t=>{t.currentTarget.style.background="linear-gradient(135deg, rgba(235, 69, 158, 0.06) 0%, rgba(88, 101, 242, 0.06) 100%)",t.currentTarget.style.borderColor="transparent",t.currentTarget.style.transform="scale(1)"},title:"GeliÅŸtiriciye Destek Ol",children:[e.jsx(pn,{style:{color:"#eb459e",fontSize:C||z?"14px":"18px",flexShrink:0,animation:"heartPulse 2s ease-in-out infinite"}}),e.jsx("div",{style:{flex:1,textAlign:"left",overflow:"hidden"},children:e.jsx("div",{style:{color:"white",fontWeight:"600",fontSize:C||z?"11px":"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:C||z?"Destekle":"Developer'Ä± Destekle"})}),e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(235, 69, 158, 0.2) 0%, rgba(88, 101, 242, 0.2) 100%)",padding:C||z?"2px 6px":"4px 8px",borderRadius:"10px",fontSize:C||z?"10px":"12px",color:"#eb459e",fontWeight:"bold",flexShrink:0},children:"â˜•"})]}),e.jsx(cr,{currentUserProfile:b,currentUsername:f,getDeterministicAvatar:te,onProfileClick:J,updateAvailable:$e,onUpdateClick:ot})]})]}),Cn&&ae.createPortal(e.jsx("div",{style:{...x.modalOverlay,display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>Ae(!1),children:e.jsxs("div",{style:{...x.selectionModalContent,width:"600px",maxWidth:"90vw",maxHeight:"80vh",overflowY:"auto"},onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:15,borderBottom:"1px solid #1e1f22"},children:[e.jsx("h3",{style:{color:"white",margin:0,fontSize:"1.5em"},children:"ğŸŒ Sunucuya KatÄ±l"}),e.jsx(fe,{style:{cursor:"pointer",color:"#b9bbbe",fontSize:"1.3em"},onClick:()=>Ae(!1)})]}),e.jsxs("div",{style:{backgroundColor:"#202225",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("p",{style:{color:"#b9bbbe",fontSize:"0.9em",marginTop:0},children:"Elinizde bir davet kodu veya linki varsa aÅŸaÄŸÄ±ya yapÄ±ÅŸtÄ±rÄ±n."}),e.jsxs("form",{onSubmit:xo,style:{display:"flex",gap:"10px"},children:[e.jsx("input",{value:st,onChange:t=>Ot(t.target.value),placeholder:"https://www.pawscord.com/invite/...",style:{flex:1,padding:"10px",borderRadius:"4px",border:"1px solid #1e1f22",backgroundColor:"#313338",color:"white",outline:"none"}}),e.jsx("button",{type:"submit",style:{backgroundColor:"#5865f2",color:"white",border:"none",borderRadius:"4px",padding:"0 20px",fontWeight:"bold",cursor:"pointer"},children:"KatÄ±l"})]})]}),e.jsxs("h4",{style:{textAlign:"left",color:"#dbdee1",borderBottom:"1px solid #4f545c",paddingBottom:"5px",marginBottom:"10px"},children:[e.jsx(un,{style:{marginRight:8}})," TopluluklarÄ± KeÅŸfet"]}),Gt.length===0?e.jsx("p",{style:{color:"#b9bbbe",fontStyle:"italic"},children:"Åu an katÄ±labileceÄŸin halka aÃ§Ä±k sunucu yok."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Gt.map(t=>e.jsxs("div",{style:{backgroundColor:"#2b2d31",padding:"10px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #1f2023"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[t.icon?e.jsx("img",{src:`https://www.pawscord.com${t.icon}`,alt:"",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white"},children:t.name.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{color:"white",fontWeight:"bold"},children:t.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"0.8em"},children:[t.member_count," Ãœye â€¢ Kurucu: ",t.owner]})]})]}),e.jsx("button",{onClick:()=>uo(t.id),style:{backgroundColor:"#23a559",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"KatÄ±l"})]},t.id))})]})}),document.body),Tn&&Ft&&e.jsx(br,{onClose:()=>{Et(!1),Kt(null)},server:Ft,fetchWithAuth:w,apiBaseUrl:p}),At&&ae.createPortal(e.jsx(yr,{type:At,onClose:()=>Bn(null),fetchWithAuth:w,apiBaseUrl:p}),document.body),Mn&&ae.createPortal(e.jsx(pr,{room:vn,conversation:P,onClose:()=>$n(!1),fetchWithAuth:w,apiBaseUrl:p}),document.body),Dn&&ae.createPortal(e.jsx(vr,{serverId:ce,onClose:()=>Nt(!1),fetchWithAuth:w,apiBaseUrl:p}),document.body),Ln&&ae.createPortal(e.jsx(kr,{serverId:ce,onClose:()=>_n(!1),fetchWithAuth:w,apiBaseUrl:p}),document.body),Pn&&ae.createPortal(e.jsx(wr,{onClose:()=>Pe(!1),onOpenWebhooks:()=>{Pe(!1),Nt(!0)},onOpenAuditLogs:()=>{Pe(!1),Ht(!0)},onOpenReports:()=>{Pe(!1),Wt(!0)},onOpenVanityURL:()=>{Pe(!1),Yt(!0)},onOpenAutoResponder:()=>{Pe(!1),Jt(!0)}}),document.body),On&&ae.createPortal(e.jsx(Cr,{serverId:ce,onClose:()=>Ht(!1),fetchWithAuth:w,apiBaseUrl:p}),document.body),En&&ae.createPortal(e.jsx(Ir,{serverId:ce,onClose:()=>Wt(!1),fetchWithAuth:w,apiBaseUrl:p}),document.body),Fn&&ae.createPortal(e.jsx(ur,{serverId:ce,onClose:()=>Yt(!1),fetchWithAuth:w,apiBaseUrl:p}),document.body),Kn&&ae.createPortal(e.jsx(xr,{serverId:ce,onClose:()=>Jt(!1),fetchWithAuth:w,apiBaseUrl:p}),document.body),U&&ae.createPortal(e.jsx(Tr,{x:U.x,y:U.y,server:U.server,isOwner:U.isOwner,onClose:()=>Ce(null),onLeaveServer:()=>ro(U.server.id),onServerSettings:()=>{me(U.server),Ce(null)},onMuteServer:()=>{const t=U.server.id;Zt(n=>{const r=[...n,t];return localStorage.setItem("mutedServers",JSON.stringify(r)),r}),Ce(null)},onUnmuteServer:()=>{const t=U.server.id;Zt(n=>{const r=n.filter(a=>a!==t);return localStorage.setItem("mutedServers",JSON.stringify(r)),r}),Ce(null)},onMoveUp:()=>an(U.server.id,"up"),onMoveDown:()=>an(U.server.id,"down"),onCopyInvite:()=>co(U.server.id),onChangeIcon:()=>{io(U.server.id),Ce(null)},onChangePrivacy:()=>{so(U.server.id),Ce(null)},onDeleteServer:async()=>{U.server.id,U.server.name,Vt({server:U.server,isOpen:!0}),Ce(null)},canMoveUp:u&&u.findIndex(t=>t.id===U.server.id)>0,canMoveDown:u&&u.findIndex(t=>t.id===U.server.id)<u.length-1,isMuted:Hn.includes(U.server.id)}),document.body),xe&&ae.createPortal((()=>{const t=xe.conversation.participants.find(r=>r.username!==f);if(!t)return null;const n=[{icon:"ğŸ‘¤",label:"Profili GÃ¶rÃ¼ntÃ¼le",color:"#dbdee1",onClick:()=>bo(t.username),divider:!1},{icon:"ğŸ’¬",label:"Mesaj GÃ¶nder",color:"#dbdee1",onClick:()=>{const r=xe.conversation.participants?.find(a=>a.username!==f);I(xe.conversation.id,r?.username),be(null)},divider:!0},{icon:"ğŸ«",label:"Sunucuya Davet Et",color:"#5865f2",onClick:()=>fo(t.username),divider:!1},{icon:"ğŸ“Œ",label:"KonuÅŸmayÄ± Sabitle",color:"#dbdee1",onClick:()=>jo(xe.conversation.id),divider:!0},{icon:"ğŸ”‡",label:"Sessize Al",color:"#b9bbbe",onClick:()=>vo(t.username,xe.conversation.id),divider:!1},{icon:"ğŸ‘ï¸â€ğŸ—¨ï¸",label:"KonuÅŸmayÄ± Gizle",color:"#b9bbbe",onClick:()=>ho(xe.conversation.id),divider:!0},{icon:"ğŸ—‘ï¸",label:"KonuÅŸmayÄ± Temizle",color:"#f23f42",onClick:()=>mo(xe.conversation.id),divider:!1},{icon:"ğŸš«",label:"KullanÄ±cÄ±yÄ± Engelle",color:"#ed4245",onClick:()=>ko(t.username),divider:!1}];return e.jsxs("div",{onClick:r=>r.stopPropagation(),style:{position:"fixed",top:xe.y,left:xe.x,backgroundColor:"#111214",border:"1px solid #2b2d31",borderRadius:"8px",minWidth:"220px",boxShadow:"0 8px 24px rgba(0,0,0,0.4), 0 0 1px rgba(0,0,0,0.5)",zIndex:999999,overflow:"hidden",animation:"contextMenuSlide 0.1s ease-out"},children:[e.jsxs("div",{style:{padding:"12px",backgroundColor:"#1e1f22",borderBottom:"1px solid #2b2d31",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("img",{src:it(t.avatar,t.username),style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"},alt:""}),e.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[e.jsx("div",{style:{color:"#f2f3f5",fontSize:"14px",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.username}),e.jsx("div",{style:{color:"#b9bbbe",fontSize:"12px",marginTop:"2px"},children:se.includes(t.username)?"ğŸŸ¢ Ã‡evrimiÃ§i":"âš« Ã‡evrimdÄ±ÅŸÄ±"})]})]}),n.map((r,a)=>e.jsxs(Ie.Fragment,{children:[e.jsxs("div",{onClick:r.onClick,style:{padding:"10px 12px",cursor:"pointer",color:r.color,fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.1s ease",backgroundColor:"transparent"},onMouseEnter:g=>{g.currentTarget.style.backgroundColor=r.color==="#f23f42"||r.color==="#ed4245"?"rgba(237, 66, 69, 0.15)":"rgba(88, 101, 242, 0.1)",g.currentTarget.style.paddingLeft="16px"},onMouseLeave:g=>{g.currentTarget.style.backgroundColor="transparent",g.currentTarget.style.paddingLeft="12px"},children:[e.jsx("span",{style:{fontSize:"16px",width:"20px",textAlign:"center"},children:r.icon}),e.jsx("span",{style:{flex:1},children:r.label})]}),r.divider&&e.jsx("div",{style:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 8px"}})]},a))]})})(),document.body),Be?.isOpen&&e.jsx(Mr,{isOpen:Be.isOpen,onClose:()=>Vt(null),onConfirm:async()=>{const t=Be.server.id,n=Be.server.name;try{const r=await w(`${p}/servers/${t}/delete/`,{method:"DELETE"});if(r.ok)console.log("âœ… Sunucu baÅŸarÄ±yla silindi!"),h.success(`"${n}" sunucusu baÅŸarÄ±yla silindi!`,5e3),De("home"),v(),window.location.reload();else{const a=await r.json();console.error("âŒ Sunucu silinirken hata:",a),h.error(`Hata: ${a.error||"Sunucu silinirken bir hata oluÅŸtu"}`)}}catch(r){console.error("âŒ Sunucu silme hatasÄ±:",r),h.error("Sunucu silinirken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}},title:"âš ï¸ Sunucuyu Sil",message:`"${Be.server.name}" sunucusunu KALÄ°CÄ° OLARAK silmek Ã¼zeresiniz!`,confirmText:"Sunucuyu Sil",cancelText:"Ä°ptal",type:"danger",requireTextConfirmation:!0,confirmationText:Be.server.name,inputPlaceholder:`Onaylamak iÃ§in "${Be.server.name}" yazÄ±n...`,dangerDetails:["Sunucudaki TÃœM kanallar silinecek","Sunucudaki TÃœM mesajlar silinecek","TÃœM Ã¼yeler atÄ±lacak","TÃ¼m roller ve ayarlar silinecek"]}),Xe&&Xe.isOpen&&ae.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999999},onClick:()=>Ze(null),children:e.jsxs("div",{onClick:t=>t.stopPropagation(),style:{backgroundColor:"#2b2d31",borderRadius:"12px",width:"400px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #3f4147",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#f2f3f5",margin:0,fontSize:"18px"},children:"ğŸ« Sunucuya Davet Et"}),e.jsxs("p",{style:{color:"#b9bbbe",margin:"8px 0 0",fontSize:"14px"},children:[e.jsx("strong",{children:Xe.username})," kullanÄ±cÄ±sÄ±nÄ± hangi sunucuya davet etmek istiyorsunuz?"]})]}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"12px"},children:u.map(t=>e.jsxs("div",{onClick:()=>yo(t.id,Xe.username),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"rgba(255,255,255,0.02)",marginBottom:"8px"},onMouseEnter:n=>{n.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.2)"},onMouseLeave:n=>{n.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},children:[t.icon?e.jsx("img",{src:t.icon,alt:t.name,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white",fontSize:"16px"},children:t.name?.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{color:"#f2f3f5",fontWeight:"600"},children:t.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"12px"},children:[t.member_count||t.categories?.length||0," Ã¼ye"]})]}),e.jsx("div",{style:{color:"#5865f2",fontSize:"20px"},children:"â†’"})]},t.id))}),e.jsx("div",{style:{padding:"16px 20px",borderTop:"1px solid #3f4147",textAlign:"center"},children:e.jsx("button",{onClick:()=>Ze(null),style:{backgroundColor:"#4f545c",color:"#f2f3f5",border:"none",padding:"10px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"600"},children:"Ä°ptal"})})]})}),document.body),An&&Ve&&(()=>{const n=u?.find(r=>r.id===Ve.server_id)?.roles||[];return e.jsx(Br,{room:Ve,serverId:Ve.server_id||ce,serverRoles:n,onClose:()=>{xt(!1),gt(null)},onUpdate:r=>{xt(!1),gt(null)},fetchWithAuth:w,apiBaseUrl:p})})()]})};if(typeof document<"u"){const l=document.createElement("style");l.textContent=`
        /* Kanal Hover Efektleri */
        .channel-item {
            position: relative;
            overflow: hidden;
        }
        
        .channel-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 50%;
            background: linear-gradient(90deg, rgba(88, 101, 242, 0.4), transparent);
            transition: width 0.3s ease;
            border-radius: 0 4px 4px 0;
        }
        
        .channel-item:hover::before {
            width: 4px;
        }
        
        .channel-item:hover {
            background: rgba(255, 255, 255, 0.05) !important;
            color: #fff !important;
            transform: translateX(2px);
        }
        
        .channel-item.active {
            background: rgba(88, 101, 242, 0.15) !important;
            box-shadow: 0 2px 8px rgba(88, 101, 242, 0.2);
        }
        
        /* Voice Channel Ã–zel Animasyonlar */
        .voice-channel.active {
            background: linear-gradient(90deg, rgba(67, 181, 129, 0.15), rgba(88, 101, 242, 0.1)) !important;
        }
        
        .voice-channel:hover {
            background: rgba(67, 181, 129, 0.08) !important;
        }
        
        /* KullanÄ±cÄ± Listesi Fade-in Animasyonu */
        .channel-wrapper {
            animation: channelFadeIn 0.3s ease;
        }
        
        @keyframes channelFadeIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Kanal Ä°kon Pulse Animasyonu (Aktif Sesli Kanal iÃ§in) */
        
    /* ğŸ’ Developer Support Heart Animation */
    @keyframes heartPulse {
        0%, 100% { transform: scale(1); }
        25% { transform: scale(1.15); }
        50% { transform: scale(1); }
        75% { transform: scale(1.1); }
    }
    
    .voice-channel.active svg {
            animation: iconPulse 2s infinite;
        }
        
        @keyframes iconPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }
        
        /* KullanÄ±cÄ± SayÄ±sÄ± Badge Pulse */
        .voice-channel.active > div > div:last-child {
            animation: badgePulse 1.5s infinite;
        }
        
        @keyframes badgePulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(67, 181, 129, 0.4);
            }
            50% {
                box-shadow: 0 0 0 4px rgba(67, 181, 129, 0);
            }
        }

        /* Context Menu Slide Animation */
        @keyframes contextMenuSlide {
            from {
                opacity: 0;
                transform: translateY(-8px) scale(0.96);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
    `,document.head.querySelector("style[data-roomlist-animations]")||(l.setAttribute("data-roomlist-animations","true"),document.head.appendChild(l))}const Ur=Ie.memo($r);export{Ur as default};

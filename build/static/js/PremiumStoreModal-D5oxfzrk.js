import{r as s,d as e,aS as B,i as F,bw as L,bx as R,af as j}from"./react-core-DrOm_csO.js";import{a as $,t as i}from"./index-BYhWpPLp.js";import W from"./CoinStoreModal-D8to67YD.js";const Y=({onClose:g})=>{const{user:N,token:p}=$(),[c,u]=s.useState("premium"),[E,h]=s.useState(null),[S,C]=s.useState([]),[z,v]=s.useState([]),[y,l]=s.useState(!0),[I,f]=s.useState(!1),d="https://api.pawscord.com";s.useEffect(()=>{b(),T(),k()},[]);const b=async()=>{try{const a=await(await fetch(`${d}/api/premium/status/`,{headers:{Authorization:`Bearer ${p}`}})).json();h(a)}catch(r){console.error("Premium status hatasƒ±:",r)}},T=async()=>{try{const a=await(await fetch(`${d}/api/store/items/`)).json();C(a),l(!1)}catch(r){console.error("Store items hatasƒ±:",r),l(!1)}},k=async()=>{try{const a=await(await fetch(`${d}/api/store/inventory/`,{headers:{Authorization:`Bearer ${p}`}})).json(),n=Array.isArray(a)?a:[];v(n),console.log("üì¶ [INVENTORY] Kullanƒ±cƒ± envanteri:",n)}catch(r){console.error("Inventory hatasƒ±:",r),v([])}},o={basic:{tier:"basic",name:"Pawscord Nitro Basic",price:29.99,priceYearly:299.99,color:"#5865f2",features:[{text:"100 sunucu",included:!0},{text:"Sƒ±nƒ±rsƒ±z arkada≈ü",included:!0},{text:"50 MB dosya y√ºkleme",included:!0},{text:"1080p video kalitesi",included:!0},{text:"50 √∂zel emoji",included:!0},{text:"Animated avatar",included:!0},{text:"HD ekran payla≈üƒ±mƒ±",included:!0},{text:"√ñzel rozet",included:!0},{text:"Server boosting",included:!1},{text:"4K video",included:!1}]},premium:{tier:"premium",name:"Pawscord Nitro Premium",price:49.99,priceYearly:499.99,color:"#f0b232",popular:!0,features:[{text:"Sƒ±nƒ±rsƒ±z sunucu",included:!0},{text:"Sƒ±nƒ±rsƒ±z arkada≈ü",included:!0},{text:"500 MB dosya y√ºkleme",included:!0},{text:"4K video kalitesi",included:!0},{text:"200 √∂zel emoji",included:!0},{text:"Animated avatar + banner",included:!0},{text:"4K ekran payla≈üƒ±mƒ± 60FPS",included:!0},{text:"2x Server boost dahil",included:!0},{text:"AI asistan",included:!0},{text:"√ñzel profil temalarƒ±",included:!0}]}},w=[{id:1,name:"√ñzel Emoji Paketi",price:9.99,description:"50 premium emoji",icon:"üòé",type:"one_time"},{id:2,name:"Profil Temasƒ±",price:14.99,description:"√ñzel profil arka planƒ±",icon:"üé®",type:"one_time"},{id:3,name:"Server Boost",price:19.99,description:"Sunucunu g√º√ßlendir (1 ay)",icon:"üöÄ",type:"subscription"},{id:4,name:"√ñzel Rozet",price:24.99,description:"Kendi rozetini y√ºkle",icon:"‚≠ê",type:"one_time"},{id:5,name:"Ses Efektleri",price:12.99,description:"10 ses efekti paketi",icon:"üéµ",type:"one_time"},{id:6,name:"Animated Sticker Paketi",price:16.99,description:"30 animated sticker",icon:"‚ú®",type:"one_time"}],P=S.length>0?S:w,m=async(r,a=!1)=>{l(!0);try{const x=await(await fetch(`${d}/api/premium/subscribe/`,{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"},body:JSON.stringify({tier:r.tier,is_yearly:a,payment_method:"test"})})).json();x.success?(i.success(`üéâ ${r.name} ba≈üarƒ±yla aktif edildi!

Fiyat: ${a?r.priceYearly:r.price} TL`),await b(),g()):i.error(`‚ùå Hata: ${x.message}`)}catch(n){console.error("Satƒ±n alma hatasƒ±:",n),i.error("‚ùå Bir hata olu≈ütu. L√ºtfen tekrar deneyin.")}finally{l(!1)}},A=async r=>{l(!0);try{const n=await(await fetch(`${d}/api/store/purchase/`,{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"},body:JSON.stringify({item_id:r.id,payment_method:"test"})})).json();console.log("üõí [PURCHASE] Response:",n),n.success?(i.success(`üéâ ${r.name} ba≈üarƒ±yla satƒ±n alƒ±ndƒ±!

Yeni bakiye: ${n.new_balance} coin`),await k()):n.insufficient_coins?window.confirm(`‚ùå Yetersiz bakiye!

Gerekli: ${n.required} coin
Mevcut: ${n.current} coin
Eksik: ${n.needed} coin

Coin satƒ±n almak ister misiniz?`)&&f(!0):i.error(`‚ùå Hata: ${n.message||"Bilinmeyen hata"}`)}catch(a){console.error("‚ùå [PURCHASE] Satƒ±n alma hatasƒ±:",a),i.error("‚ùå Bir hata olu≈ütu. L√ºtfen tekrar deneyin.")}finally{l(!1)}};return e.createElement("div",{style:t.overlay},I&&e.createElement(W,{onClose:()=>f(!1),currentCoins:E?.coins||0,onPurchaseComplete:r=>{h(a=>a?{...a,coins:r}:null),b()}}),e.createElement("div",{style:t.modal},e.createElement("div",{style:t.header},e.createElement("div",{style:t.headerLeft},e.createElement(B,{style:{color:"#f0b232",marginRight:"10px"}}),e.createElement("h2",{style:t.title},"Premium Maƒüaza")),e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"12px"}},e.createElement("div",{style:{background:"linear-gradient(135deg, #f0b232 0%, #c79100 100%)",padding:"8px 16px",borderRadius:"20px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",transition:"transform 0.2s"},onClick:()=>f(!0),onMouseEnter:r=>r.currentTarget.style.transform="scale(1.05)",onMouseLeave:r=>r.currentTarget.style.transform="scale(1)",title:"Coin satƒ±n al"},e.createElement("span",{style:{fontSize:"18px"}},"üí∞"),e.createElement("span",{style:{fontWeight:"bold",color:"#000",fontSize:"14px"}},(E?.coins||0).toLocaleString())),e.createElement("button",{onClick:g,style:t.closeButton},e.createElement(F,null)))),e.createElement("div",{style:t.tabs},e.createElement("button",{onClick:()=>u("premium"),style:{...t.tab,...c==="premium"&&t.activeTab}},e.createElement(B,null)," Premium"),e.createElement("button",{onClick:()=>u("store"),style:{...t.tab,...c==="store"&&t.activeTab}},e.createElement(L,null)," Maƒüaza"),e.createElement("button",{onClick:()=>u("boost"),style:{...t.tab,...c==="boost"&&t.activeTab}},e.createElement(R,null)," Server Boost")),e.createElement("div",{style:t.content},c==="premium"&&e.createElement("div",{style:t.premiumTab},e.createElement("h3",{style:t.sectionTitle},"Premium √úyelik Planlarƒ±"),e.createElement("div",{style:t.plansGrid},e.createElement("div",{style:t.planCard},e.createElement("div",{style:t.planHeader},e.createElement("h4",{style:t.planName},"√úcretsiz"),e.createElement("div",{style:t.planPrice},e.createElement("span",{style:t.price},"0"),e.createElement("span",{style:t.currency},"TL/ay"))),e.createElement("div",{style:t.featuresList},e.createElement("div",{style:t.feature},"‚úÖ 50 sunucu"),e.createElement("div",{style:t.feature},"‚úÖ 100 arkada≈ü"),e.createElement("div",{style:t.feature},"‚úÖ 8 MB dosya y√ºkleme"),e.createElement("div",{style:t.feature},"‚úÖ 720p video"),e.createElement("div",{style:{...t.feature,opacity:.5}},"‚ùå √ñzel emoji"),e.createElement("div",{style:{...t.feature,opacity:.5}},"‚ùå Animated avatar")),e.createElement("button",{style:t.currentPlanButton,disabled:!0},"Mevcut Plan")),e.createElement("div",{style:t.planCard},e.createElement("div",{style:{...t.planHeader,borderColor:o.basic.color}},e.createElement("h4",{style:t.planName},o.basic.name),e.createElement("div",{style:t.planPrice},e.createElement("span",{style:t.price},o.basic.price),e.createElement("span",{style:t.currency},"TL/ay"))),e.createElement("div",{style:t.featuresList},o.basic.features.map((r,a)=>e.createElement("div",{key:a,style:{...t.feature,opacity:r.included?1:.5}},r.included?"‚úÖ":"‚ùå"," ",r.text))),e.createElement("button",{onClick:()=>m(o.basic,!1),style:{...t.purchaseButton,backgroundColor:o.basic.color}},"Satƒ±n Al (Aylƒ±k)"),e.createElement("button",{onClick:()=>m(o.basic,!0),style:t.yearlyButton},"Yƒ±llƒ±k Al (%16 ƒ∞ndirim) - ",o.basic.priceYearly," TL")),e.createElement("div",{style:{...t.planCard,...t.popularCard}},e.createElement("div",{style:t.popularBadge},e.createElement(j,null)," EN POP√úLER"),e.createElement("div",{style:{...t.planHeader,borderColor:o.premium.color}},e.createElement("h4",{style:t.planName},o.premium.name),e.createElement("div",{style:t.planPrice},e.createElement("span",{style:t.price},o.premium.price),e.createElement("span",{style:t.currency},"TL/ay"))),e.createElement("div",{style:t.featuresList},o.premium.features.map((r,a)=>e.createElement("div",{key:a,style:{...t.feature,opacity:r.included?1:.5}},r.included?"‚úÖ":"‚ùå"," ",r.text))),e.createElement("button",{onClick:()=>m(o.premium,!1),style:{...t.purchaseButton,backgroundColor:o.premium.color}},"Satƒ±n Al (Aylƒ±k)"),e.createElement("button",{onClick:()=>m(o.premium,!0),style:t.yearlyButton},"Yƒ±llƒ±k Al (%16 ƒ∞ndirim) - ",o.premium.priceYearly," TL")))),c==="store"&&e.createElement("div",{style:t.storeTab},e.createElement("h3",{style:t.sectionTitle},"Maƒüaza √úr√ºnleri"),e.createElement("div",{style:t.storeGrid},P.map(r=>{const a=z.some(n=>n.item_details?.id===r.id||n.item===r.id);return e.createElement("div",{key:r.id,style:{...t.storeItem,...a&&{opacity:.6,borderColor:"#43b581"}}},e.createElement("div",{style:t.itemIcon},r.icon||"üéÅ"),e.createElement("h4",{style:t.itemName},r.name),e.createElement("p",{style:t.itemDescription},r.description),e.createElement("div",{style:t.itemPrice},r.price," TL"),a?e.createElement("button",{disabled:!0,style:{...t.buyButton,backgroundColor:"#43b581",cursor:"not-allowed",opacity:.7}},"‚úì Sahip"):e.createElement("button",{onClick:()=>A(r),style:t.buyButton,disabled:y},y?"Y√ºkleniyor...":"Satƒ±n Al"))}))),c==="boost"&&e.createElement("div",{style:t.boostTab},e.createElement("div",{style:t.boostHeader},e.createElement("h3",{style:t.boostTitle},e.createElement("span",{style:t.boostIcon},"üöÄ"),"Server Boosting"),e.createElement("p",{style:t.boostSubtitle},"Sevdiƒüin sunucularƒ± g√º√ßlendir ve √∂zel √∂zellikler kazan!")),e.createElement("div",{style:t.boostTiersContainer},e.createElement("div",{style:{...t.boostTierCard,borderColor:"#cd7f32"}},e.createElement("div",{style:{...t.tierBadge,background:"linear-gradient(135deg, #cd7f32, #a0522d)"}},e.createElement("span",{style:t.tierNumber},"1")),e.createElement("h4",{style:t.tierTitle},"Seviye 1"),e.createElement("p",{style:t.tierRequirement},"2 Boost gerekli"),e.createElement("ul",{style:t.tierFeatureList},e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üé®")," 100 emoji slot"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üéµ")," 256 kbps ses kalitesi"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üìÅ")," 50 MB dosya y√ºkleme"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"‚ú®")," Animated sunucu ikonu"))),e.createElement("div",{style:{...t.boostTierCard,borderColor:"#c0c0c0",transform:"scale(1.02)"}},e.createElement("div",{style:{...t.tierBadge,background:"linear-gradient(135deg, #c0c0c0, #808080)"}},e.createElement("span",{style:t.tierNumber},"2")),e.createElement("div",{style:t.popularBadge},"‚≠ê Pop√ºler"),e.createElement("h4",{style:t.tierTitle},"Seviye 2"),e.createElement("p",{style:t.tierRequirement},"7 Boost gerekli"),e.createElement("ul",{style:t.tierFeatureList},e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üé®")," 150 emoji slot"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üéµ")," 384 kbps ses kalitesi"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üìÅ")," 100 MB dosya y√ºkleme"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üì∫")," 1080p Go Live stream"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üîó")," √ñzel davet linki"))),e.createElement("div",{style:{...t.boostTierCard,borderColor:"#ffd700",boxShadow:"0 0 20px rgba(255, 215, 0, 0.3)"}},e.createElement("div",{style:{...t.tierBadge,background:"linear-gradient(135deg, #ffd700, #ff8c00)"}},e.createElement("span",{style:t.tierNumber},"3")),e.createElement("div",{style:{...t.premiumBadge}},"üëë Premium"),e.createElement("h4",{style:t.tierTitle},"Seviye 3"),e.createElement("p",{style:t.tierRequirement},"14 Boost gerekli"),e.createElement("ul",{style:t.tierFeatureList},e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üé®")," 250 emoji slot"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üéµ")," 384 kbps ses kalitesi"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üìÅ")," 500 MB dosya y√ºkleme"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üì∫")," 4K Go Live 60FPS"),e.createElement("li",{style:t.tierFeature},e.createElement("span",{style:t.featureIcon},"üîä")," √ñzel ses efektleri")))),e.createElement("button",{onClick:async()=>{const r=prompt("Boost yapmak istediƒüin sunucu ID'sini gir:");if(r){l(!0);try{const n=await(await fetch(`${d}/api/servers/boost/`,{method:"POST",headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"},body:JSON.stringify({server_id:r,level:1})})).json();n.status==="boosted"?i.success("üöÄ Sunucu ba≈üarƒ±yla boost edildi!"):i.error(`‚ùå ${n.error||"Boost yapƒ±lamadƒ±"}`)}catch{i.error("‚ùå Bir hata olu≈ütu")}finally{l(!1)}}},style:t.boostPurchaseButton,disabled:y},e.createElement("span",{style:t.boostButtonIcon},"üöÄ"),"Boost Satƒ±n Al (19.99 TL/ay)")))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},modal:{backgroundColor:"#2b2d31",borderRadius:"16px",width:"90%",maxWidth:"1200px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",overflow:"hidden"},header:{padding:"20px 24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,color:"#fff",fontSize:"24px",fontWeight:"bold"},closeButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"24px",cursor:"pointer",padding:"8px",transition:"color 0.2s"},tabs:{display:"flex",padding:"0 24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",gap:"8px"},tab:{background:"none",border:"none",color:"#b9bbbe",padding:"12px 20px",cursor:"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px",borderBottom:"2px solid transparent",transition:"all 0.2s"},activeTab:{color:"#fff",borderBottomColor:"#5865f2"},content:{flex:1,overflowY:"auto",padding:"24px"},sectionTitle:{color:"#fff",fontSize:"20px",marginBottom:"20px",fontWeight:"bold"},plansGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px"},planCard:{backgroundColor:"#1e1f22",borderRadius:"12px",padding:"20px",border:"2px solid transparent",transition:"all 0.3s",position:"relative"},popularCard:{border:"2px solid #f0b232",transform:"scale(1.05)"},popularBadge:{position:"absolute",top:"-12px",right:"20px",backgroundColor:"#f0b232",color:"#000",padding:"4px 12px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px"},planHeader:{borderBottom:"2px solid #5865f2",paddingBottom:"16px",marginBottom:"16px"},planName:{color:"#fff",fontSize:"18px",margin:"0 0 8px 0",fontWeight:"bold"},planPrice:{display:"flex",alignItems:"baseline",gap:"4px"},price:{color:"#fff",fontSize:"32px",fontWeight:"bold"},currency:{color:"#b9bbbe",fontSize:"14px"},featuresList:{marginBottom:"20px"},feature:{color:"#dcddde",fontSize:"14px",padding:"8px 0",borderBottom:"1px solid rgba(255, 255, 255, 0.05)"},purchaseButton:{width:"100%",padding:"12px",borderRadius:"8px",border:"none",color:"#fff",fontWeight:"bold",fontSize:"14px",cursor:"pointer",marginBottom:"8px",transition:"transform 0.2s"},yearlyButton:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #5865f2",backgroundColor:"transparent",color:"#5865f2",fontWeight:"600",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},currentPlanButton:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #4e5058",backgroundColor:"transparent",color:"#4e5058",fontWeight:"bold",fontSize:"14px",cursor:"not-allowed"},storeGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},storeItem:{backgroundColor:"#1e1f22",borderRadius:"12px",padding:"20px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.1)",transition:"all 0.3s"},itemIcon:{fontSize:"48px",marginBottom:"12px"},itemName:{color:"#fff",fontSize:"16px",margin:"0 0 8px 0",fontWeight:"bold"},itemDescription:{color:"#b9bbbe",fontSize:"13px",margin:"0 0 12px 0"},itemPrice:{color:"#f0b232",fontSize:"20px",fontWeight:"bold",marginBottom:"12px"},buyButton:{width:"100%",padding:"10px",borderRadius:"8px",border:"none",backgroundColor:"#5865f2",color:"#fff",fontWeight:"bold",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},boostTab:{padding:"10px 0"},boostHeader:{textAlign:"center",marginBottom:"30px"},boostTitle:{color:"#fff",fontSize:"28px",fontWeight:"700",margin:"0 0 10px 0",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},boostIcon:{fontSize:"32px"},boostSubtitle:{color:"#b9bbbe",fontSize:"15px",margin:0},boostTiersContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"30px"},boostTierCard:{background:"linear-gradient(145deg, #2b2d31, #1e1f22)",borderRadius:"16px",padding:"25px 20px",border:"2px solid",position:"relative",transition:"all 0.3s ease",textAlign:"center"},tierBadge:{width:"60px",height:"60px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 15px auto",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.3)"},tierNumber:{color:"#fff",fontSize:"28px",fontWeight:"bold",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},tierTitle:{color:"#fff",fontSize:"20px",fontWeight:"700",margin:"0 0 5px 0"},tierRequirement:{color:"#72767d",fontSize:"13px",margin:"0 0 15px 0"},tierFeatureList:{listStyle:"none",padding:0,margin:0,textAlign:"left"},tierFeature:{color:"#dcddde",fontSize:"13px",padding:"6px 0",display:"flex",alignItems:"center",gap:"8px",borderBottom:"1px solid rgba(255, 255, 255, 0.05)"},featureIcon:{fontSize:"14px"},premiumBadge:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, #ffd700, #ff8c00)",color:"#000",fontSize:"11px",fontWeight:"bold",padding:"4px 14px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(255, 215, 0, 0.4)"},boostPurchaseButton:{width:"100%",maxWidth:"350px",padding:"16px 24px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #ff6b9d, #f0b232, #ffd700)",color:"#000",fontWeight:"bold",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",margin:"0 auto",boxShadow:"0 4px 20px rgba(240, 178, 50, 0.4)",transition:"all 0.3s ease"},boostButtonIcon:{fontSize:"20px"}};export{Y as default};

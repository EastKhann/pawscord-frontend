const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./react-core-DrOm_csO.js","../css/react-core-Dj12pvTl.css"])))=>i.map(i=>d[i]);
import{r,d as e,bI as v,bJ as k,bK as C,v as R,_ as S}from"./react-core-DrOm_csO.js";import{m as P}from"./index-DmEhdEtw.js";const _=r.lazy(()=>S(()=>import("./react-core-DrOm_csO.js").then(o=>o.e1),__vite__mapDeps([0,1]),import.meta.url)),L=()=>{const{cinemaState:o,sendCinemaSignal:a,setCinemaState:w}=P(),{url:f,playing:n,time:i,lastSyncAction:s}=o,[c,y]=r.useState(""),[g,I]=r.useState(.8),[u,b]=r.useState(null),[x,p]=r.useState(!1),l=r.useRef(null);r.useRef(!1),r.useEffect(()=>{s==="change_url"?(p(!1),b(null)):s==="play"&&Math.abs(d()-i)>2&&l.current&&l.current.seekTo(i)},[f,n,i,s]);const d=()=>{try{return l.current?l.current.getCurrentTime():0}catch{return 0}},h=m=>{m.preventDefault(),c.trim()&&(a("change_url",{url:c}),y(""))},E=()=>{n?a("pause"):a("play",{time:d()})};return e.createElement("div",{style:t.container},e.createElement("div",{style:t.playerWrapper},u&&e.createElement("div",{style:t.statusOverlay},e.createElement(v,{size:40,color:"#f04747"}),e.createElement("p",{style:{marginTop:10}},u)),!x&&!u&&e.createElement("div",{style:t.statusOverlay},e.createElement("div",{className:"spinner"}),e.createElement("p",{style:{marginTop:10}},"Yükleniyor...")),e.createElement(r.Suspense,{fallback:e.createElement("div",{style:{color:"#fff",padding:"50px",textAlign:"center"}},"Loading player...")},e.createElement(_,{ref:l,url:f,playing:n,volume:g,controls:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onReady:()=>p(!0),onError:()=>{b("Video oynatılamadı."),p(!0)},onPlay:()=>{n||a("play",{time:d()})},onPause:()=>{n&&a("pause")}}))),e.createElement("div",{style:t.controls},e.createElement("button",{onClick:E,style:{...t.btn,backgroundColor:n?"#da373c":"#43b581",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"}},n?e.createElement(k,null):e.createElement(C,{style:{marginLeft:2}})),e.createElement("form",{onSubmit:h,style:t.urlForm},e.createElement(R,{style:{color:"#b9bbbe"}}),e.createElement("input",{type:"text",value:c,onChange:m=>y(m.target.value),placeholder:"YouTube Link...",style:t.input}),e.createElement("button",{type:"submit",style:{...t.btn,backgroundColor:"#5865f2",padding:"0 15px"}},"Yükle"))),e.createElement("style",null,`
                .spinner {
                    border: 4px solid rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    border-top: 4px solid #ffffff;
                    width: 30px; height: 30px;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            `))},t={container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"black"},playerWrapper:{flex:1,position:"relative",overflow:"hidden"},controls:{padding:"10px",display:"flex",gap:"10px",backgroundColor:"#202225",alignItems:"center"},urlForm:{flex:1,display:"flex",gap:"8px",backgroundColor:"#40444b",padding:"5px 10px",borderRadius:"4px",alignItems:"center"},input:{flex:1,background:"transparent",border:"none",color:"white",outline:"none",fontSize:"14px"},btn:{border:"none",color:"white",cursor:"pointer",borderRadius:"4px",fontWeight:"bold"},statusOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.7)",color:"white",zIndex:10}};export{L as default};

import{r as l,n as e}from"./react-core-Cj7FUMmY.js";import{B as m,G as h,a2 as y}from"./icons-vendor-8IeoBGEh.js";import{u as k}from"./recaptcha-_AxHRhTJ.js";import{b as j}from"./router-vendor-QeioVw-9.js";import"./editor-vendor-D9c4a6XZ.js";const E=({apiBaseUrl:x})=>{const s=j(),[n,f]=l.useState(""),[t,o]=l.useState("idle"),[d,r]=l.useState(""),{getToken:u}=k(),b=async a=>{a.preventDefault(),r(""),o("loading");try{const c=await u("password_reset"),p=await fetch(`${x}/auth/request-password-reset/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,recaptcha_token:c})}),g=await p.json();p.ok?o("sent"):(r(g.error||"Bir hata olu≈ütu"),o("idle"))}catch{r("Baƒülantƒ± hatasƒ± olu≈ütu"),o("idle")}};return t==="sent"?e.jsx("div",{style:i.container,children:e.jsxs("div",{style:i.card,children:[e.jsx(m,{style:{...i.icon,color:"#23a559"}}),e.jsx("h2",{style:i.title,children:"Email G√∂nderildi!"}),e.jsxs("p",{style:i.text,children:["Eƒüer ",e.jsx("strong",{children:n})," adresine kayƒ±tlƒ± bir hesap varsa, ≈üifre sƒ±fƒ±rlama linki g√∂nderildi."]}),e.jsx("p",{style:i.infoText,children:"üìß Email'inizi kontrol edin (Spam klas√∂r√ºn√º de kontrol etmeyi unutmayƒ±n)"}),e.jsx("p",{style:i.infoText,children:"‚è±Ô∏è Link 1 saat ge√ßerlidir"}),e.jsx("button",{onClick:()=>s("/login"),style:i.button,children:"Giri≈ü Sayfasƒ±na D√∂n"})]})}):e.jsx("div",{style:i.container,children:e.jsxs("div",{style:i.card,children:[e.jsxs("button",{onClick:()=>s("/login"),style:i.backButton,children:[e.jsx(h,{})," Geri"]}),e.jsx(y,{style:i.icon}),e.jsx("h2",{style:i.title,children:"≈ûifremi Unuttum"}),e.jsx("p",{style:i.text,children:"Email adresinizi girin, size ≈üifre sƒ±fƒ±rlama linki g√∂nderelim."}),e.jsxs("form",{onSubmit:b,style:i.form,children:[e.jsx("input",{type:"email",placeholder:"Email adresiniz",value:n,onChange:a=>f(a.target.value),required:!0,style:i.input,disabled:t==="loading"}),d&&e.jsxs("div",{style:i.error,children:["‚ùå ",d]}),e.jsx("button",{type:"submit",style:i.submitButton,disabled:t==="loading",children:t==="loading"?"G√∂nderiliyor...":"Sƒ±fƒ±rlama Linki G√∂nder"})]}),e.jsxs("div",{style:i.info,children:[e.jsx("p",{style:i.infoTitle,children:"üí° Bilgi:"}),e.jsxs("ul",{style:i.infoList,children:[e.jsx("li",{children:"Email hesabƒ±nƒ±za eri≈üiminiz olmalƒ±"}),e.jsx("li",{children:"Link 1 saat ge√ßerlidir"}),e.jsx("li",{children:"G√ºvenlik nedeniyle email'in kayƒ±tlƒ± olup olmadƒ±ƒüƒ±nƒ± s√∂ylemiyoruz"})]})]})]})})},i={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1e1f22",padding:"20px"},card:{backgroundColor:"#2b2d31",borderRadius:"12px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",position:"relative"},backButton:{position:"absolute",top:"20px",left:"20px",background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",transition:"color 0.2s"},icon:{fontSize:"64px",color:"#5865f2",display:"block",margin:"0 auto 20px"},title:{color:"#fff",fontSize:"28px",textAlign:"center",margin:"0 0 10px 0"},text:{color:"#b9bbbe",fontSize:"16px",textAlign:"center",marginBottom:"30px"},form:{display:"flex",flexDirection:"column",gap:"15px"},input:{backgroundColor:"#1e1f22",border:"1px solid #1e1f22",borderRadius:"6px",padding:"12px",color:"#fff",fontSize:"16px",outline:"none",transition:"border-color 0.2s"},error:{backgroundColor:"#da373c",color:"#fff",padding:"12px",borderRadius:"6px",fontSize:"14px",textAlign:"center"},submitButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s"},button:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 32px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginTop:"20px",display:"block",width:"100%"},info:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"15px",marginTop:"20px"},infoTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",margin:"0 0 10px 0"},infoText:{color:"#b9bbbe",fontSize:"14px",textAlign:"center",margin:"10px 0"},infoList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"}};export{E as default};

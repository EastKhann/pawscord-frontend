const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ReactionPicker-YDCVtZZg.js","./react-core-DMT_QkRe.js","../css/react-core-Dj12pvTl.css","./LinkPreview-CBFwmwBS.js","./CodeBlock-sf3kMDbC.js","./index-DQcCIf_i.js","../css/index-CQaL4Ahz.css","./Spoiler-D03xDOUn.js","./VoiceMessagePlayer-Ctx2vole.js","./TicTacToe-Fbwch3Vg.js","./BookmarkButton-Dkv-W2Rg.js","./ReminderModal-DrCuLihm.js","./MessageThreads-DVRJe1QT.js","./GameMessage-B5HlVOWo.js"])))=>i.map(i=>d[i]);
import{aT as Mn,aU as gr,aV as Ne,aW as Fe,aX as Ut,aY as Je,aZ as mt,a_ as br,a$ as On,b0 as xr,b1 as Ht,b2 as Qe,b3 as Z,b4 as kr,b5 as Er,b6 as Te,b7 as wt,b8 as yr,b9 as Ke,ba as Pe,bb as _r,r as A,d as p,m as an,n as Tt,an as ln,bc as sn,bd as wr,aD as Tr,be as cn,l as un,bf as fn,bg as pn,bh as mn,y as dn,al as Sr,bi as Ar,a6 as Cr,az as vr,_ as ne}from"./react-core-DMT_QkRe.js";import{L as Rr}from"./LazyImage-CcruulVo.js";import{useCachedImage as Dr}from"./imageCaching-BEvvks0u.js";import{d as hn,t as ke,e as gn,f as Ir}from"./index-DQcCIf_i.js";function bn(e,n){const t=String(e);if(typeof n!="string")throw new TypeError("Expected character");let r=0,o=t.indexOf(n);for(;o!==-1;)r++,o=t.indexOf(n,o+n.length);return r}function Lr(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Mr(e,n,t){const o=Mn((t||{}).ignore||[]),l=Or(n);let i=-1;for(;++i<l.length;)gr(e,"text",u);function u(c,h){let f=-1,x;for(;++f<h.length;){const y=h[f],g=x?x.children:void 0;if(o(y,g?g.indexOf(y):void 0,x))return;x=y}if(x)return a(c,h)}function a(c,h){const f=h[h.length-1],x=l[i][0],y=l[i][1];let g=0;const C=f.children.indexOf(c);let S=!1,v=[];x.lastIndex=0;let D=x.exec(c.value);for(;D;){const I=D.index,F={index:D.index,input:D.input,stack:[...h,c]};let N=y(...D,F);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?x.lastIndex=I+1:(g!==I&&v.push({type:"text",value:c.value.slice(g,I)}),Array.isArray(N)?v.push(...N):N&&v.push(N),g=I+D[0].length,S=!0),!x.global)break;D=x.exec(c.value)}return S?(g<c.value.length&&v.push({type:"text",value:c.value.slice(g)}),f.children.splice(C,1,...v)):v=[c],C+v.length}}function Or(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<t.length;){const o=t[r];n.push([Pr(o[0]),zr(o[1])])}return n}function Pr(e){return typeof e=="string"?new RegExp(Lr(e),"g"):e}function zr(e){return typeof e=="function"?e:function(){return e}}const St="phrasing",At=["autolink","link","image","label"];function Fr(){return{transforms:[$r],enter:{literalAutolink:Br,literalAutolinkEmail:Ct,literalAutolinkHttp:Ct,literalAutolinkWww:Ct},exit:{literalAutolink:jr,literalAutolinkEmail:Wr,literalAutolinkHttp:Ur,literalAutolinkWww:Hr}}}function Nr(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:St,notInConstruct:At},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:St,notInConstruct:At},{character:":",before:"[ps]",after:"\\/",inConstruct:St,notInConstruct:At}]}}function Br(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ct(e){this.config.enter.autolinkProtocol.call(this,e)}function Ur(e){this.config.exit.autolinkProtocol.call(this,e)}function Hr(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];Ne(n.type==="link"),n.url="http://"+this.sliceSerialize(e)}function Wr(e){this.config.exit.autolinkEmail.call(this,e)}function jr(e){this.exit(e)}function $r(e){Mr(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Gr],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,Vr]],{ignore:["link","linkReference"]})}function Gr(e,n,t,r,o){let l="";if(!Pn(o)||(/^w/i.test(n)&&(t=n+t,n="",l="http://"),!Yr(t)))return!1;const i=qr(t+r);if(!i[0])return!1;const u={type:"link",title:null,url:l+n+i[0],children:[{type:"text",value:n+i[0]}]};return i[1]?[u,{type:"text",value:i[1]}]:u}function Vr(e,n,t,r){return!Pn(r,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+t,children:[{type:"text",value:n+"@"+t}]}}function Yr(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function qr(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let t=n[0],r=t.indexOf(")");const o=bn(e,"(");let l=bn(e,")");for(;r!==-1&&o>l;)e+=t.slice(0,r+1),t=t.slice(r+1),r=t.indexOf(")"),l++;return[e,t]}function Pn(e,n){const t=e.input.charCodeAt(e.index-1);return(e.index===0||Fe(t)||Ut(t))&&(!n||t!==47)}zn.peek=ri;function Xr(){this.buffer()}function Kr(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Qr(){this.buffer()}function Zr(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Jr(e){const n=this.resume(),t=this.stack[this.stack.length-1];Ne(t.type==="footnoteReference"),t.identifier=Je(this.sliceSerialize(e)).toLowerCase(),t.label=n}function ei(e){this.exit(e)}function ti(e){const n=this.resume(),t=this.stack[this.stack.length-1];Ne(t.type==="footnoteDefinition"),t.identifier=Je(this.sliceSerialize(e)).toLowerCase(),t.label=n}function ni(e){this.exit(e)}function ri(){return"["}function zn(e,n,t,r){const o=t.createTracker(r);let l=o.move("[^");const i=t.enter("footnoteReference"),u=t.enter("reference");return l+=o.move(t.safe(t.associationId(e),{after:"]",before:l})),u(),i(),l+=o.move("]"),l}function ii(){return{enter:{gfmFootnoteCallString:Xr,gfmFootnoteCall:Kr,gfmFootnoteDefinitionLabelString:Qr,gfmFootnoteDefinition:Zr},exit:{gfmFootnoteCallString:Jr,gfmFootnoteCall:ei,gfmFootnoteDefinitionLabelString:ti,gfmFootnoteDefinition:ni}}}function oi(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:t,footnoteReference:zn},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(r,o,l,i){const u=l.createTracker(i);let a=u.move("[^");const c=l.enter("footnoteDefinition"),h=l.enter("label");return a+=u.move(l.safe(l.associationId(r),{before:a,after:"]"})),h(),a+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),a+=u.move((n?`
`:" ")+l.indentLines(l.containerFlow(r,u.current()),n?Fn:ai))),c(),a}}function ai(e,n,t){return n===0?e:Fn(e,n,t)}function Fn(e,n,t){return(t?"":"    ")+e}const li=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Nn.peek=pi;function si(){return{canContainEols:["delete"],enter:{strikethrough:ui},exit:{strikethrough:fi}}}function ci(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:li}],handlers:{delete:Nn}}}function ui(e){this.enter({type:"delete",children:[]},e)}function fi(e){this.exit(e)}function Nn(e,n,t,r){const o=t.createTracker(r),l=t.enter("strikethrough");let i=o.move("~~");return i+=t.containerPhrasing(e,{...o.current(),before:i,after:"~"}),i+=o.move("~~"),l(),i}function pi(){return"~"}function mi(e){return e.length}function di(e,n){const t=n||{},r=(t.align||[]).concat(),o=t.stringLength||mi,l=[],i=[],u=[],a=[];let c=0,h=-1;for(;++h<e.length;){const w=[],C=[];let S=-1;for(e[h].length>c&&(c=e[h].length);++S<e[h].length;){const v=hi(e[h][S]);if(t.alignDelimiters!==!1){const D=o(v);C[S]=D,(a[S]===void 0||D>a[S])&&(a[S]=D)}w.push(v)}i[h]=w,u[h]=C}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)l[f]=xn(r[f]);else{const w=xn(r);for(;++f<c;)l[f]=w}f=-1;const x=[],y=[];for(;++f<c;){const w=l[f];let C="",S="";w===99?(C=":",S=":"):w===108?C=":":w===114&&(S=":");let v=t.alignDelimiters===!1?1:Math.max(1,a[f]-C.length-S.length);const D=C+"-".repeat(v)+S;t.alignDelimiters!==!1&&(v=C.length+v+S.length,v>a[f]&&(a[f]=v),y[f]=v),x[f]=D}i.splice(1,0,x),u.splice(1,0,y),h=-1;const g=[];for(;++h<i.length;){const w=i[h],C=u[h];f=-1;const S=[];for(;++f<c;){const v=w[f]||"";let D="",I="";if(t.alignDelimiters!==!1){const F=a[f]-(C[f]||0),N=l[f];N===114?D=" ".repeat(F):N===99?F%2?(D=" ".repeat(F/2+.5),I=" ".repeat(F/2-.5)):(D=" ".repeat(F/2),I=D):I=" ".repeat(F)}t.delimiterStart!==!1&&!f&&S.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&v==="")&&(t.delimiterStart!==!1||f)&&S.push(" "),t.alignDelimiters!==!1&&S.push(D),S.push(v),t.alignDelimiters!==!1&&S.push(I),t.padding!==!1&&S.push(" "),(t.delimiterEnd!==!1||f!==c-1)&&S.push("|")}g.push(t.delimiterEnd===!1?S.join("").replace(/ +$/,""):S.join(""))}return g.join(`
`)}function hi(e){return e==null?"":String(e)}function xn(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function gi(e,n,t,r){const o=t.enter("blockquote"),l=t.createTracker(r);l.move("> "),l.shift(2);const i=t.indentLines(t.containerFlow(e,l.current()),bi);return o(),i}function bi(e,n,t){return">"+(t?"":" ")+e}function xi(e,n){return kn(e,n.inConstruct,!0)&&!kn(e,n.notInConstruct,!1)}function kn(e,n,t){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return t;let r=-1;for(;++r<n.length;)if(e.includes(n[r]))return!0;return!1}function En(e,n,t,r){let o=-1;for(;++o<t.unsafe.length;)if(t.unsafe[o].character===`
`&&xi(t.stack,t.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function ki(e,n){const t=String(e);let r=t.indexOf(n),o=r,l=0,i=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++l>i&&(i=l):l=1,o=r+n.length,r=t.indexOf(n,o);return i}function Ei(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function yi(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function _i(e,n,t,r){const o=yi(t),l=e.value||"",i=o==="`"?"GraveAccent":"Tilde";if(Ei(e,t)){const f=t.enter("codeIndented"),x=t.indentLines(l,wi);return f(),x}const u=t.createTracker(r),a=o.repeat(Math.max(ki(l,o)+1,3)),c=t.enter("codeFenced");let h=u.move(a);if(e.lang){const f=t.enter(`codeFencedLang${i}`);h+=u.move(t.safe(e.lang,{before:h,after:" ",encode:["`"],...u.current()})),f()}if(e.lang&&e.meta){const f=t.enter(`codeFencedMeta${i}`);h+=u.move(" "),h+=u.move(t.safe(e.meta,{before:h,after:`
`,encode:["`"],...u.current()})),f()}return h+=u.move(`
`),l&&(h+=u.move(l+`
`)),h+=u.move(a),c(),h}function wi(e,n,t){return(t?"":"    ")+e}function Wt(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function Ti(e,n,t,r){const o=Wt(t),l=o==='"'?"Quote":"Apostrophe",i=t.enter("definition");let u=t.enter("label");const a=t.createTracker(r);let c=a.move("[");return c+=a.move(t.safe(t.associationId(e),{before:c,after:"]",...a.current()})),c+=a.move("]: "),u(),!e.url||/[\0- \u007F]/.test(e.url)?(u=t.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(t.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(u=t.enter("destinationRaw"),c+=a.move(t.safe(e.url,{before:c,after:e.title?" ":`
`,...a.current()}))),u(),e.title&&(u=t.enter(`title${l}`),c+=a.move(" "+o),c+=a.move(t.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),u()),i(),c}function Si(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Ze(e){return"&#x"+e.toString(16).toUpperCase()+";"}function dt(e,n,t){const r=mt(e),o=mt(n);return r===void 0?o===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Bn.peek=Ai;function Bn(e,n,t,r){const o=Si(t),l=t.enter("emphasis"),i=t.createTracker(r),u=i.move(o);let a=i.move(t.containerPhrasing(e,{after:o,before:u,...i.current()}));const c=a.charCodeAt(0),h=dt(r.before.charCodeAt(r.before.length-1),c,o);h.inside&&(a=Ze(c)+a.slice(1));const f=a.charCodeAt(a.length-1),x=dt(r.after.charCodeAt(0),f,o);x.inside&&(a=a.slice(0,-1)+Ze(f));const y=i.move(o);return l(),t.attentionEncodeSurroundingInfo={after:x.outside,before:h.outside},u+a+y}function Ai(e,n,t){return t.options.emphasis||"*"}function Ci(e,n){let t=!1;return br(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return t=!0,xr}),!!((!e.depth||e.depth<3)&&On(e)&&(n.options.setext||t))}function vi(e,n,t,r){const o=Math.max(Math.min(6,e.depth||1),1),l=t.createTracker(r);if(Ci(e,t)){const h=t.enter("headingSetext"),f=t.enter("phrasing"),x=t.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return f(),h(),x+`
`+(o===1?"=":"-").repeat(x.length-(Math.max(x.lastIndexOf("\r"),x.lastIndexOf(`
`))+1))}const i="#".repeat(o),u=t.enter("headingAtx"),a=t.enter("phrasing");l.move(i+" ");let c=t.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(c)&&(c=Ze(c.charCodeAt(0))+c.slice(1)),c=c?i+" "+c:i,t.options.closeAtx&&(c+=" "+i),a(),u(),c}Un.peek=Ri;function Un(e){return e.value||""}function Ri(){return"<"}Hn.peek=Di;function Hn(e,n,t,r){const o=Wt(t),l=o==='"'?"Quote":"Apostrophe",i=t.enter("image");let u=t.enter("label");const a=t.createTracker(r);let c=a.move("![");return c+=a.move(t.safe(e.alt,{before:c,after:"]",...a.current()})),c+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=t.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(t.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(u=t.enter("destinationRaw"),c+=a.move(t.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=t.enter(`title${l}`),c+=a.move(" "+o),c+=a.move(t.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),u()),c+=a.move(")"),i(),c}function Di(){return"!"}Wn.peek=Ii;function Wn(e,n,t,r){const o=e.referenceType,l=t.enter("imageReference");let i=t.enter("label");const u=t.createTracker(r);let a=u.move("![");const c=t.safe(e.alt,{before:a,after:"]",...u.current()});a+=u.move(c+"]["),i();const h=t.stack;t.stack=[],i=t.enter("reference");const f=t.safe(t.associationId(e),{before:a,after:"]",...u.current()});return i(),t.stack=h,l(),o==="full"||!c||c!==f?a+=u.move(f+"]"):o==="shortcut"?a=a.slice(0,-1):a+=u.move("]"),a}function Ii(){return"!"}jn.peek=Li;function jn(e,n,t){let r=e.value||"",o="`",l=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<t.unsafe.length;){const i=t.unsafe[l],u=t.compilePattern(i);let a;if(i.atBreak)for(;a=u.exec(r);){let c=a.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(a.index+1)}}return o+r+o}function Li(){return"`"}function $n(e,n){const t=On(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(t===e.url||"mailto:"+t===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Gn.peek=Mi;function Gn(e,n,t,r){const o=Wt(t),l=o==='"'?"Quote":"Apostrophe",i=t.createTracker(r);let u,a;if($n(e,t)){const h=t.stack;t.stack=[],u=t.enter("autolink");let f=i.move("<");return f+=i.move(t.containerPhrasing(e,{before:f,after:">",...i.current()})),f+=i.move(">"),u(),t.stack=h,f}u=t.enter("link"),a=t.enter("label");let c=i.move("[");return c+=i.move(t.containerPhrasing(e,{before:c,after:"](",...i.current()})),c+=i.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=t.enter("destinationLiteral"),c+=i.move("<"),c+=i.move(t.safe(e.url,{before:c,after:">",...i.current()})),c+=i.move(">")):(a=t.enter("destinationRaw"),c+=i.move(t.safe(e.url,{before:c,after:e.title?" ":")",...i.current()}))),a(),e.title&&(a=t.enter(`title${l}`),c+=i.move(" "+o),c+=i.move(t.safe(e.title,{before:c,after:o,...i.current()})),c+=i.move(o),a()),c+=i.move(")"),u(),c}function Mi(e,n,t){return $n(e,t)?"<":"["}Vn.peek=Oi;function Vn(e,n,t,r){const o=e.referenceType,l=t.enter("linkReference");let i=t.enter("label");const u=t.createTracker(r);let a=u.move("[");const c=t.containerPhrasing(e,{before:a,after:"]",...u.current()});a+=u.move(c+"]["),i();const h=t.stack;t.stack=[],i=t.enter("reference");const f=t.safe(t.associationId(e),{before:a,after:"]",...u.current()});return i(),t.stack=h,l(),o==="full"||!c||c!==f?a+=u.move(f+"]"):o==="shortcut"?a=a.slice(0,-1):a+=u.move("]"),a}function Oi(){return"["}function jt(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function Pi(e){const n=jt(e),t=e.options.bulletOther;if(!t)return n==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+t+"`) to be different");return t}function zi(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function Yn(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function Fi(e,n,t,r){const o=t.enter("list"),l=t.bulletCurrent;let i=e.ordered?zi(t):jt(t);const u=e.ordered?i==="."?")":".":Pi(t);let a=n&&t.bulletLastUsed?i===t.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&h&&(!h.children||!h.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(a=!0),Yn(t)===i&&h){let f=-1;for(;++f<e.children.length;){const x=e.children[f];if(x&&x.type==="listItem"&&x.children&&x.children[0]&&x.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(i=u),t.bulletCurrent=i;const c=t.containerFlow(e,r);return t.bulletLastUsed=i,t.bulletCurrent=l,o(),c}function Ni(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function Bi(e,n,t,r){const o=Ni(t);let l=t.bulletCurrent||jt(t);n&&n.type==="list"&&n.ordered&&(l=(typeof n.start=="number"&&n.start>-1?n.start:1)+(t.options.incrementListMarker===!1?0:n.children.indexOf(e))+l);let i=l.length+1;(o==="tab"||o==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(i=Math.ceil(i/4)*4);const u=t.createTracker(r);u.move(l+" ".repeat(i-l.length)),u.shift(i);const a=t.enter("listItem"),c=t.indentLines(t.containerFlow(e,u.current()),h);return a(),c;function h(f,x,y){return x?(y?"":" ".repeat(i))+f:(y?l:l+" ".repeat(i-l.length))+f}}function Ui(e,n,t,r){const o=t.enter("paragraph"),l=t.enter("phrasing"),i=t.containerPhrasing(e,r);return l(),o(),i}const Hi=Mn(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Wi(e,n,t,r){return(e.children.some(function(i){return Hi(i)})?t.containerPhrasing:t.containerFlow).call(t,e,r)}function ji(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}qn.peek=$i;function qn(e,n,t,r){const o=ji(t),l=t.enter("strong"),i=t.createTracker(r),u=i.move(o+o);let a=i.move(t.containerPhrasing(e,{after:o,before:u,...i.current()}));const c=a.charCodeAt(0),h=dt(r.before.charCodeAt(r.before.length-1),c,o);h.inside&&(a=Ze(c)+a.slice(1));const f=a.charCodeAt(a.length-1),x=dt(r.after.charCodeAt(0),f,o);x.inside&&(a=a.slice(0,-1)+Ze(f));const y=i.move(o+o);return l(),t.attentionEncodeSurroundingInfo={after:x.outside,before:h.outside},u+a+y}function $i(e,n,t){return t.options.strong||"*"}function Gi(e,n,t,r){return t.safe(e.value,r)}function Vi(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function Yi(e,n,t){const r=(Yn(t)+(t.options.ruleSpaces?" ":"")).repeat(Vi(t));return t.options.ruleSpaces?r.slice(0,-1):r}const Xn={blockquote:gi,break:En,code:_i,definition:Ti,emphasis:Bn,hardBreak:En,heading:vi,html:Un,image:Hn,imageReference:Wn,inlineCode:jn,link:Gn,linkReference:Vn,list:Fi,listItem:Bi,paragraph:Ui,root:Wi,strong:qn,text:Gi,thematicBreak:Yi};function qi(){return{enter:{table:Xi,tableData:yn,tableHeader:yn,tableRow:Qi},exit:{codeText:Zi,table:Ki,tableData:vt,tableHeader:vt,tableRow:vt}}}function Xi(e){const n=e._align;this.enter({type:"table",align:n.map(function(t){return t==="none"?null:t}),children:[]},e),this.data.inTable=!0}function Ki(e){this.exit(e),this.data.inTable=void 0}function Qi(e){this.enter({type:"tableRow",children:[]},e)}function vt(e){this.exit(e)}function yn(e){this.enter({type:"tableCell",children:[]},e)}function Zi(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,Ji));const t=this.stack[this.stack.length-1];Ne(t.type==="inlineCode"),t.value=n,this.exit(e)}function Ji(e,n){return n==="|"?n:e}function eo(e){const n=e||{},t=n.tableCellPadding,r=n.tablePipeAlign,o=n.stringLength,l=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:x,table:i,tableCell:a,tableRow:u}};function i(y,g,w,C){return c(h(y,w,C),y.align)}function u(y,g,w,C){const S=f(y,w,C),v=c([S]);return v.slice(0,v.indexOf(`
`))}function a(y,g,w,C){const S=w.enter("tableCell"),v=w.enter("phrasing"),D=w.containerPhrasing(y,{...C,before:l,after:l});return v(),S(),D}function c(y,g){return di(y,{align:g,alignDelimiters:r,padding:t,stringLength:o})}function h(y,g,w){const C=y.children;let S=-1;const v=[],D=g.enter("table");for(;++S<C.length;)v[S]=f(C[S],g,w);return D(),v}function f(y,g,w){const C=y.children;let S=-1;const v=[],D=g.enter("tableRow");for(;++S<C.length;)v[S]=a(C[S],y,g,w);return D(),v}function x(y,g,w){let C=Xn.inlineCode(y,g,w);return w.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function to(){return{exit:{taskListCheckValueChecked:_n,taskListCheckValueUnchecked:_n,paragraph:ro}}}function no(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:io}}}function _n(e){const n=this.stack[this.stack.length-2];Ne(n.type==="listItem"),n.checked=e.type==="taskListCheckValueChecked"}function ro(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const t=this.stack[this.stack.length-1];Ne(t.type==="paragraph");const r=t.children[0];if(r&&r.type==="text"){const o=n.children;let l=-1,i;for(;++l<o.length;){const u=o[l];if(u.type==="paragraph"){i=u;break}}i===t&&(r.value=r.value.slice(1),r.value.length===0?t.children.shift():t.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,t.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function io(e,n,t,r){const o=e.children[0],l=typeof e.checked=="boolean"&&o&&o.type==="paragraph",i="["+(e.checked?"x":" ")+"] ",u=t.createTracker(r);l&&u.move(i);let a=Xn.listItem(e,n,t,{...r,...u.current()});return l&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),a;function c(h){return h+i}}function oo(){return[Fr(),ii(),si(),qi(),to()]}function ao(e){return{extensions:[Nr(),oi(e),ci(),eo(e),no()]}}const lo={tokenize:mo,partial:!0},Kn={tokenize:ho,partial:!0},Qn={tokenize:go,partial:!0},Zn={tokenize:bo,partial:!0},so={tokenize:xo,partial:!0},Jn={name:"wwwAutolink",tokenize:fo,previous:tr},er={name:"protocolAutolink",tokenize:po,previous:nr},Ee={name:"emailAutolink",tokenize:uo,previous:rr},pe={};function co(){return{text:pe}}let Re=48;for(;Re<123;)pe[Re]=Ee,Re++,Re===58?Re=65:Re===91&&(Re=97);pe[43]=Ee;pe[45]=Ee;pe[46]=Ee;pe[95]=Ee;pe[72]=[Ee,er];pe[104]=[Ee,er];pe[87]=[Ee,Jn];pe[119]=[Ee,Jn];function uo(e,n,t){const r=this;let o,l;return i;function i(f){return!zt(f)||!rr.call(r,r.previous)||$t(r.events)?t(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),u(f))}function u(f){return zt(f)?(e.consume(f),u):f===64?(e.consume(f),a):t(f)}function a(f){return f===46?e.check(so,h,c)(f):f===45||f===95||Ht(f)?(l=!0,e.consume(f),a):h(f)}function c(f){return e.consume(f),o=!0,a}function h(f){return l&&o&&Qe(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(f)):t(f)}}function fo(e,n,t){const r=this;return o;function o(i){return i!==87&&i!==119||!tr.call(r,r.previous)||$t(r.events)?t(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(lo,e.attempt(Kn,e.attempt(Qn,l),t),t)(i))}function l(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(i)}}function po(e,n,t){const r=this;let o="",l=!1;return i;function i(f){return(f===72||f===104)&&nr.call(r,r.previous)&&!$t(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(f),e.consume(f),u):t(f)}function u(f){if(Qe(f)&&o.length<5)return o+=String.fromCodePoint(f),e.consume(f),u;if(f===58){const x=o.toLowerCase();if(x==="http"||x==="https")return e.consume(f),a}return t(f)}function a(f){return f===47?(e.consume(f),l?c:(l=!0,a)):t(f)}function c(f){return f===null||kr(f)||Z(f)||Fe(f)||Ut(f)?t(f):e.attempt(Kn,e.attempt(Qn,h),t)(f)}function h(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(f)}}function mo(e,n,t){let r=0;return o;function o(i){return(i===87||i===119)&&r<3?(r++,e.consume(i),o):i===46&&r===3?(e.consume(i),l):t(i)}function l(i){return i===null?t(i):n(i)}}function ho(e,n,t){let r,o,l;return i;function i(c){return c===46||c===95?e.check(Zn,a,u)(c):c===null||Z(c)||Fe(c)||c!==45&&Ut(c)?a(c):(l=!0,e.consume(c),i)}function u(c){return c===95?r=!0:(o=r,r=void 0),e.consume(c),i}function a(c){return o||r||!l?t(c):n(c)}}function go(e,n){let t=0,r=0;return o;function o(i){return i===40?(t++,e.consume(i),o):i===41&&r<t?l(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?e.check(Zn,n,l)(i):i===null||Z(i)||Fe(i)?n(i):(e.consume(i),o)}function l(i){return i===41&&r++,e.consume(i),o}}function bo(e,n,t){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(e.consume(u),r):u===38?(e.consume(u),l):u===93?(e.consume(u),o):u===60||u===null||Z(u)||Fe(u)?n(u):t(u)}function o(u){return u===null||u===40||u===91||Z(u)||Fe(u)?n(u):r(u)}function l(u){return Qe(u)?i(u):t(u)}function i(u){return u===59?(e.consume(u),r):Qe(u)?(e.consume(u),i):t(u)}}function xo(e,n,t){return r;function r(l){return e.consume(l),o}function o(l){return Ht(l)?t(l):n(l)}}function tr(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Z(e)}function nr(e){return!Qe(e)}function rr(e){return!(e===47||zt(e))}function zt(e){return e===43||e===45||e===46||e===95||Ht(e)}function $t(e){let n=e.length,t=!1;for(;n--;){const r=e[n][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){t=!0;break}if(r._gfmAutolinkLiteralWalkedInto){t=!1;break}}return e.length>0&&!t&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const ko={tokenize:Co,partial:!0};function Eo(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:To,continuation:{tokenize:So},exit:Ao}},text:{91:{name:"gfmFootnoteCall",tokenize:wo},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:yo,resolveTo:_o}}}}function yo(e,n,t){const r=this;let o=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i;for(;o--;){const a=r.events[o][1];if(a.type==="labelImage"){i=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return u;function u(a){if(!i||!i._balanced)return t(a);const c=Je(r.sliceSerialize({start:i.end,end:r.now()}));return c.codePointAt(0)!==94||!l.includes(c.slice(1))?t(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),n(a))}}function _o(e,n){let t=e.length;for(;t--;)if(e[t][1].type==="labelImage"&&e[t][0]==="enter"){e[t][1];break}e[t+1][1].type="data",e[t+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[t+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[t+3][1].end),end:Object.assign({},e[t+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},u=[e[t+1],e[t+2],["enter",r,n],e[t+3],e[t+4],["enter",o,n],["exit",o,n],["enter",l,n],["enter",i,n],["exit",i,n],["exit",l,n],e[e.length-2],e[e.length-1],["exit",r,n]];return e.splice(t,e.length-t+1,...u),e}function wo(e,n,t){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,i;return u;function u(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),a}function a(f){return f!==94?t(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(l>999||f===93&&!i||f===null||f===91||Z(f))return t(f);if(f===93){e.exit("chunkString");const x=e.exit("gfmFootnoteCallString");return o.includes(Je(r.sliceSerialize(x)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):t(f)}return Z(f)||(i=!0),l++,e.consume(f),f===92?h:c}function h(f){return f===91||f===92||f===93?(e.consume(f),l++,c):c(f)}}function To(e,n,t){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,i=0,u;return a;function a(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",h):t(g)}function h(g){if(i>999||g===93&&!u||g===null||g===91||Z(g))return t(g);if(g===93){e.exit("chunkString");const w=e.exit("gfmFootnoteDefinitionLabelString");return l=Je(r.sliceSerialize(w)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),x}return Z(g)||(u=!0),i++,e.consume(g),g===92?f:h}function f(g){return g===91||g===92||g===93?(e.consume(g),i++,h):h(g)}function x(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),o.includes(l)||o.push(l),Te(e,y,"gfmFootnoteDefinitionWhitespace")):t(g)}function y(g){return n(g)}}function So(e,n,t){return e.check(Er,n,e.attempt(ko,n,t))}function Ao(e){e.exit("gfmFootnoteDefinition")}function Co(e,n,t){const r=this;return Te(e,o,"gfmFootnoteDefinitionIndent",5);function o(l){const i=r.events[r.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?n(l):t(l)}}function vo(e){let t=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:o};return t==null&&(t=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(i,u){let a=-1;for(;++a<i.length;)if(i[a][0]==="enter"&&i[a][1].type==="strikethroughSequenceTemporary"&&i[a][1]._close){let c=a;for(;c--;)if(i[c][0]==="exit"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._open&&i[a][1].end.offset-i[a][1].start.offset===i[c][1].end.offset-i[c][1].start.offset){i[a][1].type="strikethroughSequence",i[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},i[c][1].start),end:Object.assign({},i[a][1].end)},f={type:"strikethroughText",start:Object.assign({},i[c][1].end),end:Object.assign({},i[a][1].start)},x=[["enter",h,u],["enter",i[c][1],u],["exit",i[c][1],u],["enter",f,u]],y=u.parser.constructs.insideSpan.null;y&&wt(x,x.length,0,yr(y,i.slice(c+1,a),u)),wt(x,x.length,0,[["exit",f,u],["enter",i[a][1],u],["exit",i[a][1],u],["exit",h,u]]),wt(i,c-1,a-c+3,x),a=c+x.length-2;break}}for(a=-1;++a<i.length;)i[a][1].type==="strikethroughSequenceTemporary"&&(i[a][1].type="data");return i}function l(i,u,a){const c=this.previous,h=this.events;let f=0;return x;function x(g){return c===126&&h[h.length-1][1].type!=="characterEscape"?a(g):(i.enter("strikethroughSequenceTemporary"),y(g))}function y(g){const w=mt(c);if(g===126)return f>1?a(g):(i.consume(g),f++,y);if(f<2&&!t)return a(g);const C=i.exit("strikethroughSequenceTemporary"),S=mt(g);return C._open=!S||S===2&&!!w,C._close=!w||w===2&&!!S,u(g)}}}class Ro{constructor(){this.map=[]}add(n,t,r){Do(this,n,t,r)}consume(n){if(this.map.sort(function(l,i){return l[0]-i[0]}),this.map.length===0)return;let t=this.map.length;const r=[];for(;t>0;)t-=1,r.push(n.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),n.length=this.map[t][0];r.push(n.slice()),n.length=0;let o=r.pop();for(;o;){for(const l of o)n.push(l);o=r.pop()}this.map.length=0}}function Do(e,n,t,r){let o=0;if(!(t===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===n){e.map[o][1]+=t,e.map[o][2].push(...r);return}o+=1}e.map.push([n,t,r])}}function Io(e,n){let t=!1;const r=[];for(;n<e.length;){const o=e[n];if(t){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(t=!0);n+=1}return r}function Lo(){return{flow:{null:{name:"table",tokenize:Mo,resolveAll:Oo}}}}function Mo(e,n,t){const r=this;let o=0,l=0,i;return u;function u(m){let M=r.events.length-1;for(;M>-1;){const oe=r.events[M][1].type;if(oe==="lineEnding"||oe==="linePrefix")M--;else break}const he=M>-1?r.events[M][1].type:null,_e=he==="tableHead"||he==="tableRow"?N:a;return _e===N&&r.parser.lazy[r.now().line]?t(m):_e(m)}function a(m){return e.enter("tableHead"),e.enter("tableRow"),c(m)}function c(m){return m===124||(i=!0,l+=1),h(m)}function h(m){return m===null?t(m):Ke(m)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),y):t(m):Pe(m)?Te(e,h,"whitespace")(m):(l+=1,i&&(i=!1,o+=1),m===124?(e.enter("tableCellDivider"),e.consume(m),e.exit("tableCellDivider"),i=!0,h):(e.enter("data"),f(m)))}function f(m){return m===null||m===124||Z(m)?(e.exit("data"),h(m)):(e.consume(m),m===92?x:f)}function x(m){return m===92||m===124?(e.consume(m),f):f(m)}function y(m){return r.interrupt=!1,r.parser.lazy[r.now().line]?t(m):(e.enter("tableDelimiterRow"),i=!1,Pe(m)?Te(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):g(m))}function g(m){return m===45||m===58?C(m):m===124?(i=!0,e.enter("tableCellDivider"),e.consume(m),e.exit("tableCellDivider"),w):F(m)}function w(m){return Pe(m)?Te(e,C,"whitespace")(m):C(m)}function C(m){return m===58?(l+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(m),e.exit("tableDelimiterMarker"),S):m===45?(l+=1,S(m)):m===null||Ke(m)?I(m):F(m)}function S(m){return m===45?(e.enter("tableDelimiterFiller"),v(m)):F(m)}function v(m){return m===45?(e.consume(m),v):m===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(m),e.exit("tableDelimiterMarker"),D):(e.exit("tableDelimiterFiller"),D(m))}function D(m){return Pe(m)?Te(e,I,"whitespace")(m):I(m)}function I(m){return m===124?g(m):m===null||Ke(m)?!i||o!==l?F(m):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(m)):F(m)}function F(m){return t(m)}function N(m){return e.enter("tableRow"),me(m)}function me(m){return m===124?(e.enter("tableCellDivider"),e.consume(m),e.exit("tableCellDivider"),me):m===null||Ke(m)?(e.exit("tableRow"),n(m)):Pe(m)?Te(e,me,"whitespace")(m):(e.enter("data"),ye(m))}function ye(m){return m===null||m===124||Z(m)?(e.exit("data"),me(m)):(e.consume(m),m===92?de:ye)}function de(m){return m===92||m===124?(e.consume(m),ye):ye(m)}}function Oo(e,n){let t=-1,r=!0,o=0,l=[0,0,0,0],i=[0,0,0,0],u=!1,a=0,c,h,f;const x=new Ro;for(;++t<e.length;){const y=e[t],g=y[1];y[0]==="enter"?g.type==="tableHead"?(u=!1,a!==0&&(wn(x,n,a,c,h),h=void 0,a=0),c={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},x.add(t,0,[["enter",c,n]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,l=[0,0,0,0],i=[0,t+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},x.add(t,0,[["enter",h,n]])),o=g.type==="tableDelimiterRow"?2:h?3:1):o&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,i[2]===0&&(l[1]!==0&&(i[0]=i[1],f=ct(x,n,l,o,void 0,f),l=[0,0,0,0]),i[2]=t)):g.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(i[0]=i[1],f=ct(x,n,l,o,void 0,f)),l=i,i=[l[1],t,0,0])):g.type==="tableHead"?(u=!0,a=t):g.type==="tableRow"||g.type==="tableDelimiterRow"?(a=t,l[1]!==0?(i[0]=i[1],f=ct(x,n,l,o,t,f)):i[1]!==0&&(f=ct(x,n,i,o,t,f)),o=0):o&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(i[3]=t)}for(a!==0&&wn(x,n,a,c,h),x.consume(n.events),t=-1;++t<n.events.length;){const y=n.events[t];y[0]==="enter"&&y[1].type==="table"&&(y[1]._align=Io(n.events,t))}return e}function ct(e,n,t,r,o,l){const i=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";t[0]!==0&&(l.end=Object.assign({},ze(n.events,t[0])),e.add(t[0],0,[["exit",l,n]]));const a=ze(n.events,t[1]);if(l={type:i,start:Object.assign({},a),end:Object.assign({},a)},e.add(t[1],0,[["enter",l,n]]),t[2]!==0){const c=ze(n.events,t[2]),h=ze(n.events,t[3]),f={type:u,start:Object.assign({},c),end:Object.assign({},h)};if(e.add(t[2],0,[["enter",f,n]]),r!==2){const x=n.events[t[2]],y=n.events[t[3]];if(x[1].end=Object.assign({},y[1].end),x[1].type="chunkText",x[1].contentType="text",t[3]>t[2]+1){const g=t[2]+1,w=t[3]-t[2]-1;e.add(g,w,[])}}e.add(t[3]+1,0,[["exit",f,n]])}return o!==void 0&&(l.end=Object.assign({},ze(n.events,o)),e.add(o,0,[["exit",l,n]]),l=void 0),l}function wn(e,n,t,r,o){const l=[],i=ze(n.events,t);o&&(o.end=Object.assign({},i),l.push(["exit",o,n])),r.end=Object.assign({},i),l.push(["exit",r,n]),e.add(t+1,0,l)}function ze(e,n){const t=e[n],r=t[0]==="enter"?"start":"end";return t[1][r]}const Po={name:"tasklistCheck",tokenize:Fo};function zo(){return{text:{91:Po}}}function Fo(e,n,t){const r=this;return o;function o(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?t(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),l)}function l(a){return Z(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),i):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),i):t(a)}function i(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),u):t(a)}function u(a){return Ke(a)?n(a):Pe(a)?e.check({tokenize:No},n,t)(a):t(a)}}function No(e,n,t){return Te(e,r,"whitespace");function r(o){return o===null?t(o):n(o)}}function Bo(e){return _r([co(),Eo(),vo(e),Lo(),zo()])}const Uo={};function Ho(e){const n=this,t=e||Uo,r=n.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),i=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(Bo(t)),l.push(oo()),i.push(ao(t))}const{entries:ir,setPrototypeOf:Tn,isFrozen:Wo,getPrototypeOf:jo,getOwnPropertyDescriptor:$o}=Object;let{freeze:q,seal:te,create:Ft}=Object,{apply:Nt,construct:Bt}=typeof Reflect<"u"&&Reflect;q||(q=function(n){return n});te||(te=function(n){return n});Nt||(Nt=function(n,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),l=2;l<r;l++)o[l-2]=arguments[l];return n.apply(t,o)});Bt||(Bt=function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return new n(...r)});const ut=X(Array.prototype.forEach),Go=X(Array.prototype.lastIndexOf),Sn=X(Array.prototype.pop),Ge=X(Array.prototype.push),Vo=X(Array.prototype.splice),pt=X(String.prototype.toLowerCase),Rt=X(String.prototype.toString),Dt=X(String.prototype.match),Ve=X(String.prototype.replace),Yo=X(String.prototype.indexOf),qo=X(String.prototype.trim),ie=X(Object.prototype.hasOwnProperty),Y=X(RegExp.prototype.test),Ye=Xo(TypeError);function X(e){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return Nt(e,n,r)}}function Xo(e){return function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return Bt(e,t)}}function R(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pt;Tn&&Tn(e,null);let r=n.length;for(;r--;){let o=n[r];if(typeof o=="string"){const l=t(o);l!==o&&(Wo(n)||(n[r]=l),o=l)}e[o]=!0}return e}function Ko(e){for(let n=0;n<e.length;n++)ie(e,n)||(e[n]=null);return e}function fe(e){const n=Ft(null);for(const[t,r]of ir(e))ie(e,t)&&(Array.isArray(r)?n[t]=Ko(r):r&&typeof r=="object"&&r.constructor===Object?n[t]=fe(r):n[t]=r);return n}function qe(e,n){for(;e!==null;){const r=$o(e,n);if(r){if(r.get)return X(r.get);if(typeof r.value=="function")return X(r.value)}e=jo(e)}function t(){return null}return t}const An=q(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),It=q(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Lt=q(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Qo=q(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Mt=q(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Zo=q(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Cn=q(["#text"]),vn=q(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ot=q(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rn=q(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ft=q(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Jo=te(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ea=te(/<%[\w\W]*|[\w\W]*%>/gm),ta=te(/\$\{[\w\W]*/gm),na=te(/^data-[\-\w.\u00B7-\uFFFF]+$/),ra=te(/^aria-[\-\w]+$/),or=te(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ia=te(/^(?:\w+script|data):/i),oa=te(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ar=te(/^html$/i),aa=te(/^[a-z][.\w]*(-[.\w]+)+$/i);var Dn=Object.freeze({__proto__:null,ARIA_ATTR:ra,ATTR_WHITESPACE:oa,CUSTOM_ELEMENT:aa,DATA_ATTR:na,DOCTYPE_NAME:ar,ERB_EXPR:ea,IS_ALLOWED_URI:or,IS_SCRIPT_OR_DATA:ia,MUSTACHE_EXPR:Jo,TMPLIT_EXPR:ta});const Xe={element:1,text:3,progressingInstruction:7,comment:8,document:9},la=function(){return typeof window>"u"?null:window},sa=function(n,t){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(r=t.getAttribute(o));const l="dompurify"+(r?"#"+r:"");try{return n.createPolicy(l,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},In=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function lr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:la();const n=_=>lr(_);if(n.version="3.3.1",n.removed=[],!e||!e.document||e.document.nodeType!==Xe.document||!e.Element)return n.isSupported=!1,n;let{document:t}=e;const r=t,o=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:i,Node:u,Element:a,NodeFilter:c,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:x,trustedTypes:y}=e,g=a.prototype,w=qe(g,"cloneNode"),C=qe(g,"remove"),S=qe(g,"nextSibling"),v=qe(g,"childNodes"),D=qe(g,"parentNode");if(typeof i=="function"){const _=t.createElement("template");_.content&&_.content.ownerDocument&&(t=_.content.ownerDocument)}let I,F="";const{implementation:N,createNodeIterator:me,createDocumentFragment:ye,getElementsByTagName:de}=t,{importNode:m}=r;let M=In();n.isSupported=typeof ir=="function"&&typeof D=="function"&&N&&N.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:he,ERB_EXPR:_e,TMPLIT_EXPR:oe,DATA_ATTR:ht,ARIA_ATTR:Be,IS_SCRIPT_OR_DATA:Se,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:gt}=Dn;let{IS_ALLOWED_URI:J}=Dn,B=null;const De=R({},[...An,...It,...Lt,...Mt,...Cn]);let U=null;const Ue=R({},[...vn,...Ot,...Rn,...ft]);let P=Object.seal(Ft(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,He=null;const K=Object.seal(Ft(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let et=!0,We=!0,tt=!1,je=!0,le=!1,ee=!0,se=!1,Ae=!1,re=!1,ce=!1,Ce=!1,Ie=!1,nt=!0,rt=!1;const d="user-content-";let T=!0,L=!1,$={},z=null;const we=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let it=null;const Gt=R({},["audio","video","img","source","image","track"]);let bt=null;const Vt=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ot="http://www.w3.org/1998/Math/MathML",at="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml";let Le=ge,xt=!1,kt=null;const cr=R({},[ot,at,ge],Rt);let lt=R({},["mi","mo","mn","ms","mtext"]),st=R({},["annotation-xml"]);const ur=R({},["title","style","font","a","script"]);let $e=null;const fr=["application/xhtml+xml","text/html"],pr="text/html";let W=null,Me=null;const mr=t.createElement("form"),Yt=function(s){return s instanceof RegExp||s instanceof Function},Et=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Me&&Me===s)){if((!s||typeof s!="object")&&(s={}),s=fe(s),$e=fr.indexOf(s.PARSER_MEDIA_TYPE)===-1?pr:s.PARSER_MEDIA_TYPE,W=$e==="application/xhtml+xml"?Rt:pt,B=ie(s,"ALLOWED_TAGS")?R({},s.ALLOWED_TAGS,W):De,U=ie(s,"ALLOWED_ATTR")?R({},s.ALLOWED_ATTR,W):Ue,kt=ie(s,"ALLOWED_NAMESPACES")?R({},s.ALLOWED_NAMESPACES,Rt):cr,bt=ie(s,"ADD_URI_SAFE_ATTR")?R(fe(Vt),s.ADD_URI_SAFE_ATTR,W):Vt,it=ie(s,"ADD_DATA_URI_TAGS")?R(fe(Gt),s.ADD_DATA_URI_TAGS,W):Gt,z=ie(s,"FORBID_CONTENTS")?R({},s.FORBID_CONTENTS,W):we,ae=ie(s,"FORBID_TAGS")?R({},s.FORBID_TAGS,W):fe({}),He=ie(s,"FORBID_ATTR")?R({},s.FORBID_ATTR,W):fe({}),$=ie(s,"USE_PROFILES")?s.USE_PROFILES:!1,et=s.ALLOW_ARIA_ATTR!==!1,We=s.ALLOW_DATA_ATTR!==!1,tt=s.ALLOW_UNKNOWN_PROTOCOLS||!1,je=s.ALLOW_SELF_CLOSE_IN_ATTR!==!1,le=s.SAFE_FOR_TEMPLATES||!1,ee=s.SAFE_FOR_XML!==!1,se=s.WHOLE_DOCUMENT||!1,ce=s.RETURN_DOM||!1,Ce=s.RETURN_DOM_FRAGMENT||!1,Ie=s.RETURN_TRUSTED_TYPE||!1,re=s.FORCE_BODY||!1,nt=s.SANITIZE_DOM!==!1,rt=s.SANITIZE_NAMED_PROPS||!1,T=s.KEEP_CONTENT!==!1,L=s.IN_PLACE||!1,J=s.ALLOWED_URI_REGEXP||or,Le=s.NAMESPACE||ge,lt=s.MATHML_TEXT_INTEGRATION_POINTS||lt,st=s.HTML_INTEGRATION_POINTS||st,P=s.CUSTOM_ELEMENT_HANDLING||{},s.CUSTOM_ELEMENT_HANDLING&&Yt(s.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=s.CUSTOM_ELEMENT_HANDLING.tagNameCheck),s.CUSTOM_ELEMENT_HANDLING&&Yt(s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=s.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),s.CUSTOM_ELEMENT_HANDLING&&typeof s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(P.allowCustomizedBuiltInElements=s.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),le&&(We=!1),Ce&&(ce=!0),$&&(B=R({},Cn),U=[],$.html===!0&&(R(B,An),R(U,vn)),$.svg===!0&&(R(B,It),R(U,Ot),R(U,ft)),$.svgFilters===!0&&(R(B,Lt),R(U,Ot),R(U,ft)),$.mathMl===!0&&(R(B,Mt),R(U,Rn),R(U,ft))),s.ADD_TAGS&&(typeof s.ADD_TAGS=="function"?K.tagCheck=s.ADD_TAGS:(B===De&&(B=fe(B)),R(B,s.ADD_TAGS,W))),s.ADD_ATTR&&(typeof s.ADD_ATTR=="function"?K.attributeCheck=s.ADD_ATTR:(U===Ue&&(U=fe(U)),R(U,s.ADD_ATTR,W))),s.ADD_URI_SAFE_ATTR&&R(bt,s.ADD_URI_SAFE_ATTR,W),s.FORBID_CONTENTS&&(z===we&&(z=fe(z)),R(z,s.FORBID_CONTENTS,W)),s.ADD_FORBID_CONTENTS&&(z===we&&(z=fe(z)),R(z,s.ADD_FORBID_CONTENTS,W)),T&&(B["#text"]=!0),se&&R(B,["html","head","body"]),B.table&&(R(B,["tbody"]),delete ae.tbody),s.TRUSTED_TYPES_POLICY){if(typeof s.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ye('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof s.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ye('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=s.TRUSTED_TYPES_POLICY,F=I.createHTML("")}else I===void 0&&(I=sa(y,o)),I!==null&&typeof F=="string"&&(F=I.createHTML(""));q&&q(s),Me=s}},qt=R({},[...It,...Lt,...Qo]),Xt=R({},[...Mt,...Zo]),dr=function(s){let b=D(s);(!b||!b.tagName)&&(b={namespaceURI:Le,tagName:"template"});const k=pt(s.tagName),O=pt(b.tagName);return kt[s.namespaceURI]?s.namespaceURI===at?b.namespaceURI===ge?k==="svg":b.namespaceURI===ot?k==="svg"&&(O==="annotation-xml"||lt[O]):!!qt[k]:s.namespaceURI===ot?b.namespaceURI===ge?k==="math":b.namespaceURI===at?k==="math"&&st[O]:!!Xt[k]:s.namespaceURI===ge?b.namespaceURI===at&&!st[O]||b.namespaceURI===ot&&!lt[O]?!1:!Xt[k]&&(ur[k]||!qt[k]):!!($e==="application/xhtml+xml"&&kt[s.namespaceURI]):!1},ue=function(s){Ge(n.removed,{element:s});try{D(s).removeChild(s)}catch{C(s)}},ve=function(s,b){try{Ge(n.removed,{attribute:b.getAttributeNode(s),from:b})}catch{Ge(n.removed,{attribute:null,from:b})}if(b.removeAttribute(s),s==="is")if(ce||Ce)try{ue(b)}catch{}else try{b.setAttribute(s,"")}catch{}},Kt=function(s){let b=null,k=null;if(re)s="<remove></remove>"+s;else{const H=Dt(s,/^[\r\n\t ]+/);k=H&&H[0]}$e==="application/xhtml+xml"&&Le===ge&&(s='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+s+"</body></html>");const O=I?I.createHTML(s):s;if(Le===ge)try{b=new x().parseFromString(O,$e)}catch{}if(!b||!b.documentElement){b=N.createDocument(Le,"template",null);try{b.documentElement.innerHTML=xt?F:O}catch{}}const G=b.body||b.documentElement;return s&&k&&G.insertBefore(t.createTextNode(k),G.childNodes[0]||null),Le===ge?de.call(b,se?"html":"body")[0]:se?b.documentElement:G},Qt=function(s){return me.call(s.ownerDocument||s,s,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},yt=function(s){return s instanceof f&&(typeof s.nodeName!="string"||typeof s.textContent!="string"||typeof s.removeChild!="function"||!(s.attributes instanceof h)||typeof s.removeAttribute!="function"||typeof s.setAttribute!="function"||typeof s.namespaceURI!="string"||typeof s.insertBefore!="function"||typeof s.hasChildNodes!="function")},Zt=function(s){return typeof u=="function"&&s instanceof u};function be(_,s,b){ut(_,k=>{k.call(n,s,b,Me)})}const Jt=function(s){let b=null;if(be(M.beforeSanitizeElements,s,null),yt(s))return ue(s),!0;const k=W(s.nodeName);if(be(M.uponSanitizeElement,s,{tagName:k,allowedTags:B}),ee&&s.hasChildNodes()&&!Zt(s.firstElementChild)&&Y(/<[/\w!]/g,s.innerHTML)&&Y(/<[/\w!]/g,s.textContent)||s.nodeType===Xe.progressingInstruction||ee&&s.nodeType===Xe.comment&&Y(/<[/\w]/g,s.data))return ue(s),!0;if(!(K.tagCheck instanceof Function&&K.tagCheck(k))&&(!B[k]||ae[k])){if(!ae[k]&&tn(k)&&(P.tagNameCheck instanceof RegExp&&Y(P.tagNameCheck,k)||P.tagNameCheck instanceof Function&&P.tagNameCheck(k)))return!1;if(T&&!z[k]){const O=D(s)||s.parentNode,G=v(s)||s.childNodes;if(G&&O){const H=G.length;for(let Q=H-1;Q>=0;--Q){const xe=w(G[Q],!0);xe.__removalCount=(s.__removalCount||0)+1,O.insertBefore(xe,S(s))}}}return ue(s),!0}return s instanceof a&&!dr(s)||(k==="noscript"||k==="noembed"||k==="noframes")&&Y(/<\/no(script|embed|frames)/i,s.innerHTML)?(ue(s),!0):(le&&s.nodeType===Xe.text&&(b=s.textContent,ut([he,_e,oe],O=>{b=Ve(b,O," ")}),s.textContent!==b&&(Ge(n.removed,{element:s.cloneNode()}),s.textContent=b)),be(M.afterSanitizeElements,s,null),!1)},en=function(s,b,k){if(nt&&(b==="id"||b==="name")&&(k in t||k in mr))return!1;if(!(We&&!He[b]&&Y(ht,b))){if(!(et&&Y(Be,b))){if(!(K.attributeCheck instanceof Function&&K.attributeCheck(b,s))){if(!U[b]||He[b]){if(!(tn(s)&&(P.tagNameCheck instanceof RegExp&&Y(P.tagNameCheck,s)||P.tagNameCheck instanceof Function&&P.tagNameCheck(s))&&(P.attributeNameCheck instanceof RegExp&&Y(P.attributeNameCheck,b)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(b,s))||b==="is"&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&Y(P.tagNameCheck,k)||P.tagNameCheck instanceof Function&&P.tagNameCheck(k))))return!1}else if(!bt[b]){if(!Y(J,Ve(k,V,""))){if(!((b==="src"||b==="xlink:href"||b==="href")&&s!=="script"&&Yo(k,"data:")===0&&it[s])){if(!(tt&&!Y(Se,Ve(k,V,"")))){if(k)return!1}}}}}}}return!0},tn=function(s){return s!=="annotation-xml"&&Dt(s,gt)},nn=function(s){be(M.beforeSanitizeAttributes,s,null);const{attributes:b}=s;if(!b||yt(s))return;const k={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0};let O=b.length;for(;O--;){const G=b[O],{name:H,namespaceURI:Q,value:xe}=G,Oe=W(H),_t=xe;let j=H==="value"?_t:qo(_t);if(k.attrName=Oe,k.attrValue=j,k.keepAttr=!0,k.forceKeepAttr=void 0,be(M.uponSanitizeAttribute,s,k),j=k.attrValue,rt&&(Oe==="id"||Oe==="name")&&(ve(H,s),j=d+j),ee&&Y(/((--!?|])>)|<\/(style|title|textarea)/i,j)){ve(H,s);continue}if(Oe==="attributename"&&Dt(j,"href")){ve(H,s);continue}if(k.forceKeepAttr)continue;if(!k.keepAttr){ve(H,s);continue}if(!je&&Y(/\/>/i,j)){ve(H,s);continue}le&&ut([he,_e,oe],on=>{j=Ve(j,on," ")});const rn=W(s.nodeName);if(!en(rn,Oe,j)){ve(H,s);continue}if(I&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!Q)switch(y.getAttributeType(rn,Oe)){case"TrustedHTML":{j=I.createHTML(j);break}case"TrustedScriptURL":{j=I.createScriptURL(j);break}}if(j!==_t)try{Q?s.setAttributeNS(Q,H,j):s.setAttribute(H,j),yt(s)?ue(s):Sn(n.removed)}catch{ve(H,s)}}be(M.afterSanitizeAttributes,s,null)},hr=function _(s){let b=null;const k=Qt(s);for(be(M.beforeSanitizeShadowDOM,s,null);b=k.nextNode();)be(M.uponSanitizeShadowNode,b,null),Jt(b),nn(b),b.content instanceof l&&_(b.content);be(M.afterSanitizeShadowDOM,s,null)};return n.sanitize=function(_){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=null,k=null,O=null,G=null;if(xt=!_,xt&&(_="<!-->"),typeof _!="string"&&!Zt(_))if(typeof _.toString=="function"){if(_=_.toString(),typeof _!="string")throw Ye("dirty is not a string, aborting")}else throw Ye("toString is not a function");if(!n.isSupported)return _;if(Ae||Et(s),n.removed=[],typeof _=="string"&&(L=!1),L){if(_.nodeName){const xe=W(_.nodeName);if(!B[xe]||ae[xe])throw Ye("root node is forbidden and cannot be sanitized in-place")}}else if(_ instanceof u)b=Kt("<!---->"),k=b.ownerDocument.importNode(_,!0),k.nodeType===Xe.element&&k.nodeName==="BODY"||k.nodeName==="HTML"?b=k:b.appendChild(k);else{if(!ce&&!le&&!se&&_.indexOf("<")===-1)return I&&Ie?I.createHTML(_):_;if(b=Kt(_),!b)return ce?null:Ie?F:""}b&&re&&ue(b.firstChild);const H=Qt(L?_:b);for(;O=H.nextNode();)Jt(O),nn(O),O.content instanceof l&&hr(O.content);if(L)return _;if(ce){if(Ce)for(G=ye.call(b.ownerDocument);b.firstChild;)G.appendChild(b.firstChild);else G=b;return(U.shadowroot||U.shadowrootmode)&&(G=m.call(r,G,!0)),G}let Q=se?b.outerHTML:b.innerHTML;return se&&B["!doctype"]&&b.ownerDocument&&b.ownerDocument.doctype&&b.ownerDocument.doctype.name&&Y(ar,b.ownerDocument.doctype.name)&&(Q="<!DOCTYPE "+b.ownerDocument.doctype.name+`>
`+Q),le&&ut([he,_e,oe],xe=>{Q=Ve(Q,xe," ")}),I&&Ie?I.createHTML(Q):Q},n.setConfig=function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Et(_),Ae=!0},n.clearConfig=function(){Me=null,Ae=!1},n.isValidAttribute=function(_,s,b){Me||Et({});const k=W(_),O=W(s);return en(k,O,b)},n.addHook=function(_,s){typeof s=="function"&&Ge(M[_],s)},n.removeHook=function(_,s){if(s!==void 0){const b=Go(M[_],s);return b===-1?void 0:Vo(M[_],b,1)[0]}return Sn(M[_])},n.removeHooks=function(_){M[_]=[]},n.removeAllHooks=function(){M=In()},n}lr();const ca=A.lazy(()=>ne(()=>import("./ReactionPicker-YDCVtZZg.js"),__vite__mapDeps([0,1,2]),import.meta.url)),ua=A.lazy(()=>ne(()=>import("./LinkPreview-CBFwmwBS.js"),__vite__mapDeps([3,1,2]),import.meta.url)),Ln=A.lazy(()=>ne(()=>import("./CodeBlock-sf3kMDbC.js"),__vite__mapDeps([4,1,2,5,6]),import.meta.url)),fa=A.lazy(()=>ne(()=>import("./Spoiler-D03xDOUn.js"),__vite__mapDeps([7,1,2]),import.meta.url)),Pt=A.lazy(()=>ne(()=>import("./VoiceMessagePlayer-Ctx2vole.js"),__vite__mapDeps([8,1,2]),import.meta.url)),pa=A.lazy(()=>ne(()=>import("./TicTacToe-Fbwch3Vg.js"),__vite__mapDeps([9,1,2]),import.meta.url)),ma=A.lazy(()=>ne(()=>import("./BookmarkButton-Dkv-W2Rg.js"),__vite__mapDeps([10,1,2]),import.meta.url).then(e=>({default:e.BookmarkButton}))),da=A.lazy(()=>ne(()=>import("./BookmarkButton-Dkv-W2Rg.js"),__vite__mapDeps([10,1,2]),import.meta.url).then(e=>({default:e.StarButton}))),ha=A.lazy(()=>ne(()=>import("./BookmarkButton-Dkv-W2Rg.js"),__vite__mapDeps([10,1,2]),import.meta.url).then(e=>({default:e.ReadLaterButton}))),ga=A.lazy(()=>ne(()=>import("./ReminderModal-DrCuLihm.js"),__vite__mapDeps([11,1,2,5,6]),import.meta.url)),ba=A.lazy(()=>ne(()=>import("./MessageThreads-DVRJe1QT.js"),__vite__mapDeps([12,1,2,5,6]),import.meta.url));A.lazy(()=>ne(()=>import("./GameMessage-B5HlVOWo.js"),__vite__mapDeps([13,1,2]),import.meta.url));const xa=A.memo(({src:e,style:n})=>{const t=A.useRef(null),[r,o]=A.useState(!1);return A.useEffect(()=>{const l=new IntersectionObserver(([i])=>{i.isIntersecting&&(o(!0),l.disconnect())},{threshold:.2});return t.current&&l.observe(t.current),()=>{t.current&&l.unobserve(t.current)}},[]),p.createElement("div",{ref:t,style:{minHeight:"200px",...n,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#000"}},r?p.createElement("video",{controls:!0,preload:"metadata",src:e,style:n},"Taraycnz video oynatmay desteklemiyor.",p.createElement("a",{href:e,download:!0},"ndir")):p.createElement("span",{style:{color:"#aaa"}},"Video Ykleniyor..."))}),ka=A.memo(({children:e,minHeight:n=60})=>{const t=A.useRef(null),[r,o]=A.useState(!1);return A.useEffect(()=>{const l=new IntersectionObserver(([i])=>{i.isIntersecting&&(o(!0),l.disconnect())},{threshold:.1});return t.current&&l.observe(t.current),()=>l.disconnect()},[]),p.createElement("div",{ref:t,style:{minHeight:n}},r?e:null)}),Ea=({messageId:e,messageEditHistoryUrl:n,fetchWithAuth:t})=>{const[r,o]=A.useState([]),[l,i]=A.useState(!1),u=A.useRef(null);return A.useEffect(()=>{if(!l)return;(async()=>{try{const h=await t(`${n}${e}/edit_history/`);h.ok&&o(await h.json())}catch(h){console.error(h)}})();const c=h=>{u.current&&!u.current.contains(h.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[l,e,n,t]),p.createElement("div",{style:{position:"relative",display:"inline-block",marginLeft:"5px"},ref:u},p.createElement("span",{onClick:a=>{a.stopPropagation(),i(!l)},style:{fontSize:"0.7em",color:"#72767d",cursor:"pointer",textDecoration:"underline"}},"(dzenlendi)"),l&&p.createElement("div",{style:E.historyDropdown},p.createElement("h4",{style:E.historyHeader},"Gemi (",r.length,")"),p.createElement("div",{style:{maxHeight:"200px",overflowY:"auto"}},r.map((a,c)=>p.createElement("div",{key:c,style:E.historyItem},p.createElement("small",null,new Date(a.edited_at).toLocaleString()),p.createElement("div",null,p.createElement("del",null,a.old_content)))))))},ya=e=>{if(!e)return"";const n=new Date(e),t=new Date;return n.toDateString()===t.toDateString()?n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n.toLocaleString([],{hour:"2-digit",minute:"2-digit"})},_a=({msg:e,currentUser:n,isAdmin:t,onDelete:r,onStartEdit:o,onToggleReaction:l,onTogglePin:i,onSetReply:u,onImageClick:a,absoluteHostUrl:c,onScrollToMessage:h,onVisible:f,messageEditHistoryUrl:x,onViewProfile:y,onStartForward:g,fetchWithAuth:w,isSelectionMode:C,isSelected:S,onToggleSelection:v,allUsers:D,getDeterministicAvatar:I,onShowChart:F,onContentLoad:N})=>{if(!e||typeof e!="object"||!e.id)return console.warn(" [Message] Invalid message data:",e),null;const me=hn(d=>d.encryptionKeys),ye=hn(d=>d.currentPermissions),[de,m]=A.useState(e.transcription||null),[M,he]=A.useState(!1),[_e,oe]=A.useState(!1),[ht,Be]=A.useState(!1),[Se,V]=A.useState(null),gt=A.useCallback(async()=>{try{if((await w(`${c}/messages/${e.id}/quote/`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok){const T=e.content||"",L=`> ${e.username} said:
> ${T.split(`
`).join(`
> `)}

`;u({...e,quotedText:L}),ke.success("Message quoted!")}else ke.error("Failed to quote message")}catch(d){console.error("Quote error:",d),ke.error("Failed to quote message")}},[e,c,w,u]),J=e.username===n,B=["Pawscord AI","PawPaw AI"," Signal Bot"].includes(e.username),De=A.useRef(null),[U,Ue]=A.useState(!1),[P,ae]=A.useState(!1),He=A.useCallback(d=>{d.preventDefault(),V({x:d.clientX,y:d.clientY})},[]);A.useEffect(()=>{const d=()=>V(null);if(Se)return document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[Se]),A.useEffect(()=>{if(!f||J||e.read_by?.includes(n))return;const d=new IntersectionObserver(([T])=>{T.isIntersecting&&(f(e.id),d.disconnect())},{threshold:.8});return De.current&&d.observe(De.current),()=>d.disconnect()},[e.id,J,e.read_by,f,n]);const K=A.useMemo(()=>{if(!e.content)return"";if(gn(e.content)){const d=e.room?`room-${e.room}`:e.conversation?`dm-${e.conversation}`:null,T=me[d];return T?Ir(e.content,T):" Bu mesaj ifreli. Okumak iin anahtar girin."}return e.content},[e.content,e.room,e.conversation,me]),et=gn(e.content),We=A.useMemo(()=>{let d=e.avatar;return d||(d=D?.find(L=>L.username===e.username)?.avatar),d||(d=I(e.username)),d&&d.includes("ui-avatars.com")||d&&!d.startsWith("http")&&!d.startsWith("blob:")&&(d=`${c.replace(/\/$/,"")}/${d.replace(/^\//,"")}`),d},[e.avatar,e.username,D,I,c]),{url:tt}=Dr(We),je=d=>{if(!d)return null;if(d.startsWith("http")||d.startsWith("blob:"))return d;let T=`${c.replace(/\/$/,"")}/${d.replace(/^\//,"")}`;if(T.includes("/media/local/stream/")){const L=localStorage.getItem("access_token");L&&(T+=(T.includes("?")?"&":"?")+`token=${L}`)}return T},le=je(e.image_url||e.image),ee=je(e.file_url||e.file),se=A.useMemo(()=>{if(!ee||le)return!1;const d=(e.file_name||"").toLowerCase();return["jpg","jpeg","png","gif","webp","bmp","svg","ico"].some(L=>d.endsWith(`.${L}`))},[ee,le,e.file_name]),Ae=le||(se?ee:null),re=se?null:ee,ce=A.useMemo(()=>{if(e.username===" Signal Bot"&&K){const d=K.match(/\*\*(.*?)\*\*/);if(d&&d[1])return d[1]}return null},[e.username,K]),Ce=A.useMemo(()=>{if(!e.reactions)return[];const d={};return e.reactions.forEach(T=>{d[T.emoji]||(d[T.emoji]=[]),d[T.emoji].push(T.username)}),Object.entries(d||{}).map(([T,L])=>({emoji:T,users:L,count:L.length}))},[e.reactions]),Ie=A.useCallback(d=>e.reactions?.some(T=>T.username===n&&T.emoji===d),[e.reactions,n]),nt=A.useCallback(async d=>{if(e.poll)try{await w(`${c}/api/polls/${e.poll.id}/vote/`,{method:"POST",body:JSON.stringify({option_id:d})})}catch(T){console.error("Oy hatas:",T)}},[e.poll,w,c]),rt=A.useCallback(async()=>{if(!(M||de)){he(!0);try{const d=await w(`${c}/api/messages/${e.id}/transcribe/`,{method:"POST"});if(d.ok){const T=await d.json();T.transcription?m(T.transcription):ke.error(" eviri bo dnd.")}else{const T=await d.json();ke.error(` eviri hatas: ${T.error||"Bilinmeyen hata"}`)}}catch(d){console.error("Transcription error:",d),ke.error(" Ses metne evrilemedi. Ltfen tekrar deneyin.")}finally{he(!1)}}},[M,de,w,c,e.id]);return p.createElement("div",{ref:De,style:{...E.chatMessage,backgroundColor:S?"rgba(88, 101, 242, 0.3)":U?"rgba(4, 4, 5, 0.07)":"transparent",cursor:C?"pointer":"default"},onMouseEnter:()=>Ue(!0),onMouseLeave:()=>{Ue(!1),ae(!1)},onContextMenu:He,id:`message-${e.id}`,onClick:()=>C&&v(e.id)},p.createElement("div",{style:E.avatarContainer},p.createElement(Rr,{src:tt,alt:e.username,style:E.userAvatar,onClick:()=>y(e.username),placeholder:I(e.username)})),p.createElement("div",{style:E.contentWrapper},e.reply_to&&p.createElement("div",{style:E.replyContainer,onClick:()=>h(e.reply_to.id)},p.createElement("div",{style:E.replyLine}),p.createElement("span",{style:{fontWeight:"bold",marginRight:5}},"@",e.reply_to.username),p.createElement("span",{style:{opacity:.7,fontSize:"0.9em"}},e.reply_to.content?e.reply_to.content.substring(0,50)+"...":"Bir dosya")),p.createElement("div",{style:E.messageHeader},p.createElement("strong",{style:{cursor:"pointer",color:e.username===" Signal Bot"?"#5865f2":t?"#f0b232":"#fff"},onClick:()=>y(e.username)},B&&" "," ",e.username),e.is_locked&&p.createElement(an,{style:{marginLeft:8,color:"#f0b232",fontSize:"0.9em"},title:"Locked by moderator - Cannot be edited or deleted"}),p.createElement("span",{style:E.timestamp},ya(e.timestamp),e.is_edited&&p.createElement(Ea,{messageId:e.id,messageEditHistoryUrl:x,fetchWithAuth:w}),e.is_pinned&&p.createElement(Tt,{style:{marginLeft:5,color:"#f0b232",fontSize:"0.8em"}}))),U&&!e.temp_id&&!C&&p.createElement("div",{style:E.messageActions},P&&p.createElement(ca,{onEmojiSelect:d=>l(e.id,d),onClose:()=>ae(!1)}),p.createElement("button",{onClick:()=>ae(!0),style:E.actionButton,title:"Tepki"},p.createElement(ln,null)),p.createElement("button",{onClick:()=>u(e),style:E.actionButton,title:"Yantla"},p.createElement(sn,null)),p.createElement("button",{onClick:gt,style:E.actionButton,title:"Alntla"},p.createElement(wr,null)),p.createElement("button",{onClick:()=>v(e.id),style:E.actionButton,title:"Se"},p.createElement(Tr,null)),p.createElement("button",{onClick:()=>g(e),style:E.actionButton,title:"let"},p.createElement(cn,null)),p.createElement(ma,{messageId:e.id,isBookmarked:e.is_bookmarked,fetchWithAuth:w,apiBaseUrl:c}),p.createElement(da,{messageId:e.id,isStarred:e.is_starred,fetchWithAuth:w,apiBaseUrl:c}),p.createElement(ha,{messageId:e.id,isReadLater:e.is_read_later,fetchWithAuth:w,apiBaseUrl:c}),p.createElement("button",{onClick:()=>oe(!0),style:E.actionButton,title:"Hatrlatc Kur"},p.createElement(un,null)),p.createElement("button",{onClick:()=>Be(!0),style:E.actionButton,title:"Thread Balat"},p.createElement(fn,null)),!J&&p.createElement("button",{onClick:async()=>{const d=prompt("Rapor sebebi:");d&&(await w(`${c}/api/messages/report/`,{method:"POST",body:JSON.stringify({message_id:e.id,reason:d})}),ke.success(" Rapor gnderildi"))},style:E.actionButton,title:"Rapor Et"},p.createElement(pn,null)),J&&e.content&&p.createElement("button",{onClick:()=>o(e),style:E.actionButton,title:"Dzenle"},p.createElement(mn,null)),(J||t||ye.can_delete_messages)&&p.createElement("button",{onClick:()=>r(e.id),style:E.actionButton,title:"Sil"},p.createElement(dn,null)),t&&e.room&&p.createElement("button",{onClick:()=>i(e.id),style:E.actionButton,title:"Sabitle"},p.createElement(Tt,null))),_e&&p.createElement(ga,{messageId:e.id,messageContent:K,onClose:()=>oe(!1),fetchWithAuth:w,apiBaseUrl:c}),ht&&p.createElement(ba,{messageId:e.id,onClose:()=>Be(!1),fetchWithAuth:w,apiBaseUrl:c}),Se&&p.createElement("div",{style:{...E.contextMenu,left:`${Se.x}px`,top:`${Se.y}px`},onClick:d=>d.stopPropagation()},p.createElement("div",{className:"context-menu-item",style:E.contextMenuItem,onClick:()=>{ae(!0),V(null)}},p.createElement(ln,null)," Tepki Ekle"),p.createElement("div",{className:"context-menu-item",style:E.contextMenuItem,onClick:()=>{u(e),V(null)}},p.createElement(sn,null)," Yantla"),J&&e.content&&p.createElement("div",{className:"context-menu-item",style:E.contextMenuItem,onClick:()=>{o(e),V(null)}},p.createElement(mn,null)," Dzenle"),p.createElement("div",{className:"context-menu-item",style:E.contextMenuItem,onClick:()=>{navigator.clipboard.writeText(K),ke.success(" Mesaj kopyaland"),V(null)}},p.createElement(Sr,null)," Mesaj Kopyala"),p.createElement("div",{className:"context-menu-item",style:E.contextMenuItem,onClick:async()=>{await i(e.id),V(null)}},p.createElement(Tt,null)," ",e.is_pinned?"Sabitlemeyi Kaldr":"Sabitle"),p.createElement("div",{className:"context-menu-item",style:E.contextMenuItem,onClick:()=>{g(e),V(null)}},p.createElement(cn,null)," let"),p.createElement("div",{className:"context-menu-item",style:E.contextMenuItem,onClick:()=>{Be(!0),V(null)}},p.createElement(fn,null)," Thread Balat"),p.createElement("div",{className:"context-menu-item",style:E.contextMenuItem,onClick:()=>{oe(!0),V(null)}},p.createElement(un,null)," Hatrlatc Kur"),p.createElement("div",{style:E.contextMenuDivider}),J&&p.createElement("div",{className:"context-menu-item danger",style:{...E.contextMenuItem,color:"#ed4245"},onClick:async()=>{window.confirm("Bu mesaj silmek istediinize emin misiniz?")&&(await r(e.id),V(null))}},p.createElement(dn,null)," Sil"),!J&&p.createElement("div",{className:"context-menu-item danger",style:{...E.contextMenuItem,color:"#ed4245"},onClick:async()=>{const d=prompt("Rapor sebebi:");d&&(await w(`${c}/api/messages/report/`,{method:"POST",body:JSON.stringify({message_id:e.id,reason:d})}),ke.success(" Rapor gnderildi"),V(null))}},p.createElement(pn,null)," Rapor Et")),e.snippet_data&&e.snippet_data.type==="game_xox"?p.createElement(A.Suspense,{fallback:p.createElement("div",{style:{padding:"12px",color:"#b9bbbe",fontSize:"0.9em"}}," Oyun ykleniyor...")},p.createElement(pa,{gameData:e.snippet_data,currentUser:n,onMove:(d,T)=>{w(`${c}/api/games/xox/move/`,{method:"POST",body:JSON.stringify({game_id:d,index:T})})}})):e.snippet_data?p.createElement("div",{style:E.snippetContainer},p.createElement("div",{style:E.snippetHeader},p.createElement("span",null," ",e.snippet_data.title||"Kod Paras"),p.createElement("span",{style:E.langBadge},e.snippet_data.language)),p.createElement(Ln,{language:e.snippet_data.language},e.snippet_data.code)):K&&p.createElement("div",{style:E.messageContent},et&&p.createElement("span",{style:{color:"#43b581",marginRight:5},title:"Utan Uca ifreli"},p.createElement(an,null)),p.createElement(Ar,{remarkPlugins:[Ho],components:{code({node:d,inline:T,className:L,children:$,...z}){return T?p.createElement("code",{className:L,style:E.inlineCode,...z},$):p.createElement(Ln,{language:L?.replace("language-",""),value:$})},p:({children:d})=>{const T=p.Children.toArray(d);return p.createElement("p",{style:{margin:0}},T.map((L,$)=>typeof L=="string"?L.split(/(\|\|.*?\|\|)/g).map((we,it)=>we.startsWith("||")&&we.endsWith("||")?p.createElement(fa,{key:`${$}-${it}`},we.slice(2,-2)):we):L))}}},K)),ce&&p.createElement("button",{onClick:()=>F(ce),style:E.chartBtn},p.createElement(Cr,null)," ",ce," Grafii"),e.link_preview_data&&p.createElement(ka,{minHeight:80},p.createElement(ua,{data:e.link_preview_data})),e.poll&&p.createElement("div",{style:E.pollContainer},p.createElement("h4",{style:{marginTop:0,marginBottom:10}},e.poll.question),p.createElement("div",{style:{fontSize:"0.8em",color:"#b9bbbe",marginBottom:8}},e.poll.allow_multiple_votes?"oklu Seim":"Tek Seim","  ",e.poll.total_votes||0," Oy"),e.poll.options.map(d=>{const T=d.is_voted,L=e.poll.total_votes||0,$=L>0?Math.round(d.vote_count/L*100):0;return p.createElement("div",{key:d.id,style:{position:"relative",marginBottom:6}},p.createElement("button",{onClick:()=>nt(d.id),style:{...E.pollOption,backgroundColor:T?"#4752c4":"rgba(255,255,255,0.05)",border:T?"1px solid #5865f2":"1px solid transparent",justifyContent:"space-between",display:"flex",alignItems:"center",position:"relative",zIndex:2,width:"100%",overflow:"hidden",padding:"10px 12px"}},p.createElement("span",{style:{zIndex:3,textShadow:"0 1px 2px rgba(0,0,0,0.5)"}},d.text),p.createElement("span",{style:{zIndex:3,fontWeight:"bold"}},d.vote_count," (",$,"%)"),p.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,width:`${$}%`,backgroundColor:T?"rgba(255,255,255,0.2)":"rgba(88, 101, 242, 0.3)",zIndex:1,transition:"width 0.3s ease"}})))}),e.poll.expires_at&&p.createElement("div",{style:{fontSize:"0.75em",color:"#72767d",marginTop:5}},"Biti: ",new Date(e.poll.expires_at).toLocaleString())),Ae&&p.createElement("img",{src:Ae,alt:"attachment",style:E.messageImage,onClick:()=>a(Ae),loading:"lazy",onLoad:N}),e.is_voice_message&&ee&&p.createElement(A.Suspense,{fallback:p.createElement("div",{style:{padding:"12px",color:"#72767d",fontSize:"13px"}}," Ses ykleniyor...")},p.createElement("div",null,p.createElement(Pt,{audioUrl:ee,duration:e.voice_duration||0,onDownload:()=>{const d=document.createElement("a");d.href=ee,d.download=e.file_name||`voice-${Date.now()}.webm`,d.click()}}),de&&p.createElement("div",{style:E.voiceTranscription},p.createElement("div",{style:E.transcriptionIcon},""),p.createElement("div",{style:E.transcriptionText},de)),!de&&!M&&p.createElement("button",{onClick:rt,style:E.transcribeButton}," Metne evir"),M&&p.createElement("div",{style:E.transcribingLoader}," evriliyor..."))),re&&!e.is_voice_message&&(()=>{const d=(e.file_name||"").split(".").pop().toLowerCase(),T=(e.file_name||"").toLowerCase();if((T.startsWith("voice_")||T.startsWith("voice-"))&&d==="webm")return p.createElement(Pt,{audioUrl:re,duration:e.voice_duration||0,onDownload:()=>{const z=document.createElement("a");z.href=re,z.download=e.file_name||`voice-${Date.now()}.webm`,z.click()}});if(["mp4","mov","mkv"].includes(d)||d==="webm"&&!T.startsWith("voice_")&&!T.startsWith("voice-"))return p.createElement(xa,{src:re,style:E.messageVideo});if(["mp3","wav","ogg"].includes(d))return p.createElement(Pt,{audioUrl:re,duration:0,onDownload:()=>{const z=document.createElement("a");z.href=re,z.download=e.file_name||`audio-${Date.now()}.${d}`,z.click()}});const L=d.toUpperCase(),$=e.file_size?`(${(e.file_size/1024/1024).toFixed(2)} MB)`:"";return p.createElement("div",{style:E.fileAttachment,className:"file-attachment-hover"},p.createElement("div",{style:E.fileIcon},["zip","rar","7z","tar","gz"].includes(d)?"":["pdf"].includes(d)?"":["doc","docx"].includes(d)?"":["xls","xlsx"].includes(d)?"":["ppt","pptx"].includes(d)?"":["txt"].includes(d)?"":""),p.createElement("div",{style:E.fileInfo},p.createElement("div",{style:E.fileName},e.file_name||"Dosya"),p.createElement("div",{style:E.fileDetails},L," ",$)),p.createElement("a",{href:re,download:e.file_name,style:E.downloadButton,className:"download-button-hover",onClick:z=>z.stopPropagation()},p.createElement(vr,{size:18}),p.createElement("span",{style:{marginLeft:"6px"}},"ndir")))})(),p.createElement("div",{style:E.footerRow},Ce.length>0&&p.createElement("div",{style:E.reactionsRow},Ce.map(({emoji:d,count:T})=>p.createElement("span",{key:d,onClick:()=>l(e.id,d),style:{...E.reactionTag,border:Ie(d)?"1px solid #5865f2":"1px solid transparent"}},d," ",T))),J&&!e.temp_id&&p.createElement("span",{style:E.readReceipt,title:"letildi"},""))))},E={chatMessage:{display:"flex",padding:"8px 20px",marginBottom:"2px",position:"relative",transition:"background-color 0.1s ease",width:"100%",boxSizing:"border-box",borderRadius:"0"},avatarContainer:{marginTop:"4px",marginRight:"16px",flexShrink:0},userAvatar:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},messageHeader:{display:"flex",alignItems:"baseline",marginBottom:"4px",gap:"8px"},timestamp:{fontSize:"0.75rem",color:"#949ba4",fontWeight:"400"},messageContent:{color:"#dbdee1",fontSize:"1rem",lineHeight:"1.4rem",whiteSpace:"pre-wrap",wordBreak:"break-word",fontWeight:"400"},contentWrapper:{flex:1,minWidth:0,maxWidth:"100%"},messageActions:{position:"absolute",top:"-10px",right:"10px",backgroundColor:"#313338",borderRadius:"8px",padding:"4px",display:"flex",gap:"4px",border:"1px solid rgba(255,255,255,0.08)",zIndex:50,boxShadow:"0 4px 10px rgba(0,0,0,0.3)"},actionButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.2em",padding:"6px",display:"flex",borderRadius:"4px",transition:"all 0.1s"},inlineCode:{backgroundColor:"#2b2d31",padding:"2px 4px",borderRadius:"3px",fontFamily:"'Consolas', monospace",fontSize:"0.85em",border:"1px solid rgba(255,255,255,0.05)"},messageImage:{maxWidth:"min(300px, 70%)",maxHeight:"250px",width:"auto",height:"auto",display:"block",objectFit:"cover",borderRadius:"8px",marginTop:"8px",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},messageVideo:{maxWidth:"min(400px, 80%)",maxHeight:"300px",width:"auto",height:"auto",borderRadius:"8px",marginTop:"8px",backgroundColor:"black"},fileAttachment:{display:"flex",alignItems:"center",padding:"14px 16px",backgroundColor:"#2b2d31",borderRadius:"8px",marginTop:"8px",border:"1px solid #3a3d44",maxWidth:"450px",transition:"all 0.2s ease",cursor:"default"},fileIcon:{fontSize:"32px",marginRight:"12px",flexShrink:0},fileInfo:{flex:1,minWidth:0,marginRight:"12px"},fileName:{color:"#f2f3f5",fontSize:"14px",fontWeight:"500",marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},fileDetails:{color:"#b9bbbe",fontSize:"12px"},downloadButton:{display:"flex",alignItems:"center",padding:"8px 14px",backgroundColor:"#5865f2",color:"white",borderRadius:"6px",textDecoration:"none",fontSize:"13px",fontWeight:"600",transition:"all 0.2s ease",border:"none",cursor:"pointer",flexShrink:0},reactionsRow:{display:"flex",gap:"4px",marginTop:"6px",flexWrap:"wrap"},reactionTag:{backgroundColor:"#2b2d31",padding:"4px 8px",borderRadius:"8px",fontSize:"0.85em",cursor:"pointer",color:"#b9bbbe",border:"1px solid transparent",display:"flex",alignItems:"center",gap:"4px"},footerRow:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"4px",minHeight:"20px"},readReceipt:{fontSize:"0.75em",color:"#b9bbbe",marginLeft:"auto",display:"flex",alignItems:"center",gap:"4px"},replyContainer:{display:"flex",alignItems:"center",fontSize:"0.85em",color:"#b9bbbe",marginBottom:"4px",opacity:.8},replyLine:{width:"30px",borderTop:"2px solid #4f545c",borderLeft:"2px solid #4f545c",height:"10px",marginRight:"8px",borderTopLeftRadius:"6px",marginTop:"6px"},historyDropdown:{position:"absolute",top:"100%",left:0,width:"280px",backgroundColor:"#1e1f22",border:"1px solid #111214",borderRadius:"8px",padding:"12px",zIndex:100,boxShadow:"0 10px 30px rgba(0,0,0,0.5)"},historyHeader:{margin:"0 0 10px 0",fontSize:"0.9em",color:"#fff",borderBottom:"1px solid #2f3136",paddingBottom:"8px"},historyItem:{marginBottom:"12px",fontSize:"0.85em",color:"#b9bbbe",paddingBottom:"8px",borderBottom:"1px solid #2b2d31"},langBadge:{textTransform:"uppercase",fontSize:"0.7em",fontWeight:"bold",padding:"2px 4px",borderRadius:"4px",backgroundColor:"rgba(255,255,255,0.1)",marginLeft:"8px"},chartBtn:{marginTop:"5px",backgroundColor:"rgba(240, 178, 50, 0.1)",border:"1px solid #f0b232",color:"#f0b232",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"0.85em",display:"inline-flex",alignItems:"center",gap:"6px"},pollContainer:{marginTop:"10px",padding:"12px",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",backgroundColor:"rgba(0,0,0,0.2)"},pollOption:{display:"flex",justifyContent:"space-between",width:"100%",padding:"10px",margin:"6px 0",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",textAlign:"left",backgroundColor:"rgba(255,255,255,0.05)",transition:"background 0.2s"},contextMenu:{position:"fixed",backgroundColor:"#18191c",border:"1px solid #2b2d31",borderRadius:"6px",boxShadow:"0 8px 16px rgba(0,0,0,0.5)",zIndex:1e4,minWidth:"220px",overflow:"hidden",padding:"6px 0"},contextMenuItem:{padding:"10px 14px",cursor:"pointer",color:"#b5bac1",fontSize:"0.9em",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.15s",backgroundColor:"transparent"},contextMenuDivider:{height:"1px",backgroundColor:"#2b2d31",margin:"6px 0"},voiceTranscription:{display:"flex",alignItems:"flex-start",gap:"8px",marginTop:"8px",padding:"10px 12px",backgroundColor:"rgba(114, 137, 218, 0.1)",border:"1px solid rgba(114, 137, 218, 0.3)",borderRadius:"8px",maxWidth:"400px"},transcriptionIcon:{fontSize:"16px",flexShrink:0,marginTop:"2px"},transcriptionText:{flex:1,fontSize:"13px",lineHeight:"1.5",color:"#dcddde",fontStyle:"italic"},transcribeButton:{marginTop:"8px",padding:"6px 12px",backgroundColor:"rgba(88, 101, 242, 0.15)",border:"1px solid rgba(88, 101, 242, 0.4)",borderRadius:"6px",color:"#7289da",fontSize:"12px",cursor:"pointer",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"6px"},transcribingLoader:{marginTop:"8px",padding:"6px 12px",color:"#72767d",fontSize:"12px",fontStyle:"italic"}},sr=document.createElement("style");sr.innerText=`
    .message-hover-trigger:hover { background-color: rgba(255, 255, 255, 0.03) !important; }
    .action-button:hover { background-color: rgba(255, 255, 255, 0.1); color: white; }
    .poll-option:hover { background-color: rgba(255, 255, 255, 0.1) !important; }
    .context-menu-item:hover { background-color: #5865f2 !important; color: #fff !important; }
    .context-menu-item.danger:hover { background-color: #ed4245 !important; }
    
    /*  File Attachment Hover Effects */
    .file-attachment-hover:hover {
        background-color: #32353b !important;
        border-color: #4e5159 !important;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    .download-button-hover:hover {
        background-color: #4752c4 !important;
        transform: scale(1.05);
        box-shadow: 0 2px 8px rgba(88, 101, 242, 0.4);
    }
    .download-button-hover:active {
        transform: scale(0.98);
    }
`;document.head.appendChild(sr);const wa=(e,n)=>{const t=["msg","currentUser","isAdmin","isSelectionMode","isSelected"];for(const r of t)if(e[r]!==n[r])return!1;return!0},va=A.memo(_a,wa);export{va as default};

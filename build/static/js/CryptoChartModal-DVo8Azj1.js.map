{"version":3,"file":"CryptoChartModal-DVo8Azj1.js","sources":["../../../src/CryptoChartModal.js"],"sourcesContent":["// frontend/src/CryptoChartModal.js\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport { FaTimes } from 'react-icons/fa';\r\n\r\nconst CryptoChartModal = ({ symbol, onClose }) => {\r\n    const containerRef = useRef();\r\n\r\n    // Sembol temizliÄŸi (USDT yoksa ekleyelim, varsa olduÄŸu gibi kalsÄ±n)\r\n    const rawSymbol = symbol.toUpperCase().trim();\r\n    const cleanSymbol = rawSymbol.includes('USDT')\r\n        ? `BINANCE:${rawSymbol}`\r\n        : `BINANCE:${rawSymbol}USDT`;\r\n\r\n    useEffect(() => {\r\n        if (!containerRef.current) return;\r\n\r\n        // TradingView Scriptini Manuel OluÅŸtur\r\n        const script = document.createElement('script');\r\n        script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js';\r\n        script.type = 'text/javascript';\r\n        script.async = true;\r\n        script.innerHTML = JSON.stringify({\r\n            \"autosize\": true,\r\n            \"symbol\": cleanSymbol,\r\n            \"interval\": \"15\",\r\n            \"timezone\": \"Etc/UTC\",\r\n            \"theme\": \"dark\",\r\n            \"style\": \"1\",\r\n            \"locale\": \"tr\",\r\n            \"enable_publishing\": false,\r\n            \"hide_side_toolbar\": false,\r\n            \"allow_symbol_change\": true,\r\n            \"calendar\": false,\r\n            \"support_host\": \"https://www.tradingview.com\"\r\n        });\r\n\r\n        containerRef.current.appendChild(script);\r\n\r\n        return () => {\r\n            if (containerRef.current) {\r\n                containerRef.current.innerHTML = ''; // Temizle\r\n            }\r\n        };\r\n    }, [cleanSymbol]);\r\n\r\n    return (\r\n        <div style={styles.overlay} onClick={onClose}>\r\n            <div style={styles.modal} onClick={e => e.stopPropagation()}>\r\n                <div style={styles.header}>\r\n                    <h3>ðŸ“ˆ {rawSymbol} GrafiÄŸi</h3>\r\n                    <button onClick={onClose} style={styles.closeBtn}><FaTimes /></button>\r\n                </div>\r\n                <div style={styles.chartContainer} ref={containerRef}>\r\n                    {/* Grafik buraya yÃ¼klenecek */}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    overlay: {\r\n        position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n        backgroundColor: 'rgba(0,0,0,0.85)', zIndex: 3000,\r\n        display: 'flex', justifyContent: 'center', alignItems: 'center'\r\n    },\r\n    modal: {\r\n        width: '90%', height: '80%', backgroundColor: '#1e1f22',\r\n        borderRadius: '12px', overflow: 'hidden', display: 'flex', flexDirection: 'column',\r\n        boxShadow: '0 10px 40px rgba(0,0,0,0.5)'\r\n    },\r\n    header: {\r\n        padding: '15px 20px', display: 'flex', justifyContent: 'space-between', alignItems: 'center',\r\n        borderBottom: '1px solid #2b2d31', backgroundColor: '#2b2d31', color: 'white'\r\n    },\r\n    closeBtn: {\r\n        background: 'none', border: 'none', color: '#b9bbbe', fontSize: '1.5em', cursor: 'pointer'\r\n    },\r\n    chartContainer: { flex: 1, width: '100%', height: '100%' }\r\n};\r\n\r\nexport default CryptoChartModal;\r\n\r\n"],"names":["useRef","useEffect","jsxs","jsx"],"mappings":";;;;AAKA,MAAM,mBAAmB,wBAAC,EAAE,QAAQ,cAAc;AAC9C,QAAM,eAAeA,aAAAA,OAAA;AAGrB,QAAM,YAAY,OAAO,YAAA,EAAc,KAAA;AACvC,QAAM,cAAc,UAAU,SAAS,MAAM,IACvC,WAAW,SAAS,KACpB,WAAW,SAAS;AAE1BC,eAAAA,UAAU,MAAM;AACZ,QAAI,CAAC,aAAa,QAAS;AAG3B,UAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,WAAO,MAAM;AACb,WAAO,OAAO;AACd,WAAO,QAAQ;AACf,WAAO,YAAY,KAAK,UAAU;AAAA,MAC9B,YAAY;AAAA,MACZ,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,SAAS;AAAA,MACT,SAAS;AAAA,MACT,UAAU;AAAA,MACV,qBAAqB;AAAA,MACrB,qBAAqB;AAAA,MACrB,uBAAuB;AAAA,MACvB,YAAY;AAAA,MACZ,gBAAgB;AAAA,IAAA,CACnB;AAED,iBAAa,QAAQ,YAAY,MAAM;AAEvC,WAAO,MAAM;AACT,UAAI,aAAa,SAAS;AACtB,qBAAa,QAAQ,YAAY;AAAA,MACrC;AAAA,IACJ;AAAA,EACJ,GAAG,CAAC,WAAW,CAAC;AAEhB,+CACK,OAAA,EAAI,OAAO,OAAO,SAAS,SAAS,SACjC,UAAAC,kCAAAA,KAAC,OAAA,EAAI,OAAO,OAAO,OAAO,SAAS,wBAAA,MAAK,EAAE,mBAAP,YAC/B,UAAA;AAAA,IAAAA,kCAAAA,KAAC,OAAA,EAAI,OAAO,OAAO,QACf,UAAA;AAAA,MAAAA,uCAAC,MAAA,EAAG,UAAA;AAAA,QAAA;AAAA,QAAI;AAAA,QAAU;AAAA,MAAA,GAAQ;AAAA,MAC1BC,kCAAAA,IAAC,YAAO,SAAS,SAAS,OAAO,OAAO,UAAU,UAAAA,kCAAAA,IAAC,SAAA,CAAA,CAAQ,EAAA,CAAE;AAAA,IAAA,GACjE;AAAA,0CACC,OAAA,EAAI,OAAO,OAAO,gBAAgB,KAAK,aAAA,CAExC;AAAA,EAAA,EAAA,CACJ,EAAA,CACJ;AAER,GAtDyB;AAwDzB,MAAM,SAAS;AAAA,EACX,SAAS;AAAA,IACL,UAAU;AAAA,IAAS,KAAK;AAAA,IAAG,MAAM;AAAA,IAAG,OAAO;AAAA,IAAG,QAAQ;AAAA,IACtD,iBAAiB;AAAA,IAAoB,QAAQ;AAAA,IAC7C,SAAS;AAAA,IAAQ,gBAAgB;AAAA,IAAU,YAAY;AAAA,EAAA;AAAA,EAE3D,OAAO;AAAA,IACH,OAAO;AAAA,IAAO,QAAQ;AAAA,IAAO,iBAAiB;AAAA,IAC9C,cAAc;AAAA,IAAQ,UAAU;AAAA,IAAU,SAAS;AAAA,IAAQ,eAAe;AAAA,IAC1E,WAAW;AAAA,EAAA;AAAA,EAEf,QAAQ;AAAA,IACJ,SAAS;AAAA,IAAa,SAAS;AAAA,IAAQ,gBAAgB;AAAA,IAAiB,YAAY;AAAA,IACpF,cAAc;AAAA,IAAqB,iBAAiB;AAAA,IAAW,OAAO;AAAA,EAAA;AAAA,EAE1E,UAAU;AAAA,IACN,YAAY;AAAA,IAAQ,QAAQ;AAAA,IAAQ,OAAO;AAAA,IAAW,UAAU;AAAA,IAAS,QAAQ;AAAA,EAAA;AAAA,EAErF,gBAAgB,EAAE,MAAM,GAAG,OAAO,QAAQ,QAAQ,OAAA;AACtD;"}
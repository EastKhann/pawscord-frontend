{"version":3,"file":"SlowModePanel-LIKu6G7T.js","sources":["../../../src/components/SlowModePanel.js"],"sourcesContent":["// frontend/src/components/SlowModePanel.js\nimport { useState, useEffect } from 'react';\nimport { FaTimes, FaClock, FaToggleOn, FaToggleOff } from 'react-icons/fa';\nimport toast from '../utils/toast';\n\n/**\n * ⏱️ Slow Mode Panel\n * Kanal mesaj hızını sınırlama\n */\n\nconst SlowModePanel = ({ fetchWithAuth, apiBaseUrl, roomSlug, onClose }) => {\n    const [slowMode, setSlowMode] = useState({\n        enabled: false,\n        interval_seconds: 5\n    });\n    const [loading, setLoading] = useState(true);\n\n    const presetIntervals = [\n        { label: '5 saniye', value: 5 },\n        { label: '10 saniye', value: 10 },\n        { label: '15 saniye', value: 15 },\n        { label: '30 saniye', value: 30 },\n        { label: '1 dakika', value: 60 },\n        { label: '2 dakika', value: 120 },\n        { label: '5 dakika', value: 300 },\n        { label: '10 dakika', value: 600 },\n        { label: '15 dakika', value: 900 }\n    ];\n\n    useEffect(() => {\n        loadSlowMode();\n    }, []);\n\n    const loadSlowMode = async () => {\n        try {\n            setLoading(true);\n            const response = await fetchWithAuth(`${apiBaseUrl}/rooms/${roomSlug}/slowmode/`);\n            if (response.ok) {\n                const data = await response.json();\n                if (data) setSlowMode(data);\n            }\n        } catch (error) {\n            console.error('Slow mode yükleme hatası:', error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const saveSlowMode = async () => {\n        try {\n            const response = await fetchWithAuth(`${apiBaseUrl}/rooms/slowmode/set/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    room_slug: roomSlug,\n                    ...slowMode\n                })\n            });\n\n            if (response.ok) {\n                toast.success('Slow mode ayarları kaydedildi');\n                onClose();\n            } else {\n                toast.error('Ayarlar kaydedilemedi');\n            }\n        } catch (error) {\n            console.error('Slow mode kaydetme hatası:', error);\n            toast.error('Bir hata oluştu');\n        }\n    };\n\n    return (\n        <div style={styles.overlay} onClick={onClose}>\n            <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\n                <div style={styles.header}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\n                        <FaClock style={{ color: '#faa61a' }} />\n                        <h2 style={{ margin: 0 }}>Slow Mode</h2>\n                    </div>\n                    <FaTimes onClick={onClose} style={styles.closeBtn} />\n                </div>\n\n                <div style={styles.content}>\n                    <div style={styles.toggle}>\n                        <div style={styles.toggleInfo}>\n                            <strong>Slow Mode'u Etkinleştir</strong>\n                            <p style={styles.desc}>\n                                Kullanıcılar mesaj gönderdikten sonra belirli bir süre beklemek zorunda kalır\n                            </p>\n                        </div>\n                        <button\n                            onClick={() => setSlowMode({ ...slowMode, enabled: !slowMode.enabled })}\n                            style={styles.toggleBtn}\n                        >\n                            {slowMode.enabled ?\n                                <FaToggleOn style={{ color: '#43b581', fontSize: '32px' }} /> :\n                                <FaToggleOff style={{ color: '#888', fontSize: '32px' }} />\n                            }\n                        </button>\n                    </div>\n\n                    {slowMode.enabled && (\n                        <>\n                            <div style={styles.field}>\n                                <label style={styles.label}>Mesajlar Arası Bekleme Süresi</label>\n                                <div style={styles.presetGrid}>\n                                    {presetIntervals.map((preset) => (\n                                        <button\n                                            key={preset.value}\n                                            onClick={() => setSlowMode({ ...slowMode, interval_seconds: preset.value })}\n                                            style={{\n                                                ...styles.presetBtn,\n                                                backgroundColor: slowMode.interval_seconds === preset.value ? '#5865f2' : '#2c2f33'\n                                            }}\n                                        >\n                                            {preset.label}\n                                        </button>\n                                    ))}\n                                </div>\n                            </div>\n\n                            <div style={styles.field}>\n                                <label style={styles.label}>Özel Süre (saniye)</label>\n                                <input\n                                    type=\"number\"\n                                    value={slowMode.interval_seconds}\n                                    onChange={(e) => setSlowMode({ ...slowMode, interval_seconds: parseInt(e.target.value) || 0 })}\n                                    min=\"1\"\n                                    max=\"21600\"\n                                    style={styles.input}\n                                />\n                            </div>\n\n                            <div style={styles.info}>\n                                ⏱️ Kullanıcılar her <strong>{slowMode.interval_seconds} saniye</strong>'de bir mesaj gönderebilecek\n                            </div>\n                        </>\n                    )}\n                </div>\n\n                <div style={styles.footer}>\n                    <button onClick={onClose} style={styles.cancelBtn}>\n                        İptal\n                    </button>\n                    <button onClick={saveSlowMode} style={styles.saveBtn}>\n                        Kaydet\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst styles = {\n    overlay: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.7)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 999999\n    },\n    modal: {\n        backgroundColor: '#1e1e1e',\n        borderRadius: '8px',\n        width: '90%',\n        maxWidth: '600px',\n        maxHeight: '90vh',\n        display: 'flex',\n        flexDirection: 'column',\n        color: '#fff'\n    },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '20px',\n        borderBottom: '1px solid #333'\n    },\n    closeBtn: {\n        cursor: 'pointer',\n        fontSize: '24px',\n        color: '#888'\n    },\n    content: {\n        flex: 1,\n        overflowY: 'auto',\n        padding: '20px'\n    },\n    toggle: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '20px',\n        backgroundColor: '#2c2f33',\n        borderRadius: '8px',\n        marginBottom: '20px'\n    },\n    toggleInfo: {\n        flex: 1\n    },\n    desc: {\n        fontSize: '13px',\n        color: '#888',\n        margin: '6px 0 0 0'\n    },\n    toggleBtn: {\n        backgroundColor: 'transparent',\n        border: 'none',\n        cursor: 'pointer',\n        padding: '0'\n    },\n    field: {\n        marginBottom: '20px'\n    },\n    label: {\n        display: 'block',\n        marginBottom: '12px',\n        color: '#dcddde',\n        fontSize: '14px',\n        fontWeight: '600'\n    },\n    presetGrid: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(3, 1fr)',\n        gap: '10px',\n        marginBottom: '15px'\n    },\n    presetBtn: {\n        padding: '12px',\n        border: 'none',\n        borderRadius: '4px',\n        color: '#fff',\n        fontSize: '13px',\n        fontWeight: '500',\n        cursor: 'pointer',\n        transition: 'background-color 0.2s'\n    },\n    input: {\n        width: '100%',\n        padding: '12px',\n        backgroundColor: '#2c2f33',\n        border: '1px solid #444',\n        borderRadius: '4px',\n        color: '#fff',\n        fontSize: '14px'\n    },\n    info: {\n        backgroundColor: '#5865f21a',\n        border: '1px solid #5865f2',\n        borderRadius: '4px',\n        padding: '15px',\n        color: '#5865f2',\n        fontSize: '14px',\n        textAlign: 'center'\n    },\n    footer: {\n        display: 'flex',\n        gap: '10px',\n        padding: '20px',\n        borderTop: '1px solid #333'\n    },\n    cancelBtn: {\n        flex: 1,\n        backgroundColor: '#2c2f33',\n        color: '#fff',\n        border: 'none',\n        padding: '12px',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        fontSize: '16px',\n        fontWeight: '600'\n    },\n    saveBtn: {\n        flex: 1,\n        backgroundColor: '#43b581',\n        color: '#fff',\n        border: 'none',\n        padding: '12px',\n        borderRadius: '4px',\n        cursor: 'pointer',\n        fontSize: '16px',\n        fontWeight: '600'\n    }\n};\n\nexport default SlowModePanel;\n"],"names":["useState","useEffect","jsxs","jsx","Fragment"],"mappings":"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"}
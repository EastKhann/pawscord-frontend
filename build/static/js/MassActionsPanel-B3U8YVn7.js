import{r as a,j as e}from"./react-vendor-D8Fi5F9E.js";import{n as v,a as k}from"./icons-vendor-CKPm393i.js";import{t as n}from"./index-BPRduEev.js";import"./media-vendor-Dp18sh1g.js";import"./router-vendor-CTPwQFnc.js";import"./crypto-vendor-Cz32ecGD.js";import"./state-vendor-De5qIGw3.js";const T=({fetchWithAuth:y,apiBaseUrl:g,serverId:m,onClose:s})=>{const[r,b]=a.useState("ban"),[i,d]=a.useState(""),[c,p]=a.useState(""),[x,u]=a.useState(""),[f,h]=a.useState(!1),j=async()=>{if(!i.trim()){n.error("KullanÄ±cÄ± ID'leri girin");return}const o=i.split(`
`).map(l=>l.trim()).filter(l=>l);if(o.length===0){n.error("GeÃ§erli kullanÄ±cÄ± ID'si bulunamadÄ±");return}try{h(!0),(await y(`${g}/api/moderation/mass_action/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:m,action_type:r,user_ids:o,reason:c,duration:x||null})})).ok?(n.success(`${o.length} kullanÄ±cÄ±ya ${r} iÅŸlemi uygulandÄ±`),d(""),p(""),u("")):n.error("Ä°ÅŸlem baÅŸarÄ±sÄ±z oldu")}catch(l){console.error("Mass action hatasÄ±:",l),n.error("Bir hata oluÅŸtu")}finally{h(!1)}};return e.jsx("div",{style:t.overlay,onClick:s,children:e.jsxs("div",{style:t.modal,onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{style:t.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(v,{style:{color:"#f04747"}}),e.jsx("h2",{style:{margin:0},children:"Toplu Moderasyon"})]}),e.jsx(k,{onClick:s,style:t.closeBtn})]}),e.jsxs("div",{style:t.content,children:[e.jsxs("div",{style:t.field,children:[e.jsx("label",{style:t.label,children:"Ä°ÅŸlem TÃ¼rÃ¼"}),e.jsxs("select",{value:r,onChange:o=>b(o.target.value),style:t.select,children:[e.jsx("option",{value:"ban",children:"ðŸ”¨ Ban (Yasakla)"}),e.jsx("option",{value:"kick",children:"ðŸ‘¢ Kick (At)"}),e.jsx("option",{value:"mute",children:"ðŸ”‡ Mute (Sustur)"}),e.jsx("option",{value:"timeout",children:"â° Timeout (Zaman AÅŸÄ±mÄ±)"}),e.jsx("option",{value:"warn",children:"âš ï¸ Warn (Uyar)"}),e.jsx("option",{value:"delete_messages",children:"ðŸ—‘ï¸ Delete Messages (MesajlarÄ± Sil)"})]})]}),e.jsxs("div",{style:t.field,children:[e.jsx("label",{style:t.label,children:"KullanÄ±cÄ± ID'leri (Her satÄ±rda bir tane)"}),e.jsx("textarea",{value:i,onChange:o=>d(o.target.value),placeholder:`123456789
987654321
555555555`,style:t.textarea,rows:8})]}),(r==="mute"||r==="timeout")&&e.jsxs("div",{style:t.field,children:[e.jsx("label",{style:t.label,children:"SÃ¼re (dakika)"}),e.jsx("input",{type:"number",value:x,onChange:o=>u(o.target.value),placeholder:"60",style:t.input})]}),e.jsxs("div",{style:t.field,children:[e.jsx("label",{style:t.label,children:"Sebep (opsiyonel)"}),e.jsx("input",{type:"text",value:c,onChange:o=>p(o.target.value),placeholder:"Spam, kural ihlali, vb.",style:t.input})]}),e.jsxs("div",{style:t.warning,children:["âš ï¸ Bu iÅŸlem ",e.jsx("strong",{children:i.split(`
`).filter(o=>o.trim()).length})," kullanÄ±cÄ±yÄ± etkileyecek!"]})]}),e.jsxs("div",{style:t.footer,children:[e.jsx("button",{onClick:s,style:t.cancelBtn,children:"Ä°ptal"}),e.jsx("button",{onClick:j,disabled:f,style:t.executeBtn,children:f?"Ä°ÅŸleniyor...":"Uygula"})]})]})})},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},select:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},textarea:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",fontFamily:"monospace",resize:"vertical"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},warning:{backgroundColor:"#faa61a1a",border:"1px solid #faa61a",borderRadius:"4px",padding:"15px",color:"#faa61a",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},cancelBtn:{flex:1,backgroundColor:"#2c2f33",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},executeBtn:{flex:1,backgroundColor:"#f04747",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{T as default};

import{r as i,d as e,aa as C,N as w,O as z,X as N,M as I}from"./react-core-DMT_QkRe.js";const B=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://127.0.0.1:8888":"https://api.pawscord.com",L=`${B}/api/crypto/signals/`,U=()=>{const[s,R]=i.useState(null),[b,E]=i.useState(null),[S,k]=i.useState(null),[y,T]=i.useState(!0),[u,D]=i.useState(!1),f=i.useRef(null),x=i.useRef(0),_=o=>({rank:"Sƒ±ra",coin:"Coin",timeframe:"Zaman",signal:"Sinyal",pozisyon_yonu:"Pozisyon",sinyal_yonu:"Yeni Sinyal",yon_uyumu:"Durum",ters_sinyal:"Ters?",entry_price:"Giri≈ü",current_price:"≈ûu An",pnl_percent:"Kar/Zarar %",bars_ago:"Bar",days_ago:"G√ºn",trades:"ƒ∞≈ülem",win_rate:"Ba≈üarƒ± %",x_kat:"X Kat",hedef_roe:"Hedef ROE",status:"Durum"})[o]||o,O=(o,t)=>{if(t==null)return"-";if(o==="ters_sinyal")return null;if(o==="pozisyon_yonu")return e.createElement("span",{style:{padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",backgroundColor:t==="LONG"?"#23a55922":"#ed424222",color:t==="LONG"?"#23a559":"#ed4245"}},t==="LONG"?"üìà LONG":"üìâ SHORT");if(o==="sinyal_yonu"||o==="signal")return e.createElement("span",{style:{padding:"4px 8px",borderRadius:"4px",fontWeight:"bold",backgroundColor:t==="LONG"?"#5865f222":"#faa61a22",color:t==="LONG"?"#5865f2":"#faa61a"}},t==="LONG"?"‚¨ÜÔ∏è LONG":"‚¨áÔ∏è SHORT");if(o==="yon_uyumu"){const a=t.includes("UYUYOR")||t.includes("AYNI");return e.createElement("span",{style:{padding:"6px 12px",borderRadius:"6px",fontWeight:"bold",fontSize:"0.95em",backgroundColor:a?"#23a55944":"#ed424544",color:a?"#57F287":"#ED4245",border:`2px solid ${a?"#57F287":"#ED4245"}`,textShadow:a?"0 0 8px #57F287":"0 0 8px #ED4245"}},a?"‚úÖ Y√ñN UYUYOR":"‚ö†Ô∏è TERS Sƒ∞NYAL")}if(o==="status"){const a=t.includes("UYUYOR")||t.includes("AYNI"),p=t.includes("KAR"),c=t.includes("TERS");let m,d,r;return a?(m="#23a55944",d="#57F287",r="‚úÖ Y√ñN UYUYOR"):c?(m="#ed424544",d="#ED4245",r="‚ö†Ô∏è TERS Sƒ∞NYAL"):p?(m="#23a55933",d="#57F287",r=t):(m="#ed424533",d="#ED4245",r=t),e.createElement("span",{style:{padding:"6px 12px",borderRadius:"6px",fontWeight:"bold",backgroundColor:m,color:d,border:`2px solid ${d}`,textShadow:`0 0 8px ${d}`}},r)}if(o==="pnl_percent"){const a=String(t).includes("+");return e.createElement("span",{style:{fontWeight:"bold",color:a?"#23a559":"#ed4245"}},t)}if(o==="coin"){const a=t.endsWith("USDT")?t:`${t}USDT`;return e.createElement("a",{href:`https://www.binance.com/en/futures/${a}`,target:"_blank",rel:"noopener noreferrer",style:{fontWeight:"bold",color:"#f0b232",textDecoration:"none",cursor:"pointer"},onMouseOver:p=>p.target.style.textDecoration="underline",onMouseOut:p=>p.target.style.textDecoration="none"},t)}return String(t)},h=i.useCallback(async()=>{try{f.current&&(x.current=f.current.scrollTop);const t=await(await fetch(`${L}?t=${Date.now()}`)).json();if(R(t),k(new Date(t.meta.export_time)),!b&&t.tabs){const a=Object.keys(t.tabs)[0];E(a)}setTimeout(()=>{f.current&&x.current>0&&(f.current.scrollTop=x.current)},50)}catch(o){console.error("Signal y√ºkleme hatasƒ±:",o)}},[b]);if(i.useEffect(()=>{h()},[]),i.useEffect(()=>{if(!y)return;const o=setInterval(()=>{h()},3e4);return()=>clearInterval(o)},[y]),!s)return e.createElement("div",{style:n.container},e.createElement("div",{style:n.loadingContainer},e.createElement(C,{className:"spin",size:40,color:"#f0b232"}),e.createElement("p",null,"Sinyaller y√ºkleniyor...")));const l=s?.tabs?.[b];return e.createElement("div",{style:n.container},e.createElement("div",{style:n.header},e.createElement("div",{style:n.headerLeft},e.createElement(w,{to:"/",style:n.backButton},e.createElement(z,null)," Ana Men√º"),e.createElement("h1",{style:n.title},e.createElement(N,{style:{color:"#f0b232",marginRight:"10px"}}),"Kripto Sinyaller")),e.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},S&&e.createElement("div",{style:n.updateTime},e.createElement(I,null)," ",S.toLocaleTimeString("tr-TR")),e.createElement("label",{style:n.autoRefreshLabel},e.createElement("input",{type:"checkbox",checked:y,onChange:o=>T(o.target.checked),style:{marginRight:"5px"}}),"Otomatik Yenile"),e.createElement("button",{onClick:()=>D(!u),style:{...n.refreshButton,backgroundColor:u?"#23a559":"#5865f2"}},u?"üìä Detay":"‚ö° √ñzet"),e.createElement("button",{onClick:h,style:n.refreshButton},e.createElement(C,null)," Yenile"))),s?.meta&&e.createElement("div",{style:n.metaBar},e.createElement("div",{style:n.metaItem},e.createElement("strong",null,"Toplam Strateji:")," ",s.meta.total_strategies),s.meta.position_coins?.length>0&&e.createElement("div",{style:n.metaItem},e.createElement("strong",null,"Pozisyondaki Coinler:")," ",e.createElement("span",{style:{color:"#23a559"}},s.meta.position_coins.join(", "))),e.createElement("div",{style:n.metaItem},e.createElement("strong",null,"Versiyon:")," ",s.meta.version)),s?.tabs&&e.createElement("div",{style:n.tabsContainer},Object.entries(s.tabs).map(([o,t])=>e.createElement("button",{key:o,onClick:()=>E(o),style:{...n.tab,...b===o?n.activeTab:{}}},e.createElement("div",{style:n.tabTitle},t.title),e.createElement("div",{style:n.tabDesc},t.description),e.createElement("div",{style:n.tabCount},t.count," kayƒ±t")))),l&&e.createElement("div",{style:n.content},e.createElement("h2",{style:n.contentTitle},l.title),e.createElement("p",{style:n.contentDesc},l.description),u&&l.data?.length>0&&e.createElement("div",{style:n.compactGrid},(()=>{const o={};return l.data.forEach(t=>{const a=t.coin||"UNKNOWN";o[a]||(o[a]=[]),o[a].push(t)}),Object.entries(o).map(([t,a])=>{const c=a.slice(0,10).map(r=>{const g=r.yon_uyumu||r.status||"";return g.includes("UYUYOR")||g.includes("AYNI")});for(;c.length<10;)c.push(null);const m=c.filter(r=>r===!0).length,d=c.filter(r=>r===!1).length;return a[0],e.createElement("div",{key:t,style:n.compactCard},e.createElement("div",{style:n.compactHeader},e.createElement("span",{style:n.compactCoinName},t),e.createElement("span",{style:{color:"#949ba4",fontSize:"0.8em"}},a.length," pozisyon")),e.createElement("div",{style:n.dotsContainer},c.map((r,g)=>e.createElement("div",{key:g,style:{width:"14px",height:"14px",borderRadius:"50%",backgroundColor:r===null?"#40444b":r?"#23a559":"#da373c",boxShadow:r===null?"none":r?"0 0 6px #23a559":"0 0 6px #da373c"},title:r===null?"Veri yok":r?"Y√∂n Uyuyor":"Ters Sinyal"}))),e.createElement("div",{style:n.compactStats},e.createElement("span",{style:{color:"#23a559",fontWeight:"bold"}},"‚úì ",m),e.createElement("span",{style:{color:"#da373c",fontWeight:"bold"}},"‚úó ",d)))})})()),!u&&l.data?.length>0&&e.createElement("div",{ref:f,style:n.tableContainer},e.createElement("table",{style:n.table},e.createElement("thead",null,e.createElement("tr",null,Object.keys(l.data[0]).filter(o=>o!=="ters_sinyal").map(o=>e.createElement("th",{key:o,style:n.th},_(o))))),e.createElement("tbody",null,l.data.map((o,t)=>e.createElement("tr",{key:t,style:n.tr},Object.entries(o).filter(([a])=>a!=="ters_sinyal").map(([a,p],c)=>e.createElement("td",{key:c,style:n.td},O(a,p)))))))),(!l.data||l.data.length===0)&&e.createElement("div",{style:n.emptyState},e.createElement("p",null,"Bu sekmede hen√ºz veri yok"))))},n={container:{backgroundColor:"#1e1f22",minHeight:"100vh",color:"#dcddde",padding:"20px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",gap:"20px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},headerLeft:{display:"flex",alignItems:"center",gap:"15px"},backButton:{textDecoration:"none",color:"#949ba4",fontSize:"0.9em",display:"flex",alignItems:"center",gap:"5px"},title:{margin:0,fontSize:"1.8em",display:"flex",alignItems:"center"},updateTime:{fontSize:"0.85em",color:"#949ba4",display:"flex",alignItems:"center",gap:"5px"},autoRefreshLabel:{fontSize:"0.85em",color:"#dcddde",display:"flex",alignItems:"center",cursor:"pointer"},refreshButton:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},metaBar:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",flexWrap:"wrap",gap:"20px",border:"1px solid #1f2023"},metaItem:{fontSize:"0.9em",color:"#b9bbbe"},tabsContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"15px",marginBottom:"20px"},tab:{backgroundColor:"#2b2d31",border:"1px solid #1f2023",borderRadius:"8px",padding:"15px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},activeTab:{backgroundColor:"#5865f2",borderColor:"#5865f2",boxShadow:"0 4px 12px rgba(88, 101, 242, 0.4)"},tabTitle:{fontSize:"1em",fontWeight:"bold",marginBottom:"5px",color:"#fff"},tabDesc:{fontSize:"0.8em",color:"#b9bbbe",marginBottom:"8px"},tabCount:{fontSize:"0.75em",color:"#f0b232",fontWeight:"bold"},content:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",border:"1px solid #1f2023"},contentTitle:{margin:"0 0 10px 0",color:"#fff",fontSize:"1.5em"},contentDesc:{margin:"0 0 20px 0",color:"#b9bbbe"},compactGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px",marginBottom:"20px"},compactCard:{backgroundColor:"#202225",borderRadius:"10px",padding:"12px",border:"1px solid #1f2023",transition:"transform 0.2s, box-shadow 0.2s"},compactHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},compactCoinName:{color:"#f0b232",fontWeight:"bold",fontSize:"1.1em"},dotsContainer:{display:"flex",gap:"5px",justifyContent:"center",marginBottom:"10px",flexWrap:"wrap"},compactStats:{display:"flex",justifyContent:"space-around",borderTop:"1px solid #40444b",paddingTop:"8px",fontSize:"0.9em"},tableContainer:{overflowX:"auto",borderRadius:"6px",border:"1px solid #1f2023"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.85em"},th:{backgroundColor:"#202225",color:"#fff",padding:"12px",textAlign:"left",borderBottom:"2px solid #f0b232",fontWeight:"bold",position:"sticky",top:0,zIndex:1},tr:{borderBottom:"1px solid #1f2023"},td:{padding:"10px 12px",color:"#dcddde"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#949ba4",fontSize:"1.1em"}};export{U as default};

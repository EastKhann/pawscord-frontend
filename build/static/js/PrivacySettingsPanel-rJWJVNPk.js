import{r,ch as c}from"./react-core-B6hadH-M.js";import{g as b,h as w}from"./index-D_6pZib5.js";const x=({onClose:d})=>{const[a,g]=r.useState({allow_dm_from_everyone:!0,allow_dm_from_friends_only:!1,allow_dm_from_server_members:!0,allow_friend_requests:!0,keep_dm_history_on_server_leave:!0,show_current_activity:!0,explicit_content_filter:"friends",blocked_words_filter_enabled:!1,show_online_status:!0,show_read_receipts:!0,show_typing_indicator:!0,allow_profile_views_from_non_friends:!1,allow_data_collection:!1,allow_personalized_ads:!1}),[o,m]=r.useState([]),[i,E]=r.useState(""),[v,p]=r.useState(!0),s=b();r.useEffect(()=>{_(),u()},[]);const _=async()=>{try{const e=localStorage.getItem("access_token"),t=await fetch(`${s}/privacy/settings/`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const n=await t.json();g(n)}}catch(e){console.error("Error fetching privacy settings:",e)}finally{p(!1)}},u=async()=>{try{const e=localStorage.getItem("access_token"),t=await fetch(`${s}/privacy/blocked-words/`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const n=await t.json();m(n.blocked_words||[])}}catch(e){console.error("Error fetching blocked words:",e)}},R=async e=>{try{const t=localStorage.getItem("access_token");(await fetch(`${s}/privacy/settings/update/`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(g(e),c.success("âœ… Gizlilik ayarlarÄ± kaydedildi")):c.error("âŒ Ayarlar kaydedilemedi")}catch(t){console.error("Error updating settings:",t),c.error("âŒ BaÄŸlantÄ± hatasÄ±")}},l=e=>{const t={...a,[e]:!a[e]};R(t)},h=e=>{const t={...a,explicit_content_filter:e};R(t)},k=async()=>{if(i.trim())try{const e=localStorage.getItem("access_token");(await fetch(`${s}/privacy/blocked-words/add/`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({word:i.trim()})})).ok?(m([...o,i.trim()]),E(""),c.success(`âœ… "${i.trim()}" engellenmiÅŸ kelimeler listesine eklendi`)):c.error("âŒ Kelime eklenemedi")}catch(e){console.error("Error adding blocked word:",e),c.error("âŒ BaÄŸlantÄ± hatasÄ±")}},N=async e=>{try{const t=localStorage.getItem("access_token");(await fetch(`${s}/privacy/blocked-words/remove/`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({word:e})})).ok?(m(o.filter(f=>f!==e)),c.success(`âœ… "${e}" engellenmiÅŸ kelimeler listesinden kaldÄ±rÄ±ldÄ±`)):c.error("âŒ Kelime kaldÄ±rÄ±lamadÄ±")}catch(t){console.error("Error removing blocked word:",t),c.error("âŒ BaÄŸlantÄ± hatasÄ±")}},y=async()=>{if(await w("Verilerinizi dÄ±ÅŸa aktarmak istediÄŸinizden emin misiniz? Bu iÅŸlem biraz zaman alabilir."))try{const e=localStorage.getItem("access_token"),t=await fetch(`${s}/privacy/data-export/request/`,{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(t.ok){const n=await t.json();c.success("âœ… Veri dÄ±ÅŸa aktarma iÅŸlemi baÅŸlatÄ±ldÄ±. E-postanÄ±za link gÃ¶nderilecek.")}else c.error("âŒ Ä°stek gÃ¶nderilemedi")}catch(e){console.error("Error requesting data export:",e),c.error("âŒ BaÄŸlantÄ± hatasÄ±")}};return v?React.createElement("div",{className:"privacy-settings-overlay"},React.createElement("div",{className:"privacy-settings-panel"},React.createElement("div",{className:"loading-state"},React.createElement("div",{className:"spinner"}),React.createElement("p",null,"Gizlilik ayarlarÄ± yÃ¼kleniyor...")))):React.createElement("div",{className:"privacy-settings-overlay",onClick:d},React.createElement("div",{className:"privacy-settings-panel",onClick:e=>e.stopPropagation()},React.createElement("div",{className:"privacy-settings-header"},React.createElement("h2",null,"ðŸ”’ Gizlilik ve GÃ¼venlik AyarlarÄ±"),React.createElement("button",{className:"close-btn",onClick:d},"Ã—")),React.createElement("div",{className:"privacy-settings-content"},React.createElement("div",{className:"settings-section"},React.createElement("h3",null,"ðŸ’¬ Direkt Mesaj GizliliÄŸi"),React.createElement("div",{className:"settings-group"},React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"Herkesten DM alabilir"),React.createElement("div",{className:"setting-desc"},"Sunucu Ã¼yesi olmasalar bile")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.allow_dm_from_everyone,onChange:()=>l("allow_dm_from_everyone")}),React.createElement("span",{className:"slider"}))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"Sadece arkadaÅŸlardan DM"),React.createElement("div",{className:"setting-desc"},"YalnÄ±zca arkadaÅŸlarÄ±nÄ±zdan mesaj alabilirsiniz")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.allow_dm_from_friends_only,onChange:()=>l("allow_dm_from_friends_only")}),React.createElement("span",{className:"slider"}))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"Sunucu Ã¼yelerinden DM"),React.createElement("div",{className:"setting-desc"},"AynÄ± sunucudaki Ã¼yelerden mesaj alabilirsiniz")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.allow_dm_from_server_members,onChange:()=>l("allow_dm_from_server_members")}),React.createElement("span",{className:"slider"}))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"ArkadaÅŸlÄ±k isteklerini kabul et"),React.createElement("div",{className:"setting-desc"},"DiÄŸer kullanÄ±cÄ±lar size istek gÃ¶nderebilir")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.allow_friend_requests,onChange:()=>l("allow_friend_requests")}),React.createElement("span",{className:"slider"}))))),React.createElement("div",{className:"settings-section"},React.createElement("h3",null,"ðŸ  Sunucu GizliliÄŸi"),React.createElement("div",{className:"settings-group"},React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"Sunucudan ayrÄ±lÄ±rken DM geÃ§miÅŸini sakla"),React.createElement("div",{className:"setting-desc"},"Sunucudan ayrÄ±ldÄ±ktan sonra DM'ler silinmez")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.keep_dm_history_on_server_leave,onChange:()=>l("keep_dm_history_on_server_leave")}),React.createElement("span",{className:"slider"}))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"Mevcut aktiviteyi gÃ¶ster"),React.createElement("div",{className:"setting-desc"},"OynadÄ±ÄŸÄ±nÄ±z oyun veya dinlediÄŸiniz mÃ¼ziÄŸi gÃ¶sterin")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.show_current_activity,onChange:()=>l("show_current_activity")}),React.createElement("span",{className:"slider"}))))),React.createElement("div",{className:"settings-section"},React.createElement("h3",null,"ðŸ›¡ï¸ Mesaj Filtreleme"),React.createElement("div",{className:"settings-group"},React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"AÃ§Ä±k iÃ§erik filtresi"),React.createElement("div",{className:"setting-desc"},"Mesajlardaki mÃ¼stehcen iÃ§eriÄŸi otomatik tara")),React.createElement("select",{className:"explicit-filter-select",value:a.explicit_content_filter,onChange:e=>h(e.target.value)},React.createElement("option",{value:"none"},"KapalÄ±"),React.createElement("option",{value:"friends"},"ArkadaÅŸlar hariÃ§"),React.createElement("option",{value:"all"},"Herkesten tara"))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"EngellenmiÅŸ kelime filtresi"),React.createElement("div",{className:"setting-desc"},"BelirlediÄŸiniz kelimeleri iÃ§eren mesajlarÄ± gizleyin")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.blocked_words_filter_enabled,onChange:()=>l("blocked_words_filter_enabled")}),React.createElement("span",{className:"slider"})))),a.blocked_words_filter_enabled&&React.createElement("div",{className:"blocked-words-section"},React.createElement("h4",null,"EngellenmiÅŸ Kelimeler"),React.createElement("div",{className:"add-word-form"},React.createElement("input",{type:"text",placeholder:"Engellenecek kelime...",value:i,onChange:e=>E(e.target.value),onKeyPress:e=>e.key==="Enter"&&k()}),React.createElement("button",{className:"add-word-btn",onClick:k},"âž• Ekle")),o.length>0?React.createElement("div",{className:"blocked-words-list"},o.map((e,t)=>React.createElement("div",{key:t,className:"blocked-word-item"},React.createElement("span",null,e),React.createElement("button",{className:"remove-word-btn",onClick:()=>N(e)},"âœ•")))):React.createElement("p",{className:"empty-state"},"HenÃ¼z engellenmiÅŸ kelime yok"))),React.createElement("div",{className:"settings-section"},React.createElement("h3",null,"ðŸ‘ï¸ GÃ¶rÃ¼nÃ¼rlÃ¼k"),React.createElement("div",{className:"settings-group"},React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"Ã‡evrimiÃ§i durumu gÃ¶ster"),React.createElement("div",{className:"setting-desc"},"DiÄŸer kullanÄ±cÄ±lar Ã§evrimiÃ§i olduÄŸunuzu gÃ¶rebilir")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.show_online_status,onChange:()=>l("show_online_status")}),React.createElement("span",{className:"slider"}))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"Okundu bilgisi gÃ¶nder"),React.createElement("div",{className:"setting-desc"},"MesajlarÄ± okuduÄŸunuzda karÅŸÄ± tarafa bildirim gÃ¶sterilir")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.show_read_receipts,onChange:()=>l("show_read_receipts")}),React.createElement("span",{className:"slider"}))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"YazÄ±yor gÃ¶stergesini gÃ¶ster"),React.createElement("div",{className:"setting-desc"},"Mesaj yazarken karÅŸÄ± tarafa bildirim gÃ¶sterilir")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.show_typing_indicator,onChange:()=>l("show_typing_indicator")}),React.createElement("span",{className:"slider"}))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"ArkadaÅŸ olmayanlar profilimi gÃ¶rebilir"),React.createElement("div",{className:"setting-desc"},"Herkes profilinizi gÃ¶rÃ¼ntÃ¼leyebilir")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.allow_profile_views_from_non_friends,onChange:()=>l("allow_profile_views_from_non_friends")}),React.createElement("span",{className:"slider"}))))),React.createElement("div",{className:"settings-section"},React.createElement("h3",null,"ðŸ“Š Veri GizliliÄŸi"),React.createElement("div",{className:"settings-group"},React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"Veri toplamaya izin ver"),React.createElement("div",{className:"setting-desc"},"UygulamayÄ± geliÅŸtirmek iÃ§in anonim kullanÄ±m verisi toplanÄ±r")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.allow_data_collection,onChange:()=>l("allow_data_collection")}),React.createElement("span",{className:"slider"}))),React.createElement("div",{className:"setting-item"},React.createElement("div",{className:"setting-info"},React.createElement("div",{className:"setting-label"},"KiÅŸiselleÅŸtirilmiÅŸ reklamlara izin ver"),React.createElement("div",{className:"setting-desc"},"Size Ã¶zel reklamlar gÃ¶sterilir")),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:a.allow_personalized_ads,onChange:()=>l("allow_personalized_ads")}),React.createElement("span",{className:"slider"})))),React.createElement("button",{className:"export-data-btn",onClick:y},"ðŸ“¥ Verilerimi DÄ±ÅŸa Aktar")))))};export{x as default};

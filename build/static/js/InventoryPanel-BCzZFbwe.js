import{r as d,n as t}from"./react-core-Cj7FUMmY.js";import{bK as f,a as S,ay as q,at as x,bE as w}from"./icons-vendor-TGltgKsJ.js";import{t as r}from"./index-qKzN81ih.js";import"./editor-vendor-D9c4a6XZ.js";import"./media-vendor-BsD1gqUZ.js";import"./router-vendor-QeioVw-9.js";import"./state-vendor-MN-5i-Jz.js";import"./crypto-vendor-DK-7ILyQ.js";const P=({fetchWithAuth:n,apiBaseUrl:a,onClose:u,username:m})=>{const[p,g]=d.useState([]),[y,c]=d.useState(!1),[s,b]=d.useState("all"),h=[{value:"all",label:"All Items",icon:f},{value:"cosmetic",label:"Cosmetics",icon:q},{value:"badge",label:"Badges",icon:x},{value:"gift",label:"Gifts",icon:w}];d.useEffect(()=>{l()},[s]);const l=async()=>{c(!0);try{const e=new URLSearchParams({username:m||"",type:s!=="all"?s:""}),I=await(await n(`${a}/inventory/?${e}`)).json();g(I.items||[])}catch{r.error("Failed to load inventory")}finally{c(!1)}},v=async e=>{try{await n(`${a}/inventory/${e}/equip/`,{method:"POST"}),r.success("Item equipped"),l()}catch{r.error("Failed to equip item")}},j=async e=>{try{await n(`${a}/inventory/${e}/unequip/`,{method:"POST"}),r.success("Item unequipped"),l()}catch{r.error("Failed to unequip item")}},C=async e=>{try{await n(`${a}/inventory/${e}/use/`,{method:"POST"}),r.success("Item used"),l()}catch{r.error("Failed to use item")}};return t.jsx("div",{style:o.overlay,children:t.jsxs("div",{style:o.modal,children:[t.jsxs("div",{style:o.header,children:[t.jsxs("div",{style:o.headerLeft,children:[t.jsx(f,{style:{marginRight:"10px",color:"#5865f2"}}),t.jsx("h2",{style:o.title,children:"Inventory"})]}),t.jsx("button",{onClick:u,style:o.closeButton,children:t.jsx(S,{})})]}),t.jsx("div",{style:o.filterBar,children:h.map(e=>{const i=e.icon;return t.jsxs("button",{onClick:()=>b(e.value),style:s===e.value?o.activeFilter:o.filterButton,children:[t.jsx(i,{style:{marginRight:"6px"}}),e.label]},e.value)})}),t.jsx("div",{style:o.content,children:y?t.jsx("div",{style:o.loading,children:"Loading inventory..."}):p.length===0?t.jsx("div",{style:o.empty,children:"No items in inventory"}):t.jsx("div",{style:o.itemsGrid,children:p.map((e,i)=>t.jsxs("div",{style:o.itemCard,children:[e.image_url&&t.jsx("div",{style:o.itemImage,children:t.jsx("img",{src:e.image_url,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.equipped&&t.jsxs("div",{style:o.equippedBadge,children:[t.jsx(x,{style:{fontSize:"12px"}})," Equipped"]}),t.jsxs("div",{style:o.itemInfo,children:[t.jsx("div",{style:o.itemName,children:e.name}),e.rarity&&t.jsx("div",{style:{...o.itemRarity,color:B(e.rarity)},children:e.rarity.toUpperCase()}),e.description&&t.jsx("div",{style:o.itemDescription,children:e.description}),e.quantity>1&&t.jsxs("div",{style:o.itemQuantity,children:["Quantity: ",e.quantity]}),t.jsxs("div",{style:o.itemActions,children:[e.type==="cosmetic"&&t.jsx(t.Fragment,{children:e.equipped?t.jsx("button",{onClick:()=>j(e.id),style:o.unequipButton,children:"Unequip"}):t.jsx("button",{onClick:()=>v(e.id),style:o.equipButton,children:"Equip"})}),e.usable&&t.jsx("button",{onClick:()=>C(e.id),style:o.useButton,children:"Use"})]})]})]},i))})})]})})},B=n=>({common:"#99aab5",uncommon:"#43b581",rare:"#5865f2",epic:"#a020f0",legendary:"#faa61a"})[n?.toLowerCase()]||"#99aab5",o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"1100px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},filterBar:{display:"flex",gap:"8px",padding:"16px 20px",borderBottom:"1px solid #2c2f33",overflowX:"auto"},filterButton:{padding:"8px 16px",backgroundColor:"#2c2f33",border:"none",borderRadius:"4px",color:"#dcddde",cursor:"pointer",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center"},activeFilter:{padding:"8px 16px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"13px",whiteSpace:"nowrap",display:"flex",alignItems:"center"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},itemsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},itemCard:{backgroundColor:"#2c2f33",borderRadius:"8px",overflow:"hidden",position:"relative"},itemImage:{width:"100%",height:"150px",backgroundColor:"#1e1e1e"},equippedBadge:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#faa61a",color:"#ffffff",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},itemInfo:{padding:"12px"},itemName:{fontSize:"15px",fontWeight:"600",color:"#ffffff",marginBottom:"6px"},itemRarity:{fontSize:"11px",fontWeight:"700",marginBottom:"6px",textTransform:"uppercase"},itemDescription:{fontSize:"12px",color:"#dcddde",marginBottom:"8px",lineHeight:"1.4"},itemQuantity:{fontSize:"12px",color:"#99aab5",marginBottom:"8px"},itemActions:{display:"flex",gap:"8px"},equipButton:{flex:1,padding:"8px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"},unequipButton:{flex:1,padding:"8px",backgroundColor:"#99aab5",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"},useButton:{flex:1,padding:"8px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"#ffffff",cursor:"pointer",fontSize:"12px",fontWeight:"600"}};export{P as default};

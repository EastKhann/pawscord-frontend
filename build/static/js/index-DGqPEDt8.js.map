{"version":3,"mappings":"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","names":["ExceptionCode","_a","registerPlugin","p","cookie","path","headers","jsxs","jsx","get","useState","useEffect","useMemo","useDebounce","useRef","useCallback","isElectron","isNative","API_URL_BASE_STRING","API_BASE_URL","ABSOLUTE_HOST_URL","MEDIA_BASE_URL","WS_PROTOCOL","API_HOST","createContext","API_URL_BASE","refreshToken","storedToken","useContext","toast","AudioContext","settings","username","senderUsername","user","time","styles","styleSheet","Fragment","Suspense","api","API","S","memo","root","createRoot","ROOM_LIST_URL","CONVERSATION_LIST_URL","server","hash","GOOGLE_WEB_CLIENT_ID","cacheKey","socket","chat","MESSAGE_HISTORY_ROOM_URL","MESSAGE_HISTORY_DM_URL","payload","e","SplashScreen","ConnectionStatusBar","TypingIndicatorEnhanced","MessageDateDivider","ScrollToBottomButton","m","ErrorBoundary","escape","copy","escape$1","instance","localStorage","sessionStorage","htmlTag","caches","i18n","LanguageDetector","VerifyEmailPage","SpotifyCallback","PronunciationPage","RELOAD_KEY","RELOAD_COUNT_KEY","ReactDOM"],"ignoreList":[1,51,76,81,82,83,84,85],"sources":["../../../src/utils/consoleCleanup.js","../../../node_modules/@capacitor/core/dist/index.js","../../../src/components/ErrorBoundary/ErrorBoundary.jsx","../../../src/stores/useChatStore.js","../../../src/stores/useUIStore.js","../../../src/hooks/useResponsive.js","../../../src/hooks/useOptimizedMessages.js","../../../src/utils/performanceOptimization.js","../../../src/hooks/usePerformanceHooks.js","../../../src/utils/constants.js","../../../src/AuthContext.js","../../../src/utils/logger.js","../../../src/utils/toast.js","../../../src/SpatialAudioEngine.js","../../../src/utils/authFetch.js","../../../src/VoiceContext/constants.js","../../../src/VoiceContext/audioProcessing.js","../../../src/VoiceContext/voiceEffects.js","../../../src/VoiceContext/useVoiceSettings.js","../../../src/VoiceContext/useRecording.js","../../../src/VoiceContext/useStatsMonitoring.js","../../../src/VoiceContext/useAudioVisualizer.js","../../../src/VoiceContext.js","../../../src/GlobalWebSocketContext.js","../../../src/components/MaintenanceBanner.js","../../../src/components/LoadingSpinner.js","../../../src/utils/apiEndpoints.js","../../../src/config/api.js","../../../src/components/AppModals/AppModalsCore.js","../../../src/components/AppModals/AppModalsBatch1to8.js","../../../src/components/AppModals/batch10Config.js","../../../src/components/AppModals/AppModalsBatch10.js","../../../src/components/FeatureHubModal/featureSections.js","../../../src/components/FeatureHubModal/styles.js","../../../src/components/FeatureHubModal.js","../../../src/components/AppModals/batch11Config.js","../../../src/components/AppModals/AppModalsBatch11.js","../../../src/components/AppModals/AppModalsStandard.js","../../../src/components/AppModals.js","../../../src/utils/cdn.js","../../../src/SplashScreen.js","../../../src/components/ConnectionStatusBar.js","../../../src/components/ScrollToBottomButton.js","../../../src/components/MessageDateDivider.js","../../../src/components/TypingIndicatorEnhanced.js","../../../src/components/ImageGalleryGroup.js","../../../src/App/lazyImports.js","../../../src/styles/appStyles.js","../../../src/utils/confirmDialog.jsx","../../../src/App/useFetchWithAuth.js","../../../src/App/useAppInit.js","../../../node_modules/@codetrix-studio/capacitor-google-auth/dist/esm/index.js","../../../src/utils/pwaHelper.js","../../../src/utils/criticalCSS.js","../../../src/utils/codeSplitting.config.js","../../../src/hooks/usePageTracking.js","../../../src/hooks/useKeyboardShortcuts.js","../../../src/utils/ThemeManager.js","../../../src/App/useAppEffects.js","../../../src/utils/notificationSounds.js","../../../src/App/useChatConnection.js","../../../src/utils/encryption.js","../../../src/App/useMessageHandlers.js","../../../src/App/useFileUpload.js","../../../src/App/useServerHandlers.js","../../../src/App/ToolbarMenu.js","../../../src/App/InviteServerModal.js","../../../src/App.js","../../../src/VerifyEmailPage.js","../../../src/InvitePage.js","../../../src/utils/lazyWithRetry.js","../../../src/EnglishVoicePractice.js","../../../src/data/pronunciationList.js","../../../src/PronunciationPage.js","../../../src/SpotifyCallback.js","../../../src/components/SignalNotification.js","../../../node_modules/@react-oauth/google/dist/index.esm.js","../../../src/components/PageWrapper.js","../../../src/components/ErrorBoundary.js","../../../src/api.js","../../../src/AuthCallback.js","../../../node_modules/i18next/dist/esm/i18next.js","../../../node_modules/react-i18next/dist/es/unescape.js","../../../node_modules/react-i18next/dist/es/defaults.js","../../../node_modules/react-i18next/dist/es/initReactI18next.js","../../../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js","../../../src/i18n/index.js","../../../src/main.jsx"],"sourcesContent":["// frontend/src/utils/consoleCleanup.js\r\n\r\n//  Console Log Cleanup Utility\r\n\r\nconst originalConsole = {\r\n    log: console.log,\r\n    warn: console.warn,\r\n    error: console.error,\r\n    info: console.info,\r\n    debug: console.debug\r\n};\r\n\r\nlet isProduction = import.meta.env.MODE === 'production';\r\nlet logLevel = import.meta.env.VITE_LOG_LEVEL || 'warn'; // 'none', 'error', 'warn', 'info', 'debug'\r\n\r\nconst LOG_LEVELS = {\r\n    none: 0,\r\n    error: 1,\r\n    warn: 2,\r\n    info: 3,\r\n    debug: 4\r\n};\r\n\r\nconst currentLogLevel = LOG_LEVELS[logLevel] || LOG_LEVELS.warn;\r\n\r\n// Filter patterns to reduce console noise\r\nconst FILTER_PATTERNS = [\r\n    /^\\[WS\\]/,                    // WebSocket logs\r\n    /^/,                        // Connection logs\r\n    /^/,                        // Success logs\r\n    /^/,                        // Render logs\r\n    /^/,                        // Analytics logs\r\n    /^/,                        // Debug logs\r\n    /Download the React DevTools/,\r\n    /React will try to recreate/,\r\n];\r\n\r\nconst shouldLog = (level, args) => {\r\n    // In production, only log errors\r\n    if (isProduction && level > LOG_LEVELS.error) {\r\n        return false;\r\n    }\r\n\r\n    // Check log level\r\n    if (level > currentLogLevel) {\r\n        return false;\r\n    }\r\n\r\n    // Check if message matches filter patterns (only in development)\r\n    if (!isProduction && args.length > 0) {\r\n        const message = String(args[0]);\r\n\r\n        // Allow certain important patterns\r\n        if (message.includes('') || message.includes('') || message.includes('')) {\r\n            return true;\r\n        }\r\n\r\n        // Filter out noise\r\n        for (const pattern of FILTER_PATTERNS) {\r\n            if (pattern.test(message)) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n// Enhanced console methods\r\nconsole.log = (...args) => {\r\n    if (shouldLog(LOG_LEVELS.info, args)) {\r\n        originalConsole.log(...args);\r\n    }\r\n};\r\n\r\nconsole.info = (...args) => {\r\n    if (shouldLog(LOG_LEVELS.info, args)) {\r\n        originalConsole.info(...args);\r\n    }\r\n};\r\n\r\nconsole.debug = (...args) => {\r\n    if (shouldLog(LOG_LEVELS.debug, args)) {\r\n        originalConsole.debug(...args);\r\n    }\r\n};\r\n\r\nconsole.warn = (...args) => {\r\n    if (shouldLog(LOG_LEVELS.warn, args)) {\r\n        originalConsole.warn(...args);\r\n    }\r\n};\r\n\r\nconsole.error = (...args) => {\r\n    if (shouldLog(LOG_LEVELS.error, args)) {\r\n        originalConsole.error(...args);\r\n    }\r\n};\r\n\r\n// Utility to temporarily enable/disable all logs\r\nexport const setLogLevel = (level) => {\r\n    if (LOG_LEVELS[level] !== undefined) {\r\n        logLevel = level;\r\n        console.info(` Log level set to: ${level}`);\r\n    }\r\n};\r\n\r\n// Restore original console (for debugging)\r\nexport const restoreConsole = () => {\r\n    console.log = originalConsole.log;\r\n    console.warn = originalConsole.warn;\r\n    console.error = originalConsole.error;\r\n    console.info = originalConsole.info;\r\n    console.debug = originalConsole.debug;\r\n};\r\n\r\n// Group similar logs to reduce spam\r\nlet logGroups = new Map();\r\nlet logGroupTimer = null;\r\n\r\nexport const groupedLog = (group, message, ...args) => {\r\n    if (!logGroups.has(group)) {\r\n        logGroups.set(group, []);\r\n    }\r\n\r\n    logGroups.get(group).push({ message, args, timestamp: Date.now() });\r\n\r\n    // Clear and log groups every 5 seconds\r\n    if (!logGroupTimer) {\r\n        logGroupTimer = setTimeout(() => {\r\n            logGroups.forEach((logs, group) => {\r\n                if (logs.length > 1) {\r\n                    console.log(` [${group}] ${logs.length} logs:`, logs);\r\n                } else if (logs.length === 1) {\r\n                    console.log(`[${group}]`, logs[0].message, ...logs[0].args);\r\n                }\r\n            });\r\n            logGroups.clear();\r\n            logGroupTimer = null;\r\n        }, 5000);\r\n    }\r\n};\r\n\r\n// Rate limit console logs\r\nconst rateLimitedLogs = new Map();\r\n\r\nexport const rateLimitedLog = (key, message, intervalMs = 1000) => {\r\n    const now = Date.now();\r\n    const lastLog = rateLimitedLogs.get(key);\r\n\r\n    if (!lastLog || now - lastLog > intervalMs) {\r\n        console.log(message);\r\n        rateLimitedLogs.set(key, now);\r\n    }\r\n};\r\n\r\n// Clean up rate limit map periodically\r\nsetInterval(() => {\r\n    const now = Date.now();\r\n    rateLimitedLogs.forEach((timestamp, key) => {\r\n        if (now - timestamp > 60000) { // Remove entries older than 1 minute\r\n            rateLimitedLogs.delete(key);\r\n        }\r\n    });\r\n}, 60000);\r\n\r\nexport default {\r\n    setLogLevel,\r\n    restoreConsole,\r\n    groupedLog,\r\n    rateLimitedLog\r\n};\r\n\r\n\r\n\r\n","/*! Capacitor: https://capacitorjs.com/ - MIT License */\nvar ExceptionCode;\n(function (ExceptionCode) {\n    /**\n     * API is not implemented.\n     *\n     * This usually means the API can't be used because it is not implemented for\n     * the current platform.\n     */\n    ExceptionCode[\"Unimplemented\"] = \"UNIMPLEMENTED\";\n    /**\n     * API is not available.\n     *\n     * This means the API can't be used right now because:\n     *   - it is currently missing a prerequisite, such as network connectivity\n     *   - it requires a particular platform or browser version\n     */\n    ExceptionCode[\"Unavailable\"] = \"UNAVAILABLE\";\n})(ExceptionCode || (ExceptionCode = {}));\nclass CapacitorException extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.message = message;\n        this.code = code;\n        this.data = data;\n    }\n}\nconst getPlatformId = (win) => {\n    var _a, _b;\n    if (win === null || win === void 0 ? void 0 : win.androidBridge) {\n        return 'android';\n    }\n    else if ((_b = (_a = win === null || win === void 0 ? void 0 : win.webkit) === null || _a === void 0 ? void 0 : _a.messageHandlers) === null || _b === void 0 ? void 0 : _b.bridge) {\n        return 'ios';\n    }\n    else {\n        return 'web';\n    }\n};\n\nconst createCapacitor = (win) => {\n    const capCustomPlatform = win.CapacitorCustomPlatform || null;\n    const cap = win.Capacitor || {};\n    const Plugins = (cap.Plugins = cap.Plugins || {});\n    const getPlatform = () => {\n        return capCustomPlatform !== null ? capCustomPlatform.name : getPlatformId(win);\n    };\n    const isNativePlatform = () => getPlatform() !== 'web';\n    const isPluginAvailable = (pluginName) => {\n        const plugin = registeredPlugins.get(pluginName);\n        if (plugin === null || plugin === void 0 ? void 0 : plugin.platforms.has(getPlatform())) {\n            // JS implementation available for the current platform.\n            return true;\n        }\n        if (getPluginHeader(pluginName)) {\n            // Native implementation available.\n            return true;\n        }\n        return false;\n    };\n    const getPluginHeader = (pluginName) => { var _a; return (_a = cap.PluginHeaders) === null || _a === void 0 ? void 0 : _a.find((h) => h.name === pluginName); };\n    const handleError = (err) => win.console.error(err);\n    const registeredPlugins = new Map();\n    const registerPlugin = (pluginName, jsImplementations = {}) => {\n        const registeredPlugin = registeredPlugins.get(pluginName);\n        if (registeredPlugin) {\n            console.warn(`Capacitor plugin \"${pluginName}\" already registered. Cannot register plugins twice.`);\n            return registeredPlugin.proxy;\n        }\n        const platform = getPlatform();\n        const pluginHeader = getPluginHeader(pluginName);\n        let jsImplementation;\n        const loadPluginImplementation = async () => {\n            if (!jsImplementation && platform in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations[platform] === 'function'\n                        ? (jsImplementation = await jsImplementations[platform]())\n                        : (jsImplementation = jsImplementations[platform]);\n            }\n            else if (capCustomPlatform !== null && !jsImplementation && 'web' in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations['web'] === 'function'\n                        ? (jsImplementation = await jsImplementations['web']())\n                        : (jsImplementation = jsImplementations['web']);\n            }\n            return jsImplementation;\n        };\n        const createPluginMethod = (impl, prop) => {\n            var _a, _b;\n            if (pluginHeader) {\n                const methodHeader = pluginHeader === null || pluginHeader === void 0 ? void 0 : pluginHeader.methods.find((m) => prop === m.name);\n                if (methodHeader) {\n                    if (methodHeader.rtype === 'promise') {\n                        return (options) => cap.nativePromise(pluginName, prop.toString(), options);\n                    }\n                    else {\n                        return (options, callback) => cap.nativeCallback(pluginName, prop.toString(), options, callback);\n                    }\n                }\n                else if (impl) {\n                    return (_a = impl[prop]) === null || _a === void 0 ? void 0 : _a.bind(impl);\n                }\n            }\n            else if (impl) {\n                return (_b = impl[prop]) === null || _b === void 0 ? void 0 : _b.bind(impl);\n            }\n            else {\n                throw new CapacitorException(`\"${pluginName}\" plugin is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n            }\n        };\n        const createPluginMethodWrapper = (prop) => {\n            let remove;\n            const wrapper = (...args) => {\n                const p = loadPluginImplementation().then((impl) => {\n                    const fn = createPluginMethod(impl, prop);\n                    if (fn) {\n                        const p = fn(...args);\n                        remove = p === null || p === void 0 ? void 0 : p.remove;\n                        return p;\n                    }\n                    else {\n                        throw new CapacitorException(`\"${pluginName}.${prop}()\" is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n                    }\n                });\n                if (prop === 'addListener') {\n                    p.remove = async () => remove();\n                }\n                return p;\n            };\n            // Some flair \n            wrapper.toString = () => `${prop.toString()}() { [capacitor code] }`;\n            Object.defineProperty(wrapper, 'name', {\n                value: prop,\n                writable: false,\n                configurable: false,\n            });\n            return wrapper;\n        };\n        const addListener = createPluginMethodWrapper('addListener');\n        const removeListener = createPluginMethodWrapper('removeListener');\n        const addListenerNative = (eventName, callback) => {\n            const call = addListener({ eventName }, callback);\n            const remove = async () => {\n                const callbackId = await call;\n                removeListener({\n                    eventName,\n                    callbackId,\n                }, callback);\n            };\n            const p = new Promise((resolve) => call.then(() => resolve({ remove })));\n            p.remove = async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            };\n            return p;\n        };\n        const proxy = new Proxy({}, {\n            get(_, prop) {\n                switch (prop) {\n                    // https://github.com/facebook/react/issues/20030\n                    case '$$typeof':\n                        return undefined;\n                    case 'toJSON':\n                        return () => ({});\n                    case 'addListener':\n                        return pluginHeader ? addListenerNative : addListener;\n                    case 'removeListener':\n                        return removeListener;\n                    default:\n                        return createPluginMethodWrapper(prop);\n                }\n            },\n        });\n        Plugins[pluginName] = proxy;\n        registeredPlugins.set(pluginName, {\n            name: pluginName,\n            proxy,\n            platforms: new Set([...Object.keys(jsImplementations), ...(pluginHeader ? [platform] : [])]),\n        });\n        return proxy;\n    };\n    // Add in convertFileSrc for web, it will already be available in native context\n    if (!cap.convertFileSrc) {\n        cap.convertFileSrc = (filePath) => filePath;\n    }\n    cap.getPlatform = getPlatform;\n    cap.handleError = handleError;\n    cap.isNativePlatform = isNativePlatform;\n    cap.isPluginAvailable = isPluginAvailable;\n    cap.registerPlugin = registerPlugin;\n    cap.Exception = CapacitorException;\n    cap.DEBUG = !!cap.DEBUG;\n    cap.isLoggingEnabled = !!cap.isLoggingEnabled;\n    return cap;\n};\nconst initCapacitorGlobal = (win) => (win.Capacitor = createCapacitor(win));\n\nconst Capacitor = /*#__PURE__*/ initCapacitorGlobal(typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {});\nconst registerPlugin = Capacitor.registerPlugin;\n\n/**\n * Base class web plugins should extend.\n */\nclass WebPlugin {\n    constructor() {\n        this.listeners = {};\n        this.retainedEventArguments = {};\n        this.windowListeners = {};\n    }\n    addListener(eventName, listenerFunc) {\n        let firstListener = false;\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            this.listeners[eventName] = [];\n            firstListener = true;\n        }\n        this.listeners[eventName].push(listenerFunc);\n        // If we haven't added a window listener for this event and it requires one,\n        // go ahead and add it\n        const windowListener = this.windowListeners[eventName];\n        if (windowListener && !windowListener.registered) {\n            this.addWindowListener(windowListener);\n        }\n        if (firstListener) {\n            this.sendRetainedArgumentsForEvent(eventName);\n        }\n        const remove = async () => this.removeListener(eventName, listenerFunc);\n        const p = Promise.resolve({ remove });\n        return p;\n    }\n    async removeAllListeners() {\n        this.listeners = {};\n        for (const listener in this.windowListeners) {\n            this.removeWindowListener(this.windowListeners[listener]);\n        }\n        this.windowListeners = {};\n    }\n    notifyListeners(eventName, data, retainUntilConsumed) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            if (retainUntilConsumed) {\n                let args = this.retainedEventArguments[eventName];\n                if (!args) {\n                    args = [];\n                }\n                args.push(data);\n                this.retainedEventArguments[eventName] = args;\n            }\n            return;\n        }\n        listeners.forEach((listener) => listener(data));\n    }\n    hasListeners(eventName) {\n        var _a;\n        return !!((_a = this.listeners[eventName]) === null || _a === void 0 ? void 0 : _a.length);\n    }\n    registerWindowListener(windowEventName, pluginEventName) {\n        this.windowListeners[pluginEventName] = {\n            registered: false,\n            windowEventName,\n            pluginEventName,\n            handler: (event) => {\n                this.notifyListeners(pluginEventName, event);\n            },\n        };\n    }\n    unimplemented(msg = 'not implemented') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unimplemented);\n    }\n    unavailable(msg = 'not available') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unavailable);\n    }\n    async removeListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            return;\n        }\n        const index = listeners.indexOf(listenerFunc);\n        this.listeners[eventName].splice(index, 1);\n        // If there are no more listeners for this type of event,\n        // remove the window listener\n        if (!this.listeners[eventName].length) {\n            this.removeWindowListener(this.windowListeners[eventName]);\n        }\n    }\n    addWindowListener(handle) {\n        window.addEventListener(handle.windowEventName, handle.handler);\n        handle.registered = true;\n    }\n    removeWindowListener(handle) {\n        if (!handle) {\n            return;\n        }\n        window.removeEventListener(handle.windowEventName, handle.handler);\n        handle.registered = false;\n    }\n    sendRetainedArgumentsForEvent(eventName) {\n        const args = this.retainedEventArguments[eventName];\n        if (!args) {\n            return;\n        }\n        delete this.retainedEventArguments[eventName];\n        args.forEach((arg) => {\n            this.notifyListeners(eventName, arg);\n        });\n    }\n}\n\nconst WebView = /*#__PURE__*/ registerPlugin('WebView');\n/******** END WEB VIEW PLUGIN ********/\n/******** COOKIES PLUGIN ********/\n/**\n * Safely web encode a string value (inspired by js-cookie)\n * @param str The string value to encode\n */\nconst encode = (str) => encodeURIComponent(str)\n    .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n    .replace(/[()]/g, escape);\n/**\n * Safely web decode a string value (inspired by js-cookie)\n * @param str The string value to decode\n */\nconst decode = (str) => str.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\nclass CapacitorCookiesPluginWeb extends WebPlugin {\n    async getCookies() {\n        const cookies = document.cookie;\n        const cookieMap = {};\n        cookies.split(';').forEach((cookie) => {\n            if (cookie.length <= 0)\n                return;\n            // Replace first \"=\" with CAP_COOKIE to prevent splitting on additional \"=\"\n            let [key, value] = cookie.replace(/=/, 'CAP_COOKIE').split('CAP_COOKIE');\n            key = decode(key).trim();\n            value = decode(value).trim();\n            cookieMap[key] = value;\n        });\n        return cookieMap;\n    }\n    async setCookie(options) {\n        try {\n            // Safely Encoded Key/Value\n            const encodedKey = encode(options.key);\n            const encodedValue = encode(options.value);\n            // Clean & sanitize options\n            const expires = `; expires=${(options.expires || '').replace('expires=', '')}`; // Default is \"; expires=\"\n            const path = (options.path || '/').replace('path=', ''); // Default is \"path=/\"\n            const domain = options.url != null && options.url.length > 0 ? `domain=${options.url}` : '';\n            document.cookie = `${encodedKey}=${encodedValue || ''}${expires}; path=${path}; ${domain};`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async deleteCookie(options) {\n        try {\n            document.cookie = `${options.key}=; Max-Age=0`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearCookies() {\n        try {\n            const cookies = document.cookie.split(';') || [];\n            for (const cookie of cookies) {\n                document.cookie = cookie.replace(/^ +/, '').replace(/=.*/, `=;expires=${new Date().toUTCString()};path=/`);\n            }\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearAllCookies() {\n        try {\n            await this.clearCookies();\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n}\nconst CapacitorCookies = registerPlugin('CapacitorCookies', {\n    web: () => new CapacitorCookiesPluginWeb(),\n});\n// UTILITY FUNCTIONS\n/**\n * Read in a Blob value and return it as a base64 string\n * @param blob The blob value to convert to a base64 string\n */\nconst readBlobAsBase64 = async (blob) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n        const base64String = reader.result;\n        // remove prefix \"data:application/pdf;base64,\"\n        resolve(base64String.indexOf(',') >= 0 ? base64String.split(',')[1] : base64String);\n    };\n    reader.onerror = (error) => reject(error);\n    reader.readAsDataURL(blob);\n});\n/**\n * Normalize an HttpHeaders map by lowercasing all of the values\n * @param headers The HttpHeaders object to normalize\n */\nconst normalizeHttpHeaders = (headers = {}) => {\n    const originalKeys = Object.keys(headers);\n    const loweredKeys = Object.keys(headers).map((k) => k.toLocaleLowerCase());\n    const normalized = loweredKeys.reduce((acc, key, index) => {\n        acc[key] = headers[originalKeys[index]];\n        return acc;\n    }, {});\n    return normalized;\n};\n/**\n * Builds a string of url parameters that\n * @param params A map of url parameters\n * @param shouldEncode true if you should encodeURIComponent() the values (true by default)\n */\nconst buildUrlParams = (params, shouldEncode = true) => {\n    if (!params)\n        return null;\n    const output = Object.entries(params).reduce((accumulator, entry) => {\n        const [key, value] = entry;\n        let encodedValue;\n        let item;\n        if (Array.isArray(value)) {\n            item = '';\n            value.forEach((str) => {\n                encodedValue = shouldEncode ? encodeURIComponent(str) : str;\n                item += `${key}=${encodedValue}&`;\n            });\n            // last character will always be \"&\" so slice it off\n            item.slice(0, -1);\n        }\n        else {\n            encodedValue = shouldEncode ? encodeURIComponent(value) : value;\n            item = `${key}=${encodedValue}`;\n        }\n        return `${accumulator}&${item}`;\n    }, '');\n    // Remove initial \"&\" from the reduce\n    return output.substr(1);\n};\n/**\n * Build the RequestInit object based on the options passed into the initial request\n * @param options The Http plugin options\n * @param extra Any extra RequestInit values\n */\nconst buildRequestInit = (options, extra = {}) => {\n    const output = Object.assign({ method: options.method || 'GET', headers: options.headers }, extra);\n    // Get the content-type\n    const headers = normalizeHttpHeaders(options.headers);\n    const type = headers['content-type'] || '';\n    // If body is already a string, then pass it through as-is.\n    if (typeof options.data === 'string') {\n        output.body = options.data;\n    }\n    // Build request initializers based off of content-type\n    else if (type.includes('application/x-www-form-urlencoded')) {\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(options.data || {})) {\n            params.set(key, value);\n        }\n        output.body = params.toString();\n    }\n    else if (type.includes('multipart/form-data') || options.data instanceof FormData) {\n        const form = new FormData();\n        if (options.data instanceof FormData) {\n            options.data.forEach((value, key) => {\n                form.append(key, value);\n            });\n        }\n        else {\n            for (const key of Object.keys(options.data)) {\n                form.append(key, options.data[key]);\n            }\n        }\n        output.body = form;\n        const headers = new Headers(output.headers);\n        headers.delete('content-type'); // content-type will be set by `window.fetch` to includy boundary\n        output.headers = headers;\n    }\n    else if (type.includes('application/json') || typeof options.data === 'object') {\n        output.body = JSON.stringify(options.data);\n    }\n    return output;\n};\n// WEB IMPLEMENTATION\nclass CapacitorHttpPluginWeb extends WebPlugin {\n    /**\n     * Perform an Http request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async request(options) {\n        const requestInit = buildRequestInit(options, options.webFetchExtra);\n        const urlParams = buildUrlParams(options.params, options.shouldEncodeUrlParams);\n        const url = urlParams ? `${options.url}?${urlParams}` : options.url;\n        const response = await fetch(url, requestInit);\n        const contentType = response.headers.get('content-type') || '';\n        // Default to 'text' responseType so no parsing happens\n        let { responseType = 'text' } = response.ok ? options : {};\n        // If the response content-type is json, force the response to be json\n        if (contentType.includes('application/json')) {\n            responseType = 'json';\n        }\n        let data;\n        let blob;\n        switch (responseType) {\n            case 'arraybuffer':\n            case 'blob':\n                blob = await response.blob();\n                data = await readBlobAsBase64(blob);\n                break;\n            case 'json':\n                data = await response.json();\n                break;\n            case 'document':\n            case 'text':\n            default:\n                data = await response.text();\n        }\n        // Convert fetch headers to Capacitor HttpHeaders\n        const headers = {};\n        response.headers.forEach((value, key) => {\n            headers[key] = value;\n        });\n        return {\n            data,\n            headers,\n            status: response.status,\n            url: response.url,\n        };\n    }\n    /**\n     * Perform an Http GET request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async get(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'GET' }));\n    }\n    /**\n     * Perform an Http POST request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async post(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'POST' }));\n    }\n    /**\n     * Perform an Http PUT request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async put(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PUT' }));\n    }\n    /**\n     * Perform an Http PATCH request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async patch(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PATCH' }));\n    }\n    /**\n     * Perform an Http DELETE request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async delete(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'DELETE' }));\n    }\n}\nconst CapacitorHttp = registerPlugin('CapacitorHttp', {\n    web: () => new CapacitorHttpPluginWeb(),\n});\n/******** END HTTP PLUGIN ********/\n\nexport { Capacitor, CapacitorCookies, CapacitorException, CapacitorHttp, ExceptionCode, WebPlugin, WebView, buildRequestInit, registerPlugin };\n//# sourceMappingURL=index.js.map\n","/**\r\n *  Error Boundary Component\r\n * Catch React errors and show fallback UI\r\n */\r\n\r\nimport React from 'react';\r\nimport './ErrorBoundary.css';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            hasError: false,\r\n            error: null,\r\n            errorInfo: null,\r\n            errorCount: 0\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        return { hasError: true };\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        // Log to error reporting service (e.g., Sentry)\r\n        console.error('Error Boundary caught error:', error, errorInfo);\r\n\r\n        this.setState({\r\n            error,\r\n            errorInfo,\r\n            errorCount: this.state.errorCount + 1\r\n        });\r\n\r\n        // Send to error tracking service\r\n        if (window.gtag) {\r\n            window.gtag('event', 'exception', {\r\n                description: error.toString(),\r\n                fatal: false\r\n            });\r\n        }\r\n\r\n        // Report to backend\r\n        this.reportError(error, errorInfo);\r\n    }\r\n\r\n    reportError = async (error, errorInfo) => {\r\n        try {\r\n            const apiBase = (typeof window !== 'undefined' && window.__PAWSCORD_API_BASE__)\r\n                || import.meta.env?.VITE_API_BASE_URL\r\n                || 'https://api.pawscord.com/api';\r\n            const token = localStorage.getItem('access_token');\r\n            const headers = { 'Content-Type': 'application/json' };\r\n            if (token) headers['Authorization'] = `Bearer ${token}`;\r\n\r\n            await fetch(`${apiBase}/errors/report/`, {\r\n                method: 'POST',\r\n                headers,\r\n                body: JSON.stringify({\r\n                    error: error.toString(),\r\n                    stack: errorInfo.componentStack,\r\n                    url: window.location.href,\r\n                    userAgent: navigator.userAgent,\r\n                    timestamp: new Date().toISOString()\r\n                })\r\n            });\r\n        } catch (err) {\r\n            // Silently fail  error reporting should never cause more errors\r\n        }\r\n    };\r\n\r\n    handleReset = () => {\r\n        this.setState({\r\n            hasError: false,\r\n            error: null,\r\n            errorInfo: null\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            // Too many errors - show critical error\r\n            if (this.state.errorCount > 3) {\r\n                return (\r\n                    <div className=\"error-boundary critical\">\r\n                        <div className=\"error-content\">\r\n                            <h1> Critical Error</h1>\r\n                            <p>Multiple errors detected. Please refresh the page.</p>\r\n                            <button onClick={() => window.location.reload()} className=\"btn-reload\">\r\n                                Refresh Page\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            }\r\n\r\n            return (\r\n                <div className=\"error-boundary\">\r\n                    <div className=\"error-content\">\r\n                        <div className=\"error-icon\"></div>\r\n                        <h1>Oops! Something went wrong</h1>\r\n                        <p className=\"error-message\">\r\n                            {this.props.fallbackMessage || \"We're sorry for the inconvenience. The error has been reported.\"}\r\n                        </p>\r\n\r\n                        {process.env.NODE_ENV === 'development' && this.state.error && (\r\n                            <details className=\"error-details\">\r\n                                <summary>Error Details (Development Only)</summary>\r\n                                <div className=\"error-stack\">\r\n                                    <p><strong>Error:</strong> {this.state.error.toString()}</p>\r\n                                    <pre>{this.state.errorInfo?.componentStack}</pre>\r\n                                </div>\r\n                            </details>\r\n                        )}\r\n\r\n                        <div className=\"error-actions\">\r\n                            <button onClick={this.handleReset} className=\"btn-retry\">\r\n                                Try Again\r\n                            </button>\r\n                            <button onClick={() => window.location.href = '/'} className=\"btn-home\">\r\n                                Go Home\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\n/**\r\n * Functional Error Boundary Hook (for smaller components)\r\n */\r\nexport const useErrorHandler = () => {\r\n    const [error, setError] = React.useState(null);\r\n\r\n    React.useEffect(() => {\r\n        if (error) {\r\n            throw error;\r\n        }\r\n    }, [error]);\r\n\r\n    return setError;\r\n};\r\n\r\nexport default ErrorBoundary;\r\n","// frontend/src/stores/useChatStore.js\n\nimport { create } from 'zustand';\n\n// Basit bir ID retici (App.js'den alnd)\nconst getTemporaryId = () => (Date.now() + Math.floor(Math.random() * 1000)).toString();\n\nexport const useChatStore = create((set, get) => ({\n    // --- STATE (Veriler) ---\n    messages: [],\n    encryptionKeys: {},\n    activeChat: { type: 'welcome', id: 'welcome', targetUser: null },\n    unreadCounts: {},\n    typingUsers: [],\n    onlineUsers: [],\n    voiceUsers: {}, // Sesli odalardaki kullanclar\n    currentPermissions: {\n        is_owner: false,\n        can_manage_channels: false,\n        can_delete_messages: false,\n        can_manage_roles: false,\n        can_ban_members: false\n    },\n\n    // --- ACTIONS (Fonksiyonlar) ---\n\n    // Sohbet Deitirme\n    //  FIX: Hem positional (type, id, targetUser) hem object ({type, id, slug}) formatn destekle\n    setActiveChat: (typeOrObj, id, targetUser = null) => {\n        let type, chatId, chatTargetUser;\n\n        if (typeOrObj && typeof typeOrObj === 'object') {\n            // Object format: setActiveChat({ type: 'room', slug: 'xyz' }) veya { type: 'dm', id: 5 }\n            type = typeOrObj.type;\n            chatId = typeOrObj.id || typeOrObj.slug;\n            chatTargetUser = typeOrObj.targetUser || null;\n        } else {\n            // Positional format: setActiveChat('dm', 5, 'username')\n            type = typeOrObj;\n            chatId = id;\n            chatTargetUser = targetUser;\n        }\n\n\n        //  FIX: messages' burada temizleme!\n        // Mesajlar fetchMessageHistory veya cache'den yklenecek\n        set({ activeChat: { type, id: chatId, targetUser: chatTargetUser } });\n\n        // Okundu bilgisini sfrla\n        const key = type === 'room' ? `room-${chatId}` : `dm-${chatId}`;\n        set((state) => {\n            const newCounts = { ...state.unreadCounts };\n            delete newCounts[key];\n            return { unreadCounts: newCounts };\n        });\n    },\n\n    // Mesaj Ekleme (Gelen veya Gnderilen)\n    //  GUARD: Geersiz mesaj ekleme\n    addMessage: (message) => set((state) => {\n        // Bozuk mesaj kontrol\n        if (!message || typeof message !== 'object' || !message.id) {\n            console.warn(' [Store] Invalid message rejected:', message);\n            return state;\n        }\n\n        // Eer mesaj zaten varsa (temp_id ile kontrol) gncelle\n        if (message.temp_id) {\n            const exists = state.messages.some(m => m.temp_id === message.temp_id);\n            if (exists) {\n                return {\n                    messages: state.messages.map(m => m.temp_id === message.temp_id ? message : m)\n                };\n            }\n        }\n        // ID kontrol (ift mesaj nle)\n        if (state.messages.some(m => m.id === message.id)) return state;\n\n        return { messages: [...state.messages, message] };\n    }),\n\n    // Mesaj Gncelleme (Poll update vb. iin)\n    updateMessage: (id, updates) => set((state) => ({\n        messages: state.messages.map(m => m.id === id ? { ...m, ...updates } : m)\n    })),\n\n    // Mesajlar Toplu Ykleme (Gemii ekerken)\n    //  GUARD: Bozuk mesajlar filtrele\n    setMessages: (newMessages) => set((state) => {\n        const resolved = typeof newMessages === 'function' ? newMessages(state.messages) : newMessages;\n        // Geersiz mesajlar filtrele\n        const validMessages = Array.isArray(resolved)\n            ? resolved.filter(m => m && typeof m === 'object' && m.id)\n            : [];\n        return { messages: validMessages };\n    }),\n\n    // Gemi Mesajlar Baa Ekleme (Scroll yukar yapnca)\n    prependMessages: (oldMessages) => set((state) => ({\n        messages: [...oldMessages, ...state.messages]\n    })),\n\n    // Okunmam Mesaj Saysn Artr\n    incrementUnread: (key) => set((state) => ({\n        unreadCounts: {\n            ...state.unreadCounts,\n            [key]: (state.unreadCounts[key] || 0) + 1\n        }\n    })),\n\n    // Online Kullanclar Gncelle\n    setOnlineUsers: (users) => set({ onlineUsers: users }),\n\n    // Yazyor... animasyonu\n    setTypingUser: (username, isTyping) => set((state) => {\n        if (isTyping) {\n            return { typingUsers: state.typingUsers.includes(username) ? state.typingUsers : [...state.typingUsers, username] };\n        } else {\n            return { typingUsers: state.typingUsers.filter(u => u !== username) };\n        }\n    }),\n\n    // Sesli Sohbet Kullanclar\n    setVoiceUsers: (usersMap) => set({ voiceUsers: usersMap }),\n    setVoiceUsersState: (usersMap) => set({ voiceUsers: usersMap }), // Alias used by App.js\n\n    // Selection mode\n    selectedMessages: new Set(),\n    setSelectedMessages: (val) => set({ selectedMessages: typeof val === 'function' ? val(get().selectedMessages) : val }),\n\n    setEncryptionKey: (chatId, key) => set((state) => ({\n        encryptionKeys: {\n            ...state.encryptionKeys,\n            [chatId]: key\n        }\n    })),\n    setPermissions: (perms) => set({\n        currentPermissions: perms || {\n            is_owner: false,\n            can_manage_channels: false,\n            can_delete_messages: false,\n            can_manage_roles: false,\n            can_ban_members: false\n        }\n    }),\n}));\n\n","// frontend/src/stores/useUIStore.js\r\n// UI state management (modals, panels, theme)\r\n//  This store manages ALL modal/panel visibility state.\r\n// All show* booleans from App.js are now centralized here.\r\n\r\nimport { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\n\r\nexport const useUIStore = create(\r\n    persist(\r\n        (set, get) => ({\r\n            // --- MODAL STATES ---\r\n            // All modal visibility flags. Dynamic keys are auto-created by openModal().\r\n            modals: {\r\n                // Core UI\r\n                settings: false,\r\n                createServer: false,\r\n                invitePeople: false,\r\n                serverSettings: false,\r\n                userProfile: false,\r\n                imageViewer: false,\r\n\r\n                // Migrated from App.js useState(false)  191 modals\r\n                groupModal: false,\r\n                soundboard: false,\r\n                whiteboard: false,\r\n                encModal: false,\r\n                templateModal: false,\r\n                snippetModal: false,\r\n                pollModal: false,\r\n                profilePanel: false,\r\n                pinned: false,\r\n                gifPicker: false,\r\n                cinema: false,\r\n                stickerPicker: false,\r\n                store: false,\r\n                themeStore: false,\r\n                analytics: false,\r\n                adminPanel: false,\r\n                webhooks: false,\r\n                modTools: false,\r\n                vanityURL: false,\r\n                // Moderation\r\n                autoModeration: false,\r\n                raidProtection: false,\r\n                reportSystem: false,\r\n                auditLog: false,\r\n                userWarnings: false,\r\n                autoResponder: false,\r\n                // Features\r\n                bookmarks: false,\r\n                readLater: false,\r\n                mentionsInbox: false,\r\n                customStatus: false,\r\n                channelPermissions: false,\r\n                messageThreads: false,\r\n                moderatorNotes: false,\r\n                serverRoles: false,\r\n                notificationPrefs: false,\r\n                messageOCR: false,\r\n                massActions: false,\r\n                // Analytics & Tracking\r\n                reactionAnalytics: false,\r\n                linkClickTracking: false,\r\n                joinLeaveLogs: false,\r\n                userActivity: false,\r\n                nicknameHistory: false,\r\n                fieldChangeTracking: false,\r\n                inviteAnalytics: false,\r\n                // Content & Moderation\r\n                contentScanner: false,\r\n                ephemeralMessages: false,\r\n                topicHistory: false,\r\n                drafts: false,\r\n                serverNicknames: false,\r\n                // Server Features\r\n                serverBoost: false,\r\n                roomWebhooks: false,\r\n                oAuthApps: false,\r\n                autoResponders: false,\r\n                // Security & Privacy\r\n                sessionManagement: false,\r\n                gDPRExport: false,\r\n                dataRetention: false,\r\n                twoFactorSetup: false,\r\n                // Communication\r\n                enhancedPolls: false,\r\n                voiceTranscripts: false,\r\n                inviteExport: false,\r\n                // Search & Analytics\r\n                advancedSearch: false,\r\n                growthMetrics: false,\r\n                linkPreview: false,\r\n                // Store & Gamification\r\n                inventory: false,\r\n                waitlist: false,\r\n                referralRewards: false,\r\n                miniGames: false,\r\n                projectCollaboration: false,\r\n                avatarStudio: false,\r\n                timeoutMute: false,\r\n                serverThemes: false,\r\n                keywordMutes: false,\r\n                welcomeTemplates: false,\r\n                stickyMessages: false,\r\n                messageTemplates: false,\r\n                messageExport: false,\r\n                archivedRooms: false,\r\n                slowMode: false,\r\n                emojiManagement: false,\r\n                // Core UX\r\n                userSettings: false,\r\n                keyboardShortcuts: false,\r\n                commandPalette: false,\r\n                serverDiscovery: false,\r\n                appearanceSettings: false,\r\n                languageSelector: false,\r\n                changelog: false,\r\n                logoutConfirm: false,\r\n                notificationSounds: false,\r\n                quickSwitcher: false,\r\n                // Security\r\n                loginHistory: false,\r\n                securitySettings: false,\r\n                privacySettings: false,\r\n                accountDeletion: false,\r\n                blockList: false,\r\n                e2EESettings: false,\r\n                // Communication\r\n                threadView: false,\r\n                scheduledMessages: false,\r\n                reminders: false,\r\n                forum: false,\r\n                stageChannel: false,\r\n                videoCall: false,\r\n                voiceSettings: false,\r\n                messageSearch: false,\r\n                watchTogether: false,\r\n                // Server Management\r\n                autoRoles: false,\r\n                reactionRoles: false,\r\n                welcomeMessages: false,\r\n                eventCalendar: false,\r\n                giveaway: false,\r\n                ticketSystem: false,\r\n                starboard: false,\r\n                serverBackup: false,\r\n                banAppeals: false,\r\n                customCommands: false,\r\n                levelingSystem: false,\r\n                liveStream: false,\r\n                // Engagement\r\n                achievements: false,\r\n                birthdaySystem: false,\r\n                premium: false,\r\n                musicPlayer: false,\r\n                botMarketplace: false,\r\n                profileCustomization: false,\r\n                integrationHub: false,\r\n                tournaments: false,\r\n                // Advanced\r\n                highlights: false,\r\n                customEmbed: false,\r\n                spotifyIntegration: false,\r\n                serverClone: false,\r\n                weeklyChallenges: false,\r\n                featureHub: false,\r\n                // Moderation Tools\r\n                moderatorTools: false,\r\n                aIModeration: false,\r\n                spamDetection: false,\r\n                auditLogs: false,\r\n                banHistory: false,\r\n                moderationLogs: false,\r\n                securityAlerts: false,\r\n                // Communication\r\n                gIFPicker: false,\r\n                pollCreator: false,\r\n                stickers: false,\r\n                savedMessages: false,\r\n                notificationsCenter: false,\r\n                messageSummary: false,\r\n                translation: false,\r\n                // Server Management\r\n                channelSettings: false,\r\n                inviteModal: false,\r\n                serverTemplates: false,\r\n                serverAnalytics: false,\r\n                rolesManager: false,\r\n                welcomeScreenEditor: false,\r\n                communitySettings: false,\r\n                inviteLinkManager: false,\r\n                // Bot/Dev\r\n                botBuilder: false,\r\n                botDevPortal: false,\r\n                webhookManager: false,\r\n                aPIKeys: false,\r\n                slashCommands: false,\r\n                codeRunner: false,\r\n                // Profile & Social\r\n                profileCard: false,\r\n                userNotes: false,\r\n                statusPicker: false,\r\n                mutuals: false,\r\n                profileShowcase: false,\r\n                sessionManager: false,\r\n                // Premium\r\n                coinStore: false,\r\n                premiumManagement: false,\r\n                subscriptionManager: false,\r\n                giftPremium: false,\r\n                premiumMarketplace: false,\r\n                themeMarketplace: false,\r\n                // Advanced\r\n                aIChatbot: false,\r\n                codeEditor: false,\r\n                screenShare: false,\r\n                liveStreamModal: false,\r\n                advancedAnalytics: false,\r\n                fileManager: false,\r\n                reports: false,\r\n                errorReporting: false,\r\n                avatarCropper: false,\r\n                downloadModal: false,\r\n                summary: false,\r\n                dJ: false,\r\n                notifications: false,\r\n                toolbarMenu: false,\r\n                paymentPanel: false,\r\n                storeModal: false,\r\n                dailyRewards: false,\r\n                aPIUsagePanel: false,\r\n                exportJobsPanel: false,\r\n                scheduledAnnouncements: false,\r\n                connectionsPanel: false,\r\n                passwordSetupModal: false,\r\n            },\r\n\r\n            // --- APP STATE (migrated from App.js local state) ---\r\n            animationState: 'start',\r\n            setAnimationState: (val) => set({ animationState: typeof val === 'function' ? val(get().animationState) : val }),\r\n            isConnected: false,\r\n            setIsConnected: (val) => set({ isConnected: typeof val === 'function' ? val(get().isConnected) : val }),\r\n            updateStatusText: '',\r\n            setUpdateStatusText: (val) => set({ updateStatusText: typeof val === 'function' ? val(get().updateStatusText) : val }),\r\n            downloadProgress: 0,\r\n            setDownloadProgress: (val) => set({ downloadProgress: typeof val === 'function' ? val(get().downloadProgress) : val }),\r\n            isDownloading: false,\r\n            setIsDownloading: (val) => set({ isDownloading: typeof val === 'function' ? val(get().isDownloading) : val }),\r\n            searchQuery: '',\r\n            setSearchQuery: (val) => set({ searchQuery: typeof val === 'function' ? val(get().searchQuery) : val }),\r\n            dropTarget: null,\r\n            setDropTarget: (val) => set({ dropTarget: typeof val === 'function' ? val(get().dropTarget) : val }),\r\n\r\n            // --- MODAL DATA ---\r\n            // Stores data associated with open modals (e.g., which user profile to show)\r\n            modalData: {},\r\n\r\n            // --- PANEL STATES ---\r\n            panels: {\r\n                userList: true,\r\n                memberList: true,\r\n                serverList: true,\r\n                channelList: true,\r\n            },\r\n\r\n            // --- THEME ---\r\n            theme: 'dark',\r\n            accentColor: '#5865F2',\r\n\r\n            // --- SIDEBAR ---\r\n            sidebarCollapsed: false,\r\n            mobileSidebarOpen: false,\r\n\r\n            // --- CONTEXT MENU ---\r\n            contextMenu: null,  // { x, y, type, data }\r\n\r\n            // --- ACTIONS ---\r\n            openModal: (modalName, data = null) => set((state) => ({\r\n                modals: { ...state.modals, [modalName]: true },\r\n                modalData: data ? { ...state.modalData, [modalName]: data } : state.modalData\r\n            })),\r\n\r\n            closeModal: (modalName) => set((state) => ({\r\n                modals: { ...state.modals, [modalName]: false },\r\n                modalData: { ...state.modalData, [modalName]: undefined }\r\n            })),\r\n\r\n            toggleModal: (modalName) => set((state) => ({\r\n                modals: { ...state.modals, [modalName]: !state.modals[modalName] }\r\n            })),\r\n\r\n            closeAllModals: () => set((state) => ({\r\n                modals: Object.keys(state.modals).reduce((acc, key) => {\r\n                    acc[key] = false;\r\n                    return acc;\r\n                }, {}),\r\n                modalData: {}\r\n            })),\r\n\r\n            getModalData: (modalName) => get().modalData[modalName],\r\n\r\n            togglePanel: (panelName) => set((state) => ({\r\n                panels: { ...state.panels, [panelName]: !state.panels[panelName] }\r\n            })),\r\n\r\n            setTheme: (theme) => set({ theme }),\r\n            setAccentColor: (color) => set({ accentColor: color }),\r\n\r\n            toggleSidebar: () => set((state) => ({\r\n                sidebarCollapsed: !state.sidebarCollapsed\r\n            })),\r\n\r\n            setMobileSidebarOpen: (isOpen) => set({ mobileSidebarOpen: isOpen }),\r\n\r\n            setContextMenu: (menu) => set({ contextMenu: menu }),\r\n            clearContextMenu: () => set({ contextMenu: null }),\r\n        }),\r\n        {\r\n            name: 'pawscord-ui-store',\r\n            partialize: (state) => ({\r\n                theme: state.theme,\r\n                accentColor: state.accentColor,\r\n                sidebarCollapsed: state.sidebarCollapsed,\r\n                panels: state.panels,\r\n            }),\r\n        }\r\n    )\r\n);\r\n","// frontend/src/hooks/useResponsive.js\r\n//  Responsive Design Hook - Mobile/Tablet/Desktop Detection\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Responsive breakpoints\r\n */\r\nconst BREAKPOINTS = {\r\n    mobile: 768,      // 0-768px = Mobile\r\n    tablet: 1024,     // 769-1024px = Tablet\r\n    desktop: 1920,    // 1025-1920px = Desktop\r\n    ultrawide: 2560   // 1921+ = Ultrawide\r\n};\r\n\r\n/**\r\n * useResponsive Hook\r\n * Detects screen size and provides responsive utilities\r\n *\r\n * @returns {Object} {\r\n *   isMobile: boolean,\r\n *   isTablet: boolean,\r\n *   isDesktop: boolean,\r\n *   isUltrawide: boolean,\r\n *   width: number,\r\n *   height: number,\r\n *   orientation: 'portrait' | 'landscape'\r\n * }\r\n */\r\nexport const useResponsive = () => {\r\n    const [dimensions, setDimensions] = useState({\r\n        width: typeof window !== 'undefined' ? window.innerWidth : 1920,\r\n        height: typeof window !== 'undefined' ? window.innerHeight : 1080\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined') return;\r\n\r\n        let timeoutId;\r\n\r\n        const handleResize = () => {\r\n            // Debounce resize events (performance optimization)\r\n            clearTimeout(timeoutId);\r\n            timeoutId = setTimeout(() => {\r\n                setDimensions({\r\n                    width: window.innerWidth,\r\n                    height: window.innerHeight\r\n                });\r\n            }, 150); // 150ms debounce\r\n        };\r\n\r\n        // Initial measurement\r\n        handleResize();\r\n\r\n        // Listen to resize events\r\n        window.addEventListener('resize', handleResize);\r\n\r\n        // Listen to orientation changes (mobile)\r\n        window.addEventListener('orientationchange', handleResize);\r\n\r\n        return () => {\r\n            clearTimeout(timeoutId);\r\n            window.removeEventListener('resize', handleResize);\r\n            window.removeEventListener('orientationchange', handleResize);\r\n        };\r\n    }, []);\r\n\r\n    const { width, height } = dimensions;\r\n\r\n    return {\r\n        // Device type flags\r\n        isMobile: width <= BREAKPOINTS.mobile,\r\n        isTablet: width > BREAKPOINTS.mobile && width <= BREAKPOINTS.tablet,\r\n        isDesktop: width > BREAKPOINTS.tablet && width <= BREAKPOINTS.desktop,\r\n        isUltrawide: width > BREAKPOINTS.desktop,\r\n\r\n        // Dimensions\r\n        width,\r\n        height,\r\n\r\n        // Orientation\r\n        orientation: height > width ? 'portrait' : 'landscape',\r\n\r\n        // Utility functions\r\n        isSmallScreen: width <= BREAKPOINTS.mobile,\r\n        isMediumScreen: width > BREAKPOINTS.mobile && width <= BREAKPOINTS.tablet,\r\n        isLargeScreen: width > BREAKPOINTS.tablet,\r\n\r\n        // Touch device detection\r\n        isTouchDevice: typeof window !== 'undefined' && ('ontouchstart' in window || navigator.maxTouchPoints > 0),\r\n\r\n        // Breakpoints (for custom comparisons)\r\n        breakpoints: BREAKPOINTS\r\n    };\r\n};\r\n\r\nexport default useResponsive;\r\n\r\n\r\n\r\n","// hooks/useOptimizedMessages.js\r\n//  PERFORMANS: Mesajlar optimize ederek render saysn %40 azaltr\r\n\r\nimport { useMemo } from 'react';\r\n\r\n/**\r\n * Mesajlar optimize eder ve gereksiz re-render'lar nler\r\n * @param {Array} messages - Ham mesaj listesi\r\n * @param {string} searchQuery - Arama sorgusu\r\n * @param {Object} activeChat - Aktif chat objesi\r\n * @returns {Array} Optimize edilmi mesaj listesi\r\n */\r\nexport const useOptimizedMessages = (messages, searchQuery, activeChat) => {\r\n  // Mesajlar filtrele ve srala - SADECE bamllklar deitiinde\r\n  const filteredMessages = useMemo(() => {\r\n    if (!messages || !Array.isArray(messages)) return [];\r\n\r\n    let filtered = messages;\r\n\r\n    // Arama filtresi\r\n    if (searchQuery && typeof searchQuery === 'string' && searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(msg =>\r\n        msg.content?.toLowerCase().includes(query) ||\r\n        msg.user?.username?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    // Tarih sralamas (eski  yeni)\r\n    return filtered.sort((a, b) => {\r\n      const dateA = new Date(a.created_at || a.timestamp);\r\n      const dateB = new Date(b.created_at || b.timestamp);\r\n      return dateA - dateB;\r\n    });\r\n  }, [messages, searchQuery]);\r\n\r\n  return filteredMessages;\r\n};\r\n\r\n/**\r\n * Online kullanclar optimize eder\r\n * @param {Array} users - Kullanc listesi\r\n * @returns {Array} Online kullanclar\r\n */\r\nexport const useOnlineUsers = (users) => {\r\n  return useMemo(() => {\r\n    if (!users || !Array.isArray(users)) return [];\r\n    return users.filter(u => u.is_online || u.online);\r\n  }, [users]);\r\n};\r\n\r\n/**\r\n * Sunucular sralama ile optimize eder\r\n * @param {Array} servers - Sunucu listesi\r\n * @param {Array} serverOrder - Sunucu sralamas\r\n * @returns {Array} Sralanm sunucular\r\n */\r\nexport const useOrderedServers = (servers, serverOrder) => {\r\n  return useMemo(() => {\r\n    if (!servers || !Array.isArray(servers)) return [];\r\n    if (!serverOrder || serverOrder.length === 0) return servers;\r\n\r\n    return [...servers].sort((a, b) => {\r\n      const orderA = serverOrder.indexOf(a.id);\r\n      const orderB = serverOrder.indexOf(b.id);\r\n      if (orderA === -1 && orderB === -1) return 0;\r\n      if (orderA === -1) return 1;\r\n      if (orderB === -1) return -1;\r\n      return orderA - orderB;\r\n    });\r\n  }, [servers, serverOrder]);\r\n};\r\n\r\nexport default useOptimizedMessages;\r\n\r\n\r\n\r\n","// frontend/src/utils/performanceOptimization.js\n//  PERFORMANS OPTMZASYONU UTLTY'LER\n\nimport { useState, useEffect, useRef, useCallback, useMemo } from 'react';\n\n/**\n *  Debounce Hook\n * Kullanm: Arama input'larnda, resize event'lerinde\n * \n * @param {Function} callback - altrlacak fonksiyon\n * @param {number} delay - Gecikme sresi (ms)\n * @returns {Function} - Debounced fonksiyon\n * \n * @example\n * const debouncedSearch = useDebounce((query) => {\n *   fetchSearchResults(query);\n * }, 300);\n */\nexport const useDebounce = (callback, delay) => {\n    const timeoutRef = useRef(null);\n\n    return useCallback((...args) => {\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n        }\n\n        timeoutRef.current = setTimeout(() => {\n            callback(...args);\n        }, delay);\n    }, [callback, delay]);\n};\n\n/**\n *  Throttle Hook\n * Kullanm: Scroll event'lerinde, resize'da\n * \n * @param {Function} callback - altrlacak fonksiyon\n * @param {number} limit - Minimum interval (ms)\n * @returns {Function} - Throttled fonksiyon\n * \n * @example\n * const throttledScroll = useThrottle((e) => {\n *   handleScroll(e);\n * }, 100);\n */\nexport const useThrottle = (callback, limit) => {\n    const lastRun = useRef(Date.now());\n\n    return useCallback((...args) => {\n        const now = Date.now();\n        if (now - lastRun.current >= limit) {\n            callback(...args);\n            lastRun.current = now;\n        }\n    }, [callback, limit]);\n};\n\n/**\n *  Intersection Observer Hook\n * Kullanm: Lazy loading, infinite scroll\n * \n * @param {Object} options - Observer options\n * @returns {[ref, isIntersecting]} - [Ref, grnrlk durumu]\n * \n * @example\n * const [ref, isVisible] = useIntersectionObserver({ threshold: 0.5 });\n * return <div ref={ref}>{isVisible && <HeavyComponent />}</div>;\n */\nexport const useIntersectionObserver = (options = {}) => {\n    const ref = useRef(null);\n    const [isIntersecting, setIsIntersecting] = useState(false);\n\n    useEffect(() => {\n        if (!ref.current) return;\n\n        const observer = new IntersectionObserver(([entry]) => {\n            setIsIntersecting(entry.isIntersecting);\n        }, {\n            threshold: options.threshold || 0.1,\n            rootMargin: options.rootMargin || '0px'\n        });\n\n        observer.observe(ref.current);\n\n        return () => {\n            if (ref.current) {\n                observer.unobserve(ref.current);\n            }\n        };\n    }, [options.threshold, options.rootMargin]);\n\n    return [ref, isIntersecting];\n};\n\n/**\n *  Array Chunk Utility\n * Byk array'leri paralara ayrr (pagination iin)\n * \n * @param {Array} array - Paralanacak array\n * @param {number} size - Chunk boyutu\n * @returns {Array[]} - Paralanm array\n * \n * @example\n * const pages = chunkArray(messages, 50); // Her sayfada 50 mesaj\n */\nexport const chunkArray = (array, size) => {\n    const chunks = [];\n    for (let i = 0; i < array.length; i += size) {\n        chunks.push(array.slice(i, i + size));\n    }\n    return chunks;\n};\n\n/**\n *  Event Listener Cleanup Utility\n * Event listener'lar otomatik temizler\n * \n * @param {string} eventName - Event ad\n * @param {Function} handler - Event handler\n * @param {Element} element - Target element (varsaylan: window)\n * \n * @example\n * useEventListener('resize', handleResize);\n * useEventListener('click', handleClick, buttonRef.current);\n */\nexport const useEventListener = (eventName, handler, element = window) => {\n    const savedHandler = useRef();\n\n    useEffect(() => {\n        savedHandler.current = handler;\n    }, [handler]);\n\n    useEffect(() => {\n        const isSupported = element && element.addEventListener;\n        if (!isSupported) return;\n\n        const eventListener = (event) => savedHandler.current(event);\n        element.addEventListener(eventName, eventListener);\n\n        return () => {\n            element.removeEventListener(eventName, eventListener);\n        };\n    }, [eventName, element]);\n};\n\n/**\n *  LocalStorage Hook with JSON support\n * LocalStorage' otomatik JSON parse/stringify ile kullanr\n * \n * @param {string} key - Storage key\n * @param {any} initialValue - Balang deeri\n * @returns {[value, setValue, removeValue]} - [Deer, setter, remover]\n * \n * @example\n * const [user, setUser, removeUser] = useLocalStorage('user', null);\n */\nexport const useLocalStorage = (key, initialValue) => {\n    const [storedValue, setStoredValue] = useState(() => {\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : initialValue;\n        } catch (error) {\n            console.error(`Error reading localStorage key \"${key}\":`, error);\n            return initialValue;\n        }\n    });\n\n    const setValue = useCallback((value) => {\n        try {\n            const valueToStore = value instanceof Function ? value(storedValue) : value;\n            setStoredValue(valueToStore);\n            window.localStorage.setItem(key, JSON.stringify(valueToStore));\n        } catch (error) {\n            console.error(`Error setting localStorage key \"${key}\":`, error);\n        }\n    }, [key, storedValue]);\n\n    const removeValue = useCallback(() => {\n        try {\n            window.localStorage.removeItem(key);\n            setStoredValue(initialValue);\n        } catch (error) {\n            console.error(`Error removing localStorage key \"${key}\":`, error);\n        }\n    }, [key, initialValue]);\n\n    return [storedValue, setValue, removeValue];\n};\n\n/**\n *  Animation Frame Hook\n * requestAnimationFrame ile smooth animasyonlar\n * \n * @param {Function} callback - Her frame'de alacak fonksiyon\n * @param {boolean} isActive - Aktif mi?\n * \n * @example\n * useAnimationFrame((deltaTime) => {\n *   setPosition(prev => prev + deltaTime * speed);\n * }, isPlaying);\n */\nexport const useAnimationFrame = (callback, isActive = true) => {\n    const requestRef = useRef();\n    const previousTimeRef = useRef();\n\n    const animate = useCallback((time) => {\n        if (previousTimeRef.current !== undefined) {\n            const deltaTime = time - previousTimeRef.current;\n            callback(deltaTime);\n        }\n        previousTimeRef.current = time;\n        requestRef.current = requestAnimationFrame(animate);\n    }, [callback]);\n\n    useEffect(() => {\n        if (isActive) {\n            requestRef.current = requestAnimationFrame(animate);\n        }\n        return () => {\n            if (requestRef.current) {\n                cancelAnimationFrame(requestRef.current);\n            }\n        };\n    }, [isActive, animate]);\n};\n\n/**\n *  Performance Measurement Utility\n * Component render sresini ler\n * \n * @param {string} componentName - Component ad\n * \n * @example\n * function MyComponent() {\n *   useMeasurePerformance('MyComponent');\n *   // ...\n * }\n */\nexport const useMeasurePerformance = (componentName) => {\n    const renderCount = useRef(0);\n    const totalTime = useRef(0);\n\n    useEffect(() => {\n        const startTime = performance.now();\n        renderCount.current += 1;\n\n        return () => {\n            const endTime = performance.now();\n            const renderTime = endTime - startTime;\n            totalTime.current += renderTime;\n\n            if (renderCount.current % 10 === 0) {\n            }\n        };\n    });\n};\n\n/**\n *  Previous Value Hook\n * Component'in nceki deerini tutar\n * \n * @param {any} value - Takip edilecek deer\n * @returns {any} - nceki deer\n * \n * @example\n * const prevCount = usePrevious(count);\n */\nexport const usePrevious = (value) => {\n    const ref = useRef();\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n};\n\n/**\n *  Window Size Hook\n * Pencere boyutunu takip eder (throttled)\n * \n * @returns {{ width, height }} - Pencere boyutu\n * \n * @example\n * const { width, height } = useWindowSize();\n * const isMobile = width < 768;\n */\nexport const useWindowSize = () => {\n    const [windowSize, setWindowSize] = useState({\n        width: window.innerWidth,\n        height: window.innerHeight,\n    });\n\n    useEffect(() => {\n        let timeoutId = null;\n        const handleResize = () => {\n            clearTimeout(timeoutId);\n            timeoutId = setTimeout(() => {\n                setWindowSize({\n                    width: window.innerWidth,\n                    height: window.innerHeight,\n                });\n            }, 150);\n        };\n\n        window.addEventListener('resize', handleResize);\n        return () => {\n            window.removeEventListener('resize', handleResize);\n            clearTimeout(timeoutId);\n        };\n    }, []);\n\n    return windowSize;\n};\n\n/**\n *  Idle Detection Hook\n * Kullanc aktivitesini izler (away detection)\n * \n * @param {number} timeout - Idle timeout (ms)\n * @returns {boolean} - Kullanc idle mi?\n * \n * @example\n * const isIdle = useIdleDetection(5 * 60 * 1000); // 5 dakika\n */\nexport const useIdleDetection = (timeout = 5 * 60 * 1000) => {\n    const [isIdle, setIsIdle] = useState(false);\n    const timeoutIdRef = useRef(null);\n\n    const resetTimer = useCallback(() => {\n        setIsIdle(false);\n        clearTimeout(timeoutIdRef.current);\n        timeoutIdRef.current = setTimeout(() => {\n            setIsIdle(true);\n        }, timeout);\n    }, [timeout]);\n\n    useEffect(() => {\n        const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'];\n\n        events.forEach(event => {\n            document.addEventListener(event, resetTimer, true);\n        });\n\n        resetTimer();\n\n        return () => {\n            events.forEach(event => {\n                document.removeEventListener(event, resetTimer, true);\n            });\n            clearTimeout(timeoutIdRef.current);\n        };\n    }, [resetTimer]);\n\n    return isIdle;\n};\n\n/**\n *  Memory Usage Monitor (Debug Only)\n * Memory kullanmn loglayar\n * \n * @example\n * useMemoryMonitor(); // Development'ta memory leak tespiti iin\n */\nexport const useMemoryMonitor = () => {\n    useEffect(() => {\n        if (import.meta.env.MODE !== 'development') return;\n\n        const interval = setInterval(() => {\n            if (performance.memory) {\n                const used = (performance.memory.usedJSHeapSize / 1048576).toFixed(2);\n                const total = (performance.memory.totalJSHeapSize / 1048576).toFixed(2);\n                const limit = (performance.memory.jsHeapSizeLimit / 1048576).toFixed(2);\n\n            }\n        }, 10000); // Her 10 saniyede bir\n\n        return () => clearInterval(interval);\n    }, []);\n};\n\n/**\n *  CSS-in-JS Optimization Utility\n * Style objelerini memoize eder\n * \n * @param {Function} styleFactory - Style reten fonksiyon\n * @param {Array} deps - Dependencies\n * @returns {Object} - Memoized styles\n * \n * @example\n * const styles = useMemoizedStyles(() => ({\n *   container: { backgroundColor: theme.bg }\n * }), [theme]);\n */\nexport const useMemoizedStyles = (styleFactory, deps) => {\n    return useMemo(styleFactory, deps);\n};\n\n/**\n *  Deep Comparison Hook\n * Objeleri deep compare eder (React.memo iin)\n * \n * @param {Object} obj - Karlatrlacak obje\n * @returns {Object} - Deep comparison sonras obje\n * \n * @example\n * const memoizedUser = useDeepCompare(user);\n */\nexport const useDeepCompare = (obj) => {\n    const ref = useRef();\n    const signatureRef = useRef();\n\n    const objSignature = JSON.stringify(obj);\n\n    if (objSignature !== signatureRef.current) {\n        ref.current = obj;\n        signatureRef.current = objSignature;\n    }\n\n    return ref.current;\n};\n\n//  Export tm utility'leri\nexport default {\n    useDebounce,\n    useThrottle,\n    useIntersectionObserver,\n    chunkArray,\n    useEventListener,\n    useLocalStorage,\n    useAnimationFrame,\n    useMeasurePerformance,\n    usePrevious,\n    useWindowSize,\n    useIdleDetection,\n    useMemoryMonitor,\n    useMemoizedStyles,\n    useDeepCompare\n};\n\n\n","/**\n *  Custom Performance Hooks\n * \n * React hooks for performance optimization\n */\n\nimport { useEffect, useRef, useState, useCallback, useMemo } from 'react';\n\n/**\n * Debounce hook - rapid fire events iin\n * @param {any} value - Debounce edilecek deer\n * @param {number} delay - Gecikme (ms)\n */\nexport function useDebounce(value, delay = 500) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n\n    useEffect(() => {\n        const handler = setTimeout(() => {\n            setDebouncedValue(value);\n        }, delay);\n\n        return () => {\n            clearTimeout(handler);\n        };\n    }, [value, delay]);\n\n    return debouncedValue;\n}\n\n/**\n * Throttle hook - rate limiting iin\n * @param {Function} callback - Throttle edilecek fonksiyon\n * @param {number} delay - Minimum gecikme (ms)\n */\nexport function useThrottle(callback, delay = 1000) {\n    const lastRun = useRef(Date.now());\n\n    return useCallback(\n        (...args) => {\n            const now = Date.now();\n\n            if (now - lastRun.current >= delay) {\n                callback(...args);\n                lastRun.current = now;\n            }\n        },\n        [callback, delay]\n    );\n}\n\n/**\n * Intersection Observer hook - lazy loading iin\n * @param {Object} options - Observer options\n */\nexport function useIntersectionObserver(options = {}) {\n    const [isIntersecting, setIsIntersecting] = useState(false);\n    const [ref, setRef] = useState(null);\n\n    useEffect(() => {\n        if (!ref) return;\n\n        const observer = new IntersectionObserver(\n            ([entry]) => {\n                setIsIntersecting(entry.isIntersecting);\n            },\n            {\n                threshold: 0.1,\n                rootMargin: '50px',\n                ...options\n            }\n        );\n\n        observer.observe(ref);\n\n        return () => {\n            observer.disconnect();\n        };\n    }, [ref, options]);\n\n    return [setRef, isIntersecting];\n}\n\n/**\n * Idle callback hook - background tasks iin\n * @param {Function} callback - Idle zamannda alacak\n */\nexport function useIdleCallback(callback) {\n    useEffect(() => {\n        if (!window.requestIdleCallback) {\n            // Fallback for Safari\n            const timeout = setTimeout(callback, 1);\n            return () => clearTimeout(timeout);\n        }\n\n        const handle = window.requestIdleCallback(callback, { timeout: 2000 });\n\n        return () => {\n            window.cancelIdleCallback(handle);\n        };\n    }, [callback]);\n}\n\n/**\n * Media query hook - responsive design iin\n * @param {string} query - Media query string\n */\nexport function useMediaQuery(query) {\n    const [matches, setMatches] = useState(false);\n\n    useEffect(() => {\n        const media = window.matchMedia(query);\n\n        if (media.matches !== matches) {\n            setMatches(media.matches);\n        }\n\n        const listener = () => setMatches(media.matches);\n        media.addEventListener('change', listener);\n\n        return () => media.removeEventListener('change', listener);\n    }, [matches, query]);\n\n    return matches;\n}\n\n/**\n * Local storage hook - persistent state iin\n * @param {string} key - Storage key\n * @param {any} initialValue - Default value\n */\nexport function useLocalStorage(key, initialValue) {\n    const [storedValue, setStoredValue] = useState(() => {\n        try {\n            const item = window.localStorage.getItem(key);\n            return item ? JSON.parse(item) : initialValue;\n        } catch (error) {\n            console.error('useLocalStorage error:', error);\n            return initialValue;\n        }\n    });\n\n    const setValue = useCallback(\n        (value) => {\n            try {\n                const valueToStore = value instanceof Function ? value(storedValue) : value;\n                setStoredValue(valueToStore);\n                window.localStorage.setItem(key, JSON.stringify(valueToStore));\n            } catch (error) {\n                console.error('useLocalStorage setValue error:', error);\n            }\n        },\n        [key, storedValue]\n    );\n\n    return [storedValue, setValue];\n}\n\n/**\n * Previous value hook - deiim tracking iin\n * @param {any} value - Track edilecek deer\n */\nexport function usePrevious(value) {\n    const ref = useRef();\n\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n\n    return ref.current;\n}\n\n/**\n * Mount status hook - memory leak prevention iin\n */\nexport function useIsMounted() {\n    const isMounted = useRef(false);\n\n    useEffect(() => {\n        isMounted.current = true;\n\n        return () => {\n            isMounted.current = false;\n        };\n    }, []);\n\n    return useCallback(() => isMounted.current, []);\n}\n\n/**\n * Async effect hook - cleanup iin\n * @param {Function} effect - Async effect function\n * @param {Array} deps - Dependencies\n */\nexport function useAsyncEffect(effect, deps) {\n    useEffect(() => {\n        let cancelled = false;\n\n        const runEffect = async () => {\n            await effect(() => cancelled);\n        };\n\n        runEffect();\n\n        return () => {\n            cancelled = true;\n        };\n    }, deps);\n}\n\n/**\n * Window size hook - responsive iin\n */\nexport function useWindowSize() {\n    const [windowSize, setWindowSize] = useState({\n        width: window.innerWidth,\n        height: window.innerHeight\n    });\n\n    useEffect(() => {\n        const handleResize = () => {\n            setWindowSize({\n                width: window.innerWidth,\n                height: window.innerHeight\n            });\n        };\n\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowSize;\n}\n\n/**\n * Online status hook - network monitoring iin\n */\nexport function useOnlineStatus() {\n    const [isOnline, setIsOnline] = useState(navigator.onLine);\n\n    useEffect(() => {\n        const handleOnline = () => setIsOnline(true);\n        const handleOffline = () => setIsOnline(false);\n\n        window.addEventListener('online', handleOnline);\n        window.addEventListener('offline', handleOffline);\n\n        return () => {\n            window.removeEventListener('online', handleOnline);\n            window.removeEventListener('offline', handleOffline);\n        };\n    }, []);\n\n    return isOnline;\n}\n\n/**\n * Battery status hook - power-aware apps iin\n */\nexport function useBatteryStatus() {\n    const [battery, setBattery] = useState(null);\n\n    useEffect(() => {\n        if (!navigator.getBattery) {\n            return;\n        }\n\n        navigator.getBattery().then((batteryManager) => {\n            const updateBattery = () => {\n                setBattery({\n                    level: batteryManager.level,\n                    charging: batteryManager.charging,\n                    chargingTime: batteryManager.chargingTime,\n                    dischargingTime: batteryManager.dischargingTime\n                });\n            };\n\n            updateBattery();\n\n            batteryManager.addEventListener('levelchange', updateBattery);\n            batteryManager.addEventListener('chargingchange', updateBattery);\n\n            return () => {\n                batteryManager.removeEventListener('levelchange', updateBattery);\n                batteryManager.removeEventListener('chargingchange', updateBattery);\n            };\n        });\n    }, []);\n\n    return battery;\n}\n\n/**\n * Render count hook - performance debugging iin\n * @param {string} componentName - Component ad\n */\nexport function useRenderCount(componentName = 'Component') {\n    const renderCount = useRef(0);\n\n    useEffect(() => {\n        renderCount.current += 1;\n    });\n\n    return renderCount.current;\n}\n\n/**\n * Update effect hook - ilk render'da almaz\n * @param {Function} effect - Effect function\n * @param {Array} deps - Dependencies\n */\nexport function useUpdateEffect(effect, deps) {\n    const isFirstMount = useRef(true);\n\n    useEffect(() => {\n        if (isFirstMount.current) {\n            isFirstMount.current = false;\n            return;\n        }\n\n        return effect();\n    }, deps);\n}\n\n/**\n * Timeout hook - declarative setTimeout\n * @param {Function} callback - Callback function\n * @param {number} delay - Delay in ms\n */\nexport function useTimeout(callback, delay) {\n    const savedCallback = useRef(callback);\n\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        if (delay === null) {\n            return;\n        }\n\n        const id = setTimeout(() => savedCallback.current(), delay);\n\n        return () => clearTimeout(id);\n    }, [delay]);\n}\n\n/**\n * Interval hook - declarative setInterval\n * @param {Function} callback - Callback function\n * @param {number} delay - Delay in ms\n */\nexport function useInterval(callback, delay) {\n    const savedCallback = useRef(callback);\n\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        if (delay === null) {\n            return;\n        }\n\n        const id = setInterval(() => savedCallback.current(), delay);\n\n        return () => clearInterval(id);\n    }, [delay]);\n}\n\nexport default {\n    useDebounce,\n    useThrottle,\n    useIntersectionObserver,\n    useIdleCallback,\n    useMediaQuery,\n    useLocalStorage,\n    usePrevious,\n    useIsMounted,\n    useAsyncEffect,\n    useWindowSize,\n    useOnlineStatus,\n    useBatteryStatus,\n    useRenderCount,\n    useUpdateEffect,\n    useTimeout,\n    useInterval\n};\n\n\n","import { Capacitor } from '@capacitor/core';\r\n\r\nexport const MY_LOCAL_IP = import.meta.env.VITE_LOCAL_IP || \"192.168.68.53\";\r\nexport const DJANGO_PORT = import.meta.env.VITE_DJANGO_PORT || \"8888\";\r\n\r\n//  FIX: Electron tespitini glendir\r\nexport const isElectron = (() => {\r\n    if (typeof window === 'undefined') return false;\r\n    // Method 1: window.require check\r\n    if (typeof window.require === 'function') return true;\r\n    // Method 2: process.versions.electron check\r\n    if (typeof process !== 'undefined' && process.versions && process.versions.electron) return true;\r\n    // Method 3: userAgent check\r\n    if (navigator.userAgent.toLowerCase().includes('electron')) return true;\r\n    // Method 4: file:// protocol check (Electron loads from file://)\r\n    if (window.location.protocol === 'file:') return true;\r\n    return false;\r\n})();\r\nexport const isNative = Capacitor.isNativePlatform();\r\n\r\nexport const API_URL_BASE_STRING = (() => {\r\n    //  Production: API calls go to api.pawscord.com\r\n    // Frontend is served from pawscord.com (R2 CDN)\r\n    if (isNative || isElectron) return \"https://api.pawscord.com\";\r\n    if (!window.location.hostname.includes('localhost') && !window.location.hostname.includes('192.168.')) {\r\n        return \"https://api.pawscord.com\";\r\n    }\r\n    return `http://${MY_LOCAL_IP}:${DJANGO_PORT}`;\r\n})();\r\n\r\nexport const API_BASE_URL = `${API_URL_BASE_STRING}/api`;\r\nexport const ABSOLUTE_HOST_URL = API_URL_BASE_STRING;\r\n\r\n//  ErrorBoundary gibi class component'ler import edemez, global'e koy\r\nif (typeof window !== 'undefined') {\r\n    window.__PAWSCORD_API_BASE__ = `${API_URL_BASE_STRING}/api`;\r\n}\r\n\r\n//  NEW: Media files iin ayr URL (her zaman production)\r\nexport const MEDIA_BASE_URL = import.meta.env.VITE_MEDIA_URL || (\r\n    (isNative || isElectron || !window.location.hostname.includes('localhost'))\r\n        ? \"https://media.pawscord.com\"\r\n        : API_URL_BASE_STRING\r\n);\r\nexport const CDN_BASE_URL = import.meta.env.VITE_CDN_URL || \"https://cdn.pawscord.com\";\r\nexport const PRODUCTION_URL = import.meta.env.VITE_PRODUCTION_URL || \"https://www.pawscord.com\";\r\nexport const WS_PROTOCOL = API_URL_BASE_STRING.startsWith('https') ? 'wss' : 'ws';\r\nexport const API_HOST = API_URL_BASE_STRING.replace(/^https?:\\/\\//, '');\r\n\r\nexport const URLS = {\r\n    LOGIN: `${API_BASE_URL}/auth/login/`,\r\n    REGISTER: `${API_BASE_URL}/auth/register/`,\r\n    UPLOAD_FILE: `${API_BASE_URL}/messages/upload_file/`,\r\n    MSG_HISTORY_ROOM: `${API_BASE_URL}/messages/history/room/`,\r\n    MSG_HISTORY_DM: `${API_BASE_URL}/messages/history/dm/`,\r\n    ROOM_LIST: `${API_BASE_URL}/rooms/list_with_categories/`,\r\n    CONV_LIST: `${API_BASE_URL}/conversations/`,\r\n    CREATE_CONV: `${API_BASE_URL}/conversations/find_or_create/`,\r\n    ALL_USERS: `${API_BASE_URL}/users/list_all/`,\r\n    UPDATE_PROFILE: `${API_BASE_URL}/users/update_profile/`,\r\n    DEFAULT_AVATARS: `${API_BASE_URL}/users/default_avatars/`,\r\n    CHANGE_USERNAME: `${API_BASE_URL}/users/change_username/`,\r\n    GIFS: `${API_BASE_URL}/gifs/list_local/`,\r\n    DOWNLOAD: \"https://api.pawscord.com/api/download/latest/\"\r\n};\r\n\r\nexport const GOOGLE_WEB_CLIENT_ID = import.meta.env.VITE_GOOGLE_CLIENT_ID || \"774757987258-poa0elqqapnab8eud3tol3h2pilcqe71.apps.googleusercontent.com\";\r\nexport const VIDEO_ASPECT_RATIO = 16 / 9;\r\n\r\n","import { createContext, useContext, useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { jwtDecode } from 'jwt-decode';\nimport { API_URL_BASE_STRING } from './utils/constants';\n\nconst AuthContext = createContext(null);\n\n// API URL Configuration - Centralized from constants.js\nconst API_URL_BASE = API_URL_BASE_STRING;\n\nexport const AuthProvider = ({ children }) => {\n    //  PERFORMANCE: Token varsa balangta authenticated olarak bala\n    const storedToken = localStorage.getItem('access_token');\n    const initialAuth = (() => {\n        if (!storedToken) return false;\n        try {\n            const decoded = jwtDecode(storedToken);\n            // Sadece gerekten geerli token'lar iin true (grace period yok)\n            return decoded.exp > (Date.now() / 1000);\n        } catch { return false; }\n    })();\n\n    const [user, setUser] = useState(initialAuth ? { username: localStorage.getItem('chat_username') || '' } : null);\n    const [token, setToken] = useState(storedToken);\n    const [isAuthenticated, setIsAuthenticated] = useState(initialAuth);\n    const [isLoading, setIsLoading] = useState(false);\n    const refreshTimerRef = useRef(null);\n\n    //  Token Refresh Function\n    const refreshAccessToken = useCallback(async () => {\n        const refreshToken = localStorage.getItem('refresh_token');\n        if (!refreshToken) {\n            console.warn(' [Auth] No refresh token available');\n            logout();\n            return false;\n        }\n\n        try {\n            const response = await fetch(`${API_URL_BASE}/api/auth/token/refresh/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ refresh: refreshToken })\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                localStorage.setItem('access_token', data.access);\n\n                // Eer yeni refresh token dnerse onu da kaydet\n                if (data.refresh) {\n                    localStorage.setItem('refresh_token', data.refresh);\n                }\n\n                const decoded = jwtDecode(data.access);\n                setToken(data.access);\n                setUser({ username: decoded.username });\n                setIsAuthenticated(true);\n\n                scheduleTokenRefresh(data.access);\n                return true;\n            } else {\n                console.error(' [Auth] Token refresh failed:', response.status);\n                logout();\n                return false;\n            }\n        } catch (error) {\n            console.error(' [Auth] Token refresh error:', error);\n            logout();\n            return false;\n        }\n    }, []);\n\n    //  Schedule next token refresh\n    const scheduleTokenRefresh = useCallback((accessToken) => {\n        if (refreshTimerRef.current) {\n            clearTimeout(refreshTimerRef.current);\n        }\n\n        try {\n            const decoded = jwtDecode(accessToken);\n            const currentTime = Date.now() / 1000;\n            const expiresIn = decoded.exp - currentTime;\n\n            // Token sresi dolmadan 5 dakika nce yenile\n            const refreshTime = Math.max((expiresIn - 300) * 1000, 60000); // En az 1 dakika\n\n\n            refreshTimerRef.current = setTimeout(() => {\n                refreshAccessToken();\n            }, refreshTime);\n        } catch (error) {\n            console.error(' [Auth] Failed to schedule token refresh:', error);\n        }\n    }, [refreshAccessToken]);\n\n    // Token kontrol ve Kullanc set etme\n    useEffect(() => {\n        const checkToken = async () => {\n            const storedToken = localStorage.getItem('access_token');\n            if (storedToken) {\n                try {\n                    const decoded = jwtDecode(storedToken);\n                    const currentTime = Date.now() / 1000;\n                    const gracePeriod = 5 * 60; // 5 dakika tolerans\n                    const isTokenActuallyValid = decoded.exp > currentTime;\n                    const isWithinGrace = decoded.exp > (currentTime - gracePeriod);\n\n\n                    if (isTokenActuallyValid) {\n                        // Token hala geerli  direkt kullan\n                        setToken(storedToken);\n                        setUser({ username: decoded.username });\n                        setIsAuthenticated(true);\n                        localStorage.setItem('chat_username', decoded.username);\n\n                        // Auto-refresh schedule\n                        scheduleTokenRefresh(storedToken);\n\n                    } else if (isWithinGrace) {\n                        // Token expired ama grace period iinde  nce refresh et\n                        console.warn(' [Auth] Token expired but within grace, refreshing first...');\n                        const refreshed = await refreshAccessToken();\n                        if (!refreshed) {\n                            console.error(' [Auth] Grace period refresh failed');\n                        }\n                    } else {\n                        console.warn(' [Auth] Token expired beyond grace period, attempting refresh...');\n                        refreshAccessToken();\n                    }\n                } catch (e) {\n                    console.error(' [Auth] Invalid token:', e);\n                    logout();\n                }\n            } else {\n            }\n        };\n        checkToken();\n\n        // Cleanup on unmount\n        return () => {\n            if (refreshTimerRef.current) {\n                clearTimeout(refreshTimerRef.current);\n            }\n        };\n    }, [scheduleTokenRefresh, refreshAccessToken]);\n\n    const login = (accessToken, refreshToken) => {\n        try {\n            localStorage.setItem('access_token', accessToken);\n            localStorage.setItem('refresh_token', refreshToken);\n            const decoded = jwtDecode(accessToken);\n\n            localStorage.setItem('chat_username', decoded.username);\n\n            setToken(accessToken);\n            setUser({ username: decoded.username });\n            setIsAuthenticated(true);\n\n            // Schedule auto-refresh\n            scheduleTokenRefresh(accessToken);\n        } catch (error) {\n            console.error(' [Auth] Login failed:', error);\n            logout();\n        }\n    };\n\n    const logout = useCallback(() => {\n        if (refreshTimerRef.current) {\n            clearTimeout(refreshTimerRef.current);\n        }\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n        localStorage.removeItem('chat_username');\n        setToken(null);\n        setUser(null);\n        setIsAuthenticated(false);\n    }, []);\n\n    const authValue = useMemo(() => ({\n        user, token, isAuthenticated, login, logout, isLoading, refreshAccessToken\n    }), [user, token, isAuthenticated, login, logout, isLoading, refreshAccessToken]);\n\n    return (\n        <AuthContext.Provider value={authValue}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n\n","// frontend/src/utils/logger.js\n//  Centralized Logger - Production'da otomatik disable\n\nconst isDevelopment = import.meta.env.MODE === 'development';\n\nconst logger = {\n    log: (...args) => {\n        if (isDevelopment) {\n        }\n    },\n\n    warn: (...args) => {\n        if (isDevelopment) {\n            console.warn(...args);\n        }\n    },\n\n    error: (...args) => {\n        // Error'lar her zaman loglanr (production'da da)\n        console.error(...args);\n    },\n\n    debug: (...args) => {\n        if (isDevelopment) {\n            console.debug(...args);\n        }\n    },\n\n    // Kategorili loglama\n    voice: (...args) => {\n        if (isDevelopment) {\n        }\n    },\n\n    webrtc: (...args) => {\n        if (isDevelopment) {\n        }\n    },\n\n    signal: (...args) => {\n        if (isDevelopment) {\n        }\n    },\n\n    audio: (...args) => {\n        if (isDevelopment) {\n        }\n    }\n};\n\nexport default logger;\n\n\n\n","// frontend/src/utils/toast.js\r\n// Modern Toast Notification System - alert() yerine kullan\r\n\r\nlet toastContainer = null;\r\n\r\n// Escape HTML to prevent XSS\r\nfunction escapeHTML(str) {\r\n    if (typeof str !== 'string') return '';\r\n    return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\r\n}\r\n\r\n// Toast container' initialize et\r\nfunction initToastContainer() {\r\n    if (!toastContainer) {\r\n        toastContainer = document.createElement('div');\r\n        toastContainer.id = 'toast-container';\r\n        toastContainer.style.cssText = `\r\n            position: fixed;\r\n            top: 20px;\r\n            right: 20px;\r\n            z-index: 999999;\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 10px;\r\n            pointer-events: none;\r\n        `;\r\n        document.body.appendChild(toastContainer);\r\n    }\r\n    return toastContainer;\r\n}\r\n\r\n/**\r\n * Modern toast notification gsterir\r\n * @param {string} message - Gsterilecek mesaj\r\n * @param {string} type - 'success', 'error', 'warning', 'info'\r\n * @param {number} duration - Milisaniye cinsinden grnme sresi (varsaylan: 3000)\r\n */\r\nexport function showToast(message, type = 'info', duration = 3000) {\r\n    const container = initToastContainer();\r\n\r\n    const toast = document.createElement('div');\r\n    toast.className = `toast toast-${type}`;\r\n\r\n    // Icon se\r\n    let icon = '';\r\n    let bgColor = '#3b82f6';\r\n\r\n    switch (type) {\r\n        case 'success':\r\n            icon = '';\r\n            bgColor = '#10b981';\r\n            break;\r\n        case 'error':\r\n            icon = '';\r\n            bgColor = '#ef4444';\r\n            break;\r\n        case 'warning':\r\n            icon = '';\r\n            bgColor = '#f59e0b';\r\n            break;\r\n        case 'info':\r\n            icon = '';\r\n            bgColor = '#3b82f6';\r\n            break;\r\n    }\r\n\r\n    toast.style.cssText = `\r\n        background: ${bgColor};\r\n        color: white;\r\n        padding: 12px 20px;\r\n        border-radius: 8px;\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 10px;\r\n        min-width: 300px;\r\n        max-width: 500px;\r\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n        font-size: 14px;\r\n        pointer-events: all;\r\n        animation: slideIn 0.3s ease-out;\r\n        transition: opacity 0.3s ease-out;\r\n    `;\r\n\r\n    toast.innerHTML = `\r\n        <span style=\"font-size: 20px;\">${icon}</span>\r\n        <span style=\"flex: 1;\">${escapeHTML(message)}</span>\r\n        <button onclick=\"this.parentElement.remove()\" style=\"\r\n            background: rgba(255,255,255,0.2);\r\n            border: none;\r\n            color: white;\r\n            width: 24px;\r\n            height: 24px;\r\n            border-radius: 50%;\r\n            cursor: pointer;\r\n            font-size: 16px;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            transition: background 0.2s;\r\n        \" onmouseover=\"this.style.background='rgba(255,255,255,0.3)'\" \r\n           onmouseout=\"this.style.background='rgba(255,255,255,0.2)'\"></button>\r\n    `;\r\n\r\n    container.appendChild(toast);\r\n\r\n    // Animasyon ekle\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n        @keyframes slideIn {\r\n            from {\r\n                transform: translateX(400px);\r\n                opacity: 0;\r\n            }\r\n            to {\r\n                transform: translateX(0);\r\n                opacity: 1;\r\n            }\r\n        }\r\n        @keyframes slideOut {\r\n            from {\r\n                transform: translateX(0);\r\n                opacity: 1;\r\n            }\r\n            to {\r\n                transform: translateX(400px);\r\n                opacity: 0;\r\n            }\r\n        }\r\n    `;\r\n    if (!document.getElementById('toast-styles')) {\r\n        style.id = 'toast-styles';\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    // Otomatik kaldr\r\n    setTimeout(() => {\r\n        toast.style.animation = 'slideOut 0.3s ease-out';\r\n        setTimeout(() => toast.remove(), 300);\r\n    }, duration);\r\n}\r\n\r\n// Ksa yollar\r\nexport const toast = {\r\n    success: (message, duration) => showToast(message, 'success', duration),\r\n    error: (message, duration) => showToast(message, 'error', duration),\r\n    warning: (message, duration) => showToast(message, 'warning', duration),\r\n    info: (message, duration) => showToast(message, 'info', duration),\r\n};\r\n\r\n// Global olarak kullanlabilir hale getir (opsiyonel)\r\nif (typeof window !== 'undefined') {\r\n    window.toast = toast;\r\n    window.showToast = showToast;\r\n}\r\n\r\nexport default toast;\r\n\r\n\r\n","// frontend/src/SpatialAudioEngine.js\n/**\n *  SPATIAL AUDIO ENGINE FOR PAWSCORD\n * \n * Features:\n * - 3D Positional Audio using Web Audio API\n * - HRTF (Head-Related Transfer Function) simulation\n * - Distance-based volume falloff\n * - Reverb and environmental effects\n * - Voice activity detection\n */\n\nclass SpatialAudioEngine {\n    constructor() {\n        this.audioContext = null;\n        this.masterGain = null;\n        this.spatialNodes = {}; // { username: { panner, gain, analyser, source } }\n        this.listenerPosition = { x: 0, y: 0, z: 0 };\n        this.initialized = false;\n    }\n\n    /**\n     * Initialize the audio engine\n     */\n    async initialize() {\n        if (this.initialized) return;\n\n        try {\n            const AudioContext = window.AudioContext || window.webkitAudioContext;\n            this.audioContext = new AudioContext();\n\n            // Master gain node\n            this.masterGain = this.audioContext.createGain();\n            this.masterGain.gain.value = 1.0;\n            this.masterGain.connect(this.audioContext.destination);\n\n            // Resume if suspended\n            if (this.audioContext.state === 'suspended') {\n                await this.audioContext.resume();\n            }\n\n            // Set up listener (user's position)\n            this.setupListener();\n\n            this.initialized = true;\n        } catch (error) {\n            console.error('Failed to initialize spatial audio:', error);\n            throw error;\n        }\n    }\n\n    /**\n     * Set up the audio listener (user's ears)\n     */\n    setupListener() {\n        const listener = this.audioContext.listener;\n\n        // Set listener position\n        if (listener.positionX) {\n            // Modern browsers\n            listener.positionX.value = this.listenerPosition.x;\n            listener.positionY.value = this.listenerPosition.y;\n            listener.positionZ.value = this.listenerPosition.z;\n        } else {\n            // Safari fallback\n            listener.setPosition(\n                this.listenerPosition.x,\n                this.listenerPosition.y,\n                this.listenerPosition.z\n            );\n        }\n\n        // Set listener orientation (forward and up vectors)\n        if (listener.forwardX) {\n            listener.forwardX.value = 0;\n            listener.forwardY.value = 0;\n            listener.forwardZ.value = -1;\n            listener.upX.value = 0;\n            listener.upY.value = 1;\n            listener.upZ.value = 0;\n        } else {\n            listener.setOrientation(0, 0, -1, 0, 1, 0);\n        }\n    }\n\n    /**\n     * Add a user's audio stream to spatial audio processing\n     * @param {string} username - User identifier\n     * @param {MediaStream} stream - User's audio stream\n     * @param {Object} position - 3D position {x, y, z}\n     */\n    addUser(username, stream, position = { x: 0, y: 0, z: -1 }) {\n        if (!this.initialized) {\n            console.warn('Spatial audio not initialized');\n            return null;\n        }\n\n        // Remove existing node if present\n        if (this.spatialNodes[username]) {\n            this.removeUser(username);\n        }\n\n        try {\n            // Create source from stream\n            const source = this.audioContext.createMediaStreamSource(stream);\n\n            // Create panner node for 3D positioning\n            const panner = this.audioContext.createPanner();\n            panner.panningModel = 'HRTF'; // Head-Related Transfer Function\n            panner.distanceModel = 'inverse'; // Realistic distance falloff\n            panner.refDistance = 1; // Reference distance\n            panner.maxDistance = 10000; // Maximum distance\n            panner.rolloffFactor = 1.5; // How quickly sound drops off\n            panner.coneInnerAngle = 360; // Omnidirectional\n            panner.coneOuterAngle = 360;\n            panner.coneOuterGain = 0;\n\n            // Set initial position\n            this.setUserPosition(username, position, panner);\n\n            // Create gain node for volume control\n            const gain = this.audioContext.createGain();\n            gain.gain.value = 1.0;\n\n            // Create analyser for voice activity detection\n            const analyser = this.audioContext.createAnalyser();\n            analyser.fftSize = 256;\n            analyser.smoothingTimeConstant = 0.8;\n\n            // Connect the audio graph\n            source.connect(analyser);\n            analyser.connect(panner);\n            panner.connect(gain);\n            gain.connect(this.masterGain);\n\n            // Store nodes\n            this.spatialNodes[username] = {\n                source,\n                panner,\n                gain,\n                analyser,\n                position,\n                audioElement: null\n            };\n\n            return this.spatialNodes[username];\n        } catch (error) {\n            console.error(`Failed to add spatial audio for ${username}:`, error);\n            return null;\n        }\n    }\n\n    /**\n     * Update user's 3D position\n     * @param {string} username - User identifier\n     * @param {Object} position - New position {x, y, z}\n     */\n    setUserPosition(username, position, pannerNode = null) {\n        const panner = pannerNode || this.spatialNodes[username]?.panner;\n        if (!panner) return;\n\n        if (panner.positionX) {\n            // Modern browsers\n            panner.positionX.setValueAtTime(position.x, this.audioContext.currentTime);\n            panner.positionY.setValueAtTime(position.y, this.audioContext.currentTime);\n            panner.positionZ.setValueAtTime(position.z, this.audioContext.currentTime);\n        } else {\n            // Safari fallback\n            panner.setPosition(position.x, position.y, position.z);\n        }\n\n        if (this.spatialNodes[username]) {\n            this.spatialNodes[username].position = position;\n        }\n    }\n\n    /**\n     * Set user's volume\n     * @param {string} username - User identifier\n     * @param {number} volume - Volume level (0.0 to 1.0)\n     */\n    setUserVolume(username, volume) {\n        const node = this.spatialNodes[username];\n        if (!node) return;\n\n        const clampedVolume = Math.max(0, Math.min(1, volume));\n        node.gain.gain.setValueAtTime(clampedVolume, this.audioContext.currentTime);\n    }\n\n    /**\n     * Get voice activity level\n     * @param {string} username - User identifier\n     * @returns {number} - Activity level (0-100)\n     */\n    getVoiceActivity(username) {\n        const node = this.spatialNodes[username];\n        if (!node) return 0;\n\n        const analyser = node.analyser;\n        const dataArray = new Uint8Array(analyser.frequencyBinCount);\n        analyser.getByteFrequencyData(dataArray);\n\n        // Calculate average volume\n        const sum = dataArray.reduce((acc, val) => acc + val, 0);\n        const average = sum / dataArray.length;\n\n        return Math.round((average / 255) * 100);\n    }\n\n    /**\n     * Remove user from spatial audio\n     * @param {string} username - User identifier\n     */\n    removeUser(username) {\n        const node = this.spatialNodes[username];\n        if (!node) return;\n\n        try {\n            // Disconnect all nodes\n            node.source.disconnect();\n            node.analyser.disconnect();\n            node.panner.disconnect();\n            node.gain.disconnect();\n\n            delete this.spatialNodes[username];\n        } catch (error) {\n            console.error(`Error removing spatial audio for ${username}:`, error);\n        }\n    }\n\n    /**\n     * Update listener position (camera/user position)\n     * @param {Object} position - New position {x, y, z}\n     */\n    updateListenerPosition(position) {\n        this.listenerPosition = position;\n        this.setupListener();\n    }\n\n    /**\n     * Set master volume\n     * @param {number} volume - Volume level (0.0 to 1.0)\n     */\n    setMasterVolume(volume) {\n        if (!this.masterGain) return;\n        const clampedVolume = Math.max(0, Math.min(1, volume));\n        this.masterGain.gain.setValueAtTime(clampedVolume, this.audioContext.currentTime);\n    }\n\n    /**\n     * Mute/unmute user\n     * @param {string} username - User identifier\n     * @param {boolean} muted - Mute state\n     */\n    setUserMuted(username, muted) {\n        this.setUserVolume(username, muted ? 0 : 1);\n    }\n\n    /**\n     * Clean up and destroy engine\n     */\n    destroy() {\n        // Remove all users\n        Object.keys(this.spatialNodes).forEach(username => {\n            this.removeUser(username);\n        });\n\n        // Close audio context\n        if (this.audioContext) {\n            this.audioContext.close();\n            this.audioContext = null;\n        }\n\n        this.initialized = false;\n    }\n\n    /**\n     * Get distance between listener and user\n     * @param {string} username - User identifier\n     * @returns {number} - Distance\n     */\n    getUserDistance(username) {\n        const node = this.spatialNodes[username];\n        if (!node) return Infinity;\n\n        const pos = node.position;\n        const listener = this.listenerPosition;\n\n        return Math.sqrt(\n            Math.pow(pos.x - listener.x, 2) +\n            Math.pow(pos.y - listener.y, 2) +\n            Math.pow(pos.z - listener.z, 2)\n        );\n    }\n\n    /**\n     * Create a circular arrangement of users\n     * Useful for voice channels with multiple users\n     * @param {Array<string>} usernames - Array of usernames\n     * @param {number} radius - Circle radius\n     * @returns {Object} - Positions map { username: {x, y, z} }\n     */\n    arrangeUsersInCircle(usernames, radius = 3) {\n        const positions = {};\n        const angleStep = (2 * Math.PI) / usernames.length;\n\n        usernames.forEach((username, index) => {\n            const angle = angleStep * index;\n            const position = {\n                x: Math.cos(angle) * radius,\n                y: 0,\n                z: Math.sin(angle) * radius\n            };\n            \n            positions[username] = position;\n            this.setUserPosition(username, position);\n        });\n\n        return positions;\n    }\n}\n\n// Export singleton instance\nexport const spatialAudio = new SpatialAudioEngine();\nexport default SpatialAudioEngine;\n\n\n","// frontend/src/utils/authFetch.js\n/**\n *  Authenticated Fetch Wrapper\n * Handles token expiration and automatic refresh with retry\n */\n\nimport { jwtDecode } from 'jwt-decode';\nimport { API_URL_BASE_STRING } from './constants';\n\nconst API_URL_BASE = API_URL_BASE_STRING;\n\n// Token refresh lock to prevent multiple simultaneous refreshes\nlet isRefreshing = false;\nlet refreshSubscribers = [];\n\n// Add subscriber to wait for token refresh\nconst subscribeTokenRefresh = (callback) => {\n    refreshSubscribers.push(callback);\n};\n\n// Notify all subscribers when token is refreshed\nconst onTokenRefreshed = (newToken) => {\n    refreshSubscribers.forEach(callback => callback(newToken));\n    refreshSubscribers = [];\n};\n\n// Check if token is expired or about to expire\nconst isTokenExpired = (token) => {\n    if (!token) return true;\n    try {\n        const decoded = jwtDecode(token);\n        const currentTime = Date.now() / 1000;\n        // Token is \"expired\" if it expires in less than 30 seconds\n        return decoded.exp < (currentTime + 30);\n    } catch {\n        return true;\n    }\n};\n\n// Refresh the access token\nconst refreshToken = async () => {\n    const refreshTokenValue = localStorage.getItem('refresh_token');\n    if (!refreshTokenValue) {\n        throw new Error('No refresh token available');\n    }\n\n    const response = await fetch(`${API_URL_BASE}/api/auth/token/refresh/`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ refresh: refreshTokenValue })\n    });\n\n    if (!response.ok) {\n        throw new Error('Token refresh failed');\n    }\n\n    const data = await response.json();\n    localStorage.setItem('access_token', data.access);\n\n    if (data.refresh) {\n        localStorage.setItem('refresh_token', data.refresh);\n    }\n\n    return data.access;\n};\n\n/**\n * Authenticated fetch wrapper\n * - Checks token before request\n * - Refreshes if expired\n * - Retries on 401\n */\nexport const authFetch = async (url, options = {}) => {\n    let accessToken = localStorage.getItem('access_token');\n\n    // Check if token needs refresh BEFORE making request\n    if (isTokenExpired(accessToken)) {\n\n        if (!isRefreshing) {\n            isRefreshing = true;\n            try {\n                accessToken = await refreshToken();\n                onTokenRefreshed(accessToken);\n            } catch (error) {\n                console.error(' [AuthFetch] Token refresh failed:', error);\n                isRefreshing = false;\n                // Redirect to login or handle logout\n                window.dispatchEvent(new CustomEvent('auth:logout'));\n                throw error;\n            } finally {\n                isRefreshing = false;\n            }\n        } else {\n            // Wait for the ongoing refresh\n            accessToken = await new Promise((resolve) => {\n                subscribeTokenRefresh((token) => resolve(token));\n            });\n        }\n    }\n\n    // Make the request with the valid token\n    const headers = {\n        ...options.headers,\n        'Authorization': `Bearer ${accessToken}`\n    };\n\n    let response = await fetch(url, { ...options, headers });\n\n    // If we still get 401, try one more refresh\n    if (response.status === 401) {\n        console.warn(' [AuthFetch] Got 401, attempting token refresh...');\n\n        if (!isRefreshing) {\n            isRefreshing = true;\n            try {\n                accessToken = await refreshToken();\n                onTokenRefreshed(accessToken);\n\n                // Retry the request with new token\n                headers['Authorization'] = `Bearer ${accessToken}`;\n                response = await fetch(url, { ...options, headers });\n            } catch (error) {\n                console.error(' [AuthFetch] Retry refresh failed:', error);\n                window.dispatchEvent(new CustomEvent('auth:logout'));\n                throw error;\n            } finally {\n                isRefreshing = false;\n            }\n        } else {\n            // Wait for the ongoing refresh and retry\n            accessToken = await new Promise((resolve) => {\n                subscribeTokenRefresh((token) => resolve(token));\n            });\n            headers['Authorization'] = `Bearer ${accessToken}`;\n            response = await fetch(url, { ...options, headers });\n        }\n    }\n\n    return response;\n};\n\n/**\n * GET request with auth\n */\nexport const authGet = async (url, options = {}) => {\n    return authFetch(url, { ...options, method: 'GET' });\n};\n\n/**\n * POST request with auth\n */\nexport const authPost = async (url, body, options = {}) => {\n    return authFetch(url, {\n        ...options,\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            ...options.headers\n        },\n        body: JSON.stringify(body)\n    });\n};\n\n/**\n * PUT request with auth\n */\nexport const authPut = async (url, body, options = {}) => {\n    return authFetch(url, {\n        ...options,\n        method: 'PUT',\n        headers: {\n            'Content-Type': 'application/json',\n            ...options.headers\n        },\n        body: JSON.stringify(body)\n    });\n};\n\n/**\n * DELETE request with auth\n */\nexport const authDelete = async (url, options = {}) => {\n    return authFetch(url, { ...options, method: 'DELETE' });\n};\n\nexport default authFetch;\n","//  YEN: ICE servers backend'den alnacak (TURN credentials gvenlii iin)\r\n// Sadece STUN servers burada tanml (public ve gvenli)\r\nexport const DEFAULT_ICE_SERVERS = [\r\n    // Google STUN (Reliable, public, free)\r\n    { urls: \"stun:stun.l.google.com:19302\" },\r\n    { urls: \"stun:stun1.l.google.com:19302\" },\r\n    { urls: \"stun:stun2.l.google.com:19302\" },\r\n    { urls: \"stun:stun3.l.google.com:19302\" },\r\n    { urls: \"stun:stun4.l.google.com:19302\" },\r\n    //  YEN: Ek STUN sunucular (redundancy)\r\n    { urls: \"stun:stun.cloudflare.com:3478\" },\r\n    { urls: \"stun:stun.services.mozilla.com:3478\" },\r\n    { urls: \"stun:stun.stunprotocol.org:3478\" },\r\n    //  FALLBACK TURN: Sunucu TURN'a eriilemezse kullanlacak (OpenRelay - cretsiz)\r\n    {\r\n        urls: \"turn:openrelay.metered.ca:80\",\r\n        username: \"openrelayproject\",\r\n        credential: \"openrelayproject\"\r\n    },\r\n    {\r\n        urls: \"turn:openrelay.metered.ca:443\",\r\n        username: \"openrelayproject\",\r\n        credential: \"openrelayproject\"\r\n    },\r\n    {\r\n        urls: \"turn:openrelay.metered.ca:443?transport=tcp\",\r\n        username: \"openrelayproject\",\r\n        credential: \"openrelayproject\"\r\n    }\r\n];\r\n//  TURN servers Backend'den alnacak (gvenlik) - Fallback olarak yukardakiler kullanlr\r\n//  REDUNDANT TURN: Birden fazla TURN server destegi icin backend API'den liste geliyor\r\n\r\n// WebRTC Configuration (balangta sadece STUN ile)\r\nexport let RTC_CONFIGURATION = {\r\n    iceServers: DEFAULT_ICE_SERVERS,\r\n    iceCandidatePoolSize: 10,\r\n    iceTransportPolicy: 'all',\r\n    bundlePolicy: 'max-bundle',\r\n    rtcpMuxPolicy: 'require'\r\n};\r\n\r\n// Tek kaynakl TURN ynetimi: join srasnda tekrar fetch etme, state'ten kullan\r\nexport const setRtcIceServers = (servers) => {\r\n    RTC_CONFIGURATION = { ...RTC_CONFIGURATION, iceServers: servers };\r\n};\r\n","import logger from '../utils/logger';\r\n\r\n//  NOISE SUPPRESSION - Grlt Engelleme (ADVANCED)\r\nexport async function applyNoiseSuppression(stream) {\r\n    try {\r\n        const audioTracks = stream.getAudioTracks();\r\n        if (audioTracks.length === 0) return stream;\r\n\r\n        const audioTrack = audioTracks[0];\r\n\r\n        //  AGRESIF Noise Suppression Ayarlar\r\n        const advancedConstraints = {\r\n            // Standard WebRTC\r\n            echoCancellation: { exact: true },\r\n            noiseSuppression: { exact: true },\r\n            autoGainControl: { exact: true },\r\n\r\n            // Google Chrome Advanced\r\n            googEchoCancellation: { exact: true },\r\n            googAutoGainControl: { exact: true },\r\n            googNoiseSuppression: { exact: true },\r\n            googHighpassFilter: { exact: true },  //  Dk frekans filtresi\r\n            googTypingNoiseDetection: { exact: true },  //  Klavye sesi\r\n            googAudioMirroring: false,\r\n\r\n            // Gain Control (Ses seviyesi dengesi)\r\n            googAutoGainControl2: { exact: true },\r\n\r\n            // Echo Cancellation Level\r\n            echoCancellationType: 'system'  // System-level echo cancellation\r\n        };\r\n\r\n        // Mevcut constraints'i gncelle\r\n        if (audioTrack.applyConstraints) {\r\n            try {\r\n                await audioTrack.applyConstraints(advancedConstraints);\r\n                logger.audio(' ADVANCED noise suppression enabled');\r\n            } catch (err) {\r\n                // Baz tarayclar advanced constraints'i desteklemeyebilir\r\n                // Fallback to basic\r\n                await audioTrack.applyConstraints({\r\n                    echoCancellation: true,\r\n                    noiseSuppression: true,\r\n                    autoGainControl: true\r\n                });\r\n                logger.audio(' Basic noise suppression enabled (fallback)');\r\n            }\r\n        }\r\n\r\n        return stream;\r\n    } catch (error) {\r\n        logger.warn('Could not apply noise suppression:', error);\r\n        return stream;\r\n    }\r\n}\r\n\r\n//  PROFESYONEL SES FLTRELEME - Noise Gate + Compressor + Adaptive Filter\r\nexport function applyProfessionalAudioFilters(stream, globalAudioContextRef) {\r\n    try {\r\n        //  GRLT ENGELLEME SEVYESNE GRE AYARLAR\r\n        const voiceSettings = JSON.parse(localStorage.getItem('voice_settings') || '{}');\r\n        const level = voiceSettings.audio?.noiseSuppressionLevel || 'high';\r\n\r\n        // Seviyeye gre parametreler -  AGRESF GRLT ENGELLEME\r\n        const levelSettings = {\r\n            low: {\r\n                gateThreshold: -70,      // dB eii\r\n                compressorThreshold: -15,\r\n                compressorRatio: 2,\r\n                highPassFreq: 50,        // 50Hz alt kes (fan, AC sesi)\r\n                lowPassFreq: 14000,      // 14kHz st kes\r\n                gateRelease: 0.3,\r\n                speechThreshold: 20      // Konuma alglama eii\r\n            },\r\n            medium: {\r\n                gateThreshold: -60,\r\n                compressorThreshold: -20,\r\n                compressorRatio: 3,\r\n                highPassFreq: 80,        // 80Hz alt kes\r\n                lowPassFreq: 12000,\r\n                gateRelease: 0.25,\r\n                speechThreshold: 25\r\n            },\r\n            high: {\r\n                gateThreshold: -50,      //  Daha agresif\r\n                compressorThreshold: -25,\r\n                compressorRatio: 4,\r\n                highPassFreq: 100,       //  100Hz alt kes (daha agresif)\r\n                lowPassFreq: 10000,      //  10kHz st kes\r\n                gateRelease: 0.2,\r\n                speechThreshold: 30      //  Daha yksek eik\r\n            },\r\n            aggressive: {\r\n                gateThreshold: -45,      //  OK agresif\r\n                compressorThreshold: -30,\r\n                compressorRatio: 6,\r\n                highPassFreq: 120,       //  120Hz alt kes\r\n                lowPassFreq: 8000,       //  8kHz st kes (tiz grltler)\r\n                gateRelease: 0.15,\r\n                speechThreshold: 35      //  Yksek eik\r\n            }\r\n        };\r\n\r\n        const settings = levelSettings[level] || levelSettings.high;\r\n\r\n        //  PERFORMANS: Global AudioContext kullan (10 kullanc = 10 context yerine 1 context!)\r\n        if (!globalAudioContextRef.current) {\r\n            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n            //  CIZIRTIYI NLE: Sample rate eletir + latency hint\r\n            globalAudioContextRef.current = new AudioContext({\r\n                sampleRate: 48000,  // WebRTC standart sample rate\r\n                latencyHint: 'interactive'  // Dk gecikme modu\r\n            });\r\n        }\r\n\r\n        const audioContext = globalAudioContextRef.current;\r\n\r\n        //  CIZIRTIYI NLE: Suspended context'i resume et\r\n        if (audioContext.state === 'suspended') {\r\n            audioContext.resume().then(() => {\r\n            });\r\n        }\r\n\r\n        // Source stream\r\n        const source = audioContext.createMediaStreamSource(stream);\r\n\r\n        // 1 NOISE GATE (Grlt Kaps) - SEVYEYE GRE\r\n        // Belli desibelin altndaki sesleri tamamen kes\r\n        const noiseGateNode = audioContext.createGain();\r\n        let isGateOpen = true; //  Balangta ak\r\n        const GATE_THRESHOLD = settings.gateThreshold; // dB (seviyeye gre)\r\n        const GATE_ATTACK = 0.005;  // Daha hzl alma\r\n        const GATE_RELEASE = settings.gateRelease;  // Seviyeye gre\r\n\r\n        // 2 COMPRESSOR (Dinamik Sktrma) - SEVYEYE GRE\r\n        //  CIZIRTIYI NLE: Daha yumuak sktrma\r\n        const compressor = audioContext.createDynamicsCompressor();\r\n        compressor.threshold.value = settings.compressorThreshold;      // dB threshold (seviyeye gre)\r\n        compressor.knee.value = 30;            //  40'tan 30'a - daha yumuak gei\r\n        compressor.ratio.value = Math.min(settings.compressorRatio, 4);  //  Max 4:1 ratio (czrt nler)\r\n        compressor.attack.value = 0.003;       //  3ms - daha hzl (click nler)\r\n        compressor.release.value = 0.15;       //  150ms - daha ksa (pumping nler)\r\n\r\n        // 3 HIGH-PASS FILTER (Dk Frekans Kesici) - SEVYEYE GRE\r\n        // Fan, AC, trafik seslerini filtrele\r\n        const highPassFilter = audioContext.createBiquadFilter();\r\n        highPassFilter.type = 'highpass';\r\n        highPassFilter.frequency.value = settings.highPassFreq;   // Seviyeye gre frekans\r\n        highPassFilter.Q.value = 0.707;        //  Butterworth Q deeri (dz frekans yant - czrt nler)\r\n\r\n        // 4 LOW-PASS FILTER (Yksek Frekans Kesici) - SEVYEYE GRE\r\n        // Elektronik grlt, hiss seslerini filtrele\r\n        const lowPassFilter = audioContext.createBiquadFilter();\r\n        lowPassFilter.type = 'lowpass';\r\n        lowPassFilter.frequency.value = settings.lowPassFreq;  // Seviyeye gre frekans\r\n        lowPassFilter.Q.value = 0.707;         //  Butterworth Q deeri (dz frekans yant)\r\n\r\n        //  5 NOTCH FILTER - 50Hz/60Hz hum (elektrik grlts) engelleme\r\n        const notchFilter = audioContext.createBiquadFilter();\r\n        notchFilter.type = 'notch';\r\n        notchFilter.frequency.value = 50;      // 50Hz (TR elektrik ebekesi)\r\n        notchFilter.Q.value = 10;              // Dar bant (sadece 50Hz civar)\r\n\r\n        // 6 DE-ESSER (Tslama/Czrt azaltc) - 4-8kHz bandn yumuat\r\n        const deEsser = audioContext.createBiquadFilter();\r\n        deEsser.type = 'peaking';\r\n        deEsser.frequency.value = 6000;        // 6kHz (sibilant blgesi)\r\n        deEsser.Q.value = 1;                   // Geni bant\r\n        deEsser.gain.value = -3;               //  -3dB azaltma (czrt iin)\r\n\r\n        // 7 ADAPTIVE NOISE REDUCTION (Dinamik Grlt Azaltma)\r\n        // Sessiz anlarda grlt profilini ren ve kar\r\n        const analyser = audioContext.createAnalyser();\r\n        analyser.fftSize = 2048;\r\n        analyser.smoothingTimeConstant = 0.85; //  Daha yumuak gei\r\n\r\n        const dataArray = new Uint8Array(analyser.frequencyBinCount);\r\n        let noiseProfile = new Float32Array(analyser.frequencyBinCount);\r\n        let learningPhase = true;\r\n        let silentFrames = 0;\r\n\r\n        // Grlt profili renme\r\n        const learnNoiseProfile = () => {\r\n            analyser.getByteFrequencyData(dataArray);\r\n            const average = dataArray.reduce((a, b) => a + b) / dataArray.length;\r\n\r\n            if (average < 20) { // Sessiz an\r\n                silentFrames++;\r\n                if (silentFrames > 10) { // 10 frame sessizlik\r\n                    // Grlt profilini gncelle\r\n                    for (let i = 0; i < dataArray.length; i++) {\r\n                        noiseProfile[i] = Math.max(noiseProfile[i], dataArray[i]);\r\n                    }\r\n                }\r\n            } else {\r\n                silentFrames = 0;\r\n            }\r\n\r\n            if (learningPhase && silentFrames > 50) {\r\n                learningPhase = false;\r\n            }\r\n        };\r\n\r\n        // Noise Gate kontrol (VAD tabanl)\r\n        const speechThreshold = settings.speechThreshold || 25; //  Seviyeye gre eik\r\n        const updateNoiseGate = () => {\r\n            analyser.getByteFrequencyData(dataArray);\r\n\r\n            // Konuma frekanslar (300Hz - 3kHz) - daha geni aralk\r\n            const speechRange = dataArray.slice(8, 120);  //  Daha geni frekans aral\r\n            const speechLevel = speechRange.reduce((a, b) => a + b) / speechRange.length;\r\n\r\n            // Grlt profili karlm sinyal\r\n            const cleanSignal = speechLevel - (noiseProfile[50] || 0);\r\n\r\n            // Noise Gate mant - SEVYEYE GRE AGRESF\r\n            const currentTime = audioContext.currentTime;\r\n            if (cleanSignal > speechThreshold) { //  Konuma algland (seviyeye gre eik)\r\n                if (!isGateOpen) {\r\n                    noiseGateNode.gain.setTargetAtTime(1.0, currentTime, GATE_ATTACK);\r\n                    isGateOpen = true;\r\n                }\r\n            } else { // Sessizlik -  HIZLI KAPANI\r\n                if (isGateOpen) {\r\n                    noiseGateNode.gain.setTargetAtTime(0.0, currentTime, GATE_RELEASE);\r\n                    isGateOpen = false;\r\n                }\r\n            }\r\n\r\n            // Grlt profili renmeye devam et\r\n            if (learningPhase || Math.random() < 0.01) {\r\n                learnNoiseProfile();\r\n            }\r\n\r\n            //  FIX: requestAnimationFrame yerine setInterval kullan (daha stabil)\r\n            // requestAnimationFrame(updateNoiseGate); // ESK - CPU youn\r\n        };\r\n\r\n        //  FIX: Noise gate gncelleme interval' (30ms = ~33Hz - daha hzl tepki)\r\n        const noiseGateInterval = setInterval(updateNoiseGate, 30);\r\n\r\n        // 8 SNYAL ZNCR (Signal Chain) - GNCELLEND\r\n        // source  highpass  notch(50Hz)  lowpass  deEsser  compressor  noise gate  destination\r\n        source.connect(highPassFilter);\r\n        highPassFilter.connect(notchFilter);\r\n        notchFilter.connect(lowPassFilter);\r\n        lowPassFilter.connect(deEsser);\r\n        deEsser.connect(compressor);\r\n        compressor.connect(noiseGateNode);\r\n        noiseGateNode.connect(analyser);\r\n\r\n        // Yeni stream olutur\r\n        const destination = audioContext.createMediaStreamDestination();\r\n        noiseGateNode.connect(destination);\r\n\r\n        //  CLEANUP: Stream temizlendiinde interval' durdur\r\n        destination.stream.addEventListener('inactive', () => {\r\n            clearInterval(noiseGateInterval);\r\n        });\r\n\r\n\r\n        return destination.stream;\r\n    } catch (error) {\r\n        console.error(' [Audio] Could not apply professional filters:', error);\r\n        return stream; // Fallback to original\r\n    }\r\n}\r\n","/**\r\n * Creates a voice effect by connecting audio nodes in a chain.\r\n * @param {string} effectType - The effect type: 'robot', 'echo', 'deep', 'high', 'radio', 'reverb'\r\n * @param {number} intensity - Effect intensity (0-100)\r\n * @param {AudioContext} audioContext - The AudioContext to create nodes with\r\n * @param {MediaStream} sourceStream - The source media stream to process\r\n * @returns {{ nodes: AudioNode[], outputStream: MediaStream }}\r\n */\r\nexport function createVoiceEffect(effectType, intensity, audioContext, sourceStream) {\r\n    const source = audioContext.createMediaStreamSource(sourceStream);\r\n    const destination = audioContext.createMediaStreamDestination();\r\n    const nodes = [];\r\n\r\n    // Normalize intensity to 0-1 range\r\n    const normalizedIntensity = intensity / 100;\r\n\r\n    switch (effectType) {\r\n        case 'robot': {\r\n            // Robot voice: Ring modulator + waveshaper\r\n            const oscillator = audioContext.createOscillator();\r\n            const gainOsc = audioContext.createGain();\r\n            const waveshaper = audioContext.createWaveShaper();\r\n\r\n            oscillator.type = 'sawtooth';\r\n            oscillator.frequency.value = 50 + (normalizedIntensity * 100); // 50-150 Hz\r\n            gainOsc.gain.value = 0.3 + (normalizedIntensity * 0.4);\r\n\r\n            // Waveshaper curve for distortion\r\n            const curve = new Float32Array(256);\r\n            for (let i = 0; i < 256; i++) {\r\n                const x = (i / 128) - 1;\r\n                curve[i] = Math.tanh(x * (1 + normalizedIntensity * 3));\r\n            }\r\n            waveshaper.curve = curve;\r\n\r\n            oscillator.connect(gainOsc);\r\n            source.connect(waveshaper);\r\n            waveshaper.connect(destination);\r\n            oscillator.start();\r\n\r\n            nodes.push(oscillator, gainOsc, waveshaper);\r\n            break;\r\n        }\r\n\r\n        case 'echo': {\r\n            // Echo/Delay effect\r\n            const delay = audioContext.createDelay(1.0);\r\n            const feedback = audioContext.createGain();\r\n            const wetGain = audioContext.createGain();\r\n            const dryGain = audioContext.createGain();\r\n\r\n            delay.delayTime.value = 0.1 + (normalizedIntensity * 0.4); // 100-500ms\r\n            feedback.gain.value = 0.2 + (normalizedIntensity * 0.5); // 20-70% feedback\r\n            wetGain.gain.value = 0.3 + (normalizedIntensity * 0.4);\r\n            dryGain.gain.value = 1 - (normalizedIntensity * 0.3);\r\n\r\n            source.connect(dryGain);\r\n            source.connect(delay);\r\n            delay.connect(feedback);\r\n            feedback.connect(delay);\r\n            delay.connect(wetGain);\r\n            dryGain.connect(destination);\r\n            wetGain.connect(destination);\r\n\r\n            nodes.push(delay, feedback, wetGain, dryGain);\r\n            break;\r\n        }\r\n\r\n        case 'deep': {\r\n            // Deep voice: Pitch shift down (using playbackRate trick)\r\n            const biquadFilter = audioContext.createBiquadFilter();\r\n            const gainNode = audioContext.createGain();\r\n\r\n            biquadFilter.type = 'lowshelf';\r\n            biquadFilter.frequency.value = 500;\r\n            biquadFilter.gain.value = 10 + (normalizedIntensity * 15); // Boost low frequencies\r\n\r\n            gainNode.gain.value = 1.2;\r\n\r\n            source.connect(biquadFilter);\r\n            biquadFilter.connect(gainNode);\r\n            gainNode.connect(destination);\r\n\r\n            nodes.push(biquadFilter, gainNode);\r\n            break;\r\n        }\r\n\r\n        case 'high': {\r\n            // High/Chipmunk voice: Pitch shift up\r\n            const highFilter = audioContext.createBiquadFilter();\r\n            const gainNode = audioContext.createGain();\r\n\r\n            highFilter.type = 'highshelf';\r\n            highFilter.frequency.value = 1000;\r\n            highFilter.gain.value = 8 + (normalizedIntensity * 12);\r\n\r\n            gainNode.gain.value = 0.9;\r\n\r\n            source.connect(highFilter);\r\n            highFilter.connect(gainNode);\r\n            gainNode.connect(destination);\r\n\r\n            nodes.push(highFilter, gainNode);\r\n            break;\r\n        }\r\n\r\n        case 'radio': {\r\n            // Radio/Telephone effect: Bandpass filter\r\n            const lowpass = audioContext.createBiquadFilter();\r\n            const highpass = audioContext.createBiquadFilter();\r\n            const distortion = audioContext.createWaveShaper();\r\n\r\n            lowpass.type = 'lowpass';\r\n            lowpass.frequency.value = 3000 - (normalizedIntensity * 1000);\r\n\r\n            highpass.type = 'highpass';\r\n            highpass.frequency.value = 300 + (normalizedIntensity * 200);\r\n\r\n            // Slight distortion for radio crackle\r\n            const curve = new Float32Array(256);\r\n            for (let i = 0; i < 256; i++) {\r\n                const x = (i / 128) - 1;\r\n                curve[i] = Math.sign(x) * Math.pow(Math.abs(x), 0.8);\r\n            }\r\n            distortion.curve = curve;\r\n\r\n            source.connect(highpass);\r\n            highpass.connect(lowpass);\r\n            lowpass.connect(distortion);\r\n            distortion.connect(destination);\r\n\r\n            nodes.push(lowpass, highpass, distortion);\r\n            break;\r\n        }\r\n\r\n        case 'reverb': {\r\n            // Reverb/Hall effect\r\n            const convolver = audioContext.createConvolver();\r\n            const wetGain = audioContext.createGain();\r\n            const dryGain = audioContext.createGain();\r\n\r\n            // Create impulse response for reverb\r\n            const sampleRate = audioContext.sampleRate;\r\n            const length = sampleRate * (0.5 + normalizedIntensity * 2); // 0.5-2.5 seconds\r\n            const impulse = audioContext.createBuffer(2, length, sampleRate);\r\n\r\n            for (let channel = 0; channel < 2; channel++) {\r\n                const channelData = impulse.getChannelData(channel);\r\n                for (let i = 0; i < length; i++) {\r\n                    channelData[i] = (Math.random() * 2 - 1) * Math.pow(1 - i / length, 2);\r\n                }\r\n            }\r\n            convolver.buffer = impulse;\r\n\r\n            wetGain.gain.value = 0.3 + (normalizedIntensity * 0.5);\r\n            dryGain.gain.value = 1 - (normalizedIntensity * 0.2);\r\n\r\n            source.connect(dryGain);\r\n            source.connect(convolver);\r\n            convolver.connect(wetGain);\r\n            dryGain.connect(destination);\r\n            wetGain.connect(destination);\r\n\r\n            nodes.push(convolver, wetGain, dryGain);\r\n            break;\r\n        }\r\n\r\n        default:\r\n            source.connect(destination);\r\n    }\r\n\r\n    return { nodes, outputStream: destination.stream };\r\n}\r\n","import { useState, useCallback, useEffect } from 'react';\r\n\r\nexport function useVoiceSettings() {\r\n    //  Noise Gate State\r\n    const [noiseGateThreshold, setNoiseGateThreshold] = useState(() => {\r\n        try {\r\n            return parseInt(localStorage.getItem('pawscord_noise_gate')) || -50;\r\n        } catch { return -50; }\r\n    });\r\n    const [isNoiseGateEnabled, setIsNoiseGateEnabled] = useState(() => {\r\n        try {\r\n            return localStorage.getItem('pawscord_noise_gate_enabled') !== 'false';\r\n        } catch { return true; }\r\n    });\r\n\r\n    //  Audio Visualizer Toggle\r\n    const [isVisualizerEnabled, setIsVisualizerEnabled] = useState(() => {\r\n        try {\r\n            return localStorage.getItem('pawscord_visualizer') === 'true';\r\n        } catch { return false; }\r\n    });\r\n\r\n    // Ses Seviyeleri & Mute\r\n    const [remoteVolumes, setRemoteVolumes] = useState(() => {\r\n        try { return JSON.parse(localStorage.getItem('pawscord_user_volumes')) || {}; } catch { return {}; }\r\n    });\r\n    const [mutedUsers, setMutedUsers] = useState(new Set());\r\n    const [isSpatialAudioEnabled, setIsSpatialAudioEnabled] = useState(() => {\r\n        //  YEN: Spatial audio ayarn localStorage'dan ykle\r\n        try {\r\n            return localStorage.getItem('pawscord_spatial_audio') === 'true';\r\n        } catch {\r\n            return false; // Varsaylan kapal (yeni kullanclar iin)\r\n        }\r\n    });\r\n\r\n    //  YEN: VAD Sensitivity ve Noise Suppression ayarlar\r\n    const [vadSensitivity, setVadSensitivity] = useState(() => {\r\n        try {\r\n            return parseInt(localStorage.getItem('pawscord_vad_sensitivity')) || 45;\r\n        } catch {\r\n            return 45; // Varsaylan threshold\r\n        }\r\n    });\r\n\r\n    const [isNoiseSuppressionEnabled, setIsNoiseSuppressionEnabled] = useState(() => {\r\n        try {\r\n            const saved = localStorage.getItem('pawscord_noise_suppression');\r\n            //  FIX: Varsaylan AIK - grlt engelleme aktif olsun\r\n            return saved === null ? true : saved === 'true';\r\n        } catch {\r\n            return true; //  FIX: Varsaylan AIK\r\n        }\r\n    });\r\n\r\n    //  YEN: Grlt Engelleme Seviyesi - Varsaylan 'medium' (ses kslmasn)\r\n    const [noiseSuppressionLevel, setNoiseSuppressionLevel] = useState(() => {\r\n        try {\r\n            const voiceSettings = JSON.parse(localStorage.getItem('voice_settings') || '{}');\r\n            return voiceSettings.audio?.noiseSuppressionLevel || 'medium';  //  Varsaylan ORTA\r\n        } catch {\r\n            return 'medium';  //  Varsaylan ORTA\r\n        }\r\n    });\r\n\r\n    //  YEN: Screen Share Quality\r\n    const [screenShareQuality, setScreenShareQuality] = useState(() => {\r\n        try {\r\n            return localStorage.getItem('pawscord_screen_quality') || '1080p';\r\n        } catch {\r\n            return '1080p';\r\n        }\r\n    });\r\n\r\n    const [screenShareFPS, setScreenShareFPS] = useState(() => {\r\n        try {\r\n            return parseInt(localStorage.getItem('pawscord_screen_fps')) || 30;\r\n        } catch {\r\n            return 30;\r\n        }\r\n    });\r\n\r\n    //  YEN: System Audio (Ekran paylamnda sistem sesi)\r\n    const [includeSystemAudio, setIncludeSystemAudio] = useState(() => {\r\n        try {\r\n            return localStorage.getItem('pawscord_system_audio') !== 'false';\r\n        } catch {\r\n            return false;\r\n        }\r\n    });\r\n\r\n    //  YEN: Push-to-Talk\r\n    const [isPTTMode, setIsPTTMode] = useState(() => {\r\n        try {\r\n            return localStorage.getItem('pawscord_ptt_mode') === 'true';\r\n        } catch {\r\n            return false;\r\n        }\r\n    });\r\n\r\n    const [pttKey, setPTTKey] = useState(() => {\r\n        try {\r\n            return localStorage.getItem('pawscord_ptt_key') || 'Space';\r\n        } catch {\r\n            return 'Space';\r\n        }\r\n    });\r\n\r\n    const [isPTTActive, setIsPTTActive] = useState(false);\r\n\r\n    // Ses Ayarlarn Kaydet\r\n    useEffect(() => {\r\n        localStorage.setItem('pawscord_user_volumes', JSON.stringify(remoteVolumes));\r\n    }, [remoteVolumes]);\r\n\r\n    // --- Update / Toggle Functions (pure state + localStorage) ---\r\n\r\n    const setRemoteVolume = useCallback((targetUsername, volume) => {\r\n        setRemoteVolumes(prev => ({\r\n            ...prev,\r\n            [targetUsername]: Math.max(0, Math.min(200, volume))\r\n        }));\r\n    }, []);\r\n\r\n    //  YEN: VAD Sensitivity Gncelleme\r\n    const updateVadSensitivity = useCallback((newSensitivity) => {\r\n        const clamped = Math.max(20, Math.min(80, newSensitivity)); // 20-80 aras\r\n        setVadSensitivity(clamped);\r\n        localStorage.setItem('pawscord_vad_sensitivity', clamped.toString());\r\n    }, []);\r\n\r\n    //  YEN: Grlt Engelleme Seviyesini Gncelle\r\n    const updateNoiseSuppressionLevel = useCallback((level) => {\r\n        const validLevels = ['low', 'medium', 'high', 'aggressive'];\r\n        const newLevel = validLevels.includes(level) ? level : 'high';\r\n        setNoiseSuppressionLevel(newLevel);\r\n\r\n        // LocalStorage'a kaydet\r\n        try {\r\n            const voiceSettings = JSON.parse(localStorage.getItem('voice_settings') || '{}');\r\n            voiceSettings.audio = { ...voiceSettings.audio, noiseSuppressionLevel: newLevel };\r\n            localStorage.setItem('voice_settings', JSON.stringify(voiceSettings));\r\n        } catch (e) {\r\n            console.error('[Noise Level] Storage error:', e);\r\n        }\r\n    }, []);\r\n\r\n    //  YEN: Screen Quality Update\r\n    const updateScreenQuality = useCallback((quality) => {\r\n        setScreenShareQuality(quality);\r\n        localStorage.setItem('pawscord_screen_quality', quality);\r\n    }, []);\r\n\r\n    //  YEN: Screen FPS Update\r\n    const updateScreenFPS = useCallback((fps) => {\r\n        const fpsInt = parseInt(fps);\r\n        setScreenShareFPS(fpsInt);\r\n        localStorage.setItem('pawscord_screen_fps', fpsInt.toString());\r\n    }, []);\r\n\r\n    //  YEN: System Audio Toggle (Ekran paylamnda)\r\n    const toggleSystemAudio = useCallback((enabled) => {\r\n        setIncludeSystemAudio(enabled);\r\n        localStorage.setItem('pawscord_system_audio', enabled.toString());\r\n    }, []);\r\n\r\n    //  YEN: Noise Gate Toggle\r\n    const toggleNoiseGate = useCallback((enabled) => {\r\n        setIsNoiseGateEnabled(enabled);\r\n        localStorage.setItem('pawscord_noise_gate_enabled', enabled.toString());\r\n    }, []);\r\n\r\n    //  YEN: Noise Gate Threshold Gncelleme\r\n    const updateNoiseGateThreshold = useCallback((threshold) => {\r\n        const clamped = Math.max(-80, Math.min(-20, threshold));\r\n        setNoiseGateThreshold(clamped);\r\n        localStorage.setItem('pawscord_noise_gate', clamped.toString());\r\n    }, []);\r\n\r\n    //  YEN: Audio Visualizer Toggle\r\n    const toggleVisualizer = useCallback((enabled) => {\r\n        setIsVisualizerEnabled(enabled);\r\n        localStorage.setItem('pawscord_visualizer', enabled.toString());\r\n    }, []);\r\n\r\n    //  YEN: PTT Key Update\r\n    const updatePTTKey = useCallback((key) => {\r\n        setPTTKey(key);\r\n        localStorage.setItem('pawscord_ptt_key', key);\r\n    }, []);\r\n\r\n    return {\r\n        // State\r\n        noiseGateThreshold,\r\n        isNoiseGateEnabled,\r\n        isVisualizerEnabled,\r\n        remoteVolumes,\r\n        setRemoteVolumes,\r\n        mutedUsers,\r\n        setMutedUsers,\r\n        isSpatialAudioEnabled,\r\n        setIsSpatialAudioEnabled,\r\n        vadSensitivity,\r\n        isNoiseSuppressionEnabled,\r\n        setIsNoiseSuppressionEnabled,\r\n        noiseSuppressionLevel,\r\n        screenShareQuality,\r\n        screenShareFPS,\r\n        includeSystemAudio,\r\n        isPTTMode,\r\n        setIsPTTMode,\r\n        pttKey,\r\n        isPTTActive,\r\n        setIsPTTActive,\r\n        // Updaters\r\n        setRemoteVolume,\r\n        updateVadSensitivity,\r\n        updateNoiseSuppressionLevel,\r\n        updateScreenQuality,\r\n        updateScreenFPS,\r\n        toggleSystemAudio,\r\n        toggleNoiseGate,\r\n        updateNoiseGateThreshold,\r\n        toggleVisualizer,\r\n        updatePTTKey,\r\n    };\r\n}\r\n","import { useState, useCallback, useRef } from 'react';\r\nimport toast from '../utils/toast';\r\n\r\nexport function useRecording({ isInVoice, localAudioStream, remoteStreams, currentRoom }) {\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [recordingDuration, setRecordingDuration] = useState(0);\r\n    const recordingChunksRef = useRef([]);\r\n    const mediaRecorderRef = useRef(null);\r\n    const recordingIntervalRef = useRef(null);\r\n\r\n    //  YEN: Start Recording\r\n    const startRecording = useCallback(() => {\r\n        if (!isInVoice || isRecording) {\r\n            console.warn('[Recording] Cannot start - not in voice or already recording');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Combine local and remote streams for recording\r\n            const audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n            const destination = audioContext.createMediaStreamDestination();\r\n\r\n            // Add local audio\r\n            if (localAudioStream) {\r\n                const localSource = audioContext.createMediaStreamSource(localAudioStream);\r\n                localSource.connect(destination);\r\n            }\r\n\r\n            // Add all remote audio streams\r\n            Object.entries(remoteStreams).forEach(([key, stream]) => {\r\n                if (!key.includes('_camera') && !key.includes('_screen')) {\r\n                    const audioTracks = stream.getAudioTracks();\r\n                    if (audioTracks.length > 0) {\r\n                        const remoteSource = audioContext.createMediaStreamSource(stream);\r\n                        remoteSource.connect(destination);\r\n                    }\r\n                }\r\n            });\r\n\r\n            // Create MediaRecorder\r\n            const mediaRecorder = new MediaRecorder(destination.stream, {\r\n                mimeType: 'audio/webm;codecs=opus',\r\n                audioBitsPerSecond: 128000\r\n            });\r\n\r\n            recordingChunksRef.current = [];\r\n\r\n            mediaRecorder.ondataavailable = (event) => {\r\n                if (event.data.size > 0) {\r\n                    recordingChunksRef.current.push(event.data);\r\n                }\r\n            };\r\n\r\n            mediaRecorder.onstop = () => {\r\n                const blob = new Blob(recordingChunksRef.current, { type: 'audio/webm' });\r\n                const url = URL.createObjectURL(blob);\r\n                const a = document.createElement('a');\r\n                a.href = url;\r\n                a.download = `pawscord-voice-${currentRoom}-${Date.now()}.webm`;\r\n                a.click();\r\n                URL.revokeObjectURL(url);\r\n            };\r\n\r\n            mediaRecorder.start(1000); // Collect data every second\r\n            mediaRecorderRef.current = mediaRecorder;\r\n            setIsRecording(true);\r\n            setRecordingDuration(0);\r\n\r\n            // Start duration counter\r\n            recordingIntervalRef.current = setInterval(() => {\r\n                setRecordingDuration(prev => prev + 1);\r\n            }, 1000);\r\n\r\n        } catch (error) {\r\n            console.error('[Recording] Start error:', error);\r\n            toast.error('Kayt balatlamad: ' + error.message);\r\n        }\r\n    }, [isInVoice, isRecording, localAudioStream, remoteStreams, currentRoom]);\r\n\r\n    //  YEN: Stop Recording\r\n    const stopRecording = useCallback(() => {\r\n        if (!isRecording) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorderRef.current && mediaRecorderRef.current.state !== 'inactive') {\r\n            mediaRecorderRef.current.stop();\r\n        }\r\n\r\n        if (recordingIntervalRef.current) {\r\n            clearInterval(recordingIntervalRef.current);\r\n            recordingIntervalRef.current = null;\r\n        }\r\n\r\n        mediaRecorderRef.current = null;\r\n        setIsRecording(false);\r\n        setRecordingDuration(0);\r\n    }, [isRecording]);\r\n\r\n    //  YEN: Download Recording Manually\r\n    const downloadRecording = useCallback(() => {\r\n        if (recordingChunksRef.current.length === 0) {\r\n            toast.warning('Henz kayt yok!');\r\n            return;\r\n        }\r\n\r\n        const blob = new Blob(recordingChunksRef.current, { type: 'audio/webm' });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `pawscord-voice-${currentRoom || 'recording'}-${Date.now()}.webm`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        document.body.removeChild(a);\r\n        URL.revokeObjectURL(url);\r\n    }, [currentRoom]);\r\n\r\n    return {\r\n        isRecording,\r\n        recordingDuration,\r\n        startRecording,\r\n        stopRecording,\r\n        downloadRecording,\r\n    };\r\n}\r\n","import { useState, useCallback, useRef } from 'react';\r\n\r\nexport function useStatsMonitoring() {\r\n    const [connectionStats, setConnectionStats] = useState({});\r\n    const statsIntervalRef = useRef(null);\r\n\r\n    //  WEBRTC STATS MONITORING\r\n    const startStatsMonitoring = useCallback((peerConnectionsRef) => {\r\n        if (statsIntervalRef.current) return;\r\n\r\n        statsIntervalRef.current = setInterval(async () => {\r\n            const stats = {};\r\n\r\n            for (const [username, pc] of Object.entries(peerConnectionsRef.current)) {\r\n                try {\r\n                    const report = await pc.getStats();\r\n                    let audioStats = null;\r\n                    let videoStats = null;\r\n\r\n                    report.forEach((stat) => {\r\n                        if (stat.type === 'inbound-rtp' && stat.kind === 'audio') {\r\n                            audioStats = {\r\n                                packetsReceived: stat.packetsReceived,\r\n                                packetsLost: stat.packetsLost,\r\n                                jitter: stat.jitter,\r\n                                bytesReceived: stat.bytesReceived\r\n                            };\r\n                        }\r\n                        if (stat.type === 'inbound-rtp' && stat.kind === 'video') {\r\n                            videoStats = {\r\n                                packetsReceived: stat.packetsReceived,\r\n                                packetsLost: stat.packetsLost,\r\n                                framesDecoded: stat.framesDecoded,\r\n                                frameWidth: stat.frameWidth,\r\n                                frameHeight: stat.frameHeight\r\n                            };\r\n                        }\r\n                        if (stat.type === 'candidate-pair' && stat.state === 'succeeded') {\r\n                            stats[username] = {\r\n                                ...stats[username],\r\n                                rtt: stat.currentRoundTripTime * 1000,\r\n                                connectionType: stat.localCandidateId?.includes('relay') ? 'TURN' : 'STUN/Direct'\r\n                            };\r\n                        }\r\n                    });\r\n\r\n                    stats[username] = {\r\n                        ...stats[username],\r\n                        audio: audioStats,\r\n                        video: videoStats,\r\n                        connectionState: pc.connectionState,\r\n                        iceConnectionState: pc.iceConnectionState\r\n                    };\r\n                } catch (e) {\r\n                    console.warn(`[Stats] Failed to get stats for ${username}:`, e);\r\n                }\r\n            }\r\n\r\n            setConnectionStats(stats);\r\n        }, 2000); // Every 2 seconds\r\n\r\n    }, []);\r\n\r\n    const stopStatsMonitoring = useCallback(() => {\r\n        if (statsIntervalRef.current) {\r\n            clearInterval(statsIntervalRef.current);\r\n            statsIntervalRef.current = null;\r\n            setConnectionStats({});\r\n        }\r\n    }, []);\r\n\r\n    return {\r\n        connectionStats,\r\n        startStatsMonitoring,\r\n        stopStatsMonitoring,\r\n    };\r\n}\r\n","import { useState, useCallback, useRef, useEffect } from 'react';\r\n\r\nexport function useAudioVisualizer({ isVisualizerEnabled, localAudioStream, remoteStreams, isInVoice, globalAudioContextRef }) {\r\n    const [audioVisualizerData, setAudioVisualizerData] = useState({\r\n        local: new Uint8Array(128),\r\n        remote: {}\r\n    });\r\n    const visualizerIntervalRef = useRef(null);\r\n    const visualizerAnalyserRef = useRef(null);\r\n\r\n    //  YEN: Start Audio Visualizer\r\n    const startVisualizer = useCallback(() => {\r\n        if (!isVisualizerEnabled || !localAudioStream) return;\r\n        if (visualizerIntervalRef.current) return; // Already running\r\n\r\n        try {\r\n            if (!globalAudioContextRef.current) {\r\n                globalAudioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\r\n            }\r\n            const audioContext = globalAudioContextRef.current;\r\n\r\n            // Local audio analyser\r\n            const localAnalyser = audioContext.createAnalyser();\r\n            localAnalyser.fftSize = 256;\r\n            const localSource = audioContext.createMediaStreamSource(localAudioStream);\r\n            localSource.connect(localAnalyser);\r\n            visualizerAnalyserRef.current = { local: localAnalyser, localSource, remote: {} };\r\n\r\n            // Remote audio analysers\r\n            Object.entries(remoteStreams).forEach(([key, stream]) => {\r\n                if (!key.includes('_camera') && !key.includes('_screen')) {\r\n                    const remoteAnalyser = audioContext.createAnalyser();\r\n                    remoteAnalyser.fftSize = 256;\r\n                    const remoteSource = audioContext.createMediaStreamSource(stream);\r\n                    remoteSource.connect(remoteAnalyser);\r\n                    visualizerAnalyserRef.current.remote[key] = { analyser: remoteAnalyser, source: remoteSource };\r\n                }\r\n            });\r\n\r\n            // Update interval (60fps = 16.67ms)\r\n            visualizerIntervalRef.current = setInterval(() => {\r\n                const localData = new Uint8Array(128);\r\n                visualizerAnalyserRef.current.local.getByteFrequencyData(localData);\r\n\r\n                const remoteData = {};\r\n                Object.entries(visualizerAnalyserRef.current.remote).forEach(([key, { analyser }]) => {\r\n                    const data = new Uint8Array(128);\r\n                    analyser.getByteFrequencyData(data);\r\n                    remoteData[key] = data;\r\n                });\r\n\r\n                setAudioVisualizerData({ local: localData, remote: remoteData });\r\n            }, 33); // ~30fps for performance\r\n\r\n        } catch (err) {\r\n            console.error('[Visualizer] Failed to start:', err);\r\n        }\r\n    }, [isVisualizerEnabled, localAudioStream, remoteStreams, globalAudioContextRef]);\r\n\r\n    //  YEN: Stop Audio Visualizer\r\n    const stopVisualizer = useCallback(() => {\r\n        if (visualizerIntervalRef.current) {\r\n            clearInterval(visualizerIntervalRef.current);\r\n            visualizerIntervalRef.current = null;\r\n        }\r\n        if (visualizerAnalyserRef.current) {\r\n            try {\r\n                visualizerAnalyserRef.current.localSource?.disconnect();\r\n                Object.values(visualizerAnalyserRef.current.remote).forEach(({ source }) => {\r\n                    source?.disconnect();\r\n                });\r\n            } catch (_) { /* AudioNode cleanup - safe to ignore */ }\r\n            visualizerAnalyserRef.current = null;\r\n        }\r\n        setAudioVisualizerData({ local: new Uint8Array(128), remote: {} });\r\n    }, []);\r\n\r\n    //  Auto-start/stop visualizer based on voice state\r\n    useEffect(() => {\r\n        if (isInVoice && isVisualizerEnabled) {\r\n            startVisualizer();\r\n        } else {\r\n            stopVisualizer();\r\n        }\r\n        return () => stopVisualizer();\r\n    }, [isInVoice, isVisualizerEnabled, startVisualizer, stopVisualizer]);\r\n\r\n    return {\r\n        audioVisualizerData,\r\n        startVisualizer,\r\n        stopVisualizer,\r\n    };\r\n}\r\n","import { createContext, useContext, useRef, useState, useEffect, useCallback } from 'react';\r\nimport { useAuth } from './AuthContext';\r\nimport logger from './utils/logger';\r\nimport toast from './utils/toast';\r\nimport { spatialAudio } from './SpatialAudioEngine';\r\nimport { API_URL_BASE_STRING, WS_PROTOCOL, API_HOST, isElectron } from './utils/constants';\r\nimport { authFetch } from './utils/authFetch';\r\nimport { DEFAULT_ICE_SERVERS, RTC_CONFIGURATION, setRtcIceServers } from './VoiceContext/constants';\r\nimport { applyProfessionalAudioFilters } from './VoiceContext/audioProcessing';\r\nimport { createVoiceEffect } from './VoiceContext/voiceEffects';\r\nimport { useVoiceSettings } from './VoiceContext/useVoiceSettings';\r\nimport { useRecording } from './VoiceContext/useRecording';\r\nimport { useStatsMonitoring } from './VoiceContext/useStatsMonitoring';\r\nimport { useAudioVisualizer } from './VoiceContext/useAudioVisualizer';\r\n\r\nconst VoiceContext = createContext(null);\r\n\r\n\r\nexport const VoiceProvider = ({ children }) => {\r\n    const { user, token } = useAuth();\r\n    const username = user?.username;\r\n\r\n    // State'ler\r\n    const [isInVoice, setIsInVoice] = useState(false);\r\n    const [isConnecting, setIsConnecting] = useState(false);\r\n    const [currentRoom, setCurrentRoom] = useState(null);\r\n    const [isMuted, setIsMuted] = useState(false);\r\n    const [isDeafened, setIsDeafened] = useState(false);\r\n    const [isVideoEnabled, setIsVideoEnabled] = useState(false);\r\n    const [isScreenSharing, setIsScreenSharing] = useState(false);\r\n    const [isTalking, setIsTalking] = useState(false);\r\n\r\n    //  Voice Effects State\r\n    const [activeVoiceEffect, setActiveVoiceEffect] = useState(null);\r\n    const [voiceEffectIntensity, setVoiceEffectIntensity] = useState(50);\r\n\r\n    // Medya Aklar\r\n    const [localAudioStream, setLocalAudioStream] = useState(null);\r\n    const [localCameraStream, setLocalCameraStream] = useState(null);\r\n    const [localScreenStream, setLocalScreenStream] = useState(null);\r\n    const [remoteStreams, setRemoteStreams] = useState({});\r\n    const [connectedUsers, setConnectedUsers] = useState([]); //  Bal kullanclar\r\n    const [lastReaction, setLastReaction] = useState(null);\r\n    const [cinemaState, setCinemaState] = useState({\r\n        isActive: false,\r\n        url: 'https://www.youtube.com/watch?v=jfKfPfyJRdk',\r\n        playing: false,\r\n        time: 0,\r\n        lastSyncAction: null,\r\n        timestamp: 0\r\n    });\r\n    const [gameState, setGameState] = useState({\r\n        gameType: 'rps',\r\n        moves: {},\r\n        result: null,\r\n        players: [],\r\n        currentTurn: null\r\n    });\r\n\r\n    // Voice Panel UI State (used by App.js)\r\n    const [useNewVoicePanel] = useState(true);\r\n    const [showVoiceIsland, setShowVoiceIsland] = useState(false);\r\n    const [isVoicePanelMinimized, setIsVoicePanelMinimized] = useState(false);\r\n    const [focusedStream, setFocusedStream] = useState(null);\r\n    const [islandState, setIslandState] = useState('collapsed');\r\n\r\n    // Voice Settings (localStorage-backed state)\r\n    const {\r\n        noiseGateThreshold, isNoiseGateEnabled,\r\n        isVisualizerEnabled,\r\n        remoteVolumes, setRemoteVolumes, mutedUsers, setMutedUsers,\r\n        isSpatialAudioEnabled, setIsSpatialAudioEnabled,\r\n        vadSensitivity, isNoiseSuppressionEnabled, setIsNoiseSuppressionEnabled,\r\n        noiseSuppressionLevel, screenShareQuality, screenShareFPS,\r\n        includeSystemAudio, isPTTMode, setIsPTTMode,\r\n        pttKey, isPTTActive, setIsPTTActive,\r\n        setRemoteVolume,\r\n        updateVadSensitivity, updateNoiseSuppressionLevel,\r\n        updateScreenQuality, updateScreenFPS, toggleSystemAudio,\r\n        toggleNoiseGate, updateNoiseGateThreshold, toggleVisualizer,\r\n        updatePTTKey,\r\n    } = useVoiceSettings();\r\n\r\n    //  TURN / ICE sunucularn backend'den ek ve gncelle\r\n    const [iceServers, setIceServers] = useState(DEFAULT_ICE_SERVERS);\r\n    const [isReconnecting, setIsReconnecting] = useState(false);\r\n\r\n    //  YEN: WebSocket Auto-Reconnect State\r\n    const [wsReconnectAttempt, setWsReconnectAttempt] = useState(0);\r\n    const [wsReconnectDelay, setWsReconnectDelay] = useState(1000); // Balang 1 saniye\r\n    const wsReconnectTimeoutRef = useRef(null);\r\n    const wsHealthCheckIntervalRef = useRef(null);\r\n    const lastRoomRef = useRef(null); // Son balanlan oda\r\n\r\n    const refreshIceServers = useCallback(async () => {\r\n        // Skip if no token (not authenticated)\r\n        if (!token) {\r\n            setIceServers(DEFAULT_ICE_SERVERS);\r\n            setRtcIceServers(DEFAULT_ICE_SERVERS);\r\n            return;\r\n        }\r\n\r\n        //  TURN SERVER ENABLED - Production-ready\r\n        // TURN server backend'den credentials alr (coturn HMAC-SHA1 ile)\r\n        // Fallback olarak STUN-only kullanlr\r\n\r\n        try {\r\n            //  authFetch kullanarak otomatik token refresh\r\n            const res = await authFetch(`${API_URL_BASE_STRING}/api/voice/turn-credentials/`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n\r\n            if (!res.ok) {\r\n                // 401 = token expired, 403 = permission denied\r\n                if (res.status === 401 || res.status === 403) {\r\n                    console.warn(' [RTC] Auth failed, using STUN only');\r\n                } else {\r\n                    console.warn(` [RTC] TURN fetch failed (${res.status}), using STUN only`);\r\n                }\r\n                throw new Error(`TURN fetch failed ${res.status}`);\r\n            }\r\n\r\n            const data = await res.json();\r\n            const newServers = [...DEFAULT_ICE_SERVERS, ...(data?.iceServers || [])];\r\n            setIceServers(newServers);\r\n            setRtcIceServers(newServers);\r\n        } catch (err) {\r\n            // Fallback to STUN-only (always works)\r\n            console.warn(' [RTC] Using STUN-only mode:', err.message);\r\n            setIceServers(DEFAULT_ICE_SERVERS);\r\n            setRtcIceServers(DEFAULT_ICE_SERVERS);\r\n        }\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        refreshIceServers();\r\n    }, [refreshIceServers]);\r\n\r\n    // Ref'ler\r\n    const voiceWsRef = useRef(null);\r\n    const peerConnectionsRef = useRef({});\r\n    const audioContextRef = useRef(null);\r\n    const globalAudioContextRef = useRef(null); //  PERFORMANS: Global AudioContext (RAM optimization)\r\n    const localStreamRef = useRef(null);\r\n    const localCameraStreamRef = useRef(null); //  Camera stream ref\r\n    const localScreenStreamRef = useRef(null); //  Screen stream ref\r\n    const isLeavingRef = useRef(false); //  Prevent recursive leave calls\r\n    const isSwitchingRef = useRef(false); //  Prevent infinite switch loop\r\n    const joinVoiceRoomRef = useRef(null); //  Ref for joinVoiceRoom (used in handleSignalMessage before definition)\r\n    const micHealthIntervalRef = useRef(null); //  Mic watchdog\r\n\r\n    //  Voice Effect Refs\r\n    const voiceEffectNodesRef = useRef(null);\r\n    const processedStreamRef = useRef(null);\r\n\r\n    //  Recording Hook\r\n    const {\r\n        isRecording, recordingDuration,\r\n        startRecording, stopRecording, downloadRecording,\r\n    } = useRecording({ isInVoice, localAudioStream, remoteStreams, currentRoom });\r\n\r\n    //  Stats Monitoring Hook\r\n    const { connectionStats, startStatsMonitoring, stopStatsMonitoring } = useStatsMonitoring();\r\n\r\n    //  Audio Visualizer Hook\r\n    const { audioVisualizerData, startVisualizer, stopVisualizer } = useAudioVisualizer({\r\n        isVisualizerEnabled, localAudioStream, remoteStreams, isInVoice, globalAudioContextRef\r\n    });\r\n\r\n    useEffect(() => {\r\n        localStreamRef.current = localAudioStream;\r\n    }, [localAudioStream]);\r\n\r\n    //  Sync camera stream to ref\r\n    useEffect(() => {\r\n        localCameraStreamRef.current = localCameraStream;\r\n    }, [localCameraStream]);\r\n\r\n    //  Sync screen stream to ref\r\n    useEffect(() => {\r\n        localScreenStreamRef.current = localScreenStream;\r\n    }, [localScreenStream]);\r\n\r\n    //  VOICE ACTIVITY DETECTION (VAD) - yiletirilmi\r\n    useEffect(() => {\r\n        if (!localAudioStream || !isInVoice || isMuted) {\r\n            setIsTalking(false);\r\n            return;\r\n        }\r\n\r\n        //  PERFORMANS: Global AudioContext kullan (RAM optimizasyonu)\r\n        if (!globalAudioContextRef.current) {\r\n            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n            globalAudioContextRef.current = new AudioContext();\r\n        }\r\n\r\n        const audioContext = globalAudioContextRef.current;\r\n        const analyser = audioContext.createAnalyser();\r\n        analyser.fftSize = 2048;  //  Hassas analiz\r\n        analyser.smoothingTimeConstant = 0.85;  //  YLETRME: 0.8'den 0.85'e - daha stabil\r\n        const bufferLength = analyser.frequencyBinCount;\r\n        const dataArray = new Uint8Array(bufferLength);\r\n\r\n        const source = audioContext.createMediaStreamSource(localAudioStream);\r\n        source.connect(analyser);\r\n\r\n        let talkingTimeout = null;\r\n        const THRESHOLD = vadSensitivity;\r\n        const TALKING_DELAY = 150;\r\n\r\n        //  OPTIMIZATION: setInterval (25ms = 40Hz)  requestAnimationFrame yerine\r\n        // Background tab'larda RAF 1Hz'e dyor ve VAD almyor, setInterval tutarl.\r\n        const vadIntervalId = setInterval(() => {\r\n            analyser.getByteFrequencyData(dataArray);\r\n\r\n            // Konuma frekanslar (300Hz - 3kHz)\r\n            const speechRange = dataArray.slice(10, 100);\r\n            const average = speechRange.reduce((a, b) => a + b, 0) / speechRange.length;\r\n\r\n            if (average > THRESHOLD) {\r\n                setIsTalking(true);\r\n                if (talkingTimeout) clearTimeout(talkingTimeout);\r\n                talkingTimeout = setTimeout(() => setIsTalking(false), TALKING_DELAY);\r\n            }\r\n        }, 25); // 40Hz  yeterince hzl, CPU-friendly\r\n\r\n        return () => {\r\n            clearInterval(vadIntervalId);\r\n            if (talkingTimeout) clearTimeout(talkingTimeout);\r\n            source.disconnect();\r\n        };\r\n    }, [localAudioStream, isInVoice, isMuted, vadSensitivity]); //  YEN: vadSensitivity dependency\r\n\r\n    const initializeAudio = useCallback(() => {\r\n        if (!audioContextRef.current) {\r\n            const AudioContext = window.AudioContext || window.webkitAudioContext;\r\n            audioContextRef.current = new AudioContext();\r\n        }\r\n        if (audioContextRef.current.state === 'suspended') {\r\n            audioContextRef.current.resume();\r\n        }\r\n    }, []);\r\n\r\n    //  YEN: Spatial Audio Toggle\r\n    const toggleSpatialAudio = useCallback(async () => {\r\n        const newState = !isSpatialAudioEnabled;\r\n\r\n        if (newState) {\r\n            // Spatial audio'yu a\r\n            try {\r\n                await spatialAudio.initialize();\r\n\r\n                // Mevcut kullanclar spatial audio'ya ekle\r\n                Object.keys(remoteStreams).forEach((streamKey, index) => {\r\n                    const stream = remoteStreams[streamKey];\r\n                    const username = streamKey.replace('_camera', '').replace('_screen', '');\r\n\r\n                    // Sadece audio stream'leri ekle (kamera/ekran deil)\r\n                    if (!streamKey.includes('_camera') && !streamKey.includes('_screen')) {\r\n                        // Dairesel dizilim ile pozisyon ver\r\n                        const angle = (index / Object.keys(remoteStreams).length) * 2 * Math.PI;\r\n                        const position = {\r\n                            x: Math.cos(angle) * 3,\r\n                            y: 0,\r\n                            z: Math.sin(angle) * 3\r\n                        };\r\n\r\n                        spatialAudio.addUser(username, stream, position);\r\n                    }\r\n                });\r\n\r\n            } catch (err) {\r\n                console.error('Failed to enable spatial audio:', err);\r\n                toast.warning('Spatial Audio balatlamad. Taraycnz desteklemiyor olabilir.');\r\n                return;\r\n            }\r\n        } else {\r\n            // Spatial audio'yu kapat\r\n            spatialAudio.destroy();\r\n        }\r\n\r\n        setIsSpatialAudioEnabled(newState);\r\n        localStorage.setItem('pawscord_spatial_audio', newState.toString());\r\n    }, [isSpatialAudioEnabled, remoteStreams]);\r\n\r\n    //  YEN: Noise Suppression Toggle (fallback ile)\r\n    //  GELM GRLT ENGELLEMES - Noise Gate ile birlikte\r\n    const toggleNoiseSuppression = useCallback(async () => {\r\n        const newState = !isNoiseSuppressionEnabled;\r\n        setIsNoiseSuppressionEnabled(newState);\r\n        localStorage.setItem('pawscord_noise_suppression', newState.toString());\r\n\r\n        // Mevcut audio track'e uygula\r\n        if (localAudioStream) {\r\n            const audioTrack = localAudioStream.getAudioTracks()[0];\r\n            if (audioTrack && audioTrack.applyConstraints) {\r\n                try {\r\n                    await audioTrack.applyConstraints({\r\n                        noiseSuppression: newState,\r\n                        echoCancellation: true,\r\n                        autoGainControl: true\r\n                    });\r\n                } catch (err) {\r\n                    console.warn('[Noise] Failed to apply, trying fallback getUserMedia:', err);\r\n                    try {\r\n                        const fresh = await navigator.mediaDevices.getUserMedia({\r\n                            audio: {\r\n                                noiseSuppression: newState,\r\n                                echoCancellation: true,\r\n                                autoGainControl: true,\r\n                                //  GELM SES AYARLARI\r\n                                googHighpassFilter: true,\r\n                                googNoiseSuppression: newState,\r\n                                googNoiseSuppression2: newState,\r\n                                googEchoCancellation: true,\r\n                                googAutoGainControl: true,\r\n                                googTypingNoiseDetection: true, // Klavye sesi engelleme\r\n                                sampleRate: { ideal: 48000 },\r\n                                latency: { ideal: 0.01 }, // Daha dk latency\r\n                                channelCount: { ideal: 1 } // Mono = daha iyi grlt engelleme\r\n                            }\r\n                        });\r\n                        const track = fresh.getAudioTracks()[0];\r\n                        const newStream = new MediaStream([track]);\r\n                        setLocalAudioStream(newStream);\r\n                        localStreamRef.current = newStream;\r\n                    } catch (e2) {\r\n                        console.error('[Noise] Fallback failed:', e2);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }, [isNoiseSuppressionEnabled, localAudioStream]);\r\n\r\n    //  YEN: PTT Mode Toggle\r\n    const togglePTTMode = useCallback(() => {\r\n        const newMode = !isPTTMode;\r\n        setIsPTTMode(newMode);\r\n        localStorage.setItem('pawscord_ptt_mode', newMode.toString());\r\n\r\n        if (newMode) {\r\n            // PTT mode'da mikrofon balangta kapal\r\n            if (localStreamRef.current) {\r\n                localStreamRef.current.getAudioTracks().forEach(track => {\r\n                    track.enabled = false;\r\n                });\r\n            }\r\n            setIsMuted(true);\r\n        } else {\r\n            // Normal mode'a dnnce mikrofonu a\r\n            if (localStreamRef.current) {\r\n                localStreamRef.current.getAudioTracks().forEach(track => {\r\n                    track.enabled = true;\r\n                });\r\n            }\r\n            setIsMuted(false);\r\n        }\r\n    }, [isPTTMode]);\r\n\r\n    //  YEN: PTT Keyboard Listener\r\n    useEffect(() => {\r\n        if (!isPTTMode || !isInVoice) return;\r\n\r\n        const handleKeyDown = (e) => {\r\n            // Eer input/textarea iindeyse PTT'yi tetikleme\r\n            const target = e.target;\r\n            if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {\r\n                return;\r\n            }\r\n\r\n            if (e.code === pttKey && !e.repeat) {\r\n                setIsPTTActive(true);\r\n                // Mikrofonu a\r\n                if (localStreamRef.current) {\r\n                    localStreamRef.current.getAudioTracks().forEach(track => {\r\n                        track.enabled = true;\r\n                    });\r\n                }\r\n            }\r\n        };\r\n\r\n        const handleKeyUp = (e) => {\r\n            if (e.code === pttKey) {\r\n                setIsPTTActive(false);\r\n                // Mikrofonu kapat\r\n                if (localStreamRef.current) {\r\n                    localStreamRef.current.getAudioTracks().forEach(track => {\r\n                        track.enabled = false;\r\n                    });\r\n                }\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        window.addEventListener('keyup', handleKeyUp);\r\n\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n            window.removeEventListener('keyup', handleKeyUp);\r\n        };\r\n    }, [isPTTMode, isInVoice, pttKey]);\r\n\r\n    //  YEN: Spatial audio state deiince remote stream'leri gncelle\r\n    useEffect(() => {\r\n        if (!isSpatialAudioEnabled) return;\r\n\r\n        // Yeni stream eklenince spatial audio'ya da ekle\r\n        Object.keys(remoteStreams).forEach((streamKey, index) => {\r\n            const stream = remoteStreams[streamKey];\r\n            const username = streamKey.replace('_camera', '').replace('_screen', '');\r\n\r\n            // Sadece audio stream'leri\r\n            if (!streamKey.includes('_camera') && !streamKey.includes('_screen')) {\r\n                // Eer zaten eklenmemise ekle\r\n                if (!spatialAudio.spatialNodes[username]) {\r\n                    const angle = (index / Object.keys(remoteStreams).length) * 2 * Math.PI;\r\n                    const position = {\r\n                        x: Math.cos(angle) * 3,\r\n                        y: 0,\r\n                        z: Math.sin(angle) * 3\r\n                    };\r\n\r\n                    spatialAudio.addUser(username, stream, position);\r\n                }\r\n            }\r\n        });\r\n    }, [remoteStreams, isSpatialAudioEnabled]);\r\n\r\n    const sendSignal = useCallback((signal) => {\r\n        if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n            logger.signal(`Sending ${signal.type} to ${signal.receiver_username || 'BROADCAST'}`);\r\n            voiceWsRef.current.send(JSON.stringify({ ...signal, sender_username: username }));\r\n        } else {\r\n            logger.warn(\"[Signal] WS not ready, cannot send:\", signal.type);\r\n        }\r\n    }, [username]);\r\n\r\n    //  YEN: Bandwidth Adaptasyonu - Ping'e gre video kalitesi ayarla\r\n    const adjustBandwidth = useCallback((peerConnection, quality) => {\r\n        try {\r\n            const senders = peerConnection.getSenders();\r\n            const videoSender = senders.find(sender => sender.track?.kind === 'video');\r\n\r\n            if (!videoSender) {\r\n                return;\r\n            }\r\n\r\n            const parameters = videoSender.getParameters();\r\n            if (!parameters.encodings || parameters.encodings.length === 0) {\r\n                parameters.encodings = [{}];\r\n            }\r\n\r\n            // Kalite ayarlar\r\n            const qualitySettings = {\r\n                low: { maxBitrate: 300000, maxFramerate: 15 },      // 300kbps, 15fps (Mobil)\r\n                medium: { maxBitrate: 800000, maxFramerate: 24 },   // 800kbps, 24fps\r\n                high: { maxBitrate: 2500000, maxFramerate: 30 }     // 2.5Mbps, 30fps (Desktop)\r\n            };\r\n\r\n            const settings = qualitySettings[quality] || qualitySettings.medium;\r\n\r\n            parameters.encodings[0].maxBitrate = settings.maxBitrate;\r\n            parameters.encodings[0].maxFramerate = settings.maxFramerate;\r\n\r\n            videoSender.setParameters(parameters)\r\n                .then(() => {\r\n                })\r\n                .catch(err => {\r\n                    console.warn('[Bandwidth] Failed to set parameters:', err);\r\n                });\r\n        } catch (err) {\r\n            console.warn('[Bandwidth] Error adjusting bandwidth:', err);\r\n        }\r\n    }, []);\r\n\r\n    const handleRemoteStream = useCallback((partnerUsername, event) => {\r\n        const { track } = event;\r\n        logger.webrtc(`Track Received from ${partnerUsername}:`, track.kind, track.id, 'label:', track.label, 'hint:', track.contentHint);\r\n\r\n        //  FIX: Kamera ve ekran paylamn ayr\r\n        // Not: contentHint WebRTC zerinden transfer edilmez, label'e bakmalyz\r\n        const trackLabel = (track.label || '').toLowerCase();\r\n        const isScreenTrack =\r\n            trackLabel.includes('screen') ||\r\n            trackLabel.includes('window') ||\r\n            trackLabel.includes('monitor') ||\r\n            trackLabel.includes('display') ||\r\n            trackLabel.includes('tab') ||\r\n            track.contentHint === 'detail'; // Lokal track iin geerli\r\n\r\n        const streamKey = track.kind === 'video' && isScreenTrack\r\n            ? `${partnerUsername}_screen`\r\n            : track.kind === 'video'\r\n                ? `${partnerUsername}_camera`\r\n                : partnerUsername; // Audio iin base key\r\n\r\n\r\n        setRemoteStreams(prev => {\r\n            const currentStream = prev[streamKey];\r\n\r\n            if (currentStream) {\r\n                // Ayn track ID'si varsa ekleme\r\n                if (!currentStream.getTracks().some(t => t.id === track.id)) {\r\n                    currentStream.addTrack(track);\r\n                    const refreshedStream = new MediaStream(currentStream.getTracks());\r\n                    return { ...prev, [streamKey]: refreshedStream };\r\n                }\r\n                return prev;\r\n            }\r\n\r\n            // Yeni stream olutur\r\n            const newStream = new MediaStream([track]);\r\n            return { ...prev, [streamKey]: newStream };\r\n        });\r\n\r\n        if (track.kind === 'audio') {\r\n            initializeAudio();\r\n\r\n            //  FIX: Tek ynl ses sorunu - Audio elementi olutur ve al\r\n            // Browser autoplay policy'si bazen remote audio'yu engelleyebilir\r\n            try {\r\n                const audioEl = document.createElement('audio');\r\n                audioEl.id = `remote-audio-${partnerUsername}`;\r\n                audioEl.srcObject = new MediaStream([track]);\r\n                audioEl.autoplay = true;\r\n                audioEl.playsInline = true;\r\n\r\n                // Mevcut elementi kaldr (varsa)\r\n                const existingEl = document.getElementById(`remote-audio-${partnerUsername}`);\r\n                if (existingEl) existingEl.remove();\r\n\r\n                // DOM'a ekle (grnmez)\r\n                audioEl.style.display = 'none';\r\n                document.body.appendChild(audioEl);\r\n\r\n                // Play promise - autoplay engellenirse user gesture bekle\r\n                audioEl.play().then(() => {\r\n                }).catch(err => {\r\n                    console.warn(`[Audio] Autoplay blocked for ${partnerUsername}, waiting for interaction:`, err.message);\r\n                    // User gesture sonras tekrar dene\r\n                    const resumeAudio = () => {\r\n                        audioEl.play().catch(() => { });\r\n                        document.removeEventListener('click', resumeAudio);\r\n                    };\r\n                    document.addEventListener('click', resumeAudio, { once: true });\r\n                });\r\n\r\n            } catch (err) {\r\n                console.error(`[Audio] Failed to create audio element for ${partnerUsername}:`, err);\r\n            }\r\n        } else if (track.kind === 'video') {\r\n        }\r\n    }, [initializeAudio]);\r\n\r\n    //  FIX: Buffer ICE candidates until remote description is set\r\n    const iceCandidateBufferRef = useRef({}); // { [username]: ICECandidate[] }\r\n\r\n    const createPeerConnection = useCallback((partnerUsername, isInitiator = false) => {\r\n        if (peerConnectionsRef.current[partnerUsername]) {\r\n            logger.warn(`PC already exists for ${partnerUsername}`);\r\n            return peerConnectionsRef.current[partnerUsername];\r\n        }\r\n\r\n        logger.webrtc(`Creating PC for ${partnerUsername} (Initiator: ${isInitiator})`);\r\n\r\n        const pc = new RTCPeerConnection(RTC_CONFIGURATION);\r\n        peerConnectionsRef.current[partnerUsername] = pc;\r\n\r\n        //  YEN: Codec Preferences - Opus iin optimizasyon\r\n        try {\r\n            const transceivers = pc.getTransceivers();\r\n            transceivers.forEach(transceiver => {\r\n                if (transceiver.sender && transceiver.sender.track?.kind === 'audio') {\r\n                    const codecs = RTCRtpSender.getCapabilities('audio')?.codecs || [];\r\n                    // Opus codec'i ncelikli yap\r\n                    const opusCodecs = codecs.filter(c => c.mimeType.toLowerCase().includes('opus'));\r\n                    const otherCodecs = codecs.filter(c => !c.mimeType.toLowerCase().includes('opus'));\r\n                    const orderedCodecs = [...opusCodecs, ...otherCodecs];\r\n                    if (transceiver.setCodecPreferences && orderedCodecs.length > 0) {\r\n                        transceiver.setCodecPreferences(orderedCodecs);\r\n                    }\r\n                }\r\n            });\r\n        } catch (e) {\r\n            console.warn('[Codec] setCodecPreferences not supported:', e.message);\r\n        }\r\n\r\n        //  YEN: Global window'a expose et (connection quality monitoring iin)\r\n        if (typeof window !== 'undefined') {\r\n            window.__pawscord_peer_connections__ = peerConnectionsRef.current;\r\n        }\r\n\r\n        pc.onicecandidate = (event) => {\r\n            if (event.candidate) {\r\n                logger.signal(`Sending candidate to ${partnerUsername}`);\r\n                sendSignal({\r\n                    type: 'candidate',\r\n                    candidate: event.candidate,\r\n                    receiver_username: partnerUsername\r\n                });\r\n            }\r\n        };\r\n\r\n        pc.ontrack = (event) => handleRemoteStream(partnerUsername, event);\r\n\r\n        //  FIX: Sadece audio stream'i otomatik ekle (mic)\r\n        // Camera/screen stream'leri user_joined event'inde eklenir\r\n        if (localStreamRef.current) {\r\n            localStreamRef.current.getTracks().forEach(track => {\r\n                logger.webrtc(`Adding local audio track to PC for ${partnerUsername}:`, track.kind);\r\n                pc.addTrack(track, localStreamRef.current);\r\n            });\r\n        } else {\r\n            logger.warn(`No local stream available when creating PC for ${partnerUsername}`);\r\n        }\r\n\r\n        pc.oniceconnectionstatechange = () => {\r\n\r\n            if (pc.iceConnectionState === 'failed') {\r\n                console.warn(`[WebRTC] ICE failed with ${partnerUsername}, attempting restart...`);\r\n                setIsReconnecting(true);\r\n                //  OPTIMIZATION: Cached TURN creds kullan (1-saat TTL), re-fetch yapma!\r\n                pc.restartIce();\r\n                setTimeout(() => setIsReconnecting(false), 3000);\r\n\r\n            } else if (pc.iceConnectionState === 'disconnected') {\r\n                console.warn(`[WebRTC] ICE disconnected from ${partnerUsername}, waiting for reconnection...`);\r\n                setIsReconnecting(true);\r\n\r\n                //  YLETRME: 15 saniye timeout (mobil kullanclar iin artrld)\r\n                setTimeout(() => {\r\n                    if (pc.iceConnectionState === 'disconnected' || pc.iceConnectionState === 'failed') {\r\n                        console.error(`[WebRTC] ICE reconnection timeout for ${partnerUsername}, cleaning up...`);\r\n                        setRemoteStreams(prev => {\r\n                            const newStreams = { ...prev };\r\n                            delete newStreams[partnerUsername];\r\n                            return newStreams;\r\n                        });\r\n                        if (peerConnectionsRef.current[partnerUsername]) {\r\n                            peerConnectionsRef.current[partnerUsername].close();\r\n                            delete peerConnectionsRef.current[partnerUsername];\r\n                        }\r\n                    }\r\n                    setIsReconnecting(false);\r\n                }, 15000); // 10000'den 15000'e artrld\r\n\r\n            } else if (pc.iceConnectionState === 'closed') {\r\n                setRemoteStreams(prev => {\r\n                    const newStreams = { ...prev };\r\n                    delete newStreams[partnerUsername];\r\n                    return newStreams;\r\n                });\r\n                if (peerConnectionsRef.current[partnerUsername]) {\r\n                    delete peerConnectionsRef.current[partnerUsername];\r\n                }\r\n                setIsReconnecting(false);\r\n            } else if (pc.iceConnectionState === 'connected') {\r\n                setIsReconnecting(false);\r\n\r\n                //  YEN: Bandwidth Adaptasyonu - Ping ve packet loss'a gre kalite ayarla\r\n                setTimeout(async () => {\r\n                    try {\r\n                        const stats = await pc.getStats();\r\n\r\n                        stats.forEach(report => {\r\n                            if (report.type === 'candidate-pair' && report.state === 'succeeded') {\r\n                                const rtt = report.currentRoundTripTime * 1000; // ms cinsine evir\r\n\r\n\r\n                                // Yksek ping (300ms+) veya ok yksek ping (500ms+)\r\n                                if (rtt > 500) {\r\n                                    console.warn(` [Bandwidth] High latency detected (${rtt.toFixed(0)}ms), reducing video quality to LOW`);\r\n                                    adjustBandwidth(pc, 'low');\r\n                                } else if (rtt > 300) {\r\n                                    console.warn(` [Bandwidth] Medium latency detected (${rtt.toFixed(0)}ms), reducing video quality to MEDIUM`);\r\n                                    adjustBandwidth(pc, 'medium');\r\n                                } else {\r\n                                    adjustBandwidth(pc, 'high');\r\n                                }\r\n                            }\r\n                        });\r\n                    } catch (err) {\r\n                        console.warn('[Bandwidth] Failed to get stats:', err);\r\n                    }\r\n                }, 2000); // 2 saniye sonra kontrol et (balant stabilize olsun)\r\n\r\n            } else if (pc.iceConnectionState === 'checking') {\r\n            }\r\n        };\r\n\r\n        return pc;\r\n    }, [sendSignal, handleRemoteStream]);\r\n\r\n    const handleSignalMessage = useCallback(async (data) => {\r\n        //  KICKED (Inactivity cleanup or mod action)\r\n        if (data.type === 'kicked') {\r\n            console.warn(' [Voice] Kicked from channel:', data.reason, data.message);\r\n\r\n            //  FIX: If moved to another channel, auto-rejoin instead of just leaving\r\n            if (data.reason === 'moved' && data.target_channel) {\r\n                toast.info(` ${data.message || 'Baka kanala tandnz'}`, 3000);\r\n                // Leave current channel first, then join the target channel\r\n                leaveVoiceRoom();\r\n                // Small delay to let cleanup finish before rejoining\r\n                const targetChannel = data.target_channel;\r\n                setTimeout(() => {\r\n                    if (joinVoiceRoomRef.current) {\r\n                        joinVoiceRoomRef.current(targetChannel);\r\n                    }\r\n                }, 800);\r\n            } else {\r\n                toast.warning(`Sesli Kanaldan karldnz\\n\\nNeden: ${data.message}`, 5000);\r\n                leaveVoiceRoom();\r\n            }\r\n            return;\r\n        }\r\n\r\n        //  VIDEO ENDED - Kar taraf kameray/ekran kapatt\r\n        if (data.type === 'video_ended') {\r\n            const senderUsername = data.from || data.username;\r\n            const streamType = data.streamType || 'camera';\r\n            const streamKey = `${senderUsername}_${streamType}`;\r\n\r\n\r\n            // Remote stream'i temizle (siyah ekran nleme)\r\n            setRemoteStreams(prev => {\r\n                const newStreams = { ...prev };\r\n                if (newStreams[streamKey]) {\r\n                    // Track'leri durdur\r\n                    newStreams[streamKey].getTracks().forEach(t => t.stop());\r\n                    delete newStreams[streamKey];\r\n                }\r\n                return newStreams;\r\n            });\r\n            return;\r\n        }\r\n\r\n        //  VOICE REACTION RECEIVED\r\n        if (data.type === 'voice_reaction') {\r\n            const senderUsername = data.from || data.username;\r\n            setLastReaction({\r\n                username: senderUsername,\r\n                emoji: data.emoji,\r\n                timestamp: Date.now()\r\n            });\r\n            // Auto-clear after 3 seconds\r\n            setTimeout(() => {\r\n                setLastReaction(prev => {\r\n                    if (prev && prev.timestamp === Date.now()) return null;\r\n                    return prev;\r\n                });\r\n            }, 3000);\r\n            return;\r\n        }\r\n\r\n        //  GAME SIGNAL RECEIVED\r\n        if (data.type === 'game_signal') {\r\n            const senderUsername = data.from || data.username;\r\n\r\n            setGameState(prev => {\r\n                const newState = { ...prev };\r\n\r\n                if (data.action === 'start') {\r\n                    newState.gameType = data.game_type;\r\n                    newState.players = [senderUsername, data.target].filter(Boolean);\r\n                    newState.moves = {};\r\n                    newState.result = null;\r\n                    newState.currentTurn = senderUsername;\r\n                } else if (data.action === 'move') {\r\n                    newState.moves = {\r\n                        ...prev.moves,\r\n                        [senderUsername]: data.move\r\n                    };\r\n\r\n                    // RPS: Check if both players moved\r\n                    if (data.game_type === 'rps' && Object.keys(newState.moves).length === 2) {\r\n                        const [p1, p2] = Object.keys(newState.moves);\r\n                        const m1 = newState.moves[p1];\r\n                        const m2 = newState.moves[p2];\r\n\r\n                        // RPS logic\r\n                        const winMap = { rock: 'scissors', scissors: 'paper', paper: 'rock' };\r\n                        if (m1 === m2) {\r\n                            newState.result = { winner: null, type: 'draw' };\r\n                        } else if (winMap[m1] === m2) {\r\n                            newState.result = { winner: p1, loser: p2 };\r\n                        } else {\r\n                            newState.result = { winner: p2, loser: p1 };\r\n                        }\r\n                    }\r\n                } else if (data.action === 'end') {\r\n                    newState.result = data.result || { type: 'cancelled' };\r\n                }\r\n\r\n                return newState;\r\n            });\r\n            return;\r\n        }\r\n\r\n        //  CINEMA SYNC RECEIVED\r\n        if (data.type === 'cinema_sync') {\r\n            const senderUsername = data.from || data.username;\r\n\r\n            setCinemaState(prev => ({\r\n                ...prev,\r\n                isActive: data.action !== 'stop',\r\n                url: data.url || prev.url,\r\n                playing: data.action === 'play',\r\n                time: data.time || prev.time,\r\n                lastSyncAction: data.action,\r\n                timestamp: Date.now(),\r\n                syncedBy: senderUsername\r\n            }));\r\n            return;\r\n        }\r\n\r\n        //  Mevcut kullanc listesini al\r\n        if (data.type === 'current_users') {\r\n\r\n            setConnectedUsers(prev => {\r\n                const backendUsers = data.users || [];\r\n\r\n                // Backend listesinde ben var mym kontrol et\r\n                const meInBackendList = backendUsers.some(u => u.username === username);\r\n\r\n                // Eer backend'de yoksa, mevcut listemdeki kendi bilgimi koru\r\n                const myInfo = prev.find(u => u.username === username);\r\n\r\n                // Backend listesini al, eer ben yoksa ekle\r\n                let finalList = [...backendUsers];\r\n                if (!meInBackendList && myInfo) {\r\n                    finalList = [myInfo, ...backendUsers];\r\n                } else if (!meInBackendList && username) {\r\n                    // Hi yoksa default bilgilerle ekle\r\n                    finalList = [{\r\n                        username: username,\r\n                        isMuted: isMuted,\r\n                        isCameraOn: isVideoEnabled,\r\n                        isScreenSharing: isScreenSharing,\r\n                        isTalking: isTalking\r\n                    }, ...backendUsers];\r\n                }\r\n\r\n                return finalList;\r\n            });\r\n            return;\r\n        }\r\n\r\n        //  FIX: Backend sends 'from' for WebRTC signals, 'username' for user_joined\r\n        const senderUsername = data.from || data.sender_username || data.username;\r\n        const { type, sdp, candidate } = data;\r\n\r\n        // DEBUG: Eer sender bulunamadysa, tm datay logla\r\n        if (!senderUsername) {\r\n            console.error('[Signal] No sender username found in message:', data);\r\n            return;\r\n        }\r\n\r\n        if (senderUsername === username) {\r\n            return;\r\n        }\r\n\r\n\r\n        let pc = peerConnectionsRef.current[senderUsername];\r\n\r\n        if (!pc) {\r\n            if (type === 'offer') {\r\n                pc = createPeerConnection(senderUsername, false);\r\n            } else if (type === 'user_joined') {\r\n                // Yeni biri katld, ben teklif yapmalym (Initiator)\r\n                logger.signal(`${senderUsername} joined, I will create offer`);\r\n\r\n                //  Kullancy listeye ekle\r\n                setConnectedUsers(prev => {\r\n                    if (prev.find(u => u.username === senderUsername)) return prev;\r\n                    return [...prev, {\r\n                        username: senderUsername,\r\n                        isMuted: false,\r\n                        isCameraOn: false,\r\n                        isScreenSharing: false\r\n                    }];\r\n                });\r\n\r\n                pc = createPeerConnection(senderUsername, true);\r\n\r\n                //  CRITICAL FIX: Mevcut stream'leri yeni kullancya ekle!\r\n\r\n                //  YEN: Audio stream'i ekle (sesli chat iin zorunlu!)\r\n                if (localStreamRef.current) {\r\n                    //  Track'lerin zaten eklenmi olup olmadn kontrol et\r\n                    const existingSenders = pc.getSenders();\r\n                    localStreamRef.current.getTracks().forEach(track => {\r\n                        const trackAlreadyAdded = existingSenders.some(sender => sender.track === track);\r\n                        if (!trackAlreadyAdded) {\r\n                            logger.webrtc(`Adding audio track to new peer ${senderUsername}:`, track.kind);\r\n                            pc.addTrack(track, localStreamRef.current);\r\n                        } else {\r\n                            logger.webrtc(` Audio track already added to ${senderUsername}, skipping`);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (localCameraStreamRef.current) {\r\n                    //  Track'lerin zaten eklenmi olup olmadn kontrol et\r\n                    const existingSenders = pc.getSenders();\r\n                    localCameraStreamRef.current.getTracks().forEach(track => {\r\n                        const trackAlreadyAdded = existingSenders.some(sender => sender.track === track);\r\n                        if (!trackAlreadyAdded) {\r\n                            logger.webrtc(`Adding camera track to new peer ${senderUsername}:`, track.kind);\r\n                            pc.addTrack(track, localCameraStreamRef.current);\r\n                        } else {\r\n                            logger.webrtc(` Camera track already added to ${senderUsername}, skipping`);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (localScreenStreamRef.current) {\r\n                    //  Track'lerin zaten eklenmi olup olmadn kontrol et\r\n                    const existingSenders = pc.getSenders();\r\n                    localScreenStreamRef.current.getTracks().forEach(track => {\r\n                        const trackAlreadyAdded = existingSenders.some(sender => sender.track === track);\r\n                        if (!trackAlreadyAdded) {\r\n                            logger.webrtc(`Adding screen track to new peer ${senderUsername}:`, track.kind);\r\n                            pc.addTrack(track, localScreenStreamRef.current);\r\n                        } else {\r\n                            logger.webrtc(` Screen track already added to ${senderUsername}, skipping`);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                try {\r\n                    const offer = await pc.createOffer();\r\n                    await pc.setLocalDescription(offer);\r\n                    sendSignal({\r\n                        type: 'offer',\r\n                        sdp: pc.localDescription,\r\n                        target: senderUsername\r\n                    });\r\n                    logger.signal(`Sent offer to ${senderUsername}`);\r\n                } catch (e) {\r\n                    logger.error(\"Offer creation failed\", e);\r\n                    console.error(` [user_joined] Failed to create/send offer to ${senderUsername}:`, e);\r\n                }\r\n                return;\r\n            } else if (type === 'user_left') {\r\n                // Kullanc ayrld, temizlik yap\r\n\r\n                //  Kullancy listeden kar\r\n                setConnectedUsers(prev => prev.filter(u => u.username !== senderUsername));\r\n\r\n                //  FIX: Audio elementi temizle\r\n                const audioEl = document.getElementById(`remote-audio-${senderUsername}`);\r\n                if (audioEl) {\r\n                    audioEl.pause();\r\n                    audioEl.srcObject = null;\r\n                    audioEl.remove();\r\n                }\r\n\r\n                setRemoteStreams(prev => {\r\n                    const newStreams = { ...prev };\r\n                    // Tm stream trlerini temizle\r\n                    delete newStreams[senderUsername];\r\n                    delete newStreams[`${senderUsername}_camera`];\r\n                    delete newStreams[`${senderUsername}_screen`];\r\n                    return newStreams;\r\n                });\r\n                if (peerConnectionsRef.current[senderUsername]) {\r\n                    peerConnectionsRef.current[senderUsername].close();\r\n                    delete peerConnectionsRef.current[senderUsername];\r\n                }\r\n                return;\r\n            } else if (type === 'stream_update') {\r\n                // Stream durumu deiti (kamera ald/kapand vb)\r\n\r\n                // Kullanc listesini gncelle\r\n                setConnectedUsers(prev => prev.map(u => {\r\n                    if (u.username === senderUsername) {\r\n                        return {\r\n                            ...u,\r\n                            isCameraOn: data.streamType === 'camera' ? data.enabled : u.isCameraOn,\r\n                            isScreenSharing: data.streamType === 'screen' ? data.enabled : u.isScreenSharing\r\n                        };\r\n                    }\r\n                    return u;\r\n                }));\r\n\r\n                //  CRITICAL FIX: Eer stream aktifse ve peer connection yoksa, olutur\r\n                if (data.enabled && !peerConnectionsRef.current[senderUsername]) {\r\n                    const newPC = createPeerConnection(senderUsername, true);\r\n\r\n                    //  Kendi stream'lerimi ekle (audio dahil!)\r\n                    if (localStreamRef.current) {\r\n                        localStreamRef.current.getTracks().forEach(track => {\r\n                            logger.webrtc(`Adding audio track to ${senderUsername}:`, track.kind);\r\n                            newPC.addTrack(track, localStreamRef.current);\r\n                        });\r\n                    }\r\n                    if (localCameraStreamRef.current) {\r\n                        localCameraStreamRef.current.getTracks().forEach(track => {\r\n                            logger.webrtc(`Adding camera track to ${senderUsername}:`, track.kind);\r\n                            newPC.addTrack(track, localCameraStreamRef.current);\r\n                        });\r\n                    }\r\n                    if (localScreenStreamRef.current) {\r\n                        localScreenStreamRef.current.getTracks().forEach(track => {\r\n                            logger.webrtc(`Adding screen track to ${senderUsername}:`, track.kind);\r\n                            newPC.addTrack(track, localScreenStreamRef.current);\r\n                        });\r\n                    }\r\n\r\n                    // Offer olutur\r\n                    try {\r\n                        const offer = await newPC.createOffer();\r\n                        await newPC.setLocalDescription(offer);\r\n                        sendSignal({\r\n                            type: 'offer',\r\n                            sdp: newPC.localDescription,\r\n                            target: senderUsername\r\n                        });\r\n                        logger.signal(`Sent offer to ${senderUsername} after stream_update`);\r\n                    } catch (e) {\r\n                        logger.error(`Failed to create offer for ${senderUsername}:`, e);\r\n                    }\r\n                }\r\n                return;\r\n            } else {\r\n                console.warn(`[Signal] Ignored ${type} from ${senderUsername} (No PC)`);\r\n                return;\r\n            }\r\n        }\r\n\r\n        try {\r\n            //  CRITICAL FIX: Check signalingState BEFORE processing answer/offer\r\n            if (type === 'offer') {\r\n                // Only accept offer if we're in 'stable' state\r\n                if (pc.signalingState !== 'stable') {\r\n                    console.warn(`[Signal] Ignoring offer from ${senderUsername}, already in state: ${pc.signalingState}`);\r\n                    return;\r\n                }\r\n\r\n                await pc.setRemoteDescription(new RTCSessionDescription(sdp));\r\n                const answer = await pc.createAnswer();\r\n                await pc.setLocalDescription(answer);\r\n                sendSignal({\r\n                    type: 'answer',\r\n                    sdp: pc.localDescription,\r\n                    target: senderUsername\r\n                });\r\n\r\n                //  FIX: Process buffered ICE candidates after remote description is set\r\n                if (iceCandidateBufferRef.current[senderUsername]) {\r\n                    for (const bufferedCandidate of iceCandidateBufferRef.current[senderUsername]) {\r\n                        try {\r\n                            await pc.addIceCandidate(bufferedCandidate);\r\n                        } catch (e) {\r\n                            console.warn(`[Signal] Failed to add buffered candidate:`, e);\r\n                        }\r\n                    }\r\n                    delete iceCandidateBufferRef.current[senderUsername];\r\n                }\r\n            } else if (type === 'answer') {\r\n                //  CRITICAL FIX: Only accept answer if we're in 'have-local-offer' state\r\n                if (pc.signalingState !== 'have-local-offer') {\r\n                    console.warn(`[WebRTC] Error handling answer from ${senderUsername}: InvalidStateError: Failed to execute 'setRemoteDescription' on 'RTCPeerConnection': Failed to set remote answer sdp: Called in wrong state: ${pc.signalingState}`);\r\n                    return;\r\n                }\r\n\r\n                await pc.setRemoteDescription(new RTCSessionDescription(sdp));\r\n\r\n                //  FIX: Process buffered ICE candidates after remote description is set\r\n                if (iceCandidateBufferRef.current[senderUsername]) {\r\n                    for (const bufferedCandidate of iceCandidateBufferRef.current[senderUsername]) {\r\n                        try {\r\n                            await pc.addIceCandidate(bufferedCandidate);\r\n                        } catch (e) {\r\n                            console.warn(`[Signal] Failed to add buffered candidate:`, e);\r\n                        }\r\n                    }\r\n                    delete iceCandidateBufferRef.current[senderUsername];\r\n                }\r\n            } else if (type === 'candidate') {\r\n                if (pc.remoteDescription) {\r\n                    await pc.addIceCandidate(new RTCIceCandidate(candidate));\r\n                } else {\r\n                    //  FIX: Buffer candidate until remote description is set\r\n                    if (!iceCandidateBufferRef.current[senderUsername]) {\r\n                        iceCandidateBufferRef.current[senderUsername] = [];\r\n                    }\r\n                    iceCandidateBufferRef.current[senderUsername].push(new RTCIceCandidate(candidate));\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(`[WebRTC] Error handling ${type} from ${senderUsername}:`, e);\r\n        }\r\n    }, [username, createPeerConnection, sendSignal]);\r\n\r\n    // --- SESL SOHBETTEN AYRILMA ---\r\n    const leaveVoiceRoom = useCallback(() => {\r\n        //  FIX: Prevent recursive calls\r\n        if (isLeavingRef.current) {\r\n            return;\r\n        }\r\n        isLeavingRef.current = true;\r\n\r\n        //  CRITICAL: Send leave signal BEFORE closing WebSocket\r\n        if (voiceWsRef.current && voiceWsRef.current.readyState === WebSocket.OPEN) {\r\n            try {\r\n                voiceWsRef.current.send(JSON.stringify({\r\n                    type: 'user_leaving',\r\n                    sender_username: username\r\n                }));\r\n            } catch (e) {\r\n                console.warn(\"[Voice] Failed to send leave signal:\", e);\r\n            }\r\n        }\r\n\r\n        // 1. Streamleri Durdur\r\n        if (localStreamRef.current) {\r\n            localStreamRef.current.getTracks().forEach(track => {\r\n                track.stop();\r\n            });\r\n            setLocalAudioStream(null);\r\n            localStreamRef.current = null;\r\n        }\r\n\r\n        // 1.1 Kamera stream'ini durdur\r\n        if (localCameraStream) {\r\n            localCameraStream.getTracks().forEach(track => {\r\n                track.stop();\r\n            });\r\n            setLocalCameraStream(null);\r\n            setIsVideoEnabled(false);\r\n        }\r\n\r\n        // 1.2 Ekran paylam stream'ini durdur\r\n        if (localScreenStream) {\r\n            localScreenStream.getTracks().forEach(track => {\r\n                track.stop();\r\n            });\r\n            setLocalScreenStream(null);\r\n            setIsScreenSharing(false);\r\n        }\r\n\r\n        // 2. Peer Connectionlar Kapat\r\n        Object.entries(peerConnectionsRef.current).forEach(([user, pc]) => {\r\n            pc.close();\r\n        });\r\n        peerConnectionsRef.current = {};\r\n        setRemoteStreams({});\r\n\r\n        //  FIX: Clear ICE candidate buffer\r\n        iceCandidateBufferRef.current = {};\r\n\r\n        // 3. WebSocket Kapat (onclose tetiklenmeden)\r\n        if (voiceWsRef.current) {\r\n            voiceWsRef.current.onclose = null; // Remove handler to prevent recursive call\r\n            voiceWsRef.current.close();\r\n            voiceWsRef.current = null;\r\n        }\r\n\r\n        setIsInVoice(false);\r\n        setCurrentRoom(null);\r\n        setIsConnecting(false);\r\n        setIsMuted(false);\r\n        setIsDeafened(false);\r\n\r\n        //  YEN: Recording cleanup\r\n        stopRecording();\r\n\r\n        //  Watchdog temizlii\r\n        if (micHealthIntervalRef.current) {\r\n            clearInterval(micHealthIntervalRef.current);\r\n            micHealthIntervalRef.current = null;\r\n        }\r\n\r\n        //  YEN: WebSocket reconnect timeout temizlii\r\n        if (wsReconnectTimeoutRef.current) {\r\n            clearTimeout(wsReconnectTimeoutRef.current);\r\n            wsReconnectTimeoutRef.current = null;\r\n        }\r\n\r\n        //  YEN: WebSocket health check temizlii\r\n        if (wsHealthCheckIntervalRef.current) {\r\n            clearInterval(wsHealthCheckIntervalRef.current);\r\n            wsHealthCheckIntervalRef.current = null;\r\n        }\r\n\r\n        //  YEN: Reconnect state reset\r\n        setWsReconnectAttempt(0);\r\n        setWsReconnectDelay(1000);\r\n        setIsReconnecting(false);\r\n\r\n        // Reset flag after a short delay\r\n        setTimeout(() => {\r\n            isLeavingRef.current = false;\r\n        }, 100);\r\n    }, [username, localCameraStream, localScreenStream, stopRecording]);\r\n\r\n    // --- SESL SOHBETE KATILMA ---\r\n    const joinVoiceRoom = useCallback(async (roomSlug) => {\r\n        //  Eer zaten bir kanalda ise ve farkl bir kanala gemek isteniyorsa\r\n        if (isInVoice && currentRoom && currentRoom !== roomSlug && !isSwitchingRef.current) {\r\n\r\n            //  Switching flag set et (sonsuz dng nleme)\r\n            isSwitchingRef.current = true;\r\n\r\n            //  OPTIMIZATION: Fire-and-forget WS close  bekleme yok!\r\n            if (voiceWsRef.current) {\r\n                const ws = voiceWsRef.current;\r\n                // Leave sinyali gnder (dier kullanclar annda haberdar olsun)\r\n                try {\r\n                    ws.send(JSON.stringify({ type: 'user_leaving', sender_username: username }));\r\n                } catch (e) { /* WS zaten kapal olabilir */ }\r\n                ws.onclose = null; // Reconnect tetiklemesin\r\n                ws.onerror = null;\r\n                ws.onmessage = null;\r\n                ws.close(1000, 'Switching channel');\r\n                voiceWsRef.current = null;\r\n            }\r\n\r\n            // Peer connections' hemen kapat (sfr bekleme)\r\n            Object.values(peerConnectionsRef.current).forEach((pc) => pc.close());\r\n            peerConnectionsRef.current = {};\r\n            setRemoteStreams({});\r\n            iceCandidateBufferRef.current = {};\r\n\r\n            //  OPTIMIZATION: Mic stream'i KORUYORUZ  yeniden getUserMedia ars yok!\r\n            // localStreamRef.current hl canl, yeni kanala tanacak\r\n\r\n            isSwitchingRef.current = false; // Reset flag\r\n\r\n            // imdi yeni kanala katlmay devam ettir (aadaki normal flow)\r\n        }\r\n\r\n        //  Eer ayn kanalda isek, tekrar katlma\r\n        if (isInVoice && currentRoom === roomSlug) {\r\n            return;\r\n        }\r\n\r\n        // Switching srasnda skip\r\n        if (isSwitchingRef.current) {\r\n            return;\r\n        }\r\n\r\n        setIsConnecting(true);\r\n        setCurrentRoom(roomSlug);\r\n\r\n        try {\r\n            //  TURN bilgisi zaten statede; ikinci kez fetch etme\r\n            if (iceServers && iceServers.length > 0) {\r\n                setRtcIceServers(iceServers);\r\n            }\r\n\r\n            //  OPTIMIZATION: Mevcut mic stream varsa yeniden getUserMedia arma!\r\n            let processedStream;\r\n            const existingTrack = localStreamRef.current?.getAudioTracks()?.[0];\r\n            if (existingTrack && existingTrack.readyState === 'live') {\r\n                //  Channel switch  mevcut mic stream'i kullan (0ms!)\r\n                processedStream = localStreamRef.current;\r\n            } else {\r\n                const stream = await navigator.mediaDevices.getUserMedia({\r\n                    audio: {\r\n                        //  Echo Cancellation (Yank nleme) - AIK\r\n                        echoCancellation: true,\r\n                        //  Noise Suppression (Grlt Engelleme) - HER ZAMAN AIK\r\n                        noiseSuppression: true,\r\n                        //  Auto Gain Control - AIK (ses seviyesi dengelemesi)\r\n                        autoGainControl: true,\r\n                        //  CIZIRTIYI NLE: Sample rate ve buffer ayarlar\r\n                        sampleRate: { ideal: 48000 },  // WebRTC standart (exact yerine ideal)\r\n                        sampleSize: { ideal: 16 },     // 16-bit audio\r\n                        channelCount: { ideal: 1 },    // Mono (stereo czrt yapabilir)\r\n                        //  Chrome-specific AGRESIF grlt engelleme\r\n                        googEchoCancellation: true,\r\n                        googAutoGainControl: true,\r\n                        googNoiseSuppression: true,    //  HER ZAMAN AIK\r\n                        googHighpassFilter: true,      //  Dk frekans czrtlar engeller\r\n                        googTypingNoiseDetection: true, // Klavye sesi engeller\r\n                        googAudioMirroring: false,     //  Ses yansmasn engelle\r\n                        //  CIZIRTIYI NLE: Latency ayar\r\n                        latency: { ideal: 0.02 }       // 20ms (10ms ok dk - czrt yapabilir)\r\n                    },\r\n                    video: false\r\n                });\r\n\r\n                processedStream = stream;\r\n                if (isNoiseSuppressionEnabled) {\r\n                    try {\r\n                        processedStream = applyProfessionalAudioFilters(stream, globalAudioContextRef);\r\n                    } catch (filterError) {\r\n                        console.warn(' [Voice] Professional filters failed:', filterError);\r\n                        processedStream = stream;\r\n                    }\r\n                }\r\n            } // end else (new mic acquisition)\r\n\r\n            setLocalAudioStream(processedStream);\r\n            localStreamRef.current = processedStream;\r\n\r\n            //  Muted ise track'i kapat, switch sonras mute durumunu koru\r\n            processedStream.getAudioTracks().forEach(track => {\r\n                track.enabled = !isMuted;\r\n            });\r\n\r\n            initializeAudio();\r\n            //  Mic watchdog balat\r\n            if (!micHealthIntervalRef.current) {\r\n                micHealthIntervalRef.current = setInterval(async () => {\r\n                    const current = localStreamRef.current;\r\n                    const track = current?.getAudioTracks()?.[0];\r\n                    if (!isInVoice || isLeavingRef.current) return;\r\n\r\n                    // AudioContext suspend olmusa uyandr\r\n                    if (audioContextRef.current?.state === 'suspended') {\r\n                        await audioContextRef.current.resume().catch(() => { });\r\n                    }\r\n\r\n                    // Track yok, bitmi ya da beklenmedik ekilde disabled ise yeniden al\r\n                    if (!track || track.readyState === 'ended' || (!track.enabled && !isMuted && !isPTTMode)) {\r\n                        try {\r\n                            //  AGRESF grlt engelleme ile yeni stream al\r\n                            const fresh = await navigator.mediaDevices.getUserMedia({\r\n                                audio: {\r\n                                    echoCancellation: true,\r\n                                    noiseSuppression: true,  //  HER ZAMAN AIK\r\n                                    autoGainControl: true,\r\n                                    googEchoCancellation: true,\r\n                                    googNoiseSuppression: true,  //  HER ZAMAN AIK\r\n                                    googHighpassFilter: true,\r\n                                    googTypingNoiseDetection: true,\r\n                                    sampleRate: 48000,\r\n                                    channelCount: 1\r\n                                },\r\n                                video: false\r\n                            });\r\n\r\n                            //  Direkt stream kullan - profesyonel filtreler ses kesebiliyor\r\n                            setLocalAudioStream(fresh);\r\n                            localStreamRef.current = fresh;\r\n\r\n                            // Mevcut peer sender'larna track replace et\r\n                            const newTrack = fresh.getAudioTracks()[0];\r\n                            Object.values(peerConnectionsRef.current).forEach((pc) => {\r\n                                pc.getSenders()\r\n                                    .filter((s) => s.track?.kind === 'audio')\r\n                                    .forEach((sender) => sender.replaceTrack(newTrack).catch(() => { }));\r\n                            });\r\n\r\n                        } catch (err) {\r\n                            console.warn('[Mic Watchdog] Mic refresh failed:', err);\r\n                        }\r\n                    }\r\n                }, 8000);\r\n            }\r\n\r\n            // 2. WebSocket Balants\r\n            const wsUrl = `${WS_PROTOCOL}://${API_HOST}/ws/voice/${roomSlug}/?token=${token}`;\r\n            const ws = new WebSocket(wsUrl);\r\n            voiceWsRef.current = ws;\r\n\r\n            ws.onopen = () => {\r\n                setIsInVoice(true);\r\n                setIsConnecting(false);\r\n\r\n                //  YEN: Kendinizi HEMEN listeye ekleyin (Optimistic Update)\r\n                setConnectedUsers(prev => {\r\n                    const meInList = prev.some(u => u.username === username);\r\n                    if (meInList) return prev;\r\n\r\n                    return [{\r\n                        username: username,\r\n                        isMuted: isMuted,\r\n                        isCameraOn: isVideoEnabled,\r\n                        isScreenSharing: isScreenSharing,\r\n                        isTalking: false\r\n                    }, ...prev];\r\n                });\r\n            };\r\n\r\n            ws.onmessage = (event) => {\r\n                try {\r\n                    const data = JSON.parse(event.data);\r\n                    handleSignalMessage(data);\r\n                } catch (e) {\r\n                    console.error(\"[VoiceWS] Parse error:\", e);\r\n                }\r\n            };\r\n\r\n            ws.onerror = (error) => {\r\n                console.error(\" [VoiceWS] Error:\", error);\r\n                setIsConnecting(false);\r\n\r\n                //  YEN: Error durumunda da reconnect hazrl\r\n                if (!isLeavingRef.current && !isSwitchingRef.current) {\r\n                    console.warn(\"[VoiceWS] Error occurred, reconnect will be attempted on close\");\r\n                }\r\n            };\r\n\r\n            ws.onclose = (event) => {\r\n\r\n                //  GELIMI AUTO-RECONNECT SISTEMI\r\n\r\n                // 1 Bilinli k kontrol\r\n                if (isLeavingRef.current || isSwitchingRef.current) {\r\n                    setIsReconnecting(false);\r\n                    setWsReconnectAttempt(0);\r\n                    setWsReconnectDelay(1000);\r\n                    if (wsReconnectTimeoutRef.current) {\r\n                        clearTimeout(wsReconnectTimeoutRef.current);\r\n                        wsReconnectTimeoutRef.current = null;\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                // 2 Normal kapanma (code 1000) kontrol\r\n                if (event.code === 1000) {\r\n                    leaveVoiceRoom();\r\n                    return;\r\n                }\r\n\r\n                // 3 Beklenmedik kapanma - AUTO RECONNECT\r\n                if (roomSlug && isInVoice) {\r\n                    const maxRetries = 10; // Maksimum 10 deneme\r\n                    const currentAttempt = wsReconnectAttempt + 1;\r\n\r\n                    if (currentAttempt > maxRetries) {\r\n                        console.error(`[VoiceWS]  Max retry limit reached (${maxRetries}), giving up`);\r\n                        toast.error(`Sesli sohbet balants ${maxRetries} denemeden sonra kurulamad. Ltfen sayfay yenileyin.`, 5000);\r\n                        leaveVoiceRoom();\r\n                        setWsReconnectAttempt(0);\r\n                        setWsReconnectDelay(1000);\r\n                        return;\r\n                    }\r\n\r\n                    // Exponential backoff: 1s, 2s, 4s, 8s, 16s, max 30s\r\n                    const delay = Math.min(wsReconnectDelay, 30000);\r\n\r\n                    console.warn(`[VoiceWS]  Unexpected disconnect (code: ${event.code})`);\r\n\r\n                    setIsReconnecting(true);\r\n                    setWsReconnectAttempt(currentAttempt);\r\n\r\n                    // Clear any existing timeout\r\n                    if (wsReconnectTimeoutRef.current) {\r\n                        clearTimeout(wsReconnectTimeoutRef.current);\r\n                    }\r\n\r\n                    // Schedule reconnection\r\n                    wsReconnectTimeoutRef.current = setTimeout(() => {\r\n                        if (!isLeavingRef.current && !isSwitchingRef.current && roomSlug) {\r\n\r\n                            // Exponential backoff: Double the delay for next time\r\n                            setWsReconnectDelay(prev => Math.min(prev * 2, 30000));\r\n\r\n                            // Reconnect\r\n                            joinVoiceRoom(roomSlug).then(() => {\r\n                                // Baarl reconnection - Reset counters\r\n                                setWsReconnectAttempt(0);\r\n                                setWsReconnectDelay(1000);\r\n                                setIsReconnecting(false);\r\n                            }).catch(err => {\r\n                                console.error(\"[VoiceWS] Reconnection failed:\", err);\r\n                                // Baarsz - bir sonraki deneme zaten schedule edilecek\r\n                            });\r\n                        } else {\r\n                            setIsReconnecting(false);\r\n                            setWsReconnectAttempt(0);\r\n                            setWsReconnectDelay(1000);\r\n                        }\r\n                    }, delay);\r\n                } else {\r\n                    leaveVoiceRoom();\r\n                }\r\n            };\r\n\r\n        } catch (err) {\r\n            console.error(\"Voice Join Error:\", err);\r\n            setIsConnecting(false);\r\n            isSwitchingRef.current = false;\r\n\r\n            if (err.name === 'NotAllowedError') {\r\n                toast.warning(\"Mikrofon izni reddedildi. Ltfen tarayc ayarlarndan izin verin.\", 5000);\r\n            } else if (err.name === 'NotFoundError') {\r\n                toast.warning(\"Mikrofon bulunamad. Ltfen bir mikrofon balayn.\");\r\n            } else {\r\n                toast.error(\"Sesli sohbete balanlamad: \" + err.message);\r\n            }\r\n        }\r\n    }, [isInVoice, currentRoom, token, handleSignalMessage, initializeAudio, leaveVoiceRoom]);\r\n\r\n    //  Keep joinVoiceRoomRef in sync (for use in handleSignalMessage before definition)\r\n    useEffect(() => {\r\n        joinVoiceRoomRef.current = joinVoiceRoom;\r\n    }, [joinVoiceRoom]);\r\n\r\n    // --- TOGGLE FUNCTIONS ---\r\n    const toggleMute = useCallback(() => {\r\n        setIsMuted(prev => {\r\n            const newMuted = !prev;\r\n            if (localStreamRef.current) {\r\n                localStreamRef.current.getAudioTracks().forEach(track => {\r\n                    track.enabled = !newMuted;\r\n                });\r\n            }\r\n            if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n                voiceWsRef.current.send(JSON.stringify({\r\n                    type: 'mic_off_state',\r\n                    is_mic_off: newMuted\r\n                }));\r\n            }\r\n            return newMuted;\r\n        });\r\n    }, []);\r\n\r\n    const toggleDeafened = useCallback(() => {\r\n        setIsDeafened(prev => {\r\n            const newDeafened = !prev;\r\n            if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n                voiceWsRef.current.send(JSON.stringify({\r\n                    type: 'deaf_state',\r\n                    is_deafened: newDeafened\r\n                }));\r\n            }\r\n            return newDeafened;\r\n        });\r\n    }, []);\r\n\r\n    //  Lock ref - race condition nleme\r\n    const cameraToggleLockRef = useRef(false);\r\n\r\n    const toggleVideo = useCallback(async () => {\r\n        //  Race condition nleme - ilem devam ediyorsa bekle\r\n        if (cameraToggleLockRef.current) {\r\n            return;\r\n        }\r\n\r\n        cameraToggleLockRef.current = true;\r\n\r\n        try {\r\n            //  Ref'ten gncel deeri al (state gecikmesi sorunu zm)\r\n            const currentStream = localCameraStreamRef.current;\r\n\r\n            if (currentStream) {\r\n                //  Kameray KAPAT\r\n\r\n                // nce state'i gncelle - UI hemen yant versin\r\n                setIsVideoEnabled(false);\r\n                setLocalCameraStream(null);\r\n                localCameraStreamRef.current = null;\r\n\r\n                // Track'leri durdur\r\n                currentStream.getTracks().forEach(track => {\r\n                    track.stop();\r\n                });\r\n\r\n                //  Peer ilemlerini paralel yap - sral await UI' donduruyor\r\n                const renegotiationPromises = [];\r\n\r\n                for (const [username, pc] of Object.entries(peerConnectionsRef.current)) {\r\n                    const senders = pc.getSenders();\r\n                    let trackRemoved = false;\r\n\r\n                    for (const sender of senders) {\r\n                        //  FIX: Kamera track'ini bul (ekran olmayan video track)\r\n                        if (sender.track && sender.track.kind === 'video' &&\r\n                            sender.track.contentHint !== 'detail') {\r\n                            try {\r\n                                pc.removeTrack(sender);\r\n                                trackRemoved = true;\r\n                            } catch (e) {\r\n                                console.warn(`[Camera] Failed to remove track from ${username}:`, e);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // Renegotiation - promise olarak topla\r\n                    if (trackRemoved) {\r\n                        const renegPromise = (async () => {\r\n                            try {\r\n                                const offer = await pc.createOffer();\r\n                                await pc.setLocalDescription(offer);\r\n                                sendSignal({\r\n                                    type: 'offer',\r\n                                    sdp: pc.localDescription,\r\n                                    target: username\r\n                                });\r\n                            } catch (e) {\r\n                                console.warn(`[Camera] Renegotiation failed with ${username}:`, e);\r\n                            }\r\n                        })();\r\n                        renegotiationPromises.push(renegPromise);\r\n                    }\r\n                }\r\n\r\n                // WS zerinden bildir (bloklamadan)\r\n                if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n                    voiceWsRef.current.send(JSON.stringify({\r\n                        type: 'camera_state',\r\n                        is_camera_on: false\r\n                    }));\r\n                    //  FIX: Kar tarafa video_ended sinyali gnder (siyah ekran nleme)\r\n                    voiceWsRef.current.send(JSON.stringify({\r\n                        type: 'video_ended',\r\n                        streamType: 'camera'\r\n                    }));\r\n                }\r\n\r\n                // Renegotiation'lar arka planda tamamla\r\n                Promise.all(renegotiationPromises).catch(e =>\r\n                    console.warn('[Camera] Some renegotiations failed:', e)\r\n                );\r\n\r\n            } else {\r\n                //  Kameray A\r\n\r\n                const stream = await navigator.mediaDevices.getUserMedia({\r\n                    video: {\r\n                        width: { ideal: 1280 },\r\n                        height: { ideal: 720 },\r\n                        frameRate: { ideal: 30 }\r\n                    }\r\n                });\r\n\r\n                //  Lock hala aktif mi kontrol et (iptal edilmi olabilir)\r\n                if (!cameraToggleLockRef.current) {\r\n                    stream.getTracks().forEach(t => t.stop());\r\n                    return;\r\n                }\r\n\r\n\r\n                // State'leri gncelle\r\n                localCameraStreamRef.current = stream;\r\n                setLocalCameraStream(stream);\r\n                setIsVideoEnabled(true);\r\n\r\n                // Tm peer connection'lara video track'ini ekle\r\n                const videoTrack = stream.getVideoTracks()[0];\r\n\r\n                //  FIX: Track ended event - tarayc kameray kapattnda\r\n                videoTrack.onended = () => {\r\n                    setLocalCameraStream(null);\r\n                    localCameraStreamRef.current = null;\r\n                    setIsVideoEnabled(false);\r\n\r\n                    if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n                        voiceWsRef.current.send(JSON.stringify({\r\n                            type: 'video_ended',\r\n                            streamType: 'camera'\r\n                        }));\r\n                    }\r\n                };\r\n\r\n                // Kamera iin optimizasyon\r\n                try {\r\n                    videoTrack.contentHint = 'motion'; // Kamera iin optimize et\r\n                } catch (e) {\r\n                    console.warn('[Camera] contentHint not supported:', e);\r\n                }\r\n\r\n                //  Peer ilemlerini paralel yap\r\n                const addTrackPromises = [];\r\n\r\n                for (const [username, pc] of Object.entries(peerConnectionsRef.current)) {\r\n                    const addPromise = (async () => {\r\n                        try {\r\n                            pc.addTrack(videoTrack, stream);\r\n\r\n                            //  FIX: Renegotiation gerekli - yeni offer olutur\r\n                            const offer = await pc.createOffer();\r\n                            await pc.setLocalDescription(offer);\r\n\r\n                            sendSignal({\r\n                                type: 'offer',\r\n                                sdp: pc.localDescription,\r\n                                target: username\r\n                            });\r\n\r\n                        } catch (e) {\r\n                            console.warn(`[Camera] Failed to add/renegotiate with ${username}:`, e);\r\n                        }\r\n                    })();\r\n                    addTrackPromises.push(addPromise);\r\n                }\r\n\r\n                // WS zerinden bildir (bloklamadan)\r\n                if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n                    voiceWsRef.current.send(JSON.stringify({\r\n                        type: 'camera_state',\r\n                        is_camera_on: true\r\n                    }));\r\n                }\r\n\r\n                // Track ekleme ilemlerini arka planda tamamla\r\n                Promise.all(addTrackPromises).catch(e =>\r\n                    console.warn('[Camera] Some track additions failed:', e)\r\n                );\r\n            }\r\n        } catch (error) {\r\n            console.error('[Camera] Error:', error);\r\n            if (error.name === 'NotAllowedError') {\r\n                toast.warning('Kamera izni reddedildi. Ltfen tarayc ayarlarndan kamera iznini an.', 5000);\r\n            } else if (error.name === 'NotFoundError') {\r\n                toast.warning('Kamera bulunamad. Ltfen bir kamera balayn.');\r\n            } else {\r\n                toast.error('Kamera balatlamad: ' + error.message);\r\n            }\r\n            setIsVideoEnabled(false);\r\n            localCameraStreamRef.current = null;\r\n            setLocalCameraStream(null);\r\n        } finally {\r\n            //  Lock'u serbest brak - ksa gecikme ile (debounce etkisi)\r\n            setTimeout(() => {\r\n                cameraToggleLockRef.current = false;\r\n            }, 300);\r\n        }\r\n    }, [sendSignal]);\r\n\r\n    //  ALIAS: toggleCamera = toggleVideo\r\n    const toggleCamera = toggleVideo;\r\n\r\n    //  Screen share lock ref\r\n    const screenToggleLockRef = useRef(false);\r\n\r\n    const toggleScreenShare = useCallback(async () => {\r\n        //  Race condition nleme\r\n        if (screenToggleLockRef.current) {\r\n            return;\r\n        }\r\n\r\n        screenToggleLockRef.current = true;\r\n\r\n        try {\r\n            const currentStream = localScreenStreamRef.current;\r\n\r\n            if (currentStream) {\r\n                //  Ekran paylamn DURDUR\r\n\r\n                // nce state'i gncelle\r\n                setIsScreenSharing(false);\r\n                setLocalScreenStream(null);\r\n                localScreenStreamRef.current = null;\r\n\r\n                currentStream.getTracks().forEach(track => {\r\n                    track.stop();\r\n                });\r\n\r\n                //  Peer ilemlerini paralel yap\r\n                const renegotiationPromises = [];\r\n\r\n                for (const [username, pc] of Object.entries(peerConnectionsRef.current)) {\r\n                    const senders = pc.getSenders();\r\n                    let trackRemoved = false;\r\n\r\n                    for (const sender of senders) {\r\n                        //  FIX: Ekran track'ini bul (contentHint='detail')\r\n                        if (sender.track && sender.track.contentHint === 'detail') {\r\n                            try {\r\n                                pc.removeTrack(sender);\r\n                                trackRemoved = true;\r\n                            } catch (e) {\r\n                                console.warn(`[Screen] Failed to remove track from ${username}:`, e);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // Renegotiation - promise olarak topla\r\n                    if (trackRemoved) {\r\n                        const renegPromise = (async () => {\r\n                            try {\r\n                                const offer = await pc.createOffer();\r\n                                await pc.setLocalDescription(offer);\r\n                                sendSignal({\r\n                                    type: 'offer',\r\n                                    sdp: pc.localDescription,\r\n                                    target: username\r\n                                });\r\n                            } catch (e) {\r\n                                console.warn(`[Screen] Renegotiation failed with ${username}:`, e);\r\n                            }\r\n                        })();\r\n                        renegotiationPromises.push(renegPromise);\r\n                    }\r\n                }\r\n\r\n                // WS zerinden bildir (bloklamadan)\r\n                if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n                    voiceWsRef.current.send(JSON.stringify({\r\n                        type: 'screen_share_state',\r\n                        is_sharing: false\r\n                    }));\r\n                    //  FIX: Kar tarafa video_ended sinyali gnder\r\n                    voiceWsRef.current.send(JSON.stringify({\r\n                        type: 'video_ended',\r\n                        streamType: 'screen'\r\n                    }));\r\n                }\r\n\r\n                // Arka planda tamamla\r\n                Promise.all(renegotiationPromises).catch(e =>\r\n                    console.warn('[Screen] Some renegotiations failed:', e)\r\n                );\r\n\r\n            } else {\r\n                //  Ekran paylamn BALAT\r\n\r\n                //  YEN: Quality presets\r\n                const qualityPresets = {\r\n                    '720p': { width: 1280, height: 720 },\r\n                    '1080p': { width: 1920, height: 1080 },\r\n                    '4K': { width: 3840, height: 2160 }\r\n                };\r\n\r\n                const quality = qualityPresets[screenShareQuality] || qualityPresets['1080p'];\r\n\r\n\r\n                const stream = await navigator.mediaDevices.getDisplayMedia({\r\n                    video: {\r\n                        cursor: 'always',\r\n                        displaySurface: 'monitor',\r\n                        width: { ideal: quality.width },\r\n                        height: { ideal: quality.height },\r\n                        frameRate: { ideal: screenShareFPS }\r\n                    },\r\n                    audio: includeSystemAudio //  YEN: System audio toggle\r\n                });\r\n\r\n                //  Lock hala aktif mi kontrol et\r\n                if (!screenToggleLockRef.current) {\r\n                    stream.getTracks().forEach(t => t.stop());\r\n                    return;\r\n                }\r\n\r\n\r\n                // Kullanc \"Stop sharing\" butonuna basnca stream durduunda otomatik temizlik\r\n                stream.getVideoTracks()[0].onended = () => {\r\n                    setLocalScreenStream(null);\r\n                    localScreenStreamRef.current = null;\r\n                    setIsScreenSharing(false);\r\n\r\n                    if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n                        // Screen share state bildir\r\n                        voiceWsRef.current.send(JSON.stringify({\r\n                            type: 'screen_share_state',\r\n                            is_sharing: false\r\n                        }));\r\n                        //  FIX: video_ended sinyali de gnder\r\n                        voiceWsRef.current.send(JSON.stringify({\r\n                            type: 'video_ended',\r\n                            streamType: 'screen'\r\n                        }));\r\n                    }\r\n                };\r\n\r\n                localScreenStreamRef.current = stream;\r\n                setLocalScreenStream(stream);\r\n                setIsScreenSharing(true);\r\n\r\n                // Tm peer connection'lara ekran track'ini ekle VE renegotiation balat\r\n                const screenTrack = stream.getVideoTracks()[0];\r\n\r\n                //  Ekran paylam iin marker ve optimizasyon\r\n                try {\r\n                    screenTrack.contentHint = 'detail';\r\n                } catch (e) {\r\n                    console.warn('[Screen] contentHint not supported:', e);\r\n                }\r\n\r\n                //  Paralel peer ilemleri\r\n                const addTrackPromises = [];\r\n\r\n                for (const [username, pc] of Object.entries(peerConnectionsRef.current)) {\r\n                    const addPromise = (async () => {\r\n                        try {\r\n                            //  FIX: nce basit addTrack dene (daha gvenilir)\r\n                            pc.addTrack(screenTrack, stream);\r\n\r\n                            const offer = await pc.createOffer();\r\n                            await pc.setLocalDescription(offer);\r\n\r\n                            sendSignal({\r\n                                type: 'offer',\r\n                                sdp: pc.localDescription,\r\n                                target: username\r\n                            });\r\n\r\n                        } catch (e) {\r\n                            console.error(`[Screen] Failed to add track to ${username}:`, e.message);\r\n                        }\r\n                    })();\r\n                    addTrackPromises.push(addPromise);\r\n                }\r\n\r\n                // WS zerinden bildir\r\n                if (voiceWsRef.current?.readyState === WebSocket.OPEN) {\r\n                    voiceWsRef.current.send(JSON.stringify({\r\n                        type: 'screen_share_state',\r\n                        is_sharing: true\r\n                    }));\r\n                }\r\n\r\n                // Arka planda tamamla\r\n                Promise.all(addTrackPromises).catch(e =>\r\n                    console.warn('[Screen] Some track additions failed:', e)\r\n                );\r\n            }\r\n        } catch (error) {\r\n            console.error('[Screen] Error:', error);\r\n            if (error.name === 'NotAllowedError') {\r\n                // Kullanc iptal etti, sessizce geri dn\r\n            } else if (error.name === 'NotFoundError') {\r\n                toast.warning('Ekran paylam desteklenmiyor.');\r\n            } else {\r\n                toast.error('Ekran paylam balatlamad: ' + error.message);\r\n            }\r\n            setIsScreenSharing(false);\r\n            localScreenStreamRef.current = null;\r\n            setLocalScreenStream(null);\r\n        } finally {\r\n            //  Lock'u serbest brak\r\n            setTimeout(() => {\r\n                screenToggleLockRef.current = false;\r\n            }, 300);\r\n        }\r\n    }, [sendSignal, screenShareQuality, screenShareFPS, includeSystemAudio]);\r\n\r\n\r\n    //  VOICE EFFECTS IMPLEMENTATION\r\n    const applyVoiceEffect = useCallback(async (effectType, intensity = 50) => {\r\n        if (!localAudioStream || !isInVoice) {\r\n            console.warn('[VoiceEffect] No stream or not in voice');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Clear previous effect\r\n            if (voiceEffectNodesRef.current) {\r\n                voiceEffectNodesRef.current.forEach(node => {\r\n                    try { node.disconnect(); } catch (_) { /* AudioNode already disconnected */ }\r\n                });\r\n                voiceEffectNodesRef.current = null;\r\n            }\r\n\r\n            // If effectType is null, remove effect\r\n            if (!effectType) {\r\n                setActiveVoiceEffect(null);\r\n                return;\r\n            }\r\n\r\n            const audioContext = globalAudioContextRef.current || new AudioContext();\r\n            if (!globalAudioContextRef.current) globalAudioContextRef.current = audioContext;\r\n\r\n            const { nodes, outputStream } = createVoiceEffect(effectType, intensity, audioContext, localAudioStream);\r\n\r\n            voiceEffectNodesRef.current = nodes;\r\n            processedStreamRef.current = outputStream;\r\n            setActiveVoiceEffect(effectType);\r\n            setVoiceEffectIntensity(intensity);\r\n\r\n\r\n        } catch (error) {\r\n            console.error('[VoiceEffect] Error:', error);\r\n            toast.error('Ses efekti uygulanamad');\r\n        }\r\n    }, [localAudioStream, isInVoice]);\r\n\r\n    //  SEND REACTION\r\n    const sendReaction = useCallback((emoji) => {\r\n        if (!voiceWsRef.current || voiceWsRef.current.readyState !== WebSocket.OPEN) {\r\n            console.warn('[Reaction] WebSocket not connected');\r\n            return;\r\n        }\r\n\r\n        voiceWsRef.current.send(JSON.stringify({\r\n            type: 'voice_reaction',\r\n            emoji: emoji\r\n        }));\r\n\r\n    }, []);\r\n\r\n    //  SEND GAME SIGNAL\r\n    const sendGameSignal = useCallback((gameType, action, move = null, target = null) => {\r\n        if (!voiceWsRef.current || voiceWsRef.current.readyState !== WebSocket.OPEN) {\r\n            console.warn('[Game] WebSocket not connected');\r\n            return;\r\n        }\r\n\r\n        voiceWsRef.current.send(JSON.stringify({\r\n            type: 'game_signal',\r\n            game_type: gameType,\r\n            action: action,\r\n            move: move,\r\n            target: target\r\n        }));\r\n\r\n    }, []);\r\n\r\n    //  SEND CINEMA SYNC\r\n    const sendCinemaSync = useCallback((action, time = 0, url = null) => {\r\n        if (!voiceWsRef.current || voiceWsRef.current.readyState !== WebSocket.OPEN) {\r\n            console.warn('[Cinema] WebSocket not connected');\r\n            return;\r\n        }\r\n\r\n        voiceWsRef.current.send(JSON.stringify({\r\n            type: 'cinema_sync',\r\n            action: action,\r\n            time: time,\r\n            url: url\r\n        }));\r\n\r\n    }, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // Cleanup on unmount or leave\r\n    useEffect(() => {\r\n        return () => {\r\n            stopRecording();\r\n            if (micHealthIntervalRef.current) {\r\n                clearInterval(micHealthIntervalRef.current);\r\n                micHealthIntervalRef.current = null;\r\n            }\r\n            stopStatsMonitoring();\r\n        };\r\n    }, [stopRecording, stopStatsMonitoring]);\r\n\r\n    return (\r\n        <VoiceContext.Provider value={{\r\n            isInVoice,\r\n            isConnecting,\r\n            currentRoom,\r\n            isMuted,\r\n            isDeafened,\r\n            isVideoEnabled,\r\n            isScreenSharing,\r\n            isTalking,\r\n            isSpatialAudioEnabled,\r\n            vadSensitivity,\r\n            isNoiseSuppressionEnabled,\r\n            screenShareQuality,\r\n            screenShareFPS,\r\n            isRecording,\r\n            recordingDuration,\r\n            isPTTMode,\r\n            isPTTActive,\r\n            pttKey,\r\n            includeSystemAudio,\r\n            localStream: localAudioStream,\r\n            localAudioStream,\r\n            localCameraStream,\r\n            localScreenStream,\r\n            remoteStreams,\r\n            connectedUsers, // \r\n            remoteVolumes,\r\n            mutedUsers,\r\n            joinVoiceRoom,\r\n            leaveVoiceRoom,\r\n            joinChannel: joinVoiceRoom,\r\n            leaveChannel: leaveVoiceRoom,\r\n            setRemoteVolume,\r\n            setIsMuted,\r\n            setIsDeafened,\r\n            setIsVideoEnabled,\r\n            setIsScreenSharing,\r\n            toggleMute,\r\n            toggleDeafened,\r\n            toggleVideo,\r\n            toggleCamera, //  Alias\r\n            toggleScreenShare,\r\n            toggleSpatialAudio, //  YEN: Spatial audio toggle\r\n            updateVadSensitivity,\r\n            toggleNoiseSuppression,\r\n            updateScreenQuality,\r\n            updateScreenFPS,\r\n            toggleSystemAudio,\r\n            togglePTTMode,\r\n            updatePTTKey,\r\n            startRecording,\r\n            stopRecording,\r\n            downloadRecording, //  YEN: Manuel download\r\n            sendSignal,\r\n            isPttActive: isPTTActive,\r\n            //  Reaction System\r\n            sendReaction,\r\n            lastReaction,\r\n            //  Voice Effects\r\n            applyVoiceEffect,\r\n            activeVoiceEffect,\r\n            activeEffect: activeVoiceEffect, // Alias used by App.js\r\n            voiceEffectIntensity,\r\n            setVoiceEffectIntensity,\r\n            //  Cinema Mode\r\n            cinemaState,\r\n            setCinemaState,\r\n            sendCinemaSync,\r\n            //  Games\r\n            gameState,\r\n            setGameState,\r\n            sendGameSignal,\r\n            //  WebRTC Stats\r\n            connectionStats,\r\n            startStatsMonitoring,\r\n            stopStatsMonitoring,\r\n            //  Advanced Settings\r\n            noiseSuppressionLevel,\r\n            updateNoiseSuppressionLevel, //  Gelimi grlt engelleme seviyesi\r\n            iceServers,\r\n            isReconnecting,\r\n            adjustBandwidth,\r\n            //  YEN: Noise Gate\r\n            noiseGateThreshold,\r\n            isNoiseGateEnabled,\r\n            toggleNoiseGate,\r\n            updateNoiseGateThreshold,\r\n            //  YEN: Audio Visualizer\r\n            audioVisualizerData,\r\n            isVisualizerEnabled,\r\n            toggleVisualizer,\r\n            startVisualizer,\r\n            stopVisualizer,\r\n            //  Voice Panel UI\r\n            useNewVoicePanel,\r\n            showVoiceIsland, setShowVoiceIsland,\r\n            isVoicePanelMinimized, setIsVoicePanelMinimized,\r\n            focusedStream, setFocusedStream,\r\n            islandState, setIslandState,\r\n        }}>\r\n            {children}\r\n        </VoiceContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useVoice = () => useContext(VoiceContext);\r\n\r\n\r\n","// frontend/src/GlobalWebSocketContext.js\r\n//  PERF: This context NO LONGER opens its own WebSocket.\r\n// App.js statusWS is the SINGLE connection to /ws/status/.\r\n// App.js forwards messages here via setGlobalData so consumers still work.\r\n\r\nimport { createContext, useContext, useState, useCallback, useMemo } from 'react';\r\n\r\nconst GlobalWebSocketContext = createContext(null);\r\n\r\nexport const GlobalWebSocketProvider = ({ children }) => {\r\n    const [isConnected, setIsConnected] = useState(false);\r\n    const [globalData, setGlobalData] = useState(null);\r\n    const [unreadGlobal, setUnreadGlobal] = useState(0);\r\n\r\n    //  PERF: Signal Bot notification logic  called by App.js when forwarding WS messages\r\n    const handleGlobalData = useCallback((data) => {\r\n        setGlobalData(data);\r\n\r\n        // --- ZEL BLDRM MANTII ---\r\n        if (data.type === 'chat_message_handler' && data.username === ' Signal Bot') {\r\n            if (typeof Notification !== 'undefined' && Notification.permission === \"granted\" && document.hidden) {\r\n                new Notification(\" YEN KRPTO SNYAL!\", {\r\n                    body: `${data.content.split('\\n')[2]}`,\r\n                    icon: '/logo192.png'\r\n                });\r\n            }\r\n            setUnreadGlobal(prev => prev + 1);\r\n        }\r\n    }, []);\r\n\r\n    const contextValue = useMemo(() => ({\r\n        isConnected, setIsConnected,\r\n        globalData, setGlobalData: handleGlobalData,\r\n        unreadGlobal, setUnreadGlobal\r\n    }), [isConnected, globalData, unreadGlobal, handleGlobalData]);\r\n\r\n    return (\r\n        <GlobalWebSocketContext.Provider value={contextValue}>\r\n            {children}\r\n        </GlobalWebSocketContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useGlobalWebSocket = () => useContext(GlobalWebSocketContext);\r\n\r\n","// components/MaintenanceBanner.js\r\n//  Maintenance Mode Banner\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { FaTimes, FaTools } from 'react-icons/fa';\r\n\r\nconst MaintenanceBanner = ({ message, endTime, level = 'info', onDismiss }) => {\r\n    const [timeLeft, setTimeLeft] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (!endTime) return;\r\n\r\n        const updateTimer = () => {\r\n            const now = new Date();\r\n            const end = new Date(endTime);\r\n            const diff = end - now;\r\n\r\n            if (diff <= 0) {\r\n                setTimeLeft('Ending soon...');\r\n                // Auto-refresh when maintenance ends\r\n                setTimeout(() => window.location.reload(), 5000);\r\n                return;\r\n            }\r\n\r\n            const hours = Math.floor(diff / (1000 * 60 * 60));\r\n            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\r\n            setTimeLeft(`${hours}h ${minutes}m remaining`);\r\n        };\r\n\r\n        updateTimer();\r\n        const interval = setInterval(updateTimer, 60000); // Update every minute\r\n        return () => clearInterval(interval);\r\n    }, [endTime]);\r\n\r\n    const colors = {\r\n        info: { bg: 'rgba(88, 101, 242, 0.1)', border: '#5865f2', text: '#5865f2' },\r\n        warning: { bg: 'rgba(250, 166, 26, 0.1)', border: '#faa61a', text: '#faa61a' },\r\n        critical: { bg: 'rgba(240, 71, 71, 0.1)', border: '#f04747', text: '#f04747' }\r\n    };\r\n\r\n    const color = colors[level] || colors.info;\r\n\r\n    return (\r\n        <div style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            backgroundColor: color.bg,\r\n            borderBottom: `2px solid ${color.border}`,\r\n            padding: '12px 20px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            zIndex: 9999,\r\n            animation: 'slideDown 0.3s ease'\r\n        }}>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                <FaTools style={{ color: color.text, fontSize: '18px' }} />\r\n                <div>\r\n                    <div style={{ color: color.text, fontWeight: 'bold' }}>\r\n                        {level === 'critical' ? ' Critical Maintenance' :\r\n                         level === 'warning' ? ' Scheduled Maintenance' :\r\n                         ' Maintenance Notice'}\r\n                    </div>\r\n                    <div style={{ color: '#dcddde', fontSize: '14px', marginTop: '2px' }}>\r\n                        {message}\r\n                        {timeLeft && <span style={{ marginLeft: '10px', opacity: 0.7 }}>({timeLeft})</span>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {onDismiss && (\r\n                <button\r\n                    onClick={onDismiss}\r\n                    style={{\r\n                        background: 'none',\r\n                        border: 'none',\r\n                        color: '#b9bbbe',\r\n                        cursor: 'pointer',\r\n                        padding: '8px',\r\n                        borderRadius: '4px',\r\n                        transition: 'background 0.2s'\r\n                    }}\r\n                    onMouseEnter={(e) => e.target.style.background = 'rgba(255,255,255,0.1)'}\r\n                    onMouseLeave={(e) => e.target.style.background = 'none'}\r\n                >\r\n                    <FaTimes />\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MaintenanceBanner;\r\n\r\n\r\n\r\n","// frontend/src/components/LoadingSpinner.js\r\n\r\n/**\r\n *  Modern Loading Spinner Component\r\n * Discord/Pawscord tarz ykleme animasyonu\r\n */\r\nconst LoadingSpinner = ({ size = 'medium', text = 'Ykleniyor...', fullscreen = false }) => {\r\n    const sizes = {\r\n        small: { spinner: 24, text: '12px' },\r\n        medium: { spinner: 40, text: '14px' },\r\n        large: { spinner: 60, text: '16px' }\r\n    };\r\n\r\n    const config = sizes[size] || sizes.medium;\r\n\r\n    const containerStyle = fullscreen ? styles.fullscreenContainer : styles.inlineContainer;\r\n\r\n    return (\r\n        <div style={containerStyle}>\r\n            <div style={{ ...styles.spinnerWrapper, width: config.spinner, height: config.spinner }}>\r\n                {/* Outer ring */}\r\n                <div style={styles.spinnerOuter}></div>\r\n                {/* Inner ring */}\r\n                <div style={styles.spinnerInner}></div>\r\n            </div>\r\n            {text && (\r\n                <div style={{ ...styles.loadingText, fontSize: config.text }}>\r\n                    {text}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    fullscreenContainer: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: '#36393f',\r\n        zIndex: 9999,\r\n        gap: '16px'\r\n    },\r\n    inlineContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '12px',\r\n        padding: '20px',\r\n        minHeight: '100px'\r\n    },\r\n    spinnerWrapper: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    spinnerOuter: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        border: '3px solid rgba(88, 101, 242, 0.2)',\r\n        borderTop: '3px solid #5865f2',\r\n        borderRadius: '50%',\r\n        animation: 'spin 1s linear infinite'\r\n    },\r\n    spinnerInner: {\r\n        position: 'absolute',\r\n        width: '70%',\r\n        height: '70%',\r\n        border: '3px solid rgba(88, 101, 242, 0.1)',\r\n        borderBottom: '3px solid #7289da',\r\n        borderRadius: '50%',\r\n        animation: 'spin 0.7s linear infinite reverse'\r\n    },\r\n    loadingText: {\r\n        color: '#b5bac1',\r\n        fontWeight: 500,\r\n        textAlign: 'center',\r\n        animation: 'pulse 1.5s ease-in-out infinite'\r\n    }\r\n};\r\n\r\n// Inject animations\r\nif (typeof document !== 'undefined') {\r\n    const styleSheet = document.createElement(\"style\");\r\n    styleSheet.innerText = `\r\n        @keyframes spin {\r\n            0% { transform: rotate(0deg); }\r\n            100% { transform: rotate(360deg); }\r\n        }\r\n        \r\n        @keyframes pulse {\r\n            0%, 100% { opacity: 0.6; }\r\n            50% { opacity: 1; }\r\n        }\r\n    `;\r\n    if (!document.head.querySelector('[data-loading-spinner-styles]')) {\r\n        styleSheet.setAttribute('data-loading-spinner-styles', 'true');\r\n        document.head.appendChild(styleSheet);\r\n    }\r\n}\r\n\r\nexport default LoadingSpinner;\r\n\r\n\r\n","// frontend/src/utils/apiEndpoints.js\n\n/**\n *  API Endpoints Mapper\n * Centralized API endpoint definitions for consistency between frontend and backend\n */\n\n// Determine API base URL dynamically\nconst getApiBaseUrl = () => {\n    // 1. Environment variable (highest priority)\n    if (import.meta.env.VITE_API_URL) {\n        return import.meta.env.VITE_API_URL;\n    }\n\n    // 2. Capacitor (mobil) detection\n    const isCapacitor = window.Capacitor?.isNativePlatform?.() ||\n        window.location.protocol === 'capacitor:' ||\n        window.location.protocol === 'ionic:';\n\n    if (isCapacitor) {\n        return 'https://api.pawscord.com';\n    }\n\n    // 3. Production detection (Electron or pawscord.com)\n    const isElectron = window.navigator?.userAgent?.toLowerCase().includes('electron');\n    const isPawscordDomain = window.location.hostname.includes('pawscord.com');\n    const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\n\n    if (isElectron || isPawscordDomain) {\n        return 'https://api.pawscord.com';\n    }\n\n    // 4. Environment variable override\n    const envApiUrl = import.meta.env.VITE_API_BASE_URL;\n    if (envApiUrl) return envApiUrl.replace(/\\/api\\/?$/, '');\n\n    // 5. Development fallback\n    if (isLocalhost) {\n        return 'http://localhost:8888';\n    }\n\n    // 6. Default to production\n    return 'https://api.pawscord.com';\n};\n\nconst API_BASE = getApiBaseUrl();\n\n// Get media base URL (same domain, /media path)\nconst getMediaBaseUrl = () => {\n    const apiBase = getApiBaseUrl();\n    // Replace /api with /media\n    return apiBase.replace('/api', '/media');\n};\n\n// Export for use in other files\nexport const getApiBase = getApiBaseUrl;\nexport const getMediaBase = getMediaBaseUrl;\nexport { API_BASE };\n\n// API_BASE_URL includes /api suffix (for components that need it)\n// e.g., https://api.pawscord.com/api\nexport const API_BASE_URL = `${API_BASE}/api`;\n\nexport const ENDPOINTS = {\n    // ==========================================\n    //  AUTH\n    // ==========================================\n    AUTH: {\n        LOGIN: `${API_BASE}/auth/token/`,\n        REGISTER: `${API_BASE}/auth/register/`,\n        REFRESH: `${API_BASE}/auth/token/refresh/`,\n        LOGOUT: `${API_BASE}/auth/logout/`,\n        PASSWORD_RESET: `${API_BASE}/auth/password/reset/`,\n        PASSWORD_RESET_CONFIRM: `${API_BASE}/auth/password/reset/confirm/`,\n        GOOGLE: `${API_BASE}/auth/google/`,\n        VERIFY_EMAIL: `${API_BASE}/auth/verify-email/`,\n    },\n\n    // ==========================================\n    //  USER & PROFILE\n    // ==========================================\n    USER: {\n        PROFILE: (userId) => `${API_BASE}/profile/${userId}/`,\n        UPDATE_PROFILE: `${API_BASE}/users/update_profile/`,\n        EXTENDED_PROFILE: `${API_BASE}/profile/extended/`,\n        AVATAR_UPLOAD: `${API_BASE}/users/avatar/`,\n        BANNER_UPLOAD: `${API_BASE}/users/banner/`,\n        ONLINE_STATUS: `${API_BASE}/users/online-status/`,\n        PRESENCE: `${API_BASE}/presence/custom-status/`,\n    },\n\n    // ==========================================\n    //  SERVERS\n    // ==========================================\n    SERVERS: {\n        LIST: `${API_BASE}/servers/`,\n        CREATE: `${API_BASE}/servers/create/`,\n        DETAIL: (id) => `${API_BASE}/servers/${id}/`,\n        JOIN: (id) => `${API_BASE}/servers/${id}/join/`,\n        LEAVE: (id) => `${API_BASE}/servers/${id}/leave/`,\n        DISCOVER: `${API_BASE}/servers/discover/`,\n        MEMBERS: (id) => `${API_BASE}/servers/${id}/members/`,\n        SETTINGS: (id) => `${API_BASE}/servers/${id}/settings/`,\n        ROLES: (id) => `${API_BASE}/servers/${id}/roles/`,\n        INVITES: (id) => `${API_BASE}/servers/${id}/invites/`,\n    },\n\n    // ==========================================\n    //  ROOMS & MESSAGES\n    // ==========================================\n    ROOMS: {\n        LIST: (serverId) => `${API_BASE}/servers/${serverId}/rooms/`,\n        CREATE: (serverId) => `${API_BASE}/servers/${serverId}/rooms/create/`,\n        DETAIL: (roomId) => `${API_BASE}/rooms/${roomId}/`,\n        MESSAGES: (roomId) => `${API_BASE}/rooms/${roomId}/messages/`,\n    },\n\n    MESSAGES: {\n        SEND: (roomId) => `${API_BASE}/rooms/${roomId}/messages/send/`,\n        EDIT: (messageId) => `${API_BASE}/messages/${messageId}/edit/`,\n        DELETE: (messageId) => `${API_BASE}/messages/${messageId}/delete/`,\n        REACT: (messageId) => `${API_BASE}/messages/${messageId}/react/`,\n        PIN: (messageId) => `${API_BASE}/messages/${messageId}/pin/`,\n        UNPIN: (messageId) => `${API_BASE}/messages/${messageId}/unpin/`,\n        MARK_READ: (messageId) => `${API_BASE}/messages/${messageId}/mark_read/`,\n        READ_RECEIPTS: (messageId) => `${API_BASE}/messages/${messageId}/read_receipts/`,\n        TRANSLATE: `${API_BASE}/translate/message/`,\n        TRANSCRIBE: (messageId) => `${API_BASE}/messages/${messageId}/transcribe/`,\n    },\n\n    // ==========================================\n    //  PINNED MESSAGES\n    // ==========================================\n    PINNED: {\n        LIST: (roomId) => `${API_BASE}/rooms/${roomId}/pinned/`,\n        CATEGORIES: (roomId) => `${API_BASE}/rooms/${roomId}/pin-categories/`,\n    },\n\n    // ==========================================\n    //  POLLS\n    // ==========================================\n    POLLS: {\n        CREATE: `${API_BASE}/polls/create/`,\n        CREATE_IN_ROOM: (roomId) => `${API_BASE}/rooms/${roomId}/polls/create/`,\n        VOTE: (pollId) => `${API_BASE}/polls/${pollId}/vote/`,\n        RESULTS: (pollId) => `${API_BASE}/polls/${pollId}/results/`,\n        CLOSE: (pollId) => `${API_BASE}/polls/${pollId}/close/`,\n        LIST: `${API_BASE}/polls/`,\n        LIST_BY_ROOM: (roomId) => `${API_BASE}/rooms/${roomId}/polls/`,\n        DELETE: (pollId) => `${API_BASE}/polls/${pollId}/delete/`,\n    },\n\n    // ==========================================\n    //  USER NOTES\n    // ==========================================\n    USER_NOTES: {\n        GET: (username) => `${API_BASE}/user-notes/${username}/`,\n        SAVE: (username) => `${API_BASE}/user-notes/${username}/`,\n    },\n\n    // ==========================================\n    //  GIVEAWAY\n    // ==========================================\n    GIVEAWAY: {\n        LIST: (serverId) => `${API_BASE}/servers/${serverId}/giveaways/`,\n        CREATE: (serverId) => `${API_BASE}/servers/${serverId}/giveaways/create/`,\n        DETAIL: (giveawayId) => `${API_BASE}/giveaways/${giveawayId}/`,\n        ENTER: (giveawayId) => `${API_BASE}/giveaways/${giveawayId}/enter/`,\n        END: (giveawayId) => `${API_BASE}/giveaways/${giveawayId}/end/`,\n        REROLL: (giveawayId) => `${API_BASE}/giveaways/${giveawayId}/reroll/`,\n    },\n\n    // ==========================================\n    //  TICKETS\n    // ==========================================\n    TICKETS: {\n        LIST: `${API_BASE}/tickets/list/`,\n        CREATE: `${API_BASE}/tickets/create/`,\n        DETAIL: (ticketId) => `${API_BASE}/tickets/${ticketId}/`,\n        CLOSE: (ticketId) => `${API_BASE}/tickets/${ticketId}/close/`,\n        REPLY: (ticketId) => `${API_BASE}/tickets/${ticketId}/reply/`,\n        ASSIGN: (ticketId) => `${API_BASE}/tickets/${ticketId}/assign/`,\n        STATS: `${API_BASE}/tickets/stats/`,\n    },\n\n    // ==========================================\n    //  LEVELING\n    // ==========================================\n    LEVELING: {\n        PROFILE: (serverId) => `${API_BASE}/servers/${serverId}/leveling/profile/`,\n        LEADERBOARD: (serverId) => `${API_BASE}/servers/${serverId}/leveling/leaderboard/`,\n        SETTINGS: (serverId) => `${API_BASE}/servers/${serverId}/leveling/settings/`,\n        REWARDS: (serverId) => `${API_BASE}/servers/${serverId}/leveling/rewards/`,\n        ADD_XP: (serverId) => `${API_BASE}/servers/${serverId}/leveling/add-xp/`,\n    },\n\n    // ==========================================\n    //  BIRTHDAY\n    // ==========================================\n    BIRTHDAY: {\n        SET: `${API_BASE}/birthday/set/`,\n        GET: `${API_BASE}/birthday/get/`,\n        UPCOMING: (serverId) => `${API_BASE}/servers/${serverId}/birthdays/upcoming/`,\n        CONFIGURE: (serverId) => `${API_BASE}/servers/${serverId}/birthday/configure/`,\n        CELEBRATE: (serverId) => `${API_BASE}/servers/${serverId}/birthday/celebrate/`,\n    },\n\n    // ==========================================\n    //  AFK\n    // ==========================================\n    AFK: {\n        SET: `${API_BASE}/afk/set/`,\n        CLEAR: `${API_BASE}/afk/clear/`,\n        CHECK: (userId) => `${API_BASE}/afk/check/${userId}/`,\n        STATUS: `${API_BASE}/afk/status/`,\n    },\n\n    // ==========================================\n    //  STARBOARD\n    // ==========================================\n    STARBOARD: {\n        CONFIGURE: (serverId) => `${API_BASE}/servers/${serverId}/starboard/configure/`,\n        ADD_STAR: `${API_BASE}/starboard/star/`,\n        REMOVE_STAR: `${API_BASE}/starboard/unstar/`,\n        LIST: (serverId) => `${API_BASE}/servers/${serverId}/starboard/`,\n        LEADERBOARD: (serverId) => `${API_BASE}/servers/${serverId}/starboard/leaderboard/`,\n    },\n\n    // ==========================================\n    //  SUGGESTIONS\n    // ==========================================\n    SUGGESTIONS: {\n        LIST: (serverId) => `${API_BASE}/servers/${serverId}/suggestions/`,\n        CREATE: (serverId) => `${API_BASE}/servers/${serverId}/suggestions/create/`,\n        VOTE: (suggestionId) => `${API_BASE}/suggestions/${suggestionId}/vote/`,\n        STATUS: (suggestionId) => `${API_BASE}/suggestions/${suggestionId}/status/`,\n        CONFIGURE: (serverId) => `${API_BASE}/servers/${serverId}/suggestions/configure/`,\n    },\n\n    // ==========================================\n    //  AUTO ROLES\n    // ==========================================\n    AUTO_ROLES: {\n        LIST: (serverId) => `${API_BASE}/servers/${serverId}/autoroles/`,\n        CREATE: (serverId) => `${API_BASE}/servers/${serverId}/autoroles/create/`,\n        DELETE: (serverId, roleId) => `${API_BASE}/servers/${serverId}/autoroles/${roleId}/delete/`,\n        TOGGLE: (serverId, roleId) => `${API_BASE}/servers/${serverId}/autoroles/${roleId}/toggle/`,\n        GET: (serverId) => `${API_BASE}/servers/${serverId}/auto-roles/`,\n        SET: (serverId) => `${API_BASE}/servers/${serverId}/auto-roles/`,\n    },\n\n    // ==========================================\n    //  REACTION ROLES\n    // ==========================================\n    REACTION_ROLES: {\n        LIST: (serverId) => `${API_BASE}/servers/${serverId}/reaction-roles/`,\n        CREATE: (serverId) => `${API_BASE}/servers/${serverId}/reaction-roles/create/`,\n        DELETE: (id) => `${API_BASE}/reaction-roles/${id}/delete/`,\n        REACT: `${API_BASE}/reaction-roles/react/`,\n    },\n\n    // ==========================================\n    //  BOOKMARKS\n    // ==========================================\n    BOOKMARKS: {\n        LIST: `${API_BASE}/bookmarks/`,\n        ADD: `${API_BASE}/bookmarks/add/`,\n        REMOVE: (bookmarkId) => `${API_BASE}/bookmarks/${bookmarkId}/remove/`,\n        TAGS: `${API_BASE}/bookmarks/tags/`,\n        BY_TAG: (tag) => `${API_BASE}/bookmarks/tag/${tag}/`,\n    },\n\n    // ==========================================\n    //  AI FEATURES\n    // ==========================================\n    AI: {\n        ASK: `${API_BASE}/ai/ask/`,\n        SUMMARIZE: `${API_BASE}/ai/summarize/`,\n        SMART_REPLY: `${API_BASE}/ai/smart-reply/`,\n        MODERATE: `${API_BASE}/ai/moderate/`,\n        CHAT: `${API_BASE}/ai/chat/`,\n    },\n\n    // ==========================================\n    //  TRANSLATION\n    // ==========================================\n    TRANSLATION: {\n        TRANSLATE: `${API_BASE}/translate/`,\n        LANGUAGES: `${API_BASE}/translate/languages/`,\n        PREFERENCES: `${API_BASE}/translate/preferences/`,\n        BATCH: `${API_BASE}/translate/batch/`,\n    },\n\n    // ==========================================\n    //  VOICE & TRANSCRIPTION\n    // ==========================================\n    VOICE: {\n        TRANSCRIBE: (messageId) => `${API_BASE}/messages/${messageId}/transcribe/`,\n        TRANSCRIPTS: `${API_BASE}/voice/transcripts/list/`,\n    },\n\n    // ==========================================\n    //  GAMING\n    // ==========================================\n    GAMING: {\n        PRESENCE: `${API_BASE}/gaming/presence/`,\n        LINK_STEAM: `${API_BASE}/gaming/link/steam/`,\n        LINK_XBOX: `${API_BASE}/gaming/link/xbox/`,\n        ACTIVITY: (userId) => `${API_BASE}/gaming/activity/${userId}/`,\n    },\n\n    // ==========================================\n    //  MUSIC\n    // ==========================================\n    MUSIC: {\n        QUEUE: (roomId) => `${API_BASE}/rooms/${roomId}/music/queue/`,\n        ADD: (roomId) => `${API_BASE}/rooms/${roomId}/music/add/`,\n        SKIP: (roomId) => `${API_BASE}/rooms/${roomId}/music/skip/`,\n        PAUSE: (roomId) => `${API_BASE}/rooms/${roomId}/music/pause/`,\n        CLEAR: (roomId) => `${API_BASE}/rooms/${roomId}/music/clear/`,\n        DJ_MODE: (roomId) => `${API_BASE}/rooms/${roomId}/music/dj-mode/`,\n    },\n\n    // ==========================================\n    //  EVENTS\n    // ==========================================\n    EVENTS: {\n        LIST: (serverId) => `${API_BASE}/servers/${serverId}/events/`,\n        CREATE: (serverId) => `${API_BASE}/servers/${serverId}/events/create/`,\n        DETAIL: (eventId) => `${API_BASE}/events/${eventId}/`,\n        RSVP: (eventId) => `${API_BASE}/events/${eventId}/rsvp/`,\n        CANCEL: (eventId) => `${API_BASE}/events/${eventId}/cancel/`,\n    },\n\n    // ==========================================\n    //  MODERATION\n    // ==========================================\n    MODERATION: {\n        RULES: (serverId) => `${API_BASE}/servers/${serverId}/moderation/rules/`,\n        CREATE_RULE: (serverId) => `${API_BASE}/servers/${serverId}/moderation/rules/create/`,\n        CHECK: `${API_BASE}/moderation/check/`,\n        LOGS: (serverId) => `${API_BASE}/servers/${serverId}/moderation/logs/`,\n        BAN: (serverId) => `${API_BASE}/servers/${serverId}/moderation/ban/`,\n        KICK: (serverId) => `${API_BASE}/servers/${serverId}/moderation/kick/`,\n        MUTE: (serverId) => `${API_BASE}/servers/${serverId}/moderation/mute/`,\n        WARN: (serverId) => `${API_BASE}/servers/${serverId}/moderation/warn/`,\n    },\n\n    // ==========================================\n    //  ECONOMY\n    // ==========================================\n    ECONOMY: {\n        BALANCE: (serverId) => `${API_BASE}/economy/balance/${serverId}/`,\n        TRANSFER: `${API_BASE}/economy/transfer/`,\n        LEADERBOARD: (serverId) => `${API_BASE}/economy/leaderboard/${serverId}/`,\n        HISTORY: (serverId) => `${API_BASE}/economy/history/${serverId}/`,\n        DAILY: (serverId) => `${API_BASE}/economy/daily/${serverId}/`,\n    },\n\n    // ==========================================\n    //  ACHIEVEMENTS\n    // ==========================================\n    ACHIEVEMENTS: {\n        LIST: `${API_BASE}/achievements/`,\n        USER: (userId) => `${API_BASE}/achievements/user/${userId}/`,\n        CLAIM: (achievementId) => `${API_BASE}/achievements/${achievementId}/claim/`,\n    },\n\n    // ==========================================\n    //  NOTIFICATIONS\n    // ==========================================\n    NOTIFICATIONS: {\n        LIST: `${API_BASE}/notifications/`,\n        MARK_READ: (notificationId) => `${API_BASE}/notifications/${notificationId}/read/`,\n        MARK_ALL_READ: `${API_BASE}/notifications/read-all/`,\n        SETTINGS: `${API_BASE}/notifications/settings/`,\n    },\n\n    // ==========================================\n    //  SETTINGS\n    // ==========================================\n    SETTINGS: {\n        APPEARANCE: `${API_BASE}/appearance/settings/`,\n        PRIVACY: `${API_BASE}/settings/privacy/`,\n        NOTIFICATIONS: `${API_BASE}/settings/notifications/`,\n        SECURITY: `${API_BASE}/security/settings/`,\n    },\n\n    // ==========================================\n    //  PREMIUM\n    // ==========================================\n    PREMIUM: {\n        STATUS: `${API_BASE}/premium/status/`,\n        SUBSCRIBE: `${API_BASE}/premium/subscribe/`,\n        CANCEL: `${API_BASE}/premium/cancel/`,\n        FEATURES: `${API_BASE}/premium/features/`,\n        BOOSTS: `${API_BASE}/premium/boosts/`,\n    },\n\n    // ==========================================\n    //  MENTIONS INBOX\n    // ==========================================\n    MENTIONS: {\n        INBOX: `${API_BASE}/mentions/inbox/`,\n        GROUP_SETTING: `${API_BASE}/mentions/group/setting/`,\n        GROUP_SETTING_SET: `${API_BASE}/mentions/group/setting/set/`,\n    },\n\n    // ==========================================\n    //  CUSTOM STATUS\n    // ==========================================\n    STATUS: {\n        CUSTOM: `${API_BASE}/status/custom/`,\n    },\n\n\n};\n\n/**\n * Helper function to get endpoint with parameters\n */\nexport const getEndpoint = (path, params = {}) => {\n    let endpoint = path;\n    Object.keys(params).forEach(key => {\n        endpoint = endpoint.replace(`:${key}`, params[key]);\n    });\n    return endpoint;\n};\n\nexport default ENDPOINTS;\n","// frontend/src/config/api.js\r\n// ==============================================\r\n//  API Configuration & URL Constants\r\n// ==============================================\r\n// Single source of truth: utils/apiEndpoints.js provides the base URL.\r\n// This file re-exports it and adds App.js-specific constants.\r\n// ==============================================\r\n\r\n// Import base URL from the single source of truth\r\nimport { getApiBase, getMediaBase, API_BASE_URL as _API_BASE_URL } from '../utils/apiEndpoints';\r\n\r\nconst API_URL_BASE = getApiBase();\r\n\r\nexport const isElectron = typeof window !== 'undefined' && typeof window.require === 'function';\r\nexport const isNative = typeof window !== 'undefined' && window.Capacitor && window.Capacitor.isNativePlatform();\r\nexport const isProductionBuild = import.meta.env.PROD || process.env.NODE_ENV === 'production';\r\n\r\n// Re-export the centralized base URL (single source of truth)\r\nexport const API_URL_BASE_STRING = API_URL_BASE;\r\n\r\n// Media dosyalar iin ayr URL (EXE/APK'da production URL kullan)\r\nexport const MEDIA_BASE_URL = (() => {\r\n    if (isElectron || isNative) return \"https://www.pawscord.com\";\r\n    return API_URL_BASE_STRING;\r\n})();\r\n\r\nexport const API_BASE_URL = `${API_URL_BASE_STRING}/api`;\r\nexport const ABSOLUTE_HOST_URL = API_URL_BASE_STRING;\r\nexport const WS_PROTOCOL = API_URL_BASE_STRING.startsWith('https') ? 'wss' : 'ws';\r\nexport const API_HOST = API_URL_BASE_STRING.replace(/^https?:\\/\\//, '');\r\n\r\n// URL Constants\r\nexport const LOGIN_URL = `${API_BASE_URL}/auth/login/`;\r\nexport const REGISTER_URL = `${API_BASE_URL}/auth/register/`;\r\nexport const UPLOAD_FILE_URL = `${API_BASE_URL}/messages/upload_file/`;\r\nexport const MESSAGE_HISTORY_ROOM_URL = `${API_BASE_URL}/messages/history/room/`;\r\nexport const MESSAGE_HISTORY_DM_URL = `${API_BASE_URL}/messages/history/dm/`;\r\nexport const ROOM_LIST_URL = `${API_BASE_URL}/rooms/list_with_categories/`;\r\nexport const CONVERSATION_LIST_URL = `${API_BASE_URL}/conversations/`;\r\nexport const GET_OR_CREATE_CONVERSATION_URL = `${API_BASE_URL}/conversations/find_or_create/`;\r\nexport const ALL_USERS_URL = `${API_BASE_URL}/users/list_all/`;\r\nexport const UPDATE_PROFILE_URL = `${API_BASE_URL}/users/update_profile/`;\r\nexport const DEFAULT_AVATARS_URL = `${API_BASE_URL}/users/default_avatars/`;\r\nexport const CHANGE_USERNAME_URL = `${API_BASE_URL}/users/change_username/`;\r\nexport const LOCAL_GIF_LIST_URL = `${API_BASE_URL}/gifs/list_local/`;\r\n\r\nexport const DRAFT_STORAGE_KEY = 'chat_drafts_v1';\r\n\r\n// Utility functions\r\nexport const getTemporaryId = () => (Date.now() + Math.floor(Math.random() * 1000)).toString();\r\n\r\nexport const calculateFileHash = async (file) => {\r\n    const SparkMD5 = (await import('spark-md5')).default;\r\n    return new Promise((resolve, reject) => {\r\n        const chunkSize = 2 * 1024 * 1024;\r\n        const totalChunks = Math.ceil(file.size / chunkSize);\r\n        let currentChunk = 0;\r\n        const spark = new SparkMD5.ArrayBuffer();\r\n        const fileReader = new FileReader();\r\n        fileReader.onload = (e) => {\r\n            spark.append(e.target.result);\r\n            currentChunk++;\r\n            if (currentChunk < totalChunks) loadNextChunk();\r\n            else resolve(spark.end());\r\n        };\r\n        fileReader.onerror = (err) => reject(err);\r\n        function loadNextChunk() {\r\n            const start = currentChunk * chunkSize;\r\n            const end = Math.min(start + chunkSize, file.size);\r\n            fileReader.readAsArrayBuffer(file.slice(start, end));\r\n        }\r\n        loadNextChunk();\r\n    });\r\n};\r\n","import React, { Suspense } from 'react';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\nimport {\r\n    ABSOLUTE_HOST_URL, API_BASE_URL, WS_PROTOCOL, API_HOST,\r\n    LOCAL_GIF_LIST_URL, UPDATE_PROFILE_URL, CHANGE_USERNAME_URL\r\n} from '../../config/api';\r\n\r\n// Lazy imports for Core modals\r\nconst CinemaModal = React.lazy(() => import('../../CinemaModal'));\r\nconst CryptoChartModal = React.lazy(() => import('../../CryptoChartModal'));\r\nconst GifPicker = React.lazy(() => import('../../GifPicker'));\r\nconst StickerPicker = React.lazy(() => import('../../StickerPicker'));\r\nconst UserProfilePanel = React.lazy(() => import('../../UserProfilePanel'));\r\nconst AdminAnalyticsPanel = React.lazy(() => import('../AdminAnalyticsPanel'));\r\nconst AdminPanelModal = React.lazy(() => import('../AdminPanelModal'));\r\nconst APIUsagePanel = React.lazy(() => import('../APIUsagePanel'));\r\nconst AutoModerationDashboard = React.lazy(() => import('../AutoModerationDashboard'));\r\nconst AuditLogPanel = React.lazy(() => import('../AuditLogPanel'));\r\nconst BookmarkPanel = React.lazy(() => import('../BookmarkPanel'));\r\nconst ChannelPermissionsPanel = React.lazy(() => import('../ChannelPermissionsPanel'));\r\nconst CodeSnippetModal = React.lazy(() => import('../CodeSnippetModal'));\r\nconst ConnectionsPanel = React.lazy(() => import('../ConnectionsPanel'));\r\nconst CreateGroupModal = React.lazy(() => import('../CreateGroupModal'));\r\nconst CustomStatusModal = React.lazy(() => import('../CustomStatusModal'));\r\nconst DJModal = React.lazy(() => import('../DJModal'));\r\nconst DailyRewardsModal = React.lazy(() => import('../DailyRewardsModal'));\r\nconst DownloadModal = React.lazy(() => import('../DownloadModal'));\r\nconst EncryptionKeyModal = React.lazy(() => import('../EncryptionKeyModal'));\r\nconst ExportJobsPanel = React.lazy(() => import('../ExportJobsPanel'));\r\nconst MentionsInboxPanel = React.lazy(() => import('../MentionsInboxPanel'));\r\nconst PasswordSetupModal = React.lazy(() => import('../PasswordSetupModal'));\r\nconst PaymentPanel = React.lazy(() => import('../PaymentPanel'));\r\nconst PollCreateModal = React.lazy(() => import('../PollCreateModal'));\r\nconst PremiumStoreModal = React.lazy(() => import('../PremiumStoreModal'));\r\nconst RaidProtectionPanel = React.lazy(() => import('../RaidProtectionPanel'));\r\nconst ReadLaterPanel = React.lazy(() => import('../ReadLaterPanel'));\r\nconst ReportSystemPanel = React.lazy(() => import('../ReportSystemPanel'));\r\nconst ScheduledAnnouncementsPanel = React.lazy(() => import('../ScheduledAnnouncementsPanel'));\r\nconst ServerSettingsModal = React.lazy(() => import('../ServerSettingsModal'));\r\nconst SoundboardModal = React.lazy(() => import('../SoundboardModal'));\r\nconst StoreModal = React.lazy(() => import('../StoreModal'));\r\nconst UserWarningsPanel = React.lazy(() => import('../UserWarningsPanel'));\r\nconst VanityURLManager = React.lazy(() => import('../VanityURLManager'));\r\nconst WebhooksPanel = React.lazy(() => import('../WebhooksPanel'));\r\nconst WhiteboardModal = React.lazy(() => import('../WhiteboardModal'));\r\n\r\n/**\r\n * AppModalsCore  Core/initial modals and inline modals\r\n * Handles: profile, store, admin, moderation, inline tools (chart, cinema, snippets, etc.)\r\n */\r\nconst AppModalsCore = ({\r\n    modals, openModal, closeModal,\r\n    fetchWithAuth, activeChat, username, sendMessage, sendSignal, ws,\r\n    currentUserProfile, setCurrentUserProfile,\r\n    soundSettings, setSoundSettings,\r\n    encryptionKeys, currentKeyId, setEncryptionKey,\r\n    chartSymbol, setChartSymbol,\r\n    serverToEdit, setServerToEdit, serverMembers,\r\n    friendsList, conversations,\r\n    zoomedImage, setZoomedImage,\r\n    logout, getDeterministicAvatar,\r\n    handleSendSnippet, setActiveChat, setConversations,\r\n}) => {\r\n    return (\r\n        <>\r\n            <Suspense fallback={<LoadingSpinner size=\"medium\" text=\"Modal ykleniyor...\" />}>\r\n                {modals.profilePanel && <UserProfilePanel user={currentUserProfile} onClose={() => closeModal('profilePanel')} onProfileUpdate={(updatedUser) => setCurrentUserProfile(updatedUser)} onLogout={logout} fetchWithAuth={fetchWithAuth} getDeterministicAvatar={getDeterministicAvatar} updateProfileUrl={UPDATE_PROFILE_URL} changeUsernameUrl={CHANGE_USERNAME_URL} soundSettings={soundSettings} onUpdateSoundSettings={setSoundSettings} onImageClick={setZoomedImage} apiBaseUrl={ABSOLUTE_HOST_URL} />}\r\n                {modals.store && <PremiumStoreModal onClose={() => closeModal('store')} />}\r\n                {modals.analytics && <AdminAnalyticsPanel onClose={() => closeModal('analytics')} fetchWithAuth={fetchWithAuth} apiBaseUrl={ABSOLUTE_HOST_URL} />}\r\n                {modals.adminPanel && (\r\n                    <AdminPanelModal\r\n                        onClose={() => closeModal('adminPanel')}\r\n                        onOpenAnalytics={() => openModal('analytics')}\r\n                        onOpenWebhooks={() => openModal('webhooks')}\r\n                        onOpenModTools={() => openModal('modTools')}\r\n                        onOpenAuditLogs={() => openModal('auditLog')}\r\n                        onOpenReports={() => openModal('reportSystem')}\r\n                        onOpenVanityURL={() => openModal('vanityURL')}\r\n                        onOpenAutoResponder={() => openModal('autoResponder')}\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                    />\r\n                )}\r\n                {modals.paymentPanel && (\r\n                    <PaymentPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('paymentPanel')}\r\n                        username={username}\r\n                    />\r\n                )}\r\n                {modals.storeModal && (\r\n                    <StoreModal\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('storeModal')}\r\n                        username={username}\r\n                    />\r\n                )}\r\n                {modals.dailyRewards && (\r\n                    <DailyRewardsModal\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('dailyRewards')}\r\n                        username={username}\r\n                    />\r\n                )}\r\n                {modals.aPIUsagePanel && (\r\n                    <APIUsagePanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('aPIUsagePanel')}\r\n                        username={username}\r\n                    />\r\n                )}\r\n                {modals.exportJobsPanel && (\r\n                    <ExportJobsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('exportJobsPanel')}\r\n                        username={username}\r\n                    />\r\n                )}\r\n                {modals.scheduledAnnouncements && (\r\n                    <ScheduledAnnouncementsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('scheduledAnnouncements')}\r\n                        serverId={activeChat?.type === 'room' ? activeChat.server_id : null}\r\n                    />\r\n                )}\r\n                {modals.connectionsPanel && (\r\n                    <ConnectionsPanel\r\n                        onClose={() => closeModal('connectionsPanel')}\r\n                    />\r\n                )}\r\n                {modals.passwordSetupModal && (\r\n                    <PasswordSetupModal\r\n                        onClose={() => closeModal('passwordSetupModal')}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                    />\r\n                )}\r\n                {/*  MODERATION PANELS */}\r\n                {modals.autoModeration && (\r\n                    <AutoModerationDashboard\r\n                        serverId={activeChat?.type === 'room' ? activeChat.server_id : null}\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('autoModeration')}\r\n                    />\r\n                )}\r\n                {modals.raidProtection && (\r\n                    <RaidProtectionPanel\r\n                        serverId={activeChat?.type === 'room' ? activeChat.server_id : null}\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('raidProtection')}\r\n                    />\r\n                )}\r\n                {modals.reportSystem && (\r\n                    <ReportSystemPanel\r\n                        serverId={activeChat?.type === 'room' ? activeChat.server_id : null}\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('reportSystem')}\r\n                    />\r\n                )}\r\n                {modals.auditLog && (\r\n                    <AuditLogPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('auditLog')}\r\n                    />\r\n                )}\r\n                {modals.userWarnings && (\r\n                    <UserWarningsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('userWarnings')}\r\n                    />\r\n                )}\r\n                {modals.webhooks && (\r\n                    <WebhooksPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat?.type === 'room' ? activeChat.server_id : null}\r\n                        onClose={() => closeModal('webhooks')}\r\n                    />\r\n                )}\r\n                {modals.vanityURL && activeChat?.type === 'room' && activeChat.server_id && (\r\n                    <VanityURLManager\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('vanityURL')}\r\n                    />\r\n                )}\r\n                {modals.bookmarks && (\r\n                    <BookmarkPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('bookmarks')}\r\n                        onMessageClick={(msg) => {\r\n                            if (msg.room) {\r\n                                setActiveChat({ type: 'room', slug: msg.room });\r\n                            }\r\n                            closeModal('bookmarks');\r\n                        }}\r\n                    />\r\n                )}\r\n                {modals.readLater && (\r\n                    <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                        <ReadLaterPanel\r\n                            fetchWithAuth={fetchWithAuth}\r\n                            apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                            onClose={() => closeModal('readLater')}\r\n                            onMessageClick={(msg) => {\r\n                                if (msg.room) {\r\n                                    setActiveChat({ type: 'room', slug: msg.room });\r\n                                } else if (msg.conversation) {\r\n                                    setActiveChat({ type: 'dm', slug: msg.conversation });\r\n                                }\r\n                                closeModal('readLater');\r\n                            }}\r\n                        />\r\n                    </Suspense>\r\n                )}\r\n                {modals.mentionsInbox && (\r\n                    <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                        <MentionsInboxPanel\r\n                            isOpen={modals.mentionsInbox}\r\n                            onClose={() => closeModal('mentionsInbox')}\r\n                            currentUsername={currentUserProfile?.username || username}\r\n                            onNavigateToMessage={(msg) => {\r\n                                if (msg.room_id) {\r\n                                    setActiveChat({ type: 'room', id: msg.room_id });\r\n                                }\r\n                                closeModal('mentionsInbox');\r\n                            }}\r\n                        />\r\n                    </Suspense>\r\n                )}\r\n                {modals.customStatus && (\r\n                    <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                        <CustomStatusModal\r\n                            isOpen={modals.customStatus}\r\n                            onClose={() => closeModal('customStatus')}\r\n                            onStatusChange={(status) => {\r\n                                if (currentUserProfile) {\r\n                                    setCurrentUserProfile(prev => ({ ...prev, customStatus: status }));\r\n                                }\r\n                            }}\r\n                        />\r\n                    </Suspense>\r\n                )}\r\n                {modals.channelPermissions && activeChat?.type === 'room' && (\r\n                    <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                        <ChannelPermissionsPanel\r\n                            fetchWithAuth={fetchWithAuth}\r\n                            apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                            channelSlug={activeChat.slug}\r\n                            onClose={() => closeModal('channelPermissions')}\r\n                        />\r\n                    </Suspense>\r\n                )}\r\n                {/* Inline modals */}\r\n                {chartSymbol && <CryptoChartModal symbol={chartSymbol} onClose={() => setChartSymbol(null)} />}\r\n                {modals.cinema && <CinemaModal onClose={() => closeModal('cinema')} ws={ws} username={username} />}\r\n                {modals.snippetModal && <CodeSnippetModal onClose={() => closeModal('snippetModal')} onSend={handleSendSnippet} />}\r\n                {serverToEdit && <ServerSettingsModal onClose={() => setServerToEdit(null)} server={serverToEdit} currentUsername={username} fetchWithAuth={fetchWithAuth} apiBaseUrl={API_BASE_URL} serverMembers={serverMembers} />}\r\n                {modals.encModal && <EncryptionKeyModal onClose={() => closeModal('encModal')} onSetKey={(key) => setEncryptionKey(currentKeyId, key)} existingKey={encryptionKeys[currentKeyId]} />}\r\n                {modals.downloadModal && <DownloadModal onClose={() => closeModal('downloadModal')} apiBaseUrl={ABSOLUTE_HOST_URL} />}\r\n                {modals.groupModal && <CreateGroupModal onClose={() => closeModal('groupModal')} friendsList={friendsList} fetchWithAuth={fetchWithAuth} apiBaseUrl={ABSOLUTE_HOST_URL} onGroupCreated={(newConv) => { setConversations(prev => [newConv, ...prev]); setActiveChat('dm', newConv.id, 'Grup Sohbeti'); }} />}\r\n                {modals.whiteboard && (activeChat.type === 'room' || activeChat.type === 'dm') && (\r\n                    <WhiteboardModal roomSlug={activeChat.type === 'room' ? activeChat.id : `dm_${activeChat.id}`} onClose={() => closeModal('whiteboard')} wsProtocol={WS_PROTOCOL} apiHost={API_HOST} />\r\n                )}\r\n                {modals.soundboard && <SoundboardModal onClose={() => closeModal('soundboard')} fetchWithAuth={fetchWithAuth} apiBaseUrl={ABSOLUTE_HOST_URL} sendSignal={sendSignal} absoluteHostUrl={ABSOLUTE_HOST_URL} />}\r\n                {modals.dJ && <DJModal onClose={() => closeModal('dJ')} ws={ws} roomSlug={activeChat.id} />}\r\n                {modals.gifPicker && <GifPicker onSelect={(url) => { const full = url.startsWith('http') ? url : ABSOLUTE_HOST_URL + url; sendMessage(full); closeModal('gifPicker'); }} onClose={() => closeModal('gifPicker')} localGifListUrl={LOCAL_GIF_LIST_URL} absoluteHostUrl={ABSOLUTE_HOST_URL} fetchWithAuth={fetchWithAuth} />}\r\n                {modals.stickerPicker && <StickerPicker onClose={() => closeModal('stickerPicker')} onSelect={(url) => { sendMessage(url); closeModal('stickerPicker'); }} fetchWithAuth={fetchWithAuth} apiBaseUrl={ABSOLUTE_HOST_URL} />}\r\n                {modals.pollModal && <PollCreateModal onClose={() => closeModal('pollModal')} fetchWithAuth={fetchWithAuth} apiBaseUrl={ABSOLUTE_HOST_URL} activeRoomSlug={activeChat.id} />}\r\n            </Suspense>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AppModalsCore;\r\n","import React, { Suspense } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ABSOLUTE_HOST_URL } from '../../config/api';\r\n\r\n// Lazy imports for Batch 1-8 modals\r\nconst AdvancedSearchPanel = React.lazy(() => import('../AdvancedSearchPanel'));\r\nconst AutoRespondersPanel = React.lazy(() => import('../AutoRespondersPanel'));\r\nconst AvatarStudioPanel = React.lazy(() => import('../AvatarStudioPanel'));\r\nconst ContentScannerPanel = React.lazy(() => import('../ContentScannerPanel'));\r\nconst DataRetentionPanel = React.lazy(() => import('../DataRetentionPanel'));\r\nconst DraftsPanel = React.lazy(() => import('../DraftsPanel'));\r\nconst EnhancedPollsPanel = React.lazy(() => import('../EnhancedPollsPanel'));\r\nconst EphemeralMessagesPanel = React.lazy(() => import('../EphemeralMessagesPanel'));\r\nconst FieldChangeTrackingPanel = React.lazy(() => import('../FieldChangeTrackingPanel'));\r\nconst GDPRExportPanel = React.lazy(() => import('../GDPRExportPanel'));\r\nconst GrowthMetricsPanel = React.lazy(() => import('../GrowthMetricsPanel'));\r\nconst InventoryPanel = React.lazy(() => import('../InventoryPanel'));\r\nconst InviteAnalyticsPanel = React.lazy(() => import('../InviteAnalyticsPanel'));\r\nconst InviteExportPanel = React.lazy(() => import('../InviteExportPanel'));\r\nconst JoinLeaveLogsPanel = React.lazy(() => import('../JoinLeaveLogsPanel'));\r\nconst LinkClickTrackingPanel = React.lazy(() => import('../LinkClickTrackingPanel'));\r\nconst LinkPreviewRenderer = React.lazy(() => import('../LinkPreviewRenderer'));\r\nconst MiniGamesPanel = React.lazy(() => import('../MiniGamesPanel'));\r\nconst NicknameHistoryPanel = React.lazy(() => import('../NicknameHistoryPanel'));\r\nconst OAuthAppsPanel = React.lazy(() => import('../OAuthAppsPanel'));\r\nconst ProjectCollaborationPanel = React.lazy(() => import('../ProjectCollaborationPanel'));\r\nconst ReactionAnalyticsPanel = React.lazy(() => import('../ReactionAnalyticsPanel'));\r\nconst ReferralRewardsPanel = React.lazy(() => import('../ReferralRewardsPanel'));\r\nconst RoomWebhooksPanel = React.lazy(() => import('../RoomWebhooksPanel'));\r\nconst ServerBoostPanel = React.lazy(() => import('../ServerBoostPanel'));\r\nconst ServerNicknamesPanel = React.lazy(() => import('../ServerNicknamesPanel'));\r\nconst SessionManagementPanel = React.lazy(() => import('../SessionManagementPanel'));\r\nconst TopicHistoryPanel = React.lazy(() => import('../TopicHistoryPanel'));\r\nconst TwoFactorSetupWizard = React.lazy(() => import('../TwoFactorSetupWizard'));\r\nconst UserActivityPanel = React.lazy(() => import('../UserActivityPanel'));\r\nconst VoiceTranscriptsPanel = React.lazy(() => import('../VoiceTranscriptsPanel'));\r\nconst WaitlistPanel = React.lazy(() => import('../WaitlistPanel'));\r\n\r\n/**\r\n * AppModalsBatch1to8  BATCH 1-8 feature modals\r\n * Analytics, Content, Server, Security, Communication, Search, Store, New Features\r\n */\r\nconst AppModalsBatch1to8 = ({\r\n    modals, closeModal,\r\n    fetchWithAuth, activeChat, username,\r\n    currentUserProfile, setCurrentUserProfile,\r\n    setActiveChat,\r\n}) => {\r\n    return (\r\n        <>\r\n            {/*  BATCH 1: Analytics & Tracking */}\r\n            {modals.reactionAnalytics && activeChat?.type === 'room' && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <ReactionAnalyticsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        roomSlug={activeChat.slug}\r\n                        onClose={() => closeModal('reactionAnalytics')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.linkClickTracking && activeChat?.type === 'room' && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <LinkClickTrackingPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        roomSlug={activeChat.slug}\r\n                        onClose={() => closeModal('linkClickTracking')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.joinLeaveLogs && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <JoinLeaveLogsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('joinLeaveLogs')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.userActivity && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <UserActivityPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        username={username}\r\n                        onClose={() => closeModal('userActivity')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.nicknameHistory && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <NicknameHistoryPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        username={username}\r\n                        onClose={() => closeModal('nicknameHistory')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.fieldChangeTracking && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <FieldChangeTrackingPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('fieldChangeTracking')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.inviteAnalytics && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <InviteAnalyticsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('inviteAnalytics')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {/*  BATCH 2: Content & Moderation */}\r\n            {modals.contentScanner && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <ContentScannerPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('contentScanner')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.ephemeralMessages && activeChat?.type === 'room' && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <EphemeralMessagesPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        roomSlug={activeChat.slug}\r\n                        onClose={() => closeModal('ephemeralMessages')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.topicHistory && activeChat?.type === 'room' && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <TopicHistoryPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        roomSlug={activeChat.slug}\r\n                        onClose={() => closeModal('topicHistory')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.drafts && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <DraftsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('drafts')}\r\n                        onLoadDraft={(draft) => {\r\n                            if (draft.room) {\r\n                                setActiveChat({ type: 'room', slug: draft.room });\r\n                            }\r\n                            closeModal('drafts');\r\n                        }}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.serverNicknames && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <ServerNicknamesPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('serverNicknames')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {/*  BATCH 3: Server Features */}\r\n            {modals.serverBoost && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <ServerBoostPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        currentUsername={username}\r\n                        onClose={() => closeModal('serverBoost')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.roomWebhooks && activeChat?.type === 'room' && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <RoomWebhooksPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        roomSlug={activeChat.slug}\r\n                        onClose={() => closeModal('roomWebhooks')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.oAuthApps && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <OAuthAppsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('oAuthApps')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.autoResponders && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <AutoRespondersPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('autoResponders')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {/*  BATCH 4: Security & Privacy */}\r\n            {modals.sessionManagement && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <SessionManagementPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('sessionManagement')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.gDPRExport && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <GDPRExportPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('gDPRExport')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.dataRetention && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <DataRetentionPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('dataRetention')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.twoFactorSetup && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <TwoFactorSetupWizard\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('twoFactorSetup')}\r\n                        onSuccess={() => {\r\n                            toast.success('2FA baaryla etkinletirildi!');\r\n                            closeModal('twoFactorSetup');\r\n                        }}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {/*  BATCH 5: Communication */}\r\n            {modals.enhancedPolls && activeChat?.type === 'room' && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <EnhancedPollsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        roomSlug={activeChat.slug}\r\n                        onClose={() => closeModal('enhancedPolls')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.voiceTranscripts && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <VoiceTranscriptsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('voiceTranscripts')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.inviteExport && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <InviteExportPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('inviteExport')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {/*  BATCH 6: Advanced Search & Analytics */}\r\n            {modals.advancedSearch && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <AdvancedSearchPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('advancedSearch')}\r\n                        onMessageClick={(msg) => {\r\n                            if (msg.room) {\r\n                                setActiveChat({ type: 'room', slug: msg.room });\r\n                            }\r\n                            closeModal('advancedSearch');\r\n                        }}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.growthMetrics && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <GrowthMetricsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('growthMetrics')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.linkPreview && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <LinkPreviewRenderer\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        url={null}\r\n                        onClose={() => closeModal('linkPreview')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {/*  BATCH 7: Store & Gamification */}\r\n            {modals.inventory && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <InventoryPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('inventory')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.waitlist && activeChat?.type === 'room' && activeChat.server_id && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <WaitlistPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat.server_id}\r\n                        onClose={() => closeModal('waitlist')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.referralRewards && (\r\n                <Suspense fallback={<div>Ykleniyor...</div>}>\r\n                    <ReferralRewardsPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        onClose={() => closeModal('referralRewards')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {/*  BATCH 8: New Features */}\r\n            {modals.miniGames && (\r\n                <Suspense fallback={<div> Oyunlar Ykleniyor...</div>}>\r\n                    <MiniGamesPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat?.server_id}\r\n                        currentUser={username}\r\n                        onClose={() => closeModal('miniGames')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.projectCollaboration && (\r\n                <Suspense fallback={<div> Projeler Ykleniyor...</div>}>\r\n                    <ProjectCollaborationPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        serverId={activeChat?.server_id}\r\n                        currentUser={username}\r\n                        onClose={() => closeModal('projectCollaboration')}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n            {modals.avatarStudio && (\r\n                <Suspense fallback={<div> Avatar Studio Ykleniyor...</div>}>\r\n                    <AvatarStudioPanel\r\n                        fetchWithAuth={fetchWithAuth}\r\n                        apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                        currentUser={username}\r\n                        onClose={() => closeModal('avatarStudio')}\r\n                        onAvatarChange={(newAvatarUrl) => {\r\n                            if (currentUserProfile) {\r\n                                setCurrentUserProfile({ ...currentUserProfile, avatar_url: newAvatarUrl });\r\n                            }\r\n                            toast.success(' Avatar gncellendi!');\r\n                        }}\r\n                    />\r\n                </Suspense>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AppModalsBatch1to8;\r\n","import React from 'react';\nimport { toast } from 'react-toastify';\nimport { ABSOLUTE_HOST_URL as API } from '../../config/api';\n\n// Lazy component imports\nconst AccountDeletionModal = React.lazy(() => import('../AccountDeletionModal'));\nconst AchievementsPanel = React.lazy(() => import('../AchievementsPanel'));\nconst AppearanceSettingsPanel = React.lazy(() => import('../AppearanceSettingsPanel'));\nconst AutoRolesPanel = React.lazy(() => import('../AutoRolesPanel'));\nconst BanAppealsPanel = React.lazy(() => import('../BanAppealsPanel'));\nconst BirthdaySystemPanel = React.lazy(() => import('../BirthdaySystemPanel'));\nconst BlockListPanel = React.lazy(() => import('../BlockListPanel'));\nconst BotMarketplace = React.lazy(() => import('../BotMarketplace'));\nconst ChangelogPanel = React.lazy(() => import('../ChangelogPanel'));\nconst CommandPalette = React.lazy(() => import('../CommandPalette'));\nconst CustomCommandsPanel = React.lazy(() => import('../CustomCommandsPanel'));\nconst CustomEmbedPanel = React.lazy(() => import('../CustomEmbedPanel'));\nconst E2EESettingsPanel = React.lazy(() => import('../E2EESettingsPanel'));\nconst EventCalendar = React.lazy(() => import('../EventCalendar'));\nconst ForumPanel = React.lazy(() => import('../ForumPanel'));\nconst GiveawayPanel = React.lazy(() => import('../GiveawayPanel'));\nconst HighlightsPanel = React.lazy(() => import('../HighlightsPanel'));\nconst IntegrationHubPanel = React.lazy(() => import('../IntegrationHubPanel'));\nconst KeyboardShortcutsModal = React.lazy(() => import('../KeyboardShortcutsModal'));\nconst LanguageSelector = React.lazy(() => import('../LanguageSelector'));\nconst LevelingSystemPanel = React.lazy(() => import('../LevelingSystemPanel'));\nconst LiveStreamPanel = React.lazy(() => import('../LiveStreamPanel'));\nconst LoginHistory = React.lazy(() => import('../LoginHistory'));\nconst LogoutModal = React.lazy(() => import('../LogoutModal'));\nconst MessageSearchPanel = React.lazy(() => import('../MessageSearchPanel'));\nconst MusicPlayer = React.lazy(() => import('../MusicPlayer'));\nconst NotificationSoundSettings = React.lazy(() => import('../NotificationSoundSettings'));\nconst PremiumModal = React.lazy(() => import('../PremiumModal'));\nconst PrivacySettingsPanel = React.lazy(() => import('../PrivacySettingsPanel'));\nconst ProfileCustomization = React.lazy(() => import('../ProfileCustomization'));\nconst QuickSwitcher = React.lazy(() => import('../QuickSwitcher'));\nconst ReactionRolesPanel = React.lazy(() => import('../ReactionRolesPanel'));\nconst ReminderPanel = React.lazy(() => import('../ReminderPanel'));\nconst ScheduledMessagesPanel = React.lazy(() => import('../ScheduledMessagesPanel'));\nconst SecuritySettingsPanel = React.lazy(() => import('../SecuritySettingsPanel'));\nconst ServerBackupPanel = React.lazy(() => import('../ServerBackupPanel'));\nconst ServerClonePanel = React.lazy(() => import('../ServerClonePanel'));\nconst ServerDiscoveryPage = React.lazy(() => import('../ServerDiscoveryPage'));\nconst SpotifyIntegrationPanel = React.lazy(() => import('../SpotifyIntegrationPanel'));\nconst StageChannelPanel = React.lazy(() => import('../StageChannelPanel'));\nconst StarboardPanel = React.lazy(() => import('../StarboardPanel'));\nconst ThreadView = React.lazy(() => import('../ThreadView'));\nconst TicketSystemPanel = React.lazy(() => import('../TicketSystemPanel'));\nconst TournamentSystem = React.lazy(() => import('../TournamentSystem'));\nconst UserSettingsModal = React.lazy(() => import('../UserSettingsModal'));\nconst VideoCallModal = React.lazy(() => import('../VideoCallModal'));\nconst VoiceSettingsPanel = React.lazy(() => import('../VoiceSettingsPanel'));\nconst WatchTogether = React.lazy(() => import('../WatchTogether'));\nconst WeeklyChallengesPanel = React.lazy(() => import('../WeeklyChallengesPanel'));\nconst WelcomeMessagesPanel = React.lazy(() => import('../WelcomeMessagesPanel'));\n\n// Condition & prop helpers\nconst isServer = (c) => c.activeChat?.type === 'room' && c.activeChat?.server_id;\nconst api = (c) => ({ fetchWithAuth: c.fetchWithAuth, apiBaseUrl: API });\n\n/**\n * Modal configuration for Batch 10 (50 Essential Features).\n * Each entry: { key, C, fb?, cond?, props? }\n * - key: modals state key (also used for auto onClose)\n * - C: lazy-loaded component\n * - fb: fallback text (default: 'Ykleniyor...')\n * - cond: extra condition function beyond modals[key]\n * - props: function(ctx) returning extra props (onClose is auto-added)\n */\nexport const BATCH10_MODALS = [\n    // === SETTINGS & NAVIGATION (1-10) ===\n    { key: 'userSettings', C: UserSettingsModal, fb: ' Ayarlar Ykleniyor...',\n      props: c => ({ ...api(c), currentUser: c.currentUserProfile, username: c.username,\n          onOpenAppearance: () => c.openModal('appearanceSettings'),\n          onOpenPrivacy: () => c.openModal('privacySettings'),\n          onOpenSecurity: () => c.openModal('securitySettings'),\n          onOpenNotifications: () => c.openModal('notificationSounds'),\n          onOpenConnections: () => c.openModal('connectionsPanel'),\n          onOpenLanguage: () => c.openModal('languageSelector'),\n          onLogout: () => c.openModal('logoutConfirm'),\n      }),\n    },\n    { key: 'keyboardShortcuts', C: KeyboardShortcutsModal },\n    { key: 'commandPalette', C: CommandPalette,\n      props: c => ({\n          categories: c.categories, conversations: c.conversations, allUsers: c.allUsers,\n          onNavigate: (t) => {\n              if (t.type === 'room') c.setActiveChat({ type: 'room', slug: t.slug });\n              else if (t.type === 'dm') c.setActiveChat({ type: 'dm', id: t.id });\n              c.closeModal('commandPalette');\n          },\n      }),\n    },\n    { key: 'serverDiscovery', C: ServerDiscoveryPage, fb: ' Sunucu Kefet Ykleniyor...',\n      props: c => ({ ...api(c), currentUsername: c.username,\n          onJoinServer: (s) => { toast.success(`${s.name} sunucusuna katldn!`); c.closeModal('serverDiscovery'); },\n      }),\n    },\n    { key: 'appearanceSettings', C: AppearanceSettingsPanel,\n      props: c => ({ currentTheme: c.currentTheme, onThemeChange: c.setCurrentTheme }),\n    },\n    { key: 'languageSelector', C: LanguageSelector },\n    { key: 'changelog', C: ChangelogPanel, props: api },\n    { key: 'logoutConfirm', C: LogoutModal,\n      props: c => ({ onConfirm: () => { c.logout(); c.closeModal('logoutConfirm'); } }),\n    },\n    { key: 'notificationSounds', C: NotificationSoundSettings,\n      props: c => ({ soundSettings: c.soundSettings, onUpdateSettings: c.setSoundSettings }),\n    },\n    { key: 'quickSwitcher', C: QuickSwitcher,\n      props: c => ({\n          categories: c.categories, conversations: c.conversations,\n          onSelect: (item) => {\n              if (item.type === 'room') c.setActiveChat({ type: 'room', slug: item.slug });\n              else if (item.type === 'dm') c.setActiveChat({ type: 'dm', id: item.id });\n              c.closeModal('quickSwitcher');\n          },\n      }),\n    },\n    // === SECURITY & PRIVACY (11-16) ===\n    { key: 'loginHistory', C: LoginHistory, props: api },\n    { key: 'securitySettings', C: SecuritySettingsPanel,\n      props: c => ({ ...api(c), username: c.username,\n          onOpen2FA: () => c.openModal('twoFactorSetup'),\n          onOpenLoginHistory: () => c.openModal('loginHistory'),\n      }),\n    },\n    { key: 'privacySettings', C: PrivacySettingsPanel,\n      props: c => ({ ...api(c), username: c.username, onOpenBlockList: () => c.openModal('blockList') }),\n    },\n    { key: 'accountDeletion', C: AccountDeletionModal,\n      props: c => ({ ...api(c), username: c.username,\n          onConfirm: () => { c.logout(); c.closeModal('accountDeletion'); },\n      }),\n    },\n    { key: 'blockList', C: BlockListPanel, props: api },\n    { key: 'e2EESettings', C: E2EESettingsPanel,\n      props: c => ({ ...api(c), encryptionKeys: c.encryptionKeys }),\n    },\n    // === COMMUNICATION (17-25) ===\n    { key: 'threadView', C: ThreadView, props: c => ({ ...api(c), roomSlug: c.activeChat?.slug }) },\n    { key: 'scheduledMessages', C: ScheduledMessagesPanel, props: c => ({ ...api(c), username: c.username }) },\n    { key: 'reminders', C: ReminderPanel, props: c => ({ ...api(c), username: c.username }) },\n    { key: 'forum', C: ForumPanel, fb: ' Forum Ykleniyor...', cond: isServer,\n      props: c => ({ ...api(c), roomSlug: c.activeChat.slug, serverId: c.activeChat.server_id, currentUser: c.username }),\n    },\n    { key: 'stageChannel', C: StageChannelPanel, fb: ' Sahne Ykleniyor...',\n      props: c => ({ ...api(c), roomSlug: c.activeChat?.slug, currentUser: c.username }),\n    },\n    { key: 'videoCall', C: VideoCallModal, fb: ' Video Arama Ykleniyor...',\n      props: c => ({ ...api(c), currentUser: c.username,\n          targetUser: c.activeChat?.type === 'dm' ? c.activeChat.name : null,\n      }),\n    },\n    { key: 'voiceSettings', C: VoiceSettingsPanel,\n      props: c => ({ isMuted: c.isMuted, isDeafened: c.isDeafened,\n          onToggleMute: c.toggleMute, onToggleDeafened: c.toggleDeafened }),\n    },\n    { key: 'messageSearch', C: MessageSearchPanel,\n      props: c => ({ ...api(c), roomSlug: c.activeChat?.slug,\n          onMessageClick: (msg) => {\n              if (msg.room) c.setActiveChat({ type: 'room', slug: msg.room });\n              c.closeModal('messageSearch');\n          },\n      }),\n    },\n    { key: 'watchTogether', C: WatchTogether, fb: ' Birlikte zle Ykleniyor...',\n      props: c => ({ ...api(c), roomSlug: c.activeChat?.slug, currentUser: c.username }),\n    },\n    // === SERVER MANAGEMENT (26-35) ===\n    { key: 'autoRoles', C: AutoRolesPanel, cond: isServer, props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n    { key: 'reactionRoles', C: ReactionRolesPanel, cond: isServer, props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n    { key: 'welcomeMessages', C: WelcomeMessagesPanel, cond: isServer, props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n    { key: 'eventCalendar', C: EventCalendar, fb: ' Etkinlikler Ykleniyor...', cond: isServer,\n      props: c => ({ ...api(c), serverId: c.activeChat.server_id, currentUser: c.username }),\n    },\n    { key: 'giveaway', C: GiveawayPanel, fb: ' ekili Ykleniyor...', cond: isServer,\n      props: c => ({ ...api(c), serverId: c.activeChat.server_id, currentUser: c.username }),\n    },\n    { key: 'ticketSystem', C: TicketSystemPanel, fb: ' Destek Sistemi Ykleniyor...', cond: isServer,\n      props: c => ({ ...api(c), serverId: c.activeChat.server_id, currentUser: c.username }),\n    },\n    { key: 'starboard', C: StarboardPanel, cond: isServer, props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n    { key: 'serverBackup', C: ServerBackupPanel, cond: isServer, props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n    { key: 'banAppeals', C: BanAppealsPanel, cond: isServer, props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n    { key: 'customCommands', C: CustomCommandsPanel, cond: isServer, props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n    // === GAMIFICATION & SOCIAL (36-50) ===\n    { key: 'levelingSystem', C: LevelingSystemPanel, fb: ' Seviye Sistemi Ykleniyor...', cond: isServer,\n      props: c => ({ ...api(c), serverId: c.activeChat.server_id, currentUser: c.username }),\n    },\n    { key: 'liveStream', C: LiveStreamPanel, fb: ' Canl Yayn Ykleniyor...',\n      props: c => ({ ...api(c), roomSlug: c.activeChat?.slug, currentUser: c.username }),\n    },\n    { key: 'achievements', C: AchievementsPanel, fb: ' Baarmlar Ykleniyor...',\n      props: c => ({ ...api(c), username: c.username }),\n    },\n    { key: 'birthdaySystem', C: BirthdaySystemPanel, cond: isServer,\n      props: c => ({ ...api(c), serverId: c.activeChat.server_id }),\n    },\n    { key: 'premium', C: PremiumModal, fb: ' Premium Ykleniyor...',\n      props: c => ({ ...api(c), username: c.username }),\n    },\n    { key: 'musicPlayer', C: MusicPlayer, fb: ' Mzik Ykleniyor...',\n      props: c => ({ ...api(c), roomSlug: c.activeChat?.slug }),\n    },\n    { key: 'botMarketplace', C: BotMarketplace, fb: ' Bot Maazas Ykleniyor...',\n      props: c => ({ ...api(c), serverId: c.activeChat?.server_id }),\n    },\n    { key: 'profileCustomization', C: ProfileCustomization,\n      props: c => ({ ...api(c), currentUser: c.currentUserProfile,\n          onProfileUpdate: (updated) => c.setCurrentUserProfile(updated),\n      }),\n    },\n    { key: 'integrationHub', C: IntegrationHubPanel, fb: ' Entegrasyonlar Ykleniyor...', props: api },\n    { key: 'tournaments', C: TournamentSystem, fb: ' Turnuvalar Ykleniyor...', cond: isServer,\n      props: c => ({ ...api(c), serverId: c.activeChat.server_id, currentUser: c.username }),\n    },\n    { key: 'highlights', C: HighlightsPanel, props: api },\n    { key: 'customEmbed', C: CustomEmbedPanel, props: c => ({ ...api(c), roomSlug: c.activeChat?.slug }) },\n    { key: 'spotifyIntegration', C: SpotifyIntegrationPanel, fb: ' Spotify Ykleniyor...', props: api },\n    { key: 'serverClone', C: ServerClonePanel, cond: isServer, props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n    { key: 'weeklyChallenges', C: WeeklyChallengesPanel, fb: ' Haftalk Grevler Ykleniyor...',\n      props: c => ({ ...api(c), username: c.username }),\n    },\n];\n","import React, { Suspense } from 'react';\nimport { BATCH10_MODALS } from './batch10Config';\n\n/**\n * AppModalsBatch10  BATCH 10: 50 Essential Features\n * Data-driven modal renderer using batch10Config.\n */\nconst AppModalsBatch10 = (props) => {\n    const { modals, closeModal } = props;\n\n    return (\n        <>\n            {BATCH10_MODALS.map(({ key, C, fb, cond, props: getProps }) => {\n                if (!modals[key]) return null;\n                if (cond && !cond(props)) return null;\n                return (\n                    <Suspense key={key} fallback={<div>{fb || 'Ykleniyor...'}</div>}>\n                        <C\n                            onClose={() => closeModal(key)}\n                            {...(getProps ? getProps(props) : {})}\n                        />\n                    </Suspense>\n                );\n            })}\n        </>\n    );\n};\n\nexport default AppModalsBatch10;\n","// Helper to convert hex color to rgba hover background\nconst hexToRgba = (hex, alpha) => {\n    const r = parseInt(hex.slice(1, 3), 16);\n    const g = parseInt(hex.slice(3, 5), 16);\n    const b = parseInt(hex.slice(5, 7), 16);\n    return `rgba(${r},${g},${b},${alpha})`;\n};\n\nexport const getHoverBg = (color) => hexToRgba(color, 0.2);\n\nexport const FEATURE_SECTIONS = [\n    {\n        title: ' Genel Ayarlar',\n        color: '#7289da',\n        items: [\n            { icon: '', label: 'Kullanc Ayarlar', modal: 'userSettings' },\n            { icon: '', label: 'Ksayol Tular', modal: 'keyboardShortcuts' },\n            { icon: '', label: 'Komut Paleti', modal: 'commandPalette' },\n            { icon: '', label: 'Sunucu Kefet', modal: 'serverDiscovery' },\n            { icon: '', label: 'Grnm', modal: 'appearanceSettings' },\n            { icon: '', label: 'Dil Seimi', modal: 'languageSelector' },\n            { icon: '', label: 'Deiiklik Gnl', modal: 'changelog' },\n            { icon: '', label: 'Bildirim Sesleri', modal: 'notificationSounds' },\n            { icon: '', label: 'Hzl Gei', modal: 'quickSwitcher' },\n            { icon: '', label: 'k Yap', modal: 'logoutConfirm' },\n        ],\n    },\n    {\n        title: ' Gvenlik & Gizlilik',\n        color: '#ed4245',\n        items: [\n            { icon: '', label: 'Giri Gemii', modal: 'loginHistory' },\n            { icon: '', label: 'Gvenlik Ayarlar', modal: 'securitySettings' },\n            { icon: '', label: 'Gizlilik Ayarlar', modal: 'privacySettings' },\n            { icon: '', label: 'Engel Listesi', modal: 'blockList' },\n            { icon: '', label: 'E2E ifreleme', modal: 'e2EESettings' },\n            { icon: '', label: 'Hesap Silme', modal: 'accountDeletion' },\n        ],\n    },\n    {\n        title: ' letiim',\n        color: '#3ba55d',\n        items: [\n            { icon: '', label: 'Mesaj Konular', modal: 'threadView' },\n            { icon: '', label: 'Zamanlanm Mesajlar', modal: 'scheduledMessages' },\n            { icon: '', label: 'Hatrlatclar', modal: 'reminders' },\n            { icon: '', label: 'Forum', modal: 'forum' },\n            { icon: '', label: 'Sahne Kanal', modal: 'stageChannel' },\n            { icon: '', label: 'Grntl Arama', modal: 'videoCall' },\n            { icon: '', label: 'Ses Ayarlar', modal: 'voiceSettings' },\n            { icon: '', label: 'Mesaj Arama', modal: 'messageSearch' },\n            { icon: '', label: 'Birlikte zle', modal: 'watchTogether' },\n        ],\n    },\n    {\n        title: ' Sunucu Ynetimi',\n        color: '#faa61a',\n        items: [\n            { icon: '', label: 'Otomatik Roller', modal: 'autoRoles' },\n            { icon: '', label: 'Tepki Rolleri', modal: 'reactionRoles' },\n            { icon: '', label: 'Ho Geldin Mesajlar', modal: 'welcomeMessages' },\n            { icon: '', label: 'Etkinlik Takvimi', modal: 'eventCalendar' },\n            { icon: '', label: 'ekili', modal: 'giveaway' },\n            { icon: '', label: 'Destek Sistemi', modal: 'ticketSystem' },\n            { icon: '', label: 'Yldz Panosu', modal: 'starboard' },\n            { icon: '', label: 'Sunucu Yedekleme', modal: 'serverBackup' },\n            { icon: '', label: 'Ban tirazlar', modal: 'banAppeals' },\n            { icon: '', label: 'zel Komutlar', modal: 'customCommands' },\n            { icon: '', label: 'Seviye Sistemi', modal: 'levelingSystem' },\n            { icon: '', label: 'Canl Yayn', modal: 'liveStream' },\n        ],\n    },\n    {\n        title: ' Elence & Sosyal',\n        color: '#9b59b6',\n        items: [\n            { icon: '', label: 'Baarmlar', modal: 'achievements' },\n            { icon: '', label: 'Doum Gnleri', modal: 'birthdaySystem' },\n            { icon: '', label: 'Premium', modal: 'premium' },\n            { icon: '', label: 'Mzik alar', modal: 'musicPlayer' },\n            { icon: '', label: 'Bot Maazas', modal: 'botMarketplace' },\n            { icon: '', label: 'Profil zelletir', modal: 'profileCustomization' },\n            { icon: '', label: 'Entegrasyonlar', modal: 'integrationHub' },\n            { icon: '', label: 'Turnuvalar', modal: 'tournaments' },\n        ],\n    },\n    {\n        title: ' Gelimi',\n        color: '#e67e22',\n        items: [\n            { icon: '', label: 'ne kanlar', modal: 'highlights' },\n            { icon: '', label: 'zel Embed', modal: 'customEmbed' },\n            { icon: '', label: 'Spotify Balants', modal: 'spotifyIntegration' },\n            { icon: '', label: 'Sunucu Klonla', modal: 'serverClone' },\n            { icon: '', label: 'Haftalk Grevler', modal: 'weeklyChallenges' },\n            { icon: '', label: 'AI Chatbot', modal: 'aIChatbot' },\n            { icon: '', label: 'Kod Editr', modal: 'codeEditor' },\n            { icon: '', label: 'Ekran Paylam', modal: 'screenShare' },\n            { icon: '', label: 'Canl Yayn', modal: 'liveStreamModal' },\n            { icon: '', label: 'Gelimi Analitik', modal: 'advancedAnalytics' },\n            { icon: '', label: 'Dosya Yneticisi', modal: 'fileManager' },\n            { icon: '', label: 'Raporlar', modal: 'reports' },\n            { icon: '', label: 'Hata Raporlama', modal: 'errorReporting' },\n        ],\n    },\n    {\n        title: ' Moderasyon & Ynetim',\n        color: '#e74c3c',\n        items: [\n            { icon: '', label: 'Moderasyon Aralar', modal: 'moderatorTools' },\n            { icon: '', label: 'AI Moderasyon', modal: 'aIModeration' },\n            { icon: '', label: 'Spam Korumas', modal: 'spamDetection' },\n            { icon: '', label: 'Denetim Kaytlar', modal: 'auditLogs' },\n            { icon: '', label: 'Ban Gemii', modal: 'banHistory' },\n            { icon: '', label: 'Moderasyon Loglar', modal: 'moderationLogs' },\n            { icon: '', label: 'Baskn Korumas', modal: 'raidProtection' },\n            { icon: '', label: 'Gvenlik Uyarlar', modal: 'securityAlerts' },\n        ],\n    },\n    {\n        title: ' Mesajlama & Medya',\n        color: '#1abc9c',\n        items: [\n            { icon: '', label: 'Yer mleri', modal: 'bookmarks' },\n            { icon: '', label: 'GIF Seici', modal: 'gIFPicker' },\n            { icon: '', label: 'Anket Olutur', modal: 'pollCreator' },\n            { icon: '', label: 'kartmalar', modal: 'stickers' },\n            { icon: '', label: 'Kaytl Mesajlar', modal: 'savedMessages' },\n            { icon: '', label: 'Bildirim Merkezi', modal: 'notificationsCenter' },\n            { icon: '', label: 'Mesaj zeti', modal: 'messageSummary' },\n            { icon: '', label: 'eviri Paneli', modal: 'translation' },\n        ],\n    },\n    {\n        title: ' Sunucu Ynetimi (Geniletilmi)',\n        color: '#2ecc71',\n        items: [\n            { icon: '', label: 'Kanal Ayarlar', modal: 'channelSettings' },\n            { icon: '', label: 'Davet Ynetimi', modal: 'inviteModal' },\n            { icon: '', label: 'Sunucu ablonlar', modal: 'serverTemplates' },\n            { icon: '', label: 'Sunucu Analitii', modal: 'serverAnalytics' },\n            { icon: '', label: 'Rol Yneticisi', modal: 'rolesManager' },\n            { icon: '', label: 'Karlama Ekran', modal: 'welcomeScreenEditor' },\n            { icon: '', label: 'Topluluk Ayarlar', modal: 'communitySettings' },\n            { icon: '', label: 'Davet Linkleri', modal: 'inviteLinkManager' },\n        ],\n    },\n    {\n        title: ' Bot & Gelitirici',\n        color: '#3498db',\n        items: [\n            { icon: '', label: 'Bot Oluturucu', modal: 'botBuilder' },\n            { icon: '', label: 'Gelitirici Portal', modal: 'botDevPortal' },\n            { icon: '', label: 'Webhook Yneticisi', modal: 'webhookManager' },\n            { icon: '', label: 'API Anahtarlar', modal: 'aPIKeys' },\n            { icon: '', label: 'Slash Komutlar', modal: 'slashCommands' },\n            { icon: '', label: 'Kod altrc', modal: 'codeRunner' },\n        ],\n    },\n    {\n        title: ' Profil & Sosyal',\n        color: '#e91e63',\n        items: [\n            { icon: '', label: 'Profil Kart', modal: 'profileCard' },\n            { icon: '', label: 'Kullanc Notlar', modal: 'userNotes' },\n            { icon: '', label: 'Durum Seici', modal: 'statusPicker' },\n            { icon: '', label: 'Ortak Arkadalar', modal: 'mutuals' },\n            { icon: '', label: 'Profil Vitrini', modal: 'profileShowcase' },\n            { icon: '', label: 'Oturum Yneticisi', modal: 'sessionManager' },\n        ],\n    },\n    {\n        title: ' Premium & Ekonomi',\n        color: '#f1c40f',\n        items: [\n            { icon: '', label: 'Coin Maazas', modal: 'coinStore' },\n            { icon: '', label: 'Premium Ynetimi', modal: 'premiumManagement' },\n            { icon: '', label: 'Abonelik Ynetimi', modal: 'subscriptionManager' },\n            { icon: '', label: 'Premium Hediye Et', modal: 'giftPremium' },\n            { icon: '', label: 'Premium Maazas', modal: 'premiumMarketplace' },\n            { icon: '', label: 'Tema Maazas', modal: 'themeMarketplace' },\n        ],\n    },\n];\n","const styles = {\r\n    overlay: {\r\n        position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n        backgroundColor: 'rgba(0,0,0,0.85)', zIndex: 9999,\r\n        display: 'flex', justifyContent: 'center', alignItems: 'center',\r\n        backdropFilter: 'blur(8px)'\r\n    },\r\n    container: {\r\n        backgroundColor: '#2f3136', borderRadius: '16px', width: '90%', maxWidth: '900px',\r\n        maxHeight: '85vh', overflow: 'auto', padding: '32px',\r\n        boxShadow: '0 20px 60px rgba(0,0,0,0.5)', border: '1px solid rgba(255,255,255,0.1)'\r\n    },\r\n    header: {\r\n        display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '24px'\r\n    },\r\n    title: {\r\n        margin: 0, fontSize: '1.5em', color: '#fff'\r\n    },\r\n    closeBtn: {\r\n        background: 'none', border: 'none', color: '#b9bbbe', fontSize: '1.5em', cursor: 'pointer'\r\n    },\r\n    section: {\r\n        marginBottom: '20px'\r\n    },\r\n    sectionTitle: (color) => ({\r\n        color, fontSize: '0.85em', textTransform: 'uppercase', letterSpacing: '1px', marginBottom: '12px'\r\n    }),\r\n    grid: {\r\n        display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))', gap: '8px'\r\n    },\r\n    button: {\r\n        display: 'flex', alignItems: 'center', gap: '10px', padding: '10px 14px',\r\n        backgroundColor: 'rgba(255,255,255,0.05)', border: '1px solid rgba(255,255,255,0.08)',\r\n        borderRadius: '8px', color: '#dcddde', cursor: 'pointer', fontSize: '13px',\r\n        transition: 'all 0.2s', textAlign: 'left'\r\n    },\r\n    buttonIcon: {\r\n        fontSize: '16px'\r\n    },\r\n};\r\n\r\nexport default styles;\r\n","import React from 'react';\nimport { useUIStore } from '../stores/useUIStore';\nimport { FEATURE_SECTIONS, getHoverBg } from './FeatureHubModal/featureSections';\nimport styles from './FeatureHubModal/styles';\n\nconst FeatureHubModal = () => {\n    const { openModal, closeModal } = useUIStore();\n\n    const handleSelect = (modal) => {\n        openModal(modal);\n        closeModal('featureHub');\n    };\n\n    return (\n        <div style={styles.overlay} onClick={(e) => { if (e.target === e.currentTarget) closeModal('featureHub'); }}>\n            <div style={styles.container}>\n                <div style={styles.header}>\n                    <h2 style={styles.title}>{''} Tm zellikler</h2>\n                    <button onClick={() => closeModal('featureHub')} style={styles.closeBtn}>{''}</button>\n                </div>\n\n                {FEATURE_SECTIONS.map((section, sIdx) => (\n                    <div key={sIdx} style={sIdx < FEATURE_SECTIONS.length - 1 ? styles.section : undefined}>\n                        <h3 style={styles.sectionTitle(section.color)}>{section.title}</h3>\n                        <div style={styles.grid}>\n                            {section.items.map((item, i) => (\n                                <button\n                                    key={i}\n                                    onClick={() => handleSelect(item.modal)}\n                                    style={styles.button}\n                                    onMouseEnter={(e) => { e.currentTarget.style.backgroundColor = getHoverBg(section.color); e.currentTarget.style.borderColor = section.color; }}\n                                    onMouseLeave={(e) => { e.currentTarget.style.backgroundColor = 'rgba(255,255,255,0.05)'; e.currentTarget.style.borderColor = 'rgba(255,255,255,0.08)'; }}\n                                >\n                                    <span style={styles.buttonIcon}>{item.icon}</span>\n                                    <span>{item.label}</span>\n                                </button>\n                            ))}\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n};\n\nexport default FeatureHubModal;\n","import React from 'react';\nimport { ABSOLUTE_HOST_URL, API_BASE_URL } from '../../config/api';\nimport FeatureHubModal from '../FeatureHubModal';\n\n// Lazy imports\nconst AIChatbotPanel = React.lazy(() => import('../AIChatbotPanel'));\nconst AIModerationPanel = React.lazy(() => import('../AIModerationPanel'));\nconst APIKeysPanel = React.lazy(() => import('../APIKeysPanel'));\nconst AdvancedAnalyticsDashboard = React.lazy(() => import('../AdvancedAnalyticsDashboard'));\nconst AuditLogsPanel = React.lazy(() => import('../AuditLogsPanel'));\nconst BanHistoryPanel = React.lazy(() => import('../BanHistoryPanel'));\nconst BotBuilder = React.lazy(() => import('../BotBuilder'));\nconst BotDeveloperPortal = React.lazy(() => import('../BotDeveloperPortal'));\nconst ChannelSettingsModal = React.lazy(() => import('../ChannelSettingsModal'));\nconst CodeRunnerPanel = React.lazy(() => import('../CodeRunnerPanel'));\nconst CoinStoreModal = React.lazy(() => import('../CoinStoreModal'));\nconst CollaborativeCodeEditor = React.lazy(() => import('../CollaborativeCodeEditor'));\nconst CommunitySettingsPanel = React.lazy(() => import('../CommunitySettingsPanel'));\nconst ErrorReportingPanel = React.lazy(() => import('../ErrorReportingPanel'));\nconst FileManagerPanel = React.lazy(() => import('../FileManagerPanel'));\nconst GIFPickerPanel = React.lazy(() => import('../GIFPickerPanel'));\nconst GiftPremiumPanel = React.lazy(() => import('../GiftPremiumPanel'));\nconst InviteLinkManager = React.lazy(() => import('../InviteLinkManager'));\nconst InviteModal = React.lazy(() => import('../InviteModal'));\nconst LiveStreamModal = React.lazy(() => import('../LiveStreamModal'));\nconst MessageSummaryPanel = React.lazy(() => import('../MessageSummaryPanel'));\nconst ModerationLogsPanel = React.lazy(() => import('../ModerationLogsPanel'));\nconst ModeratorTools = React.lazy(() => import('../ModeratorTools'));\nconst MutualsPanel = React.lazy(() => import('../MutualsPanel'));\nconst NotificationsCenter = React.lazy(() => import('../NotificationsCenter'));\nconst PollCreator = React.lazy(() => import('../PollCreator'));\nconst PremiumManagementPanel = React.lazy(() => import('../PremiumManagementPanel'));\nconst PremiumMarketplace = React.lazy(() => import('../PremiumMarketplace'));\nconst ProfileCard = React.lazy(() => import('../ProfileCard'));\nconst ProfileShowcasePanel = React.lazy(() => import('../ProfileShowcasePanel'));\nconst ReportsPanel = React.lazy(() => import('../ReportsPanel'));\nconst RolesManager = React.lazy(() => import('../RolesManager'));\nconst SavedMessagesModal = React.lazy(() => import('../SavedMessagesModal'));\nconst ScreenShareModal = React.lazy(() => import('../ScreenShareModal'));\nconst SecurityAlertsPanel = React.lazy(() => import('../SecurityAlertsPanel'));\nconst ServerAnalyticsDashboard = React.lazy(() => import('../ServerAnalyticsDashboard'));\nconst ServerTemplates = React.lazy(() => import('../ServerTemplates'));\nconst SessionManagerModal = React.lazy(() => import('../SessionManagerModal'));\nconst SlashCommandsPanel = React.lazy(() => import('../SlashCommandsPanel'));\nconst SpamDetectionPanel = React.lazy(() => import('../SpamDetectionPanel'));\nconst StatusPicker = React.lazy(() => import('../StatusPicker'));\nconst StickersPanel = React.lazy(() => import('../StickersPanel'));\nconst SubscriptionManager = React.lazy(() => import('../SubscriptionManager'));\nconst ThemeMarketplace = React.lazy(() => import('../ThemeMarketplace'));\nconst TranslationPanel = React.lazy(() => import('../TranslationPanel'));\nconst UserNotesModal = React.lazy(() => import('../UserNotesModal'));\nconst WebhookManager = React.lazy(() => import('../WebhookManager'));\nconst WelcomeScreenEditor = React.lazy(() => import('../WelcomeScreenEditor'));\n\n// Prop helpers\nconst API = ABSOLUTE_HOST_URL;\nconst api = (c) => ({ fetchWithAuth: c.fetchWithAuth, apiBaseUrl: API });\nconst isRoom = (c) => c.activeChat?.type === 'room' && c.activeChat?.server_id;\n\n/**\n * BATCH11_MODALS config array  50 modals + FeatureHub\n * Each entry: { key, C, fb?, cond?, props? }\n */\nexport const BATCH11_MODALS = [\n  // 1. Moderator Tools\n  { key: 'moderatorTools', C: ModeratorTools, fb: ' Moderasyon Aralar Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id, roomSlug: c.activeChat?.slug }) },\n  // 2. AI Moderation\n  { key: 'aIModeration', C: AIModerationPanel, fb: ' AI Moderasyon Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 3. Spam Detection\n  { key: 'spamDetection', C: SpamDetectionPanel, fb: ' Spam Korumas Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 4. Audit Logs\n  { key: 'auditLogs', C: AuditLogsPanel, fb: ' Denetim Kaytlar Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 5. Ban History\n  { key: 'banHistory', C: BanHistoryPanel, fb: ' Ban Gemii Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 6. Moderation Logs\n  { key: 'moderationLogs', C: ModerationLogsPanel, fb: ' Moderasyon Loglar Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 8. Security Alerts\n  { key: 'securityAlerts', C: SecurityAlertsPanel, fb: ' Gvenlik Uyarlar Ykleniyor...',\n    props: api },\n  // 10. GIF Picker\n  { key: 'gIFPicker', C: GIFPickerPanel, fb: ' GIF Seici Ykleniyor...',\n    props: c => ({ ...api(c), onSelect: () => { c.closeModal('gIFPicker'); } }) },\n  // 11. Poll Creator\n  { key: 'pollCreator', C: PollCreator, fb: ' Anket Oluturucu Ykleniyor...',\n    props: c => ({ ...api(c), roomSlug: c.activeChat?.slug }) },\n  // 12. Stickers\n  { key: 'stickers', C: StickersPanel, fb: ' kartmalar Ykleniyor...',\n    props: c => ({ ...api(c), onSelect: () => { c.closeModal('stickers'); } }) },\n  // 13. Saved Messages\n  { key: 'savedMessages', C: SavedMessagesModal, fb: ' Kaytl Mesajlar Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 14. Notifications Center\n  { key: 'notificationsCenter', C: NotificationsCenter, fb: ' Bildirimler Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 15. Message Summary\n  { key: 'messageSummary', C: MessageSummaryPanel, fb: ' zet Ykleniyor...',\n    props: c => ({ ...api(c), roomSlug: c.activeChat?.slug }) },\n  // 16. Translation\n  { key: 'translation', C: TranslationPanel, fb: ' eviri Ykleniyor...',\n    props: api },\n  // 17. Channel Settings (room only)\n  { key: 'channelSettings', C: ChannelSettingsModal, fb: ' Kanal Ayarlar Ykleniyor...',\n    cond: c => c.activeChat?.type === 'room',\n    props: c => ({ ...api(c), roomSlug: c.activeChat.slug, serverId: c.activeChat.server_id }) },\n  // 18. Invite Modal (room only, uses API_BASE_URL)\n  { key: 'inviteModal', C: InviteModal, fb: ' Davet Ykleniyor...',\n    cond: c => c.activeChat?.type === 'room',\n    props: c => ({\n      fetchWithAuth: c.fetchWithAuth,\n      apiBaseUrl: API_BASE_URL,\n      server: (() => {\n        for (const srv of (c.categories || [])) {\n          for (const cat of (srv.categories || [])) {\n            if (cat.rooms?.some(r => r.slug === c.activeChat.id)) {\n              return { id: srv.id, name: srv.name, avatar: srv.avatar };\n            }\n          }\n        }\n        return { id: c.activeChat.server_id, name: 'Sunucu' };\n      })(),\n      currentUser: c.username,\n    }) },\n  // 19. Server Templates\n  { key: 'serverTemplates', C: ServerTemplates, fb: ' ablonlar Ykleniyor...',\n    props: api },\n  // 20. Server Analytics\n  { key: 'serverAnalytics', C: ServerAnalyticsDashboard, fb: ' Analitik Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 21. Roles Manager (room only)\n  { key: 'rolesManager', C: RolesManager, fb: ' Rol Yneticisi Ykleniyor...',\n    cond: c => c.activeChat?.type === 'room',\n    props: c => ({ ...api(c), serverId: c.activeChat.server_id }) },\n  // 22. Welcome Screen Editor\n  { key: 'welcomeScreenEditor', C: WelcomeScreenEditor, fb: ' Karlama Ekran Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 23. Community Settings\n  { key: 'communitySettings', C: CommunitySettingsPanel, fb: ' Topluluk Ayarlar Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 24. Invite Link Manager\n  { key: 'inviteLinkManager', C: InviteLinkManager, fb: ' Davet Linkleri Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 25. Bot Builder\n  { key: 'botBuilder', C: BotBuilder, fb: ' Bot Oluturucu Ykleniyor...',\n    props: api },\n  // 26. Bot Developer Portal\n  { key: 'botDevPortal', C: BotDeveloperPortal, fb: ' Gelitirici Portal Ykleniyor...',\n    props: api },\n  // 27. Webhook Manager\n  { key: 'webhookManager', C: WebhookManager, fb: ' Webhook Yneticisi Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 28. API Keys\n  { key: 'aPIKeys', C: APIKeysPanel, fb: ' API Anahtarlar Ykleniyor...',\n    props: api },\n  // 29. Slash Commands\n  { key: 'slashCommands', C: SlashCommandsPanel, fb: ' Komut Yneticisi Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 30. Code Runner\n  { key: 'codeRunner', C: CodeRunnerPanel, fb: ' Kod altrc Ykleniyor...',\n    props: api },\n  // 31. Profile Card\n  { key: 'profileCard', C: ProfileCard, fb: ' Profil Kart Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username, currentUser: c.currentUserProfile }) },\n  // 32. User Notes\n  { key: 'userNotes', C: UserNotesModal, fb: ' Notlar Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 33. Status Picker\n  { key: 'statusPicker', C: StatusPicker, fb: ' Durum Seici Ykleniyor...',\n    props: c => ({ ...api(c), currentUser: c.currentUserProfile }) },\n  // 34. Mutuals Panel\n  { key: 'mutuals', C: MutualsPanel, fb: ' Ortak Arkadalar Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 35. Profile Showcase\n  { key: 'profileShowcase', C: ProfileShowcasePanel, fb: ' Profil Vitrini Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username, currentUser: c.currentUserProfile }) },\n  // 36. Session Manager\n  { key: 'sessionManager', C: SessionManagerModal, fb: ' Oturum Yneticisi Ykleniyor...',\n    props: api },\n  // 37. Coin Store\n  { key: 'coinStore', C: CoinStoreModal, fb: ' Maaza Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 38. Premium Management\n  { key: 'premiumManagement', C: PremiumManagementPanel, fb: ' Premium Ynetimi Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 39. Subscription Manager\n  { key: 'subscriptionManager', C: SubscriptionManager, fb: ' Abonelikler Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 40. Gift Premium\n  { key: 'giftPremium', C: GiftPremiumPanel, fb: ' Hediye Premium Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 41. Premium Marketplace\n  { key: 'premiumMarketplace', C: PremiumMarketplace, fb: ' Premium Maaza Ykleniyor...',\n    props: api },\n  // 42. Theme Marketplace\n  { key: 'themeMarketplace', C: ThemeMarketplace, fb: ' Tema Maazas Ykleniyor...',\n    props: api },\n  // 43. AI Chatbot\n  { key: 'aIChatbot', C: AIChatbotPanel, fb: ' AI Chatbot Ykleniyor...',\n    props: c => ({ ...api(c), username: c.username }) },\n  // 44. Collaborative Code Editor\n  { key: 'codeEditor', C: CollaborativeCodeEditor, fb: ' Kod Editr Ykleniyor...',\n    props: c => ({ ...api(c), roomSlug: c.activeChat?.slug, username: c.username }) },\n  // 45. Screen Share\n  { key: 'screenShare', C: ScreenShareModal, fb: ' Ekran Paylam Ykleniyor...',\n    props: c => ({ ...api(c), roomSlug: c.activeChat?.slug }) },\n  // 46. Live Stream\n  { key: 'liveStreamModal', C: LiveStreamModal, fb: ' Canl Yayn Ykleniyor...',\n    props: c => ({ ...api(c), roomSlug: c.activeChat?.slug, username: c.username }) },\n  // 47. Advanced Analytics\n  { key: 'advancedAnalytics', C: AdvancedAnalyticsDashboard, fb: ' Gelimi Analitik Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 48. File Manager\n  { key: 'fileManager', C: FileManagerPanel, fb: ' Dosya Yneticisi Ykleniyor...',\n    props: c => ({ ...api(c), roomSlug: c.activeChat?.slug }) },\n  // 49. Reports\n  { key: 'reports', C: ReportsPanel, fb: ' Raporlar Ykleniyor...',\n    props: c => ({ ...api(c), serverId: c.activeChat?.server_id }) },\n  // 50. Error Reporting\n  { key: 'errorReporting', C: ErrorReportingPanel, fb: ' Hata Raporlama Ykleniyor...',\n    props: api },\n  // Feature Hub (not lazy, no suspense needed)\n  { key: 'featureHub', C: FeatureHubModal, noSuspense: true },\n];\n","import React, { Suspense } from 'react';\nimport { BATCH11_MODALS } from './batch11Config';\n\n/**\n * AppModalsBatch11  Data-driven renderer for 51 modals\n * Config lives in batch11Config.js\n */\nconst AppModalsBatch11 = (props) => {\n    const { modals, closeModal } = props;\n    return (\n        <>\n            {BATCH11_MODALS.map(({ key, C, fb, cond, props: getProps, noSuspense }) => {\n                if (!modals[key]) return null;\n                if (cond && !cond(props)) return null;\n                const modalProps = getProps ? { ...getProps({ ...props, closeModal }), onClose: () => closeModal(key) } : {};\n                if (noSuspense) return <C key={key} {...modalProps} />;\n                return (\n                    <Suspense key={key} fallback={<div>{fb || 'Ykleniyor...'}</div>}>\n                        <C {...modalProps} />\n                    </Suspense>\n                );\n            })}\n        </>\n    );\n};\n\nexport default AppModalsBatch11;\n","import React, { Suspense } from 'react';\r\nimport LoadingSpinner from '../LoadingSpinner';\r\nimport { ABSOLUTE_HOST_URL } from '../../config/api';\r\n\r\n// Lazy imports for Standard/tail modals\r\nconst ImageLightbox = React.lazy(() => import('../ImageLightbox'));\r\nconst MessageTemplateModal = React.lazy(() => import('../MessageTemplateModal'));\r\nconst PinnedMessages = React.lazy(() => import('../../PinnedMessages'));\r\nconst SummaryModal = React.lazy(() => import('../../SummaryModal'));\r\nconst ThemeStoreModal = React.lazy(() => import('../ThemeStoreModal'));\r\nconst UserProfileModal = React.lazy(() => import('../../UserProfileModal'));\r\n\r\n/**\r\n * AppModalsStandard  Standard/tail modals\r\n * Image lightbox, pinned messages, profile modal, theme store, summary, templates\r\n */\r\nconst AppModalsStandard = ({\r\n    modals, closeModal,\r\n    fetchWithAuth, activeChat, username,\r\n    currentTheme, setCurrentTheme,\r\n    pinnedMessages,\r\n    zoomedImage, setZoomedImage,\r\n    galleryData, setGalleryData,\r\n    viewingProfile, setViewingProfile,\r\n    isAdmin, richTextRef,\r\n    getDeterministicAvatar, handleDMClick, friendsList,\r\n}) => {\r\n    return (\r\n        <>\r\n        {zoomedImage && <Suspense fallback={null}><ImageLightbox imageUrl={zoomedImage} onClose={() => setZoomedImage(null)} /></Suspense>}\r\n        {galleryData && <Suspense fallback={null}><ImageLightbox images={galleryData.images} startIndex={galleryData.startIndex} onClose={() => setGalleryData(null)} /></Suspense>}\r\n        {modals.pinned && <Suspense fallback={<LoadingSpinner size=\"small\" text=\"Sabitlenmi mesajlar ykleniyor...\" />}><PinnedMessages messages={pinnedMessages} onClose={() => closeModal('pinned')} /></Suspense>}\r\n        {viewingProfile && <Suspense fallback={null}><UserProfileModal user={viewingProfile} onClose={() => setViewingProfile(null)} onStartDM={handleDMClick} onImageClick={setZoomedImage} getDeterministicAvatar={getDeterministicAvatar} fetchWithAuth={fetchWithAuth} apiBaseUrl={ABSOLUTE_HOST_URL} currentUser={username} friendsList={friendsList} /></Suspense>}\r\n        {modals.themeStore && (\r\n            <Suspense fallback={<LoadingSpinner size=\"medium\" text=\"Temalar ykleniyor...\" />}>\r\n                <ThemeStoreModal\r\n                    onClose={() => closeModal('themeStore')}\r\n                    currentTheme={currentTheme}\r\n                    onThemeChange={setCurrentTheme}\r\n                />\r\n            </Suspense>\r\n        )}\r\n        {modals.summary && (\r\n            <Suspense fallback={<LoadingSpinner size=\"medium\" text=\"zet hazrlanyor...\" />}>\r\n                <SummaryModal\r\n                    roomSlug={activeChat.id}\r\n                    onClose={() => closeModal('summary')}\r\n                    fetchWithAuth={fetchWithAuth}\r\n                    apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                />\r\n            </Suspense>\r\n        )}\r\n        {modals.templateModal && (\r\n            <Suspense fallback={<LoadingSpinner size=\"small\" text=\"ablonlar ykleniyor...\" />}>\r\n                <MessageTemplateModal\r\n                    onClose={() => closeModal('templateModal')}\r\n                    onSelect={(content) => {\r\n                        richTextRef.current?.appendText?.(content);\r\n                        closeModal('templateModal');\r\n                    }}\r\n                    fetchWithAuth={fetchWithAuth}\r\n                    apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                    isAdmin={isAdmin}\r\n                />\r\n            </Suspense>\r\n        )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AppModalsStandard;\r\n","import React from 'react';\nimport { useUIStore } from '../stores/useUIStore';\nimport AppModalsCore from './AppModals/AppModalsCore';\nimport AppModalsBatch1to8 from './AppModals/AppModalsBatch1to8';\nimport AppModalsBatch10 from './AppModals/AppModalsBatch10';\nimport AppModalsBatch11 from './AppModals/AppModalsBatch11';\nimport AppModalsStandard from './AppModals/AppModalsStandard';\n\n/**\n * AppModals  Thin orchestrator for all application modals\n * Delegates rendering to 5 sub-components organized by feature batch.\n * Original: 1,970 lines -> Now: ~30 lines (-97%)\n */\nconst AppModals = (props) => {\n    const { modals, openModal, closeModal, toggleModal } = useUIStore();\n    const shared = { ...props, modals, openModal, closeModal, toggleModal };\n\n    return (\n        <>\n            <AppModalsCore {...shared} />\n            <AppModalsBatch1to8 {...shared} />\n            <AppModalsBatch10 {...shared} />\n            <AppModalsBatch11 {...shared} />\n            <AppModalsStandard {...shared} />\n        </>\n    );\n};\n\nexport default AppModals;\r\n","import { getApiBase } from '../utils/apiEndpoints';\r\nimport { MEDIA_BASE_URL } from './constants';\r\n// frontend/src/utils/cdn.js\r\n//  CDN (Content Delivery Network) Integration - ENHANCED VERSION\r\n\r\n//  Cloudflare R2 CDN Base URL\r\nexport const R2_CDN_URL = MEDIA_BASE_URL;\r\nexport const R2_ASSETS_URL = `${R2_CDN_URL}/assets`;\r\nexport const R2_AVATARS_URL = `${R2_CDN_URL}/avatars`;\r\nexport const R2_UPLOADS_URL = `${R2_CDN_URL}/uploads`;\r\n\r\n// Logo URL (for consistent usage across the app)\r\nexport const LOGO_URL = `${R2_ASSETS_URL}/logo.png`;\r\nexport const LOGO_WEBP_URL = `${R2_ASSETS_URL}/logo.webp`;\r\n\r\n// CDN configuration\r\nconst CDN_CONFIG = {\r\n    enabled: import.meta.env.VITE_CDN_ENABLED === 'true',\r\n    baseUrl: import.meta.env.VITE_CDN_URL || R2_CDN_URL,\r\n    fallbackUrl: import.meta.env.VITE_BACKEND_URL || getApiBase().replace('/api', ''),\r\n    optimizeImages: true\r\n};\r\n\r\n/**\r\n * Get optimized CDN URL for media files\r\n * @param {string} url - Original media URL\r\n * @param {object} options - Optimization options (width, height, quality, format)\r\n * @returns {string} - Optimized CDN URL\r\n */\r\nexport const getCDNUrl = (url, options = {}) => {\r\n    if (!url) return '';\r\n\r\n    // If already a full URL with CDN, return as-is\r\n    if (url.includes(CDN_CONFIG.baseUrl)) {\r\n        return url;\r\n    }\r\n\r\n    // If it's a full external URL, return as-is\r\n    if (url.startsWith('http://') || url.startsWith('https://')) {\r\n        return url;\r\n    }\r\n\r\n    // Build CDN URL\r\n    let cdnUrl = url;\r\n    if (CDN_CONFIG.enabled) {\r\n        // Remove leading slash\r\n        const cleanPath = url.startsWith('/') ? url.substring(1) : url;\r\n        cdnUrl = `${CDN_CONFIG.baseUrl}/${cleanPath}`;\r\n    } else {\r\n        // Fallback to backend\r\n        cdnUrl = `${CDN_CONFIG.fallbackUrl}${url.startsWith('/') ? url : '/' + url}`;\r\n    }\r\n\r\n    // Image optimization parameters\r\n    if (CDN_CONFIG.optimizeImages && isImageUrl(url)) {\r\n        const params = buildImageParams(options);\r\n        if (params) {\r\n            cdnUrl += `?${params}`;\r\n        }\r\n    }\r\n\r\n    return cdnUrl;\r\n};\r\n\r\n/**\r\n * Check if URL is an image\r\n */\r\nconst isImageUrl = (url) => {\r\n    const imageExts = ['.jpg', '.jpeg', '.png', '.gif', '.webp', '.svg'];\r\n    return imageExts.some(ext => url.toLowerCase().includes(ext));\r\n};\r\n\r\n/**\r\n * Build image optimization parameters\r\n */\r\nconst buildImageParams = (options) => {\r\n    const params = [];\r\n\r\n    if (options.width) {\r\n        params.push(`w=${options.width}`);\r\n    }\r\n\r\n    if (options.height) {\r\n        params.push(`h=${options.height}`);\r\n    }\r\n\r\n    if (options.quality) {\r\n        params.push(`q=${options.quality}`);\r\n    }\r\n\r\n    if (options.format) {\r\n        params.push(`f=${options.format}`);\r\n    }\r\n\r\n    return params.join('&');\r\n};\r\n\r\n/**\r\n * Upload file to CDN via backend\r\n */\r\nexport const uploadToCDN = async (file, folder = 'uploads') => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('folder', folder);\r\n\r\n    try {\r\n        const response = await fetch(`${CDN_CONFIG.fallbackUrl}/api/cdn/upload/`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n            },\r\n            body: formData\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error('Upload failed');\r\n        }\r\n\r\n        const data = await response.json();\r\n        return data.url; // CDN URL\r\n    } catch (error) {\r\n        console.error('CDN upload error:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n/**\r\n * Delete file from CDN\r\n */\r\nexport const deleteFromCDN = async (fileUrl) => {\r\n    try {\r\n        const response = await fetch(`${CDN_CONFIG.fallbackUrl}/api/cdn/delete/`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({ url: fileUrl })\r\n        });\r\n\r\n        if (!response.ok) {\r\n            throw new Error('Delete failed');\r\n        }\r\n\r\n        const data = await response.json();\r\n        return data.success;\r\n    } catch (error) {\r\n        console.error('CDN delete error:', error);\r\n        return false;\r\n    }\r\n};\r\n\r\n/**\r\n * Get media file URL\r\n */\r\nexport const getMediaUrl = (mediaPath, options = {}) => {\r\n    if (!mediaPath || typeof mediaPath !== 'string') return '';\r\n    const path = mediaPath.startsWith('media/') ? mediaPath : `media/${mediaPath}`;\r\n    return getCDNUrl(path, options);\r\n};\r\n\r\n/**\r\n * Get avatar URL with optimization\r\n */\r\nexport const getAvatarUrl = (avatarPath, size = 128) => {\r\n    if (!avatarPath || typeof avatarPath !== 'string') return '/default-avatar.png';\r\n\r\n    const path = avatarPath.startsWith('media/') ? avatarPath : `media/avatars/${avatarPath}`;\r\n\r\n    return getCDNUrl(path, {\r\n        width: size,\r\n        height: size,\r\n        quality: 90,\r\n        format: 'webp'\r\n    });\r\n};\r\n\r\n/**\r\n * Get file URL\r\n */\r\nexport const getFileUrl = (filePath) => {\r\n    if (!filePath || typeof filePath !== 'string') return '';\r\n    const path = filePath.startsWith('media/') ? filePath : `media/files/${filePath}`;\r\n    return getCDNUrl(path);\r\n};\r\n\r\n/**\r\n * Get optimized image URL (Cloudflare Image Resizing)\r\n */\r\nexport const getOptimizedImageUrl = (imagePath, width, quality = 80) => {\r\n    if (!imagePath) return '';\r\n    if (!CDN_ENABLED) return getCDNUrl(imagePath);\r\n\r\n    const baseUrl = getCDNUrl(imagePath);\r\n    return `${baseUrl}?width=${width}&quality=${quality}&format=auto`;\r\n};\r\n\r\n/**\r\n * Get thumbnail URL\r\n */\r\nexport const getThumbnailUrl = (imagePath, size = 256) => {\r\n    return getOptimizedImageUrl(imagePath, size, 75);\r\n};\r\n\r\n/**\r\n * Preload image\r\n */\r\nexport const preloadImage = (url) => {\r\n    return new Promise((resolve, reject) => {\r\n        const img = new Image();\r\n        img.onload = () => resolve(url);\r\n        img.onerror = reject;\r\n        img.src = url;\r\n    });\r\n};\r\n\r\n/**\r\n * Check if CDN is enabled\r\n */\r\nexport const isCDNEnabled = () => CDN_CONFIG.enabled;\r\n\r\n/**\r\n * Get CDN status\r\n */\r\nexport const getCDNStatus = () => ({\r\n    enabled: CDN_CONFIG.enabled,\r\n    url: CDN_CONFIG.baseUrl,\r\n    provider: import.meta.env.VITE_CDN_PROVIDER || 'cloudfront',\r\n    optimizeImages: CDN_CONFIG.optimizeImages\r\n});\r\n\r\nexport default {\r\n    getCDNUrl,\r\n    getMediaUrl,\r\n    getAvatarUrl,\r\n    getFileUrl,\r\n    getOptimizedImageUrl,\r\n    getThumbnailUrl,\r\n    preloadImage,\r\n    uploadToCDN,\r\n    deleteFromCDN,\r\n    isCDNEnabled,\r\n    getCDNStatus,\r\n    CDN_CONFIG\r\n};\r\n\r\n\r\n\r\n\r\n","// frontend/src/SplashScreen.js - Modern Animated Splash\r\n\r\nimport React, { useState } from 'react';\r\nimport './SplashScreen.css';\r\nimport { LOGO_URL } from './utils/cdn';\r\n\r\n// R2 CDN'den logo - fallback olarak SVG\r\nconst R2_LOGO_URL = LOGO_URL;\r\n\r\n// Fallback SVG paw logo\r\nconst PawLogoSVG = () => (\r\n    <svg className=\"splash-logo\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <ellipse cx=\"50\" cy=\"62\" rx=\"22\" ry=\"18\" fill=\"white\" />\r\n        <ellipse cx=\"28\" cy=\"38\" rx=\"10\" ry=\"12\" fill=\"white\" />\r\n        <ellipse cx=\"72\" cy=\"38\" rx=\"10\" ry=\"12\" fill=\"white\" />\r\n        <ellipse cx=\"22\" cy=\"55\" rx=\"8\" ry=\"10\" fill=\"white\" />\r\n        <ellipse cx=\"78\" cy=\"55\" rx=\"8\" ry=\"10\" fill=\"white\" />\r\n    </svg>\r\n);\r\n\r\n// R2'den logo, yklenemezse SVG fallback\r\nconst PawLogo = () => {\r\n    const [imgError, setImgError] = useState(false);\r\n\r\n    if (imgError) {\r\n        return <PawLogoSVG />;\r\n    }\r\n\r\n    return (\r\n        <img\r\n            src={R2_LOGO_URL}\r\n            alt=\"Pawscord\"\r\n            className=\"splash-logo\"\r\n            onError={() => setImgError(true)}\r\n        />\r\n    );\r\n};\r\n\r\nconst SplashScreen = ({ animationState }) => {\r\n    return (\r\n        <div className={`splash-screen ${animationState}`}>\r\n            {/* Background particles */}\r\n            <div className=\"particles\">\r\n                {[...Array(15)].map((_, i) => (\r\n                    <div key={i} className=\"particle\" style={{\r\n                        '--delay': `${Math.random() * 2}s`,\r\n                        '--x': `${Math.random() * 100}%`,\r\n                        '--size': `${4 + Math.random() * 8}px`,\r\n                        '--duration': `${2 + Math.random() * 3}s`\r\n                    }} />\r\n                ))}\r\n            </div>\r\n\r\n            {/* Animated rings */}\r\n            <div className=\"rings-container\">\r\n                <div className=\"ring ring-1\"></div>\r\n                <div className=\"ring ring-2\"></div>\r\n                <div className=\"ring ring-3\"></div>\r\n            </div>\r\n\r\n            {/* Logo with glow - R2'den, fallback SVG */}\r\n            <div className=\"logo-container\">\r\n                <div className=\"logo-glow\"></div>\r\n                <PawLogo />\r\n            </div>\r\n\r\n            {/* Brand text */}\r\n            <div className=\"brand-text\">\r\n                <span className=\"letter\" style={{ '--i': 0 }}>P</span>\r\n                <span className=\"letter\" style={{ '--i': 1 }}>A</span>\r\n                <span className=\"letter\" style={{ '--i': 2 }}>W</span>\r\n                <span className=\"letter\" style={{ '--i': 3 }}>S</span>\r\n                <span className=\"letter\" style={{ '--i': 4 }}>C</span>\r\n                <span className=\"letter\" style={{ '--i': 5 }}>O</span>\r\n                <span className=\"letter\" style={{ '--i': 6 }}>R</span>\r\n                <span className=\"letter\" style={{ '--i': 7 }}>D</span>\r\n            </div>\r\n\r\n            {/* Loading indicator */}\r\n            <div className=\"loading-bar\">\r\n                <div className=\"loading-progress\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default React.memo(SplashScreen);\r\n\r\n","// frontend/src/components/ConnectionStatusBar.js\r\n//  FEATURE 5: Connection Status Indicator\r\n// Shows online/offline/reconnecting status\r\n\r\nimport { useState, useEffect, memo, useCallback } from 'react';\r\nimport { FaWifi, FaExclamationTriangle, FaSync } from 'react-icons/fa';\r\n\r\nconst ConnectionStatusBar = () => {\r\n    const [status, setStatus] = useState('online'); // online | offline | reconnecting\r\n    const [visible, setVisible] = useState(false);\r\n    const [fadeOut, setFadeOut] = useState(false);\r\n\r\n    const handleOffline = useCallback(() => {\r\n        setStatus('offline');\r\n        setVisible(true);\r\n        setFadeOut(false);\r\n    }, []);\r\n\r\n    const handleOnline = useCallback(() => {\r\n        setStatus('reconnecting');\r\n        setVisible(true);\r\n        setFadeOut(false);\r\n        // Brief \"reconnecting\" then show \"connected\" then fade out\r\n        setTimeout(() => {\r\n            setStatus('online');\r\n            setTimeout(() => {\r\n                setFadeOut(true);\r\n                setTimeout(() => setVisible(false), 500);\r\n            }, 2000);\r\n        }, 1000);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('online', handleOnline);\r\n        window.addEventListener('offline', handleOffline);\r\n\r\n        // Check initial state\r\n        if (!navigator.onLine) handleOffline();\r\n\r\n        return () => {\r\n            window.removeEventListener('online', handleOnline);\r\n            window.removeEventListener('offline', handleOffline);\r\n        };\r\n    }, [handleOnline, handleOffline]);\r\n\r\n    if (!visible) return null;\r\n\r\n    const config = {\r\n        offline: {\r\n            bg: 'linear-gradient(135deg, #da373c, #a12d2f)',\r\n            icon: <FaExclamationTriangle />,\r\n            text: 'nternet balants yok',\r\n            pulse: false,\r\n        },\r\n        reconnecting: {\r\n            bg: 'linear-gradient(135deg, #f0b232, #d4982a)',\r\n            icon: <FaSync className=\"conn-status-spin\" />,\r\n            text: 'Yeniden balanlyor...',\r\n            pulse: true,\r\n        },\r\n        online: {\r\n            bg: 'linear-gradient(135deg, #23a559, #1e8e4a)',\r\n            icon: <FaWifi />,\r\n            text: 'Balant saland!',\r\n            pulse: false,\r\n        },\r\n    };\r\n\r\n    const c = config[status];\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                ...S.bar,\r\n                background: c.bg,\r\n                opacity: fadeOut ? 0 : 1,\r\n                transform: fadeOut ? 'translateY(-100%)' : 'translateY(0)',\r\n            }}\r\n        >\r\n            <span style={S.icon}>{c.icon}</span>\r\n            <span style={S.text}>{c.text}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst S = {\r\n    bar: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        height: 32,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: 8,\r\n        zIndex: 99999,\r\n        transition: 'all 0.5s ease',\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.3)',\r\n    },\r\n    icon: { color: '#fff', fontSize: 14, display: 'flex', alignItems: 'center' },\r\n    text: { color: '#fff', fontSize: 13, fontWeight: 600 },\r\n};\r\n\r\nif (typeof document !== 'undefined') {\r\n    const id = 'conn-status-css';\r\n    if (!document.getElementById(id)) {\r\n        const s = document.createElement('style');\r\n        s.id = id;\r\n        s.textContent = `@keyframes connSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\r\n.conn-status-spin { animation: connSpin 1s linear infinite; }`;\r\n        document.head.appendChild(s);\r\n    }\r\n}\r\n\r\nexport default memo(ConnectionStatusBar);\r\n","// frontend/src/components/ScrollToBottomButton.js\r\n//  FEATURE 4: Scroll to Bottom FAB with Unread Count\r\n// Mesaj listesinde aa kaydrmak iin floating buton\r\n\r\nimport { memo } from 'react';\r\nimport { FaChevronDown } from 'react-icons/fa';\r\n\r\nconst ScrollToBottomButton = ({ onClick, unreadCount = 0, visible = true }) => {\r\n    if (!visible) return null;\r\n\r\n    return (\r\n        <button\r\n            onClick={onClick}\r\n            style={S.fab}\r\n            className=\"scroll-to-bottom-fab\"\r\n            title=\"En alta git\"\r\n        >\r\n            {unreadCount > 0 && (\r\n                <div style={S.badge}>\r\n                    {unreadCount > 99 ? '99+' : unreadCount}\r\n                </div>\r\n            )}\r\n            <FaChevronDown style={{ fontSize: 16 }} />\r\n        </button>\r\n    );\r\n};\r\n\r\nconst S = {\r\n    fab: {\r\n        position: 'absolute',\r\n        bottom: 90,\r\n        right: 20,\r\n        width: 40,\r\n        height: 40,\r\n        borderRadius: '50%',\r\n        backgroundColor: '#313338',\r\n        border: '1px solid rgba(255,255,255,0.1)',\r\n        color: '#dcddde',\r\n        cursor: 'pointer',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        boxShadow: '0 4px 12px rgba(0,0,0,0.4)',\r\n        transition: 'all 0.2s ease',\r\n        zIndex: 50,\r\n    },\r\n    badge: {\r\n        position: 'absolute',\r\n        top: -8,\r\n        right: -4,\r\n        minWidth: 20,\r\n        height: 20,\r\n        borderRadius: 10,\r\n        backgroundColor: '#5865f2',\r\n        color: '#fff',\r\n        fontSize: 11,\r\n        fontWeight: 700,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        padding: '0 5px',\r\n        boxShadow: '0 2px 6px rgba(88,101,242,0.4)',\r\n    },\r\n};\r\n\r\nif (typeof document !== 'undefined') {\r\n    const id = 'scroll-bottom-fab-css';\r\n    if (!document.getElementById(id)) {\r\n        const s = document.createElement('style');\r\n        s.id = id;\r\n        s.textContent = `.scroll-to-bottom-fab:hover { background-color: #404249 !important; transform: scale(1.1); }`;\r\n        document.head.appendChild(s);\r\n    }\r\n}\r\n\r\nexport default memo(ScrollToBottomButton);\r\n","// frontend/src/components/MessageDateDivider.js\r\n//  FEATURE 6: Message Date Divider\r\n// Groups messages by date with visual separator\r\n\r\nimport { memo } from 'react';\r\n\r\nconst formatDateLabel = (dateStr) => {\r\n    const date = new Date(dateStr);\r\n    const now = new Date();\r\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n    const yesterday = new Date(today.getTime() - 86400000);\r\n    const msgDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n\r\n    if (msgDate.getTime() === today.getTime()) return 'Bugn';\r\n    if (msgDate.getTime() === yesterday.getTime()) return 'Dn';\r\n\r\n    const diffDays = Math.floor((today.getTime() - msgDate.getTime()) / 86400000);\r\n    if (diffDays < 7) {\r\n        const days = ['Pazar', 'Pazartesi', 'Sal', 'aramba', 'Perembe', 'Cuma', 'Cumartesi'];\r\n        return days[date.getDay()];\r\n    }\r\n\r\n    return date.toLocaleDateString('tr-TR', { day: 'numeric', month: 'long', year: 'numeric' });\r\n};\r\n\r\nconst MessageDateDivider = ({ date }) => {\r\n    return (\r\n        <div style={S.container}>\r\n            <div style={S.line} />\r\n            <span style={S.label}>{formatDateLabel(date)}</span>\r\n            <div style={S.line} />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst S = {\r\n    container: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: 12,\r\n        padding: '16px 0 8px',\r\n        userSelect: 'none',\r\n    },\r\n    line: {\r\n        flex: 1,\r\n        height: 1,\r\n        backgroundColor: 'rgba(255,255,255,0.06)',\r\n    },\r\n    label: {\r\n        color: '#949ba4',\r\n        fontSize: 12,\r\n        fontWeight: 600,\r\n        whiteSpace: 'nowrap',\r\n        padding: '2px 8px',\r\n        borderRadius: 12,\r\n        backgroundColor: 'rgba(255,255,255,0.03)',\r\n    },\r\n};\r\n\r\nexport default memo(MessageDateDivider);\r\n","// frontend/src/components/TypingIndicatorEnhanced.js\r\n//  FEATURE 11: Enhanced Typing Indicator\r\n// Shows \"X yazyor...\" with animated dots and multiple user support\r\n\r\nimport { memo, useMemo } from 'react';\r\n\r\nconst TypingIndicatorEnhanced = ({ typingUsers = [], currentUser }) => {\r\n    const filtered = useMemo(\r\n        () => typingUsers.filter(u => u !== currentUser),\r\n        [typingUsers, currentUser]\r\n    );\r\n\r\n    if (filtered.length === 0) return null;\r\n\r\n    const text = useMemo(() => {\r\n        if (filtered.length === 1) return `${filtered[0]} yazyor`;\r\n        if (filtered.length === 2) return `${filtered[0]} ve ${filtered[1]} yazyor`;\r\n        if (filtered.length === 3) return `${filtered[0]}, ${filtered[1]} ve ${filtered[2]} yazyor`;\r\n        return `${filtered[0]}, ${filtered[1]} ve ${filtered.length - 2} kii daha yazyor`;\r\n    }, [filtered]);\r\n\r\n    return (\r\n        <div style={S.container}>\r\n            <div style={S.dots}>\r\n                <span style={{ ...S.dot, animationDelay: '0s' }} />\r\n                <span style={{ ...S.dot, animationDelay: '0.2s' }} />\r\n                <span style={{ ...S.dot, animationDelay: '0.4s' }} />\r\n            </div>\r\n            <span style={S.text}>{text}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst S = {\r\n    container: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: 8,\r\n        padding: '4px 16px',\r\n        height: 24,\r\n        overflow: 'hidden',\r\n    },\r\n    dots: {\r\n        display: 'flex',\r\n        gap: 3,\r\n        alignItems: 'center',\r\n    },\r\n    dot: {\r\n        width: 6,\r\n        height: 6,\r\n        borderRadius: '50%',\r\n        backgroundColor: '#fff',\r\n        animation: 'typingDotBounce 1.2s infinite ease-in-out',\r\n    },\r\n    text: {\r\n        color: '#949ba4',\r\n        fontSize: 12,\r\n        fontWeight: 500,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n    },\r\n};\r\n\r\nif (typeof document !== 'undefined') {\r\n    const id = 'typing-enhanced-css';\r\n    if (!document.getElementById(id)) {\r\n        const s = document.createElement('style');\r\n        s.id = id;\r\n        s.textContent = `\r\n            @keyframes typingDotBounce {\r\n                0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }\r\n                30% { transform: translateY(-4px); opacity: 1; }\r\n            }\r\n        `;\r\n        document.head.appendChild(s);\r\n    }\r\n}\r\n\r\nexport default memo(TypingIndicatorEnhanced);\r\n","// frontend/src/components/ImageGalleryGroup.js\n// Extracted from App.js - WhatsApp-style image gallery\n// =============================================\n\nimport React from 'react';\n\n// ---  WhatsApp-style Image Gallery Group ---\nconst ImageGalleryGroup = React.memo(({ messages, currentUser, absoluteHostUrl, isAdmin, onOpenGallery, onViewProfile, onDelete, allUsers, getDeterministicAvatar, fetchWithAuth, onVisible }) => {\n    const firstMsg = messages[0];\n\n    // Avatar\n    const userAvatarBase = (() => {\n        let url = firstMsg.avatar;\n        if (!url) {\n            const userObj = allUsers?.find(u => u.username === firstMsg.username);\n            url = userObj?.avatar;\n        }\n        if (!url) url = getDeterministicAvatar(firstMsg.username);\n        if (url && !url.startsWith('http') && !url.startsWith('blob:')) {\n            url = `${absoluteHostUrl.replace(/\\/$/, '')}/${url.replace(/^\\//, '')}`;\n        }\n        return url;\n    })();\n\n    // Get full URL for image\n    const getFullUrl = (url) => {\n        if (!url) return null;\n        if (url.startsWith('http') || url.startsWith('blob:')) return url;\n        return `${absoluteHostUrl.replace(/\\/$/, '')}/${url.replace(/^\\//, '')}`;\n    };\n\n    // Collect all image URLs\n    const allImages = messages.map(msg => {\n        const imgUrl = msg.image_url || msg.image;\n        if (imgUrl) return getFullUrl(imgUrl);\n        const fileUrl = msg.file_url || msg.file;\n        if (fileUrl && /\\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(msg.file_name || '')) {\n            return getFullUrl(fileUrl);\n        }\n        return null;\n    }).filter(Boolean);\n\n    const MAX_VISIBLE = 4;\n    const totalCount = allImages.length;\n    const visibleImages = allImages.slice(0, MAX_VISIBLE);\n    const visibleCount = visibleImages.length;\n    const extraCount = Math.max(0, totalCount - MAX_VISIBLE);\n\n    // Grid layout based on visible count\n    const getGridStyle = () => {\n        if (visibleCount === 1) return { gridTemplateColumns: '1fr', maxWidth: '300px' };\n        if (visibleCount === 2) return { gridTemplateColumns: '1fr 1fr', maxWidth: '400px' };\n        if (visibleCount === 3) return { gridTemplateColumns: '1fr 1fr', maxWidth: '400px' };\n        return { gridTemplateColumns: '1fr 1fr', maxWidth: '400px' };\n    };\n\n    const timestamp = firstMsg.timestamp ? new Date(firstMsg.timestamp) : null;\n    const timeStr = timestamp ?\n        (timestamp.toDateString() === new Date().toDateString()\n            ? timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n            : timestamp.toLocaleString([], { hour: '2-digit', minute: '2-digit' }))\n        : '';\n\n    const handleImageClick = (clickedIndex) => {\n        if (onOpenGallery) {\n            onOpenGallery(allImages, clickedIndex);\n        }\n    };\n\n    return (\n        <div style={{\n            display: 'flex',\n            padding: '4px 48px 4px 16px',\n            gap: '12px',\n            position: 'relative',\n        }}>\n            {/* Avatar */}\n            <div style={{ flexShrink: 0, width: '40px', paddingTop: '2px' }}>\n                <img\n                    src={userAvatarBase}\n                    alt={firstMsg.username}\n                    style={{ width: '40px', height: '40px', borderRadius: '50%', cursor: 'pointer', objectFit: 'cover' }}\n                    onClick={() => onViewProfile(firstMsg.username)}\n                />\n            </div>\n\n            {/* Content */}\n            <div style={{ flex: 1, minWidth: 0 }}>\n                {/* Header */}\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '4px' }}>\n                    <strong style={{\n                        cursor: 'pointer',\n                        color: isAdmin && firstMsg.username === currentUser ? '#f0b232' : '#fff',\n                        fontSize: '0.95em'\n                    }} onClick={() => onViewProfile(firstMsg.username)}>\n                        {firstMsg.username}\n                    </strong>\n                    <span style={{ color: '#72767d', fontSize: '0.75em' }}>{timeStr}</span>\n                    {totalCount > 1 && (\n                        <span style={{ color: '#5865f2', fontSize: '0.72em', fontWeight: 600 }}>\n                             {totalCount} fotoraf\n                        </span>\n                    )}\n                </div>\n\n                {/*  Image Grid - Max 4 visible */}\n                <div style={{\n                    display: 'grid',\n                    ...getGridStyle(),\n                    gap: '3px',\n                    borderRadius: '12px',\n                    overflow: 'hidden',\n                    boxShadow: '0 2px 10px rgba(0,0,0,0.3)',\n                }}>\n                    {visibleImages.map((imgUrl, idx) => {\n                        const isLastWithExtra = idx === MAX_VISIBLE - 1 && extraCount > 0;\n                        return (\n                            <div\n                                key={messages[idx]?.id || idx}\n                                style={{\n                                    aspectRatio: visibleCount === 1 ? 'auto' : (visibleCount === 3 && idx === 0 ? '2/1' : '1/1'),\n                                    overflow: 'hidden',\n                                    position: 'relative',\n                                    ...(visibleCount === 3 && idx === 0 ? { gridColumn: '1 / -1' } : {}),\n                                    maxHeight: visibleCount === 1 ? '300px' : (visibleCount === 3 && idx === 0 ? '200px' : '200px'),\n                                    cursor: 'pointer',\n                                }}\n                                onClick={() => handleImageClick(idx)}\n                            >\n                                <img\n                                    src={imgUrl}\n                                    alt={`gallery-${idx}`}\n                                    style={{\n                                        width: '100%',\n                                        height: '100%',\n                                        objectFit: 'cover',\n                                        display: 'block',\n                                        transition: 'transform 0.2s, filter 0.2s',\n                                        filter: isLastWithExtra ? 'brightness(0.4)' : 'none',\n                                    }}\n                                    loading=\"lazy\"\n                                    onMouseEnter={(e) => {\n                                        e.target.style.transform = 'scale(1.05)';\n                                        if (!isLastWithExtra) e.target.style.filter = 'brightness(0.85)';\n                                    }}\n                                    onMouseLeave={(e) => {\n                                        e.target.style.transform = 'scale(1)';\n                                        if (!isLastWithExtra) e.target.style.filter = 'none';\n                                        else e.target.style.filter = 'brightness(0.4)';\n                                    }}\n                                />\n                                {/* +N overlay on last visible image */}\n                                {isLastWithExtra && (\n                                    <div style={{\n                                        position: 'absolute',\n                                        top: 0, left: 0, right: 0, bottom: 0,\n                                        display: 'flex',\n                                        alignItems: 'center',\n                                        justifyContent: 'center',\n                                        pointerEvents: 'none',\n                                    }}>\n                                        <span style={{\n                                            color: '#fff',\n                                            fontSize: '2rem',\n                                            fontWeight: 700,\n                                            textShadow: '0 2px 8px rgba(0,0,0,0.6)',\n                                            letterSpacing: '1px',\n                                        }}>\n                                            +{extraCount}\n                                        </span>\n                                    </div>\n                                )}\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n});\n\n\nexport default ImageGalleryGroup;\n","/**\r\n *  Lazy-loaded component imports for App.js\r\n * Extracted from App.js to reduce file size and improve readability.\r\n * All components use React.lazy() for code-splitting.\r\n */\r\nimport React from 'react';\r\n\r\n//  CORE: Message & Chat components\r\nexport const Message = React.lazy(() => import('../Message'));\r\nexport const VirtualMessageList = React.lazy(() => import('../components/VirtualMessageList'));\r\nexport const MessageInput = React.lazy(() => import('../components/MessageInput'));\r\n\r\n//  LAZY: Voice/Video components\r\nexport const UserVideoContainer = React.lazy(() => import('../UserVideoContainer'));\r\nexport const VoiceAudioController = React.lazy(() => import('../VoiceAudioController'));\r\nexport const RichTextEditor = React.lazy(() => import('../components/RichTextEditor'));\r\nexport const StickyMessageBanner = React.lazy(() => import('../components/StickyMessageBanner'));\r\n\r\n//  LAZY: Auth screens\r\nexport const LoginPage = React.lazy(() => import('../LoginPage'));\r\nexport const WelcomeScreen = React.lazy(() => import('../WelcomeScreen'));\r\n\r\n//  LAZY: Modal components\r\nexport const ImageModal = React.lazy(() => import('../ImageModal'));\r\nexport const UserProfileModal = React.lazy(() => import('../UserProfileModal'));\r\nexport const PollCreateModal = React.lazy(() => import('../components/PollCreateModal'));\r\nexport const CodeSnippetModal = React.lazy(() => import('../components/CodeSnippetModal'));\r\nexport const AvatarCropper = React.lazy(() => import('../components/AvatarCropper'));\r\n\r\n// --- Ar Bileenler (Lazy Load) ---\r\nexport const CryptoChartModal = React.lazy(() => import('../CryptoChartModal'));\r\nexport const CryptoStoreModal = React.lazy(() => import('../components/CryptoStoreModal'));\r\nexport const PremiumStoreModal = React.lazy(() => import('../components/PremiumStoreModal'));\r\nexport const WhiteboardModal = React.lazy(() => import('../components/WhiteboardModal'));\r\nexport const SoundboardModal = React.lazy(() => import('../components/SoundboardModal'));\r\nexport const KanbanBoard = React.lazy(() => import('../components/KanbanBoard'));\r\nexport const SummaryModal = React.lazy(() => import('../SummaryModal'));\r\nexport const MessageTemplateModal = React.lazy(() => import('../components/MessageTemplateModal'));\r\nexport const CinemaModal = React.lazy(() => import('../CinemaModal'));\r\nexport const StickerPicker = React.lazy(() => import('../StickerPicker'));\r\nexport const GifPicker = React.lazy(() => import('../GifPicker'));\r\nexport const DJModal = React.lazy(() => import('../components/DJModal'));\r\nexport const ThemeStoreModal = React.lazy(() => import('../components/ThemeStoreModal'));\r\nexport const EncryptionKeyModal = React.lazy(() => import('../components/EncryptionKeyModal'));\r\nexport const DownloadModal = React.lazy(() => import('../components/DownloadModal'));\r\nexport const ServerSettingsModal = React.lazy(() => import('../components/ServerSettingsModal'));\r\nexport const CreateGroupModal = React.lazy(() => import('../components/CreateGroupModal'));\r\nexport const AdminAnalyticsPanel = React.lazy(() => import('../components/AdminAnalyticsPanel'));\r\nexport const AdminPanelModal = React.lazy(() => import('../components/AdminPanelModal'));\r\nexport const WebhooksPanel = React.lazy(() => import('../components/WebhooksPanel'));\r\nexport const VanityURLManager = React.lazy(() => import('../components/VanityURLManager'));\r\n\r\n//  MODERATION\r\nexport const AutoModerationDashboard = React.lazy(() => import('../components/AutoModerationDashboard'));\r\nexport const AutoModerationPanel = React.lazy(() => import('../components/AutoModerationPanel'));\r\nexport const RaidProtectionPanel = React.lazy(() => import('../components/RaidProtectionPanel'));\r\nexport const ReportSystemPanel = React.lazy(() => import('../components/ReportSystemPanel'));\r\nexport const AuditLogPanel = React.lazy(() => import('../components/AuditLogPanel'));\r\nexport const UserWarningsPanel = React.lazy(() => import('../components/UserWarningsPanel'));\r\n\r\n//  FEATURE PANELS\r\nexport const BookmarkPanel = React.lazy(() => import('../components/BookmarkPanel'));\r\nexport const ReadLaterPanel = React.lazy(() => import('../components/ReadLaterPanel'));\r\nexport const ChannelPermissionsPanel = React.lazy(() => import('../components/ChannelPermissionsPanel'));\r\nexport const MessageThreadsPanel = React.lazy(() => import('../components/MessageThreadsPanel'));\r\nexport const ModeratorNotesPanel = React.lazy(() => import('../components/ModeratorNotesPanel'));\r\nexport const ServerRolesPanel = React.lazy(() => import('../components/ServerRolesPanel'));\r\nexport const NotificationPreferencesPanel = React.lazy(() => import('../components/NotificationPreferencesPanel'));\r\nexport const MessageOCRPanel = React.lazy(() => import('../components/MessageOCRPanel'));\r\nexport const MassActionsPanel = React.lazy(() => import('../components/MassActionsPanel'));\r\nexport const TimeoutMutePanel = React.lazy(() => import('../components/TimeoutMutePanel'));\r\nexport const ServerThemesPanel = React.lazy(() => import('../components/ServerThemesPanel'));\r\nexport const KeywordMutesPanel = React.lazy(() => import('../components/KeywordMutesPanel'));\r\nexport const WelcomeTemplatesPanel = React.lazy(() => import('../components/WelcomeTemplatesPanel'));\r\nexport const StickyMessagesPanel = React.lazy(() => import('../components/StickyMessagesPanel'));\r\nexport const MessageTemplatesPanel = React.lazy(() => import('../components/MessageTemplatesPanel'));\r\nexport const MessageExportPanel = React.lazy(() => import('../components/MessageExportPanel'));\r\nexport const ArchivedRoomsPanel = React.lazy(() => import('../components/ArchivedRoomsPanel'));\r\nexport const SlowModePanel = React.lazy(() => import('../components/SlowModePanel'));\r\nexport const EmojiManagementPanel = React.lazy(() => import('../components/EmojiManagementPanel'));\r\nexport const MentionsInboxPanel = React.lazy(() => import('../components/MentionsInboxPanel'));\r\nexport const CustomStatusModal = React.lazy(() => import('../components/CustomStatusModal'));\r\n\r\n//  BATCH 1: Analytics & Tracking\r\nexport const ReactionAnalyticsPanel = React.lazy(() => import('../components/ReactionAnalyticsPanel'));\r\nexport const LinkClickTrackingPanel = React.lazy(() => import('../components/LinkClickTrackingPanel'));\r\nexport const JoinLeaveLogsPanel = React.lazy(() => import('../components/JoinLeaveLogsPanel'));\r\nexport const UserActivityPanel = React.lazy(() => import('../components/UserActivityPanel'));\r\nexport const NicknameHistoryPanel = React.lazy(() => import('../components/NicknameHistoryPanel'));\r\nexport const FieldChangeTrackingPanel = React.lazy(() => import('../components/FieldChangeTrackingPanel'));\r\nexport const InviteAnalyticsPanel = React.lazy(() => import('../components/InviteAnalyticsPanel'));\r\n\r\n//  BATCH 2: Content & Moderation\r\nexport const ContentScannerPanel = React.lazy(() => import('../components/ContentScannerPanel'));\r\nexport const EphemeralMessagesPanel = React.lazy(() => import('../components/EphemeralMessagesPanel'));\r\nexport const TopicHistoryPanel = React.lazy(() => import('../components/TopicHistoryPanel'));\r\nexport const DraftsPanel = React.lazy(() => import('../components/DraftsPanel'));\r\nexport const ServerNicknamesPanel = React.lazy(() => import('../components/ServerNicknamesPanel'));\r\n\r\n//  BATCH 3: Server Features\r\nexport const ServerBoostPanel = React.lazy(() => import('../components/ServerBoostPanel'));\r\nexport const RoomWebhooksPanel = React.lazy(() => import('../components/RoomWebhooksPanel'));\r\nexport const OAuthAppsPanel = React.lazy(() => import('../components/OAuthAppsPanel'));\r\nexport const VanityURLPanel = React.lazy(() => import('../components/VanityURLPanel'));\r\nexport const AutoRespondersPanel = React.lazy(() => import('../components/AutoRespondersPanel'));\r\n\r\n//  BATCH 4: Security & Privacy\r\nexport const SessionManagementPanel = React.lazy(() => import('../components/SessionManagementPanel'));\r\nexport const GDPRExportPanel = React.lazy(() => import('../components/GDPRExportPanel'));\r\nexport const DataRetentionPanel = React.lazy(() => import('../components/DataRetentionPanel'));\r\nexport const TwoFactorSetupWizard = React.lazy(() => import('../components/TwoFactorSetupWizard'));\r\n\r\n//  BATCH 5: Communication\r\nexport const EnhancedPollsPanel = React.lazy(() => import('../components/EnhancedPollsPanel'));\r\nexport const VoiceTranscriptsPanel = React.lazy(() => import('../components/VoiceTranscriptsPanel'));\r\n\r\n//  Payment & Engagement\r\nexport const PaymentPanel = React.lazy(() => import('../components/PaymentPanel'));\r\nexport const StoreModal = React.lazy(() => import('../components/StoreModal'));\r\nexport const DailyRewardsModal = React.lazy(() => import('../components/DailyRewardsModal'));\r\nexport const APIUsagePanel = React.lazy(() => import('../components/APIUsagePanel'));\r\nexport const ExportJobsPanel = React.lazy(() => import('../components/ExportJobsPanel'));\r\nexport const ScheduledAnnouncementsPanel = React.lazy(() => import('../components/ScheduledAnnouncementsPanel'));\r\nexport const InviteExportPanel = React.lazy(() => import('../components/InviteExportPanel'));\r\n\r\n//  BATCH 6: Advanced Search & Analytics\r\nexport const AdvancedSearchPanel = React.lazy(() => import('../components/AdvancedSearchPanel'));\r\nexport const GrowthMetricsPanel = React.lazy(() => import('../components/GrowthMetricsPanel'));\r\nexport const LinkPreviewRenderer = React.lazy(() => import('../components/LinkPreviewRenderer'));\r\n\r\n//  BATCH 7: Store & Gamification\r\nexport const InventoryPanel = React.lazy(() => import('../components/InventoryPanel'));\r\nexport const WaitlistPanel = React.lazy(() => import('../components/WaitlistPanel'));\r\nexport const ReferralRewardsPanel = React.lazy(() => import('../components/ReferralRewardsPanel'));\r\n\r\n//  Auth & Security Pages\r\nexport const VerifyEmailPage = React.lazy(() => import('../pages/VerifyEmailPage'));\r\nexport const ForgotPasswordPage = React.lazy(() => import('../pages/ForgotPasswordPage'));\r\nexport const ResetPasswordPage = React.lazy(() => import('../pages/ResetPasswordPage'));\r\nexport const TwoFactorLoginPage = React.lazy(() => import('../pages/TwoFactorLoginPage'));\r\nexport const TwoFactorSetup = React.lazy(() => import('../components/TwoFactorSetup'));\r\nexport const TwoFactorLogin = React.lazy(() => import('../components/TwoFactorLogin'));\r\n\r\n//  Vanity & Invite\r\nexport const VanityInviteScreen = React.lazy(() => import('../components/VanityInviteScreen'));\r\nexport const InviteCodeScreen = React.lazy(() => import('../components/InviteCodeScreen'));\r\nexport const EmailVerification = React.lazy(() => import('../components/EmailVerification'));\r\n\r\n//  Mobile Components\r\nexport const MobileNav = React.lazy(() => import('../components/MobileNav'));\r\nexport const SwipeActions = React.lazy(() => import('../components/SwipeActions'));\r\nexport const VoiceMessage = React.lazy(() => import('../components/VoiceMessage'));\r\n\r\n//  Primary lazy components\r\nexport const FriendsTab = React.lazy(() => import('../FriendsTab'));\r\nexport const RoomList = React.lazy(() => import('../RoomList'));\r\nexport const UserProfilePanel = React.lazy(() => import('../UserProfilePanel'));\r\nexport const VoiceChatPanel = React.lazy(() => import('../VoiceChatPanel'));\r\nexport const ChatUserList = React.lazy(() => import('../ChatUserList'));\r\nexport const PinnedMessages = React.lazy(() => import('../PinnedMessages'));\r\nexport const FloatingVoiceIsland = React.lazy(() => import('../FloatingVoiceIsland'));\r\nexport const CinemaPlayer = React.lazy(() => import('../components/CinemaPlayer'));\r\nexport const ConnectionsPanel = React.lazy(() => import('../components/ConnectionsPanel'));\r\nexport const PasswordSetupModal = React.lazy(() => import('../components/PasswordSetupModal'));\r\nexport const NotificationDropdown = React.lazy(() => import('../components/NotificationDropdown'));\r\n\r\n//  Analytics Panels\r\nexport const ReactionStatsPanel = React.lazy(() => import('../components/panels/ReactionStatsPanel'));\r\nexport const ServerHealthPanel = React.lazy(() => import('../components/panels/ServerHealthPanel'));\r\nexport const ChannelAnalyticsPanel = React.lazy(() => import('../components/panels/ChannelAnalyticsPanel'));\r\nexport const SmartSuggestionsPanel = React.lazy(() => import('../components/panels/SmartSuggestionsPanel'));\r\nexport const UserPresenceInsightsPanel = React.lazy(() => import('../components/panels/UserPresenceInsightsPanel'));\r\n\r\n// UI Components\r\nexport const UserFooter = React.lazy(() => import('../components/UserFooter'));\r\nexport const UserContextMenu = React.lazy(() => import('../components/UserContextMenu'));\r\n\r\n//  BATCH 8: New Features\r\nexport const MiniGamesPanel = React.lazy(() => import('../components/MiniGamesPanel'));\r\nexport const ProjectCollaborationPanel = React.lazy(() => import('../components/ProjectCollaborationPanel'));\r\nexport const AvatarStudioPanel = React.lazy(() => import('../components/AvatarStudioPanel'));\r\n\r\n//  BATCH 9: Essential UX\r\nexport const ImageLightbox = React.lazy(() => import('../components/ImageLightbox'));\r\nexport const ChannelAboutPanel = React.lazy(() => import('../components/ChannelAboutPanel'));\r\nexport const MessageSchedulePicker = React.lazy(() => import('../components/MessageSchedulePicker'));\r\n\r\n//  BATCH 10: Core UX\r\nexport const UserSettingsModal = React.lazy(() => import('../components/UserSettingsModal'));\r\nexport const KeyboardShortcutsModal = React.lazy(() => import('../components/KeyboardShortcutsModal'));\r\nexport const CommandPalette = React.lazy(() => import('../components/CommandPalette'));\r\nexport const ServerDiscoveryPage = React.lazy(() => import('../components/ServerDiscoveryPage'));\r\nexport const AppearanceSettingsPanel = React.lazy(() => import('../components/AppearanceSettingsPanel'));\r\nexport const LanguageSelector = React.lazy(() => import('../components/LanguageSelector'));\r\nexport const ChangelogPanel = React.lazy(() => import('../components/ChangelogPanel'));\r\nexport const LogoutModal = React.lazy(() => import('../components/LogoutModal'));\r\nexport const NotificationSoundSettings = React.lazy(() => import('../components/NotificationSoundSettings'));\r\nexport const QuickSwitcher = React.lazy(() => import('../components/QuickSwitcher'));\r\n\r\n// Security & Account\r\nexport const LoginHistory = React.lazy(() => import('../components/LoginHistory'));\r\nexport const SecuritySettingsPanel = React.lazy(() => import('../components/SecuritySettingsPanel'));\r\nexport const PrivacySettingsPanel = React.lazy(() => import('../components/PrivacySettingsPanel'));\r\nexport const AccountDeletionModal = React.lazy(() => import('../components/AccountDeletionModal'));\r\nexport const BlockListPanel = React.lazy(() => import('../components/BlockListPanel'));\r\nexport const E2EESettingsPanel = React.lazy(() => import('../components/E2EESettingsPanel'));\r\n\r\n// Communication\r\nexport const ThreadView = React.lazy(() => import('../components/ThreadView'));\r\nexport const ScheduledMessagesPanel = React.lazy(() => import('../components/ScheduledMessagesPanel'));\r\nexport const ReminderPanel = React.lazy(() => import('../components/ReminderPanel'));\r\nexport const ForumPanel = React.lazy(() => import('../components/ForumPanel'));\r\nexport const StageChannelPanel = React.lazy(() => import('../components/StageChannelPanel'));\r\nexport const VideoCallModal = React.lazy(() => import('../components/VideoCallModal'));\r\nexport const VoiceSettingsPanel = React.lazy(() => import('../components/VoiceSettingsPanel'));\r\nexport const MessageSearchPanel = React.lazy(() => import('../components/MessageSearchPanel'));\r\nexport const WatchTogether = React.lazy(() => import('../components/WatchTogether'));\r\n\r\n// Server Management\r\nexport const AutoRolesPanel = React.lazy(() => import('../components/AutoRolesPanel'));\r\nexport const ReactionRolesPanel = React.lazy(() => import('../components/ReactionRolesPanel'));\r\nexport const WelcomeMessagesPanel = React.lazy(() => import('../components/WelcomeMessagesPanel'));\r\nexport const EventCalendar = React.lazy(() => import('../components/EventCalendar'));\r\nexport const GiveawayPanel = React.lazy(() => import('../components/GiveawayPanel'));\r\nexport const TicketSystemPanel = React.lazy(() => import('../components/TicketSystemPanel'));\r\nexport const StarboardPanel = React.lazy(() => import('../components/StarboardPanel'));\r\nexport const ServerBackupPanel = React.lazy(() => import('../components/ServerBackupPanel'));\r\nexport const BanAppealsPanel = React.lazy(() => import('../components/BanAppealsPanel'));\r\nexport const CustomCommandsPanel = React.lazy(() => import('../components/CustomCommandsPanel'));\r\nexport const LevelingSystemPanel = React.lazy(() => import('../components/LevelingSystemPanel'));\r\nexport const LiveStreamPanel = React.lazy(() => import('../components/LiveStreamPanel'));\r\n\r\n// Engagement & Social\r\nexport const AchievementsPanel = React.lazy(() => import('../components/AchievementsPanel'));\r\nexport const BirthdaySystemPanel = React.lazy(() => import('../components/BirthdaySystemPanel'));\r\nexport const PremiumModal = React.lazy(() => import('../components/PremiumModal'));\r\nexport const MusicPlayer = React.lazy(() => import('../components/MusicPlayer'));\r\nexport const BotMarketplace = React.lazy(() => import('../components/BotMarketplace'));\r\nexport const ProfileCustomization = React.lazy(() => import('../components/ProfileCustomization'));\r\nexport const IntegrationHubPanel = React.lazy(() => import('../components/IntegrationHubPanel'));\r\nexport const TournamentSystem = React.lazy(() => import('../components/TournamentSystem'));\r\n\r\n// Advanced Features\r\nexport const HighlightsPanel = React.lazy(() => import('../components/HighlightsPanel'));\r\nexport const CustomEmbedPanel = React.lazy(() => import('../components/CustomEmbedPanel'));\r\nexport const SpotifyIntegrationPanel = React.lazy(() => import('../components/SpotifyIntegrationPanel'));\r\nexport const ServerClonePanel = React.lazy(() => import('../components/ServerClonePanel'));\r\nexport const WeeklyChallengesPanel = React.lazy(() => import('../components/WeeklyChallengesPanel'));\r\n\r\n//  BATCH 11: Moderation & Admin\r\nexport const ModeratorTools = React.lazy(() => import('../components/ModeratorTools'));\r\nexport const AIModerationPanel = React.lazy(() => import('../components/AIModerationPanel'));\r\nexport const SpamDetectionPanel = React.lazy(() => import('../components/SpamDetectionPanel'));\r\nexport const AuditLogsPanel = React.lazy(() => import('../components/AuditLogsPanel'));\r\nexport const BanHistoryPanel = React.lazy(() => import('../components/BanHistoryPanel'));\r\nexport const ModerationLogsPanel = React.lazy(() => import('../components/ModerationLogsPanel'));\r\nexport const RaidProtectionDashboard = React.lazy(() => import('../components/RaidProtectionDashboard'));\r\nexport const SecurityAlertsPanel = React.lazy(() => import('../components/SecurityAlertsPanel'));\r\n\r\n// Communication & Messages\r\nexport const BookmarksPanel = React.lazy(() => import('../components/BookmarksPanel'));\r\nexport const GIFPickerPanel = React.lazy(() => import('../components/GIFPickerPanel'));\r\nexport const PollCreator = React.lazy(() => import('../components/PollCreator'));\r\nexport const StickersPanel = React.lazy(() => import('../components/StickersPanel'));\r\nexport const SavedMessagesModal = React.lazy(() => import('../components/SavedMessagesModal'));\r\nexport const NotificationsCenter = React.lazy(() => import('../components/NotificationsCenter'));\r\nexport const MessageSummaryPanel = React.lazy(() => import('../components/MessageSummaryPanel'));\r\nexport const TranslationPanel = React.lazy(() => import('../components/TranslationPanel'));\r\n\r\n// Server Management (Batch 11)\r\nexport const ChannelSettingsModal = React.lazy(() => import('../components/ChannelSettingsModal'));\r\nexport const InviteModal = React.lazy(() => import('../components/InviteModal'));\r\nexport const ServerTemplates = React.lazy(() => import('../components/ServerTemplates'));\r\nexport const ServerAnalyticsDashboard = React.lazy(() => import('../components/ServerAnalyticsDashboard'));\r\nexport const RolesManager = React.lazy(() => import('../components/RolesManager'));\r\nexport const WelcomeScreenEditor = React.lazy(() => import('../components/WelcomeScreenEditor'));\r\nexport const CommunitySettingsPanel = React.lazy(() => import('../components/CommunitySettingsPanel'));\r\nexport const InviteLinkManager = React.lazy(() => import('../components/InviteLinkManager'));\r\n\r\n// Bot & Developer\r\nexport const BotBuilder = React.lazy(() => import('../components/BotBuilder'));\r\nexport const BotDeveloperPortal = React.lazy(() => import('../components/BotDeveloperPortal'));\r\nexport const WebhookManager = React.lazy(() => import('../components/WebhookManager'));\r\nexport const APIKeysPanel = React.lazy(() => import('../components/APIKeysPanel'));\r\nexport const SlashCommandsPanel = React.lazy(() => import('../components/SlashCommandsPanel'));\r\nexport const CodeRunnerPanel = React.lazy(() => import('../components/CodeRunnerPanel'));\r\n\r\n// Profile & Social\r\nexport const ProfileCard = React.lazy(() => import('../components/ProfileCard'));\r\nexport const UserNotesModal = React.lazy(() => import('../components/UserNotesModal'));\r\nexport const StatusPicker = React.lazy(() => import('../components/StatusPicker'));\r\nexport const MutualsPanel = React.lazy(() => import('../components/MutualsPanel'));\r\nexport const ProfileShowcasePanel = React.lazy(() => import('../components/ProfileShowcasePanel'));\r\nexport const SessionManagerModal = React.lazy(() => import('../components/SessionManagerModal'));\r\n\r\n// Premium & Economy\r\nexport const CoinStoreModal = React.lazy(() => import('../components/CoinStoreModal'));\r\nexport const PremiumManagementPanel = React.lazy(() => import('../components/PremiumManagementPanel'));\r\nexport const SubscriptionManager = React.lazy(() => import('../components/SubscriptionManager'));\r\nexport const GiftPremiumPanel = React.lazy(() => import('../components/GiftPremiumPanel'));\r\nexport const PremiumMarketplace = React.lazy(() => import('../components/PremiumMarketplace'));\r\nexport const ThemeMarketplace = React.lazy(() => import('../components/ThemeMarketplace'));\r\n\r\n// Advanced\r\nexport const AIChatbotPanel = React.lazy(() => import('../components/AIChatbotPanel'));\r\nexport const CollaborativeCodeEditor = React.lazy(() => import('../components/CollaborativeCodeEditor'));\r\nexport const ScreenShareModal = React.lazy(() => import('../components/ScreenShareModal'));\r\nexport const LiveStreamModal = React.lazy(() => import('../components/LiveStreamModal'));\r\nexport const AdvancedAnalyticsDashboard = React.lazy(() => import('../components/AdvancedAnalyticsDashboard'));\r\nexport const FileManagerPanel = React.lazy(() => import('../components/FileManagerPanel'));\r\nexport const ReportsPanel = React.lazy(() => import('../components/ReportsPanel'));\r\nexport const ErrorReportingPanel = React.lazy(() => import('../components/ErrorReportingPanel'));\r\n","// frontend/src/styles/appStyles.js\n// Extracted from App.js for cleaner architecture\n// =============================================\n\nexport // --- STLLER ---\nconst styles = {\n    //  GLASSMORPHISM - ANA PENCERE\n    mainContainer: {\n        display: 'flex',\n        width: '100%',\n        height: '100dvh',\n        backgroundColor: '#1E1F22', // Deep dark base\n        backgroundImage: 'radial-gradient(circle at 50% 10%, rgba(88, 101, 242, 0.05) 0%, transparent 40%)', // Subtle glow\n        color: 'white',\n        overflow: 'hidden',\n        fontFamily: \"'Inter', sans-serif\"\n    },\n\n    // 2. YERLEM DZEN\n    chatLayout: {\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden'\n    },\n\n    // 3. SOL MEN (Sidebar)\n    sidebarWrapper: {\n        width: '312px',\n        backgroundColor: 'rgba(30, 31, 34, 0.6)',\n        backdropFilter: 'blur(10px)',\n        display: 'flex',\n        flexDirection: 'row',\n        flexShrink: 0,\n        height: '100%',\n        borderRight: '1px solid rgba(255,255,255,0.05)'\n    },\n\n    // 4. SA TARAFTAK ANA ERK\n    mainContent: {\n        flex: 1,\n        display: 'flex',\n        minWidth: 0,\n        position: 'relative',\n        height: '100%',\n        overflow: 'hidden'\n    },\n\n    // 5. CHAT ALANI (Balk + Mesajlar + Input)\n    chatArea: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundColor: 'transparent',\n        minWidth: 0,\n        height: '100%',\n        overflow: 'hidden',\n        position: 'relative'\n    },\n\n    chatHeader: {\n        height: '54px',\n        minHeight: '54px',\n        borderBottom: '1px solid rgba(255,255,255,0.08)',\n        display: 'flex',\n        alignItems: 'center',\n        padding: '0 20px',\n        flexShrink: 0,\n        backgroundColor: 'rgba(20, 21, 24, 0.7)',\n        backdropFilter: 'blur(15px)',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.2)',\n        zIndex: 10\n    },\n\n    //  DZELTLEN MESAJ KUTUSU\n    messageBox: {\n        flex: 1,\n        overflowY: 'auto',\n        padding: '20px 0',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '4px',\n        scrollBehavior: 'smooth',\n        minHeight: 0\n    },\n\n    // 7. INPUT ALANI (En altta sabit)\n    inputContainer: {\n        padding: '0 20px 24px 20px',\n        backgroundColor: 'transparent',\n        position: 'relative',\n        flexShrink: 0,\n        minHeight: 'auto',\n        zIndex: 20\n    },\n\n    inputForm: {\n        display: 'flex',\n        backgroundColor: 'rgba(56, 58, 64, 0.5)',\n        borderRadius: '12px', // Yuvarlatlm keler\n        padding: '12px',\n        alignItems: 'flex-end',\n        gap: '12px',\n        maxHeight: '400px',\n        overflowY: 'auto',\n        border: '1px solid rgba(255,255,255,0.1)',\n        backdropFilter: 'blur(10px)',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.1)'\n    },\n\n    // ... Dier stiller (Modernize)\n    chatUserListPanel: {\n        width: '240px',\n        backgroundColor: 'rgba(30, 31, 34, 0.6)',\n        borderLeft: '1px solid rgba(255,255,255,0.08)',\n        flexShrink: 0,\n        height: '100%',\n        backdropFilter: 'blur(10px)'\n    },\n    mobileSidebar: { position: 'fixed', zIndex: 100, top: 0, bottom: 0, left: 0, width: '85vw', maxWidth: '350px', boxShadow: '5px 0 15px rgba(0,0,0,0.5)', display: 'flex', flexDirection: 'column' },\n    mobileRightSidebar: { position: 'fixed', zIndex: 100, top: 0, bottom: 0, right: 0, width: '85vw', maxWidth: '300px', boxShadow: '-5px 0 15px rgba(0,0,0,0.5)', display: 'flex', flexDirection: 'column' },\n\n    //  MOBL OVERLAY - Sidebar aldnda arka plan karartr ve tklanabilir yapar\n    mobileOverlay: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.6)',\n        zIndex: 99, // Sidebar'n altnda\n        backdropFilter: 'blur(3px)'\n    },\n\n    mobileMenuButton: { background: 'none', border: 'none', color: 'white', fontSize: '1.5em', marginRight: '10px', cursor: 'pointer', padding: '6px', display: 'flex', alignItems: 'center', transition: 'all 0.2s' },\n\n    iconButton: {\n        background: 'none',\n        border: 'none',\n        color: '#b9bbbe',\n        fontSize: '1.3em',\n        cursor: 'pointer',\n        padding: '6px',\n        display: 'flex',\n        alignItems: 'center',\n        borderRadius: '50%',\n        transition: 'all 0.2s',\n        ':hover': { backgroundColor: 'rgba(255,255,255,0.1)', color: '#fff' }\n    },\n    micButton: { background: 'none', border: 'none', color: '#b9bbbe', fontSize: '1.3em', cursor: 'pointer', padding: '6px', display: 'flex', alignItems: 'center', transition: 'color 0.2s' },\n    sendButton: {\n        backgroundColor: '#5865f2',\n        border: 'none',\n        color: '#ffffff',\n        fontSize: '1.3em',\n        cursor: 'pointer',\n        padding: '8px 12px',\n        display: 'flex',\n        alignItems: 'center',\n        borderRadius: '8px',\n        transition: 'all 0.2s',\n        boxShadow: '0 2px 5px rgba(88, 101, 242, 0.4)'\n    },\n\n    videoGrid: { display: 'flex', flexWrap: 'wrap', gap: '5px', padding: '5px', alignContent: 'center', justifyContent: 'center', alignItems: 'center' },\n    systemMessage: { color: '#949ba4', textAlign: 'center', fontSize: '0.85em', margin: '10px 0', fontStyle: 'italic' },\n\n    searchForm: {\n        position: 'relative',\n        display: 'flex',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0,0,0,0.2)',\n        borderRadius: '4px',\n        padding: '0 8px',\n        height: '32px',\n        marginRight: '8px',\n        border: '1px solid rgba(255,255,255,0.05)'\n    },\n    searchInput: { backgroundColor: 'transparent', border: 'none', color: '#dcddde', fontSize: '0.9em', width: '140px', outline: 'none' },\n    searchIcon: { color: '#949ba4', fontSize: '0.8em', cursor: 'pointer' },\n    typingIndicator: { color: '#dbdee1', fontSize: '0.85em', maxWidth: '180px', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', fontWeight: 'bold' },\n\n    connectionPillOnline: { marginLeft: '10px', padding: '4px 8px', borderRadius: '999px', backgroundColor: 'rgba(59, 165, 93, 0.2)', border: '1px solid #3ba55d', color: '#3ba55d', fontSize: '0.75em', fontWeight: 700 },\n    connectionPillOffline: { marginLeft: '10px', padding: '4px 8px', borderRadius: '999px', backgroundColor: 'rgba(218, 55, 60, 0.2)', border: '1px solid #da373c', color: '#da373c', fontSize: '0.75em', fontWeight: 700 },\n\n    scrollToBottomButton: { position: 'absolute', right: '16px', bottom: '110px', backgroundColor: '#5865f2', color: '#fff', border: 'none', borderRadius: '50%', width: '40px', height: '40px', display: 'flex', justifyContent: 'center', alignItems: 'center', boxShadow: '0 4px 12px rgba(0,0,0,0.35)', cursor: 'pointer', fontWeight: 600 },\n    quickEmojiRow: { display: 'flex', gap: '6px', marginTop: '8px', paddingLeft: '4px' },\n    quickEmojiButton: { background: 'rgba(255,255,255,0.05)', border: '1px solid rgba(255,255,255,0.08)', borderRadius: '6px', padding: '4px 8px', cursor: 'pointer', color: '#fff', fontSize: '14px', transition: 'background 0.2s' },\n\n    //  MOBL KENAR UBUU HEADER STL\n    mobileSidebarHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '10px 15px',\n        backgroundColor: '#202225',\n        borderBottom: '1px solid #111214',\n        minHeight: '54px',\n        flexShrink: 0\n    },\n    closeSidebarButton: {\n        background: 'none',\n        border: 'none',\n        color: '#b9bbbe',\n        fontSize: '22px',\n        cursor: 'pointer',\n        padding: '8px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: '50%',\n        transition: 'background 0.2s, color 0.2s'\n    },\n\n    //  AILIR MEN ITEM STL\n    menuItem: {\n        width: '100%',\n        padding: '10px 16px',\n        background: 'transparent',\n        border: 'none',\n        color: '#dcddde',\n        textAlign: 'left',\n        cursor: 'pointer',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        fontSize: '14px',\n        fontWeight: '500',\n        transition: 'all 0.15s ease',\n        borderRadius: '0',\n    },\n    menuItemHover: {\n        backgroundColor: '#5865f2',\n        color: '#ffffff'\n    }\n};\n\nexport default styles;\n","// frontend/src/utils/confirmDialog.js\r\n//  Global Promise-based Confirm Dialog\r\n// window.confirm() yerine kullan - Styled modal gsterir\r\n// Kullanm: const ok = await confirmDialog('Emin misiniz?');\r\n//           const ok = await confirmDialog({ title: '...', message: '...', type: 'danger' });\r\n\r\nimport { createRoot } from 'react-dom/client';\r\nimport { FaExclamationTriangle, FaTimes, FaTrash, FaCheck, FaSignOutAlt, FaQuestionCircle } from 'react-icons/fa';\r\n\r\nlet dialogContainer = null;\r\n\r\n/**\r\n * Promise tabanl confirm dialog\r\n * @param {string|object} options - Mesaj string veya options objesi\r\n * @returns {Promise<boolean>} - Kullanc onayladysa true, iptal ettiyse false\r\n * \r\n * Basit kullanm:\r\n *   const ok = await confirmDialog('Bu mesaj silmek istediinize emin misiniz?');\r\n * \r\n * Gelimi kullanm:\r\n *   const ok = await confirmDialog({\r\n *     title: 'Mesaj Sil',\r\n *     message: 'Bu ilem geri alnamaz!',\r\n *     confirmText: 'Sil',\r\n *     cancelText: 'Vazge',\r\n *     type: 'danger', // 'warning' | 'danger' | 'info'\r\n *     details: ['Mesaj kalc olarak silinecek', 'Geri alnamaz']\r\n *   });\r\n */\r\nexport function confirmDialog(options) {\r\n    return new Promise((resolve) => {\r\n        // Options normalize\r\n        const config = typeof options === 'string'\r\n            ? { message: options }\r\n            : { ...options };\r\n\r\n        const {\r\n            title = 'Emin misiniz?',\r\n            message = 'Bu ilemi gerekletirmek istediinizden emin misiniz?',\r\n            confirmText = 'Evet',\r\n            cancelText = 'Vazge',\r\n            type = 'warning', // 'warning', 'danger', 'info'\r\n            details = null,\r\n        } = config;\r\n\r\n        // Container olutur\r\n        if (!dialogContainer) {\r\n            dialogContainer = document.createElement('div');\r\n            dialogContainer.id = 'confirm-dialog-root';\r\n            document.body.appendChild(dialogContainer);\r\n        }\r\n\r\n        const root = createRoot(dialogContainer);\r\n\r\n        const cleanup = (result) => {\r\n            root.unmount();\r\n            resolve(result);\r\n        };\r\n\r\n        // Type config\r\n        const typeConfig = {\r\n            warning: {\r\n                icon: <FaExclamationTriangle />,\r\n                color: '#f59e0b',\r\n                gradient: 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)',\r\n                btnColor: '#f59e0b',\r\n            },\r\n            danger: {\r\n                icon: <FaTrash />,\r\n                color: '#ef4444',\r\n                gradient: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n                btnColor: '#ef4444',\r\n            },\r\n            info: {\r\n                icon: <FaQuestionCircle />,\r\n                color: '#5865f2',\r\n                gradient: 'linear-gradient(135deg, #5865f2 0%, #4752c4 100%)',\r\n                btnColor: '#5865f2',\r\n            },\r\n        };\r\n\r\n        const tc = typeConfig[type] || typeConfig.warning;\r\n\r\n        root.render(\r\n            <div\r\n                style={{\r\n                    position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n                    backgroundColor: 'rgba(0,0,0,0.7)',\r\n                    display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                    zIndex: 100000,\r\n                    animation: 'confirmFadeIn 0.2s ease-out',\r\n                    backdropFilter: 'blur(4px)',\r\n                }}\r\n                onClick={(e) => { if (e.target === e.currentTarget) cleanup(false); }}\r\n            >\r\n                <style>{`\r\n                    @keyframes confirmFadeIn { from { opacity: 0; } to { opacity: 1; } }\r\n                    @keyframes confirmSlideIn { from { transform: scale(0.9) translateY(20px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }\r\n                    .confirm-btn:hover { filter: brightness(1.1); transform: translateY(-1px); }\r\n                    .confirm-btn:active { transform: translateY(0); }\r\n                `}</style>\r\n                <div style={{\r\n                    background: '#2b2d31',\r\n                    borderRadius: '16px',\r\n                    width: '420px',\r\n                    maxWidth: '90vw',\r\n                    boxShadow: '0 20px 60px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.05)',\r\n                    overflow: 'hidden',\r\n                    animation: 'confirmSlideIn 0.25s ease-out',\r\n                }}>\r\n                    {/* Header */}\r\n                    <div style={{\r\n                        background: tc.gradient,\r\n                        padding: '20px 24px',\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: '12px',\r\n                    }}>\r\n                        <div style={{\r\n                            width: '40px', height: '40px', borderRadius: '12px',\r\n                            background: 'rgba(255,255,255,0.2)',\r\n                            display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                            fontSize: '18px', color: '#fff', flexShrink: 0,\r\n                        }}>\r\n                            {tc.icon}\r\n                        </div>\r\n                        <h3 style={{\r\n                            margin: 0, color: '#fff', fontSize: '16px',\r\n                            fontWeight: 600, flex: 1,\r\n                        }}>\r\n                            {title}\r\n                        </h3>\r\n                        <button\r\n                            onClick={() => cleanup(false)}\r\n                            style={{\r\n                                background: 'rgba(255,255,255,0.15)',\r\n                                border: 'none', color: '#fff',\r\n                                width: '32px', height: '32px', borderRadius: '8px',\r\n                                cursor: 'pointer', display: 'flex',\r\n                                alignItems: 'center', justifyContent: 'center',\r\n                                fontSize: '14px', flexShrink: 0,\r\n                                transition: 'background 0.15s',\r\n                            }}\r\n                            onMouseEnter={(e) => e.target.style.background = 'rgba(255,255,255,0.25)'}\r\n                            onMouseLeave={(e) => e.target.style.background = 'rgba(255,255,255,0.15)'}\r\n                        >\r\n                            <FaTimes />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Body */}\r\n                    <div style={{ padding: '20px 24px' }}>\r\n                        <p style={{\r\n                            color: '#dbdee1', fontSize: '14px',\r\n                            lineHeight: '1.6', margin: '0 0 16px 0',\r\n                            whiteSpace: 'pre-line',\r\n                        }}>\r\n                            {message}\r\n                        </p>\r\n\r\n                        {/* Details */}\r\n                        {details && details.length > 0 && (\r\n                            <div style={{\r\n                                background: 'rgba(255,255,255,0.03)',\r\n                                border: '1px solid rgba(255,255,255,0.06)',\r\n                                borderRadius: '10px',\r\n                                padding: '12px 16px',\r\n                                marginBottom: '16px',\r\n                            }}>\r\n                                <div style={{ color: '#f59e0b', fontSize: '12px', fontWeight: 600, marginBottom: '8px' }}>\r\n                                     Bu ilem:\r\n                                </div>\r\n                                {details.map((d, i) => (\r\n                                    <div key={i} style={{\r\n                                        color: '#b5bac1', fontSize: '13px',\r\n                                        padding: '3px 0', display: 'flex', gap: '8px',\r\n                                    }}>\r\n                                        <span style={{ color: tc.color }}></span>\r\n                                        <span>{d}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Footer */}\r\n                    <div style={{\r\n                        padding: '16px 24px',\r\n                        background: 'rgba(0,0,0,0.15)',\r\n                        display: 'flex',\r\n                        justifyContent: 'flex-end',\r\n                        gap: '10px',\r\n                    }}>\r\n                        <button\r\n                            className=\"confirm-btn\"\r\n                            onClick={() => cleanup(false)}\r\n                            style={{\r\n                                background: 'transparent',\r\n                                border: '1px solid rgba(255,255,255,0.1)',\r\n                                color: '#b5bac1',\r\n                                padding: '10px 20px',\r\n                                borderRadius: '8px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '14px',\r\n                                fontWeight: 500,\r\n                                transition: 'all 0.15s',\r\n                            }}\r\n                            onMouseEnter={(e) => { e.target.style.background = 'rgba(255,255,255,0.05)'; e.target.style.color = '#fff'; }}\r\n                            onMouseLeave={(e) => { e.target.style.background = 'transparent'; e.target.style.color = '#b5bac1'; }}\r\n                        >\r\n                            {cancelText}\r\n                        </button>\r\n                        <button\r\n                            className=\"confirm-btn\"\r\n                            onClick={() => cleanup(true)}\r\n                            autoFocus\r\n                            style={{\r\n                                background: tc.btnColor,\r\n                                border: 'none',\r\n                                color: '#fff',\r\n                                padding: '10px 24px',\r\n                                borderRadius: '8px',\r\n                                cursor: 'pointer',\r\n                                fontSize: '14px',\r\n                                fontWeight: 600,\r\n                                transition: 'all 0.15s',\r\n                                boxShadow: `0 2px 8px ${tc.btnColor}40`,\r\n                            }}\r\n                        >\r\n                            {confirmText}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n}\r\n\r\n// Global olarak kullanlabilir\r\nif (typeof window !== 'undefined') {\r\n    window.confirmDialog = confirmDialog;\r\n}\r\n\r\nexport default confirmDialog;\r\n","/**\r\n *  useFetchWithAuth  Authenticated fetch with token refresh\r\n * Extracted from App.js\r\n */\r\nimport { useRef, useCallback } from 'react';\r\nimport { useAuth } from '../AuthContext';\r\n\r\nexport default function useFetchWithAuth() {\r\n    const { token, logout, refreshAccessToken } = useAuth();\r\n\r\n    const isRefreshingRef = useRef(false);\r\n    const refreshPromiseRef = useRef(null);\r\n    const tokenRef = useRef(token);\r\n\r\n    // Keep tokenRef in sync\r\n    tokenRef.current = token;\r\n\r\n    const fetchWithAuth = useCallback(async (url, options = {}, _isRetry = false) => {\r\n        const currentToken = tokenRef.current || token;\r\n        const headers = { ...(options.headers || {}) };\r\n        if (currentToken) headers['Authorization'] = `Bearer ${currentToken}`;\r\n        if (!(options.body instanceof FormData)) headers['Content-Type'] = 'application/json';\r\n\r\n        try {\r\n            const isUpload = url.includes('upload') || (options.body instanceof FormData);\r\n            const timeout = isUpload ? 300000 : 30000;\r\n\r\n            const controller = new AbortController();\r\n            const timeoutId = setTimeout(() => controller.abort(), timeout);\r\n\r\n            const response = await fetch(url, { ...options, headers, signal: controller.signal });\r\n            clearTimeout(timeoutId);\r\n\r\n            if (response.status === 401 && !_isRetry) {\r\n                if (url.includes('/auth/') || url.includes('/login')) {\r\n                    logout();\r\n                    throw new Error(\"Unauthorized\");\r\n                }\r\n\r\n                if (!isRefreshingRef.current) {\r\n                    isRefreshingRef.current = true;\r\n                    refreshPromiseRef.current = refreshAccessToken().finally(() => {\r\n                        isRefreshingRef.current = false;\r\n                    });\r\n                }\r\n\r\n                const refreshed = await refreshPromiseRef.current;\r\n                if (refreshed) return fetchWithAuth(url, options, true);\r\n                else throw new Error(\"Unauthorized\");\r\n            }\r\n\r\n            return response;\r\n        } catch (err) {\r\n            if (err.name === 'AbortError') throw new Error('stek zaman amna urad');\r\n            if (err.message === 'Unauthorized') throw err;\r\n            console.error(\"Fetch error:\", err);\r\n            throw err;\r\n        }\r\n    }, [token, logout, refreshAccessToken]);\r\n\r\n    return { fetchWithAuth, tokenRef };\r\n}\r\n","/**\r\n *  useAppInit  Combined initialization: user data, servers, conversations, friends\r\n * Extracted from App.js\r\n */\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\nimport toast from '../utils/toast';\r\nimport { useChatStore } from '../stores/useChatStore';\r\n\r\nexport default function useAppInit({\r\n    isAuthenticated, username, token, fetchWithAuth,\r\n    setCategories, setConversations, setAllUsers, setFriendsList,\r\n    setCurrentUserProfile, setServerOrder, setMaintenanceMode,\r\n    setAuthError, setServerMembers,\r\n    API_BASE_URL, ROOM_LIST_URL, CONVERSATION_LIST_URL,\r\n    activeChat, categories, setActiveChat,\r\n}) {\r\n    const [isInitialDataLoaded, setIsInitialDataLoaded] = useState(false);\r\n    const fetchingInitRef = useRef(false);\r\n    const serverMembersCacheRef = useRef({});\r\n\r\n    // ---  COMBINED INIT ---\r\n    useEffect(() => {\r\n        if (!isAuthenticated || isInitialDataLoaded) return;\r\n        if (fetchingInitRef.current) return;\r\n        fetchingInitRef.current = true;\r\n\r\n        const fetchInit = async () => {\r\n            try {\r\n                let initData = null;\r\n                try {\r\n                    const initRes = await fetchWithAuth(`${API_BASE_URL}/init/`);\r\n                    if (initRes.ok) initData = await initRes.json();\r\n                } catch (e) {\r\n                    console.warn(' [Init] Combined endpoint failed, falling back');\r\n                }\r\n\r\n                let currentUserData, rooms, convs, friendsData;\r\n\r\n                if (initData) {\r\n                    currentUserData = initData.user;\r\n                    rooms = initData.servers;\r\n                    convs = initData.conversations;\r\n                    friendsData = initData.friends;\r\n                    if (initData.server_order) setServerOrder(initData.server_order);\r\n                    if (initData.maintenance?.is_maintenance) {\r\n                        setMaintenanceMode({\r\n                            message: initData.maintenance.message || 'System maintenance in progress',\r\n                            endTime: initData.maintenance.estimated_end, level: 'info'\r\n                        });\r\n                    }\r\n                } else {\r\n                    const [rooms_, convs_, friendsData_, currentUserData_] = await Promise.all([\r\n                        fetchWithAuth(ROOM_LIST_URL).then(r => r.json()),\r\n                        fetchWithAuth(`${CONVERSATION_LIST_URL}?username=${encodeURIComponent(username)}`).then(r => r.json()),\r\n                        fetchWithAuth(`${API_BASE_URL}/friends/list/`).then(r => r.json()),\r\n                        fetchWithAuth(`${API_BASE_URL}/users/me/`).then(r => r.json()),\r\n                    ]);\r\n                    currentUserData = currentUserData_; rooms = rooms_; convs = convs_; friendsData = friendsData_;\r\n                }\r\n\r\n                const currentUser = {\r\n                    username: currentUserData?.username || username,\r\n                    email: currentUserData?.email || '',\r\n                    avatar: currentUserData?.avatar || null,\r\n                    status_message: currentUserData?.status_message || '',\r\n                    friend_code: currentUserData?.friend_code || '0000',\r\n                    social_links: currentUserData?.social_links || {},\r\n                    coins: currentUserData?.coins || 0, xp: currentUserData?.xp || 0, level: currentUserData?.level || 1,\r\n                    status: 'online', role: currentUserData?.role || 'member', is_whitelisted: currentUserData?.is_whitelisted || false\r\n                };\r\n                setCurrentUserProfile(currentUser);\r\n\r\n                const friendProfiles = (friendsData.friends || []).map(f => {\r\n                    const isSender = f.sender_username === username;\r\n                    const friendUsername = isSender ? f.receiver_username : f.sender_username;\r\n                    const friendAvatar = isSender ? f.receiver_avatar : f.sender_avatar;\r\n                    const friendStatus = isSender ? f.receiver_status : f.sender_status;\r\n                    const friendActivity = isSender ? f.receiver_activity : f.sender_activity;\r\n                    if (!friendUsername) return null;\r\n                    return {\r\n                        username: friendUsername, avatar: friendAvatar,\r\n                        status: friendStatus || 'offline', display_name: friendUsername,\r\n                        current_activity: friendActivity || {}, status_message: '', last_seen: f.created_at,\r\n                        role: 'friend', friend_code: ''\r\n                    };\r\n                }).filter(Boolean);\r\n\r\n                const uniqueFriendProfiles = friendProfiles.filter(fp => fp.username !== currentUser.username);\r\n                setAllUsers(uniqueFriendProfiles);\r\n                setCategories(rooms);\r\n                setConversations(convs);\r\n                setFriendsList(uniqueFriendProfiles);\r\n                setIsInitialDataLoaded(true);\r\n\r\n                import('../utils/imageCaching').then(({ prefetchUserAvatars }) => {\r\n                    prefetchUserAvatars(uniqueFriendProfiles);\r\n                });\r\n            } catch (e) {\r\n                console.error(\"Init Data Error\", e);\r\n                setAuthError(\"Veriler yklenemedi.\");\r\n                fetchingInitRef.current = false;\r\n            }\r\n        };\r\n        fetchInit();\r\n    }, [isAuthenticated, isInitialDataLoaded, fetchWithAuth]);\r\n\r\n    // ---  SERVER ORDER FALLBACK ---\r\n    useEffect(() => {\r\n        if (isInitialDataLoaded) return;\r\n        const fetchServerOrder = async () => {\r\n            try {\r\n                const res = await fetchWithAuth(`${API_BASE_URL}/user/server-order/`);\r\n                if (res.ok) { const data = await res.json(); setServerOrder(data.server_order || []); }\r\n            } catch (error) { console.error('Server order fetch error:', error); }\r\n        };\r\n        if (username) fetchServerOrder();\r\n    }, [username, fetchWithAuth, isInitialDataLoaded]);\r\n\r\n    // ---  STICKY MESSAGES ---\r\n    const [stickyMessage, setStickyMessage] = useState(null);\r\n    useEffect(() => {\r\n        const fetchStickyMessages = async () => {\r\n            if (!activeChat.id || activeChat.type !== 'room') { setStickyMessage(null); return; }\r\n            try {\r\n                const res = await fetchWithAuth(`${API_BASE_URL}/stickies/list/?room=${activeChat.id}`);\r\n                if (res.ok) {\r\n                    const stickies = await res.json();\r\n                    if (stickies && stickies.length > 0) {\r\n                        setStickyMessage({ message: stickies[0].content, type: 'info', author: stickies[0].creator });\r\n                    } else setStickyMessage(null);\r\n                }\r\n            } catch (error) { console.error('Sticky messages fetch error:', error); }\r\n        };\r\n        if (isAuthenticated && activeChat.id) fetchStickyMessages();\r\n    }, [activeChat.id, activeChat.type, isAuthenticated, fetchWithAuth]);\r\n\r\n    // ---  SERVER MEMBERS ---\r\n    const fetchServerMembersById = useCallback(async (serverId, forceRefresh = false) => {\r\n        if (!serverId) { setServerMembers([]); return; }\r\n        const cached = serverMembersCacheRef.current[serverId];\r\n        if (!forceRefresh && cached && (Date.now() - cached.timestamp < 120000)) {\r\n            setServerMembers(cached.members); return;\r\n        }\r\n        try {\r\n            const res = await fetchWithAuth(`${API_BASE_URL}/servers/${serverId}/members/`);\r\n            if (res.ok) {\r\n                const members = await res.json();\r\n                serverMembersCacheRef.current[serverId] = { members, timestamp: Date.now() };\r\n                setServerMembers(members);\r\n            } else setServerMembers([]);\r\n        } catch (error) { console.error(' Server members fetch error:', error); setServerMembers([]); }\r\n    }, [fetchWithAuth]);\r\n\r\n    const handleServerSelect = useCallback((server) => {\r\n        fetchServerMembersById(server.id);\r\n        const defaultSlug = server.metadata?.default_channel_slug;\r\n        let selectedRoom = null;\r\n        if (server.categories && Array.isArray(server.categories)) {\r\n            for (const cat of server.categories) {\r\n                if (cat.rooms && Array.isArray(cat.rooms)) {\r\n                    for (const room of cat.rooms) {\r\n                        if (defaultSlug && room.slug === defaultSlug) { selectedRoom = room; break; }\r\n                        if (!selectedRoom && room.room_type !== 'voice') selectedRoom = room;\r\n                    }\r\n                    if (selectedRoom && defaultSlug && selectedRoom.slug === defaultSlug) break;\r\n                }\r\n            }\r\n        }\r\n        if (selectedRoom) setActiveChat('room', selectedRoom.slug, null);\r\n        else setActiveChat('server', server.id, null);\r\n    }, [fetchServerMembersById, setActiveChat]);\r\n\r\n    // Auto-fetch server members on room change\r\n    useEffect(() => {\r\n        if (isAuthenticated && activeChat.id && activeChat.type === 'room') {\r\n            let serverId = null;\r\n            for (const server of (categories || [])) {\r\n                if (!server.categories) continue;\r\n                for (const category of server.categories) {\r\n                    if (!category.rooms) continue;\r\n                    for (const room of category.rooms) {\r\n                        if (room.slug === activeChat.id) { serverId = server.id; break; }\r\n                    }\r\n                    if (serverId) break;\r\n                }\r\n                if (serverId) break;\r\n            }\r\n            if (serverId) fetchServerMembersById(serverId);\r\n            else setServerMembers([]);\r\n        } else if (activeChat.type !== 'server') setServerMembers([]);\r\n    }, [activeChat.id, activeChat.type, isAuthenticated, fetchServerMembersById, categories]);\r\n\r\n    // ---  VANITY URL JOIN ---\r\n    useEffect(() => {\r\n        const hash = window.location.hash;\r\n        const queryString = hash.includes('?') ? hash.split('?')[1] : '';\r\n        const urlParams = new URLSearchParams(queryString);\r\n        const joinServerId = urlParams.get('join_server');\r\n\r\n        if (joinServerId && isAuthenticated && categories && categories.length > 0) {\r\n            const targetServer = categories.find(s => s.id === parseInt(joinServerId));\r\n            if (targetServer) {\r\n                if (targetServer.categories && targetServer.categories.length > 0) {\r\n                    const firstCategory = targetServer.categories[0];\r\n                    if (firstCategory.rooms && firstCategory.rooms.length > 0) {\r\n                        setActiveChat({ type: 'room', id: firstCategory.rooms[0].slug });\r\n                    }\r\n                }\r\n                window.history.replaceState({}, document.title, '/#/');\r\n            } else {\r\n                const joinServer = async () => {\r\n                    try {\r\n                        const res = await fetchWithAuth(`${API_BASE_URL}/servers/${joinServerId}/join/`, { method: 'POST' });\r\n                        if (res.ok) {\r\n                            toast.success('Sunucuya katldnz!');\r\n                            try {\r\n                                const roomsRes = await fetchWithAuth(ROOM_LIST_URL);\r\n                                if (roomsRes.ok) {\r\n                                    const rooms = await roomsRes.json();\r\n                                    setCategories(rooms);\r\n                                    const joinedServer = rooms.find(s => s.id === parseInt(joinServerId));\r\n                                    if (joinedServer) handleServerSelect(joinedServer);\r\n                                }\r\n                            } catch (e) { console.warn('Server list refresh failed:', e); }\r\n                        } else {\r\n                            const data = await res.json();\r\n                            toast.error(data.error || 'Sunucuya katlnamad');\r\n                        }\r\n                    } catch (error) { toast.error('Sunucuya katlrken hata olutu'); }\r\n                    finally { window.history.replaceState({}, document.title, '/#/'); }\r\n                };\r\n                joinServer();\r\n            }\r\n        }\r\n    }, [isAuthenticated, categories, fetchWithAuth]);\r\n\r\n    return {\r\n        isInitialDataLoaded, setIsInitialDataLoaded,\r\n        stickyMessage, setStickyMessage,\r\n        serverMembersCacheRef,\r\n        fetchServerMembersById, handleServerSelect,\r\n    };\r\n}\r\n","import { registerPlugin } from '@capacitor/core';\nconst GoogleAuth = registerPlugin('GoogleAuth', {\n    web: () => import('./web').then((m) => new m.GoogleAuthWeb()),\n});\nexport * from './definitions';\nexport { GoogleAuth };\n//# sourceMappingURL=index.js.map","// frontend/src/utils/pwaHelper.js\r\n//  PWA HELPER UTILITIES\r\n// Service Worker registration, updates, offline support\r\nimport toast from './toast';\r\n\r\n/**\r\n *  Service Worker Registration\r\n * SW'yi register et ve update'leri ynet\r\n *  Electron'da file:// protokol Service Worker desteklemez\r\n */\r\nexport const registerServiceWorker = async () => {\r\n    // Electron'da Service Worker devre d (file:// protokol desteklenmiyor)\r\n    const isElectron = typeof window !== 'undefined' && (\r\n        window.process?.versions?.electron ||\r\n        window.navigator?.userAgent?.toLowerCase().includes('electron') ||\r\n        window.location?.protocol === 'file:'\r\n    );\r\n\r\n    if (isElectron) {\r\n        console.log(' [PWA] Service Worker disabled in Electron (file:// protocol)');\r\n        return null;\r\n    }\r\n\r\n    if ('serviceWorker' in navigator) {\r\n        try {\r\n            //  Eski service-worker.js'yi unregister et (workbox sw.js kullanlyor)\r\n            const registrations = await navigator.serviceWorker.getRegistrations();\r\n            for (const reg of registrations) {\r\n                if (reg.active && reg.active.scriptURL.includes('service-worker.js')) {\r\n                    console.log(' Eski service-worker.js unregister ediliyor...');\r\n                    await reg.unregister();\r\n                    // Eski cache'leri temizle\r\n                    const cacheNames = await caches.keys();\r\n                    for (const name of cacheNames) {\r\n                        if (name.includes('pawscord-v')) {\r\n                            console.log(' Eski cache siliniyor:', name);\r\n                            await caches.delete(name);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            //  Workbox sw.js zaten registerSW.js tarafndan register ediliyor\r\n            // Burada sadece update kontrol yapyoruz\r\n            const registration = await navigator.serviceWorker.getRegistration('/');\r\n            if (registration) {\r\n                console.log(' Service Worker active:', registration.scope);\r\n\r\n                // Update checker\r\n                registration.addEventListener('updatefound', () => {\r\n                    const newWorker = registration.installing;\r\n                    console.log(' New Service Worker installing...');\r\n\r\n                    newWorker.addEventListener('statechange', () => {\r\n                        if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\r\n                            // Yeni versiyon hazr  otomatik aktive et\r\n                            newWorker.postMessage({ type: 'SKIP_WAITING' });\r\n                            console.log(' Yeni SW aktive ediliyor, sayfa yenilenecek...');\r\n                            window.location.reload();\r\n                        }\r\n                    });\r\n                });\r\n\r\n                // Periyodik update kontrol (her 30 dakikada)\r\n                setInterval(() => {\r\n                    registration.update();\r\n                }, 30 * 60 * 1000);\r\n            }\r\n\r\n            return registration;\r\n        } catch (error) {\r\n            console.error(' Service Worker error:', error);\r\n            return null;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n *  Update Notification\r\n * Yeni versiyon hazr olduunda kullancya bildir\r\n * NOT: Toast bildirimi devre d - sadece UI'da gncelleme butonu gsteriliyor\r\n */\r\nconst showUpdateNotification = () => {\r\n    // Toast bildirim gsterme - sadece updateAvailable state kullan\r\n    console.log(' Yeni versiyon mevcut - UI gncelleme butonu aktif');\r\n};\r\n\r\n/**\r\n *  Install Prompt Handler\r\n * \"Add to Home Screen\" prompt'unu ynet\r\n */\r\nlet deferredPrompt = null;\r\n\r\nexport const setupInstallPrompt = () => {\r\n    window.addEventListener('beforeinstallprompt', (e) => {\r\n        e.preventDefault();\r\n        deferredPrompt = e;\r\n\r\n        // Install butonunu gster\r\n        const installButton = document.getElementById('install-pwa-button');\r\n        if (installButton) {\r\n            installButton.style.display = 'block';\r\n        }\r\n\r\n        console.log(' PWA install prompt ready');\r\n    });\r\n\r\n    // Install baarl olduunda\r\n    window.addEventListener('appinstalled', () => {\r\n        console.log(' PWA installed successfully');\r\n        deferredPrompt = null;\r\n\r\n        // Analytics event\r\n        if (window.gtag) {\r\n            window.gtag('event', 'pwa_installed', {\r\n                event_category: 'PWA',\r\n                event_label: 'App Installed'\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n *  Trigger Install Prompt\r\n * Kullanc butona tkladnda prompt gster\r\n */\r\nexport const triggerInstallPrompt = async () => {\r\n    if (!deferredPrompt) {\r\n        toast.error(' PWA zaten ykl veya taraycnz desteklemiyor.');\r\n        return false;\r\n    }\r\n\r\n    deferredPrompt.prompt();\r\n\r\n    const { outcome } = await deferredPrompt.userChoice;\r\n    console.log(`User response to install prompt: ${outcome}`);\r\n\r\n    deferredPrompt = null;\r\n    return outcome === 'accepted';\r\n};\r\n\r\n/**\r\n *  Online/Offline Status Monitor\r\n * Network durumunu izle\r\n */\r\nexport const setupNetworkMonitor = (onOnline, onOffline) => {\r\n    const handleOnline = () => {\r\n        console.log(' Network: Online');\r\n        if (onOnline) onOnline();\r\n\r\n        // Banner gster\r\n        showNetworkBanner(' evrimii', 'success');\r\n    };\r\n\r\n    const handleOffline = () => {\r\n        console.log(' Network: Offline');\r\n        if (onOffline) onOffline();\r\n\r\n        // Banner gster\r\n        showNetworkBanner(' evrimd - Balant koptu', 'error');\r\n    };\r\n\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    // Initial status\r\n    if (!navigator.onLine) {\r\n        handleOffline();\r\n    }\r\n\r\n    // Cleanup\r\n    return () => {\r\n        window.removeEventListener('online', handleOnline);\r\n        window.removeEventListener('offline', handleOffline);\r\n    };\r\n};\r\n\r\n/**\r\n *  Network Banner\r\n * Network durumu iin banner gster\r\n */\r\nconst showNetworkBanner = (message, type = 'info') => {\r\n    const existingBanner = document.getElementById('network-banner');\r\n    if (existingBanner) {\r\n        existingBanner.remove();\r\n    }\r\n\r\n    const banner = document.createElement('div');\r\n    banner.id = 'network-banner';\r\n    banner.textContent = message;\r\n    banner.style.cssText = `\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        padding: 12px;\r\n        text-align: center;\r\n        color: white;\r\n        font-weight: 600;\r\n        z-index: 9999;\r\n        animation: slideDown 0.3s ease;\r\n        background: ${type === 'success' ? '#43b581' : '#ed4245'};\r\n    `;\r\n\r\n    document.body.appendChild(banner);\r\n\r\n    // Auto remove after 3s\r\n    if (type === 'success') {\r\n        setTimeout(() => {\r\n            banner.style.animation = 'slideUp 0.3s ease';\r\n            setTimeout(() => banner.remove(), 300);\r\n        }, 3000);\r\n    }\r\n};\r\n\r\n/**\r\n *  Cache Management\r\n * Cache temizleme ve ynetimi\r\n */\r\nexport const clearAllCaches = async () => {\r\n    if ('caches' in window) {\r\n        const cacheNames = await caches.keys();\r\n        await Promise.all(cacheNames.map(name => caches.delete(name)));\r\n        console.log(' All caches cleared');\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n *  Cache Stats\r\n * Cache istatistiklerini al\r\n */\r\nexport const getCacheStats = async () => {\r\n    if (!('caches' in window)) return null;\r\n\r\n    const cacheNames = await caches.keys();\r\n    const stats = [];\r\n\r\n    for (const name of cacheNames) {\r\n        const cache = await caches.open(name);\r\n        const keys = await cache.keys();\r\n\r\n        let totalSize = 0;\r\n        for (const request of keys) {\r\n            const response = await cache.match(request);\r\n            if (response) {\r\n                const blob = await response.blob();\r\n                totalSize += blob.size;\r\n            }\r\n        }\r\n\r\n        stats.push({\r\n            name,\r\n            items: keys.length,\r\n            size: totalSize\r\n        });\r\n    }\r\n\r\n    return stats;\r\n};\r\n\r\n/**\r\n *  Push Notification Permission\r\n * Push bildirim izni iste\r\n */\r\nexport const requestNotificationPermission = async () => {\r\n    if (!('Notification' in window)) {\r\n        console.warn('Bu tarayc bildirimleri desteklemiyor');\r\n        return false;\r\n    }\r\n\r\n    if (Notification.permission === 'granted') {\r\n        return true;\r\n    }\r\n\r\n    if (Notification.permission !== 'denied') {\r\n        const permission = await Notification.requestPermission();\r\n        return permission === 'granted';\r\n    }\r\n\r\n    return false;\r\n};\r\n\r\n/**\r\n *  Push Subscription\r\n * Push bildirimi iin subscribe ol\r\n */\r\nexport const subscribeToPush = async (registration, vapidPublicKey) => {\r\n    try {\r\n        const subscription = await registration.pushManager.subscribe({\r\n            userVisibleOnly: true,\r\n            applicationServerKey: urlBase64ToUint8Array(vapidPublicKey)\r\n        });\r\n\r\n        console.log(' Push subscription successful');\r\n        return subscription;\r\n    } catch (error) {\r\n        console.error(' Push subscription failed:', error);\r\n        return null;\r\n    }\r\n};\r\n\r\n/**\r\n *  VAPID Key Converter\r\n */\r\nfunction urlBase64ToUint8Array(base64String) {\r\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    const base64 = (base64String + padding)\r\n        .replace(/\\-/g, '+')\r\n        .replace(/_/g, '/');\r\n\r\n    const rawData = window.atob(base64);\r\n    const outputArray = new Uint8Array(rawData.length);\r\n\r\n    for (let i = 0; i < rawData.length; ++i) {\r\n        outputArray[i] = rawData.charCodeAt(i);\r\n    }\r\n    return outputArray;\r\n}\r\n\r\n/**\r\n *  PWA Installation Check\r\n * PWA ykl m kontrol et\r\n */\r\nexport const isPWAInstalled = () => {\r\n    // Standalone modda alyor mu?\r\n    return window.matchMedia('(display-mode: standalone)').matches ||\r\n        window.navigator.standalone === true; // iOS Safari\r\n};\r\n\r\n/**\r\n *  Device Type Detection\r\n */\r\nexport const getDeviceType = () => {\r\n    const ua = navigator.userAgent;\r\n\r\n    if (/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(ua)) {\r\n        return 'tablet';\r\n    }\r\n\r\n    if (/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(ua)) {\r\n        return 'mobile';\r\n    }\r\n\r\n    return 'desktop';\r\n};\r\n\r\n/**\r\n *  CSS Animation Definitions\r\n */\r\nconst addAnimations = () => {\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n        @keyframes slideDown {\r\n            from { transform: translateY(-100%); }\r\n            to { transform: translateY(0); }\r\n        }\r\n        \r\n        @keyframes slideUp {\r\n            from { transform: translateY(0); }\r\n            to { transform: translateY(-100%); }\r\n        }\r\n    `;\r\n    document.head.appendChild(style);\r\n};\r\n\r\n// Auto-add animations\r\naddAnimations();\r\n\r\n//  Export all\r\nexport default {\r\n    registerServiceWorker,\r\n    setupInstallPrompt,\r\n    triggerInstallPrompt,\r\n    setupNetworkMonitor,\r\n    clearAllCaches,\r\n    getCacheStats,\r\n    requestNotificationPermission,\r\n    subscribeToPush,\r\n    isPWAInstalled,\r\n    getDeviceType\r\n};\r\n\r\n\r\n","// frontend/src/utils/criticalCSS.js\n//  CRITICAL CSS EXTRACTION & INLINE\n// Above-the-fold CSS'i inline eder, geri kalan lazy load\n\n/**\n *  Critical CSS (Above-the-fold)\n * lk ekranda gsterilen elementler iin CSS\n */\nexport const CRITICAL_CSS = `\n/*  PAWSCORD Critical CSS - Above the Fold */\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: 'Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    background-color: #1e1f22;\n    color: #dcddde;\n    overflow: hidden;\n}\n\n/* Loading Screen */\n#loading-screen {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: #1e1f22;\n    display: flex;\n    align-items: center;\n    justify-center: center;\n    z-index: 9999;\n}\n\n.spinner {\n    width: 50px;\n    height: 50px;\n    border: 4px solid #40444b;\n    border-top-color: #5865f2;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n    to { transform: rotate(360deg); }\n}\n\n/* Main Layout */\n#root {\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n}\n\n.app-container {\n    display: flex;\n    width: 100%;\n    height: 100%;\n}\n\n/* Sidebar */\n.sidebar {\n    width: 240px;\n    background: #2b2d31;\n    flex-shrink: 0;\n}\n\n/* Chat Area */\n.chat-container {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    background: #313338;\n}\n\n/* Message Input - Critical */\n.message-input-container {\n    padding: 16px;\n    background: #383a40;\n}\n\n.message-input {\n    width: 100%;\n    padding: 12px;\n    background: #40444b;\n    border: none;\n    border-radius: 8px;\n    color: #dcddde;\n    font-size: 15px;\n    outline: none;\n}\n\n/* Button Base */\nbutton {\n    cursor: pointer;\n    border: none;\n    background: transparent;\n    color: inherit;\n    font-family: inherit;\n}\n\n.btn-primary {\n    background: #5865f2;\n    color: white;\n    padding: 10px 16px;\n    border-radius: 4px;\n    font-weight: 500;\n    transition: background 0.17s ease;\n}\n\n.btn-primary:hover {\n    background: #4752c4;\n}\n\n/* Scrollbar */\n::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n}\n\n::-webkit-scrollbar-track {\n    background: #2b2d31;\n}\n\n::-webkit-scrollbar-thumb {\n    background: #1a1b1e;\n    border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n    background: #141517;\n}\n\n/* Typography */\nh1, h2, h3, h4, h5, h6 {\n    font-weight: 600;\n    line-height: 1.2;\n}\n\n/* Utilities */\n.flex {\n    display: flex;\n}\n\n.flex-col {\n    flex-direction: column;\n}\n\n.items-center {\n    align-items: center;\n}\n\n.justify-center {\n    justify-content: center;\n}\n\n.gap-2 {\n    gap: 8px;\n}\n\n.gap-4 {\n    gap: 16px;\n}\n\n.hidden {\n    display: none !important;\n}\n\n/* Mobile Responsive */\n@media (max-width: 768px) {\n    .sidebar {\n        width: 100%;\n        position: absolute;\n        z-index: 100;\n        transform: translateX(-100%);\n        transition: transform 0.3s ease;\n    }\n    \n    .sidebar.open {\n        transform: translateX(0);\n    }\n}\n`;\n\n/**\n *  Inline Critical CSS\n * Critical CSS'i <head>'e inject et\n */\nexport const inlineCriticalCSS = () => {\n    const style = document.createElement('style');\n    style.id = 'critical-css';\n    style.textContent = CRITICAL_CSS;\n    document.head.insertBefore(style, document.head.firstChild);\n};\n\n/**\n *  Lazy Load Non-Critical CSS\n * Geri kalan CSS'i lazy load et\n */\nexport const lazyLoadCSS = (href) => {\n    return new Promise((resolve, reject) => {\n        const link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = href;\n        link.onload = () => {\n            resolve();\n        };\n        link.onerror = reject;\n        document.head.appendChild(link);\n    });\n};\n\n/**\n *  Load All Non-Critical CSS\n * requestIdleCallback ile non-critical CSS ykle\n */\nexport const loadNonCriticalCSS = () => {\n    //  DISABLED: These CSS files don't exist, all CSS is bundled by webpack\n    const nonCriticalCSS = [];\n    /*\n    const nonCriticalCSS = [\n        '/static/css/animations.css',\n        '/static/css/components.css',\n        '/static/css/themes.css'\n    ];\n    */\n\n    const loadCSS = () => {\n        nonCriticalCSS.forEach(href => {\n            lazyLoadCSS(href);\n        });\n    };\n\n    if ('requestIdleCallback' in window) {\n        requestIdleCallback(loadCSS);\n    } else {\n        setTimeout(loadCSS, 1);\n    }\n};\n\n/**\n *  Font Loading Optimization\n * Font'lar optimize ekilde ykle\n *  Electron'da file:// protokol preload desteklemiyor\n */\nexport const optimizeFontLoading = () => {\n    // Electron kontrol - file:// protokolnde font preload almaz\n    const isElectron = typeof window !== 'undefined' && (\n        window.process?.versions?.electron ||\n        window.navigator?.userAgent?.includes('Electron') ||\n        window.location?.protocol === 'file:'\n    );\n\n    if (isElectron) {\n        return;\n    }\n\n    // Font preload kaldrld - artk kullanlmyor (system font stack)\n};\n\n/**\n *  Preload Key Resources\n * Kritik kaynaklar preload et\n *  Electron'da file:// protokol preload desteklemiyor\n */\nexport const preloadKeyResources = () => {\n    // Electron kontrol - file:// protokolnde preload almaz\n    const isElectron = typeof window !== 'undefined' && (\n        window.process?.versions?.electron ||\n        window.navigator?.userAgent?.includes('Electron') ||\n        window.location?.protocol === 'file:'\n    );\n\n    if (isElectron) {\n        return;\n    }\n\n    //  Preload kaldrld - logo R2 CDN'den ykleniyor, local dosya yok\n    // Bu sayede \"preloaded but not used\" uyars kmaz\n};\n\n/**\n *  Remove Critical CSS After Full Load\n * Tam CSS yklendikten sonra critical CSS'i kaldr (opsiyonel)\n */\nexport const removeCriticalCSS = () => {\n    const criticalStyle = document.getElementById('critical-css');\n    if (criticalStyle) {\n        // Full CSS yklendikten 1 saniye sonra kaldr\n        setTimeout(() => {\n            criticalStyle.remove();\n        }, 1000);\n    }\n};\n\n/**\n *  Initialize CSS Optimization\n * Tm CSS optimizasyonlarn balat\n */\nexport const initializeCSSOptimization = () => {\n    // 1. Critical CSS inline et\n    inlineCriticalCSS();\n\n    // 2. Key resources preload\n    preloadKeyResources();\n\n    // 3. Font optimization\n    optimizeFontLoading();\n\n    // 4. Non-critical CSS lazy load (idle callback)\n    loadNonCriticalCSS();\n\n    // 5. Full CSS yklendikten sonra critical CSS'i kaldr\n    if (document.readyState === 'complete') {\n        removeCriticalCSS();\n    } else {\n        window.addEventListener('load', removeCriticalCSS);\n    }\n};\n\n//  Export\nexport default {\n    CRITICAL_CSS,\n    inlineCriticalCSS,\n    lazyLoadCSS,\n    loadNonCriticalCSS,\n    optimizeFontLoading,\n    preloadKeyResources,\n    removeCriticalCSS,\n    initializeCSSOptimization\n};\n\n\n","// frontend/src/utils/codeSplitting.config.js\r\n//  Code Splitting Configuration - Route & Vendor Based\r\n\r\n/**\r\n * Route-based code splitting configuration\r\n * Her route iin ayr bundle oluturur\r\n */\r\n\r\n// Route chunks\r\nexport const RouteChunks = {\r\n  // Auth pages (bunlar pages/ altnda)\r\n  verifyEmail: () => import('../pages/VerifyEmailPage'),\r\n  forgotPassword: () => import('../pages/ForgotPasswordPage'),\r\n  resetPassword: () => import('../pages/ResetPasswordPage'),\r\n  twoFactor: () => import('../pages/TwoFactorLoginPage'),\r\n\r\n  // Main pages (bunlar src/ altnda direkt)\r\n  login: () => import('../LoginPage'),\r\n  welcome: () => import('../WelcomeScreen'),\r\n\r\n  // Admin\r\n  analytics: () => import('../components/AdminAnalyticsPanel'),\r\n  analyticsMain: () => import('../AnalyticsDashboard'),\r\n\r\n  // Special features\r\n  crypto: () => import('../CryptoChartModal'),\r\n  cryptoDashboard: () => import('../CryptoDashboard'),\r\n  englishLearn: () => import('../EnglishLearningPage'),\r\n  englishHub: () => import('../EnglishHub'),\r\n  kanban: () => import('../components/KanbanBoard'),\r\n\r\n  // Premium\r\n  premiumStore: () => import('../components/PremiumStoreModal'),\r\n  themeStore: () => import('../components/ThemeStoreModal'),\r\n  cryptoStore: () => import('../components/CryptoStoreModal'),\r\n};\r\n\r\n/**\r\n * Component-based lazy loading\r\n * On-demand modal ve component ykleme\r\n */\r\nexport const ComponentChunks = {\r\n  // Modals (heavy)\r\n  serverSettings: () => import('../components/ServerSettingsModal'),\r\n  userProfile: () => import('../UserProfileModal'),\r\n  imageModal: () => import('../ImageModal'),\r\n\r\n  // Media\r\n  gifPicker: () => import('../GifPicker'),\r\n  stickerPicker: () => import('../StickerPicker'),\r\n  soundboard: () => import('../components/SoundboardModal'),\r\n\r\n  // Communication\r\n  watchParty: () => import('../components/WatchPartyEnhanced'),\r\n  cinema: () => import('../CinemaModal'),\r\n  whiteboard: () => import('../components/WhiteboardModal'),\r\n\r\n  // Tools\r\n  poll: () => import('../components/PollCreateModal'),\r\n  codeSnippet: () => import('../components/CodeSnippetModal'),\r\n  messageTemplate: () => import('../components/MessageTemplateModal'),\r\n};\r\n\r\n/**\r\n * Preloading strategy\r\n *  Kullanc etkileiminden NCE en ok kullanlan chunk'lar ykle\r\n */\r\nexport const preloadCriticalChunks = () => {\r\n  // En sk alan bileenler  hemen preload et (500ms sonra arlyor)\r\n  const criticalChunks = [\r\n    ComponentChunks.userProfile,\r\n    ComponentChunks.imageModal,\r\n    ComponentChunks.serverSettings,\r\n  ];\r\n  criticalChunks.forEach(chunk => {\r\n    try { chunk(); } catch (e) { /* ignore */ }\r\n  });\r\n};\r\n\r\n/**\r\n * Prefetch strategy\r\n * Idle time'da gelecek chunks' prefetch et\r\n */\r\nexport const prefetchNextChunks = () => {\r\n  const secondaryChunks = [\r\n    ComponentChunks.gifPicker,\r\n    ComponentChunks.stickerPicker,\r\n    ComponentChunks.poll,\r\n    ComponentChunks.codeSnippet,\r\n  ];\r\n  secondaryChunks.forEach(chunk => {\r\n    try { chunk(); } catch (e) { /* ignore */ }\r\n  });\r\n};\r\n\r\nexport default {\r\n  RouteChunks,\r\n  ComponentChunks,\r\n  preloadCriticalChunks,\r\n  prefetchNextChunks\r\n};\r\n\r\n\r\n","// frontend/src/hooks/usePageTracking.js\nimport { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { API_BASE_URL } from '../utils/apiEndpoints';\n\n// Session ID olutur (ilk ziyarette)\nconst getOrCreateSessionId = () => {\n    let sessionId = sessionStorage.getItem('analytics_session_id');\n    if (!sessionId) {\n        sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n        sessionStorage.setItem('analytics_session_id', sessionId);\n    }\n    return sessionId;\n};\n\nconst usePageTracking = () => {\n    const location = useLocation();\n\n    useEffect(() => {\n        // Her route deiiminde track et\n        const trackPageView = async () => {\n            try {\n                const sessionId = getOrCreateSessionId();\n                const token = localStorage.getItem('access_token');\n\n                const headers = {\n                    'Content-Type': 'application/json',\n                };\n                if (token) {\n                    headers['Authorization'] = `Bearer ${token}`;\n                }\n\n                await fetch(`${API_BASE_URL}/analytics/track/`, {\n                    method: 'POST',\n                    headers,\n                    body: JSON.stringify({\n                        path: location.pathname,\n                        session_id: sessionId,\n                        referrer: document.referrer,\n                        timestamp: new Date().toISOString()\n                    })\n                });\n\n            } catch (error) {\n                // Silently fail  analytics should never break the app\n            }\n        };\n\n        trackPageView();\n    }, [location.pathname]);\n};\n\nexport default usePageTracking;\n\n\n\n","// hooks/useKeyboardShortcuts.js\r\n//  Keyboard Shortcuts Hook - Power User Features\r\n\r\nimport { useEffect, useCallback } from 'react';\r\n\r\nexport const useKeyboardShortcuts = (handlers = {}) => {\r\n  const handleKeyDown = useCallback((event) => {\r\n    const { ctrlKey, shiftKey, altKey, metaKey, key } = event;\r\n    const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\r\n    const cmdOrCtrl = isMac ? metaKey : ctrlKey;\r\n\r\n    // Ctrl/Cmd + K: Quick Switcher\r\n    if (cmdOrCtrl && key === 'k') {\r\n      event.preventDefault();\r\n      handlers.onQuickSwitcher?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + F: Advanced Search\r\n    if (cmdOrCtrl && key === 'f') {\r\n      event.preventDefault();\r\n      handlers.onSearch?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + /: Command List\r\n    if (cmdOrCtrl && key === '/') {\r\n      event.preventDefault();\r\n      handlers.onCommandList?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + Shift + M: Mute/Unmute\r\n    if (cmdOrCtrl && shiftKey && key === 'M') {\r\n      event.preventDefault();\r\n      handlers.onToggleMute?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + Shift + P: Command Palette\r\n    if (cmdOrCtrl && shiftKey && key.toLowerCase() === 'p') {\r\n      event.preventDefault();\r\n      handlers.onCommandPalette?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + ,: User Settings\r\n    if (cmdOrCtrl && key === ',') {\r\n      event.preventDefault();\r\n      handlers.onSettings?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + Shift + D: Deafen/Undeafen\r\n    if (cmdOrCtrl && shiftKey && key === 'D') {\r\n      event.preventDefault();\r\n      handlers.onToggleDeafen?.();\r\n    }\r\n\r\n    // Alt + Up/Down: Navigate Channels\r\n    if (altKey && (key === 'ArrowUp' || key === 'ArrowDown')) {\r\n      event.preventDefault();\r\n      handlers.onNavigateChannel?.(key === 'ArrowUp' ? -1 : 1);\r\n    }\r\n\r\n    // Ctrl/Cmd + Enter: Send Message\r\n    if (cmdOrCtrl && key === 'Enter') {\r\n      event.preventDefault();\r\n      handlers.onSendMessage?.();\r\n    }\r\n\r\n    // Esc: Close Modal/Cancel\r\n    if (key === 'Escape') {\r\n      handlers.onEscape?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + B: Toggle Sidebar\r\n    if (cmdOrCtrl && key === 'b') {\r\n      event.preventDefault();\r\n      handlers.onToggleSidebar?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + I: Toggle User Info\r\n    if (cmdOrCtrl && key === 'i') {\r\n      event.preventDefault();\r\n      handlers.onToggleUserInfo?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + E: Toggle Emoji Picker\r\n    if (cmdOrCtrl && key === 'e') {\r\n      event.preventDefault();\r\n      handlers.onToggleEmoji?.();\r\n    }\r\n\r\n    // Ctrl/Cmd + Shift + T: Toggle Theme\r\n    if (cmdOrCtrl && shiftKey && key === 'T') {\r\n      event.preventDefault();\r\n      handlers.onToggleTheme?.();\r\n    }\r\n\r\n    // Up Arrow: Edit Last Message (when input is empty)\r\n    if (key === 'ArrowUp' && !cmdOrCtrl && !shiftKey && !altKey) {\r\n      handlers.onEditLastMessage?.();\r\n    }\r\n\r\n  }, [handlers]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [handleKeyDown]);\r\n\r\n  return null;\r\n};\r\n\r\n// Shortcut display helper\r\nexport const getShortcutKey = () => {\r\n  const isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\r\n  return isMac ? '' : 'Ctrl';\r\n};\r\n\r\nexport const SHORTCUTS = {\r\n  QUICK_SWITCHER: { key: 'K', modifier: 'Ctrl', description: 'Quick Switcher' },\r\n  SEARCH: { key: 'F', modifier: 'Ctrl', description: 'Search Messages' },\r\n  COMMAND_LIST: { key: '/', modifier: 'Ctrl', description: 'Show Commands' },\r\n  MUTE: { key: 'M', modifier: 'Ctrl+Shift', description: 'Mute/Unmute' },\r\n  DEAFEN: { key: 'D', modifier: 'Ctrl+Shift', description: 'Deafen/Undeafen' },\r\n  NAVIGATE_UP: { key: '', modifier: 'Alt', description: 'Previous Channel' },\r\n  NAVIGATE_DOWN: { key: '', modifier: 'Alt', description: 'Next Channel' },\r\n  SEND_MESSAGE: { key: 'Enter', modifier: 'Ctrl', description: 'Send Message' },\r\n  CLOSE: { key: 'Esc', modifier: '', description: 'Close/Cancel' },\r\n  TOGGLE_SIDEBAR: { key: 'B', modifier: 'Ctrl', description: 'Toggle Sidebar' },\r\n  TOGGLE_USER_INFO: { key: 'I', modifier: 'Ctrl', description: 'Toggle User Info' },\r\n  TOGGLE_EMOJI: { key: 'E', modifier: 'Ctrl', description: 'Toggle Emoji' },\r\n  TOGGLE_THEME: { key: 'T', modifier: 'Ctrl+Shift', description: 'Toggle Theme' },\r\n  EDIT_LAST: { key: '', modifier: '', description: 'Edit Last Message' }\r\n};\r\n\r\nexport default useKeyboardShortcuts;\r\n\r\n\r\n\r\n","// frontend/src/utils/ThemeManager.js\r\n\r\nexport const THEMES = {\r\n    default: {\r\n        name: 'Pawscord Dark',\r\n        colors: {\r\n            '--background-primary': '#313338',\r\n            '--background-secondary': '#2b2d31',\r\n            '--background-tertiary': '#1e1f22',\r\n            '--background-accent': '#404249',\r\n            '--text-primary': '#dbdee1',\r\n            '--text-secondary': '#949ba4',\r\n            '--text-muted': '#787f89',\r\n            '--text-link': '#00a8fc',\r\n            '--button-primary': '#5865f2',\r\n            '--button-secondary': '#4e5058',\r\n            '--border-primary': '#1f2023'\r\n        }\r\n    },\r\n    midnight: {\r\n        name: 'Midnight AMOLED',\r\n        colors: {\r\n            '--background-primary': '#000000',\r\n            '--background-secondary': '#0a0a0a',\r\n            '--background-tertiary': '#111111',\r\n            '--background-accent': '#222222',\r\n            '--text-primary': '#ffffff',\r\n            '--text-secondary': '#b0b0b0',\r\n            '--text-muted': '#666666',\r\n            '--text-link': '#3ea6ff',\r\n            '--button-primary': '#3ea6ff',\r\n            '--button-secondary': '#333333',\r\n            '--border-primary': '#333333'\r\n        }\r\n    },\r\n    dracula: {\r\n        name: 'Dracula',\r\n        colors: {\r\n            '--background-primary': '#282a36',\r\n            '--background-secondary': '#44475a',\r\n            '--background-tertiary': '#6272a4',\r\n            '--background-accent': '#44475a',\r\n            '--text-primary': '#f8f8f2',\r\n            '--text-secondary': '#bfbfbf',\r\n            '--text-muted': '#6272a4',\r\n            '--text-link': '#8be9fd',\r\n            '--button-primary': '#bd93f9',\r\n            '--button-secondary': '#44475a',\r\n            '--border-primary': '#44475a'\r\n        }\r\n    },\r\n    ocean: {\r\n        name: 'Deep Ocean',\r\n        colors: {\r\n            '--background-primary': '#0f172a',\r\n            '--background-secondary': '#1e293b',\r\n            '--background-tertiary': '#334155',\r\n            '--background-accent': '#334155',\r\n            '--text-primary': '#e2e8f0',\r\n            '--text-secondary': '#94a3b8',\r\n            '--text-muted': '#64748b',\r\n            '--text-link': '#38bdf8',\r\n            '--button-primary': '#0ea5e9',\r\n            '--button-secondary': '#334155',\r\n            '--border-primary': '#1e293b'\r\n        }\r\n    },\r\n    forest: {\r\n        name: 'Enchanted Forest',\r\n        colors: {\r\n            '--background-primary': '#1a2f1a',\r\n            '--background-secondary': '#243b24',\r\n            '--background-tertiary': '#2f4b2f',\r\n            '--background-accent': '#3a5a3a',\r\n            '--text-primary': '#e0ffe0',\r\n            '--text-secondary': '#a0cca0',\r\n            '--text-muted': '#608060',\r\n            '--text-link': '#4caf50',\r\n            '--button-primary': '#4caf50',\r\n            '--button-secondary': '#2f4b2f',\r\n            '--border-primary': '#2f4b2f'\r\n        }\r\n    },\r\n    matrix: {\r\n        name: 'The Matrix',\r\n        colors: {\r\n            '--background-primary': '#0d0d0d',\r\n            '--background-secondary': '#121212',\r\n            '--background-tertiary': '#1a1a1a',\r\n            '--background-accent': '#003b00',\r\n            '--text-primary': '#00ff41',\r\n            '--text-secondary': '#008f11',\r\n            '--text-muted': '#003b00',\r\n            '--text-link': '#00ff41',\r\n            '--button-primary': '#008f11',\r\n            '--button-secondary': '#003b00',\r\n            '--border-primary': '#003b00'\r\n        }\r\n    },\r\n    sunset: {\r\n        name: 'Sunset Vibes',\r\n        colors: {\r\n            '--background-primary': '#2d1b2e',\r\n            '--background-secondary': '#442740',\r\n            '--background-tertiary': '#5a3450',\r\n            '--background-accent': '#734361',\r\n            '--text-primary': '#ffccaa',\r\n            '--text-secondary': '#ff9e7d',\r\n            '--text-muted': '#b05963',\r\n            '--text-link': '#ffbd69',\r\n            '--button-primary': '#ff6b6b',\r\n            '--button-secondary': '#5a3450',\r\n            '--border-primary': '#5a3450'\r\n        }\r\n    }\r\n};\r\n\r\nexport const applyTheme = (themeKey) => {\r\n    const theme = THEMES[themeKey] || THEMES.default;\r\n    const root = document.documentElement;\r\n\r\n    Object.entries(theme.colors).forEach(([property, value]) => {\r\n        root.style.setProperty(property, value);\r\n    });\r\n\r\n    localStorage.setItem('pawscord_theme', themeKey);\r\n};\r\n\r\nexport const loadSavedTheme = () => {\r\n    const savedTheme = localStorage.getItem('pawscord_theme');\r\n    if (savedTheme && THEMES[savedTheme]) {\r\n        applyTheme(savedTheme);\r\n        return savedTheme;\r\n    }\r\n    return 'default';\r\n};\r\n\r\n\r\n","// frontend/src/App/useAppEffects.js\r\n// Consolidates all initialization side-effect useEffect hooks from App.js\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Capacitor } from '@capacitor/core';\r\nimport { GoogleAuth } from '@codetrix-studio/capacitor-google-auth';\r\nimport { registerServiceWorker, setupInstallPrompt, setupNetworkMonitor } from '../utils/pwaHelper';\r\nimport { initializeCSSOptimization } from '../utils/criticalCSS';\r\nimport { preloadCriticalChunks, prefetchNextChunks } from '../utils/codeSplitting.config';\r\nimport toast from '../utils/toast';\r\nimport usePageTracking from '../hooks/usePageTracking';\r\nimport { useKeyboardShortcuts } from '../hooks/useKeyboardShortcuts';\r\nimport { loadSavedTheme } from '../utils/ThemeManager';\r\n\r\nexport default function useAppEffects({\r\n    // State setters\r\n    setAnimationState, setShowVanityInvite, setShowInviteCode,\r\n    setMaintenanceMode, setUpdateAvailable, setAllUsers,\r\n\r\n    // State values\r\n    animationState, isInitialDataLoaded, isAuthenticated, username,\r\n    messages, activeChat, isInVoice, currentVoiceRoom, modals,\r\n\r\n    // Refs\r\n    statusWsRef,\r\n\r\n    // Store functions\r\n    openModal, closeModal, toggleModal, setActiveChat,\r\n\r\n    // Auth\r\n    isNative, isElectron,\r\n\r\n    // Helpers\r\n    fetchWithAuth, isNearBottom, scrollToBottom, handleMessageScroll,\r\n\r\n    // Config\r\n    API_BASE_URL, MEDIA_BASE_URL,\r\n\r\n    // Imported utils\r\n    GOOGLE_WEB_CLIENT_ID,\r\n}) {\r\n    // --- LOCAL STATE ---\r\n    const [safeAreaTop, setSafeAreaTop] = useState('0px');\r\n\r\n    // =========================================================================\r\n    // 1. SPLASH SCREEN ANIMATION\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        if (animationState === 'finished') return;\r\n        setAnimationState('start');\r\n        //  Minimum animasyon: 800ms (logo animasyonu), data hazrsa hemen kapat\r\n        const minTimer = setTimeout(() => setAnimationState('pre-transition'), 800);\r\n        const forceFinishTimer = setTimeout(() => setAnimationState('finished'), 2000); // Max bekle\r\n        return () => {\r\n            clearTimeout(minTimer);\r\n            clearTimeout(forceFinishTimer);\r\n        };\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    //  Veri yklendiinde splash' erken kapat (minimum 800ms sonra)\r\n    useEffect(() => {\r\n        if (isInitialDataLoaded && animationState === 'pre-transition') {\r\n            setAnimationState('finished');\r\n        }\r\n    }, [isInitialDataLoaded, animationState]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 2. EMAIL VERIFICATION URL PARAMS\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(window.location.search);\r\n        const verification = params.get('verification');\r\n        const verUsername = params.get('username');\r\n        const reason = params.get('reason');\r\n        const needsPassword = params.get('needs_password');\r\n\r\n        if (verification === 'success') {\r\n            toast.success(` Email doruland! Hogeldin ${verUsername || 'kullanc'}!`);\r\n            window.history.replaceState({}, document.title, window.location.pathname);\r\n        } else if (verification === 'failed') {\r\n            const errorMsg = reason === 'expired'\r\n                ? ' Dorulama linki sresi dolmu. Yeni bir link talep edin.'\r\n                : ' Geersiz dorulama linki.';\r\n            toast.error(errorMsg);\r\n            window.history.replaceState({}, document.title, window.location.pathname);\r\n        }\r\n\r\n        //  Google ile giri yapan kullanclar iin ifre belirleme kontrol\r\n        if (needsPassword === 'true') {\r\n            openModal('passwordSetupModal');\r\n            window.history.replaceState({}, document.title, window.location.pathname);\r\n        }\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 3. PAYMENT SUCCESS URL PARAMS\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        const params = new URLSearchParams(window.location.search);\r\n        const success = params.get('success');\r\n        const coins = params.get('coins');\r\n        const sessionId = params.get('session_id');\r\n        const canceled = params.get('canceled');\r\n\r\n        if (success === 'true' && coins) {\r\n            const verifyPayment = async () => {\r\n                try {\r\n                    const token = localStorage.getItem('access_token');\r\n                    const apiBase = API_BASE_URL || 'https://api.pawscord.com/api';\r\n\r\n                    if (sessionId) {\r\n                        const response = await fetch(`${apiBase}/payments/verify/`, {\r\n                            method: 'POST',\r\n                            headers: {\r\n                                'Authorization': `Bearer ${token}`,\r\n                                'Content-Type': 'application/json'\r\n                            },\r\n                            body: JSON.stringify({\r\n                                session_id: sessionId,\r\n                                coin_amount: parseInt(coins)\r\n                            })\r\n                        });\r\n\r\n                        const data = await response.json();\r\n\r\n                        if (data.success) {\r\n                            if (data.already_processed) {\r\n                                toast.info(` deme zaten ilendi! Bakiye: ${data.balance} coin`);\r\n                            } else {\r\n                                toast.success(` ${coins} coin hesabna eklendi! Yeni bakiye: ${data.balance} coin`);\r\n                            }\r\n                        } else {\r\n                            toast.error(data.error || 'deme dorulama hatas');\r\n                        }\r\n                    } else {\r\n                        toast.success(` deme baarl! ${coins} coin hesabna eklendi.`);\r\n                    }\r\n                } catch (error) {\r\n                    console.error('Payment verification error:', error);\r\n                    toast.success(` ${coins} coin satn alma tamamland!`);\r\n                }\r\n            };\r\n\r\n            verifyPayment();\r\n            window.history.replaceState({}, document.title, window.location.pathname);\r\n        }\r\n\r\n        if (canceled === 'true') {\r\n            toast.info(' deme iptal edildi.');\r\n            window.history.replaceState({}, document.title, window.location.pathname);\r\n        }\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 4. VANITY URL DETECTION\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        const hash = window.location.hash;\r\n\r\n        // 0 Invite code: /#/invite/ABCD1234\r\n        const inviteMatch = hash.match(/^#\\/invite\\/([^/?]+)/);\r\n        if (inviteMatch) {\r\n            setShowInviteCode(inviteMatch[1]);\r\n            return;\r\n        }\r\n\r\n        // 1 Hash-based: /#/join/pawpaw\r\n        const vanityMatch = hash.match(/^#\\/join\\/([^/?]+)/);\r\n        if (vanityMatch) {\r\n            setShowVanityInvite(vanityMatch[1]);\r\n            return;\r\n        }\r\n\r\n        // 2 Path-based: /join/pawpaw (nginx veya direkt URL)\r\n        const pathMatch = window.location.pathname.match(/^\\/join\\/([^/?]+)/);\r\n        if (pathMatch) {\r\n            const vanityPath = pathMatch[1];\r\n            // Hash'e ta ki SPA dzgn alsn\r\n            window.history.replaceState({}, '', `/#/join/${vanityPath}`);\r\n            setShowVanityInvite(vanityPath);\r\n        }\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 5. MODERATION GLOBAL FUNCTIONS\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        window.showAutoModeration = () => openModal('autoModeration');\r\n        window.showRaidProtection = () => openModal('raidProtection');\r\n        window.showReportSystem = () => openModal('reportSystem');\r\n        window.showAuditLog = () => openModal('auditLog');\r\n        window.showUserWarnings = () => openModal('userWarnings');\r\n\r\n        return () => {\r\n            delete window.showAutoModeration;\r\n            delete window.showRaidProtection;\r\n            delete window.showReportSystem;\r\n            delete window.showAuditLog;\r\n            delete window.showUserWarnings;\r\n        };\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 6. CLICK OUTSIDE TOOLBAR\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        const handleClickOutside = (e) => {\r\n            if (modals.toolbarMenu && !e.target.closest('.toolbar-menu-container')) {\r\n                closeModal('toolbarMenu');\r\n            }\r\n        };\r\n        document.addEventListener('click', handleClickOutside);\r\n        return () => document.removeEventListener('click', handleClickOutside);\r\n    }, [modals.toolbarMenu]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 7. CONNECTIONS PANEL EVENT\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        const handleOpenConnectionsPanel = () => {\r\n            openModal('connectionsPanel');\r\n        };\r\n        window.addEventListener('openConnectionsPanel', handleOpenConnectionsPanel);\r\n        return () => window.removeEventListener('openConnectionsPanel', handleOpenConnectionsPanel);\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 8. PWA INIT\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        // Register Service Worker for offline support\r\n        registerServiceWorker();\r\n\r\n        // Setup PWA install prompt (A2HS)\r\n        setupInstallPrompt();\r\n\r\n        // Setup network monitoring (online/offline banner)\r\n        setupNetworkMonitor();\r\n\r\n        // Initialize critical CSS optimization\r\n        initializeCSSOptimization();\r\n\r\n        //  CODE SPLITTING: Preload critical chunks after 3 seconds\r\n        setTimeout(() => {\r\n            preloadCriticalChunks();\r\n        }, 3000);\r\n\r\n        //  CODE SPLITTING: Prefetch next chunks during idle time\r\n        if ('requestIdleCallback' in window) {\r\n            requestIdleCallback(() => {\r\n                prefetchNextChunks();\r\n            });\r\n        }\r\n\r\n        //  Initialize Deep Link Handler (APK)\r\n        if (isNative) {\r\n            import('../utils/urlHandlers').then(({ initializeDeepLinkHandler }) => {\r\n                // Deep link handler initialized\r\n            });\r\n        }\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 9. PUSH NOTIFICATIONS\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        if (isAuthenticated) {\r\n            import('../utils/pushNotifications').then(({ pushNotificationManager }) => {\r\n                pushNotificationManager.init(API_BASE_URL, fetchWithAuth);\r\n            });\r\n        }\r\n    }, [isAuthenticated]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 10. CAPACITOR / GOOGLE AUTH INIT\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        if (Capacitor.isNativePlatform()) {\r\n            GoogleAuth.initialize({\r\n                clientId: GOOGLE_WEB_CLIENT_ID,\r\n                scopes: ['profile', 'email'],\r\n                grantOfflineAccess: true\r\n            });\r\n            setSafeAreaTop('max(35px, env(safe-area-inset-top))');\r\n        }\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 11. VERSION CHECK\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        // Semantic version karlatrma fonksiyonu\r\n        const compareVersions = (latest, current) => {\r\n            try {\r\n                const latestParts = latest.split('.').map(Number);\r\n                const currentParts = current.split('.').map(Number);\r\n\r\n                // Major version\r\n                if (latestParts[0] > currentParts[0]) return true;\r\n                if (latestParts[0] < currentParts[0]) return false;\r\n\r\n                // Minor version\r\n                if (latestParts[1] > currentParts[1]) return true;\r\n                if (latestParts[1] < currentParts[1]) return false;\r\n\r\n                // Patch version\r\n                if (latestParts[2] > currentParts[2]) return true;\r\n\r\n                return false; // Ayn veya eski\r\n            } catch (error) {\r\n                console.error(' Version karlatrma hatas:', error);\r\n                return false;\r\n            }\r\n        };\r\n\r\n        const checkForUpdates = async () => {\r\n            //  DEBUG MODE: localhost:3000'de test iin (geici)\r\n            const isDebugMode = window.location.hostname === 'localhost' && window.location.port === '3000';\r\n\r\n            // Sadece Electron veya Native (Capacitor) platformlarda alsn\r\n            if (!isElectron && !isNative && !isDebugMode) {\r\n                return;\r\n            }\r\n\r\n            try {\r\n                //  FIX: Electron'da app.getVersion() kullan, fallback olarak VITE_APP_VERSION\r\n                let currentVersion = import.meta.env.VITE_APP_VERSION || '1.1.203';\r\n\r\n                // Electron'da doru versiyonu al\r\n                if (window.electron?.getAppVersion) {\r\n                    try {\r\n                        currentVersion = await window.electron.getAppVersion();\r\n                    } catch (e) {\r\n                        console.warn(' Electron version alnamad:', e);\r\n                    }\r\n                }\r\n\r\n                //  R2 CDN'den son versiyonu kontrol et\r\n                const res = await fetch('https://media.pawscord.com/builds/version.json');\r\n\r\n                if (!res.ok) {\r\n                    console.warn(' version.json alnamad:', res.status);\r\n                    return;\r\n                }\r\n\r\n                const data = await res.json();\r\n                const latestVersion = data.latest_version;\r\n\r\n                // Versiyon karlatrmas - semantic versioning\r\n                const isNewer = compareVersions(latestVersion, currentVersion);\r\n\r\n                if (latestVersion && isNewer) {\r\n                    setUpdateAvailable(true);\r\n\r\n                    // Optional: Electron'a bildirim gnder\r\n                    if (window.require) {\r\n                        const { ipcRenderer } = window.require('electron');\r\n                        ipcRenderer.send('update-available', {\r\n                            currentVersion,\r\n                            latestVersion,\r\n                            downloadUrl: data.download_url_windows\r\n                        });\r\n                    }\r\n                } else {\r\n                    setUpdateAvailable(false);\r\n                }\r\n            } catch (error) {\r\n                console.error(' Version check hatas:', error);\r\n            }\r\n        };\r\n\r\n        // lk kontrol\r\n        checkForUpdates();\r\n\r\n        // Her 30 dakikada bir kontrol et\r\n        const interval = setInterval(checkForUpdates, 30 * 60 * 1000);\r\n\r\n        return () => clearInterval(interval);\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 12. ACTIVITY POLLING (Spotify / Steam)\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        if (!isAuthenticated || !username) return;\r\n\r\n        const prevActivityRef = { current: null };\r\n\r\n        const checkActivity = async () => {\r\n            try {\r\n                // Fetch my own rich presence locally\r\n                // Note: We use the endpoint that calls Spotify/Steam APIs\r\n                const res = await fetchWithAuth(`${API_BASE_URL}/users/rich_presence/${username}/`);\r\n                if (res.ok) {\r\n                    const data = await res.json();\r\n\r\n                    // Flatten data to a single activity object for simplicity (priority: Spotify > Steam)\r\n                    let newActivity = {};\r\n\r\n                    //  Helper: Check if timestamp is fresh (within 2 minutes)\r\n                    const isTimestampFresh = (timestamp) => {\r\n                        if (!timestamp) return true; // No timestamp = trust it\r\n                        const activityTime = new Date(timestamp);\r\n                        const now = new Date();\r\n                        const diffMinutes = (now - activityTime) / 1000 / 60;\r\n                        return diffMinutes < 2; // Only show if less than 2 minutes old\r\n                    };\r\n\r\n                    if (data.spotify && isTimestampFresh(data.spotify.timestamp)) {\r\n                        newActivity.spotify = {\r\n                            type: 'listening',\r\n                            name: data.spotify.track,\r\n                            details: data.spotify.artist,\r\n                            album_art: data.spotify.album_art\r\n                        };\r\n                    }\r\n\r\n                    if (data.steam && isTimestampFresh(data.steam.timestamp)) {\r\n                        newActivity.steam = {\r\n                            type: 'playing',\r\n                            name: data.steam.game,\r\n                            state: data.steam.state\r\n                        };\r\n                    }\r\n\r\n                    // If no activity, keep it empty object or null\r\n                    if (Object.keys(newActivity).length === 0) newActivity = null;\r\n\r\n                    // Compare with previous to avoid spamming WS\r\n                    const prevStr = JSON.stringify(prevActivityRef.current);\r\n                    const newStr = JSON.stringify(newActivity);\r\n\r\n                    if (prevStr !== newStr) {\r\n                        // Update Local & Send WS\r\n                        prevActivityRef.current = newActivity;\r\n\r\n                        if (statusWsRef.current && statusWsRef.current.readyState === WebSocket.OPEN) {\r\n                            statusWsRef.current.send(JSON.stringify({\r\n                                type: 'update_activity',\r\n                                activity: newActivity\r\n                            }));\r\n                        }\r\n                    }\r\n                }\r\n            } catch (e) {\r\n                // Silent fail\r\n            }\r\n        };\r\n\r\n        const interval = setInterval(checkActivity, 30000); // 30s interval\r\n        checkActivity(); // Initial check\r\n\r\n        return () => clearInterval(interval);\r\n    }, [isAuthenticated, username, fetchWithAuth]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 13. MAINTENANCE MODE POLLING\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        const checkMaintenanceMode = async () => {\r\n            try {\r\n                const res = await fetch(`${API_BASE_URL}/maintenance/status/`);\r\n                if (res.ok) {\r\n                    const data = await res.json();\r\n                    if (data.active) {\r\n                        setMaintenanceMode({\r\n                            message: data.message || 'System maintenance in progress',\r\n                            endTime: data.end_time,\r\n                            level: data.level || 'info'\r\n                        });\r\n                    } else {\r\n                        setMaintenanceMode(null);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Maintenance check error:', error);\r\n            }\r\n        };\r\n\r\n        //  lk kontrol combined init'ten geliyor, sadece 5dk'da bir poll yap\r\n        const interval = setInterval(checkMaintenanceMode, 5 * 60 * 1000);\r\n        return () => clearInterval(interval);\r\n    }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // 14. SCROLL BEHAVIOR\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        if (isNearBottom()) {\r\n            scrollToBottom('smooth');\r\n        }\r\n    }, [messages, isNearBottom, scrollToBottom]);\r\n\r\n    useEffect(() => {\r\n        handleMessageScroll();\r\n    }, [activeChat, handleMessageScroll]);\r\n\r\n    // =========================================================================\r\n    // 15. KEYBOARD SHORTCUTS\r\n    // =========================================================================\r\n    useKeyboardShortcuts({\r\n        onQuickSwitcher: () => toggleModal('quickSwitcher'),\r\n        onCommandList: () => toggleModal('keyboardShortcuts'),\r\n        onCommandPalette: () => toggleModal('commandPalette'),\r\n        onSettings: () => toggleModal('userSettings'),\r\n        onEscape: () => { if (modals.featureHub) closeModal('featureHub'); },\r\n    });\r\n\r\n    // =========================================================================\r\n    // 16. VOICE ROOM  Auto-set activeChat to 'voice'\r\n    // =========================================================================\r\n    useEffect(() => {\r\n        if (isInVoice && currentVoiceRoom) {\r\n            setActiveChat('voice', currentVoiceRoom);\r\n        }\r\n    }, [isInVoice, currentVoiceRoom]); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    // =========================================================================\r\n    // ANALYTICS: Page view tracking\r\n    // =========================================================================\r\n    usePageTracking();\r\n\r\n    // --- RETURN ---\r\n    return { safeAreaTop };\r\n}\r\n","// frontend/src/utils/notificationSounds.js\r\n//  FEATURE 1: Notification Sound Manager\r\n// Farkl event'ler iin farkl sesler alar\r\nimport { CDN_BASE_URL } from './constants';\r\n\r\nconst SOUND_URLS = {\r\n    message: `${CDN_BASE_URL}/sounds/message.mp3`,\r\n    mention: `${CDN_BASE_URL}/sounds/mention.mp3`,\r\n    dm: `${CDN_BASE_URL}/sounds/dm.mp3`,\r\n    join: `${CDN_BASE_URL}/sounds/join.mp3`,\r\n    leave: `${CDN_BASE_URL}/sounds/leave.mp3`,\r\n    call: `${CDN_BASE_URL}/sounds/call.mp3`,\r\n    deafen: `${CDN_BASE_URL}/sounds/deafen.mp3`,\r\n    mute: `${CDN_BASE_URL}/sounds/mute.mp3`,\r\n};\r\n\r\n// Web Audio API based oscillator fallbacks (no external files needed)\r\nconst FALLBACK_TONES = {\r\n    message: { freq: 880, duration: 0.08, type: 'sine', volume: 0.15 },\r\n    mention: { freq: 1200, duration: 0.12, type: 'sine', volume: 0.25, repeat: 2 },\r\n    dm: { freq: 660, duration: 0.1, type: 'triangle', volume: 0.2, repeat: 2 },\r\n    join: { freq: 520, duration: 0.15, type: 'sine', volume: 0.12, ramp: 'up' },\r\n    leave: { freq: 420, duration: 0.15, type: 'sine', volume: 0.12, ramp: 'down' },\r\n    call: { freq: 440, duration: 0.3, type: 'sine', volume: 0.3, repeat: 3 },\r\n    deafen: { freq: 300, duration: 0.1, type: 'square', volume: 0.1 },\r\n    mute: { freq: 350, duration: 0.08, type: 'square', volume: 0.1 },\r\n};\r\n\r\nclass NotificationSoundManager {\r\n    constructor() {\r\n        this.audioCache = {};\r\n        this.audioContext = null;\r\n        this.enabled = true;\r\n        this.volume = 0.5;\r\n        this.quietHours = null; // { start: '23:00', end: '08:00' }\r\n        this._cooldowns = {};\r\n        this._loadSettings();\r\n    }\r\n\r\n    _loadSettings() {\r\n        try {\r\n            const saved = localStorage.getItem('pawscord_sound_settings');\r\n            if (saved) {\r\n                const parsed = JSON.parse(saved);\r\n                this.enabled = parsed.enabled !== false;\r\n                this.volume = parsed.volume ?? 0.5;\r\n                this.quietHours = parsed.quietHours || null;\r\n                this.perEvent = parsed.perEvent || {};\r\n            }\r\n        } catch (e) { /* ignore */ }\r\n    }\r\n\r\n    saveSettings() {\r\n        try {\r\n            localStorage.setItem('pawscord_sound_settings', JSON.stringify({\r\n                enabled: this.enabled,\r\n                volume: this.volume,\r\n                quietHours: this.quietHours,\r\n                perEvent: this.perEvent || {},\r\n            }));\r\n        } catch (e) { /* ignore */ }\r\n    }\r\n\r\n    setEnabled(val) { this.enabled = val; this.saveSettings(); }\r\n    setVolume(val) { this.volume = Math.max(0, Math.min(1, val)); this.saveSettings(); }\r\n    setQuietHours(start, end) {\r\n        this.quietHours = start && end ? { start, end } : null;\r\n        this.saveSettings();\r\n    }\r\n    setEventEnabled(event, val) {\r\n        if (!this.perEvent) this.perEvent = {};\r\n        this.perEvent[event] = val;\r\n        this.saveSettings();\r\n    }\r\n\r\n    isInQuietHours() {\r\n        if (!this.quietHours) return false;\r\n        const now = new Date();\r\n        const h = now.getHours();\r\n        const m = now.getMinutes();\r\n        const current = h * 60 + m;\r\n        const [sh, sm] = this.quietHours.start.split(':').map(Number);\r\n        const [eh, em] = this.quietHours.end.split(':').map(Number);\r\n        const start = sh * 60 + sm;\r\n        const end = eh * 60 + em;\r\n        if (start <= end) return current >= start && current < end;\r\n        return current >= start || current < end; // overnight\r\n    }\r\n\r\n    _getAudioContext() {\r\n        if (!this.audioContext) {\r\n            this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n        }\r\n        return this.audioContext;\r\n    }\r\n\r\n    _playTone(config) {\r\n        try {\r\n            const ctx = this._getAudioContext();\r\n            const play = (delay = 0) => {\r\n                const osc = ctx.createOscillator();\r\n                const gain = ctx.createGain();\r\n                osc.type = config.type || 'sine';\r\n                osc.frequency.value = config.freq;\r\n                gain.gain.value = (config.volume || 0.15) * this.volume;\r\n\r\n                if (config.ramp === 'up') {\r\n                    osc.frequency.setValueAtTime(config.freq * 0.7, ctx.currentTime + delay);\r\n                    osc.frequency.linearRampToValueAtTime(config.freq, ctx.currentTime + delay + config.duration);\r\n                } else if (config.ramp === 'down') {\r\n                    osc.frequency.setValueAtTime(config.freq, ctx.currentTime + delay);\r\n                    osc.frequency.linearRampToValueAtTime(config.freq * 0.7, ctx.currentTime + delay + config.duration);\r\n                }\r\n\r\n                gain.gain.setValueAtTime((config.volume || 0.15) * this.volume, ctx.currentTime + delay);\r\n                gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + delay + config.duration);\r\n\r\n                osc.connect(gain);\r\n                gain.connect(ctx.destination);\r\n                osc.start(ctx.currentTime + delay);\r\n                osc.stop(ctx.currentTime + delay + config.duration + 0.05);\r\n            };\r\n\r\n            const repeats = config.repeat || 1;\r\n            for (let i = 0; i < repeats; i++) {\r\n                play(i * (config.duration + 0.06));\r\n            }\r\n        } catch (e) {\r\n            console.warn('Sound playback failed:', e);\r\n        }\r\n    }\r\n\r\n    async play(eventType) {\r\n        if (!this.enabled) return;\r\n        if (this.isInQuietHours()) return;\r\n        if (this.perEvent && this.perEvent[eventType] === false) return;\r\n\r\n        // Cooldown: don't play same sound within 150ms\r\n        const now = Date.now();\r\n        if (this._cooldowns[eventType] && now - this._cooldowns[eventType] < 150) return;\r\n        this._cooldowns[eventType] = now;\r\n\r\n        // Try mp3 first, fallback to Web Audio tone\r\n        const url = SOUND_URLS[eventType];\r\n        if (url) {\r\n            try {\r\n                if (!this.audioCache[eventType]) {\r\n                    this.audioCache[eventType] = new Audio(url);\r\n                }\r\n                const audio = this.audioCache[eventType].cloneNode();\r\n                audio.volume = this.volume;\r\n                await audio.play();\r\n                return;\r\n            } catch (e) { /* fallback to tone */ }\r\n        }\r\n\r\n        const tone = FALLBACK_TONES[eventType];\r\n        if (tone) this._playTone(tone);\r\n    }\r\n\r\n    // Resume audio context (must be called after user gesture)\r\n    resume() {\r\n        if (this.audioContext?.state === 'suspended') {\r\n            this.audioContext.resume();\r\n        }\r\n    }\r\n}\r\n\r\nexport const soundManager = new NotificationSoundManager();\r\nexport default soundManager;\r\n","/**\r\n *  useChatConnection  WebSocket connections + fetchWithAuth\r\n * Extracted from App.js\r\n */\r\nimport { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useChatStore } from '../stores/useChatStore';\r\nimport { soundManager } from '../utils/notificationSounds';\r\nimport { loadSavedTheme } from '../utils/ThemeManager';\r\n\r\nexport default function useChatConnection({\r\n    activeChat, username, token, isAuthenticated, isInitialDataLoaded,\r\n    fetchWithAuth, scrollToBottom, isNearBottom, setMessages,\r\n    setIsConnected, historyCacheRef, setHasMoreMessages, setMessageHistoryOffset,\r\n    fetchMessageHistory, setShowScrollToBottom,\r\n    API_BASE_URL, API_HOST, WS_PROTOCOL,\r\n    forwardToGlobalContext, setGlobalWsConnected,\r\n    setOnlineUsers, setVoiceUsersState, setAllUsers, setCurrentUserProfile,\r\n    activeChatRef, tokenRef, usernameRef,\r\n    setCategories, ROOM_LIST_URL,\r\n    statusWsRef, statusWsReconnectRef,\r\n    logout, refreshAccessToken,\r\n    setCurrentTheme,\r\n}) {\r\n    const ws = useRef(null);\r\n\r\n    const { setTypingUser, incrementUnread } = useChatStore();\r\n\r\n    // ---  CHAT WEBSOCKET ---\r\n    const connectWebSocket = useCallback(() => {\r\n        if (!activeChat.id || activeChat.type === 'welcome' || activeChat.type === 'friends' || !username) return;\r\n\r\n        if (ws.current && ws.current.readyState === WebSocket.OPEN) {\r\n            const currentWsUrl = ws.current.url;\r\n            const expectedPath = activeChat.type === 'room'\r\n                ? `/ws/chat/${activeChat.id}/`\r\n                : `/ws/dm/${activeChat.id}/`;\r\n            if (currentWsUrl.includes(expectedPath)) return;\r\n        }\r\n\r\n        if (ws.current) ws.current.close(1000, 'change_room');\r\n\r\n        let wsUrl = '';\r\n        const params = `?username=${encodeURIComponent(username)}&token=${token}`;\r\n        if (activeChat.type === 'room') wsUrl = `${WS_PROTOCOL}://${API_HOST}/ws/chat/${activeChat.id}/${params}`;\r\n        else if (activeChat.type === 'dm') wsUrl = `${WS_PROTOCOL}://${API_HOST}/ws/dm/${activeChat.id}/${params}`;\r\n\r\n        if (!wsUrl) return;\r\n\r\n        const newWs = new WebSocket(wsUrl);\r\n        ws.current = newWs;\r\n\r\n        newWs.onopen = () => setIsConnected(true);\r\n\r\n        newWs.onmessage = (event) => {\r\n            const data = JSON.parse(event.data);\r\n            if (data.type === 'chat' || data.type === 'dm' || data.type === 'chat_message_handler') {\r\n                const getCacheKeyFromMessage = (msgData) => {\r\n                    if (msgData.room) return `room-${msgData.room}`;\r\n                    if (msgData.conversation) return `dm-${msgData.conversation}`;\r\n                    return activeChat.type === 'room' ? `room-${activeChat.id}` : `dm-${activeChat.id}`;\r\n                };\r\n\r\n                setMessages(prev => {\r\n                    if (data.temp_id) {\r\n                        const tempIndex = prev.findIndex(msg => msg.temp_id === data.temp_id);\r\n                        if (tempIndex !== -1) {\r\n                            const newMessages = [...prev];\r\n                            newMessages[tempIndex] = data;\r\n                            const cacheKey = getCacheKeyFromMessage(data);\r\n                            if (historyCacheRef.current[cacheKey]) historyCacheRef.current[cacheKey].messages = newMessages;\r\n                            return newMessages;\r\n                        }\r\n                    }\r\n                    if (data.id && prev.some(msg => msg.id === data.id)) return prev;\r\n\r\n                    const updatedMessages = [...prev, data];\r\n                    const cacheKey = getCacheKeyFromMessage(data);\r\n                    if (historyCacheRef.current[cacheKey]) historyCacheRef.current[cacheKey].messages = updatedMessages;\r\n                    return updatedMessages;\r\n                });\r\n\r\n                setTypingUser(data.username, false);\r\n\r\n                if (data.username !== username) {\r\n                    try {\r\n                        const isMention = data.content?.includes(`@${username}`) || data.mentions?.includes(username);\r\n                        const isDM = data.type === 'dm';\r\n                        if (isMention) soundManager.play('mention');\r\n                        else if (isDM) soundManager.play('dm');\r\n                        else soundManager.play('message');\r\n                    } catch (e) { /* sound not critical */ }\r\n                }\r\n\r\n                if (isNearBottom()) scrollToBottom('smooth');\r\n                else setShowScrollToBottom(true);\r\n            } else if (data.type === 'typing_status_update') {\r\n                if (data.username !== username) setTypingUser(data.username, data.is_typing);\r\n            } else if (data.type === 'chat_cleared') {\r\n                setMessages([]);\r\n            }\r\n\r\n            if (data.message && data.message.startsWith('[ANNOUNCE] ')) {\r\n                const announcement = data.message.replace('[ANNOUNCE] ', '');\r\n                // Use event to notify App about sticky message\r\n                window.dispatchEvent(new CustomEvent('stickyMessage', {\r\n                    detail: { message: announcement, type: 'info', author: data.username }\r\n                }));\r\n            }\r\n        };\r\n\r\n        newWs.onerror = (error) => console.error(' [WebSocket] Connection error:', error);\r\n        newWs.onclose = () => setIsConnected(false);\r\n    }, [activeChat.id, activeChat.type, username, token]);\r\n\r\n    // ---  STATUS WEBSOCKET ---\r\n    useEffect(() => {\r\n        if (!isAuthenticated || !isInitialDataLoaded) return;\r\n\r\n        const saved = loadSavedTheme();\r\n        setCurrentTheme(saved);\r\n\r\n        const currentToken = tokenRef.current;\r\n        if (!currentToken) return;\r\n\r\n        let intentionalClose = false;\r\n        let reconnectAttempts = 0;\r\n        const MAX_RECONNECT_ATTEMPTS = 10;\r\n\r\n        const createSocket = () => {\r\n            const tok = tokenRef.current || currentToken;\r\n            const currentUser = usernameRef.current || username;\r\n            const url = `${WS_PROTOCOL}://${API_HOST}/ws/status/?username=${encodeURIComponent(currentUser)}&token=${tok}`;\r\n\r\n            let socket;\r\n            try { socket = new WebSocket(url); } catch (err) { return null; }\r\n\r\n            socket.onopen = () => { setGlobalWsConnected(true); reconnectAttempts = 0; };\r\n            socket.onerror = (error) => console.error('[StatusWS] WebSocket error:', error);\r\n\r\n            socket.onclose = (event) => {\r\n                setGlobalWsConnected(false);\r\n                if (!intentionalClose && event.code !== 1000 && event.code !== 1001) {\r\n                    if (reconnectAttempts >= MAX_RECONNECT_ATTEMPTS) return;\r\n                    reconnectAttempts++;\r\n                    const delay = Math.min(5000 * Math.pow(2, reconnectAttempts - 1), 60000);\r\n                    statusWsReconnectRef.current = setTimeout(() => {\r\n                        if (!intentionalClose) {\r\n                            const newSocket = createSocket();\r\n                            if (newSocket) statusWsRef.current = newSocket;\r\n                        }\r\n                    }, delay);\r\n                }\r\n            };\r\n\r\n            socket.onmessage = (e) => {\r\n                try {\r\n                    const data = JSON.parse(e.data);\r\n                    forwardToGlobalContext(data);\r\n\r\n                    if (data.type === 'online_user_list_update') {\r\n                        const onlineUsernames = Array.isArray(data.users)\r\n                            ? data.users.map(u => typeof u === 'string' ? u : u.username || u)\r\n                            : [];\r\n                        setOnlineUsers(onlineUsernames);\r\n                    }\r\n                    if (data.type === 'voice_users_update') setVoiceUsersState(data.voice_users);\r\n                    if (data.type === 'user_activity_update') {\r\n                        setAllUsers(prevUsers => prevUsers.map(u =>\r\n                            u.username === data.username ? { ...u, current_activity: data.activity } : u\r\n                        ));\r\n                    }\r\n                    if (data.type === 'user_profile_update' && data.user_data) {\r\n                        const updatedUser = data.user_data;\r\n                        if (updatedUser.username === username) {\r\n                            setCurrentUserProfile(prevProfile => ({\r\n                                ...prevProfile,\r\n                                avatar: updatedUser.avatar,\r\n                                status_message: updatedUser.status_message,\r\n                                social_links: updatedUser.social_links,\r\n                                coins: updatedUser.coins,\r\n                                xp: updatedUser.xp,\r\n                                level: updatedUser.level,\r\n                                status: updatedUser.status,\r\n                                role: updatedUser.role\r\n                            }));\r\n                        }\r\n                        setAllUsers(prevUsers => prevUsers.map(u =>\r\n                            u.username === updatedUser.username ? { ...u, ...updatedUser } : u\r\n                        ));\r\n                    }\r\n                    if (data.type === 'global_message_notification' && data.username !== username) {\r\n                        const key = data.room_slug ? `room-${data.room_slug}` : `dm-${data.conversation_id}`;\r\n                        const chat = activeChatRef.current;\r\n                        const currentKey = chat.type === 'room' ? `room-${chat.id}` : `dm-${chat.id}`;\r\n                        if (key !== currentKey) incrementUnread(key);\r\n                    }\r\n                    if (data.type === 'server_structure_update') {\r\n                        if (data.categories && Array.isArray(data.categories)) {\r\n                            setCategories(data.categories);\r\n                        } else {\r\n                            fetchWithAuth(ROOM_LIST_URL).then(r => r.json()).then(rooms => setCategories(rooms)).catch(console.error);\r\n                        }\r\n                    }\r\n                } catch (parseError) {\r\n                    console.error('[StatusWS] Failed to parse message:', parseError);\r\n                }\r\n            };\r\n\r\n            return socket;\r\n        };\r\n\r\n        const socket = createSocket();\r\n        if (socket) statusWsRef.current = socket;\r\n\r\n        return () => {\r\n            intentionalClose = true;\r\n            clearTimeout(statusWsReconnectRef.current);\r\n            try { if (statusWsRef.current) statusWsRef.current.close(1000, 'Component unmount'); } catch (e) { /* Ignore */ }\r\n        };\r\n    }, [isAuthenticated, isInitialDataLoaded]);\r\n\r\n    // ---  CONNECT ON ACTIVE CHAT CHANGE ---\r\n    useEffect(() => {\r\n        if (!isInitialDataLoaded || !activeChat.id || activeChat.type === 'friends' || activeChat.type === 'welcome' || activeChat.type === 'server') return;\r\n\r\n        let isCancelled = false;\r\n        const key = activeChat.type === 'room' ? `room-${activeChat.id}` : `dm-${activeChat.id}`;\r\n        const cached = historyCacheRef.current[key];\r\n\r\n        if (cached?.messages?.length > 0) {\r\n            setMessages(cached.messages);\r\n            setHasMoreMessages(!!cached.hasMore);\r\n            setMessageHistoryOffset(cached.offset || 0);\r\n            setTimeout(() => { if (!isCancelled) scrollToBottom('auto'); }, 50);\r\n            if (!isCancelled) connectWebSocket();\r\n        } else {\r\n            setMessageHistoryOffset(0);\r\n            setHasMoreMessages(true);\r\n            if (!isCancelled) connectWebSocket();\r\n            setTimeout(() => { if (!isCancelled) fetchMessageHistory(true, 0); }, 50);\r\n        }\r\n\r\n        return () => { isCancelled = true; };\r\n    }, [activeChat.id, activeChat.type, isInitialDataLoaded, connectWebSocket]);\r\n\r\n    return { ws, connectWebSocket };\r\n}\r\n","// frontend/src/utils/encryption.js\r\n\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst PREFIX = 'ENC::';\r\n\r\nexport const encryptMessage = (text, secretKey) => {\r\n    if (!text || !secretKey) return text;\r\n    try {\r\n        const encrypted = CryptoJS.AES.encrypt(text, secretKey).toString();\r\n        return PREFIX + encrypted;\r\n    } catch (e) {\r\n        console.error(\"ifreleme hatas:\", e);\r\n        return text;\r\n    }\r\n};\r\n\r\nexport const decryptMessage = (cipherText, secretKey) => {\r\n    if (!cipherText || !cipherText.startsWith(PREFIX) || !secretKey) return cipherText;\r\n    try {\r\n        const rawCipher = cipherText.replace(PREFIX, '');\r\n        const bytes = CryptoJS.AES.decrypt(rawCipher, secretKey);\r\n        const originalText = bytes.toString(CryptoJS.enc.Utf8);\r\n\r\n        // ifre yanlsa bo string dner, bu durumda orijinali gsterelim (veya hata mesaj)\r\n        if (!originalText) return \" ifreli Mesaj (Anahtar Yanl)\";\r\n\r\n        return originalText;\r\n    } catch (e) {\r\n        console.error(\"ifre zme hatas:\", e);\r\n        return \" zlemedi\";\r\n    }\r\n};\r\n\r\nexport const isEncrypted = (text) => {\r\n    return text && typeof text === 'string' && text.startsWith(PREFIX);\r\n};\r\n\r\n","/**\r\n *  useMessageHandlers  Message sending, history, deletion, pinning, search\r\n * Extracted from App.js\r\n */\r\nimport { useCallback, useRef } from 'react';\r\nimport { encryptMessage } from '../utils/encryption';\r\nimport toast from '../utils/toast';\r\nimport confirmDialog from '../utils/confirmDialog';\r\nimport { getTemporaryId } from '../config/api';\r\n\r\nexport default function useMessageHandlers({\r\n    activeChat, username, token, ws,\r\n    encryptionKeys, setMessages, scrollToBottom, isNearBottom,\r\n    setEditingMessage, setHasDraftMessage, setDraftText, persistDraft,\r\n    setStickyMessage, richTextRef, fetchWithAuth,\r\n    currentUserProfile, getDeterministicAvatar,\r\n    historyCacheRef, setHasMoreMessages, setMessageHistoryOffset,\r\n    setIsSummaryLoading, setSummaryResult, setPinnedMessages,\r\n    setConversations, setMessageHistoryLoading,\r\n    openModal, closeModal,\r\n    API_BASE_URL, MESSAGE_HISTORY_ROOM_URL, MESSAGE_HISTORY_DM_URL,\r\n}) {\r\n    const readReceiptBufferRef = useRef([]);\r\n    const readReceiptTimerRef = useRef(null);\r\n\r\n    // ---  SEND MESSAGE ---\r\n    const sendMessage = useCallback((content) => {\r\n        if (!content) return;\r\n        const trimmed = content.trim();\r\n        if (!trimmed) return;\r\n\r\n        // Slash commands\r\n        if (trimmed === '/tema') {\r\n            openModal('themeStore');\r\n            setEditingMessage(null); setHasDraftMessage(false); setDraftText(''); richTextRef.current?.clear?.();\r\n            return;\r\n        }\r\n        if (trimmed === '/sablon') {\r\n            openModal('templateModal');\r\n            setEditingMessage(null); setHasDraftMessage(false); setDraftText(''); richTextRef.current?.clear?.();\r\n            return;\r\n        }\r\n        if (trimmed.startsWith('/duyuru ')) {\r\n            const announcement = trimmed.slice(8).trim();\r\n            if (announcement) {\r\n                const payload = {\r\n                    type: activeChat.type === 'room' ? 'chat_message' : 'dm_message',\r\n                    message: `[ANNOUNCE] ${announcement}`,\r\n                    username: username,\r\n                    temp_id: getTemporaryId(),\r\n                    ...(activeChat.type === 'room' ? { room: activeChat.id } : { conversation: activeChat.id })\r\n                };\r\n                ws.current?.send(JSON.stringify(payload));\r\n                setStickyMessage({ message: announcement, type: 'info', author: username });\r\n                setEditingMessage(null); setHasDraftMessage(false); setDraftText(''); richTextRef.current?.clear?.();\r\n                return;\r\n            }\r\n        }\r\n\r\n        setEditingMessage(null); setHasDraftMessage(false); setDraftText(''); persistDraft('');\r\n\r\n        const currentChatId = activeChat.type === 'room' ? `room-${activeChat.id}` : `dm-${activeChat.id}`;\r\n        const secretKey = encryptionKeys[currentChatId];\r\n        let finalContent = trimmed;\r\n        if (activeChat.type === 'dm' && secretKey) finalContent = encryptMessage(trimmed, secretKey);\r\n\r\n        const payload = {\r\n            type: activeChat.type === 'room' ? 'chat_message' : 'dm_message',\r\n            message: finalContent,\r\n            username: username,\r\n            temp_id: getTemporaryId(),\r\n            ...(activeChat.type === 'room' ? { room: activeChat.id } : { conversation: activeChat.id })\r\n        };\r\n        const jsonPayload = JSON.stringify(payload);\r\n\r\n        const sendViaWebSocket = async () => {\r\n            const maxWait = 3000;\r\n            const checkInterval = 100;\r\n            let waited = 0;\r\n            while (ws.current && ws.current.readyState === WebSocket.CONNECTING && waited < maxWait) {\r\n                await new Promise(resolve => setTimeout(resolve, checkInterval));\r\n                waited += checkInterval;\r\n            }\r\n            if (ws.current && ws.current.readyState === WebSocket.OPEN) {\r\n                try { ws.current.send(jsonPayload); return true; } catch (error) { return false; }\r\n            }\r\n            return false;\r\n        };\r\n\r\n        const sendViaHTTP = async () => {\r\n            try {\r\n                const endpoint = activeChat.type === 'dm'\r\n                    ? `${API_BASE_URL}/messages/send_dm/`\r\n                    : `${API_BASE_URL}/messages/send/`;\r\n                const httpPayload = activeChat.type === 'dm'\r\n                    ? { conversation_id: activeChat.id, content: finalContent }\r\n                    : { room: activeChat.id, content: finalContent };\r\n                const response = await fetchWithAuth(endpoint, { method: 'POST', body: JSON.stringify(httpPayload) });\r\n                return response.ok;\r\n            } catch (error) { return false; }\r\n        };\r\n\r\n        (async () => {\r\n            const wsSent = await sendViaWebSocket();\r\n            if (!wsSent) await sendViaHTTP();\r\n        })();\r\n\r\n        setMessages(prev => {\r\n            const newMessage = {\r\n                ...payload,\r\n                content: finalContent,\r\n                timestamp: new Date().toISOString(),\r\n                id: payload.temp_id,\r\n                avatar: currentUserProfile?.avatar || getDeterministicAvatar(username)\r\n            };\r\n            const updatedMessages = [...prev, newMessage];\r\n            const cacheKey = activeChat.type === 'room' ? `room-${activeChat.id}` : `dm-${activeChat.id}`;\r\n            if (historyCacheRef.current[cacheKey]) historyCacheRef.current[cacheKey].messages = updatedMessages;\r\n            return updatedMessages;\r\n        });\r\n\r\n        richTextRef.current?.clear?.();\r\n        scrollToBottom('smooth');\r\n    }, [activeChat, username, encryptionKeys, ws, fetchWithAuth, currentUserProfile, getDeterministicAvatar, persistDraft]);\r\n\r\n    // ---  SEND SNIPPET ---\r\n    const handleSendSnippet = useCallback((data) => {\r\n        const payload = {\r\n            type: activeChat.type === 'room' ? 'chat_message' : 'dm_message',\r\n            message: \"\", username, temp_id: getTemporaryId(), snippet_data: data,\r\n            ...(activeChat.type === 'room' ? { room: activeChat.id } : { conversation: activeChat.id })\r\n        };\r\n        ws.current?.send(JSON.stringify(payload));\r\n        setMessages(prev => [...prev, {\r\n            ...payload, timestamp: new Date().toISOString(), id: payload.temp_id,\r\n            avatar: currentUserProfile?.avatar || getDeterministicAvatar(username)\r\n        }]);\r\n        closeModal('snippetModal');\r\n    }, [activeChat, username, ws, currentUserProfile, getDeterministicAvatar]);\r\n\r\n    // ---  FETCH MESSAGE HISTORY ---\r\n    const fetchMessageHistory = useCallback(async (isInitial = true, offset = 0) => {\r\n        if (!activeChat.id) return;\r\n        if (activeChat.type === 'voice') { setMessages([]); setHasMoreMessages(false); return; }\r\n\r\n        setMessageHistoryLoading(true);\r\n        const urlBase = activeChat.type === 'room' ? MESSAGE_HISTORY_ROOM_URL : MESSAGE_HISTORY_DM_URL;\r\n        const key = activeChat.type === 'room' ? `room-${activeChat.id}` : `dm-${activeChat.id}`;\r\n\r\n        try {\r\n            const res = await fetchWithAuth(`${urlBase}${activeChat.id}/?limit=50&offset=${offset}`);\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                const rawMessages = data.results || [];\r\n                const validMessages = rawMessages.filter(msg => msg && typeof msg === 'object' && (msg.id || msg.temp_id));\r\n                const newMsgs = validMessages.reverse();\r\n\r\n                let combinedMessages = newMsgs;\r\n                if (isInitial) {\r\n                    setMessages(newMsgs);\r\n                    setTimeout(() => scrollToBottom('auto'), 100);\r\n                } else {\r\n                    setMessages(prev => {\r\n                        combinedMessages = [...newMsgs, ...prev];\r\n                        return combinedMessages;\r\n                    });\r\n                }\r\n\r\n                const nextOffset = isInitial ? newMsgs.length : offset + newMsgs.length;\r\n                const hasMore = !!data.next;\r\n                setHasMoreMessages(hasMore);\r\n                if (!isInitial) setMessageHistoryOffset(nextOffset);\r\n\r\n                const cachedExisting = historyCacheRef.current[key]?.messages || [];\r\n                const cachedCombined = isInitial ? newMsgs : [...newMsgs, ...cachedExisting];\r\n                historyCacheRef.current[key] = { messages: combinedMessages || cachedCombined, offset: nextOffset, hasMore };\r\n            }\r\n        } catch (e) { console.error(' [fetchMessageHistory] Error:', e); }\r\n        setMessageHistoryLoading(false);\r\n    }, [activeChat, fetchWithAuth, scrollToBottom]);\r\n\r\n    // ---  DELETE MESSAGE ---\r\n    const handleDeleteMessage = useCallback(async (messageId) => {\r\n        if (!await confirmDialog(\"Bu mesaj silmek istediine emin misin?\")) return;\r\n        try {\r\n            const res = await fetchWithAuth(`${API_BASE_URL}/messages/${messageId}/delete/`, { method: 'DELETE' });\r\n            if (res.ok) setMessages(prev => prev.filter(m => m.id !== messageId));\r\n        } catch (e) { console.error(e); }\r\n    }, [fetchWithAuth, API_BASE_URL]);\r\n\r\n    // ---  TOGGLE PIN ---\r\n    const handleTogglePin = useCallback(async (messageId) => {\r\n        try {\r\n            const res = await fetchWithAuth(`${API_BASE_URL}/messages/${messageId}/pin/`, { method: 'POST' });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                const isPinned = data.is_pinned ?? data.pinned ?? true;\r\n                setMessages(prev => prev.map(m => m.id === messageId ? { ...m, is_pinned: isPinned } : m));\r\n                if (isPinned) {\r\n                    setPinnedMessages(prev => {\r\n                        const msg = prev.find(p => p.id === messageId);\r\n                        if (!msg) return prev; // will be added from messages state\r\n                        return prev;\r\n                    });\r\n                    toast.success(' Mesaj sabitlendi');\r\n                } else {\r\n                    setPinnedMessages(prev => prev.filter(p => p.id !== messageId));\r\n                    toast.success(' Sabitleme kaldrld');\r\n                }\r\n            }\r\n        } catch (e) { console.error('Pin toggle error:', e); toast.error(' Sabitleme hatas'); }\r\n    }, [fetchWithAuth, API_BASE_URL]);\r\n\r\n    // ---  SEARCH MESSAGES ---\r\n    const handleSearchMessages = useCallback(async (e, debouncedSearchQuery) => {\r\n        e.preventDefault();\r\n        if (!activeChat.id || !debouncedSearchQuery.trim()) {\r\n            if (!debouncedSearchQuery.trim()) fetchMessageHistory(true, 0);\r\n            return;\r\n        }\r\n        setMessageHistoryLoading(true);\r\n        try {\r\n            let url = `${API_BASE_URL}/messages/search/?q=${encodeURIComponent(debouncedSearchQuery)}`;\r\n            if (activeChat.type === 'room') url += `&room=${activeChat.id}`;\r\n            else url += `&dm=${activeChat.id}`;\r\n            const res = await fetchWithAuth(url);\r\n            if (res.ok) { const data = await res.json(); setMessages(data.results || data); }\r\n        } catch (e) { console.error(e); }\r\n        setMessageHistoryLoading(false);\r\n    }, [activeChat, fetchWithAuth, fetchMessageHistory]);\r\n\r\n    // ---  SUMMARIZE ---\r\n    const handleSummarize = useCallback(async () => {\r\n        openModal('summary');\r\n        setIsSummaryLoading(true); setSummaryResult(\"\");\r\n        try {\r\n            const res = await fetchWithAuth(`${API_BASE_URL}/rooms/${activeChat.id}/summarize/`, { method: 'POST' });\r\n            const data = await res.json();\r\n            setSummaryResult(res.ok ? data.summary : \"Hata: \" + data.error);\r\n        } catch (e) { setSummaryResult(\"Balant hatas.\"); }\r\n        setIsSummaryLoading(false);\r\n    }, [activeChat, fetchWithAuth]);\r\n\r\n    // ---  CLEAR CHAT ---\r\n    const handleClearChat = useCallback(async () => {\r\n        if (!await confirmDialog(\"Bu odadaki tm mesajlar silmek istediine emin misin?\")) return;\r\n        try {\r\n            const res = await fetchWithAuth(`${API_BASE_URL}/rooms/${activeChat.id}/clear/`, { method: 'POST' });\r\n            if (res.ok) setMessages([]);\r\n        } catch (e) { console.error(e); }\r\n    }, [activeChat, fetchWithAuth]);\r\n\r\n    // ---  HIDE CONVERSATION ---\r\n    const handleHideConversation = useCallback(async (conversationId) => {\r\n        if (!await confirmDialog(\"Bu sohbeti listenizden gizlemek istiyor musunuz?\")) return;\r\n        try {\r\n            const res = await fetchWithAuth(`${API_BASE_URL}/conversations/${conversationId}/hide/`, { method: 'POST' });\r\n            if (res.ok) {\r\n                setConversations(prev => prev.filter(c => c.id !== conversationId));\r\n                if (activeChat.type === 'dm' && activeChat.id === conversationId) window.dispatchEvent(new CustomEvent('setActiveChatWelcome'));\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    }, [activeChat, fetchWithAuth]);\r\n\r\n    // ---  ADMIN DELETE CONVERSATION ---\r\n    const handleAdminDeleteConversation = useCallback(async (conversationId) => {\r\n        if (!await confirmDialog(\" ADMN: Bu konumay HER K TARAFTAN KALICI OLARAK silmek istediinize emin misiniz?\\n\\nBu ilem GER ALINAMAZ!\")) return;\r\n        try {\r\n            const res = await fetchWithAuth(`${API_BASE_URL}/conversations/${conversationId}/admin-delete/`, { method: 'DELETE' });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                toast.success(` ${data.deleted_messages} mesaj silindi. Katlmclar: ${data.participants.join(', ')}`);\r\n                setConversations(prev => prev.filter(c => c.id !== conversationId));\r\n                if (activeChat.type === 'dm' && activeChat.id === conversationId) window.dispatchEvent(new CustomEvent('setActiveChatWelcome'));\r\n            } else {\r\n                const errorData = await res.json();\r\n                toast.error(` Hata: ${errorData.error || 'Silme ilemi baarsz'}`);\r\n            }\r\n        } catch (e) { console.error(e); toast.error(' Sunucuyla balant hatas'); }\r\n    }, [activeChat, fetchWithAuth]);\r\n\r\n    // ---  READ RECEIPTS ---\r\n    const handleMessageVisible = useCallback((messageId) => {\r\n        readReceiptBufferRef.current.push(messageId);\r\n        if (readReceiptTimerRef.current) return;\r\n        readReceiptTimerRef.current = setTimeout(async () => {\r\n            const ids = [...new Set(readReceiptBufferRef.current)];\r\n            readReceiptBufferRef.current = [];\r\n            readReceiptTimerRef.current = null;\r\n            if (ids.length === 0) return;\r\n            try {\r\n                const res = await fetchWithAuth(`${API_BASE_URL}/messages/mark_read/`, {\r\n                    method: 'POST', headers: { 'Content-Type': 'application/json' },\r\n                    body: JSON.stringify({ message_ids: ids })\r\n                });\r\n                if (res.ok) {\r\n                    setMessages(prev => prev.map(m =>\r\n                        ids.includes(m.id) ? { ...m, read_by: [...(m.read_by || []), username] } : m\r\n                    ));\r\n                }\r\n            } catch (e) { /* silent */ }\r\n        }, 1500);\r\n    }, [fetchWithAuth, username]);\r\n\r\n    // ---  SCROLL TO MESSAGE ---\r\n    const scrollToMessage = useCallback((msgId) => {\r\n        const el = document.getElementById(`message-${msgId}`);\r\n        if (el) el.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n    }, []);\r\n\r\n    return {\r\n        sendMessage,\r\n        handleSendSnippet,\r\n        fetchMessageHistory,\r\n        handleDeleteMessage,\r\n        handleTogglePin,\r\n        handleSearchMessages,\r\n        handleSummarize,\r\n        handleClearChat,\r\n        handleHideConversation,\r\n        handleAdminDeleteConversation,\r\n        handleMessageVisible,\r\n        scrollToMessage,\r\n    };\r\n}\r\n","/**\r\n *  useFileUpload  File upload + drag/drop + voice recording\r\n * Extracted from App.js\r\n */\r\nimport { useState, useRef, useCallback } from 'react';\r\nimport toast from '../utils/toast';\r\nimport { getTemporaryId, calculateFileHash } from '../config/api';\r\n\r\nexport default function useFileUpload({\r\n    activeChat, username, fetchWithAuth, scrollToBottom,\r\n    setMessages, API_BASE_URL,\r\n    handleDMClick, conversations, categories,\r\n}) {\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [isUploading, setIsUploading] = useState(false);\r\n    const [uploadProgress, setUploadProgress] = useState(0);\r\n    const [pendingFilesFromDrop, setPendingFilesFromDrop] = useState([]);\r\n    const [isRecordingVoice, setIsRecordingVoice] = useState(false);\r\n\r\n    const mediaRecorderRef = useRef(null);\r\n    const audioChunksRef = useRef([]);\r\n    const dragCounterRef = useRef(0);\r\n\r\n    // ---  UPLOAD FILE (R2 MULTIPART) ---\r\n    const uploadFile = useCallback(async (file, isVoice = false, duration = 0, targetOverride = null) => {\r\n        const showProgress = file.size >= 5 * 1024 * 1024;\r\n        if (showProgress) { setIsUploading(true); setUploadProgress(0); }\r\n\r\n        const target = targetOverride || activeChat;\r\n        const tempId = getTemporaryId();\r\n\r\n        try {\r\n            const hash = await calculateFileHash(file);\r\n            const contentType = file.type || 'application/octet-stream';\r\n            const CHUNK_SIZE = 10 * 1024 * 1024;\r\n            const PARALLEL_UPLOADS = 5;\r\n            const totalParts = Math.ceil(file.size / CHUNK_SIZE);\r\n\r\n            // 1. Init multipart\r\n            const initRes = await fetchWithAuth(`${API_BASE_URL}/upload/multipart/init/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    file_name: file.name, file_size: file.size, content_type: contentType,\r\n                    file_hash: hash, room_slug: target.type === 'room' ? target.id : null,\r\n                    conversation_id: target.type === 'dm' ? target.id : null,\r\n                    temp_id: tempId, is_voice_message: isVoice ? 'true' : 'false', duration: duration.toString()\r\n                })\r\n            });\r\n            const initData = await initRes.json();\r\n\r\n            if (initData.file_exists) {\r\n                if (showProgress) { setIsUploading(false); setUploadProgress(100); }\r\n                if (initData.id && target.id === activeChat.id) {\r\n                    setMessages(prev => {\r\n                        if (initData.temp_id) {\r\n                            const idx = prev.findIndex(msg => msg.temp_id === initData.temp_id);\r\n                            if (idx !== -1) { const n = [...prev]; n[idx] = initData; return n; }\r\n                        }\r\n                        if (prev.some(msg => msg.id === initData.id)) return prev;\r\n                        return [...prev, initData];\r\n                    });\r\n                    scrollToBottom('smooth');\r\n                }\r\n                return;\r\n            }\r\n\r\n            const { upload_id, key } = initData;\r\n\r\n            // 2. Upload parts\r\n            const parts = [];\r\n            let completedParts = 0;\r\n\r\n            const uploadPart = async (partNumber) => {\r\n                const start = (partNumber - 1) * CHUNK_SIZE;\r\n                const end = Math.min(start + CHUNK_SIZE, file.size);\r\n                const chunk = file.slice(start, end);\r\n\r\n                const formData = new FormData();\r\n                formData.append('upload_id', upload_id);\r\n                formData.append('key', key);\r\n                formData.append('part_number', partNumber.toString());\r\n                formData.append('chunk', chunk, `part_${partNumber}`);\r\n\r\n                const uploadRes = await fetchWithAuth(`${API_BASE_URL}/upload/multipart/upload-part/`, {\r\n                    method: 'POST', body: formData, headers: {}\r\n                });\r\n                if (!uploadRes.ok) throw new Error(`Part ${partNumber} upload failed`);\r\n\r\n                const { etag, part_number } = await uploadRes.json();\r\n                completedParts++;\r\n                if (showProgress) setUploadProgress(Math.round((completedParts / totalParts) * 95));\r\n                return { ETag: etag, PartNumber: part_number };\r\n            };\r\n\r\n            for (let i = 0; i < totalParts; i += PARALLEL_UPLOADS) {\r\n                const batch = [];\r\n                for (let j = 0; j < PARALLEL_UPLOADS && (i + j) < totalParts; j++) batch.push(uploadPart(i + j + 1));\r\n                const batchResults = await Promise.all(batch);\r\n                parts.push(...batchResults);\r\n            }\r\n            parts.sort((a, b) => a.PartNumber - b.PartNumber);\r\n\r\n            // 3. Complete multipart\r\n            const completeRes = await fetchWithAuth(`${API_BASE_URL}/upload/multipart/complete/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    upload_id, key, parts, file_name: file.name, file_hash: hash,\r\n                    room_slug: target.type === 'room' ? target.id : null,\r\n                    conversation_id: target.type === 'dm' ? target.id : null,\r\n                    temp_id: tempId, is_voice_message: isVoice ? 'true' : 'false', duration: duration.toString()\r\n                })\r\n            });\r\n            if (!completeRes.ok) throw new Error(`Complete failed: ${await completeRes.text()}`);\r\n\r\n            const data = await completeRes.json();\r\n            if (showProgress) setUploadProgress(100);\r\n\r\n            if (target.id === activeChat.id) {\r\n                setMessages(prev => {\r\n                    if (data.temp_id) {\r\n                        const idx = prev.findIndex(msg => msg.temp_id === data.temp_id);\r\n                        if (idx !== -1) { const n = [...prev]; n[idx] = data; return n; }\r\n                    }\r\n                    if (data.id && prev.some(msg => msg.id === data.id)) return prev;\r\n                    return [...prev, data];\r\n                });\r\n                scrollToBottom('smooth');\r\n            }\r\n        } catch (e) {\r\n            console.error(' [R2 Multipart] Error:', e);\r\n            toast.error(`Ykleme hatas: ${e.message}`);\r\n        }\r\n        if (showProgress) setIsUploading(false);\r\n    }, [activeChat, fetchWithAuth]);\r\n\r\n    // ---  VOICE RECORDING ---\r\n    const startVoiceRecording = useCallback(async () => {\r\n        try {\r\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n            const options = { mimeType: 'audio/webm;codecs=opus' };\r\n            if (!MediaRecorder.isTypeSupported(options.mimeType)) options.mimeType = 'audio/webm';\r\n\r\n            mediaRecorderRef.current = new MediaRecorder(stream, options);\r\n            audioChunksRef.current = [];\r\n\r\n            mediaRecorderRef.current.ondataavailable = (e) => { if (e.data.size > 0) audioChunksRef.current.push(e.data); };\r\n            mediaRecorderRef.current.onstop = async () => {\r\n                const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm;codecs=opus' });\r\n                await sendVoiceMessage(audioBlob);\r\n                stream.getTracks().forEach(track => track.stop());\r\n            };\r\n\r\n            mediaRecorderRef.current.start();\r\n            setIsRecordingVoice(true);\r\n        } catch (error) {\r\n            console.error('Error starting voice recording:', error);\r\n            if (error.name === 'NotAllowedError') toast.warning('Mikrofon eriimi reddedildi!');\r\n            else if (error.name === 'NotFoundError') toast.warning('Mikrofon bulunamad!');\r\n            else toast.error('Mikrofon hatas: ' + error.message);\r\n        }\r\n    }, []);\r\n\r\n    const stopVoiceRecording = useCallback(() => {\r\n        if (mediaRecorderRef.current && isRecordingVoice) {\r\n            mediaRecorderRef.current.stop();\r\n            setIsRecordingVoice(false);\r\n        }\r\n    }, [isRecordingVoice]);\r\n\r\n    const sendVoiceMessage = useCallback(async (audioBlob) => {\r\n        const fileName = `voice_${Date.now()}.webm`;\r\n        const uploadId = `upload_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\r\n        const formData = new FormData();\r\n        formData.append('chunk', audioBlob);\r\n        formData.append('upload_id', uploadId);\r\n        formData.append('chunk_index', '0');\r\n        formData.append('total_chunks', '1');\r\n        formData.append('file_name', fileName);\r\n        formData.append('is_voice_message', 'true');\r\n        if (activeChat.type === 'room') formData.append('room_slug', activeChat.id);\r\n        else if (activeChat.type === 'dm') formData.append('conversation_id', activeChat.id);\r\n\r\n        try {\r\n            const response = await fetchWithAuth(`${API_BASE_URL}/messages/upload_file/`, { method: 'POST', body: formData });\r\n            if (!response.ok) throw new Error('Upload failed');\r\n        } catch (error) {\r\n            console.error('Error uploading voice message:', error);\r\n            toast.error('Ses mesaj gnderilemedi');\r\n        }\r\n    }, [activeChat, fetchWithAuth]);\r\n\r\n    // ---  DRAG & DROP ---\r\n    const handleChatDrop = useCallback((e) => {\r\n        e.preventDefault(); e.stopPropagation();\r\n        dragCounterRef.current = 0;\r\n        setIsDragging(false);\r\n        if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n            const files = Array.from(e.dataTransfer.files);\r\n            const processedFiles = files.map(file => ({\r\n                id: `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\r\n                file, name: file.name, size: file.size, type: file.type,\r\n                previewUrl: (file.type.startsWith('image/') || file.type.startsWith('video/')) ? URL.createObjectURL(file) : null\r\n            }));\r\n            setPendingFilesFromDrop(processedFiles);\r\n        }\r\n    }, []);\r\n\r\n    const handleChatDragEnter = useCallback((e) => {\r\n        e.preventDefault(); dragCounterRef.current++; setIsDragging(true);\r\n    }, []);\r\n\r\n    const handleChatDragLeave = useCallback((e) => {\r\n        e.preventDefault(); dragCounterRef.current--;\r\n        if (dragCounterRef.current <= 0) { dragCounterRef.current = 0; setIsDragging(false); }\r\n    }, []);\r\n\r\n    return {\r\n        isDragging, setIsDragging,\r\n        isUploading, uploadProgress,\r\n        pendingFilesFromDrop, setPendingFilesFromDrop,\r\n        isRecordingVoice,\r\n        uploadFile, startVoiceRecording, stopVoiceRecording,\r\n        handleChatDrop, handleChatDragEnter, handleChatDragLeave,\r\n        dragCounterRef,\r\n    };\r\n}\r\n","/**\r\n *  useServerHandlers  Server drag/drop/reorder, auth, user context actions\r\n * Extracted from App.js\r\n */\r\nimport { useState, useCallback } from 'react';\r\nimport toast from '../utils/toast';\r\nimport confirmDialog from '../utils/confirmDialog';\r\n\r\nexport default function useServerHandlers({\r\n    username, fetchWithAuth, categories, allUsers, friendsList,\r\n    serverMembers, isAdmin, currentVoiceRoom,\r\n    setUpdateStatusText, setFriendsList, setInviteToServerUser,\r\n    API_BASE_URL, handleDMClick, isInVoice,\r\n    setServerOrder, serverOrder,\r\n    setActiveChat, setCurrentUserProfile, setCategories,\r\n    setConversations, setAllUsers, setIsInitialDataLoaded,\r\n    setAuthError, login, logout, setViewingProfile,\r\n    ABSOLUTE_HOST_URL, ROOM_LIST_URL,\r\n}) {\r\n    const [serverToEdit, setServerToEdit] = useState(null);\r\n\r\n    // ---  SERVER ORDER ---\r\n    const saveServerOrder = useCallback(async (newOrder) => {\r\n        try {\r\n            await fetchWithAuth(`${API_BASE_URL}/user/server-order/update/`, {\r\n                method: 'POST', headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ server_order: newOrder })\r\n            });\r\n        } catch (error) { console.error('Server order save error:', error); }\r\n    }, [fetchWithAuth]);\r\n\r\n    const handleServerDragStart = useCallback((e, serverId, index) => {\r\n        e.dataTransfer.effectAllowed = 'move';\r\n        e.dataTransfer.setData('serverId', serverId.toString());\r\n        e.dataTransfer.setData('sourceIndex', index.toString());\r\n        const dragElement = e.currentTarget.cloneNode(true);\r\n        dragElement.style.position = 'absolute';\r\n        dragElement.style.top = '-9999px';\r\n        dragElement.style.opacity = '0.8';\r\n        dragElement.style.transform = 'rotate(5deg)';\r\n        dragElement.style.pointerEvents = 'none';\r\n        document.body.appendChild(dragElement);\r\n        e.dataTransfer.setDragImage(dragElement, 24, 24);\r\n        setTimeout(() => { if (document.body.contains(dragElement)) document.body.removeChild(dragElement); }, 0);\r\n        e.currentTarget.style.opacity = '0.4';\r\n    }, []);\r\n\r\n    const handleServerDragOver = useCallback((e) => {\r\n        e.preventDefault(); e.dataTransfer.dropEffect = 'move';\r\n    }, []);\r\n\r\n    const handleServerDragEnd = useCallback((e) => {\r\n        e.currentTarget.style.opacity = '1';\r\n    }, []);\r\n\r\n    const handleMoveServer = useCallback((serverId, direction) => {\r\n        let currentOrder = serverOrder.length > 0 ? [...serverOrder] : categories.map(c => c.id);\r\n        categories.forEach(c => { if (!currentOrder.includes(c.id)) currentOrder.push(c.id); });\r\n\r\n        const sourceIndex = currentOrder.indexOf(serverId);\r\n        if (sourceIndex === -1) return;\r\n        const targetIndex = direction === 'up' ? sourceIndex - 1 : sourceIndex + 1;\r\n        if (targetIndex < 0 || targetIndex >= currentOrder.length) return;\r\n\r\n        const [draggedId] = currentOrder.splice(sourceIndex, 1);\r\n        currentOrder.splice(targetIndex, 0, draggedId);\r\n        setServerOrder(currentOrder);\r\n        saveServerOrder(currentOrder);\r\n    }, [serverOrder, categories, saveServerOrder]);\r\n\r\n    const handleServerDrop = useCallback((e, targetIndex) => {\r\n        e.preventDefault();\r\n        const serverId = parseInt(e.dataTransfer.getData('serverId'));\r\n        if (isNaN(serverId)) return;\r\n\r\n        let currentOrder = serverOrder.length > 0 ? [...serverOrder] : categories.map(c => c.id);\r\n        categories.forEach(c => { if (!currentOrder.includes(c.id)) currentOrder.push(c.id); });\r\n\r\n        const sourceIndex = currentOrder.indexOf(serverId);\r\n        if (sourceIndex === -1) return;\r\n        if (sourceIndex === targetIndex || sourceIndex + 1 === targetIndex) return;\r\n\r\n        const [draggedId] = currentOrder.splice(sourceIndex, 1);\r\n        const adjustedTargetIndex = sourceIndex < targetIndex ? targetIndex - 1 : targetIndex;\r\n        currentOrder.splice(adjustedTargetIndex, 0, draggedId);\r\n\r\n        setServerOrder(currentOrder);\r\n        saveServerOrder(currentOrder);\r\n    }, [serverOrder, categories, saveServerOrder]);\r\n\r\n    // ---  AUTH HANDLERS ---\r\n    const handleLogin = useCallback(async (u, p) => {\r\n        try {\r\n            const LOGIN_URL = `${API_BASE_URL}/auth/login/`;\r\n            const res = await fetch(LOGIN_URL, {\r\n                method: 'POST', body: JSON.stringify({ username: u, password: p }),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            const data = await res.json();\r\n\r\n            if (res.ok) {\r\n                login(data.access, data.refresh);\r\n            } else {\r\n                if (res.status === 401 && data.requires_2fa && data.temp_token) {\r\n                    window.location.href = `/#/2fa-login?temp_token=${encodeURIComponent(data.temp_token)}`;\r\n                    return;\r\n                }\r\n                if (res.status === 401) setAuthError('Kullanc ad veya ifre hatal');\r\n                else if (res.status === 400) setAuthError(data.detail || data.error || 'Geersiz giri bilgileri');\r\n                else if (res.status >= 500) setAuthError('Sunucu hatas. Ltfen daha sonra tekrar deneyin.');\r\n                else setAuthError(data.detail || data.error || 'Giri baarsz');\r\n            }\r\n        } catch (e) {\r\n            console.error(' [Auth] Network error:', e);\r\n            setAuthError(\"Sunucuya balanlamad. nternet balantnz kontrol edin.\");\r\n        }\r\n    }, [login, setAuthError, API_BASE_URL]);\r\n\r\n    const handleRegister = useCallback(async (u, e, p) => {\r\n        try {\r\n            const REGISTER_URL = `${API_BASE_URL}/auth/register/`;\r\n            const res = await fetch(REGISTER_URL, {\r\n                method: 'POST', body: JSON.stringify({ username: u, email: e, password: p }),\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            if (res.status === 201) return true;\r\n\r\n            const data = await res.json();\r\n            let errorMessage = '';\r\n            if (data.username) errorMessage = data.username.join(' ');\r\n            else if (data.email) errorMessage = data.email.join(' ');\r\n            else if (data.password) errorMessage = data.password.join(' ');\r\n            else if (data.detail) errorMessage = data.detail;\r\n            else errorMessage = Object.values(data).flat().join(' ');\r\n\r\n            setAuthError(errorMessage || 'Kayt ilemi baarsz');\r\n            return false;\r\n        } catch (err) {\r\n            console.error(' [Auth] Network error:', err);\r\n            setAuthError(\"Sunucuya balanlamad. nternet balantnz kontrol edin.\");\r\n            return false;\r\n        }\r\n    }, [setAuthError, API_BASE_URL]);\r\n\r\n    // ---  USER CONTEXT MENU ACTION ---\r\n    const handleUserContextAction = useCallback(async (action, user, extraData) => {\r\n        switch (action) {\r\n            case 'profile': {\r\n                const userProfile = allUsers.find(u => u.username === user.username);\r\n                if (userProfile) setViewingProfile(userProfile);\r\n                break;\r\n            }\r\n            case 'message': handleDMClick(user.username); break;\r\n            case 'volume': break;\r\n            case 'move':\r\n                if (isAdmin && extraData && currentVoiceRoom) {\r\n                    try {\r\n                        await fetchWithAuth(`${API_BASE_URL}/voice/move_user/`, {\r\n                            method: 'POST', body: JSON.stringify({ username: user.username, from_channel: currentVoiceRoom, to_channel: extraData })\r\n                        });\r\n                    } catch (e) { console.error('Move user error:', e); }\r\n                }\r\n                break;\r\n            case 'kick':\r\n                if (isAdmin && await confirmDialog(`${user.username} kullancsn kanaldan atmak istediine emin misin?`)) {\r\n                    try {\r\n                        await fetchWithAuth(`${API_BASE_URL}/voice/kick_user/`, {\r\n                            method: 'POST', body: JSON.stringify({ username: user.username, room: currentVoiceRoom })\r\n                        });\r\n                    } catch (e) { console.error('Kick user error:', e); }\r\n                }\r\n                break;\r\n            case 'server_mute':\r\n                if (isAdmin) {\r\n                    try {\r\n                        await fetchWithAuth(`${API_BASE_URL}/voice/server_mute/`, {\r\n                            method: 'POST', body: JSON.stringify({ username: user.username, room: currentVoiceRoom })\r\n                        });\r\n                    } catch (e) { console.error('Server mute error:', e); }\r\n                }\r\n                break;\r\n            case 'add_friend':\r\n                try {\r\n                    const res = await fetchWithAuth(`${API_BASE_URL}/friends/send/`, {\r\n                        method: 'POST', body: JSON.stringify({ username: user.username })\r\n                    });\r\n                    if (res.ok) {\r\n                        setUpdateStatusText(` ${user.username} kullancsna arkadalk istei gnderildi!`);\r\n                        setTimeout(() => setUpdateStatusText(''), 3000);\r\n                    } else {\r\n                        const data = await res.json();\r\n                        setUpdateStatusText(` ${data.error || 'stek gnderilemedi'}`);\r\n                        setTimeout(() => setUpdateStatusText(''), 3000);\r\n                    }\r\n                } catch (e) { setUpdateStatusText(' Arkada ekleme hatas'); setTimeout(() => setUpdateStatusText(''), 3000); }\r\n                break;\r\n            case 'remove_friend':\r\n                if (await confirmDialog(`${user.username} ile arkadal sonlandrmak istediinize emin misiniz?`)) {\r\n                    try {\r\n                        const friendship = friendsList.find(f => f.sender_username === user.username || f.receiver_username === user.username);\r\n                        if (friendship) {\r\n                            const res = await fetchWithAuth(`${API_BASE_URL}/friends/remove/${friendship.id}/`, { method: 'DELETE' });\r\n                            if (res.ok) {\r\n                                setUpdateStatusText(` ${user.username} ile arkadalk sonlandrld`);\r\n                                setTimeout(() => setUpdateStatusText(''), 3000);\r\n                                const friendsRes = await fetchWithAuth(`${API_BASE_URL}/friends/list/`);\r\n                                if (friendsRes.ok) { const data = await friendsRes.json(); setFriendsList(data.friends || []); }\r\n                            }\r\n                        }\r\n                    } catch (e) { setUpdateStatusText(' Arkadalk sonlandrma hatas'); setTimeout(() => setUpdateStatusText(''), 3000); }\r\n                }\r\n                break;\r\n            case 'invite_to_server': setInviteToServerUser({ username: user.username }); break;\r\n            case 'mute_user':\r\n                try {\r\n                    const res = await fetchWithAuth(`${API_BASE_URL}/users/${user.username}/mute/`, { method: 'POST' });\r\n                    if (res.ok) toast.success(` ${user.username} sessize alnd`);\r\n                    else { const data = await res.json(); toast.error(` ${data.error || 'Sessize alma baarsz'}`); }\r\n                } catch (e) { toast.error(' Sessize alma hatas'); }\r\n                break;\r\n            case 'block_user':\r\n                if (await confirmDialog(`${user.username} kullancsn engellemek istediinize emin misiniz?`)) {\r\n                    try {\r\n                        const res = await fetchWithAuth(`${API_BASE_URL}/users/${user.username}/block/`, { method: 'POST' });\r\n                        if (res.ok) {\r\n                            toast.success(` ${user.username} engellendi`);\r\n                            const friendsRes = await fetchWithAuth(`${API_BASE_URL}/friends/list/`);\r\n                            if (friendsRes.ok) { const data = await friendsRes.json(); setFriendsList(data.friends || []); }\r\n                        } else { const data = await res.json(); toast.error(` ${data.error || 'Engelleme baarsz'}`); }\r\n                    } catch (e) { toast.error(' Engelleme hatas'); }\r\n                }\r\n                break;\r\n            default: break;\r\n        }\r\n    }, [allUsers, isAdmin, currentVoiceRoom, fetchWithAuth, API_BASE_URL, handleDMClick, friendsList]);\r\n\r\n    return {\r\n        serverToEdit, setServerToEdit,\r\n        saveServerOrder, handleServerDragStart, handleServerDragOver, handleServerDragEnd,\r\n        handleMoveServer, handleServerDrop,\r\n        handleLogin, handleRegister,\r\n        handleUserContextAction,\r\n    };\r\n}\r\n","/**\r\n *  ToolbarMenu  Dropdown menu in chat header\r\n * Extracted from App.js inline JSX\r\n */\r\nimport React, { Suspense } from 'react';\r\nimport { FaLock, FaThumbtack, FaLink, FaBell, FaBellSlash, FaInbox, FaSmile, FaFilm, FaCoffee, FaCode, FaMagic, FaBroom, FaTrash } from 'react-icons/fa';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\n\r\nconst menuItemStyle = {\r\n    display: 'flex', alignItems: 'center', gap: '8px',\r\n    padding: '10px 16px', border: 'none', width: '100%',\r\n    textAlign: 'left', cursor: 'pointer', fontSize: '14px',\r\n    backgroundColor: 'transparent', color: '#dcddde',\r\n    transition: 'all 0.15s ease'\r\n};\r\n\r\nexport default function ToolbarMenu({\r\n    activeChat, hasKey, modals, soundSettings,\r\n    isInVoice, username,\r\n    openModal, closeModal, toggleModal,\r\n    handleCopyLink, toggleNotifications,\r\n    handleSummarize, handleClearChat, handleAdminDeleteConversation,\r\n}) {\r\n    const hoverOn = (e) => { e.currentTarget.style.backgroundColor = '#5865f2'; e.currentTarget.style.color = '#ffffff'; };\r\n    const hoverOff = (e, color = '#dcddde') => { e.currentTarget.style.backgroundColor = 'transparent'; e.currentTarget.style.color = color; };\r\n\r\n    return (\r\n        <div style={{\r\n            position: 'absolute', top: '50px', right: '0',\r\n            backgroundColor: '#2f3136', borderRadius: '8px',\r\n            boxShadow: '0 8px 16px rgba(0,0,0,0.4)', minWidth: '220px',\r\n            zIndex: 1000, overflow: 'hidden', border: '1px solid #202225'\r\n        }}>\r\n            {/*  ifreleme (Sadece DM) */}\r\n            {activeChat.type === 'dm' && (\r\n                <button onClick={() => { openModal('encModal'); closeModal('toolbarMenu'); }}\r\n                    style={{ ...menuItemStyle, color: hasKey ? '#43b581' : '#dcddde' }}\r\n                    onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e, hasKey ? '#43b581' : '#dcddde')}>\r\n                    {hasKey ? <FaLock /> : <FaLock style={{ opacity: 0.5 }} />}\r\n                    <span>{hasKey ? 'ifreli' : 'ifrele'}</span>\r\n                </button>\r\n            )}\r\n\r\n            {/*  Sabitli Mesajlar */}\r\n            <button onClick={() => { toggleModal('pinned'); closeModal('toolbarMenu'); }}\r\n                style={{ ...menuItemStyle, color: modals.pinned ? '#f5a524' : '#dcddde' }}\r\n                onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e, modals.pinned ? '#f5a524' : '#dcddde')}>\r\n                <FaThumbtack /><span>Sabitli Mesajlar</span>\r\n            </button>\r\n\r\n            {/*  Link Kopyala */}\r\n            <button onClick={() => { handleCopyLink(); closeModal('toolbarMenu'); }}\r\n                style={menuItemStyle} onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e)}>\r\n                <FaLink /><span>Balanty Kopyala</span>\r\n            </button>\r\n\r\n            {/*  Sessize Al */}\r\n            <button onClick={() => { toggleNotifications(); closeModal('toolbarMenu'); }}\r\n                style={{ ...menuItemStyle, color: soundSettings.notifications ? '#43b581' : '#f04747' }}\r\n                onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e, soundSettings.notifications ? '#43b581' : '#f04747')}>\r\n                {soundSettings.notifications ? <FaBell /> : <FaBellSlash />}\r\n                <span>{soundSettings.notifications ? 'Sessize Al' : 'Sesi A'}</span>\r\n            </button>\r\n\r\n            <div style={{ height: '1px', backgroundColor: '#40444b', margin: '4px 0' }} />\r\n\r\n            {/*  Bahsedilmeler */}\r\n            <button onClick={() => { openModal('mentionsInbox'); closeModal('toolbarMenu'); }}\r\n                style={menuItemStyle} onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e)}>\r\n                <FaInbox /><span>Bahsedilmeler</span>\r\n            </button>\r\n\r\n            {/*  Durumunu Ayarla */}\r\n            <button onClick={() => { openModal('customStatus'); closeModal('toolbarMenu'); }}\r\n                style={menuItemStyle} onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e)}>\r\n                <FaSmile /><span>Durumunu Ayarla</span>\r\n            </button>\r\n\r\n            <div style={{ height: '1px', backgroundColor: '#40444b', margin: '4px 0' }} />\r\n\r\n            {/*  Sinema */}\r\n            <button onClick={() => { openModal('cinema'); closeModal('toolbarMenu'); }}\r\n                style={menuItemStyle} onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e)}>\r\n                <FaFilm /><span>Sinema Modu</span>\r\n            </button>\r\n\r\n            {/*  DJ Modu */}\r\n            <button onClick={() => { openModal('dJ'); closeModal('toolbarMenu'); }}\r\n                style={menuItemStyle} onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e)}>\r\n                <FaCoffee /><span>DJ Modu</span>\r\n            </button>\r\n\r\n            {/*  Beyaz Tahta */}\r\n            <button onClick={() => { openModal('whiteboard'); closeModal('toolbarMenu'); }}\r\n                style={menuItemStyle} onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e)}>\r\n                <FaCode /><span>Beyaz Tahta</span>\r\n            </button>\r\n\r\n            {/*  Ses Efektleri */}\r\n            {isInVoice && (\r\n                <button onClick={() => { openModal('soundboard'); closeModal('toolbarMenu'); }}\r\n                    style={menuItemStyle} onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e)}>\r\n                    <FaMagic /><span>Ses Efektleri</span>\r\n                </button>\r\n            )}\r\n\r\n            {/*  zetle + Temizle (Oda ise) */}\r\n            {activeChat.type === 'room' && (\r\n                <>\r\n                    <div style={{ height: '1px', backgroundColor: '#40444b', margin: '4px 0' }} />\r\n                    <button onClick={() => { handleSummarize(); closeModal('toolbarMenu'); }}\r\n                        style={menuItemStyle} onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e)}>\r\n                        <FaMagic /><span>Sohbeti zetle</span>\r\n                    </button>\r\n                    <button onClick={() => { handleClearChat(); closeModal('toolbarMenu'); }}\r\n                        style={{ ...menuItemStyle, color: '#f04747' }}\r\n                        onMouseEnter={(e) => { e.currentTarget.style.backgroundColor = '#f04747'; e.currentTarget.style.color = '#ffffff'; }}\r\n                        onMouseLeave={(e) => hoverOff(e, '#f04747')}>\r\n                        <FaBroom /><span>Sohbeti Temizle</span>\r\n                    </button>\r\n                    {username === 'admin' && activeChat.type === 'dm' && (\r\n                        <>\r\n                            <div style={{ height: '1px', backgroundColor: '#40444b', margin: '4px 0' }} />\r\n                            <button onClick={() => { handleAdminDeleteConversation(activeChat.id); closeModal('toolbarMenu'); }}\r\n                                style={{ ...menuItemStyle, color: '#ed4245', fontWeight: 'bold' }}\r\n                                onMouseEnter={(e) => { e.currentTarget.style.backgroundColor = '#ed4245'; e.currentTarget.style.color = '#ffffff'; }}\r\n                                onMouseLeave={(e) => hoverOff(e, '#ed4245')} title=\"Admin: Konumay kalc olarak sil\">\r\n                                <FaTrash /><span> KALICI SL (ADMN)</span>\r\n                            </button>\r\n                        </>\r\n                    )}\r\n                </>\r\n            )}\r\n\r\n            {/*  Tm zellikler */}\r\n            <div style={{ height: '1px', backgroundColor: '#40444b', margin: '4px 0' }} />\r\n            <button onClick={() => { openModal('featureHub'); closeModal('toolbarMenu'); }}\r\n                style={{ ...menuItemStyle, color: '#5865f2', fontWeight: 'bold' }}\r\n                onMouseEnter={hoverOn} onMouseLeave={(e) => hoverOff(e, '#5865f2')}>\r\n                <span>Tm zellikler</span>\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n","/**\r\n *  InviteServerModal  Portal modal for inviting a user to a server\r\n * Extracted from App.js inline JSX\r\n */\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport toast from '../utils/toast';\r\n\r\nexport default function InviteServerModal({\r\n    inviteToServerUser, setInviteToServerUser,\r\n    categories, fetchWithAuth, API_BASE_URL,\r\n}) {\r\n    if (!inviteToServerUser) return null;\r\n\r\n    return ReactDOM.createPortal(\r\n        <div\r\n            style={{\r\n                position: 'fixed', top: 0, left: 0, right: 0, bottom: 0,\r\n                backgroundColor: 'rgba(0,0,0,0.85)',\r\n                display: 'flex', justifyContent: 'center', alignItems: 'center',\r\n                zIndex: 999999\r\n            }}\r\n            onClick={() => setInviteToServerUser(null)}\r\n        >\r\n            <div\r\n                onClick={(e) => e.stopPropagation()}\r\n                style={{\r\n                    backgroundColor: '#2b2d31', borderRadius: '12px',\r\n                    width: '400px', maxHeight: '80vh', overflow: 'hidden',\r\n                    boxShadow: '0 8px 32px rgba(0,0,0,0.5)'\r\n                }}\r\n            >\r\n                {/* Header */}\r\n                <div style={{ padding: '20px', borderBottom: '1px solid #3f4147', textAlign: 'center' }}>\r\n                    <h2 style={{ color: '#f2f3f5', margin: 0, fontSize: '18px' }}> Sunucuya Davet Et</h2>\r\n                    <p style={{ color: '#b9bbbe', margin: '8px 0 0', fontSize: '14px' }}>\r\n                        <strong>{inviteToServerUser.username}</strong> kullancsn hangi sunucuya davet etmek istiyorsunuz?\r\n                    </p>\r\n                </div>\r\n\r\n                {/* Server List */}\r\n                <div style={{ maxHeight: '300px', overflowY: 'auto', padding: '12px' }}>\r\n                    {categories.map(server => (\r\n                        <div\r\n                            key={server.id}\r\n                            onClick={async () => {\r\n                                try {\r\n                                    const res = await fetchWithAuth(`${API_BASE_URL}/servers/${server.id}/invite/`, {\r\n                                        method: 'POST', body: JSON.stringify({ target_username: inviteToServerUser.username })\r\n                                    });\r\n                                    if (res.ok) {\r\n                                        toast.success(` ${inviteToServerUser.username} kullancsna davetiye gnderildi!`);\r\n                                    } else {\r\n                                        const data = await res.json();\r\n                                        if (data.error?.includes('zaten')) toast.info(` ${inviteToServerUser.username} zaten bu sunucunun yesi!`);\r\n                                        else toast.error(` ${data.error || 'Davet gnderilemedi'}`);\r\n                                    }\r\n                                } catch (error) { toast.error(' Balant hatas'); }\r\n                                setInviteToServerUser(null);\r\n                            }}\r\n                            style={{\r\n                                display: 'flex', alignItems: 'center', gap: '12px',\r\n                                padding: '12px', borderRadius: '8px', cursor: 'pointer',\r\n                                transition: 'all 0.2s', backgroundColor: 'rgba(255,255,255,0.02)', marginBottom: '8px'\r\n                            }}\r\n                            onMouseEnter={(e) => { e.currentTarget.style.backgroundColor = 'rgba(88, 101, 242, 0.2)'; }}\r\n                            onMouseLeave={(e) => { e.currentTarget.style.backgroundColor = 'rgba(255,255,255,0.02)'; }}\r\n                        >\r\n                            {server.icon ? (\r\n                                <img src={server.icon} alt={server.name}\r\n                                    style={{ width: 40, height: 40, borderRadius: '50%', objectFit: 'cover' }} />\r\n                            ) : (\r\n                                <div style={{\r\n                                    width: 40, height: 40, borderRadius: '50%',\r\n                                    backgroundColor: '#5865f2', display: 'flex', alignItems: 'center', justifyContent: 'center',\r\n                                    fontWeight: 'bold', color: 'white', fontSize: '16px'\r\n                                }}>\r\n                                    {server.name?.substring(0, 2).toUpperCase()}\r\n                                </div>\r\n                            )}\r\n                            <div style={{ flex: 1 }}>\r\n                                <div style={{ color: '#f2f3f5', fontWeight: '600' }}>{server.name}</div>\r\n                                <div style={{ color: '#b9bbbe', fontSize: '12px' }}>{server.member_count || 0} ye</div>\r\n                            </div>\r\n                            <div style={{ color: '#5865f2', fontSize: '20px' }}></div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Footer */}\r\n                <div style={{ padding: '16px 20px', borderTop: '1px solid #3f4147', textAlign: 'center' }}>\r\n                    <button onClick={() => setInviteToServerUser(null)}\r\n                        style={{\r\n                            backgroundColor: '#4f545c', color: '#f2f3f5', border: 'none',\r\n                            padding: '10px 24px', borderRadius: '4px', cursor: 'pointer', fontWeight: '600'\r\n                        }}>ptal</button>\r\n                </div>\r\n            </div>\r\n        </div>,\r\n        document.body\r\n    );\r\n}\r\n","/**\r\n *  PAWSCORD  App.js (Refactored)\r\n * Main application orchestrator.\r\n *\r\n * Extracted modules:\r\n *   - App/lazyImports.js        ~200 React.lazy declarations\r\n *   - App/useFetchWithAuth.js   Authenticated fetch with token refresh\r\n *   - App/useAppInit.js         Combined initialization (user, servers, friends)\r\n *   - App/useAppEffects.js      Side effects (splash, PWA, version check, etc.)\r\n *   - App/useChatConnection.js  Chat + Status WebSocket connections\r\n *   - App/useMessageHandlers.js Message send/delete/pin/search/history\r\n *   - App/useFileUpload.js      File upload + drag/drop + voice recording\r\n *   - App/useServerHandlers.js  Server drag/reorder + auth + user context actions\r\n *   - App/ToolbarMenu.js        Toolbar dropdown menu component\r\n *   - App/InviteServerModal.js  Invite-to-server modal component\r\n */\r\nimport React, { useState, useEffect, useRef, useCallback, useMemo, Suspense } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport './styles/modern-theme.css';\r\nimport { Capacitor } from '@capacitor/core';\r\nimport ErrorBoundary from './components/ErrorBoundary/ErrorBoundary';\r\n\r\n// --- STORES & HOOKS ---\r\nimport { useChatStore } from './stores/useChatStore';\r\nimport { useUIStore } from './stores/useUIStore';\r\nimport useResponsive from './hooks/useResponsive';\r\nimport { useOptimizedMessages, useOnlineUsers } from './hooks/useOptimizedMessages';\r\nimport { useThrottle } from './utils/performanceOptimization';\r\nimport { useDebounce } from './hooks/usePerformanceHooks';\r\n\r\n// --- CONTEXTS ---\r\nimport { useAuth } from './AuthContext';\r\nimport { VoiceProvider, useVoice } from './VoiceContext';\r\nimport { useGlobalWebSocket } from './GlobalWebSocketContext';\r\n\r\n// --- CRITICAL DIRECT IMPORTS (always needed) ---\r\nimport MaintenanceBanner from './components/MaintenanceBanner';\r\nimport LoadingSpinner from './components/LoadingSpinner';\r\nimport AppModals from './components/AppModals';\r\nimport SplashScreen from './SplashScreen';\r\nimport ConnectionStatusBar from './components/ConnectionStatusBar';\r\nimport ScrollToBottomButton from './components/ScrollToBottomButton';\r\nimport MessageDateDivider from './components/MessageDateDivider';\r\nimport TypingIndicatorEnhanced from './components/TypingIndicatorEnhanced';\r\nimport ImageGalleryGroup from './components/ImageGalleryGroup';\r\nimport { FaTimes, FaUsers, FaBell, FaSearch, FaMicrophone, FaHeadphones, FaVideo, FaDesktop, FaPhoneSlash } from 'react-icons/fa';\r\n\r\n// --- LAZY IMPORTS ---\r\nimport {\r\n    Message, VirtualMessageList, MessageInput,\r\n    LoginPage, WelcomeScreen, KanbanBoard,\r\n    FriendsTab, RoomList, VoiceChatPanel, ChatUserList,\r\n    FloatingVoiceIsland, CinemaPlayer, NotificationDropdown,\r\n    UserContextMenu, VoiceAudioController, StickyMessageBanner,\r\n    VanityInviteScreen, InviteCodeScreen,\r\n} from './App/lazyImports';\r\n\r\n// --- CONFIG ---\r\nimport {\r\n    isElectron, isNative,\r\n    MEDIA_BASE_URL, API_BASE_URL, ABSOLUTE_HOST_URL,\r\n    WS_PROTOCOL, API_HOST, ROOM_LIST_URL,\r\n    CONVERSATION_LIST_URL, GET_OR_CREATE_CONVERSATION_URL,\r\n    DRAFT_STORAGE_KEY, getTemporaryId,\r\n    MESSAGE_HISTORY_ROOM_URL, MESSAGE_HISTORY_DM_URL,\r\n} from './config/api';\r\nimport styles from './styles/appStyles';\r\nimport { GOOGLE_WEB_CLIENT_ID } from './utils/constants';\r\nimport confirmDialog from './utils/confirmDialog';\r\n\r\n// --- EXTRACTED HOOKS ---\r\nimport useFetchWithAuth from './App/useFetchWithAuth';\r\nimport useAppInit from './App/useAppInit';\r\nimport useAppEffects from './App/useAppEffects';\r\nimport useChatConnection from './App/useChatConnection';\r\nimport useMessageHandlers from './App/useMessageHandlers';\r\nimport useFileUpload from './App/useFileUpload';\r\nimport useServerHandlers from './App/useServerHandlers';\r\n\r\n// --- EXTRACTED COMPONENTS ---\r\nimport ToolbarMenu from './App/ToolbarMenu';\r\nimport InviteServerModal from './App/InviteServerModal';\r\n\r\n// --- MAIN CONTENT ---\r\nconst AppContent = () => {\r\n    //  AUTH \r\n    const { user, isAuthenticated, token, login, logout, isLoading: isAuthLoading, refreshAccessToken } = useAuth();\r\n    const username = user?.username || localStorage.getItem('username') || '';\r\n\r\n    //  VOICE \r\n    const {\r\n        isInVoice, isConnecting, currentRoom: currentVoiceRoom, joinChannel, leaveChannel,\r\n        isMuted, isDeafened, toggleMute, toggleDeafened, toggleVideo, toggleScreenShare,\r\n        remoteVolumes, setRemoteVolume, localCameraStream, remoteStreams, isTalking,\r\n        sendSignal, isScreenSharing, isVideoEnabled, isPttActive, localScreenStream,\r\n        sendReaction, lastReaction, applyVoiceEffect, activeEffect,\r\n        cinemaState, setCinemaState, gameState, sendGameSignal,\r\n        mutedUsers, useNewVoicePanel, showVoiceIsland, setShowVoiceIsland,\r\n        isVoicePanelMinimized, setIsVoicePanelMinimized, focusedStream, setFocusedStream,\r\n        islandState, setIslandState,\r\n    } = useVoice();\r\n\r\n    //  GLOBAL WS \r\n    const { setGlobalData: forwardToGlobalContext, setIsConnected: setGlobalWsConnected } = useGlobalWebSocket();\r\n\r\n    //  UI STATE (previously missing  these were local state in App.js.backup) \r\n    const [defaultAvatars, setDefaultAvatars] = useState([]);\r\n    const [viewingProfile, setViewingProfile] = useState(null);\r\n    const [zoomedImage, setZoomedImage] = useState(null);\r\n    const [galleryData, setGalleryData] = useState(null);\r\n\r\n    //  STORES \r\n    const { activeChat, setActiveChat, messages, setMessages, encryptionKeys, setEncryptionKey, voiceUsers, setVoiceUsersState, unreadCounts, selectedMessages, setSelectedMessages } = useChatStore();\r\n    const { modals, openModal, closeModal, toggleModal, animationState, setAnimationState, isConnected, setIsConnected, updateStatusText, setUpdateStatusText, downloadProgress, setDownloadProgress, isDownloading, setIsDownloading, searchQuery, setSearchQuery, dropTarget, setDropTarget } = useUIStore();\r\n\r\n    //  RESPONSIVE \r\n    const { isMobile } = useResponsive();\r\n    const [isLeftSidebarVisible, setIsLeftSidebarVisible] = useState(false);\r\n    const [isRightSidebarVisible, setIsRightSidebarVisible] = useState(false);\r\n    const safeAreaBottom = isNative ? 'max(20px, env(safe-area-inset-bottom))' : '0px';\r\n    const debouncedSearchQuery = useDebounce(searchQuery, 300);\r\n\r\n    //  LOCAL STATE \r\n    const [currentTheme, setCurrentTheme] = useState('default');\r\n    const [messageHistoryLoading, setMessageHistoryLoading] = useState(false);\r\n    const [hasMoreMessages, setHasMoreMessages] = useState(true);\r\n    const [messageHistoryOffset, setMessageHistoryOffset] = useState(0);\r\n    const [friendsList, setFriendsList] = useState([]);\r\n    const [pendingFriendRequests, setPendingFriendRequests] = useState(0);\r\n    const [serverOrder, setServerOrder] = useState([]);\r\n    const [serverMembers, setServerMembers] = useState([]);\r\n    const [selectedServer, setSelectedServer] = useState(null);\r\n    const [currentUserProfile, setCurrentUserProfile] = useState(null);\r\n    const [updateAvailable, setUpdateAvailable] = useState(false);\r\n    const [soundSettings, setSoundSettings] = useState(() => JSON.parse(localStorage.getItem('chat_sound_settings')) || { notifications: true, mentions: true, userJoinLeave: true });\r\n    const [maintenanceMode, setMaintenanceMode] = useState(null);\r\n    const [showScrollToBottom, setShowScrollToBottom] = useState(false);\r\n    const [editingMessage, setEditingMessage] = useState(null);\r\n    const [replyingTo, setReplyingTo] = useState(null);\r\n    const [forwardingMessage, setForwardingMessage] = useState(null);\r\n    const [isSelectionMode, setIsSelectionMode] = useState(false);\r\n    const [userContextMenu, setUserContextMenu] = useState(null);\r\n    const [inviteToServerUser, setInviteToServerUser] = useState(null);\r\n    const [showVanityInvite, setShowVanityInvite] = useState(null);\r\n    const [showInviteCode, setShowInviteCode] = useState(null);\r\n    const [categories, setCategories] = useState([]);\r\n    const [conversations, setConversations] = useState([]);\r\n    const [allUsers, setAllUsers] = useState([]);\r\n    const [pinnedMessages, setPinnedMessages] = useState([]);\r\n    const [authError, setAuthError] = useState(null);\r\n    const [isSummaryLoading, setIsSummaryLoading] = useState(false);\r\n    const [summaryResult, setSummaryResult] = useState(\"\");\r\n    const [chartSymbol, setChartSymbol] = useState(null);\r\n    const [hasDraftMessage, setHasDraftMessage] = useState(false);\r\n    const [draftText, setDraftText] = useState('');\r\n\r\n    //  REFS \r\n    const messagesEndRef = useRef(null);\r\n    const messageBoxRef = useRef(null);\r\n    const searchInputRef = useRef(null);\r\n    const richTextRef = useRef(null);\r\n    const fileInputRefNormal = useRef(null);\r\n    const historyCacheRef = useRef({});\r\n    const statusWsRef = useRef(null);\r\n    const statusWsReconnectRef = useRef(null);\r\n    const activeChatRef = useRef(activeChat);\r\n    const tokenRef = useRef(token);\r\n    const usernameRef = useRef(username);\r\n\r\n    useEffect(() => { activeChatRef.current = activeChat; }, [activeChat]);\r\n    useEffect(() => { tokenRef.current = token; }, [token]);\r\n    useEffect(() => { usernameRef.current = username; }, [username]);\r\n\r\n    //  FETCH WITH AUTH \r\n    const { fetchWithAuth } = useFetchWithAuth();\r\n\r\n    //  COMPUTED \r\n    const typingUsers = useChatStore(state => state.typingUsers);\r\n    const activeTypingUsers = useMemo(() => typingUsers.filter(u => u !== username), [typingUsers, username]);\r\n    const onlineUsers = useChatStore(state => state.onlineUsers);\r\n    const { setOnlineUsers } = useChatStore();\r\n    const rawMessages = useChatStore(state => state.messages);\r\n    const optimizedMessages = useOptimizedMessages(rawMessages, debouncedSearchQuery, activeChat);\r\n    const optimizedOnlineUsers = useOnlineUsers(allUsers);\r\n\r\n    const isAdmin = username === 'Eastkhan' || username === 'PawPaw' || currentUserProfile?.role === 'admin';\r\n\r\n    const currentUserPermissions = useMemo(() => {\r\n        const currentServer = categories?.find(c => c.id === activeChat?.serverId);\r\n        const isServerOwner = currentServer?.owner === username || currentServer?.created_by === username;\r\n        const isMod = serverMembers?.find(m => m.username === username)?.role === 'moderator';\r\n        return {\r\n            isAdmin, isServerOwner, isModerator: isMod,\r\n            canKick: isAdmin || isServerOwner || isMod, canBan: isAdmin || isServerOwner,\r\n            canMute: isAdmin || isServerOwner || isMod, canWarn: isAdmin || isServerOwner || isMod,\r\n            canManageRoles: isAdmin || isServerOwner\r\n        };\r\n    }, [isAdmin, categories, activeChat?.serverId, username, serverMembers]);\r\n\r\n    const sortedServers = useMemo(() => {\r\n        if (!categories || categories.length === 0) return [];\r\n        if (!serverOrder || serverOrder.length === 0) return categories;\r\n        const ordered = [], unordered = [];\r\n        serverOrder.forEach(id => { const s = categories.find(c => c.id === id); if (s) ordered.push(s); });\r\n        categories.forEach(s => { if (!serverOrder.includes(s.id)) unordered.push(s); });\r\n        return [...ordered, ...unordered];\r\n    }, [categories, serverOrder]);\r\n\r\n    const chatTitle = useMemo(() => {\r\n        if (activeChat.type === 'room') {\r\n            if (categories) {\r\n                for (const server of categories) {\r\n                    if (server.categories) {\r\n                        for (const cat of server.categories) {\r\n                            const foundRoom = cat.rooms?.find(r => r.slug === activeChat.id);\r\n                            if (foundRoom) return String(foundRoom.name);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return String(activeChat.id);\r\n        } else if (activeChat.type === 'dm') return `@ ${String(activeChat.targetUser || 'DM')}`;\r\n        return '';\r\n    }, [activeChat, categories]);\r\n\r\n    const activeRoomType = useMemo(() => {\r\n        if (activeChat.type !== 'room' || !categories) return 'text';\r\n        for (const srv of categories) {\r\n            if (srv.categories) {\r\n                for (const cat of srv.categories) {\r\n                    const room = cat.rooms?.find(r => r.slug === activeChat.id);\r\n                    if (room) return room.channel_type;\r\n                }\r\n            }\r\n        }\r\n        return 'text';\r\n    }, [activeChat, categories]);\r\n\r\n    const isImageOnlyMessage = (msg) => {\r\n        if (!msg) return false;\r\n        const hasImage = !!(msg.image_url || msg.image);\r\n        const hasFileImage = !!(msg.file_url || msg.file) && !msg.is_voice_message && /\\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(msg.file_name || '');\r\n        const hasContent = !!(msg.content && msg.content.trim());\r\n        return (hasImage || hasFileImage) && !hasContent && !msg.poll && !msg.reply_to;\r\n    };\r\n\r\n    //  SCROLL \r\n    const scrollToBottom = useCallback((behavior = 'auto') => {\r\n        if (messagesEndRef.current) messagesEndRef.current.scrollIntoView({ behavior });\r\n    }, []);\r\n\r\n    const isNearBottom = useCallback(() => {\r\n        const el = messageBoxRef.current;\r\n        if (!el) return true;\r\n        return (el.scrollHeight - el.scrollTop - el.clientHeight) < 160;\r\n    }, []);\r\n\r\n    const handleMessageScroll = useCallback(() => {\r\n        const el = messageBoxRef.current;\r\n        if (!el) return;\r\n        setShowScrollToBottom((el.scrollHeight - el.scrollTop - el.clientHeight) > 160);\r\n    }, []);\r\n\r\n    const throttledHandleMessageScroll = useThrottle(handleMessageScroll, 100);\r\n\r\n    //  AVATARS \r\n    const getDeterministicAvatar = useCallback((uname) => {\r\n        if (uname === ' Signal Bot') return `${MEDIA_BASE_URL}/static/bot/signal.png`;\r\n        if (uname === 'PawPaw AI') return `${MEDIA_BASE_URL}/static/bot/ai.png`;\r\n        if (!uname || !defaultAvatars || defaultAvatars.length === 0) return `${MEDIA_BASE_URL}/avatars/cat_1.png`;\r\n        let hash = 0;\r\n        for (let i = 0; i < uname.length; i++) hash = uname.charCodeAt(i) + ((hash << 5) - hash);\r\n        const index = Math.abs(hash % defaultAvatars.length);\r\n        const avatarItem = defaultAvatars[index];\r\n        let path;\r\n        if (typeof avatarItem === 'object' && avatarItem !== null) path = avatarItem.original || avatarItem.thumbnail || avatarItem.url;\r\n        else if (typeof avatarItem === 'string') path = avatarItem;\r\n        if (!path || typeof path !== 'string') return `${MEDIA_BASE_URL}/avatars/cat_1.png`;\r\n        if (path.startsWith('http') || path.startsWith('blob:')) return path;\r\n        if (!path.startsWith('/')) path = '/' + path;\r\n        return `${MEDIA_BASE_URL}${path}`;\r\n    }, [defaultAvatars]);\r\n\r\n    const getRealUserAvatar = useCallback((targetUsername) => {\r\n        const userObj = allUsers.find(u => u.username === targetUsername);\r\n        if (userObj && userObj.avatar && typeof userObj.avatar === 'string') {\r\n            if (userObj.avatar.startsWith('http') || userObj.avatar.startsWith('blob:')) return userObj.avatar;\r\n            let avatarPath = userObj.avatar;\r\n            if (!avatarPath.startsWith('/')) avatarPath = '/' + avatarPath;\r\n            return `${MEDIA_BASE_URL}${avatarPath}`;\r\n        }\r\n        return getDeterministicAvatar(targetUsername);\r\n    }, [allUsers, getDeterministicAvatar]);\r\n\r\n    //  DRAFT SYSTEM \r\n    const chatDraftKey = useMemo(() => (!activeChat || !activeChat.id) ? '' : `${activeChat.type}-${activeChat.id}`, [activeChat]);\r\n\r\n    const loadDraftMap = useCallback(() => {\r\n        try { const raw = localStorage.getItem(DRAFT_STORAGE_KEY); if (!raw) return {}; const parsed = JSON.parse(raw); return parsed && typeof parsed === 'object' ? parsed : {}; }\r\n        catch (e) { return {}; }\r\n    }, []);\r\n\r\n    const persistDraft = useCallback((value) => {\r\n        if (!chatDraftKey) return;\r\n        const map = loadDraftMap();\r\n        map[chatDraftKey] = value;\r\n        localStorage.setItem(DRAFT_STORAGE_KEY, JSON.stringify(map));\r\n    }, [chatDraftKey, loadDraftMap]);\r\n\r\n    useEffect(() => {\r\n        if (!chatDraftKey) { setDraftText(''); setHasDraftMessage(false); return; }\r\n        const drafts = loadDraftMap();\r\n        const restored = drafts[chatDraftKey] || '';\r\n        setDraftText(restored);\r\n        setHasDraftMessage(!!restored.trim());\r\n    }, [chatDraftKey, loadDraftMap]);\r\n\r\n    //  NAVIGATION \r\n    const handleRoomChange = (slug) => {\r\n        setActiveChat('room', slug);\r\n        if (isMobile) setIsLeftSidebarVisible(false);\r\n    };\r\n\r\n    const handleDMClick = (targetUser) => {\r\n        fetchWithAuth(GET_OR_CREATE_CONVERSATION_URL, { method: 'POST', body: JSON.stringify({ target_username: targetUser }) })\r\n            .then(r => r.json())\r\n            .then(data => { setActiveChat('dm', data.conversation_id, targetUser); if (isMobile) setIsLeftSidebarVisible(false); });\r\n    };\r\n\r\n    const navigateToPath = useCallback((hashPath) => {\r\n        if (!hashPath) return;\r\n        window.location.hash = hashPath.startsWith('#/') ? hashPath : `#${hashPath.startsWith('/') ? hashPath : `/${hashPath}`}`;\r\n        if (isMobile) setIsRightSidebarVisible(false);\r\n    }, [isMobile]);\r\n\r\n    const handleWelcomeClick = useCallback(() => {\r\n        setActiveChat('welcome', 'welcome', null);\r\n        if (isMobile) setIsLeftSidebarVisible(false);\r\n    }, [isMobile]);\r\n\r\n    const toggleNotifications = useCallback(() => {\r\n        setSoundSettings(prev => {\r\n            const next = { ...prev, notifications: !prev.notifications };\r\n            localStorage.setItem('chat_sound_settings', JSON.stringify(next));\r\n            return next;\r\n        });\r\n    }, []);\r\n\r\n    const handleCopyLink = useCallback(async () => {\r\n        if (!activeChat?.id) return;\r\n        const link = `${window.location.origin}/#/${activeChat.type === 'dm' ? `dm/${activeChat.id}` : `room/${activeChat.id}`}`;\r\n        try { await navigator.clipboard.writeText(link); setUpdateStatusText('Link kopyaland'); setTimeout(() => setUpdateStatusText(''), 1500); }\r\n        catch (e) { console.error('Link kopyalanamad', e); }\r\n    }, [activeChat]);\r\n\r\n    // \r\n    // EXTRACTED HOOKS\r\n    // \r\n\r\n    const { isInitialDataLoaded, stickyMessage, setStickyMessage, handleServerSelect } = useAppInit({\r\n        isAuthenticated, username, token, fetchWithAuth,\r\n        setCategories, setConversations, setAllUsers, setFriendsList,\r\n        setCurrentUserProfile, setServerOrder, setMaintenanceMode,\r\n        setAuthError, setServerMembers,\r\n        API_BASE_URL, ROOM_LIST_URL, CONVERSATION_LIST_URL,\r\n        activeChat, categories, setActiveChat,\r\n    });\r\n\r\n    // Shared ws ref to break circular dependency between message handlers and chat connection\r\n    const sharedWsRef = useRef(null);\r\n\r\n    const messageHandlers = useMessageHandlers({\r\n        activeChat, username, token, ws: sharedWsRef,\r\n        encryptionKeys, setMessages, scrollToBottom, isNearBottom,\r\n        setEditingMessage, setHasDraftMessage, setDraftText, persistDraft,\r\n        setStickyMessage, richTextRef, fetchWithAuth,\r\n        currentUserProfile, getDeterministicAvatar,\r\n        historyCacheRef, setHasMoreMessages, setMessageHistoryOffset,\r\n        setIsSummaryLoading, setSummaryResult, setPinnedMessages,\r\n        setConversations, setMessageHistoryLoading,\r\n        openModal, closeModal,\r\n        API_BASE_URL, MESSAGE_HISTORY_ROOM_URL, MESSAGE_HISTORY_DM_URL,\r\n    });\r\n\r\n    const { ws } = useChatConnection({\r\n        activeChat, username, token, isAuthenticated, isInitialDataLoaded,\r\n        fetchWithAuth, scrollToBottom, isNearBottom, setMessages,\r\n        setIsConnected, historyCacheRef, setHasMoreMessages, setMessageHistoryOffset,\r\n        fetchMessageHistory: messageHandlers.fetchMessageHistory, setShowScrollToBottom,\r\n        API_BASE_URL, API_HOST, WS_PROTOCOL,\r\n        forwardToGlobalContext, setGlobalWsConnected,\r\n        setOnlineUsers, setVoiceUsersState, setAllUsers, setCurrentUserProfile,\r\n        activeChatRef, tokenRef, usernameRef,\r\n        setCategories, ROOM_LIST_URL,\r\n        statusWsRef, statusWsReconnectRef,\r\n        logout, refreshAccessToken,\r\n        setCurrentTheme,\r\n    });\r\n\r\n    // Sync ws ref so message handlers always have access to the current WebSocket\r\n    useEffect(() => {\r\n        if (ws) sharedWsRef.current = ws.current;\r\n    }, [ws]);\r\n\r\n    const fileUpload = useFileUpload({\r\n        activeChat, username, fetchWithAuth, scrollToBottom,\r\n        setMessages, API_BASE_URL,\r\n        handleDMClick, conversations, categories,\r\n    });\r\n\r\n    const serverHandlers = useServerHandlers({\r\n        username, fetchWithAuth, categories, allUsers, friendsList,\r\n        serverMembers, isAdmin, currentVoiceRoom: currentVoiceRoom,\r\n        setUpdateStatusText, setFriendsList, setInviteToServerUser,\r\n        API_BASE_URL, handleDMClick, isInVoice,\r\n        setServerOrder, serverOrder,\r\n        setActiveChat, setCurrentUserProfile, setCategories,\r\n        setConversations, setAllUsers, setIsInitialDataLoaded: () => {},\r\n        setAuthError, login, logout, setViewingProfile,\r\n        ABSOLUTE_HOST_URL, ROOM_LIST_URL,\r\n    });\r\n\r\n    const { safeAreaTop } = useAppEffects({\r\n        setAnimationState, setShowVanityInvite, setShowInviteCode,\r\n        setMaintenanceMode, setUpdateAvailable, setAllUsers,\r\n        animationState, isInitialDataLoaded, isAuthenticated, username,\r\n        messages, activeChat, isInVoice, currentVoiceRoom, modals,\r\n        statusWsRef,\r\n        openModal, closeModal, toggleModal, setActiveChat,\r\n        isNative, isElectron,\r\n        fetchWithAuth, isNearBottom, scrollToBottom, handleMessageScroll,\r\n        API_BASE_URL, MEDIA_BASE_URL,\r\n        GOOGLE_WEB_CLIENT_ID,\r\n    });\r\n\r\n    //  UPDATE HANDLER ---\r\n    const handleStartUpdate = () => {\r\n        if (isElectron) {\r\n            setIsDownloading(true); setUpdateStatusText('ndiriliyor...');\r\n            const { ipcRenderer } = window.require('electron');\r\n            ipcRenderer.send('start-download', `${ABSOLUTE_HOST_URL}/media/build/Pawscord-Setup.exe`);\r\n        } else {\r\n            window.open(`${ABSOLUTE_HOST_URL}/media/build/Pawscord-Setup.exe`, '_blank');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isElectron) {\r\n            const { ipcRenderer } = window.require('electron');\r\n            const handleProgress = (event, progress) => setDownloadProgress(Math.round(progress * 100));\r\n            const handleComplete = () => { setUpdateStatusText('Balatlyor...'); setDownloadProgress(100); setTimeout(() => setUpdateStatusText('Kapanyor...'), 1500); };\r\n            const handleError = (event, error) => { setIsDownloading(false); };\r\n            ipcRenderer.on('download-progress', handleProgress);\r\n            ipcRenderer.on('download-complete', handleComplete);\r\n            ipcRenderer.on('download-error', handleError);\r\n            return () => { ipcRenderer.removeAllListeners('download-progress'); ipcRenderer.removeAllListeners('download-complete'); ipcRenderer.removeAllListeners('download-error'); };\r\n        }\r\n    }, []);\r\n\r\n    // \r\n    // RENDER\r\n    // \r\n\r\n    const showSplash = animationState !== 'finished';\r\n    const mobileWebPadding = (isMobile && !isNative) ? '20px' : safeAreaTop;\r\n    const currentKeyId = activeChat.type === 'room' ? `room-${activeChat.id}` : `dm-${activeChat.id}`;\r\n    const hasKey = !!encryptionKeys[currentKeyId];\r\n\r\n    // --- AUTH SCREEN ---\r\n    if (!isAuthenticated) return (\r\n        <>\r\n            {showSplash && <SplashScreen animationState={animationState} />}\r\n            <Suspense fallback={<LoadingSpinner size=\"large\" text=\"Ykleniyor...\" />}>\r\n                <LoginPage onLogin={serverHandlers.handleLogin} onRegister={serverHandlers.handleRegister} error={authError} setAuthError={setAuthError} />\r\n            </Suspense>\r\n        </>\r\n    );\r\n\r\n    // --- VANITY / INVITE SCREENS ---\r\n    if (showVanityInvite) return (\r\n        <Suspense fallback={<LoadingSpinner size=\"large\" text=\"Davet ykleniyor...\" />}>\r\n            <VanityInviteScreen vanityPath={showVanityInvite} fetchWithAuth={fetchWithAuth} apiBaseUrl={API_BASE_URL}\r\n                onClose={() => { setShowVanityInvite(null); window.location.hash = '#/'; }} />\r\n        </Suspense>\r\n    );\r\n\r\n    if (showInviteCode) return (\r\n        <Suspense fallback={<LoadingSpinner size=\"large\" text=\"Davet ykleniyor...\" />}>\r\n            <InviteCodeScreen inviteCode={showInviteCode} fetchWithAuth={fetchWithAuth} apiBaseUrl={API_BASE_URL}\r\n                onClose={() => { setShowInviteCode(null); window.location.hash = '#/'; }} />\r\n        </Suspense>\r\n    );\r\n\r\n    // --- MAIN APP ---\r\n    return (\r\n        <div style={{ ...styles.mainContainer }} className=\"dark-theme\">\r\n            {showSplash && <SplashScreen animationState={animationState} />}\r\n            {maintenanceMode && <MaintenanceBanner message={maintenanceMode.message} endTime={maintenanceMode.endTime} level={maintenanceMode.level} onDismiss={() => setMaintenanceMode(null)} />}\r\n\r\n            <AppModals\r\n                fetchWithAuth={fetchWithAuth} activeChat={activeChat} username={username}\r\n                sendMessage={messageHandlers.sendMessage} sendSignal={sendSignal} ws={ws}\r\n                currentUserProfile={currentUserProfile} setCurrentUserProfile={setCurrentUserProfile}\r\n                currentTheme={currentTheme} setCurrentTheme={setCurrentTheme}\r\n                soundSettings={soundSettings} setSoundSettings={setSoundSettings}\r\n                encryptionKeys={encryptionKeys} currentKeyId={currentKeyId} setEncryptionKey={setEncryptionKey}\r\n                chartSymbol={chartSymbol} setChartSymbol={setChartSymbol}\r\n                serverToEdit={serverHandlers.serverToEdit} setServerToEdit={serverHandlers.setServerToEdit}\r\n                serverMembers={serverMembers} friendsList={friendsList}\r\n                conversations={conversations} categories={categories} allUsers={allUsers}\r\n                pinnedMessages={pinnedMessages}\r\n                isSummaryLoading={isSummaryLoading} summaryResult={summaryResult}\r\n                zoomedImage={zoomedImage} setZoomedImage={setZoomedImage}\r\n                galleryData={galleryData} setGalleryData={setGalleryData}\r\n                viewingProfile={viewingProfile} setViewingProfile={setViewingProfile}\r\n                isAdmin={isAdmin} richTextRef={richTextRef} logout={logout}\r\n                getDeterministicAvatar={getDeterministicAvatar}\r\n                handleSendSnippet={messageHandlers.handleSendSnippet}\r\n                handleDMClick={handleDMClick} setActiveChat={setActiveChat}\r\n                setConversations={setConversations}\r\n                isMuted={isMuted} isDeafened={isDeafened} toggleMute={toggleMute} toggleDeafened={toggleDeafened}\r\n            />\r\n\r\n            {isMobile && isLeftSidebarVisible && <div style={styles.mobileOverlay} onClick={() => setIsLeftSidebarVisible(false)} />}\r\n            {isMobile && isRightSidebarVisible && <div style={styles.mobileOverlay} onClick={() => setIsRightSidebarVisible(false)} />}\r\n\r\n            <ConnectionStatusBar />\r\n\r\n            <div style={styles.chatLayout}>\r\n                {/*  LEFT SIDEBAR  */}\r\n                {(!isMobile || isLeftSidebarVisible) && (\r\n                    <div style={{ ...styles.sidebarWrapper, ...(isMobile && styles.mobileSidebar), paddingTop: mobileWebPadding, paddingBottom: safeAreaBottom, height: '100%', boxSizing: 'border-box' }}>\r\n                        {isMobile && (\r\n                            <div style={styles.mobileSidebarHeader}>\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                                    <img src=\"https://media.pawscord.com/assets/logo.png\" alt=\"\" style={{ width: '24px', height: '24px' }} onError={(e) => { e.target.style.display = 'none'; }} />\r\n                                    <span style={{ fontSize: '18px', fontWeight: 'bold', color: 'white' }}>Pawscord</span>\r\n                                </div>\r\n                                <button onClick={() => setIsLeftSidebarVisible(false)} style={styles.closeSidebarButton}><FaTimes /></button>\r\n                            </div>\r\n                        )}\r\n                        <Suspense fallback={<LoadingSpinner size=\"medium\" text=\"Kanallar ykleniyor...\" />}>\r\n                            <RoomList\r\n                                onFriendsClick={() => setActiveChat('friends', 'friends')}\r\n                                onRoomSelect={handleRoomChange}\r\n                                onDMSelect={(id, targetUsername) => setActiveChat('dm', id, targetUsername)}\r\n                                onWelcomeClick={handleWelcomeClick}\r\n                                setIsLeftSidebarVisible={setIsLeftSidebarVisible}\r\n                                onProfileClick={() => openModal('profilePanel')}\r\n                                onViewUserProfile={(u) => { const usr = allUsers.find(a => a.username === u); if (usr) setViewingProfile(usr); }}\r\n                                onOpenStore={() => openModal('store')}\r\n                                onOpenServerSettings={(server) => serverHandlers.setServerToEdit(server)}\r\n                                categories={sortedServers}\r\n                                onServerDragStart={serverHandlers.handleServerDragStart}\r\n                                onServerDragOver={serverHandlers.handleServerDragOver}\r\n                                onServerDragEnd={serverHandlers.handleServerDragEnd}\r\n                                onServerDrop={serverHandlers.handleServerDrop}\r\n                                onMoveServer={serverHandlers.handleMoveServer}\r\n                                conversations={conversations} allUsers={allUsers} onlineUsers={onlineUsers}\r\n                                serverMembers={serverMembers} isAdmin={isAdmin}\r\n                                friendsList={friendsList} pendingFriendRequests={pendingFriendRequests}\r\n                                currentUsername={username} currentUserProfile={currentUserProfile}\r\n                                getRealUserAvatar={getRealUserAvatar} getDeterministicAvatar={getDeterministicAvatar}\r\n                                unreadCounts={unreadCounts}\r\n                                joinVoiceChat={joinChannel} leaveVoiceChat={leaveChannel}\r\n                                voiceUsers={voiceUsers} isConnecting={isConnecting}\r\n                                currentVoiceRoom={currentVoiceRoom} currentRoom={currentVoiceRoom}\r\n                                currentConversationId={activeChat.type === 'dm' ? activeChat.id : null}\r\n                                remoteVolumes={remoteVolumes} setRemoteVolume={setRemoteVolume}\r\n                                isPttActive={isPttActive} apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                                fetchWithAuth={fetchWithAuth}\r\n                                onHideConversation={messageHandlers.handleHideConversation}\r\n                                handleDrop={() => {}} dropTarget={dropTarget} setDropTarget={setDropTarget}\r\n                                isDragging={fileUpload.isDragging}\r\n                                onOpenCreateGroup={() => openModal('groupModal')}\r\n                                toggleMute={toggleMute} toggleDeafened={toggleDeafened}\r\n                                isMuted={isMuted} isDeafened={isDeafened} isInVoice={isInVoice}\r\n                                toggleVideo={toggleVideo} toggleScreenShare={toggleScreenShare}\r\n                                isVideoEnabled={isVideoEnabled} isScreenSharing={isScreenSharing}\r\n                                updateAvailable={updateAvailable} onUpdateClick={() => openModal('downloadModal')}\r\n                                onOpenAnalytics={() => openModal('analytics')}\r\n                                onOpenAdminPanel={() => openModal('adminPanel')}\r\n                                onOpenPaymentPanel={() => openModal('paymentPanel')}\r\n                                onOpenStoreModal={() => openModal('storeModal')}\r\n                                onOpenDailyRewards={() => openModal('dailyRewards')}\r\n                                onOpenAPIUsage={() => openModal('aPIUsagePanel')}\r\n                                onOpenExportJobs={() => openModal('exportJobsPanel')}\r\n                                onOpenScheduledAnnouncements={() => openModal('scheduledAnnouncements')}\r\n                                onOpenMiniGames={() => openModal('miniGames')}\r\n                                onOpenProjectCollaboration={() => openModal('projectCollaboration')}\r\n                                onOpenAvatarStudio={() => openModal('avatarStudio')}\r\n                                onServerSelect={handleServerSelect}\r\n                            />\r\n                        </Suspense>\r\n                    </div>\r\n                )}\r\n\r\n                {/*  MAIN CONTENT  */}\r\n                <div style={styles.mainContent}>\r\n                    <div style={{ position: 'absolute', top: 60, left: 0, right: 0, zIndex: 90 }}>\r\n                        <Suspense fallback={null}>\r\n                            <StickyMessageBanner message={stickyMessage?.message} type={stickyMessage?.type} onDismiss={() => setStickyMessage(null)} />\r\n                        </Suspense>\r\n                    </div>\r\n\r\n                    {activeChat.type === 'friends' ? (\r\n                        <div style={{ width: '100%', height: '100%', paddingTop: mobileWebPadding }}>\r\n                            <Suspense fallback={<LoadingSpinner size=\"medium\" text=\"Arkadalar ykleniyor...\" />}>\r\n                                <FriendsTab fetchWithAuth={fetchWithAuth} apiBaseUrl={API_BASE_URL} onStartDM={handleDMClick}\r\n                                    getDeterministicAvatar={getDeterministicAvatar} onClose={() => setActiveChat('welcome', 'welcome')}\r\n                                    onPendingCountChange={setPendingFriendRequests} onlineUsers={onlineUsers} />\r\n                            </Suspense>\r\n                        </div>\r\n                    ) : activeChat.type === 'welcome' ? (\r\n                        <div style={{ width: '100%', height: '100%' }}>\r\n                            <Suspense fallback={<LoadingSpinner size=\"medium\" text=\"Ykleniyor...\" />}>\r\n                                <WelcomeScreen isMobile={isMobile} onOpenMenu={() => setIsLeftSidebarVisible(true)}\r\n                                    onOpenRightMenu={() => setIsRightSidebarVisible(true)}\r\n                                    updateAvailable={updateAvailable} isDownloading={isDownloading}\r\n                                    downloadProgress={downloadProgress} updateStatusText={updateStatusText}\r\n                                    onStartUpdate={handleStartUpdate}\r\n                                    onSwitchToFriends={() => { setActiveChat('friends', 'friends'); if (isMobile) setIsLeftSidebarVisible(false); }}\r\n                                    onSwitchToAI={() => handleRoomChange('ai')}\r\n                                    onSwitchToCinema={() => { openModal('cinema'); if (isMobile) setIsLeftSidebarVisible(false); }} />\r\n                            </Suspense>\r\n                        </div>\r\n                    ) : activeRoomType === 'kanban' ? (\r\n                        <div style={{ width: '100%', height: '100%', overflow: 'hidden' }}>\r\n                            <div style={styles.chatHeader}><h2># {chatTitle} (Pano)</h2></div>\r\n                            <Suspense fallback={<LoadingSpinner size=\"medium\" text=\"Pano ykleniyor...\" />}>\r\n                                <KanbanBoard roomSlug={activeChat.id} apiBaseUrl={ABSOLUTE_HOST_URL} fetchWithAuth={fetchWithAuth} />\r\n                            </Suspense>\r\n                        </div>\r\n                    ) : activeChat.type === 'voice' && isInVoice ? (\r\n                        <div style={{ width: '100%', height: '100%', display: 'flex', flexDirection: 'column', backgroundColor: '#2f3136' }}>\r\n                            <div style={{ ...styles.chatHeader, justifyContent: 'space-between' }}>\r\n                                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                                    {isMobile && <button onClick={() => setActiveChat('welcome', 'welcome')} style={styles.mobileMenuButton}></button>}\r\n                                    <h2 style={{ margin: 0, fontSize: '1.2em' }}> {currentVoiceRoom}</h2>\r\n                                </div>\r\n                                <button onClick={() => { leaveChannel(); setActiveChat('welcome', 'welcome'); }}\r\n                                    style={{ background: '#ed4245', color: 'white', border: 'none', borderRadius: '8px', padding: '8px 16px', cursor: 'pointer', fontWeight: 'bold' }}>\r\n                                    Balanty Kes\r\n                                </button>\r\n                            </div>\r\n                            <VoiceChatPanel roomName={currentVoiceRoom} onClose={() => { leaveChannel(); setActiveChat('welcome', 'welcome'); }}\r\n                                isMinimized={false} onToggleMinimize={() => {}}\r\n                                getRealUserAvatar={getRealUserAvatar} allUsers={allUsers} currentUserProfile={currentUserProfile} />\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ ...styles.chatArea, position: 'relative', paddingTop: mobileWebPadding, boxSizing: 'border-box' }}\r\n                            onDrop={fileUpload.handleChatDrop} onDragOver={(e) => e.preventDefault()}\r\n                            onDragEnter={fileUpload.handleChatDragEnter} onDragLeave={fileUpload.handleChatDragLeave}>\r\n\r\n                            {/* CHAT HEADER */}\r\n                            <div style={{ ...styles.chatHeader, justifyContent: 'space-between' }}>\r\n                                <div style={{ display: 'flex', alignItems: 'center', overflow: 'hidden', gap: '8px' }}>\r\n                                    {isMobile && !isLeftSidebarVisible && <button onClick={() => setIsLeftSidebarVisible(true)} style={{ ...styles.mobileMenuButton, fontSize: '1.3em' }}></button>}\r\n                                    {isMobile && (activeChat.type === 'dm' || activeChat.type === 'room') && (\r\n                                        <button onClick={() => { setActiveChat('welcome', 'welcome'); setIsLeftSidebarVisible(false); setIsRightSidebarVisible(false); }} style={{ ...styles.mobileMenuButton, fontSize: '1.2em' }}></button>\r\n                                    )}\r\n                                    <h2 style={{ display: 'flex', alignItems: 'center', gap: '10px', margin: 0, fontSize: isMobile ? '1em' : '1.1em', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\r\n                                        {activeChat.type === 'dm' ? `@ ${String(activeChat.targetUser || 'DM')}` : `# ${String(chatTitle)}`}\r\n                                    </h2>\r\n                                    <div style={isConnected ? styles.connectionPillOnline : styles.connectionPillOffline}>{isConnected ? '' : ''}</div>\r\n                                </div>\r\n                                <div style={{ display: 'flex', gap: isMobile ? '5px' : '10px', alignItems: 'center', flexWrap: isMobile ? 'nowrap' : 'wrap', position: 'relative' }}>\r\n                                    <form onSubmit={(e) => messageHandlers.handleSearchMessages(e, debouncedSearchQuery)} style={styles.searchForm}>\r\n                                        <input type=\"text\" placeholder=\"Ara...\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} style={styles.searchInput} ref={searchInputRef} />\r\n                                        <FaSearch style={styles.searchIcon} />\r\n                                    </form>\r\n                                    {!isMobile && activeTypingUsers.length > 0 && <TypingIndicatorEnhanced users={activeTypingUsers} />}\r\n                                    <button onClick={() => toggleModal('notifications')} style={{ ...styles.iconButton, color: modals.notifications ? '#5865f2' : '#b9bbbe', position: 'relative' }} title=\"Bildirimler\"><FaBell /></button>\r\n                                    {modals.notifications && (\r\n                                        <div style={{ position: 'absolute', top: '54px', right: '20px', zIndex: 1000 }}>\r\n                                            <Suspense fallback={<LoadingSpinner size=\"small\" text=\"\" />}>\r\n                                                <NotificationDropdown currentUser={username} onClose={() => closeModal('notifications')} fetchWithAuth={fetchWithAuth} apiBaseUrl={ABSOLUTE_HOST_URL} />\r\n                                            </Suspense>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"toolbar-menu-container\" style={{ position: 'relative' }}>\r\n                                        <button onClick={() => toggleModal('toolbarMenu')} style={{ ...styles.iconButton, color: modals.toolbarMenu ? '#5865f2' : '#b9bbbe', fontSize: '1.2em', fontWeight: 'bold' }} title=\"Daha Fazla\"></button>\r\n                                        {modals.toolbarMenu && (\r\n                                            <ToolbarMenu\r\n                                                activeChat={activeChat} hasKey={hasKey} modals={modals}\r\n                                                soundSettings={soundSettings} isInVoice={isInVoice} username={username}\r\n                                                openModal={openModal} closeModal={closeModal} toggleModal={toggleModal}\r\n                                                handleCopyLink={handleCopyLink} toggleNotifications={toggleNotifications}\r\n                                                handleSummarize={messageHandlers.handleSummarize}\r\n                                                handleClearChat={messageHandlers.handleClearChat}\r\n                                                handleAdminDeleteConversation={messageHandlers.handleAdminDeleteConversation}\r\n                                            />\r\n                                        )}\r\n                                    </div>\r\n                                    {isMobile && !isRightSidebarVisible && <button onClick={() => setIsRightSidebarVisible(true)} style={{ ...styles.mobileMenuButton, fontSize: '1.3em' }}><FaUsers /></button>}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* MESSAGE LIST */}\r\n                            <div style={styles.messageBox} ref={messageBoxRef} onScroll={throttledHandleMessageScroll}>\r\n                                <Suspense fallback={<p style={styles.systemMessage}>Mesajlar ykleniyor...</p>}>\r\n                                    {messageHistoryLoading ? (\r\n                                        <p style={styles.systemMessage}>Ykleniyor...</p>\r\n                                    ) : optimizedMessages.length > 50 ? (\r\n                                        <VirtualMessageList messages={optimizedMessages} scrollToBottom={true}\r\n                                            renderMessage={(msg, index) => (\r\n                                                <Message key={msg.id || msg.temp_id || index} msg={msg} currentUser={username}\r\n                                                    absoluteHostUrl={ABSOLUTE_HOST_URL} isAdmin={isAdmin}\r\n                                                    onImageClick={setZoomedImage} fetchWithAuth={fetchWithAuth}\r\n                                                    allUsers={allUsers} getDeterministicAvatar={getDeterministicAvatar}\r\n                                                    onShowChart={setChartSymbol} onDelete={messageHandlers.handleDeleteMessage}\r\n                                                    onStartEdit={setEditingMessage} onSetReply={setReplyingTo}\r\n                                                    onToggleReaction={() => {}} onStartForward={setForwardingMessage}\r\n                                                    isSelectionMode={isSelectionMode} isSelected={selectedMessages.has(msg.id)}\r\n                                                    onToggleSelection={(id) => { const s = new Set(selectedMessages); if (s.has(id)) s.delete(id); else s.add(id); setSelectedMessages(s); }}\r\n                                                    onScrollToMessage={messageHandlers.scrollToMessage}\r\n                                                    onViewProfile={(u) => setViewingProfile(allUsers.find(usr => usr.username === u))}\r\n                                                    onTogglePin={messageHandlers.handleTogglePin}\r\n                                                    onVisible={messageHandlers.handleMessageVisible} />\r\n                                            )} />\r\n                                    ) : (\r\n                                        <>\r\n                                            {(() => {\r\n                                                const elements = [];\r\n                                                let i = 0;\r\n                                                while (i < optimizedMessages.length) {\r\n                                                    const msg = optimizedMessages[i];\r\n                                                    const key = msg.id || msg.temp_id || i;\r\n                                                    const prevMsg = i > 0 ? optimizedMessages[i - 1] : null;\r\n                                                    const showDateDivider = !prevMsg || (msg.timestamp && prevMsg.timestamp && new Date(msg.timestamp).toDateString() !== new Date(prevMsg.timestamp).toDateString());\r\n\r\n                                                    if (isImageOnlyMessage(msg)) {\r\n                                                        const galleryMsgs = [msg];\r\n                                                        let j = i + 1;\r\n                                                        while (j < optimizedMessages.length && isImageOnlyMessage(optimizedMessages[j]) && optimizedMessages[j].username === msg.username && msg.timestamp && optimizedMessages[j].timestamp && Math.abs(new Date(optimizedMessages[j].timestamp) - new Date(msg.timestamp)) < 300000) { galleryMsgs.push(optimizedMessages[j]); j++; }\r\n                                                        if (galleryMsgs.length >= 2) {\r\n                                                            elements.push(\r\n                                                                <React.Fragment key={`gallery-${galleryMsgs.map(m => m.id || m.temp_id).join('-')}`}>\r\n                                                                    {showDateDivider && msg.timestamp && <MessageDateDivider date={msg.timestamp} />}\r\n                                                                    <ImageGalleryGroup messages={galleryMsgs} currentUser={username} absoluteHostUrl={ABSOLUTE_HOST_URL} isAdmin={isAdmin}\r\n                                                                        onOpenGallery={(images, startIndex) => setGalleryData({ images, startIndex })}\r\n                                                                        onViewProfile={(u) => setViewingProfile(allUsers.find(usr => usr.username === u))}\r\n                                                                        onDelete={messageHandlers.handleDeleteMessage} allUsers={allUsers} getDeterministicAvatar={getDeterministicAvatar}\r\n                                                                        fetchWithAuth={fetchWithAuth} onVisible={messageHandlers.handleMessageVisible} />\r\n                                                                </React.Fragment>\r\n                                                            );\r\n                                                            i = j; continue;\r\n                                                        }\r\n                                                    }\r\n\r\n                                                    elements.push(\r\n                                                        <React.Fragment key={key}>\r\n                                                            {showDateDivider && msg.timestamp && <MessageDateDivider date={msg.timestamp} />}\r\n                                                            <Message msg={msg} currentUser={username} absoluteHostUrl={ABSOLUTE_HOST_URL} isAdmin={isAdmin}\r\n                                                                onImageClick={setZoomedImage} fetchWithAuth={fetchWithAuth}\r\n                                                                allUsers={allUsers} getDeterministicAvatar={getDeterministicAvatar}\r\n                                                                onShowChart={setChartSymbol} onDelete={messageHandlers.handleDeleteMessage}\r\n                                                                onStartEdit={setEditingMessage} onSetReply={setReplyingTo}\r\n                                                                onToggleReaction={() => {}} onStartForward={setForwardingMessage}\r\n                                                                isSelectionMode={isSelectionMode} isSelected={selectedMessages.has(msg.id)}\r\n                                                                onToggleSelection={(id) => { const s = new Set(selectedMessages); if (s.has(id)) s.delete(id); else s.add(id); setSelectedMessages(s); }}\r\n                                                                onScrollToMessage={messageHandlers.scrollToMessage}\r\n                                                                onViewProfile={(u) => setViewingProfile(allUsers.find(usr => usr.username === u))}\r\n                                                                onTogglePin={messageHandlers.handleTogglePin}\r\n                                                                onVisible={messageHandlers.handleMessageVisible} />\r\n                                                        </React.Fragment>\r\n                                                    );\r\n                                                    i++;\r\n                                                }\r\n                                                return elements;\r\n                                            })()}\r\n                                            <div ref={messagesEndRef} style={{ float: \"left\", clear: \"both\", height: 1 }} />\r\n                                        </>\r\n                                    )}\r\n                                </Suspense>\r\n                            </div>\r\n\r\n                            {/* DRAG OVERLAY */}\r\n                            {fileUpload.isDragging && (\r\n                                <div style={{ position: 'absolute', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(30, 31, 34, 0.9)', border: '3px dashed #5865f2', borderRadius: '8px', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', pointerEvents: 'none', zIndex: 1000 }}>\r\n                                    <div style={{ fontSize: '48px', marginBottom: '12px' }}></div>\r\n                                    <div style={{ color: '#5865f2', fontSize: '1.4em', fontWeight: 'bold' }}>Dosyalar buraya brakn</div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {showScrollToBottom && <ScrollToBottomButton onClick={() => { scrollToBottom('smooth'); setShowScrollToBottom(false); }} unreadCount={0} />}\r\n\r\n                            <div style={{ ...styles.inputContainer, paddingBottom: isNative ? `calc(16px + ${safeAreaBottom})` : (isMobile ? '25px' : '16px') }}>\r\n                                {fileUpload.isUploading && fileUpload.uploadProgress > 0 && (\r\n                                    <div style={{ position: 'absolute', top: '-40px', left: '16px', right: '16px', backgroundColor: '#2b2d31', borderRadius: '8px', padding: '8px 12px', boxShadow: '0 2px 10px rgba(0,0,0,0.3)', zIndex: 1001 }}>\r\n                                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                                            <span style={{ color: '#b9bbbe', fontSize: '12px', whiteSpace: 'nowrap' }}> Ykleniyor: {fileUpload.uploadProgress}%</span>\r\n                                            <div style={{ flex: 1, height: '6px', backgroundColor: '#40444b', borderRadius: '3px', overflow: 'hidden' }}>\r\n                                                <div style={{ width: `${fileUpload.uploadProgress}%`, height: '100%', backgroundColor: '#5865f2', borderRadius: '3px', transition: 'width 0.3s ease' }} />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                                <Suspense fallback={<div style={{ padding: '12px', color: '#72767d' }}>Ykleniyor...</div>}>\r\n                                    <MessageInput onSendMessage={messageHandlers.sendMessage} onFileUpload={fileUpload.uploadFile}\r\n                                        onShowCodeSnippet={() => openModal('snippetModal')}\r\n                                        placeholder={chatTitle ? `${activeChat.type === 'dm' ? chatTitle : `# ${chatTitle}`} kanalna mesaj gnder` : 'Mesaj yaz...'}\r\n                                        disabled={fileUpload.isUploading} fetchWithAuth={fetchWithAuth} apiBaseUrl={ABSOLUTE_HOST_URL}\r\n                                        activeChat={activeChat} pendingFilesFromDrop={fileUpload.pendingFilesFromDrop}\r\n                                        onClearPendingFiles={() => fileUpload.setPendingFilesFromDrop([])} />\r\n                                </Suspense>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/*  RIGHT SIDEBAR  */}\r\n                    {(!isMobile || isRightSidebarVisible) && (\r\n                        <div style={{ ...styles.chatUserListPanel, ...(isMobile ? styles.mobileRightSidebar : {}), paddingTop: mobileWebPadding }}>\r\n                            {isMobile && (\r\n                                <div style={styles.mobileSidebarHeader}>\r\n                                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                                        <FaUsers size={18} color=\"#b9bbbe\" />\r\n                                        <span style={{ fontSize: '16px', fontWeight: 'bold', color: 'white' }}>\r\n                                            {activeChat.type === 'room' ? 'Sunucu yeleri' : 'Arkadalar'}\r\n                                        </span>\r\n                                    </div>\r\n                                    <button onClick={() => setIsRightSidebarVisible(false)} style={styles.closeSidebarButton}><FaTimes /></button>\r\n                                </div>\r\n                            )}\r\n                            <Suspense fallback={<LoadingSpinner size=\"small\" text=\"Kullanclar ykleniyor...\" />}>\r\n                                <ChatUserList chatUsers={[]} allUsers={allUsers} onlineUsers={onlineUsers}\r\n                                    currentUser={username} currentUserProfile={currentUserProfile}\r\n                                    getDeterministicAvatar={getDeterministicAvatar}\r\n                                    onUserClick={(u) => {\r\n                                        let user = allUsers.find(usr => usr.username === u);\r\n                                        if (!user && serverMembers.length > 0) {\r\n                                            const m = serverMembers.find(m => m.username === u);\r\n                                            if (m) user = { username: m.username, display_name: m.username, avatar: getDeterministicAvatar(m.username), role: m.role || 'member' };\r\n                                        }\r\n                                        if (user) setViewingProfile(user);\r\n                                    }}\r\n                                    onUserContextMenu={(e, targetUsername) => {\r\n                                        if (targetUsername === username) return;\r\n                                        const targetUser = allUsers.find(u => u.username === targetUsername);\r\n                                        if (!targetUser) return;\r\n                                        setUserContextMenu({ x: e.clientX, y: e.clientY, user: targetUser, permissions: currentUserPermissions });\r\n                                    }}\r\n                                    activeChat={activeChat} serverMembers={serverMembers}\r\n                                    friendsList={friendsList} onNavigate={navigateToPath} />\r\n                            </Suspense>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/*  VOICE CONTROLS  */}\r\n                {isInVoice && (\r\n                    <Suspense fallback={null}>\r\n                        <VoiceAudioController remoteStreams={remoteStreams} remoteVolumes={remoteVolumes} mutedUsers={mutedUsers} />\r\n                    </Suspense>\r\n                )}\r\n\r\n                {isInVoice && !showVoiceIsland && activeChat.type !== 'voice' && (\r\n                    <button onClick={() => setShowVoiceIsland(true)}\r\n                        style={{ position: 'fixed', bottom: '20px', right: '20px', zIndex: 9998, background: '#5865f2', color: 'white', border: 'none', borderRadius: '50%', width: '60px', height: '60px', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer', fontSize: '24px', boxShadow: '0 4px 12px rgba(0,0,0,0.3)' }}\r\n                        title=\"Ses Panelini A\"></button>\r\n                )}\r\n\r\n                {isInVoice && showVoiceIsland && activeChat.type !== 'voice' && (\r\n                    <VoiceChatPanel roomName={currentVoiceRoom}\r\n                        onClose={() => setShowVoiceIsland(false)}\r\n                        isMinimized={isVoicePanelMinimized}\r\n                        onToggleMinimize={() => setIsVoicePanelMinimized(!isVoicePanelMinimized)}\r\n                        getRealUserAvatar={getRealUserAvatar} allUsers={allUsers} currentUserProfile={currentUserProfile} />\r\n                )}\r\n            </div>\r\n\r\n            {/*  CONTEXT MENU  */}\r\n            {userContextMenu && (\r\n                <Suspense fallback={null}>\r\n                    <UserContextMenu x={userContextMenu.x} y={userContextMenu.y} user={userContextMenu.user}\r\n                        currentUser={username} onClose={() => setUserContextMenu(null)}\r\n                        onAction={serverHandlers.handleUserContextAction}\r\n                        voiceChannels={categories.flatMap(s => (s.categories || []).flatMap(c => (c.rooms || []).filter(r => r.is_voice)))}\r\n                        isAdmin={isAdmin} isInVoiceRoom={isInVoice} friendsList={friendsList} />\r\n                </Suspense>\r\n            )}\r\n\r\n            {/*  INVITE MODAL  */}\r\n            <InviteServerModal inviteToServerUser={inviteToServerUser} setInviteToServerUser={setInviteToServerUser}\r\n                categories={categories} fetchWithAuth={fetchWithAuth} API_BASE_URL={API_BASE_URL} />\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- APP WRAPPER ---\r\nfunction App() {\r\n    return (\r\n        <ErrorBoundary fallbackMessage=\"Pawscord encountered an error. Please try refreshing the page.\">\r\n            <VoiceProvider>\r\n                <AppContent />\r\n            </VoiceProvider>\r\n        </ErrorBoundary>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// frontend/src/VerifyEmailPage.js (YEN VE IK HAL)\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { FaCheckCircle, FaTimesCircle, FaSpinner } from 'react-icons/fa'; // konlar ekledik\r\nimport { API_BASE_URL } from './utils/constants';\r\n\r\n// --- URL AYARLARI (Centralized from constants.js) ---\r\nconst VERIFY_EMAIL_URL = `${API_BASE_URL}/auth/verify-email/`;\r\n// ------------------------------------\r\n\r\nconst VerifyEmailPage = () => {\r\n    const { token } = useParams();\r\n    const navigate = useNavigate();\r\n    const [status, setStatus] = useState('loading'); // loading, success, error\r\n    const [message, setMessage] = useState('Hesabnz dorulanyor, ltfen bekleyin...');\r\n\r\n    useEffect(() => {\r\n        if (!token) {\r\n            setStatus('error');\r\n            setMessage('Geersiz veya eksik dorulama kodu.');\r\n            return;\r\n        }\r\n\r\n        const verify = async () => {\r\n            try {\r\n                const response = await fetch(`${VERIFY_EMAIL_URL}${token}/`);\r\n                const data = await response.json();\r\n\r\n                if (response.ok) {\r\n                    setStatus('success');\r\n                    // Backend'den gelen mesaj ezebiliriz veya kullanabiliriz.\r\n                    // Burada senin istediin zel mesaj yazyoruz:\r\n                    setMessage('yeliiniz baaryla aktif edildi!');\r\n                } else {\r\n                    setStatus('error');\r\n                    setMessage(data.message || 'Dorulama baarsz oldu.');\r\n                }\r\n            } catch (error) {\r\n                setStatus('error');\r\n                setMessage('Sunucuya balanlamad. Ltfen internet balantnz kontrol edin.');\r\n            }\r\n        };\r\n\r\n        // Biraz gecikme ekleyelim ki kullanc \"Ykleniyor\" ekrann grp ne olduunu anlasn (opsiyonel estetik)\r\n        setTimeout(() => {\r\n            verify();\r\n        }, 1000);\r\n\r\n    }, [token]);\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.card}>\r\n\r\n                {/* 1. YKLENYOR DURUMU */}\r\n                {status === 'loading' && (\r\n                    <div style={styles.content}>\r\n                        <FaSpinner className=\"spin-animation\" size={50} color=\"#5865f2\" style={{ marginBottom: 20 }} />\r\n                        <h2 style={styles.title}>Dorulanyor...</h2>\r\n                        <p style={styles.text}>{message}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* 2. BAARILI DURUMU */}\r\n                {status === 'success' && (\r\n                    <div style={styles.content}>\r\n                        <FaCheckCircle size={60} color=\"#43b581\" style={{ marginBottom: 20 }} />\r\n                        <h2 style={{ ...styles.title, color: '#43b581' }}>Tebrikler! </h2>\r\n                        <p style={styles.text}>{message}</p>\r\n                        <p style={styles.subText}>Artk Pawscord'a tam eriim salayabilirsin.</p>\r\n\r\n                        <button\r\n                            onClick={() => navigate('/')}\r\n                            style={styles.primaryButton}\r\n                        >\r\n                            GR YAP\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* 3. HATA DURUMU */}\r\n                {status === 'error' && (\r\n                    <div style={styles.content}>\r\n                        <FaTimesCircle size={60} color=\"#f04747\" style={{ marginBottom: 20 }} />\r\n                        <h2 style={{ ...styles.title, color: '#f04747' }}>Hata Olutu</h2>\r\n                        <p style={styles.text}>{message}</p>\r\n\r\n                        <button\r\n                            onClick={() => navigate('/')}\r\n                            style={styles.secondaryButton}\r\n                        >\r\n                            Ana Sayfaya Dn\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: '100dvh',\r\n        backgroundColor: '#1e1f22', // Pawscord koyu tema\r\n        fontFamily: \"'Poppins', sans-serif\",\r\n        padding: '20px'\r\n    },\r\n    card: {\r\n        backgroundColor: '#2b2d31',\r\n        padding: '40px',\r\n        borderRadius: '12px',\r\n        boxShadow: '0 8px 24px rgba(0,0,0,0.5)',\r\n        maxWidth: '400px',\r\n        width: '100%',\r\n        textAlign: 'center',\r\n        border: '1px solid #1f2023'\r\n    },\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    title: {\r\n        margin: '0 0 10px 0',\r\n        color: '#fff',\r\n        fontSize: '1.8em'\r\n    },\r\n    text: {\r\n        color: '#dbdee1',\r\n        fontSize: '1.1em',\r\n        margin: '0 0 20px 0',\r\n        lineHeight: '1.5'\r\n    },\r\n    subText: {\r\n        color: '#949ba4',\r\n        fontSize: '0.9em',\r\n        marginBottom: '30px'\r\n    },\r\n    primaryButton: {\r\n        backgroundColor: '#5865f2',\r\n        color: 'white',\r\n        border: 'none',\r\n        padding: '12px 30px',\r\n        borderRadius: '5px',\r\n        fontSize: '1em',\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer',\r\n        transition: 'background-color 0.2s',\r\n        width: '100%'\r\n    },\r\n    secondaryButton: {\r\n        backgroundColor: '#4f545c',\r\n        color: 'white',\r\n        border: 'none',\r\n        padding: '12px 30px',\r\n        borderRadius: '5px',\r\n        fontSize: '1em',\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer',\r\n        width: '100%'\r\n    }\r\n};\r\n\r\n// Dnen animasyon iin stil ekleme\r\nconst styleSheet = document.createElement(\"style\");\r\nstyleSheet.innerText = `\r\n  .spin-animation { animation: spin 1s linear infinite; }\r\n  @keyframes spin { 100% { transform: rotate(360deg); } }\r\n`;\r\ndocument.head.appendChild(styleSheet);\r\n\r\nexport default React.memo(VerifyEmailPage);\r\n\r\n","// frontend/src/InvitePage.js\n\nimport { useState, useEffect } from 'react';\nimport toast from './utils/toast';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from './AuthContext';\nimport { FaServer, FaUsers, FaClock, FaCheckCircle, FaTimesCircle } from 'react-icons/fa';\nimport { API_BASE_URL, PRODUCTION_URL } from './utils/constants';\n\nconst InvitePage = () => {\n    const { code } = useParams();\n    const navigate = useNavigate();\n    const { isAuthenticated, token } = useAuth();\n\n    const [inviteInfo, setInviteInfo] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [joining, setJoining] = useState(false);\n    const [joined, setJoined] = useState(false);\n\n    // API URL logic - use centralized constants\n    // (PRODUCTION_URL used for display/share links, API_BASE_URL for API calls)\n\n    useEffect(() => {\n        fetchInviteInfo();\n    }, [code]);\n\n    const fetchInviteInfo = async () => {\n        setLoading(true);\n        setError('');\n\n        try {\n            const res = await fetch(`${API_BASE_URL}/invites/${code}/`);\n\n            //  HTML response korumas (Cloudflare/nginx 404 sayfas olabilir)\n            const contentType = res.headers.get('content-type') || '';\n            if (!contentType.includes('application/json')) {\n                console.error(' [Invite Page] Non-JSON response:', contentType);\n                setError('Davet bulunamad veya geersiz');\n                setLoading(false);\n                return;\n            }\n\n            const data = await res.json();\n\n\n            if (res.ok) {\n                setInviteInfo(data);\n            } else {\n                setError(data.error || 'Davet bulunamad');\n                console.error(' [Invite Page] Error:', data.error);\n            }\n        } catch (err) {\n            console.error(' [Invite Page] Network error:', err);\n            setError('Balant hatas. Ltfen tekrar deneyin.');\n        }\n        setLoading(false);\n    };\n\n    const handleAccept = async () => {\n        if (!isAuthenticated) {\n            toast.error(' Ltfen nce giri yapn!');\n            sessionStorage.setItem('pending_invite', code);\n            navigate('/');\n            return;\n        }\n\n        if (!token) {\n            console.error(' [Invite Page] No token found!');\n            toast.error(' Giri token\\' bulunamad. Ltfen tekrar giri yapn.');\n            navigate('/');\n            return;\n        }\n\n        setJoining(true);\n        setError('');\n\n        try {\n            // Vanity URL ise server join endpoint'ini, deilse invite accept endpoint'ini kullan\n            const isVanity = inviteInfo?.type === 'vanity';\n            const url = isVanity\n                ? `${API_BASE_URL}/servers/${inviteInfo.server.id}/join/`\n                : `${API_BASE_URL}/invites/${code}/accept/`;\n\n            const res = await fetch(url, {\n                method: 'POST',\n                headers: {\n                    'Authorization': `Bearer ${token}`,\n                    'Content-Type': 'application/json'\n                }\n            });\n\n            const data = await res.json();\n\n            if (res.ok) {\n                toast.success(` Baarl! ${data.server_name || 'Sunucu'}ya katldnz!`);\n                setJoined(true);\n\n                // Backend'den redirect URL geliyorsa ona, yoksa ana sayfaya ynlendir\n                const redirectUrl = data.redirect || '/';\n\n                setTimeout(() => {\n                    if (redirectUrl.startsWith('http')) {\n                        // External URL (r: https://pawscord.com)\n                        window.location.href = redirectUrl;\n                    } else {\n                        // Internal route (r: /)\n                        navigate(redirectUrl);\n                    }\n                }, 2000);\n            } else {\n                const errorMsg = data.error || data.message || 'Sunucuya katlma hatas';\n                console.error(' [Invite Page] Join failed:', errorMsg, data);\n                setError(errorMsg);\n                toast.error(` Hata: ${errorMsg}`);\n            }\n        } catch (err) {\n            console.error(' [Invite Page] Exception:', err);\n            const errorMsg = err.message || 'Balant hatas';\n            setError(errorMsg);\n            toast.error(` Hata: ${errorMsg}`);\n        }\n        setJoining(false);\n    };\n\n    if (loading) {\n        return (\n            <div style={styles.container}>\n                <div style={styles.backgroundGradient}></div>\n                <div style={styles.card}>\n                    <div style={styles.spinner}></div>\n                    <p style={styles.loadingText}>Davet ykleniyor...</p>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div style={styles.container}>\n                <div style={styles.backgroundGradient}></div>\n                <div style={styles.card}>\n                    <FaTimesCircle size={64} color=\"var(--error)\" />\n                    <h2 style={styles.errorTitle}>Hata</h2>\n                    <p style={styles.errorText}>{error}</p>\n                    <button onClick={() => navigate('/')} style={styles.homeButton}>\n                        Ana Sayfaya Dn\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    if (joined) {\n        return (\n            <div style={styles.container}>\n                <div style={styles.backgroundGradient}></div>\n                <div style={styles.card}>\n                    <FaCheckCircle size={64} color=\"var(--success)\" />\n                    <h2 style={styles.successTitle}>Baarl!</h2>\n                    <p style={styles.successText}>\n                        <strong>{inviteInfo.server.name}</strong> sunucusuna katldnz!\n                    </p>\n                    <p style={styles.redirectText}>Ana sayfaya ynlendiriliyorsunuz...</p>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div style={styles.container}>\n            <div style={styles.backgroundGradient}></div>\n            <div style={styles.card}>\n                {inviteInfo.server.icon && (\n                    <img\n                        src={inviteInfo.server.icon}\n                        alt={inviteInfo.server.name}\n                        style={styles.serverIcon}\n                    />\n                )}\n\n                <h1 style={styles.serverName}>\n                    <FaServer style={styles.icon} />\n                    {inviteInfo.server.name}\n                </h1>\n\n                <div style={styles.infoRow}>\n                    <FaUsers style={styles.infoIcon} />\n                    <span>{inviteInfo.server.member_count} ye</span>\n                </div>\n\n                {inviteInfo.expires_at && (\n                    <div style={styles.infoRow}>\n                        <FaClock style={styles.infoIcon} />\n                        <span>\n                            Sre: {new Date(inviteInfo.expires_at).toLocaleString('tr-TR')}\n                        </span>\n                    </div>\n                )}\n\n                {inviteInfo.max_uses > 0 && (\n                    <div style={styles.infoRow}>\n                        <span>\n                            Kullanm: {inviteInfo.uses} / {inviteInfo.max_uses}\n                        </span>\n                    </div>\n                )}\n\n                <div style={styles.inviterInfo}>\n                    Davet Eden: <strong>{inviteInfo.inviter.username}</strong>\n                </div>\n\n                <button\n                    onClick={handleAccept}\n                    disabled={joining}\n                    style={{\n                        ...styles.joinButton,\n                        ...(joining ? styles.joinButtonDisabled : {})\n                    }}\n                >\n                    {joining ? 'Katlnyor...' :\n                        !isAuthenticated ? 'Giri Yap ve Katl' :\n                            'Sunucuya Katl'}\n                </button>\n\n                {!isAuthenticated && (\n                    <p style={styles.loginHint}>\n                        * Sunucuya katlmak iin giri yapmanz gerekiyor\n                    </p>\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst styles = {\n    container: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        minHeight: '100vh',\n        background: 'var(--bg-app)',\n        padding: '20px',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    backgroundGradient: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'radial-gradient(ellipse at top, rgba(139, 92, 246, 0.15), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.15), transparent 50%)',\n        pointerEvents: 'none',\n        zIndex: 0\n    },\n    card: {\n        background: 'var(--glass-bg)',\n        backdropFilter: 'blur(20px)',\n        WebkitBackdropFilter: 'blur(20px)',\n        padding: '48px',\n        borderRadius: 'var(--radius-2xl)',\n        textAlign: 'center',\n        color: 'var(--text-primary)',\n        maxWidth: '560px',\n        width: '100%',\n        boxShadow: 'var(--shadow-2xl)',\n        border: '1px solid var(--glass-border)',\n        position: 'relative',\n        zIndex: 1,\n        animation: 'scaleIn 0.4s ease-out'\n    },\n    spinner: {\n        width: '50px',\n        height: '50px',\n        border: '3px solid var(--glass-border)',\n        borderTop: '3px solid var(--brand-primary)',\n        borderRadius: '50%',\n        animation: 'spin 0.8s linear infinite',\n        margin: '0 auto'\n    },\n    loadingText: {\n        marginTop: '24px',\n        color: 'var(--text-tertiary)',\n        fontSize: '15px',\n        fontWeight: 500\n    },\n    serverIcon: {\n        width: '120px',\n        height: '120px',\n        borderRadius: '50%',\n        marginBottom: '24px',\n        objectFit: 'cover',\n        border: '4px solid var(--glass-border)',\n        boxShadow: '0 8px 24px rgba(0, 0, 0, 0.2)',\n        transition: 'var(--transition-normal)'\n    },\n    serverName: {\n        fontSize: '32px',\n        fontWeight: 800,\n        marginBottom: '24px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '12px',\n        background: 'var(--gradient-primary)',\n        WebkitBackgroundClip: 'text',\n        WebkitTextFillColor: 'transparent',\n        backgroundClip: 'text'\n    },\n    icon: {\n        fontSize: '28px',\n        color: 'var(--brand-primary)'\n    },\n    infoRow: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '10px',\n        margin: '16px 0',\n        color: 'var(--text-secondary)',\n        fontSize: '16px',\n        fontWeight: 500,\n        padding: '12px 20px',\n        background: 'var(--bg-elevated)',\n        borderRadius: 'var(--radius-md)',\n        border: '1px solid var(--glass-border)'\n    },\n    infoIcon: {\n        fontSize: '20px',\n        color: 'var(--brand-primary)'\n    },\n    inviterInfo: {\n        marginTop: '24px',\n        marginBottom: '32px',\n        color: 'var(--text-tertiary)',\n        fontSize: '14px',\n        padding: '16px',\n        background: 'var(--bg-elevated)',\n        borderRadius: 'var(--radius-md)',\n        border: '1px solid var(--glass-border)'\n    },\n    joinButton: {\n        background: 'var(--gradient-primary)',\n        color: 'white',\n        border: 'none',\n        padding: '16px 32px',\n        borderRadius: 'var(--radius-md)',\n        cursor: 'pointer',\n        fontSize: '16px',\n        fontWeight: 700,\n        marginTop: '16px',\n        width: '100%',\n        transition: 'var(--transition-normal)',\n        boxShadow: '0 4px 20px rgba(139, 92, 246, 0.4)',\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    joinButtonDisabled: {\n        background: 'var(--bg-tertiary)',\n        cursor: 'not-allowed',\n        opacity: 0.6,\n        boxShadow: 'none'\n    },\n    loginHint: {\n        marginTop: '20px',\n        fontSize: '13px',\n        color: 'var(--warning)',\n        fontStyle: 'italic',\n        fontWeight: 500\n    },\n    errorTitle: {\n        color: 'var(--error)',\n        marginTop: '24px',\n        fontSize: '28px',\n        fontWeight: 700\n    },\n    errorText: {\n        color: 'var(--text-tertiary)',\n        margin: '24px 0',\n        fontSize: '15px',\n        lineHeight: 1.6\n    },\n    successTitle: {\n        color: 'var(--success)',\n        marginTop: '24px',\n        fontSize: '28px',\n        fontWeight: 700\n    },\n    successText: {\n        color: 'var(--text-primary)',\n        margin: '24px 0',\n        fontSize: '18px',\n        fontWeight: 600\n    },\n    redirectText: {\n        color: 'var(--text-tertiary)',\n        fontSize: '14px',\n        marginTop: '12px',\n        fontStyle: 'italic'\n    },\n    homeButton: {\n        background: 'var(--bg-elevated)',\n        color: 'var(--text-primary)',\n        border: '1px solid var(--glass-border)',\n        padding: '14px 28px',\n        borderRadius: 'var(--radius-md)',\n        cursor: 'pointer',\n        fontSize: '15px',\n        fontWeight: 600,\n        marginTop: '24px',\n        transition: 'var(--transition-normal)'\n    }\n};\n\n// Add keyframes for spinner animation\nconst styleSheet = document.createElement(\"style\");\nstyleSheet.textContent = `\n    @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n    }\n`;\ndocument.head.appendChild(styleSheet);\n\nexport default InvitePage;\n\n\n","// frontend/src/utils/lazyWithRetry.js\r\n//  Lazy load with auto-retry & reload on chunk failure\r\n// Yeni deploy sonras eski chunk'lar kaybolunca otomatik page reload yapar\r\n\r\nimport React from 'react';\r\n\r\nconst RELOAD_KEY = 'pawscord_chunk_reload';\r\nconst RELOAD_COUNT_KEY = 'pawscord_chunk_reload_count';\r\nconst RELOAD_COOLDOWN = 10000; // 10 saniye iinde tekrar reload yapma\r\nconst MAX_RELOADS = 2; // Maksimum reload says\r\n\r\n/**\r\n * Chunk load hatas m kontrol et\r\n */\r\nexport function isChunkLoadError(error) {\r\n    if (!error) return false;\r\n    const msg = error.message || error.toString();\r\n    return (\r\n        msg.includes('Failed to fetch dynamically imported module') ||\r\n        msg.includes('Loading chunk') ||\r\n        msg.includes('Loading CSS chunk') ||\r\n        msg.includes('ChunkLoadError') ||\r\n        msg.includes('Importing a module script failed') ||\r\n        msg.includes('error loading dynamically imported module')\r\n    );\r\n}\r\n\r\n/**\r\n * React.lazy() wrapper  chunk yklenemezse otomatik retry + reload\r\n * @param {Function} importFn - () => import('./Component')\r\n * @param {number} retries - Ka kez retry denensin (default: 1)\r\n */\r\nexport function lazyWithRetry(importFn, retries = 1) {\r\n    return React.lazy(() => {\r\n        return new Promise((resolve, reject) => {\r\n            const attempt = (retriesLeft) => {\r\n                importFn()\r\n                    .then(resolve)\r\n                    .catch((error) => {\r\n                        if (retriesLeft > 0 && isChunkLoadError(error)) {\r\n                            console.warn(` Chunk ykleme hatas, retry... (${retriesLeft} kalan)`);\r\n                            // Cache-bust ile tekrar dene\r\n                            setTimeout(() => attempt(retriesLeft - 1), 500);\r\n                        } else if (isChunkLoadError(error)) {\r\n                            // Tm retry'lar bitti, page reload yap\r\n                            handleChunkReload();\r\n                            reject(error);\r\n                        } else {\r\n                            reject(error);\r\n                        }\r\n                    });\r\n            };\r\n            attempt(retries);\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * Chunk hatas sonras gvenli reload\r\n * Sonsuz dngy nlemek iin cooldown var\r\n */\r\nfunction handleChunkReload() {\r\n    const lastReload = sessionStorage.getItem(RELOAD_KEY);\r\n    const reloadCount = parseInt(sessionStorage.getItem(RELOAD_COUNT_KEY) || '0', 10);\r\n    const now = Date.now();\r\n\r\n    //  Maksimum reload limiti  sonsuz dng koruma\r\n    if (reloadCount >= MAX_RELOADS) {\r\n        console.error(' Chunk reload limiti ald. Sonsuz dng engellendi.');\r\n        console.error(' Ltfen Ctrl+Shift+R ile sayfay tamamen yenileyin.');\r\n        return;\r\n    }\r\n\r\n    if (lastReload && (now - parseInt(lastReload, 10)) < RELOAD_COOLDOWN) {\r\n        console.error(' Chunk reload cooldown aktif  sonsuz dng engellendi');\r\n        return;\r\n    }\r\n\r\n    console.warn(` Yeni versiyon algland, sayfa yenileniyor... (${reloadCount + 1}/${MAX_RELOADS})`);\r\n    sessionStorage.setItem(RELOAD_KEY, now.toString());\r\n    sessionStorage.setItem(RELOAD_COUNT_KEY, (reloadCount + 1).toString());\r\n    window.location.reload();\r\n}\r\n\r\n/**\r\n * ErrorBoundary'den arlr  chunk hatasysa otomatik reload\r\n * @returns {boolean} reload yapld m\r\n */\r\nexport function handleChunkErrorInBoundary(error) {\r\n    if (isChunkLoadError(error)) {\r\n        handleChunkReload();\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport default lazyWithRetry;\r\n","// frontend/src/EnglishVoicePractice.js\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FaMicrophone, FaArrowLeft, FaRobot, FaUser, FaStop } from 'react-icons/fa';\r\nimport { useAuth } from './AuthContext';\r\nimport toast from './utils/toast';\r\n\r\nconst EnglishVoicePractice = ({ apiBaseUrl }) => {\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [messages, setMessages] = useState([]); // { sender: 'user' | 'ai', text: '...' }\r\n    const [processing, setProcessing] = useState(false);\r\n\r\n    const mediaRecorderRef = useRef(null);\r\n    const audioChunksRef = useRef([]);\r\n    const messagesEndRef = useRef(null);\r\n\r\n    // AuthContext'ten token' ekiyoruz\r\n    const { token } = useAuth();\r\n\r\n    // Mesaj gelince en alta kaydr\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages, processing]);\r\n\r\n    const startRecording = async () => {\r\n        try {\r\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n            mediaRecorderRef.current = new MediaRecorder(stream);\r\n            audioChunksRef.current = [];\r\n\r\n            mediaRecorderRef.current.ondataavailable = (event) => {\r\n                if (event.data.size > 0) audioChunksRef.current.push(event.data);\r\n            };\r\n\r\n            mediaRecorderRef.current.onstop = handleStop;\r\n            mediaRecorderRef.current.start();\r\n            setIsRecording(true);\r\n        } catch (err) {\r\n            toast.error(\" Mikrofon izni gerekli!\");\r\n        }\r\n    };\r\n\r\n    const stopRecording = () => {\r\n        if (mediaRecorderRef.current && isRecording) {\r\n            mediaRecorderRef.current.stop();\r\n            setIsRecording(false);\r\n        }\r\n    };\r\n\r\n    const handleStop = async () => {\r\n        setProcessing(true);\r\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\r\n\r\n        // Sesi Backend'e Gnder\r\n        const formData = new FormData();\r\n        formData.append('audio', audioBlob, 'voice.webm');\r\n\r\n        try {\r\n            // AI Sohbet Endpoint'ine istek atyoruz\r\n            const res = await fetch(`${apiBaseUrl}/eng-learn/voice-chat/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                    // Content-Type EKLENMEMELDR (FormData otomatik ekler)\r\n                },\r\n                body: formData\r\n            });\r\n\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n\r\n                // 1. Mesajlar ekle\r\n                setMessages(prev => [\r\n                    ...prev,\r\n                    { sender: 'user', text: data.user_text },\r\n                    { sender: 'ai', text: data.ai_text }\r\n                ]);\r\n\r\n                // 2. Sesi al (Base64'ten)\r\n                const audio = new Audio(`data:audio/mp3;base64,${data.audio_base64}`);\r\n                audio.play();\r\n            } else {\r\n                console.error(\"Sunucu hatas:\", res.status);\r\n                toast.error(\" Anlalamad veya hata olutu.\");\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n            toast.error(\" Balant hatas.\");\r\n        } finally {\r\n            setProcessing(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.header}>\r\n                <Link to=\"/eng-learn\" style={styles.backBtn}><FaArrowLeft /> Geri</Link>\r\n                <h2>AI ile Konu (Speaking)</h2>\r\n            </div>\r\n\r\n            <div style={styles.chatArea}>\r\n                {messages.length === 0 && (\r\n                    <div style={styles.emptyState}>\r\n                        <FaRobot size={60} color=\"#5865f2\" style={{marginBottom: 20}} />\r\n                        <h3>ngilizce Pratik Yap</h3>\r\n                        <p>Mikrofona basl tut ve konumaya bala.</p>\r\n                        <small style={{color: '#72767d'}}>\"Hello, how are you?\" diyebilirsin.</small>\r\n                    </div>\r\n                )}\r\n\r\n                {messages.map((msg, i) => (\r\n                    <div key={i} style={{\r\n                        ...styles.messageBubble,\r\n                        alignSelf: msg.sender === 'user' ? 'flex-end' : 'flex-start',\r\n                        backgroundColor: msg.sender === 'user' ? '#5865f2' : '#2b2d31',\r\n                        color: 'white',\r\n                        borderBottomRightRadius: msg.sender === 'user' ? '0' : '12px',\r\n                        borderBottomLeftRadius: msg.sender === 'ai' ? '0' : '12px',\r\n                    }}>\r\n                        <div style={styles.msgHeader}>\r\n                            {msg.sender === 'user' ? <FaUser size={12}/> : <FaRobot size={12}/>}\r\n                            <span style={{marginLeft: 5, fontSize:'0.8em', fontWeight: 'bold'}}>{msg.sender === 'user' ? 'Sen' : 'AI retmen'}</span>\r\n                        </div>\r\n                        {msg.text}\r\n                    </div>\r\n                ))}\r\n\r\n                {processing && (\r\n                    <div style={{alignSelf: 'flex-start', color:'#949ba4', marginLeft: 10, fontStyle: 'italic'}}>\r\n                        Yazyor ve seslendiriyor...\r\n                    </div>\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            <div style={styles.controls}>\r\n                <button\r\n                    onMouseDown={startRecording}\r\n                    onMouseUp={stopRecording}\r\n                    onTouchStart={startRecording}\r\n                    onTouchEnd={stopRecording}\r\n                    style={{\r\n                        ...styles.micButton,\r\n                        backgroundColor: isRecording ? '#f04747' : '#5865f2',\r\n                        transform: isRecording ? 'scale(1.1)' : 'scale(1)'\r\n                    }}\r\n                >\r\n                    {isRecording ? <FaStop size={24} /> : <FaMicrophone size={30} />}\r\n                </button>\r\n                <p style={{marginTop: 15, color: '#949ba4', fontSize: '0.9em'}}>\r\n                    {isRecording ? 'Dinliyor... (Braknca Gnderir)' : 'Basl Tut ve Konu'}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex', flexDirection: 'column', height: '100%', backgroundColor: '#313338', color: 'white',\r\n        padding: '20px', boxSizing: 'border-box', fontFamily: 'Poppins, sans-serif'\r\n    },\r\n    header: { display: 'flex', alignItems: 'center', gap: '15px', marginBottom: '20px', borderBottom: '1px solid #1f2023', paddingBottom: '15px' },\r\n    backBtn: { color: '#b9bbbe', fontSize: '1em', textDecoration: 'none', display: 'flex', alignItems: 'center', gap: '5px', fontWeight: '600' },\r\n\r\n    chatArea: {\r\n        flex: 1, overflowY: 'auto', display: 'flex', flexDirection: 'column', gap: '15px', paddingBottom: '20px',\r\n        paddingRight: '5px' // Scrollbar iin\r\n    },\r\n    emptyState: { display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', height: '100%', color: '#949ba4', opacity: 0.8, textAlign: 'center' },\r\n\r\n    messageBubble: {\r\n        maxWidth: '85%', padding: '15px', borderRadius: '12px', fontSize: '1em', lineHeight: '1.5',\r\n        boxShadow: '0 2px 5px rgba(0,0,0,0.1)', position: 'relative'\r\n    },\r\n    msgHeader: { display: 'flex', alignItems: 'center', marginBottom: '5px', opacity: 0.8 },\r\n\r\n    controls: { display: 'flex', flexDirection: 'column', alignItems: 'center', paddingTop: '20px', borderTop: '1px solid #1f2023' },\r\n    micButton: {\r\n        width: '80px', height: '80px', borderRadius: '50%', border: 'none', color: 'white',\r\n        display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer',\r\n        transition: 'all 0.1s ease', boxShadow: '0 5px 20px rgba(0,0,0,0.4)'\r\n    }\r\n};\r\n\r\nexport default EnglishVoicePractice;\r\n\r\n","// frontend/src/data/pronunciationList.js\r\n\r\nexport const pronunciationList = [\r\n    // ---  KOLAY (Isnma Turlar) ---\r\n    { text: \"Hello\", difficulty: \"Kolay\" },\r\n    { text: \"Water\", difficulty: \"Kolay\" },\r\n    { text: \"Friend\", difficulty: \"Kolay\" },\r\n    { text: \"Family\", difficulty: \"Kolay\" },\r\n    { text: \"Music\", difficulty: \"Kolay\" },\r\n    { text: \"School\", difficulty: \"Kolay\" },\r\n    { text: \"Computer\", difficulty: \"Kolay\" },\r\n    { text: \"Beautiful\", difficulty: \"Kolay\" },\r\n    { text: \"Together\", difficulty: \"Kolay\" },\r\n    { text: \"Morning\", difficulty: \"Kolay\" },\r\n    { text: \"Happy\", difficulty: \"Kolay\" },\r\n    { text: \"Garden\", difficulty: \"Kolay\" },\r\n    { text: \"People\", difficulty: \"Kolay\" },\r\n    { text: \"Coffee\", difficulty: \"Kolay\" },\r\n    { text: \"Purple\", difficulty: \"Kolay\" },\r\n\r\n    // ---  ORTA ( ve Gnlk Hayat) ---\r\n    { text: \"Technology\", difficulty: \"Orta\" },\r\n    { text: \"Development\", difficulty: \"Orta\" },\r\n    { text: \"Environment\", difficulty: \"Orta\" },\r\n    { text: \"Successfully\", difficulty: \"Orta\" },\r\n    { text: \"Opportunity\", difficulty: \"Orta\" },\r\n    { text: \"Government\", difficulty: \"Orta\" },\r\n    { text: \"Communication\", difficulty: \"Orta\" },\r\n    { text: \"Experience\", difficulty: \"Orta\" },\r\n    { text: \"Available\", difficulty: \"Orta\" },\r\n    { text: \"Management\", difficulty: \"Orta\" },\r\n    { text: \"International\", difficulty: \"Orta\" },\r\n    { text: \"Recommendation\", difficulty: \"Orta\" },\r\n    { text: \"Responsibility\", difficulty: \"Orta\" },\r\n    { text: \"Understand\", difficulty: \"Orta\" },\r\n    { text: \"Literature\", difficulty: \"Orta\" },\r\n    { text: \"Necessary\", difficulty: \"Orta\" },\r\n    { text: \"Vocabulary\", difficulty: \"Orta\" },\r\n    { text: \"Interesting\", difficulty: \"Orta\" },\r\n    { text: \"Comfortable\", difficulty: \"Orta\" },\r\n    { text: \"Vegetable\", difficulty: \"Orta\" },\r\n\r\n    // ---  ZOR (Dikkat Gerektirenler) ---\r\n    { text: \"Squirrel\", difficulty: \"Zor\" },\r\n    { text: \"Schedule\", difficulty: \"Zor\" },\r\n    { text: \"Queue\", difficulty: \"Zor\" },\r\n    { text: \"Rural\", difficulty: \"Zor\" },\r\n    { text: \"Brewery\", difficulty: \"Zor\" },\r\n    { text: \"Phenomenon\", difficulty: \"Zor\" },\r\n    { text: \"February\", difficulty: \"Zor\" },\r\n    { text: \"Library\", difficulty: \"Zor\" },\r\n    { text: \"Specific\", difficulty: \"Zor\" },\r\n    { text: \"Regularly\", difficulty: \"Zor\" },\r\n    { text: \"Probably\", difficulty: \"Zor\" },\r\n    { text: \"Algorithm\", difficulty: \"Zor\" },\r\n    { text: \"Hierarchical\", difficulty: \"Zor\" },\r\n    { text: \"Maintenance\", difficulty: \"Zor\" },\r\n    { text: \"Pronunciation\", difficulty: \"Zor\" },\r\n    { text: \"Throughout\", difficulty: \"Zor\" },\r\n    { text: \"Entrepreneur\", difficulty: \"Zor\" },\r\n    { text: \"Simultaneously\", difficulty: \"Zor\" },\r\n    { text: \"Mischievous\", difficulty: \"Zor\" },\r\n    { text: \"Chaos\", difficulty: \"Zor\" },\r\n    { text: \"Recipe\", difficulty: \"Zor\" },\r\n\r\n    // ---  EFSANE (Telaffuz Kabuslar) ---\r\n    { text: \"Worcestershire\", difficulty: \"Efsane\" },\r\n    { text: \"Colonel\", difficulty: \"Efsane\" },\r\n    { text: \"Miscellaneous\", difficulty: \"Efsane\" },\r\n    { text: \"Anesthetist\", difficulty: \"Efsane\" },\r\n    { text: \"Otorhinolaryngologist\", difficulty: \"Efsane\" },\r\n    { text: \"Isthmus\", difficulty: \"Efsane\" },\r\n    { text: \"Anemone\", difficulty: \"Efsane\" },\r\n    { text: \"Synecdoche\", difficulty: \"Efsane\" },\r\n    { text: \"Onomatopoeia\", difficulty: \"Efsane\" },\r\n    { text: \"Conscientious\", difficulty: \"Efsane\" },\r\n    { text: \"Defibrillator\", difficulty: \"Efsane\" },\r\n    { text: \"Antidisestablishmentarianism\", difficulty: \"Efsane\" },\r\n\r\n    // ---  CMLELER (Akclk Testi) ---\r\n    { text: \"How are you doing today?\", difficulty: \"Cmle\" },\r\n    { text: \"I would like to order a coffee.\", difficulty: \"Cmle\" },\r\n    { text: \"The quick brown fox jumps over the lazy dog.\", difficulty: \"Cmle\" },\r\n    { text: \"Can you please repeat that?\", difficulty: \"Cmle\" },\r\n    { text: \"I am learning to speak English fluently.\", difficulty: \"Cmle\" },\r\n    { text: \"It is raining cats and dogs outside.\", difficulty: \"Cmle\" },\r\n    { text: \"Actions speak louder than words.\", difficulty: \"Cmle\" },\r\n    { text: \"I need to schedule a meeting for tomorrow.\", difficulty: \"Cmle\" },\r\n    { text: \"What do you do for a living?\", difficulty: \"Cmle\" },\r\n\r\n    // ---  TEKERLEMELER (Tongue Twisters) ---\r\n    { text: \"She sells seashells by the seashore.\", difficulty: \"Tekerleme\" },\r\n    { text: \"Red lorry, yellow lorry.\", difficulty: \"Tekerleme\" },\r\n    { text: \"Peter Piper picked a peck of pickled peppers.\", difficulty: \"Tekerleme\" },\r\n    { text: \"How much wood would a woodchuck chuck?\", difficulty: \"Tekerleme\" },\r\n    { text: \"Unique New York.\", difficulty: \"Tekerleme\" },\r\n    { text: \"Fuzzy Wuzzy was a bear.\", difficulty: \"Tekerleme\" },\r\n    { text: \"Which wristwatches are Swiss wristwatches?\", difficulty: \"Tekerleme\" }\r\n];\r\n\r\n","// frontend/src/PronunciationPage.js\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FaMicrophone, FaArrowLeft, FaVolumeUp, FaForward, FaRedo } from 'react-icons/fa';\r\nimport { useAuth } from './AuthContext';\r\nimport toast from './utils/toast';\r\n\r\n//  YEN LSTEY IMPORT EDYORUZ\r\nimport { pronunciationList } from './data/pronunciationList';\r\n\r\nconst PronunciationPage = ({ apiBaseUrl }) => {\r\n    const { token } = useAuth();\r\n\r\n    // State'ler\r\n    const [currentCard, setCurrentCard] = useState(null);\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [processing, setProcessing] = useState(false);\r\n    const [status, setStatus] = useState('idle'); // idle, success, error\r\n    const [feedbackMsg, setFeedbackMsg] = useState(\"\");\r\n    const [score, setScore] = useState(0);\r\n\r\n    const mediaRecorderRef = useRef(null);\r\n    const audioChunksRef = useRef([]);\r\n\r\n    // lk alta rastgele kelime se\r\n    useEffect(() => {\r\n        pickRandomCard();\r\n    }, []);\r\n\r\n    const pickRandomCard = () => {\r\n        //  IMPORT ETTMZ LSTEY KULLANIYORUZ\r\n        const randomIndex = Math.floor(Math.random() * pronunciationList.length);\r\n        setCurrentCard(pronunciationList[randomIndex]);\r\n        setStatus('idle');\r\n        setFeedbackMsg(\"\");\r\n    };\r\n\r\n    // ... (Geri kalan tm fonksiyonlar ve return ksm AYNEN kalacak, bir deiiklik yok) ...\r\n\r\n    const playPronunciation = async () => {\r\n        if (!currentCard) return;\r\n        try {\r\n            const res = await fetch(`${apiBaseUrl}/eng-learn/speak-text/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ text: currentCard.text })\r\n            });\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                const audio = new Audio(`data:audio/mp3;base64,${data.audio_base64}`);\r\n                audio.play();\r\n            }\r\n        } catch (e) { console.error(e); }\r\n    };\r\n\r\n    const startRecording = async () => {\r\n        setFeedbackMsg(\"\");\r\n        setStatus('recording');\r\n        try {\r\n            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n            mediaRecorderRef.current = new MediaRecorder(stream);\r\n            audioChunksRef.current = [];\r\n\r\n            mediaRecorderRef.current.ondataavailable = (e) => {\r\n                if (e.data.size > 0) audioChunksRef.current.push(e.data);\r\n            };\r\n            mediaRecorderRef.current.onstop = handleStop;\r\n            mediaRecorderRef.current.start();\r\n            setIsRecording(true);\r\n        } catch (err) {\r\n            toast.error(\" Mikrofon izni gerekli!\");\r\n            setStatus('idle');\r\n        }\r\n    };\r\n\r\n    const stopRecording = () => {\r\n        if (mediaRecorderRef.current && isRecording) {\r\n            mediaRecorderRef.current.stop();\r\n            setIsRecording(false);\r\n        }\r\n    };\r\n\r\n    const handleStop = async () => {\r\n        setProcessing(true);\r\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/webm' });\r\n        const formData = new FormData();\r\n        formData.append('audio', audioBlob, 'voice.webm');\r\n        formData.append('target_text', currentCard.text);\r\n\r\n        try {\r\n            const res = await fetch(`${apiBaseUrl}/eng-learn/check-pronunciation/`, {\r\n                method: 'POST',\r\n                headers: { 'Authorization': `Bearer ${token}` },\r\n                body: formData\r\n            });\r\n\r\n            const data = await res.json();\r\n\r\n            if (data.is_correct) {\r\n                setStatus('success');\r\n                setFeedbackMsg(`Harika!  (${data.spoken_text})`);\r\n                setScore(s => s + 1);\r\n            } else {\r\n                setStatus('error');\r\n                setFeedbackMsg(`Alglanan: \"${data.spoken_text || '???'}\" - Tekrar dene!`);\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n            setFeedbackMsg(\"Sunucu hatas.\");\r\n            setStatus('error');\r\n        } finally {\r\n            setProcessing(false);\r\n        }\r\n    };\r\n\r\n    if (!currentCard) return <div style={styles.container}>Ykleniyor...</div>;\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.header}>\r\n                <Link to=\"/eng-learn\" style={styles.backBtn}><FaArrowLeft /> k</Link>\r\n                <div style={styles.scoreBadge}>Skor: {score}</div>\r\n            </div>\r\n\r\n            <div style={styles.mainContent}>\r\n\r\n                <div style={{\r\n                    ...styles.card,\r\n                    borderColor: status === 'success' ? '#43b581' : (status === 'error' ? '#f04747' : 'transparent'),\r\n                    boxShadow: status === 'success' ? '0 0 30px rgba(67, 181, 129, 0.3)' : (status === 'error' ? '0 0 30px rgba(240, 71, 71, 0.3)' : '0 10px 30px rgba(0,0,0,0.3)')\r\n                }}>\r\n                    {/* Zorluk Rozetinin Rengi Dinamik Olsun */}\r\n                    <span style={{\r\n                        ...styles.difficulty,\r\n                        backgroundColor: currentCard.difficulty === 'Efsane' ? '#eb459e' : (currentCard.difficulty === 'Zor' ? '#f04747' : '#202225'),\r\n                        color: currentCard.difficulty === 'Efsane' || currentCard.difficulty === 'Zor' ? 'white' : '#949ba4'\r\n                    }}>\r\n                        {currentCard.difficulty}\r\n                    </span>\r\n\r\n                    <h1 style={styles.wordText}>{currentCard.text}</h1>\r\n\r\n                    <div style={{ height: '30px', marginTop: '10px', color: status === 'success' ? '#43b581' : '#f04747', fontWeight: 'bold' }}>\r\n                        {processing ? \"Analiz ediliyor...\" : feedbackMsg}\r\n                    </div>\r\n\r\n                    <div style={styles.controls}>\r\n                        <button onClick={playPronunciation} style={styles.iconButton} title=\"Dorusunu Dinle\">\r\n                            <FaVolumeUp size={24} />\r\n                        </button>\r\n\r\n                        <button\r\n                            onMouseDown={startRecording}\r\n                            onMouseUp={stopRecording}\r\n                            onTouchStart={startRecording}\r\n                            onTouchEnd={stopRecording}\r\n                            style={{\r\n                                ...styles.micButton,\r\n                                backgroundColor: isRecording ? '#f04747' : (status === 'success' ? '#43b581' : '#5865f2'),\r\n                                transform: isRecording ? 'scale(1.1)' : 'scale(1)'\r\n                            }}\r\n                        >\r\n                            <FaMicrophone size={32} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <p style={styles.hint}>\r\n                        {isRecording ? \"Dinliyor...\" : \"Mikrofona basl tut ve oku\"}\r\n                    </p>\r\n                </div>\r\n\r\n                <div style={styles.bottomNav}>\r\n                    <button onClick={pickRandomCard} style={styles.skipButton}>\r\n                        {status === 'success' ? (\r\n                            <>Sonraki Kelime <FaForward /></>\r\n                        ) : (\r\n                            <>Bunu Ge <FaRedo /></>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex', flexDirection: 'column', height: '100%', backgroundColor: '#1e1f22', color: 'white',\r\n        padding: '20px', boxSizing: 'border-box', fontFamily: 'Poppins, sans-serif', alignItems: 'center'\r\n    },\r\n    header: {\r\n        width: '100%', maxWidth: '600px', display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '40px'\r\n    },\r\n    backBtn: { color: '#b9bbbe', textDecoration: 'none', display: 'flex', alignItems: 'center', gap: '8px', fontWeight: '600' },\r\n    scoreBadge: { backgroundColor: '#f0b232', color: '#000', padding: '5px 15px', borderRadius: '20px', fontWeight: 'bold' },\r\n\r\n    mainContent: {\r\n        flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', width: '100%'\r\n    },\r\n    card: {\r\n        backgroundColor: '#2b2d31', padding: '40px', borderRadius: '24px', width: '100%', maxWidth: '500px', // Kart biraz genilettik\r\n        display: 'flex', flexDirection: 'column', alignItems: 'center', textAlign: 'center',\r\n        border: '3px solid transparent', transition: 'all 0.3s ease'\r\n    },\r\n    difficulty: {\r\n        padding: '4px 12px', borderRadius: '12px', fontSize: '0.85em', marginBottom: '20px', fontWeight: 'bold'\r\n    },\r\n    wordText: {\r\n        fontSize: '2.2em', fontWeight: '800', margin: '0 0 10px 0', color: '#fff', letterSpacing: '1px', lineHeight: '1.3'\r\n    },\r\n    controls: {\r\n        display: 'flex', alignItems: 'center', gap: '30px', marginTop: '30px'\r\n    },\r\n    iconButton: {\r\n        width: '50px', height: '50px', borderRadius: '50%', border: '2px solid #40444b',\r\n        backgroundColor: 'transparent', color: '#b9bbbe', cursor: 'pointer',\r\n        display: 'flex', alignItems: 'center', justifyContent: 'center', transition: 'all 0.2s'\r\n    },\r\n    micButton: {\r\n        width: '80px', height: '80px', borderRadius: '50%', border: 'none', color: 'white',\r\n        display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer',\r\n        boxShadow: '0 5px 20px rgba(0,0,0,0.4)', transition: 'all 0.1s ease'\r\n    },\r\n    hint: { marginTop: '20px', color: '#72767d', fontSize: '0.9em' },\r\n\r\n    bottomNav: { marginTop: '50px' },\r\n    skipButton: {\r\n        background: 'transparent', border: 'none', color: '#b9bbbe', fontSize: '1.1em', fontWeight: '600',\r\n        cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '10px', padding: '10px 20px',\r\n        borderRadius: '8px', transition: 'background 0.2s',\r\n        ':hover': { backgroundColor: 'rgba(255,255,255,0.05)' }\r\n    }\r\n};\r\n\r\nexport default React.memo(PronunciationPage);\r\n\r\n","// frontend/src/SpotifyCallback.js\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { FaCheckCircle, FaTimesCircle, FaSpinner } from 'react-icons/fa';\r\n\r\nconst SpotifyCallback = ({ apiBaseUrl }) => {\r\n    const [status, setStatus] = useState('loading'); // loading, success, error\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        const queryParams = new URLSearchParams(location.search);\r\n        const code = queryParams.get('code');\r\n        const error = queryParams.get('error');\r\n\r\n        if (error) {\r\n            setStatus('error');\r\n            return;\r\n        }\r\n\r\n        if (code) {\r\n            const token = localStorage.getItem('access_token');\r\n\r\n            fetch(`${apiBaseUrl}/spotify/callback/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({ code })\r\n            })\r\n                .then(res => {\r\n                    if (res.ok) {\r\n                        setStatus('success');\r\n                        //  DZELTME: Sert yenileme yerine yumuak gei yapyoruz\r\n                        setTimeout(() => {\r\n                            navigate('/', { replace: true });\r\n                        }, 1500);\r\n                    } else {\r\n                        setStatus('error');\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.error(err);\r\n                    setStatus('error');\r\n                });\r\n        }\r\n    }, [location, apiBaseUrl, navigate]);\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.card}>\r\n                {status === 'loading' && (\r\n                    <>\r\n                        <FaSpinner className=\"spin\" size={50} color=\"#1db954\" style={{ marginBottom: 20 }} />\r\n                        <h2>Spotify Balanyor...</h2>\r\n                        <p>Token alnyor, ltfen bekleyin.</p>\r\n                    </>\r\n                )}\r\n\r\n                {status === 'success' && (\r\n                    <>\r\n                        <FaCheckCircle size={60} color=\"#1db954\" style={{ marginBottom: 20 }} />\r\n                        <h2 style={{ color: '#1db954' }}>Baarl!</h2>\r\n                        <p>Hesabn baland. Sohbet ekranna dnlyor...</p>\r\n                    </>\r\n                )}\r\n\r\n                {status === 'error' && (\r\n                    <>\r\n                        <FaTimesCircle size={60} color=\"#f04747\" style={{ marginBottom: 20 }} />\r\n                        <h2 style={{ color: '#f04747' }}>Hata Olutu</h2>\r\n                        <p>Balant kurulamad.</p>\r\n                        <button onClick={() => navigate('/')} style={styles.button}>Geri Dn</button>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100dvh',\r\n        backgroundColor: '#191414', color: 'white', fontFamily: 'Poppins, sans-serif'\r\n    },\r\n    card: {\r\n        backgroundColor: '#282828', padding: '40px', borderRadius: '16px', textAlign: 'center',\r\n        boxShadow: '0 10px 30px rgba(0,0,0,0.5)', maxWidth: '400px', width: '90%'\r\n    },\r\n    button: {\r\n        marginTop: '20px', padding: '10px 20px', borderRadius: '20px', border: 'none',\r\n        backgroundColor: '#1db954', color: 'white', fontWeight: 'bold', cursor: 'pointer'\r\n    }\r\n};\r\n\r\nconst styleSheet = document.createElement(\"style\");\r\nstyleSheet.innerText = `\r\n  .spin { animation: spin 1s linear infinite; }\r\n  @keyframes spin { 100% { transform: rotate(360deg); } }\r\n`;\r\ndocument.head.appendChild(styleSheet);\r\n\r\nexport default React.memo(SpotifyCallback);\r\n\r\n","// frontend/src/components/SignalNotification.js\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useGlobalWebSocket } from '../GlobalWebSocketContext'; // Context'i ie aktar\r\nimport { FaTimes, FaBitcoin, FaArrowRight } from 'react-icons/fa';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst SignalNotification = () => {\r\n    const { globalData } = useGlobalWebSocket(); // Global veriyi dinle\r\n    const [notification, setNotification] = useState(null);\r\n    const [visible, setVisible] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (!globalData) return;\r\n\r\n        // Sadece \"Signal Bot\"tan gelen mesajlar yakala\r\n        if (globalData.type === 'chat_message_handler' && globalData.username === ' Signal Bot') {\r\n\r\n            // Mesaj ieriini analiz et (Coin ad, yn vb.)\r\n            const lines = globalData.content.split('\\n');\r\n            const coinLine = lines.find(l => l.includes('')) || \"Bilinmiyor\";\r\n            const dirLine = lines.find(l => l.includes('')) || \"\";\r\n\r\n            const newNotif = {\r\n                title: 'YEN KRPTO SNYAL! ',\r\n                coin: coinLine.replace('', '').replace(/\\*/g, '').trim(),\r\n                direction: dirLine.includes('LONG') ? 'YKSEL (LONG)' : 'D (SHORT)',\r\n                isLong: dirLine.includes('LONG'),\r\n                raw: globalData\r\n            };\r\n\r\n            setNotification(newNotif);\r\n            setVisible(true);\r\n\r\n            // 5 saniye sonra otomatik kapat\r\n            const timer = setTimeout(() => {\r\n                setVisible(false);\r\n            }, 8000);\r\n\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [globalData]);\r\n\r\n    if (!visible || !notification) return null;\r\n\r\n    const handleClick = () => {\r\n        setVisible(false);\r\n        navigate('/'); // Tklaynca ana sohbet ekranna git\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container} className=\"slide-in-notification\">\r\n            <div style={styles.iconBox}>\r\n                <FaBitcoin size={24} color=\"#f0b232\" />\r\n            </div>\r\n\r\n            <div style={styles.content} onClick={handleClick}>\r\n                <h4 style={styles.title}>{notification.title}</h4>\r\n                <div style={styles.details}>\r\n                    <span style={styles.coinName}>{notification.coin}</span>\r\n                    <span style={{\r\n                        ...styles.directionBadge,\r\n                        backgroundColor: notification.isLong ? 'rgba(35, 165, 89, 0.2)' : 'rgba(240, 71, 71, 0.2)',\r\n                        color: notification.isLong ? '#23a559' : '#da373c'\r\n                    }}>\r\n                        {notification.direction}\r\n                    </span>\r\n                </div>\r\n                <span style={styles.hint}>Detaylar iin tkla <FaArrowRight size={10} /></span>\r\n            </div>\r\n\r\n            <button onClick={(e) => { e.stopPropagation(); setVisible(false); }} style={styles.closeButton}>\r\n                <FaTimes />\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    container: {\r\n        position: 'fixed',\r\n        top: '20px',\r\n        right: '20px',\r\n        width: '320px',\r\n        backgroundColor: '#1e1f22',\r\n        borderRadius: '8px',\r\n        boxShadow: '0 8px 20px rgba(0,0,0,0.5)',\r\n        borderLeft: '5px solid #f0b232',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: '15px',\r\n        zIndex: 99999, // En stte\r\n        cursor: 'pointer',\r\n        transition: 'transform 0.3s ease-out',\r\n    },\r\n    iconBox: {\r\n        marginRight: '15px',\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    content: {\r\n        flex: 1,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    title: {\r\n        margin: 0,\r\n        color: '#fff',\r\n        fontSize: '0.95em',\r\n        fontWeight: 'bold',\r\n        marginBottom: '5px'\r\n    },\r\n    details: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        marginBottom: '5px'\r\n    },\r\n    coinName: {\r\n        color: '#dcddde',\r\n        fontWeight: 'bold',\r\n        fontSize: '1.1em'\r\n    },\r\n    directionBadge: {\r\n        fontSize: '0.75em',\r\n        padding: '2px 6px',\r\n        borderRadius: '4px',\r\n        fontWeight: 'bold'\r\n    },\r\n    hint: {\r\n        fontSize: '0.7em',\r\n        color: '#949ba4',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '5px'\r\n    },\r\n    closeButton: {\r\n        background: 'none',\r\n        border: 'none',\r\n        color: '#949ba4',\r\n        cursor: 'pointer',\r\n        padding: '5px',\r\n        marginLeft: '10px',\r\n        fontSize: '1em'\r\n    }\r\n};\r\n\r\n// Animasyon iin CSS ekle\r\nconst styleSheet = document.createElement(\"style\");\r\nstyleSheet.innerText = `\r\n  @keyframes slideInRight {\r\n    from { transform: translateX(100%); opacity: 0; }\r\n    to { transform: translateX(0); opacity: 1; }\r\n  }\r\n  .slide-in-notification {\r\n    animation: slideInRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;\r\n  }\r\n`;\r\ndocument.head.appendChild(styleSheet);\r\n\r\nexport default SignalNotification;\r\n\r\n","'use client'\nimport React, { useState, useRef, useEffect, createContext, useMemo, useContext, useCallback } from 'react';\n\nfunction useLoadGsiScript(options = {}) {\r\n    const { nonce, onScriptLoadSuccess, onScriptLoadError } = options;\r\n    const [scriptLoadedSuccessfully, setScriptLoadedSuccessfully] = useState(false);\r\n    const onScriptLoadSuccessRef = useRef(onScriptLoadSuccess);\r\n    onScriptLoadSuccessRef.current = onScriptLoadSuccess;\r\n    const onScriptLoadErrorRef = useRef(onScriptLoadError);\r\n    onScriptLoadErrorRef.current = onScriptLoadError;\r\n    useEffect(() => {\r\n        const scriptTag = document.createElement('script');\r\n        scriptTag.src = 'https://accounts.google.com/gsi/client';\r\n        scriptTag.async = true;\r\n        scriptTag.defer = true;\r\n        scriptTag.nonce = nonce;\r\n        scriptTag.onload = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(true);\r\n            (_a = onScriptLoadSuccessRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadSuccessRef);\r\n        };\r\n        scriptTag.onerror = () => {\r\n            var _a;\r\n            setScriptLoadedSuccessfully(false);\r\n            (_a = onScriptLoadErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onScriptLoadErrorRef);\r\n        };\r\n        document.body.appendChild(scriptTag);\r\n        return () => {\r\n            document.body.removeChild(scriptTag);\r\n        };\r\n    }, [nonce]);\r\n    return scriptLoadedSuccessfully;\r\n}\n\nconst GoogleOAuthContext = createContext(null);\r\nfunction GoogleOAuthProvider({ clientId, nonce, onScriptLoadSuccess, onScriptLoadError, children, }) {\r\n    const scriptLoadedSuccessfully = useLoadGsiScript({\r\n        nonce,\r\n        onScriptLoadSuccess,\r\n        onScriptLoadError,\r\n    });\r\n    const contextValue = useMemo(() => ({\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n    }), [clientId, scriptLoadedSuccessfully]);\r\n    return (React.createElement(GoogleOAuthContext.Provider, { value: contextValue }, children));\r\n}\r\nfunction useGoogleOAuth() {\r\n    const context = useContext(GoogleOAuthContext);\r\n    if (!context) {\r\n        throw new Error('Google OAuth components must be used within GoogleOAuthProvider');\r\n    }\r\n    return context;\r\n}\n\nfunction extractClientId(credentialResponse) {\r\n    var _a;\r\n    const clientId = (_a = credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.clientId) !== null && _a !== void 0 ? _a : credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.client_id;\r\n    return clientId;\r\n}\n\nconst containerHeightMap = { large: 40, medium: 32, small: 20 };\r\nfunction GoogleLogin({ onSuccess, onError, useOneTap, promptMomentNotification, type = 'standard', theme = 'outline', size = 'large', text, shape, logo_alignment, width, locale, click_listener, containerProps, ...props }) {\r\n    const btnContainerRef = useRef(null);\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                const { credential, select_by } = credentialResponse;\r\n                onSuccessRef.current({\r\n                    credential,\r\n                    clientId: extractClientId(credentialResponse),\r\n                    select_by,\r\n                });\r\n            },\r\n            ...props,\r\n        });\r\n        (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.renderButton(btnContainerRef.current, {\r\n            type,\r\n            theme,\r\n            size,\r\n            text,\r\n            shape,\r\n            logo_alignment,\r\n            width,\r\n            locale,\r\n            click_listener,\r\n        });\r\n        if (useOneTap)\r\n            (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a, _b, _c;\r\n            if (useOneTap)\r\n                (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        useOneTap,\r\n        type,\r\n        theme,\r\n        size,\r\n        text,\r\n        shape,\r\n        logo_alignment,\r\n        width,\r\n        locale,\r\n    ]);\r\n    return (React.createElement(\"div\", { ...containerProps, ref: btnContainerRef, style: { height: containerHeightMap[size], ...containerProps === null || containerProps === void 0 ? void 0 : containerProps.style } }));\r\n}\n\nfunction googleLogout() {\r\n    var _a, _b, _c;\r\n    (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.disableAutoSelect();\r\n}\n\n/* eslint-disable import/export */\r\nfunction useGoogleLogin({ flow = 'implicit', scope = '', onSuccess, onError, onNonOAuthError, overrideScope, state, ...props }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const clientRef = useRef();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const onNonOAuthErrorRef = useRef(onNonOAuthError);\r\n    onNonOAuthErrorRef.current = onNonOAuthError;\r\n    useEffect(() => {\r\n        var _a, _b;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        const clientMethod = flow === 'implicit' ? 'initTokenClient' : 'initCodeClient';\r\n        const client = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2[clientMethod]({\r\n            client_id: clientId,\r\n            scope: overrideScope ? scope : `openid profile email ${scope}`,\r\n            callback: (response) => {\r\n                var _a, _b;\r\n                if (response.error)\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef, response);\r\n                (_b = onSuccessRef.current) === null || _b === void 0 ? void 0 : _b.call(onSuccessRef, response);\r\n            },\r\n            error_callback: (nonOAuthError) => {\r\n                var _a;\r\n                (_a = onNonOAuthErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onNonOAuthErrorRef, nonOAuthError);\r\n            },\r\n            state,\r\n            ...props,\r\n        });\r\n        clientRef.current = client;\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [clientId, scriptLoadedSuccessfully, flow, scope, state]);\r\n    const loginImplicitFlow = useCallback((overrideConfig) => { var _a; return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestAccessToken(overrideConfig); }, []);\r\n    const loginAuthCodeFlow = useCallback(() => { var _a; return (_a = clientRef.current) === null || _a === void 0 ? void 0 : _a.requestCode(); }, []);\r\n    return flow === 'implicit' ? loginImplicitFlow : loginAuthCodeFlow;\r\n}\n\nfunction useGoogleOneTapLogin({ onSuccess, onError, promptMomentNotification, cancel_on_tap_outside, prompt_parent_id, state_cookie_domain, hosted_domain, use_fedcm_for_prompt = false, use_fedcm_for_button = false, disabled, auto_select, }) {\r\n    const { clientId, scriptLoadedSuccessfully } = useGoogleOAuth();\r\n    const onSuccessRef = useRef(onSuccess);\r\n    onSuccessRef.current = onSuccess;\r\n    const onErrorRef = useRef(onError);\r\n    onErrorRef.current = onError;\r\n    const promptMomentNotificationRef = useRef(promptMomentNotification);\r\n    promptMomentNotificationRef.current = promptMomentNotification;\r\n    useEffect(() => {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\r\n        if (!scriptLoadedSuccessfully)\r\n            return;\r\n        if (disabled) {\r\n            (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n            return;\r\n        }\r\n        (_f = (_e = (_d = window === null || window === void 0 ? void 0 : window.google) === null || _d === void 0 ? void 0 : _d.accounts) === null || _e === void 0 ? void 0 : _e.id) === null || _f === void 0 ? void 0 : _f.initialize({\r\n            client_id: clientId,\r\n            callback: (credentialResponse) => {\r\n                var _a;\r\n                if (!(credentialResponse === null || credentialResponse === void 0 ? void 0 : credentialResponse.credential)) {\r\n                    return (_a = onErrorRef.current) === null || _a === void 0 ? void 0 : _a.call(onErrorRef);\r\n                }\r\n                const { credential, select_by } = credentialResponse;\r\n                onSuccessRef.current({\r\n                    credential,\r\n                    clientId: extractClientId(credentialResponse),\r\n                    select_by,\r\n                });\r\n            },\r\n            hosted_domain,\r\n            cancel_on_tap_outside,\r\n            prompt_parent_id,\r\n            state_cookie_domain,\r\n            use_fedcm_for_prompt,\r\n            use_fedcm_for_button,\r\n            auto_select,\r\n        });\r\n        (_j = (_h = (_g = window === null || window === void 0 ? void 0 : window.google) === null || _g === void 0 ? void 0 : _g.accounts) === null || _h === void 0 ? void 0 : _h.id) === null || _j === void 0 ? void 0 : _j.prompt(promptMomentNotificationRef.current);\r\n        return () => {\r\n            var _a, _b, _c;\r\n            (_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.id) === null || _c === void 0 ? void 0 : _c.cancel();\r\n        };\r\n    }, [\r\n        clientId,\r\n        scriptLoadedSuccessfully,\r\n        cancel_on_tap_outside,\r\n        prompt_parent_id,\r\n        state_cookie_domain,\r\n        hosted_domain,\r\n        use_fedcm_for_prompt,\r\n        use_fedcm_for_button,\r\n        disabled,\r\n        auto_select,\r\n    ]);\r\n}\n\n/**\r\n * Checks if the user granted all the specified scope or scopes\r\n * @returns True if all the scopes are granted\r\n */\r\nfunction hasGrantedAllScopesGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    var _a, _b, _c;\r\n    if (!(window === null || window === void 0 ? void 0 : window.google))\r\n        return false;\r\n    return (((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAllScopes(tokenResponse, firstScope, ...restScopes)) || false);\r\n}\n\n/**\r\n * Checks if the user granted any of the specified scope or scopes.\r\n * @returns True if any of the scopes are granted\r\n */\r\nfunction hasGrantedAnyScopeGoogle(tokenResponse, firstScope, ...restScopes) {\r\n    var _a, _b, _c;\r\n    if (!(window === null || window === void 0 ? void 0 : window.google))\r\n        return false;\r\n    return (((_c = (_b = (_a = window === null || window === void 0 ? void 0 : window.google) === null || _a === void 0 ? void 0 : _a.accounts) === null || _b === void 0 ? void 0 : _b.oauth2) === null || _c === void 0 ? void 0 : _c.hasGrantedAnyScope(tokenResponse, firstScope, ...restScopes)) || false);\r\n}\n\nexport { GoogleLogin, GoogleOAuthProvider, googleLogout, hasGrantedAllScopesGoogle, hasGrantedAnyScopeGoogle, useGoogleLogin, useGoogleOAuth, useGoogleOneTapLogin };\n","// frontend/src/components/PageWrapper.js\r\nimport { Capacitor } from '@capacitor/core';\r\n\r\nconst PageWrapper = ({ children }) => {\r\n    const isNative = Capacitor.isNativePlatform();\r\n\r\n    return (\r\n        <div style={{\r\n            width: '100%',\r\n            height: '100dvh',\r\n            boxSizing: 'border-box',\r\n\r\n            //  1. TEKNK BOLUK: Sadece APK ise entik pay brak\r\n            paddingTop: isNative ? 'max(35px, env(safe-area-inset-top))' : '0px',\r\n\r\n            backgroundColor: '#1e1f22',\r\n\r\n            //  2. SCROLL BURADA OLACAK: indeki sayfalar scroll etmeyecek\r\n            overflowY: 'auto',\r\n            overflowX: 'hidden',\r\n            display: 'flex',\r\n            flexDirection: 'column'\r\n        }}>\r\n            {children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageWrapper;\r\n\r\n","// components/ErrorBoundary.js\r\n//  Error Boundary - Crash Prevention\r\n\r\nimport React from 'react';\r\nimport { isChunkLoadError, handleChunkErrorInBoundary } from '../utils/lazyWithRetry';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    //  Chunk load hatas  otomatik sayfa yenile (yeni deploy algland)\r\n    if (isChunkLoadError(error)) {\r\n      console.warn(' Chunk ykleme hatas algland, sayfa yenileniyor...');\r\n      handleChunkErrorInBoundary(error);\r\n      return; // reload yaplacak, devam etmeye gerek yok\r\n    }\r\n\r\n    console.error(' App Crashed:', error);\r\n    console.error('Error Info:', errorInfo);\r\n\r\n    this.setState({\r\n      error,\r\n      errorInfo\r\n    });\r\n\r\n    //  Error logging - Backend'e gnder (API domain zerinden)\r\n    try {\r\n      const apiBase = (typeof window !== 'undefined' && window.__PAWSCORD_API_BASE__)\r\n        || 'https://api.pawscord.com/api';\r\n      fetch(`${apiBase}/errors/report/`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          error: error?.toString(),\r\n          stack: error?.stack,\r\n          componentStack: errorInfo?.componentStack,\r\n          url: window.location.href,\r\n          userAgent: navigator.userAgent,\r\n          timestamp: new Date().toISOString()\r\n        })\r\n      }).catch(() => { }); // Sessiz hata\r\n    } catch (e) {\r\n      console.warn('Could not report error:', e);\r\n    }\r\n  }\r\n\r\n  handleReset = () => {\r\n    this.setState({ hasError: false, error: null, errorInfo: null });\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <div style={styles.container}>\r\n          <div style={styles.content}>\r\n            <div style={styles.icon}></div>\r\n            <h1 style={styles.title}>Oops! Bir eyler ters gitti</h1>\r\n            <p style={styles.message}>\r\n              zgnz, uygulama beklenmedik bir hatayla karlat.\r\n            </p>\r\n\r\n            <div style={styles.actions}>\r\n              <button onClick={this.handleReset} style={styles.button}>\r\n                 Yeniden Balat\r\n              </button>\r\n              <button\r\n                onClick={() => window.location.href = '/'}\r\n                style={{ ...styles.button, ...styles.buttonSecondary }}\r\n              >\r\n                 Ana Sayfaya Dn\r\n              </button>\r\n            </div>\r\n\r\n            {import.meta.env.MODE === 'development' && this.state.error && (\r\n              <details style={styles.details}>\r\n                <summary style={styles.summary}>Hata Detaylar (Dev Mode)</summary>\r\n                <pre style={styles.errorText}>\r\n                  {this.state.error.toString()}\r\n                  {'\\n\\n'}\r\n                  {this.state.errorInfo?.componentStack}\r\n                </pre>\r\n              </details>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    minHeight: '100vh',\r\n    backgroundColor: '#1E1F22',\r\n    color: '#FFFFFF',\r\n    padding: '20px',\r\n    fontFamily: \"'Inter', sans-serif\"\r\n  },\r\n  content: {\r\n    textAlign: 'center',\r\n    maxWidth: '600px',\r\n    padding: '40px',\r\n    background: 'linear-gradient(135deg, #2B2D31 0%, #1E1F22 100%)',\r\n    borderRadius: '16px',\r\n    boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4)'\r\n  },\r\n  icon: {\r\n    fontSize: '80px',\r\n    marginBottom: '20px',\r\n    animation: 'shake 0.5s ease-in-out'\r\n  },\r\n  title: {\r\n    fontSize: '32px',\r\n    fontWeight: 'bold',\r\n    marginBottom: '16px',\r\n    color: '#FFFFFF'\r\n  },\r\n  message: {\r\n    fontSize: '16px',\r\n    color: '#B9BBBE',\r\n    marginBottom: '32px',\r\n    lineHeight: '1.6'\r\n  },\r\n  actions: {\r\n    display: 'flex',\r\n    gap: '12px',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap'\r\n  },\r\n  button: {\r\n    padding: '12px 24px',\r\n    fontSize: '16px',\r\n    fontWeight: '600',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    cursor: 'pointer',\r\n    backgroundColor: '#5865F2',\r\n    color: '#FFFFFF',\r\n    transition: 'all 0.2s',\r\n    ':hover': {\r\n      backgroundColor: '#4752C4'\r\n    }\r\n  },\r\n  buttonSecondary: {\r\n    backgroundColor: '#4E5058',\r\n    ':hover': {\r\n      backgroundColor: '#6A6F78'\r\n    }\r\n  },\r\n  details: {\r\n    marginTop: '32px',\r\n    textAlign: 'left',\r\n    background: 'rgba(0, 0, 0, 0.3)',\r\n    borderRadius: '8px',\r\n    padding: '16px'\r\n  },\r\n  summary: {\r\n    cursor: 'pointer',\r\n    fontWeight: '600',\r\n    marginBottom: '12px',\r\n    color: '#FAA61A'\r\n  },\r\n  errorText: {\r\n    fontSize: '12px',\r\n    color: '#ED4245',\r\n    overflow: 'auto',\r\n    maxHeight: '300px',\r\n    padding: '12px',\r\n    background: 'rgba(0, 0, 0, 0.5)',\r\n    borderRadius: '4px'\r\n  }\r\n};\r\n\r\nexport default ErrorBoundary;\r\n\r\n\r\n\r\n","// frontend/src/api.js\n//  Simple API wrapper for AuthCallback\n// Uses axios-like interface for compatibility\n\nimport { authFetch } from './utils/authFetch';\n\nconst API_BASE_URL = import.meta.env.VITE_API_URL || 'https://api.pawscord.com';\n\nconst api = {\n    async post(url, data, config = {}) {\n        const headers = {\n            'Content-Type': 'application/json',\n            ...config.headers\n        };\n\n\n        try {\n            //  authFetch ile otomatik token refresh\n            const response = await authFetch(url, {\n                method: 'POST',\n                headers,\n                body: JSON.stringify(data),\n                credentials: 'include'\n            });\n\n            const responseData = await response.json();\n\n            if (!response.ok) {\n                const error = new Error(responseData.error || 'Request failed');\n                error.response = { data: responseData, status: response.status };\n                throw error;\n            }\n\n            return { data: responseData, status: response.status };\n        } catch (error) {\n            // Fallback for non-auth requests\n            if (error.message === 'No refresh token available') {\n                const response = await fetch(url, {\n                    method: 'POST',\n                    headers,\n                    body: JSON.stringify(data),\n                    credentials: 'include'\n                });\n                const responseData = await response.json();\n                if (!response.ok) {\n                    const err = new Error(responseData.error || 'Request failed');\n                    err.response = { data: responseData, status: response.status };\n                    throw err;\n                }\n                return { data: responseData, status: response.status };\n            }\n            throw error;\n        }\n    },\n\n    async get(url, config = {}) {\n        const headers = {\n            'Content-Type': 'application/json',\n            ...config.headers\n        };\n\n\n        try {\n            //  authFetch ile otomatik token refresh\n            const response = await authFetch(url, {\n                method: 'GET',\n                headers,\n                credentials: 'include'\n            });\n\n            const responseData = await response.json();\n\n            if (!response.ok) {\n                const error = new Error(responseData.error || 'Request failed');\n                error.response = { data: responseData, status: response.status };\n                throw error;\n            }\n\n            return { data: responseData, status: response.status };\n        } catch (error) {\n            // Fallback for non-auth requests\n            if (error.message === 'No refresh token available') {\n                const response = await fetch(url, {\n                    method: 'GET',\n                    headers,\n                    credentials: 'include'\n                });\n                const responseData = await response.json();\n                if (!response.ok) {\n                    const err = new Error(responseData.error || 'Request failed');\n                    err.response = { data: responseData, status: response.status };\n                    throw err;\n                }\n                return { data: responseData, status: response.status };\n            }\n            throw error;\n        }\n    }\n};\n\nexport default api;\n","import { useEffect, useState, useRef } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { useAuth } from './AuthContext';\nimport api from './api';\nimport './AuthCallback.css';\n\n/**\n *  Auth Callback Page\n * Handles OAuth callback - supports both direct token and code exchange\n */\nconst AuthCallback = ({ apiBaseUrl }) => {\n    const [searchParams] = useSearchParams();\n    const navigate = useNavigate();\n    const { login } = useAuth();\n    const [status, setStatus] = useState('processing');\n    const [error, setError] = useState(null);\n    const exchangeAttempted = useRef(false);  // Prevent double exchange\n\n    useEffect(() => {\n        const handleCallback = async () => {\n            // Prevent double execution (React StrictMode / re-renders)\n            if (exchangeAttempted.current) {\n                return;\n            }\n            exchangeAttempted.current = true;\n\n            const code = searchParams.get('code');\n            const accessToken = searchParams.get('access_token');\n            const refreshToken = searchParams.get('refresh_token');\n            const errorParam = searchParams.get('error');\n            const needsPassword = searchParams.get('needs_password') === 'true';\n\n\n            // Check for error\n            if (errorParam) {\n                console.error(' [AuthCallback] Error param:', errorParam);\n                setStatus('error');\n                setError('Google giri baarsz oldu. Ltfen tekrar deneyin.');\n                setTimeout(() => navigate('/'), 3000);\n                return;\n            }\n\n            //  DIRECT TOKEN MODE: Tokens passed directly in URL\n            if (accessToken && refreshToken) {\n                try {\n                    // Store tokens securely ( FIX: refresh_token snake_case kullan)\n                    localStorage.setItem('access_token', accessToken);\n                    localStorage.setItem('refresh_token', refreshToken);\n\n                    // Update auth context\n                    if (login) {\n                        await login(accessToken, refreshToken);\n                    }\n\n                    setStatus('success');\n\n                    // Redirect based on password status\n                    setTimeout(() => {\n                        navigate(needsPassword ? '/settings?section=security&action=set-password' : '/');\n                    }, 1500);\n                } catch (err) {\n                    console.error(' [AuthCallback] Direct token error:', err);\n                    setStatus('error');\n                    setError('Token ileme hatas.');\n                    setTimeout(() => navigate('/'), 3000);\n                }\n                return;\n            }\n\n            //  CODE EXCHANGE MODE: Exchange code for tokens\n            if (!code) {\n                console.error(' [AuthCallback] No code or tokens found');\n                setStatus('error');\n                setError('Yetkilendirme bilgisi bulunamad.');\n                setTimeout(() => navigate('/'), 3000);\n                return;\n            }\n\n            try {\n                setStatus('exchanging');\n\n                const exchangeUrl = `${apiBaseUrl}/auth/exchange-code/`;\n\n                // Exchange auth code for tokens (secure exchange)\n                const response = await api.post(exchangeUrl, {\n                    code: code\n                });\n\n\n                if (response.data.success) {\n                    const { access_token, refresh_token, user_id, needs_password } = response.data;\n\n                    // Store tokens securely\n                    localStorage.setItem('access_token', access_token);\n                    localStorage.setItem('refreshToken', refresh_token);\n\n                    // Update auth context\n                    if (login) {\n                        await login(access_token, refresh_token);\n                    }\n\n                    setStatus('success');\n\n                    // Redirect based on password status\n                    if (needs_password) {\n                        // User needs to set a password (new Google user)\n                        setTimeout(() => {\n                            navigate('/settings?section=security&action=set-password');\n                        }, 1500);\n                    } else {\n                        // Existing user, go to main app\n                        setTimeout(() => {\n                            navigate('/');\n                        }, 1500);\n                    }\n                } else {\n                    throw new Error(response.data.error || 'Token exchange failed');\n                }\n            } catch (err) {\n                console.error('Auth callback error:', err);\n                setStatus('error');\n                setError(err.response?.data?.error || 'Giri ilemi baarsz oldu.');\n                setTimeout(() => navigate('/'), 3000);\n            }\n        };\n\n        handleCallback();\n    }, [searchParams, navigate, login, apiBaseUrl]);\n\n    return (\n        <div className=\"auth-callback-container\">\n            <div className=\"auth-callback-card\">\n                {status === 'processing' && (\n                    <>\n                        <div className=\"auth-spinner\"></div>\n                        <h2>leniyor...</h2>\n                        <p>Google hesabnz dorulanyor</p>\n                    </>\n                )}\n\n                {status === 'exchanging' && (\n                    <>\n                        <div className=\"auth-spinner\"></div>\n                        <h2>Giri Yaplyor...</h2>\n                        <p>Gvenli balant kuruluyor</p>\n                    </>\n                )}\n\n                {status === 'success' && (\n                    <>\n                        <div className=\"auth-success-icon\"></div>\n                        <h2>Giri Baarl!</h2>\n                        <p>Ynlendiriliyorsunuz...</p>\n                    </>\n                )}\n\n                {status === 'error' && (\n                    <>\n                        <div className=\"auth-error-icon\"></div>\n                        <h2>Hata</h2>\n                        <p>{error}</p>\n                        <p className=\"auth-redirect-text\">Ana sayfaya ynlendiriliyorsunuz...</p>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default AuthCallback;\n","const isString = obj => typeof obj === 'string';\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || isString(object);\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = !isString(path) ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last?.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  if (!Object.prototype.hasOwnProperty.call(obj, k)) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (isString(target[prop]) || target[prop] instanceof String || isString(source[prop]) || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (isString(data)) {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = (obj, path, keySeparator = '.') => {\n  if (!obj) return undefined;\n  if (obj[path]) {\n    if (!Object.prototype.hasOwnProperty.call(obj, path)) return undefined;\n    return obj[path];\n  }\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => code?.replace('_', '-');\n\nconst consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    console?.[type]?.apply?.(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger, options = {}) {\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger, options = {}) {\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log(...args) {\n    return this.forward(args, 'log', '', true);\n  }\n  warn(...args) {\n    return this.forward(args, 'warn', '', true);\n  }\n  error(...args) {\n    return this.forward(args, 'error', '');\n  }\n  deprecate(...args) {\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (isString(args[0])) args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event, ...args) {\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(([observer, numTimesAdded]) => {\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data, options = {\n    ns: ['translation'],\n    defaultNS: 'translation'\n  }) {\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key, options = {}) {\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (isString(key) && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || !isString(key)) return result;\n    return deepFind(this.data?.[lng]?.[ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value, options = {\n    silent: false\n  }) {\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources, options = {\n    silent: false\n  }) {\n    for (const m in resources) {\n      if (isString(resources[m]) || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite, options = {\n    silent: false,\n    skipCopy: false\n  }) {\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      value = this.processors[processor]?.process(value, key, options, translator) ?? value;\n    });\n    return value;\n  }\n};\n\nconst PATH_KEY = Symbol('i18next/PATH_KEY');\nfunction createProxy() {\n  const state = [];\n  const handler = Object.create(null);\n  let proxy;\n  handler.get = (target, key) => {\n    proxy?.revoke?.();\n    if (key === PATH_KEY) return state;\n    state.push(key);\n    proxy = Proxy.revocable(target, handler);\n    return proxy.proxy;\n  };\n  return Proxy.revocable(Object.create(null), handler).proxy;\n}\nfunction keysFromSelector(selector, opts) {\n  const {\n    [PATH_KEY]: path\n  } = selector(createProxy());\n  return path.join(opts?.keySeparator ?? '.');\n}\n\nconst checkedLoadedFor = {};\nconst shouldHandleAsObject = res => !isString(res) && typeof res !== 'boolean' && typeof res !== 'number';\nclass Translator extends EventEmitter {\n  constructor(services, options = {}) {\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key, o = {\n    interpolation: {}\n  }) {\n    const opt = {\n      ...o\n    };\n    if (key == null) return false;\n    const resolved = this.resolve(key, opt);\n    if (resolved?.res === undefined) return false;\n    const isObject = shouldHandleAsObject(resolved.res);\n    if (opt.returnObjects === false && isObject) {\n      return false;\n    }\n    return true;\n  }\n  extractFromKey(key, opt) {\n    let nsSeparator = opt.nsSeparator !== undefined ? opt.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = opt.keySeparator !== undefined ? opt.keySeparator : this.options.keySeparator;\n    let namespaces = opt.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !opt.keySeparator && !this.options.userDefinedNsSeparator && !opt.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces: isString(namespaces) ? [namespaces] : namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    return {\n      key,\n      namespaces: isString(namespaces) ? [namespaces] : namespaces\n    };\n  }\n  translate(keys, o, lastKey) {\n    let opt = typeof o === 'object' ? {\n      ...o\n    } : o;\n    if (typeof opt !== 'object' && this.options.overloadTranslationOptionHandler) {\n      opt = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof opt === 'object') opt = {\n      ...opt\n    };\n    if (!opt) opt = {};\n    if (keys == null) return '';\n    if (typeof keys === 'function') keys = keysFromSelector(keys, {\n      ...this.options,\n      ...opt\n    });\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = opt.returnDetails !== undefined ? opt.returnDetails : this.options.returnDetails;\n    const keySeparator = opt.keySeparator !== undefined ? opt.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], opt);\n    const namespace = namespaces[namespaces.length - 1];\n    let nsSeparator = opt.nsSeparator !== undefined ? opt.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const lng = opt.lng || this.language;\n    const appendNamespaceToCIMode = opt.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng?.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(opt)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(opt)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, opt);\n    let res = resolved?.res;\n    const resUsedKey = resolved?.usedKey || key;\n    const resExactUsedKey = resolved?.exactUsedKey || key;\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = opt.joinArrays !== undefined ? opt.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const needsPluralHandling = opt.count !== undefined && !isString(opt.count);\n    const hasDefaultValue = Translator.hasDefaultValue(opt);\n    const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, opt.count, opt) : '';\n    const defaultValueSuffixOrdinalFallback = opt.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, opt.count, {\n      ordinal: false\n    }) : '';\n    const needsZeroSuffixLookup = needsPluralHandling && !opt.ordinal && opt.count === 0;\n    const defaultValue = needsZeroSuffixLookup && opt[`defaultValue${this.options.pluralSeparator}zero`] || opt[`defaultValue${defaultValueSuffix}`] || opt[`defaultValue${defaultValueSuffixOrdinalFallback}`] || opt.defaultValue;\n    let resForObjHndl = res;\n    if (handleAsObjectInI18nFormat && !res && hasDefaultValue) {\n      resForObjHndl = defaultValue;\n    }\n    const handleAsObject = shouldHandleAsObject(resForObjHndl);\n    const resType = Object.prototype.toString.apply(resForObjHndl);\n    if (handleAsObjectInI18nFormat && resForObjHndl && handleAsObject && noObject.indexOf(resType) < 0 && !(isString(joinArrays) && Array.isArray(resForObjHndl))) {\n      if (!opt.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, resForObjHndl, {\n          ...opt,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(opt);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(resForObjHndl);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in resForObjHndl) {\n          if (Object.prototype.hasOwnProperty.call(resForObjHndl, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            if (hasDefaultValue && !res) {\n              copy[m] = this.translate(deepKey, {\n                ...opt,\n                defaultValue: shouldHandleAsObject(defaultValue) ? defaultValue[m] : undefined,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            } else {\n              copy[m] = this.translate(deepKey, {\n                ...opt,\n                ...{\n                  joinArrays: false,\n                  ns: namespaces\n                }\n              });\n            }\n            if (copy[m] === deepKey) copy[m] = resForObjHndl[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && isString(joinArrays) && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, opt, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = opt.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...opt,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, opt.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(opt.lng || this.language);\n        } else {\n          lngs.push(opt.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, opt);\n          } else if (this.backendConnector?.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, opt);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, opt);\n              if (needsZeroSuffixLookup && opt[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, opt[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, opt, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) {\n        res = `${namespace}${nsSeparator}${key}`;\n      }\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}${nsSeparator}${key}` : key, usedDefault ? res : undefined, opt);\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(opt);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, opt, resolved, lastKey) {\n    if (this.i18nFormat?.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...opt\n      }, opt.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!opt.skipInterpolation) {\n      if (opt.interpolation) this.interpolator.init({\n        ...opt,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...opt.interpolation\n          }\n        }\n      });\n      const skipOnVariables = isString(res) && (opt?.interpolation?.skipOnVariables !== undefined ? opt.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = opt.replace && !isString(opt.replace) ? opt.replace : opt;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, opt.lng || this.language || resolved.usedLng, opt);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) opt.nest = false;\n      }\n      if (!opt.lng && resolved && resolved.res) opt.lng = this.language || resolved.usedLng;\n      if (opt.nest !== false) res = this.interpolator.nest(res, (...args) => {\n        if (lastKey?.[0] === args[0] && !opt.context) {\n          this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return this.translate(...args, key);\n      }, opt);\n      if (opt.interpolation) this.interpolator.reset();\n    }\n    const postProcess = opt.postProcess || this.options.postProcess;\n    const postProcessorNames = isString(postProcess) ? [postProcess] : postProcess;\n    if (res != null && postProcessorNames?.length && opt.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(opt)\n        },\n        ...opt\n      } : opt, this);\n    }\n    return res;\n  }\n  resolve(keys, opt = {}) {\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (isString(keys)) keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, opt);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = opt.count !== undefined && !isString(opt.count);\n      const needsZeroSuffixLookup = needsPluralHandling && !opt.ordinal && opt.count === 0;\n      const needsContextHandling = opt.context !== undefined && (isString(opt.context) || typeof opt.context === 'number') && opt.context !== '';\n      const codes = opt.lngs ? opt.lngs : this.languageUtils.toResolveHierarchy(opt.lng || this.language, opt.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils?.hasLoadedNamespace && !this.utils?.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat?.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, opt);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, opt.count, opt);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              if (opt.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              finalKeys.push(key + pluralSuffix);\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator || '_'}${opt.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                if (opt.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                finalKeys.push(contextKey + pluralSuffix);\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, opt);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key, options = {}) {\n    if (this.i18nFormat?.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails(options = {}) {\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && !isString(options.replace);\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (isString(code) && code.indexOf('-') > -1) {\n      let formattedCode;\n      try {\n        formattedCode = Intl.getCanonicalLocales(code)[0];\n      } catch (e) {}\n      if (formattedCode && this.options.lowerCaseLng) {\n        formattedCode = formattedCode.toLowerCase();\n      }\n      if (formattedCode) return formattedCode;\n      if (this.options.lowerCaseLng) {\n        return code.toLowerCase();\n      }\n      return code;\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngScOnly = this.getScriptPartFromCode(code);\n        if (this.isSupportedCode(lngScOnly)) return found = lngScOnly;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (isString(fallbacks)) fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes((fallbackCode === false ? [] : fallbackCode) || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (isString(code) && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (isString(code)) {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst dummyRule = {\n  select: count => count === 1 ? 'one' : 'other',\n  resolvedOptions: () => ({\n    pluralCategories: ['one', 'other']\n  })\n};\nclass PluralResolver {\n  constructor(languageUtils, options = {}) {\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.pluralRulesCache = {};\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code, options = {}) {\n    const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n    const type = options.ordinal ? 'ordinal' : 'cardinal';\n    const cacheKey = JSON.stringify({\n      cleanedCode,\n      type\n    });\n    if (cacheKey in this.pluralRulesCache) {\n      return this.pluralRulesCache[cacheKey];\n    }\n    let rule;\n    try {\n      rule = new Intl.PluralRules(cleanedCode, {\n        type\n      });\n    } catch (err) {\n      if (!Intl) {\n        this.logger.error('No Intl support, please use an Intl polyfill!');\n        return dummyRule;\n      }\n      if (!code.match(/-|_/)) return dummyRule;\n      const lngPart = this.languageUtils.getLanguagePartFromCode(code);\n      rule = this.getRule(lngPart, options);\n    }\n    this.pluralRulesCache[cacheKey] = rule;\n    return rule;\n  }\n  needsPlural(code, options = {}) {\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    return rule?.resolvedOptions().pluralCategories.length > 1;\n  }\n  getPluralFormsOfKey(code, key, options = {}) {\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code, options = {}) {\n    let rule = this.getRule(code, options);\n    if (!rule) rule = this.getRule('dev', options);\n    if (!rule) return [];\n    return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n  }\n  getSuffix(code, count, options = {}) {\n    const rule = this.getRule(code, options);\n    if (rule) {\n      return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return this.getSuffix('dev', count, options);\n  }\n}\n\nconst deepFindWithDefaults = (data, defaultData, key, keySeparator = '.', ignoreJSONStructure = true) => {\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && isString(key)) {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options?.interpolation?.format || (value => value);\n    this.init(options);\n  }\n  init(options = {}) {\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp?.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\\\))*?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options?.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options?.interpolation?.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = isString(temp) ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (!isString(value) && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc, options = {}) {\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if ((matchedSingleQuotes?.length ?? 0) % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && !isString(clonedOptions.replace) ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      const keyEndIndex = /{.*}/.test(match[1]) ? match[1].lastIndexOf('}') + 1 : match[1].indexOf(this.formatSeparator);\n      if (keyEndIndex !== -1) {\n        formatters = match[1].slice(keyEndIndex).split(this.formatSeparator).map(elem => elem.trim()).filter(Boolean);\n        match[1] = match[1].slice(0, keyEndIndex);\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && !isString(value)) return value;\n      if (!isString(value)) value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (formatters.length) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (v, l, o) => {\n    let optForCache = o;\n    if (o && o.interpolationkey && o.formatParams && o.formatParams[o.interpolationkey] && o[o.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [o.interpolationkey]: undefined\n      };\n    }\n    const key = l + JSON.stringify(optForCache);\n    let frm = cache[key];\n    if (!frm) {\n      frm = fn(getCleanedCode(l), o);\n      cache[key] = frm;\n    }\n    return frm(v);\n  };\n};\nconst createNonCachedFormatter = fn => (v, l, o) => fn(getCleanedCode(l), o)(v);\nclass Formatter {\n  constructor(options = {}) {\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.init(options);\n  }\n  init(services, options = {\n    interpolation: {}\n  }) {\n    this.formatSeparator = options.interpolation.formatSeparator || ',';\n    const cf = options.cacheInBuiltFormats ? createCachedFormatter : createNonCachedFormatter;\n    this.formats = {\n      number: cf((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: cf((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: cf((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: cf((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: cf((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng, options = {}) {\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options?.formatParams?.[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services, options = {}) {\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    this.backend?.init?.(services, options.backend, options);\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName, tried = 0, wait = this.retryTimeout, callback) {\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces, options = {}, callback) {\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (isString(languages)) languages = this.languageUtils.toResolveHierarchy(languages);\n    if (isString(namespaces)) namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name, prefix = '') {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate, options = {}, clb = () => {}) {\n    if (this.services?.utils?.hasLoadedNamespace && !this.services?.utils?.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend?.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initAsync: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (isString(args[1])) ret.defaultValue = args[1];\n    if (isString(args[2])) ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  },\n  cacheInBuiltFormats: true\n});\nconst transformOptions = options => {\n  if (isString(options.ns)) options.ns = [options.ns];\n  if (isString(options.fallbackLng)) options.fallbackLng = [options.fallbackLng];\n  if (isString(options.fallbackNS)) options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs?.indexOf?.('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  if (typeof options.initImmediate === 'boolean') options.initAsync = options.initImmediate;\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nconst usesLocize = inst => {\n  if (inst?.modules?.backend?.name?.indexOf('Locize') > 0) return true;\n  if (inst?.modules?.backend?.constructor?.name?.indexOf('Locize') > 0) return true;\n  if (inst?.options?.backend?.backends) {\n    if (inst.options.backend.backends.some(b => b?.name?.indexOf('Locize') > 0 || b?.constructor?.name?.indexOf('Locize') > 0)) return true;\n  }\n  return false;\n};\nclass I18n extends EventEmitter {\n  constructor(options = {}, callback) {\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initAsync) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init(options = {}, callback) {\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (options.defaultNS == null && options.ns) {\n      if (isString(options.ns)) {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    this.options.interpolation = {\n      ...defOpts.interpolation,\n      ...this.options.interpolation\n    };\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    if (typeof this.options.overloadTranslationOptionHandler !== 'function') {\n      this.options.overloadTranslationOptionHandler = defOpts.overloadTranslationOptionHandler;\n    }\n    if (this.options.showSupportNotice !== false && !usesLocize(this)) {\n      if (typeof console !== 'undefined' && typeof console.info !== 'undefined') console.info(' i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ');\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      const usingLegacyFormatFunction = this.options.interpolation.format && this.options.interpolation.format !== defOpts.interpolation.format;\n      if (usingLegacyFormatFunction) {\n        this.logger.deprecate(`init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting`);\n      }\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        if (s.formatter.init) s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', (event, ...args) => {\n        this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = (...args) => this.store[fcName](...args);\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = (...args) => {\n        this.store[fcName](...args);\n        return this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initAsync) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language, callback = noop) {\n    let usedCallback = callback;\n    const usedLng = isString(language) ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng?.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      this.options.preload?.forEach?.(l => append(l));\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n    if (!this.resolvedLanguage && this.languages.indexOf(l) < 0 && this.store.hasLanguageSomeTranslations(l)) {\n      this.resolvedLanguage = l;\n      this.languages.unshift(l);\n    }\n  }\n  changeLanguage(lng, callback) {\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        if (this.isLanguageChangingTo === lng) {\n          setLngProps(l);\n          this.translator.changeLanguage(l);\n          this.isLanguageChangingTo = undefined;\n          this.emit('languageChanged', l);\n          this.logger.log('languageChanged', l);\n        }\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve((...args) => this.t(...args));\n      if (callback) callback(err, (...args) => this.t(...args));\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const fl = isString(lngs) ? lngs : lngs && lngs[0];\n      const l = this.store.hasLanguageSomeTranslations(fl) ? fl : this.services.languageUtils.getBestMatchFromCodes(isString(lngs) ? [lngs] : lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        this.services.languageDetector?.cacheUserLanguage?.(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    const fixedT = (key, opts, ...rest) => {\n      let o;\n      if (typeof opts !== 'object') {\n        o = this.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        o = {\n          ...opts\n        };\n      }\n      o.lng = o.lng || fixedT.lng;\n      o.lngs = o.lngs || fixedT.lngs;\n      o.ns = o.ns || fixedT.ns;\n      if (o.keyPrefix !== '') o.keyPrefix = o.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = this.options.keySeparator || '.';\n      let resultKey;\n      if (o.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => {\n          if (typeof k === 'function') k = keysFromSelector(k, {\n            ...this.options,\n            ...opts\n          });\n          return `${o.keyPrefix}${keySeparator}${k}`;\n        });\n      } else {\n        if (typeof key === 'function') key = keysFromSelector(key, {\n          ...this.options,\n          ...opts\n        });\n        resultKey = o.keyPrefix ? `${o.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return this.t(resultKey, o);\n    };\n    if (isString(lng)) {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t(...args) {\n    return this.translator?.translate(...args);\n  }\n  exists(...args) {\n    return this.translator?.exists(...args);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns, options = {}) {\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (isString(ns)) ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (isString(lngs)) lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages?.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    try {\n      const l = new Intl.Locale(lng);\n      if (l && l.getTextInfo) {\n        const ti = l.getTextInfo();\n        if (ti && ti.direction) return ti.direction;\n      }\n    } catch (e) {}\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services?.languageUtils || new LanguageUtil(get());\n    if (lng.toLowerCase().indexOf('-latn') > 1) return 'ltr';\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance(options = {}, callback) {\n    const instance = new I18n(options, callback);\n    instance.createInstance = I18n.createInstance;\n    return instance;\n  }\n  cloneInstance(options = {}, callback = noop) {\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      const clonedData = Object.keys(this.store.data).reduce((prev, l) => {\n        prev[l] = {\n          ...this.store.data[l]\n        };\n        prev[l] = Object.keys(prev[l]).reduce((acc, n) => {\n          acc[n] = {\n            ...prev[l][n]\n          };\n          return acc;\n        }, prev[l]);\n        return prev;\n      }, {});\n      clone.store = new ResourceStore(clonedData, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    if (options.interpolation) {\n      const defOpts = get();\n      const mergedInterpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation,\n        ...options.interpolation\n      };\n      const mergedForInterpolator = {\n        ...mergedOptions,\n        interpolation: mergedInterpolation\n      };\n      clone.services.interpolator = new Interpolator(mergedForInterpolator);\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', (event, ...args) => {\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, keysFromSelector as keyFromSelector, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nconst htmlEntities = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n  '&nbsp;': ' ',\n  '&#160;': ' ',\n  '&copy;': '',\n  '&#169;': '',\n  '&reg;': '',\n  '&#174;': '',\n  '&hellip;': '',\n  '&#8230;': '',\n  '&#x2F;': '/',\n  '&#47;': '/'\n};\nconst unescapeHtmlEntity = m => htmlEntities[m];\nexport const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);","import { unescape } from './unescape.js';\nlet defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true,\n  unescape,\n  transDefaultProps: undefined\n};\nexport const setDefaults = (options = {}) => {\n  defaultOptions = {\n    ...defaultOptions,\n    ...options\n  };\n};\nexport const getDefaults = () => defaultOptions;","import { setDefaults } from './defaults.js';\nimport { setI18n } from './i18nInstance.js';\nexport const initReactI18next = {\n  type: '3rdParty',\n  init(instance) {\n    setDefaults(instance.options.react);\n    setI18n(instance);\n  }\n};","const {\n  slice,\n  forEach\n} = [];\nfunction defaults(obj) {\n  forEach.call(slice.call(arguments, 1), source => {\n    if (source) {\n      for (const prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\nfunction hasXSS(input) {\n  if (typeof input !== 'string') return false;\n\n  // Common XSS attack patterns\n  const xssPatterns = [/<\\s*script.*?>/i, /<\\s*\\/\\s*script\\s*>/i, /<\\s*img.*?on\\w+\\s*=/i, /<\\s*\\w+\\s*on\\w+\\s*=.*?>/i, /javascript\\s*:/i, /vbscript\\s*:/i, /expression\\s*\\(/i, /eval\\s*\\(/i, /alert\\s*\\(/i, /document\\.cookie/i, /document\\.write\\s*\\(/i, /window\\.location/i, /innerHTML/i];\n  return xssPatterns.some(pattern => pattern.test(input));\n}\n\n// eslint-disable-next-line no-control-regex\nconst fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\nconst serializeCookie = function (name, val) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    path: '/'\n  };\n  const opt = options;\n  const value = encodeURIComponent(val);\n  let str = `${name}=${value}`;\n  if (opt.maxAge > 0) {\n    const maxAge = opt.maxAge - 0;\n    if (Number.isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += `; Max-Age=${Math.floor(maxAge)}`;\n  }\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n    str += `; Domain=${opt.domain}`;\n  }\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n    str += `; Path=${opt.path}`;\n  }\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n    str += `; Expires=${opt.expires.toUTCString()}`;\n  }\n  if (opt.httpOnly) str += '; HttpOnly';\n  if (opt.secure) str += '; Secure';\n  if (opt.sameSite) {\n    const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n  if (opt.partitioned) str += '; Partitioned';\n  return str;\n};\nconst cookie = {\n  create(name, value, minutes, domain) {\n    let cookieOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      path: '/',\n      sameSite: 'strict'\n    };\n    if (minutes) {\n      cookieOptions.expires = new Date();\n      cookieOptions.expires.setTime(cookieOptions.expires.getTime() + minutes * 60 * 1000);\n    }\n    if (domain) cookieOptions.domain = domain;\n    document.cookie = serializeCookie(name, value, cookieOptions);\n  },\n  read(name) {\n    const nameEQ = `${name}=`;\n    const ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n  },\n  remove(name, domain) {\n    this.create(name, '', -1, domain);\n  }\n};\nvar cookie$1 = {\n  name: 'cookie',\n  // Deconstruct the options object and extract the lookupCookie property\n  lookup(_ref) {\n    let {\n      lookupCookie\n    } = _ref;\n    if (lookupCookie && typeof document !== 'undefined') {\n      return cookie.read(lookupCookie) || undefined;\n    }\n    return undefined;\n  },\n  // Deconstruct the options object and extract the lookupCookie, cookieMinutes, cookieDomain, and cookieOptions properties\n  cacheUserLanguage(lng, _ref2) {\n    let {\n      lookupCookie,\n      cookieMinutes,\n      cookieDomain,\n      cookieOptions\n    } = _ref2;\n    if (lookupCookie && typeof document !== 'undefined') {\n      cookie.create(lookupCookie, lng, cookieMinutes, cookieDomain, cookieOptions);\n    }\n  }\n};\n\nvar querystring = {\n  name: 'querystring',\n  // Deconstruct the options object and extract the lookupQuerystring property\n  lookup(_ref) {\n    let {\n      lookupQuerystring\n    } = _ref;\n    let found;\n    if (typeof window !== 'undefined') {\n      let {\n        search\n      } = window.location;\n      if (!window.location.search && window.location.hash?.indexOf('?') > -1) {\n        search = window.location.hash.substring(window.location.hash.indexOf('?'));\n      }\n      const query = search.substring(1);\n      const params = query.split('&');\n      for (let i = 0; i < params.length; i++) {\n        const pos = params[i].indexOf('=');\n        if (pos > 0) {\n          const key = params[i].substring(0, pos);\n          if (key === lookupQuerystring) {\n            found = params[i].substring(pos + 1);\n          }\n        }\n      }\n    }\n    return found;\n  }\n};\n\nvar hash = {\n  name: 'hash',\n  // Deconstruct the options object and extract the lookupHash property and the lookupFromHashIndex property\n  lookup(_ref) {\n    let {\n      lookupHash,\n      lookupFromHashIndex\n    } = _ref;\n    let found;\n    if (typeof window !== 'undefined') {\n      const {\n        hash\n      } = window.location;\n      if (hash && hash.length > 2) {\n        const query = hash.substring(1);\n        if (lookupHash) {\n          const params = query.split('&');\n          for (let i = 0; i < params.length; i++) {\n            const pos = params[i].indexOf('=');\n            if (pos > 0) {\n              const key = params[i].substring(0, pos);\n              if (key === lookupHash) {\n                found = params[i].substring(pos + 1);\n              }\n            }\n          }\n        }\n        if (found) return found;\n        if (!found && lookupFromHashIndex > -1) {\n          const language = hash.match(/\\/([a-zA-Z-]*)/g);\n          if (!Array.isArray(language)) return undefined;\n          const index = typeof lookupFromHashIndex === 'number' ? lookupFromHashIndex : 0;\n          return language[index]?.replace('/', '');\n        }\n      }\n    }\n    return found;\n  }\n};\n\nlet hasLocalStorageSupport = null;\nconst localStorageAvailable = () => {\n  if (hasLocalStorageSupport !== null) return hasLocalStorageSupport;\n  try {\n    hasLocalStorageSupport = typeof window !== 'undefined' && window.localStorage !== null;\n    if (!hasLocalStorageSupport) {\n      return false;\n    }\n    const testKey = 'i18next.translate.boo';\n    window.localStorage.setItem(testKey, 'foo');\n    window.localStorage.removeItem(testKey);\n  } catch (e) {\n    hasLocalStorageSupport = false;\n  }\n  return hasLocalStorageSupport;\n};\nvar localStorage = {\n  name: 'localStorage',\n  // Deconstruct the options object and extract the lookupLocalStorage property\n  lookup(_ref) {\n    let {\n      lookupLocalStorage\n    } = _ref;\n    if (lookupLocalStorage && localStorageAvailable()) {\n      return window.localStorage.getItem(lookupLocalStorage) || undefined; // Undefined ensures type consistency with the previous version of this function\n    }\n    return undefined;\n  },\n  // Deconstruct the options object and extract the lookupLocalStorage property\n  cacheUserLanguage(lng, _ref2) {\n    let {\n      lookupLocalStorage\n    } = _ref2;\n    if (lookupLocalStorage && localStorageAvailable()) {\n      window.localStorage.setItem(lookupLocalStorage, lng);\n    }\n  }\n};\n\nlet hasSessionStorageSupport = null;\nconst sessionStorageAvailable = () => {\n  if (hasSessionStorageSupport !== null) return hasSessionStorageSupport;\n  try {\n    hasSessionStorageSupport = typeof window !== 'undefined' && window.sessionStorage !== null;\n    if (!hasSessionStorageSupport) {\n      return false;\n    }\n    const testKey = 'i18next.translate.boo';\n    window.sessionStorage.setItem(testKey, 'foo');\n    window.sessionStorage.removeItem(testKey);\n  } catch (e) {\n    hasSessionStorageSupport = false;\n  }\n  return hasSessionStorageSupport;\n};\nvar sessionStorage = {\n  name: 'sessionStorage',\n  lookup(_ref) {\n    let {\n      lookupSessionStorage\n    } = _ref;\n    if (lookupSessionStorage && sessionStorageAvailable()) {\n      return window.sessionStorage.getItem(lookupSessionStorage) || undefined;\n    }\n    return undefined;\n  },\n  cacheUserLanguage(lng, _ref2) {\n    let {\n      lookupSessionStorage\n    } = _ref2;\n    if (lookupSessionStorage && sessionStorageAvailable()) {\n      window.sessionStorage.setItem(lookupSessionStorage, lng);\n    }\n  }\n};\n\nvar navigator$1 = {\n  name: 'navigator',\n  lookup(options) {\n    const found = [];\n    if (typeof navigator !== 'undefined') {\n      const {\n        languages,\n        userLanguage,\n        language\n      } = navigator;\n      if (languages) {\n        // chrome only; not an array, so can't use .push.apply instead of iterating\n        for (let i = 0; i < languages.length; i++) {\n          found.push(languages[i]);\n        }\n      }\n      if (userLanguage) {\n        found.push(userLanguage);\n      }\n      if (language) {\n        found.push(language);\n      }\n    }\n    return found.length > 0 ? found : undefined;\n  }\n};\n\nvar htmlTag = {\n  name: 'htmlTag',\n  // Deconstruct the options object and extract the htmlTag property\n  lookup(_ref) {\n    let {\n      htmlTag\n    } = _ref;\n    let found;\n    const internalHtmlTag = htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);\n    if (internalHtmlTag && typeof internalHtmlTag.getAttribute === 'function') {\n      found = internalHtmlTag.getAttribute('lang');\n    }\n    return found;\n  }\n};\n\nvar path = {\n  name: 'path',\n  // Deconstruct the options object and extract the lookupFromPathIndex property\n  lookup(_ref) {\n    let {\n      lookupFromPathIndex\n    } = _ref;\n    if (typeof window === 'undefined') return undefined;\n    const language = window.location.pathname.match(/\\/([a-zA-Z-]*)/g);\n    if (!Array.isArray(language)) return undefined;\n    const index = typeof lookupFromPathIndex === 'number' ? lookupFromPathIndex : 0;\n    return language[index]?.replace('/', '');\n  }\n};\n\nvar subdomain = {\n  name: 'subdomain',\n  lookup(_ref) {\n    let {\n      lookupFromSubdomainIndex\n    } = _ref;\n    // If given get the subdomain index else 1\n    const internalLookupFromSubdomainIndex = typeof lookupFromSubdomainIndex === 'number' ? lookupFromSubdomainIndex + 1 : 1;\n    // get all matches if window.location. is existing\n    // first item of match is the match itself and the second is the first group match which should be the first subdomain match\n    // is the hostname no public domain get the or option of localhost\n    const language = typeof window !== 'undefined' && window.location?.hostname?.match(/^(\\w{2,5})\\.(([a-z0-9-]{1,63}\\.[a-z]{2,6})|localhost)/i);\n\n    // if there is no match (null) return undefined\n    if (!language) return undefined;\n    // return the given group match\n    return language[internalLookupFromSubdomainIndex];\n  }\n};\n\n// some environments, throws when accessing document.cookie\nlet canCookies = false;\ntry {\n  // eslint-disable-next-line no-unused-expressions\n  document.cookie;\n  canCookies = true;\n  // eslint-disable-next-line no-empty\n} catch (e) {}\nconst order = ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag'];\nif (!canCookies) order.splice(1, 1);\nconst getDefaults = () => ({\n  order,\n  lookupQuerystring: 'lng',\n  lookupCookie: 'i18next',\n  lookupLocalStorage: 'i18nextLng',\n  lookupSessionStorage: 'i18nextLng',\n  // cache user language\n  caches: ['localStorage'],\n  excludeCacheFor: ['cimode'],\n  // cookieMinutes: 10,\n  // cookieDomain: 'myDomain'\n\n  convertDetectedLanguage: l => l\n});\nclass Browser {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n  init() {\n    let services = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      languageUtils: {}\n    };\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    this.services = services;\n    this.options = defaults(options, this.options || {}, getDefaults());\n    if (typeof this.options.convertDetectedLanguage === 'string' && this.options.convertDetectedLanguage.indexOf('15897') > -1) {\n      this.options.convertDetectedLanguage = l => l.replace('-', '_');\n    }\n\n    // backwards compatibility\n    if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n    this.i18nOptions = i18nOptions;\n    this.addDetector(cookie$1);\n    this.addDetector(querystring);\n    this.addDetector(localStorage);\n    this.addDetector(sessionStorage);\n    this.addDetector(navigator$1);\n    this.addDetector(htmlTag);\n    this.addDetector(path);\n    this.addDetector(subdomain);\n    this.addDetector(hash);\n  }\n  addDetector(detector) {\n    this.detectors[detector.name] = detector;\n    return this;\n  }\n  detect() {\n    let detectionOrder = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.order;\n    let detected = [];\n    detectionOrder.forEach(detectorName => {\n      if (this.detectors[detectorName]) {\n        let lookup = this.detectors[detectorName].lookup(this.options);\n        if (lookup && typeof lookup === 'string') lookup = [lookup];\n        if (lookup) detected = detected.concat(lookup);\n      }\n    });\n    detected = detected.filter(d => d !== undefined && d !== null && !hasXSS(d)).map(d => this.options.convertDetectedLanguage(d));\n    if (this.services && this.services.languageUtils && this.services.languageUtils.getBestMatchFromCodes) return detected; // new i18next v19.5.0\n    return detected.length > 0 ? detected[0] : null; // a little backward compatibility\n  }\n  cacheUserLanguage(lng) {\n    let caches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.options.caches;\n    if (!caches) return;\n    if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n    caches.forEach(cacheName => {\n      if (this.detectors[cacheName]) this.detectors[cacheName].cacheUserLanguage(lng, this.options);\n    });\n  }\n}\nBrowser.type = 'languageDetector';\n\nexport { Browser as default };\n","// frontend/src/i18n/index.js\r\n//  Internationalization (i18n) Configuration\r\n// Supported languages: Turkish (default), English\r\n\r\nimport i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n\r\nimport tr from './locales/tr.json';\r\nimport en from './locales/en.json';\r\n\r\ni18n\r\n    .use(LanguageDetector)\r\n    .use(initReactI18next)\r\n    .init({\r\n        resources: {\r\n            tr: { translation: tr },\r\n            en: { translation: en },\r\n        },\r\n        fallbackLng: 'tr',\r\n        debug: false,\r\n\r\n        interpolation: {\r\n            escapeValue: false, // React already escapes\r\n        },\r\n\r\n        detection: {\r\n            order: ['localStorage', 'navigator', 'htmlTag'],\r\n            lookupLocalStorage: 'pawscord_language',\r\n            caches: ['localStorage'],\r\n        },\r\n    });\r\n\r\nexport default i18n;\r\n","// frontend/src/index.js\r\n\r\n//  Console cleanup  silences noisy logs in production, filters spam in dev\r\nimport './utils/consoleCleanup';\r\n\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { HashRouter, Routes, Route, Navigate } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport VerifyEmailPage from './VerifyEmailPage';\r\nimport InvitePage from './InvitePage';\r\n\r\nimport lazyWithRetry from './utils/lazyWithRetry';\r\n\r\n//  OPTIMIZATION: Lazy load English learning pages (with retry)\r\nconst EnglishHub = lazyWithRetry(() => import('./EnglishHub'));\r\nconst GrammarQuizPage = lazyWithRetry(() => import('./GrammarQuizPage'));\r\nconst EnglishLearningPage = lazyWithRetry(() => import('./EnglishLearningPage'));\r\nimport EnglishVoicePractice from './EnglishVoicePractice';\r\nimport PronunciationPage from './PronunciationPage';\r\nconst CryptoDashboard = lazyWithRetry(() => import('./CryptoDashboard'));\r\nconst CryptoSignals = lazyWithRetry(() => import('./CryptoSignals'));\r\nimport SpotifyCallback from './SpotifyCallback';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { GlobalWebSocketProvider } from './GlobalWebSocketContext';\r\nimport SignalNotification from './components/SignalNotification';\r\nimport { GoogleOAuthProvider } from '@react-oauth/google';\r\nimport PageWrapper from './components/PageWrapper';\r\nimport { AuthProvider, useAuth } from './AuthContext';\r\nimport ErrorBoundary from './components/ErrorBoundary';\r\n\r\n//  Whitelist Guard  sadece is_whitelisted kullanclar eriebilir\r\nconst WhitelistGuard = ({ children }) => {\r\n    const { token, isAuthenticated } = useAuth();\r\n    const [allowed, setAllowed] = useState(null); // null = loading\r\n    const checkedRef = useRef(false);\r\n\r\n    useEffect(() => {\r\n        if (!isAuthenticated || !token) {\r\n            setAllowed(false);\r\n            checkedRef.current = false;\r\n            return;\r\n        }\r\n        // Zaten kontrol edildiyse token deiince tekrar kontrol etme\r\n        if (checkedRef.current) return;\r\n\r\n        (async () => {\r\n            try {\r\n                const res = await fetch(`${API_BASE_URL}/users/me/`, {\r\n                    headers: { 'Authorization': `Bearer ${token}` }\r\n                });\r\n                if (res.ok) {\r\n                    const data = await res.json();\r\n                    setAllowed(!!data.is_whitelisted);\r\n                    checkedRef.current = true;\r\n                } else if (res.status === 401) {\r\n                    // Token expired  don't set allowed=false yet, wait for refresh\r\n                    console.warn(' [WhitelistGuard] 401 - waiting for token refresh');\r\n                } else {\r\n                    setAllowed(false);\r\n                }\r\n            } catch {\r\n                setAllowed(false);\r\n            }\r\n        })();\r\n    }, [isAuthenticated, token]);\r\n\r\n    if (allowed === null) return <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', background: '#1e1f22', color: '#f0b232', fontSize: 18 }}> Kontrol ediliyor...</div>;\r\n    if (!allowed) return <Navigate to=\"/\" replace />;\r\n    return children;\r\n};\r\n\r\nimport { preloadCriticalChunks, prefetchNextChunks } from './utils/codeSplitting.config';\r\n\r\n//  Auth & Security Pages\r\nimport AuthCallback from './AuthCallback';  //  Direct import for OAuth callback reliability\r\nconst ForgotPasswordPage = lazyWithRetry(() => import('./pages/ForgotPasswordPage'));\r\nconst ResetPasswordPage = lazyWithRetry(() => import('./pages/ResetPasswordPage'));\r\nconst TwoFactorLoginPage = lazyWithRetry(() => import('./pages/TwoFactorLoginPage'));\r\nconst VerifyEmailPageNew = lazyWithRetry(() => import('./pages/VerifyEmailPage'));\r\n\r\n//  Legal Pages\r\nconst PrivacyPolicyPage = lazyWithRetry(() => import('./pages/PrivacyPolicyPage'));\r\n\r\n//  Store Page\r\nconst StorePage = lazyWithRetry(() => import('./pages/StorePage'));\r\n\r\n//  GROWTH: Landing Page & Growth Components (Lazy Load)\r\nconst LandingPage = lazyWithRetry(() => import('./components/LandingPage'));\r\nconst ReferralProgram = lazyWithRetry(() => import('./components/ReferralProgram'));\r\nconst GrowthDashboard = lazyWithRetry(() => import('./components/GrowthDashboard'));\r\n\r\n//  DEMO: Toast Notification Demo (Lazy Load)\r\nconst ToastDemo = lazyWithRetry(() => import('./components/ToastDemo'));\r\n\r\n// --- URL AYARLARI (constants.js'den import) ---\r\nimport { API_URL_BASE_STRING, API_BASE_URL, GOOGLE_WEB_CLIENT_ID } from './utils/constants';\r\nimport { initSentry } from './utils/sentry';\r\nimport './i18n'; //  i18n initialization\r\nconst GOOGLE_CLIENT_ID = GOOGLE_WEB_CLIENT_ID;\r\n\r\n//  Initialize Sentry error tracking (production only)\r\ninitSentry();\r\n\r\nconst RootApp = () => {\r\n    useEffect(() => {\r\n        //  Critical chunk'lar hemen preload et (eski: 3s bekliyordu)\r\n        const preloadTimer = setTimeout(() => {\r\n            try {\r\n                preloadCriticalChunks();\r\n            } catch (e) {\r\n                console.warn('preloadCriticalChunks error', e);\r\n            }\r\n        }, 500); // 500ms  React mount olduktan hemen sonra\r\n\r\n        if ('requestIdleCallback' in window) {\r\n            window.requestIdleCallback(() => {\r\n                try {\r\n                    prefetchNextChunks();\r\n                } catch (e) {\r\n                    console.warn('prefetchNextChunks error', e);\r\n                }\r\n            }, { timeout: 1500 }); // 1.5s timeout (eski: 2s)\r\n        } else {\r\n            const fallbackTimer = setTimeout(() => {\r\n                try {\r\n                    prefetchNextChunks();\r\n                } catch (e) {\r\n                    console.warn('prefetchNextChunks error', e);\r\n                }\r\n            }, 2000); // 2s (eski: 4s)\r\n            return () => clearTimeout(fallbackTimer);\r\n        }\r\n\r\n        return () => clearTimeout(preloadTimer);\r\n    }, []);\r\n\r\n    return (\r\n        <GoogleOAuthProvider clientId={GOOGLE_CLIENT_ID}>\r\n            <AuthProvider>\r\n                <GlobalWebSocketProvider>\r\n                    <ErrorBoundary>\r\n                        <HashRouter>\r\n                            <SignalNotification />\r\n                            <Routes>\r\n                                {/* Email Verification */}\r\n                                <Route path=\"/verify/:token\" element={\r\n                                    <PageWrapper><VerifyEmailPage /></PageWrapper>\r\n                                } />\r\n\r\n                                {/*  Auth & Security Routes */}\r\n                                <Route path=\"/verify-email/:token\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <VerifyEmailPageNew apiBaseUrl={API_BASE_URL} />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/forgot-password\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <ForgotPasswordPage apiBaseUrl={API_BASE_URL} />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/reset-password/:token\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <ResetPasswordPage apiBaseUrl={API_BASE_URL} />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/2fa-login\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <TwoFactorLoginPage apiBaseUrl={API_BASE_URL} />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n\r\n                                {/*  OAuth Secure Callback - Direct import for reliability */}\r\n                                <Route path=\"/auth/callback\" element={\r\n                                    <PageWrapper>\r\n                                        <AuthCallback apiBaseUrl={API_URL_BASE_STRING} />\r\n                                    </PageWrapper>\r\n                                } />\r\n\r\n                                {/*  LEGAL: Privacy Policy & Terms */}\r\n                                <Route path=\"/privacy-policy\" element={\r\n                                    <React.Suspense fallback={<div style={{ padding: '40px', textAlign: 'center', color: '#fff' }}>Loading...</div>}>\r\n                                        <PrivacyPolicyPage />\r\n                                    </React.Suspense>\r\n                                } />\r\n                                <Route path=\"/terms-of-service\" element={\r\n                                    <React.Suspense fallback={<div style={{ padding: '40px', textAlign: 'center', color: '#fff' }}>Loading...</div>}>\r\n                                        <PrivacyPolicyPage />\r\n                                    </React.Suspense>\r\n                                } />\r\n\r\n                                {/*  Store */}\r\n                                <Route path=\"/store\" element={\r\n                                    <React.Suspense fallback={<div style={{ padding: '40px', textAlign: 'center', color: '#fff' }}>Loading...</div>}>\r\n                                        <StorePage />\r\n                                    </React.Suspense>\r\n                                } />\r\n\r\n                                {/*  GROWTH: Landing Page & Growth System */}\r\n                                <Route path=\"/launch\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <LandingPage apiBaseUrl={API_BASE_URL} />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/referral\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <ReferralProgram apiBaseUrl={API_BASE_URL} />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/growth-dashboard\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <GrowthDashboard apiBaseUrl={API_BASE_URL} />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n\r\n                                {/*  DEMO: Toast Notification Demo */}\r\n                                <Route path=\"/toast-demo\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <ToastDemo />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n\r\n                                {/*  Server Invite */}\r\n                                <Route path=\"/invite/:code\" element={\r\n                                    <PageWrapper><InvitePage /></PageWrapper>\r\n                                } />\r\n\r\n                                {/* Spotify Callback */}\r\n                                <Route path=\"/spotify-callback\" element={\r\n                                    <PageWrapper>\r\n                                        <SpotifyCallback apiBaseUrl={API_BASE_URL} />\r\n                                    </PageWrapper>\r\n                                } />\r\n\r\n                                {/* ngilizce Modlleri */}\r\n                                <Route path=\"/eng-learn\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <EnglishHub />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/eng-learn/vocab\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <EnglishLearningPage />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/eng-learn/grammar\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <GrammarQuizPage />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/eng-learn/voice\" element={\r\n                                    <PageWrapper>\r\n                                        <EnglishVoicePractice apiBaseUrl={API_BASE_URL} />\r\n                                    </PageWrapper>\r\n                                } />\r\n                                <Route path=\"/eng-learn/pronunciation\" element={\r\n                                    <PageWrapper>\r\n                                        <PronunciationPage apiBaseUrl={API_BASE_URL} />\r\n                                    </PageWrapper>\r\n                                } />\r\n\r\n                                {/* Kripto Sinyaller (Sadece Whitelist) */}\r\n                                <Route path=\"/crypto-analysis\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <WhitelistGuard>\r\n                                                <CryptoSignals />\r\n                                            </WhitelistGuard>\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n\r\n                                {/* Eski Crypto Dashboard (yedek) */}\r\n                                <Route path=\"/crypto-dashboard-old\" element={\r\n                                    <PageWrapper>\r\n                                        <React.Suspense fallback={<div>Ykleniyor...</div>}>\r\n                                            <CryptoDashboard />\r\n                                        </React.Suspense>\r\n                                    </PageWrapper>\r\n                                } />\r\n\r\n                                {/* Ana Uygulama (Catch-All) */}\r\n                                <Route path=\"/*\" element={<App />} />\r\n                            </Routes>\r\n                        </HashRouter>\r\n                    </ErrorBoundary>\r\n                </GlobalWebSocketProvider>\r\n            </AuthProvider>\r\n        </GoogleOAuthProvider>\r\n    );\r\n};\r\n\r\n//  Global chunk load error handler (max 2 reload, sonsuz dng korumas)\r\nwindow.addEventListener('unhandledrejection', (event) => {\r\n    const msg = event?.reason?.message || '';\r\n    if (\r\n        msg.includes('Failed to fetch dynamically imported module') ||\r\n        msg.includes('Loading chunk') ||\r\n        msg.includes('ChunkLoadError')\r\n    ) {\r\n        const RELOAD_KEY = 'pawscord_chunk_reload';\r\n        const RELOAD_COUNT_KEY = 'pawscord_chunk_reload_count';\r\n        const lastReload = sessionStorage.getItem(RELOAD_KEY);\r\n        const reloadCount = parseInt(sessionStorage.getItem(RELOAD_COUNT_KEY) || '0', 10);\r\n        const now = Date.now();\r\n\r\n        //  Maksimum 2 reload  sonra dur (sonsuz dng korumas)\r\n        if (reloadCount >= 2) {\r\n            console.error(' Chunk reload limiti ald (2/2). Sonsuz dng engellendi.');\r\n            console.error(' Ltfen Ctrl+Shift+R ile sayfay tamamen yenileyin.');\r\n            return;\r\n        }\r\n\r\n        if (!lastReload || (now - parseInt(lastReload, 10)) > 10000) {\r\n            console.warn(` Chunk hatas yakaland, sayfa yenileniyor... (${reloadCount + 1}/2)`);\r\n            sessionStorage.setItem(RELOAD_KEY, now.toString());\r\n            sessionStorage.setItem(RELOAD_COUNT_KEY, (reloadCount + 1).toString());\r\n            event.preventDefault();\r\n            window.location.reload();\r\n        }\r\n    }\r\n});\r\n\r\n//  Baarl ykleme sonras reload sayacn sfrla\r\nwindow.addEventListener('load', () => {\r\n    // Sayfa baaryla yklendiyse 5 saniye sonra sayac sfrla\r\n    setTimeout(() => {\r\n        sessionStorage.removeItem('pawscord_chunk_reload_count');\r\n    }, 5000);\r\n});\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(<RootApp />);\r\n\r\nreportWebVitals();\r\n"],"file":"index-DGqPEDt8.js"}
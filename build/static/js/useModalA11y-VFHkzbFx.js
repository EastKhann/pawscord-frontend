var y=Object.defineProperty;var u=(n,o)=>y(n,"name",{value:o,configurable:!0});import{r as i}from"./react-core-Djgtqrmb.js";function k({onClose:n,isOpen:o=!0,label:s=""}){const l=i.useRef(null),r=i.useRef(null);i.useEffect(()=>{if(!o)return;r.current=document.activeElement;const e=l.current;if(!e)return;const p=setTimeout(()=>{const t=e.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');t.length>0?t[0].focus():(e.setAttribute("tabindex","-1"),e.focus())},50),c=u(t=>{if(t.key==="Escape"){t.stopPropagation(),n?.();return}if(t.key==="Tab"){const a=e.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');if(a.length===0)return;const d=a[0],f=a[a.length-1];t.shiftKey?document.activeElement===d&&(f.focus(),t.preventDefault()):document.activeElement===f&&(d.focus(),t.preventDefault())}},"handleKeyDown");return document.addEventListener("keydown",c,!0),()=>{clearTimeout(p),document.removeEventListener("keydown",c,!0),r.current&&typeof r.current.focus=="function"&&r.current.focus()}},[o,n]);const b={role:"presentation",onClick:i.useCallback(e=>{e.target===e.currentTarget&&n?.()},[n])},m={ref:l,role:"dialog","aria-modal":!0,...s?{"aria-label":s}:{},onClick:u(e=>e.stopPropagation(),"onClick")};return{modalRef:l,overlayProps:b,dialogProps:m}}u(k,"useModalA11y");export{k as u};

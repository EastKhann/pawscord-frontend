import{r as s,n as t}from"./react-core-BMiyQWF6.js";import{z as R,aX as H,ar as E,b4 as W,cy as A,e as N}from"./icons-vendor-GUGjkvMm.js";import{A as P}from"./index-Tex9oDNg.js";import{S as e,v as _,j as u,t as c,p as f,e as q,g as L,i as D,k as O,l as $,r as j,m as U,n as C,o as G,q as d,u as J,y as S,w as K,x as M,z as x}from"./syntax-core-B43vWHep.js";import"./editor-vendor-D9c4a6XZ.js";import"./media-vendor-BuSyE8vR.js";import"./router-vendor-B86Z1mIL.js";import"./state-vendor-CAyNnPM4.js";import"./crypto-vendor-1Q6e4ZD-.js";import"./perf-vendor-sYrUDF5m.js";import"./ui-vendor-6RMGJYFH.js";e.registerLanguage("javascript",u);e.registerLanguage("js",u);e.registerLanguage("jsx",u);e.registerLanguage("typescript",c);e.registerLanguage("ts",c);e.registerLanguage("tsx",c);e.registerLanguage("python",f);e.registerLanguage("py",f);e.registerLanguage("java",q);e.registerLanguage("csharp",L);e.registerLanguage("cs",L);e.registerLanguage("cpp",D);e.registerLanguage("c",O);e.registerLanguage("go",$);e.registerLanguage("rust",j);e.registerLanguage("rs",j);e.registerLanguage("php",U);e.registerLanguage("ruby",C);e.registerLanguage("rb",C);e.registerLanguage("swift",G);e.registerLanguage("bash",d);e.registerLanguage("shell",d);e.registerLanguage("sh",d);e.registerLanguage("json",J);e.registerLanguage("yaml",S);e.registerLanguage("yml",S);e.registerLanguage("sql",K);e.registerLanguage("css",M);e.registerLanguage("html",x);e.registerLanguage("xml",x);e.registerLanguage("markup",x);const X=({language:r,value:i,children:w})=>{const[v,h]=s.useState(!1),[g,B]=s.useState(!1),[p,m]=s.useState(!1),[y,n]=s.useState(null),o=String(i||w||"").replace(/\n$/,""),b=o.split(`
`).length>15,F=()=>{navigator.clipboard.writeText(o),h(!0),setTimeout(()=>h(!1),2e3)},I=async()=>{m(!0),n(null);const T=localStorage.getItem("access_token");try{const l=await(await fetch(`${P}/tools/run-code/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({language:r,code:o})})).json();l.run?n(l.run.output||"Çıktı boş."):n("Hata: "+(l.message||"Bilinmeyen hata"))}catch{n("Bağlantı hatası.")}m(!1)};return t.jsxs("div",{style:a.container,children:[t.jsxs("div",{style:a.header,children:[t.jsx("span",{style:a.language,children:r||"text"}),t.jsxs("div",{style:{display:"flex",gap:"10px"},children:[t.jsxs("button",{onClick:I,style:a.runButton,disabled:p,children:[p?t.jsx(R,{className:"spin"}):t.jsx(H,{size:10}),p?" Çalışıyor...":" Run"]}),t.jsx("button",{onClick:F,style:a.copyButton,children:v?t.jsx(E,{}):t.jsx(W,{})})]})]}),t.jsx("div",{style:{...a.codeWrapper,maxHeight:!g&&b?"300px":"none"},children:t.jsx(k,{language:r?r.toLowerCase():"text",content:o})}),y&&t.jsxs("div",{style:a.outputContainer,children:[t.jsx("div",{style:a.outputHeader,children:"ÇIKTI (TERMINAL):"}),t.jsx("pre",{style:a.outputBody,children:y})]}),b&&t.jsx("button",{onClick:()=>B(!g),style:a.expandButton,children:g?t.jsxs(t.Fragment,{children:[t.jsx(A,{})," Daralt"]}):t.jsxs(t.Fragment,{children:[t.jsx(N,{})," Genişlet"]})})]})},a={container:{marginTop:"8px",marginBottom:"8px",borderRadius:"8px",border:"1px solid #202225",overflow:"hidden",backgroundColor:"#1e1f22"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 10px",backgroundColor:"#202225",color:"#b9bbbe",fontSize:"0.8em",fontWeight:"bold",fontFamily:"monospace"},language:{textTransform:"uppercase"},copyButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},runButton:{backgroundColor:"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"2px 10px",fontSize:"0.9em",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},codeWrapper:{overflow:"hidden",transition:"max-height 0.3s"},expandButton:{width:"100%",padding:"8px",backgroundColor:"#2f3136",border:"none",borderTop:"1px solid #202225",color:"#dbdee1",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},outputContainer:{borderTop:"1px solid #40444b",backgroundColor:"#000"},outputHeader:{padding:"5px 10px",fontSize:"0.75em",color:"#99aab5",backgroundColor:"#111"},outputBody:{padding:"10px",color:"#0f0",fontFamily:"monospace",margin:0,whiteSpace:"pre-wrap",fontSize:"0.9em"}},k=s.memo(({language:r,content:i})=>t.jsx(e,{language:r||"text",style:_,customStyle:{margin:0,padding:"15px",fontSize:"0.9em"},wrapLongLines:!0,children:i}));k.displayName="SyntaxHighlighterWithStyle";const pe=s.memo(X);export{pe as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/media-vendor-BuSyE8vR.js","static/js/react-core-BMiyQWF6.js","static/js/editor-vendor-D9c4a6XZ.js"])))=>i.map(i=>d[i]);
import{_ as v}from"./media-vendor-BuSyE8vR.js";import{r,n as e}from"./react-core-BMiyQWF6.js";import{aY as k,aZ as C,a_ as R,j as S}from"./icons-vendor-T72gfvdf.js";import{k as _}from"./index-6woDk0p4.js";import"./editor-vendor-D9c4a6XZ.js";import"./router-vendor-B86Z1mIL.js";import"./state-vendor-CAyNnPM4.js";import"./crypto-vendor-1Q6e4ZD-.js";const P=r.lazy(()=>v(()=>import("./media-vendor-BuSyE8vR.js").then(a=>a.i),__vite__mapDeps([0,1,2]))),Y=()=>{const{cinemaState:a,sendCinemaSignal:s,setCinemaState:w}=_(),{url:x,playing:n,time:l,lastSyncAction:i}=a,[d,y]=r.useState(""),[h,E]=r.useState(.8),[c,m]=r.useState(null),[g,p]=r.useState(!1),o=r.useRef(null);r.useRef(!1),r.useEffect(()=>{i==="change_url"?(p(!1),m(null)):i==="play"&&Math.abs(u()-l)>2&&o.current&&o.current.seekTo(l)},[x,n,l,i]);const u=()=>{try{return o.current?o.current.getCurrentTime():0}catch{return 0}},b=f=>{f.preventDefault(),d.trim()&&(s("change_url",{url:d}),y(""))},j=()=>{n?s("pause"):s("play",{time:u()})};return e.jsxs("div",{style:t.container,children:[e.jsxs("div",{style:t.playerWrapper,children:[c&&e.jsxs("div",{style:t.statusOverlay,children:[e.jsx(k,{size:40,color:"#f04747"}),e.jsx("p",{style:{marginTop:10},children:c})]}),!g&&!c&&e.jsxs("div",{style:t.statusOverlay,children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{style:{marginTop:10},children:"Yükleniyor..."})]}),e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{color:"#fff",padding:"50px",textAlign:"center"},children:"Loading player..."}),children:e.jsx(P,{ref:o,url:x,playing:n,volume:h,controls:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onReady:()=>p(!0),onError:()=>{m("Video oynatılamadı."),p(!0)},onPlay:()=>{n||s("play",{time:u()})},onPause:()=>{n&&s("pause")}})})]}),e.jsxs("div",{style:t.controls,children:[e.jsx("button",{onClick:j,style:{...t.btn,backgroundColor:n?"#da373c":"#43b581",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:n?e.jsx(C,{}):e.jsx(R,{style:{marginLeft:2}})}),e.jsxs("form",{onSubmit:b,style:t.urlForm,children:[e.jsx(S,{style:{color:"#b9bbbe"}}),e.jsx("input",{type:"text",value:d,onChange:f=>y(f.target.value),placeholder:"YouTube Link...",style:t.input}),e.jsx("button",{type:"submit",style:{...t.btn,backgroundColor:"#5865f2",padding:"0 15px"},children:"Yükle"})]})]}),e.jsx("style",{children:`
                .spinner {
                    border: 4px solid rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    border-top: 4px solid #ffffff;
                    width: 30px; height: 30px;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            `})]})},t={container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"black"},playerWrapper:{flex:1,position:"relative",overflow:"hidden"},controls:{padding:"10px",display:"flex",gap:"10px",backgroundColor:"#202225",alignItems:"center"},urlForm:{flex:1,display:"flex",gap:"8px",backgroundColor:"#40444b",padding:"5px 10px",borderRadius:"4px",alignItems:"center"},input:{flex:1,background:"transparent",border:"none",color:"white",outline:"none",fontSize:"14px"},btn:{border:"none",color:"white",cursor:"pointer",borderRadius:"4px",fontWeight:"bold"},statusOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.7)",color:"white",zIndex:10}};export{Y as default};

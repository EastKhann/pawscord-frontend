import{r as i,d as e,ae as p,U as j,ag as G,af as d,aT as f,dm as x,cp as b,q as _,aR as V,J as H,bB as W,dn as A,cl as M,aQ as Y,G as K,H as $,bk as U,aV as O}from"./react-core-DrOm_csO.js";const N=({fetchWithAuth:E,apiBaseUrl:k,currentUser:q})=>{const[r,h]=i.useState({weekly:[],daily:[],special:[]}),[o,v]=i.useState({totalPoints:0,weeklyPoints:0,streak:0,completedChallenges:0,rank:1,rewards:[]}),[S,w]=i.useState(!0),[c,u]=i.useState("weekly"),[g,I]=i.useState({days:0,hours:0,minutes:0}),C=i.useCallback(async()=>{w(!0);try{const a=await E(`${k}/challenges/`);if(a.ok){const l=await a.json();h(l.challenges),v(l.userProgress)}else h({weekly:[{id:1,title:"Sosyal Kelebek",description:"50 mesaj gÃ¶nder",icon:"comments",type:"messages",target:50,current:32,points:100,reward:{type:"badge",name:"KonuÅŸkan"},difficulty:"easy",status:"in_progress"},{id:2,title:"Ses UstasÄ±",description:"2 saat sesli sohbette kal",icon:"microphone",type:"voice_time",target:120,current:85,points:200,reward:{type:"coins",amount:500},difficulty:"medium",status:"in_progress"},{id:3,title:"Topluluk YÄ±ldÄ±zÄ±",description:"10 farklÄ± sunucuda aktif ol",icon:"users",type:"servers_active",target:10,current:10,points:300,reward:{type:"badge",name:"YÄ±ldÄ±z"},difficulty:"hard",status:"completed"},{id:4,title:"Oyun Maratonu",description:"5 oyun aktivitesi baÅŸlat",icon:"gamepad",type:"games_played",target:5,current:2,points:150,reward:{type:"xp",amount:1e3},difficulty:"medium",status:"in_progress"},{id:5,title:"Kalp DaÄŸÄ±tÄ±cÄ±",description:"25 mesaja tepki ver",icon:"heart",type:"reactions",target:25,current:0,points:75,reward:{type:"emoji",name:"â¤ï¸â€ðŸ”¥"},difficulty:"easy",status:"not_started"}],daily:[{id:101,title:"GÃ¼nlÃ¼k Selamlama",description:"Ä°lk mesajÄ±nÄ± gÃ¶nder",icon:"comments",target:1,current:1,points:25,status:"completed"},{id:102,title:"Sesli KatÄ±lÄ±m",description:"Bir sesli kanala katÄ±l",icon:"microphone",target:1,current:0,points:25,status:"not_started"},{id:103,title:"Tepki Ver",description:"5 mesaja emoji tepkisi ver",icon:"heart",target:5,current:3,points:25,status:"in_progress"}],special:[{id:201,title:"Yeni YÄ±l Ã–zel",description:"Yeni yÄ±l kutlamasÄ±na katÄ±l",icon:"gift",target:1,current:0,points:500,reward:{type:"special_badge",name:"2026 YÄ±ldÄ±zÄ±"},endsAt:"2026-01-31T23:59:59",status:"locked"}]}),v({totalPoints:2450,weeklyPoints:625,streak:7,completedChallenges:23,rank:156,rewards:[{type:"badge",name:"KonuÅŸkan",earnedAt:"2026-01-20"},{type:"badge",name:"Yeni BaÅŸlayan",earnedAt:"2026-01-15"}]})}catch(a){console.error("Failed to fetch challenges:",a)}finally{w(!1)}},[E,k]);i.useEffect(()=>{C()},[C]),i.useEffect(()=>{const a=()=>{const s=new Date,n=new Date;n.setDate(s.getDate()+(7-s.getDay())),n.setHours(23,59,59,999);const m=n-s,L=Math.floor(m/(1e3*60*60*24)),P=Math.floor(m%(1e3*60*60*24)/(1e3*60*60)),D=Math.floor(m%(1e3*60*60)/(1e3*60));I({days:L,hours:P,minutes:D})};a();const l=setInterval(a,6e4);return()=>clearInterval(l)},[]);const R=a=>{const s={comments:U,microphone:$,users:K,gamepad:Y,heart:M,share:A,music:W,video:H,gift:b}[a]||d;return e.createElement(s,null)},z=a=>{switch(a){case"easy":return"#43b581";case"medium":return"#faa61a";case"hard":return"#f04747";default:return"#72767d"}},F=a=>Array(a==="easy"?1:a==="medium"?2:3).fill(0).map((s,n)=>e.createElement(d,{key:n,size:10,color:z(a)})),B=a=>{if(!a)return null;switch(a.type){case"badge":return e.createElement(f,{color:"#faa61a"});case"coins":return e.createElement(O,{color:"#f1c40f"});case"xp":return e.createElement(d,{color:"#5865f2"});case"emoji":return e.createElement("span",null,a.name);case"special_badge":return e.createElement(x,{color:"#e91e63"});default:return e.createElement(b,{color:"#43b581"})}},T=a=>{if(!a)return"";switch(a.type){case"badge":return a.name;case"coins":return`${a.amount} Coin`;case"xp":return`${a.amount} XP`;case"emoji":return"Ã–zel Emoji";case"special_badge":return a.name;default:return"Ã–dÃ¼l"}},y=(a,l=!1)=>{const s=a.current/a.target*100,n=a.status==="completed",m=a.status==="locked";return e.createElement("div",{key:a.id,style:{...t.challengeCard,opacity:n?.7:1,backgroundColor:n?"#202225":"#2f3136"}},e.createElement("div",{style:t.challengeIcon},m?e.createElement(_,{size:20,color:"#72767d"}):n?e.createElement(V,{size:20,color:"#43b581"}):e.createElement("span",{style:{color:z(a.difficulty)}},R(a.icon))),e.createElement("div",{style:t.challengeContent},e.createElement("div",{style:t.challengeHeader},e.createElement("h4",{style:t.challengeTitle},a.title),!l&&a.difficulty&&e.createElement("div",{style:t.difficultyStars},F(a.difficulty))),e.createElement("p",{style:t.challengeDescription},a.description),e.createElement("div",{style:t.progressContainer},e.createElement("div",{style:t.progressBar},e.createElement("div",{style:{...t.progressFill,width:`${Math.min(s,100)}%`,backgroundColor:n?"#43b581":"#5865f2"}})),e.createElement("span",{style:t.progressText},a.current,"/",a.target))),e.createElement("div",{style:t.challengeReward},e.createElement("div",{style:t.pointsBadge},e.createElement(d,{size:10,color:"#faa61a"}),e.createElement("span",null,a.points)),a.reward&&e.createElement("div",{style:t.rewardBadge},B(a.reward),e.createElement("span",null,T(a.reward)))))};return S?e.createElement("div",{style:t.container},e.createElement("div",{style:t.loading},e.createElement(p,{className:"pulse",size:32,color:"#faa61a"}),e.createElement("span",null,"GÃ¶revler yÃ¼kleniyor..."))):e.createElement("div",{style:t.container},e.createElement("div",{style:t.header},e.createElement("div",{style:t.headerLeft},e.createElement(p,{size:24,color:"#faa61a"}),e.createElement("div",null,e.createElement("h2",{style:t.title},"HaftalÄ±k GÃ¶revler"),e.createElement("p",{style:t.subtitle},"GÃ¶revleri tamamla, Ã¶dÃ¼ller kazan!"))),e.createElement("div",{style:t.timer},e.createElement(j,{size:14,color:"#72767d"}),e.createElement("span",null,g.days,"g ",g.hours,"s ",g.minutes,"d kaldÄ±"))),e.createElement("div",{style:t.statsGrid},e.createElement("div",{style:t.statCard},e.createElement(G,{size:20,color:"#f04747"}),e.createElement("div",{style:t.statInfo},e.createElement("span",{style:t.statValue},o.streak),e.createElement("span",{style:t.statLabel},"GÃ¼nlÃ¼k Seri"))),e.createElement("div",{style:t.statCard},e.createElement(d,{size:20,color:"#faa61a"}),e.createElement("div",{style:t.statInfo},e.createElement("span",{style:t.statValue},o.weeklyPoints),e.createElement("span",{style:t.statLabel},"HaftalÄ±k Puan"))),e.createElement("div",{style:t.statCard},e.createElement(p,{size:20,color:"#5865f2"}),e.createElement("div",{style:t.statInfo},e.createElement("span",{style:t.statValue},"#",o.rank),e.createElement("span",{style:t.statLabel},"SÄ±ralama"))),e.createElement("div",{style:t.statCard},e.createElement(f,{size:20,color:"#43b581"}),e.createElement("div",{style:t.statInfo},e.createElement("span",{style:t.statValue},o.completedChallenges),e.createElement("span",{style:t.statLabel},"Tamamlanan")))),e.createElement("div",{style:t.tabs},e.createElement("button",{style:{...t.tab,...c==="weekly"?t.tabActive:{}},onClick:()=>u("weekly")},e.createElement(p,{size:14}),"HaftalÄ±k (",r.weekly.length,")"),e.createElement("button",{style:{...t.tab,...c==="daily"?t.tabActive:{}},onClick:()=>u("daily")},e.createElement(d,{size:14}),"GÃ¼nlÃ¼k (",r.daily.length,")"),e.createElement("button",{style:{...t.tab,...c==="special"?t.tabActive:{}},onClick:()=>u("special")},e.createElement(x,{size:14}),"Ã–zel (",r.special.length,")")),e.createElement("div",{style:t.challengesList},c==="weekly"&&r.weekly.map(a=>y(a)),c==="daily"&&r.daily.map(a=>y(a,!0)),c==="special"&&r.special.map(a=>y(a))),o.rewards.length>0&&e.createElement("div",{style:t.rewardsSection},e.createElement("h3",{style:t.rewardsSectionTitle},e.createElement(b,{size:14})," KazanÄ±lan Ã–dÃ¼ller"),e.createElement("div",{style:t.rewardsList},o.rewards.map((a,l)=>e.createElement("div",{key:l,style:t.earnedReward},e.createElement(f,{size:16,color:"#faa61a"}),e.createElement("span",null,a.name))))),e.createElement("div",{style:t.summaryCard},e.createElement("div",{style:t.summaryHeader},e.createElement(x,{size:16,color:"#e91e63"}),e.createElement("span",null,"Bu Hafta")),e.createElement("div",{style:t.summaryStats},e.createElement("div",{style:t.summaryItem},e.createElement("span",{style:t.summaryValue},r.weekly.filter(a=>a.status==="completed").length,"/",r.weekly.length),e.createElement("span",{style:t.summaryLabel},"GÃ¶rev")),e.createElement("div",{style:t.summaryItem},e.createElement("span",{style:t.summaryValue},o.weeklyPoints),e.createElement("span",{style:t.summaryLabel},"Puan")),e.createElement("div",{style:t.summaryItem},e.createElement("span",{style:t.summaryValue},Math.round(r.weekly.filter(a=>a.status==="completed").length/r.weekly.length*100),"%"),e.createElement("span",{style:t.summaryLabel},"Ä°lerleme"))),e.createElement("div",{style:t.totalProgressBar},e.createElement("div",{style:{...t.totalProgressFill,width:`${r.weekly.filter(a=>a.status==="completed").length/r.weekly.length*100}%`}}))))},t={container:{backgroundColor:"#36393f",borderRadius:"8px",padding:"20px",color:"#dcddde"},loading:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",padding:"60px",color:"#b9bbbe"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},headerLeft:{display:"flex",alignItems:"center",gap:"16px"},title:{margin:0,fontSize:"18px",fontWeight:"600",color:"#fff"},subtitle:{margin:"4px 0 0",fontSize:"13px",color:"#72767d"},timer:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"#2f3136",borderRadius:"4px",fontSize:"13px",color:"#b9bbbe"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",marginBottom:"20px"},statCard:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",backgroundColor:"#2f3136",borderRadius:"8px"},statInfo:{display:"flex",flexDirection:"column"},statValue:{fontSize:"20px",fontWeight:"700",color:"#fff"},statLabel:{fontSize:"11px",color:"#72767d",textTransform:"uppercase"},tabs:{display:"flex",gap:"8px",marginBottom:"16px",borderBottom:"1px solid #40444b",paddingBottom:"12px"},tab:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#72767d",fontSize:"14px",cursor:"pointer",transition:"all 0.2s"},tabActive:{backgroundColor:"#5865f2",color:"#fff"},challengesList:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"20px"},challengeCard:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",backgroundColor:"#2f3136",borderRadius:"8px",transition:"transform 0.2s"},challengeIcon:{width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#202225",borderRadius:"12px",fontSize:"20px"},challengeContent:{flex:1},challengeHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},challengeTitle:{margin:0,fontSize:"15px",fontWeight:"600",color:"#fff"},difficultyStars:{display:"flex",gap:"2px"},challengeDescription:{margin:"0 0 8px",fontSize:"13px",color:"#b9bbbe"},progressContainer:{display:"flex",alignItems:"center",gap:"8px"},progressBar:{flex:1,height:"6px",backgroundColor:"#202225",borderRadius:"3px",overflow:"hidden"},progressFill:{height:"100%",backgroundColor:"#5865f2",borderRadius:"3px",transition:"width 0.3s"},progressText:{fontSize:"12px",color:"#72767d",minWidth:"45px",textAlign:"right"},challengeReward:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},pointsBadge:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"rgba(250, 166, 26, 0.2)",borderRadius:"12px",fontSize:"12px",color:"#faa61a",fontWeight:"600"},rewardBadge:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"rgba(88, 101, 242, 0.2)",borderRadius:"12px",fontSize:"11px",color:"#dcddde"},rewardsSection:{marginBottom:"20px"},rewardsSectionTitle:{display:"flex",alignItems:"center",gap:"8px",margin:"0 0 12px",fontSize:"14px",fontWeight:"600",color:"#fff"},rewardsList:{display:"flex",flexWrap:"wrap",gap:"8px"},earnedReward:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"#2f3136",borderRadius:"16px",fontSize:"13px",color:"#dcddde"},summaryCard:{padding:"20px",backgroundColor:"linear-gradient(135deg, #5865f2 0%, #7289da 100%)",background:"linear-gradient(135deg, rgba(88, 101, 242, 0.3) 0%, rgba(114, 137, 218, 0.3) 100%)",borderRadius:"12px",border:"1px solid rgba(88, 101, 242, 0.5)"},summaryHeader:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px",fontSize:"14px",fontWeight:"600",color:"#fff"},summaryStats:{display:"flex",justifyContent:"space-around",marginBottom:"16px"},summaryItem:{display:"flex",flexDirection:"column",alignItems:"center"},summaryValue:{fontSize:"24px",fontWeight:"700",color:"#fff"},summaryLabel:{fontSize:"11px",color:"#b9bbbe",textTransform:"uppercase"},totalProgressBar:{height:"8px",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"4px",overflow:"hidden"},totalProgressFill:{height:"100%",backgroundColor:"#43b581",borderRadius:"4px",transition:"width 0.3s"}};export{N as default};

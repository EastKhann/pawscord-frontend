var C=Object.defineProperty;var n=(r,s)=>C(r,"name",{value:s,configurable:!0});import{a as I,r as l,j as t}from"./react-core-Djgtqrmb.js";import{bs as u,t as B,aw as k,bb as R,bc as L,bF as D,a5 as A}from"./icons-vendor-BW7dxHkX.js";const M=n(({serverId:r,apiBaseUrl:s,fetchWithAuth:p})=>{const[d,a]=l.useState([]),[x,y]=l.useState("all"),[g,b]=l.useState(""),[j,v]=l.useState(!0),F=[{id:"all",label:"T√ºm√º",icon:u},{id:"images",label:"Resimler",icon:k},{id:"videos",label:"Videolar",icon:R},{id:"documents",label:"Belgeler",icon:L},{id:"archives",label:"Ar≈üivler",icon:D}];l.useEffect(()=>{S()},[r]);const S=n(async()=>{try{const e=await p(`${s}/files/?server=${r}`);if(e.ok){const i=await e.json();a(i)}}catch{}finally{v(!1)}},"loadFiles"),m=n(e=>{const i=e.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif","webp"].includes(i)?"images":["mp4","avi","mov","webm"].includes(i)?"videos":["pdf","doc","docx","txt","xlsx"].includes(i)?"documents":["zip","rar","7z","tar"].includes(i)?"archives":"other"},"getFileType"),h=n(e=>e<1024?e+" B":e<1024*1024?(e/1024).toFixed(1)+" KB":e<1024*1024*1024?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB","formatSize"),c=d.filter(e=>{const i=x==="all"||m(e.filename)===x,f=e.filename.toLowerCase().includes(g.toLowerCase());return i&&f}),w=c.reduce((e,i)=>e+(i.size||0),0);return t.jsxs("div",{style:o.container,children:[t.jsxs("div",{style:o.header,children:[t.jsxs("h2",{style:o.title,children:[t.jsx(u,{})," Dosya Y√∂neticisi"]}),t.jsxs("div",{style:o.stats,children:[c.length," dosya ¬∑ ",h(w)]})]}),t.jsxs("div",{style:o.search,children:[t.jsx(B,{style:o.searchIcon}),t.jsx("input",{type:"text",placeholder:"Dosya ara...",value:g,onChange:n(e=>b(e.target.value),"onChange"),style:o.searchInput})]}),t.jsx("div",{style:o.categories,children:F.map(e=>{const i=e.icon,f=d.filter(z=>e.id==="all"||m(z.filename)===e.id).length;return t.jsxs("button",{onClick:n(()=>y(e.id),"onClick"),style:{...o.categoryButton,...x===e.id?o.categoryButtonActive:{}},children:[t.jsx(i,{style:o.categoryIcon}),t.jsx("span",{children:e.label}),t.jsx("span",{style:o.categoryCount,children:f})]},e.id)})}),t.jsx("div",{style:o.fileList,children:j?t.jsx("div",{style:o.loading,children:"Y√ºkleniyor..."}):c.length===0?t.jsxs("div",{style:o.empty,children:[t.jsx(u,{style:o.emptyIcon}),t.jsx("p",{children:"Dosya bulunamadƒ±"})]}):c.map(e=>t.jsx(T,{file:e,formatSize:h},e.id))})]})},"FileManagerPanel"),T=n(({file:r,formatSize:s})=>{const p=n(d=>{const a=d.split(".").pop().toLowerCase();return["jpg","jpeg","png","gif"].includes(a)?"üñºÔ∏è":["mp4","avi","mov"].includes(a)?"üé•":["pdf"].includes(a)?"üìï":["doc","docx"].includes(a)?"üìò":["zip","rar"].includes(a)?"üì¶":"üìÑ"},"getFileIcon");return t.jsxs("div",{style:o.fileCard,children:[t.jsx("div",{style:o.fileIcon,children:p(r.filename)}),t.jsxs("div",{style:o.fileInfo,children:[t.jsx("div",{style:o.fileName,children:r.filename}),t.jsxs("div",{style:o.fileMeta,children:[s(r.size||0)," ¬∑ ",r.uploaded_by," ¬∑ ",new Date(r.created_at).toLocaleDateString("tr-TR")]})]}),t.jsx("a",{href:r.url,download:!0,style:o.downloadButton,children:t.jsx(A,{})})]})},"FileCard"),o={container:{padding:"20px",backgroundColor:"#2b2d31",borderRadius:"8px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"1px solid #1e1f22"},title:{color:"#fff",fontSize:"20px",margin:0,display:"flex",alignItems:"center",gap:"10px"},stats:{color:"#72767d",fontSize:"13px"},search:{position:"relative",marginBottom:"16px"},searchIcon:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#72767d",fontSize:"14px"},searchInput:{width:"100%",padding:"10px 10px 10px 36px",backgroundColor:"#1e1f22",border:"1px solid #4e5058",borderRadius:"6px",color:"#fff",fontSize:"14px"},categories:{display:"flex",gap:"8px",marginBottom:"20px",overflowX:"auto"},categoryButton:{padding:"8px 16px",backgroundColor:"#1e1f22",border:"1px solid #4e5058",borderRadius:"6px",color:"#b9bbbe",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",whiteSpace:"nowrap",transition:"all 0.2s"},categoryButtonActive:{backgroundColor:"#5865f2",borderColor:"#5865f2",color:"#fff"},categoryIcon:{fontSize:"16px"},categoryCount:{fontSize:"12px",opacity:.7},fileList:{display:"grid",gap:"8px"},loading:{textAlign:"center",padding:"40px",color:"#b9bbbe"},empty:{textAlign:"center",padding:"60px 20px",color:"#b9bbbe"},emptyIcon:{fontSize:"64px",opacity:.3,marginBottom:"20px"},fileCard:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",backgroundColor:"#1e1f22",borderRadius:"6px",border:"1px solid transparent",transition:"border-color 0.2s"},fileIcon:{fontSize:"32px"},fileInfo:{flex:1,minWidth:0},fileName:{color:"#fff",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},fileMeta:{color:"#72767d",fontSize:"12px",marginTop:"4px"},downloadButton:{padding:"8px 12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"#fff",cursor:"pointer",fontSize:"14px",textDecoration:"none",display:"flex",alignItems:"center"}},N=I.memo(M);export{N as default};

{"version":3,"file":"EventCalendar-CqWzHANE.js","sources":["../../../src/components/EventCalendar.js"],"sourcesContent":["// frontend/src/components/EventCalendar.js\r\nimport { useState, useEffect } from 'react';\r\nimport { FaCalendarAlt, FaUsers, FaClock, FaMapMarkerAlt, FaPlus } from 'react-icons/fa';\r\n\r\nconst EventCalendar = ({ serverId, apiBaseUrl, fetchWithAuth }) => {\r\n    const [events, setEvents] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showCreateModal, setShowCreateModal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (serverId) {\r\n            loadEvents();\r\n        }\r\n    }, [serverId]);\r\n\r\n    const loadEvents = async () => {\r\n        try {\r\n            const response = await fetchWithAuth(`${apiBaseUrl}/events/?server=${serverId}`);\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setEvents(data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to load events:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleRSVP = async (eventId, status) => {\r\n        try {\r\n            const response = await fetchWithAuth(`${apiBaseUrl}/events/${eventId}/rsvp/`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ status })\r\n            });\r\n            if (response.ok) {\r\n                loadEvents(); // Reload to update counts\r\n            }\r\n        } catch (error) {\r\n            console.error('RSVP failed:', error);\r\n        }\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        const date = new Date(dateString);\r\n        const now = new Date();\r\n        const diffMs = date - now;\r\n        const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n\r\n        if (diffDays === 0) return 'Bugün';\r\n        if (diffDays === 1) return 'Yarın';\r\n        if (diffDays > 0 && diffDays < 7) return `${diffDays} gün sonra`;\r\n\r\n        return date.toLocaleDateString('tr-TR', {\r\n            day: 'numeric',\r\n            month: 'long',\r\n            year: 'numeric'\r\n        });\r\n    };\r\n\r\n    const formatTime = (dateString) => {\r\n        return new Date(dateString).toLocaleTimeString('tr-TR', {\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    if (loading) {\r\n        return <div style={styles.loading}>Etkinlikler yükleniyor...</div>;\r\n    }\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.header}>\r\n                <h2 style={styles.title}>\r\n                    <FaCalendarAlt /> Etkinlikler\r\n                </h2>\r\n                <button onClick={() => setShowCreateModal(true)} style={styles.createButton}>\r\n                    <FaPlus /> Etkinlik Oluştur\r\n                </button>\r\n            </div>\r\n\r\n            {events.length === 0 ? (\r\n                <div style={styles.empty}>\r\n                    <FaCalendarAlt style={styles.emptyIcon} />\r\n                    <p>Henüz etkinlik yok</p>\r\n                    <p style={styles.emptySubtext}>İlk etkinliği sen oluştur!</p>\r\n                </div>\r\n            ) : (\r\n                <div style={styles.eventsList}>\r\n                    {events.map(event => (\r\n                        <EventCard\r\n                            key={event.id}\r\n                            event={event}\r\n                            onRSVP={handleRSVP}\r\n                            formatDate={formatDate}\r\n                            formatTime={formatTime}\r\n                        />\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst EventCard = ({ event, onRSVP, formatDate, formatTime }) => {\r\n    const [userRsvp, setUserRsvp] = useState(null);\r\n\r\n    const handleRsvpClick = (status) => {\r\n        setUserRsvp(status);\r\n        onRSVP(event.id, status);\r\n    };\r\n\r\n    return (\r\n        <div style={styles.eventCard}>\r\n            <div style={styles.eventHeader}>\r\n                <h3 style={styles.eventTitle}>{event.title}</h3>\r\n                <span style={styles.eventDate}>{formatDate(event.start_time)}</span>\r\n            </div>\r\n\r\n            {event.description && (\r\n                <p style={styles.eventDescription}>{event.description}</p>\r\n            )}\r\n\r\n            <div style={styles.eventDetails}>\r\n                <div style={styles.detail}>\r\n                    <FaClock style={styles.detailIcon} />\r\n                    <span>{formatTime(event.start_time)} - {formatTime(event.end_time)}</span>\r\n                </div>\r\n\r\n                <div style={styles.detail}>\r\n                    <FaMapMarkerAlt style={styles.detailIcon} />\r\n                    <span>\r\n                        {event.location_type === 'voice'\r\n                            ? event.voice_channel_name || 'Sesli Kanal'\r\n                            : 'Dış Link'\r\n                        }\r\n                    </span>\r\n                </div>\r\n\r\n                <div style={styles.detail}>\r\n                    <FaUsers style={styles.detailIcon} />\r\n                    <span>\r\n                        {event.going_count} katılacak,\r\n                        {event.interested_count} ilgileniyor\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={styles.rsvpButtons}>\r\n                <button\r\n                    onClick={() => handleRsvpClick('going')}\r\n                    style={{\r\n                        ...styles.rsvpButton,\r\n                        ...(userRsvp === 'going' ? styles.rsvpButtonActive : {})\r\n                    }}\r\n                >\r\n                    ✓ Katılacağım\r\n                </button>\r\n                <button\r\n                    onClick={() => handleRsvpClick('interested')}\r\n                    style={{\r\n                        ...styles.rsvpButton,\r\n                        ...(userRsvp === 'interested' ? styles.rsvpButtonInterested : {})\r\n                    }}\r\n                >\r\n                    ⭐ İlgileniyorum\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    container: {\r\n        padding: '20px',\r\n        backgroundColor: '#2b2d31',\r\n        borderRadius: '8px',\r\n        minHeight: '400px'\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginBottom: '20px',\r\n        borderBottom: '1px solid #1e1f22',\r\n        paddingBottom: '15px'\r\n    },\r\n    title: {\r\n        color: '#fff',\r\n        fontSize: '20px',\r\n        margin: 0,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '10px'\r\n    },\r\n    createButton: {\r\n        backgroundColor: '#5865f2',\r\n        color: '#fff',\r\n        border: 'none',\r\n        borderRadius: '6px',\r\n        padding: '8px 16px',\r\n        cursor: 'pointer',\r\n        fontSize: '14px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '6px',\r\n        transition: 'background-color 0.2s'\r\n    },\r\n    loading: {\r\n        color: '#b9bbbe',\r\n        textAlign: 'center',\r\n        padding: '40px'\r\n    },\r\n    empty: {\r\n        textAlign: 'center',\r\n        padding: '60px 20px',\r\n        color: '#b9bbbe'\r\n    },\r\n    emptyIcon: {\r\n        fontSize: '64px',\r\n        opacity: 0.3,\r\n        marginBottom: '20px'\r\n    },\r\n    emptySubtext: {\r\n        fontSize: '14px',\r\n        opacity: 0.7\r\n    },\r\n    eventsList: {\r\n        display: 'grid',\r\n        gap: '15px'\r\n    },\r\n    eventCard: {\r\n        backgroundColor: '#1e1f22',\r\n        borderRadius: '8px',\r\n        padding: '16px',\r\n        border: '1px solid transparent',\r\n        transition: 'border-color 0.2s'\r\n    },\r\n    eventHeader: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'flex-start',\r\n        marginBottom: '10px'\r\n    },\r\n    eventTitle: {\r\n        color: '#fff',\r\n        fontSize: '18px',\r\n        margin: 0\r\n    },\r\n    eventDate: {\r\n        color: '#5865f2',\r\n        fontSize: '14px',\r\n        fontWeight: 'bold'\r\n    },\r\n    eventDescription: {\r\n        color: '#b9bbbe',\r\n        fontSize: '14px',\r\n        marginBottom: '12px'\r\n    },\r\n    eventDetails: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '8px',\r\n        marginBottom: '16px'\r\n    },\r\n    detail: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px',\r\n        color: '#b9bbbe',\r\n        fontSize: '13px'\r\n    },\r\n    detailIcon: {\r\n        color: '#72767d',\r\n        fontSize: '12px'\r\n    },\r\n    rsvpButtons: {\r\n        display: 'flex',\r\n        gap: '10px'\r\n    },\r\n    rsvpButton: {\r\n        flex: 1,\r\n        padding: '10px',\r\n        border: '1px solid #4e5058',\r\n        borderRadius: '6px',\r\n        backgroundColor: 'transparent',\r\n        color: '#b9bbbe',\r\n        cursor: 'pointer',\r\n        fontSize: '14px',\r\n        transition: 'all 0.2s'\r\n    },\r\n    rsvpButtonActive: {\r\n        backgroundColor: '#23a559',\r\n        borderColor: '#23a559',\r\n        color: '#fff'\r\n    },\r\n    rsvpButtonInterested: {\r\n        backgroundColor: '#f0b132',\r\n        borderColor: '#f0b132',\r\n        color: '#1e1f22'\r\n    }\r\n};\r\n\r\nexport default EventCalendar;\r\n\r\n\r\n\r\n"],"names":["useState","useEffect","jsx","jsxs"],"mappings":"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"}
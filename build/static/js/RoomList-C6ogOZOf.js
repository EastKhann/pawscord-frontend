import{b as be,r as s,n as e,f as fo,l as O}from"./react-core-zXIKm1Jm.js";import{ah as ho,j as yo,b1 as Xt,b0 as bo,be as vo,bn as ko,a as ye,d as Vt,ap as Qt,s as Pe,b3 as Ee,ab as jo,h as So,a6 as wo,g as Co,k as Io,b5 as zo,b6 as Ro,aY as le,bz as To,aB as Mo,bw as Jt,o as Do,M as $o,an as Yt,aa as it,G as Bo,R as Lo,am as Gt,at as Eo,bH as Po,e as Fo,J as Ao,C as Oo,n as _o,bI as Ko,x as No,bJ as Ho,u as Wo,bK as Jo,v as Yo,y as Go}from"./icons-vendor-BBdoVeJd.js";import{u as Uo,t as h}from"./index-C0UcZTeN.js";import{S as Xo}from"./crypto-vendor-D_AcF0lD.js";import{s as a,U as Vo}from"./UserFooter-BG1_IQ29.js";import Qo from"./InviteModal-2DonsWXY.js";import Zo from"./SavedMessagesModal-Bd4whfQ9.js";import{S as qo}from"./ScheduledMessageModal-CWp0hX5n.js";import er from"./WebhookManager-CzAWM2BE.js";import tr from"./ModeratorTools-DBR-N1Pb.js";import nr from"./VanityURLManager-9TmOBf8N.js";import{A as or}from"./AutoResponderManager-BsWDp4Qd.js";import rr from"./ChannelSettingsModal-CYLBVcaC.js";import{L as Ut}from"./LazyImage-rdPSnIcj.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-BSOZ7IB3.js";import"./router-vendor-ltdGXAv4.js";import"./state-vendor-8NbFPBhQ.js";const ir=v=>{if(!v)return"https://ui-avatars.com/api/?name=User&background=5865f2&color=fff&bold=true&size=128";const S=Xo.hash(v),w=parseInt(S.substring(0,8),16)%360;return`https://ui-avatars.com/api/?name=${encodeURIComponent(v)}&background=${w.toString(16).padStart(2,"0")}${((w+60)%360).toString(16).padStart(2,"0")}${((w+120)%360).toString(16).padStart(2,"0")}&color=fff&bold=true&size=128`},sr=({voiceUsers:v,roomName:S,currentUsername:w,remoteVolumes:u,setRemoteVolume:M,isClientInThisChannel:W,isPttActive:A,onUserAction:I,isAdmin:k,voiceChannels:m,friendsList:_=[],getDeterministicAvatar:j,allUsers:B=[]})=>{const T=j||ir,[f,J]=s.useState(null),[ne,oe]=s.useState(!1),[Y,V]=s.useState(!1),[G,z]=s.useState(null),{globalData:R}=Uo();s.useEffect(()=>{const c=()=>{J(null)};if(f)return window.addEventListener("click",c),()=>window.removeEventListener("click",c)},[f]);const d=v||R?.voice_users||{},p=d&&typeof d=="object"&&!Array.isArray(d)?d[S]||[]:[];s.useEffect(()=>{},[v,R,S,p]);const Q=s.useCallback((c,b)=>{const D=b.target.value;M(c,parseInt(D,10))},[M]),ve=s.useCallback((c,b)=>{c.preventDefault(),b.username!==w&&J({x:c.clientX,y:c.clientY,user:b})},[w]),ke=s.useCallback(()=>{J(null),oe(!1)},[]),ee=s.useCallback((c,b)=>{f&&I&&(c==="move"&&b?I(c,f.user.username,b):I(c,f.user.username)),ke()},[f,I,ke]),Fe=s.useCallback(c=>{c.username!==w&&I&&I("profile",c.username)},[w,I]),je=s.useCallback((c,b)=>{if(!k)return;V(!0),z(b.username),c.dataTransfer.setData("application/json",JSON.stringify({username:b.username,fromChannel:S})),c.dataTransfer.effectAllowed="move";const D=document.createElement("div");D.style.cssText="position:fixed;top:-1000px;background:linear-gradient(135deg,#5865f2,#7289da);color:#fff;padding:8px 16px;border-radius:10px;font-size:13px;font-weight:600;box-shadow:0 4px 20px rgba(88,101,242,0.6);display:flex;align-items:center;gap:8px;z-index:99999;",D.innerHTML="ðŸ”€ "+b.username,document.body.appendChild(D),c.dataTransfer.setDragImage(D,60,20),setTimeout(()=>document.body.removeChild(D),0)},[k,S]),Ae=s.useCallback(()=>{V(!1),z(null)},[]);return!d||typeof d!="object"||Array.isArray(d)?(console.warn(`âš ï¸ [VoiceUserList] ${S}: Invalid voiceUsers structure:`,d),null):!Array.isArray(p)||p.length===0?null:e.jsxs("div",{style:x.container,children:[e.jsx("div",{style:x.userList,children:p.map(c=>{const b=c.username,D=c.is_talking,K=c.is_mic_off,N=c.is_deafened,Ie=c.is_sharing;let se,re=x.activeUser;N?(se="ðŸ”•",re=x.deafenedUser):D?(se="ðŸ—£ï¸",re=x.talkingUser):K?(se="ðŸ”‡",re=x.mutedUser):(se="ðŸŽ¤",re=x.activeUser);const ze=b===w;let de=c.avatar||c.avatarUrl;return de||(de=B.find(Re=>Re.username===b)?.avatar||T(b)),ze?e.jsxs("div",{style:x.userItemNew,children:[e.jsxs("div",{style:x.avatarContainer,children:[e.jsx("img",{src:de,alt:b,onError:U=>{U.target.onerror=null,U.target.src=T(b)},style:{...x.avatar,border:D?"2px solid #4CAF50":"2px solid transparent",boxShadow:D?"0 0 10px rgba(76, 175, 80, 0.6)":"none"}}),e.jsx("div",{style:{...x.statusBadge,background:N?"#e74c3c":K?"#e67e22":"#43b581"},children:se})]}),e.jsxs("div",{style:x.userInfo,children:[e.jsxs("span",{className:W&&A&&!D?"ptt-active":"",style:{...x.username,...re,fontWeight:"bold"},children:[b," ",e.jsx("span",{style:{fontSize:"0.85em",color:"#99aab5"},children:"(Sen)"})]}),Ie&&e.jsx("div",{style:x.sharingIndicator,children:"ðŸ–¥ï¸ Ekran PaylaÅŸÄ±yor"})]})]},b):e.jsx("div",{style:{...x.userItemNew,...k?{cursor:"grab"}:{},...Y&&G===b?{opacity:.4,border:"1px dashed rgba(88, 101, 242, 0.5)",background:"rgba(88, 101, 242, 0.05)"}:{}},draggable:k,onDragStart:U=>je(U,c),onDragEnd:Ae,onContextMenu:U=>ve(U,c),children:e.jsxs("div",{style:x.userClickArea,onClick:()=>Fe(c),children:[e.jsxs("div",{style:x.avatarContainer,children:[e.jsx("img",{src:de,alt:b,onError:U=>{U.target.onerror=null,U.target.src=T(b)},style:{...x.avatar,border:D?"2px solid #4CAF50":"2px solid transparent",boxShadow:D?"0 0 10px rgba(76, 175, 80, 0.6)":"none"}}),e.jsx("div",{style:{...x.statusBadge,background:N?"#e74c3c":K?"#e67e22":"#43b581"},children:se})]}),e.jsxs("div",{style:x.userInfo,children:[e.jsx("span",{className:D?"voice-user-item is-talking":"",style:{...x.username,...re},children:b}),Ie&&e.jsx("div",{style:x.sharingIndicator,children:"ðŸ–¥ï¸ Ekran PaylaÅŸÄ±yor"})]})]})},b)})}),f&&fo.createPortal(e.jsxs("div",{style:{...x.contextMenu,left:`${Math.min(f.x,window.innerWidth-250)}px`,top:`${Math.min(f.y,window.innerHeight-400)}px`,position:"fixed",zIndex:2147483647},onClick:c=>c.stopPropagation(),children:[e.jsx("div",{style:x.menuHeader,children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("img",{src:(()=>{const c=f.user;let b=c.avatar||c.avatarUrl;return b||(b=B.find(K=>K.username===c.username)?.avatar||T(c.username)),b})(),alt:f.user.username,onError:c=>{c.target.onerror=null,c.target.src=T(f.user.username)},style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:"2px solid #5865f2"}}),e.jsx("span",{style:{fontWeight:"600"},children:f.user.username})]})}),W&&e.jsxs("div",{style:x.volumeSection,children:[e.jsxs("div",{style:{fontSize:"11px",color:"#b9bbbe",marginBottom:"4px",display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"ðŸ”Š Ses Seviyesi"}),e.jsxs("span",{children:[u[f.user.username]||100,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"200",value:u[f.user.username]||100,onChange:c=>Q(f.user.username,c),style:{...x.volumeSlider,background:`linear-gradient(to right, #5865f2 0%, #5865f2 ${(u[f.user.username]||100)/200*100}%, rgba(255,255,255,0.1) ${(u[f.user.username]||100)/200*100}%, rgba(255,255,255,0.1) 100%)`}})]}),e.jsxs("div",{style:x.menuSection,children:[e.jsx("div",{style:x.menuItem,onClick:()=>ee("profile"),children:"ðŸ‘¤ Profili GÃ¶rÃ¼ntÃ¼le"}),e.jsx("div",{style:x.menuItem,onClick:()=>ee("dm"),children:"ðŸ’¬ Ã–zelden Mesaj At"}),f.user.username!==w&&!_.some(c=>c.sender_username===f.user.username||c.receiver_username===f.user.username)&&e.jsx("div",{style:x.menuItem,onClick:()=>ee("add_friend"),children:"âž• ArkadaÅŸ Ekle"})]}),k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:x.menuDivider}),e.jsxs("div",{style:x.menuSection,children:[e.jsx("div",{style:{fontSize:"10px",color:"#b9bbbe",padding:"4px 8px",fontWeight:"600"},children:"âš¡ MOD ARAÃ‡LARI"}),e.jsx("div",{style:x.menuItem,onClick:()=>oe(!ne),children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsx("span",{children:"ðŸ”€ BaÅŸka Kanala TaÅŸÄ±"}),e.jsx("span",{style:{fontSize:"10px",transform:ne?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"â€º"})]})}),ne&&m&&m.length>0&&e.jsxs("div",{style:{padding:"4px 0",background:"rgba(88, 101, 242, 0.05)",borderTop:"1px solid rgba(88, 101, 242, 0.15)",borderBottom:"1px solid rgba(88, 101, 242, 0.15)",margin:"2px 0"},children:[m.filter(c=>c.slug!==S).map(c=>e.jsxs("div",{style:{...x.menuItem,paddingLeft:"24px",fontSize:"0.82em",display:"flex",alignItems:"center",gap:"8px"},onClick:()=>ee("move",c.slug),children:[e.jsx("span",{style:{color:"#5865f2"},children:"ðŸ”Š"})," ",c.name]},c.slug)),m.filter(c=>c.slug!==S).length===0&&e.jsx("div",{style:{...x.menuItem,color:"#72767d",cursor:"default",paddingLeft:"24px",fontSize:"0.82em"},children:"BaÅŸka kanal yok"})]}),e.jsx("div",{style:x.menuItem,onClick:()=>ee("kick"),children:"âŒ Kanaldan At"}),e.jsx("div",{style:x.menuItem,onClick:()=>ee("server_mute"),children:"ðŸ”‡ Sunucu Sustur"}),e.jsx("div",{style:x.menuItem,onClick:()=>ee("server_deafen"),children:"ðŸ™‰ Sunucu SaÄŸÄ±rlaÅŸtÄ±r"})]})]}),!k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:x.menuDivider}),e.jsx("div",{style:x.menuItem,onClick:()=>ee("mute_local"),children:"ðŸ”‡ Sessize Al (Sadece Sen DuymazsÄ±n)"})]})]}),document.getElementById("portal-root")||document.body)]})},x={container:{width:"100%",backgroundColor:"transparent",color:"#ccc",padding:"4px 0",minHeight:"30px",maxHeight:"400px",overflowY:"auto"},userList:{padding:"0 2px",display:"flex",flexDirection:"column",gap:"2px"},userItemNew:{padding:"4px 6px",fontSize:"0.8em",borderRadius:"4px",background:"rgba(255, 255, 255, 0.02)",transition:"all 0.15s ease",cursor:"pointer",border:"1px solid transparent",display:"flex",flexDirection:"row",alignItems:"center"},userClickArea:{display:"flex",alignItems:"center",gap:"6px",width:"100%",flexDirection:"row"},avatarContainer:{position:"relative",flexShrink:0,width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},avatar:{width:"22px",height:"22px",borderRadius:"50%",objectFit:"cover",transition:"all 0.2s ease",display:"block",backgroundColor:"#2f3136",flexShrink:0,minWidth:"22px",minHeight:"22px"},statusBadge:{position:"absolute",bottom:"-2px",right:"-2px",width:"10px",height:"10px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"6px",border:"1px solid #2f3136",boxShadow:"0 1px 2px rgba(0,0,0,0.3)"},userInfo:{flex:1,overflow:"hidden",marginLeft:"2px"},username:{display:"block",fontSize:"0.85em",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},sharingIndicator:{fontSize:"0.65em",color:"#5865f2",marginTop:"0",fontWeight:"500"},talkingUser:{color:"#4CAF50",fontWeight:"bold"},activeUser:{color:"#CCCCCC"},mutedUser:{color:"#e67e22"},deafenedUser:{color:"#e74c3c"},volumeSlider:{flexGrow:1,height:"3px",cursor:"pointer",borderRadius:"2px",WebkitAppearance:"none",background:"rgba(255, 255, 255, 0.1)",outline:"none"},contextMenu:{position:"fixed",backgroundColor:"#18191c",border:"1px solid #2b2d31",borderRadius:"6px",boxShadow:"0 8px 16px rgba(0,0,0,0.5)",zIndex:1e4,minWidth:"220px",maxWidth:"280px",overflow:"visible"},menuHeader:{padding:"12px",fontWeight:"600",color:"#fff",backgroundColor:"#2b2d31",fontSize:"0.9em",borderBottom:"1px solid #1e1f22"},menuSection:{padding:"4px 0"},menuDivider:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 0"},volumeSection:{padding:"10px 12px",backgroundColor:"#1e1f22",borderBottom:"1px solid #2b2d31"},menuItem:{padding:"8px 12px",cursor:"pointer",color:"#b5bac1",fontSize:"0.85em",transition:"background-color 0.15s, color 0.15s",position:"relative"}},st=document.createElement("style");st.textContent=`
    div[style*="userItemNew"]:hover {
        background: rgba(88, 101, 242, 0.08) !important;
        border-color: rgba(88, 101, 242, 0.2) !important;
        transform: translateX(1px);
    }
    
    .user-context-menu-item:hover {
        background-color: rgba(88, 101, 242, 0.3) !important;
        color: #fff !important;
    }
    
    .user-context-menu-item-danger:hover {
        background-color: rgba(237, 66, 69, 0.2) !important;
        color: #ed4245 !important;
    }
    
    .user-context-submenu-item:hover {
        background-color: rgba(88, 101, 242, 0.3) !important;
        color: #fff !important;
    }
    
    /* Drag & Drop styling */
    .voice-user-dragging {
        opacity: 0.4 !important;
        border: 1px dashed rgba(88, 101, 242, 0.5) !important;
    }
    
    .voice-channel-drop-target {
        background: rgba(88, 101, 242, 0.15) !important;
        border-color: rgba(88, 101, 242, 0.6) !important;
        box-shadow: inset 0 0 12px rgba(88, 101, 242, 0.2) !important;
    }
    
    .voice-channel-drop-target::after {
        content: 'ðŸ”€ Buraya bÄ±rak';
        position: absolute;
        right: 8px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 10px;
        color: #5865f2;
        font-weight: 600;
        background: rgba(88, 101, 242, 0.15);
        padding: 2px 8px;
        border-radius: 4px;
    }

    /* Volume slider styling */
    input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #5865f2;
        cursor: pointer;
        box-shadow: 0 0 3px rgba(88, 101, 242, 0.5);
    }
    
    input[type="range"]::-moz-range-thumb {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: #5865f2;
        cursor: pointer;
        border: none;
        box-shadow: 0 0 3px rgba(88, 101, 242, 0.5);
    }
`;document.head.querySelector("style[data-voice-user-list]")||(st.setAttribute("data-voice-user-list","true"),document.head.appendChild(st));const ar=be.memo(sr),lr=({onClose:v,isAdmin:S,onOpenWebhooks:w,onOpenModerator:u,onExportData:M,onShowAuditLogs:W,onShowReports:A})=>{const I=[{icon:ho,label:"ModeratÃ¶r AraÃ§larÄ±",onClick:u,color:"#f04747"},{icon:yo,label:"Webhook YÃ¶netimi",onClick:w,color:"#5865f2"},{icon:Xt,label:"Audit LoglarÄ±",onClick:W,color:"#faa61a"},{icon:bo,label:"RaporlarÄ± GÃ¶rÃ¼ntÃ¼le",onClick:A,color:"#f04747"},{icon:vo,label:"Veri DÄ±ÅŸa Aktar",onClick:M,color:"#43b581"},{icon:ko,label:"Sunucu Ä°statistikleri",onClick:()=>window.open("/analytics","_blank"),color:"#f0b132"}];return e.jsx("div",{style:Ce.overlay,onClick:v,children:e.jsxs("div",{style:Ce.menu,onClick:k=>k.stopPropagation(),children:[e.jsx("h3",{style:Ce.title,children:"âš¡ HÄ±zlÄ± Ä°ÅŸlemler"}),e.jsx("div",{style:Ce.actions,children:I.map((k,m)=>e.jsxs("button",{onClick:()=>{k.onClick?.(),v()},style:{...Ce.actionButton,backgroundColor:k.color},children:[e.jsx(k.icon,{style:{fontSize:"1.2em"}}),e.jsx("span",{children:k.label})]},m))})]})})},Ce={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},menu:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",width:"90%",maxWidth:"400px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},title:{color:"white",margin:"0 0 15px 0",fontSize:"1.2em",textAlign:"center"},actions:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},actionButton:{padding:"15px 10px",border:"none",borderRadius:"8px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontSize:"0.9em",transition:"transform 0.2s",":hover":{transform:"scale(1.05)"}}},dr=be.memo(lr),cr=({onClose:v,fetchWithAuth:S,apiBaseUrl:w})=>{const[u,M]=s.useState([]),[W,A]=s.useState(!0),[I,k]=s.useState("all");s.useEffect(()=>{m()},[I]);const m=async()=>{try{const j=await S(`${w}/audit/logs/?filter=${I}`);if(j.ok){const B=await j.json();M(B.logs||[])}}catch(j){console.error("Load audit logs error:",j)}finally{A(!1)}},_=j=>j.includes("delete")||j.includes("ban")?"#f04747":j.includes("create")||j.includes("add")?"#43b581":j.includes("update")||j.includes("edit")?"#faa61a":"#5865f2";return e.jsx("div",{style:E.overlay,onClick:v,children:e.jsxs("div",{style:E.modal,onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{style:E.header,children:[e.jsxs("h2",{style:E.title,children:[e.jsx(Xt,{})," Audit LoglarÄ±"]}),e.jsx("button",{onClick:v,style:E.closeButton,children:e.jsx(ye,{})})]}),e.jsxs("div",{style:E.filters,children:[e.jsx("button",{onClick:()=>k("all"),style:{...E.filterButton,backgroundColor:I==="all"?"#5865f2":"#40444b"},children:"TÃ¼mÃ¼"}),e.jsx("button",{onClick:()=>k("moderation"),style:{...E.filterButton,backgroundColor:I==="moderation"?"#5865f2":"#40444b"},children:"Moderasyon"}),e.jsx("button",{onClick:()=>k("server"),style:{...E.filterButton,backgroundColor:I==="server"?"#5865f2":"#40444b"},children:"Sunucu"}),e.jsx("button",{onClick:()=>k("user"),style:{...E.filterButton,backgroundColor:I==="user"?"#5865f2":"#40444b"},children:"KullanÄ±cÄ±"})]}),e.jsx("div",{style:E.content,children:W?e.jsx("div",{style:E.loading,children:"YÃ¼kleniyor..."}):u.length===0?e.jsx("div",{style:E.empty,children:"Log bulunamadÄ±"}):e.jsx("div",{style:E.logList,children:u.map((j,B)=>e.jsxs("div",{style:E.logItem,children:[e.jsx("div",{style:{...E.actionBadge,backgroundColor:_(j.action)},children:j.action}),e.jsxs("div",{style:E.logDetails,children:[e.jsx("div",{style:E.logUser,children:j.user}),e.jsx("div",{style:E.logDescription,children:j.description}),e.jsx("div",{style:E.logTime,children:new Date(j.timestamp).toLocaleString("tr-TR")})]})]},B))})})]})})},E={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},filters:{display:"flex",gap:"8px",padding:"15px",borderBottom:"1px solid #40444b"},filterButton:{padding:"8px 15px",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",fontSize:"0.85em"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},logList:{display:"flex",flexDirection:"column",gap:"10px"},logItem:{backgroundColor:"#40444b",padding:"12px",borderRadius:"8px",display:"flex",gap:"12px"},actionBadge:{padding:"4px 8px",borderRadius:"4px",color:"white",fontWeight:"bold",fontSize:"0.75em",height:"fit-content",textTransform:"uppercase"},logDetails:{flex:1},logUser:{color:"#5865f2",fontWeight:"bold",marginBottom:"4px"},logDescription:{color:"#dcddde",fontSize:"0.9em",marginBottom:"4px"},logTime:{color:"#72767d",fontSize:"0.75em"}},ur=({onClose:v,fetchWithAuth:S,apiBaseUrl:w})=>{const[u,M]=s.useState([]),[W,A]=s.useState(!0);s.useEffect(()=>{I()},[]);const I=async()=>{try{const m=await S(`${w}/reports/list/`);if(m.ok){const _=await m.json();M(_.reports||[])}}catch(m){console.error("Load reports error:",m)}finally{A(!1)}},k=async(m,_)=>{try{(await S(`${w}/reports/handle/${m}/`,{method:"POST",body:JSON.stringify({action:_})})).ok&&(M(B=>B.filter(T=>T.id!==m)),h.success(`âœ… Rapor ${_==="approve"?"onaylandÄ±":"reddedildi"}`))}catch(j){console.error("Handle report error:",j)}};return e.jsx("div",{style:P.overlay,onClick:v,children:e.jsxs("div",{style:P.modal,onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{style:P.header,children:[e.jsxs("h2",{style:P.title,children:[e.jsx(Vt,{})," Raporlar (",u.length,")"]}),e.jsx("button",{onClick:v,style:P.closeButton,children:e.jsx(ye,{})})]}),e.jsx("div",{style:P.content,children:W?e.jsx("div",{style:P.loading,children:"YÃ¼kleniyor..."}):u.length===0?e.jsx("div",{style:P.empty,children:"Bekleyen rapor yok âœ…"}):e.jsx("div",{style:P.reportList,children:u.map(m=>e.jsxs("div",{style:P.reportItem,children:[e.jsxs("div",{style:P.reportHeader,children:[e.jsxs("span",{style:P.reporter,children:["Raporlayan: ",m.reporter]}),e.jsx("span",{style:P.timestamp,children:new Date(m.created_at).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:P.reportContent,children:[e.jsxs("div",{style:P.reportedUser,children:["Raporlanan: ",m.reported_user]}),e.jsxs("div",{style:P.reason,children:["Sebep: ",m.reason]}),m.message_preview&&e.jsxs("div",{style:P.messagePreview,children:['"',m.message_preview,'"']})]}),e.jsxs("div",{style:P.actions,children:[e.jsxs("button",{onClick:()=>k(m.id,"approve"),style:P.approveButton,children:[e.jsx(Qt,{})," Onayla"]}),e.jsxs("button",{onClick:()=>k(m.id,"reject"),style:P.rejectButton,children:[e.jsx(Pe,{})," Reddet"]})]})]},m.id))})})]})})},P={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#43b581",padding:"40px",fontSize:"1.2em"},reportList:{display:"flex",flexDirection:"column",gap:"15px"},reportItem:{backgroundColor:"#40444b",padding:"15px",borderRadius:"8px",borderLeft:"4px solid #f04747"},reportHeader:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},reporter:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},reportContent:{marginBottom:"15px"},reportedUser:{color:"#f04747",fontWeight:"bold",marginBottom:"5px"},reason:{color:"#dcddde",marginBottom:"8px",fontSize:"0.9em"},messagePreview:{backgroundColor:"#2b2d31",padding:"10px",borderRadius:"4px",color:"#b9bbbe",fontSize:"0.85em",fontStyle:"italic",borderLeft:"3px solid #5865f2"},actions:{display:"flex",gap:"10px"},approveButton:{flex:1,padding:"10px",backgroundColor:"#43b581",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},rejectButton:{flex:1,padding:"10px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"}},pr=be.memo(ur),xr=({x:v,y:S,server:w,isOwner:u,onClose:M,onLeaveServer:W,onServerSettings:A,onMuteServer:I,onUnmuteServer:k,onMoveUp:m,onMoveDown:_,onCopyInvite:j,onDeleteServer:B,onChangeIcon:T,onChangePrivacy:f,canMoveUp:J=!0,canMoveDown:ne=!0,isMuted:oe=!1})=>{const Y=s.useRef(null);s.useEffect(()=>{const z=d=>{Y.current&&!Y.current.contains(d.target)&&M()},R=d=>{d.key==="Escape"&&M()};return document.addEventListener("mousedown",z),document.addEventListener("keydown",R),()=>{document.removeEventListener("mousedown",z),document.removeEventListener("keydown",R)}},[M]),s.useEffect(()=>{if(Y.current){const z=Y.current.getBoundingClientRect(),R=window.innerWidth,d=window.innerHeight;let p=v,Q=S;z.right>R&&(p=R-z.width-10),z.bottom>d&&(Q=d-z.height-10),Y.current.style.left=`${p}px`,Y.current.style.top=`${Q}px`}},[v,S]);const V=z=>{z(),M()},G=[{icon:Ee,label:"Davet Linki Kopyala",action:j,show:!0,color:"#5865f2"},{divider:!0,show:!0},{icon:jo,label:"Sunucu Ä°konunu DeÄŸiÅŸtir",action:T,show:u,color:"#faa61a"},{icon:w.is_public?So:wo,label:w.is_public?"Ã–zel Yap":"Herkese AÃ§Ä±k Yap",action:f,show:u,color:w.is_public?"#ed4245":"#43b581"},{divider:!0,show:u},{icon:oe?Co:Io,label:oe?"Bildirimleri AÃ§":"Bildirimleri Kapat",action:oe?k:I,show:!0},{divider:!0,show:!0},{icon:zo,label:"YukarÄ± TaÅŸÄ±",action:m,show:J},{icon:Ro,label:"AÅŸaÄŸÄ± TaÅŸÄ±",action:_,show:ne},{divider:!0,show:J||ne},{icon:le,label:"Sunucu AyarlarÄ±",action:A,show:u},{icon:Pe,label:"Sunucuyu Sil",action:B,show:u,danger:!0},{divider:!0,show:!0},{icon:To,label:"Sunucudan AyrÄ±l",action:W,show:!u,danger:!0}];return e.jsxs("div",{ref:Y,className:"server-context-menu",style:he.menu,children:[e.jsx("div",{style:he.serverHeader,children:e.jsx("strong",{children:w.name})}),G.filter(z=>z.show).map((z,R)=>{if(z.divider)return e.jsx("div",{style:he.divider},`divider-${R}`);const d=z.icon;return e.jsxs("button",{onClick:()=>V(z.action),style:{...he.menuItem,...z.danger&&he.dangerItem,...z.color&&{color:z.color}},children:[e.jsx(d,{style:he.icon}),e.jsx("span",{children:z.label})]},R)})]})},he={menu:{position:"fixed",backgroundColor:"#111214",borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)",minWidth:"220px",padding:"6px",zIndex:1e5,animation:"contextMenuFadeIn 0.1s ease"},serverHeader:{padding:"8px 12px",color:"#fff",fontSize:"14px",borderBottom:"1px solid #2b2d31",marginBottom:"4px"},menuItem:{display:"flex",alignItems:"center",gap:"12px",width:"100%",padding:"8px 12px",background:"none",border:"none",color:"#b5bac1",fontSize:"14px",cursor:"pointer",borderRadius:"2px",transition:"all 0.15s",textAlign:"left"},dangerItem:{color:"#f23f43"},icon:{fontSize:"16px",flexShrink:0},divider:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 0"}};if(!document.getElementById("server-context-menu-styles")){const v=document.createElement("style");v.id="server-context-menu-styles",v.textContent=`
        @keyframes contextMenuFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Menu button hover effect */
        .server-context-menu button:hover {
            background-color: #5865f2 !important;
            color: #fff !important;
        }
        
        .server-context-menu button:active {
            transform: scale(0.98);
        }
        
        /* Menu container class */
        .server-context-menu {
            user-select: none;
        }
    `,document.head.appendChild(v)}const gr=be.memo(xr),mr=({isOpen:v,onClose:S,onConfirm:w,title:u="Emin misiniz?",message:M="Bu iÅŸlemi gerÃ§ekleÅŸtirmek istediÄŸinizden emin misiniz?",confirmText:W="Evet",cancelText:A="HayÄ±r",type:I="warning",requireTextConfirmation:k=!1,confirmationText:m="",inputPlaceholder:_="Onaylamak iÃ§in buraya yazÄ±n...",dangerDetails:j=null})=>{const[B,T]=s.useState(""),[f,J]=s.useState(!1);if(s.useEffect(()=>{v?(T(""),J(!1),document.body.style.overflow="hidden"):document.body.style.overflow="auto";const R=d=>{d.key==="Escape"&&!f&&S()};return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R),document.body.style.overflow="auto"}},[v,S,f]),!v)return null;const ne=async()=>{if(!(k&&B!==m)){J(!0);try{await w(),S()}catch(R){console.error("Confirm action failed:",R)}finally{J(!1)}}},oe=R=>{R.target===R.currentTarget&&!f&&S()},Y={warning:{icon:e.jsx(Vt,{}),color:"#f39c12",gradient:"linear-gradient(135deg, #f39c12 0%, #e67e22 100%)"},danger:{icon:e.jsx(Pe,{}),color:"#e74c3c",gradient:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)"},info:{icon:e.jsx(Qt,{}),color:"#3498db",gradient:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)"}},V=Y[I]||Y.warning,G=!k||B===m,z=e.jsx("div",{style:$.overlay,onClick:oe,children:e.jsxs("div",{style:$.modal,children:[e.jsxs("div",{style:{...$.header,background:V.gradient},children:[e.jsx("div",{style:$.headerIcon,children:V.icon}),e.jsx("h2",{style:$.title,children:u}),e.jsx("button",{onClick:S,disabled:f,style:$.closeButton,title:"Kapat",children:e.jsx(ye,{})})]}),e.jsxs("div",{style:$.body,children:[e.jsx("p",{style:$.message,children:M}),j&&j.length>0&&e.jsxs("div",{style:$.dangerBox,children:[e.jsx("div",{style:$.dangerHeader,children:"âš ï¸ Bu iÅŸlem:"}),e.jsx("ul",{style:$.dangerList,children:j.map((R,d)=>e.jsxs("li",{style:$.dangerItem,children:["â€¢ ",R]},d))}),e.jsx("div",{style:$.dangerFooter,children:"GERÄ° ALINAMAZ!"})]}),k&&e.jsxs("div",{style:$.inputContainer,children:[e.jsxs("label",{style:$.inputLabel,children:["Devam etmek iÃ§in ",e.jsxs("strong",{children:['"',m,'"']})," yazÄ±n:"]}),e.jsx("input",{type:"text",value:B,onChange:R=>T(R.target.value),placeholder:_,style:{...$.input,borderColor:B&&B!==m?"#e74c3c":"#4e5058"},disabled:f,autoFocus:!0}),B&&B!==m&&e.jsx("div",{style:$.inputError,children:"Metin eÅŸleÅŸmiyor"})]})]}),e.jsxs("div",{style:$.footer,children:[e.jsx("button",{onClick:S,disabled:f,style:$.cancelButton,children:A}),e.jsx("button",{onClick:ne,disabled:!G||f,style:{...$.confirmButton,background:G?V.gradient:"#4e5058",cursor:G&&!f?"pointer":"not-allowed",opacity:G&&!f?1:.6},children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:$.spinner})," Ä°ÅŸleniyor..."]}):W})]})]})});return O.createPortal(z,document.body)},$={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(6px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px",animation:"fadeIn 0.2s ease-out"},modal:{backgroundColor:"#2f3136",borderRadius:"12px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",animation:"slideUp 0.3s ease-out",overflow:"hidden"},header:{padding:"20px",display:"flex",alignItems:"center",gap:"12px",position:"relative"},headerIcon:{fontSize:"24px",color:"white",animation:"pulse 2s ease-in-out infinite"},title:{margin:0,fontSize:"20px",fontWeight:"bold",color:"white",flex:1},closeButton:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"6px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",cursor:"pointer",transition:"all 0.2s",fontSize:"16px"},body:{padding:"24px"},message:{margin:0,fontSize:"15px",lineHeight:"1.6",color:"#dcddde",marginBottom:"16px"},dangerBox:{backgroundColor:"rgba(231, 76, 60, 0.1)",border:"2px solid rgba(231, 76, 60, 0.3)",borderRadius:"8px",padding:"16px",marginTop:"16px"},dangerHeader:{fontSize:"14px",fontWeight:"bold",color:"#e74c3c",marginBottom:"8px"},dangerList:{margin:"8px 0",padding:"0 0 0 12px",listStyle:"none",color:"#dcddde"},dangerItem:{fontSize:"13px",lineHeight:"1.8",color:"#dcddde"},dangerFooter:{fontSize:"14px",fontWeight:"bold",color:"#e74c3c",marginTop:"12px",textAlign:"center",padding:"8px",backgroundColor:"rgba(231, 76, 60, 0.2)",borderRadius:"6px"},inputContainer:{marginTop:"20px"},inputLabel:{display:"block",fontSize:"14px",color:"#dcddde",marginBottom:"8px"},input:{width:"100%",padding:"12px",backgroundColor:"#202225",border:"2px solid #4e5058",borderRadius:"6px",color:"#dcddde",fontSize:"14px",outline:"none",transition:"border-color 0.2s",boxSizing:"border-box"},inputError:{fontSize:"12px",color:"#e74c3c",marginTop:"6px"},footer:{padding:"16px 24px",backgroundColor:"#2b2d31",display:"flex",gap:"12px",justifyContent:"flex-end"},cancelButton:{padding:"10px 24px",backgroundColor:"transparent",border:"2px solid #4e5058",borderRadius:"6px",color:"#dcddde",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},confirmButton:{padding:"10px 24px",border:"none",borderRadius:"6px",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},spinner:{width:"14px",height:"14px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 0.6s linear infinite",display:"inline-block"}},Zt=document.createElement("style");Zt.textContent=`
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }
  
  @keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }
`;document.head.appendChild(Zt);const fr=({onFriendsClick:v,onWelcomeClick:S,isAdmin:w,categories:u=[],conversations:M=[],currentRoom:W,currentConversationId:A,onRoomSelect:I,onDMSelect:k,joinVoiceChat:m,leaveVoiceChat:_,unreadCounts:j={},voiceUsers:B,currentUsername:T,currentUserProfile:f,currentVoiceRoom:J,remoteVolumes:ne,setRemoteVolume:oe,onProfileClick:Y,onViewUserProfile:V,getDeterministicAvatar:G,isPttActive:z,setIsLeftSidebarVisible:R,apiBaseUrl:d,fetchWithAuth:p,activeChat:Q,onOpenServerSettings:ve,allUsers:ke,onlineUsers:ee,friendsList:Fe=[],pendingFriendRequests:je=0,toggleMute:Ae,toggleDeafened:c,isMuted:b,isDeafened:D,isInVoice:K,isConnecting:N,toggleVideo:Ie,toggleScreenShare:se,isVideoEnabled:re,isScreenSharing:ze,onServerDragStart:de,onServerDragOver:U,onServerDragEnd:Re,onServerDrop:at,updateAvailable:qt=!1,onUpdateClick:en,onOpenStore:tn,onOpenAnalytics:hr,onOpenAdminPanel:nn,onOpenPaymentPanel:lt,onOpenStoreModal:dt,onOpenDailyRewards:ct,onOpenAPIUsage:ut,onOpenExportJobs:pt,onOpenScheduledAnnouncements:xt,onOpenMiniGames:gt,onOpenProjectCollaboration:mt,onOpenAvatarStudio:ft,onServerSelect:ht})=>{const Te=j||{},Oe=s.useCallback((t,n)=>{if(!t||typeof t!="string")return G(n);if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith("blob:")||t.includes("ui-avatars.com"))return t;let o=t.startsWith("/")?t:`/${t}`;return`${d}${o}`},[d,G]),on=W||(Q?.type==="room"?Q.id:null),[_e,yt]=s.useState(""),[X,pe]=s.useState("home"),[rn,sn]=s.useState({}),[an,Ke]=s.useState(null),[ln,Ne]=s.useState(null),[He,We]=s.useState(null),[H,xe]=s.useState(null),[L,ae]=s.useState(null),[dn,Se]=s.useState(!1),[cn,Je]=s.useState(!1),[un,ge]=s.useState(!1),[pn,Ye]=s.useState(!1),[xn,bt]=s.useState(!1),[vt,kt]=s.useState(null),[jt,gn]=s.useState(null),[mn,fn]=s.useState(!1),[hn,St]=s.useState(!1),[yn,bn]=s.useState(!1),[vn,me]=s.useState(!1),[kn,wt]=s.useState(!1),[jn,Ct]=s.useState(!1),[Sn,It]=s.useState(!1),[wn,zt]=s.useState(!1),[Cn,Ge]=s.useState(!1),[Me,Ue]=s.useState(null),[yr,br]=s.useState(!1),[Rt,In]=s.useState([]),[Xe,Tt]=s.useState(null),[Z,te]=s.useState(null),[De,$e]=s.useState(null),[ce,Mt]=s.useState(null),[Dt,fe]=s.useState(null),[Be,Le]=s.useState(""),[zn,$t]=s.useState(()=>{const t=localStorage.getItem("mutedServers");return t?JSON.parse(t):[]}),[Ve,Bt]=s.useState(""),[Rn,Qe]=s.useState(null),[Ze,Lt]=s.useState(""),[Tn,qe]=s.useState(null),[et,Et]=s.useState(""),[Pt,Mn]=s.useState("text"),[Ft,At]=s.useState(!1),tt=B||{},[we,nt]=s.useState(null);s.useEffect(()=>{Q&&(Q.type==="welcome"||Q.type==="friends"||Q.type==="dm")&&pe("home")},[Q]),s.useEffect(()=>{const t=()=>te(null);if(Z)return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[Z]);const Dn=t=>sn(n=>({...n,[t]:!n[t]})),$n=t=>{pe(t.id),ht&&ht(t)},Ot=(t,n,o,r)=>{t.stopPropagation(),console.log("ðŸŽ¯ Context menu aÃ§Ä±lÄ±yor:",{type:n,id:o,name:r}),xe({type:n,id:o,name:r})},Bn=t=>{t.preventDefault(),H.type==="category"?(fe(`cat-${H.id}`),Le(H.name)):(fe(`room-${H.id}`),Le(H.name)),xe(null)},Ln=t=>{H.type==="category"?ao(t,H.id):co(t,H.id),xe(null)},En=t=>{if(t.preventDefault(),console.log("ðŸ”§ executeSettings Ã§aÄŸrÄ±ldÄ±:",H),console.log("ðŸ”§ Mevcut servers:",u),console.log("ðŸ”§ selectedServerId:",X),H.type==="room"){let n=null,o=null;u?.forEach(r=>{console.log(`ðŸ” ${r.name} sunucusunda arÄ±yorum...`),r.categories?.forEach(l=>{if(console.log(`  ðŸ“ ${l.name} kategorisinde arÄ±yorum...`),l.rooms){const y=l.rooms.find(i=>i.slug===H.id);y&&(console.log("  âœ… Kanal bulundu:",y),n={...y,server_id:r.id,category_id:l.id},o=r.id)}})}),n?(console.log("âœ… Kanal ayarlarÄ± aÃ§Ä±lÄ±yor:",n),Ue(n),pe(o),Ge(!0)):(console.error("âŒ Kanal bulunamadÄ±:",H.id),h.error("Kanal ayarlarÄ± aÃ§Ä±lÄ±rken bir hata oluÅŸtu. Kanal bulunamadÄ±."))}xe(null)},_t=async(t,n,o)=>{try{const r=await p(`${d}/voice/move_user/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,from_channel:n,to_channel:o})});if(r.ok){const l=await r.json();console.log(`âœ… ${l.message||`${t} baÅŸarÄ±yla ${o} kanalÄ±na taÅŸÄ±ndÄ±!`}`)}else{const l=await r.json();console.error(`âŒ ${l.error||"KullanÄ±cÄ± taÅŸÄ±namadÄ±"}`)}}catch(r){console.error("âŒ KullanÄ±cÄ± taÅŸÄ±ma hatasÄ±:",r)}},Pn=async(t,n)=>{try{const o=await p(`${d}/voice/kick_user/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,channel:n})});if(o.ok){const r=await o.json();console.log(`âœ… ${r.message||`${t} kanaldan atÄ±ldÄ±!`}`)}else{const r=await o.json();console.error(`âŒ ${r.error||"KullanÄ±cÄ± atÄ±lamadÄ±"}`)}}catch(o){console.error("âŒ KullanÄ±cÄ± atma hatasÄ±:",o)}},Fn=(t,n)=>{t.preventDefault(),t.stopPropagation();const o=n.owner_username===T;ae({x:t.clientX,y:t.clientY,server:n,isOwner:o})},An=(t,n,o)=>{Ke(n),de&&de(t,n,o)},On=(t,n)=>{t.preventDefault();const o=t.currentTarget.getBoundingClientRect(),r=t.clientY,l=o.top+o.height/2,y=r<l?"before":"after";Ne(n),We(y),U&&U(t)},_n=t=>{Ke(null),Ne(null),We(null),Re&&Re(t)},Kn=(t,n)=>{const o=He;if(Ne(null),We(null),Ke(null),at){const r=o==="after"?n+1:n;at(t,r)}},Nn=async t=>{const n=u.find(o=>o.id===t);if(n&&n.owner&&n.owner.user.username===username){h.warning(`Sunucu sahibi sunucudan ayrÄ±lamaz!

Sunucuyu silmek iÃ§in:
1. Sunucuya saÄŸ tÄ±klayÄ±n
2. "Sunucuyu Sil" seÃ§eneÄŸini tÄ±klayÄ±n

Veya Ã¶nce sahipliÄŸi baÅŸka birine devredin.`,7e3);return}if(window.confirm("Bu sunucudan ayrÄ±lmak istediÄŸinizden emin misiniz?"))try{const o=await p(`${d}/servers/${t}/leave/`,{method:"POST"});if(o.ok){const r=await o.json();console.log("âœ… Sunucudan ayrÄ±ldÄ±nÄ±z:",r),pe("home"),S(),window.location.reload()}else{const l=(await o.json()).error||"Sunucudan ayrÄ±lÄ±rken hata oluÅŸtu";console.error("âŒ Sunucudan ayrÄ±lma hatasÄ±:",l),h.error(`âŒ Hata: ${l}

EÄŸer sunucu sahibiyseniz, sunucuyu silmeniz gerekir.
Sunucuya saÄŸ tÄ±klayÄ±p "Sunucuyu Sil" seÃ§eneÄŸini kullanÄ±n.`)}}catch(o){console.error("âŒ Sunucudan ayrÄ±lma hatasÄ±:",o),h.error("âŒ Sunucudan ayrÄ±lÄ±rken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}},Kt=async(t,n)=>{if(!u||!Array.isArray(u))return;const o=u.findIndex(g=>g.id===t);if(o===-1)return;const r=n==="up"?o-1:o+1;if(r<0||r>=u.length)return;const l=[...u],[y]=l.splice(o,1);l.splice(r,0,y);const i=l.map((g,ie)=>({id:g.id,order:ie}));try{const g=await p(`${d}/servers/reorder/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"server",items:i})});if(g.ok)console.log("âœ… Sunucu sÄ±rasÄ± gÃ¼ncellendi");else{const ie=await g.json();console.error("âŒ SÄ±ralama hatasÄ±:",ie)}}catch(g){console.error("âŒ Sunucu sÄ±ralama hatasÄ±:",g)}},Hn=async t=>{const n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=async o=>{const r=o.target.files[0];if(!r)return;if(r.size>5*1024*1024){h.warning("Dosya boyutu Ã§ok bÃ¼yÃ¼k! Maksimum 5MB olmalÄ±dÄ±r.");return}const l=new FormData;l.append("icon",r);try{const y=await p(`${d}/servers/${t}/icon/`,{method:"POST",body:l});if(y.ok){const i=await y.json();console.log("âœ… Sunucu ikonu gÃ¼ncellendi:",i)}else{const i=await y.json();h.error(`Ä°kon gÃ¼ncellenirken hata: ${i.error||"Bilinmeyen hata"}`)}}catch(y){console.error("âŒ Ä°kon yÃ¼kleme hatasÄ±:",y),h.error("Ä°kon yÃ¼klenirken bir hata oluÅŸtu.")}},n.click()},Wn=async t=>{const n=u.find(l=>l.id===t);if(!n)return;const o=!n.is_public,r=o?"Sunucuyu herkese aÃ§Ä±k yapmak istediÄŸinize emin misiniz? Herkes bu sunucuyu bulabilir ve katÄ±labilir.":"Sunucuyu Ã¶zel yapmak istediÄŸinize emin misiniz? Sadece davet edilen kiÅŸiler katÄ±labilir.";if(window.confirm(r))try{const l=await p(`${d}/servers/${t}/privacy/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_public:o})});if(l.ok){const y=await l.json();console.log("âœ… Sunucu gizlilik ayarÄ± gÃ¼ncellendi:",y)}else{const y=await l.json();h.error(`Gizlilik ayarÄ± deÄŸiÅŸtirilirken hata: ${y.error||"Bilinmeyen hata"}`)}}catch(l){console.error("âŒ Gizlilik ayarÄ± hatasÄ±:",l),h.error("Gizlilik ayarÄ± deÄŸiÅŸtirilirken bir hata oluÅŸtu.")}},Jn=async t=>{try{const n=await p(`${d}/friends/send/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});if(n.ok)console.log(`âœ… ${t} kullanÄ±cÄ±sÄ±na arkadaÅŸlÄ±k isteÄŸi gÃ¶nderildi`),window.Notification&&Notification.permission==="granted"&&new Notification("ArkadaÅŸlÄ±k Ä°steÄŸi GÃ¶nderildi",{body:`${t} kullanÄ±cÄ±sÄ±na arkadaÅŸlÄ±k isteÄŸi gÃ¶nderildi!`,icon:"/logo192.png"});else{const o=await n.json();console.error(`âŒ ArkadaÅŸlÄ±k isteÄŸi hatasÄ±: ${o.error||"Bilinmeyen hata"}`)}}catch(n){console.error("âŒ ArkadaÅŸ ekleme hatasÄ±:",n)}},Yn=async t=>{try{const n=await p(`${d}/friends/remove/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t})});if(n.ok)console.log(`âœ… ${t} arkadaÅŸ listesinden Ã§Ä±karÄ±ldÄ±`),window.Notification&&Notification.permission==="granted"&&new Notification("ArkadaÅŸ Ã‡Ä±karÄ±ldÄ±",{body:`${t} arkadaÅŸ listesinden Ã§Ä±karÄ±ldÄ±.`,icon:"/logo192.png"});else{const o=await n.json();console.error(`âŒ ArkadaÅŸ Ã§Ä±karma hatasÄ±: ${o.error||"Bilinmeyen hata"}`)}}catch(n){console.error("âŒ ArkadaÅŸ Ã§Ä±karma hatasÄ±:",n)}},Gn=async t=>{try{const n=await p(`${d}/invites/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:t,max_uses:0,expires_hours:0})});if(n.ok){const o=await n.json(),r="https://www.pawscord.com",l=!0,y=l?r:window.location.origin;console.log("ðŸ” [Invite] URL Bilgileri:",{NODE_ENV:"production",hostname:window.location.hostname,origin:window.location.origin,isProduction:l,baseUrl:y});const i=`${y}/#/invite/${o.code}`;console.log("âœ… [Invite] OluÅŸturulan link:",i),await navigator.clipboard.writeText(i),h.success(`Davet linki kopyalandÄ±!

${i}`,4e3)}else{const o=await n.json();console.error("âŒ Davet oluÅŸturma hatasÄ±:",o.error||"Davet oluÅŸturulamadÄ±"),h.error(`Hata: ${o.error||"Davet oluÅŸturulamadÄ±"}`)}}catch(n){console.error("âŒ Davet kopyalama hatasÄ±:",n)}},ot=(t,n)=>{navigator.clipboard.writeText(t).then(()=>{Tt(n),setTimeout(()=>Tt(null),2e3)})},ue={sol:"Bk6ywhae86fp6BHmGtxabS6ncEGsFxhcnZEWJRZLVr9z",eth:"0xeaa14d4651a8ea7488289209b9294a1309dde37c",usdt:"TGAny6VmDAWdVmTXCPrpsbLKKQQdvyvnWC",coffee:"https://buymeacoffee.com/dogudoguweo"},Un=async()=>{Se(!0);try{const n=await(await p(`${d}/servers/public/`)).json();In(n)}catch(t){console.error("Sunucular Ã§ekilemedi",t)}},Xn=async t=>{try{(await p(`${d}/servers/${t}/join/`,{method:"POST"})).ok&&(console.log("âœ… Sunucuya katÄ±ldÄ±n!"),Se(!1),window.location.reload())}catch(n){console.error("âŒ Sunucuya katÄ±lma hatasÄ±:",n)}},Vn=async t=>{if(t.preventDefault(),!!_e.trim())try{const n=await p(`${d}/invites/join/`,{method:"POST",body:JSON.stringify({code:_e})}),o=await n.json();n.ok?(console.log(`âœ… BaÅŸarÄ±lÄ±! "${o.server_name}" sunucusuna katÄ±ldÄ±n.`),yt(""),Se(!1),window.location.reload()):console.error("âŒ Sunucuya katÄ±lma hatasÄ±:",o.error||"Sunucuya katÄ±lÄ±namadÄ±.")}catch(n){console.error("âŒ Davet kodu hatasÄ±:",n)}},Qn=(t,n)=>{t.stopPropagation(),kt(n),bt(!0)},Zn=async t=>{if(confirm("Bu konuÅŸmadaki tÃ¼m mesajlarÄ± silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz.")){try{const n=await p(`${d}/conversations/${t}/clear/`,{method:"POST"});if(n.ok)h.success("âœ… KonuÅŸma temizlendi!"),window.location.reload();else{const o=await n.json();h.error(`âŒ Hata: ${o.error||"KonuÅŸma temizlenemedi"}`)}}catch(n){console.error("âŒ DM clear error:",n),h.error("âŒ BaÄŸlantÄ± hatasÄ±")}te(null)}},qn=async t=>{if(confirm("Bu konuÅŸmayÄ± gizlemek istediÄŸinizden emin misiniz?")){try{const n=await p(`${d}/conversations/${t}/hide/`,{method:"POST"});if(n.ok)h.success("âœ… KonuÅŸma gizlendi!"),window.location.reload();else{const o=await n.json();h.error(`âŒ Hata: ${o.error||"KonuÅŸma gizlenemedi"}`)}}catch(n){console.error("âŒ DM hide error:",n),h.error("âŒ BaÄŸlantÄ± hatasÄ±")}te(null)}},eo=t=>{V?V(t):h.info(`ðŸ‘¤ ${t} profili gÃ¶rÃ¼ntÃ¼lenemiyor`),te(null)},to=t=>{if(!u||u.length===0){h.error("âŒ Davet edebileceÄŸiniz sunucu bulunmuyor"),te(null);return}$e({username:t,isOpen:!0}),te(null)},no=async(t,n)=>{try{const o=await p(`${d}/servers/${t}/invite/`,{method:"POST",body:JSON.stringify({target_username:n})});if(o.ok){const r=await o.json();h.success(`ðŸŽ« ${n} kullanÄ±cÄ±sÄ±na davetiye gÃ¶nderildi!`)}else{const r=await o.json();h.error(`âŒ ${r.error||"Davet gÃ¶nderilemedi"}`)}}catch(o){console.error("âŒ Invite error:",o),h.error("âŒ BaÄŸlantÄ± hatasÄ±")}$e(null)},oo=async(t,n)=>{try{const o=JSON.parse(localStorage.getItem("mutedDMUsers")||"{}");o[t]?(delete o[t],localStorage.setItem("mutedDMUsers",JSON.stringify(o)),h.success(`ðŸ”Š ${t} artÄ±k sessize alÄ±nmadÄ±`)):(o[t]={timestamp:Date.now(),conversationId:n},localStorage.setItem("mutedDMUsers",JSON.stringify(o)),h.success(`ðŸ”‡ ${t} sessize alÄ±ndÄ±. Bildirimleri almayacaksÄ±nÄ±z.`))}catch(o){console.error("âŒ Mute error:",o),h.error("âŒ Sessize alma hatasÄ±")}te(null)},ro=async t=>{try{const n=JSON.parse(localStorage.getItem("pinnedConversations")||"[]");if(n.includes(t)){const o=n.filter(r=>r!==t);localStorage.setItem("pinnedConversations",JSON.stringify(o)),h.success("ðŸ“Œ KonuÅŸma sabitleme kaldÄ±rÄ±ldÄ±")}else n.length>=5?h.warning("âš ï¸ En fazla 5 konuÅŸma sabitleyebilirsiniz"):(n.push(t),localStorage.setItem("pinnedConversations",JSON.stringify(n)),h.success("ðŸ“Œ KonuÅŸma sabitlendi!"))}catch(n){console.error("âŒ Pin error:",n),h.error("âŒ Sabitleme hatasÄ±")}te(null)},io=async t=>{if(confirm(`${t} kullanÄ±cÄ±sÄ±nÄ± engellemek istediÄŸinizden emin misiniz?`)){try{(await p(`${d}/users/${t}/block/`,{method:"POST"})).ok?(h.success(`âœ… ${t} engellendi!`),window.location.reload()):h.error("âŒ KullanÄ±cÄ± engellenemedi")}catch(n){console.error("âŒ Block error:",n),h.error("âŒ BaÄŸlantÄ± hatasÄ±")}te(null)}},so=async(t,n)=>{t.preventDefault(),await p(`${d}/categories/${n}/rename/`,{method:"POST",body:JSON.stringify({new_name:Be})}),fe(null)},ao=async(t,n)=>{t.stopPropagation(),window.confirm("Kategoriyi silmek istediÄŸine emin misin? Ä°Ã§indeki odalar da silinecek!")&&await p(`${d}/categories/${n}/delete/`,{method:"POST"})},lo=async(t,n)=>{t.preventDefault(),await p(`${d}/rooms/${n}/rename/`,{method:"POST",body:JSON.stringify({new_name:Be})}),fe(null)},co=async(t,n)=>{t.stopPropagation(),window.confirm("KanalÄ± silmek istediÄŸine emin misin?")&&await p(`${d}/rooms/${n}/delete/`,{method:"POST"})},uo=async t=>{t.preventDefault(),Ve.trim()&&(await p(`${d}/servers/create/`,{method:"POST",body:JSON.stringify({name:Ve,is_public:Ft})}),Bt(""),At(!1),Ye(!1),ge(!1))},po=async(t,n)=>{t.preventDefault(),Ze.trim()&&(await p(`${d}/categories/create/`,{method:"POST",body:JSON.stringify({server_id:n,name:Ze})}),Lt(""),Qe(null))},xo=async(t,n)=>{t.preventDefault(),et.trim()&&(await p(`${d}/categories/${n}/create_room/`,{method:"POST",body:JSON.stringify({name:et,channel_type:Pt})}),Et(""),qe(null))};return e.jsxs("div",{style:{display:"flex",width:"100%",height:"100%"},children:[H&&e.jsx("div",{style:a.modalOverlay,onClick:()=>xe(null),children:e.jsxs("div",{style:{...a.selectionModalContent,width:"250px"},onClick:t=>t.stopPropagation(),children:[e.jsx("h4",{style:{color:"white",marginTop:0,borderBottom:"1px solid #4f545c",paddingBottom:10},children:H.name}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[H.type==="room"&&e.jsxs("button",{onClick:En,style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(le,{})," Kanal AyarlarÄ±"]}),e.jsxs("button",{onClick:Bn,style:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(Mo,{})," Yeniden AdlandÄ±r"]}),e.jsxs("button",{onClick:Ln,style:{backgroundColor:"#da373c",color:"white",border:"none",padding:"10px",borderRadius:4,cursor:"pointer",display:"flex",alignItems:"center",gap:10},children:[e.jsx(Pe,{})," Sil"]})]}),e.jsx("button",{style:{marginTop:15,background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",width:"100%"},onClick:()=>xe(null),children:"Ä°ptal"})]})}),cn&&e.jsx("div",{style:a.modalOverlay,onClick:()=>Je(!1),children:e.jsxs("div",{style:a.selectionModalContent,onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[e.jsxs("h3",{style:{color:"white",margin:0},children:["Bizi Destekle ",e.jsx(Jt,{color:"#eb459e"})]}),e.jsx(ye,{style:{cursor:"pointer",color:"#b9bbbe"},onClick:()=>Je(!1)})]}),e.jsxs("div",{style:{backgroundColor:"#1e1f22",padding:15,borderRadius:8,marginBottom:15},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:10},children:[e.jsx(Do,{color:"#FFDD00",size:24}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{color:"white",fontWeight:"bold"},children:"Buy Me a Coffee"}),e.jsx("div",{style:{fontSize:"0.8em",color:"#b9bbbe"},children:"En kolay destek yÃ¶ntemi"})]})]}),e.jsx("button",{onClick:()=>window.open(ue.coffee,"_blank"),style:{width:"100%",padding:10,backgroundColor:"#FFDD00",border:"none",borderRadius:6,fontWeight:"bold",cursor:"pointer"},children:"Kahve Ismarla â˜•"})]}),e.jsxs("div",{style:{backgroundColor:"#1e1f22",padding:15,borderRadius:8},children:[e.jsxs("h4",{style:{margin:"0 0 10px 0",color:"white",textAlign:"left"},children:[e.jsx($o,{color:"#f7931a"})," Kripto ile Destek"]}),e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"Solana (SOL)"}),e.jsx("button",{onClick:()=>ot(ue.sol,"sol"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:Xe==="sol"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Ee,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:ue.sol})]}),e.jsxs("div",{style:{marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"Ethereum (ETH)"}),e.jsx("button",{onClick:()=>ot(ue.eth,"eth"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:Xe==="eth"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Ee,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:ue.eth})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9em",color:"#b9bbbe",marginBottom:5},children:[e.jsx("span",{children:"USDT (TRC20)"}),e.jsx("button",{onClick:()=>ot(ue.usdt,"usdt"),style:{cursor:"pointer",color:"#5865f2",display:"flex",alignItems:"center",gap:5,background:"none",border:"none",padding:0,fontSize:"inherit"},children:Xe==="usdt"?"KopyalandÄ±!":e.jsxs(e.Fragment,{children:[e.jsx(Ee,{})," Kopyala"]})})]}),e.jsx("div",{style:{backgroundColor:"#111214",padding:8,borderRadius:4,fontSize:"0.8em",color:"#dcddde",wordBreak:"break-all"},children:ue.usdt})]})]})]})}),e.jsxs("div",{style:a.serverRail,children:[e.jsx("div",{style:{...a.serverIcon,backgroundColor:X==="home"?"#5865f2":"#313338",width:"56px",height:"56px"},onClick:()=>{pe("home"),S()},title:"Ana Sayfa",children:e.jsx("img",{src:"https://media.pawscord.com/assets/logo.png",alt:"Pawscord",style:{width:"48px",height:"48px",objectFit:"contain"},onError:t=>{t.target.style.display="none"}})}),e.jsx("div",{style:a.separator}),u&&u.map((t,n)=>{const o=t.name.substring(0,2).toUpperCase(),r=X===t.id,l=an===t.id,y=ln===n&&!l,i=Object.keys(Te).filter(g=>g.startsWith("room-")&&t.categories?.some(ie=>ie.rooms?.some(q=>`room-${q.slug}`===g))).reduce((g,ie)=>g+(Te[ie]||0),0);return e.jsxs("div",{style:{position:"relative",marginBottom:"8px"},children:[y&&He==="before"&&e.jsx("div",{style:{position:"absolute",top:"-4px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:"#43b581",borderRadius:"2px",zIndex:1e3,boxShadow:"0 0 8px rgba(67, 181, 129, 0.6)"}}),e.jsxs("div",{draggable:!0,onDragStart:g=>An(g,t.id,n),onDragOver:g=>On(g,n),onDragEnd:_n,onDrop:g=>Kn(g,n),style:{...a.serverIcon,backgroundColor:r?"#5865f2":"#313338",cursor:l?"grabbing":"grab",position:"relative",transition:"opacity 0.2s ease, transform 0.1s ease",opacity:l?.4:1,marginBottom:0},onClick:()=>$n(t),onContextMenu:g=>Fn(g,t),onMouseDown:g=>{g.currentTarget.style.cursor="grabbing",g.currentTarget.style.transform="scale(0.95)"},onMouseUp:g=>{g.currentTarget.style.cursor="grab",g.currentTarget.style.transform="scale(1)"},title:t.name,children:[t.icon?e.jsx(Ut,{src:t.icon,alt:t.name,style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"cover"}}):e.jsx("span",{style:{fontWeight:"bold",fontSize:"14px",color:"white"},children:o}),i>0&&e.jsx("div",{style:a.serverBadge,children:i>99?"99+":i})]}),y&&He==="after"&&e.jsx("div",{style:{position:"absolute",bottom:"-4px",left:"50%",transform:"translateX(-50%)",width:"40px",height:"3px",backgroundColor:"#43b581",borderRadius:"2px",zIndex:1e3,boxShadow:"0 0 8px rgba(67, 181, 129, 0.6)"}})]},t.id)}),e.jsx("div",{style:{...a.serverIcon,backgroundColor:"#23a559",color:"white",marginTop:"10px"},onClick:Un,title:"Sunucu KeÅŸfet",children:e.jsx(Yt,{size:24})}),e.jsx("div",{style:{...a.serverIcon,background:"linear-gradient(135deg, #F1C40F 0%, #F39C12 100%)",color:"#000",fontWeight:"bold",cursor:"pointer"},onClick:tn,title:"Premium MaÄŸaza",children:"ðŸ›’"}),e.jsx("div",{style:{...a.serverIcon,backgroundColor:"#23a559",color:"white"},onClick:()=>ge(!0),title:"Ekle",children:e.jsx(it,{size:20})})]}),e.jsxs("div",{style:a.sidebar,children:[X==="home"&&e.jsxs("div",{style:a.topSection,children:[e.jsx("div",{style:a.headerTitle,children:"Ana Sayfa"}),e.jsxs("div",{style:a.channelsContainer,children:[e.jsx("div",{style:{...a.roomItem,marginBottom:5},onClick:()=>I("ai"),children:e.jsxs("div",{style:a.channelContent,children:[e.jsx(Bo,{style:{marginRight:8}})," ",e.jsx("span",{children:"PawPaw AI"})]})}),e.jsx("div",{style:{...a.roomItem,marginBottom:15},onClick:()=>I("sinyal-bot"),children:e.jsxs("div",{style:a.channelContent,children:[e.jsx(Lo,{style:{marginRight:8}})," ",e.jsx("span",{children:"Sinyal Bot"})]})})]}),e.jsxs("div",{style:a.dmListContainer,children:[e.jsxs("div",{style:a.groupHeader,children:[e.jsx("span",{children:"Ã–ZEL MESAJLAR"}),e.jsxs("button",{onClick:v,style:{...a.addDmButton,position:"relative"},children:[e.jsx(Gt,{})," Ekle",je>0&&e.jsx("div",{style:{position:"absolute",top:"-6px",right:"-6px",backgroundColor:"#ed4245",color:"white",borderRadius:"50%",width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",border:"2px solid #2b2d31",zIndex:1},children:je>9?"9+":je})]})]}),!M||M.length===0?e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#72767d",fontSize:"0.9em"},children:["HenÃ¼z Ã¶zel mesaj yok.",e.jsx("br",{}),"ArkadaÅŸ ekle butonuna tÄ±klayarak baÅŸla!"]}):M.map(t=>{const n=t.participants.find(r=>r.username!==T);if(!n)return null;const o=Te[`dm-${t.id}`]||0;return e.jsxs("div",{style:{...a.dmItem,backgroundColor:A===t.id?"rgba(255,255,255,0.1)":"transparent",position:"relative"},onClick:()=>k(t.id,n.username),onContextMenu:r=>{r.preventDefault(),te({x:r.clientX,y:r.clientY,conversation:t})},onDragOver:r=>{r.preventDefault(),r.stopPropagation(),r.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.3)"},onDragLeave:r=>{r.preventDefault(),r.currentTarget.style.backgroundColor=A===t.id?"rgba(255,255,255,0.1)":"transparent"},onDrop:r=>{r.preventDefault(),r.stopPropagation(),r.currentTarget.style.backgroundColor=A===t.id?"rgba(255,255,255,0.1)":"transparent";const l=r.dataTransfer.files;l&&l.length>0&&(k(t.id,n.username),setTimeout(()=>{const y=document.querySelector('input[type="file"]');if(y){const i=new DataTransfer;for(let g=0;g<l.length;g++)i.items.add(l[g]);y.files=i.files,y.dispatchEvent(new Event("change",{bubbles:!0}))}},100),h.success(`ðŸ“Ž ${l.length} dosya ${n.username}'a gÃ¶nderiliyor...`))},children:[e.jsxs("div",{style:{position:"relative",width:32,height:32},children:[e.jsx(Ut,{src:Oe(n.avatar,n.username),style:{...a.avatarSmall,width:32,height:32},alt:""}),(()=>{const l=ee.includes(n.username)?"#23a559":"#80848e";return e.jsx("div",{style:{position:"absolute",bottom:-2,right:-2,width:12,height:12,borderRadius:"50%",backgroundColor:l,border:"2px solid #2b2d31"}})})()]}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",marginLeft:8,overflow:"hidden"},children:[e.jsx("span",{style:{fontWeight:o?"bold":"normal",color:"#dbdee1"},children:n.username}),(()=>{const l=(ke?.find(i=>i.username===n.username)||n).current_activity;if(!l)return null;const y=[];return l.steam&&y.push(e.jsxs("span",{style:{fontSize:"10px",color:"#66c0f4",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸŽ® ",l.steam.name]},"steam")),l.spotify&&y.push(e.jsxs("span",{style:{fontSize:"10px",color:"#1db954",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸŽµ ",l.spotify.name]},"spotify")),y.length===0&&(l.type==="listening"?y.push(e.jsxs("span",{style:{fontSize:"10px",color:"#1db954",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸŽµ ",l.name]},"leg-sp")):l.type==="playing"&&y.push(e.jsxs("span",{style:{fontSize:"10px",color:"#66c0f4",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["ðŸŽ® ",l.name]},"leg-st"))),y})()]}),o>0&&e.jsx("span",{style:a.unreadBadge,children:o})]},t.id)})]})]}),X!=="home"&&u&&e.jsx("div",{style:a.topSection,children:u.filter(t=>t.id===X).map(t=>{const n=t.owner_username===T||w,o=n||t.my_permissions?.is_owner;return e.jsxs("div",{children:[e.jsxs("div",{style:a.serverHeader,children:[e.jsx("h3",{style:{maxWidth:"120px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name}),e.jsxs("div",{style:{display:"flex",gap:"5px"},children:[e.jsx("button",{style:a.iconBtn,onClick:r=>Qn(r,t),title:"Davet Linki",children:e.jsx(Eo,{})}),n&&e.jsx("button",{style:a.iconBtn,onClick:r=>{r.stopPropagation(),Qe(t.id)},title:"Kategori Ekle",children:e.jsx(it,{})}),o&&e.jsx("button",{style:a.iconBtn,onClick:r=>{r.stopPropagation(),ve&&ve(t)},title:"Sunucu AyarlarÄ±",children:e.jsx(le,{})})]})]}),Rn===t.id&&e.jsxs("form",{onSubmit:r=>po(r,t.id),style:a.addCategoryForm,children:[e.jsx("input",{autoFocus:!0,placeholder:"Kategori AdÄ±...",value:Ze,onChange:r=>Lt(r.target.value),style:a.addRoomInput}),e.jsxs("div",{style:a.addRoomControls,children:[e.jsx("button",{type:"submit",style:a.addRoomButton,children:"Ekle"}),e.jsx("button",{type:"button",onClick:()=>Qe(null),style:{...a.addRoomButton,background:"#da373c"},children:"X"})]})]}),t.categories&&t.categories.map(r=>{const l=rn[r.id],y=Dt===`cat-${r.id}`;return e.jsxs("div",{style:{marginBottom:5},children:[e.jsxs("div",{style:a.categoryHeader,onClick:()=>Dn(r.id),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[l?e.jsx(Po,{size:9}):e.jsx(Fo,{size:9}),y?e.jsx("form",{onSubmit:i=>so(i,r.id),onClick:i=>i.stopPropagation(),style:{marginLeft:5},children:e.jsx("input",{autoFocus:!0,value:Be,onChange:i=>Le(i.target.value),onBlur:()=>fe(null),style:a.inlineInput})}):e.jsx("span",{style:{marginLeft:5},children:r.name})]}),n&&e.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"5px"},children:[e.jsx("button",{style:a.iconBtn,onClick:i=>Ot(i,"category",r.id,r.name),children:e.jsx(le,{size:10})}),e.jsx("button",{style:a.iconBtn,onClick:i=>{i.stopPropagation(),qe(r.id)},children:e.jsx(it,{size:10})})]})]}),Tn===r.id&&e.jsxs("form",{onSubmit:i=>xo(i,r.id),style:{padding:"5px 10px"},children:[e.jsx("input",{autoFocus:!0,placeholder:"Kanal AdÄ±...",value:et,onChange:i=>Et(i.target.value),style:a.addRoomInput}),e.jsxs("select",{value:Pt,onChange:i=>Mn(i.target.value),style:a.channelTypeSelect,children:[e.jsx("option",{value:"text",children:"ðŸ“ Metin"}),e.jsx("option",{value:"voice",children:"ðŸŽ¤ Sesli"}),e.jsx("option",{value:"kanban",children:"ðŸ“‹ Kanban Board"})]}),e.jsxs("div",{style:a.addRoomControls,children:[e.jsx("button",{type:"submit",style:a.addRoomButton,children:"Ekle"}),e.jsx("button",{type:"button",onClick:()=>qe(null),style:{...a.addRoomButton,background:"#da373c"},children:"X"})]})]}),!l&&r.rooms&&r.rooms.map(i=>{const g=J===i.slug,ie=Te[`room-${i.slug}`]||0,q=i.channel_type==="voice",Nt=Dt===`room-${i.slug}`,rt=q&&tt[i.slug]?tt[i.slug].length:0;return i.is_locked||i.is_private,q&&i.user_limit&&rt>=i.user_limit,e.jsxs("div",{className:"channel-wrapper",children:[e.jsxs("div",{className:`channel-item ${q?"voice-channel":"text-channel"} ${g?"active":""} ${we===i.slug?"voice-channel-drop-target":""}`,style:{...a.roomItem,marginLeft:8,backgroundColor:we===i.slug?"rgba(88, 101, 242, 0.2)":g?"rgba(88, 101, 242, 0.15)":"transparent",color:g?"#fff":"#949ba4",borderLeft:we===i.slug||g?"3px solid #5865f2":"3px solid transparent",paddingLeft:g?"5px":"8px",transition:"all 0.2s ease",borderRadius:"6px",margin:"2px 8px",position:"relative",...we===i.slug?{boxShadow:"inset 0 0 12px rgba(88, 101, 242, 0.15), 0 0 8px rgba(88, 101, 242, 0.2)",border:"1px dashed rgba(88, 101, 242, 0.5)"}:{}},onClick:()=>{q?m(i.slug):I(i.slug)},onDragOver:C=>{q&&(C.preventDefault(),C.dataTransfer.dropEffect="move",nt(i.slug))},onDragLeave:C=>{we===i.slug&&nt(null)},onDrop:C=>{if(C.preventDefault(),nt(null),!(!q||!w))try{const F=JSON.parse(C.dataTransfer.getData("application/json"));F.username&&F.fromChannel&&F.fromChannel!==i.slug&&_t(F.username,F.fromChannel,i.slug)}catch(F){console.error("Drop error:",F)}},children:[e.jsxs("div",{style:a.channelContent,children:[q&&e.jsx(Ao,{style:{...a.voiceIcon,color:g?"#43b581":"#949ba4",transition:"color 0.2s ease"}}),!q&&e.jsx(le,{style:{...a.hashtagIcon,fontSize:"0.9em"}}),Nt?e.jsx("form",{onSubmit:C=>lo(C,i.slug),onClick:C=>C.stopPropagation(),style:{flex:1},children:e.jsx("input",{autoFocus:!0,value:Be,onChange:C=>Le(C.target.value),onBlur:()=>fe(null),style:a.inlineInput})}):e.jsxs("span",{style:{...a.channelNameText,paddingLeft:"5px",fontWeight:g?"600":"normal",flex:1,display:"flex",alignItems:"center",gap:"6px"},children:[i.name,i.is_private&&e.jsx("span",{style:{fontSize:"0.7em",color:"#faa61a",border:"1px solid #faa61a",borderRadius:"3px",padding:"1px 4px"},children:"ðŸ”’"}),i.is_nsfw&&e.jsx("span",{style:{fontSize:"0.7em",color:"#f04747",border:"1px solid #f04747",borderRadius:"3px",padding:"1px 4px"},children:"18+"}),i.is_locked&&e.jsx("span",{style:{fontSize:"0.7em",color:"#949ba4",border:"1px solid #949ba4",borderRadius:"3px",padding:"1px 4px"},children:"ðŸ”"}),i.admin_only_chat&&e.jsx("span",{style:{fontSize:"0.7em",color:"#43b581",border:"1px solid #43b581",borderRadius:"3px",padding:"1px 4px"},children:"ðŸ“¢"})]}),q&&e.jsxs("span",{style:{fontSize:"0.75em",color:rt>0?"#43b581":"#72767d",fontWeight:"500",marginLeft:"auto",marginRight:"4px"},children:["(",rt,"/",i.user_limit>0?i.user_limit:"âˆž",")"]})]}),n&&!Nt&&e.jsx("div",{style:{display:"flex",gap:"3px",marginLeft:"5px"},children:e.jsx("button",{style:a.iconBtn,onClick:C=>Ot(C,"room",i.slug,i.name),children:e.jsx(le,{size:12})})}),ie>0&&e.jsx("span",{style:a.unreadBadge,children:ie})]}),q&&e.jsx("div",{style:{marginLeft:"28px",marginTop:"2px",marginBottom:"2px",padding:"0",position:"relative",zIndex:1},children:e.jsx(ar,{voiceUsers:tt,roomName:i.slug,currentUsername:T,remoteVolumes:ne,setRemoteVolume:oe,isClientInThisChannel:J===i.slug,isPttActive:z,isAdmin:w,voiceChannels:r.rooms.filter(C=>C.is_voice),friendsList:Fe,getDeterministicAvatar:G,allUsers:ke,onUserAction:(C,F,Ht)=>{if(C==="profile")V?.(F);else if(C==="message"||C==="dm"){const Wt=M.find(go=>go.participants.some(mo=>mo.username===F));Wt?k(Wt.id,F):console.log(`ðŸ’¬ ${F} ile DM konuÅŸmasÄ± bulunamadÄ±. Ã–nce arkadaÅŸ ekleyin.`)}else C==="add_friend"?Jn(F):C==="remove_friend"?Yn(F):C==="mute_local"?console.log(`ðŸ”‡ ${F} lokal olarak sessize alÄ±ndÄ±`):C==="move"&&Ht?_t(F,i.slug,Ht):C==="kick"?Pn(F,i.slug):C==="server_mute"?console.log(`ðŸ”‡ ${F} sunucu susturma yapÄ±lacak`):C==="server_deafen"&&console.log(`ðŸ™‰ ${F} sunucu saÄŸÄ±rlaÅŸtÄ±rma yapÄ±lacak`)}})})]},i.id)})]},r.id)})]},t.id)})}),un&&O.createPortal(e.jsx("div",{style:a.modalOverlay,onClick:()=>ge(!1),children:e.jsxs("div",{style:a.selectionModalContent,onClick:t=>t.stopPropagation(),children:[e.jsx("h3",{style:{color:"white",margin:0},children:"Ne Yapmak Ä°stersin?"}),e.jsxs("button",{style:{...a.selectionButton,backgroundColor:"#5865f2"},onClick:()=>{ge(!1),Ye(!0)},children:[e.jsx(Oo,{})," Sunucu OluÅŸtur"]}),e.jsxs("button",{style:{...a.selectionButton,backgroundColor:"#23a559"},onClick:()=>{ge(!1),v()},children:[e.jsx(Gt,{})," ArkadaÅŸ Ekle"]}),e.jsx("button",{style:{marginTop:10,background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},onClick:()=>ge(!1),children:"Ä°ptal"})]})}),document.body),pn&&O.createPortal(e.jsx("div",{style:a.modalOverlay,children:e.jsxs("form",{onSubmit:uo,style:a.addCategoryForm,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0,color:"white"},children:"Sunucu OluÅŸtur"}),e.jsx(ye,{style:{cursor:"pointer",color:"#b9bbbe"},onClick:()=>Ye(!1)})]}),e.jsx("p",{style:{color:"#b9bbbe",fontSize:"0.9em"},children:"Sunucuna bir isim ver."}),e.jsx("input",{autoFocus:!0,placeholder:"Sunucu AdÄ±...",value:Ve,onChange:t=>Bt(t.target.value),style:a.addRoomInput}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",margin:"10px 0"},children:[e.jsx("input",{type:"checkbox",id:"publicCheck",checked:Ft,onChange:t=>At(t.target.checked),style:{width:"16px",height:"16px",accentColor:"#23a559"}}),e.jsx("label",{htmlFor:"publicCheck",style:{color:"#dbdee1",fontSize:"0.9em",cursor:"pointer"},children:"Herkese AÃ§Ä±k (KeÅŸfet'te GÃ¶rÃ¼nÃ¼r)"})]}),e.jsx("button",{type:"submit",style:a.addRoomButton,children:"OluÅŸtur"})]})}),document.body),e.jsxs("div",{style:a.bottomSection,children:[w&&e.jsxs("button",{onClick:nn,style:{width:"100%",padding:"12px",marginBottom:"10px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",color:"white",fontWeight:"600",fontSize:"0.95em",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(102, 126, 234, 0.4)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow="0 6px 20px rgba(102, 126, 234, 0.6)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 4px 15px rgba(102, 126, 234, 0.4)"},children:[e.jsx(le,{size:16}),e.jsx("span",{children:"Admin Panel"})]}),e.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"10px",padding:"5px",backgroundColor:"#1e1f22",borderRadius:"8px",overflowX:"auto",scrollbarWidth:"thin"},children:[lt&&e.jsx("button",{onClick:lt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸ’° Payment Panel",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸ’°"}),dt&&e.jsx("button",{onClick:dt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸ›’ Store",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸ›’"}),ct&&e.jsx("button",{onClick:ct,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸŽ Daily Rewards",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸŽ"}),ut&&e.jsx("button",{onClick:ut,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸ“Š API Usage",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸ“Š"}),pt&&e.jsx("button",{onClick:pt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸ“¥ Export Jobs",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸ“¥"}),xt&&e.jsx("button",{onClick:xt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸ“¢ Scheduled Announcements",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸ“¢"}),gt&&e.jsx("button",{onClick:gt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸŽ® Mini Games",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸŽ®"}),mt&&e.jsx("button",{onClick:mt,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸ“‚ Projects",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸ“‚"}),ft&&e.jsx("button",{onClick:ft,style:{minWidth:"36px",width:"36px",height:"36px",padding:"0",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",border:"none",borderRadius:"8px",fontSize:"18px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},title:"ðŸŽ¨ Avatar Studio",onMouseEnter:t=>t.target.style.transform="scale(1.1)",onMouseLeave:t=>t.target.style.transform="scale(1)",children:"ðŸŽ¨"})]}),(K||N)&&e.jsxs("div",{style:{padding:"8px",backgroundColor:"#232428",borderTop:"1px solid #1e1f22",borderBottom:"1px solid #1e1f22"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",padding:"0 4px"},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("img",{src:Oe(f?.avatar,T),alt:T,style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid #23a559",boxShadow:"0 0 8px rgba(35, 165, 89, 0.5)"},onError:t=>{t.target.onerror=null,t.target.src=G(T)}}),e.jsx("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:"16px",height:"16px",borderRadius:"50%",backgroundColor:b?"#f04747":"#23a559",border:"2px solid #232428",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px"},children:b?"ðŸ”‡":"ðŸŽ¤"})]}),e.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[e.jsx("div",{style:{color:N?"#eba61e":"#23a559",fontWeight:"bold",fontSize:"0.8em"},children:N?"BaÄŸlanÄ±lÄ±yor...":"Ses BaÄŸlandÄ±"}),e.jsxs("div",{style:{fontSize:"0.7em",color:"#b9bbbe",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[J," / Genel"]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:"5px"},children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),Ie()},style:{flex:1,background:re?"#23a559":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:re?"KamerayÄ± Kapat":"KamerayÄ± AÃ§",children:re?e.jsx(_o,{size:16}):e.jsx(Ko,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),se()},style:{flex:1,background:ze?"#23a559":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:ze?"PaylaÅŸÄ±mÄ± Durdur":"Ekran PaylaÅŸ",children:e.jsx(No,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),Ae()},style:{flex:1,background:b?"#da373c":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:b?"Sesi AÃ§":"Sessize Al",children:b?e.jsx(Ho,{size:16}):e.jsx(Wo,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),c()},style:{flex:1,background:D?"#da373c":"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:D?"Duy":"SaÄŸÄ±rlaÅŸtÄ±r",children:D?e.jsx(Jo,{size:18}):e.jsx(Yo,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),window.dispatchEvent(new CustomEvent("openVoiceSettings"))},style:{flex:1,background:"#2b2d31",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:"Ses AyarlarÄ±",children:e.jsx(le,{size:16})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),typeof _=="function"?_():console.error("leaveVoiceChat is not a function")},style:{flex:1,background:"#da373c",border:"none",color:"white",padding:"8px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},title:"Sesli Kanaldan Ã‡Ä±k",children:e.jsx(Go,{size:16})})]})]}),e.jsxs("div",{onClick:()=>Je(!0),style:{backgroundColor:"#1e1f22",padding:K||N?"6px 10px":"10px 14px",margin:"0 8px 8px 8px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:K||N?"8px":"12px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:"1px solid transparent",background:"linear-gradient(135deg, rgba(235, 69, 158, 0.06) 0%, rgba(88, 101, 242, 0.06) 100%)",overflow:"hidden",flexShrink:0,minHeight:K||N?"36px":"44px"},onMouseEnter:t=>{t.currentTarget.style.background="linear-gradient(135deg, rgba(235, 69, 158, 0.12) 0%, rgba(88, 101, 242, 0.12) 100%)",t.currentTarget.style.borderColor="#eb459e",t.currentTarget.style.transform="scale(1.01)"},onMouseLeave:t=>{t.currentTarget.style.background="linear-gradient(135deg, rgba(235, 69, 158, 0.06) 0%, rgba(88, 101, 242, 0.06) 100%)",t.currentTarget.style.borderColor="transparent",t.currentTarget.style.transform="scale(1)"},title:"GeliÅŸtiriciye Destek Ol",children:[e.jsx(Jt,{style:{color:"#eb459e",fontSize:K||N?"14px":"18px",flexShrink:0,animation:"heartPulse 2s ease-in-out infinite"}}),e.jsx("div",{style:{flex:1,textAlign:"left",overflow:"hidden"},children:e.jsx("div",{style:{color:"white",fontWeight:"600",fontSize:K||N?"11px":"13px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:K||N?"Destekle":"Developer'Ä± Destekle"})}),e.jsx("div",{style:{background:"linear-gradient(135deg, rgba(235, 69, 158, 0.2) 0%, rgba(88, 101, 242, 0.2) 100%)",padding:K||N?"2px 6px":"4px 8px",borderRadius:"10px",fontSize:K||N?"10px":"12px",color:"#eb459e",fontWeight:"bold",flexShrink:0},children:"â˜•"})]}),e.jsx(Vo,{currentUserProfile:f,currentUsername:T,getDeterministicAvatar:G,onProfileClick:Y,updateAvailable:qt,onUpdateClick:en})]})]}),dn&&O.createPortal(e.jsx("div",{style:{...a.modalOverlay,display:"flex",justifyContent:"center",alignItems:"center"},onClick:()=>Se(!1),children:e.jsxs("div",{style:{...a.selectionModalContent,width:"600px",maxWidth:"90vw",maxHeight:"80vh",overflowY:"auto"},onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:15,borderBottom:"1px solid #1e1f22"},children:[e.jsx("h3",{style:{color:"white",margin:0,fontSize:"1.5em"},children:"ðŸŒ Sunucuya KatÄ±l"}),e.jsx(ye,{style:{cursor:"pointer",color:"#b9bbbe",fontSize:"1.3em"},onClick:()=>Se(!1)})]}),e.jsxs("div",{style:{backgroundColor:"#202225",padding:"15px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("p",{style:{color:"#b9bbbe",fontSize:"0.9em",marginTop:0},children:"Elinizde bir davet kodu veya linki varsa aÅŸaÄŸÄ±ya yapÄ±ÅŸtÄ±rÄ±n."}),e.jsxs("form",{onSubmit:Vn,style:{display:"flex",gap:"10px"},children:[e.jsx("input",{value:_e,onChange:t=>yt(t.target.value),placeholder:"https://www.pawscord.com/invite/...",style:{flex:1,padding:"10px",borderRadius:"4px",border:"1px solid #1e1f22",backgroundColor:"#313338",color:"white",outline:"none"}}),e.jsx("button",{type:"submit",style:{backgroundColor:"#5865f2",color:"white",border:"none",borderRadius:"4px",padding:"0 20px",fontWeight:"bold",cursor:"pointer"},children:"KatÄ±l"})]})]}),e.jsxs("h4",{style:{textAlign:"left",color:"#dbdee1",borderBottom:"1px solid #4f545c",paddingBottom:"5px",marginBottom:"10px"},children:[e.jsx(Yt,{style:{marginRight:8}})," TopluluklarÄ± KeÅŸfet"]}),Rt.length===0?e.jsx("p",{style:{color:"#b9bbbe",fontStyle:"italic"},children:"Åžu an katÄ±labileceÄŸin halka aÃ§Ä±k sunucu yok."}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Rt.map(t=>e.jsxs("div",{style:{backgroundColor:"#2b2d31",padding:"10px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #1f2023"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[t.icon?e.jsx("img",{src:`https://www.pawscord.com${t.icon}`,alt:"",style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white"},children:t.name.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{color:"white",fontWeight:"bold"},children:t.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"0.8em"},children:[t.member_count," Ãœye â€¢ Kurucu: ",t.owner]})]})]}),e.jsx("button",{onClick:()=>Xn(t.id),style:{backgroundColor:"#23a559",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"KatÄ±l"})]},t.id))})]})}),document.body),xn&&vt&&e.jsx(Qo,{onClose:()=>{bt(!1),kt(null)},server:vt,fetchWithAuth:p,apiBaseUrl:d}),jt&&O.createPortal(e.jsx(Zo,{type:jt,onClose:()=>gn(null),fetchWithAuth:p,apiBaseUrl:d}),document.body),mn&&O.createPortal(e.jsx(qo,{room:on,conversation:A,onClose:()=>fn(!1),fetchWithAuth:p,apiBaseUrl:d}),document.body),hn&&O.createPortal(e.jsx(er,{serverId:X,onClose:()=>St(!1),fetchWithAuth:p,apiBaseUrl:d}),document.body),yn&&O.createPortal(e.jsx(tr,{serverId:X,onClose:()=>bn(!1),fetchWithAuth:p,apiBaseUrl:d}),document.body),vn&&O.createPortal(e.jsx(dr,{onClose:()=>me(!1),onOpenWebhooks:()=>{me(!1),St(!0)},onOpenAuditLogs:()=>{me(!1),wt(!0)},onOpenReports:()=>{me(!1),Ct(!0)},onOpenVanityURL:()=>{me(!1),It(!0)},onOpenAutoResponder:()=>{me(!1),zt(!0)}}),document.body),kn&&O.createPortal(e.jsx(cr,{serverId:X,onClose:()=>wt(!1),fetchWithAuth:p,apiBaseUrl:d}),document.body),jn&&O.createPortal(e.jsx(pr,{serverId:X,onClose:()=>Ct(!1),fetchWithAuth:p,apiBaseUrl:d}),document.body),Sn&&O.createPortal(e.jsx(nr,{serverId:X,onClose:()=>It(!1),fetchWithAuth:p,apiBaseUrl:d}),document.body),wn&&O.createPortal(e.jsx(or,{serverId:X,onClose:()=>zt(!1),fetchWithAuth:p,apiBaseUrl:d}),document.body),L&&O.createPortal(e.jsx(gr,{x:L.x,y:L.y,server:L.server,isOwner:L.isOwner,onClose:()=>ae(null),onLeaveServer:()=>Nn(L.server.id),onServerSettings:()=>{ve(L.server),ae(null)},onMuteServer:()=>{const t=L.server.id;$t(n=>{const o=[...n,t];return localStorage.setItem("mutedServers",JSON.stringify(o)),o}),ae(null)},onUnmuteServer:()=>{const t=L.server.id;$t(n=>{const o=n.filter(r=>r!==t);return localStorage.setItem("mutedServers",JSON.stringify(o)),o}),ae(null)},onMoveUp:()=>Kt(L.server.id,"up"),onMoveDown:()=>Kt(L.server.id,"down"),onCopyInvite:()=>Gn(L.server.id),onChangeIcon:()=>{Hn(L.server.id),ae(null)},onChangePrivacy:()=>{Wn(L.server.id),ae(null)},onDeleteServer:async()=>{L.server.id,L.server.name,Mt({server:L.server,isOpen:!0}),ae(null)},canMoveUp:u&&u.findIndex(t=>t.id===L.server.id)>0,canMoveDown:u&&u.findIndex(t=>t.id===L.server.id)<u.length-1,isMuted:zn.includes(L.server.id)}),document.body),Z&&O.createPortal((()=>{const t=Z.conversation.participants.find(o=>o.username!==T);if(!t)return null;const n=[{icon:"ðŸ‘¤",label:"Profili GÃ¶rÃ¼ntÃ¼le",color:"#dbdee1",onClick:()=>eo(t.username),divider:!1},{icon:"ðŸ’¬",label:"Mesaj GÃ¶nder",color:"#dbdee1",onClick:()=>{const o=Z.conversation.participants?.find(r=>r.username!==T);k(Z.conversation.id,o?.username),te(null)},divider:!0},{icon:"ðŸŽ«",label:"Sunucuya Davet Et",color:"#5865f2",onClick:()=>to(t.username),divider:!1},{icon:"ðŸ“Œ",label:"KonuÅŸmayÄ± Sabitle",color:"#dbdee1",onClick:()=>ro(Z.conversation.id),divider:!0},{icon:"ðŸ”‡",label:"Sessize Al",color:"#b9bbbe",onClick:()=>oo(t.username,Z.conversation.id),divider:!1},{icon:"ðŸ‘ï¸â€ðŸ—¨ï¸",label:"KonuÅŸmayÄ± Gizle",color:"#b9bbbe",onClick:()=>qn(Z.conversation.id),divider:!0},{icon:"ðŸ—‘ï¸",label:"KonuÅŸmayÄ± Temizle",color:"#f23f42",onClick:()=>Zn(Z.conversation.id),divider:!1},{icon:"ðŸš«",label:"KullanÄ±cÄ±yÄ± Engelle",color:"#ed4245",onClick:()=>io(t.username),divider:!1}];return e.jsxs("div",{onClick:o=>o.stopPropagation(),style:{position:"fixed",top:Z.y,left:Z.x,backgroundColor:"#111214",border:"1px solid #2b2d31",borderRadius:"8px",minWidth:"220px",boxShadow:"0 8px 24px rgba(0,0,0,0.4), 0 0 1px rgba(0,0,0,0.5)",zIndex:999999,overflow:"hidden",animation:"contextMenuSlide 0.1s ease-out"},children:[e.jsxs("div",{style:{padding:"12px",backgroundColor:"#1e1f22",borderBottom:"1px solid #2b2d31",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("img",{src:Oe(t.avatar,t.username),style:{width:32,height:32,borderRadius:"50%",objectFit:"cover"},alt:""}),e.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[e.jsx("div",{style:{color:"#f2f3f5",fontSize:"14px",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.username}),e.jsx("div",{style:{color:"#b9bbbe",fontSize:"12px",marginTop:"2px"},children:ee.includes(t.username)?"ðŸŸ¢ Ã‡evrimiÃ§i":"âš« Ã‡evrimdÄ±ÅŸÄ±"})]})]}),n.map((o,r)=>e.jsxs(be.Fragment,{children:[e.jsxs("div",{onClick:o.onClick,style:{padding:"10px 12px",cursor:"pointer",color:o.color,fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"10px",transition:"all 0.1s ease",backgroundColor:"transparent"},onMouseEnter:l=>{l.currentTarget.style.backgroundColor=o.color==="#f23f42"||o.color==="#ed4245"?"rgba(237, 66, 69, 0.15)":"rgba(88, 101, 242, 0.1)",l.currentTarget.style.paddingLeft="16px"},onMouseLeave:l=>{l.currentTarget.style.backgroundColor="transparent",l.currentTarget.style.paddingLeft="12px"},children:[e.jsx("span",{style:{fontSize:"16px",width:"20px",textAlign:"center"},children:o.icon}),e.jsx("span",{style:{flex:1},children:o.label})]}),o.divider&&e.jsx("div",{style:{height:"1px",backgroundColor:"#2b2d31",margin:"4px 8px"}})]},r))]})})(),document.body),ce?.isOpen&&e.jsx(mr,{isOpen:ce.isOpen,onClose:()=>Mt(null),onConfirm:async()=>{const t=ce.server.id,n=ce.server.name;try{const o=await p(`${d}/servers/${t}/delete/`,{method:"DELETE"});if(o.ok)console.log("âœ… Sunucu baÅŸarÄ±yla silindi!"),h.success(`"${n}" sunucusu baÅŸarÄ±yla silindi!`,5e3),pe("home"),S(),window.location.reload();else{const r=await o.json();console.error("âŒ Sunucu silinirken hata:",r),h.error(`Hata: ${r.error||"Sunucu silinirken bir hata oluÅŸtu"}`)}}catch(o){console.error("âŒ Sunucu silme hatasÄ±:",o),h.error("Sunucu silinirken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}},title:"âš ï¸ Sunucuyu Sil",message:`"${ce.server.name}" sunucusunu KALÄ°CÄ° OLARAK silmek Ã¼zeresiniz!`,confirmText:"Sunucuyu Sil",cancelText:"Ä°ptal",type:"danger",requireTextConfirmation:!0,confirmationText:ce.server.name,inputPlaceholder:`Onaylamak iÃ§in "${ce.server.name}" yazÄ±n...`,dangerDetails:["Sunucudaki TÃœM kanallar silinecek","Sunucudaki TÃœM mesajlar silinecek","TÃœM Ã¼yeler atÄ±lacak","TÃ¼m roller ve ayarlar silinecek"]}),De&&De.isOpen&&O.createPortal(e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999999},onClick:()=>$e(null),children:e.jsxs("div",{onClick:t=>t.stopPropagation(),style:{backgroundColor:"#2b2d31",borderRadius:"12px",width:"400px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5)"},children:[e.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #3f4147",textAlign:"center"},children:[e.jsx("h2",{style:{color:"#f2f3f5",margin:0,fontSize:"18px"},children:"ðŸŽ« Sunucuya Davet Et"}),e.jsxs("p",{style:{color:"#b9bbbe",margin:"8px 0 0",fontSize:"14px"},children:[e.jsx("strong",{children:De.username})," kullanÄ±cÄ±sÄ±nÄ± hangi sunucuya davet etmek istiyorsunuz?"]})]}),e.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"12px"},children:u.map(t=>e.jsxs("div",{onClick:()=>no(t.id,De.username),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"rgba(255,255,255,0.02)",marginBottom:"8px"},onMouseEnter:n=>{n.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.2)"},onMouseLeave:n=>{n.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},children:[t.icon?e.jsx("img",{src:t.icon,alt:t.name,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white",fontSize:"16px"},children:t.name?.substring(0,2).toUpperCase()}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{color:"#f2f3f5",fontWeight:"600"},children:t.name}),e.jsxs("div",{style:{color:"#b9bbbe",fontSize:"12px"},children:[t.member_count||t.categories?.length||0," Ã¼ye"]})]}),e.jsx("div",{style:{color:"#5865f2",fontSize:"20px"},children:"â†’"})]},t.id))}),e.jsx("div",{style:{padding:"16px 20px",borderTop:"1px solid #3f4147",textAlign:"center"},children:e.jsx("button",{onClick:()=>$e(null),style:{backgroundColor:"#4f545c",color:"#f2f3f5",border:"none",padding:"10px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"600"},children:"Ä°ptal"})})]})}),document.body),Cn&&Me&&(()=>{const n=u?.find(o=>o.id===Me.server_id)?.roles||[];return e.jsx(rr,{room:Me,serverId:Me.server_id||X,serverRoles:n,onClose:()=>{Ge(!1),Ue(null)},onUpdate:o=>{Ge(!1),Ue(null)},fetchWithAuth:p,apiBaseUrl:d})})()]})};if(typeof document<"u"){const v=document.createElement("style");v.textContent=`
        /* Kanal Hover Efektleri */
        .channel-item {
            position: relative;
            overflow: hidden;
        }
        
        .channel-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 50%;
            background: linear-gradient(90deg, rgba(88, 101, 242, 0.4), transparent);
            transition: width 0.3s ease;
            border-radius: 0 4px 4px 0;
        }
        
        .channel-item:hover::before {
            width: 4px;
        }
        
        .channel-item:hover {
            background: rgba(255, 255, 255, 0.05) !important;
            color: #fff !important;
            transform: translateX(2px);
        }
        
        .channel-item.active {
            background: rgba(88, 101, 242, 0.15) !important;
            box-shadow: 0 2px 8px rgba(88, 101, 242, 0.2);
        }
        
        /* Voice Channel Ã–zel Animasyonlar */
        .voice-channel.active {
            background: linear-gradient(90deg, rgba(67, 181, 129, 0.15), rgba(88, 101, 242, 0.1)) !important;
        }
        
        .voice-channel:hover {
            background: rgba(67, 181, 129, 0.08) !important;
        }
        
        /* KullanÄ±cÄ± Listesi Fade-in Animasyonu */
        .channel-wrapper {
            animation: channelFadeIn 0.3s ease;
        }
        
        @keyframes channelFadeIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Kanal Ä°kon Pulse Animasyonu (Aktif Sesli Kanal iÃ§in) */
        
    /* ðŸ’ Developer Support Heart Animation */
    @keyframes heartPulse {
        0%, 100% { transform: scale(1); }
        25% { transform: scale(1.15); }
        50% { transform: scale(1); }
        75% { transform: scale(1.1); }
    }
    
    .voice-channel.active svg {
            animation: iconPulse 2s infinite;
        }
        
        @keyframes iconPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }
        
        /* KullanÄ±cÄ± SayÄ±sÄ± Badge Pulse */
        .voice-channel.active > div > div:last-child {
            animation: badgePulse 1.5s infinite;
        }
        
        @keyframes badgePulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(67, 181, 129, 0.4);
            }
            50% {
                box-shadow: 0 0 0 4px rgba(67, 181, 129, 0);
            }
        }

        /* Context Menu Slide Animation */
        @keyframes contextMenuSlide {
            from {
                opacity: 0;
                transform: translateY(-8px) scale(0.96);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
    `,document.head.querySelector("style[data-roomlist-animations]")||(v.setAttribute("data-roomlist-animations","true"),document.head.appendChild(v))}const Ar=be.memo(fr);export{Ar as default};

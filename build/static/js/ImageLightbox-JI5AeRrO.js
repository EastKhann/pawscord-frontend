import{f as t,r as a,d6 as X,d7 as j,aN as W,bp as A,aT as $,l as T,d8 as Z,cE as N,h as O}from"./react-core-B6hadH-M.js";const _=({imageUrl:i,images:c=[],startIndex:B=0,onClose:f})=>{const[p,k]=a.useState(B),[m,l]=a.useState(1),[D,b]=a.useState(0),[g,d]=a.useState({x:0,y:0}),[u,R]=a.useState(!1),h=a.useRef({startX:0,startY:0,startPosX:0,startPosY:0}),r=c.length>0?c:i?[i]:[],y=r[p]||i,s=r.length>1,x=a.useCallback(()=>{s&&(k(e=>(e+1)%r.length),l(1),b(0),d({x:0,y:0}))},[s,r.length]),E=a.useCallback(()=>{s&&(k(e=>(e-1+r.length)%r.length),l(1),b(0),d({x:0,y:0}))},[s,r.length]),v=a.useCallback(()=>l(e=>Math.min(e+.5,5)),[]),C=a.useCallback(()=>{l(e=>{const o=Math.max(e-.5,.5);return o<=1&&d({x:0,y:0}),o})},[]),w=a.useCallback(()=>b(e=>(e+90)%360),[]),I=a.useCallback(()=>{l(1),b(0),d({x:0,y:0})},[]),M=a.useCallback(()=>{const e=document.createElement("a");e.href=y,e.download=y.split("/").pop()||"image",e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)},[y]);a.useEffect(()=>{const e=o=>{switch(o.key){case"Escape":f();break;case"ArrowRight":x();break;case"ArrowLeft":E();break;case"+":case"=":v();break;case"-":C();break;case"r":w();break;case"0":I();break}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[f,x,E,v,C,w,I]);const z=a.useCallback(e=>{e.preventDefault(),e.deltaY<0?l(o=>Math.min(o+.2,5)):l(o=>Math.max(o-.2,.5))},[]),F=a.useCallback(e=>{m<=1||(e.preventDefault(),R(!0),h.current={startX:e.clientX,startY:e.clientY,startPosX:g.x,startPosY:g.y})},[m,g]),S=a.useCallback(e=>{if(!u)return;const o=e.clientX-h.current.startX,Y=e.clientY-h.current.startY;d({x:h.current.startPosX+o,y:h.current.startPosY+Y})},[u]),L=a.useCallback(()=>R(!1),[]);a.useEffect(()=>{if(u)return window.addEventListener("mousemove",S),window.addEventListener("mouseup",L),()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",L)}},[u,S,L]);const P=t.createElement("div",{style:n.overlay,onClick:e=>e.target===e.currentTarget&&f()},t.createElement("div",{style:n.toolbar},t.createElement("div",{style:n.toolbarLeft},s&&t.createElement("span",{style:n.counter},p+1," / ",r.length),t.createElement("span",{style:n.zoomLabel},Math.round(m*100),"%")),t.createElement("div",{style:n.toolbarActions},t.createElement("button",{style:n.toolBtn,onClick:C,title:"Uzaklaştır (-)"},t.createElement(X,null)),t.createElement("button",{style:n.toolBtn,onClick:v,title:"Yakınlaştır (+)"},t.createElement(j,null)),t.createElement("button",{style:n.toolBtn,onClick:w,title:"Döndür (R)"},t.createElement(W,null)),t.createElement("button",{style:n.toolBtn,onClick:I,title:"Sıfırla (0)"},t.createElement(A,null)),t.createElement("div",{style:n.toolDivider}),t.createElement("button",{style:n.toolBtn,onClick:M,title:"İndir"},t.createElement($,null)),t.createElement("button",{style:{...n.toolBtn,...n.closeBtn},onClick:f,title:"Kapat (Esc)"},t.createElement(T,null)))),s&&t.createElement(t.Fragment,null,t.createElement("button",{style:{...n.navBtn,left:16},onClick:E},t.createElement(Z,null)),t.createElement("button",{style:{...n.navBtn,right:16},onClick:x},t.createElement(N,null))),t.createElement("div",{style:n.imageContainer,onWheel:z,onMouseDown:F},t.createElement("img",{src:y,alt:"Preview",draggable:!1,style:{...n.image,transform:`translate(${g.x}px, ${g.y}px) scale(${m}) rotate(${D}deg)`,cursor:m>1?u?"grabbing":"grab":"default",transition:u?"none":"transform 0.2s ease"}})),s&&t.createElement("div",{style:n.thumbStrip},r.map((e,o)=>t.createElement("div",{key:o,onClick:()=>{k(o),l(1),b(0),d({x:0,y:0})},style:{...n.thumb,borderColor:o===p?"#5865f2":"transparent",opacity:o===p?1:.5}},t.createElement("img",{src:e,alt:"",style:n.thumbImg})))));return O.createPortal(P,document.body)},n={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.92)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},toolbar:{position:"absolute",top:0,left:0,right:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",background:"linear-gradient(to bottom, rgba(0,0,0,0.7), transparent)",zIndex:10},toolbarLeft:{display:"flex",alignItems:"center",gap:12},toolbarActions:{display:"flex",alignItems:"center",gap:4},counter:{color:"#fff",fontSize:14,fontWeight:600},zoomLabel:{color:"#949ba4",fontSize:12},toolBtn:{background:"rgba(255,255,255,0.1)",border:"none",color:"#fff",width:36,height:36,borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,transition:"background 0.15s"},closeBtn:{background:"rgba(218,55,60,0.3)"},toolDivider:{width:1,height:20,backgroundColor:"rgba(255,255,255,0.2)",margin:"0 4px"},navBtn:{position:"absolute",top:"50%",transform:"translateY(-50%)",background:"rgba(0,0,0,0.6)",border:"none",color:"#fff",width:48,height:48,borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,zIndex:10,transition:"background 0.15s"},imageContainer:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",width:"100%"},image:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain",userSelect:"none",pointerEvents:"none"},thumbStrip:{position:"absolute",bottom:16,display:"flex",gap:8,padding:"8px 12px",backgroundColor:"rgba(0,0,0,0.7)",borderRadius:12,maxWidth:"80vw",overflowX:"auto"},thumb:{width:48,height:48,borderRadius:6,border:"2px solid transparent",cursor:"pointer",overflow:"hidden",flexShrink:0,transition:"all 0.15s"},thumbImg:{width:"100%",height:"100%",objectFit:"cover"}};if(typeof document<"u"){const i="lightbox-styles";if(!document.getElementById(i)){const c=document.createElement("style");c.id=i,c.textContent=`
            [data-lb-tool]:hover { background: rgba(255,255,255,0.2) !important; }
            [data-lb-nav]:hover { background: rgba(0,0,0,0.8) !important; }
        `,document.head.appendChild(c)}}const K=t.memo(_);export{K as default};

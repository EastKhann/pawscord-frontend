const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/crypto-vendor-D1XRGppi.js","static/js/react-core-Djgtqrmb.js","static/js/CinemaModal-CD-wVzZy.js","static/js/media-vendor-CxFPycob.js","static/js/icons-vendor-BW7dxHkX.js","static/js/router-vendor-ClgLnMjk.js","static/js/state-vendor-BRqaXHJQ.js","static/js/ui-vendor-IhB9Znpc.js","static/js/CryptoChartModal-Bk8meZWK.js","static/js/GifPicker-koQVq_Gj.js","static/js/StickerPicker-C1oM2lgK.js","static/js/UserProfilePanel-Cbc7HHmf.js","static/js/AvatarCropper-ypZ5P8Nv.js","static/css/AvatarCropper-Bmc3QgaR.css","static/js/LogoutModal-DCH4WVXS.js","static/css/LogoutModal-CN0Shh05.css","static/js/index-BNjLOQm3.js","static/css/UserProfilePanel-CYuLGoEH.css","static/js/AdminAnalyticsPanel-DmEo43Ww.js","static/js/chart-vendor-HLiKYU_V.js","static/js/AdminPanelModal-COKYFcXy.js","static/js/APIUsagePanel-Da6Z5SYK.js","static/js/AutoModerationDashboard-CPm7mxdW.js","static/js/AuditLogPanel-MaX75zEG.js","static/js/BookmarkPanel-Dbsr9vOS.js","static/js/ChannelPermissionsPanel-Crq6snjM.js","static/js/CodeSnippetModal-Bzt_0C9G.js","static/js/ConnectionsPanel-DiARkzJE.js","static/css/ConnectionsPanel-BHb_cRVQ.css","static/js/CreateGroupModal-B6azPe7L.js","static/js/CustomStatusModal-BE3SWODl.js","static/js/DJModal-CuUe07R6.js","static/js/DailyRewardsModal-BMD7Eck2.js","static/js/DownloadModal-DOMLumbL.js","static/js/EncryptionKeyModal-JuHOmUHc.js","static/js/ExportJobsPanel-DG5f0UDK.js","static/js/MentionsInboxPanel-fv9CwmJi.js","static/js/PasswordSetupModal-I3sL_hBB.js","static/css/PasswordSetupModal-hiiUdoNl.css","static/js/PaymentPanel-CBsUNHNF.js","static/js/PollCreateModal-D8n68Bcs.js","static/js/PremiumStoreModal-Q8OpctF6.js","static/js/CoinStoreModal-BypqoFDx.js","static/js/RaidProtectionPanel-8EGzEUWy.js","static/js/ReadLaterPanel-CWsphTHn.js","static/css/ReadLaterPanel-B_WZGTiX.css","static/js/ReportSystemPanel-BiybbopQ.js","static/js/ScheduledAnnouncementsPanel-VYEk_qc5.js","static/js/ServerSettingsModal-DCgUNcXe.js","static/js/AutoResponderManager-oUiArwM2.js","static/js/VanityURLManager-D6SBbRUW.js","static/js/SoundboardModal-CJQrt0tS.js","static/js/StoreModal-BkRUrMYQ.js","static/js/UserWarningsPanel-D5pkSIX4.js","static/js/WebhooksPanel-DttRhwIa.js","static/css/WebhooksPanel-Cn13v79_.css","static/js/WhiteboardModal-Diom4rSs.js","static/js/AdvancedSearchPanel-BWUDzHhv.js","static/js/AutoRespondersPanel-C79ZTvW3.js","static/js/AvatarStudioPanel-UgNAxzgt.js","static/js/ContentScannerPanel-CgXTeMGf.js","static/js/DataRetentionPanel-CE01vzak.js","static/js/DraftsPanel-BJunqOD9.js","static/js/EnhancedPollsPanel-CmTYyKSX.js","static/js/EphemeralMessagesPanel-BQYhyRm_.js","static/js/FieldChangeTrackingPanel-C6rwNddw.js","static/js/GDPRExportPanel-IJyrOJOz.js","static/js/GrowthMetricsPanel-CqaDRDkU.js","static/js/InventoryPanel-rFnsPGP-.js","static/js/InviteAnalyticsPanel-DgiNA__h.js","static/js/InviteExportPanel-CYZL-f2r.js","static/js/JoinLeaveLogsPanel-wkqM5cRz.js","static/js/LinkClickTrackingPanel-BlaBe1WU.js","static/js/LinkPreviewRenderer-gBhTbS1N.js","static/js/MiniGamesPanel-Do0Nltg0.js","static/js/NicknameHistoryPanel-DfdDjUZY.js","static/js/OAuthAppsPanel-CtbxXRu3.js","static/js/ProjectCollaborationPanel-BnARk6lu.js","static/js/ReactionAnalyticsPanel-DjbNcVTj.js","static/js/ReferralRewardsPanel-D2VF9DFc.js","static/js/RoomWebhooksPanel-BnolvcLa.js","static/js/ServerBoostPanel-Bvc_KxtO.js","static/js/ServerNicknamesPanel-C2nqUWYN.js","static/js/SessionManagementPanel-pNODUdlz.js","static/js/TopicHistoryPanel-CiVO5Qau.js","static/js/TwoFactorSetupWizard-XcFwiQQa.js","static/js/UserActivityPanel-BK1ABQvb.js","static/js/VoiceTranscriptsPanel-DVqpWJEX.js","static/js/WaitlistPanel-kLn5i8Y9.js","static/js/AccountDeletionModal-C2RXUZW_.js","static/js/AchievementsPanel-CMWT-hVD.js","static/css/AchievementsPanel-DFaxIlHI.css","static/js/AppearanceSettingsPanel-CpE-v5Jb.js","static/css/AppearanceSettingsPanel-DtvYtcjX.css","static/js/AutoRolesPanel-DqpptgC9.js","static/css/AutoRolesPanel-DU8S1w3K.css","static/js/BanAppealsPanel-F-_a7pwa.js","static/css/BanAppealsPanel-Crjfvdr1.css","static/js/BirthdaySystemPanel-xd0JwI9F.js","static/css/BirthdaySystemPanel-RkokRZM1.css","static/js/BlockListPanel-SAjTCJ-w.js","static/css/BlockListPanel-ydu-83CR.css","static/js/BotMarketplace-Bs-LrLuB.js","static/css/BotMarketplace-CV8H4agR.css","static/js/ChangelogPanel-COWNSwEF.js","static/css/ChangelogPanel-DSahUrmd.css","static/js/CommandPalette-N2RrOAbm.js","static/css/CommandPalette-DYovmTGR.css","static/js/CustomCommandsPanel-BGL92LJs.js","static/css/CustomCommandsPanel-DzBoUe0r.css","static/js/CustomEmbedPanel-DYx5TjY-.js","static/css/CustomEmbedPanel-cL1bEdfz.css","static/js/E2EESettingsPanel-GPqXbJz6.js","static/js/EventCalendar-DdfsQmTq.js","static/js/ForumPanel-BPBXNo75.js","static/css/ForumPanel-DH186p-Q.css","static/js/GiveawayPanel-BWaZBrpu.js","static/css/GiveawayPanel-DSMCDI8W.css","static/js/HighlightsPanel-5tQQRSpV.js","static/js/purify.es-CVaxJkcz.js","static/css/HighlightsPanel-CjciKa29.css","static/js/IntegrationHubPanel-UkTARtOc.js","static/css/IntegrationHubPanel-DWLyQi8b.css","static/js/KeyboardShortcutsModal-Co3eaQv3.js","static/js/LanguageSelector-25eZx86Y.js","static/css/LanguageSelector-DWfI0Cd9.css","static/js/LevelingSystemPanel-mh_QUatO.js","static/css/LevelingSystemPanel-JjR42DY8.css","static/js/LiveStreamPanel-EekOlSCh.js","static/js/LoginHistory-pKVUo3Ey.js","static/js/MessageSearchPanel-bNYQ_5Rv.js","static/css/MessageSearchPanel-C3bbTam8.css","static/js/MusicPlayer-DU00uOZi.js","static/css/MusicPlayer-2TVw9zgE.css","static/js/NotificationSoundSettings-CBTuhWFj.js","static/js/PremiumModal-T90lKGYw.js","static/js/PrivacySettingsPanel-Cf_AwFjC.js","static/css/PrivacySettingsPanel-DOp087aH.css","static/js/ProfileCustomization-Dec4zVFL.js","static/js/QuickSwitcher-DhXYmfyv.js","static/css/QuickSwitcher-eeXZ-Hh6.css","static/js/ReactionRolesPanel-BnfCd67V.js","static/css/ReactionRolesPanel-Dbki0uIx.css","static/js/ReminderPanel-9r6jnJy9.js","static/css/ReminderPanel-C5wuT3oc.css","static/js/ScheduledMessagesPanel-BDg6OnTs.js","static/css/ScheduledMessagesPanel-BkeBtQYY.css","static/js/SecuritySettingsPanel-ChFF9yt4.js","static/css/SecuritySettingsPanel-CdlUdRq4.css","static/js/ServerBackupPanel-f4OMXY1X.js","static/css/ServerBackupPanel-DUuXPoYi.css","static/js/ServerClonePanel-lKtiFvj3.js","static/css/ServerClonePanel-DjIQu65K.css","static/js/ServerDiscoveryPage-hRV_NZb5.js","static/css/ServerDiscoveryPage-C9ji3_0z.css","static/js/SpotifyIntegrationPanel-BNonapWv.js","static/css/SpotifyIntegrationPanel-DG57gen_.css","static/js/StageChannelPanel-Bvcchbtt.js","static/css/StageChannelPanel-ec-xBVIi.css","static/js/StarboardPanel-CjuwTCHE.js","static/css/StarboardPanel-Bplj_3AV.css","static/js/ThreadView-BN3vLtRh.js","static/js/TicketSystemPanel-BFPljwjT.js","static/css/TicketSystemPanel-Dw5YdR4r.css","static/js/TournamentSystem-D8bJs5-E.js","static/js/UserSettingsModal-D2yRg-z5.js","static/js/VideoCallModal-aviGWNb2.js","static/js/VoiceSettingsPanel-fscgbccP.js","static/css/VoiceSettingsPanel-D0hk1ENV.css","static/js/index-_vS18Uc0.js","static/css/index-CXqjumg6.css","static/js/WeeklyChallengesPanel-diIhSVYD.js","static/js/WelcomeMessagesPanel-Wg88LCPP.js","static/css/WelcomeMessagesPanel-CUulvusV.css","static/js/AIChatbotPanel-C3NO429t.js","static/css/AIChatbotPanel-B_ZPS7ZT.css","static/js/AIModerationPanel-DIZJfL7a.js","static/js/APIKeysPanel-Bny4iDBp.js","static/js/AdvancedAnalyticsDashboard-BzQgo2B3.js","static/css/AdvancedAnalyticsDashboard-zKSzz6gj.css","static/js/AuditLogsPanel-BAbzr-_D.js","static/css/AuditLogsPanel-C2HV5vlK.css","static/js/BanHistoryPanel-BucIk3QN.js","static/css/BanHistoryPanel-B1HoK-Y5.css","static/js/BotBuilder-CPcMPqi4.js","static/js/BotDeveloperPortal-D6avPpeq.js","static/css/BotDeveloperPortal-CiAN0d3V.css","static/js/ChannelSettingsModal-BM-rgWzo.js","static/js/CodeRunnerPanel-DtHoevtu.js","static/css/CodeRunnerPanel-BsecIpfS.css","static/js/CollaborativeCodeEditor-Bx91Pjdp.js","static/js/CommunitySettingsPanel-Cql0vV_f.js","static/css/CommunitySettingsPanel-CCLBP5zl.css","static/js/ErrorReportingPanel-Cso5jjuc.js","static/css/ErrorReportingPanel-BpwRIoym.css","static/js/FileManagerPanel-dpPzm-ZZ.js","static/js/GIFPickerPanel-lkC6rxIn.js","static/css/GIFPickerPanel-DNJgydbk.css","static/js/GiftPremiumPanel-CJgyafIL.js","static/css/GiftPremiumPanel-J9GaqGZk.css","static/js/InviteLinkManager-DuBdN0SS.js","static/js/InviteModal-CLS7qLjW.js","static/js/LiveStreamModal-BOSNr6Fo.js","static/js/MessageSummaryPanel--8TciizY.js","static/css/MessageSummaryPanel-Bw4dZH15.css","static/js/ModerationLogsPanel-Cb_FMmH1.js","static/css/ModerationLogsPanel-DihbAUcA.css","static/js/ModeratorTools-B8d-3T1g.js","static/js/MutualsPanel-rXn75Smf.js","static/css/MutualsPanel-BUkSBcqb.css","static/js/NotificationsCenter-Bxr28Zxe.js","static/css/NotificationsCenter-i-qTrh8-.css","static/js/PollCreator-VuscpzlJ.js","static/js/PremiumManagementPanel-8iEMSVl5.js","static/css/PremiumManagementPanel-CKheEDbN.css","static/js/PremiumMarketplace-BnXBbT2R.js","static/css/PremiumMarketplace-D4Iktq9p.css","static/js/ProfileCard-DMQqLZf_.js","static/css/ProfileCard-BAIgDvZ2.css","static/js/ProfileShowcasePanel-CDpEBPTB.js","static/css/ProfileShowcasePanel-BzQDM2cl.css","static/js/ReportsPanel-DK5nv6zN.js","static/css/ReportsPanel-D2fwu3EV.css","static/js/RolesManager-B2zXNiuh.js","static/css/RolesManager-KxnUcG0l.css","static/js/SavedMessagesModal-DfV3zf5g.js","static/js/ScreenShareModal-CBofYumM.js","static/js/SecurityAlertsPanel-CMNmGOdn.js","static/css/SecurityAlertsPanel-K6MWC1t2.css","static/js/ServerAnalyticsDashboard-CtGcLtB8.js","static/js/ServerTemplates-DeJlncJJ.js","static/css/ServerTemplates-H_lq5rz_.css","static/js/SessionManagerModal-Ctit_ZiR.js","static/js/SlashCommandsPanel-BTqynCbS.js","static/css/SlashCommandsPanel-B3KOzHRE.css","static/js/SpamDetectionPanel-bjVHRYf-.js","static/js/StatusPicker-BMY5h21H.js","static/js/StickersPanel-rdDbtWKP.js","static/css/StickersPanel-MPh7JAbI.css","static/js/SubscriptionManager-CxaTvCM9.js","static/js/ThemeMarketplace-BPnZbZLH.js","static/css/ThemeMarketplace-DgqXjbLi.css","static/js/TranslationPanel-DtOPulz4.js","static/css/TranslationPanel-rNJv43tY.css","static/js/UserNotesModal-DiYa3Nqa.js","static/js/WebhookManager-DRQ8YAvN.js","static/js/WelcomeScreenEditor-ddpLd9B-.js","static/js/ImageLightbox-C_1b7PD3.js","static/js/MessageTemplateModal-DL4cI6rn.js","static/js/PinnedMessages-BlS2hIX7.js","static/js/Message-COaujenZ.js","static/js/LazyImage-h7tJnYE0.js","static/js/imageCaching-Df571KuS.js","static/js/syntax-core-ClRPxWov.js","static/js/perf-vendor-BfRgZ-u9.js","static/js/SummaryModal-B10osls8.js","static/js/ThemeStoreModal-B3pOTCF3.js","static/js/UserProfileModal-BW6lUDAi.js","static/js/VirtualMessageList-Ds8apxSA.js","static/js/MessageInput-vYS8GQQE.js","static/js/ScheduledMessageModal-BjS6gRdS.js","static/css/MessageInput-Q2oINpgp.css","static/js/UserVideoContainer-oTJExyK4.js","static/js/VoiceAudioController-B8Luzjnj.js","static/js/RichTextEditor--cB6pr-Z.js","static/js/editor-vendor-HPqCJnoE.js","static/css/RichTextEditor-D1KllEDh.css","static/js/StickyMessageBanner-6uIm_cgn.js","static/js/LoginPage-Rzlel_Nk.js","static/js/recaptcha-D67gYgdo.js","static/js/WelcomeScreen-BhZIzr46.js","static/js/ImageModal-CpAQ0ncn.js","static/js/CryptoStoreModal-Mf2QYSoF.js","static/js/KanbanBoard-BI111Z2b.js","static/js/AutoModerationPanel-CoLe1VAv.js","static/css/AutoModerationPanel-iAw0CZQU.css","static/js/MessageThreadsPanel-BMTQBSQI.js","static/js/ModeratorNotesPanel-5TjhEjsL.js","static/js/ServerRolesPanel-BLltwuJQ.js","static/js/NotificationPreferencesPanel-DdAcNIH0.js","static/js/MessageOCRPanel-CPpXCsFQ.js","static/js/MassActionsPanel-0H_wj52l.js","static/js/TimeoutMutePanel-MdYYwAYF.js","static/js/ServerThemesPanel-JN5K8_1H.js","static/js/KeywordMutesPanel-Bs_QY2pY.js","static/js/WelcomeTemplatesPanel-1_144J9c.js","static/js/StickyMessagesPanel-B3Mk2bL_.js","static/js/MessageTemplatesPanel-dIURiDQ1.js","static/js/MessageExportPanel-B2SSkfiH.js","static/js/ArchivedRoomsPanel-DaTnR2_k.js","static/js/SlowModePanel-CD8RkW6i.js","static/js/EmojiManagementPanel-QHtz96kx.js","static/js/VanityURLPanel-CNbp_XRd.js","static/js/VerifyEmailPage-D5lZPicJ.js","static/js/ForgotPasswordPage-BxhdsAw2.js","static/js/ResetPasswordPage-BnwdLUw5.js","static/js/TwoFactorLoginPage-CNG85H0w.js","static/js/TwoFactorSetup-CRVuAUJW.js","static/css/TwoFactorSetup-CtmcmlFU.css","static/js/TwoFactorLogin-w0eXO42b.js","static/css/TwoFactorLogin-DgREC4Q6.css","static/js/VanityInviteScreen-BzSdYXxC.js","static/js/InviteCodeScreen-CKK5NnIG.js","static/js/EmailVerification-DsXvsmWz.js","static/css/EmailVerification-CE2S-15C.css","static/js/MobileNav-BfMKpzqa.js","static/css/MobileNav-BLwPGkd1.css","static/js/SwipeActions-SIVWXjIn.js","static/css/SwipeActions-CCPpS4d3.css","static/js/VoiceMessage-BYVdiVez.js","static/css/VoiceMessage-Czmu0SFR.css","static/js/FriendsTab-BLdMlqQM.js","static/js/RoomList-CzzIw-dT.js","static/js/UserFooter-DVmNSIv-.js","static/js/VoiceChatPanel-J5oH7PLn.js","static/js/UserContextMenu-BL04brC0.js","static/js/cjs-3Tj8aJ0i.js","static/js/ChatUserList-DFxKTyHP.js","static/js/FloatingVoiceIsland-Bkn7EL_S.js","static/css/FloatingVoiceIsland-CMKNK2uU.css","static/js/CinemaPlayer-DRblNVkm.js","static/js/NotificationDropdown-Ineo259Q.js","static/js/ReactionStatsPanel-DjbK8xUk.js","static/css/ReactionStatsPanel-C-EVTLx8.css","static/js/ServerHealthPanel-CU8hR-uL.js","static/css/ServerHealthPanel-SDzwtZkI.css","static/js/ChannelAnalyticsPanel-C8UqVm8L.js","static/css/ChannelAnalyticsPanel-B6Q8OoDz.css","static/js/SmartSuggestionsPanel-CxweGE0S.js","static/css/SmartSuggestionsPanel-BFDBx7VC.css","static/js/UserPresenceInsightsPanel-B4y61NHv.js","static/css/UserPresenceInsightsPanel-WBZVzGk9.css","static/js/ChannelAboutPanel-N-Tf5Sbb.js","static/js/MessageSchedulePicker-485JYwAQ.js","static/js/RaidProtectionDashboard-B0xFXmXd.js","static/css/RaidProtectionDashboard-BDwwojVg.css","static/js/BookmarksPanel-CFx3v4t6.js","static/js/web-BA0YAItV.js","static/js/urlHandlers-Dzl1VppT.js","static/js/pushNotifications-B9yQNBdW.js","static/js/EnglishHub-DcbsFcyM.js","static/js/GrammarQuizPage-DJGKlSSd.js","static/js/EnglishLearningPage-BXlrE1Yg.js","static/js/CryptoDashboard-BPBDytlM.js","static/js/useWindowWidth-Bfmtox1e.js","static/js/CryptoSignals-8EMEaARN.js","static/js/PrivacyPolicyPage-BIZ9zYKe.js","static/js/StorePage-D7wigWEk.js","static/js/LandingPage-CcqPCM3f.js","static/css/LandingPage-CHHpsw7G.css","static/js/ReferralProgram-DVt61eSo.js","static/css/ReferralProgram-CBBjqZR4.css","static/js/GrowthDashboard-BNYONYFG.js","static/css/GrowthDashboard-xlqndw5F.css","static/js/ToastDemo-DNg53Ozz.js","static/css/ToastDemo-DxNVRuTl.css"])))=>i.map(i=>d[i]);
var pi=Object.defineProperty;var l=(t,e)=>pi(t,"name",{value:e,configurable:!0});import{_ as p}from"./media-vendor-CxFPycob.js";import{a as u,j as o,r as a,h as fi,f as mi,i as gi}from"./react-core-Djgtqrmb.js";import{u as zs,a as Vs,b as kn,L as Ms,H as hi,R as yi,c as Se,N as _i}from"./router-vendor-ClgLnMjk.js";import{c as $s,d as bi,p as xi}from"./state-vendor-BRqaXHJQ.js";import{j as qt,C as Cr}from"./crypto-vendor-D1XRGppi.js";import{F as vi,a as xn,b as ki,c as Si,d as Ns,e as wi,f as Bs,g as Ei,h as qo,i as Ci,j as Ti,k as Fs,l as Pi,m as ji,n as Li,o as Ii,p as Oi,q as Di,r as Jo,s as Ri,t as Ai,u as Kr,v as Us,w as qr,x as Jr,y as zi,z as Vi,A as Ys,B as Wo,C as Mi,D as $i,E as Gs,G as Ni,H as Bi,I as Fi,J as Ui,K as Yi}from"./icons-vendor-BW7dxHkX.js";import{y as Tr}from"./ui-vendor-IhB9Znpc.js";l(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}l(n,"getFetchOpts");function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}l(r,"processPreload")},"polyfill")();const Sn={log:console.log,warn:console.warn,error:console.error,info:console.info,debug:console.debug};let Gi="warn";const Mt={none:0,error:1,warn:2,info:3,debug:4},Hi=Mt[Gi],wn=l((t,e)=>!(t>Mt.error||t>Hi),"shouldLog");console.log=(...t)=>{wn(Mt.info)&&Sn.log(...t)};console.info=(...t)=>{wn(Mt.info)&&Sn.info(...t)};console.debug=(...t)=>{wn(Mt.debug)&&Sn.debug(...t)};console.warn=(...t)=>{wn(Mt.warn)&&Sn.warn(...t)};console.error=(...t)=>{wn(Mt.error)&&Sn.error(...t)};const Zo=new Map;setInterval(()=>{const t=Date.now();Zo.forEach((e,n)=>{t-e>6e4&&Zo.delete(n)})},6e4);var Qt;let Ki=(Qt=class extends u.Component{constructor(e){super(e),this.reportError=async(n,r)=>{try{const s=typeof window<"u"&&window.__PAWSCORD_API_BASE__||"https://api.pawscord.com",i=localStorage.getItem("access_token"),c={"Content-Type":"application/json"};i&&(c.Authorization=`Bearer ${i}`),await fetch(`${s}/errors/report/`,{method:"POST",headers:c,body:JSON.stringify({error:n.toString(),stack:r.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})})}catch{}},this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n,errorCount:this.state.errorCount+1}),window.gtag&&window.gtag("event","exception",{description:e.toString(),fatal:!1}),this.reportError(e,n)}render(){return this.state.hasError?this.state.errorCount>3?o.jsx("div",{className:"error-boundary critical",children:o.jsxs("div",{className:"error-content",children:[o.jsx("h1",{children:"‚ö†Ô∏è Critical Error"}),o.jsx("p",{children:"Multiple errors detected. Please refresh the page."}),o.jsx("button",{onClick:l(()=>window.location.reload(),"onClick"),className:"btn-reload",children:"Refresh Page"})]})}):o.jsx("div",{className:"error-boundary",children:o.jsxs("div",{className:"error-content",children:[o.jsx("div",{className:"error-icon",children:"üòï"}),o.jsx("h1",{children:"Oops! Something went wrong"}),o.jsx("p",{className:"error-message",children:this.props.fallbackMessage||"We're sorry for the inconvenience. The error has been reported."}),!1,o.jsxs("div",{className:"error-actions",children:[o.jsx("button",{onClick:this.handleReset,className:"btn-retry",children:"Try Again"}),o.jsx("button",{onClick:l(()=>window.location.href="/","onClick"),className:"btn-home",children:"Go Home"})]})]})}):this.props.children}},l(Qt,"ErrorBoundary"),Qt);const Xr=class Xr extends u.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){}render(){return this.state.hasError?o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 20px",color:"#b9bbbe",height:"100%",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"32px",marginBottom:"12px"},children:"‚ö†Ô∏è"}),o.jsxs("p",{style:{fontSize:"14px",margin:"0 0 12px"},children:[this.props.section||"Bu b√∂l√ºm"," y√ºklenirken hata olu≈ütu."]}),o.jsx("button",{onClick:l(()=>this.setState({hasError:!1,error:null}),"onClick"),style:{background:"#5865f2",color:"white",border:"none",borderRadius:"4px",padding:"8px 16px",cursor:"pointer",fontSize:"13px",fontWeight:600},children:"Tekrar Dene"})]}):this.props.children}};l(Xr,"SectionErrorBoundary");let Pr=Xr;const _r=l(({children:t,fallback:e,section:n})=>o.jsx(Pr,{section:n,children:o.jsx(a.Suspense,{fallback:e||null,children:t})}),"SuspenseWithBoundary"),Jt=$s()(bi((t,e)=>({messages:[],encryptionKeys:{},activeChat:{type:"welcome",id:"welcome",targetUser:null},unreadCounts:{},typingUsers:[],onlineUsers:[],voiceUsers:{},currentPermissions:{is_owner:!1,can_manage_channels:!1,can_delete_messages:!1,can_manage_roles:!1,can_ban_members:!1},setActiveChat:l((n,r,s=null)=>{let i,c,d;n&&typeof n=="object"?(i=n.type,c=n.id||n.slug,d=n.targetUser||null):(i=n,c=r,d=s),t({activeChat:{type:i,id:c,targetUser:d}});const f=i==="room"?`room-${c}`:`dm-${c}`;t(m=>{const h={...m.unreadCounts};return delete h[f],{unreadCounts:h}})},"setActiveChat"),addMessage:l(n=>t(r=>!n||typeof n!="object"||!n.id?r:n.temp_id&&r.messages.some(i=>i.temp_id===n.temp_id)?{messages:r.messages.map(i=>i.temp_id===n.temp_id?n:i)}:r.messages.some(s=>s.id===n.id)?r:{messages:[...r.messages,n]}),"addMessage"),updateMessage:l((n,r)=>t(s=>({messages:s.messages.map(i=>i.id===n?{...i,...r}:i)})),"updateMessage"),removeMessage:l(n=>t(r=>({messages:r.messages.filter(s=>s.id!==n)})),"removeMessage"),updateUserStatus:l((n,r)=>t(s=>({onlineUsers:s.onlineUsers.map(i=>(i.id||i.user_id)===n?{...i,status:r}:i)})),"updateUserStatus"),setMessages:l(n=>t(r=>{const s=typeof n=="function"?n(r.messages):n;return{messages:Array.isArray(s)?s.filter(c=>c&&typeof c=="object"&&c.id):[]}}),"setMessages"),prependMessages:l(n=>t(r=>({messages:[...n,...r.messages]})),"prependMessages"),incrementUnread:l(n=>t(r=>({unreadCounts:{...r.unreadCounts,[n]:(r.unreadCounts[n]||0)+1}})),"incrementUnread"),setOnlineUsers:l(n=>t({onlineUsers:n}),"setOnlineUsers"),setTypingUser:l((n,r)=>t(s=>r?{typingUsers:s.typingUsers.includes(n)?s.typingUsers:[...s.typingUsers,n]}:{typingUsers:s.typingUsers.filter(i=>i!==n)}),"setTypingUser"),setVoiceUsers:l(n=>t({voiceUsers:n}),"setVoiceUsers"),setVoiceUsersState:l(n=>t({voiceUsers:n}),"setVoiceUsersState"),selectedMessages:new Set,setSelectedMessages:l(n=>t({selectedMessages:typeof n=="function"?n(e().selectedMessages):n}),"setSelectedMessages"),setEncryptionKey:l((n,r)=>t(s=>({encryptionKeys:{...s.encryptionKeys,[n]:r}})),"setEncryptionKey"),setPermissions:l(n=>t({currentPermissions:n||{is_owner:!1,can_manage_channels:!1,can_delete_messages:!1,can_manage_roles:!1,can_ban_members:!1}}),"setPermissions")}),{name:"pawscord-chat-store"})),Wr=$s(xi((t,e)=>({modals:{settings:!1,createServer:!1,invitePeople:!1,serverSettings:!1,userProfile:!1,imageViewer:!1,groupModal:!1,soundboard:!1,whiteboard:!1,encModal:!1,templateModal:!1,snippetModal:!1,pollModal:!1,profilePanel:!1,pinned:!1,gifPicker:!1,cinema:!1,stickerPicker:!1,store:!1,themeStore:!1,analytics:!1,adminPanel:!1,webhooks:!1,modTools:!1,vanityURL:!1,autoModeration:!1,raidProtection:!1,reportSystem:!1,auditLog:!1,userWarnings:!1,autoResponder:!1,bookmarks:!1,readLater:!1,mentionsInbox:!1,customStatus:!1,channelPermissions:!1,messageThreads:!1,moderatorNotes:!1,serverRoles:!1,notificationPrefs:!1,messageOCR:!1,massActions:!1,reactionAnalytics:!1,linkClickTracking:!1,joinLeaveLogs:!1,userActivity:!1,nicknameHistory:!1,fieldChangeTracking:!1,inviteAnalytics:!1,contentScanner:!1,ephemeralMessages:!1,topicHistory:!1,drafts:!1,serverNicknames:!1,serverBoost:!1,roomWebhooks:!1,oAuthApps:!1,autoResponders:!1,sessionManagement:!1,gDPRExport:!1,dataRetention:!1,twoFactorSetup:!1,enhancedPolls:!1,voiceTranscripts:!1,inviteExport:!1,advancedSearch:!1,growthMetrics:!1,linkPreview:!1,inventory:!1,waitlist:!1,referralRewards:!1,miniGames:!1,projectCollaboration:!1,avatarStudio:!1,timeoutMute:!1,serverThemes:!1,keywordMutes:!1,welcomeTemplates:!1,stickyMessages:!1,messageTemplates:!1,messageExport:!1,archivedRooms:!1,slowMode:!1,emojiManagement:!1,userSettings:!1,keyboardShortcuts:!1,commandPalette:!1,serverDiscovery:!1,appearanceSettings:!1,languageSelector:!1,changelog:!1,logoutConfirm:!1,notificationSounds:!1,quickSwitcher:!1,loginHistory:!1,securitySettings:!1,privacySettings:!1,accountDeletion:!1,blockList:!1,e2EESettings:!1,threadView:!1,scheduledMessages:!1,reminders:!1,forum:!1,stageChannel:!1,videoCall:!1,voiceSettings:!1,messageSearch:!1,watchTogether:!1,autoRoles:!1,reactionRoles:!1,welcomeMessages:!1,eventCalendar:!1,giveaway:!1,ticketSystem:!1,starboard:!1,serverBackup:!1,banAppeals:!1,customCommands:!1,levelingSystem:!1,liveStream:!1,achievements:!1,birthdaySystem:!1,premium:!1,musicPlayer:!1,botMarketplace:!1,profileCustomization:!1,integrationHub:!1,tournaments:!1,highlights:!1,customEmbed:!1,spotifyIntegration:!1,serverClone:!1,weeklyChallenges:!1,featureHub:!1,moderatorTools:!1,aIModeration:!1,spamDetection:!1,auditLogs:!1,banHistory:!1,moderationLogs:!1,securityAlerts:!1,gIFPicker:!1,pollCreator:!1,stickers:!1,savedMessages:!1,notificationsCenter:!1,messageSummary:!1,translation:!1,channelSettings:!1,inviteModal:!1,serverTemplates:!1,serverAnalytics:!1,rolesManager:!1,welcomeScreenEditor:!1,communitySettings:!1,inviteLinkManager:!1,botBuilder:!1,botDevPortal:!1,webhookManager:!1,aPIKeys:!1,slashCommands:!1,codeRunner:!1,profileCard:!1,userNotes:!1,statusPicker:!1,mutuals:!1,profileShowcase:!1,sessionManager:!1,coinStore:!1,premiumManagement:!1,subscriptionManager:!1,giftPremium:!1,premiumMarketplace:!1,themeMarketplace:!1,aIChatbot:!1,codeEditor:!1,screenShare:!1,liveStreamModal:!1,advancedAnalytics:!1,fileManager:!1,reports:!1,errorReporting:!1,avatarCropper:!1,downloadModal:!1,summary:!1,dJ:!1,notifications:!1,toolbarMenu:!1,paymentPanel:!1,storeModal:!1,dailyRewards:!1,aPIUsagePanel:!1,exportJobsPanel:!1,scheduledAnnouncements:!1,connectionsPanel:!1,passwordSetupModal:!1},animationState:"start",setAnimationState:l(n=>t({animationState:typeof n=="function"?n(e().animationState):n}),"setAnimationState"),isConnected:!1,connectionStatus:"disconnected",setIsConnected:l(n=>{const r=typeof n=="function"?n(e().isConnected):n;t({isConnected:r,connectionStatus:r?"connected":"disconnected"})},"setIsConnected"),setConnectionStatus:l(n=>t({connectionStatus:n,isConnected:n==="connected"}),"setConnectionStatus"),isLoading:!1,setLoading:l(n=>t({isLoading:typeof n=="function"?n(e().isLoading):n}),"setLoading"),globalError:null,setError:l(n=>t({globalError:n}),"setError"),clearError:l(()=>t({globalError:null}),"clearError"),toastNotifications:[],addNotification:l(n=>t(r=>({toastNotifications:[...r.toastNotifications,{id:Date.now(),...n}]})),"addNotification"),removeNotification:l(n=>t(r=>({toastNotifications:r.toastNotifications.filter(s=>s.id!==n)})),"removeNotification"),clearNotifications:l(()=>t({toastNotifications:[]}),"clearNotifications"),updateStatusText:"",setUpdateStatusText:l(n=>t({updateStatusText:typeof n=="function"?n(e().updateStatusText):n}),"setUpdateStatusText"),downloadProgress:0,setDownloadProgress:l(n=>t({downloadProgress:typeof n=="function"?n(e().downloadProgress):n}),"setDownloadProgress"),isDownloading:!1,setIsDownloading:l(n=>t({isDownloading:typeof n=="function"?n(e().isDownloading):n}),"setIsDownloading"),searchQuery:"",setSearchQuery:l(n=>t({searchQuery:typeof n=="function"?n(e().searchQuery):n}),"setSearchQuery"),dropTarget:null,setDropTarget:l(n=>t({dropTarget:typeof n=="function"?n(e().dropTarget):n}),"setDropTarget"),modalData:{},panels:{userList:!0,memberList:!0,serverList:!0,channelList:!0},theme:"dark",accentColor:"#5865F2",sidebarCollapsed:!1,mobileSidebarOpen:!1,contextMenu:null,openModal:l((n,r=null)=>t(s=>({modals:{...s.modals,[n]:!0},modalData:r?{...s.modalData,[n]:r}:s.modalData})),"openModal"),closeModal:l(n=>t(r=>({modals:{...r.modals,[n]:!1},modalData:{...r.modalData,[n]:void 0}})),"closeModal"),toggleModal:l(n=>t(r=>({modals:{...r.modals,[n]:!r.modals[n]}})),"toggleModal"),closeAllModals:l(()=>t(n=>({modals:Object.keys(n.modals).reduce((r,s)=>(r[s]=!1,r),{}),modalData:{}})),"closeAllModals"),getModalData:l(n=>e().modalData[n],"getModalData"),togglePanel:l(n=>t(r=>({panels:{...r.panels,[n]:!r.panels[n]}})),"togglePanel"),setTheme:l(n=>t({theme:n}),"setTheme"),setAccentColor:l(n=>t({accentColor:n}),"setAccentColor"),toggleSidebar:l(()=>t(n=>({sidebarCollapsed:!n.sidebarCollapsed})),"toggleSidebar"),setMobileSidebarOpen:l(n=>t({mobileSidebarOpen:n}),"setMobileSidebarOpen"),setContextMenu:l(n=>t({contextMenu:n}),"setContextMenu"),clearContextMenu:l(()=>t({contextMenu:null}),"clearContextMenu")}),{name:"pawscord-ui-store",partialize:l(t=>({theme:t.theme,accentColor:t.accentColor,sidebarCollapsed:t.sidebarCollapsed,panels:t.panels}),"partialize")})),nt={mobile:768,tablet:1024,desktop:1920,ultrawide:2560},qi=l(()=>{const[t,e]=a.useState({width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080});a.useEffect(()=>{if(typeof window>"u")return;let s;const i=l(()=>{clearTimeout(s),s=setTimeout(()=>{e({width:window.innerWidth,height:window.innerHeight})},150)},"handleResize");return i(),window.addEventListener("resize",i),window.addEventListener("orientationchange",i),()=>{clearTimeout(s),window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i)}},[]);const{width:n,height:r}=t;return{isMobile:n<=nt.mobile,isTablet:n>nt.mobile&&n<=nt.tablet,isDesktop:n>nt.tablet&&n<=nt.desktop,isUltrawide:n>nt.desktop,width:n,height:r,orientation:r>n?"portrait":"landscape",isSmallScreen:n<=nt.mobile,isMediumScreen:n>nt.mobile&&n<=nt.tablet,isLargeScreen:n>nt.tablet,isTouchDevice:typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),breakpoints:nt}},"useResponsive"),Ji=l((t,e,n)=>a.useMemo(()=>{if(!t||!Array.isArray(t))return[];let s=t;if(e&&typeof e=="string"&&e.trim()){const i=e.toLowerCase();s=s.filter(c=>c.content?.toLowerCase().includes(i)||c.user?.username?.toLowerCase().includes(i))}return s.sort((i,c)=>{const d=new Date(i.created_at||i.timestamp),f=new Date(c.created_at||c.timestamp);return d-f})},[t,e]),"useOptimizedMessages"),Wi=l(t=>a.useMemo(()=>!t||!Array.isArray(t)?[]:t.filter(e=>e.is_online||e.online),[t]),"useOnlineUsers");function Zi(t,e=500){const[n,r]=a.useState(t);return a.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[t,e]),n}l(Zi,"useDebounce$1");var Xt;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Xt||(Xt={}));const eo=class eo extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}};l(eo,"CapacitorException");let yn=eo;const Qi=l(t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},"getPlatformId"),Xi=l(t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=l(()=>e!==null?e.name:Qi(t),"getPlatform"),i=l(()=>s()!=="web","isNativePlatform"),c=l(g=>{const y=m.get(g);return!!(y?.platforms.has(s())||d(g))},"isPluginAvailable"),d=l(g=>{var y;return(y=n.PluginHeaders)===null||y===void 0?void 0:y.find(b=>b.name===g)},"getPluginHeader"),f=l(g=>t.console.error(g),"handleError"),m=new Map,h=l((g,y={})=>{const b=m.get(g);if(b)return b.proxy;const _=s(),k=d(g);let x;const w=l(async()=>(!x&&_ in y?x=typeof y[_]=="function"?x=await y[_]():x=y[_]:e!==null&&!x&&"web"in y&&(x=typeof y.web=="function"?x=await y.web():x=y.web),x),"loadPluginImplementation"),L=l((E,R)=>{var N,V;if(k){const T=k?.methods.find(v=>R===v.name);if(T)return T.rtype==="promise"?v=>n.nativePromise(g,R.toString(),v):(v,I)=>n.nativeCallback(g,R.toString(),v,I);if(E)return(N=E[R])===null||N===void 0?void 0:N.bind(E)}else{if(E)return(V=E[R])===null||V===void 0?void 0:V.bind(E);throw new yn(`"${g}" plugin is not implemented on ${_}`,Xt.Unimplemented)}},"createPluginMethod"),P=l(E=>{let R;const N=l((...V)=>{const T=w().then(v=>{const I=L(v,E);if(I){const C=I(...V);return R=C?.remove,C}else throw new yn(`"${g}.${E}()" is not implemented on ${_}`,Xt.Unimplemented)});return E==="addListener"&&(T.remove=async()=>R()),T},"wrapper");return N.toString=()=>`${E.toString()}() { [capacitor code] }`,Object.defineProperty(N,"name",{value:E,writable:!1,configurable:!1}),N},"createPluginMethodWrapper"),A=P("addListener"),B=P("removeListener"),S=l((E,R)=>{const N=A({eventName:E},R),V=l(async()=>{const v=await N;B({eventName:E,callbackId:v},R)},"remove"),T=new Promise(v=>N.then(()=>v({remove:V})));return T.remove=async()=>{await V()},T},"addListenerNative"),j=new Proxy({},{get(E,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?S:A;case"removeListener":return B;default:return P(R)}}});return r[g]=j,m.set(g,{name:g,proxy:j,platforms:new Set([...Object.keys(y),...k?[_]:[]])}),j},"registerPlugin");return n.convertFileSrc||(n.convertFileSrc=g=>g),n.getPlatform=s,n.handleError=f,n.isNativePlatform=i,n.isPluginAvailable=c,n.registerPlugin=h,n.Exception=yn,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},"createCapacitor"),el=l(t=>t.Capacitor=Xi(t),"initCapacitorGlobal"),en=el(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Zr=en.registerPlugin,to=class to{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const c=l(async()=>this.removeListener(e,n),"remove");return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:l(r=>{this.notifyListeners(n,r)},"handler")}}unimplemented(e="not implemented"){return new en.Exception(e,Xt.Unimplemented)}unavailable(e="not available"){return new en.Exception(e,Xt.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}};l(to,"WebPlugin");let Hn=to;const Qo=l(t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),"encode"),Xo=l(t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent),"decode"),no=class no extends Hn{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=Xo(s).trim(),i=Xo(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=Qo(e.key),r=Qo(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${c};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}};l(no,"CapacitorCookiesPluginWeb");let jr=no;Zr("CapacitorCookies",{web:l(()=>new jr,"web")});const tl=l(async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),"readBlobAsBase64"),nl=l((t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,c)=>(s[i]=t[e[c]],s),{})},"normalizeHttpHeaders"),rl=l((t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,c]=s;let d,f;return Array.isArray(c)?(f="",c.forEach(m=>{d=e?encodeURIComponent(m):m,f+=`${i}=${d}&`}),f.slice(0,-1)):(d=e?encodeURIComponent(c):c,f=`${i}=${d}`),`${r}&${f}`},"").substr(1):null,"buildUrlParams"),ol=l((t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=nl(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[c,d]of Object.entries(t.data||{}))i.set(c,d);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((d,f)=>{i.append(f,d)});else for(const d of Object.keys(t.data))i.append(d,t.data[d]);n.body=i;const c=new Headers(n.headers);c.delete("content-type"),n.headers=c}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n},"buildRequestInit"),ro=class ro extends Hn{async request(e){const n=ol(e,e.webFetchExtra),r=rl(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),c=i.headers.get("content-type")||"";let{responseType:d="text"}=i.ok?e:{};c.includes("application/json")&&(d="json");let f,m;switch(d){case"arraybuffer":case"blob":m=await i.blob(),f=await tl(m);break;case"json":f=await i.json();break;default:f=await i.text()}const h={};return i.headers.forEach((g,y)=>{h[y]=g}),{data:f,headers:h,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}};l(ro,"CapacitorHttpPluginWeb");let Lr=ro;Zr("CapacitorHttp",{web:l(()=>new Lr,"web")});const sl="pawscord.com",al="443",Hs=typeof window>"u"?!1:!!(typeof window.require=="function"||typeof process<"u"&&process.versions&&process.versions.electron||navigator.userAgent.toLowerCase().includes("electron")||window.location.protocol==="file:"),Ks=en.isNativePlatform(),dt=Ks||Hs||!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("192.168.")?"https://api.pawscord.com":`http://${sl}:${al}`,Me=`${dt}/api`,Tg=dt;typeof window<"u"&&(window.__PAWSCORD_API_BASE__=`${dt}/api`);const il=Ks||Hs||!window.location.hostname.includes("localhost")?"https://media.pawscord.com":dt,Et="https://media.pawscord.com",Pg="https://www.pawscord.com",es=dt.startsWith("https")?"wss":"ws",ts=dt.replace(/^https?:\/\//,""),qs="774757987258-poa0elqqapnab8eud3tol3h2pilcqe71.apps.googleusercontent.com",Js=a.createContext(null),ns=dt,ll=l(({children:t})=>{const e=localStorage.getItem("access_token"),n=(()=>{if(!e)return!1;try{return qt(e).exp>Date.now()/1e3}catch{return!1}})(),[r,s]=a.useState(n?{username:localStorage.getItem("chat_username")||""}:null),[i,c]=a.useState(e),[d,f]=a.useState(n),[m,h]=a.useState(!1),g=a.useRef(null),y=a.useCallback(async()=>{try{const w=await fetch(`${ns}/api/auth/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(w.ok){const L=await w.json();localStorage.setItem("access_token",L.access);const P=qt(L.access);return c(L.access),s({username:P.username}),f(!0),b(L.access),!0}else return k(),!1}catch{return k(),!1}},[]),b=a.useCallback(w=>{g.current&&clearTimeout(g.current);try{const L=qt(w),P=Date.now()/1e3,A=L.exp-P,B=Math.max((A-300)*1e3,6e4);g.current=setTimeout(()=>{y()},B)}catch{}},[y]);a.useEffect(()=>(l(async()=>{const L=localStorage.getItem("access_token");if(L)try{const P=qt(L),A=Date.now()/1e3,B=300,S=P.exp>A,j=P.exp>A-B;if(S)c(L),s({username:P.username}),f(!0),localStorage.setItem("chat_username",P.username),b(L);else if(j){const E=await y()}else y()}catch{k()}},"checkToken")(),()=>{g.current&&clearTimeout(g.current)}),[b,y]);const _=l((w,L)=>{try{localStorage.setItem("access_token",w);const P=qt(w);localStorage.setItem("chat_username",P.username),c(w),s({username:P.username}),f(!0),b(w)}catch{k()}},"login"),k=a.useCallback(()=>{g.current&&clearTimeout(g.current),fetch(`${ns}/api/auth/logout/`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}).catch(()=>{}),localStorage.removeItem("access_token"),localStorage.removeItem("chat_username"),c(null),s(null),f(!1)},[]),x=a.useMemo(()=>({user:r,token:i,isAuthenticated:d,login:_,logout:k,isLoading:m,refreshAccessToken:y}),[r,i,d,_,k,m,y]);return o.jsx(Js.Provider,{value:x,children:t})},"AuthProvider"),Tt=l(()=>a.useContext(Js),"useAuth");let Ft=null;function cl(t){return typeof t!="string"?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}l(cl,"escapeHTML");function dl(){return Ft||(Ft=document.createElement("div"),Ft.id="toast-container",Ft.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 999999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        `,document.body.appendChild(Ft)),Ft}l(dl,"initToastContainer");function gn(t,e="info",n=3e3){const r=dl(),s=document.createElement("div");s.className=`toast toast-${e}`;let i="‚ÑπÔ∏è",c="#3b82f6";switch(e){case"success":i="‚úÖ",c="#10b981";break;case"error":i="‚ùå",c="#ef4444";break;case"warning":i="‚ö†Ô∏è",c="#f59e0b";break;case"info":i="‚ÑπÔ∏è",c="#3b82f6";break}s.style.cssText=`
        background: ${c};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 300px;
        max-width: 500px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 14px;
        pointer-events: all;
        animation: slideIn 0.3s ease-out;
        transition: opacity 0.3s ease-out;
    `,s.innerHTML=`
        <span style="font-size: 20px;">${i}</span>
        <span style="flex: 1;">${cl(t)}</span>
        <button onclick="this.parentElement.remove()" style="
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        " onmouseover="this.style.background='rgba(255,255,255,0.3)'" 
           onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
    `,r.appendChild(s);const d=document.createElement("style");d.textContent=`
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }
    `,document.getElementById("toast-styles")||(d.id="toast-styles",document.head.appendChild(d)),setTimeout(()=>{s.style.animation="slideOut 0.3s ease-out",setTimeout(()=>s.remove(),300)},n)}l(gn,"showToast");const se={success:l((t,e)=>gn(t,"success",e),"success"),error:l((t,e)=>gn(t,"error",e),"error"),warning:l((t,e)=>gn(t,"warning",e),"warning"),info:l((t,e)=>gn(t,"info",e),"info")};typeof window<"u"&&(window.toast=se,window.showToast=gn);const oo=class oo{constructor(){this.audioContext=null,this.masterGain=null,this.spatialNodes={},this.listenerPosition={x:0,y:0,z:0},this.initialized=!1}async initialize(){if(!this.initialized)try{const e=window.AudioContext||window.webkitAudioContext;this.audioContext=new e,this.masterGain=this.audioContext.createGain(),this.masterGain.gain.value=1,this.masterGain.connect(this.audioContext.destination),this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.setupListener(),this.initialized=!0}catch(e){throw e}}setupListener(){const e=this.audioContext.listener;e.positionX?(e.positionX.value=this.listenerPosition.x,e.positionY.value=this.listenerPosition.y,e.positionZ.value=this.listenerPosition.z):e.setPosition(this.listenerPosition.x,this.listenerPosition.y,this.listenerPosition.z),e.forwardX?(e.forwardX.value=0,e.forwardY.value=0,e.forwardZ.value=-1,e.upX.value=0,e.upY.value=1,e.upZ.value=0):e.setOrientation(0,0,-1,0,1,0)}addUser(e,n,r={x:0,y:0,z:-1}){if(!this.initialized)return null;this.spatialNodes[e]&&this.removeUser(e);try{const s=this.audioContext.createMediaStreamSource(n),i=this.audioContext.createPanner();i.panningModel="HRTF",i.distanceModel="inverse",i.refDistance=1,i.maxDistance=1e4,i.rolloffFactor=1.5,i.coneInnerAngle=360,i.coneOuterAngle=360,i.coneOuterGain=0,this.setUserPosition(e,r,i);const c=this.audioContext.createGain();c.gain.value=1;const d=this.audioContext.createAnalyser();return d.fftSize=256,d.smoothingTimeConstant=.8,s.connect(d),d.connect(i),i.connect(c),c.connect(this.masterGain),this.spatialNodes[e]={source:s,panner:i,gain:c,analyser:d,position:r,audioElement:null},this.spatialNodes[e]}catch{return null}}setUserPosition(e,n,r=null){const s=r||this.spatialNodes[e]?.panner;s&&(s.positionX?(s.positionX.setValueAtTime(n.x,this.audioContext.currentTime),s.positionY.setValueAtTime(n.y,this.audioContext.currentTime),s.positionZ.setValueAtTime(n.z,this.audioContext.currentTime)):s.setPosition(n.x,n.y,n.z),this.spatialNodes[e]&&(this.spatialNodes[e].position=n))}setUserVolume(e,n){const r=this.spatialNodes[e];if(!r)return;const s=Math.max(0,Math.min(1,n));r.gain.gain.setValueAtTime(s,this.audioContext.currentTime)}getVoiceActivity(e){const n=this.spatialNodes[e];if(!n)return 0;const r=n.analyser,s=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(s);const c=s.reduce((d,f)=>d+f,0)/s.length;return Math.round(c/255*100)}removeUser(e){const n=this.spatialNodes[e];if(n)try{n.source.disconnect(),n.analyser.disconnect(),n.panner.disconnect(),n.gain.disconnect(),delete this.spatialNodes[e]}catch{}}updateListenerPosition(e){this.listenerPosition=e,this.setupListener()}setMasterVolume(e){if(!this.masterGain)return;const n=Math.max(0,Math.min(1,e));this.masterGain.gain.setValueAtTime(n,this.audioContext.currentTime)}setUserMuted(e,n){this.setUserVolume(e,n?0:1)}destroy(){Object.keys(this.spatialNodes).forEach(e=>{this.removeUser(e)}),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.initialized=!1}getUserDistance(e){const n=this.spatialNodes[e];if(!n)return 1/0;const r=n.position,s=this.listenerPosition;return Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2)+Math.pow(r.z-s.z,2))}arrangeUsersInCircle(e,n=3){const r={},s=2*Math.PI/e.length;return e.forEach((i,c)=>{const d=s*c,f={x:Math.cos(d)*n,y:0,z:Math.sin(d)*n};r[i]=f,this.setUserPosition(i,f)}),r}};l(oo,"SpatialAudioEngine");let Ir=oo;const pn=new Ir;function ul(t,e,n,r){const s=n.createMediaStreamSource(r),i=n.createMediaStreamDestination(),c=[],d=e/100;switch(t){case"robot":{const f=n.createOscillator(),m=n.createGain(),h=n.createWaveShaper();f.type="sawtooth",f.frequency.value=50+d*100,m.gain.value=.3+d*.4;const g=new Float32Array(256);for(let y=0;y<256;y++){const b=y/128-1;g[y]=Math.tanh(b*(1+d*3))}h.curve=g,f.connect(m),s.connect(h),h.connect(i),f.start(),c.push(f,m,h);break}case"echo":{const f=n.createDelay(1),m=n.createGain(),h=n.createGain(),g=n.createGain();f.delayTime.value=.1+d*.4,m.gain.value=.2+d*.5,h.gain.value=.3+d*.4,g.gain.value=1-d*.3,s.connect(g),s.connect(f),f.connect(m),m.connect(f),f.connect(h),g.connect(i),h.connect(i),c.push(f,m,h,g);break}case"deep":{const f=n.createBiquadFilter(),m=n.createGain();f.type="lowshelf",f.frequency.value=500,f.gain.value=10+d*15,m.gain.value=1.2,s.connect(f),f.connect(m),m.connect(i),c.push(f,m);break}case"high":{const f=n.createBiquadFilter(),m=n.createGain();f.type="highshelf",f.frequency.value=1e3,f.gain.value=8+d*12,m.gain.value=.9,s.connect(f),f.connect(m),m.connect(i),c.push(f,m);break}case"radio":{const f=n.createBiquadFilter(),m=n.createBiquadFilter(),h=n.createWaveShaper();f.type="lowpass",f.frequency.value=3e3-d*1e3,m.type="highpass",m.frequency.value=300+d*200;const g=new Float32Array(256);for(let y=0;y<256;y++){const b=y/128-1;g[y]=Math.sign(b)*Math.pow(Math.abs(b),.8)}h.curve=g,s.connect(m),m.connect(f),f.connect(h),h.connect(i),c.push(f,m,h);break}case"reverb":{const f=n.createConvolver(),m=n.createGain(),h=n.createGain(),g=n.sampleRate,y=g*(.5+d*2),b=n.createBuffer(2,y,g);for(let _=0;_<2;_++){const k=b.getChannelData(_);for(let x=0;x<y;x++)k[x]=(Math.random()*2-1)*Math.pow(1-x/y,2)}f.buffer=b,m.gain.value=.3+d*.5,h.gain.value=1-d*.2,s.connect(h),s.connect(f),f.connect(m),h.connect(i),m.connect(i),c.push(f,m,h);break}default:s.connect(i)}return{nodes:c,outputStream:i.stream}}l(ul,"createVoiceEffect");function pl(){const[t,e]=a.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_noise_gate"))||-50}catch{return-50}}),[n,r]=a.useState(()=>{try{return localStorage.getItem("pawscord_noise_gate_enabled")!=="false"}catch{return!0}}),[s,i]=a.useState(()=>{try{return localStorage.getItem("pawscord_visualizer")==="true"}catch{return!1}}),[c,d]=a.useState(()=>{try{return JSON.parse(localStorage.getItem("pawscord_user_volumes"))||{}}catch{return{}}}),[f,m]=a.useState(new Set),[h,g]=a.useState(()=>{try{return localStorage.getItem("pawscord_spatial_audio")==="true"}catch{return!1}}),[y,b]=a.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_vad_sensitivity"))||45}catch{return 45}}),[_,k]=a.useState(()=>{try{const z=localStorage.getItem("pawscord_noise_suppression");return z===null?!0:z==="true"}catch{return!0}}),[x,w]=a.useState(()=>{try{return JSON.parse(localStorage.getItem("voice_settings")||"{}").audio?.noiseSuppressionLevel||"medium"}catch{return"medium"}}),[L,P]=a.useState(()=>{try{return localStorage.getItem("pawscord_screen_quality")||"1080p"}catch{return"1080p"}}),[A,B]=a.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_screen_fps"))||30}catch{return 30}}),[S,j]=a.useState(()=>{try{return localStorage.getItem("pawscord_system_audio")!=="false"}catch{return!1}}),[E,R]=a.useState(()=>{try{return localStorage.getItem("pawscord_ptt_mode")==="true"}catch{return!1}}),[N,V]=a.useState(()=>{try{return localStorage.getItem("pawscord_ptt_key")||"Space"}catch{return"Space"}}),[T,v]=a.useState(!1);a.useEffect(()=>{localStorage.setItem("pawscord_user_volumes",JSON.stringify(c))},[c]);const I=a.useCallback((z,X)=>{d(Y=>({...Y,[z]:Math.max(0,Math.min(200,X))}))},[]),C=a.useCallback(z=>{const X=Math.max(20,Math.min(80,z));b(X),localStorage.setItem("pawscord_vad_sensitivity",X.toString())},[]),M=a.useCallback(z=>{const Y=["low","medium","high","aggressive"].includes(z)?z:"high";w(Y);try{const H=JSON.parse(localStorage.getItem("voice_settings")||"{}");H.audio={...H.audio,noiseSuppressionLevel:Y},localStorage.setItem("voice_settings",JSON.stringify(H))}catch{}},[]),G=a.useCallback(z=>{P(z),localStorage.setItem("pawscord_screen_quality",z)},[]),W=a.useCallback(z=>{const X=parseInt(z);B(X),localStorage.setItem("pawscord_screen_fps",X.toString())},[]),ne=a.useCallback(z=>{j(z),localStorage.setItem("pawscord_system_audio",z.toString())},[]),U=a.useCallback(z=>{r(z),localStorage.setItem("pawscord_noise_gate_enabled",z.toString())},[]),J=a.useCallback(z=>{const X=Math.max(-80,Math.min(-20,z));e(X),localStorage.setItem("pawscord_noise_gate",X.toString())},[]),le=a.useCallback(z=>{i(z),localStorage.setItem("pawscord_visualizer",z.toString())},[]),ee=a.useCallback(z=>{V(z),localStorage.setItem("pawscord_ptt_key",z)},[]);return{noiseGateThreshold:t,isNoiseGateEnabled:n,isVisualizerEnabled:s,remoteVolumes:c,setRemoteVolumes:d,mutedUsers:f,setMutedUsers:m,isSpatialAudioEnabled:h,setIsSpatialAudioEnabled:g,vadSensitivity:y,isNoiseSuppressionEnabled:_,setIsNoiseSuppressionEnabled:k,noiseSuppressionLevel:x,screenShareQuality:L,screenShareFPS:A,includeSystemAudio:S,isPTTMode:E,setIsPTTMode:R,pttKey:N,isPTTActive:T,setIsPTTActive:v,setRemoteVolume:I,updateVadSensitivity:C,updateNoiseSuppressionLevel:M,updateScreenQuality:G,updateScreenFPS:W,toggleSystemAudio:ne,toggleNoiseGate:U,updateNoiseGateThreshold:J,toggleVisualizer:le,updatePTTKey:ee}}l(pl,"useVoiceSettings");function fl({isInVoice:t,localAudioStream:e,remoteStreams:n,currentRoom:r}){const[s,i]=a.useState(!1),[c,d]=a.useState(0),f=a.useRef([]),m=a.useRef(null),h=a.useRef(null),g=a.useCallback(()=>{if(!(!t||s))try{const _=new(window.AudioContext||window.webkitAudioContext),k=_.createMediaStreamDestination();e&&_.createMediaStreamSource(e).connect(k),Object.entries(n).forEach(([w,L])=>{!w.includes("_camera")&&!w.includes("_screen")&&L.getAudioTracks().length>0&&_.createMediaStreamSource(L).connect(k)});const x=new MediaRecorder(k.stream,{mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:128e3});f.current=[],x.ondataavailable=w=>{w.data.size>0&&f.current.push(w.data)},x.onstop=()=>{const w=new Blob(f.current,{type:"audio/webm"}),L=URL.createObjectURL(w),P=document.createElement("a");P.href=L,P.download=`pawscord-voice-${r}-${Date.now()}.webm`,P.click(),URL.revokeObjectURL(L)},x.start(1e3),m.current=x,i(!0),d(0),h.current=setInterval(()=>{d(w=>w+1)},1e3)}catch(_){se.error("Kayƒ±t ba≈ülatƒ±lamadƒ±: "+_.message)}},[t,s,e,n,r]),y=a.useCallback(()=>{s&&(m.current&&m.current.state!=="inactive"&&m.current.stop(),h.current&&(clearInterval(h.current),h.current=null),m.current=null,i(!1),d(0))},[s]),b=a.useCallback(()=>{if(f.current.length===0){se.warning("Hen√ºz kayƒ±t yok!");return}const _=new Blob(f.current,{type:"audio/webm"}),k=URL.createObjectURL(_),x=document.createElement("a");x.href=k,x.download=`pawscord-voice-${r||"recording"}-${Date.now()}.webm`,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(k)},[r]);return{isRecording:s,recordingDuration:c,startRecording:g,stopRecording:y,downloadRecording:b}}l(fl,"useRecording");function ml(){const[t,e]=a.useState({}),n=a.useRef(null),r=a.useCallback(i=>{n.current||(n.current=setInterval(async()=>{const c={};for(const[d,f]of Object.entries(i.current))try{const m=await f.getStats();let h=null,g=null;m.forEach(y=>{y.type==="inbound-rtp"&&y.kind==="audio"&&(h={packetsReceived:y.packetsReceived,packetsLost:y.packetsLost,jitter:y.jitter,bytesReceived:y.bytesReceived}),y.type==="inbound-rtp"&&y.kind==="video"&&(g={packetsReceived:y.packetsReceived,packetsLost:y.packetsLost,framesDecoded:y.framesDecoded,frameWidth:y.frameWidth,frameHeight:y.frameHeight}),y.type==="candidate-pair"&&y.state==="succeeded"&&(c[d]={...c[d],rtt:y.currentRoundTripTime*1e3,connectionType:y.localCandidateId?.includes("relay")?"TURN":"STUN/Direct"})}),c[d]={...c[d],audio:h,video:g,connectionState:f.connectionState,iceConnectionState:f.iceConnectionState}}catch{}e(c)},2e3))},[]),s=a.useCallback(()=>{n.current&&(clearInterval(n.current),n.current=null,e({}))},[]);return{connectionStats:t,startStatsMonitoring:r,stopStatsMonitoring:s}}l(ml,"useStatsMonitoring");function gl({isVisualizerEnabled:t,localAudioStream:e,remoteStreams:n,isInVoice:r,globalAudioContextRef:s}){const[i,c]=a.useState({local:new Uint8Array(128),remote:{}}),d=a.useRef(null),f=a.useRef(null),m=a.useCallback(()=>{if(!(!t||!e)&&!d.current)try{s.current||(s.current=new(window.AudioContext||window.webkitAudioContext));const g=s.current,y=g.createAnalyser();y.fftSize=256;const b=g.createMediaStreamSource(e);b.connect(y),f.current={local:y,localSource:b,remote:{}},Object.entries(n).forEach(([_,k])=>{if(!_.includes("_camera")&&!_.includes("_screen")){const x=g.createAnalyser();x.fftSize=256;const w=g.createMediaStreamSource(k);w.connect(x),f.current.remote[_]={analyser:x,source:w}}}),d.current=setInterval(()=>{const _=new Uint8Array(128);f.current.local.getByteFrequencyData(_);const k={};Object.entries(f.current.remote).forEach(([x,{analyser:w}])=>{const L=new Uint8Array(128);w.getByteFrequencyData(L),k[x]=L}),c({local:_,remote:k})},33)}catch{}},[t,e,n,s]),h=a.useCallback(()=>{if(d.current&&(clearInterval(d.current),d.current=null),f.current){try{f.current.localSource?.disconnect(),Object.values(f.current.remote).forEach(({source:g})=>{g?.disconnect()})}catch{}f.current=null}c({local:new Uint8Array(128),remote:{}})},[]);return a.useEffect(()=>(r&&t?m():h(),()=>h()),[r,t,m,h]),{audioVisualizerData:i,startVisualizer:m,stopVisualizer:h}}l(gl,"useAudioVisualizer");const hl=l(({sendSignal:t,voiceWsRef:e,peerConnectionsRef:n,localStreamRef:r,localCameraStreamRef:s,localScreenStreamRef:i,setIsMuted:c,setIsDeafened:d,setIsVideoEnabled:f,setIsScreenSharing:m,setLocalCameraStream:h,setLocalScreenStream:g,screenShareQuality:y,screenShareFPS:b,includeSystemAudio:_})=>{const k=a.useRef(!1),x=a.useRef(!1),w=a.useCallback(()=>{c(S=>{const j=!S;return r.current&&r.current.getAudioTracks().forEach(E=>{E.enabled=!j}),e.current?.readyState===WebSocket.OPEN&&e.current.send(JSON.stringify({type:"mic_off_state",is_mic_off:j})),j})},[r,e,c]),L=a.useCallback(()=>{d(S=>{const j=!S;return e.current?.readyState===WebSocket.OPEN&&e.current.send(JSON.stringify({type:"deaf_state",is_deafened:j})),j})},[e,d]),P=a.useCallback(async()=>{if(!k.current){k.current=!0;try{const S=s.current;if(S){f(!1),h(null),s.current=null,S.getTracks().forEach(E=>E.stop());const j=[];for(const[E,R]of Object.entries(n.current)){const N=R.getSenders();let V=!1;for(const T of N)if(T.track&&T.track.kind==="video"&&T.track.contentHint!=="detail")try{R.removeTrack(T),V=!0}catch{}V&&j.push((async()=>{try{const T=await R.createOffer();await R.setLocalDescription(T),t({type:"offer",sdp:R.localDescription,target:E})}catch{}})())}e.current?.readyState===WebSocket.OPEN&&(e.current.send(JSON.stringify({type:"camera_state",is_camera_on:!1})),e.current.send(JSON.stringify({type:"video_ended",streamType:"camera"}))),Promise.all(j).catch(E=>{})}else{const j=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}}});if(!k.current){j.getTracks().forEach(N=>N.stop());return}s.current=j,h(j),f(!0);const E=j.getVideoTracks()[0];E.onended=()=>{h(null),s.current=null,f(!1),e.current?.readyState===WebSocket.OPEN&&e.current.send(JSON.stringify({type:"video_ended",streamType:"camera"}))};try{E.contentHint="motion"}catch{}const R=[];for(const[N,V]of Object.entries(n.current))R.push((async()=>{try{V.addTrack(E,j);const T=await V.createOffer();await V.setLocalDescription(T),t({type:"offer",sdp:V.localDescription,target:N})}catch{}})());e.current?.readyState===WebSocket.OPEN&&e.current.send(JSON.stringify({type:"camera_state",is_camera_on:!0})),Promise.all(R).catch(N=>{})}}catch(S){S.name==="NotAllowedError"?se.warning("Kamera izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan kamera iznini a√ßƒ±n.",5e3):S.name==="NotFoundError"?se.warning("Kamera bulunamadƒ±. L√ºtfen bir kamera baƒülayƒ±n."):se.error("Kamera ba≈ülatƒ±lamadƒ±: "+S.message),f(!1),s.current=null,h(null)}finally{setTimeout(()=>{k.current=!1},300)}}},[t,s,e,n,f,h]),A=P,B=a.useCallback(async()=>{if(!x.current){x.current=!0;try{const S=i.current;if(S){m(!1),g(null),i.current=null,S.getTracks().forEach(E=>E.stop());const j=[];for(const[E,R]of Object.entries(n.current)){const N=R.getSenders();let V=!1;for(const T of N)if(T.track&&T.track.contentHint==="detail")try{R.removeTrack(T),V=!0}catch{}V&&j.push((async()=>{try{const T=await R.createOffer();await R.setLocalDescription(T),t({type:"offer",sdp:R.localDescription,target:E})}catch{}})())}e.current?.readyState===WebSocket.OPEN&&(e.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!1})),e.current.send(JSON.stringify({type:"video_ended",streamType:"screen"}))),Promise.all(j).catch(E=>{})}else{const j={"720p":{width:1280,height:720},"1080p":{width:1920,height:1080},"4K":{width:3840,height:2160}},E=j[y]||j["1080p"],R=await navigator.mediaDevices.getDisplayMedia({video:{cursor:"always",displaySurface:"monitor",width:{ideal:E.width},height:{ideal:E.height},frameRate:{ideal:b}},audio:_});if(!x.current){R.getTracks().forEach(T=>T.stop());return}R.getVideoTracks()[0].onended=()=>{g(null),i.current=null,m(!1),e.current?.readyState===WebSocket.OPEN&&(e.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!1})),e.current.send(JSON.stringify({type:"video_ended",streamType:"screen"})))},i.current=R,g(R),m(!0);const N=R.getVideoTracks()[0];try{N.contentHint="detail"}catch{}const V=[];for(const[T,v]of Object.entries(n.current))V.push((async()=>{try{v.addTrack(N,R);const I=await v.createOffer();await v.setLocalDescription(I),t({type:"offer",sdp:v.localDescription,target:T})}catch{}})());e.current?.readyState===WebSocket.OPEN&&e.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!0})),Promise.all(V).catch(T=>{})}}catch(S){S.name==="NotAllowedError"||(S.name==="NotFoundError"?se.warning("Ekran payla≈üƒ±mƒ± desteklenmiyor."):se.error("Ekran payla≈üƒ±mƒ± ba≈ülatƒ±lamadƒ±: "+S.message)),m(!1),i.current=null,g(null)}finally{setTimeout(()=>{x.current=!1},300)}}},[t,y,b,_,i,e,n,m,g]);return{toggleMute:w,toggleDeafened:L,toggleVideo:P,toggleCamera:A,toggleScreenShare:B}},"useMediaControls"),Wt={log:l((...t)=>{},"log"),warn:l((...t)=>{},"warn"),error:l((...t)=>{},"error"),debug:l((...t)=>{},"debug"),voice:l((...t)=>{},"voice"),webrtc:l((...t)=>{},"webrtc"),signal:l((...t)=>{},"signal"),audio:l((...t)=>{},"audio")},At=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"stun:stun.cloudflare.com:3478"},{urls:"stun:stun.services.mozilla.com:3478"},{urls:"stun:stun.stunprotocol.org:3478"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}];let Or={iceServers:At,iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};const Un=l(t=>{Or={...Or,iceServers:t}},"setRtcIceServers");function yl({username:t,voiceWsRef:e,peerConnectionsRef:n,localStreamRef:r,localCameraStreamRef:s,localScreenStreamRef:i,setRemoteStreams:c,setIsReconnecting:d,initializeAudio:f}){const m=a.useRef({}),h=a.useCallback(w=>{e.current?.readyState===WebSocket.OPEN?(Wt.signal(`Sending ${w.type} to ${w.receiver_username||"BROADCAST"}`),e.current.send(JSON.stringify({...w,sender_username:t}))):Wt.warn("[Signal] WS not ready, cannot send:",w.type)},[t,e]),g=a.useCallback((w,L)=>{try{const A=w.getSenders().find(E=>E.track?.kind==="video");if(!A)return;const B=A.getParameters();(!B.encodings||B.encodings.length===0)&&(B.encodings=[{}]);const S={low:{maxBitrate:3e5,maxFramerate:15},medium:{maxBitrate:8e5,maxFramerate:24},high:{maxBitrate:25e5,maxFramerate:30}},j=S[L]||S.medium;B.encodings[0].maxBitrate=j.maxBitrate,B.encodings[0].maxFramerate=j.maxFramerate,A.setParameters(B).catch(E=>{})}catch{}},[]),y=a.useCallback((w,L)=>{const{track:P}=L;Wt.webrtc(`Track Received from ${w}:`,P.kind,P.id);const A=(P.label||"").toLowerCase(),B=A.includes("screen")||A.includes("window")||A.includes("monitor")||A.includes("display")||A.includes("tab")||P.contentHint==="detail",S=P.kind==="video"&&B?`${w}_screen`:P.kind==="video"?`${w}_camera`:w;if(c(j=>{const E=j[S];if(E){if(!E.getTracks().some(R=>R.id===P.id)){E.addTrack(P);const R=new MediaStream(E.getTracks());return{...j,[S]:R}}return j}return{...j,[S]:new MediaStream([P])}}),P.kind==="audio"){f();try{const j=document.getElementById(`remote-audio-${w}`);j&&(j.pause(),j.srcObject=null,j.remove());const E=document.createElement("audio");E.id=`remote-audio-${w}`,E.srcObject=new MediaStream([P]),E.autoplay=!0,E.playsInline=!0,E.volume=1,E.muted=!1,E.style.display="none",document.body.appendChild(E),l(()=>{E.parentNode&&E.play().catch(N=>{const V=l(()=>{E.play().catch(()=>{})},"resumeAudio");document.addEventListener("click",V,{once:!0}),document.addEventListener("keydown",V,{once:!0}),document.addEventListener("touchstart",V,{once:!0}),setTimeout(()=>{E.play().catch(()=>{})},1e3)})},"playAudio")(),P.onended=()=>{const N=document.getElementById(`remote-audio-${w}`);N&&(N.pause(),N.srcObject=null,N.remove())}}catch{}}},[f,c]),b=a.useCallback((w,L=!1)=>{if(n.current[w])return n.current[w];const P=new RTCPeerConnection(Or);n.current[w]=P,typeof window<"u"&&(window.__pawscord_peer_connections__=n.current),P.onicecandidate=A=>{A.candidate&&h({type:"candidate",candidate:A.candidate,receiver_username:w})},P.ontrack=A=>y(w,A),r.current&&r.current.getTracks().forEach(A=>{P.addTrack(A,r.current)});try{P.getTransceivers().forEach(B=>{if(B.sender?.track?.kind==="audio"){const S=RTCRtpSender.getCapabilities("audio")?.codecs||[],j=S.filter(R=>R.mimeType.toLowerCase().includes("opus")),E=S.filter(R=>!R.mimeType.toLowerCase().includes("opus"));B.setCodecPreferences&&[...j,...E].length>0&&B.setCodecPreferences([...j,...E])}})}catch{}return P.oniceconnectionstatechange=()=>{P.iceConnectionState==="failed"?(d(!0),P.restartIce(),setTimeout(()=>d(!1),3e3)):P.iceConnectionState==="disconnected"?(d(!0),setTimeout(()=>{(P.iceConnectionState==="disconnected"||P.iceConnectionState==="failed")&&(c(A=>{const B={...A};return delete B[w],B}),n.current[w]&&(n.current[w].close(),delete n.current[w])),d(!1)},15e3)):P.iceConnectionState==="closed"?(c(A=>{const B={...A};return delete B[w],B}),delete n.current[w],d(!1)):P.iceConnectionState==="connected"&&(d(!1),setTimeout(async()=>{try{(await P.getStats()).forEach(B=>{if(B.type==="candidate-pair"&&B.state==="succeeded"){const S=B.currentRoundTripTime*1e3;S>500?g(P,"low"):S>300?g(P,"medium"):g(P,"high")}})}catch{}},2e3))},P},[h,y,g,n,r,c,d]),_=a.useCallback(async(w,L)=>{if(m.current[L]){for(const P of m.current[L])try{await w.addIceCandidate(P)}catch{}delete m.current[L]}},[]),k=a.useCallback((w,L)=>{m.current[w]||(m.current[w]=[]),m.current[w].push(new RTCIceCandidate(L))},[]),x=a.useCallback((w,L)=>{const P=w.getSenders(),A=l((B,S)=>{B&&B.getTracks().forEach(j=>{P.some(R=>R.track===j)||(Wt.webrtc(`Adding ${S} track to ${L}:`,j.kind),w.addTrack(j,B))})},"addTracksFromStream");A(r.current,"audio"),A(s.current,"camera"),A(i.current,"screen")},[r,s,i]);return{sendSignal:h,adjustBandwidth:g,handleRemoteStream:y,createPeerConnection:b,processBufferedCandidates:_,bufferIceCandidate:k,addLocalStreamsToPeer:x,iceCandidateBufferRef:m}}l(yl,"useWebRTC");function _l({username:t,isMuted:e,isVideoEnabled:n,isScreenSharing:r,isTalking:s,createPeerConnection:i,sendSignal:c,iceCandidateBufferRef:d,addLocalStreamsToPeer:f,peerConnectionsRef:m,localStreamRef:h,localCameraStreamRef:g,localScreenStreamRef:y,joinVoiceRoomRef:b,setRemoteStreams:_,setConnectedUsers:k,setLastReaction:x,setGameState:w,setCinemaState:L,setIsReconnecting:P,leaveVoiceRoomRef:A}){return{handleSignalMessage:a.useCallback(async S=>{if(S.type==="kicked"){if(S.reason==="moved"&&S.target_channel){se.info(`üîÄ ${S.message||"Ba≈üka kanala ta≈üƒ±ndƒ±nƒ±z"}`,3e3),A.current&&A.current();const T=S.target_channel;setTimeout(()=>{b.current&&b.current(T)},800)}else se.warning(`Sesli Kanaldan √áƒ±karƒ±ldƒ±nƒ±z

Neden: ${S.message}`,5e3),A.current&&A.current();return}if(S.type==="video_ended"){const T=S.from||S.username,v=S.streamType||"camera",I=`${T}_${v}`;_(C=>{const M={...C};return M[I]&&(M[I].getTracks().forEach(G=>G.stop()),delete M[I]),M});return}if(S.type==="voice_reaction"){const T=S.from||S.username;x({username:T,emoji:S.emoji,timestamp:Date.now()}),setTimeout(()=>{x(v=>v&&v.timestamp===Date.now()?null:v)},3e3);return}if(S.type==="game_signal"){const T=S.from||S.username;w(v=>{const I={...v};if(S.action==="start")I.gameType=S.game_type,I.players=[T,S.target].filter(Boolean),I.moves={},I.result=null,I.currentTurn=T;else if(S.action==="move"){if(I.moves={...v.moves,[T]:S.move},S.game_type==="rps"&&Object.keys(I.moves).length===2){const[C,M]=Object.keys(I.moves),G=I.moves[C],W=I.moves[M];G===W?I.result={winner:null,type:"draw"}:{rock:"scissors",scissors:"paper",paper:"rock"}[G]===W?I.result={winner:C,loser:M}:I.result={winner:M,loser:C}}}else S.action==="end"&&(I.result=S.result||{type:"cancelled"});return I});return}if(S.type==="cinema_sync"){const T=S.from||S.username;L(v=>({...v,isActive:S.action!=="stop",url:S.url||v.url,playing:S.action==="play",time:S.time||v.time,lastSyncAction:S.action,timestamp:Date.now(),syncedBy:T}));return}if(S.type==="current_users"){k(T=>{const v=S.users||[],I=v.some(G=>G.username===t),C=T.find(G=>G.username===t);let M=[...v];return!I&&C?M=[C,...v]:!I&&t&&(M=[{username:t,isMuted:e,isCameraOn:n,isScreenSharing:r,isTalking:s},...v]),M});return}const j=S.from||S.sender_username||S.username,{type:E,sdp:R,candidate:N}=S;if(!j||j===t)return;let V=m.current[j];if(!V)if(E==="offer")V=i(j,!1);else if(E==="user_joined"){k(T=>T.find(v=>v.username===j)?T:[...T,{username:j,isMuted:!1,isCameraOn:!1,isScreenSharing:!1}]),V=i(j,!0),f(V,j);try{const T=await V.createOffer();await V.setLocalDescription(T),c({type:"offer",sdp:V.localDescription,target:j}),Wt.signal(`Sent offer to ${j}`)}catch{}return}else if(E==="user_left"){k(v=>v.filter(I=>I.username!==j));const T=document.getElementById(`remote-audio-${j}`);T&&(T.pause(),T.srcObject=null,T.remove()),_(v=>{const I={...v};return delete I[j],delete I[`${j}_camera`],delete I[`${j}_screen`],I}),m.current[j]&&(m.current[j].close(),delete m.current[j]);return}else if(E==="stream_update"){if(k(T=>T.map(v=>v.username===j?{...v,isCameraOn:S.streamType==="camera"?S.enabled:v.isCameraOn,isScreenSharing:S.streamType==="screen"?S.enabled:v.isScreenSharing}:v)),S.enabled&&!m.current[j]){const T=i(j,!0);f(T,j);try{const v=await T.createOffer();await T.setLocalDescription(v),c({type:"offer",sdp:T.localDescription,target:j}),Wt.signal(`Sent offer to ${j} after stream_update`)}catch{}}return}else{if(E==="candidate"){d.current[j]||(d.current[j]=[]),d.current[j].push(new RTCIceCandidate(N));return}return}try{if(E==="offer"){if(V.signalingState!=="stable")return;await V.setRemoteDescription(new RTCSessionDescription(R));const T=await V.createAnswer();if(await V.setLocalDescription(T),c({type:"answer",sdp:V.localDescription,target:j}),d.current[j]){for(const v of d.current[j])try{await V.addIceCandidate(v)}catch{}delete d.current[j]}}else if(E==="answer"){if(V.signalingState!=="have-local-offer")return;if(await V.setRemoteDescription(new RTCSessionDescription(R)),d.current[j]){for(const T of d.current[j])try{await V.addIceCandidate(T)}catch{}delete d.current[j]}}else E==="candidate"&&(V.remoteDescription?await V.addIceCandidate(new RTCIceCandidate(N)):(d.current[j]||(d.current[j]=[]),d.current[j].push(new RTCIceCandidate(N))))}catch{}},[t,i,c,f,d,m,h,g,y,b,A,_,k,x,w,L,P,e,n,r,s])}}l(_l,"useSignalHandler");const bl=dt;let Rt=!1,Dr=[];const rs=l(t=>{Dr.push(t)},"subscribeTokenRefresh"),os=l(t=>{Dr.forEach(e=>e(t)),Dr=[]},"onTokenRefreshed"),xl=l(t=>{if(!t)return!0;try{const e=qt(t),n=Date.now()/1e3;return e.exp<n+30}catch{return!0}},"isTokenExpired"),ss=l(async()=>{const t=await fetch(`${bl}/api/auth/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({})});if(!t.ok)throw new Error("Token refresh failed");const e=await t.json();return localStorage.setItem("access_token",e.access),e.access},"refreshToken"),Rr=l(async(t,e={})=>{let n=localStorage.getItem("access_token");if(xl(n))if(Rt)n=await new Promise(i=>{rs(c=>i(c))});else{Rt=!0;try{n=await ss(),os(n)}catch(i){throw Rt=!1,window.dispatchEvent(new CustomEvent("auth:logout")),i}finally{Rt=!1}}const r={...e.headers,Authorization:`Bearer ${n}`};let s=await fetch(t,{...e,headers:r});if(s.status===401)if(Rt)n=await new Promise(i=>{rs(c=>i(c))}),r.Authorization=`Bearer ${n}`,s=await fetch(t,{...e,headers:r});else{Rt=!0;try{n=await ss(),os(n),r.Authorization=`Bearer ${n}`,s=await fetch(t,{...e,headers:r})}catch(i){throw window.dispatchEvent(new CustomEvent("auth:logout")),i}finally{Rt=!1}}return s},"authFetch");function vl({token:t}){const[e,n]=a.useState(At),r=a.useCallback(async()=>{if(!t){n(At),Un(At);return}try{const s=await Rr(`${dt}/api/voice/turn-credentials/`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw s.status===401||s.status,new Error(`TURN fetch failed ${s.status}`);const i=await s.json(),c=[...At,...i?.iceServers||[]];n(c),Un(c)}catch{n(At),Un(At)}},[t]);return a.useEffect(()=>{r()},[r]),{iceServers:e}}l(vl,"useIceServers");function kl({localAudioStream:t,isInVoice:e,isMuted:n,vadSensitivity:r,setIsTalking:s,globalAudioContextRef:i}){a.useEffect(()=>{if(!t||!e||n){s(!1);return}if(!i.current){const k=window.AudioContext||window.webkitAudioContext;i.current=new k}const c=i.current,d=c.createAnalyser();d.fftSize=2048,d.smoothingTimeConstant=.85;const f=d.frequencyBinCount,m=new Uint8Array(f),h=c.createMediaStreamSource(t);h.connect(d);let g=null;const y=r,b=150,_=setInterval(()=>{d.getByteFrequencyData(m);const k=m.slice(10,100);k.reduce((w,L)=>w+L,0)/k.length>y&&(s(!0),g&&clearTimeout(g),g=setTimeout(()=>s(!1),b))},25);return()=>{clearInterval(_),g&&clearTimeout(g),h.disconnect()}},[t,e,n,r])}l(kl,"useVAD");function Sl({isPTTMode:t,setIsPTTMode:e,isInVoice:n,pttKey:r,isPTTActive:s,setIsPTTActive:i,localStreamRef:c,setIsMuted:d}){const f=a.useCallback(()=>{const m=!t;e(m),localStorage.setItem("pawscord_ptt_mode",m.toString()),m?(c.current&&c.current.getAudioTracks().forEach(h=>{h.enabled=!1}),d(!0)):(c.current&&c.current.getAudioTracks().forEach(h=>{h.enabled=!0}),d(!1))},[t]);return a.useEffect(()=>{if(!t||!n)return;const m=l(g=>{const y=g.target;y.tagName==="INPUT"||y.tagName==="TEXTAREA"||g.code===r&&!g.repeat&&(i(!0),c.current&&c.current.getAudioTracks().forEach(b=>{b.enabled=!0}))},"handleKeyDown"),h=l(g=>{g.code===r&&(i(!1),c.current&&c.current.getAudioTracks().forEach(y=>{y.enabled=!1}))},"handleKeyUp");return window.addEventListener("keydown",m),window.addEventListener("keyup",h),()=>{window.removeEventListener("keydown",m),window.removeEventListener("keyup",h)}},[t,n,r]),{togglePTTMode:f}}l(Sl,"usePTT");function wl({isNoiseSuppressionEnabled:t,setIsNoiseSuppressionEnabled:e,localAudioStream:n,setLocalAudioStream:r,localStreamRef:s}){return{toggleNoiseSuppression:a.useCallback(async()=>{const c=!t;if(e(c),localStorage.setItem("pawscord_noise_suppression",c.toString()),n){const d=n.getAudioTracks()[0];if(d&&d.applyConstraints)try{await d.applyConstraints({noiseSuppression:c,echoCancellation:!0,autoGainControl:!0})}catch{try{const h=(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:c,echoCancellation:!0,autoGainControl:!0,googHighpassFilter:!0,googNoiseSuppression:c,googNoiseSuppression2:c,googEchoCancellation:!0,googAutoGainControl:!0,googTypingNoiseDetection:!0,sampleRate:{ideal:48e3},latency:{ideal:.01},channelCount:{ideal:1}}})).getAudioTracks()[0],g=new MediaStream([h]);r(g),s.current=g}catch{}}}},[t,n])}}l(wl,"useNoiseControl");function El(t,e){try{const r=JSON.parse(localStorage.getItem("voice_settings")||"{}").audio?.noiseSuppressionLevel||"high",s={low:{gateThreshold:-70,compressorThreshold:-15,compressorRatio:2,highPassFreq:50,lowPassFreq:14e3,gateRelease:.3,speechThreshold:20},medium:{gateThreshold:-60,compressorThreshold:-20,compressorRatio:3,highPassFreq:80,lowPassFreq:12e3,gateRelease:.25,speechThreshold:25},high:{gateThreshold:-50,compressorThreshold:-25,compressorRatio:4,highPassFreq:100,lowPassFreq:1e4,gateRelease:.2,speechThreshold:30},aggressive:{gateThreshold:-45,compressorThreshold:-30,compressorRatio:6,highPassFreq:120,lowPassFreq:8e3,gateRelease:.15,speechThreshold:35}},i=s[r]||s.high;if(!e.current){const I=window.AudioContext||window.webkitAudioContext;e.current=new I({sampleRate:48e3,latencyHint:"interactive"})}const c=e.current;c.state==="suspended"&&c.resume().then(()=>{});const d=c.createMediaStreamSource(t),f=c.createGain();f.gain.value=1;let m=!0;const h=i.gateThreshold,g=.005,y=i.gateRelease,b=.05,_=c.createDynamicsCompressor();_.threshold.value=i.compressorThreshold,_.knee.value=30,_.ratio.value=Math.min(i.compressorRatio,4),_.attack.value=.003,_.release.value=.15;const k=c.createBiquadFilter();k.type="highpass",k.frequency.value=i.highPassFreq,k.Q.value=.707;const x=c.createBiquadFilter();x.type="lowpass",x.frequency.value=i.lowPassFreq,x.Q.value=.707;const w=c.createBiquadFilter();w.type="notch",w.frequency.value=50,w.Q.value=10;const L=c.createBiquadFilter();L.type="peaking",L.frequency.value=6e3,L.Q.value=1,L.gain.value=-3;const P=c.createAnalyser();P.fftSize=2048,P.smoothingTimeConstant=.85;const A=new Uint8Array(P.frequencyBinCount);let B=new Float32Array(P.frequencyBinCount),S=!0,j=0;const E=l(()=>{if(P.getByteFrequencyData(A),A.reduce((C,M)=>C+M)/A.length<20){if(j++,j>10)for(let C=0;C<A.length;C++)B[C]=Math.max(B[C],A[C])}else j=0;S&&j>50&&(S=!1)},"learnNoiseProfile"),R=i.speechThreshold||25;let N=100;const T=setInterval(l(()=>{if(P.getByteFrequencyData(A),N>0){N--,m||(f.gain.setTargetAtTime(1,c.currentTime,g),m=!0),(S||Math.random()<.01)&&E();return}const I=A.slice(8,120),M=I.reduce((W,ne)=>W+ne)/I.length-(B[50]||0),G=c.currentTime;M>R?m||(f.gain.setTargetAtTime(1,G,g),m=!0):m&&(f.gain.setTargetAtTime(b,G,y),m=!1),(S||Math.random()<.01)&&E()},"updateNoiseGate"),30);d.connect(k),k.connect(w),w.connect(x),x.connect(L),L.connect(_),_.connect(f),f.connect(P);const v=c.createMediaStreamDestination();return f.connect(v),v.stream.addEventListener("inactive",()=>{clearInterval(T)}),v.stream}catch{return t}}l(El,"applyProfessionalAudioFilters");function Cl({username:t,token:e,isInVoice:n,setIsInVoice:r,currentRoom:s,setCurrentRoom:i,isMuted:c,setIsMuted:d,isVideoEnabled:f,isScreenSharing:m,setIsDeafened:h,setIsConnecting:g,setLocalAudioStream:y,localCameraStream:b,setLocalCameraStream:_,setIsVideoEnabled:k,localScreenStream:x,setLocalScreenStream:w,setIsScreenSharing:L,localStreamRef:P,localCameraStreamRef:A,localScreenStreamRef:B,voiceWsRef:S,peerConnectionsRef:j,audioContextRef:E,globalAudioContextRef:R,iceCandidateBufferRef:N,joinVoiceRoomRef:V,leaveVoiceRoomRef:T,isNoiseSuppressionEnabled:v,isPTTMode:I,iceServers:C,initializeAudio:M,handleSignalMessage:G,setRemoteStreams:W,setConnectedUsers:ne,setIsReconnecting:U,stopRecording:J}){const[le,ee]=a.useState(0),[z,X]=a.useState(1e3),Y=a.useRef(G);a.useEffect(()=>{Y.current=G},[G]);const H=a.useRef(!1),$=a.useRef(!1),D=a.useRef(null),O=a.useRef(null),F=a.useRef(null),K=a.useCallback(()=>{if(!H.current){if(H.current=!0,S.current&&S.current.readyState===WebSocket.OPEN)try{S.current.send(JSON.stringify({type:"user_leaving",sender_username:t}))}catch{}P.current&&(P.current.getTracks().forEach(q=>q.stop()),y(null),P.current=null),b&&(b.getTracks().forEach(q=>q.stop()),_(null),k(!1)),x&&(x.getTracks().forEach(q=>q.stop()),w(null),L(!1)),Object.entries(j.current).forEach(([q,te])=>te.close()),j.current={},W({}),N.current={},S.current&&(S.current.onclose=null,S.current.close(),S.current=null),r(!1),i(null),g(!1),d(!1),h(!1),J(),D.current&&(clearInterval(D.current),D.current=null),O.current&&(clearTimeout(O.current),O.current=null),F.current&&(clearInterval(F.current),F.current=null),ee(0),X(1e3),U(!1),setTimeout(()=>{H.current=!1},100)}},[t,b,x,J]),oe=a.useCallback(async q=>{if(e){if(n&&s&&s!==q&&!$.current){if($.current=!0,S.current){const te=S.current;try{te.send(JSON.stringify({type:"user_leaving",sender_username:t}))}catch{}te.onclose=null,te.onerror=null,te.onmessage=null,te.close(1e3,"Switching channel"),S.current=null}Object.values(j.current).forEach(te=>te.close()),j.current={},W({}),N.current={},$.current=!1}if(!(n&&s===q)&&!$.current){g(!0),i(q);try{C&&C.length>0&&Un(C),M();let te,ae;const re=P.current?.getAudioTracks()?.[0];if(re&&re.readyState==="live"){te=P.current;const Z=`${es}://${ts}/ws/voice/${q}/?token=${e}`;ae=new WebSocket(Z),await new Promise((ie,ce)=>{const pe=setTimeout(()=>ce(new Error("WS timeout")),1e4);ae.onopen=()=>{clearTimeout(pe),ie()},ae.onerror=he=>{clearTimeout(pe),ce(he)}})}else{const Z=navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:{ideal:48e3},sampleSize:{ideal:16},channelCount:{ideal:1},googEchoCancellation:!0,googAutoGainControl:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,googAudioMirroring:!1,latency:{ideal:.02}},video:!1}),ie=`${es}://${ts}/ws/voice/${q}/?token=${e}`,ce=new WebSocket(ie),pe=new Promise((Ge,He)=>{const Xe=setTimeout(()=>He(new Error("WS timeout")),1e4);ce.onopen=()=>{clearTimeout(Xe),Ge(ce)},ce.onerror=Be=>{clearTimeout(Xe),He(Be)}}),[he,Pe]=await Promise.all([Z,pe]);if(ae=Pe,te=he,v)try{te=El(he,R)}catch{te=he}}y(te),P.current=te,te.getAudioTracks().forEach(Z=>{Z.enabled=!c}),D.current||(D.current=setInterval(async()=>{const ie=P.current?.getAudioTracks()?.[0];if(!(!n||H.current)&&(E.current?.state==="suspended"&&await E.current.resume().catch(()=>{}),!ie||ie.readyState==="ended"||!ie.enabled&&!c&&!I))try{const ce=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,googEchoCancellation:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,sampleRate:48e3,channelCount:1},video:!1});y(ce),P.current=ce;const pe=ce.getAudioTracks()[0];Object.values(j.current).forEach(he=>{he.getSenders().filter(Pe=>Pe.track?.kind==="audio").forEach(Pe=>Pe.replaceTrack(pe).catch(()=>{}))})}catch{}},4e3)),S.current=ae,r(!0),g(!1),ne(Z=>Z.some(ce=>ce.username===t)?Z:[{username:t,isMuted:c,isCameraOn:f,isScreenSharing:m,isTalking:!1},...Z]),ae.onmessage=Z=>{try{const ie=JSON.parse(Z.data);Y.current(ie)}catch{}},ae.onerror=Z=>{g(!1),!H.current&&$.current},ae.onclose=Z=>{if(H.current||$.current){U(!1),ee(0),X(1e3),O.current&&(clearTimeout(O.current),O.current=null);return}if(Z.code===1e3&&H.current){K();return}if(Z.code===4001||Z.code===4003||!e&&Z.code===1006){K();return}if(q&&n){const ce=le+1;if(ce>10){se.error("Sesli sohbet baƒülantƒ±sƒ± 10 denemeden sonra kurulamadƒ±.",5e3),K(),ee(0),X(1e3);return}const pe=Math.min(z,3e4);U(!0),ee(ce),O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{!H.current&&!$.current&&q?(X(he=>Math.min(he*2,3e4)),oe(q).then(()=>{ee(0),X(1e3),U(!1)}).catch(he=>{})):(U(!1),ee(0),X(1e3))},pe)}else K()}}catch(te){g(!1),$.current=!1,te.name==="NotAllowedError"?se.warning("Mikrofon izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan izin verin.",5e3):te.name==="NotFoundError"?se.warning("Mikrofon bulunamadƒ±. L√ºtfen bir mikrofon baƒülayƒ±n."):se.error("Sesli sohbete baƒülanƒ±lamadƒ±: "+te.message)}}}},[n,s,e,M,K]);return a.useEffect(()=>{V.current=oe,T.current=K},[oe,K]),a.useEffect(()=>()=>{D.current&&(clearInterval(D.current),D.current=null),O.current&&(clearTimeout(O.current),O.current=null),F.current&&(clearInterval(F.current),F.current=null)},[]),{joinVoiceRoom:oe,leaveVoiceRoom:K}}l(Cl,"useVoiceConnection");const Ws=a.createContext(null),Tl=l(({children:t})=>{const{user:e,token:n}=Tt(),r=e?.username,[s,i]=a.useState(!1),[c,d]=a.useState(!1),[f,m]=a.useState(null),[h,g]=a.useState(!1),[y,b]=a.useState(!1),[_,k]=a.useState(!1),[x,w]=a.useState(!1),[L,P]=a.useState(!1),[A,B]=a.useState(null),[S,j]=a.useState(50),[E,R]=a.useState(null),[N,V]=a.useState(null),[T,v]=a.useState(null),[I,C]=a.useState({}),[M,G]=a.useState([]),[W,ne]=a.useState(null),[U,J]=a.useState({isActive:!1,url:"https://www.youtube.com/watch?v=jfKfPfyJRdk",playing:!1,time:0,lastSyncAction:null,timestamp:0}),[le,ee]=a.useState({gameType:"rps",moves:{},result:null,players:[],currentTurn:null}),[z]=a.useState(!0),[X,Y]=a.useState(!1),[H,$]=a.useState(!1),[D,O]=a.useState(null),[F,K]=a.useState("collapsed"),{noiseGateThreshold:oe,isNoiseGateEnabled:q,isVisualizerEnabled:te,remoteVolumes:ae,mutedUsers:re,isSpatialAudioEnabled:Z,setIsSpatialAudioEnabled:ie,vadSensitivity:ce,isNoiseSuppressionEnabled:pe,setIsNoiseSuppressionEnabled:he,noiseSuppressionLevel:Pe,screenShareQuality:Ge,screenShareFPS:He,includeSystemAudio:Xe,isPTTMode:Be,setIsPTTMode:rt,pttKey:We,isPTTActive:ot,setIsPTTActive:Pt,setRemoteVolume:kt,updateVadSensitivity:me,updateNoiseSuppressionLevel:ut,updateScreenQuality:St,updateScreenFPS:xe,toggleSystemAudio:we,toggleNoiseGate:ve,updateNoiseGateThreshold:jt,toggleVisualizer:pt,updatePTTKey:Ze}=pl(),{iceServers:et}=vl({token:n}),[De,st]=a.useState(!1),je=a.useRef(null),ft=a.useRef({}),Ke=a.useRef(null),ge=a.useRef(null),Re=a.useRef(null),ke=a.useRef(null),mt=a.useRef(null),at=a.useRef(null),$t=a.useRef(null),it=a.useRef(null),Cn=a.useRef(null),{isRecording:Tn,recordingDuration:nr,startRecording:Pn,stopRecording:Nt,downloadRecording:rr}=fl({isInVoice:s,localAudioStream:E,remoteStreams:I,currentRoom:f}),{connectionStats:jn,startStatsMonitoring:Ln,stopStatsMonitoring:gt}=ml(),{audioVisualizerData:In,startVisualizer:or,stopVisualizer:sr}=gl({isVisualizerEnabled:te,localAudioStream:E,remoteStreams:I,isInVoice:s,globalAudioContextRef:ge});a.useEffect(()=>{Re.current=E},[E]),a.useEffect(()=>{ke.current=N},[N]),a.useEffect(()=>{mt.current=T},[T]),kl({localAudioStream:E,isInVoice:s,isMuted:h,vadSensitivity:ce,setIsTalking:P,globalAudioContextRef:ge});const nn=a.useCallback(()=>{if(!Ke.current){const Ee=window.AudioContext||window.webkitAudioContext;Ke.current=new Ee}Ke.current.state==="suspended"&&Ke.current.resume()},[]),On=a.useCallback(async()=>{const Ee=!Z;if(Ee)try{await pn.initialize(),Object.keys(I).forEach((Le,Qe)=>{const qe=I[Le],_t=Le.replace("_camera","").replace("_screen","");if(!Le.includes("_camera")&&!Le.includes("_screen")){const wt=Qe/Object.keys(I).length*2*Math.PI,ln={x:Math.cos(wt)*3,y:0,z:Math.sin(wt)*3};pn.addUser(_t,qe,ln)}})}catch{se.warning("Spatial Audio ba≈ülatƒ±lamadƒ±. Tarayƒ±cƒ±nƒ±z desteklemiyor olabilir.");return}else pn.destroy();ie(Ee),localStorage.setItem("pawscord_spatial_audio",Ee.toString())},[Z,I]),{toggleNoiseSuppression:ht}=wl({isNoiseSuppressionEnabled:pe,setIsNoiseSuppressionEnabled:he,localAudioStream:E,setLocalAudioStream:R,localStreamRef:Re}),{togglePTTMode:ar}=Sl({isPTTMode:Be,setIsPTTMode:rt,isInVoice:s,pttKey:We,isPTTActive:ot,setIsPTTActive:Pt,localStreamRef:Re,setIsMuted:g});a.useEffect(()=>{Z&&Object.keys(I).forEach((Ee,Le)=>{const Qe=I[Ee],qe=Ee.replace("_camera","").replace("_screen","");if(!Ee.includes("_camera")&&!Ee.includes("_screen")&&!pn.spatialNodes[qe]){const _t=Le/Object.keys(I).length*2*Math.PI,wt={x:Math.cos(_t)*3,y:0,z:Math.sin(_t)*3};pn.addUser(qe,Qe,wt)}})},[I,Z]);const{sendSignal:Dn,adjustBandwidth:yo,createPeerConnection:yt,iceCandidateBufferRef:Lt,addLocalStreamsToPeer:Rn}=yl({username:r,voiceWsRef:je,peerConnectionsRef:ft,localStreamRef:Re,localCameraStreamRef:ke,localScreenStreamRef:mt,setRemoteStreams:C,setIsReconnecting:st,initializeAudio:nn}),{handleSignalMessage:ir}=_l({username:r,isMuted:h,isVideoEnabled:_,isScreenSharing:x,isTalking:L,createPeerConnection:yt,sendSignal:Dn,iceCandidateBufferRef:Lt,addLocalStreamsToPeer:Rn,peerConnectionsRef:ft,localStreamRef:Re,localCameraStreamRef:ke,localScreenStreamRef:mt,joinVoiceRoomRef:at,setRemoteStreams:C,setConnectedUsers:G,setLastReaction:ne,setGameState:ee,setCinemaState:J,setIsReconnecting:st,leaveVoiceRoomRef:$t}),{joinVoiceRoom:rn,leaveVoiceRoom:on}=Cl({username:r,token:n,isInVoice:s,setIsInVoice:i,currentRoom:f,setCurrentRoom:m,isMuted:h,setIsMuted:g,isVideoEnabled:_,isScreenSharing:x,setIsDeafened:b,setIsConnecting:d,setLocalAudioStream:R,localCameraStream:N,setLocalCameraStream:V,setIsVideoEnabled:k,localScreenStream:T,setLocalScreenStream:v,setIsScreenSharing:w,localStreamRef:Re,localCameraStreamRef:ke,localScreenStreamRef:mt,voiceWsRef:je,peerConnectionsRef:ft,audioContextRef:Ke,globalAudioContextRef:ge,iceCandidateBufferRef:Lt,joinVoiceRoomRef:at,leaveVoiceRoomRef:$t,isNoiseSuppressionEnabled:pe,isPTTMode:Be,iceServers:et,initializeAudio:nn,handleSignalMessage:ir,setRemoteStreams:C,setConnectedUsers:G,setIsReconnecting:st,stopRecording:Nt}),{toggleMute:Bt,toggleDeafened:sn,toggleVideo:lr,toggleCamera:an,toggleScreenShare:_o}=hl({sendSignal:Dn,voiceWsRef:je,peerConnectionsRef:ft,localStreamRef:Re,localCameraStreamRef:ke,localScreenStreamRef:mt,setIsMuted:g,setIsDeafened:b,setIsVideoEnabled:k,setIsScreenSharing:w,setLocalCameraStream:V,setLocalScreenStream:v,screenShareQuality:Ge,screenShareFPS:He,includeSystemAudio:Xe}),An=a.useCallback(async(Ee,Le=50)=>{if(!(!E||!s))try{if(it.current&&(it.current.forEach(wt=>{try{wt.disconnect()}catch{}}),it.current=null),!Ee){B(null);return}const Qe=ge.current||new AudioContext;ge.current||(ge.current=Qe);const{nodes:qe,outputStream:_t}=ul(Ee,Le,Qe,E);it.current=qe,Cn.current=_t,B(Ee),j(Le)}catch{se.error("Ses efekti uygulanamadƒ±")}},[E,s]),bo=a.useCallback(Ee=>{!je.current||je.current.readyState!==WebSocket.OPEN||je.current.send(JSON.stringify({type:"voice_reaction",emoji:Ee}))},[]),cr=a.useCallback((Ee,Le,Qe=null,qe=null)=>{!je.current||je.current.readyState!==WebSocket.OPEN||je.current.send(JSON.stringify({type:"game_signal",game_type:Ee,action:Le,move:Qe,target:qe}))},[]),xo=a.useCallback((Ee,Le=0,Qe=null)=>{!je.current||je.current.readyState!==WebSocket.OPEN||je.current.send(JSON.stringify({type:"cinema_sync",action:Ee,time:Le,url:Qe}))},[]);return a.useEffect(()=>()=>{Nt(),gt()},[Nt,gt]),o.jsx(Ws.Provider,{value:{isInVoice:s,isConnecting:c,currentRoom:f,isMuted:h,isDeafened:y,isVideoEnabled:_,isScreenSharing:x,isTalking:L,isSpatialAudioEnabled:Z,vadSensitivity:ce,isNoiseSuppressionEnabled:pe,screenShareQuality:Ge,screenShareFPS:He,isRecording:Tn,recordingDuration:nr,isPTTMode:Be,isPTTActive:ot,pttKey:We,includeSystemAudio:Xe,localStream:E,localAudioStream:E,localCameraStream:N,localScreenStream:T,remoteStreams:I,connectedUsers:M,remoteVolumes:ae,mutedUsers:re,joinVoiceRoom:rn,leaveVoiceRoom:on,joinChannel:rn,leaveChannel:on,setRemoteVolume:kt,setIsMuted:g,setIsDeafened:b,setIsVideoEnabled:k,setIsScreenSharing:w,toggleMute:Bt,toggleDeafened:sn,toggleVideo:lr,toggleCamera:an,toggleScreenShare:_o,toggleSpatialAudio:On,updateVadSensitivity:me,toggleNoiseSuppression:ht,updateScreenQuality:St,updateScreenFPS:xe,toggleSystemAudio:we,togglePTTMode:ar,updatePTTKey:Ze,startRecording:Pn,stopRecording:Nt,downloadRecording:rr,sendSignal:Dn,isPttActive:ot,sendReaction:bo,lastReaction:W,applyVoiceEffect:An,activeVoiceEffect:A,activeEffect:A,voiceEffectIntensity:S,setVoiceEffectIntensity:j,cinemaState:U,setCinemaState:J,sendCinemaSync:xo,gameState:le,setGameState:ee,sendGameSignal:cr,connectionStats:jn,startStatsMonitoring:Ln,stopStatsMonitoring:gt,noiseSuppressionLevel:Pe,updateNoiseSuppressionLevel:ut,iceServers:et,isReconnecting:De,adjustBandwidth:yo,noiseGateThreshold:oe,isNoiseGateEnabled:q,toggleNoiseGate:ve,updateNoiseGateThreshold:jt,audioVisualizerData:In,isVisualizerEnabled:te,toggleVisualizer:pt,startVisualizer:or,stopVisualizer:sr,useNewVoicePanel:z,showVoiceIsland:X,setShowVoiceIsland:Y,isVoicePanelMinimized:H,setIsVoicePanelMinimized:$,focusedStream:D,setFocusedStream:O,islandState:F,setIslandState:K},children:t})},"VoiceProvider"),Pl=l(()=>a.useContext(Ws),"useVoice"),Zs=a.createContext(null),jl=l(({children:t})=>{const[e,n]=a.useState(!1),[r,s]=a.useState(null),[i,c]=a.useState(0),d=a.useCallback(m=>{s(m),m.type==="chat_message_handler"&&m.username==="‚ö° Signal Bot"&&(typeof Notification<"u"&&Notification.permission==="granted"&&document.hidden&&new Notification("üö® YENƒ∞ KRƒ∞PTO Sƒ∞NYALƒ∞!",{body:`${m.content.split(`
`)[2]}`,icon:"/logo192.png"}),c(h=>h+1))},[]),f=a.useMemo(()=>({isConnected:e,setIsConnected:n,globalData:r,setGlobalData:d,unreadGlobal:i,setUnreadGlobal:c}),[e,r,i,d]);return o.jsx(Zs.Provider,{value:f,children:t})},"GlobalWebSocketProvider"),Qs=l(()=>a.useContext(Zs),"useGlobalWebSocket"),Ll=l(({message:t,endTime:e,level:n="info",onDismiss:r})=>{const[s,i]=a.useState("");a.useEffect(()=>{if(!e)return;const f=l(()=>{const h=new Date,y=new Date(e)-h;if(y<=0){i("Ending soon..."),setTimeout(()=>window.location.reload(),5e3);return}const b=Math.floor(y/(1e3*60*60)),_=Math.floor(y%(1e3*60*60)/(1e3*60));i(`${b}h ${_}m remaining`)},"updateTimer");f();const m=setInterval(f,6e4);return()=>clearInterval(m)},[e]);const c={info:{bg:"rgba(88, 101, 242, 0.1)",border:"#5865f2",text:"#5865f2"},warning:{bg:"rgba(250, 166, 26, 0.1)",border:"#faa61a",text:"#faa61a"},critical:{bg:"rgba(240, 71, 71, 0.1)",border:"#f04747",text:"#f04747"}},d=c[n]||c.info;return o.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:d.bg,borderBottom:`2px solid ${d.border}`,padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:9999,animation:"slideDown 0.3s ease"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx(vi,{style:{color:d.text,fontSize:"18px"}}),o.jsxs("div",{children:[o.jsx("div",{style:{color:d.text,fontWeight:"bold"},children:n==="critical"?"üö® Critical Maintenance":n==="warning"?"‚ö†Ô∏è Scheduled Maintenance":"‚ÑπÔ∏è Maintenance Notice"}),o.jsxs("div",{style:{color:"#dcddde",fontSize:"14px",marginTop:"2px"},children:[t,s&&o.jsxs("span",{style:{marginLeft:"10px",opacity:.7},children:["(",s,")"]})]})]})]}),r&&o.jsx("button",{onClick:r,style:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",padding:"8px",borderRadius:"4px",transition:"background 0.2s"},onMouseEnter:l(f=>f.target.style.background="rgba(255,255,255,0.1)","onMouseEnter"),onMouseLeave:l(f=>f.target.style.background="none","onMouseLeave"),children:o.jsx(xn,{})})]})},"MaintenanceBanner"),Ye=l(({size:t="medium",text:e="Y√ºkleniyor...",fullscreen:n=!1})=>{const r={small:{spinner:24,text:"12px"},medium:{spinner:40,text:"14px"},large:{spinner:60,text:"16px"}},s=r[t]||r.medium,i=n?Ut.fullscreenContainer:Ut.inlineContainer;return o.jsxs("div",{style:i,children:[o.jsxs("div",{style:{...Ut.spinnerWrapper,width:s.spinner,height:s.spinner},children:[o.jsx("div",{style:Ut.spinnerOuter}),o.jsx("div",{style:Ut.spinnerInner})]}),e&&o.jsx("div",{style:{...Ut.loadingText,fontSize:s.text},children:e})]})},"LoadingSpinner"),Ut={fullscreenContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#36393f",zIndex:9999,gap:"16px"},inlineContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"20px",minHeight:"100px"},spinnerWrapper:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},spinnerOuter:{position:"absolute",width:"100%",height:"100%",border:"3px solid rgba(88, 101, 242, 0.2)",borderTop:"3px solid #5865f2",borderRadius:"50%",animation:"spin 1s linear infinite"},spinnerInner:{position:"absolute",width:"70%",height:"70%",border:"3px solid rgba(88, 101, 242, 0.1)",borderBottom:"3px solid #7289da",borderRadius:"50%",animation:"spin 0.7s linear infinite reverse"},loadingText:{color:"#b5bac1",fontWeight:500,textAlign:"center",animation:"pulse 1.5s ease-in-out infinite"}};if(typeof document<"u"){const t=document.createElement("style");t.innerText=`
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
    `,document.head.querySelector("[data-loading-spinner-styles]")||(t.setAttribute("data-loading-spinner-styles","true"),document.head.appendChild(t))}const Qr=l(()=>"https://api.pawscord.com","getApiBaseUrl"),Il=Qr(),Ol=l(()=>Qr().replace("/api","/media"),"getMediaBaseUrl"),Dl=Qr,jg=Ol,Rl=`${Il}/api`,Al=Dl(),Yn=typeof window<"u"&&typeof window.require=="function",hn=typeof window<"u"&&window.Capacitor&&window.Capacitor.isNativePlatform(),En=Al,zt=Yn||hn?"https://www.pawscord.com":En,Ce=`${En}/api`,Q=En,Xs=En.startsWith("https")?"wss":"ws",ea=En.replace(/^https?:\/\//,""),zl=`${Ce}/messages/history/room/`,Vl=`${Ce}/messages/history/dm/`,br=`${Ce}/rooms/list_with_categories/`,Ml=`${Ce}/conversations/`,$l=`${Ce}/conversations/find_or_create/`,Nl=`${Ce}/users/update_profile/`,Bl=`${Ce}/users/change_username/`,Fl=`${Ce}/gifs/list_local/`,as="chat_drafts_v1",Gn=l(()=>`${Date.now()}_${Math.random().toString(36).slice(2,9)}`,"getTemporaryId"),Ul=l(async t=>{const e=(await p(async()=>{const{default:n}=await import("./crypto-vendor-D1XRGppi.js").then(r=>r.s);return{default:n}},__vite__mapDeps([0,1]))).default;return new Promise((n,r)=>{const i=Math.ceil(t.size/2097152);let c=0;const d=new e.ArrayBuffer,f=new FileReader;f.onload=h=>{d.append(h.target.result),c++,c<i?m():n(d.end())},f.onerror=h=>r(h);function m(){const h=c*2097152,g=Math.min(h+2097152,t.size);f.readAsArrayBuffer(t.slice(h,g))}l(m,"loadNextChunk"),m()})},"calculateFileHash"),Yl=u.lazy(()=>p(()=>import("./CinemaModal-CD-wVzZy.js"),__vite__mapDeps([2,3,1,4,5,6,0,7]))),Gl=u.lazy(()=>p(()=>import("./CryptoChartModal-Bk8meZWK.js"),__vite__mapDeps([8,1,4,3,5,6,0,7]))),Hl=u.lazy(()=>p(()=>import("./GifPicker-koQVq_Gj.js"),__vite__mapDeps([9,1]))),Kl=u.lazy(()=>p(()=>import("./StickerPicker-C1oM2lgK.js"),__vite__mapDeps([10,1]))),ql=u.lazy(()=>p(()=>import("./UserProfilePanel-Cbc7HHmf.js"),__vite__mapDeps([11,1,12,13,14,3,5,6,0,4,7,15,16,17]))),Jl=u.lazy(()=>p(()=>import("./AdminAnalyticsPanel-DmEo43Ww.js"),__vite__mapDeps([18,1,4,19,7]))),Wl=u.lazy(()=>p(()=>import("./AdminPanelModal-COKYFcXy.js"),__vite__mapDeps([20,1,4,3,5,6,0,7]))),Zl=u.lazy(()=>p(()=>import("./APIUsagePanel-Da6Z5SYK.js"),__vite__mapDeps([21,1,4,3,5,6,0,7]))),Ql=u.lazy(()=>p(()=>import("./AutoModerationDashboard-CPm7mxdW.js"),__vite__mapDeps([22,1,4,3,5,6,0,7]))),Xl=u.lazy(()=>p(()=>import("./AuditLogPanel-MaX75zEG.js"),__vite__mapDeps([23,1,4]))),ec=u.lazy(()=>p(()=>import("./BookmarkPanel-Dbsr9vOS.js"),__vite__mapDeps([24,1,4,3,5,6,0,7]))),tc=u.lazy(()=>p(()=>import("./ChannelPermissionsPanel-Crq6snjM.js"),__vite__mapDeps([25,1,4,3,5,6,0,7]))),nc=u.lazy(()=>p(()=>import("./CodeSnippetModal-Bzt_0C9G.js"),__vite__mapDeps([26,1,4,3,5,6,0,7]))),rc=u.lazy(()=>p(()=>import("./ConnectionsPanel-DiARkzJE.js"),__vite__mapDeps([27,1,4,3,5,6,0,7,28]))),oc=u.lazy(()=>p(()=>import("./CreateGroupModal-B6azPe7L.js"),__vite__mapDeps([29,1,4,3,5,6,0,7]))),sc=u.lazy(()=>p(()=>import("./CustomStatusModal-BE3SWODl.js"),__vite__mapDeps([30,1,4,3,5,6,0,7]))),ac=u.lazy(()=>p(()=>import("./DJModal-CuUe07R6.js"),__vite__mapDeps([31,3,1,4,5,6,0,7]))),ic=u.lazy(()=>p(()=>import("./DailyRewardsModal-BMD7Eck2.js"),__vite__mapDeps([32,1,4,3,5,6,0,7]))),lc=u.lazy(()=>p(()=>import("./DownloadModal-DOMLumbL.js"),__vite__mapDeps([33,1,4,3,5,6,0,7]))),cc=u.lazy(()=>p(()=>import("./EncryptionKeyModal-JuHOmUHc.js"),__vite__mapDeps([34,1,4,3,5,6,0,7]))),dc=u.lazy(()=>p(()=>import("./ExportJobsPanel-DG5f0UDK.js"),__vite__mapDeps([35,1,4,3,5,6,0,7]))),uc=u.lazy(()=>p(()=>import("./MentionsInboxPanel-fv9CwmJi.js"),__vite__mapDeps([36,1,4,3,5,6,0,7]))),pc=u.lazy(()=>p(()=>import("./PasswordSetupModal-I3sL_hBB.js"),__vite__mapDeps([37,1,4,3,5,6,0,7,38]))),fc=u.lazy(()=>p(()=>import("./PaymentPanel-CBsUNHNF.js"),__vite__mapDeps([39,1,4,3,5,6,0,7]))),mc=u.lazy(()=>p(()=>import("./PollCreateModal-D8n68Bcs.js"),__vite__mapDeps([40,1,4,3,5,6,0,7]))),gc=u.lazy(()=>p(()=>import("./PremiumStoreModal-Q8OpctF6.js"),__vite__mapDeps([41,1,4,42,3,5,6,0,7]))),hc=u.lazy(()=>p(()=>import("./RaidProtectionPanel-8EGzEUWy.js"),__vite__mapDeps([43,1,4,3,5,6,0,7]))),yc=u.lazy(()=>p(()=>import("./ReadLaterPanel-CWsphTHn.js"),__vite__mapDeps([44,1,4,45]))),_c=u.lazy(()=>p(()=>import("./ReportSystemPanel-BiybbopQ.js"),__vite__mapDeps([46,1,4,3,5,6,0,7]))),bc=u.lazy(()=>p(()=>import("./ScheduledAnnouncementsPanel-VYEk_qc5.js"),__vite__mapDeps([47,1,4,3,5,6,0,7]))),xc=u.lazy(()=>p(()=>import("./ServerSettingsModal-DCgUNcXe.js"),__vite__mapDeps([48,1,4,49,50,3,5,6,0,7]))),vc=u.lazy(()=>p(()=>import("./SoundboardModal-CJQrt0tS.js"),__vite__mapDeps([51,1,4,3,5,6,0,7]))),kc=u.lazy(()=>p(()=>import("./StoreModal-BkRUrMYQ.js"),__vite__mapDeps([52,1,4,3,5,6,0,7]))),Sc=u.lazy(()=>p(()=>import("./UserWarningsPanel-D5pkSIX4.js"),__vite__mapDeps([53,1,4,3,5,6,0,7]))),wc=u.lazy(()=>p(()=>import("./VanityURLManager-D6SBbRUW.js"),__vite__mapDeps([50,1,4,3,5,6,0,7]))),Ec=u.lazy(()=>p(()=>import("./WebhooksPanel-DttRhwIa.js"),__vite__mapDeps([54,1,7,3,5,6,0,4,55]))),Cc=u.lazy(()=>p(()=>import("./WhiteboardModal-Diom4rSs.js"),__vite__mapDeps([56,1,4,3,5,6,0,7]))),Tc=l(({modals:t,openModal:e,closeModal:n,fetchWithAuth:r,activeChat:s,username:i,sendMessage:c,sendSignal:d,ws:f,currentUserProfile:m,setCurrentUserProfile:h,soundSettings:g,setSoundSettings:y,encryptionKeys:b,currentKeyId:_,setEncryptionKey:k,chartSymbol:x,setChartSymbol:w,serverToEdit:L,setServerToEdit:P,serverMembers:A,friendsList:B,conversations:S,zoomedImage:j,setZoomedImage:E,logout:R,getDeterministicAvatar:N,handleSendSnippet:V,setActiveChat:T,setConversations:v})=>{const I=a.useCallback(()=>n("profilePanel"),[n]),C=a.useCallback(()=>n("store"),[n]),M=a.useCallback(()=>n("analytics"),[n]),G=a.useCallback(()=>n("adminPanel"),[n]),W=a.useCallback(()=>e("analytics"),[e]),ne=a.useCallback(()=>e("webhooks"),[e]),U=a.useCallback(()=>e("modTools"),[e]),J=a.useCallback(()=>e("auditLog"),[e]),le=a.useCallback(()=>e("reportSystem"),[e]),ee=a.useCallback(()=>e("vanityURL"),[e]),z=a.useCallback(()=>e("autoResponder"),[e]),X=a.useCallback(()=>n("paymentPanel"),[n]),Y=a.useCallback(()=>n("storeModal"),[n]),H=a.useCallback(()=>n("dailyRewards"),[n]),$=a.useCallback(()=>n("aPIUsagePanel"),[n]),D=a.useCallback(()=>n("exportJobsPanel"),[n]),O=a.useCallback(()=>n("scheduledAnnouncements"),[n]),F=a.useCallback(()=>n("connectionsPanel"),[n]),K=a.useCallback(()=>n("passwordSetupModal"),[n]),oe=a.useCallback(()=>n("autoModeration"),[n]),q=a.useCallback(()=>n("raidProtection"),[n]),te=a.useCallback(()=>n("reportSystem"),[n]),ae=a.useCallback(()=>n("auditLog"),[n]),re=a.useCallback(()=>n("userWarnings"),[n]),Z=a.useCallback(()=>n("webhooks"),[n]),ie=a.useCallback(()=>n("vanityURL"),[n]),ce=a.useCallback(()=>n("bookmarks"),[n]),pe=a.useCallback(()=>n("readLater"),[n]),he=a.useCallback(()=>n("mentionsInbox"),[n]),Pe=a.useCallback(()=>n("customStatus"),[n]),Ge=a.useCallback(()=>n("channelPermissions"),[n]),He=a.useCallback(()=>n("cinema"),[n]),Xe=a.useCallback(()=>n("snippetModal"),[n]),Be=a.useCallback(()=>n("encModal"),[n]),rt=a.useCallback(()=>n("downloadModal"),[n]),We=a.useCallback(()=>n("groupModal"),[n]),ot=a.useCallback(()=>n("whiteboard"),[n]),Pt=a.useCallback(()=>n("soundboard"),[n]),kt=a.useCallback(()=>n("dJ"),[n]),me=a.useCallback(()=>n("gifPicker"),[n]),ut=a.useCallback(()=>n("stickerPicker"),[n]),St=a.useCallback(()=>n("pollModal"),[n]),xe=a.useCallback(()=>w(null),[w]),we=a.useCallback(()=>P(null),[P]),ve=a.useCallback(ge=>{ge.room&&T({type:"room",slug:ge.room}),n("bookmarks")},[T,n]),jt=a.useCallback(ge=>{ge.room?T({type:"room",slug:ge.room}):ge.conversation&&T({type:"dm",slug:ge.conversation}),n("readLater")},[T,n]),pt=a.useCallback(ge=>{ge.room_id&&T({type:"room",id:ge.room_id}),n("mentionsInbox")},[T,n]),Ze=a.useCallback(ge=>{m&&h(Re=>({...Re,customStatus:ge}))},[m,h]),et=a.useCallback(ge=>k(_,ge),[k,_]),De=a.useCallback(ge=>{v(Re=>[ge,...Re]),T("dm",ge.id,"Grup Sohbeti")},[v,T]),st=a.useCallback(ge=>{const Re=ge.startsWith("http")?ge:Q+ge;c(Re),n("gifPicker")},[c,n]),je=a.useCallback(ge=>{c(ge),n("stickerPicker")},[c,n]),ft=a.useMemo(()=>s?.type==="room"?s.id:`dm_${s?.id}`,[s?.type,s?.id]),Ke=a.useMemo(()=>s?.type==="room"?s.server_id:null,[s?.type,s?.server_id]);return o.jsx(o.Fragment,{children:o.jsxs(a.Suspense,{fallback:o.jsx(Ye,{size:"medium",text:"Modal y√ºkleniyor..."}),children:[t.profilePanel&&o.jsx(ql,{user:m,onClose:I,onProfileUpdate:l(ge=>h(ge),"onProfileUpdate"),onLogout:R,fetchWithAuth:r,getDeterministicAvatar:N,updateProfileUrl:Nl,changeUsernameUrl:Bl,soundSettings:g,onUpdateSoundSettings:y,onImageClick:E,apiBaseUrl:Q}),t.store&&o.jsx(gc,{onClose:C}),t.analytics&&o.jsx(Jl,{onClose:M,fetchWithAuth:r,apiBaseUrl:Q}),t.adminPanel&&o.jsx(Wl,{onClose:G,onOpenAnalytics:W,onOpenWebhooks:ne,onOpenModTools:U,onOpenAuditLogs:J,onOpenReports:le,onOpenVanityURL:ee,onOpenAutoResponder:z,fetchWithAuth:r,apiBaseUrl:Q}),t.paymentPanel&&o.jsx(fc,{fetchWithAuth:r,apiBaseUrl:Q,onClose:X,username:i}),t.storeModal&&o.jsx(kc,{fetchWithAuth:r,apiBaseUrl:Q,onClose:Y,username:i}),t.dailyRewards&&o.jsx(ic,{fetchWithAuth:r,apiBaseUrl:Q,onClose:H,username:i}),t.aPIUsagePanel&&o.jsx(Zl,{fetchWithAuth:r,apiBaseUrl:Q,onClose:$,username:i}),t.exportJobsPanel&&o.jsx(dc,{fetchWithAuth:r,apiBaseUrl:Q,onClose:D,username:i}),t.scheduledAnnouncements&&o.jsx(bc,{fetchWithAuth:r,apiBaseUrl:Q,onClose:O,serverId:Ke}),t.connectionsPanel&&o.jsx(rc,{onClose:F}),t.passwordSetupModal&&o.jsx(pc,{onClose:K,apiBaseUrl:Q}),t.autoModeration&&o.jsx(Ql,{serverId:Ke,fetchWithAuth:r,apiBaseUrl:Q,onClose:oe}),t.raidProtection&&o.jsx(hc,{serverId:Ke,fetchWithAuth:r,apiBaseUrl:Q,onClose:q}),t.reportSystem&&o.jsx(_c,{serverId:Ke,fetchWithAuth:r,apiBaseUrl:Q,onClose:te}),t.auditLog&&o.jsx(Xl,{fetchWithAuth:r,apiBaseUrl:Q,onClose:ae}),t.userWarnings&&o.jsx(Sc,{fetchWithAuth:r,apiBaseUrl:Q,onClose:re}),t.webhooks&&o.jsx(Ec,{fetchWithAuth:r,apiBaseUrl:Q,serverId:Ke,onClose:Z}),t.vanityURL&&s?.type==="room"&&s.server_id&&o.jsx(wc,{fetchWithAuth:r,apiBaseUrl:Q,serverId:s.server_id,onClose:ie}),t.bookmarks&&o.jsx(ec,{fetchWithAuth:r,apiBaseUrl:Q,onClose:ce,onMessageClick:ve}),t.readLater&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(yc,{fetchWithAuth:r,apiBaseUrl:Q,onClose:pe,onMessageClick:jt})}),t.mentionsInbox&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(uc,{isOpen:t.mentionsInbox,onClose:he,currentUsername:m?.username||i,onNavigateToMessage:pt})}),t.customStatus&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(sc,{isOpen:t.customStatus,onClose:Pe,onStatusChange:Ze})}),t.channelPermissions&&s?.type==="room"&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(tc,{fetchWithAuth:r,apiBaseUrl:Q,channelSlug:s.slug,onClose:Ge})}),x&&o.jsx(Gl,{symbol:x,onClose:xe}),t.cinema&&o.jsx(Yl,{onClose:He,ws:f,username:i}),t.snippetModal&&o.jsx(nc,{onClose:Xe,onSend:V}),L&&o.jsx(xc,{onClose:we,server:L,currentUsername:i,fetchWithAuth:r,apiBaseUrl:Ce,serverMembers:A}),t.encModal&&o.jsx(cc,{onClose:Be,onSetKey:et,existingKey:b[_]}),t.downloadModal&&o.jsx(lc,{onClose:rt,apiBaseUrl:Q}),t.groupModal&&o.jsx(oc,{onClose:We,friendsList:B,fetchWithAuth:r,apiBaseUrl:Q,onGroupCreated:De}),t.whiteboard&&(s.type==="room"||s.type==="dm")&&o.jsx(Cc,{roomSlug:ft,onClose:ot,wsProtocol:Xs,apiHost:ea}),t.soundboard&&o.jsx(vc,{onClose:Pt,fetchWithAuth:r,apiBaseUrl:Q,sendSignal:d,absoluteHostUrl:Q}),t.dJ&&o.jsx(ac,{onClose:kt,ws:f,roomSlug:s.id}),t.gifPicker&&o.jsx(Hl,{onSelect:st,onClose:me,localGifListUrl:Fl,absoluteHostUrl:Q,fetchWithAuth:r}),t.stickerPicker&&o.jsx(Kl,{onClose:ut,onSelect:je,fetchWithAuth:r,apiBaseUrl:Q}),t.pollModal&&o.jsx(mc,{onClose:St,fetchWithAuth:r,apiBaseUrl:Q,activeRoomSlug:s.id})]})})},"AppModalsCore"),Pc=u.memo(Tc),jc=u.lazy(()=>p(()=>import("./AdvancedSearchPanel-BWUDzHhv.js"),__vite__mapDeps([57,1,4,3,5,6,0,7]))),Lc=u.lazy(()=>p(()=>import("./AutoRespondersPanel-C79ZTvW3.js"),__vite__mapDeps([58,1,4,3,5,6,0,7]))),Ic=u.lazy(()=>p(()=>import("./AvatarStudioPanel-UgNAxzgt.js"),__vite__mapDeps([59,1,4,3,5,6,0,7]))),Oc=u.lazy(()=>p(()=>import("./ContentScannerPanel-CgXTeMGf.js"),__vite__mapDeps([60,1,4,3,5,6,0,7]))),Dc=u.lazy(()=>p(()=>import("./DataRetentionPanel-CE01vzak.js"),__vite__mapDeps([61,1,4,3,5,6,0,7]))),Rc=u.lazy(()=>p(()=>import("./DraftsPanel-BJunqOD9.js"),__vite__mapDeps([62,1,4,3,5,6,0,7]))),Ac=u.lazy(()=>p(()=>import("./EnhancedPollsPanel-CmTYyKSX.js"),__vite__mapDeps([63,1,4,3,5,6,0,7]))),zc=u.lazy(()=>p(()=>import("./EphemeralMessagesPanel-BQYhyRm_.js"),__vite__mapDeps([64,1,4,3,5,6,0,7]))),Vc=u.lazy(()=>p(()=>import("./FieldChangeTrackingPanel-C6rwNddw.js"),__vite__mapDeps([65,1,4,3,5,6,0,7]))),Mc=u.lazy(()=>p(()=>import("./GDPRExportPanel-IJyrOJOz.js"),__vite__mapDeps([66,1,4,3,5,6,0,7]))),$c=u.lazy(()=>p(()=>import("./GrowthMetricsPanel-CqaDRDkU.js"),__vite__mapDeps([67,1,4,3,5,6,0,7]))),Nc=u.lazy(()=>p(()=>import("./InventoryPanel-rFnsPGP-.js"),__vite__mapDeps([68,1,4,3,5,6,0,7]))),Bc=u.lazy(()=>p(()=>import("./InviteAnalyticsPanel-DgiNA__h.js"),__vite__mapDeps([69,1,4,3,5,6,0,7]))),Fc=u.lazy(()=>p(()=>import("./InviteExportPanel-CYZL-f2r.js"),__vite__mapDeps([70,1,4,3,5,6,0,7]))),Uc=u.lazy(()=>p(()=>import("./JoinLeaveLogsPanel-wkqM5cRz.js"),__vite__mapDeps([71,1,4,3,5,6,0,7]))),Yc=u.lazy(()=>p(()=>import("./LinkClickTrackingPanel-BlaBe1WU.js"),__vite__mapDeps([72,1,4,3,5,6,0,7]))),Gc=u.lazy(()=>p(()=>import("./LinkPreviewRenderer-gBhTbS1N.js"),__vite__mapDeps([73,1,4]))),Hc=u.lazy(()=>p(()=>import("./MiniGamesPanel-Do0Nltg0.js"),__vite__mapDeps([74,1,4,3,5,6,0,7]))),Kc=u.lazy(()=>p(()=>import("./NicknameHistoryPanel-DfdDjUZY.js"),__vite__mapDeps([75,1,4,3,5,6,0,7]))),qc=u.lazy(()=>p(()=>import("./OAuthAppsPanel-CtbxXRu3.js"),__vite__mapDeps([76,1,4,3,5,6,0,7]))),Jc=u.lazy(()=>p(()=>import("./ProjectCollaborationPanel-BnARk6lu.js"),__vite__mapDeps([77,1,4,3,5,6,0,7]))),Wc=u.lazy(()=>p(()=>import("./ReactionAnalyticsPanel-DjbNcVTj.js"),__vite__mapDeps([78,1,4,3,5,6,0,7]))),Zc=u.lazy(()=>p(()=>import("./ReferralRewardsPanel-D2VF9DFc.js"),__vite__mapDeps([79,1,4,3,5,6,0,7]))),Qc=u.lazy(()=>p(()=>import("./RoomWebhooksPanel-BnolvcLa.js"),__vite__mapDeps([80,1,4,3,5,6,0,7]))),Xc=u.lazy(()=>p(()=>import("./ServerBoostPanel-Bvc_KxtO.js"),__vite__mapDeps([81,1,4,3,5,6,0,7]))),ed=u.lazy(()=>p(()=>import("./ServerNicknamesPanel-C2nqUWYN.js"),__vite__mapDeps([82,1,4,3,5,6,0,7]))),td=u.lazy(()=>p(()=>import("./SessionManagementPanel-pNODUdlz.js"),__vite__mapDeps([83,1,4,3,5,6,0,7]))),nd=u.lazy(()=>p(()=>import("./TopicHistoryPanel-CiVO5Qau.js"),__vite__mapDeps([84,1,4,3,5,6,0,7]))),rd=u.lazy(()=>p(()=>import("./TwoFactorSetupWizard-XcFwiQQa.js"),__vite__mapDeps([85,1,4,3,5,6,0,7]))),od=u.lazy(()=>p(()=>import("./UserActivityPanel-BK1ABQvb.js"),__vite__mapDeps([86,1,4,3,5,6,0,7]))),sd=u.lazy(()=>p(()=>import("./VoiceTranscriptsPanel-DVqpWJEX.js"),__vite__mapDeps([87,1,4,3,5,6,0,7]))),ad=u.lazy(()=>p(()=>import("./WaitlistPanel-kLn5i8Y9.js"),__vite__mapDeps([88,1,4,3,5,6,0,7]))),id=l(({modals:t,closeModal:e,fetchWithAuth:n,activeChat:r,username:s,currentUserProfile:i,setCurrentUserProfile:c,setActiveChat:d})=>{const f=a.useCallback(()=>e("reactionAnalytics"),[e]),m=a.useCallback(()=>e("linkClickTracking"),[e]),h=a.useCallback(()=>e("joinLeaveLogs"),[e]),g=a.useCallback(()=>e("userActivity"),[e]),y=a.useCallback(()=>e("nicknameHistory"),[e]),b=a.useCallback(()=>e("fieldChangeTracking"),[e]),_=a.useCallback(()=>e("inviteAnalytics"),[e]),k=a.useCallback(()=>e("contentScanner"),[e]),x=a.useCallback(()=>e("ephemeralMessages"),[e]),w=a.useCallback(()=>e("topicHistory"),[e]),L=a.useCallback(()=>e("drafts"),[e]),P=a.useCallback(()=>e("serverNicknames"),[e]),A=a.useCallback(()=>e("serverBoost"),[e]),B=a.useCallback(()=>e("roomWebhooks"),[e]),S=a.useCallback(()=>e("oAuthApps"),[e]),j=a.useCallback(()=>e("autoResponders"),[e]),E=a.useCallback(()=>e("sessionManagement"),[e]),R=a.useCallback(()=>e("gDPRExport"),[e]),N=a.useCallback(()=>e("dataRetention"),[e]),V=a.useCallback(()=>e("twoFactorSetup"),[e]),T=a.useCallback(()=>e("enhancedPolls"),[e]),v=a.useCallback(()=>e("voiceTranscripts"),[e]),I=a.useCallback(()=>e("inviteExport"),[e]),C=a.useCallback(()=>e("advancedSearch"),[e]),M=a.useCallback(()=>e("growthMetrics"),[e]),G=a.useCallback(()=>e("linkPreview"),[e]),W=a.useCallback(()=>e("inventory"),[e]),ne=a.useCallback(()=>e("waitlist"),[e]),U=a.useCallback(()=>e("referralRewards"),[e]),J=a.useCallback(()=>e("miniGames"),[e]),le=a.useCallback(()=>e("projectCollaboration"),[e]),ee=a.useCallback(()=>e("avatarStudio"),[e]),z=a.useCallback(()=>{Tr.success("2FA ba≈üarƒ±yla etkinle≈ütirildi!"),e("twoFactorSetup")},[e]),X=a.useCallback(D=>{D.room&&d({type:"room",slug:D.room}),e("drafts")},[d,e]),Y=a.useCallback(D=>{D.room&&d({type:"room",slug:D.room}),e("advancedSearch")},[d,e]),H=a.useCallback(D=>{i&&c({...i,avatar_url:D}),Tr.success("üé® Avatar g√ºncellendi!")},[i,c]),$=a.useMemo(()=>r?.type==="room"?r.server_id:null,[r?.type,r?.server_id]);return o.jsxs(o.Fragment,{children:[t.reactionAnalytics&&r?.type==="room"&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Wc,{fetchWithAuth:n,apiBaseUrl:Q,roomSlug:r.slug,onClose:f})}),t.linkClickTracking&&r?.type==="room"&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Yc,{fetchWithAuth:n,apiBaseUrl:Q,roomSlug:r.slug,onClose:m})}),t.joinLeaveLogs&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Uc,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,onClose:h})}),t.userActivity&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(od,{fetchWithAuth:n,apiBaseUrl:Q,username:s,onClose:g})}),t.nicknameHistory&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Kc,{fetchWithAuth:n,apiBaseUrl:Q,username:s,onClose:y})}),t.fieldChangeTracking&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Vc,{fetchWithAuth:n,apiBaseUrl:Q,onClose:b})}),t.inviteAnalytics&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Bc,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,onClose:_})}),t.contentScanner&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Oc,{fetchWithAuth:n,apiBaseUrl:Q,onClose:k})}),t.ephemeralMessages&&r?.type==="room"&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(zc,{fetchWithAuth:n,apiBaseUrl:Q,roomSlug:r.slug,onClose:x})}),t.topicHistory&&r?.type==="room"&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(nd,{fetchWithAuth:n,apiBaseUrl:Q,roomSlug:r.slug,onClose:w})}),t.drafts&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Rc,{fetchWithAuth:n,apiBaseUrl:Q,onClose:L,onLoadDraft:X})}),t.serverNicknames&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ed,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,onClose:P})}),t.serverBoost&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Xc,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,currentUsername:s,onClose:A})}),t.roomWebhooks&&r?.type==="room"&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Qc,{fetchWithAuth:n,apiBaseUrl:Q,roomSlug:r.slug,onClose:B})}),t.oAuthApps&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(qc,{fetchWithAuth:n,apiBaseUrl:Q,onClose:S})}),t.autoResponders&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Lc,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,onClose:j})}),t.sessionManagement&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(td,{fetchWithAuth:n,apiBaseUrl:Q,onClose:E})}),t.gDPRExport&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Mc,{fetchWithAuth:n,apiBaseUrl:Q,onClose:R})}),t.dataRetention&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Dc,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,onClose:N})}),t.twoFactorSetup&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(rd,{fetchWithAuth:n,apiBaseUrl:Q,onClose:V,onSuccess:z})}),t.enhancedPolls&&r?.type==="room"&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Ac,{fetchWithAuth:n,apiBaseUrl:Q,roomSlug:r.slug,onClose:T})}),t.voiceTranscripts&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(sd,{fetchWithAuth:n,apiBaseUrl:Q,onClose:v})}),t.inviteExport&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Fc,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,onClose:I})}),t.advancedSearch&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(jc,{fetchWithAuth:n,apiBaseUrl:Q,onClose:C,onMessageClick:Y})}),t.growthMetrics&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx($c,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,onClose:M})}),t.linkPreview&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Gc,{fetchWithAuth:n,apiBaseUrl:Q,url:null,onClose:G})}),t.inventory&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Nc,{fetchWithAuth:n,apiBaseUrl:Q,onClose:W})}),t.waitlist&&r?.type==="room"&&r.server_id&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ad,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,onClose:ne})}),t.referralRewards&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Zc,{fetchWithAuth:n,apiBaseUrl:Q,onClose:U})}),t.miniGames&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"üéÆ Oyunlar Y√ºkleniyor..."}),children:o.jsx(Hc,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,currentUser:s,onClose:J})}),t.projectCollaboration&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"üìÇ Projeler Y√ºkleniyor..."}),children:o.jsx(Jc,{fetchWithAuth:n,apiBaseUrl:Q,serverId:$,currentUser:s,onClose:le})}),t.avatarStudio&&o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"üé® Avatar Studio Y√ºkleniyor..."}),children:o.jsx(Ic,{fetchWithAuth:n,apiBaseUrl:Q,currentUser:s,onClose:ee,onAvatarChange:H})})]})},"AppModalsBatch1to8"),ld=u.memo(id),cd=u.lazy(()=>p(()=>import("./AccountDeletionModal-C2RXUZW_.js"),__vite__mapDeps([89,1,4,3,5,6,0,7]))),dd=u.lazy(()=>p(()=>import("./AchievementsPanel-CMWT-hVD.js"),__vite__mapDeps([90,1,3,5,6,0,4,7,91]))),ud=u.lazy(()=>p(()=>import("./AppearanceSettingsPanel-CpE-v5Jb.js"),__vite__mapDeps([92,1,7,3,5,6,0,4,93]))),pd=u.lazy(()=>p(()=>import("./AutoRolesPanel-DqpptgC9.js"),__vite__mapDeps([94,1,7,3,5,6,0,4,95]))),fd=u.lazy(()=>p(()=>import("./BanAppealsPanel-F-_a7pwa.js"),__vite__mapDeps([96,1,4,97]))),md=u.lazy(()=>p(()=>import("./BirthdaySystemPanel-xd0JwI9F.js"),__vite__mapDeps([98,1,7,3,5,6,0,4,99]))),gd=u.lazy(()=>p(()=>import("./BlockListPanel-SAjTCJ-w.js"),__vite__mapDeps([100,1,7,3,5,6,0,4,101]))),hd=u.lazy(()=>p(()=>import("./BotMarketplace-Bs-LrLuB.js"),__vite__mapDeps([102,1,3,5,6,0,4,7,103]))),yd=u.lazy(()=>p(()=>import("./ChangelogPanel-COWNSwEF.js"),__vite__mapDeps([104,1,4,105]))),_d=u.lazy(()=>p(()=>import("./CommandPalette-N2RrOAbm.js"),__vite__mapDeps([106,1,4,3,5,6,0,7,107]))),bd=u.lazy(()=>p(()=>import("./CustomCommandsPanel-BGL92LJs.js"),__vite__mapDeps([108,1,7,3,5,6,0,4,109]))),xd=u.lazy(()=>p(()=>import("./CustomEmbedPanel-DYx5TjY-.js"),__vite__mapDeps([110,1,7,3,5,6,0,4,111]))),vd=u.lazy(()=>p(()=>import("./E2EESettingsPanel-GPqXbJz6.js"),__vite__mapDeps([112,3,1,4,5,6,0,7]))),kd=u.lazy(()=>p(()=>import("./EventCalendar-DdfsQmTq.js"),__vite__mapDeps([113,1,4]))),Sd=u.lazy(()=>p(()=>import("./ForumPanel-BPBXNo75.js"),__vite__mapDeps([114,1,3,5,6,0,4,7,115]))),wd=u.lazy(()=>p(()=>import("./GiveawayPanel-BWaZBrpu.js"),__vite__mapDeps([116,1,7,3,5,6,0,4,117]))),Ed=u.lazy(()=>p(()=>import("./HighlightsPanel-5tQQRSpV.js"),__vite__mapDeps([118,1,7,119,3,5,6,0,4,120]))),Cd=u.lazy(()=>p(()=>import("./IntegrationHubPanel-UkTARtOc.js"),__vite__mapDeps([121,1,4,7,3,5,6,0,122]))),Td=u.lazy(()=>p(()=>import("./KeyboardShortcutsModal-Co3eaQv3.js"),__vite__mapDeps([123,1,4,3,5,6,0,7]))),Pd=u.lazy(()=>p(()=>import("./LanguageSelector-25eZx86Y.js"),__vite__mapDeps([124,1,0,3,5,6,4,7,125]))),jd=u.lazy(()=>p(()=>import("./LevelingSystemPanel-mh_QUatO.js"),__vite__mapDeps([126,1,7,3,5,6,0,4,127]))),Ld=u.lazy(()=>p(()=>import("./LiveStreamPanel-EekOlSCh.js"),__vite__mapDeps([128,1,4]))),Id=u.lazy(()=>p(()=>import("./LoginHistory-pKVUo3Ey.js"),__vite__mapDeps([129,1,4]))),Od=u.lazy(()=>p(()=>import("./LogoutModal-DCH4WVXS.js"),__vite__mapDeps([14,1,3,5,6,0,4,7,15]))),Dd=u.lazy(()=>p(()=>import("./MessageSearchPanel-bNYQ_5Rv.js"),__vite__mapDeps([130,1,4,3,5,6,0,7,131]))),Rd=u.lazy(()=>p(()=>import("./MusicPlayer-DU00uOZi.js"),__vite__mapDeps([132,1,4,3,5,6,0,7,133]))),Ad=u.lazy(()=>p(()=>import("./NotificationSoundSettings-CBTuhWFj.js"),__vite__mapDeps([134,1,4]))),zd=u.lazy(()=>p(()=>import("./PremiumModal-T90lKGYw.js"),__vite__mapDeps([135,1,3,5,6,0,4,7]))),Vd=u.lazy(()=>p(()=>import("./PrivacySettingsPanel-Cf_AwFjC.js"),__vite__mapDeps([136,1,7,3,5,6,0,4,137]))),Md=u.lazy(()=>p(()=>import("./ProfileCustomization-Dec4zVFL.js"),__vite__mapDeps([138,1,4,3,5,6,0,7]))),$d=u.lazy(()=>p(()=>import("./QuickSwitcher-DhXYmfyv.js"),__vite__mapDeps([139,1,4,140]))),Nd=u.lazy(()=>p(()=>import("./ReactionRolesPanel-BnfCd67V.js"),__vite__mapDeps([141,1,7,3,5,6,0,4,142]))),Bd=u.lazy(()=>p(()=>import("./ReminderPanel-9r6jnJy9.js"),__vite__mapDeps([143,1,7,3,5,6,0,4,144]))),Fd=u.lazy(()=>p(()=>import("./ScheduledMessagesPanel-BDg6OnTs.js"),__vite__mapDeps([145,1,3,5,6,0,4,7,146]))),Ud=u.lazy(()=>p(()=>import("./SecuritySettingsPanel-ChFF9yt4.js"),__vite__mapDeps([147,1,7,3,5,6,0,4,148]))),Yd=u.lazy(()=>p(()=>import("./ServerBackupPanel-f4OMXY1X.js"),__vite__mapDeps([149,1,7,3,5,6,0,4,150]))),Gd=u.lazy(()=>p(()=>import("./ServerClonePanel-lKtiFvj3.js"),__vite__mapDeps([151,1,4,3,5,6,0,7,152]))),Hd=u.lazy(()=>p(()=>import("./ServerDiscoveryPage-hRV_NZb5.js"),__vite__mapDeps([153,1,3,5,6,0,4,7,154]))),Kd=u.lazy(()=>p(()=>import("./SpotifyIntegrationPanel-BNonapWv.js"),__vite__mapDeps([155,1,4,156]))),qd=u.lazy(()=>p(()=>import("./StageChannelPanel-Bvcchbtt.js"),__vite__mapDeps([157,1,3,5,6,0,4,7,158]))),Jd=u.lazy(()=>p(()=>import("./StarboardPanel-CjuwTCHE.js"),__vite__mapDeps([159,1,7,3,5,6,0,4,160]))),Wd=u.lazy(()=>p(()=>import("./ThreadView-BN3vLtRh.js"),__vite__mapDeps([161,1,4]))),Zd=u.lazy(()=>p(()=>import("./TicketSystemPanel-BFPljwjT.js"),__vite__mapDeps([162,1,7,3,5,6,0,4,163]))),Qd=u.lazy(()=>p(()=>import("./TournamentSystem-D8bJs5-E.js"),__vite__mapDeps([164,1,4,3,5,6,0,7]))),Xd=u.lazy(()=>p(()=>import("./UserSettingsModal-D2yRg-z5.js"),__vite__mapDeps([165,1,4,3,5,6,0,7]))),eu=u.lazy(()=>p(()=>import("./VideoCallModal-aviGWNb2.js"),__vite__mapDeps([166,1,4,3,5,6,0,7]))),tu=u.lazy(()=>p(()=>import("./VoiceSettingsPanel-fscgbccP.js"),__vite__mapDeps([167,1,4,7,3,5,6,0,168]))),nu=u.lazy(()=>p(()=>import("./index-_vS18Uc0.js"),__vite__mapDeps([169,1,4,3,5,6,0,7,170]))),ru=u.lazy(()=>p(()=>import("./WeeklyChallengesPanel-diIhSVYD.js"),__vite__mapDeps([171,1,4]))),ou=u.lazy(()=>p(()=>import("./WelcomeMessagesPanel-Wg88LCPP.js"),__vite__mapDeps([172,1,7,3,5,6,0,4,173]))),ze=l(t=>t.activeChat?.type==="room"&&t.activeChat?.server_id,"isServer"),fe=l(t=>({fetchWithAuth:t.fetchWithAuth,apiBaseUrl:Q}),"api$2"),su=[{key:"userSettings",C:Xd,fb:"‚öôÔ∏è Ayarlar Y√ºkleniyor...",props:l(t=>({...fe(t),currentUser:t.currentUserProfile,username:t.username,onOpenAppearance:l(()=>t.openModal("appearanceSettings"),"onOpenAppearance"),onOpenPrivacy:l(()=>t.openModal("privacySettings"),"onOpenPrivacy"),onOpenSecurity:l(()=>t.openModal("securitySettings"),"onOpenSecurity"),onOpenNotifications:l(()=>t.openModal("notificationSounds"),"onOpenNotifications"),onOpenConnections:l(()=>t.openModal("connectionsPanel"),"onOpenConnections"),onOpenLanguage:l(()=>t.openModal("languageSelector"),"onOpenLanguage"),onLogout:l(()=>t.openModal("logoutConfirm"),"onLogout")}),"props")},{key:"keyboardShortcuts",C:Td},{key:"commandPalette",C:_d,props:l(t=>({categories:t.categories,conversations:t.conversations,allUsers:t.allUsers,onNavigate:l(e=>{e.type==="room"?t.setActiveChat({type:"room",slug:e.slug}):e.type==="dm"&&t.setActiveChat({type:"dm",id:e.id}),t.closeModal("commandPalette")},"onNavigate")}),"props")},{key:"serverDiscovery",C:Hd,fb:"üåç Sunucu Ke≈üfet Y√ºkleniyor...",props:l(t=>({...fe(t),currentUsername:t.username,onJoinServer:l(e=>{Tr.success(`${e.name} sunucusuna katƒ±ldƒ±n!`),t.closeModal("serverDiscovery")},"onJoinServer")}),"props")},{key:"appearanceSettings",C:ud,props:l(t=>({currentTheme:t.currentTheme,onThemeChange:t.setCurrentTheme}),"props")},{key:"languageSelector",C:Pd},{key:"changelog",C:yd,props:fe},{key:"logoutConfirm",C:Od,props:l(t=>({onConfirm:l(()=>{t.logout(),t.closeModal("logoutConfirm")},"onConfirm")}),"props")},{key:"notificationSounds",C:Ad,props:l(t=>({soundSettings:t.soundSettings,onUpdateSettings:t.setSoundSettings}),"props")},{key:"quickSwitcher",C:$d,props:l(t=>({categories:t.categories,conversations:t.conversations,onSelect:l(e=>{e.type==="room"?t.setActiveChat({type:"room",slug:e.slug}):e.type==="dm"&&t.setActiveChat({type:"dm",id:e.id}),t.closeModal("quickSwitcher")},"onSelect")}),"props")},{key:"loginHistory",C:Id,props:fe},{key:"securitySettings",C:Ud,props:l(t=>({...fe(t),username:t.username,onOpen2FA:l(()=>t.openModal("twoFactorSetup"),"onOpen2FA"),onOpenLoginHistory:l(()=>t.openModal("loginHistory"),"onOpenLoginHistory")}),"props")},{key:"privacySettings",C:Vd,props:l(t=>({...fe(t),username:t.username,onOpenBlockList:l(()=>t.openModal("blockList"),"onOpenBlockList")}),"props")},{key:"accountDeletion",C:cd,props:l(t=>({...fe(t),username:t.username,onConfirm:l(()=>{t.logout(),t.closeModal("accountDeletion")},"onConfirm")}),"props")},{key:"blockList",C:gd,props:fe},{key:"e2EESettings",C:vd,props:l(t=>({...fe(t),encryptionKeys:t.encryptionKeys}),"props")},{key:"threadView",C:Wd,props:l(t=>({...fe(t),roomSlug:t.activeChat?.slug}),"props")},{key:"scheduledMessages",C:Fd,props:l(t=>({...fe(t),username:t.username}),"props")},{key:"reminders",C:Bd,props:l(t=>({...fe(t),username:t.username}),"props")},{key:"forum",C:Sd,fb:"üìã Forum Y√ºkleniyor...",cond:ze,props:l(t=>({...fe(t),roomSlug:t.activeChat.slug,serverId:t.activeChat.server_id,currentUser:t.username}),"props")},{key:"stageChannel",C:qd,fb:"üé§ Sahne Y√ºkleniyor...",props:l(t=>({...fe(t),roomSlug:t.activeChat?.slug,currentUser:t.username}),"props")},{key:"videoCall",C:eu,fb:"üìπ Video Arama Y√ºkleniyor...",props:l(t=>({...fe(t),currentUser:t.username,targetUser:t.activeChat?.type==="dm"?t.activeChat.name:null}),"props")},{key:"voiceSettings",C:tu,props:l(t=>({isMuted:t.isMuted,isDeafened:t.isDeafened,onToggleMute:t.toggleMute,onToggleDeafened:t.toggleDeafened}),"props")},{key:"messageSearch",C:Dd,props:l(t=>({...fe(t),roomSlug:t.activeChat?.slug,onMessageClick:l(e=>{e.room&&t.setActiveChat({type:"room",slug:e.room}),t.closeModal("messageSearch")},"onMessageClick")}),"props")},{key:"watchTogether",C:nu,fb:"üé¨ Birlikte ƒ∞zle Y√ºkleniyor...",props:l(t=>({...fe(t),roomSlug:t.activeChat?.slug,currentUser:t.username}),"props")},{key:"autoRoles",C:pd,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"reactionRoles",C:Nd,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"welcomeMessages",C:ou,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"eventCalendar",C:kd,fb:"üìÖ Etkinlikler Y√ºkleniyor...",cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id,currentUser:t.username}),"props")},{key:"giveaway",C:wd,fb:"üéâ √áekili≈ü Y√ºkleniyor...",cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id,currentUser:t.username}),"props")},{key:"ticketSystem",C:Zd,fb:"üé´ Destek Sistemi Y√ºkleniyor...",cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id,currentUser:t.username}),"props")},{key:"starboard",C:Jd,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"serverBackup",C:Yd,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"banAppeals",C:fd,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"customCommands",C:bd,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"levelingSystem",C:jd,fb:"üìä Seviye Sistemi Y√ºkleniyor...",cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id,currentUser:t.username}),"props")},{key:"liveStream",C:Ld,fb:"üì∫ Canlƒ± Yayƒ±n Y√ºkleniyor...",props:l(t=>({...fe(t),roomSlug:t.activeChat?.slug,currentUser:t.username}),"props")},{key:"achievements",C:dd,fb:"üèÜ Ba≈üarƒ±mlar Y√ºkleniyor...",props:l(t=>({...fe(t),username:t.username}),"props")},{key:"birthdaySystem",C:md,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"premium",C:zd,fb:"üíé Premium Y√ºkleniyor...",props:l(t=>({...fe(t),username:t.username}),"props")},{key:"musicPlayer",C:Rd,fb:"üéµ M√ºzik Y√ºkleniyor...",props:l(t=>({...fe(t),roomSlug:t.activeChat?.slug}),"props")},{key:"botMarketplace",C:hd,fb:"ü§ñ Bot Maƒüazasƒ± Y√ºkleniyor...",props:l(t=>({...fe(t),serverId:t.activeChat?.server_id}),"props")},{key:"profileCustomization",C:Md,props:l(t=>({...fe(t),currentUser:t.currentUserProfile,onProfileUpdate:l(e=>t.setCurrentUserProfile(e),"onProfileUpdate")}),"props")},{key:"integrationHub",C:Cd,fb:"üîó Entegrasyonlar Y√ºkleniyor...",props:fe},{key:"tournaments",C:Qd,fb:"üèÜ Turnuvalar Y√ºkleniyor...",cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id,currentUser:t.username}),"props")},{key:"highlights",C:Ed,props:fe},{key:"customEmbed",C:xd,props:l(t=>({...fe(t),roomSlug:t.activeChat?.slug}),"props")},{key:"spotifyIntegration",C:Kd,fb:"üéµ Spotify Y√ºkleniyor...",props:fe},{key:"serverClone",C:Gd,cond:ze,props:l(t=>({...fe(t),serverId:t.activeChat.server_id}),"props")},{key:"weeklyChallenges",C:ru,fb:"üéØ Haftalƒ±k G√∂revler Y√ºkleniyor...",props:l(t=>({...fe(t),username:t.username}),"props")}],au=l(t=>{const{modals:e,closeModal:n}=t;return o.jsx(o.Fragment,{children:su.map(({key:r,C:s,fb:i,cond:c,props:d})=>!e[r]||c&&!c(t)?null:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:i||"Y√ºkleniyor..."}),children:o.jsx(s,{onClose:l(()=>n(r),"onClose"),...d?d(t):{}})},r))})},"AppModalsBatch10"),iu=l((t,e)=>{const n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return`rgba(${n},${r},${s},${e})`},"hexToRgba"),lu=l(t=>iu(t,.2),"getHoverBg"),is=[{title:"‚öôÔ∏è Genel Ayarlar",color:"#7289da",items:[{icon:"‚öôÔ∏è",label:"Kullanƒ±cƒ± Ayarlarƒ±",modal:"userSettings"},{icon:"‚å®Ô∏è",label:"Kƒ±sayol Tu≈ülarƒ±",modal:"keyboardShortcuts"},{icon:"üîç",label:"Komut Paleti",modal:"commandPalette"},{icon:"üåç",label:"Sunucu Ke≈üfet",modal:"serverDiscovery"},{icon:"üé®",label:"G√∂r√ºn√ºm",modal:"appearanceSettings"},{icon:"üåê",label:"Dil Se√ßimi",modal:"languageSelector"},{icon:"üìã",label:"Deƒüi≈üiklik G√ºnl√ºƒü√º",modal:"changelog"},{icon:"üîä",label:"Bildirim Sesleri",modal:"notificationSounds"},{icon:"‚ö°",label:"Hƒ±zlƒ± Ge√ßi≈ü",modal:"quickSwitcher"},{icon:"üö™",label:"√áƒ±kƒ±≈ü Yap",modal:"logoutConfirm"}]},{title:"üîê G√ºvenlik & Gizlilik",color:"#ed4245",items:[{icon:"üîê",label:"Giri≈ü Ge√ßmi≈üi",modal:"loginHistory"},{icon:"üõ°Ô∏è",label:"G√ºvenlik Ayarlarƒ±",modal:"securitySettings"},{icon:"üîí",label:"Gizlilik Ayarlarƒ±",modal:"privacySettings"},{icon:"üö´",label:"Engel Listesi",modal:"blockList"},{icon:"üîê",label:"E2E ≈ûifreleme",modal:"e2EESettings"},{icon:"‚ùå",label:"Hesap Silme",modal:"accountDeletion"}]},{title:"üí¨ ƒ∞leti≈üim",color:"#3ba55d",items:[{icon:"üí¨",label:"Mesaj Konularƒ±",modal:"threadView"},{icon:"‚è∞",label:"Zamanlanmƒ±≈ü Mesajlar",modal:"scheduledMessages"},{icon:"‚è∞",label:"Hatƒ±rlatƒ±cƒ±lar",modal:"reminders"},{icon:"üìã",label:"Forum",modal:"forum"},{icon:"üé§",label:"Sahne Kanalƒ±",modal:"stageChannel"},{icon:"üìπ",label:"G√∂r√ºnt√ºl√º Arama",modal:"videoCall"},{icon:"üéôÔ∏è",label:"Ses Ayarlarƒ±",modal:"voiceSettings"},{icon:"üîç",label:"Mesaj Arama",modal:"messageSearch"},{icon:"üé¨",label:"Birlikte ƒ∞zle",modal:"watchTogether"}]},{title:"üè† Sunucu Y√∂netimi",color:"#faa61a",items:[{icon:"ü§ñ",label:"Otomatik Roller",modal:"autoRoles"},{icon:"üé≠",label:"Tepki Rolleri",modal:"reactionRoles"},{icon:"üëã",label:"Ho≈ü Geldin Mesajlarƒ±",modal:"welcomeMessages"},{icon:"üìÖ",label:"Etkinlik Takvimi",modal:"eventCalendar"},{icon:"üéâ",label:"√áekili≈ü",modal:"giveaway"},{icon:"üé´",label:"Destek Sistemi",modal:"ticketSystem"},{icon:"‚≠ê",label:"Yƒ±ldƒ±z Panosu",modal:"starboard"},{icon:"üíæ",label:"Sunucu Yedekleme",modal:"serverBackup"},{icon:"‚öñÔ∏è",label:"Ban ƒ∞tirazlarƒ±",modal:"banAppeals"},{icon:"ü§ñ",label:"√ñzel Komutlar",modal:"customCommands"},{icon:"üìä",label:"Seviye Sistemi",modal:"levelingSystem"},{icon:"üì∫",label:"Canlƒ± Yayƒ±n",modal:"liveStream"}]},{title:"üéÆ Eƒülence & Sosyal",color:"#9b59b6",items:[{icon:"üèÜ",label:"Ba≈üarƒ±mlar",modal:"achievements"},{icon:"üéÇ",label:"Doƒüum G√ºnleri",modal:"birthdaySystem"},{icon:"üíé",label:"Premium",modal:"premium"},{icon:"üéµ",label:"M√ºzik √áalar",modal:"musicPlayer"},{icon:"ü§ñ",label:"Bot Maƒüazasƒ±",modal:"botMarketplace"},{icon:"üë§",label:"Profil √ñzelle≈ütir",modal:"profileCustomization"},{icon:"üîó",label:"Entegrasyonlar",modal:"integrationHub"},{icon:"üèÜ",label:"Turnuvalar",modal:"tournaments"}]},{title:"üîß Geli≈ümi≈ü",color:"#e67e22",items:[{icon:"üí°",label:"√ñne √áƒ±kanlar",modal:"highlights"},{icon:"üì¶",label:"√ñzel Embed",modal:"customEmbed"},{icon:"üéµ",label:"Spotify Baƒülantƒ±sƒ±",modal:"spotifyIntegration"},{icon:"üìã",label:"Sunucu Klonla",modal:"serverClone"},{icon:"üéØ",label:"Haftalƒ±k G√∂revler",modal:"weeklyChallenges"},{icon:"ü§ñ",label:"AI Chatbot",modal:"aIChatbot"},{icon:"üë®‚Äçüíª",label:"Kod Edit√∂r√º",modal:"codeEditor"},{icon:"üñ•Ô∏è",label:"Ekran Payla≈üƒ±mƒ±",modal:"screenShare"},{icon:"üì∫",label:"Canlƒ± Yayƒ±n",modal:"liveStreamModal"},{icon:"üìà",label:"Geli≈ümi≈ü Analitik",modal:"advancedAnalytics"},{icon:"üìÅ",label:"Dosya Y√∂neticisi",modal:"fileManager"},{icon:"üìä",label:"Raporlar",modal:"reports"},{icon:"üêõ",label:"Hata Raporlama",modal:"errorReporting"}]},{title:"üî∞ Moderasyon & Y√∂netim",color:"#e74c3c",items:[{icon:"üõ°Ô∏è",label:"Moderasyon Ara√ßlarƒ±",modal:"moderatorTools"},{icon:"ü§ñ",label:"AI Moderasyon",modal:"aIModeration"},{icon:"üö´",label:"Spam Korumasƒ±",modal:"spamDetection"},{icon:"üìã",label:"Denetim Kayƒ±tlarƒ±",modal:"auditLogs"},{icon:"‚õî",label:"Ban Ge√ßmi≈üi",modal:"banHistory"},{icon:"üìú",label:"Moderasyon Loglarƒ±",modal:"moderationLogs"},{icon:"üõ°Ô∏è",label:"Baskƒ±n Korumasƒ±",modal:"raidProtection"},{icon:"üö®",label:"G√ºvenlik Uyarƒ±larƒ±",modal:"securityAlerts"}]},{title:"üí¨ Mesajla≈üma & Medya",color:"#1abc9c",items:[{icon:"üîñ",label:"Yer ƒ∞mleri",modal:"bookmarks"},{icon:"üéûÔ∏è",label:"GIF Se√ßici",modal:"gIFPicker"},{icon:"üìä",label:"Anket Olu≈ütur",modal:"pollCreator"},{icon:"üé®",label:"√áƒ±kartmalar",modal:"stickers"},{icon:"üíæ",label:"Kayƒ±tlƒ± Mesajlar",modal:"savedMessages"},{icon:"üîî",label:"Bildirim Merkezi",modal:"notificationsCenter"},{icon:"üìù",label:"Mesaj √ñzeti",modal:"messageSummary"},{icon:"üåç",label:"√áeviri Paneli",modal:"translation"}]},{title:"üè† Sunucu Y√∂netimi (Geni≈ületilmi≈ü)",color:"#2ecc71",items:[{icon:"‚öôÔ∏è",label:"Kanal Ayarlarƒ±",modal:"channelSettings"},{icon:"üì®",label:"Davet Y√∂netimi",modal:"inviteModal"},{icon:"üìã",label:"Sunucu ≈ûablonlarƒ±",modal:"serverTemplates"},{icon:"üìä",label:"Sunucu Analitiƒüi",modal:"serverAnalytics"},{icon:"üëë",label:"Rol Y√∂neticisi",modal:"rolesManager"},{icon:"üëã",label:"Kar≈üƒ±lama Ekranƒ±",modal:"welcomeScreenEditor"},{icon:"üèòÔ∏è",label:"Topluluk Ayarlarƒ±",modal:"communitySettings"},{icon:"üîó",label:"Davet Linkleri",modal:"inviteLinkManager"}]},{title:"ü§ñ Bot & Geli≈ütirici",color:"#3498db",items:[{icon:"ü§ñ",label:"Bot Olu≈üturucu",modal:"botBuilder"},{icon:"üßë‚Äçüíª",label:"Geli≈ütirici Portalƒ±",modal:"botDevPortal"},{icon:"üîó",label:"Webhook Y√∂neticisi",modal:"webhookManager"},{icon:"üîë",label:"API Anahtarlarƒ±",modal:"aPIKeys"},{icon:"‚ö°",label:"Slash Komutlarƒ±",modal:"slashCommands"},{icon:"üíª",label:"Kod √áalƒ±≈ütƒ±rƒ±cƒ±",modal:"codeRunner"}]},{title:"üë§ Profil & Sosyal",color:"#e91e63",items:[{icon:"üë§",label:"Profil Kartƒ±",modal:"profileCard"},{icon:"üìù",label:"Kullanƒ±cƒ± Notlarƒ±",modal:"userNotes"},{icon:"üü¢",label:"Durum Se√ßici",modal:"statusPicker"},{icon:"üë•",label:"Ortak Arkada≈ülar",modal:"mutuals"},{icon:"üèÖ",label:"Profil Vitrini",modal:"profileShowcase"},{icon:"üì±",label:"Oturum Y√∂neticisi",modal:"sessionManager"}]},{title:"üíé Premium & Ekonomi",color:"#f1c40f",items:[{icon:"ü™ô",label:"Coin Maƒüazasƒ±",modal:"coinStore"},{icon:"üíé",label:"Premium Y√∂netimi",modal:"premiumManagement"},{icon:"üìã",label:"Abonelik Y√∂netimi",modal:"subscriptionManager"},{icon:"üéÅ",label:"Premium Hediye Et",modal:"giftPremium"},{icon:"üõí",label:"Premium Maƒüazasƒ±",modal:"premiumMarketplace"},{icon:"üé®",label:"Tema Maƒüazasƒ±",modal:"themeMarketplace"}]}];function ta({onClose:t,isOpen:e=!0,label:n=""}){const r=a.useRef(null),s=a.useRef(null);a.useEffect(()=>{if(!e)return;s.current=document.activeElement;const f=r.current;if(!f)return;const m=setTimeout(()=>{const g=f.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');g.length>0?g[0].focus():(f.setAttribute("tabindex","-1"),f.focus())},50),h=l(g=>{if(g.key==="Escape"){g.stopPropagation(),t?.();return}if(g.key==="Tab"){const y=f.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');if(y.length===0)return;const b=y[0],_=y[y.length-1];g.shiftKey?document.activeElement===b&&(_.focus(),g.preventDefault()):document.activeElement===_&&(b.focus(),g.preventDefault())}},"handleKeyDown");return document.addEventListener("keydown",h,!0),()=>{clearTimeout(m),document.removeEventListener("keydown",h,!0),s.current&&typeof s.current.focus=="function"&&s.current.focus()}},[e,t]);const c={role:"presentation",onClick:a.useCallback(f=>{f.target===f.currentTarget&&t?.()},[t])},d={ref:r,role:"dialog","aria-modal":!0,...n?{"aria-label":n}:{},onClick:l(f=>f.stopPropagation(),"onClick")};return{modalRef:r,overlayProps:c,dialogProps:d}}l(ta,"useModalA11y");const lt={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(8px)"},container:{backgroundColor:"#2f3136",borderRadius:"16px",width:"90%",maxWidth:"900px",maxHeight:"85vh",overflow:"auto",padding:"32px",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.1)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},title:{margin:0,fontSize:"1.5em",color:"#fff"},closeBtn:{background:"none",border:"none",color:"#b9bbbe",fontSize:"1.5em",cursor:"pointer"},section:{marginBottom:"20px"},sectionTitle:l(t=>({color:t,fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"}),"sectionTitle"),grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},button:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},buttonIcon:{fontSize:"16px"}},cu=l(()=>{const{openModal:t,closeModal:e}=Wr(),n=l(()=>e("featureHub"),"onClose"),{overlayProps:r,dialogProps:s}=ta({onClose:n,isOpen:!0,label:"Feature Hub"}),i=l(c=>{t(c),e("featureHub")},"handleSelect");return o.jsx("div",{style:lt.overlay,...r,children:o.jsxs("div",{style:lt.container,...s,children:[o.jsxs("div",{style:lt.header,children:[o.jsxs("h2",{style:lt.title,children:["üöÄ"," T√ºm √ñzellikler"]}),o.jsx("button",{onClick:l(()=>e("featureHub"),"onClick"),style:lt.closeBtn,children:"‚úï"})]}),is.map((c,d)=>o.jsxs("div",{style:d<is.length-1?lt.section:void 0,children:[o.jsx("h3",{style:lt.sectionTitle(c.color),children:c.title}),o.jsx("div",{style:lt.grid,children:c.items.map((f,m)=>o.jsxs("button",{onClick:l(()=>i(f.modal),"onClick"),style:lt.button,onMouseEnter:l(h=>{h.currentTarget.style.backgroundColor=lu(c.color),h.currentTarget.style.borderColor=c.color},"onMouseEnter"),onMouseLeave:l(h=>{h.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",h.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},"onMouseLeave"),children:[o.jsx("span",{style:lt.buttonIcon,children:f.icon}),o.jsx("span",{children:f.label})]},m))})]},d))]})})},"FeatureHubModal"),du=u.lazy(()=>p(()=>import("./AIChatbotPanel-C3NO429t.js"),__vite__mapDeps([174,1,4,3,5,6,0,7,175]))),uu=u.lazy(()=>p(()=>import("./AIModerationPanel-DIZJfL7a.js"),__vite__mapDeps([176,1,4,16,3,5,6,0,7]))),pu=u.lazy(()=>p(()=>import("./APIKeysPanel-Bny4iDBp.js"),__vite__mapDeps([177,1,4,3,5,6,0,7]))),fu=u.lazy(()=>p(()=>import("./AdvancedAnalyticsDashboard-BzQgo2B3.js"),__vite__mapDeps([178,1,4,3,5,6,0,7,179]))),mu=u.lazy(()=>p(()=>import("./AuditLogsPanel-BAbzr-_D.js"),__vite__mapDeps([180,1,7,3,5,6,0,4,181]))),gu=u.lazy(()=>p(()=>import("./BanHistoryPanel-BucIk3QN.js"),__vite__mapDeps([182,1,4,7,183]))),hu=u.lazy(()=>p(()=>import("./BotBuilder-CPcMPqi4.js"),__vite__mapDeps([184,1,4,16,3,5,6,0,7]))),yu=u.lazy(()=>p(()=>import("./BotDeveloperPortal-D6avPpeq.js"),__vite__mapDeps([185,1,4,3,5,6,0,7,186]))),_u=u.lazy(()=>p(()=>import("./ChannelSettingsModal-BM-rgWzo.js"),__vite__mapDeps([187,1,4,3,5,6,0,7]))),bu=u.lazy(()=>p(()=>import("./CodeRunnerPanel-DtHoevtu.js"),__vite__mapDeps([188,1,4,7,189]))),xu=u.lazy(()=>p(()=>import("./CoinStoreModal-BypqoFDx.js"),__vite__mapDeps([42,1,4,3,5,6,0,7]))),vu=u.lazy(()=>p(()=>import("./CollaborativeCodeEditor-Bx91Pjdp.js"),__vite__mapDeps([190,1,4,3,5,6,0,7]))),ku=u.lazy(()=>p(()=>import("./CommunitySettingsPanel-Cql0vV_f.js"),__vite__mapDeps([191,1,4,3,5,6,0,7,192]))),Su=u.lazy(()=>p(()=>import("./ErrorReportingPanel-Cso5jjuc.js"),__vite__mapDeps([193,1,3,5,6,0,4,7,194]))),wu=u.lazy(()=>p(()=>import("./FileManagerPanel-dpPzm-ZZ.js"),__vite__mapDeps([195,1,4]))),Eu=u.lazy(()=>p(()=>import("./GIFPickerPanel-lkC6rxIn.js"),__vite__mapDeps([196,1,4,197]))),Cu=u.lazy(()=>p(()=>import("./GiftPremiumPanel-CJgyafIL.js"),__vite__mapDeps([198,1,4,199]))),Tu=u.lazy(()=>p(()=>import("./InviteLinkManager-DuBdN0SS.js"),__vite__mapDeps([200,1,4]))),Pu=u.lazy(()=>p(()=>import("./InviteModal-CLS7qLjW.js"),__vite__mapDeps([201,1,4,3,5,6,0,7]))),ju=u.lazy(()=>p(()=>import("./LiveStreamModal-BOSNr6Fo.js"),__vite__mapDeps([202,1,4,3,5,6,0,7]))),Lu=u.lazy(()=>p(()=>import("./MessageSummaryPanel--8TciizY.js"),__vite__mapDeps([203,1,4,119,204]))),Iu=u.lazy(()=>p(()=>import("./ModerationLogsPanel-Cb_FMmH1.js"),__vite__mapDeps([205,1,4,7,3,5,6,0,206]))),Ou=u.lazy(()=>p(()=>import("./ModeratorTools-B8d-3T1g.js"),__vite__mapDeps([207,1,4,3,5,6,0,7]))),Du=u.lazy(()=>p(()=>import("./MutualsPanel-rXn75Smf.js"),__vite__mapDeps([208,1,4,7,209]))),Ru=u.lazy(()=>p(()=>import("./NotificationsCenter-Bxr28Zxe.js"),__vite__mapDeps([210,1,4,3,5,6,0,7,211]))),Au=u.lazy(()=>p(()=>import("./PollCreator-VuscpzlJ.js"),__vite__mapDeps([212,1,16,3,5,6,0,4,7]))),zu=u.lazy(()=>p(()=>import("./PremiumManagementPanel-8iEMSVl5.js"),__vite__mapDeps([213,1,7,3,5,6,0,4,214]))),Vu=u.lazy(()=>p(()=>import("./PremiumMarketplace-BnXBbT2R.js"),__vite__mapDeps([215,1,16,3,5,6,0,4,7,216]))),Mu=u.lazy(()=>p(()=>import("./ProfileCard-DMQqLZf_.js"),__vite__mapDeps([217,1,3,5,6,0,4,7,218]))),$u=u.lazy(()=>p(()=>import("./ProfileShowcasePanel-CDpEBPTB.js"),__vite__mapDeps([219,1,4,7,3,5,6,0,220]))),Nu=u.lazy(()=>p(()=>import("./ReportsPanel-DK5nv6zN.js"),__vite__mapDeps([221,1,3,5,6,0,4,7,222]))),Bu=u.lazy(()=>p(()=>import("./RolesManager-B2zXNiuh.js"),__vite__mapDeps([223,1,3,5,6,0,4,7,224]))),Fu=u.lazy(()=>p(()=>import("./SavedMessagesModal-DfV3zf5g.js"),__vite__mapDeps([225,1,4,3,5,6,0,7]))),Uu=u.lazy(()=>p(()=>import("./ScreenShareModal-CBofYumM.js"),__vite__mapDeps([226,1,4,3,5,6,0,7]))),Yu=u.lazy(()=>p(()=>import("./SecurityAlertsPanel-CMNmGOdn.js"),__vite__mapDeps([227,1,4,3,5,6,0,7,228]))),Gu=u.lazy(()=>p(()=>import("./ServerAnalyticsDashboard-CtGcLtB8.js"),__vite__mapDeps([229,1,4]))),Hu=u.lazy(()=>p(()=>import("./ServerTemplates-DeJlncJJ.js"),__vite__mapDeps([230,1,4,3,5,6,0,7,231]))),Ku=u.lazy(()=>p(()=>import("./SessionManagerModal-Ctit_ZiR.js"),__vite__mapDeps([232,1,4,3,5,6,0,7]))),qu=u.lazy(()=>p(()=>import("./SlashCommandsPanel-BTqynCbS.js"),__vite__mapDeps([233,1,4,234]))),Ju=u.lazy(()=>p(()=>import("./SpamDetectionPanel-bjVHRYf-.js"),__vite__mapDeps([235,1,4,3,5,6,0,7]))),Wu=u.lazy(()=>p(()=>import("./StatusPicker-BMY5h21H.js"),__vite__mapDeps([236,1,4]))),Zu=u.lazy(()=>p(()=>import("./StickersPanel-rdDbtWKP.js"),__vite__mapDeps([237,1,3,5,6,0,4,7,238]))),Qu=u.lazy(()=>p(()=>import("./SubscriptionManager-CxaTvCM9.js"),__vite__mapDeps([239,1,4,3,5,6,0,7]))),Xu=u.lazy(()=>p(()=>import("./ThemeMarketplace-BPnZbZLH.js"),__vite__mapDeps([240,1,16,3,5,6,0,4,7,241]))),ep=u.lazy(()=>p(()=>import("./TranslationPanel-DtOPulz4.js"),__vite__mapDeps([242,1,7,3,5,6,0,4,243]))),tp=u.lazy(()=>p(()=>import("./UserNotesModal-DiYa3Nqa.js"),__vite__mapDeps([244,1,4,3,5,6,0,7]))),np=u.lazy(()=>p(()=>import("./WebhookManager-DRQ8YAvN.js"),__vite__mapDeps([245,1,4,3,5,6,0,7]))),rp=u.lazy(()=>p(()=>import("./WelcomeScreenEditor-ddpLd9B-.js"),__vite__mapDeps([246,1,4]))),op=Q,de=l(t=>({fetchWithAuth:t.fetchWithAuth,apiBaseUrl:op}),"api$1"),sp=[{key:"moderatorTools",C:Ou,fb:"üõ°Ô∏è Moderasyon Ara√ßlarƒ± Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id,roomSlug:t.activeChat?.slug}),"props")},{key:"aIModeration",C:uu,fb:"ü§ñ AI Moderasyon Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"spamDetection",C:Ju,fb:"üö´ Spam Korumasƒ± Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"auditLogs",C:mu,fb:"üìã Denetim Kayƒ±tlarƒ± Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"banHistory",C:gu,fb:"‚õî Ban Ge√ßmi≈üi Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"moderationLogs",C:Iu,fb:"üìú Moderasyon Loglarƒ± Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"securityAlerts",C:Yu,fb:"üö® G√ºvenlik Uyarƒ±larƒ± Y√ºkleniyor...",props:de},{key:"gIFPicker",C:Eu,fb:"üéûÔ∏è GIF Se√ßici Y√ºkleniyor...",props:l(t=>({...de(t),onSelect:l(()=>{t.closeModal("gIFPicker")},"onSelect")}),"props")},{key:"pollCreator",C:Au,fb:"üìä Anket Olu≈üturucu Y√ºkleniyor...",props:l(t=>({...de(t),roomSlug:t.activeChat?.slug}),"props")},{key:"stickers",C:Zu,fb:"üé® √áƒ±kartmalar Y√ºkleniyor...",props:l(t=>({...de(t),onSelect:l(()=>{t.closeModal("stickers")},"onSelect")}),"props")},{key:"savedMessages",C:Fu,fb:"üíæ Kayƒ±tlƒ± Mesajlar Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"notificationsCenter",C:Ru,fb:"üîî Bildirimler Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"messageSummary",C:Lu,fb:"üìù √ñzet Y√ºkleniyor...",props:l(t=>({...de(t),roomSlug:t.activeChat?.slug}),"props")},{key:"translation",C:ep,fb:"üåç √áeviri Y√ºkleniyor...",props:de},{key:"channelSettings",C:_u,fb:"‚öôÔ∏è Kanal Ayarlarƒ± Y√ºkleniyor...",cond:l(t=>t.activeChat?.type==="room","cond"),props:l(t=>({...de(t),roomSlug:t.activeChat.slug,serverId:t.activeChat.server_id}),"props")},{key:"inviteModal",C:Pu,fb:"üì® Davet Y√ºkleniyor...",cond:l(t=>t.activeChat?.type==="room","cond"),props:l(t=>({fetchWithAuth:t.fetchWithAuth,apiBaseUrl:Ce,server:(()=>{for(const e of t.categories||[])for(const n of e.categories||[])if(n.rooms?.some(r=>r.slug===t.activeChat.id))return{id:e.id,name:e.name,avatar:e.avatar};return{id:t.activeChat.server_id,name:"Sunucu"}})(),currentUser:t.username}),"props")},{key:"serverTemplates",C:Hu,fb:"üìã ≈ûablonlar Y√ºkleniyor...",props:de},{key:"serverAnalytics",C:Gu,fb:"üìä Analitik Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"rolesManager",C:Bu,fb:"üëë Rol Y√∂neticisi Y√ºkleniyor...",cond:l(t=>t.activeChat?.type==="room","cond"),props:l(t=>({...de(t),serverId:t.activeChat.server_id}),"props")},{key:"welcomeScreenEditor",C:rp,fb:"üëã Kar≈üƒ±lama Ekranƒ± Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"communitySettings",C:ku,fb:"üèòÔ∏è Topluluk Ayarlarƒ± Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"inviteLinkManager",C:Tu,fb:"üîó Davet Linkleri Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"botBuilder",C:hu,fb:"ü§ñ Bot Olu≈üturucu Y√ºkleniyor...",props:de},{key:"botDevPortal",C:yu,fb:"üßë‚Äçüíª Geli≈ütirici Portalƒ± Y√ºkleniyor...",props:de},{key:"webhookManager",C:np,fb:"üîó Webhook Y√∂neticisi Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"aPIKeys",C:pu,fb:"üîë API Anahtarlarƒ± Y√ºkleniyor...",props:de},{key:"slashCommands",C:qu,fb:"‚ö° Komut Y√∂neticisi Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"codeRunner",C:bu,fb:"üíª Kod √áalƒ±≈ütƒ±rƒ±cƒ± Y√ºkleniyor...",props:de},{key:"profileCard",C:Mu,fb:"üë§ Profil Kartƒ± Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username,currentUser:t.currentUserProfile}),"props")},{key:"userNotes",C:tp,fb:"üìù Notlar Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"statusPicker",C:Wu,fb:"üü¢ Durum Se√ßici Y√ºkleniyor...",props:l(t=>({...de(t),currentUser:t.currentUserProfile}),"props")},{key:"mutuals",C:Du,fb:"üë• Ortak Arkada≈ülar Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"profileShowcase",C:$u,fb:"üèÖ Profil Vitrini Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username,currentUser:t.currentUserProfile}),"props")},{key:"sessionManager",C:Ku,fb:"üì± Oturum Y√∂neticisi Y√ºkleniyor...",props:de},{key:"coinStore",C:xu,fb:"ü™ô Maƒüaza Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"premiumManagement",C:zu,fb:"üíé Premium Y√∂netimi Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"subscriptionManager",C:Qu,fb:"üìã Abonelikler Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"giftPremium",C:Cu,fb:"üéÅ Hediye Premium Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"premiumMarketplace",C:Vu,fb:"üõí Premium Maƒüaza Y√ºkleniyor...",props:de},{key:"themeMarketplace",C:Xu,fb:"üé® Tema Maƒüazasƒ± Y√ºkleniyor...",props:de},{key:"aIChatbot",C:du,fb:"ü§ñ AI Chatbot Y√ºkleniyor...",props:l(t=>({...de(t),username:t.username}),"props")},{key:"codeEditor",C:vu,fb:"üë®‚Äçüíª Kod Edit√∂r√º Y√ºkleniyor...",props:l(t=>({...de(t),roomSlug:t.activeChat?.slug,username:t.username}),"props")},{key:"screenShare",C:Uu,fb:"üñ•Ô∏è Ekran Payla≈üƒ±mƒ± Y√ºkleniyor...",props:l(t=>({...de(t),roomSlug:t.activeChat?.slug}),"props")},{key:"liveStreamModal",C:ju,fb:"üì∫ Canlƒ± Yayƒ±n Y√ºkleniyor...",props:l(t=>({...de(t),roomSlug:t.activeChat?.slug,username:t.username}),"props")},{key:"advancedAnalytics",C:fu,fb:"üìà Geli≈ümi≈ü Analitik Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"fileManager",C:wu,fb:"üìÅ Dosya Y√∂neticisi Y√ºkleniyor...",props:l(t=>({...de(t),roomSlug:t.activeChat?.slug}),"props")},{key:"reports",C:Nu,fb:"üìä Raporlar Y√ºkleniyor...",props:l(t=>({...de(t),serverId:t.activeChat?.server_id}),"props")},{key:"errorReporting",C:Su,fb:"üêõ Hata Raporlama Y√ºkleniyor...",props:de},{key:"featureHub",C:cu,noSuspense:!0}],ap=l(t=>{const{modals:e,closeModal:n}=t;return o.jsx(o.Fragment,{children:sp.map(({key:r,C:s,fb:i,cond:c,props:d,noSuspense:f})=>{if(!e[r]||c&&!c(t))return null;const m=d?{...d({...t,closeModal:n}),onClose:l(()=>n(r),"onClose")}:{};return f?o.jsx(s,{...m},r):o.jsx(a.Suspense,{fallback:o.jsx("div",{children:i||"Y√ºkleniyor..."}),children:o.jsx(s,{...m})},r)})})},"AppModalsBatch11"),ls=u.lazy(()=>p(()=>import("./ImageLightbox-C_1b7PD3.js"),__vite__mapDeps([247,1,4]))),ip=u.lazy(()=>p(()=>import("./MessageTemplateModal-DL4cI6rn.js"),__vite__mapDeps([248,1,4,3,5,6,0,7]))),lp=u.lazy(()=>p(()=>import("./PinnedMessages-BlS2hIX7.js"),__vite__mapDeps([249,1,250,3,4,251,252,253,254,5,6,0,7]))),cp=u.lazy(()=>p(()=>import("./SummaryModal-B10osls8.js"),__vite__mapDeps([255,1,4,3,5,6,0,7]))),dp=u.lazy(()=>p(()=>import("./ThemeStoreModal-B3pOTCF3.js"),__vite__mapDeps([256,1,4,3,5,6,0,7]))),up=u.lazy(()=>p(()=>import("./UserProfileModal-BW6lUDAi.js"),__vite__mapDeps([257,1,4,232,3,5,6,0,7,244]))),pp=l(({modals:t,closeModal:e,fetchWithAuth:n,activeChat:r,username:s,currentTheme:i,setCurrentTheme:c,pinnedMessages:d,zoomedImage:f,setZoomedImage:m,galleryData:h,setGalleryData:g,viewingProfile:y,setViewingProfile:b,isAdmin:_,richTextRef:k,getDeterministicAvatar:x,handleDMClick:w,friendsList:L})=>o.jsxs(o.Fragment,{children:[f&&o.jsx(a.Suspense,{fallback:null,children:o.jsx(ls,{imageUrl:f,onClose:l(()=>m(null),"onClose")})}),h&&o.jsx(a.Suspense,{fallback:null,children:o.jsx(ls,{images:h.images,startIndex:h.startIndex,onClose:l(()=>g(null),"onClose")})}),t.pinned&&o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"small",text:"Sabitlenmi≈ü mesajlar y√ºkleniyor..."}),children:o.jsx(lp,{messages:d,onClose:l(()=>e("pinned"),"onClose")})}),y&&o.jsx(a.Suspense,{fallback:null,children:o.jsx(up,{user:y,onClose:l(()=>b(null),"onClose"),onStartDM:w,onImageClick:m,getDeterministicAvatar:x,fetchWithAuth:n,apiBaseUrl:Q,currentUser:s,friendsList:L})}),t.themeStore&&o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"medium",text:"Temalar y√ºkleniyor..."}),children:o.jsx(dp,{onClose:l(()=>e("themeStore"),"onClose"),currentTheme:i,onThemeChange:c})}),t.summary&&o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"medium",text:"√ñzet hazƒ±rlanƒ±yor..."}),children:o.jsx(cp,{roomSlug:r.id,onClose:l(()=>e("summary"),"onClose"),fetchWithAuth:n,apiBaseUrl:Q})}),t.templateModal&&o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"small",text:"≈ûablonlar y√ºkleniyor..."}),children:o.jsx(ip,{onClose:l(()=>e("templateModal"),"onClose"),onSelect:l(P=>{k.current?.appendText?.(P),e("templateModal")},"onSelect"),fetchWithAuth:n,apiBaseUrl:Q,isAdmin:_})})]}),"AppModalsStandard"),fp=l(t=>{const{modals:e,openModal:n,closeModal:r,toggleModal:s}=Wr(),i={...t,modals:e,openModal:n,closeModal:r,toggleModal:s};return o.jsxs(o.Fragment,{children:[o.jsx(Pc,{...i}),o.jsx(ld,{...i}),o.jsx(au,{...i}),o.jsx(ap,{...i}),o.jsx(pp,{...i})]})},"AppModals"),mp=il,gp=`${mp}/assets`,hp=`${gp}/logo.png`,yp=hp,_p=l(()=>o.jsxs("svg",{className:"splash-logo",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("ellipse",{cx:"50",cy:"62",rx:"22",ry:"18",fill:"white"}),o.jsx("ellipse",{cx:"28",cy:"38",rx:"10",ry:"12",fill:"white"}),o.jsx("ellipse",{cx:"72",cy:"38",rx:"10",ry:"12",fill:"white"}),o.jsx("ellipse",{cx:"22",cy:"55",rx:"8",ry:"10",fill:"white"}),o.jsx("ellipse",{cx:"78",cy:"55",rx:"8",ry:"10",fill:"white"})]}),"PawLogoSVG"),bp=l(()=>{const[t,e]=a.useState(!1);return t?o.jsx(_p,{}):o.jsx("img",{src:yp,alt:"Pawscord",className:"splash-logo",onError:l(()=>e(!0),"onError")})},"PawLogo"),xp=l(({animationState:t})=>o.jsxs("div",{className:`splash-screen ${t}`,children:[o.jsx("div",{className:"particles",children:[...Array(15)].map((e,n)=>o.jsx("div",{className:"particle",style:{"--delay":`${Math.random()*2}s`,"--x":`${Math.random()*100}%`,"--size":`${4+Math.random()*8}px`,"--duration":`${2+Math.random()*3}s`}},n))}),o.jsxs("div",{className:"rings-container",children:[o.jsx("div",{className:"ring ring-1"}),o.jsx("div",{className:"ring ring-2"}),o.jsx("div",{className:"ring ring-3"})]}),o.jsxs("div",{className:"logo-container",children:[o.jsx("div",{className:"logo-glow"}),o.jsx(bp,{})]}),o.jsxs("div",{className:"brand-text",children:[o.jsx("span",{className:"letter",style:{"--i":0},children:"P"}),o.jsx("span",{className:"letter",style:{"--i":1},children:"A"}),o.jsx("span",{className:"letter",style:{"--i":2},children:"W"}),o.jsx("span",{className:"letter",style:{"--i":3},children:"S"}),o.jsx("span",{className:"letter",style:{"--i":4},children:"C"}),o.jsx("span",{className:"letter",style:{"--i":5},children:"O"}),o.jsx("span",{className:"letter",style:{"--i":6},children:"R"}),o.jsx("span",{className:"letter",style:{"--i":7},children:"D"})]}),o.jsx("div",{className:"loading-bar",children:o.jsx("div",{className:"loading-progress"})})]}),"SplashScreen"),cs=u.memo(xp),vp=l(()=>{const[t,e]=a.useState("online"),[n,r]=a.useState(!1),[s,i]=a.useState(!1),c=a.useCallback(()=>{e("offline"),r(!0),i(!1)},[]),d=a.useCallback(()=>{e("reconnecting"),r(!0),i(!1),setTimeout(()=>{e("online"),setTimeout(()=>{i(!0),setTimeout(()=>r(!1),500)},2e3)},1e3)},[]);if(a.useEffect(()=>(window.addEventListener("online",d),window.addEventListener("offline",c),navigator.onLine||c(),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",c)}),[d,c]),!n)return null;const m={offline:{bg:"linear-gradient(135deg, #da373c, #a12d2f)",icon:o.jsx(Ns,{}),text:"ƒ∞nternet baƒülantƒ±sƒ± yok",pulse:!1},reconnecting:{bg:"linear-gradient(135deg, #f0b232, #d4982a)",icon:o.jsx(Si,{className:"conn-status-spin"}),text:"Yeniden baƒülanƒ±lƒ±yor...",pulse:!0},online:{bg:"linear-gradient(135deg, #23a559, #1e8e4a)",icon:o.jsx(ki,{}),text:"Baƒülantƒ± saƒülandƒ±!",pulse:!1}}[t];return o.jsxs("div",{style:{...xr.bar,background:m.bg,opacity:s?0:1,transform:s?"translateY(-100%)":"translateY(0)"},children:[o.jsx("span",{style:xr.icon,children:m.icon}),o.jsx("span",{style:xr.text,children:m.text})]})},"ConnectionStatusBar"),xr={bar:{position:"fixed",top:0,left:0,right:0,height:32,display:"flex",alignItems:"center",justifyContent:"center",gap:8,zIndex:99999,transition:"all 0.5s ease",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},icon:{color:"#fff",fontSize:14,display:"flex",alignItems:"center"},text:{color:"#fff",fontSize:13,fontWeight:600}};if(typeof document<"u"){const t="conn-status-css";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=`@keyframes connSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.conn-status-spin { animation: connSpin 1s linear infinite; }`,document.head.appendChild(e)}}const kp=a.memo(vp),ds=u.lazy(()=>p(()=>import("./Message-COaujenZ.js"),__vite__mapDeps([250,3,1,4,251,252,253,254,5,6,0,7]))),Sp=u.lazy(()=>p(()=>import("./VirtualMessageList-Ds8apxSA.js"),__vite__mapDeps([258,1,254]))),wp=u.lazy(()=>p(()=>import("./MessageInput-vYS8GQQE.js"),__vite__mapDeps([259,3,1,4,248,5,6,0,7,260,119,261])));u.lazy(()=>p(()=>import("./UserVideoContainer-oTJExyK4.js"),__vite__mapDeps([262,1])));const Ep=u.lazy(()=>p(()=>import("./VoiceAudioController-B8Luzjnj.js"),__vite__mapDeps([263,1,3,5,6,0,4,7])));u.lazy(()=>p(()=>import("./RichTextEditor--cB6pr-Z.js"),__vite__mapDeps([264,1,265,19,7,4,266])));const Cp=u.lazy(()=>p(()=>import("./StickyMessageBanner-6uIm_cgn.js"),__vite__mapDeps([267,1,4]))),Tp=u.lazy(()=>p(()=>import("./LoginPage-Rzlel_Nk.js"),__vite__mapDeps([268,1,4,269,0,3,5,6,7]))),Pp=u.lazy(()=>p(()=>import("./WelcomeScreen-BhZIzr46.js"),__vite__mapDeps([270,1,4,33,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ImageModal-CpAQ0ncn.js"),__vite__mapDeps([271,1,3,5,6,0,4,7])));u.lazy(()=>p(()=>import("./UserProfileModal-BW6lUDAi.js"),__vite__mapDeps([257,1,4,232,3,5,6,0,7,244])));u.lazy(()=>p(()=>import("./PollCreateModal-D8n68Bcs.js"),__vite__mapDeps([40,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./CodeSnippetModal-Bzt_0C9G.js"),__vite__mapDeps([26,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AvatarCropper-ypZ5P8Nv.js"),__vite__mapDeps([12,1,13])));u.lazy(()=>p(()=>import("./CryptoChartModal-Bk8meZWK.js"),__vite__mapDeps([8,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./CryptoStoreModal-Mf2QYSoF.js"),__vite__mapDeps([272,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./PremiumStoreModal-Q8OpctF6.js"),__vite__mapDeps([41,1,4,42,3,5,6,0,7])));u.lazy(()=>p(()=>import("./WhiteboardModal-Diom4rSs.js"),__vite__mapDeps([56,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./SoundboardModal-CJQrt0tS.js"),__vite__mapDeps([51,1,4,3,5,6,0,7])));const jp=u.lazy(()=>p(()=>import("./KanbanBoard-BI111Z2b.js"),__vite__mapDeps([273,1,19,7,254,4,3,5,6,0])));u.lazy(()=>p(()=>import("./SummaryModal-B10osls8.js"),__vite__mapDeps([255,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./MessageTemplateModal-DL4cI6rn.js"),__vite__mapDeps([248,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./CinemaModal-CD-wVzZy.js"),__vite__mapDeps([2,3,1,4,5,6,0,7])));u.lazy(()=>p(()=>import("./StickerPicker-C1oM2lgK.js"),__vite__mapDeps([10,1])));u.lazy(()=>p(()=>import("./GifPicker-koQVq_Gj.js"),__vite__mapDeps([9,1])));u.lazy(()=>p(()=>import("./DJModal-CuUe07R6.js"),__vite__mapDeps([31,3,1,4,5,6,0,7])));u.lazy(()=>p(()=>import("./ThemeStoreModal-B3pOTCF3.js"),__vite__mapDeps([256,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./EncryptionKeyModal-JuHOmUHc.js"),__vite__mapDeps([34,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./DownloadModal-DOMLumbL.js"),__vite__mapDeps([33,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ServerSettingsModal-DCgUNcXe.js"),__vite__mapDeps([48,1,4,49,50,3,5,6,0,7])));u.lazy(()=>p(()=>import("./CreateGroupModal-B6azPe7L.js"),__vite__mapDeps([29,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AdminAnalyticsPanel-DmEo43Ww.js"),__vite__mapDeps([18,1,4,19,7])));u.lazy(()=>p(()=>import("./AdminPanelModal-COKYFcXy.js"),__vite__mapDeps([20,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./WebhooksPanel-DttRhwIa.js"),__vite__mapDeps([54,1,7,3,5,6,0,4,55])));u.lazy(()=>p(()=>import("./VanityURLManager-D6SBbRUW.js"),__vite__mapDeps([50,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AutoModerationDashboard-CPm7mxdW.js"),__vite__mapDeps([22,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AutoModerationPanel-CoLe1VAv.js"),__vite__mapDeps([274,1,4,3,5,6,0,7,275])));u.lazy(()=>p(()=>import("./RaidProtectionPanel-8EGzEUWy.js"),__vite__mapDeps([43,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ReportSystemPanel-BiybbopQ.js"),__vite__mapDeps([46,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AuditLogPanel-MaX75zEG.js"),__vite__mapDeps([23,1,4])));u.lazy(()=>p(()=>import("./UserWarningsPanel-D5pkSIX4.js"),__vite__mapDeps([53,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./BookmarkPanel-Dbsr9vOS.js"),__vite__mapDeps([24,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ReadLaterPanel-CWsphTHn.js"),__vite__mapDeps([44,1,4,45])));u.lazy(()=>p(()=>import("./ChannelPermissionsPanel-Crq6snjM.js"),__vite__mapDeps([25,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./MessageThreadsPanel-BMTQBSQI.js"),__vite__mapDeps([276,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ModeratorNotesPanel-5TjhEjsL.js"),__vite__mapDeps([277,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ServerRolesPanel-BLltwuJQ.js"),__vite__mapDeps([278,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./NotificationPreferencesPanel-DdAcNIH0.js"),__vite__mapDeps([279,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./MessageOCRPanel-CPpXCsFQ.js"),__vite__mapDeps([280,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./MassActionsPanel-0H_wj52l.js"),__vite__mapDeps([281,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./TimeoutMutePanel-MdYYwAYF.js"),__vite__mapDeps([282,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ServerThemesPanel-JN5K8_1H.js"),__vite__mapDeps([283,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./KeywordMutesPanel-Bs_QY2pY.js"),__vite__mapDeps([284,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./WelcomeTemplatesPanel-1_144J9c.js"),__vite__mapDeps([285,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./StickyMessagesPanel-B3Mk2bL_.js"),__vite__mapDeps([286,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./MessageTemplatesPanel-dIURiDQ1.js"),__vite__mapDeps([287,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./MessageExportPanel-B2SSkfiH.js"),__vite__mapDeps([288,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ArchivedRoomsPanel-DaTnR2_k.js"),__vite__mapDeps([289,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./SlowModePanel-CD8RkW6i.js"),__vite__mapDeps([290,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./EmojiManagementPanel-QHtz96kx.js"),__vite__mapDeps([291,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./MentionsInboxPanel-fv9CwmJi.js"),__vite__mapDeps([36,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./CustomStatusModal-BE3SWODl.js"),__vite__mapDeps([30,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ReactionAnalyticsPanel-DjbNcVTj.js"),__vite__mapDeps([78,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./LinkClickTrackingPanel-BlaBe1WU.js"),__vite__mapDeps([72,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./JoinLeaveLogsPanel-wkqM5cRz.js"),__vite__mapDeps([71,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./UserActivityPanel-BK1ABQvb.js"),__vite__mapDeps([86,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./NicknameHistoryPanel-DfdDjUZY.js"),__vite__mapDeps([75,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./FieldChangeTrackingPanel-C6rwNddw.js"),__vite__mapDeps([65,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./InviteAnalyticsPanel-DgiNA__h.js"),__vite__mapDeps([69,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ContentScannerPanel-CgXTeMGf.js"),__vite__mapDeps([60,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./EphemeralMessagesPanel-BQYhyRm_.js"),__vite__mapDeps([64,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./TopicHistoryPanel-CiVO5Qau.js"),__vite__mapDeps([84,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./DraftsPanel-BJunqOD9.js"),__vite__mapDeps([62,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ServerNicknamesPanel-C2nqUWYN.js"),__vite__mapDeps([82,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ServerBoostPanel-Bvc_KxtO.js"),__vite__mapDeps([81,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./RoomWebhooksPanel-BnolvcLa.js"),__vite__mapDeps([80,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./OAuthAppsPanel-CtbxXRu3.js"),__vite__mapDeps([76,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./VanityURLPanel-CNbp_XRd.js"),__vite__mapDeps([292,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AutoRespondersPanel-C79ZTvW3.js"),__vite__mapDeps([58,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./SessionManagementPanel-pNODUdlz.js"),__vite__mapDeps([83,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./GDPRExportPanel-IJyrOJOz.js"),__vite__mapDeps([66,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./DataRetentionPanel-CE01vzak.js"),__vite__mapDeps([61,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./TwoFactorSetupWizard-XcFwiQQa.js"),__vite__mapDeps([85,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./EnhancedPollsPanel-CmTYyKSX.js"),__vite__mapDeps([63,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./VoiceTranscriptsPanel-DVqpWJEX.js"),__vite__mapDeps([87,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./PaymentPanel-CBsUNHNF.js"),__vite__mapDeps([39,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./StoreModal-BkRUrMYQ.js"),__vite__mapDeps([52,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./DailyRewardsModal-BMD7Eck2.js"),__vite__mapDeps([32,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./APIUsagePanel-Da6Z5SYK.js"),__vite__mapDeps([21,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ExportJobsPanel-DG5f0UDK.js"),__vite__mapDeps([35,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ScheduledAnnouncementsPanel-VYEk_qc5.js"),__vite__mapDeps([47,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./InviteExportPanel-CYZL-f2r.js"),__vite__mapDeps([70,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AdvancedSearchPanel-BWUDzHhv.js"),__vite__mapDeps([57,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./GrowthMetricsPanel-CqaDRDkU.js"),__vite__mapDeps([67,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./LinkPreviewRenderer-gBhTbS1N.js"),__vite__mapDeps([73,1,4])));u.lazy(()=>p(()=>import("./InventoryPanel-rFnsPGP-.js"),__vite__mapDeps([68,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./WaitlistPanel-kLn5i8Y9.js"),__vite__mapDeps([88,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ReferralRewardsPanel-D2VF9DFc.js"),__vite__mapDeps([79,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./VerifyEmailPage-D5lZPicJ.js"),__vite__mapDeps([293,1,4,5])));u.lazy(()=>p(()=>import("./ForgotPasswordPage-BxhdsAw2.js"),__vite__mapDeps([294,1,4,269,5])));u.lazy(()=>p(()=>import("./ResetPasswordPage-BnwdLUw5.js"),__vite__mapDeps([295,1,4,5])));u.lazy(()=>p(()=>import("./TwoFactorLoginPage-CNG85H0w.js"),__vite__mapDeps([296,1,5,4,3,6,0,7])));u.lazy(()=>p(()=>import("./TwoFactorSetup-CRVuAUJW.js"),__vite__mapDeps([297,1,3,5,6,0,4,7,298])));u.lazy(()=>p(()=>import("./TwoFactorLogin-w0eXO42b.js"),__vite__mapDeps([299,1,300])));const Lp=u.lazy(()=>p(()=>import("./VanityInviteScreen-BzSdYXxC.js"),__vite__mapDeps([301,1,7]))),Ip=u.lazy(()=>p(()=>import("./InviteCodeScreen-CKK5NnIG.js"),__vite__mapDeps([302,1,3,5,6,0,4,7])));u.lazy(()=>p(()=>import("./EmailVerification-DsXvsmWz.js"),__vite__mapDeps([303,1,5,304])));u.lazy(()=>p(()=>import("./MobileNav-BfMKpzqa.js"),__vite__mapDeps([305,1,306])));u.lazy(()=>p(()=>import("./SwipeActions-SIVWXjIn.js"),__vite__mapDeps([307,1,308])));u.lazy(()=>p(()=>import("./VoiceMessage-BYVdiVez.js"),__vite__mapDeps([309,1,3,5,6,0,4,7,310])));const Op=u.lazy(()=>p(()=>import("./FriendsTab-BLdMlqQM.js"),__vite__mapDeps([311,1,4,251,3,5,6,0,7]))),Dp=u.lazy(()=>p(()=>import("./RoomList-CzzIw-dT.js"),__vite__mapDeps([312,1,4,313,251,0,201,3,5,6,7,225,260,245,207,50,49,187])));u.lazy(()=>p(()=>import("./UserProfilePanel-Cbc7HHmf.js"),__vite__mapDeps([11,1,12,13,14,3,5,6,0,4,7,15,16,17])));const us=u.lazy(()=>p(()=>import("./VoiceChatPanel-J5oH7PLn.js"),__vite__mapDeps([314,1,315,4,167,7,3,5,6,0,168,316]))),Rp=u.lazy(()=>p(()=>import("./ChatUserList-DFxKTyHP.js"),__vite__mapDeps([317,1,4,5])));u.lazy(()=>p(()=>import("./PinnedMessages-BlS2hIX7.js"),__vite__mapDeps([249,1,250,3,4,251,252,253,254,5,6,0,7])));u.lazy(()=>p(()=>import("./FloatingVoiceIsland-Bkn7EL_S.js"),__vite__mapDeps([318,1,316,7,319])));u.lazy(()=>p(()=>import("./CinemaPlayer-DRblNVkm.js"),__vite__mapDeps([320,3,1,4,5,6,0,7])));u.lazy(()=>p(()=>import("./ConnectionsPanel-DiARkzJE.js"),__vite__mapDeps([27,1,4,3,5,6,0,7,28])));u.lazy(()=>p(()=>import("./PasswordSetupModal-I3sL_hBB.js"),__vite__mapDeps([37,1,4,3,5,6,0,7,38])));const Ap=u.lazy(()=>p(()=>import("./NotificationDropdown-Ineo259Q.js"),__vite__mapDeps([321,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ReactionStatsPanel-DjbK8xUk.js"),__vite__mapDeps([322,1,4,3,5,6,0,7,323])));u.lazy(()=>p(()=>import("./ServerHealthPanel-CU8hR-uL.js"),__vite__mapDeps([324,1,4,3,5,6,0,7,325])));u.lazy(()=>p(()=>import("./ChannelAnalyticsPanel-C8UqVm8L.js"),__vite__mapDeps([326,1,4,3,5,6,0,7,327])));u.lazy(()=>p(()=>import("./SmartSuggestionsPanel-CxweGE0S.js"),__vite__mapDeps([328,1,4,3,5,6,0,7,329])));u.lazy(()=>p(()=>import("./UserPresenceInsightsPanel-B4y61NHv.js"),__vite__mapDeps([330,1,4,3,5,6,0,7,331])));u.lazy(()=>p(()=>import("./UserFooter-DVmNSIv-.js").then(t=>t.a),__vite__mapDeps([313,1,4])));const zp=u.lazy(()=>p(()=>import("./UserContextMenu-BL04brC0.js"),__vite__mapDeps([315,1,4])));u.lazy(()=>p(()=>import("./MiniGamesPanel-Do0Nltg0.js"),__vite__mapDeps([74,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ProjectCollaborationPanel-BnARk6lu.js"),__vite__mapDeps([77,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AvatarStudioPanel-UgNAxzgt.js"),__vite__mapDeps([59,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ImageLightbox-C_1b7PD3.js"),__vite__mapDeps([247,1,4])));u.lazy(()=>p(()=>import("./ChannelAboutPanel-N-Tf5Sbb.js"),__vite__mapDeps([332,1,4])));u.lazy(()=>p(()=>import("./MessageSchedulePicker-485JYwAQ.js"),__vite__mapDeps([333,1,4])));u.lazy(()=>p(()=>import("./UserSettingsModal-D2yRg-z5.js"),__vite__mapDeps([165,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./KeyboardShortcutsModal-Co3eaQv3.js"),__vite__mapDeps([123,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./CommandPalette-N2RrOAbm.js"),__vite__mapDeps([106,1,4,3,5,6,0,7,107])));u.lazy(()=>p(()=>import("./ServerDiscoveryPage-hRV_NZb5.js"),__vite__mapDeps([153,1,3,5,6,0,4,7,154])));u.lazy(()=>p(()=>import("./AppearanceSettingsPanel-CpE-v5Jb.js"),__vite__mapDeps([92,1,7,3,5,6,0,4,93])));u.lazy(()=>p(()=>import("./LanguageSelector-25eZx86Y.js"),__vite__mapDeps([124,1,0,3,5,6,4,7,125])));u.lazy(()=>p(()=>import("./ChangelogPanel-COWNSwEF.js"),__vite__mapDeps([104,1,4,105])));u.lazy(()=>p(()=>import("./LogoutModal-DCH4WVXS.js"),__vite__mapDeps([14,1,3,5,6,0,4,7,15])));u.lazy(()=>p(()=>import("./NotificationSoundSettings-CBTuhWFj.js"),__vite__mapDeps([134,1,4])));u.lazy(()=>p(()=>import("./QuickSwitcher-DhXYmfyv.js"),__vite__mapDeps([139,1,4,140])));u.lazy(()=>p(()=>import("./LoginHistory-pKVUo3Ey.js"),__vite__mapDeps([129,1,4])));u.lazy(()=>p(()=>import("./SecuritySettingsPanel-ChFF9yt4.js"),__vite__mapDeps([147,1,7,3,5,6,0,4,148])));u.lazy(()=>p(()=>import("./PrivacySettingsPanel-Cf_AwFjC.js"),__vite__mapDeps([136,1,7,3,5,6,0,4,137])));u.lazy(()=>p(()=>import("./AccountDeletionModal-C2RXUZW_.js"),__vite__mapDeps([89,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./BlockListPanel-SAjTCJ-w.js"),__vite__mapDeps([100,1,7,3,5,6,0,4,101])));u.lazy(()=>p(()=>import("./E2EESettingsPanel-GPqXbJz6.js"),__vite__mapDeps([112,3,1,4,5,6,0,7])));u.lazy(()=>p(()=>import("./ThreadView-BN3vLtRh.js"),__vite__mapDeps([161,1,4])));u.lazy(()=>p(()=>import("./ScheduledMessagesPanel-BDg6OnTs.js"),__vite__mapDeps([145,1,3,5,6,0,4,7,146])));u.lazy(()=>p(()=>import("./ReminderPanel-9r6jnJy9.js"),__vite__mapDeps([143,1,7,3,5,6,0,4,144])));u.lazy(()=>p(()=>import("./ForumPanel-BPBXNo75.js"),__vite__mapDeps([114,1,3,5,6,0,4,7,115])));u.lazy(()=>p(()=>import("./StageChannelPanel-Bvcchbtt.js"),__vite__mapDeps([157,1,3,5,6,0,4,7,158])));u.lazy(()=>p(()=>import("./VideoCallModal-aviGWNb2.js"),__vite__mapDeps([166,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./VoiceSettingsPanel-fscgbccP.js"),__vite__mapDeps([167,1,4,7,3,5,6,0,168])));u.lazy(()=>p(()=>import("./MessageSearchPanel-bNYQ_5Rv.js"),__vite__mapDeps([130,1,4,3,5,6,0,7,131])));u.lazy(()=>p(()=>import("./index-_vS18Uc0.js"),__vite__mapDeps([169,1,4,3,5,6,0,7,170])));u.lazy(()=>p(()=>import("./AutoRolesPanel-DqpptgC9.js"),__vite__mapDeps([94,1,7,3,5,6,0,4,95])));u.lazy(()=>p(()=>import("./ReactionRolesPanel-BnfCd67V.js"),__vite__mapDeps([141,1,7,3,5,6,0,4,142])));u.lazy(()=>p(()=>import("./WelcomeMessagesPanel-Wg88LCPP.js"),__vite__mapDeps([172,1,7,3,5,6,0,4,173])));u.lazy(()=>p(()=>import("./EventCalendar-DdfsQmTq.js"),__vite__mapDeps([113,1,4])));u.lazy(()=>p(()=>import("./GiveawayPanel-BWaZBrpu.js"),__vite__mapDeps([116,1,7,3,5,6,0,4,117])));u.lazy(()=>p(()=>import("./TicketSystemPanel-BFPljwjT.js"),__vite__mapDeps([162,1,7,3,5,6,0,4,163])));u.lazy(()=>p(()=>import("./StarboardPanel-CjuwTCHE.js"),__vite__mapDeps([159,1,7,3,5,6,0,4,160])));u.lazy(()=>p(()=>import("./ServerBackupPanel-f4OMXY1X.js"),__vite__mapDeps([149,1,7,3,5,6,0,4,150])));u.lazy(()=>p(()=>import("./BanAppealsPanel-F-_a7pwa.js"),__vite__mapDeps([96,1,4,97])));u.lazy(()=>p(()=>import("./CustomCommandsPanel-BGL92LJs.js"),__vite__mapDeps([108,1,7,3,5,6,0,4,109])));u.lazy(()=>p(()=>import("./LevelingSystemPanel-mh_QUatO.js"),__vite__mapDeps([126,1,7,3,5,6,0,4,127])));u.lazy(()=>p(()=>import("./LiveStreamPanel-EekOlSCh.js"),__vite__mapDeps([128,1,4])));u.lazy(()=>p(()=>import("./AchievementsPanel-CMWT-hVD.js"),__vite__mapDeps([90,1,3,5,6,0,4,7,91])));u.lazy(()=>p(()=>import("./BirthdaySystemPanel-xd0JwI9F.js"),__vite__mapDeps([98,1,7,3,5,6,0,4,99])));u.lazy(()=>p(()=>import("./PremiumModal-T90lKGYw.js"),__vite__mapDeps([135,1,3,5,6,0,4,7])));u.lazy(()=>p(()=>import("./MusicPlayer-DU00uOZi.js"),__vite__mapDeps([132,1,4,3,5,6,0,7,133])));u.lazy(()=>p(()=>import("./BotMarketplace-Bs-LrLuB.js"),__vite__mapDeps([102,1,3,5,6,0,4,7,103])));u.lazy(()=>p(()=>import("./ProfileCustomization-Dec4zVFL.js"),__vite__mapDeps([138,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./IntegrationHubPanel-UkTARtOc.js"),__vite__mapDeps([121,1,4,7,3,5,6,0,122])));u.lazy(()=>p(()=>import("./TournamentSystem-D8bJs5-E.js"),__vite__mapDeps([164,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./HighlightsPanel-5tQQRSpV.js"),__vite__mapDeps([118,1,7,119,3,5,6,0,4,120])));u.lazy(()=>p(()=>import("./CustomEmbedPanel-DYx5TjY-.js"),__vite__mapDeps([110,1,7,3,5,6,0,4,111])));u.lazy(()=>p(()=>import("./SpotifyIntegrationPanel-BNonapWv.js"),__vite__mapDeps([155,1,4,156])));u.lazy(()=>p(()=>import("./ServerClonePanel-lKtiFvj3.js"),__vite__mapDeps([151,1,4,3,5,6,0,7,152])));u.lazy(()=>p(()=>import("./WeeklyChallengesPanel-diIhSVYD.js"),__vite__mapDeps([171,1,4])));u.lazy(()=>p(()=>import("./ModeratorTools-B8d-3T1g.js"),__vite__mapDeps([207,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AIModerationPanel-DIZJfL7a.js"),__vite__mapDeps([176,1,4,16,3,5,6,0,7])));u.lazy(()=>p(()=>import("./SpamDetectionPanel-bjVHRYf-.js"),__vite__mapDeps([235,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AuditLogsPanel-BAbzr-_D.js"),__vite__mapDeps([180,1,7,3,5,6,0,4,181])));u.lazy(()=>p(()=>import("./BanHistoryPanel-BucIk3QN.js"),__vite__mapDeps([182,1,4,7,183])));u.lazy(()=>p(()=>import("./ModerationLogsPanel-Cb_FMmH1.js"),__vite__mapDeps([205,1,4,7,3,5,6,0,206])));u.lazy(()=>p(()=>import("./RaidProtectionDashboard-B0xFXmXd.js"),__vite__mapDeps([334,1,4,3,5,6,0,7,335])));u.lazy(()=>p(()=>import("./SecurityAlertsPanel-CMNmGOdn.js"),__vite__mapDeps([227,1,4,3,5,6,0,7,228])));u.lazy(()=>p(()=>import("./BookmarksPanel-CFx3v4t6.js"),__vite__mapDeps([336,1,4])));u.lazy(()=>p(()=>import("./GIFPickerPanel-lkC6rxIn.js"),__vite__mapDeps([196,1,4,197])));u.lazy(()=>p(()=>import("./PollCreator-VuscpzlJ.js"),__vite__mapDeps([212,1,16,3,5,6,0,4,7])));u.lazy(()=>p(()=>import("./StickersPanel-rdDbtWKP.js"),__vite__mapDeps([237,1,3,5,6,0,4,7,238])));u.lazy(()=>p(()=>import("./SavedMessagesModal-DfV3zf5g.js"),__vite__mapDeps([225,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./NotificationsCenter-Bxr28Zxe.js"),__vite__mapDeps([210,1,4,3,5,6,0,7,211])));u.lazy(()=>p(()=>import("./MessageSummaryPanel--8TciizY.js"),__vite__mapDeps([203,1,4,119,204])));u.lazy(()=>p(()=>import("./TranslationPanel-DtOPulz4.js"),__vite__mapDeps([242,1,7,3,5,6,0,4,243])));u.lazy(()=>p(()=>import("./ChannelSettingsModal-BM-rgWzo.js"),__vite__mapDeps([187,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./InviteModal-CLS7qLjW.js"),__vite__mapDeps([201,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ServerTemplates-DeJlncJJ.js"),__vite__mapDeps([230,1,4,3,5,6,0,7,231])));u.lazy(()=>p(()=>import("./ServerAnalyticsDashboard-CtGcLtB8.js"),__vite__mapDeps([229,1,4])));u.lazy(()=>p(()=>import("./RolesManager-B2zXNiuh.js"),__vite__mapDeps([223,1,3,5,6,0,4,7,224])));u.lazy(()=>p(()=>import("./WelcomeScreenEditor-ddpLd9B-.js"),__vite__mapDeps([246,1,4])));u.lazy(()=>p(()=>import("./CommunitySettingsPanel-Cql0vV_f.js"),__vite__mapDeps([191,1,4,3,5,6,0,7,192])));u.lazy(()=>p(()=>import("./InviteLinkManager-DuBdN0SS.js"),__vite__mapDeps([200,1,4])));u.lazy(()=>p(()=>import("./BotBuilder-CPcMPqi4.js"),__vite__mapDeps([184,1,4,16,3,5,6,0,7])));u.lazy(()=>p(()=>import("./BotDeveloperPortal-D6avPpeq.js"),__vite__mapDeps([185,1,4,3,5,6,0,7,186])));u.lazy(()=>p(()=>import("./WebhookManager-DRQ8YAvN.js"),__vite__mapDeps([245,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./APIKeysPanel-Bny4iDBp.js"),__vite__mapDeps([177,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./SlashCommandsPanel-BTqynCbS.js"),__vite__mapDeps([233,1,4,234])));u.lazy(()=>p(()=>import("./CodeRunnerPanel-DtHoevtu.js"),__vite__mapDeps([188,1,4,7,189])));u.lazy(()=>p(()=>import("./ProfileCard-DMQqLZf_.js"),__vite__mapDeps([217,1,3,5,6,0,4,7,218])));u.lazy(()=>p(()=>import("./UserNotesModal-DiYa3Nqa.js"),__vite__mapDeps([244,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./StatusPicker-BMY5h21H.js"),__vite__mapDeps([236,1,4])));u.lazy(()=>p(()=>import("./MutualsPanel-rXn75Smf.js"),__vite__mapDeps([208,1,4,7,209])));u.lazy(()=>p(()=>import("./ProfileShowcasePanel-CDpEBPTB.js"),__vite__mapDeps([219,1,4,7,3,5,6,0,220])));u.lazy(()=>p(()=>import("./SessionManagerModal-Ctit_ZiR.js"),__vite__mapDeps([232,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./CoinStoreModal-BypqoFDx.js"),__vite__mapDeps([42,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./PremiumManagementPanel-8iEMSVl5.js"),__vite__mapDeps([213,1,7,3,5,6,0,4,214])));u.lazy(()=>p(()=>import("./SubscriptionManager-CxaTvCM9.js"),__vite__mapDeps([239,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./GiftPremiumPanel-CJgyafIL.js"),__vite__mapDeps([198,1,4,199])));u.lazy(()=>p(()=>import("./PremiumMarketplace-BnXBbT2R.js"),__vite__mapDeps([215,1,16,3,5,6,0,4,7,216])));u.lazy(()=>p(()=>import("./ThemeMarketplace-BPnZbZLH.js"),__vite__mapDeps([240,1,16,3,5,6,0,4,7,241])));u.lazy(()=>p(()=>import("./AIChatbotPanel-C3NO429t.js"),__vite__mapDeps([174,1,4,3,5,6,0,7,175])));u.lazy(()=>p(()=>import("./CollaborativeCodeEditor-Bx91Pjdp.js"),__vite__mapDeps([190,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./ScreenShareModal-CBofYumM.js"),__vite__mapDeps([226,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./LiveStreamModal-BOSNr6Fo.js"),__vite__mapDeps([202,1,4,3,5,6,0,7])));u.lazy(()=>p(()=>import("./AdvancedAnalyticsDashboard-BzQgo2B3.js"),__vite__mapDeps([178,1,4,3,5,6,0,7,179])));u.lazy(()=>p(()=>import("./FileManagerPanel-dpPzm-ZZ.js"),__vite__mapDeps([195,1,4])));u.lazy(()=>p(()=>import("./ReportsPanel-DK5nv6zN.js"),__vite__mapDeps([221,1,3,5,6,0,4,7,222])));u.lazy(()=>p(()=>import("./ErrorReportingPanel-Cso5jjuc.js"),__vite__mapDeps([193,1,3,5,6,0,4,7,194])));const ye={mainContainer:{display:"flex",width:"100%",height:"100dvh",backgroundColor:"#1E1F22",backgroundImage:"radial-gradient(circle at 50% 10%, rgba(88, 101, 242, 0.05) 0%, transparent 40%)",color:"white",overflow:"hidden",fontFamily:"'Inter', sans-serif"},chatLayout:{display:"flex",width:"100%",height:"100%",overflow:"hidden"},sidebarWrapper:{width:"312px",backgroundColor:"rgba(30, 31, 34, 0.6)",backdropFilter:"blur(10px)",display:"flex",flexDirection:"row",flexShrink:0,height:"100%",borderRight:"1px solid rgba(255,255,255,0.05)"},mainContent:{flex:1,display:"flex",minWidth:0,position:"relative",height:"100%",overflow:"hidden"},chatArea:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"transparent",minWidth:0,height:"100%",overflow:"hidden",position:"relative"},chatHeader:{height:"54px",minHeight:"54px",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",padding:"0 20px",flexShrink:0,backgroundColor:"rgba(20, 21, 24, 0.7)",backdropFilter:"blur(15px)",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",zIndex:10},messageBox:{flex:1,overflowY:"auto",padding:"20px 0",display:"flex",flexDirection:"column",gap:"4px",scrollBehavior:"smooth",minHeight:0},inputContainer:{padding:"0 20px 24px 20px",backgroundColor:"transparent",position:"relative",flexShrink:0,minHeight:"auto",zIndex:20},chatUserListPanel:{width:"240px",backgroundColor:"rgba(30, 31, 34, 0.6)",borderLeft:"1px solid rgba(255,255,255,0.08)",flexShrink:0,height:"100%",backdropFilter:"blur(10px)"},mobileSidebar:{position:"fixed",zIndex:100,top:0,bottom:0,left:0,width:"85vw",maxWidth:"350px",boxShadow:"5px 0 15px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},mobileRightSidebar:{position:"fixed",zIndex:100,top:0,bottom:0,right:0,width:"85vw",maxWidth:"300px",boxShadow:"-5px 0 15px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},mobileOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:99,backdropFilter:"blur(3px)"},mobileMenuButton:{background:"none",border:"none",color:"white",fontSize:"1.5em",marginRight:"10px",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",transition:"all 0.2s"},iconButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"1.3em",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",borderRadius:"50%",transition:"all 0.2s",":hover":{backgroundColor:"rgba(255,255,255,0.1)",color:"#fff"}},systemMessage:{color:"#949ba4",textAlign:"center",fontSize:"0.85em",margin:"10px 0",fontStyle:"italic"},searchForm:{position:"relative",display:"flex",alignItems:"center",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px",padding:"0 8px",height:"32px",marginRight:"8px",border:"1px solid rgba(255,255,255,0.05)"},searchInput:{backgroundColor:"transparent",border:"none",color:"#dcddde",fontSize:"0.9em",width:"140px",outline:"none"},searchIcon:{color:"#949ba4",fontSize:"0.8em",cursor:"pointer"},connectionPillOnline:{marginLeft:"10px",padding:"4px 8px",borderRadius:"999px",backgroundColor:"rgba(59, 165, 93, 0.2)",border:"1px solid #3ba55d",color:"#3ba55d",fontSize:"0.75em",fontWeight:700},connectionPillOffline:{marginLeft:"10px",padding:"4px 8px",borderRadius:"999px",backgroundColor:"rgba(218, 55, 60, 0.2)",border:"1px solid #da373c",color:"#da373c",fontSize:"0.75em",fontWeight:700},mobileSidebarHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",backgroundColor:"#202225",borderBottom:"1px solid #111214",minHeight:"54px",flexShrink:0},closeSidebarButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"22px",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background 0.2s, color 0.2s"}};function Vp(){const{token:t,logout:e,refreshAccessToken:n}=Tt(),r=a.useRef(!1),s=a.useRef(null),i=a.useRef(t);i.current=t;const c=a.useCallback(async(d,f={},m=!1)=>{const h=i.current||t,g={...f.headers||{}};h&&(g.Authorization=`Bearer ${h}`),f.body instanceof FormData||(g["Content-Type"]="application/json");try{const b=d.includes("upload")||f.body instanceof FormData?3e5:3e4,_=new AbortController,k=setTimeout(()=>_.abort(),b),x=await fetch(d,{...f,headers:g,signal:_.signal});if(clearTimeout(k),x.status===401&&!m){if(d.includes("/auth/")||d.includes("/login"))throw e(),new Error("Unauthorized");if(r.current||(r.current=!0,s.current=n().finally(()=>{r.current=!1})),await s.current)return c(d,f,!0);throw new Error("Unauthorized")}return x}catch(y){throw y.name==="AbortError"?new Error("ƒ∞stek zaman a≈üƒ±mƒ±na uƒüradƒ±"):(y.message==="Unauthorized",y)}},[t,e,n]);return{fetchWithAuth:c,tokenRef:i}}l(Vp,"useFetchWithAuth");function Mp({isAuthenticated:t,username:e,token:n,fetchWithAuth:r,setCategories:s,setConversations:i,setAllUsers:c,setFriendsList:d,setCurrentUserProfile:f,setServerOrder:m,setMaintenanceMode:h,setAuthError:g,setServerMembers:y,API_BASE_URL:b,ROOM_LIST_URL:_,CONVERSATION_LIST_URL:k,activeChat:x,categories:w,setActiveChat:L}){const[P,A]=a.useState(!1),B=a.useRef(!1),S=a.useRef({});a.useEffect(()=>{if(!t||P||B.current)return;B.current=!0,l(async()=>{try{let T=null;try{const U=await r(`${b}/init/`);U.ok&&(T=await U.json())}catch{}let v,I,C,M;if(T)v=T.user,I=T.servers,C=T.conversations,M=T.friends,T.server_order&&m(T.server_order),T.maintenance?.is_maintenance&&h({message:T.maintenance.message||"System maintenance in progress",endTime:T.maintenance.estimated_end,level:"info"});else{const[U,J,le,ee]=await Promise.all([r(_).then(z=>z.json()),r(`${k}?username=${encodeURIComponent(e)}`).then(z=>z.json()),r(`${b}/friends/list/`).then(z=>z.json()),r(`${b}/users/me/`).then(z=>z.json())]);v=ee,I=U,C=J,M=le}const G={username:v?.username||e,email:v?.email||"",avatar:v?.avatar||null,status_message:v?.status_message||"",friend_code:v?.friend_code||"0000",social_links:v?.social_links||{},coins:v?.coins||0,xp:v?.xp||0,level:v?.level||1,status:"online",role:v?.role||"member",is_whitelisted:v?.is_whitelisted||!1};f(G);const ne=(M.friends||[]).map(U=>{const J=U.sender_username===e,le=J?U.receiver_username:U.sender_username,ee=J?U.receiver_avatar:U.sender_avatar,z=J?U.receiver_status:U.sender_status,X=J?U.receiver_activity:U.sender_activity;return le?{username:le,avatar:ee,status:z||"offline",display_name:le,current_activity:X||{},status_message:"",last_seen:U.created_at,role:"friend",friend_code:""}:null}).filter(Boolean).filter(U=>U.username!==G.username);c(ne),s(I),i(C),d(ne),A(!0),p(async()=>{const{prefetchUserAvatars:U}=await import("./imageCaching-Df571KuS.js");return{prefetchUserAvatars:U}},__vite__mapDeps([252,1])).then(({prefetchUserAvatars:U})=>{U(ne)})}catch{g("Veriler y√ºklenemedi."),B.current=!1}},"fetchInit")()},[t,P,r]),a.useEffect(()=>{if(P)return;e&&l(async()=>{try{const T=await r(`${b}/user/server-order/`);if(T.ok){const v=await T.json();m(v.server_order||[])}}catch{}},"fetchServerOrder")()},[e,r,P]);const[j,E]=a.useState(null);a.useEffect(()=>{const V=l(async()=>{if(!x.id||x.type!=="room"){E(null);return}try{const T=await r(`${b}/stickies/list/?room=${x.id}`);if(T.ok){const v=await T.json();v&&v.length>0?E({message:v[0].content,type:"info",author:v[0].creator}):E(null)}}catch{}},"fetchStickyMessages");t&&x.id&&V()},[x.id,x.type,t,r]);const R=a.useCallback(async(V,T=!1)=>{if(!V){y([]);return}const v=S.current[V];if(!T&&v&&Date.now()-v.timestamp<12e4){y(v.members);return}try{const I=await r(`${b}/servers/${V}/members/`);if(I.ok){const C=await I.json();S.current[V]={members:C,timestamp:Date.now()},y(C)}else y([])}catch{y([])}},[r]),N=a.useCallback(V=>{R(V.id);const T=V.metadata?.default_channel_slug;let v=null;if(V.categories&&Array.isArray(V.categories)){for(const I of V.categories)if(I.rooms&&Array.isArray(I.rooms)){for(const C of I.rooms){if(T&&C.slug===T){v=C;break}!v&&C.room_type!=="voice"&&(v=C)}if(v&&T&&v.slug===T)break}}v?L("room",v.slug,null):L("server",V.id,null)},[R,L]);return a.useEffect(()=>{if(t&&x.id&&x.type==="room"){let V=null;for(const T of w||[])if(T.categories){for(const v of T.categories)if(v.rooms){for(const I of v.rooms)if(I.slug===x.id){V=T.id;break}if(V)break}if(V)break}V?R(V):y([])}else x.type!=="server"&&y([])},[x.id,x.type,t,R,w]),a.useEffect(()=>{const V=window.location.hash,T=V.includes("?")?V.split("?")[1]:"",I=new URLSearchParams(T).get("join_server");if(I&&t&&w&&w.length>0){const C=w.find(M=>M.id===parseInt(I));if(C){if(C.categories&&C.categories.length>0){const M=C.categories[0];M.rooms&&M.rooms.length>0&&L({type:"room",id:M.rooms[0].slug})}window.history.replaceState({},document.title,"/#/")}else l(async()=>{try{const G=await r(`${b}/servers/${I}/join/`,{method:"POST"});if(G.ok){se.success("Sunucuya katƒ±ldƒ±nƒ±z!");try{const W=await r(_);if(W.ok){const ne=await W.json();s(ne);const U=ne.find(J=>J.id===parseInt(I));U&&N(U)}}catch{}}else{const W=await G.json();se.error(W.error||"Sunucuya katƒ±lƒ±namadƒ±")}}catch{se.error("Sunucuya katƒ±lƒ±rken hata olu≈ütu")}finally{window.history.replaceState({},document.title,"/#/")}},"joinServer")()}},[t,w,r]),{isInitialDataLoaded:P,setIsInitialDataLoaded:A,stickyMessage:j,setStickyMessage:E,serverMembersCacheRef:S,fetchServerMembersById:R,handleServerSelect:N}}l(Mp,"useAppInit");const $p=Zr("GoogleAuth",{web:l(()=>p(()=>import("./web-BA0YAItV.js"),__vite__mapDeps([337,3,1,5,6,0,4,7])).then(t=>new t.GoogleAuthWeb),"web")}),Np=l(async()=>{if(typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.toLowerCase().includes("electron")||window.location?.protocol==="file:"))return null;if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.getRegistrations();for(const r of e)if(r.active&&r.active.scriptURL.includes("service-worker.js")){await r.unregister();const s=await caches.keys();for(const i of s)i.includes("pawscord-v")&&await caches.delete(i)}const n=await navigator.serviceWorker.getRegistration("/");return n&&(n.addEventListener("updatefound",()=>{const r=n.installing;r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&(r.postMessage({type:"SKIP_WAITING"}),window.location.reload())})}),setInterval(()=>{n.update()},1800*1e3)),n}catch{return null}},"registerServiceWorker"),Bp=l(()=>{window.addEventListener("beforeinstallprompt",t=>{t.preventDefault();const e=document.getElementById("install-pwa-button");e&&(e.style.display="block")}),window.addEventListener("appinstalled",()=>{window.gtag&&window.gtag("event","pwa_installed",{event_category:"PWA",event_label:"App Installed"})})},"setupInstallPrompt"),Fp=l((t,e)=>{const n=l(()=>{t&&t(),ps("üü¢ √áevrimi√ßi","success")},"handleOnline"),r=l(()=>{e&&e(),ps("üî¥ √áevrimdƒ±≈üƒ± - Baƒülantƒ± koptu","error")},"handleOffline");return window.addEventListener("online",n),window.addEventListener("offline",r),navigator.onLine||r(),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},"setupNetworkMonitor"),ps=l((t,e="info")=>{const n=document.getElementById("network-banner");n&&n.remove();const r=document.createElement("div");r.id="network-banner",r.textContent=t,r.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        padding: 12px;
        text-align: center;
        color: white;
        font-weight: 600;
        z-index: 9999;
        animation: slideDown 0.3s ease;
        background: ${e==="success"?"#43b581":"#ed4245"};
    `,document.body.appendChild(r),e==="success"&&setTimeout(()=>{r.style.animation="slideUp 0.3s ease",setTimeout(()=>r.remove(),300)},3e3)},"showNetworkBanner"),Up=l(()=>{const t=document.createElement("style");t.textContent=`
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { transform: translateY(0); }
            to { transform: translateY(-100%); }
        }
    `,document.head.appendChild(t)},"addAnimations");Up();const Yp=`
/* üé® PAWSCORD Critical CSS - Above the Fold */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    background-color: #1e1f22;
    color: #dcddde;
    overflow: hidden;
}

/* Loading Screen */
#loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: #1e1f22;
    display: flex;
    align-items: center;
    justify-center: center;
    z-index: 9999;
}

.spinner {
    width: 50px;
    height: 50px;
    border: 4px solid #40444b;
    border-top-color: #5865f2;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Main Layout */
#root {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

.app-container {
    display: flex;
    width: 100%;
    height: 100%;
}

/* Sidebar */
.sidebar {
    width: 240px;
    background: #2b2d31;
    flex-shrink: 0;
}

/* Chat Area */
.chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #313338;
}

/* Message Input - Critical */
.message-input-container {
    padding: 16px;
    background: #383a40;
}

.message-input {
    width: 100%;
    padding: 12px;
    background: #40444b;
    border: none;
    border-radius: 8px;
    color: #dcddde;
    font-size: 15px;
    outline: none;
}

/* Button Base */
button {
    cursor: pointer;
    border: none;
    background: transparent;
    color: inherit;
    font-family: inherit;
}

.btn-primary {
    background: #5865f2;
    color: white;
    padding: 10px 16px;
    border-radius: 4px;
    font-weight: 500;
    transition: background 0.17s ease;
}

.btn-primary:hover {
    background: #4752c4;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #2b2d31;
}

::-webkit-scrollbar-thumb {
    background: #1a1b1e;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #141517;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
}

/* Utilities */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.items-center {
    align-items: center;
}

.justify-center {
    justify-content: center;
}

.gap-2 {
    gap: 8px;
}

.gap-4 {
    gap: 16px;
}

.hidden {
    display: none !important;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .sidebar {
        width: 100%;
        position: absolute;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .sidebar.open {
        transform: translateX(0);
    }
}
`,Gp=l(()=>{const t=document.createElement("style");t.id="critical-css",t.textContent=Yp,document.head.insertBefore(t,document.head.firstChild)},"inlineCriticalCSS"),Hp=l(t=>new Promise((e,n)=>{const r=document.createElement("link");r.rel="stylesheet",r.href=t,r.onload=()=>{e()},r.onerror=n,document.head.appendChild(r)}),"lazyLoadCSS"),Kp=l(()=>{const t=[],e=l(()=>{t.forEach(n=>{Hp(n)})},"loadCSS");"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(e,1)},"loadNonCriticalCSS"),qp=l(()=>{typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.includes("Electron")||window.location?.protocol)},"optimizeFontLoading"),Jp=l(()=>{typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.includes("Electron")||window.location?.protocol)},"preloadKeyResources"),fs=l(()=>{const t=document.getElementById("critical-css");t&&setTimeout(()=>{t.remove()},1e3)},"removeCriticalCSS"),Wp=l(()=>{Gp(),Jp(),qp(),Kp(),document.readyState==="complete"?fs():window.addEventListener("load",fs)},"initializeCSSOptimization"),Vt={serverSettings:l(()=>p(()=>import("./ServerSettingsModal-DCgUNcXe.js"),__vite__mapDeps([48,1,4,49,50,3,5,6,0,7])),"serverSettings"),userProfile:l(()=>p(()=>import("./UserProfileModal-BW6lUDAi.js"),__vite__mapDeps([257,1,4,232,3,5,6,0,7,244])),"userProfile"),imageModal:l(()=>p(()=>import("./ImageModal-CpAQ0ncn.js"),__vite__mapDeps([271,1,3,5,6,0,4,7])),"imageModal"),gifPicker:l(()=>p(()=>import("./GifPicker-koQVq_Gj.js"),__vite__mapDeps([9,1])),"gifPicker"),stickerPicker:l(()=>p(()=>import("./StickerPicker-C1oM2lgK.js"),__vite__mapDeps([10,1])),"stickerPicker"),poll:l(()=>p(()=>import("./PollCreateModal-D8n68Bcs.js"),__vite__mapDeps([40,1,4,3,5,6,0,7])),"poll"),codeSnippet:l(()=>p(()=>import("./CodeSnippetModal-Bzt_0C9G.js"),__vite__mapDeps([26,1,4,3,5,6,0,7])),"codeSnippet")},na=l(()=>{[Vt.userProfile,Vt.imageModal,Vt.serverSettings].forEach(e=>{try{e()}catch{}})},"preloadCriticalChunks"),Ar=l(()=>{[Vt.gifPicker,Vt.stickerPicker,Vt.poll,Vt.codeSnippet].forEach(e=>{try{e()}catch{}})},"prefetchNextChunks"),Zp=l(()=>{let t=sessionStorage.getItem("analytics_session_id");return t||(t=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("analytics_session_id",t)),t},"getOrCreateSessionId"),Qp=l(()=>{const t=zs();a.useEffect(()=>{l(async()=>{try{const n=Zp(),r=localStorage.getItem("access_token"),s={"Content-Type":"application/json"};r&&(s.Authorization=`Bearer ${r}`),await fetch(`${Rl}/analytics/track/`,{method:"POST",headers:s,body:JSON.stringify({path:t.pathname,session_id:n,referrer:document.referrer,timestamp:new Date().toISOString()})})}catch{}},"trackPageView")()},[t.pathname])},"usePageTracking"),Xp=l((t={})=>{const e=a.useCallback(n=>{const{ctrlKey:r,shiftKey:s,altKey:i,metaKey:c,key:d}=n,m=navigator.platform.toUpperCase().indexOf("MAC")>=0?c:r;m&&d==="k"&&(n.preventDefault(),t.onQuickSwitcher?.()),m&&d==="f"&&(n.preventDefault(),t.onSearch?.()),m&&d==="/"&&(n.preventDefault(),t.onCommandList?.()),m&&s&&d==="M"&&(n.preventDefault(),t.onToggleMute?.()),m&&s&&d.toLowerCase()==="p"&&(n.preventDefault(),t.onCommandPalette?.()),m&&d===","&&(n.preventDefault(),t.onSettings?.()),m&&s&&d==="D"&&(n.preventDefault(),t.onToggleDeafen?.()),i&&(d==="ArrowUp"||d==="ArrowDown")&&(n.preventDefault(),t.onNavigateChannel?.(d==="ArrowUp"?-1:1)),m&&d==="Enter"&&(n.preventDefault(),t.onSendMessage?.()),d==="Escape"&&t.onEscape?.(),m&&d==="b"&&(n.preventDefault(),t.onToggleSidebar?.()),m&&d==="i"&&(n.preventDefault(),t.onToggleUserInfo?.()),m&&d==="e"&&(n.preventDefault(),t.onToggleEmoji?.()),m&&s&&d==="T"&&(n.preventDefault(),t.onToggleTheme?.()),d==="ArrowUp"&&!m&&!s&&!i&&t.onEditLastMessage?.()},[t]);return a.useEffect(()=>(window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)),[e]),null},"useKeyboardShortcuts"),Lg=l(()=>navigator.platform.toUpperCase().indexOf("MAC")>=0?"‚åò":"Ctrl","getShortcutKey");function ef({setAnimationState:t,setShowVanityInvite:e,setShowInviteCode:n,setMaintenanceMode:r,setUpdateAvailable:s,setAllUsers:i,animationState:c,isInitialDataLoaded:d,isAuthenticated:f,username:m,messages:h,activeChat:g,isInVoice:y,currentVoiceRoom:b,modals:_,statusWsRef:k,openModal:x,closeModal:w,toggleModal:L,setActiveChat:P,isNative:A,isElectron:B,fetchWithAuth:S,isNearBottom:j,scrollToBottom:E,handleMessageScroll:R,API_BASE_URL:N,MEDIA_BASE_URL:V,GOOGLE_WEB_CLIENT_ID:T}){const[v,I]=a.useState("0px");return a.useEffect(()=>{if(c==="finished")return;t("start");const C=setTimeout(()=>t("pre-transition"),800),M=setTimeout(()=>t("finished"),2e3);return()=>{clearTimeout(C),clearTimeout(M)}},[]),a.useEffect(()=>{d&&c==="pre-transition"&&t("finished")},[d,c]),a.useEffect(()=>{const C=new URLSearchParams(window.location.search),M=C.get("verification"),G=C.get("username"),W=C.get("reason"),ne=C.get("needs_password");if(M==="success")se.success(`‚úÖ Email doƒürulandƒ±! Ho≈ügeldin ${G||"kullanƒ±cƒ±"}!`),window.history.replaceState({},document.title,window.location.pathname);else if(M==="failed"){const U=W==="expired"?"‚è∞ Doƒürulama linki s√ºresi dolmu≈ü. Yeni bir link talep edin.":"‚ùå Ge√ßersiz doƒürulama linki.";se.error(U),window.history.replaceState({},document.title,window.location.pathname)}ne==="true"&&(x("passwordSetupModal"),window.history.replaceState({},document.title,window.location.pathname))},[]),a.useEffect(()=>{const C=new URLSearchParams(window.location.search),M=C.get("success"),G=C.get("coins"),W=C.get("session_id"),ne=C.get("canceled");M==="true"&&G&&(l(async()=>{try{const J=localStorage.getItem("access_token"),le=N||"https://api.pawscord.com/api";if(W){const z=await(await fetch(`${le}/payments/verify/`,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify({session_id:W,coin_amount:parseInt(G)})})).json();z.success?z.already_processed?se.info(`üí∞ √ñdeme zaten i≈ülendi! Bakiye: ${z.balance} coin`):se.success(`üéâ ${G} coin hesabƒ±na eklendi! Yeni bakiye: ${z.balance} coin`):se.error(z.error||"√ñdeme doƒürulama hatasƒ±")}else se.success(`üéâ √ñdeme ba≈üarƒ±lƒ±! ${G} coin hesabƒ±na eklendi.`)}catch{se.success(`üéâ ${G} coin satƒ±n alma tamamlandƒ±!`)}},"verifyPayment")(),window.history.replaceState({},document.title,window.location.pathname)),ne==="true"&&(se.info("‚ùå √ñdeme iptal edildi."),window.history.replaceState({},document.title,window.location.pathname))},[]),a.useEffect(()=>{const C=window.location.hash,M=C.match(/^#\/invite\/([^/?]+)/);if(M){n(M[1]);return}const G=C.match(/^#\/join\/([^/?]+)/);if(G){e(G[1]);return}const W=window.location.pathname.match(/^\/join\/([^/?]+)/);if(W){const ne=W[1];window.history.replaceState({},"",`/#/join/${ne}`),e(ne)}},[]),a.useEffect(()=>(window.showAutoModeration=()=>x("autoModeration"),window.showRaidProtection=()=>x("raidProtection"),window.showReportSystem=()=>x("reportSystem"),window.showAuditLog=()=>x("auditLog"),window.showUserWarnings=()=>x("userWarnings"),()=>{delete window.showAutoModeration,delete window.showRaidProtection,delete window.showReportSystem,delete window.showAuditLog,delete window.showUserWarnings}),[]),a.useEffect(()=>{const C=l(M=>{_.toolbarMenu&&!M.target.closest(".toolbar-menu-container")&&w("toolbarMenu")},"handleClickOutside");return document.addEventListener("click",C),()=>document.removeEventListener("click",C)},[_.toolbarMenu]),a.useEffect(()=>{const C=l(()=>{x("connectionsPanel")},"handleOpenConnectionsPanel");return window.addEventListener("openConnectionsPanel",C),()=>window.removeEventListener("openConnectionsPanel",C)},[]),a.useEffect(()=>{Np(),Bp(),Fp(),Wp();const C=setTimeout(()=>{na()},3e3);let M;return"requestIdleCallback"in window&&(M=requestIdleCallback(()=>{Ar()})),A&&p(async()=>{const{initializeDeepLinkHandler:G}=await import("./urlHandlers-Dzl1VppT.js");return{initializeDeepLinkHandler:G}},__vite__mapDeps([338,3,1,5,6,0,4,7])).then(({initializeDeepLinkHandler:G})=>{}),()=>{clearTimeout(C),M&&"cancelIdleCallback"in window&&cancelIdleCallback(M)}},[]),a.useEffect(()=>{f&&p(async()=>{const{pushNotificationManager:C}=await import("./pushNotifications-B9yQNBdW.js");return{pushNotificationManager:C}},__vite__mapDeps([339,3,1])).then(({pushNotificationManager:C})=>{C.init(N,S)})},[f]),a.useEffect(()=>{en.isNativePlatform()&&($p.initialize({clientId:T,scopes:["profile","email"],grantOfflineAccess:!0}),I("max(35px, env(safe-area-inset-top))"))},[]),a.useEffect(()=>{const C=l((W,ne)=>{try{const U=W.split(".").map(Number),J=ne.split(".").map(Number);return U[0]>J[0]?!0:U[0]<J[0]?!1:U[1]>J[1]?!0:U[1]<J[1]?!1:U[2]>J[2]}catch{return!1}},"compareVersions"),M=l(async()=>{const W=window.location.hostname==="localhost"&&window.location.port==="3000";if(!(!B&&!A&&!W))try{let ne="1.1.210";if(window.electron?.getAppVersion)try{ne=await window.electron.getAppVersion()}catch{}const U=await fetch("https://media.pawscord.com/builds/version.json");if(!U.ok)return;const J=await U.json(),le=J.latest_version,ee=C(le,ne);if(le&&ee){if(s(!0),window.require){const{ipcRenderer:z}=window.require("electron");z.send("update-available",{currentVersion:ne,latestVersion:le,downloadUrl:J.download_url_windows})}}else s(!1)}catch{}},"checkForUpdates");M();const G=setInterval(M,1800*1e3);return()=>clearInterval(G)},[]),a.useEffect(()=>{if(!f||!m)return;const C={current:null},M=l(async()=>{try{const W=await S(`${N}/users/rich_presence/${m}/`);if(W.ok){const ne=await W.json();let U={};const J=l(z=>{if(!z)return!0;const X=new Date(z);return(new Date-X)/1e3/60<2},"isTimestampFresh");ne.spotify&&J(ne.spotify.timestamp)&&(U.spotify={type:"listening",name:ne.spotify.track,details:ne.spotify.artist,album_art:ne.spotify.album_art}),ne.steam&&J(ne.steam.timestamp)&&(U.steam={type:"playing",name:ne.steam.game,state:ne.steam.state}),Object.keys(U).length===0&&(U=null);const le=JSON.stringify(C.current),ee=JSON.stringify(U);le!==ee&&(C.current=U,k.current&&k.current.readyState===WebSocket.OPEN&&k.current.send(JSON.stringify({type:"update_activity",activity:U})))}}catch{}},"checkActivity"),G=setInterval(M,3e4);return M(),()=>clearInterval(G)},[f,m,S]),a.useEffect(()=>{const M=setInterval(l(async()=>{try{const G=await fetch(`${N}/maintenance/status/`);if(G.ok){const W=await G.json();W.active?r({message:W.message||"System maintenance in progress",endTime:W.end_time,level:W.level||"info"}):r(null)}}catch{}},"checkMaintenanceMode"),300*1e3);return()=>clearInterval(M)},[]),a.useEffect(()=>{j()&&E("smooth")},[h,j,E]),a.useEffect(()=>{R()},[g,R]),Xp({onQuickSwitcher:l(()=>L("quickSwitcher"),"onQuickSwitcher"),onCommandList:l(()=>L("keyboardShortcuts"),"onCommandList"),onCommandPalette:l(()=>L("commandPalette"),"onCommandPalette"),onSettings:l(()=>L("userSettings"),"onSettings"),onEscape:l(()=>{_.featureHub&&w("featureHub")},"onEscape")}),a.useEffect(()=>{y&&b&&P("voice",b)},[y,b]),Qp(),{safeAreaTop:v}}l(ef,"useAppEffects");const tf={message:`${Et}/sounds/message.mp3`,mention:`${Et}/sounds/mention.mp3`,dm:`${Et}/sounds/dm.mp3`,join:`${Et}/sounds/join.mp3`,leave:`${Et}/sounds/leave.mp3`,call:`${Et}/sounds/call.mp3`,deafen:`${Et}/sounds/deafen.mp3`,mute:`${Et}/sounds/mute.mp3`},nf={message:{freq:880,duration:.08,type:"sine",volume:.15},mention:{freq:1200,duration:.12,type:"sine",volume:.25,repeat:2},dm:{freq:660,duration:.1,type:"triangle",volume:.2,repeat:2},join:{freq:520,duration:.15,type:"sine",volume:.12,ramp:"up"},leave:{freq:420,duration:.15,type:"sine",volume:.12,ramp:"down"},call:{freq:440,duration:.3,type:"sine",volume:.3,repeat:3},deafen:{freq:300,duration:.1,type:"square",volume:.1},mute:{freq:350,duration:.08,type:"square",volume:.1}},so=class so{constructor(){this.audioCache={},this.audioContext=null,this.enabled=!0,this.volume=.5,this.quietHours=null,this._cooldowns={},this._loadSettings()}_loadSettings(){try{const e=localStorage.getItem("pawscord_sound_settings");if(e){const n=JSON.parse(e);this.enabled=n.enabled!==!1,this.volume=n.volume??.5,this.quietHours=n.quietHours||null,this.perEvent=n.perEvent||{}}}catch{}}saveSettings(){try{localStorage.setItem("pawscord_sound_settings",JSON.stringify({enabled:this.enabled,volume:this.volume,quietHours:this.quietHours,perEvent:this.perEvent||{}}))}catch{}}setEnabled(e){this.enabled=e,this.saveSettings()}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),this.saveSettings()}setQuietHours(e,n){this.quietHours=e&&n?{start:e,end:n}:null,this.saveSettings()}setEventEnabled(e,n){this.perEvent||(this.perEvent={}),this.perEvent[e]=n,this.saveSettings()}isInQuietHours(){if(!this.quietHours)return!1;const e=new Date,n=e.getHours(),r=e.getMinutes(),s=n*60+r,[i,c]=this.quietHours.start.split(":").map(Number),[d,f]=this.quietHours.end.split(":").map(Number),m=i*60+c,h=d*60+f;return m<=h?s>=m&&s<h:s>=m||s<h}_getAudioContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}_playTone(e){try{const n=this._getAudioContext(),r=l((i=0)=>{const c=n.createOscillator(),d=n.createGain();c.type=e.type||"sine",c.frequency.value=e.freq,d.gain.value=(e.volume||.15)*this.volume,e.ramp==="up"?(c.frequency.setValueAtTime(e.freq*.7,n.currentTime+i),c.frequency.linearRampToValueAtTime(e.freq,n.currentTime+i+e.duration)):e.ramp==="down"&&(c.frequency.setValueAtTime(e.freq,n.currentTime+i),c.frequency.linearRampToValueAtTime(e.freq*.7,n.currentTime+i+e.duration)),d.gain.setValueAtTime((e.volume||.15)*this.volume,n.currentTime+i),d.gain.exponentialRampToValueAtTime(.001,n.currentTime+i+e.duration),c.connect(d),d.connect(n.destination),c.start(n.currentTime+i),c.stop(n.currentTime+i+e.duration+.05)},"play"),s=e.repeat||1;for(let i=0;i<s;i++)r(i*(e.duration+.06))}catch{}}async play(e){if(!this.enabled||this.isInQuietHours()||this.perEvent&&this.perEvent[e]===!1)return;const n=Date.now();if(this._cooldowns[e]&&n-this._cooldowns[e]<150)return;this._cooldowns[e]=n;const r=tf[e];if(r)try{this.audioCache[e]||(this.audioCache[e]=new Audio(r));const i=this.audioCache[e].cloneNode();i.volume=this.volume,await i.play();return}catch{}const s=nf[e];s&&this._playTone(s)}resume(){this.audioContext?.state==="suspended"&&this.audioContext.resume()}};l(so,"NotificationSoundManager");let zr=so;const vr=new zr,Vr={default:{name:"Pawscord Dark",colors:{"--background-primary":"#313338","--background-secondary":"#2b2d31","--background-tertiary":"#1e1f22","--background-accent":"#404249","--text-primary":"#dbdee1","--text-secondary":"#949ba4","--text-muted":"#787f89","--text-link":"#00a8fc","--button-primary":"#5865f2","--button-secondary":"#4e5058","--border-primary":"#1f2023"}},midnight:{name:"Midnight AMOLED",colors:{"--background-primary":"#000000","--background-secondary":"#0a0a0a","--background-tertiary":"#111111","--background-accent":"#222222","--text-primary":"#ffffff","--text-secondary":"#b0b0b0","--text-muted":"#666666","--text-link":"#3ea6ff","--button-primary":"#3ea6ff","--button-secondary":"#333333","--border-primary":"#333333"}},dracula:{name:"Dracula",colors:{"--background-primary":"#282a36","--background-secondary":"#44475a","--background-tertiary":"#6272a4","--background-accent":"#44475a","--text-primary":"#f8f8f2","--text-secondary":"#bfbfbf","--text-muted":"#6272a4","--text-link":"#8be9fd","--button-primary":"#bd93f9","--button-secondary":"#44475a","--border-primary":"#44475a"}},ocean:{name:"Deep Ocean",colors:{"--background-primary":"#0f172a","--background-secondary":"#1e293b","--background-tertiary":"#334155","--background-accent":"#334155","--text-primary":"#e2e8f0","--text-secondary":"#94a3b8","--text-muted":"#64748b","--text-link":"#38bdf8","--button-primary":"#0ea5e9","--button-secondary":"#334155","--border-primary":"#1e293b"}},forest:{name:"Enchanted Forest",colors:{"--background-primary":"#1a2f1a","--background-secondary":"#243b24","--background-tertiary":"#2f4b2f","--background-accent":"#3a5a3a","--text-primary":"#e0ffe0","--text-secondary":"#a0cca0","--text-muted":"#608060","--text-link":"#4caf50","--button-primary":"#4caf50","--button-secondary":"#2f4b2f","--border-primary":"#2f4b2f"}},matrix:{name:"The Matrix",colors:{"--background-primary":"#0d0d0d","--background-secondary":"#121212","--background-tertiary":"#1a1a1a","--background-accent":"#003b00","--text-primary":"#00ff41","--text-secondary":"#008f11","--text-muted":"#003b00","--text-link":"#00ff41","--button-primary":"#008f11","--button-secondary":"#003b00","--border-primary":"#003b00"}},sunset:{name:"Sunset Vibes",colors:{"--background-primary":"#2d1b2e","--background-secondary":"#442740","--background-tertiary":"#5a3450","--background-accent":"#734361","--text-primary":"#ffccaa","--text-secondary":"#ff9e7d","--text-muted":"#b05963","--text-link":"#ffbd69","--button-primary":"#ff6b6b","--button-secondary":"#5a3450","--border-primary":"#5a3450"}}},rf=l(t=>{const e=Vr[t]||Vr.default,n=document.documentElement;Object.entries(e.colors).forEach(([r,s])=>{n.style.setProperty(r,s)}),localStorage.setItem("pawscord_theme",t)},"applyTheme"),of=l(()=>{const t=localStorage.getItem("pawscord_theme");return t&&Vr[t]?(rf(t),t):"default"},"loadSavedTheme");function sf({activeChat:t,username:e,token:n,isAuthenticated:r,isInitialDataLoaded:s,fetchWithAuth:i,scrollToBottom:c,isNearBottom:d,setMessages:f,setIsConnected:m,historyCacheRef:h,setHasMoreMessages:g,fetchMessageHistory:y,setShowScrollToBottom:b,API_BASE_URL:_,API_HOST:k,WS_PROTOCOL:x,forwardToGlobalContext:w,setGlobalWsConnected:L,setOnlineUsers:P,setVoiceUsersState:A,setAllUsers:B,setCurrentUserProfile:S,activeChatRef:j,tokenRef:E,usernameRef:R,setCategories:N,ROOM_LIST_URL:V,statusWsRef:T,statusWsReconnectRef:v,logout:I,refreshAccessToken:C,setCurrentTheme:M}){const G=a.useRef(null),W=a.useRef(null),ne=a.useRef(0),U=a.useRef(!1),J=8,{setTypingUser:le,incrementUnread:ee}=Jt(),z=a.useCallback(()=>{if(!t.id||t.type==="welcome"||t.type==="friends"||!e)return;if(G.current&&G.current.readyState===WebSocket.OPEN){const $=G.current.url,D=t.type==="room"?`/ws/chat/${t.id}/`:`/ws/dm/${t.id}/`;if($.includes(D))return}if(G.current){try{G.current.close(1e3,"change_room")}catch{}G.current=null}let X="";const Y=`?username=${encodeURIComponent(e)}&token=${n}`;if(t.type==="room"?X=`${x}://${k}/ws/chat/${t.id}/${Y}`:t.type==="dm"&&(X=`${x}://${k}/ws/dm/${t.id}/${Y}`),!X)return;const H=new WebSocket(X);G.current=H,H.onopen=()=>{m(!0),ne.current=0,U.current=!1},H.onmessage=$=>{let D;try{D=JSON.parse($.data)}catch{return}if(D.type==="chat"||D.type==="dm"||D.type==="chat_message_handler"){const O=l(F=>F.room?`room-${F.room}`:F.conversation?`dm-${F.conversation}`:t.type==="room"?`room-${t.id}`:`dm-${t.id}`,"getCacheKeyFromMessage");if(f(F=>{if(D.temp_id){const q=F.findIndex(te=>te.temp_id===D.temp_id);if(q!==-1){const te=[...F];te[q]=D;const ae=O(D);return h.current[ae]&&(h.current[ae].messages=te),te}}if(D.id&&F.some(q=>q.id===D.id))return F;const K=[...F,D],oe=O(D);return h.current[oe]&&(h.current[oe].messages=K),K}),le(D.username,!1),D.username!==e)try{const F=D.content?.includes(`@${e}`)||D.mentions?.includes(e),K=D.type==="dm";F?vr.play("mention"):K?vr.play("dm"):vr.play("message")}catch{}d()?c("smooth"):b(!0)}else D.type==="typing_status_update"?D.username!==e&&le(D.username,D.is_typing):D.type==="chat_cleared"&&f([]);if(D.message&&D.message.startsWith("[ANNOUNCE] ")){const O=D.message.replace("[ANNOUNCE] ","");window.dispatchEvent(new CustomEvent("stickyMessage",{detail:{message:O,type:"info",author:D.username}}))}},H.onerror=$=>{},H.onclose=$=>{if(m(!1),!U.current&&$.code!==1e3&&$.code!==1001){if(ne.current>=J)return;ne.current++;const D=Math.min(2e3*Math.pow(1.5,ne.current-1),3e4);W.current=setTimeout(()=>{U.current||z()},D)}}},[t.id,t.type,e,n]);return a.useEffect(()=>{if(!r||!s)return;const X=of();M(X);const Y=E.current;if(!Y)return;let H=!1,$=0;const D=10,O=l(()=>{const K=E.current||Y,oe=R.current||e,q=`${x}://${k}/ws/status/?username=${encodeURIComponent(oe)}&token=${K}`;let te;try{te=new WebSocket(q)}catch{return null}return te.onopen=()=>{L(!0),$=0},te.onerror=ae=>{},te.onclose=ae=>{if(L(!1),!H&&ae.code!==1e3&&ae.code!==1001){if($>=D)return;$++;const re=Math.min(5e3*Math.pow(2,$-1),6e4);v.current=setTimeout(()=>{if(!H){const Z=O();Z&&(T.current=Z)}},re)}},te.onmessage=ae=>{try{const re=JSON.parse(ae.data);if(w(re),re.type==="online_user_list_update"){const Z=Array.isArray(re.users)?re.users.map(ie=>typeof ie=="string"?ie:ie.username||ie):[];P(Z)}if(re.type==="voice_users_update"&&A(re.voice_users),re.type==="user_activity_update"&&B(Z=>Z.map(ie=>ie.username===re.username?{...ie,current_activity:re.activity}:ie)),re.type==="user_profile_update"&&re.user_data){const Z=re.user_data;Z.username===e&&S(ie=>({...ie,avatar:Z.avatar,status_message:Z.status_message,social_links:Z.social_links,coins:Z.coins,xp:Z.xp,level:Z.level,status:Z.status,role:Z.role})),B(ie=>ie.map(ce=>ce.username===Z.username?{...ce,...Z}:ce))}if(re.type==="global_message_notification"&&re.username!==e){const Z=re.room_slug?`room-${re.room_slug}`:`dm-${re.conversation_id}`,ie=j.current,ce=ie.type==="room"?`room-${ie.id}`:`dm-${ie.id}`;Z!==ce&&ee(Z)}re.type==="server_structure_update"&&(re.categories&&Array.isArray(re.categories)?N(re.categories):i(V).then(Z=>Z.json()).then(Z=>N(Z)).catch(console.error))}catch{}},te},"createSocket"),F=O();return F&&(T.current=F),()=>{H=!0,clearTimeout(v.current);try{T.current&&T.current.close(1e3,"Component unmount")}catch{}}},[r,s]),a.useEffect(()=>{if(!s||!t.id||t.type==="friends"||t.type==="welcome"||t.type==="server")return;let X=!1;const Y=t.type==="room"?`room-${t.id}`:`dm-${t.id}`,H=h.current[Y];return H?.messages?.length>0?(f(H.messages),g(!!H.hasMore),c("auto"),z(),y(!0,!0)):(g(!0),z(),X||y(!0)),()=>{if(X=!0,U.current=!0,clearTimeout(W.current),G.current){try{G.current.close(1e3,"chat_switch")}catch{}G.current=null}}},[t.id,t.type,s,z]),{ws:G,connectWebSocket:z}}l(sf,"useChatConnection");const Kn="ENC::",af=l((t,e)=>{if(!t||!e)return t;try{const n=Cr.AES.encrypt(t,e).toString();return Kn+n}catch{return t}},"encryptMessage"),Ig=l((t,e)=>{if(!t||!t.startsWith(Kn)||!e)return t;try{const n=t.replace(Kn,""),s=Cr.AES.decrypt(n,e).toString(Cr.enc.Utf8);return s||"üîí ≈ûifreli Mesaj (Anahtar Yanlƒ±≈ü)"}catch{return"üîí √á√∂z√ºlemedi"}},"decryptMessage"),Og=l(t=>t&&typeof t=="string"&&t.startsWith(Kn),"isEncrypted");let fn=null;function Ct(t){return new Promise(e=>{const n=typeof t=="string"?{message:t}:{...t},{title:r="Emin misiniz?",message:s="Bu i≈ülemi ger√ßekle≈ütirmek istediƒüinizden emin misiniz?",confirmText:i="Evet",cancelText:c="Vazge√ß",type:d="warning",details:f=null}=n;fn||(fn=document.createElement("div"),fn.id="confirm-dialog-root",document.body.appendChild(fn));const m=fi.createRoot(fn),h=l(b=>{m.unmount(),e(b)},"cleanup"),g={warning:{icon:o.jsx(Ns,{}),color:"#f59e0b",gradient:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",btnColor:"#f59e0b"},danger:{icon:o.jsx(Bs,{}),color:"#ef4444",gradient:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",btnColor:"#ef4444"},info:{icon:o.jsx(wi,{}),color:"#5865f2",gradient:"linear-gradient(135deg, #5865f2 0%, #4752c4 100%)",btnColor:"#5865f2"}},y=g[d]||g.warning;m.render(o.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,animation:"confirmFadeIn 0.2s ease-out",backdropFilter:"blur(4px)"},onClick:l(b=>{b.target===b.currentTarget&&h(!1)},"onClick"),children:[o.jsx("style",{children:`
                    @keyframes confirmFadeIn { from { opacity: 0; } to { opacity: 1; } }
                    @keyframes confirmSlideIn { from { transform: scale(0.9) translateY(20px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
                    .confirm-btn:hover { filter: brightness(1.1); transform: translateY(-1px); }
                    .confirm-btn:active { transform: translateY(0); }
                `}),o.jsxs("div",{style:{background:"#2b2d31",borderRadius:"16px",width:"420px",maxWidth:"90vw",boxShadow:"0 20px 60px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.05)",overflow:"hidden",animation:"confirmSlideIn 0.25s ease-out"},children:[o.jsxs("div",{style:{background:y.gradient,padding:"20px 24px",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",color:"#fff",flexShrink:0},children:y.icon}),o.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px",fontWeight:600,flex:1},children:r}),o.jsx("button",{onClick:l(()=>h(!1),"onClick"),style:{background:"rgba(255,255,255,0.15)",border:"none",color:"#fff",width:"32px",height:"32px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0,transition:"background 0.15s"},onMouseEnter:l(b=>b.target.style.background="rgba(255,255,255,0.25)","onMouseEnter"),onMouseLeave:l(b=>b.target.style.background="rgba(255,255,255,0.15)","onMouseLeave"),children:o.jsx(xn,{})})]}),o.jsxs("div",{style:{padding:"20px 24px"},children:[o.jsx("p",{style:{color:"#dbdee1",fontSize:"14px",lineHeight:"1.6",margin:"0 0 16px 0",whiteSpace:"pre-line"},children:s}),f&&f.length>0&&o.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",padding:"12px 16px",marginBottom:"16px"},children:[o.jsx("div",{style:{color:"#f59e0b",fontSize:"12px",fontWeight:600,marginBottom:"8px"},children:"‚ö†Ô∏è Bu i≈ülem:"}),f.map((b,_)=>o.jsxs("div",{style:{color:"#b5bac1",fontSize:"13px",padding:"3px 0",display:"flex",gap:"8px"},children:[o.jsx("span",{style:{color:y.color},children:"‚Ä¢"}),o.jsx("span",{children:b})]},_))]})]}),o.jsxs("div",{style:{padding:"16px 24px",background:"rgba(0,0,0,0.15)",display:"flex",justifyContent:"flex-end",gap:"10px"},children:[o.jsx("button",{className:"confirm-btn",onClick:l(()=>h(!1),"onClick"),style:{background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"#b5bac1",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.15s"},onMouseEnter:l(b=>{b.target.style.background="rgba(255,255,255,0.05)",b.target.style.color="#fff"},"onMouseEnter"),onMouseLeave:l(b=>{b.target.style.background="transparent",b.target.style.color="#b5bac1"},"onMouseLeave"),children:c}),o.jsx("button",{className:"confirm-btn",onClick:l(()=>h(!0),"onClick"),autoFocus:!0,style:{background:y.btnColor,border:"none",color:"#fff",padding:"10px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,transition:"all 0.15s",boxShadow:`0 2px 8px ${y.btnColor}40`},children:i})]})]})]}))})}l(Ct,"confirmDialog");typeof window<"u"&&(window.confirmDialog=Ct);function lf({activeChat:t,username:e,token:n,ws:r,encryptionKeys:s,setMessages:i,scrollToBottom:c,isNearBottom:d,setEditingMessage:f,setHasDraftMessage:m,setDraftText:h,persistDraft:g,setStickyMessage:y,richTextRef:b,fetchWithAuth:_,currentUserProfile:k,getDeterministicAvatar:x,historyCacheRef:w,setHasMoreMessages:L,setIsSummaryLoading:P,setSummaryResult:A,setPinnedMessages:B,setConversations:S,setMessageHistoryLoading:j,openModal:E,closeModal:R,API_BASE_URL:N,MESSAGE_HISTORY_ROOM_URL:V,MESSAGE_HISTORY_DM_URL:T}){const v=a.useRef([]),I=a.useRef(null),C=a.useCallback($=>{if(!$)return;const D=$.trim();if(!D)return;if(D==="/tema"){E("themeStore"),f(null),m(!1),h(""),b.current?.clear?.();return}if(D==="/sablon"){E("templateModal"),f(null),m(!1),h(""),b.current?.clear?.();return}if(D.startsWith("/duyuru ")){const re=D.slice(8).trim();if(re){const Z={type:t.type==="room"?"chat_message":"dm_message",message:`[ANNOUNCE] ${re}`,username:e,temp_id:Gn(),...t.type==="room"?{room:t.id}:{conversation:t.id}};r.current?.send(JSON.stringify(Z)),y({message:re,type:"info",author:e}),f(null),m(!1),h(""),b.current?.clear?.();return}}f(null),m(!1),h(""),g("");const O=t.type==="room"?`room-${t.id}`:`dm-${t.id}`,F=s[O];let K=D;t.type==="dm"&&F&&(K=af(D,F));const oe={type:t.type==="room"?"chat_message":"dm_message",message:K,username:e,temp_id:Gn(),...t.type==="room"?{room:t.id}:{conversation:t.id}},q=JSON.stringify(oe),te=l(async()=>{let ie=0;for(;r.current&&r.current.readyState===WebSocket.CONNECTING&&ie<3e3;)await new Promise(ce=>setTimeout(ce,100)),ie+=100;if(r.current&&r.current.readyState===WebSocket.OPEN)try{return r.current.send(q),!0}catch{return!1}return!1},"sendViaWebSocket"),ae=l(async()=>{try{const re=t.type==="dm"?`${N}/messages/send_dm/`:`${N}/messages/send/`,Z=t.type==="dm"?{conversation_id:t.id,content:K}:{room:t.id,content:K};return(await _(re,{method:"POST",body:JSON.stringify(Z)})).ok}catch{return!1}},"sendViaHTTP");(async()=>await te()||await ae())(),i(re=>{const Z={...oe,content:K,timestamp:new Date().toISOString(),id:oe.temp_id,avatar:k?.avatar||x(e)},ie=[...re,Z],ce=t.type==="room"?`room-${t.id}`:`dm-${t.id}`;return w.current[ce]&&(w.current[ce].messages=ie),ie}),b.current?.clear?.(),c("smooth")},[t,e,s,r,_,k,x,g]),M=a.useCallback($=>{const D={type:t.type==="room"?"chat_message":"dm_message",message:"",username:e,temp_id:Gn(),snippet_data:$,...t.type==="room"?{room:t.id}:{conversation:t.id}};r.current?.send(JSON.stringify(D)),i(O=>[...O,{...D,timestamp:new Date().toISOString(),id:D.temp_id,avatar:k?.avatar||x(e)}]),R("snippetModal")},[t,e,r,k,x]),G=a.useRef(null),W=a.useCallback(async($=!0,D=!1)=>{if(!t.id)return;if(t.type==="voice"){i([]),L(!1);return}$&&!D&&j(!0);const O=t.type==="room"?V:T,F=t.type==="room"?`room-${t.id}`:`dm-${t.id}`;try{const K=$?`${O}${t.id}/?limit=75`:G.current;if(!K){L(!1);return}const oe=await _(K);if(oe.ok){const q=await oe.json(),re=(q.results||[]).filter(ce=>ce&&typeof ce=="object"&&(ce.id||ce.temp_id)).reverse();G.current=q.next||null;const Z=!!q.next;L(Z);let ie=re;$?(i(re),setTimeout(()=>c("auto"),60)):i(ce=>{const pe=new Set(ce.map(Pe=>Pe.id));return ie=[...re.filter(Pe=>!pe.has(Pe.id)),...ce],ie}),w.current[F]={messages:ie,nextCursor:q.next,hasMore:Z}}}catch{}$&&!D&&j(!1)},[t,_,c]),ne=a.useCallback(async $=>{if(await Ct("Bu mesajƒ± silmek istediƒüine emin misin?"))try{(await _(`${N}/messages/${$}/delete/`,{method:"DELETE"})).ok&&i(O=>O.filter(F=>F.id!==$))}catch{}},[_,N]),U=a.useCallback(async $=>{try{const D=await _(`${N}/messages/${$}/pin/`,{method:"POST"});if(D.ok){const O=await D.json(),F=O.is_pinned??O.pinned??!0;i(K=>K.map(oe=>oe.id===$?{...oe,is_pinned:F}:oe)),F?(B(K=>(K.find(q=>q.id===$),K)),se.success("üìå Mesaj sabitlendi")):(B(K=>K.filter(oe=>oe.id!==$)),se.success("üìå Sabitleme kaldƒ±rƒ±ldƒ±"))}}catch{se.error("‚ùå Sabitleme hatasƒ±")}},[_,N]),J=a.useCallback(async($,D)=>{if($.preventDefault(),!t.id||!D.trim()){D.trim()||W(!0);return}j(!0);try{let O=`${N}/messages/search/?q=${encodeURIComponent(D)}`;t.type==="room"?O+=`&room=${t.id}`:O+=`&dm=${t.id}`;const F=await _(O);if(F.ok){const K=await F.json();i(K.results||K)}}catch{}j(!1)},[t,_,W]),le=a.useCallback(async()=>{E("summary"),P(!0),A("");try{const $=await _(`${N}/rooms/${t.id}/summarize/`,{method:"POST"}),D=await $.json();A($.ok?D.summary:"Hata: "+D.error)}catch{A("Baƒülantƒ± hatasƒ±.")}P(!1)},[t,_]),ee=a.useCallback(async()=>{if(await Ct("Bu odadaki t√ºm mesajlarƒ± silmek istediƒüine emin misin?"))try{(await _(`${N}/rooms/${t.id}/clear/`,{method:"POST"})).ok&&i([])}catch{}},[t,_]),z=a.useCallback(async $=>{if(await Ct("Bu sohbeti listenizden gizlemek istiyor musunuz?"))try{(await _(`${N}/conversations/${$}/hide/`,{method:"POST"})).ok&&(S(O=>O.filter(F=>F.id!==$)),t.type==="dm"&&t.id===$&&window.dispatchEvent(new CustomEvent("setActiveChatWelcome")))}catch{}},[t,_]),X=a.useCallback(async $=>{if(await Ct(`‚ö†Ô∏è ADMƒ∞N: Bu konu≈ümayƒ± HER ƒ∞Kƒ∞ TARAFTAN KALICI OLARAK silmek istediƒüinize emin misiniz?

Bu i≈ülem GERƒ∞ ALINAMAZ!`))try{const D=await _(`${N}/conversations/${$}/admin-delete/`,{method:"DELETE"});if(D.ok){const O=await D.json();se.success(`‚úÖ ${O.deleted_messages} mesaj silindi. Katƒ±lƒ±mcƒ±lar: ${O.participants.join(", ")}`),S(F=>F.filter(K=>K.id!==$)),t.type==="dm"&&t.id===$&&window.dispatchEvent(new CustomEvent("setActiveChatWelcome"))}else{const O=await D.json();se.error(`‚ùå Hata: ${O.error||"Silme i≈ülemi ba≈üarƒ±sƒ±z"}`)}}catch{se.error("‚ùå Sunucuyla baƒülantƒ± hatasƒ±")}},[t,_]),Y=a.useCallback($=>{v.current.push($),!I.current&&(I.current=setTimeout(async()=>{const D=[...new Set(v.current)];if(v.current=[],I.current=null,D.length!==0)try{(await _(`${N}/messages/mark_read/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message_ids:D})})).ok&&i(F=>F.map(K=>D.includes(K.id)?{...K,read_by:[...K.read_by||[],e]}:K))}catch{}},1500))},[_,e]),H=a.useCallback($=>{const D=document.getElementById(`message-${$}`);D&&D.scrollIntoView({behavior:"smooth",block:"center"})},[]);return{sendMessage:C,handleSendSnippet:M,fetchMessageHistory:W,handleDeleteMessage:ne,handleTogglePin:U,handleSearchMessages:J,handleSummarize:le,handleClearChat:ee,handleHideConversation:z,handleAdminDeleteConversation:X,handleMessageVisible:Y,scrollToMessage:H}}l(lf,"useMessageHandlers");function cf({activeChat:t,username:e,fetchWithAuth:n,scrollToBottom:r,setMessages:s,API_BASE_URL:i,handleDMClick:c,conversations:d,categories:f}){const[m,h]=a.useState(!1),[g,y]=a.useState(!1),[b,_]=a.useState(0),[k,x]=a.useState([]),[w,L]=a.useState(!1),P=a.useRef(null),A=a.useRef([]),B=a.useRef(0),S=a.useCallback(async(v,I=!1,C=0,M=null)=>{const G=v.size>=5242880;G&&(y(!0),_(0));const W=M||t,ne=Gn();try{const U=await Ul(v),J=v.type||"application/octet-stream",le=10*1024*1024,ee=5,z=Math.ceil(v.size/le),Y=await(await n(`${i}/upload/multipart/init/`,{method:"POST",body:JSON.stringify({file_name:v.name,file_size:v.size,content_type:J,file_hash:U,room_slug:W.type==="room"?W.id:null,conversation_id:W.type==="dm"?W.id:null,temp_id:ne,is_voice_message:I?"true":"false",duration:C.toString()})})).json();if(Y.file_exists){G&&(y(!1),_(100)),Y.id&&W.id===t.id&&(s(q=>{if(Y.temp_id){const te=q.findIndex(ae=>ae.temp_id===Y.temp_id);if(te!==-1){const ae=[...q];return ae[te]=Y,ae}}return q.some(te=>te.id===Y.id)?q:[...q,Y]}),r("smooth"));return}const{upload_id:H,key:$}=Y,D=[];let O=0;const F=l(async q=>{const te=(q-1)*le,ae=Math.min(te+le,v.size),re=v.slice(te,ae),Z=new FormData;Z.append("upload_id",H),Z.append("key",$),Z.append("part_number",q.toString()),Z.append("chunk",re,`part_${q}`);const ie=await n(`${i}/upload/multipart/upload-part/`,{method:"POST",body:Z,headers:{}});if(!ie.ok)throw new Error(`Part ${q} upload failed`);const{etag:ce,part_number:pe}=await ie.json();return O++,G&&_(Math.round(O/z*95)),{ETag:ce,PartNumber:pe}},"uploadPart");for(let q=0;q<z;q+=ee){const te=[];for(let re=0;re<ee&&q+re<z;re++)te.push(F(q+re+1));const ae=await Promise.all(te);D.push(...ae)}D.sort((q,te)=>q.PartNumber-te.PartNumber);const K=await n(`${i}/upload/multipart/complete/`,{method:"POST",body:JSON.stringify({upload_id:H,key:$,parts:D,file_name:v.name,file_hash:U,room_slug:W.type==="room"?W.id:null,conversation_id:W.type==="dm"?W.id:null,temp_id:ne,is_voice_message:I?"true":"false",duration:C.toString()})});if(!K.ok)throw new Error(`Complete failed: ${await K.text()}`);const oe=await K.json();G&&_(100),W.id===t.id&&(s(q=>{if(oe.temp_id){const te=q.findIndex(ae=>ae.temp_id===oe.temp_id);if(te!==-1){const ae=[...q];return ae[te]=oe,ae}}return oe.id&&q.some(te=>te.id===oe.id)?q:[...q,oe]}),r("smooth"))}catch(U){se.error(`Y√ºkleme hatasƒ±: ${U.message}`)}G&&y(!1)},[t,n]),j=a.useCallback(async()=>{try{const v=await navigator.mediaDevices.getUserMedia({audio:!0}),I={mimeType:"audio/webm;codecs=opus"};MediaRecorder.isTypeSupported(I.mimeType)||(I.mimeType="audio/webm"),P.current=new MediaRecorder(v,I),A.current=[],P.current.ondataavailable=C=>{C.data.size>0&&A.current.push(C.data)},P.current.onstop=async()=>{const C=new Blob(A.current,{type:"audio/webm;codecs=opus"});await R(C),v.getTracks().forEach(M=>M.stop())},P.current.start(),L(!0)}catch(v){v.name==="NotAllowedError"?se.warning("Mikrofon eri≈üimi reddedildi!"):v.name==="NotFoundError"?se.warning("Mikrofon bulunamadƒ±!"):se.error("Mikrofon hatasƒ±: "+v.message)}},[]),E=a.useCallback(()=>{P.current&&w&&(P.current.stop(),L(!1))},[w]),R=a.useCallback(async v=>{const I=`voice_${Date.now()}.webm`,C=`upload_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,M=new FormData;M.append("chunk",v),M.append("upload_id",C),M.append("chunk_index","0"),M.append("total_chunks","1"),M.append("file_name",I),M.append("is_voice_message","true"),t.type==="room"?M.append("room_slug",t.id):t.type==="dm"&&M.append("conversation_id",t.id);try{if(!(await n(`${i}/messages/upload_file/`,{method:"POST",body:M})).ok)throw new Error("Upload failed")}catch{se.error("Ses mesajƒ± g√∂nderilemedi")}},[t,n]),N=a.useCallback(v=>{if(v.preventDefault(),v.stopPropagation(),B.current=0,h(!1),v.dataTransfer.files&&v.dataTransfer.files.length>0){const C=Array.from(v.dataTransfer.files).map(M=>({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:M,name:M.name,size:M.size,type:M.type,previewUrl:M.type.startsWith("image/")||M.type.startsWith("video/")?URL.createObjectURL(M):null}));x(C)}},[]),V=a.useCallback(v=>{v.preventDefault(),B.current++,h(!0)},[]),T=a.useCallback(v=>{v.preventDefault(),B.current--,B.current<=0&&(B.current=0,h(!1))},[]);return{isDragging:m,setIsDragging:h,isUploading:g,uploadProgress:b,pendingFilesFromDrop:k,setPendingFilesFromDrop:x,isRecordingVoice:w,uploadFile:S,startVoiceRecording:j,stopVoiceRecording:E,handleChatDrop:N,handleChatDragEnter:V,handleChatDragLeave:T,dragCounterRef:B}}l(cf,"useFileUpload");function df({username:t,fetchWithAuth:e,categories:n,allUsers:r,friendsList:s,serverMembers:i,isAdmin:c,currentVoiceRoom:d,setUpdateStatusText:f,setFriendsList:m,setInviteToServerUser:h,API_BASE_URL:g,handleDMClick:y,isInVoice:b,setServerOrder:_,serverOrder:k,setActiveChat:x,setCurrentUserProfile:w,setCategories:L,setConversations:P,setAllUsers:A,setIsInitialDataLoaded:B,setAuthError:S,login:j,logout:E,setViewingProfile:R,ABSOLUTE_HOST_URL:N,ROOM_LIST_URL:V}){const[T,v]=a.useState(null),I=a.useCallback(async ee=>{try{await e(`${g}/user/server-order/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_order:ee})})}catch{}},[e]),C=a.useCallback((ee,z,X)=>{ee.dataTransfer.effectAllowed="move",ee.dataTransfer.setData("serverId",z.toString()),ee.dataTransfer.setData("sourceIndex",X.toString());const Y=ee.currentTarget.cloneNode(!0);Y.style.position="absolute",Y.style.top="-9999px",Y.style.opacity="0.8",Y.style.transform="rotate(5deg)",Y.style.pointerEvents="none",document.body.appendChild(Y),ee.dataTransfer.setDragImage(Y,24,24),setTimeout(()=>{document.body.contains(Y)&&document.body.removeChild(Y)},0),ee.currentTarget.style.opacity="0.4"},[]),M=a.useCallback(ee=>{ee.preventDefault(),ee.dataTransfer.dropEffect="move"},[]),G=a.useCallback(ee=>{ee.currentTarget.style.opacity="1"},[]),W=a.useCallback((ee,z)=>{let X=k.length>0?[...k]:n.map(D=>D.id);n.forEach(D=>{X.includes(D.id)||X.push(D.id)});const Y=X.indexOf(ee);if(Y===-1)return;const H=z==="up"?Y-1:Y+1;if(H<0||H>=X.length)return;const[$]=X.splice(Y,1);X.splice(H,0,$),_(X),I(X)},[k,n,I]),ne=a.useCallback((ee,z)=>{ee.preventDefault();const X=parseInt(ee.dataTransfer.getData("serverId"));if(isNaN(X))return;let Y=k.length>0?[...k]:n.map(O=>O.id);n.forEach(O=>{Y.includes(O.id)||Y.push(O.id)});const H=Y.indexOf(X);if(H===-1||H===z||H+1===z)return;const[$]=Y.splice(H,1),D=H<z?z-1:z;Y.splice(D,0,$),_(Y),I(Y)},[k,n,I]),U=a.useCallback(async(ee,z)=>{try{const X=`${g}/auth/login/`,Y=await fetch(X,{method:"POST",body:JSON.stringify({username:ee,password:z}),headers:{"Content-Type":"application/json"},credentials:"include"}),H=await Y.json();if(Y.ok)j(H.access,H.refresh);else{if(Y.status===401&&H.requires_2fa&&H.temp_token){window.location.href=`/#/2fa-login?temp_token=${encodeURIComponent(H.temp_token)}`;return}Y.status===401?S("Kullanƒ±cƒ± adƒ± veya ≈üifre hatalƒ±"):Y.status===400?S(H.detail||H.error||"Ge√ßersiz giri≈ü bilgileri"):Y.status>=500?S("Sunucu hatasƒ±. L√ºtfen daha sonra tekrar deneyin."):S(H.detail||H.error||"Giri≈ü ba≈üarƒ±sƒ±z")}}catch{S("Sunucuya baƒülanƒ±lamadƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin.")}},[j,S,g]),J=a.useCallback(async(ee,z,X)=>{try{const Y=`${g}/auth/register/`,H=await fetch(Y,{method:"POST",body:JSON.stringify({username:ee,email:z,password:X}),headers:{"Content-Type":"application/json"}});if(H.status===201)return!0;const $=await H.json();let D="";return $.username?D=$.username.join(" "):$.email?D=$.email.join(" "):$.password?D=$.password.join(" "):$.detail?D=$.detail:D=Object.values($).flat().join(" "),S(D||"Kayƒ±t i≈ülemi ba≈üarƒ±sƒ±z"),!1}catch{return S("Sunucuya baƒülanƒ±lamadƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin."),!1}},[S,g]),le=a.useCallback(async(ee,z,X)=>{switch(ee){case"profile":{const Y=r.find(H=>H.username===z.username);Y&&R(Y);break}case"message":y(z.username);break;case"volume":break;case"move":if(c&&X&&d)try{await e(`${g}/voice/move_user/`,{method:"POST",body:JSON.stringify({username:z.username,from_channel:d,to_channel:X})})}catch{}break;case"kick":if(c&&await Ct(`${z.username} kullanƒ±cƒ±sƒ±nƒ± kanaldan atmak istediƒüine emin misin?`))try{await e(`${g}/voice/kick_user/`,{method:"POST",body:JSON.stringify({username:z.username,room:d})})}catch{}break;case"server_mute":if(c)try{await e(`${g}/voice/server_mute/`,{method:"POST",body:JSON.stringify({username:z.username,room:d})})}catch{}break;case"add_friend":try{const Y=await e(`${g}/friends/send/`,{method:"POST",body:JSON.stringify({username:z.username})});if(Y.ok)f(`‚úÖ ${z.username} kullanƒ±cƒ±sƒ±na arkada≈ülƒ±k isteƒüi g√∂nderildi!`),setTimeout(()=>f(""),3e3);else{const H=await Y.json();f(`‚ùå ${H.error||"ƒ∞stek g√∂nderilemedi"}`),setTimeout(()=>f(""),3e3)}}catch{f("‚ùå Arkada≈ü ekleme hatasƒ±"),setTimeout(()=>f(""),3e3)}break;case"remove_friend":if(await Ct(`${z.username} ile arkada≈ülƒ±ƒüƒ± sonlandƒ±rmak istediƒüinize emin misiniz?`))try{const Y=s.find(H=>H.sender_username===z.username||H.receiver_username===z.username);if(Y&&(await e(`${g}/friends/remove/${Y.id}/`,{method:"DELETE"})).ok){f(`‚úÖ ${z.username} ile arkada≈ülƒ±k sonlandƒ±rƒ±ldƒ±`),setTimeout(()=>f(""),3e3);const $=await e(`${g}/friends/list/`);if($.ok){const D=await $.json();m(D.friends||[])}}}catch{f("‚ùå Arkada≈ülƒ±k sonlandƒ±rma hatasƒ±"),setTimeout(()=>f(""),3e3)}break;case"invite_to_server":h({username:z.username});break;case"mute_user":try{const Y=await e(`${g}/users/${z.username}/mute/`,{method:"POST"});if(Y.ok)se.success(`üîá ${z.username} sessize alƒ±ndƒ±`);else{const H=await Y.json();se.error(`‚ùå ${H.error||"Sessize alma ba≈üarƒ±sƒ±z"}`)}}catch{se.error("‚ùå Sessize alma hatasƒ±")}break;case"block_user":if(await Ct(`${z.username} kullanƒ±cƒ±sƒ±nƒ± engellemek istediƒüinize emin misiniz?`))try{const Y=await e(`${g}/users/${z.username}/block/`,{method:"POST"});if(Y.ok){se.success(`üö´ ${z.username} engellendi`);const H=await e(`${g}/friends/list/`);if(H.ok){const $=await H.json();m($.friends||[])}}else{const H=await Y.json();se.error(`‚ùå ${H.error||"Engelleme ba≈üarƒ±sƒ±z"}`)}}catch{se.error("‚ùå Engelleme hatasƒ±")}break}},[r,c,d,e,g,y,s]);return{serverToEdit:T,setServerToEdit:v,saveServerOrder:I,handleServerDragStart:C,handleServerDragOver:M,handleServerDragEnd:G,handleMoveServer:W,handleServerDrop:ne,handleLogin:U,handleRegister:J,handleUserContextAction:le}}l(df,"useServerHandlers");const uf=l(({onClick:t,unreadCount:e=0,visible:n=!0})=>n?o.jsxs("button",{onClick:t,style:ms.fab,className:"scroll-to-bottom-fab",title:"En alta git",children:[e>0&&o.jsx("div",{style:ms.badge,children:e>99?"99+":e}),o.jsx(Ei,{style:{fontSize:16}})]}):null,"ScrollToBottomButton"),ms={fab:{position:"absolute",bottom:90,right:20,width:40,height:40,borderRadius:"50%",backgroundColor:"#313338",border:"1px solid rgba(255,255,255,0.1)",color:"#dcddde",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",transition:"all 0.2s ease",zIndex:50},badge:{position:"absolute",top:-8,right:-4,minWidth:20,height:20,borderRadius:10,backgroundColor:"#5865f2",color:"#fff",fontSize:11,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 5px",boxShadow:"0 2px 6px rgba(88,101,242,0.4)"}};if(typeof document<"u"){const t="scroll-bottom-fab-css";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=".scroll-to-bottom-fab:hover { background-color: #404249 !important; transform: scale(1.1); }",document.head.appendChild(e)}}const pf=a.memo(uf),ff=l(t=>{const e=new Date(t),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(r.getTime()-864e5),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return i.getTime()===r.getTime()?"Bug√ºn":i.getTime()===s.getTime()?"D√ºn":Math.floor((r.getTime()-i.getTime())/864e5)<7?["Pazar","Pazartesi","Salƒ±","√áar≈üamba","Per≈üembe","Cuma","Cumartesi"][e.getDay()]:e.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})},"formatDateLabel"),mf=l(({date:t})=>o.jsxs("div",{style:Bn.container,children:[o.jsx("div",{style:Bn.line}),o.jsx("span",{style:Bn.label,children:ff(t)}),o.jsx("div",{style:Bn.line})]}),"MessageDateDivider"),Bn={container:{display:"flex",alignItems:"center",gap:12,padding:"16px 0 8px",userSelect:"none"},line:{flex:1,height:1,backgroundColor:"rgba(255,255,255,0.06)"},label:{color:"#949ba4",fontSize:12,fontWeight:600,whiteSpace:"nowrap",padding:"2px 8px",borderRadius:12,backgroundColor:"rgba(255,255,255,0.03)"}},gs=a.memo(mf),gf=l(({typingUsers:t=[],currentUser:e})=>{const n=a.useMemo(()=>t.filter(s=>s!==e),[t,e]);if(n.length===0)return null;const r=a.useMemo(()=>n.length===1?`${n[0]} yazƒ±yor`:n.length===2?`${n[0]} ve ${n[1]} yazƒ±yor`:n.length===3?`${n[0]}, ${n[1]} ve ${n[2]} yazƒ±yor`:`${n[0]}, ${n[1]} ve ${n.length-2} ki≈üi daha yazƒ±yor`,[n]);return o.jsxs("div",{style:Yt.container,children:[o.jsxs("div",{style:Yt.dots,children:[o.jsx("span",{style:{...Yt.dot,animationDelay:"0s"}}),o.jsx("span",{style:{...Yt.dot,animationDelay:"0.2s"}}),o.jsx("span",{style:{...Yt.dot,animationDelay:"0.4s"}})]}),o.jsx("span",{style:Yt.text,children:r})]})},"TypingIndicatorEnhanced"),Yt={container:{display:"flex",alignItems:"center",gap:8,padding:"4px 16px",height:24,overflow:"hidden"},dots:{display:"flex",gap:3,alignItems:"center"},dot:{width:6,height:6,borderRadius:"50%",backgroundColor:"#fff",animation:"typingDotBounce 1.2s infinite ease-in-out"},text:{color:"#949ba4",fontSize:12,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};if(typeof document<"u"){const t="typing-enhanced-css";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=`
            @keyframes typingDotBounce {
                0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
                30% { transform: translateY(-4px); opacity: 1; }
            }
        `,document.head.appendChild(e)}}const hf=a.memo(gf),yf=u.memo(({messages:t,currentUser:e,absoluteHostUrl:n,isAdmin:r,onOpenGallery:s,onViewProfile:i,onDelete:c,allUsers:d,getDeterministicAvatar:f,fetchWithAuth:m,onVisible:h})=>{const g=t[0],y=(()=>{let E=g.avatar;return E||(E=d?.find(N=>N.username===g.username)?.avatar),E||(E=f(g.username)),E&&!E.startsWith("http")&&!E.startsWith("blob:")&&(E=`${n.replace(/\/$/,"")}/${E.replace(/^\//,"")}`),E})(),b=l(E=>E?E.startsWith("http")||E.startsWith("blob:")?E:`${n.replace(/\/$/,"")}/${E.replace(/^\//,"")}`:null,"getFullUrl"),_=t.map(E=>{const R=E.image_url||E.image;if(R)return b(R);const N=E.file_url||E.file;return N&&/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(E.file_name||"")?b(N):null}).filter(Boolean),k=4,x=_.length,w=_.slice(0,k),L=w.length,P=Math.max(0,x-k),A=l(()=>L===1?{gridTemplateColumns:"1fr",maxWidth:"300px"}:L===2?{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"}:L===3?{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"}:{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"},"getGridStyle"),B=g.timestamp?new Date(g.timestamp):null,S=B?B.toDateString()===new Date().toDateString()?B.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):B.toLocaleString([],{hour:"2-digit",minute:"2-digit"}):"",j=l(E=>{s&&s(_,E)},"handleImageClick");return o.jsxs("div",{style:{display:"flex",padding:"4px 48px 4px 16px",gap:"12px",position:"relative"},children:[o.jsx("div",{style:{flexShrink:0,width:"40px",paddingTop:"2px"},children:o.jsx("img",{src:y,alt:g.username,style:{width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",objectFit:"cover"},onClick:l(()=>i(g.username),"onClick")})}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[o.jsx("strong",{style:{cursor:"pointer",color:r&&g.username===e?"#f0b232":"#fff",fontSize:"0.95em"},onClick:l(()=>i(g.username),"onClick"),children:g.username}),o.jsx("span",{style:{color:"#72767d",fontSize:"0.75em"},children:S}),x>1&&o.jsxs("span",{style:{color:"#5865f2",fontSize:"0.72em",fontWeight:600},children:["üì∑ ",x," fotoƒüraf"]})]}),o.jsx("div",{style:{display:"grid",...A(),gap:"3px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:w.map((E,R)=>{const N=R===k-1&&P>0;return o.jsxs("div",{style:{aspectRatio:L===1?"auto":L===3&&R===0?"2/1":"1/1",overflow:"hidden",position:"relative",...L===3&&R===0?{gridColumn:"1 / -1"}:{},maxHeight:L===1?"300px":"200px",cursor:"pointer"},onClick:l(()=>j(R),"onClick"),children:[o.jsx("img",{src:E,alt:`gallery-${R}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",transition:"transform 0.2s, filter 0.2s",filter:N?"brightness(0.4)":"none"},loading:"lazy",onMouseEnter:l(V=>{V.target.style.transform="scale(1.05)",N||(V.target.style.filter="brightness(0.85)")},"onMouseEnter"),onMouseLeave:l(V=>{V.target.style.transform="scale(1)",N?V.target.style.filter="brightness(0.4)":V.target.style.filter="none"},"onMouseLeave")}),N&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:o.jsxs("span",{style:{color:"#fff",fontSize:"2rem",fontWeight:700,textShadow:"0 2px 8px rgba(0,0,0,0.6)",letterSpacing:"1px"},children:["+",P]})})]},t[R]?.id||R)})})]})]})}),Fe={display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",border:"none",width:"100%",textAlign:"left",cursor:"pointer",fontSize:"14px",backgroundColor:"transparent",color:"#dcddde",transition:"all 0.15s ease"},_f=a.memo(l(function({activeChat:e,hasKey:n,modals:r,soundSettings:s,isInVoice:i,username:c,openModal:d,closeModal:f,toggleModal:m,handleCopyLink:h,toggleNotifications:g,handleSummarize:y,handleClearChat:b,handleAdminDeleteConversation:_}){const k=l(C=>{C.currentTarget.style.backgroundColor="#5865f2",C.currentTarget.style.color="#ffffff"},"hoverOn"),x=l((C,M="#dcddde")=>{C.currentTarget.style.backgroundColor="transparent",C.currentTarget.style.color=M},"hoverOff"),w=a.useCallback(()=>{d("encModal"),f("toolbarMenu")},[d,f]),L=a.useCallback(()=>{m("pinned"),f("toolbarMenu")},[m,f]),P=a.useCallback(()=>{h(),f("toolbarMenu")},[h,f]),A=a.useCallback(()=>{g(),f("toolbarMenu")},[g,f]),B=a.useCallback(()=>{d("mentionsInbox"),f("toolbarMenu")},[d,f]),S=a.useCallback(()=>{d("customStatus"),f("toolbarMenu")},[d,f]),j=a.useCallback(()=>{d("cinema"),f("toolbarMenu")},[d,f]),E=a.useCallback(()=>{d("dJ"),f("toolbarMenu")},[d,f]),R=a.useCallback(()=>{d("whiteboard"),f("toolbarMenu")},[d,f]),N=a.useCallback(()=>{d("soundboard"),f("toolbarMenu")},[d,f]),V=a.useCallback(()=>{y(),f("toolbarMenu")},[y,f]),T=a.useCallback(()=>{b(),f("toolbarMenu")},[b,f]),v=a.useCallback(()=>{_(e.id),f("toolbarMenu")},[_,e.id,f]),I=a.useCallback(()=>{d("featureHub"),f("toolbarMenu")},[d,f]);return o.jsxs("div",{style:{position:"absolute",top:"50px",right:"0",backgroundColor:"#2f3136",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)",minWidth:"220px",zIndex:1e3,overflow:"hidden",border:"1px solid #202225"},children:[e.type==="dm"&&o.jsxs("button",{onClick:w,style:{...Fe,color:n?"#43b581":"#dcddde"},onMouseEnter:k,onMouseLeave:l(C=>x(C,n?"#43b581":"#dcddde"),"onMouseLeave"),children:[n?o.jsx(qo,{}):o.jsx(qo,{style:{opacity:.5}}),o.jsx("span",{children:n?"≈ûifreli":"≈ûifrele"})]}),o.jsxs("button",{onClick:L,style:{...Fe,color:r.pinned?"#f5a524":"#dcddde"},onMouseEnter:k,onMouseLeave:l(C=>x(C,r.pinned?"#f5a524":"#dcddde"),"onMouseLeave"),children:[o.jsx(Ci,{}),o.jsx("span",{children:"Sabitli Mesajlar"})]}),o.jsxs("button",{onClick:P,style:Fe,onMouseEnter:k,onMouseLeave:l(C=>x(C),"onMouseLeave"),children:[o.jsx(Ti,{}),o.jsx("span",{children:"Baƒülantƒ±yƒ± Kopyala"})]}),o.jsxs("button",{onClick:A,style:{...Fe,color:s.notifications?"#43b581":"#f04747"},onMouseEnter:k,onMouseLeave:l(C=>x(C,s.notifications?"#43b581":"#f04747"),"onMouseLeave"),children:[s.notifications?o.jsx(Fs,{}):o.jsx(Pi,{}),o.jsx("span",{children:s.notifications?"Sessize Al":"Sesi A√ß"})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:B,style:Fe,onMouseEnter:k,onMouseLeave:l(C=>x(C),"onMouseLeave"),children:[o.jsx(ji,{}),o.jsx("span",{children:"Bahsedilmeler"})]}),o.jsxs("button",{onClick:S,style:Fe,onMouseEnter:k,onMouseLeave:l(C=>x(C),"onMouseLeave"),children:[o.jsx(Li,{}),o.jsx("span",{children:"Durumunu Ayarla"})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:j,style:Fe,onMouseEnter:k,onMouseLeave:l(C=>x(C),"onMouseLeave"),children:[o.jsx(Ii,{}),o.jsx("span",{children:"Sinema Modu"})]}),o.jsxs("button",{onClick:E,style:Fe,onMouseEnter:k,onMouseLeave:l(C=>x(C),"onMouseLeave"),children:[o.jsx(Oi,{}),o.jsx("span",{children:"DJ Modu"})]}),o.jsxs("button",{onClick:R,style:Fe,onMouseEnter:k,onMouseLeave:l(C=>x(C),"onMouseLeave"),children:[o.jsx(Di,{}),o.jsx("span",{children:"Beyaz Tahta"})]}),i&&o.jsxs("button",{onClick:N,style:Fe,onMouseEnter:k,onMouseLeave:l(C=>x(C),"onMouseLeave"),children:[o.jsx(Jo,{}),o.jsx("span",{children:"Ses Efektleri"})]}),e.type==="room"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:V,style:Fe,onMouseEnter:k,onMouseLeave:l(C=>x(C),"onMouseLeave"),children:[o.jsx(Jo,{}),o.jsx("span",{children:"Sohbeti √ñzetle"})]}),o.jsxs("button",{onClick:T,style:{...Fe,color:"#f04747"},onMouseEnter:l(C=>{C.currentTarget.style.backgroundColor="#f04747",C.currentTarget.style.color="#ffffff"},"onMouseEnter"),onMouseLeave:l(C=>x(C,"#f04747"),"onMouseLeave"),children:[o.jsx(Ri,{}),o.jsx("span",{children:"Sohbeti Temizle"})]}),c==="admin"&&e.type==="dm"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:v,style:{...Fe,color:"#ed4245",fontWeight:"bold"},onMouseEnter:l(C=>{C.currentTarget.style.backgroundColor="#ed4245",C.currentTarget.style.color="#ffffff"},"onMouseEnter"),onMouseLeave:l(C=>x(C,"#ed4245"),"onMouseLeave"),title:"Admin: Konu≈ümayƒ± kalƒ±cƒ± olarak sil",children:[o.jsx(Bs,{}),o.jsx("span",{children:"‚ö†Ô∏è KALICI Sƒ∞L (ADMƒ∞N)"})]})]})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:I,style:{...Fe,color:"#5865f2",fontWeight:"bold"},onMouseEnter:k,onMouseLeave:l(C=>x(C,"#5865f2"),"onMouseLeave"),children:["üöÄ",o.jsx("span",{children:"T√ºm √ñzellikler"})]})]})},"ToolbarMenu")),hs=l(t=>{if(!t)return!1;const e=!!(t.image_url||t.image),n=!!(t.file_url||t.file)&&!t.is_voice_message&&/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(t.file_name||""),r=!!(t.content&&t.content.trim());return(e||n)&&!r&&!t.poll&&!t.reply_to},"isImageOnlyMessage"),bf=a.memo(l(function({isMobile:e,isNative:n,safeAreaBottom:r,mobileWebPadding:s,isLeftSidebarVisible:i,setIsLeftSidebarVisible:c,isRightSidebarVisible:d,setIsRightSidebarVisible:f,activeChat:m,setActiveChat:h,chatTitle:g,isConnected:y,optimizedMessages:b,messageHistoryLoading:_,hasMoreMessages:k,showScrollToBottom:x,setShowScrollToBottom:w,searchQuery:L,setSearchQuery:P,debouncedSearchQuery:A,searchInputRef:B,isSelectionMode:S,selectedMessages:j,setSelectedMessages:E,username:R,isAdmin:N,allUsers:V,hasKey:T,modals:v,openModal:I,closeModal:C,toggleModal:M,activeTypingUsers:G,soundSettings:W,isInVoice:ne,messageHandlers:U,fileUpload:J,scrollToBottom:le,throttledHandleMessageScroll:ee,handleCopyLink:z,toggleNotifications:X,getDeterministicAvatar:Y,setZoomedImage:H,setViewingProfile:$,setEditingMessage:D,setReplyingTo:O,setForwardingMessage:F,setGalleryData:K,setChartSymbol:oe,messageBoxRef:q,messagesEndRef:te,ABSOLUTE_HOST_URL:ae,fetchWithAuth:re}){const Z=a.useCallback(xe=>xe.preventDefault(),[]),ie=a.useCallback(()=>c(!0),[c]),ce=a.useCallback(()=>{h("welcome","welcome"),c(!1),f(!1)},[h,c,f]),pe=a.useCallback(xe=>U.handleSearchMessages(xe,A),[U,A]),he=a.useCallback(xe=>P(xe.target.value),[P]),Pe=a.useCallback(()=>M("notifications"),[M]),Ge=a.useCallback(()=>C("notifications"),[C]),He=a.useCallback(()=>M("toolbarMenu"),[M]),Xe=a.useCallback(()=>f(!0),[f]),Be=a.useCallback(()=>{},[]),rt=a.useCallback(xe=>{E(we=>{const ve=new Set(we);return ve.has(xe)?ve.delete(xe):ve.add(xe),ve})},[E]),We=a.useCallback(xe=>$(V.find(we=>we.username===xe)),[$,V]),ot=a.useCallback((xe,we)=>K({images:xe,startIndex:we}),[K]),Pt=a.useCallback(()=>{le("smooth"),w(!1)},[le,w]),kt=a.useCallback(()=>I("snippetModal"),[I]),me=a.useCallback(()=>J.setPendingFilesFromDrop([]),[J]),ut=a.useCallback((xe,we)=>o.jsx(ds,{msg:xe,currentUser:R,absoluteHostUrl:ae,isAdmin:N,onImageClick:H,fetchWithAuth:re,allUsers:V,getDeterministicAvatar:Y,onShowChart:oe,onDelete:U.handleDeleteMessage,onStartEdit:D,onSetReply:O,onToggleReaction:Be,onStartForward:F,isSelectionMode:S,isSelected:j.has(xe.id),onToggleSelection:rt,onScrollToMessage:U.scrollToMessage,onViewProfile:We,onTogglePin:U.handleTogglePin,onVisible:U.handleMessageVisible},xe.id||xe.temp_id||we),[R,ae,N,H,re,V,Y,oe,U,D,O,Be,F,S,j,rt,We]),St=a.useMemo(()=>{const xe=[];let we=0;for(;we<b.length;){const ve=b[we],jt=ve.id||ve.temp_id||we,pt=we>0?b[we-1]:null,Ze=!pt||ve.timestamp&&pt.timestamp&&new Date(ve.timestamp).toDateString()!==new Date(pt.timestamp).toDateString();if(hs(ve)){const et=[ve];let De=we+1;for(;De<b.length&&hs(b[De])&&b[De].username===ve.username&&ve.timestamp&&b[De].timestamp&&Math.abs(new Date(b[De].timestamp)-new Date(ve.timestamp))<3e5;)et.push(b[De]),De++;if(et.length>=2){xe.push(o.jsxs(u.Fragment,{children:[Ze&&ve.timestamp&&o.jsx(gs,{date:ve.timestamp}),o.jsx(yf,{messages:et,currentUser:R,absoluteHostUrl:ae,isAdmin:N,onOpenGallery:ot,onViewProfile:We,onDelete:U.handleDeleteMessage,allUsers:V,getDeterministicAvatar:Y,fetchWithAuth:re,onVisible:U.handleMessageVisible})]},`gallery-${et.map(st=>st.id||st.temp_id).join("-")}`)),we=De;continue}}xe.push(o.jsxs(u.Fragment,{children:[Ze&&ve.timestamp&&o.jsx(gs,{date:ve.timestamp}),o.jsx(ds,{msg:ve,currentUser:R,absoluteHostUrl:ae,isAdmin:N,onImageClick:H,fetchWithAuth:re,allUsers:V,getDeterministicAvatar:Y,onShowChart:oe,onDelete:U.handleDeleteMessage,onStartEdit:D,onSetReply:O,onToggleReaction:Be,onStartForward:F,isSelectionMode:S,isSelected:j.has(ve.id),onToggleSelection:rt,onScrollToMessage:U.scrollToMessage,onViewProfile:We,onTogglePin:U.handleTogglePin,onVisible:U.handleMessageVisible})]},jt)),we++}return xe},[b,j,S,R,ae,N,H,re,V,Y,oe,U,D,O,Be,F,rt,We,ot]);return o.jsxs("div",{style:{...ye.chatArea,position:"relative",paddingTop:s,boxSizing:"border-box"},onDrop:J.handleChatDrop,onDragOver:Z,onDragEnter:J.handleChatDragEnter,onDragLeave:J.handleChatDragLeave,children:[o.jsxs("div",{style:{...ye.chatHeader,justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",overflow:"hidden",gap:"8px"},children:[e&&!i&&o.jsx("button",{onClick:ie,style:{...ye.mobileMenuButton,fontSize:"1.3em"},children:"‚ò∞"}),e&&(m.type==="dm"||m.type==="room")&&o.jsx("button",{onClick:ce,style:{...ye.mobileMenuButton,fontSize:"1.2em"},children:"‚Üê"}),o.jsx("h2",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:e?"1em":"1.1em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:m.type==="dm"?`@ ${g}`:g}),o.jsx("div",{style:y?ye.connectionPillOnline:ye.connectionPillOffline,children:y?"‚úì":"‚úó"})]}),o.jsxs("div",{style:{display:"flex",gap:e?"5px":"10px",alignItems:"center",flexWrap:e?"nowrap":"wrap",position:"relative"},children:[o.jsxs("form",{onSubmit:pe,style:ye.searchForm,children:[o.jsx("input",{type:"text",placeholder:"Ara...",value:L,onChange:he,style:ye.searchInput,ref:B}),o.jsx(Ai,{style:ye.searchIcon})]}),!e&&G.length>0&&o.jsx(hf,{users:G}),o.jsx("button",{onClick:Pe,style:{...ye.iconButton,color:v.notifications?"#5865f2":"#b9bbbe",position:"relative"},title:"Bildirimler",children:o.jsx(Fs,{})}),v.notifications&&o.jsx("div",{style:{position:"absolute",top:"54px",right:"20px",zIndex:1e3},children:o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"small",text:""}),children:o.jsx(Ap,{currentUser:R,onClose:Ge,fetchWithAuth:re,apiBaseUrl:ae})})}),o.jsxs("div",{className:"toolbar-menu-container",style:{position:"relative"},children:[o.jsx("button",{onClick:He,style:{...ye.iconButton,color:v.toolbarMenu?"#5865f2":"#b9bbbe",fontSize:"1.2em",fontWeight:"bold"},title:"Daha Fazla",children:"‚ãÆ"}),v.toolbarMenu&&o.jsx(_f,{activeChat:m,hasKey:T,modals:v,soundSettings:W,isInVoice:ne,username:R,openModal:I,closeModal:C,toggleModal:M,handleCopyLink:z,toggleNotifications:X,handleSummarize:U.handleSummarize,handleClearChat:U.handleClearChat,handleAdminDeleteConversation:U.handleAdminDeleteConversation})]}),e&&!d&&o.jsx("button",{onClick:Xe,style:{...ye.mobileMenuButton,fontSize:"1.3em"},children:o.jsx(Kr,{})})]})]}),o.jsx("div",{style:ye.messageBox,ref:q,onScroll:ee,id:"main-content",role:"log","aria-live":"polite","aria-relevant":"additions",children:o.jsx(a.Suspense,{fallback:o.jsx("p",{style:ye.systemMessage,children:"Mesajlar y√ºkleniyor..."}),children:_&&b.length===0?o.jsx("p",{style:ye.systemMessage,children:"Y√ºkleniyor..."}):b.length>200?o.jsx(Sp,{messages:b,scrollToBottom:!0,renderMessage:ut}):o.jsxs(o.Fragment,{children:[k&&b.length>0&&o.jsx("p",{style:{...ye.systemMessage,textAlign:"center",padding:"8px 0",opacity:.6,fontSize:"0.85em"},children:"‚¨Ü Yukarƒ± kaydƒ±rarak eski mesajlarƒ± y√ºkleyin"}),St,o.jsx("div",{ref:te,style:{float:"left",clear:"both",height:1}})]})})}),J.isDragging&&o.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(30, 31, 34, 0.9)",border:"3px dashed #5865f2",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:"üìÅ"}),o.jsx("div",{style:{color:"#5865f2",fontSize:"1.4em",fontWeight:"bold"},children:"Dosyalarƒ± buraya bƒ±rakƒ±n"})]}),x&&o.jsx(pf,{onClick:Pt,unreadCount:0}),o.jsxs("div",{style:{...ye.inputContainer,paddingBottom:n?`calc(16px + ${r})`:e?"25px":"16px"},children:[J.isUploading&&J.uploadProgress>0&&o.jsx("div",{style:{position:"absolute",top:"-40px",left:"16px",right:"16px",backgroundColor:"#2b2d31",borderRadius:"8px",padding:"8px 12px",boxShadow:"0 2px 10px rgba(0,0,0,0.3)",zIndex:1001},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsxs("span",{style:{color:"#b9bbbe",fontSize:"12px",whiteSpace:"nowrap"},children:["üì§ Y√ºkleniyor: ",J.uploadProgress,"%"]}),o.jsx("div",{style:{flex:1,height:"6px",backgroundColor:"#40444b",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{width:`${J.uploadProgress}%`,height:"100%",backgroundColor:"#5865f2",borderRadius:"3px",transition:"width 0.3s ease"}})})]})}),o.jsx(a.Suspense,{fallback:o.jsx("div",{style:{padding:"12px",color:"#72767d"},children:"Y√ºkleniyor..."}),children:o.jsx(wp,{onSendMessage:U.sendMessage,onFileUpload:J.uploadFile,onShowCodeSnippet:kt,placeholder:g?`${g} kanalƒ±na mesaj g√∂nder`:"Mesaj yaz...",disabled:J.isUploading,fetchWithAuth:re,apiBaseUrl:ae,activeChat:m,pendingFilesFromDrop:J.pendingFilesFromDrop,onClearPendingFiles:me})})]})]})},"ChatArea"));function xf({inviteToServerUser:t,setInviteToServerUser:e,categories:n,fetchWithAuth:r,API_BASE_URL:s}){const i=l(()=>e(null),"handleClose"),{overlayProps:c,dialogProps:d}=ta({onClose:i,isOpen:!!t,label:"Sunucuya Davet"});return t?mi.createPortal(o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999999},onClick:l(()=>e(null),"onClick"),...c,children:o.jsxs("div",{...d,style:{backgroundColor:"#2b2d31",borderRadius:"12px",width:"400px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5)"},children:[o.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #3f4147",textAlign:"center"},children:[o.jsx("h2",{style:{color:"#f2f3f5",margin:0,fontSize:"18px"},children:"üé´ Sunucuya Davet Et"}),o.jsxs("p",{style:{color:"#b9bbbe",margin:"8px 0 0",fontSize:"14px"},children:[o.jsx("strong",{children:t.username})," kullanƒ±cƒ±sƒ±nƒ± hangi sunucuya davet etmek istiyorsunuz?"]})]}),o.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"12px"},children:n.map(f=>o.jsxs("div",{onClick:l(async()=>{try{const m=await r(`${s}/servers/${f.id}/invite/`,{method:"POST",body:JSON.stringify({target_username:t.username})});if(m.ok)se.success(`üé´ ${t.username} kullanƒ±cƒ±sƒ±na davetiye g√∂nderildi!`);else{const h=await m.json();h.error?.includes("zaten")?se.info(`‚ÑπÔ∏è ${t.username} zaten bu sunucunun √ºyesi!`):se.error(`‚ùå ${h.error||"Davet g√∂nderilemedi"}`)}}catch{se.error("‚ùå Baƒülantƒ± hatasƒ±")}e(null)},"onClick"),style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"rgba(255,255,255,0.02)",marginBottom:"8px"},onMouseEnter:l(m=>{m.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.2)"},"onMouseEnter"),onMouseLeave:l(m=>{m.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},"onMouseLeave"),children:[f.icon?o.jsx("img",{src:f.icon,alt:f.name,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):o.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white",fontSize:"16px"},children:f.name?.substring(0,2).toUpperCase()}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{color:"#f2f3f5",fontWeight:"600"},children:f.name}),o.jsxs("div",{style:{color:"#b9bbbe",fontSize:"12px"},children:[f.member_count||0," √ºye"]})]}),o.jsx("div",{style:{color:"#5865f2",fontSize:"20px"},children:"‚Üí"})]},f.id))}),o.jsx("div",{style:{padding:"16px 20px",borderTop:"1px solid #3f4147",textAlign:"center"},children:o.jsx("button",{onClick:l(()=>e(null),"onClick"),style:{backgroundColor:"#4f545c",color:"#f2f3f5",border:"none",padding:"10px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"600"},children:"ƒ∞ptal"})})]})}),document.body):null}l(xf,"InviteServerModal");const Dg=l((t,e)=>{const n=a.useRef(null);return a.useCallback((...r)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t(...r)},e)},[t,e])},"useDebounce"),vf=l((t,e)=>{const n=a.useRef(Date.now());return a.useCallback((...r)=>{const s=Date.now();s-n.current>=e&&(t(...r),n.current=s)},[t,e])},"useThrottle"),Rg=l(t=>{const e=a.useRef(0),n=a.useRef(0);a.useEffect(()=>{const r=performance.now();return e.current+=1,()=>{const i=performance.now()-r;n.current+=i,e.current%10}})},"useMeasurePerformance");function kf({setActiveChat:t,setIsLeftSidebarVisible:e,setIsRightSidebarVisible:n,setSoundSettings:r,setUpdateStatusText:s,setShowScrollToBottom:i,setDraftText:c,setHasDraftMessage:d,isMobile:f,activeChat:m,defaultAvatars:h,allUsers:g,categories:y,serverOrder:b,currentVoiceRoom:_,username:k,currentUserProfile:x,serverMembers:w,hasMoreMessages:L,messagesEndRef:P,messageBoxRef:A,fetchMessageHistoryRef:B,fetchWithAuth:S}){const j=a.useCallback((O="auto")=>{P.current&&P.current.scrollIntoView({behavior:O})},[]),E=a.useCallback(()=>{const O=A.current;return O?O.scrollHeight-O.scrollTop-O.clientHeight<160:!0},[]),R=a.useRef(!1),N=a.useCallback(()=>{const O=A.current;if(O&&(i(O.scrollHeight-O.scrollTop-O.clientHeight>160),O.scrollTop<200&&L&&!R.current&&B?.current)){R.current=!0;const F=O.scrollHeight;B.current(!1).finally(()=>{requestAnimationFrame(()=>{const K=O.scrollHeight;O.scrollTop+=K-F,R.current=!1})})}},[L]),V=vf(N,100),T=a.useCallback(O=>{if(O==="‚ö° Signal Bot")return`${zt}/static/bot/signal.png`;if(O==="PawPaw AI")return`${zt}/static/bot/ai.png`;if(!O||!h||h.length===0)return`${zt}/avatars/cat_1.png`;let F=0;for(let te=0;te<O.length;te++)F=O.charCodeAt(te)+((F<<5)-F);const K=Math.abs(F%h.length),oe=h[K];let q;return typeof oe=="object"&&oe!==null?q=oe.original||oe.thumbnail||oe.url:typeof oe=="string"&&(q=oe),!q||typeof q!="string"?`${zt}/avatars/cat_1.png`:q.startsWith("http")||q.startsWith("blob:")?q:(q.startsWith("/")||(q="/"+q),`${zt}${q}`)},[h]),v=a.useCallback(O=>{const F=g.find(K=>K.username===O);if(F&&F.avatar&&typeof F.avatar=="string"){if(F.avatar.startsWith("http")||F.avatar.startsWith("blob:"))return F.avatar;let K=F.avatar;return K.startsWith("/")||(K="/"+K),`${zt}${K}`}return T(O)},[g,T]),I=a.useMemo(()=>!m||!m.id?"":`${m.type}-${m.id}`,[m]),C=a.useCallback(()=>{try{const O=localStorage.getItem(as);if(!O)return{};const F=JSON.parse(O);return F&&typeof F=="object"?F:{}}catch{return{}}},[]),M=a.useCallback(O=>{if(!I)return;const F=C();F[I]=O,localStorage.setItem(as,JSON.stringify(F))},[I,C]);a.useEffect(()=>{if(!I){c(""),d(!1);return}const F=C()[I]||"";c(F),d(!!F.trim())},[I,C]);const G=l(O=>{t("room",O),f&&e(!1)},"handleRoomChange"),W=l(O=>{S($l,{method:"POST",body:JSON.stringify({target_username:O})}).then(F=>F.json()).then(F=>{t("dm",F.conversation_id,O),f&&e(!1)})},"handleDMClick"),ne=a.useCallback(O=>{O&&(window.location.hash=O.startsWith("#/")?O:`${O.startsWith("/")?O:`/${O}`}`,f&&n(!1))},[f]),U=a.useCallback(()=>{t("welcome","welcome",null),f&&e(!1)},[f]),J=a.useCallback(()=>{r(O=>{const F={...O,notifications:!O.notifications};return localStorage.setItem("chat_sound_settings",JSON.stringify(F)),F})},[]),le=a.useCallback(async()=>{if(!m?.id)return;const O=`${window.location.origin}/#/${m.type==="dm"?`dm/${m.id}`:`room/${m.id}`}`;try{await navigator.clipboard.writeText(O),s("Link kopyalandƒ±"),setTimeout(()=>s(""),1500)}catch{}},[m]),ee=a.useMemo(()=>{if(!y||y.length===0)return[];if(!b||b.length===0)return y;const O=[],F=[];return b.forEach(K=>{const oe=y.find(q=>q.id===K);oe&&O.push(oe)}),y.forEach(K=>{b.includes(K.id)||F.push(K)}),[...O,...F]},[y,b]),z=a.useCallback(O=>{if(!O||!y)return O||"";for(const F of y)if(F.categories)for(const K of F.categories){const oe=K.rooms?.find(q=>q.slug===O);if(oe)return String(oe.name)}return String(O).replace(/-\d+-\d+$/,"")},[y]),X=a.useMemo(()=>m.type==="room"?z(m.id):m.type==="dm"?String(m.targetUser||"DM"):"",[m,y,z]),Y=a.useMemo(()=>z(_),[_,z]),H=a.useMemo(()=>{if(m.type!=="room"||!y)return"text";for(const O of y)if(O.categories)for(const F of O.categories){const K=F.rooms?.find(oe=>oe.slug===m.id);if(K)return K.channel_type}return"text"},[m,y]),$=k==="Eastkhan"||k==="PawPaw"||x?.role==="admin",D=a.useMemo(()=>{const O=y?.find(oe=>oe.id===m?.serverId),F=O?.owner===k||O?.created_by===k,K=w?.find(oe=>oe.username===k)?.role==="moderator";return{isAdmin:$,isServerOwner:F,isModerator:K,canKick:$||F||K,canBan:$||F,canMute:$||F||K,canWarn:$||F||K,canManageRoles:$||F}},[$,y,m?.serverId,k,w]);return{scrollToBottom:j,isNearBottom:E,handleMessageScroll:N,throttledHandleMessageScroll:V,getDeterministicAvatar:T,getRealUserAvatar:v,persistDraft:M,handleRoomChange:G,handleDMClick:W,navigateToPath:ne,handleWelcomeClick:U,toggleNotifications:J,handleCopyLink:le,sortedServers:ee,chatTitle:X,voiceRoomDisplayName:Y,activeRoomType:H,isAdmin:$,currentUserPermissions:D}}l(kf,"useAppCallbacks");const Sf=l(()=>{const{user:t,isAuthenticated:e,token:n,login:r,logout:s,isLoading:i,refreshAccessToken:c}=Tt(),d=t?.username||localStorage.getItem("username")||"",{isInVoice:f,isConnecting:m,currentRoom:h,joinChannel:g,leaveChannel:y,isMuted:b,isDeafened:_,toggleMute:k,toggleDeafened:x,toggleVideo:w,toggleScreenShare:L,remoteVolumes:P,setRemoteVolume:A,localCameraStream:B,remoteStreams:S,isTalking:j,sendSignal:E,isScreenSharing:R,isVideoEnabled:N,isPttActive:V,localScreenStream:T,sendReaction:v,lastReaction:I,applyVoiceEffect:C,activeEffect:M,cinemaState:G,setCinemaState:W,gameState:ne,sendGameSignal:U,mutedUsers:J,useNewVoicePanel:le,showVoiceIsland:ee,setShowVoiceIsland:z,isVoicePanelMinimized:X,setIsVoicePanelMinimized:Y,focusedStream:H,setFocusedStream:$,islandState:D,setIslandState:O}=Pl(),{setGlobalData:F,setIsConnected:K}=Qs(),[oe,q]=a.useState([]),[te,ae]=a.useState(null),[re,Z]=a.useState(null),[ie,ce]=a.useState(null),{activeChat:pe,setActiveChat:he,messages:Pe,setMessages:Ge,encryptionKeys:He,setEncryptionKey:Xe,voiceUsers:Be,setVoiceUsersState:rt,unreadCounts:We,selectedMessages:ot,setSelectedMessages:Pt}=Jt(),{modals:kt,openModal:me,closeModal:ut,toggleModal:St,animationState:xe,setAnimationState:we,isConnected:ve,setIsConnected:jt,updateStatusText:pt,setUpdateStatusText:Ze,downloadProgress:et,setDownloadProgress:De,isDownloading:st,setIsDownloading:je,searchQuery:ft,setSearchQuery:Ke,dropTarget:ge,setDropTarget:Re}=Wr(),{isMobile:ke}=qi(),[mt,at]=a.useState(!1),[$t,it]=a.useState(!1),Cn=hn?"max(20px, env(safe-area-inset-bottom))":"0px",Tn=Zi(ft,300),[nr,Pn]=a.useState("default"),[Nt,rr]=a.useState(!1),[jn,Ln]=a.useState(!0),[gt,In]=a.useState([]),[or,sr]=a.useState(0),[nn,On]=a.useState([]),[ht,ar]=a.useState([]),[Dn,yo]=a.useState(null),[yt,Lt]=a.useState(null),[Rn,ir]=a.useState(!1),[rn,on]=a.useState(()=>JSON.parse(localStorage.getItem("chat_sound_settings"))||{notifications:!0,mentions:!0,userJoinLeave:!0}),[Bt,sn]=a.useState(null),[lr,an]=a.useState(!1),[_o,An]=a.useState(null),[bo,cr]=a.useState(null),[xo,Ee]=a.useState(null),[Le,Qe]=a.useState(!1),[qe,_t]=a.useState(null),[wt,ln]=a.useState(null),[vo,ko]=a.useState(null),[So,wo]=a.useState(null),[It,dr]=a.useState([]),[ur,zn]=a.useState([]),[Je,Vn]=a.useState([]),[fa,ma]=a.useState([]),[ga,pr]=a.useState(null),[ha,ya]=a.useState(!1),[_a,ba]=a.useState(""),[xa,Eo]=a.useState(null),[yg,Co]=a.useState(!1),[_g,To]=a.useState(""),Po=a.useRef(null),jo=a.useRef(null),va=a.useRef(null),Lo=a.useRef(null);a.useRef(null);const Io=a.useRef({}),Oo=a.useRef(null),Do=a.useRef(null),ka=a.useRef(null),Ro=a.useRef(pe),Ao=a.useRef(n),zo=a.useRef(d);a.useEffect(()=>{Ro.current=pe},[pe]),a.useEffect(()=>{Ao.current=n},[n]),a.useEffect(()=>{zo.current=d},[d]);const{fetchWithAuth:Ae}=Vp(),Vo=Jt(_e=>_e.typingUsers),Sa=a.useMemo(()=>Vo.filter(_e=>_e!==d),[Vo,d]),fr=Jt(_e=>_e.onlineUsers),{setOnlineUsers:wa}=Jt(),Ea=Jt(_e=>_e.messages),Ca=Ji(Ea,Tn);Wi(Je);const{scrollToBottom:cn,isNearBottom:mr,handleMessageScroll:Ta,throttledHandleMessageScroll:Pa,getDeterministicAvatar:Ot,getRealUserAvatar:gr,persistDraft:ja,handleRoomChange:hr,handleDMClick:Mn,navigateToPath:La,handleWelcomeClick:Ia,toggleNotifications:Oa,handleCopyLink:Da,sortedServers:Ra,chatTitle:Mo,voiceRoomDisplayName:yr,activeRoomType:Aa,isAdmin:dn,currentUserPermissions:za}=kf({setActiveChat:he,setIsLeftSidebarVisible:at,setIsRightSidebarVisible:it,setSoundSettings:on,setUpdateStatusText:Ze,setShowScrollToBottom:an,setDraftText:To,setHasDraftMessage:Co,isMobile:ke,activeChat:pe,defaultAvatars:oe,allUsers:Je,categories:It,serverOrder:nn,currentVoiceRoom:h,username:d,currentUserProfile:yt,serverMembers:ht,hasMoreMessages:jn,messagesEndRef:Po,messageBoxRef:jo,fetchMessageHistoryRef:Oo,fetchWithAuth:Ae}),{isInitialDataLoaded:$o,stickyMessage:No,setStickyMessage:Bo,handleServerSelect:Va}=Mp({isAuthenticated:e,username:d,token:n,fetchWithAuth:Ae,setCategories:dr,setConversations:zn,setAllUsers:Vn,setFriendsList:In,setCurrentUserProfile:Lt,setServerOrder:On,setMaintenanceMode:sn,setAuthError:pr,setServerMembers:ar,API_BASE_URL:Ce,ROOM_LIST_URL:br,CONVERSATION_LIST_URL:Ml,activeChat:pe,categories:It,setActiveChat:he}),Fo=a.useRef(null),Dt=lf({activeChat:pe,username:d,token:n,ws:Fo,encryptionKeys:He,setMessages:Ge,scrollToBottom:cn,isNearBottom:mr,setEditingMessage:An,setHasDraftMessage:Co,setDraftText:To,persistDraft:ja,setStickyMessage:Bo,richTextRef:Lo,fetchWithAuth:Ae,currentUserProfile:yt,getDeterministicAvatar:Ot,historyCacheRef:Io,setHasMoreMessages:Ln,setIsSummaryLoading:ya,setSummaryResult:ba,setPinnedMessages:ma,setConversations:zn,setMessageHistoryLoading:rr,openModal:me,closeModal:ut,API_BASE_URL:Ce,MESSAGE_HISTORY_ROOM_URL:zl,MESSAGE_HISTORY_DM_URL:Vl}),{ws:$n}=sf({activeChat:pe,username:d,token:n,isAuthenticated:e,isInitialDataLoaded:$o,fetchWithAuth:Ae,scrollToBottom:cn,isNearBottom:mr,setMessages:Ge,setIsConnected:jt,historyCacheRef:Io,setHasMoreMessages:Ln,fetchMessageHistory:Dt.fetchMessageHistory,setShowScrollToBottom:an,API_BASE_URL:Ce,API_HOST:ea,WS_PROTOCOL:Xs,forwardToGlobalContext:F,setGlobalWsConnected:K,setOnlineUsers:wa,setVoiceUsersState:rt,setAllUsers:Vn,setCurrentUserProfile:Lt,activeChatRef:Ro,tokenRef:Ao,usernameRef:zo,setCategories:dr,ROOM_LIST_URL:br,statusWsRef:Do,statusWsReconnectRef:ka,logout:s,refreshAccessToken:c,setCurrentTheme:Pn});a.useEffect(()=>{$n&&(Fo.current=$n.current)},[$n]),a.useEffect(()=>{Oo.current=Dt.fetchMessageHistory},[Dt.fetchMessageHistory]);const Uo=cf({activeChat:pe,username:d,fetchWithAuth:Ae,scrollToBottom:cn,setMessages:Ge,API_BASE_URL:Ce,handleDMClick:Mn,conversations:ur,categories:It}),tt=df({username:d,fetchWithAuth:Ae,categories:It,allUsers:Je,friendsList:gt,serverMembers:ht,isAdmin:dn,currentVoiceRoom:h,setUpdateStatusText:Ze,setFriendsList:In,setInviteToServerUser:ln,API_BASE_URL:Ce,handleDMClick:Mn,isInVoice:f,setServerOrder:On,serverOrder:nn,setActiveChat:he,setCurrentUserProfile:Lt,setCategories:dr,setConversations:zn,setAllUsers:Vn,setIsInitialDataLoaded:l(()=>{},"setIsInitialDataLoaded"),setAuthError:pr,login:r,logout:s,setViewingProfile:ae,ABSOLUTE_HOST_URL:Q,ROOM_LIST_URL:br}),{safeAreaTop:Ma}=ef({setAnimationState:we,setShowVanityInvite:ko,setShowInviteCode:wo,setMaintenanceMode:sn,setUpdateAvailable:ir,setAllUsers:Vn,animationState:xe,isInitialDataLoaded:$o,isAuthenticated:e,username:d,messages:Pe,activeChat:pe,isInVoice:f,currentVoiceRoom:h,modals:kt,statusWsRef:Do,openModal:me,closeModal:ut,toggleModal:St,setActiveChat:he,isNative:hn,isElectron:Yn,fetchWithAuth:Ae,isNearBottom:mr,scrollToBottom:cn,handleMessageScroll:Ta,API_BASE_URL:Ce,MEDIA_BASE_URL:zt,GOOGLE_WEB_CLIENT_ID:qs}),$a=l(()=>{if(Yn){je(!0),Ze("ƒ∞ndiriliyor...");const{ipcRenderer:_e}=window.require("electron");_e.send("start-download",`${Q}/media/build/Pawscord-Setup.exe`)}else window.open(`${Q}/media/build/Pawscord-Setup.exe`,"_blank")},"handleStartUpdate");a.useEffect(()=>{if(Yn){const{ipcRenderer:_e}=window.require("electron"),Ie=l((ui,Ko)=>De(Math.round(Ko*100)),"handleProgress"),Oe=l(()=>{Ze("Ba≈ülatƒ±lƒ±yor..."),De(100),setTimeout(()=>Ze("Kapanƒ±yor..."),1500)},"handleComplete"),un=l((ui,Ko)=>{je(!1)},"handleError");return _e.on("download-progress",Ie),_e.on("download-complete",Oe),_e.on("download-error",un),()=>{_e.removeAllListeners("download-progress"),_e.removeAllListeners("download-complete"),_e.removeAllListeners("download-error")}}},[]);const Na=a.useCallback(()=>he("friends","friends"),[he]),Ba=a.useCallback(()=>me("profilePanel"),[me]),Fa=a.useCallback(()=>me("store"),[me]),Ua=a.useCallback(()=>me("groupModal"),[me]),Ya=a.useCallback(()=>me("downloadModal"),[me]),Ga=a.useCallback(()=>me("analytics"),[me]),Ha=a.useCallback(()=>me("adminPanel"),[me]),Ka=a.useCallback(()=>me("paymentPanel"),[me]),qa=a.useCallback(()=>me("storeModal"),[me]),Ja=a.useCallback(()=>me("dailyRewards"),[me]),Wa=a.useCallback(()=>me("aPIUsagePanel"),[me]),Za=a.useCallback(()=>me("exportJobsPanel"),[me]),Qa=a.useCallback(()=>me("scheduledAnnouncements"),[me]),Xa=a.useCallback(()=>me("miniGames"),[me]),ei=a.useCallback(()=>me("projectCollaboration"),[me]),ti=a.useCallback(()=>me("avatarStudio"),[me]),ni=a.useCallback(()=>{me("cinema"),ke&&at(!1)},[me,ke]),Yo=a.useCallback(()=>at(!1),[]),ri=a.useCallback(()=>it(!1),[]),oi=a.useCallback(_e=>{const Ie=Je.find(Oe=>Oe.username===_e);Ie&&ae(Ie)},[Je]),si=a.useCallback(()=>sn(null),[]),ai=a.useCallback(()=>{ko(null),window.location.hash="#/"},[]),ii=a.useCallback(()=>{wo(null),window.location.hash="#/"},[]),li=a.useCallback(()=>{he("friends","friends"),ke&&at(!1)},[he,ke]),ci=a.useCallback(()=>hr("ai"),[hr]),Go=xe!=="finished",Nn=ke&&!hn?"20px":Ma,Ho=pe.type==="room"?`room-${pe.id}`:`dm-${pe.id}`,di=!!He[Ho];return e?vo?o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"large",text:"Davet y√ºkleniyor..."}),children:o.jsx(Lp,{vanityPath:vo,fetchWithAuth:Ae,apiBaseUrl:Ce,onClose:ai})}):So?o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"large",text:"Davet y√ºkleniyor..."}),children:o.jsx(Ip,{inviteCode:So,fetchWithAuth:Ae,apiBaseUrl:Ce,onClose:ii})}):o.jsxs("div",{style:{...ye.mainContainer},className:"dark-theme",children:[Go&&o.jsx(cs,{animationState:xe}),Bt&&o.jsx(Ll,{message:Bt.message,endTime:Bt.endTime,level:Bt.level,onDismiss:si}),o.jsx(fp,{fetchWithAuth:Ae,activeChat:pe,username:d,sendMessage:Dt.sendMessage,sendSignal:E,ws:$n,currentUserProfile:yt,setCurrentUserProfile:Lt,currentTheme:nr,setCurrentTheme:Pn,soundSettings:rn,setSoundSettings:on,encryptionKeys:He,currentKeyId:Ho,setEncryptionKey:Xe,chartSymbol:xa,setChartSymbol:Eo,serverToEdit:tt.serverToEdit,setServerToEdit:tt.setServerToEdit,serverMembers:ht,friendsList:gt,conversations:ur,categories:It,allUsers:Je,pinnedMessages:fa,isSummaryLoading:ha,summaryResult:_a,zoomedImage:re,setZoomedImage:Z,galleryData:ie,setGalleryData:ce,viewingProfile:te,setViewingProfile:ae,isAdmin:dn,richTextRef:Lo,logout:s,getDeterministicAvatar:Ot,handleSendSnippet:Dt.handleSendSnippet,handleDMClick:Mn,setActiveChat:he,setConversations:zn,isMuted:b,isDeafened:_,toggleMute:k,toggleDeafened:x}),ke&&mt&&o.jsx("div",{style:ye.mobileOverlay,role:"presentation","aria-label":"Kenar √ßubuƒüunu kapat",onClick:Yo}),ke&&$t&&o.jsx("div",{style:ye.mobileOverlay,role:"presentation","aria-label":"Kenar √ßubuƒüunu kapat",onClick:ri}),o.jsx(kp,{}),o.jsxs("div",{style:ye.chatLayout,children:[(!ke||mt)&&o.jsxs("div",{style:{...ye.sidebarWrapper,...ke&&ye.mobileSidebar,paddingTop:Nn,paddingBottom:Cn,height:"100%",boxSizing:"border-box"},children:[ke&&o.jsxs("div",{style:ye.mobileSidebarHeader,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("img",{src:"https://media.pawscord.com/assets/logo.png",alt:"Pawscord",style:{width:"24px",height:"24px"},onError:l(_e=>{_e.target.style.display="none"},"onError")}),o.jsx("span",{style:{fontSize:"18px",fontWeight:"bold",color:"white"},children:"Pawscord"})]}),o.jsx("button",{onClick:Yo,style:ye.closeSidebarButton,children:o.jsx(xn,{})})]}),o.jsx(_r,{fallback:o.jsx(Ye,{size:"medium",text:"Kanallar y√ºkleniyor..."}),section:"Kanal Listesi",children:o.jsx(Dp,{onFriendsClick:Na,onRoomSelect:hr,onDMSelect:l((_e,Ie)=>he("dm",_e,Ie),"onDMSelect"),onWelcomeClick:Ia,setIsLeftSidebarVisible:at,onProfileClick:Ba,onViewUserProfile:oi,onOpenStore:Fa,onOpenServerSettings:l(_e=>tt.setServerToEdit(_e),"onOpenServerSettings"),categories:Ra,onServerDragStart:tt.handleServerDragStart,onServerDragOver:tt.handleServerDragOver,onServerDragEnd:tt.handleServerDragEnd,onServerDrop:tt.handleServerDrop,onMoveServer:tt.handleMoveServer,conversations:ur,allUsers:Je,onlineUsers:fr,serverMembers:ht,isAdmin:dn,friendsList:gt,pendingFriendRequests:or,currentUsername:d,currentUserProfile:yt,getRealUserAvatar:gr,getDeterministicAvatar:Ot,unreadCounts:We,joinVoiceChat:g,leaveVoiceChat:y,voiceUsers:Be,isConnecting:m,currentVoiceRoom:h,currentRoom:h,currentConversationId:pe.type==="dm"?pe.id:null,remoteVolumes:P,setRemoteVolume:A,isPttActive:V,apiBaseUrl:Q,fetchWithAuth:Ae,onHideConversation:Dt.handleHideConversation,handleDrop:l(()=>{},"handleDrop"),dropTarget:ge,setDropTarget:Re,isDragging:Uo.isDragging,onOpenCreateGroup:Ua,toggleMute:k,toggleDeafened:x,isMuted:b,isDeafened:_,isInVoice:f,toggleVideo:w,toggleScreenShare:L,isVideoEnabled:N,isScreenSharing:R,updateAvailable:Rn,onUpdateClick:Ya,onOpenAnalytics:Ga,onOpenAdminPanel:Ha,onOpenPaymentPanel:Ka,onOpenStoreModal:qa,onOpenDailyRewards:Ja,onOpenAPIUsage:Wa,onOpenExportJobs:Za,onOpenScheduledAnnouncements:Qa,onOpenMiniGames:Xa,onOpenProjectCollaboration:ei,onOpenAvatarStudio:ti,onServerSelect:Va})})]}),o.jsxs("div",{style:ye.mainContent,children:[o.jsx("div",{style:{position:"absolute",top:60,left:0,right:0,zIndex:90},children:o.jsx(a.Suspense,{fallback:null,children:o.jsx(Cp,{message:No?.message,type:No?.type,onDismiss:l(()=>Bo(null),"onDismiss")})})}),pe.type==="friends"?o.jsx("div",{style:{width:"100%",height:"100%",paddingTop:Nn},children:o.jsx(_r,{fallback:o.jsx(Ye,{size:"medium",text:"Arkada≈ülar y√ºkleniyor..."}),section:"Arkada≈ülar",children:o.jsx(Op,{fetchWithAuth:Ae,apiBaseUrl:Ce,onStartDM:Mn,getDeterministicAvatar:Ot,onClose:l(()=>he("welcome","welcome"),"onClose"),onPendingCountChange:sr,onlineUsers:fr})})}):pe.type==="welcome"?o.jsx("div",{style:{width:"100%",height:"100%"},children:o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"medium",text:"Y√ºkleniyor..."}),children:o.jsx(Pp,{isMobile:ke,onOpenMenu:l(()=>at(!0),"onOpenMenu"),onOpenRightMenu:l(()=>it(!0),"onOpenRightMenu"),updateAvailable:Rn,isDownloading:st,downloadProgress:et,updateStatusText:pt,onStartUpdate:$a,onSwitchToFriends:li,onSwitchToAI:ci,onSwitchToCinema:ni})})}):Aa==="kanban"?o.jsxs("div",{style:{width:"100%",height:"100%",overflow:"hidden"},children:[o.jsx("div",{style:ye.chatHeader,children:o.jsxs("h2",{children:[Mo," (Pano)"]})}),o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"medium",text:"Pano y√ºkleniyor..."}),children:o.jsx(jp,{roomSlug:pe.id,apiBaseUrl:Q,fetchWithAuth:Ae})})]}):pe.type==="voice"&&f?o.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#2f3136"},children:[o.jsxs("div",{style:{...ye.chatHeader,justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[ke&&o.jsx("button",{onClick:l(()=>he("welcome","welcome"),"onClick"),style:ye.mobileMenuButton,children:"‚Üê"}),o.jsxs("h2",{style:{margin:0,fontSize:"1.2em"},children:["üîä ",yr]})]}),o.jsx("button",{onClick:l(()=>{y(),he("welcome","welcome")},"onClick"),style:{background:"#ed4245",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontWeight:"bold"},children:"Baƒülantƒ±yƒ± Kes"})]}),o.jsx(us,{roomName:yr,onClose:l(()=>{y(),he("welcome","welcome")},"onClose"),isMinimized:!1,onToggleMinimize:l(()=>{},"onToggleMinimize"),showHeader:!1,getRealUserAvatar:gr,allUsers:Je,currentUserProfile:yt})]}):o.jsx(bf,{isMobile:ke,isNative:hn,safeAreaBottom:Cn,mobileWebPadding:Nn,isLeftSidebarVisible:mt,setIsLeftSidebarVisible:at,isRightSidebarVisible:$t,setIsRightSidebarVisible:it,activeChat:pe,setActiveChat:he,chatTitle:Mo,isConnected:ve,optimizedMessages:Ca,messageHistoryLoading:Nt,hasMoreMessages:jn,showScrollToBottom:lr,setShowScrollToBottom:an,searchQuery:ft,setSearchQuery:Ke,debouncedSearchQuery:Tn,searchInputRef:va,isSelectionMode:Le,selectedMessages:ot,setSelectedMessages:Pt,username:d,isAdmin:dn,allUsers:Je,hasKey:di,modals:kt,openModal:me,closeModal:ut,toggleModal:St,activeTypingUsers:Sa,soundSettings:rn,isInVoice:f,messageHandlers:Dt,fileUpload:Uo,scrollToBottom:cn,throttledHandleMessageScroll:Pa,handleCopyLink:Da,toggleNotifications:Oa,getDeterministicAvatar:Ot,setZoomedImage:Z,setViewingProfile:ae,setEditingMessage:An,setReplyingTo:cr,setForwardingMessage:Ee,setGalleryData:ce,setChartSymbol:Eo,messageBoxRef:jo,messagesEndRef:Po,ABSOLUTE_HOST_URL:Q,fetchWithAuth:Ae}),(!ke||$t)&&o.jsxs("div",{style:{...ye.chatUserListPanel,...ke?ye.mobileRightSidebar:{},paddingTop:Nn},children:[ke&&o.jsxs("div",{style:ye.mobileSidebarHeader,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(Kr,{size:18,color:"#b9bbbe"}),o.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"white"},children:pe.type==="room"?"Sunucu √úyeleri":"Arkada≈ülar"})]}),o.jsx("button",{onClick:l(()=>it(!1),"onClick"),style:ye.closeSidebarButton,children:o.jsx(xn,{})})]}),o.jsx(_r,{fallback:o.jsx(Ye,{size:"small",text:"Kullanƒ±cƒ±lar y√ºkleniyor..."}),section:"Kullanƒ±cƒ± Listesi",children:o.jsx(Rp,{chatUsers:[],allUsers:Je,onlineUsers:fr,currentUser:d,currentUserProfile:yt,getDeterministicAvatar:Ot,onUserClick:l(_e=>{let Ie=Je.find(Oe=>Oe.username===_e);if(!Ie&&ht.length>0){const Oe=ht.find(un=>un.username===_e);Oe&&(Ie={username:Oe.username,display_name:Oe.username,avatar:Ot(Oe.username),role:Oe.role||"member"})}Ie&&ae(Ie)},"onUserClick"),onUserContextMenu:l((_e,Ie)=>{if(Ie===d)return;const Oe=Je.find(un=>un.username===Ie);Oe&&_t({x:_e.clientX,y:_e.clientY,user:Oe,permissions:za})},"onUserContextMenu"),activeChat:pe,serverMembers:ht,friendsList:gt,onNavigate:La})})]})]}),f&&o.jsx(a.Suspense,{fallback:null,children:o.jsx(Ep,{remoteStreams:S,remoteVolumes:P,mutedUsers:J})}),f&&!ee&&pe.type!=="voice"&&o.jsx("button",{onClick:l(()=>z(!0),"onClick"),style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9998,background:"#5865f2",color:"white",border:"none",borderRadius:"50%",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},title:"Ses Panelini A√ß",children:"üé§"}),f&&ee&&pe.type!=="voice"&&o.jsx(us,{roomName:yr,onClose:l(()=>z(!1),"onClose"),isMinimized:X,onToggleMinimize:l(()=>Y(!X),"onToggleMinimize"),getRealUserAvatar:gr,allUsers:Je,currentUserProfile:yt})]}),qe&&o.jsx(a.Suspense,{fallback:null,children:o.jsx(zp,{x:qe.x,y:qe.y,user:qe.user,currentUser:d,onClose:l(()=>_t(null),"onClose"),onAction:tt.handleUserContextAction,voiceChannels:It.flatMap(_e=>(_e.categories||[]).flatMap(Ie=>(Ie.rooms||[]).filter(Oe=>Oe.is_voice))),isAdmin:dn,isInVoiceRoom:f,friendsList:gt})}),o.jsx(xf,{inviteToServerUser:wt,setInviteToServerUser:ln,categories:It,fetchWithAuth:Ae,API_BASE_URL:Ce})]}):o.jsxs(o.Fragment,{children:[Go&&o.jsx(cs,{animationState:xe}),o.jsx(a.Suspense,{fallback:o.jsx(Ye,{size:"large",text:"Y√ºkleniyor..."}),children:o.jsx(Tp,{onLogin:tt.handleLogin,onRegister:tt.handleRegister,error:ga,setAuthError:pr})})]})},"AppContent");function wf(){return o.jsx(Ki,{fallbackMessage:"Pawscord encountered an error. Please try refreshing the page.",children:o.jsx(Tl,{children:o.jsx(Sf,{})})})}l(wf,"App");const Ef=`${Me}/auth/verify-email/`,Cf=l(()=>{const{token:t}=Vs(),e=kn(),[n,r]=a.useState("loading"),[s,i]=a.useState("Hesabƒ±nƒ±z doƒürulanƒ±yor, l√ºtfen bekleyin...");return a.useEffect(()=>{if(!t){r("error"),i("Ge√ßersiz veya eksik doƒürulama kodu.");return}const c=l(async()=>{try{const d=await fetch(`${Ef}${t}/`),f=await d.json();d.ok?(r("success"),i("√úyeliƒüiniz ba≈üarƒ±yla aktif edildi!")):(r("error"),i(f.message||"Doƒürulama ba≈üarƒ±sƒ±z oldu."))}catch{r("error"),i("Sunucuya baƒülanƒ±lamadƒ±. L√ºtfen internet baƒülantƒ±nƒ±zƒ± kontrol edin.")}},"verify");setTimeout(()=>{c()},1e3)},[t]),o.jsx("div",{style:Ue.container,children:o.jsxs("div",{style:Ue.card,children:[n==="loading"&&o.jsxs("div",{style:Ue.content,children:[o.jsx(Us,{className:"spin-animation",size:50,color:"#5865f2",style:{marginBottom:20}}),o.jsx("h2",{style:Ue.title,children:"Doƒürulanƒ±yor..."}),o.jsx("p",{style:Ue.text,children:s})]}),n==="success"&&o.jsxs("div",{style:Ue.content,children:[o.jsx(qr,{size:60,color:"#43b581",style:{marginBottom:20}}),o.jsx("h2",{style:{...Ue.title,color:"#43b581"},children:"Tebrikler! üéâ"}),o.jsx("p",{style:Ue.text,children:s}),o.jsx("p",{style:Ue.subText,children:"Artƒ±k Pawscord'a tam eri≈üim saƒülayabilirsin."}),o.jsx("button",{onClick:l(()=>e("/"),"onClick"),style:Ue.primaryButton,children:"Gƒ∞Rƒ∞≈û YAP"})]}),n==="error"&&o.jsxs("div",{style:Ue.content,children:[o.jsx(Jr,{size:60,color:"#f04747",style:{marginBottom:20}}),o.jsx("h2",{style:{...Ue.title,color:"#f04747"},children:"Hata Olu≈ütu"}),o.jsx("p",{style:Ue.text,children:s}),o.jsx("button",{onClick:l(()=>e("/"),"onClick"),style:Ue.secondaryButton,children:"Ana Sayfaya D√∂n"})]})]})})},"VerifyEmailPage"),Ue={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100dvh",backgroundColor:"#1e1f22",fontFamily:"'Poppins', sans-serif",padding:"20px"},card:{backgroundColor:"#2b2d31",padding:"40px",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",maxWidth:"400px",width:"100%",textAlign:"center",border:"1px solid #1f2023"},content:{display:"flex",flexDirection:"column",alignItems:"center"},title:{margin:"0 0 10px 0",color:"#fff",fontSize:"1.8em"},text:{color:"#dbdee1",fontSize:"1.1em",margin:"0 0 20px 0",lineHeight:"1.5"},subText:{color:"#949ba4",fontSize:"0.9em",marginBottom:"30px"},primaryButton:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1em",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",width:"100%"},secondaryButton:{backgroundColor:"#4f545c",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1em",fontWeight:"bold",cursor:"pointer",width:"100%"}},ra=document.createElement("style");ra.innerText=`
  .spin-animation { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
`;document.head.appendChild(ra);const Tf=u.memo(Cf),Pf=l(()=>{const{code:t}=Vs(),e=kn(),{isAuthenticated:n,token:r}=Tt(),[s,i]=a.useState(null),[c,d]=a.useState(!0),[f,m]=a.useState(""),[h,g]=a.useState(!1),[y,b]=a.useState(!1);a.useEffect(()=>{_()},[t]);const _=l(async()=>{d(!0),m("");try{const x=await fetch(`${Me}/invites/${t}/`);if(!(x.headers.get("content-type")||"").includes("application/json")){m("Davet bulunamadƒ± veya ge√ßersiz"),d(!1);return}const L=await x.json();x.ok?i(L):m(L.error||"Davet bulunamadƒ±")}catch{m("Baƒülantƒ± hatasƒ±. L√ºtfen tekrar deneyin.")}d(!1)},"fetchInviteInfo"),k=l(async()=>{if(!n){se.error("‚ùå L√ºtfen √∂nce giri≈ü yapƒ±n!"),sessionStorage.setItem("pending_invite",t),e("/");return}if(!r){se.error("‚ùå Giri≈ü token'ƒ± bulunamadƒ±. L√ºtfen tekrar giri≈ü yapƒ±n."),e("/");return}g(!0),m("");try{const w=s?.type==="vanity"?`${Me}/servers/${s.server.id}/join/`:`${Me}/invites/${t}/accept/`,L=await fetch(w,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}),P=await L.json();if(L.ok){se.success(`‚úÖ Ba≈üarƒ±lƒ±! ${P.server_name||"Sunucu"}ya katƒ±ldƒ±nƒ±z!`),b(!0);const A=P.redirect||"/";setTimeout(()=>{A.startsWith("http")?window.location.href=A:e(A)},2e3)}else{const A=P.error||P.message||"Sunucuya katƒ±lma hatasƒ±";m(A),se.error(`‚ùå Hata: ${A}`)}}catch(x){const w=x.message||"Baƒülantƒ± hatasƒ±";m(w),se.error(`‚ùå Hata: ${w}`)}g(!1)},"handleAccept");return c?o.jsxs("div",{style:be.container,children:[o.jsx("div",{style:be.backgroundGradient}),o.jsxs("div",{style:be.card,children:[o.jsx("div",{style:be.spinner}),o.jsx("p",{style:be.loadingText,children:"Davet y√ºkleniyor..."})]})]}):f?o.jsxs("div",{style:be.container,children:[o.jsx("div",{style:be.backgroundGradient}),o.jsxs("div",{style:be.card,children:[o.jsx(Jr,{size:64,color:"var(--error)"}),o.jsx("h2",{style:be.errorTitle,children:"Hata"}),o.jsx("p",{style:be.errorText,children:f}),o.jsx("button",{onClick:l(()=>e("/"),"onClick"),style:be.homeButton,children:"Ana Sayfaya D√∂n"})]})]}):y?o.jsxs("div",{style:be.container,children:[o.jsx("div",{style:be.backgroundGradient}),o.jsxs("div",{style:be.card,children:[o.jsx(qr,{size:64,color:"var(--success)"}),o.jsx("h2",{style:be.successTitle,children:"Ba≈üarƒ±lƒ±!"}),o.jsxs("p",{style:be.successText,children:[o.jsx("strong",{children:s.server.name})," sunucusuna katƒ±ldƒ±nƒ±z!"]}),o.jsx("p",{style:be.redirectText,children:"Ana sayfaya y√∂nlendiriliyorsunuz..."})]})]}):o.jsxs("div",{style:be.container,children:[o.jsx("div",{style:be.backgroundGradient}),o.jsxs("div",{style:be.card,children:[s.server.icon&&o.jsx("img",{src:s.server.icon,alt:s.server.name,style:be.serverIcon}),o.jsxs("h1",{style:be.serverName,children:[o.jsx(zi,{style:be.icon}),s.server.name]}),o.jsxs("div",{style:be.infoRow,children:[o.jsx(Kr,{style:be.infoIcon}),o.jsxs("span",{children:[s.server.member_count," √úye"]})]}),s.expires_at&&o.jsxs("div",{style:be.infoRow,children:[o.jsx(Vi,{style:be.infoIcon}),o.jsxs("span",{children:["S√ºre: ",new Date(s.expires_at).toLocaleString("tr-TR")]})]}),s.max_uses>0&&o.jsx("div",{style:be.infoRow,children:o.jsxs("span",{children:["Kullanƒ±m: ",s.uses," / ",s.max_uses]})}),o.jsxs("div",{style:be.inviterInfo,children:["Davet Eden: ",o.jsx("strong",{children:s.inviter.username})]}),o.jsx("button",{onClick:k,disabled:h,style:{...be.joinButton,...h?be.joinButtonDisabled:{}},children:h?"Katƒ±lƒ±nƒ±yor...":n?"Sunucuya Katƒ±l":"Giri≈ü Yap ve Katƒ±l"}),!n&&o.jsx("p",{style:be.loginHint,children:"* Sunucuya katƒ±lmak i√ßin giri≈ü yapmanƒ±z gerekiyor"})]})]})},"InvitePage"),be={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"var(--bg-app)",padding:"20px",position:"relative",overflow:"hidden"},backgroundGradient:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(ellipse at top, rgba(139, 92, 246, 0.15), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.15), transparent 50%)",pointerEvents:"none",zIndex:0},card:{background:"var(--glass-bg)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",padding:"48px",borderRadius:"var(--radius-2xl)",textAlign:"center",color:"var(--text-primary)",maxWidth:"560px",width:"100%",boxShadow:"var(--shadow-2xl)",border:"1px solid var(--glass-border)",position:"relative",zIndex:1,animation:"scaleIn 0.4s ease-out"},spinner:{width:"50px",height:"50px",border:"3px solid var(--glass-border)",borderTop:"3px solid var(--brand-primary)",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto"},loadingText:{marginTop:"24px",color:"var(--text-tertiary)",fontSize:"15px",fontWeight:500},serverIcon:{width:"120px",height:"120px",borderRadius:"50%",marginBottom:"24px",objectFit:"cover",border:"4px solid var(--glass-border)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",transition:"var(--transition-normal)"},serverName:{fontSize:"32px",fontWeight:800,marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},icon:{fontSize:"28px",color:"var(--brand-primary)"},infoRow:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",margin:"16px 0",color:"var(--text-secondary)",fontSize:"16px",fontWeight:500,padding:"12px 20px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},infoIcon:{fontSize:"20px",color:"var(--brand-primary)"},inviterInfo:{marginTop:"24px",marginBottom:"32px",color:"var(--text-tertiary)",fontSize:"14px",padding:"16px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},joinButton:{background:"var(--gradient-primary)",color:"white",border:"none",padding:"16px 32px",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"16px",fontWeight:700,marginTop:"16px",width:"100%",transition:"var(--transition-normal)",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.4)",position:"relative",overflow:"hidden"},joinButtonDisabled:{background:"var(--bg-tertiary)",cursor:"not-allowed",opacity:.6,boxShadow:"none"},loginHint:{marginTop:"20px",fontSize:"13px",color:"var(--warning)",fontStyle:"italic",fontWeight:500},errorTitle:{color:"var(--error)",marginTop:"24px",fontSize:"28px",fontWeight:700},errorText:{color:"var(--text-tertiary)",margin:"24px 0",fontSize:"15px",lineHeight:1.6},successTitle:{color:"var(--success)",marginTop:"24px",fontSize:"28px",fontWeight:700},successText:{color:"var(--text-primary)",margin:"24px 0",fontSize:"18px",fontWeight:600},redirectText:{color:"var(--text-tertiary)",fontSize:"14px",marginTop:"12px",fontStyle:"italic"},homeButton:{background:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--glass-border)",padding:"14px 28px",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"15px",fontWeight:600,marginTop:"24px",transition:"var(--transition-normal)"}},oa=document.createElement("style");oa.textContent=`
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
`;document.head.appendChild(oa);const ys="pawscord_chunk_reload",_s="pawscord_chunk_reload_count",jf=1e4,Lf=2;function qn(t){if(!t)return!1;const e=t.message||t.toString();return e.includes("Failed to fetch dynamically imported module")||e.includes("Loading chunk")||e.includes("Loading CSS chunk")||e.includes("ChunkLoadError")||e.includes("Importing a module script failed")||e.includes("error loading dynamically imported module")}l(qn,"isChunkLoadError");function $e(t,e=1){return u.lazy(()=>new Promise((n,r)=>{const s=l(i=>{t().then(n).catch(c=>{i>0&&qn(c)?setTimeout(()=>s(i-1),500):(qn(c)&&sa(),r(c))})},"attempt");s(e)}))}l($e,"lazyWithRetry");function sa(){const t=sessionStorage.getItem(ys),e=parseInt(sessionStorage.getItem(_s)||"0",10),n=Date.now();e>=Lf||t&&n-parseInt(t,10)<jf||(sessionStorage.setItem(ys,n.toString()),sessionStorage.setItem(_s,(e+1).toString()),window.location.reload())}l(sa,"handleChunkReload");function If(t){return qn(t)?(sa(),!0):!1}l(If,"handleChunkErrorInBoundary");const Of=l(({apiBaseUrl:t})=>{const[e,n]=a.useState(!1),[r,s]=a.useState([]),[i,c]=a.useState(!1),d=a.useRef(null),f=a.useRef([]),m=a.useRef(null),{token:h}=Tt(),g=l(()=>{m.current?.scrollIntoView({behavior:"smooth"})},"scrollToBottom");a.useEffect(()=>{g()},[r,i]);const y=l(async()=>{try{const k=await navigator.mediaDevices.getUserMedia({audio:!0});d.current=new MediaRecorder(k),f.current=[],d.current.ondataavailable=x=>{x.data.size>0&&f.current.push(x.data)},d.current.onstop=_,d.current.start(),n(!0)}catch{se.error("‚ùå Mikrofon izni gerekli!")}},"startRecording"),b=l(()=>{d.current&&e&&(d.current.stop(),n(!1))},"stopRecording"),_=l(async()=>{c(!0);const k=new Blob(f.current,{type:"audio/webm"}),x=new FormData;x.append("audio",k,"voice.webm");try{const w=await fetch(`${t}/eng-learn/voice-chat/`,{method:"POST",headers:{Authorization:`Bearer ${h}`},body:x});if(w.ok){const L=await w.json();s(A=>[...A,{sender:"user",text:L.user_text},{sender:"ai",text:L.ai_text}]),new Audio(`data:audio/mp3;base64,${L.audio_base64}`).play()}else se.error("‚ùå Anla≈üƒ±lamadƒ± veya hata olu≈ütu.")}catch{se.error("‚ùå Baƒülantƒ± hatasƒ±.")}finally{c(!1)}},"handleStop");return o.jsxs("div",{style:bt.container,children:[o.jsxs("div",{style:bt.header,children:[o.jsxs(Ms,{to:"/eng-learn",style:bt.backBtn,children:[o.jsx(Ys,{})," Geri"]}),o.jsx("h2",{children:"AI ile Konu≈ü (Speaking)"})]}),o.jsxs("div",{style:bt.chatArea,children:[r.length===0&&o.jsxs("div",{style:bt.emptyState,children:[o.jsx(Wo,{size:60,color:"#5865f2",style:{marginBottom:20}}),o.jsx("h3",{children:"ƒ∞ngilizce Pratik Yap"}),o.jsx("p",{children:"Mikrofona basƒ±lƒ± tut ve konu≈ümaya ba≈üla."}),o.jsx("small",{style:{color:"#72767d"},children:'"Hello, how are you?" diyebilirsin.'})]}),r.map((k,x)=>o.jsxs("div",{style:{...bt.messageBubble,alignSelf:k.sender==="user"?"flex-end":"flex-start",backgroundColor:k.sender==="user"?"#5865f2":"#2b2d31",color:"white",borderBottomRightRadius:k.sender==="user"?"0":"12px",borderBottomLeftRadius:k.sender==="ai"?"0":"12px"},children:[o.jsxs("div",{style:bt.msgHeader,children:[k.sender==="user"?o.jsx(Mi,{size:12}):o.jsx(Wo,{size:12}),o.jsx("span",{style:{marginLeft:5,fontSize:"0.8em",fontWeight:"bold"},children:k.sender==="user"?"Sen":"AI √ñƒüretmen"})]}),k.text]},x)),i&&o.jsx("div",{style:{alignSelf:"flex-start",color:"#949ba4",marginLeft:10,fontStyle:"italic"},children:"Yazƒ±yor ve seslendiriyor..."}),o.jsx("div",{ref:m})]}),o.jsxs("div",{style:bt.controls,children:[o.jsx("button",{onMouseDown:y,onMouseUp:b,onTouchStart:y,onTouchEnd:b,style:{...bt.micButton,backgroundColor:e?"#f04747":"#5865f2",transform:e?"scale(1.1)":"scale(1)"},children:e?o.jsx($i,{size:24}):o.jsx(Gs,{size:30})}),o.jsx("p",{style:{marginTop:15,color:"#949ba4",fontSize:"0.9em"},children:e?"Dinliyor... (Bƒ±rakƒ±nca G√∂nderir)":"Basƒ±lƒ± Tut ve Konu≈ü"})]})]})},"EnglishVoicePractice"),bt={container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#313338",color:"white",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif"},header:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px",borderBottom:"1px solid #1f2023",paddingBottom:"15px"},backBtn:{color:"#b9bbbe",fontSize:"1em",textDecoration:"none",display:"flex",alignItems:"center",gap:"5px",fontWeight:"600"},chatArea:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px",paddingBottom:"20px",paddingRight:"5px"},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#949ba4",opacity:.8,textAlign:"center"},messageBubble:{maxWidth:"85%",padding:"15px",borderRadius:"12px",fontSize:"1em",lineHeight:"1.5",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",position:"relative"},msgHeader:{display:"flex",alignItems:"center",marginBottom:"5px",opacity:.8},controls:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"20px",borderTop:"1px solid #1f2023"},micButton:{width:"80px",height:"80px",borderRadius:"50%",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.1s ease",boxShadow:"0 5px 20px rgba(0,0,0,0.4)"}},bs=[{text:"Hello",difficulty:"Kolay"},{text:"Water",difficulty:"Kolay"},{text:"Friend",difficulty:"Kolay"},{text:"Family",difficulty:"Kolay"},{text:"Music",difficulty:"Kolay"},{text:"School",difficulty:"Kolay"},{text:"Computer",difficulty:"Kolay"},{text:"Beautiful",difficulty:"Kolay"},{text:"Together",difficulty:"Kolay"},{text:"Morning",difficulty:"Kolay"},{text:"Happy",difficulty:"Kolay"},{text:"Garden",difficulty:"Kolay"},{text:"People",difficulty:"Kolay"},{text:"Coffee",difficulty:"Kolay"},{text:"Purple",difficulty:"Kolay"},{text:"Technology",difficulty:"Orta"},{text:"Development",difficulty:"Orta"},{text:"Environment",difficulty:"Orta"},{text:"Successfully",difficulty:"Orta"},{text:"Opportunity",difficulty:"Orta"},{text:"Government",difficulty:"Orta"},{text:"Communication",difficulty:"Orta"},{text:"Experience",difficulty:"Orta"},{text:"Available",difficulty:"Orta"},{text:"Management",difficulty:"Orta"},{text:"International",difficulty:"Orta"},{text:"Recommendation",difficulty:"Orta"},{text:"Responsibility",difficulty:"Orta"},{text:"Understand",difficulty:"Orta"},{text:"Literature",difficulty:"Orta"},{text:"Necessary",difficulty:"Orta"},{text:"Vocabulary",difficulty:"Orta"},{text:"Interesting",difficulty:"Orta"},{text:"Comfortable",difficulty:"Orta"},{text:"Vegetable",difficulty:"Orta"},{text:"Squirrel",difficulty:"Zor"},{text:"Schedule",difficulty:"Zor"},{text:"Queue",difficulty:"Zor"},{text:"Rural",difficulty:"Zor"},{text:"Brewery",difficulty:"Zor"},{text:"Phenomenon",difficulty:"Zor"},{text:"February",difficulty:"Zor"},{text:"Library",difficulty:"Zor"},{text:"Specific",difficulty:"Zor"},{text:"Regularly",difficulty:"Zor"},{text:"Probably",difficulty:"Zor"},{text:"Algorithm",difficulty:"Zor"},{text:"Hierarchical",difficulty:"Zor"},{text:"Maintenance",difficulty:"Zor"},{text:"Pronunciation",difficulty:"Zor"},{text:"Throughout",difficulty:"Zor"},{text:"Entrepreneur",difficulty:"Zor"},{text:"Simultaneously",difficulty:"Zor"},{text:"Mischievous",difficulty:"Zor"},{text:"Chaos",difficulty:"Zor"},{text:"Recipe",difficulty:"Zor"},{text:"Worcestershire",difficulty:"Efsane"},{text:"Colonel",difficulty:"Efsane"},{text:"Miscellaneous",difficulty:"Efsane"},{text:"Anesthetist",difficulty:"Efsane"},{text:"Otorhinolaryngologist",difficulty:"Efsane"},{text:"Isthmus",difficulty:"Efsane"},{text:"Anemone",difficulty:"Efsane"},{text:"Synecdoche",difficulty:"Efsane"},{text:"Onomatopoeia",difficulty:"Efsane"},{text:"Conscientious",difficulty:"Efsane"},{text:"Defibrillator",difficulty:"Efsane"},{text:"Antidisestablishmentarianism",difficulty:"Efsane"},{text:"How are you doing today?",difficulty:"C√ºmle"},{text:"I would like to order a coffee.",difficulty:"C√ºmle"},{text:"The quick brown fox jumps over the lazy dog.",difficulty:"C√ºmle"},{text:"Can you please repeat that?",difficulty:"C√ºmle"},{text:"I am learning to speak English fluently.",difficulty:"C√ºmle"},{text:"It is raining cats and dogs outside.",difficulty:"C√ºmle"},{text:"Actions speak louder than words.",difficulty:"C√ºmle"},{text:"I need to schedule a meeting for tomorrow.",difficulty:"C√ºmle"},{text:"What do you do for a living?",difficulty:"C√ºmle"},{text:"She sells seashells by the seashore.",difficulty:"Tekerleme"},{text:"Red lorry, yellow lorry.",difficulty:"Tekerleme"},{text:"Peter Piper picked a peck of pickled peppers.",difficulty:"Tekerleme"},{text:"How much wood would a woodchuck chuck?",difficulty:"Tekerleme"},{text:"Unique New York.",difficulty:"Tekerleme"},{text:"Fuzzy Wuzzy was a bear.",difficulty:"Tekerleme"},{text:"Which wristwatches are Swiss wristwatches?",difficulty:"Tekerleme"}],Df=l(({apiBaseUrl:t})=>{const{token:e}=Tt(),[n,r]=a.useState(null),[s,i]=a.useState(!1),[c,d]=a.useState(!1),[f,m]=a.useState("idle"),[h,g]=a.useState(""),[y,b]=a.useState(0),_=a.useRef(null),k=a.useRef([]);a.useEffect(()=>{x()},[]);const x=l(()=>{const B=Math.floor(Math.random()*bs.length);r(bs[B]),m("idle"),g("")},"pickRandomCard"),w=l(async()=>{if(n)try{const B=await fetch(`${t}/eng-learn/speak-text/`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({text:n.text})});if(B.ok){const S=await B.json();new Audio(`data:audio/mp3;base64,${S.audio_base64}`).play()}}catch{}},"playPronunciation"),L=l(async()=>{g(""),m("recording");try{const B=await navigator.mediaDevices.getUserMedia({audio:!0});_.current=new MediaRecorder(B),k.current=[],_.current.ondataavailable=S=>{S.data.size>0&&k.current.push(S.data)},_.current.onstop=A,_.current.start(),i(!0)}catch{se.error("‚ùå Mikrofon izni gerekli!"),m("idle")}},"startRecording"),P=l(()=>{_.current&&s&&(_.current.stop(),i(!1))},"stopRecording"),A=l(async()=>{d(!0);const B=new Blob(k.current,{type:"audio/webm"}),S=new FormData;S.append("audio",B,"voice.webm"),S.append("target_text",n.text);try{const E=await(await fetch(`${t}/eng-learn/check-pronunciation/`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:S})).json();E.is_correct?(m("success"),g(`Harika! üéâ (${E.spoken_text})`),b(R=>R+1)):(m("error"),g(`Algƒ±lanan: "${E.spoken_text||"???"}" - Tekrar dene!`))}catch{g("Sunucu hatasƒ±."),m("error")}finally{d(!1)}},"handleStop");return n?o.jsxs("div",{style:Ve.container,children:[o.jsxs("div",{style:Ve.header,children:[o.jsxs(Ms,{to:"/eng-learn",style:Ve.backBtn,children:[o.jsx(Ys,{})," √áƒ±kƒ±≈ü"]}),o.jsxs("div",{style:Ve.scoreBadge,children:["Skor: ",y]})]}),o.jsxs("div",{style:Ve.mainContent,children:[o.jsxs("div",{style:{...Ve.card,borderColor:f==="success"?"#43b581":f==="error"?"#f04747":"transparent",boxShadow:f==="success"?"0 0 30px rgba(67, 181, 129, 0.3)":f==="error"?"0 0 30px rgba(240, 71, 71, 0.3)":"0 10px 30px rgba(0,0,0,0.3)"},children:[o.jsx("span",{style:{...Ve.difficulty,backgroundColor:n.difficulty==="Efsane"?"#eb459e":n.difficulty==="Zor"?"#f04747":"#202225",color:n.difficulty==="Efsane"||n.difficulty==="Zor"?"white":"#949ba4"},children:n.difficulty}),o.jsx("h1",{style:Ve.wordText,children:n.text}),o.jsx("div",{style:{height:"30px",marginTop:"10px",color:f==="success"?"#43b581":"#f04747",fontWeight:"bold"},children:c?"Analiz ediliyor...":h}),o.jsxs("div",{style:Ve.controls,children:[o.jsx("button",{onClick:w,style:Ve.iconButton,title:"Doƒürusunu Dinle",children:o.jsx(Ni,{size:24})}),o.jsx("button",{onMouseDown:L,onMouseUp:P,onTouchStart:L,onTouchEnd:P,style:{...Ve.micButton,backgroundColor:s?"#f04747":f==="success"?"#43b581":"#5865f2",transform:s?"scale(1.1)":"scale(1)"},children:o.jsx(Gs,{size:32})})]}),o.jsx("p",{style:Ve.hint,children:s?"Dinliyor...":"Mikrofona basƒ±lƒ± tut ve oku"})]}),o.jsx("div",{style:Ve.bottomNav,children:o.jsx("button",{onClick:x,style:Ve.skipButton,children:f==="success"?o.jsxs(o.Fragment,{children:["Sonraki Kelime ",o.jsx(Bi,{})]}):o.jsxs(o.Fragment,{children:["Bunu Ge√ß ",o.jsx(Fi,{})]})})})]})]}):o.jsx("div",{style:Ve.container,children:"Y√ºkleniyor..."})},"PronunciationPage"),Ve={container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#1e1f22",color:"white",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif",alignItems:"center"},header:{width:"100%",maxWidth:"600px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},backBtn:{color:"#b9bbbe",textDecoration:"none",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},scoreBadge:{backgroundColor:"#f0b232",color:"#000",padding:"5px 15px",borderRadius:"20px",fontWeight:"bold"},mainContent:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},card:{backgroundColor:"#2b2d31",padding:"40px",borderRadius:"24px",width:"100%",maxWidth:"500px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",border:"3px solid transparent",transition:"all 0.3s ease"},difficulty:{padding:"4px 12px",borderRadius:"12px",fontSize:"0.85em",marginBottom:"20px",fontWeight:"bold"},wordText:{fontSize:"2.2em",fontWeight:"800",margin:"0 0 10px 0",color:"#fff",letterSpacing:"1px",lineHeight:"1.3"},controls:{display:"flex",alignItems:"center",gap:"30px",marginTop:"30px"},iconButton:{width:"50px",height:"50px",borderRadius:"50%",border:"2px solid #40444b",backgroundColor:"transparent",color:"#b9bbbe",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},micButton:{width:"80px",height:"80px",borderRadius:"50%",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 5px 20px rgba(0,0,0,0.4)",transition:"all 0.1s ease"},hint:{marginTop:"20px",color:"#72767d",fontSize:"0.9em"},bottomNav:{marginTop:"50px"},skipButton:{background:"transparent",border:"none",color:"#b9bbbe",fontSize:"1.1em",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",padding:"10px 20px",borderRadius:"8px",transition:"background 0.2s",":hover":{backgroundColor:"rgba(255,255,255,0.05)"}}},Rf=u.memo(Df),Af=l(({apiBaseUrl:t})=>{const[e,n]=a.useState("loading"),r=kn(),s=zs();return a.useEffect(()=>{const i=new URLSearchParams(s.search),c=i.get("code");if(i.get("error")){n("error");return}if(c){const f=localStorage.getItem("access_token");fetch(`${t}/spotify/callback/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({code:c})}).then(m=>{m.ok?(n("success"),setTimeout(()=>{r("/",{replace:!0})},1500)):n("error")}).catch(m=>{n("error")})}},[s,t,r]),o.jsx("div",{style:kr.container,children:o.jsxs("div",{style:kr.card,children:[e==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx(Us,{className:"spin",size:50,color:"#1db954",style:{marginBottom:20}}),o.jsx("h2",{children:"Spotify Baƒülanƒ±yor..."}),o.jsx("p",{children:"Token alƒ±nƒ±yor, l√ºtfen bekleyin."})]}),e==="success"&&o.jsxs(o.Fragment,{children:[o.jsx(qr,{size:60,color:"#1db954",style:{marginBottom:20}}),o.jsx("h2",{style:{color:"#1db954"},children:"Ba≈üarƒ±lƒ±!"}),o.jsx("p",{children:"Hesabƒ±n baƒülandƒ±. Sohbet ekranƒ±na d√∂n√ºl√ºyor..."})]}),e==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(Jr,{size:60,color:"#f04747",style:{marginBottom:20}}),o.jsx("h2",{style:{color:"#f04747"},children:"Hata Olu≈ütu"}),o.jsx("p",{children:"Baƒülantƒ± kurulamadƒ±."}),o.jsx("button",{onClick:l(()=>r("/"),"onClick"),style:kr.button,children:"Geri D√∂n"})]})]})})},"SpotifyCallback"),kr={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100dvh",backgroundColor:"#191414",color:"white",fontFamily:"Poppins, sans-serif"},card:{backgroundColor:"#282828",padding:"40px",borderRadius:"16px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",maxWidth:"400px",width:"90%"},button:{marginTop:"20px",padding:"10px 20px",borderRadius:"20px",border:"none",backgroundColor:"#1db954",color:"white",fontWeight:"bold",cursor:"pointer"}},aa=document.createElement("style");aa.innerText=`
  .spin { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
`;document.head.appendChild(aa);const zf=u.memo(Af),Vf=l(()=>{const{globalData:t}=Qs(),[e,n]=a.useState(null),[r,s]=a.useState(!1),i=kn();if(a.useEffect(()=>{if(t&&t.type==="chat_message_handler"&&t.username==="‚ö° Signal Bot"){const d=t.content.split(`
`),f=d.find(y=>y.includes("ü™ô"))||"Bilinmiyor",m=d.find(y=>y.includes("üìà"))||"",h={title:"YENƒ∞ KRƒ∞PTO Sƒ∞NYALƒ∞! üö®",coin:f.replace("ü™ô","").replace(/\*/g,"").trim(),direction:m.includes("LONG")?"Y√úKSELƒ∞≈û (LONG)":"D√ú≈û√ú≈û (SHORT)",isLong:m.includes("LONG"),raw:t};n(h),s(!0);const g=setTimeout(()=>{s(!1)},8e3);return()=>clearTimeout(g)}},[t]),!r||!e)return null;const c=l(()=>{s(!1),i("/")},"handleClick");return o.jsxs("div",{style:xt.container,className:"slide-in-notification",children:[o.jsx("div",{style:xt.iconBox,children:o.jsx(Ui,{size:24,color:"#f0b232"})}),o.jsxs("div",{style:xt.content,onClick:c,children:[o.jsx("h4",{style:xt.title,children:e.title}),o.jsxs("div",{style:xt.details,children:[o.jsx("span",{style:xt.coinName,children:e.coin}),o.jsx("span",{style:{...xt.directionBadge,backgroundColor:e.isLong?"rgba(35, 165, 89, 0.2)":"rgba(240, 71, 71, 0.2)",color:e.isLong?"#23a559":"#da373c"},children:e.direction})]}),o.jsxs("span",{style:xt.hint,children:["Detaylar i√ßin tƒ±kla ",o.jsx(Yi,{size:10})]})]}),o.jsx("button",{onClick:l(d=>{d.stopPropagation(),s(!1)},"onClick"),style:xt.closeButton,children:o.jsx(xn,{})})]})},"SignalNotification"),xt={container:{position:"fixed",top:"20px",right:"20px",width:"320px",backgroundColor:"#1e1f22",borderRadius:"8px",boxShadow:"0 8px 20px rgba(0,0,0,0.5)",borderLeft:"5px solid #f0b232",display:"flex",alignItems:"center",padding:"15px",zIndex:99999,cursor:"pointer",transition:"transform 0.3s ease-out"},iconBox:{marginRight:"15px",display:"flex",alignItems:"center"},content:{flex:1,display:"flex",flexDirection:"column"},title:{margin:0,color:"#fff",fontSize:"0.95em",fontWeight:"bold",marginBottom:"5px"},details:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"},coinName:{color:"#dcddde",fontWeight:"bold",fontSize:"1.1em"},directionBadge:{fontSize:"0.75em",padding:"2px 6px",borderRadius:"4px",fontWeight:"bold"},hint:{fontSize:"0.7em",color:"#949ba4",display:"flex",alignItems:"center",gap:"5px"},closeButton:{background:"none",border:"none",color:"#949ba4",cursor:"pointer",padding:"5px",marginLeft:"10px",fontSize:"1em"}},ia=document.createElement("style");ia.innerText=`
  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  .slide-in-notification {
    animation: slideInRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  }
`;document.head.appendChild(ia);function Mf(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[s,i]=a.useState(!1),c=a.useRef(n);c.current=n;const d=a.useRef(r);return d.current=r,a.useEffect(()=>{const f=document.createElement("script");return f.src="https://accounts.google.com/gsi/client",f.async=!0,f.defer=!0,f.nonce=e,f.onload=()=>{var m;i(!0),(m=c.current)===null||m===void 0||m.call(c)},f.onerror=()=>{var m;i(!1),(m=d.current)===null||m===void 0||m.call(d)},document.body.appendChild(f),()=>{document.body.removeChild(f)}},[e]),s}l(Mf,"useLoadGsiScript");const $f=a.createContext(null);function Nf({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:s}){const i=Mf({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),c=a.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return u.createElement($f.Provider,{value:c},s)}l(Nf,"GoogleOAuthProvider");const Te=l(({children:t})=>{const e=en.isNativePlatform();return o.jsx("div",{style:{width:"100%",height:"100dvh",boxSizing:"border-box",paddingTop:e?"max(35px, env(safe-area-inset-top))":"0px",backgroundColor:"#1e1f22",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:t})},"PageWrapper"),ao=class ao extends u.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){if(qn(e)){If(e);return}this.setState({error:e,errorInfo:n});try{const r=typeof window<"u"&&window.__PAWSCORD_API_BASE__||"https://api.pawscord.com/api";fetch(`${r}/errors/report/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:e?.toString(),stack:e?.stack,componentStack:n?.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})}).catch(()=>{})}catch{}}render(){return this.state.hasError?o.jsx("div",{style:vt.container,children:o.jsxs("div",{style:vt.content,children:[o.jsx("div",{style:vt.icon,children:"üí•"}),o.jsx("h1",{style:vt.title,children:"Oops! Bir ≈üeyler ters gitti"}),o.jsx("p",{style:vt.message,children:"√úzg√ºn√ºz, uygulama beklenmedik bir hatayla kar≈üƒ±la≈ütƒ±."}),o.jsxs("div",{style:vt.actions,children:[o.jsx("button",{onClick:this.handleReset,style:vt.button,children:"üîÑ Yeniden Ba≈ülat"}),o.jsx("button",{onClick:l(()=>window.location.href="/","onClick"),style:{...vt.button,...vt.buttonSecondary},children:"üè† Ana Sayfaya D√∂n"})]}),!1]})}):this.props.children}};l(ao,"ErrorBoundary");let Mr=ao;const vt={container:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#1E1F22",color:"#FFFFFF",padding:"20px",fontFamily:"'Inter', sans-serif"},content:{textAlign:"center",maxWidth:"600px",padding:"40px",background:"linear-gradient(135deg, #2B2D31 0%, #1E1F22 100%)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},icon:{fontSize:"80px",marginBottom:"20px",animation:"shake 0.5s ease-in-out"},title:{fontSize:"32px",fontWeight:"bold",marginBottom:"16px",color:"#FFFFFF"},message:{fontSize:"16px",color:"#B9BBBE",marginBottom:"32px",lineHeight:"1.6"},actions:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},button:{padding:"12px 24px",fontSize:"16px",fontWeight:"600",border:"none",borderRadius:"8px",cursor:"pointer",backgroundColor:"#5865F2",color:"#FFFFFF",transition:"all 0.2s",":hover":{backgroundColor:"#4752C4"}},buttonSecondary:{backgroundColor:"#4E5058",":hover":{backgroundColor:"#6A6F78"}}},Bf={async post(t,e,n={}){const r={"Content-Type":"application/json",...n.headers};try{const s=await Rr(t,{method:"POST",headers:r,body:JSON.stringify(e),credentials:"include"}),i=await s.json();if(!s.ok){const c=new Error(i.error||"Request failed");throw c.response={data:i,status:s.status},c}return{data:i,status:s.status}}catch(s){if(s.message==="No refresh token available"){const i=await fetch(t,{method:"POST",headers:r,body:JSON.stringify(e),credentials:"include"}),c=await i.json();if(!i.ok){const d=new Error(c.error||"Request failed");throw d.response={data:c,status:i.status},d}return{data:c,status:i.status}}throw s}},async get(t,e={}){const n={"Content-Type":"application/json",...e.headers};try{const r=await Rr(t,{method:"GET",headers:n,credentials:"include"}),s=await r.json();if(!r.ok){const i=new Error(s.error||"Request failed");throw i.response={data:s,status:r.status},i}return{data:s,status:r.status}}catch(r){if(r.message==="No refresh token available"){const s=await fetch(t,{method:"GET",headers:n,credentials:"include"}),i=await s.json();if(!s.ok){const c=new Error(i.error||"Request failed");throw c.response={data:i,status:s.status},c}return{data:i,status:s.status}}throw r}}};function Ff(){let t=new URLSearchParams(window.location.search);if(t.get("access_token")||t.get("code")||t.get("error"))return t;const e=window.location.hash,n=e.indexOf("?");return n!==-1&&(t=new URLSearchParams(e.substring(n)),t.get("access_token")||t.get("code")||t.get("error")),t}l(Ff,"getCallbackParams");const Uf=l(({apiBaseUrl:t})=>{const e=kn(),{login:n}=Tt(),[r,s]=a.useState("processing"),[i,c]=a.useState(null),d=a.useRef(!1),f=a.useRef([]);return a.useEffect(()=>(l(async()=>{if(d.current)return;d.current=!0;const h=Ff(),g=h.get("code"),y=h.get("access_token");h.get("refresh_token");const b=h.get("error"),_=h.get("needs_password")==="true";if(b){s("error"),c("Google giri≈ü ba≈üarƒ±sƒ±z oldu. L√ºtfen tekrar deneyin."),f.current.push(setTimeout(()=>{try{e("/",{replace:!0})}catch{window.location.hash="#/"}},2e3));return}if(y){try{localStorage.setItem("access_token",y),n&&await n(y),s("success");const k=_?"/settings?section=security&action=set-password":"/";try{e(k,{replace:!0})}catch{}f.current.push(setTimeout(()=>{window.location.hash=`#${k}`},800))}catch{s("error"),c("Token i≈üleme hatasƒ±."),f.current.push(setTimeout(()=>{try{e("/",{replace:!0})}catch{window.location.hash="#/"}},2e3))}return}if(!g){s("error"),c("Yetkilendirme bilgisi bulunamadƒ±."),f.current.push(setTimeout(()=>{try{e("/",{replace:!0})}catch{window.location.hash="#/"}},2e3));return}try{s("exchanging");const k=`${t}/auth/exchange-code/`,x=await Bf.post(k,{code:g});if(x.data.success){const{access_token:w,refresh_token:L,user_id:P,needs_password:A}=x.data;localStorage.setItem("access_token",w),localStorage.setItem("refreshToken",L),n&&await n(w,L),s("success");const B=A?"/settings?section=security&action=set-password":"/";try{e(B,{replace:!0})}catch{}f.current.push(setTimeout(()=>{window.location.hash=`#${B}`},800))}else throw new Error(x.data.error||"Token exchange failed")}catch(k){s("error"),c(k.response?.data?.error||"Giri≈ü i≈ülemi ba≈üarƒ±sƒ±z oldu."),f.current.push(setTimeout(()=>{try{e("/",{replace:!0})}catch{window.location.hash="#/"}},2e3))}},"handleCallback")(),()=>{f.current.forEach(h=>clearTimeout(h)),f.current=[]}),[e,n,t]),o.jsx("div",{className:"auth-callback-container",children:o.jsxs("div",{className:"auth-callback-card",children:[r==="processing"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"auth-spinner"}),o.jsx("h2",{children:"ƒ∞≈üleniyor..."}),o.jsx("p",{children:"Google hesabƒ±nƒ±z doƒürulanƒ±yor"})]}),r==="exchanging"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"auth-spinner"}),o.jsx("h2",{children:"Giri≈ü Yapƒ±lƒ±yor..."}),o.jsx("p",{children:"G√ºvenli baƒülantƒ± kuruluyor"})]}),r==="success"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"auth-success-icon",children:"‚úì"}),o.jsx("h2",{children:"Giri≈ü Ba≈üarƒ±lƒ±!"}),o.jsx("p",{children:"Y√∂nlendiriliyorsunuz..."})]}),r==="error"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"auth-error-icon",children:"‚úï"}),o.jsx("h2",{children:"Hata"}),o.jsx("p",{children:i}),o.jsx("p",{className:"auth-redirect-text",children:"Ana sayfaya y√∂nlendiriliyorsunuz..."})]})]})})},"AuthCallback"),ue=l(t=>typeof t=="string","isString"),mn=l(()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},"defer"),xs=l(t=>t==null?"":""+t,"makeString"),Yf=l((t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},"copy"),Gf=/###/g,vs=l(t=>t&&t.indexOf("###")>-1?t.replace(Gf,"."):t,"cleanKey"),ks=l(t=>!t||ue(t),"canNotTraverseDeeper"),_n=l((t,e,n)=>{const r=ue(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(ks(t))return{};const i=vs(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return ks(t)?{}:{obj:t,k:vs(r[s])}},"getLastOfPath"),Ss=l((t,e,n)=>{const{obj:r,k:s}=_n(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],c=e.slice(0,e.length-1),d=_n(t,c,Object);for(;d.obj===void 0&&c.length;)i=`${c[c.length-1]}.${i}`,c=c.slice(0,c.length-1),d=_n(t,c,Object),d?.obj&&typeof d.obj[`${d.k}.${i}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${i}`]=n},"setPath"),Hf=l((t,e,n,r)=>{const{obj:s,k:i}=_n(t,e,Object);s[i]=s[i]||[],s[i].push(n)},"pushPath"),Jn=l((t,e)=>{const{obj:n,k:r}=_n(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),Kf=l((t,e,n)=>{const r=Jn(t,n);return r!==void 0?r:Jn(e,n)},"getPathWithDefaults"),la=l((t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ue(t[r])||t[r]instanceof String||ue(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):la(t[r],e[r],n):t[r]=e[r]);return t},"deepExtend"),Gt=l(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape");var qf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Jf=l(t=>ue(t)?t.replace(/[&<>"'\/]/g,e=>qf[e]):t,"escape$1"),io=class io{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}};l(io,"RegExpCache");let $r=io;const Wf=[" ",",","?","!",";"],Zf=new $r(20),Qf=l((t,e,n)=>{e=e||"",n=n||"";const r=Wf.filter(c=>e.indexOf(c)<0&&n.indexOf(c)<0);if(r.length===0)return!0;const s=Zf.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let i=!s.test(t);if(!i){const c=t.indexOf(n);c>0&&!s.test(t.substring(0,c))&&(i=!0)}return i},"looksLikeObjectPath"),Nr=l((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let c,d="";for(let f=i;f<r.length;++f)if(f!==i&&(d+=n),d+=r[f],c=s[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&f<r.length-1)continue;i+=f-i+1;break}s=c}return s},"deepFind"),vn=l(t=>t?.replace("_","-"),"getCleanedCode"),Xf={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},bn=class bn{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||Xf,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(ue(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new bn(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new bn(this.logger,e)}};l(bn,"Logger");let Br=bn;var ct=new Br;const lo=class lo{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let c=0;c<i;c++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let c=0;c<i;c++)s.apply(s,[e,...n])})}};l(lo,"EventEmitter");let tn=lo;const co=class co extends tn{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,n],r&&(Array.isArray(r)?d.push(...r):ue(r)&&i?d.push(...r.split(i)):d.push(r)));const f=Jn(this.data,d);return!f&&!n&&!r&&e.indexOf(".")>-1&&(e=d[0],n=d[1],r=d.slice(2).join(".")),f||!c||!ue(r)?f:Nr(this.data?.[e]?.[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let d=[e,n];r&&(d=d.concat(c?r.split(c):r)),e.indexOf(".")>-1&&(d=e.split("."),s=n,n=d[1]),this.addNamespaces(n),Ss(this.data,d,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(ue(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,c={silent:!1,skipCopy:!1}){let d=[e,n];e.indexOf(".")>-1&&(d=e.split("."),s=r,r=n,n=d[1]),this.addNamespaces(n);let f=Jn(this.data,d)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?la(f,r,i):f={...f,...r},Ss(this.data,d,f),c.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}};l(co,"ResourceStore");let Wn=co;var ca={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{e=this.processors[i]?.process(e,n,r,s)??e}),e}};const da=Symbol("i18next/PATH_KEY");function em(){const t=[],e=Object.create(null);let n;return e.get=(r,s)=>(n?.revoke?.(),s===da?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}l(em,"createProxy");function Fr(t,e){const{[da]:n}=t(em());return n.join(e?.keySeparator??".")}l(Fr,"keysFromSelector");const ws={},Sr=l(t=>!ue(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),tr=class tr extends tn{constructor(e,n={}){super(),Yf(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ct.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);if(s?.res===void 0)return!1;const i=Sr(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const c=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Qf(e,r,s);if(c&&!d){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:ue(i)?[i]:i};const m=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(m[0])>-1)&&(i=m.shift()),e=m.join(s)}return{key:e,namespaces:ue(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Fr(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:d,namespaces:f}=this.extractFromKey(e[e.length-1],s),m=f[f.length-1];let h=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;h===void 0&&(h=":");const g=s.lng||this.language,y=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return y?i?{res:`${m}${h}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:m,usedParams:this.getUsedParamsDetails(s)}:`${m}${h}${d}`:i?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:m,usedParams:this.getUsedParamsDetails(s)}:d;const b=this.resolve(e,s);let _=b?.res;const k=b?.usedKey||d,x=b?.exactUsedKey||d,w=["[object Number]","[object Function]","[object RegExp]"],L=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,A=s.count!==void 0&&!ue(s.count),B=tr.hasDefaultValue(s),S=A?this.pluralResolver.getSuffix(g,s.count,s):"",j=s.ordinal&&A?this.pluralResolver.getSuffix(g,s.count,{ordinal:!1}):"",E=A&&!s.ordinal&&s.count===0,R=E&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${S}`]||s[`defaultValue${j}`]||s.defaultValue;let N=_;P&&!_&&B&&(N=R);const V=Sr(N),T=Object.prototype.toString.apply(N);if(P&&N&&V&&w.indexOf(T)<0&&!(ue(L)&&Array.isArray(N))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const v=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,N,{...s,ns:f}):`key '${d} (${this.language})' returned an object instead of string.`;return i?(b.res=v,b.usedParams=this.getUsedParamsDetails(s),b):v}if(c){const v=Array.isArray(N),I=v?[]:{},C=v?x:k;for(const M in N)if(Object.prototype.hasOwnProperty.call(N,M)){const G=`${C}${c}${M}`;B&&!_?I[M]=this.translate(G,{...s,defaultValue:Sr(R)?R[M]:void 0,joinArrays:!1,ns:f}):I[M]=this.translate(G,{...s,joinArrays:!1,ns:f}),I[M]===G&&(I[M]=N[M])}_=I}}else if(P&&ue(L)&&Array.isArray(_))_=_.join(L),_&&(_=this.extendTranslation(_,e,s,r));else{let v=!1,I=!1;!this.isValidLookup(_)&&B&&(v=!0,_=R),this.isValidLookup(_)||(I=!0,_=d);const M=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:_,G=B&&R!==_&&this.options.updateMissing;if(I||v||G){if(this.logger.log(G?"updateKey":"missingKey",g,m,d,G?R:_),c){const J=this.resolve(d,{...s,keySeparator:!1});J&&J.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(let J=0;J<ne.length;J++)W.push(ne[J]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(s.lng||this.language):W.push(s.lng||this.language);const U=l((J,le,ee)=>{const z=B&&ee!==_?ee:M;this.options.missingKeyHandler?this.options.missingKeyHandler(J,m,le,z,G,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(J,m,le,z,G,s),this.emit("missingKey",J,m,le,_)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&A?W.forEach(J=>{const le=this.pluralResolver.getSuffixes(J,s);E&&s[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(ee=>{U([J],d+ee,s[`defaultValue${ee}`]||R)})}):U(W,d,R))}_=this.extendTranslation(_,e,s,b,r),I&&_===d&&this.options.appendNamespaceToMissingKey&&(_=`${m}${h}${d}`),(I||v)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${h}${d}`:d,v?_:void 0,s))}return i?(b.res=_,b.usedParams=this.getUsedParamsDetails(s),b):_}extendTranslation(e,n,r,s,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=ue(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(f){const g=e.match(this.interpolator.nestingRegexp);m=g&&g.length}let h=r.replace&&!ue(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||s.usedLng,r),f){const g=e.match(this.interpolator.nestingRegexp),y=g&&g.length;m<y&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>i?.[0]===g[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):this.translate(...g,n),r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,d=ue(c)?[c]:c;return e!=null&&d?.length&&r.applyPostProcessor!==!1&&(e=ca.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,c,d;return ue(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const m=this.extractFromKey(f,n),h=m.key;s=h;let g=m.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const y=n.count!==void 0&&!ue(n.count),b=y&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(ue(n.context)||typeof n.context=="number")&&n.context!=="",k=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(x=>{this.isValidLookup(r)||(d=x,!ws[`${k[0]}-${x}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(ws[`${k[0]}-${x}`]=!0,this.logger.warn(`key "${s}" for languages "${k.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(w=>{if(this.isValidLookup(r))return;c=w;const L=[h];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(L,h,w,x,n);else{let A;y&&(A=this.pluralResolver.getSuffix(w,n.count,n));const B=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&A.indexOf(S)===0&&L.push(h+A.replace(S,this.options.pluralSeparator)),L.push(h+A),b&&L.push(h+B)),_){const j=`${h}${this.options.contextSeparator||"_"}${n.context}`;L.push(j),y&&(n.ordinal&&A.indexOf(S)===0&&L.push(j+A.replace(S,this.options.pluralSeparator)),L.push(j+A),b&&L.push(j+B))}}let P;for(;P=L.pop();)this.isValidLookup(r)||(i=P,r=this.getResource(w,x,P,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ue(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}};l(tr,"Translator");let Zn=tr;const uo=class uo{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ct.create("languageUtils")}getScriptPartFromCode(e){if(e=vn(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=vn(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ue(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(c=>{if(c===i)return c;if(!(c.indexOf("-")<0&&i.indexOf("-")<0)&&(c.indexOf("-")>0&&i.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===i||c.indexOf(i)===0&&i.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ue(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=l(c=>{c&&(this.isSupportedCode(c)?s.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))},"addCode");return ue(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):ue(e)&&i(this.formatLanguageCode(e)),r.forEach(c=>{s.indexOf(c)<0&&i(this.formatLanguageCode(c))}),s}};l(uo,"LanguageUtil");let Qn=uo;const Es={zero:0,one:1,two:2,few:3,many:4,other:5},Cs={select:l(t=>t===1?"one":"other","select"),resolvedOptions:l(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},po=class po{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=ct.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=vn(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let c;try{c=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Cs;if(!e.match(/-|_/))return Cs;const f=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(f,n)}return this.pluralRulesCache[i]=c,c}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Es[s]-Es[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}};l(po,"PluralResolver");let Ur=po;const Ts=l((t,e,n,r=".",s=!0)=>{let i=Kf(t,e,n);return!i&&s&&ue(n)&&(i=Nr(t,n,r),i===void 0&&(i=Nr(e,n,r))),i},"deepFindWithDefaults"),wr=l(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),fo=class fo{constructor(e={}){this.logger=ct.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:c,suffix:d,suffixEscaped:f,formatSeparator:m,unescapeSuffix:h,unescapePrefix:g,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:_,nestingSuffixEscaped:k,nestingOptionsSeparator:x,maxReplaces:w,alwaysFormat:L}=e.interpolation;this.escape=n!==void 0?n:Jf,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?Gt(i):c||"{{",this.suffix=d?Gt(d):f||"}}",this.formatSeparator=m||",",this.unescapePrefix=h?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=y?Gt(y):b||Gt("$t("),this.nestingSuffix=_?Gt(_):k||Gt(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=w||1e3,this.alwaysFormat=L!==void 0?L:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=l((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,c,d;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=l(b=>{if(b.indexOf(this.formatSeparator)<0){const w=Ts(n,f,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...s,...n,interpolationkey:b}):w}const _=b.split(this.formatSeparator),k=_.shift().trim(),x=_.join(this.formatSeparator).trim();return this.format(Ts(n,f,k,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...s,...n,interpolationkey:k})},"handleFormat");this.resetRegExp();const h=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:l(b=>wr(b),"safeValue")},{regex:this.regexp,safeValue:l(b=>this.escapeValue?wr(this.escape(b)):wr(b),"safeValue")}].forEach(b=>{for(d=0;i=b.regex.exec(e);){const _=i[1].trim();if(c=m(_),c===void 0)if(typeof h=="function"){const x=h(e,i,s);c=ue(x)?x:""}else if(s&&Object.prototype.hasOwnProperty.call(s,_))c="";else if(g){c=i[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),c="";else!ue(c)&&!this.useRawValueToEscape&&(c=xs(c));const k=b.safeValue(c);if(e=e.replace(i[0],k),g?(b.regex.lastIndex+=c.length,b.regex.lastIndex-=i[0].length):b.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,c;const d=l((f,m)=>{const h=this.nestingOptionsSeparator;if(f.indexOf(h)<0)return f;const g=f.split(new RegExp(`${h}[ ]*{`));let y=`{${g[1]}`;f=g[0],y=this.interpolate(y,c);const b=y.match(/'/g),_=y.match(/"/g);((b?.length??0)%2===0&&!_||_.length%2!==0)&&(y=y.replace(/'/g,'"'));try{c=JSON.parse(y),m&&(c={...m,...c})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,k),`${f}${h}${y}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,f},"handleHasOptions");for(;s=this.nestingRegexp.exec(e);){let f=[];c={...r},c=c.replace&&!ue(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const m=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(m!==-1&&(f=s[1].slice(m).split(this.formatSeparator).map(h=>h.trim()).filter(Boolean),s[1]=s[1].slice(0,m)),i=n(d.call(this,s[1].trim(),c),c),i&&s[0]===e&&!ue(i))return i;ue(i)||(i=xs(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),f.length&&(i=f.reduce((h,g)=>this.format(h,g,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}};l(fo,"Interpolator");let Xn=fo;const tm=l(t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(c=>{if(c){const[d,...f]=c.split(":"),m=f.join(":").trim().replace(/^'+|'+$/g,""),h=d.trim();n[h]||(n[h]=m),m==="false"&&(n[h]=!1),m==="true"&&(n[h]=!0),isNaN(m)||(n[h]=parseInt(m,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),Ps=l(t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const c=r+JSON.stringify(i);let d=e[c];return d||(d=t(vn(r),s),e[c]=d),d(n)}},"createCachedFormatter"),nm=l(t=>(e,n,r)=>t(vn(n),r)(e),"createNonCachedFormatter"),mo=class mo{constructor(e={}){this.logger=ct.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?Ps:nm;this.formats={number:r((s,i)=>{const c=new Intl.NumberFormat(s,{...i});return d=>c.format(d)}),currency:r((s,i)=>{const c=new Intl.NumberFormat(s,{...i,style:"currency"});return d=>c.format(d)}),datetime:r((s,i)=>{const c=new Intl.DateTimeFormat(s,{...i});return d=>c.format(d)}),relativetime:r((s,i)=>{const c=new Intl.RelativeTimeFormat(s,{...i});return d=>c.format(d,i.range||"day")}),list:r((s,i)=>{const c=new Intl.ListFormat(s,{...i});return d=>c.format(d)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ps(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(d=>d.indexOf(")")>-1)){const d=i.findIndex(f=>f.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,d)].join(this.formatSeparator)}return i.reduce((d,f)=>{const{formatName:m,formatOptions:h}=tm(f);if(this.formats[m]){let g=d;try{const y=s?.formatParams?.[s.interpolationkey]||{},b=y.locale||y.lng||s.locale||s.lng||r;g=this.formats[m](d,b,{...h,...s,...y})}catch(y){this.logger.warn(y)}return g}else this.logger.warn(`there was no format function for ${m}`);return d},e)}};l(mo,"Formatter");let Yr=mo;const rm=l((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),go=class go extends tn{constructor(e,n,r,s={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=ct.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,n,r,s){const i={},c={},d={},f={};return e.forEach(m=>{let h=!0;n.forEach(g=>{const y=`${m}|${g}`;!r.reload&&this.store.hasResourceBundle(m,g)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?c[y]===void 0&&(c[y]=!0):(this.state[y]=1,h=!1,c[y]===void 0&&(c[y]=!0),i[y]===void 0&&(i[y]=!0),f[g]===void 0&&(f[g]=!0)))}),h||(d[m]=!0)}),(Object.keys(i).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(f)}}loaded(e,n,r){const s=e.split("|"),i=s[0],c=s[1];n&&this.emit("failedLoading",i,c,n),!n&&r&&this.store.addResourceBundle(i,c,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const d={};this.queue.forEach(f=>{Hf(f.loaded,[i],c),rm(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(m=>{d[m]||(d[m]={});const h=f.loaded[m];h.length&&h.forEach(g=>{d[m][g]===void 0&&(d[m][g]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(f=>!f.done)}read(e,n,r,s=0,i=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:c});return}this.readingCalls++;const d=l((m,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(m&&h&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,c)},i);return}c(m,h)},"resolver"),f=this.backend[r].bind(this.backend);if(f.length===2){try{const m=f(e,n);m&&typeof m.then=="function"?m.then(h=>d(null,h)).catch(d):d(null,m)}catch(m){d(m)}return}return f(e,n,d)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ue(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ue(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(c=>{this.loadOne(c)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,d),this.loaded(e,c,d)})}saveMissing(e,n,r,s,i,c={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const f={...c,isUpdate:i},m=this.backend.create.bind(this.backend);if(m.length<6)try{let h;m.length===5?h=m(e,n,r,s,f):h=m(e,n,r,s),h&&typeof h.then=="function"?h.then(g=>d(null,g)).catch(d):d(null,h)}catch(h){d(h)}else m(e,n,r,s,d,f)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}};l(go,"Connector");let Gr=go;const Er=l(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ue(t[1])&&(e.defaultValue=t[1]),ue(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:l(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),js=l(t=>(ue(t.ns)&&(t.ns=[t.ns]),ue(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ue(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),Fn=l(()=>{},"noop"),om=l(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),sm=l(t=>!!(t?.modules?.backend?.name?.indexOf("Locize")>0||t?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||t?.options?.backend?.backends&&t.options.backend.backends.some(e=>e?.name?.indexOf("Locize")>0||e?.constructor?.name?.indexOf("Locize")>0)),"usesLocize"),Zt=class Zt extends tn{constructor(e={},n){if(super(),this.options=js(e),this.services={},this.logger=ct,this.modules={external:[]},om(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ue(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Er();this.options={...r,...this.options,...js(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&sm(this);const s=l(m=>m?typeof m=="function"?new m:m:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?ct.init(s(this.modules.logger),this.options):ct.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=Yr;const h=new Qn(this.options);this.store=new Wn(this.options.resources,this.options);const g=this.services;g.logger=ct,g.resourceStore=this.store,g.languageUtils=h,g.pluralResolver=new Ur(h,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=s(m),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Xn(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Gr(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Zn(this.services,this.options),this.translator.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Fn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...h)=>this.store[m](...h)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...h)=>(this.store[m](...h),this)});const d=mn(),f=l(()=>{const m=l((h,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(g),n(h,g)},"finish");if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)},"load");return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(e,n=Fn){let r=n;const s=ue(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],c=l(d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&i.indexOf(m)<0&&i.push(m)})},"append");s?c(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>c(f)),this.options.preload?.forEach?.(d=>c(d)),this.services.backendConnector.load(i,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(d)})}else r(null)}reloadResources(e,n,r){const s=mn();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Fn),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ca.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=mn();this.emit("languageChanging",e);const s=l(d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},"setLngProps"),i=l((d,f)=>{f?this.isLanguageChangingTo===e&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...m)=>this.t(...m)),n&&n(d,(...m)=>this.t(...m))},"done"),c=l(d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const f=ue(d)?d:d&&d[0],m=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(ue(d)?[d]:d);m&&(this.language||s(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,h=>{i(h,m)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),r}getFixedT(e,n,r){const s=l((i,c,...d)=>{let f;typeof c!="object"?f=this.options.overloadTranslationOptionHandler([i,c].concat(d)):f={...c},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||s.keyPrefix);const m=this.options.keySeparator||".";let h;return f.keyPrefix&&Array.isArray(i)?h=i.map(g=>(typeof g=="function"&&(g=Fr(g,{...this.options,...c})),`${f.keyPrefix}${m}${g}`)):(typeof i=="function"&&(i=Fr(i,{...this.options,...c})),h=f.keyPrefix?`${f.keyPrefix}${m}${i}`:i),this.t(h,f)},"fixedT");return ue(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=l((d,f)=>{const m=this.services.backendConnector.state[`${d}|${f}`];return m===-1||m===0||m===2},"loadNotPending");if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,e)&&(!s||c(i,e)))}loadNamespaces(e,n){const r=mn();return this.options.ns?(ue(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=mn();ue(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(c=>s.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return i.length?(this.options.preload=s.concat(i),this.loadResources(c=>{r.resolve(),n&&n(c)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Qn(Er());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Zt(e,n);return r.createInstance=Zt.createInstance,r}cloneInstance(e={},n=Fn){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Zt(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(d=>{i[d]=this[d]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const d=Object.keys(this.store.data).reduce((f,m)=>(f[m]={...this.store.data[m]},f[m]=Object.keys(f[m]).reduce((h,g)=>(h[g]={...f[m][g]},h),f[m]),f),{});i.store=new Wn(d,s),i.services.resourceStore=i.store}if(e.interpolation){const f={...Er().interpolation,...this.options.interpolation,...e.interpolation},m={...s,interpolation:f};i.services.interpolator=new Xn(m)}return i.translator=new Zn(i.services,s),i.translator.on("*",(d,...f)=>{i.emit(d,...f)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};l(Zt,"I18n");let Hr=Zt;const Ne=Hr.createInstance();Ne.createInstance;Ne.dir;Ne.init;Ne.loadResources;Ne.reloadResources;Ne.use;Ne.changeLanguage;Ne.getFixedT;Ne.t;Ne.exists;Ne.setDefaultNamespace;Ne.hasLoadedNamespace;Ne.loadNamespaces;Ne.loadLanguages;const am=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,im={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"¬©","&#169;":"¬©","&reg;":"¬Æ","&#174;":"¬Æ","&hellip;":"‚Ä¶","&#8230;":"‚Ä¶","&#x2F;":"/","&#47;":"/"},lm=l(t=>im[t],"unescapeHtmlEntity"),cm=l(t=>t.replace(am,lm),"unescape");let Ls={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:cm,transDefaultProps:void 0};const dm=l((t={})=>{Ls={...Ls,...t}},"setDefaults"),um={type:"3rdParty",init(t){dm(t.options.react)}},{slice:pm,forEach:fm}=[];function mm(t){return fm.call(pm.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}l(mm,"defaults");function gm(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}l(gm,"hasXSS");const Is=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,hm=l(function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(r.maxAge>0){const c=r.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(c)}`}if(r.domain){if(!Is.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!Is.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},"serializeCookie"),Os={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=hm(t,e,s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var ym={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Os.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=e;n&&typeof document<"u"&&Os.create(n,t,r,s,i)}},_m={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let c=0;c<i.length;c++){const d=i[c].indexOf("=");d>0&&i[c].substring(0,d)===e&&(n=i[c].substring(d+1))}}return n}},bm={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const i=s.substring(1);if(e){const c=i.split("&");for(let d=0;d<c.length;d++){const f=c[d].indexOf("=");f>0&&c[d].substring(0,f)===e&&(r=c[d].substring(f+1))}}if(r)return r;if(!r&&n>-1){const c=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?c[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let Ht=null;const Ds=l(()=>{if(Ht!==null)return Ht;try{if(Ht=typeof window<"u"&&window.localStorage!==null,!Ht)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ht=!1}return Ht},"localStorageAvailable");var xm={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Ds())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&Ds()&&window.localStorage.setItem(n,t)}};let Kt=null;const Rs=l(()=>{if(Kt!==null)return Kt;try{if(Kt=typeof window<"u"&&window.sessionStorage!==null,!Kt)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Kt=!1}return Kt},"sessionStorageAvailable");var vm={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Rs())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&Rs()&&window.sessionStorage.setItem(n,t)}},km={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},Sm={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},wm={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},Em={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let ua=!1;try{document.cookie,ua=!0}catch{}const pa=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ua||pa.splice(1,1);const Cm=l(()=>({order:pa,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:l(t=>t,"convertDetectedLanguage")}),"getDefaults"),ho=class ho{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=mm(n,this.options||{},Cm()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(ym),this.addDetector(_m),this.addDetector(xm),this.addDetector(vm),this.addDetector(km),this.addDetector(Sm),this.addDetector(wm),this.addDetector(Em),this.addDetector(bm)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!gm(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}};l(ho,"Browser");let er=ho;er.type="languageDetector";const Tm={loading:"Y√ºkleniyor...",save:"Kaydet",cancel:"ƒ∞ptal",delete:"Sil",edit:"D√ºzenle",close:"Kapat",confirm:"Onayla",search:"Ara",send:"G√∂nder",copy:"Kopyala",copied:"Kopyalandƒ±!",back:"Geri",next:"ƒ∞leri",yes:"Evet",no:"Hayƒ±r",ok:"Tamam",error:"Hata",success:"Ba≈üarƒ±lƒ±",warning:"Uyarƒ±",info:"Bilgi",retry:"Tekrar Dene",logout:"√áƒ±kƒ±≈ü Yap",settings:"Ayarlar",profile:"Profil",online:"√áevrimi√ßi",offline:"√áevrimdƒ±≈üƒ±",idle:"Bo≈üta",dnd:"Rahatsƒ±z Etmeyin",invisible:"G√∂r√ºnmez",members:"√úyeler",channels:"Kanallar",roles:"Roller",server:"Sunucu",invite:"Davet Et",upload:"Y√ºkle",download:"ƒ∞ndir",mute:"Sessize Al",unmute:"Sesi A√ß",deafen:"Saƒüƒ±rla≈ütƒ±r",undeafen:"Saƒüƒ±rlƒ±ƒüƒ± Kaldƒ±r",ban:"Yasakla",kick:"At",block:"Engelle",unblock:"Engeli Kaldƒ±r",report:"≈ûikayet Et"},Pm={login:"Giri≈ü Yap",register:"Kayƒ±t Ol",email:"E-posta",password:"≈ûifre",confirmPassword:"≈ûifre Tekrar",username:"Kullanƒ±cƒ± Adƒ±",forgotPassword:"≈ûifreni mi unuttun?",loginWith:"ile Giri≈ü Yap",registerWith:"ile Kayƒ±t Ol",orContinueWith:"veya ≈üununla devam et",alreadyHaveAccount:"Zaten hesabƒ±n var mƒ±?",dontHaveAccount:"Hesabƒ±n yok mu?",loginSuccess:"Giri≈ü ba≈üarƒ±lƒ±!",registerSuccess:"Kayƒ±t ba≈üarƒ±lƒ±!",invalidCredentials:"Ge√ßersiz e-posta veya ≈üifre",emailRequired:"E-posta gerekli",passwordRequired:"≈ûifre gerekli",passwordTooShort:"≈ûifre en az 8 karakter olmalƒ±",passwordsDoNotMatch:"≈ûifreler e≈üle≈ümiyor",emailAlreadyInUse:"Bu e-posta zaten kullanƒ±mda",usernameAlreadyInUse:"Bu kullanƒ±cƒ± adƒ± zaten alƒ±nmƒ±≈ü",verifyEmail:"E-postanƒ±zƒ± doƒürulayƒ±n",verifyEmailSent:"Doƒürulama e-postasƒ± g√∂nderildi",twoFactorAuth:"ƒ∞ki Fakt√∂rl√º Doƒürulama",enterCode:"Kodu girin",enable2FA:"2FA'yƒ± Etkinle≈ütir",disable2FA:"2FA'yƒ± Devre Dƒ±≈üƒ± Bƒ±rak"},jm={typeMessage:"Mesaj yaz...",editMessage:"Mesajƒ± D√ºzenle",deleteMessage:"Mesajƒ± Sil",replyTo:"Yanƒ±tla",pinMessage:"Mesajƒ± Sabitle",unpinMessage:"Sabitlemeyi Kaldƒ±r",threadStart:"Konu Ba≈ülat",noMessages:"Hen√ºz mesaj yok",newMessages:"Yeni mesajlar",today:"Bug√ºn",yesterday:"D√ºn",edited:"(d√ºzenlendi)",deleted:"Bu mesaj silindi",pinned:"Sabitlendi",attachFile:"Dosya Ekle",sendImage:"Resim G√∂nder",sendGif:"GIF G√∂nder",emoji:"Emoji",reactions:"Tepkiler",messageDeleted:"Mesaj silindi",messageEdited:"Mesaj d√ºzenlendi",deleteConfirm:"Bu mesajƒ± silmek istediƒüinize emin misiniz?",typing:"yazƒ±yor...",typingMultiple:"{{count}} ki≈üi yazƒ±yor..."},Lm={createServer:"Sunucu Olu≈ütur",serverName:"Sunucu Adƒ±",serverSettings:"Sunucu Ayarlarƒ±",deleteServer:"Sunucuyu Sil",leaveServer:"Sunucudan Ayrƒ±l",inviteLink:"Davet Baƒülantƒ±sƒ±",generateInvite:"Davet Olu≈ütur",inviteCopied:"Davet baƒülantƒ±sƒ± kopyalandƒ±!",joinServer:"Sunucuya Katƒ±l",serverIcon:"Sunucu ƒ∞konu",serverBanner:"Sunucu Afi≈üi",overview:"Genel Bakƒ±≈ü",createChannel:"Kanal Olu≈ütur",channelName:"Kanal Adƒ±",textChannel:"Metin Kanalƒ±",voiceChannel:"Ses Kanalƒ±",categoryName:"Kategori Adƒ±",createCategory:"Kategori Olu≈ütur",manageRoles:"Rolleri Y√∂net",roleName:"Rol Adƒ±",roleColor:"Rol Rengi",createRole:"Rol Olu≈ütur",deleteConfirm:'"{{name}}" sunucusunu silmek istediƒüinize emin misiniz? Bu i≈ülem geri alƒ±namaz.',leaveConfirm:'"{{name}}" sunucusundan ayrƒ±lmak istediƒüinize emin misiniz?',memberCount:"{{count}} √ºye",onlineCount:"{{count}} √ßevrimi√ßi"},Im={addFriend:"Arkada≈ü Ekle",friendList:"Arkada≈ü Listesi",pending:"Bekleyen",blocked:"Engellenen",all:"T√ºm√º",online:"√áevrimi√ßi",sendRequest:"ƒ∞stek G√∂nder",acceptRequest:"Kabul Et",declineRequest:"Reddet",removeFriend:"Arkada≈ülƒ±ktan √áƒ±kar",friendRequestSent:"Arkada≈ülƒ±k isteƒüi g√∂nderildi!",friendRequestAccepted:"Arkada≈ülƒ±k isteƒüi kabul edildi!",noFriends:"Hen√ºz arkada≈üƒ±n yok",noPending:"Bekleyen istek yok",startDM:"Mesaj G√∂nder"},Om={joinVoice:"Ses Kanalƒ±na Katƒ±l",leaveVoice:"Ses Kanalƒ±ndan Ayrƒ±l",voiceConnected:"Ses Baƒülƒ±",voiceDisconnected:"Ses Baƒülantƒ±sƒ± Kesildi",screenShare:"Ekran Payla≈ü",stopScreenShare:"Payla≈üƒ±mƒ± Durdur",camera:"Kamera",stopCamera:"Kamerayƒ± Kapat",goLive:"Canlƒ± Yayƒ±n Ba≈ülat",stopLive:"Canlƒ± Yayƒ±nƒ± Durdur",connecting:"Baƒülanƒ±yor...",reconnecting:"Yeniden Baƒülanƒ±yor...",noOneInVoice:"Ses kanalƒ±nda kimse yok"},Dm={userSettings:"Kullanƒ±cƒ± Ayarlarƒ±",appearance:"G√∂r√ºn√ºm",notifications:"Bildirimler",privacy:"Gizlilik ve G√ºvenlik",language:"Dil",theme:"Tema",darkTheme:"Karanlƒ±k Tema",lightTheme:"Aydƒ±nlƒ±k Tema",about:"Hakkƒ±nda",changeAvatar:"Avatarƒ± Deƒüi≈ütir",changeBanner:"Afi≈üi Deƒüi≈ütir",changeStatus:"Durumu Deƒüi≈ütir",customStatus:"√ñzel Durum",accountInfo:"Hesap Bilgileri",changePassword:"≈ûifre Deƒüi≈ütir",deleteAccount:"Hesabƒ± Sil",version:"S√ºr√ºm"},Rm={directMessages:"Direkt Mesajlar",newDM:"Yeni Mesaj",noDMs:"Hen√ºz DM yok",startConversation:"Bir sohbet ba≈ülat!"},Am={premiumStore:"Premium Maƒüaza",buyCoins:"Jeton Satƒ±n Al",yourCoins:"Jetonlarƒ±nƒ±z",purchase:"Satƒ±n Al",insufficientCoins:"Yetersiz jeton",purchaseSuccess:"Satƒ±n alma ba≈üarƒ±lƒ±!",nitro:"Pawscord Nitro",nitroDesc:"Premium √∂zelliklerle Pawscord deneyimini y√ºkseltin!"},zm={noNotifications:"Bildirim yok",markAllRead:"T√ºm√ºn√º Okundu ƒ∞≈üaretle",mentionedYou:"sizi etiketledi",sentMessage:"mesaj g√∂nderdi",friendRequest:"Arkada≈ülƒ±k isteƒüi",serverInvite:"Sunucu daveti"},Vm={networkError:"Aƒü hatasƒ±. Baƒülantƒ±nƒ±zƒ± kontrol edin.",serverError:"Sunucu hatasƒ±. L√ºtfen tekrar deneyin.",notFound:"Sayfa bulunamadƒ±",unauthorized:"Bu i≈ülem i√ßin yetkiniz yok",rateLimited:"√áok fazla istek. L√ºtfen bekleyin.",fileTooLarge:"Dosya √ßok b√ºy√ºk (maks. {{size}}MB)",invalidFileType:"Ge√ßersiz dosya t√ºr√º",sessionExpired:"Oturumunuz sona erdi. L√ºtfen tekrar giri≈ü yapƒ±n."},Mm={justNow:"Az √∂nce",minutesAgo:"{{count}} dakika √∂nce",hoursAgo:"{{count}} saat √∂nce",daysAgo:"{{count}} g√ºn √∂nce",weeksAgo:"{{count}} hafta √∂nce"},$m={common:Tm,auth:Pm,chat:jm,server:Lm,friends:Im,voice:Om,settings:Dm,dm:Rm,premium:Am,notifications:zm,errors:Vm,time:Mm},Nm={loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",confirm:"Confirm",search:"Search",send:"Send",copy:"Copy",copied:"Copied!",back:"Back",next:"Next",yes:"Yes",no:"No",ok:"OK",error:"Error",success:"Success",warning:"Warning",info:"Info",retry:"Retry",logout:"Log Out",settings:"Settings",profile:"Profile",online:"Online",offline:"Offline",idle:"Idle",dnd:"Do Not Disturb",invisible:"Invisible",members:"Members",channels:"Channels",roles:"Roles",server:"Server",invite:"Invite",upload:"Upload",download:"Download",mute:"Mute",unmute:"Unmute",deafen:"Deafen",undeafen:"Undeafen",ban:"Ban",kick:"Kick",block:"Block",unblock:"Unblock",report:"Report"},Bm={login:"Log In",register:"Sign Up",email:"Email",password:"Password",confirmPassword:"Confirm Password",username:"Username",forgotPassword:"Forgot your password?",loginWith:"Log in with",registerWith:"Sign up with",orContinueWith:"or continue with",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",loginSuccess:"Login successful!",registerSuccess:"Registration successful!",invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",passwordTooShort:"Password must be at least 8 characters",passwordsDoNotMatch:"Passwords do not match",emailAlreadyInUse:"This email is already in use",usernameAlreadyInUse:"This username is already taken",verifyEmail:"Verify your email",verifyEmailSent:"Verification email sent",twoFactorAuth:"Two-Factor Authentication",enterCode:"Enter code",enable2FA:"Enable 2FA",disable2FA:"Disable 2FA"},Fm={typeMessage:"Type a message...",editMessage:"Edit Message",deleteMessage:"Delete Message",replyTo:"Reply",pinMessage:"Pin Message",unpinMessage:"Unpin Message",threadStart:"Start Thread",noMessages:"No messages yet",newMessages:"New messages",today:"Today",yesterday:"Yesterday",edited:"(edited)",deleted:"This message was deleted",pinned:"Pinned",attachFile:"Attach File",sendImage:"Send Image",sendGif:"Send GIF",emoji:"Emoji",reactions:"Reactions",messageDeleted:"Message deleted",messageEdited:"Message edited",deleteConfirm:"Are you sure you want to delete this message?",typing:"is typing...",typingMultiple:"{{count}} people are typing..."},Um={createServer:"Create Server",serverName:"Server Name",serverSettings:"Server Settings",deleteServer:"Delete Server",leaveServer:"Leave Server",inviteLink:"Invite Link",generateInvite:"Generate Invite",inviteCopied:"Invite link copied!",joinServer:"Join Server",serverIcon:"Server Icon",serverBanner:"Server Banner",overview:"Overview",createChannel:"Create Channel",channelName:"Channel Name",textChannel:"Text Channel",voiceChannel:"Voice Channel",categoryName:"Category Name",createCategory:"Create Category",manageRoles:"Manage Roles",roleName:"Role Name",roleColor:"Role Color",createRole:"Create Role",deleteConfirm:'Are you sure you want to delete "{{name}}"? This cannot be undone.',leaveConfirm:'Are you sure you want to leave "{{name}}"?',memberCount:"{{count}} members",onlineCount:"{{count}} online"},Ym={addFriend:"Add Friend",friendList:"Friend List",pending:"Pending",blocked:"Blocked",all:"All",online:"Online",sendRequest:"Send Request",acceptRequest:"Accept",declineRequest:"Decline",removeFriend:"Remove Friend",friendRequestSent:"Friend request sent!",friendRequestAccepted:"Friend request accepted!",noFriends:"No friends yet",noPending:"No pending requests",startDM:"Send Message"},Gm={joinVoice:"Join Voice Channel",leaveVoice:"Leave Voice Channel",voiceConnected:"Voice Connected",voiceDisconnected:"Voice Disconnected",screenShare:"Share Screen",stopScreenShare:"Stop Sharing",camera:"Camera",stopCamera:"Stop Camera",goLive:"Go Live",stopLive:"Stop Live",connecting:"Connecting...",reconnecting:"Reconnecting...",noOneInVoice:"No one in voice channel"},Hm={userSettings:"User Settings",appearance:"Appearance",notifications:"Notifications",privacy:"Privacy & Safety",language:"Language",theme:"Theme",darkTheme:"Dark Theme",lightTheme:"Light Theme",about:"About",changeAvatar:"Change Avatar",changeBanner:"Change Banner",changeStatus:"Change Status",customStatus:"Custom Status",accountInfo:"Account Info",changePassword:"Change Password",deleteAccount:"Delete Account",version:"Version"},Km={directMessages:"Direct Messages",newDM:"New Message",noDMs:"No DMs yet",startConversation:"Start a conversation!"},qm={premiumStore:"Premium Store",buyCoins:"Buy Coins",yourCoins:"Your Coins",purchase:"Purchase",insufficientCoins:"Insufficient coins",purchaseSuccess:"Purchase successful!",nitro:"Pawscord Nitro",nitroDesc:"Upgrade your Pawscord experience with premium features!"},Jm={noNotifications:"No notifications",markAllRead:"Mark All as Read",mentionedYou:"mentioned you",sentMessage:"sent a message",friendRequest:"Friend request",serverInvite:"Server invite"},Wm={networkError:"Network error. Check your connection.",serverError:"Server error. Please try again.",notFound:"Page not found",unauthorized:"You don't have permission for this action",rateLimited:"Too many requests. Please wait.",fileTooLarge:"File too large (max {{size}}MB)",invalidFileType:"Invalid file type",sessionExpired:"Your session has expired. Please log in again."},Zm={justNow:"Just now",minutesAgo:"{{count}} minutes ago",hoursAgo:"{{count}} hours ago",daysAgo:"{{count}} days ago",weeksAgo:"{{count}} weeks ago"},Qm={common:Nm,auth:Bm,chat:Fm,server:Um,friends:Ym,voice:Gm,settings:Hm,dm:Km,premium:qm,notifications:Jm,errors:Wm,time:Zm};Ne.use(er).use(um).init({resources:{tr:{translation:$m},en:{translation:Qm}},fallbackLng:"tr",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"pawscord_language",caches:["localStorage"]}});const Xm=$e(()=>p(()=>import("./EnglishHub-DcbsFcyM.js"),__vite__mapDeps([340,1,5,4]))),eg=$e(()=>p(()=>import("./GrammarQuizPage-DJGKlSSd.js"),__vite__mapDeps([341,1,3,5,4,6,0,7]))),tg=$e(()=>p(()=>import("./EnglishLearningPage-BXlrE1Yg.js"),__vite__mapDeps([342,1,5,3,6,0,4,7]))),ng=$e(()=>p(()=>import("./CryptoDashboard-BPBDytlM.js"),__vite__mapDeps([343,1,5,4,344,3,6,0,7]))),rg=$e(()=>p(()=>import("./CryptoSignals-8EMEaARN.js"),__vite__mapDeps([345,1,4,5,344,3,6,0,7]))),og=l(({children:t})=>{const{token:e,isAuthenticated:n}=Tt(),[r,s]=a.useState(null),i=a.useRef(!1);return a.useEffect(()=>{if(!n||!e){s(!1),i.current=!1;return}i.current||(async()=>{try{const c=await fetch(`${Me}/users/me/`,{headers:{Authorization:`Bearer ${e}`}});if(c.ok){const d=await c.json();s(!!d.is_whitelisted),i.current=!0}else c.status===401||s(!1)}catch{s(!1)}})()},[n,e]),r===null?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#1e1f22",color:"#f0b232",fontSize:18},children:"‚è≥ Kontrol ediliyor..."}):r?t:o.jsx(_i,{to:"/",replace:!0})},"WhitelistGuard"),sg=$e(()=>p(()=>import("./ForgotPasswordPage-BxhdsAw2.js"),__vite__mapDeps([294,1,4,269,5]))),ag=$e(()=>p(()=>import("./ResetPasswordPage-BnwdLUw5.js"),__vite__mapDeps([295,1,4,5]))),ig=$e(()=>p(()=>import("./TwoFactorLoginPage-CNG85H0w.js"),__vite__mapDeps([296,1,5,4,3,6,0,7]))),lg=$e(()=>p(()=>import("./VerifyEmailPage-D5lZPicJ.js"),__vite__mapDeps([293,1,4,5]))),As=$e(()=>p(()=>import("./PrivacyPolicyPage-BIZ9zYKe.js"),__vite__mapDeps([346,1]))),cg=$e(()=>p(()=>import("./StorePage-D7wigWEk.js"),__vite__mapDeps([347,1,3,5,6,0,4,7]))),dg=$e(()=>p(()=>import("./LandingPage-CcqPCM3f.js"),__vite__mapDeps([348,1,16,3,5,6,0,4,7,349]))),ug=$e(()=>p(()=>import("./ReferralProgram-DVt61eSo.js"),__vite__mapDeps([350,1,16,3,5,6,0,4,7,351]))),pg=$e(()=>p(()=>import("./GrowthDashboard-BNYONYFG.js"),__vite__mapDeps([352,1,16,19,7,353]))),fg=$e(()=>p(()=>import("./ToastDemo-DNg53Ozz.js"),__vite__mapDeps([354,1,3,5,6,0,4,7,355]))),mg=qs,gg=l(()=>(a.useEffect(()=>{const t=setTimeout(()=>{try{na()}catch{}},500);if("requestIdleCallback"in window)window.requestIdleCallback(()=>{try{Ar()}catch{}},{timeout:1500});else{const e=setTimeout(()=>{try{Ar()}catch{}},2e3);return()=>clearTimeout(e)}return()=>clearTimeout(t)},[]),o.jsx(Nf,{clientId:mg,children:o.jsx(ll,{children:o.jsx(jl,{children:o.jsx(Mr,{children:o.jsxs(hi,{children:[o.jsx(Vf,{}),o.jsxs(yi,{children:[o.jsx(Se,{path:"/verify/:token",element:o.jsx(Te,{children:o.jsx(Tf,{})})}),o.jsx(Se,{path:"/verify-email/:token",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(lg,{apiBaseUrl:Me})})})}),o.jsx(Se,{path:"/forgot-password",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(sg,{apiBaseUrl:Me})})})}),o.jsx(Se,{path:"/reset-password/:token",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ag,{apiBaseUrl:Me})})})}),o.jsx(Se,{path:"/2fa-login",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ig,{apiBaseUrl:Me})})})}),o.jsx(Se,{path:"/auth/callback",element:o.jsx(Te,{children:o.jsx(Uf,{apiBaseUrl:dt})})}),o.jsx(Se,{path:"/privacy-policy",element:o.jsx(u.Suspense,{fallback:o.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:o.jsx(As,{})})}),o.jsx(Se,{path:"/terms-of-service",element:o.jsx(u.Suspense,{fallback:o.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:o.jsx(As,{})})}),o.jsx(Se,{path:"/store",element:o.jsx(u.Suspense,{fallback:o.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:o.jsx(cg,{})})}),o.jsx(Se,{path:"/launch",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(dg,{apiBaseUrl:Me})})})}),o.jsx(Se,{path:"/referral",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ug,{apiBaseUrl:Me})})})}),o.jsx(Se,{path:"/growth-dashboard",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(pg,{apiBaseUrl:Me})})})}),o.jsx(Se,{path:"/toast-demo",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(fg,{})})})}),o.jsx(Se,{path:"/invite/:code",element:o.jsx(Te,{children:o.jsx(Pf,{})})}),o.jsx(Se,{path:"/spotify-callback",element:o.jsx(Te,{children:o.jsx(zf,{apiBaseUrl:Me})})}),o.jsx(Se,{path:"/eng-learn",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Xm,{})})})}),o.jsx(Se,{path:"/eng-learn/vocab",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(tg,{})})})}),o.jsx(Se,{path:"/eng-learn/grammar",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(eg,{})})})}),o.jsx(Se,{path:"/eng-learn/voice",element:o.jsx(Te,{children:o.jsx(Of,{apiBaseUrl:Me})})}),o.jsx(Se,{path:"/eng-learn/pronunciation",element:o.jsx(Te,{children:o.jsx(Rf,{apiBaseUrl:Me})})}),o.jsx(Se,{path:"/crypto-analysis",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(og,{children:o.jsx(rg,{})})})})}),o.jsx(Se,{path:"/crypto-dashboard-old",element:o.jsx(Te,{children:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ng,{})})})}),o.jsx(Se,{path:"/*",element:o.jsx(wf,{})})]})]})})})})})),"RootApp");window.addEventListener("unhandledrejection",t=>{const e=t?.reason?.message||"";if(e.includes("Failed to fetch dynamically imported module")||e.includes("Loading chunk")||e.includes("ChunkLoadError")){const n="pawscord_chunk_reload",r="pawscord_chunk_reload_count",s=sessionStorage.getItem(n),i=parseInt(sessionStorage.getItem(r)||"0",10),c=Date.now();if(i>=2)return;(!s||c-parseInt(s,10)>1e4)&&(sessionStorage.setItem(n,c.toString()),sessionStorage.setItem(r,(i+1).toString()),t.preventDefault(),window.location.reload())}});window.addEventListener("load",()=>{setTimeout(()=>{sessionStorage.removeItem("pawscord_chunk_reload_count")},5e3)});const hg=gi.createRoot(document.getElementById("root"));hg.render(o.jsx(gg,{}));export{Me as A,en as C,$p as G,Pg as P,Vr as T,es as W,Tt as a,jg as b,ta as c,qs as d,Ct as e,rf as f,Dl as g,Jt as h,Hs as i,Og as j,Ig as k,Rg as l,Dg as m,Wt as n,Tg as o,Pl as p,qi as q,Lg as r,ts as s,se as t,Qs as u,Rl as v,dt as w,Hn as x,Zr as y};

import{r as s,b as e}from"./react-core-9vc7GIjk.js";import{at as f,a as x,g as h,c as y}from"./icons-vendor-C1zuqBwn.js";import{t as S}from"./index-C1-LpR7z.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const R=({messageId:i,onClose:a,fetchWithAuth:l,apiBaseUrl:d})=>{const[n,c]=s.useState(""),[p,m]=s.useState(!1),[o,b]=s.useState(!1),u=async()=>{try{(await l(`${d}/threads/${o?"unsubscribe":"subscribe"}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({thread_id:i})})).ok&&b(!o)}catch(t){console.error("Subscription error:",t)}},g=async()=>{if(n.trim()){m(!0);try{(await l(`${d}/threads/create/`,{method:"POST",body:JSON.stringify({parent_message_id:i,content:n})})).ok&&(S.success("âœ… Thread oluÅŸturuldu!"),c(""),a())}catch(t){console.error("Thread error:",t)}finally{m(!1)}}};return e.createElement("div",{style:r.overlay,onClick:a},e.createElement("div",{style:r.modal,onClick:t=>t.stopPropagation()},e.createElement("div",{style:r.header},e.createElement("h3",{style:r.title},e.createElement(f,null)," Thread BaÅŸlat"),e.createElement("button",{onClick:a,style:r.closeButton},e.createElement(x,null))),e.createElement("div",{style:r.content},e.createElement("div",{style:{padding:"12px",backgroundColor:"#2f3136",borderRadius:"6px",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"space-between"}},e.createElement("span",{style:{color:"#dcddde",fontSize:"14px"}},o?"ðŸ”” Subscribed to notifications":"ðŸ”• Not subscribed"),e.createElement("button",{onClick:u,style:{padding:"6px 12px",backgroundColor:o?"#f04747":"#43b581",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",fontWeight:"bold"}},o?e.createElement(e.Fragment,null,e.createElement(h,null)," Unsubscribe"):e.createElement(e.Fragment,null,e.createElement(y,null)," Subscribe"))),e.createElement("textarea",{value:n,onChange:t=>c(t.target.value),placeholder:"Thread mesajÄ±nÄ± yazÄ±n...",style:r.textarea}),e.createElement("button",{onClick:g,disabled:p||!n.trim(),style:r.sendButton},p?"GÃ¶nderiliyor...":"ðŸ’¬ Thread GÃ¶nder"))))},r={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"500px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.3em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.3em"},content:{padding:"20px"},textarea:{width:"100%",minHeight:"100px",padding:"10px",backgroundColor:"#40444b",border:"1px solid #5865f2",borderRadius:"4px",color:"white",fontSize:"1em",resize:"vertical",marginBottom:"15px"},sendButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer",fontSize:"1em"}};export{R as default};

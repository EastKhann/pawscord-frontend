import{r,K as v,l as E}from"./react-core-B6hadH-M.js";import{t as o}from"./index-D_6pZib5.js";const S=({fetchWithAuth:x,apiBaseUrl:y,serverId:g,onClose:i})=>{const[l,b]=r.useState("ban"),[n,c]=r.useState(""),[s,d]=r.useState(""),[p,u]=r.useState(""),[m,f]=r.useState(!1),R=async()=>{if(!n.trim()){o.error("KullanÄ±cÄ± ID'leri girin");return}const t=n.split(`
`).map(a=>a.trim()).filter(a=>a);if(t.length===0){o.error("GeÃ§erli kullanÄ±cÄ± ID'si bulunamadÄ±");return}try{f(!0),(await x(`${y}/moderation/mass_action/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:g,action_type:l,user_ids:t,reason:s,duration:p||null})})).ok?(o.success(`${t.length} kullanÄ±cÄ±ya ${l} iÅŸlemi uygulandÄ±`),c(""),d(""),u("")):o.error("Ä°ÅŸlem baÅŸarÄ±sÄ±z oldu")}catch(a){console.error("Mass action hatasÄ±:",a),o.error("Bir hata oluÅŸtu")}finally{f(!1)}};return React.createElement("div",{style:e.overlay,onClick:i},React.createElement("div",{style:e.modal,onClick:t=>t.stopPropagation()},React.createElement("div",{style:e.header},React.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},React.createElement(v,{style:{color:"#f04747"}}),React.createElement("h2",{style:{margin:0}},"Toplu Moderasyon")),React.createElement(E,{onClick:i,style:e.closeBtn})),React.createElement("div",{style:e.content},React.createElement("div",{style:e.field},React.createElement("label",{style:e.label},"Ä°ÅŸlem TÃ¼rÃ¼"),React.createElement("select",{value:l,onChange:t=>b(t.target.value),style:e.select},React.createElement("option",{value:"ban"},"ðŸ”¨ Ban (Yasakla)"),React.createElement("option",{value:"kick"},"ðŸ‘¢ Kick (At)"),React.createElement("option",{value:"mute"},"ðŸ”‡ Mute (Sustur)"),React.createElement("option",{value:"timeout"},"â° Timeout (Zaman AÅŸÄ±mÄ±)"),React.createElement("option",{value:"warn"},"âš ï¸ Warn (Uyar)"),React.createElement("option",{value:"delete_messages"},"ðŸ—‘ï¸ Delete Messages (MesajlarÄ± Sil)"))),React.createElement("div",{style:e.field},React.createElement("label",{style:e.label},"KullanÄ±cÄ± ID'leri (Her satÄ±rda bir tane)"),React.createElement("textarea",{value:n,onChange:t=>c(t.target.value),placeholder:`123456789
987654321
555555555`,style:e.textarea,rows:8})),(l==="mute"||l==="timeout")&&React.createElement("div",{style:e.field},React.createElement("label",{style:e.label},"SÃ¼re (dakika)"),React.createElement("input",{type:"number",value:p,onChange:t=>u(t.target.value),placeholder:"60",style:e.input})),React.createElement("div",{style:e.field},React.createElement("label",{style:e.label},"Sebep (opsiyonel)"),React.createElement("input",{type:"text",value:s,onChange:t=>d(t.target.value),placeholder:"Spam, kural ihlali, vb.",style:e.input})),React.createElement("div",{style:e.warning},"âš ï¸ Bu iÅŸlem ",React.createElement("strong",null,n.split(`
`).filter(t=>t.trim()).length)," kullanÄ±cÄ±yÄ± etkileyecek!")),React.createElement("div",{style:e.footer},React.createElement("button",{onClick:i,style:e.cancelBtn},"Ä°ptal"),React.createElement("button",{onClick:R,disabled:m,style:e.executeBtn},m?"Ä°ÅŸleniyor...":"Uygula"))))},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},select:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},textarea:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",fontFamily:"monospace",resize:"vertical"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},warning:{backgroundColor:"#faa61a1a",border:"1px solid #faa61a",borderRadius:"4px",padding:"15px",color:"#faa61a",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},cancelBtn:{flex:1,backgroundColor:"#2c2f33",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},executeBtn:{flex:1,backgroundColor:"#f04747",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{S as default};

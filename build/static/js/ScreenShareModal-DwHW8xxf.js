import{r as n,d as e,K as p,de as g,d0 as h,i as E,Z as v}from"./react-core-DrOm_csO.js";const I=({isOpen:d,onClose:f,onStopSharing:u,screenStream:o,isSharing:a,participants:r=[]})=>{const[x,c]=n.useState(!1),[y,C]=n.useState("1080p"),i=n.useRef(null),s=n.useRef(null);n.useEffect(()=>{i.current&&o&&(i.current.srcObject=o)},[o]);const m=async()=>{if(document.fullscreenElement)await document.exitFullscreen(),c(!1);else try{await s.current?.requestFullscreen(),c(!0)}catch(l){console.error("Fullscreen failed:",l)}};return d?e.createElement("div",{style:t.overlay},e.createElement("div",{ref:s,style:t.container},e.createElement("div",{style:t.header},e.createElement("div",{style:t.headerInfo},e.createElement(p,{style:t.headerIcon}),e.createElement("span",{style:t.title},"Ekran PaylaÅŸÄ±mÄ±"),a&&e.createElement("span",{style:t.badge},"ðŸ”´ PaylaÅŸÄ±lÄ±yor (",r.length," izleyici)")),e.createElement("div",{style:t.headerActions},e.createElement("button",{onClick:m,style:t.headerButton,title:"Tam ekran"},x?e.createElement(g,null):e.createElement(h,null)),e.createElement("button",{onClick:f,style:t.closeButton,title:"Kapat"},e.createElement(E,null)))),e.createElement("div",{style:t.videoContainer},o?e.createElement("video",{ref:i,autoPlay:!0,playsInline:!0,style:t.video}):e.createElement("div",{style:t.placeholder},e.createElement(p,{style:t.placeholderIcon}),e.createElement("p",{style:t.placeholderText},"Ekran paylaÅŸÄ±mÄ± baÅŸlatÄ±lmadÄ±"))),a&&e.createElement("div",{style:t.qualityBadge},y," â€¢ ",o?.getVideoTracks()[0]?.getSettings().frameRate||30," FPS"),e.createElement("div",{style:t.controls},a?e.createElement("button",{onClick:u,style:t.stopButton},e.createElement(v,{style:{marginRight:"8px"}}),"PaylaÅŸÄ±mÄ± Durdur"):e.createElement("div",{style:t.info},e.createElement("p",{style:t.infoText},"Ekran paylaÅŸÄ±mÄ± sona erdi"))),r.length>0&&e.createElement("div",{style:t.participants},e.createElement("span",{style:t.participantsTitle},"Ä°zleyenler:"),e.createElement("div",{style:t.participantList},r.map((l,b)=>e.createElement("div",{key:b,style:t.participant},e.createElement("div",{style:t.participantAvatar},l.username?.[0]?.toUpperCase()||"U"),e.createElement("span",{style:t.participantName},l.username))))))):null},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},container:{width:"90%",maxWidth:"1200px",height:"90%",backgroundColor:"#1e1f22",borderRadius:"8px",display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 24px",backgroundColor:"#2f3136",borderBottom:"1px solid #1e1f22"},headerInfo:{display:"flex",alignItems:"center",gap:"12px"},headerIcon:{color:"#5865f2",fontSize:"20px"},title:{fontSize:"16px",fontWeight:"bold",color:"#fff"},badge:{fontSize:"13px",color:"#f04747",backgroundColor:"rgba(240, 71, 71, 0.1)",padding:"4px 12px",borderRadius:"12px"},headerActions:{display:"flex",gap:"8px"},headerButton:{backgroundColor:"transparent",border:"none",color:"#b9bbbe",fontSize:"18px",cursor:"pointer",padding:"8px",borderRadius:"4px"},closeButton:{backgroundColor:"#f04747",border:"none",color:"#fff",fontSize:"18px",cursor:"pointer",padding:"8px 12px",borderRadius:"4px"},videoContainer:{flex:1,backgroundColor:"#000",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},video:{width:"100%",height:"100%",objectFit:"contain"},placeholder:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",color:"#b9bbbe"},placeholderIcon:{fontSize:"64px",opacity:.5},placeholderText:{fontSize:"16px"},qualityBadge:{position:"absolute",top:"80px",right:"24px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"#fff",padding:"6px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold"},controls:{padding:"24px",backgroundColor:"#2f3136",display:"flex",justifyContent:"center",alignItems:"center"},stopButton:{backgroundColor:"#f04747",color:"#fff",border:"none",padding:"12px 32px",borderRadius:"4px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",transition:"background-color 0.2s"},info:{textAlign:"center"},infoText:{color:"#b9bbbe",fontSize:"14px"},participants:{position:"absolute",bottom:"100px",left:"24px",backgroundColor:"rgba(47, 49, 54, 0.9)",borderRadius:"8px",padding:"12px",maxWidth:"200px"},participantsTitle:{fontSize:"12px",color:"#b9bbbe",fontWeight:"bold",display:"block",marginBottom:"8px"},participantList:{display:"flex",flexDirection:"column",gap:"8px"},participant:{display:"flex",alignItems:"center",gap:"8px"},participantAvatar:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:"#fff"},participantName:{fontSize:"13px",color:"#dcddde"}};export{I as default};

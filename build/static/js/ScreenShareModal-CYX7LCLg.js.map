{"version":3,"file":"ScreenShareModal-CYX7LCLg.js","sources":["../../../src/components/ScreenShareModal.js"],"sourcesContent":["// frontend/src/components/ScreenShareModal.js\r\n\r\n/**\r\n * ðŸ–¥ï¸ Screen Share Modal\r\n * Share screen, application window, or browser tab\r\n */\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { FaDesktop, FaStop, FaCog, FaTimes, FaExpand, FaCompress } from 'react-icons/fa';\r\n\r\nconst ScreenShareModal = ({\r\n    isOpen,\r\n    onClose,\r\n    onStopSharing,\r\n    screenStream,\r\n    isSharing,\r\n    participants = []\r\n}) => {\r\n    const [isFullscreen, setIsFullscreen] = useState(false);\r\n    const [quality, setQuality] = useState('1080p'); // 720p, 1080p\r\n    const videoRef = useRef(null);\r\n    const containerRef = useRef(null);\r\n\r\n    // Set video stream\r\n    useEffect(() => {\r\n        if (videoRef.current && screenStream) {\r\n            videoRef.current.srcObject = screenStream;\r\n        }\r\n    }, [screenStream]);\r\n\r\n    // Fullscreen handler\r\n    const toggleFullscreen = async () => {\r\n        if (!document.fullscreenElement) {\r\n            try {\r\n                await containerRef.current?.requestFullscreen();\r\n                setIsFullscreen(true);\r\n            } catch (error) {\r\n                console.error('Fullscreen failed:', error);\r\n            }\r\n        } else {\r\n            await document.exitFullscreen();\r\n            setIsFullscreen(false);\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div style={styles.overlay}>\r\n            <div ref={containerRef} style={styles.container}>\r\n                {/* Header */}\r\n                <div style={styles.header}>\r\n                    <div style={styles.headerInfo}>\r\n                        <FaDesktop style={styles.headerIcon} />\r\n                        <span style={styles.title}>Ekran PaylaÅŸÄ±mÄ±</span>\r\n                        {isSharing && (\r\n                            <span style={styles.badge}>\r\n                                ðŸ”´ PaylaÅŸÄ±lÄ±yor ({participants.length} izleyici)\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                    <div style={styles.headerActions}>\r\n                        <button\r\n                            onClick={toggleFullscreen}\r\n                            style={styles.headerButton}\r\n                            title=\"Tam ekran\"\r\n                        >\r\n                            {isFullscreen ? <FaCompress /> : <FaExpand />}\r\n                        </button>\r\n                        <button\r\n                            onClick={onClose}\r\n                            style={styles.closeButton}\r\n                            title=\"Kapat\"\r\n                        >\r\n                            <FaTimes />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Screen Preview */}\r\n                <div style={styles.videoContainer}>\r\n                    {screenStream ? (\r\n                        <video\r\n                            ref={videoRef}\r\n                            autoPlay\r\n                            playsInline\r\n                            style={styles.video}\r\n                        />\r\n                    ) : (\r\n                        <div style={styles.placeholder}>\r\n                            <FaDesktop style={styles.placeholderIcon} />\r\n                            <p style={styles.placeholderText}>Ekran paylaÅŸÄ±mÄ± baÅŸlatÄ±lmadÄ±</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Quality Indicator */}\r\n                {isSharing && (\r\n                    <div style={styles.qualityBadge}>\r\n                        {quality} â€¢ {screenStream?.getVideoTracks()[0]?.getSettings().frameRate || 30} FPS\r\n                    </div>\r\n                )}\r\n\r\n                {/* Controls */}\r\n                <div style={styles.controls}>\r\n                    {isSharing ? (\r\n                        <button\r\n                            onClick={onStopSharing}\r\n                            style={styles.stopButton}\r\n                        >\r\n                            <FaStop style={{ marginRight: '8px' }} />\r\n                            PaylaÅŸÄ±mÄ± Durdur\r\n                        </button>\r\n                    ) : (\r\n                        <div style={styles.info}>\r\n                            <p style={styles.infoText}>\r\n                                Ekran paylaÅŸÄ±mÄ± sona erdi\r\n                            </p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Participants */}\r\n                {participants.length > 0 && (\r\n                    <div style={styles.participants}>\r\n                        <span style={styles.participantsTitle}>Ä°zleyenler:</span>\r\n                        <div style={styles.participantList}>\r\n                            {participants.map((p, i) => (\r\n                                <div key={i} style={styles.participant}>\r\n                                    <div style={styles.participantAvatar}>\r\n                                        {p.username?.[0]?.toUpperCase() || 'U'}\r\n                                    </div>\r\n                                    <span style={styles.participantName}>{p.username}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.95)',\r\n        zIndex: 10000,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    container: {\r\n        width: '90%',\r\n        maxWidth: '1200px',\r\n        height: '90%',\r\n        backgroundColor: '#1e1f22',\r\n        borderRadius: '8px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'hidden',\r\n        position: 'relative'\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '16px 24px',\r\n        backgroundColor: '#2f3136',\r\n        borderBottom: '1px solid #1e1f22'\r\n    },\r\n    headerInfo: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '12px'\r\n    },\r\n    headerIcon: {\r\n        color: '#5865f2',\r\n        fontSize: '20px'\r\n    },\r\n    title: {\r\n        fontSize: '16px',\r\n        fontWeight: 'bold',\r\n        color: '#fff'\r\n    },\r\n    badge: {\r\n        fontSize: '13px',\r\n        color: '#f04747',\r\n        backgroundColor: 'rgba(240, 71, 71, 0.1)',\r\n        padding: '4px 12px',\r\n        borderRadius: '12px'\r\n    },\r\n    headerActions: {\r\n        display: 'flex',\r\n        gap: '8px'\r\n    },\r\n    headerButton: {\r\n        backgroundColor: 'transparent',\r\n        border: 'none',\r\n        color: '#b9bbbe',\r\n        fontSize: '18px',\r\n        cursor: 'pointer',\r\n        padding: '8px',\r\n        borderRadius: '4px'\r\n    },\r\n    closeButton: {\r\n        backgroundColor: '#f04747',\r\n        border: 'none',\r\n        color: '#fff',\r\n        fontSize: '18px',\r\n        cursor: 'pointer',\r\n        padding: '8px 12px',\r\n        borderRadius: '4px'\r\n    },\r\n    videoContainer: {\r\n        flex: 1,\r\n        backgroundColor: '#000',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        position: 'relative'\r\n    },\r\n    video: {\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: 'contain'\r\n    },\r\n    placeholder: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '16px',\r\n        color: '#b9bbbe'\r\n    },\r\n    placeholderIcon: {\r\n        fontSize: '64px',\r\n        opacity: 0.5\r\n    },\r\n    placeholderText: {\r\n        fontSize: '16px'\r\n    },\r\n    qualityBadge: {\r\n        position: 'absolute',\r\n        top: '80px',\r\n        right: '24px',\r\n        backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n        color: '#fff',\r\n        padding: '6px 12px',\r\n        borderRadius: '4px',\r\n        fontSize: '12px',\r\n        fontWeight: 'bold'\r\n    },\r\n    controls: {\r\n        padding: '24px',\r\n        backgroundColor: '#2f3136',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    stopButton: {\r\n        backgroundColor: '#f04747',\r\n        color: '#fff',\r\n        border: 'none',\r\n        padding: '12px 32px',\r\n        borderRadius: '4px',\r\n        fontSize: '15px',\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        transition: 'background-color 0.2s'\r\n    },\r\n    info: {\r\n        textAlign: 'center'\r\n    },\r\n    infoText: {\r\n        color: '#b9bbbe',\r\n        fontSize: '14px'\r\n    },\r\n    participants: {\r\n        position: 'absolute',\r\n        bottom: '100px',\r\n        left: '24px',\r\n        backgroundColor: 'rgba(47, 49, 54, 0.9)',\r\n        borderRadius: '8px',\r\n        padding: '12px',\r\n        maxWidth: '200px'\r\n    },\r\n    participantsTitle: {\r\n        fontSize: '12px',\r\n        color: '#b9bbbe',\r\n        fontWeight: 'bold',\r\n        display: 'block',\r\n        marginBottom: '8px'\r\n    },\r\n    participantList: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '8px'\r\n    },\r\n    participant: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n    },\r\n    participantAvatar: {\r\n        width: '24px',\r\n        height: '24px',\r\n        borderRadius: '50%',\r\n        backgroundColor: '#5865f2',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        fontSize: '12px',\r\n        fontWeight: 'bold',\r\n        color: '#fff'\r\n    },\r\n    participantName: {\r\n        fontSize: '13px',\r\n        color: '#dcddde'\r\n    }\r\n};\r\n\r\nexport default ScreenShareModal;\r\n\r\n\r\n"],"names":["useState","useRef","useEffect","jsx","jsxs"],"mappings":"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"}
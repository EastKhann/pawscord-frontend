var w=Object.defineProperty;var a=(t,l)=>w(t,"name",{value:l,configurable:!0});import{r as c,j as e}from"./react-core-Djgtqrmb.js";import{t as p}from"./index-Bohqi95c.js";import{a as u}from"./index-BNjLOQm3.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-CbW2fAN9.js";import"./crypto-vendor-D1XRGppi.js";import"./icons-vendor-BMXAt4pj.js";import"./ui-vendor-IhB9Znpc.js";const O=a(()=>{const[t,l]=c.useState([]),[i,m]=c.useState(""),[r,o]=c.useState("popular"),[h,d]=c.useState(!0);c.useEffect(()=>{x()},[r]);const x=a(async()=>{d(!0);try{const s=await u.get(`/api/themes/marketplace/?filter=${r}`);l(s.data.themes)}catch{}finally{d(!1)}},"fetchThemes"),j=a(async s=>{try{const n=await u.post("/api/themes/install/",{theme_id:s});n.data.success&&(p.success("âœ… Theme installed successfully!"),v(n.data.theme))}catch{p.error("âŒ Installation failed")}},"installTheme"),v=a(s=>{const n=document.documentElement;Object.entries(s.colors).forEach(([N,y])=>{n.style.setProperty(`--${N}`,y)}),localStorage.setItem("current_theme",JSON.stringify(s))},"applyTheme"),f=t.filter(s=>s.name.toLowerCase().includes(i.toLowerCase())||s.author.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"theme-marketplace",children:[e.jsxs("div",{className:"marketplace-header",children:[e.jsx("h1",{children:"ğŸ¨ Theme Marketplace"}),e.jsx("p",{children:"Discover and install community-created themes"})]}),e.jsxs("div",{className:"marketplace-controls",children:[e.jsx("input",{type:"text",placeholder:"Search themes...",value:i,onChange:a(s=>m(s.target.value),"onChange"),className:"theme-search"}),e.jsxs("div",{className:"theme-filters",children:[e.jsx("button",{className:r==="popular"?"active":"",onClick:a(()=>o("popular"),"onClick"),children:"ğŸ”¥ Popular"}),e.jsx("button",{className:r==="new"?"active":"",onClick:a(()=>o("new"),"onClick"),children:"âœ¨ New"}),e.jsx("button",{className:r==="top-rated"?"active":"",onClick:a(()=>o("top-rated"),"onClick"),children:"â­ Top Rated"})]})]}),h?e.jsx("div",{className:"loading",children:"Loading themes..."}):e.jsx("div",{className:"theme-grid",children:f.map(s=>e.jsx(g,{theme:s,onInstall:a(()=>j(s.id),"onInstall")},s.id))})]})},"ThemeMarketplace"),g=a(({theme:t,onInstall:l})=>{const[i,m]=c.useState(!1),r=a(()=>{m(!0);const o=document.documentElement;Object.entries(t.colors).forEach(([h,d])=>{o.style.setProperty(`--${h}-preview`,d)})},"previewTheme");return e.jsxs("div",{className:"theme-card",children:[e.jsx("div",{className:"theme-preview",style:{background:`linear-gradient(135deg, ${t.colors.primary}, ${t.colors.secondary})`},children:t.screenshot&&e.jsx("img",{src:t.screenshot,alt:t.name})}),e.jsxs("div",{className:"theme-info",children:[e.jsx("h3",{children:t.name}),e.jsxs("p",{className:"theme-author",children:["by ",t.author]}),e.jsx("p",{className:"theme-description",children:t.description}),e.jsxs("div",{className:"theme-stats",children:[e.jsxs("span",{children:["â­ ",t.rating.toFixed(1)]}),e.jsxs("span",{children:["ğŸ“¥ ",t.downloads.toLocaleString()," installs"]})]}),e.jsxs("div",{className:"theme-actions",children:[e.jsx("button",{onClick:r,className:"btn-preview",children:"ğŸ‘ï¸ Preview"}),e.jsx("button",{onClick:l,className:"btn-install",children:"ğŸ“¥ Install"})]})]})]})},"ThemeCard");export{O as default};

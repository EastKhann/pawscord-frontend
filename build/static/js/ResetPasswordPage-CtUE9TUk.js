import{r as s,j as e}from"./react-vendor-D8Fi5F9E.js";import{u as w,v as z,d as T,T as h,U as g}from"./icons-vendor-CKPm393i.js";import{a as B,b as R}from"./router-vendor-CTPwQFnc.js";const G=({apiBaseUrl:b})=>{const{token:y}=B(),c=R(),[i,m]=s.useState(""),[o,j]=s.useState(""),[x,k]=s.useState(!1),[p,S]=s.useState(!1),[n,a]=s.useState("idle"),[f,l]=s.useState(""),d=(r=>r.length===0?{score:0,text:"",color:""}:r.length<6?{score:1,text:"√áok Zayƒ±f",color:"#da373c"}:r.length<8?{score:2,text:"Zayƒ±f",color:"#f0b132"}:r.length<12?{score:3,text:"Orta",color:"#5865f2"}:r.length<16?{score:4,text:"G√º√ßl√º",color:"#23a559"}:{score:5,text:"√áok G√º√ßl√º",color:"#23a559"})(i),C=async r=>{if(r.preventDefault(),l(""),i.length<6){l("≈ûifre en az 6 karakter olmalƒ±");return}if(i!==o){l("≈ûifreler e≈üle≈ümiyor");return}a("loading");try{const u=await fetch(`${b}/auth/reset-password/${y}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:i})}),v=await u.json();u.ok?(a("success"),setTimeout(()=>{c("/login")},3e3)):(l(v.error||"≈ûifre sƒ±fƒ±rlama ba≈üarƒ±sƒ±z oldu"),a("error"))}catch{l("Baƒülantƒ± hatasƒ± olu≈ütu"),a("error")}};return n==="success"?e.jsx("div",{style:t.container,children:e.jsxs("div",{style:t.card,children:[e.jsx(w,{style:{...t.icon,color:"#23a559"}}),e.jsx("h2",{style:t.title,children:"‚úÖ ≈ûifre Deƒüi≈ütirildi!"}),e.jsx("p",{style:t.text,children:"≈ûifreniz ba≈üarƒ±yla deƒüi≈ütirildi."}),e.jsx("p",{style:t.redirect,children:"3 saniye i√ßinde giri≈ü sayfasƒ±na y√∂nlendirileceksiniz..."}),e.jsx("button",{onClick:()=>c("/login"),style:t.button,children:"Hemen Giri≈ü Yap"})]})}):n==="error"?e.jsx("div",{style:t.container,children:e.jsxs("div",{style:t.card,children:[e.jsx(z,{style:{...t.icon,color:"#da373c"}}),e.jsx("h2",{style:t.title,children:"‚ùå Hata"}),e.jsx("p",{style:t.text,children:f}),e.jsxs("div",{style:t.errorReasons,children:[e.jsx("p",{style:t.reasonTitle,children:"Olasƒ± sebepler:"}),e.jsxs("ul",{style:t.reasonList,children:[e.jsx("li",{children:"Link s√ºresi dolmu≈ü olabilir (1 saat)"}),e.jsx("li",{children:"Link daha √∂nce kullanƒ±lmƒ±≈ü olabilir"}),e.jsx("li",{children:"Ge√ßersiz bir link olabilir"})]})]}),e.jsx("button",{onClick:()=>c("/forgot-password"),style:t.button,children:"Yeni Link ƒ∞ste"})]})}):e.jsx("div",{style:t.container,children:e.jsxs("div",{style:t.card,children:[e.jsx(T,{style:t.icon}),e.jsx("h2",{style:t.title,children:"Yeni ≈ûifre Belirle"}),e.jsx("p",{style:t.text,children:"Hesabƒ±nƒ±z i√ßin yeni bir ≈üifre olu≈üturun."}),e.jsxs("form",{onSubmit:C,style:t.form,children:[e.jsxs("div",{style:t.inputContainer,children:[e.jsx("input",{type:x?"text":"password",placeholder:"Yeni ≈üifre",value:i,onChange:r=>m(r.target.value),required:!0,style:t.input,disabled:n==="loading"}),e.jsx("button",{type:"button",onClick:()=>k(!x),style:t.eyeButton,children:x?e.jsx(h,{}):e.jsx(g,{})})]}),i&&e.jsxs("div",{style:t.strengthContainer,children:[e.jsx("div",{style:t.strengthBar,children:e.jsx("div",{style:{...t.strengthFill,width:`${d.score/5*100}%`,backgroundColor:d.color}})}),e.jsx("span",{style:{...t.strengthText,color:d.color},children:d.text})]}),e.jsxs("div",{style:t.inputContainer,children:[e.jsx("input",{type:p?"text":"password",placeholder:"≈ûifre tekrar",value:o,onChange:r=>j(r.target.value),required:!0,style:t.input,disabled:n==="loading"}),e.jsx("button",{type:"button",onClick:()=>S(!p),style:t.eyeButton,children:p?e.jsx(h,{}):e.jsx(g,{})})]}),o&&e.jsx("div",{style:i===o?t.matchGood:t.matchBad,children:i===o?"‚úÖ ≈ûifreler e≈üle≈üiyor":"‚ùå ≈ûifreler e≈üle≈ümiyor"}),f&&e.jsxs("div",{style:t.error,children:["‚ùå ",f]}),e.jsx("button",{type:"submit",style:t.submitButton,disabled:n==="loading"||i!==o,children:n==="loading"?"Kaydediliyor...":"≈ûifreyi Deƒüi≈ütir"})]}),e.jsxs("div",{style:t.info,children:[e.jsx("p",{style:t.infoTitle,children:"üí° G√º√ßl√º ≈ûifre ƒ∞pu√ßlarƒ±:"}),e.jsxs("ul",{style:t.infoList,children:[e.jsx("li",{children:"En az 8 karakter kullanƒ±n"}),e.jsx("li",{children:"B√ºy√ºk ve k√º√ß√ºk harf karƒ±≈üƒ±mƒ±"}),e.jsx("li",{children:"Rakam ve √∂zel karakter ekleyin"}),e.jsx("li",{children:"Kolay tahmin edilebilir ≈üifrelerden ka√ßƒ±nƒ±n"})]})]})]})})},t={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1e1f22",padding:"20px"},card:{backgroundColor:"#2b2d31",borderRadius:"12px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},icon:{fontSize:"64px",color:"#5865f2",display:"block",margin:"0 auto 20px"},title:{color:"#fff",fontSize:"28px",textAlign:"center",margin:"0 0 10px 0"},text:{color:"#b9bbbe",fontSize:"16px",textAlign:"center",marginBottom:"30px"},form:{display:"flex",flexDirection:"column",gap:"15px"},inputContainer:{position:"relative"},input:{backgroundColor:"#1e1f22",border:"1px solid #1e1f22",borderRadius:"6px",padding:"12px",paddingRight:"45px",color:"#fff",fontSize:"16px",outline:"none",width:"100%",boxSizing:"border-box"},eyeButton:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"18px"},strengthContainer:{display:"flex",alignItems:"center",gap:"10px"},strengthBar:{flex:1,height:"6px",backgroundColor:"#1e1f22",borderRadius:"3px",overflow:"hidden"},strengthFill:{height:"100%",transition:"all 0.3s"},strengthText:{fontSize:"12px",fontWeight:"bold",minWidth:"80px"},matchGood:{color:"#23a559",fontSize:"14px",textAlign:"center"},matchBad:{color:"#da373c",fontSize:"14px",textAlign:"center"},error:{backgroundColor:"#da373c",color:"#fff",padding:"12px",borderRadius:"6px",fontSize:"14px",textAlign:"center"},submitButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s"},button:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 32px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginTop:"20px",display:"block",width:"100%"},redirect:{color:"#747f8d",fontSize:"14px",fontStyle:"italic",textAlign:"center",marginTop:"10px"},info:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"15px",marginTop:"20px"},infoTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",margin:"0 0 10px 0"},infoList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"},errorReasons:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"20px",marginTop:"10px",textAlign:"left"},reasonTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",marginBottom:"10px"},reasonList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"}};export{G as default};

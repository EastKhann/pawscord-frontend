import{r as a,ch as o}from"./react-core-B6hadH-M.js";function E({vanityPath:l,fetchWithAuth:d,onClose:r,apiBaseUrl:u}){const[x,p]=a.useState(!0),[m,y]=a.useState(null),[t,g]=a.useState(null),[i,f]=a.useState(!1);a.useEffect(()=>{b()},[l]);const b=async()=>{try{p(!0);const n=await fetch(`${u}/vanity/${l}/`);if(!n.ok)throw new Error("Sunucu bulunamadƒ±");if(!(n.headers.get("content-type")||"").includes("application/json"))throw new Error("Sunucu bulunamadƒ±");const s=await n.json();g(s)}catch(n){y(n.message)}finally{p(!1)}},v=async()=>{if(t){if(!d){o.warning("üîê Sunucuya katƒ±lmak i√ßin giri≈ü yapmalƒ±sƒ±nƒ±z!"),window.location.hash="#/";return}try{f(!0);const n=await d(`${u}/servers/${t.server_id}/join/`,{method:"POST"});if(!n.ok){const c=await n.json().catch(()=>({})),s=c.error||c.message||"Sunucuya katƒ±lƒ±namadƒ±";throw new Error(s)}o.success(`‚úÖ ${t.server_name} sunucusuna katƒ±ldƒ±nƒ±z!`),r?r():window.location.hash="#/"}catch(n){n.message.includes("zaten")?o.info("‚ÑπÔ∏è Zaten bu sunucudasƒ±nƒ±z!"):o.error("‚ùå "+n.message)}finally{f(!1)}}};return x?React.createElement("div",{style:e.container},React.createElement("div",{style:e.card},React.createElement("div",{style:e.loadingSpinner},"üîÑ"),React.createElement("p",{style:e.loadingText},"Sunucu bilgileri y√ºkleniyor..."))):m?React.createElement("div",{style:e.container},React.createElement("div",{style:e.card},React.createElement("h1",{style:e.errorTitle},"‚ùå Sunucu Bulunamadƒ±"),React.createElement("p",{style:e.errorText},m),React.createElement("button",{style:e.backButton,onClick:()=>{r?r():window.location.hash="#/"}},"Ana Sayfaya D√∂n"))):React.createElement("div",{style:e.container},React.createElement("div",{style:e.card},React.createElement("div",{style:e.avatarContainer},t.server_avatar?React.createElement("img",{src:t.server_avatar,alt:t.server_name,style:e.avatar}):React.createElement("div",{style:e.defaultAvatar},t.server_name.charAt(0).toUpperCase())),React.createElement("h1",{style:e.serverName},t.server_name),React.createElement("p",{style:e.inviteText},"seni ",React.createElement("strong",null,t.server_name)," sunucusuna davet etti"),React.createElement("div",{style:e.statsContainer},React.createElement("div",{style:e.stat},React.createElement("span",{style:e.onlineDot},"‚óè"),React.createElement("span",{style:e.statText},React.createElement("strong",null,t.online_count)," √áevrimi√ßi")),React.createElement("div",{style:e.stat},React.createElement("span",{style:e.memberDot},"‚óè"),React.createElement("span",{style:e.statText},React.createElement("strong",null,t.member_count)," √úye"))),React.createElement("button",{style:{...e.joinButton,...i?e.joinButtonDisabled:{}},onClick:v,disabled:i},i?"Katƒ±lƒ±nƒ±yor...":`${t.server_name} Sunucusuna Katƒ±l`),React.createElement("p",{style:e.vanityInfo},"pawscord.com/join/",t.vanity_path)))}const e={container:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",overflow:"auto"},card:{backgroundColor:"#36393f",borderRadius:"12px",padding:"40px",maxWidth:"450px",width:"100%",textAlign:"center",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.3)"},avatarContainer:{display:"flex",justifyContent:"center",marginBottom:"20px"},avatar:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"4px solid #5865f2"},defaultAvatar:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"48px",fontWeight:"bold",color:"#fff",border:"4px solid #4752c4"},serverName:{fontSize:"28px",fontWeight:"bold",color:"#fff",marginBottom:"10px"},inviteText:{fontSize:"16px",color:"#b9bbbe",marginBottom:"25px"},statsContainer:{display:"flex",justifyContent:"center",gap:"30px",marginBottom:"30px",padding:"15px",backgroundColor:"#2f3136",borderRadius:"8px"},stat:{display:"flex",alignItems:"center",gap:"8px"},onlineDot:{color:"#3ba55d",fontSize:"12px"},memberDot:{color:"#747f8d",fontSize:"12px"},statText:{color:"#b9bbbe",fontSize:"14px"},joinButton:{width:"100%",padding:"15px",backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s",marginBottom:"15px"},joinButtonDisabled:{backgroundColor:"#4752c4",cursor:"not-allowed",opacity:.6},vanityInfo:{fontSize:"12px",color:"#72767d",marginTop:"10px"},loadingSpinner:{fontSize:"48px",marginBottom:"20px",animation:"spin 1s linear infinite"},loadingText:{color:"#b9bbbe",fontSize:"16px"},errorTitle:{fontSize:"24px",color:"#ed4245",marginBottom:"15px"},errorText:{color:"#b9bbbe",marginBottom:"20px"},backButton:{padding:"12px 24px",backgroundColor:"#4f545c",color:"#fff",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer"}};export{E as default};

import{r as n,n as r}from"./react-core-zXIKm1Jm.js";import{a as $,t as x}from"./index-BG_AnZTm.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-BSOZ7IB3.js";import"./router-vendor-ltdGXAv4.js";import"./crypto-vendor-D_AcF0lD.js";import"./icons-vendor-BBdoVeJd.js";import"./state-vendor-8NbFPBhQ.js";const I=({isOpen:d,onClose:p})=>{const{token:g}=$(),[b,j]=n.useState([]),[u,S]=n.useState("free"),[t,f]=n.useState("premium"),[s,h]=n.useState("monthly"),[l,m]=n.useState(!1),y="https://api.pawscord.com";n.useEffect(()=>{d&&k()},[d]);const k=async()=>{try{const o=await(await fetch(`${y}/api/store/premium/tiers/`,{headers:{Authorization:`Bearer ${g}`}})).json();j(o.tiers),S(o.current_tier)}catch(e){console.error("Error fetching tiers:",e)}},C=async()=>{if(t!=="free"){m(!0);try{const e=await fetch(`${y}/api/store/premium/subscribe/`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({tier:t,billing_cycle:s})}),o=await e.json();e.ok?(x.success(`âœ… ${t==="elite"?"Elite":"Premium"} Ã¼yeliÄŸiniz baÅŸladÄ±!`),p(),window.location.reload()):x.error(`âŒ ${o.error||"Bir hata oluÅŸtu"}`)}catch(e){console.error("Subscribe error:",e),x.error("âŒ Bir hata oluÅŸtu")}m(!1)}};if(!d)return null;const i=e=>({free:"#7F8C8D",premium:"#5865F2",elite:"#E74C3C"})[e]||"#fff",z=e=>({free:"ğŸŒŸ",premium:"ğŸ’",elite:"ğŸ‘‘"})[e]||"";return r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},onClick:p,children:r.jsxs("div",{style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"24px",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflowY:"auto",padding:"40px",position:"relative"},onClick:e=>e.stopPropagation(),children:[r.jsx("button",{onClick:p,style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",fontSize:"20px"},children:"âœ•"}),r.jsx("h1",{style:{margin:"0 0 10px",fontSize:"36px",fontWeight:700,textAlign:"center",background:"linear-gradient(135deg, #5865F2 0%, #E74C3C 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Pawscord Premium'a GeÃ§in! ğŸ’"}),r.jsx("p",{style:{textAlign:"center",color:"#aaa",marginBottom:"40px"},children:"Profilinizi Ã¶zelleÅŸtirin ve premium Ã¶zelliklere eriÅŸin!"}),r.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"30px"},children:[r.jsx("button",{onClick:()=>h("monthly"),style:{background:s==="monthly"?"#5865F2":"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600},children:"AylÄ±k"}),r.jsxs("button",{onClick:()=>h("yearly"),style:{background:s==="yearly"?"#5865F2":"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600,position:"relative"},children:["YÄ±llÄ±k",r.jsx("span",{style:{position:"absolute",top:"-8px",right:"-8px",background:"#43b581",padding:"2px 8px",borderRadius:"8px",fontSize:"10px",fontWeight:700},children:"%17 Ä°ndirim"})]})]}),r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:b.map(e=>{const o=e.id===u,a=e.id===t,v=s==="yearly"?e.price_yearly:e.price;return r.jsxs("div",{style:{background:a?`linear-gradient(135deg, ${i(e.id)}20 0%, ${i(e.id)}10 100%)`:"rgba(255, 255, 255, 0.05)",border:a?`3px solid ${i(e.id)}`:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"30px",cursor:e.id!=="free"?"pointer":"default",transition:"all 0.3s",position:"relative"},onClick:()=>e.id!=="free"&&f(e.id),children:[o&&r.jsx("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:"#43b581",padding:"6px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:700},children:"âœ… Mevcut Paketiniz"}),r.jsx("div",{style:{fontSize:"60px",textAlign:"center",marginBottom:"20px"},children:z(e.id)}),r.jsx("h2",{style:{margin:"0 0 10px",fontSize:"28px",fontWeight:700,textAlign:"center",color:i(e.id)},children:e.name}),r.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:e.id==="free"?r.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:"#fff"},children:"ÃœCRETSÄ°Z"}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{fontSize:"32px",fontWeight:700,color:"#fff"},children:["â‚º",v.toFixed(2)]}),r.jsx("div",{style:{fontSize:"14px",color:"#888"},children:s==="yearly"?"/yÄ±l":"/ay"})]})}),r.jsx("ul",{style:{listStyle:"none",padding:0,margin:"0 0 20px"},children:e.features.map((c,T)=>r.jsxs("li",{style:{padding:"8px 0",fontSize:"14px",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("span",{style:{color:"#43b581"},children:"âœ“"}),c]},T))}),e.id!=="free"&&!o&&r.jsx("button",{onClick:c=>{c.stopPropagation(),f(e.id)},style:{width:"100%",background:a?`linear-gradient(135deg, ${i(e.id)} 0%, ${i(e.id)}CC 100%)`:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"14px",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"16px"},children:a?"SeÃ§ildi âœ“":"SeÃ§"})]},e.id)})}),t!=="free"&&t!==u&&r.jsxs("div",{style:{marginTop:"40px",textAlign:"center"},children:[r.jsx("button",{onClick:C,disabled:l,style:{background:l?"rgba(255, 255, 255, 0.2)":`linear-gradient(135deg, ${i(t)} 0%, ${i(t)}CC 100%)`,border:"none",color:"#fff",padding:"18px 60px",borderRadius:"14px",cursor:l?"not-allowed":"pointer",fontWeight:700,fontSize:"18px",boxShadow:`0 8px 24px ${i(t)}40`},children:l?"â³ Ä°ÅŸleniyor...":`${t==="elite"?"ğŸ‘‘ Elite":"ğŸ’ Premium"} SatÄ±n Al`}),r.jsx("p",{style:{color:"#888",fontSize:"12px",marginTop:"10px"},children:"âš ï¸ Bu bir prototip - gerÃ§ek Ã¶deme entegrasyonu yapÄ±lmamÄ±ÅŸtÄ±r"})]})]})})};export{I as default};

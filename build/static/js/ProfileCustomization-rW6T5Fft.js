import{r as s,n as e}from"./react-core-zXIKm1Jm.js";import{t as j}from"./index-BG_AnZTm.js";import{aX as k,aJ as C,bu as _}from"./icons-vendor-BBdoVeJd.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-BSOZ7IB3.js";import"./router-vendor-ltdGXAv4.js";import"./crypto-vendor-D_AcF0lD.js";import"./state-vendor-8NbFPBhQ.js";const G=({userId:a,fetchWithAuth:c,apiBaseUrl:d})=>{const[t,n]=s.useState({banner_url:"",banner_color:"#5865f2",theme_color:"#5865f2",accent_color:"#5865f2",bio_text:"",bio_background_color:"#2b2d31",show_badges:!0,show_activity:!0}),[l,u]=s.useState(!1),[b,g]=s.useState(!0),h=[{name:"Discord Purple",primary:"#5865f2",accent:"#4752c4",bg:"#2b2d31"},{name:"Sunset Orange",primary:"#f26522",accent:"#e04e1b",bg:"#2d2420"},{name:"Forest Green",primary:"#3ba55d",accent:"#2d7d46",bg:"#1f2b23"},{name:"Ocean Blue",primary:"#3498db",accent:"#2980b9",bg:"#1e2838"},{name:"Rose Pink",primary:"#e91e63",accent:"#c2185b",bg:"#2d1f26"},{name:"Golden Yellow",primary:"#faa61a",accent:"#f57c00",bg:"#2d2819"},{name:"Dark Red",primary:"#ed4245",accent:"#c03537",bg:"#2d1e1f"},{name:"Cyber Purple",primary:"#9b59b6",accent:"#8e44ad",bg:"#251f2d"}];s.useEffect(()=>{y()},[a]);const y=async()=>{try{const i=await(await c(`${d}/users/${a}/customization/`)).json();i.customization&&n(i.customization)}catch(r){console.error("Failed to load customization:",r)}finally{g(!1)}},f=async()=>{try{(await c(`${d}/users/${a}/customization/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&j.success("‚úÖ Profil √∂zelle≈ütirmeleri kaydedildi!")}catch(r){console.error("Failed to save customization:",r)}},m=r=>{n({...t,theme_color:r.primary,accent_color:r.accent,bio_background_color:r.bg,banner_color:r.primary})},v=async r=>{const i=new FormData;i.append("banner",r);try{const x=await(await c(`${d}/users/${a}/upload-banner/`,{method:"POST",body:i})).json();x.banner_url&&n({...t,banner_url:x.banner_url})}catch(p){console.error("Failed to upload banner:",p)}};return b?e.jsx("div",{style:o.loading,children:"Y√ºkleniyor..."}):e.jsxs("div",{style:o.container,children:[e.jsxs("div",{style:o.header,children:[e.jsxs("h2",{style:o.title,children:[e.jsx(k,{})," Profil √ñzelle≈ütirme"]}),e.jsxs("div",{style:o.headerActions,children:[e.jsx("button",{onClick:()=>u(!l),style:l?o.previewButtonActive:o.previewButton,children:l?"D√ºzenleme":"√ñnizleme"}),e.jsxs("button",{onClick:f,style:o.saveButton,children:[e.jsx(C,{})," Kaydet"]})]})]}),l?e.jsxs("div",{style:o.preview,children:[e.jsx("div",{style:{...o.previewBanner,backgroundColor:t.banner_color,backgroundImage:t.banner_url?`url(${t.banner_url})`:"none"}}),e.jsxs("div",{style:o.previewContent,children:[e.jsx("div",{style:{...o.previewAvatar,border:`4px solid ${t.theme_color}`},children:"üë§"}),e.jsxs("div",{style:o.previewInfo,children:[e.jsx("h3",{style:{color:t.theme_color},children:"Kullanƒ±cƒ± Adƒ±"}),e.jsx("p",{style:{backgroundColor:t.bio_background_color,color:"#fff",padding:"12px",borderRadius:"8px",borderLeft:`3px solid ${t.accent_color}`},children:t.bio_text||"Buraya biyografi metni gelecek..."})]})]})]}):e.jsxs("div",{style:o.editContainer,children:[e.jsxs("div",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"üñºÔ∏è Banner"}),e.jsxs("div",{style:o.bannerOptions,children:[e.jsxs("div",{style:o.inputGroup,children:[e.jsx("label",{style:o.label,children:"Banner Resmi"}),e.jsx("input",{type:"file",accept:"image/*",onChange:r=>r.target.files[0]&&v(r.target.files[0]),style:o.fileInput}),e.jsxs("button",{onClick:()=>document.querySelector('input[type="file"]').click(),style:o.uploadButton,children:[e.jsx(_,{})," Resim Y√ºkle"]})]}),e.jsxs("div",{style:o.inputGroup,children:[e.jsx("label",{style:o.label,children:"Banner Rengi (resim yoksa)"}),e.jsx("input",{type:"color",value:t.banner_color,onChange:r=>n({...t,banner_color:r.target.value}),style:o.colorInput})]})]})]}),e.jsxs("div",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"üé® Hazƒ±r Temalar"}),e.jsx("div",{style:o.presetGrid,children:h.map((r,i)=>e.jsx("div",{onClick:()=>m(r),style:{...o.presetCard,background:`linear-gradient(135deg, ${r.primary}, ${r.accent})`},children:e.jsx("span",{style:o.presetName,children:r.name})},i))})]}),e.jsxs("div",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"üé® Renkler"}),e.jsxs("div",{style:o.colorGrid,children:[e.jsxs("div",{style:o.inputGroup,children:[e.jsx("label",{style:o.label,children:"Ana Tema Rengi"}),e.jsx("input",{type:"color",value:t.theme_color,onChange:r=>n({...t,theme_color:r.target.value}),style:o.colorInput})]}),e.jsxs("div",{style:o.inputGroup,children:[e.jsx("label",{style:o.label,children:"Vurgu Rengi"}),e.jsx("input",{type:"color",value:t.accent_color,onChange:r=>n({...t,accent_color:r.target.value}),style:o.colorInput})]}),e.jsxs("div",{style:o.inputGroup,children:[e.jsx("label",{style:o.label,children:"Biyografi Arka Plan"}),e.jsx("input",{type:"color",value:t.bio_background_color,onChange:r=>n({...t,bio_background_color:r.target.value}),style:o.colorInput})]})]})]}),e.jsxs("div",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"üìù Biyografi"}),e.jsx("textarea",{value:t.bio_text,onChange:r=>n({...t,bio_text:r.target.value}),placeholder:"Biyografini buraya yaz...",style:o.bioTextarea,maxLength:190}),e.jsxs("div",{style:o.charCount,children:[t.bio_text.length," / 190 karakter"]})]}),e.jsxs("div",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"‚öôÔ∏è G√∂r√ºn√ºm Ayarlarƒ±"}),e.jsxs("label",{style:o.checkbox,children:[e.jsx("input",{type:"checkbox",checked:t.show_badges,onChange:r=>n({...t,show_badges:r.target.checked})}),e.jsx("span",{children:"Rozetleri g√∂ster"})]}),e.jsxs("label",{style:o.checkbox,children:[e.jsx("input",{type:"checkbox",checked:t.show_activity,onChange:r=>n({...t,show_activity:r.target.checked})}),e.jsx("span",{children:"Aktiviteyi g√∂ster"})]})]})]})]})},o={container:{width:"100%",height:"100%",backgroundColor:"#313338",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #1e1f22",backgroundColor:"#2b2d31"},title:{margin:0,color:"#fff",fontSize:"20px",fontWeight:"600",display:"flex",alignItems:"center",gap:"10px"},headerActions:{display:"flex",gap:"12px"},previewButton:{backgroundColor:"#383a40",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},previewButtonActive:{backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},saveButton:{backgroundColor:"#3ba55d",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px"},editContainer:{flex:1,overflowY:"auto",padding:"20px"},section:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",marginBottom:"16px"},sectionTitle:{color:"#fff",fontSize:"16px",fontWeight:"600",marginBottom:"16px"},inputGroup:{marginBottom:"16px"},label:{display:"block",color:"#b5bac1",fontSize:"14px",marginBottom:"8px",fontWeight:"500"},colorInput:{width:"100%",height:"50px",border:"none",borderRadius:"4px",cursor:"pointer"},fileInput:{display:"none"},uploadButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},presetGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"12px"},presetCard:{padding:"20px",borderRadius:"8px",cursor:"pointer",textAlign:"center",transition:"transform 0.2s"},presetName:{color:"#fff",fontSize:"13px",fontWeight:"600",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},colorGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"16px"},bioTextarea:{width:"100%",padding:"12px",backgroundColor:"#1e1f22",border:"1px solid #1e1f22",borderRadius:"4px",color:"#fff",fontSize:"14px",resize:"vertical",minHeight:"100px",fontFamily:"inherit"},charCount:{textAlign:"right",color:"#b5bac1",fontSize:"12px",marginTop:"8px"},checkbox:{display:"flex",alignItems:"center",gap:"12px",color:"#b5bac1",fontSize:"14px",marginBottom:"12px",cursor:"pointer"},preview:{flex:1,overflowY:"auto",padding:"40px"},previewBanner:{width:"100%",height:"200px",borderRadius:"8px 8px 0 0",backgroundSize:"cover",backgroundPosition:"center"},previewContent:{backgroundColor:"#2b2d31",borderRadius:"0 0 8px 8px",padding:"60px 20px 20px",position:"relative"},previewAvatar:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:"#5865f2",position:"absolute",top:"-60px",left:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"48px"},previewInfo:{marginTop:"20px"},loading:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"#b5bac1"}};export{G as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/media-vendor-B-uSUaIv.js","static/js/react-core-9vc7GIjk.js","static/js/editor-vendor-DiU449Dh.js"])))=>i.map(i=>d[i]);
import{_ as v}from"./media-vendor-B-uSUaIv.js";import{r,b as e}from"./react-core-9vc7GIjk.js";import{aJ as k,aK as C,aL as R,f as S}from"./icons-vendor-BHKL7tCa.js";import{k as P}from"./index-BmHz9cUO.js";import"./editor-vendor-DiU449Dh.js";import"./router-vendor-qCr-Mpaw.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const _=r.lazy(()=>v(()=>import("./media-vendor-B-uSUaIv.js").then(o=>o.i),__vite__mapDeps([0,1,2]))),U=()=>{const{cinemaState:o,sendCinemaSignal:n,setCinemaState:w}=P(),{url:f,playing:a,time:i,lastSyncAction:s}=o,[c,y]=r.useState(""),[b,I]=r.useState(.8),[p,g]=r.useState(null),[x,u]=r.useState(!1),l=r.useRef(null);r.useRef(!1),r.useEffect(()=>{s==="change_url"?(u(!1),g(null)):s==="play"&&Math.abs(d()-i)>2&&l.current&&l.current.seekTo(i)},[f,a,i,s]);const d=()=>{try{return l.current?l.current.getCurrentTime():0}catch{return 0}},h=m=>{m.preventDefault(),c.trim()&&(n("change_url",{url:c}),y(""))},E=()=>{a?n("pause"):n("play",{time:d()})};return e.createElement("div",{style:t.container},e.createElement("div",{style:t.playerWrapper},p&&e.createElement("div",{style:t.statusOverlay},e.createElement(k,{size:40,color:"#f04747"}),e.createElement("p",{style:{marginTop:10}},p)),!x&&!p&&e.createElement("div",{style:t.statusOverlay},e.createElement("div",{className:"spinner"}),e.createElement("p",{style:{marginTop:10}},"Yükleniyor...")),e.createElement(r.Suspense,{fallback:e.createElement("div",{style:{color:"#fff",padding:"50px",textAlign:"center"}},"Loading player...")},e.createElement(_,{ref:l,url:f,playing:a,volume:b,controls:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onReady:()=>u(!0),onError:()=>{g("Video oynatılamadı."),u(!0)},onPlay:()=>{a||n("play",{time:d()})},onPause:()=>{a&&n("pause")}}))),e.createElement("div",{style:t.controls},e.createElement("button",{onClick:E,style:{...t.btn,backgroundColor:a?"#da373c":"#43b581",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"}},a?e.createElement(C,null):e.createElement(R,{style:{marginLeft:2}})),e.createElement("form",{onSubmit:h,style:t.urlForm},e.createElement(S,{style:{color:"#b9bbbe"}}),e.createElement("input",{type:"text",value:c,onChange:m=>y(m.target.value),placeholder:"YouTube Link...",style:t.input}),e.createElement("button",{type:"submit",style:{...t.btn,backgroundColor:"#5865f2",padding:"0 15px"}},"Yükle"))),e.createElement("style",null,`
                .spinner {
                    border: 4px solid rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    border-top: 4px solid #ffffff;
                    width: 30px; height: 30px;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            `))},t={container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"black"},playerWrapper:{flex:1,position:"relative",overflow:"hidden"},controls:{padding:"10px",display:"flex",gap:"10px",backgroundColor:"#202225",alignItems:"center"},urlForm:{flex:1,display:"flex",gap:"8px",backgroundColor:"#40444b",padding:"5px 10px",borderRadius:"4px",alignItems:"center"},input:{flex:1,background:"transparent",border:"none",color:"white",outline:"none",fontSize:"14px"},btn:{border:"none",color:"white",cursor:"pointer",borderRadius:"4px",fontWeight:"bold"},statusOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.7)",color:"white",zIndex:10}};export{U as default};

import{r as i,j as e}from"./react-vendor-D8Fi5F9E.js";import{P as f,y as j,G as S,x as v}from"./icons-vendor-BPCemF_6.js";import{L as C}from"./router-vendor-CTPwQFnc.js";const k="https://media.pawscord.com/crypto/signal_export.json",B=()=>{const[s,h]=i.useState(null),[l,p]=i.useState(null),[x,b]=i.useState(!0),[m,g]=i.useState(null),[d,y]=i.useState(!0),c=async()=>{try{b(!0);const o=await(await fetch(`${k}?t=${Date.now()}`)).json();if(h(o),g(new Date(o.meta.export_time)),!l&&o.tabs){const r=Object.keys(o.tabs)[0];p(r)}}catch(n){console.error("Signal yükleme hatası:",n)}finally{b(!1)}};if(i.useEffect(()=>{c()},[]),i.useEffect(()=>{if(!d)return;const n=setInterval(()=>{c()},3e4);return()=>clearInterval(n)},[d]),x&&!s)return e.jsx("div",{style:t.container,children:e.jsxs("div",{style:t.loadingContainer,children:[e.jsx(f,{className:"spin",size:40,color:"#f0b232"}),e.jsx("p",{children:"Sinyaller yükleniyor..."})]})});const a=s?.tabs?.[l];return e.jsxs("div",{style:t.container,children:[e.jsxs("div",{style:t.header,children:[e.jsxs("div",{style:t.headerLeft,children:[e.jsxs(C,{to:"/",style:t.backButton,children:[e.jsx(j,{})," Ana Menü"]}),e.jsxs("h1",{style:t.title,children:[e.jsx(S,{style:{color:"#f0b232",marginRight:"10px"}}),"Kripto Sinyaller"]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[m&&e.jsxs("div",{style:t.updateTime,children:[e.jsx(v,{})," ",m.toLocaleTimeString("tr-TR")]}),e.jsxs("label",{style:t.autoRefreshLabel,children:[e.jsx("input",{type:"checkbox",checked:d,onChange:n=>y(n.target.checked),style:{marginRight:"5px"}}),"Otomatik Yenile"]}),e.jsxs("button",{onClick:c,style:t.refreshButton,children:[e.jsx(f,{className:x?"spin":""})," Yenile"]})]})]}),s?.meta&&e.jsxs("div",{style:t.metaBar,children:[e.jsxs("div",{style:t.metaItem,children:[e.jsx("strong",{children:"Toplam Strateji:"})," ",s.meta.total_strategies]}),s.meta.position_coins?.length>0&&e.jsxs("div",{style:t.metaItem,children:[e.jsx("strong",{children:"Pozisyondaki Coinler:"})," ",e.jsx("span",{style:{color:"#23a559"},children:s.meta.position_coins.join(", ")})]}),e.jsxs("div",{style:t.metaItem,children:[e.jsx("strong",{children:"Versiyon:"})," ",s.meta.version]})]}),s?.tabs&&e.jsx("div",{style:t.tabsContainer,children:Object.entries(s.tabs).map(([n,o])=>e.jsxs("button",{onClick:()=>p(n),style:{...t.tab,...l===n?t.activeTab:{}},children:[e.jsx("div",{style:t.tabTitle,children:o.title}),e.jsx("div",{style:t.tabDesc,children:o.description}),e.jsxs("div",{style:t.tabCount,children:[o.count," kayıt"]})]},n))}),a&&e.jsxs("div",{style:t.content,children:[e.jsx("h2",{style:t.contentTitle,children:a.title}),e.jsx("p",{style:t.contentDesc,children:a.description}),a.data?.length>0&&e.jsx("div",{style:t.tableContainer,children:e.jsxs("table",{style:t.table,children:[e.jsx("thead",{children:e.jsx("tr",{children:Object.keys(a.data[0]).map(n=>e.jsx("th",{style:t.th,children:n},n))})}),e.jsx("tbody",{children:a.data.map((n,o)=>e.jsx("tr",{style:t.tr,children:Object.values(n).map((r,u)=>e.jsx("td",{style:t.td,children:r!=null?String(r):"-"},u))},o))})]})}),(!a.data||a.data.length===0)&&e.jsx("div",{style:t.emptyState,children:e.jsx("p",{children:"Bu sekmede henüz veri yok"})})]})]})},t={container:{backgroundColor:"#1e1f22",minHeight:"100vh",color:"#dcddde",padding:"20px"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh",gap:"20px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"15px"},headerLeft:{display:"flex",alignItems:"center",gap:"15px"},backButton:{textDecoration:"none",color:"#949ba4",fontSize:"0.9em",display:"flex",alignItems:"center",gap:"5px"},title:{margin:0,fontSize:"1.8em",display:"flex",alignItems:"center"},updateTime:{fontSize:"0.85em",color:"#949ba4",display:"flex",alignItems:"center",gap:"5px"},autoRefreshLabel:{fontSize:"0.85em",color:"#dcddde",display:"flex",alignItems:"center",cursor:"pointer"},refreshButton:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},metaBar:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"15px",marginBottom:"20px",display:"flex",flexWrap:"wrap",gap:"20px",border:"1px solid #1f2023"},metaItem:{fontSize:"0.9em",color:"#b9bbbe"},tabsContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"15px",marginBottom:"20px"},tab:{backgroundColor:"#2b2d31",border:"1px solid #1f2023",borderRadius:"8px",padding:"15px",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},activeTab:{backgroundColor:"#5865f2",borderColor:"#5865f2",boxShadow:"0 4px 12px rgba(88, 101, 242, 0.4)"},tabTitle:{fontSize:"1em",fontWeight:"bold",marginBottom:"5px",color:"#fff"},tabDesc:{fontSize:"0.8em",color:"#b9bbbe",marginBottom:"8px"},tabCount:{fontSize:"0.75em",color:"#f0b232",fontWeight:"bold"},content:{backgroundColor:"#2b2d31",borderRadius:"8px",padding:"20px",border:"1px solid #1f2023"},contentTitle:{margin:"0 0 10px 0",color:"#fff",fontSize:"1.5em"},contentDesc:{margin:"0 0 20px 0",color:"#b9bbbe"},tableContainer:{overflowX:"auto",borderRadius:"6px",border:"1px solid #1f2023"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.85em"},th:{backgroundColor:"#202225",color:"#fff",padding:"12px",textAlign:"left",borderBottom:"2px solid #f0b232",fontWeight:"bold",position:"sticky",top:0,zIndex:1},tr:{borderBottom:"1px solid #1f2023"},td:{padding:"10px 12px",color:"#dcddde"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#949ba4",fontSize:"1.1em"}};export{B as default};

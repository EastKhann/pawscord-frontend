import{r as n,b as t}from"./react-core-9vc7GIjk.js";import{t as R,aP as z,ai as H,aZ as W,c8 as A,bG as P}from"./icons-vendor-u_f-1GKM.js";import{A as N}from"./index-Bm9YmRqY.js";import{S as e,v as _,j as u,t as c,p as f,e as q,g as L,i as D,k as O,l as $,r as C,m as G,n as E,o as U,q as d,u as J,y as S,w as K,x as M,z as m}from"./syntax-core-BoGMOf4E.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";import"./perf-vendor-DCe9hQ6U.js";import"./ui-vendor-_iSLAufy.js";e.registerLanguage("javascript",u);e.registerLanguage("js",u);e.registerLanguage("jsx",u);e.registerLanguage("typescript",c);e.registerLanguage("ts",c);e.registerLanguage("tsx",c);e.registerLanguage("python",f);e.registerLanguage("py",f);e.registerLanguage("java",q);e.registerLanguage("csharp",L);e.registerLanguage("cs",L);e.registerLanguage("cpp",D);e.registerLanguage("c",O);e.registerLanguage("go",$);e.registerLanguage("rust",C);e.registerLanguage("rs",C);e.registerLanguage("php",G);e.registerLanguage("ruby",E);e.registerLanguage("rb",E);e.registerLanguage("swift",U);e.registerLanguage("bash",d);e.registerLanguage("shell",d);e.registerLanguage("sh",d);e.registerLanguage("json",J);e.registerLanguage("yaml",S);e.registerLanguage("yml",S);e.registerLanguage("sql",K);e.registerLanguage("css",M);e.registerLanguage("html",m);e.registerLanguage("xml",m);e.registerLanguage("markup",m);const Z=({language:r,value:i,children:w})=>{const[v,y]=n.useState(!1),[g,B]=n.useState(!1),[l,h]=n.useState(!1),[x,o]=n.useState(null),s=String(i||w||"").replace(/\n$/,""),b=s.split(`
`).length>15,j=()=>{navigator.clipboard.writeText(s),y(!0),setTimeout(()=>y(!1),2e3)},F=async()=>{h(!0),o(null);const I=localStorage.getItem("access_token");try{const p=await(await fetch(`${N}/tools/run-code/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${I}`},body:JSON.stringify({language:r,code:s})})).json();p.run?o(p.run.output||"Çıktı boş."):o("Hata: "+(p.message||"Bilinmeyen hata"))}catch{o("Bağlantı hatası.")}h(!1)};return t.createElement("div",{style:a.container},t.createElement("div",{style:a.header},t.createElement("span",{style:a.language},r||"text"),t.createElement("div",{style:{display:"flex",gap:"10px"}},t.createElement("button",{onClick:F,style:a.runButton,disabled:l},l?t.createElement(R,{className:"spin"}):t.createElement(z,{size:10}),l?" Çalışıyor...":" Run"),t.createElement("button",{onClick:j,style:a.copyButton},v?t.createElement(H,null):t.createElement(W,null)))),t.createElement("div",{style:{...a.codeWrapper,maxHeight:!g&&b?"300px":"none"}},t.createElement(k,{language:r?r.toLowerCase():"text",content:s})),x&&t.createElement("div",{style:a.outputContainer},t.createElement("div",{style:a.outputHeader},"ÇIKTI (TERMINAL):"),t.createElement("pre",{style:a.outputBody},x)),b&&t.createElement("button",{onClick:()=>B(!g),style:a.expandButton},g?t.createElement(t.Fragment,null,t.createElement(A,null)," Daralt"):t.createElement(t.Fragment,null,t.createElement(P,null)," Genişlet")))},a={container:{marginTop:"8px",marginBottom:"8px",borderRadius:"8px",border:"1px solid #202225",overflow:"hidden",backgroundColor:"#1e1f22"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 10px",backgroundColor:"#202225",color:"#b9bbbe",fontSize:"0.8em",fontWeight:"bold",fontFamily:"monospace"},language:{textTransform:"uppercase"},copyButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},runButton:{backgroundColor:"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"2px 10px",fontSize:"0.9em",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},codeWrapper:{overflow:"hidden",transition:"max-height 0.3s"},expandButton:{width:"100%",padding:"8px",backgroundColor:"#2f3136",border:"none",borderTop:"1px solid #202225",color:"#dbdee1",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},outputContainer:{borderTop:"1px solid #40444b",backgroundColor:"#000"},outputHeader:{padding:"5px 10px",fontSize:"0.75em",color:"#99aab5",backgroundColor:"#111"},outputBody:{padding:"10px",color:"#0f0",fontFamily:"monospace",margin:0,whiteSpace:"pre-wrap",fontSize:"0.9em"}},k=n.memo(({language:r,content:i})=>t.createElement(e,{language:r||"text",style:_,customStyle:{margin:0,padding:"15px",fontSize:"0.9em"},wrapLongLines:!0},i));k.displayName="SyntaxHighlighterWithStyle";const le=n.memo(Z);export{le as default};

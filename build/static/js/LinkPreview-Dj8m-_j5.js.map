{"version":3,"file":"LinkPreview-Dj8m-_j5.js","sources":["../../../src/LinkPreview.js"],"sourcesContent":["// frontend/src/LinkPreview.js (DISCORD-STYLE ÖNİZLEME - V2.0)\r\n\r\nimport { memo } from 'react';\r\n\r\n// YouTube linkinden video ID'sini çıkaran fonksiyon\r\nconst getYouTubeVideoId = (url) => {\r\n    if (!url) return null;\r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/;\r\n    const match = url.match(regExp);\r\n    if (match && match[2].length === 11) return match[2];\r\n    return null;\r\n};\r\n\r\nconst getYouTubeEmbedUrl = (url) => {\r\n    const id = getYouTubeVideoId(url);\r\n    return id ? `https://www.youtube.com/embed/${id}` : null;\r\n};\r\n\r\n// Spotify linkinden embed URL'ini çıkaran fonksiyon\r\nconst getSpotifyEmbedUrl = (url) => {\r\n    if (!url) return null;\r\n    const match = url.match(/https:\\/\\/open\\.spotify\\.com\\/(track|album|playlist|episode)\\/([a-zA-Z0-9]+)/);\r\n    if (match) return `https://open.spotify.com/embed/${match[1]}/${match[2]}`;\r\n    return null;\r\n};\r\n\r\n// Provider detection for accent color\r\nconst getProviderInfo = (url, siteName) => {\r\n    if (!url) return { name: 'Website', color: '#5865f2' };\r\n    const u = url.toLowerCase();\r\n    if (u.includes('youtube.com') || u.includes('youtu.be')) return { name: 'YouTube', color: '#FF0000' };\r\n    if (u.includes('spotify.com')) return { name: 'Spotify', color: '#1DB954' };\r\n    if (u.includes('twitter.com') || u.includes('x.com')) return { name: 'Twitter', color: '#1DA1F2' };\r\n    if (u.includes('github.com')) return { name: 'GitHub', color: '#f0f6fc' };\r\n    if (u.includes('twitch.tv')) return { name: 'Twitch', color: '#9146FF' };\r\n    if (u.includes('reddit.com')) return { name: 'Reddit', color: '#FF4500' };\r\n    if (u.includes('instagram.com')) return { name: 'Instagram', color: '#E4405F' };\r\n    if (u.includes('tiktok.com')) return { name: 'TikTok', color: '#00f2ea' };\r\n    if (u.includes('steam')) return { name: 'Steam', color: '#66c0f4' };\r\n    if (u.includes('wikipedia.org')) return { name: 'Wikipedia', color: '#636466' };\r\n    return { name: siteName || getDomain(url), color: '#5865f2' };\r\n};\r\n\r\nconst getDomain = (url) => {\r\n    try { return new URL(url).hostname.replace('www.', ''); } catch { return ''; }\r\n};\r\n\r\nconst LinkPreview = ({ data }) => {\r\n    if (!data || !data.url) return null;\r\n\r\n    const youtubeEmbedUrl = getYouTubeEmbedUrl(data.url);\r\n    const spotifyEmbedUrl = getSpotifyEmbedUrl(data.url);\r\n    const provider = getProviderInfo(data.url, data.site_name);\r\n\r\n    // 1. YOUTUBE GÖSTERİMİ - Discord tarzı\r\n    if (youtubeEmbedUrl) {\r\n        return (\r\n            <div style={styles.embedContainer}>\r\n                <div style={{ ...styles.accentBar, backgroundColor: provider.color }} />\r\n                <div style={styles.embedBody}>\r\n                    <div style={styles.providerRow}>\r\n                        <span style={{ ...styles.providerName, color: provider.color }}>{provider.name}</span>\r\n                    </div>\r\n                    <a href={data.url} target=\"_blank\" rel=\"noopener noreferrer\" style={styles.embedTitle}>\r\n                        {data.title || 'YouTube Video'}\r\n                    </a>\r\n                    {data.description && (\r\n                        <p style={styles.embedDescription}>\r\n                            {data.description.length > 200 ? data.description.substring(0, 200) + '…' : data.description}\r\n                        </p>\r\n                    )}\r\n                    <div style={styles.videoWrapper}>\r\n                        <iframe\r\n                            src={youtubeEmbedUrl}\r\n                            style={styles.videoIframe}\r\n                            title=\"YouTube video player\"\r\n                            frameBorder=\"0\"\r\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                            allowFullScreen\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // 2. SPOTIFY GÖSTERİMİ\r\n    if (spotifyEmbedUrl) {\r\n        return (\r\n            <div style={styles.embedContainer}>\r\n                <div style={{ ...styles.accentBar, backgroundColor: '#1DB954' }} />\r\n                <div style={styles.embedBody}>\r\n                    <div style={styles.providerRow}>\r\n                        <span style={{ ...styles.providerName, color: '#1DB954' }}>Spotify</span>\r\n                    </div>\r\n                    <div style={styles.spotifyWrapper}>\r\n                        <iframe\r\n                            src={spotifyEmbedUrl}\r\n                            style={{ width: '100%', height: '80px', border: 'none', borderRadius: 8 }}\r\n                            title=\"Spotify Player\"\r\n                            allow=\"encrypted-media\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // 3. STANDART SİTE ÖNİZLEMESİ (Discord Embed Style)\r\n    const hasLargeImage = data.image && (data.title || data.description);\r\n\r\n    return (\r\n        <div style={styles.embedContainer}>\r\n            <div style={{ ...styles.accentBar, backgroundColor: provider.color }} />\r\n            <div style={styles.embedBody}>\r\n                <div style={styles.providerRow}>\r\n                    <span style={{ ...styles.providerName, color: provider.color }}>{provider.name}</span>\r\n                </div>\r\n                <div style={styles.embedContent}>\r\n                    <div style={styles.embedTextArea}>\r\n                        {data.title && (\r\n                            <a href={data.url} target=\"_blank\" rel=\"noopener noreferrer\" style={styles.embedTitle}>\r\n                                {data.title}\r\n                            </a>\r\n                        )}\r\n                        {data.description && (\r\n                            <p style={styles.embedDescription}>\r\n                                {data.description.length > 300 ? data.description.substring(0, 300) + '…' : data.description}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                    {/* Küçük thumbnail sağda (resim varsa ve description kısa ise) */}\r\n                    {data.image && data.description && data.description.length < 100 && (\r\n                        <div style={styles.thumbnailContainer}>\r\n                            <img src={data.image} alt=\"\" style={styles.thumbnailImg} loading=\"lazy\" />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                {/* Büyük resim altta */}\r\n                {hasLargeImage && (!data.description || data.description.length >= 100) && (\r\n                    <a href={data.url} target=\"_blank\" rel=\"noopener noreferrer\" style={{ display: 'block', marginTop: 8 }}>\r\n                        <img src={data.image} alt=\"\" style={styles.largeImage} loading=\"lazy\" />\r\n                    </a>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    embedContainer: {\r\n        display: 'flex',\r\n        marginTop: 6,\r\n        maxWidth: 516,\r\n        borderRadius: 4,\r\n        overflow: 'hidden',\r\n        backgroundColor: '#2b2d31',\r\n        border: '1px solid rgba(255,255,255,0.04)',\r\n    },\r\n    accentBar: {\r\n        width: 4,\r\n        flexShrink: 0,\r\n        borderRadius: '4px 0 0 4px',\r\n    },\r\n    embedBody: {\r\n        padding: '8px 16px 16px 12px',\r\n        flex: 1,\r\n        minWidth: 0,\r\n        overflow: 'hidden',\r\n    },\r\n    providerRow: {\r\n        marginBottom: 4,\r\n    },\r\n    providerName: {\r\n        fontSize: 12,\r\n        fontWeight: 500,\r\n        lineHeight: '16px',\r\n    },\r\n    embedTitle: {\r\n        display: 'block',\r\n        color: '#00a8fc',\r\n        textDecoration: 'none',\r\n        fontWeight: 600,\r\n        fontSize: '1rem',\r\n        lineHeight: '1.25rem',\r\n        marginBottom: 4,\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        whiteSpace: 'nowrap',\r\n    },\r\n    embedDescription: {\r\n        fontSize: '0.875rem',\r\n        color: '#dcddde',\r\n        margin: 0,\r\n        lineHeight: '1.125rem',\r\n        maxHeight: 54,\r\n        overflow: 'hidden',\r\n        display: '-webkit-box',\r\n        WebkitLineClamp: 3,\r\n        WebkitBoxOrient: 'vertical',\r\n    },\r\n    embedContent: {\r\n        display: 'flex',\r\n        gap: 16,\r\n    },\r\n    embedTextArea: {\r\n        flex: 1,\r\n        minWidth: 0,\r\n    },\r\n    thumbnailContainer: {\r\n        flexShrink: 0,\r\n        width: 80,\r\n        height: 80,\r\n        borderRadius: 4,\r\n        overflow: 'hidden',\r\n    },\r\n    thumbnailImg: {\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: 'cover',\r\n    },\r\n    largeImage: {\r\n        maxWidth: '100%',\r\n        maxHeight: 300,\r\n        borderRadius: 4,\r\n        objectFit: 'cover',\r\n        display: 'block',\r\n    },\r\n    videoWrapper: {\r\n        position: 'relative',\r\n        width: '100%',\r\n        maxWidth: 400,\r\n        aspectRatio: '16/9',\r\n        borderRadius: 4,\r\n        overflow: 'hidden',\r\n        marginTop: 8,\r\n        backgroundColor: '#000',\r\n    },\r\n    videoIframe: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        border: 'none',\r\n    },\r\n    spotifyWrapper: {\r\n        marginTop: 4,\r\n        borderRadius: 8,\r\n        overflow: 'hidden',\r\n    },\r\n};\r\n\r\nexport default memo(LinkPreview);\r\n"],"names":["jsxs","jsx","memo"],"mappings":"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"}
import{r as s,j as a}from"./react-vendor-D4QjtNWS.js";import{t as z,aL as E,ae as H,aV as A,c6 as W,bE as D}from"./icons-vendor-BZYtSAMW.js";import{A as N}from"./index-CGHvfKK4.js";import{au as u,av as c,aw as f,ax as P,ay as L,az as _,aA as O,aB as $,aC as j,aD as q,aE as C,aF as G,aG as d,aH as J,aI as S,aJ as K,aK as U,aL as x}from"./vendor-Brv1On52.js";import{S as e,v as M}from"./syntax-core-DW1vfDqK.js";import"./router-vendor-BDkI7eRJ.js";import"./state-vendor-T8XA44Ud.js";import"./crypto-vendor-BQNqsgOu.js";import"./perf-vendor-CmoV45_-.js";e.registerLanguage("javascript",u);e.registerLanguage("js",u);e.registerLanguage("jsx",u);e.registerLanguage("typescript",c);e.registerLanguage("ts",c);e.registerLanguage("tsx",c);e.registerLanguage("python",f);e.registerLanguage("py",f);e.registerLanguage("java",P);e.registerLanguage("csharp",L);e.registerLanguage("cs",L);e.registerLanguage("cpp",_);e.registerLanguage("c",O);e.registerLanguage("go",$);e.registerLanguage("rust",j);e.registerLanguage("rs",j);e.registerLanguage("php",q);e.registerLanguage("ruby",C);e.registerLanguage("rb",C);e.registerLanguage("swift",G);e.registerLanguage("bash",d);e.registerLanguage("shell",d);e.registerLanguage("sh",d);e.registerLanguage("json",J);e.registerLanguage("yaml",S);e.registerLanguage("yml",S);e.registerLanguage("sql",K);e.registerLanguage("css",U);e.registerLanguage("html",x);e.registerLanguage("xml",x);e.registerLanguage("markup",x);const V=({language:r,value:i,children:v})=>{const[w,h]=s.useState(!1),[g,B]=s.useState(!1),[l,m]=s.useState(!1),[y,n]=s.useState(null),o=String(i||v||"").replace(/\n$/,""),b=o.split(`
`).length>15,F=()=>{navigator.clipboard.writeText(o),h(!0),setTimeout(()=>h(!1),2e3)},I=async()=>{m(!0),n(null);const T=localStorage.getItem("access_token");try{const p=await(await fetch(`${N}/tools/run-code/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({language:r,code:o})})).json();p.run?n(p.run.output||"Çıktı boş."):n("Hata: "+(p.message||"Bilinmeyen hata"))}catch{n("Bağlantı hatası.")}m(!1)};return a.jsxs("div",{style:t.container,children:[a.jsxs("div",{style:t.header,children:[a.jsx("span",{style:t.language,children:r||"text"}),a.jsxs("div",{style:{display:"flex",gap:"10px"},children:[a.jsxs("button",{onClick:I,style:t.runButton,disabled:l,children:[l?a.jsx(z,{className:"spin"}):a.jsx(E,{size:10}),l?" Çalışıyor...":" Run"]}),a.jsx("button",{onClick:F,style:t.copyButton,children:w?a.jsx(H,{}):a.jsx(A,{})})]})]}),a.jsx("div",{style:{...t.codeWrapper,maxHeight:!g&&b?"300px":"none"},children:a.jsx(k,{language:r?r.toLowerCase():"text",content:o})}),y&&a.jsxs("div",{style:t.outputContainer,children:[a.jsx("div",{style:t.outputHeader,children:"ÇIKTI (TERMINAL):"}),a.jsx("pre",{style:t.outputBody,children:y})]}),b&&a.jsx("button",{onClick:()=>B(!g),style:t.expandButton,children:g?a.jsxs(a.Fragment,{children:[a.jsx(W,{})," Daralt"]}):a.jsxs(a.Fragment,{children:[a.jsx(D,{})," Genişlet"]})})]})},t={container:{marginTop:"8px",marginBottom:"8px",borderRadius:"8px",border:"1px solid #202225",overflow:"hidden",backgroundColor:"#1e1f22"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 10px",backgroundColor:"#202225",color:"#b9bbbe",fontSize:"0.8em",fontWeight:"bold",fontFamily:"monospace"},language:{textTransform:"uppercase"},copyButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer"},runButton:{backgroundColor:"#23a559",color:"white",border:"none",borderRadius:"4px",padding:"2px 10px",fontSize:"0.9em",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",gap:"5px"},codeWrapper:{overflow:"hidden",transition:"max-height 0.3s"},expandButton:{width:"100%",padding:"8px",backgroundColor:"#2f3136",border:"none",borderTop:"1px solid #202225",color:"#dbdee1",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},outputContainer:{borderTop:"1px solid #40444b",backgroundColor:"#000"},outputHeader:{padding:"5px 10px",fontSize:"0.75em",color:"#99aab5",backgroundColor:"#111"},outputBody:{padding:"10px",color:"#0f0",fontFamily:"monospace",margin:0,whiteSpace:"pre-wrap",fontSize:"0.9em"}},k=s.memo(({language:r,content:i})=>a.jsx(e,{language:r||"text",style:M,customStyle:{margin:0,padding:"15px",fontSize:"0.9em"},wrapLongLines:!0,children:i}));k.displayName="SyntaxHighlighterWithStyle";const ie=s.memo(V);export{ie as default};

import{r as n,j as e}from"./react-vendor-D4QjtNWS.js";import{aM as b,a as v,ae as j,Z as k}from"./icons-vendor-BZYtSAMW.js";import{t as c}from"./index-CGHvfKK4.js";import"./vendor-Brv1On52.js";import"./state-vendor-T8XA44Ud.js";import"./perf-vendor-CmoV45_-.js";import"./router-vendor-BDkI7eRJ.js";import"./crypto-vendor-BQNqsgOu.js";const O=({fetchWithAuth:s,apiBaseUrl:i,serverId:d,onClose:p})=>{const[C,y]=n.useState([]),[f,m]=n.useState(null),[t,a]=n.useState({name:"",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"}),[T,x]=n.useState(!0),h=[{name:"Discord Classic",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"},{name:"Dark Purple",primary_color:"#7289da",secondary_color:"#2c2f33",background_color:"#23272a",text_color:"#ffffff",accent_color:"#99aab5"},{name:"Ocean Blue",primary_color:"#4a9eff",secondary_color:"#1a3a52",background_color:"#0d2137",text_color:"#e3f2fd",accent_color:"#00bcd4"},{name:"Forest Green",primary_color:"#4caf50",secondary_color:"#1b5e20",background_color:"#0d3b0d",text_color:"#e8f5e9",accent_color:"#8bc34a"},{name:"Sunset Orange",primary_color:"#ff9800",secondary_color:"#e65100",background_color:"#3e2723",text_color:"#fff3e0",accent_color:"#ffb74d"},{name:"Midnight Black",primary_color:"#424242",secondary_color:"#212121",background_color:"#000000",text_color:"#e0e0e0",accent_color:"#757575"}];n.useEffect(()=>{u()},[]);const u=async()=>{try{x(!0);const o=await s(`${i}/api/servers/${d}/themes/`);if(o.ok){const l=await o.json();y(l.themes||[]),m(l.active_theme)}}catch(o){console.error("Tema yükleme hatası:",o)}finally{x(!1)}},g=async o=>{try{(await s(`${i}/api/servers/${d}/theme/apply/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok?(c.success("Tema uygulandı"),m(o)):c.error("Tema uygulanamadı")}catch(l){console.error("Tema uygulama hatası:",l),c.error("Bir hata oluştu")}},_=async()=>{if(!t.name.trim()){c.error("Tema adı girin");return}try{(await s(`${i}/api/servers/${d}/theme/save/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(c.success("Özel tema kaydedildi"),u(),a({name:"",primary_color:"#5865f2",secondary_color:"#2c2f33",background_color:"#1e1e1e",text_color:"#ffffff",accent_color:"#43b581"})):c.error("Tema kaydedilemedi")}catch(o){console.error("Tema kaydetme hatası:",o),c.error("Bir hata oluştu")}};return e.jsx("div",{style:r.overlay,onClick:p,children:e.jsxs("div",{style:r.modal,onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{style:r.header,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(b,{style:{color:"#5865f2"}}),e.jsx("h2",{style:{margin:0},children:"Sunucu Temaları"})]}),e.jsx(v,{onClick:p,style:r.closeBtn})]}),e.jsxs("div",{style:r.content,children:[e.jsxs("section",{style:r.section,children:[e.jsx("h3",{style:r.sectionTitle,children:"Hazır Temalar"}),e.jsx("div",{style:r.themeGrid,children:h.map((o,l)=>e.jsxs("div",{style:r.themeCard,onClick:()=>g(o),children:[e.jsxs("div",{style:r.themePreview,children:[e.jsx("div",{style:{...r.colorStrip,backgroundColor:o.background_color}}),e.jsx("div",{style:{...r.colorStrip,backgroundColor:o.secondary_color}}),e.jsx("div",{style:{...r.colorStrip,backgroundColor:o.primary_color}}),e.jsx("div",{style:{...r.colorStrip,backgroundColor:o.accent_color}})]}),e.jsx("div",{style:r.themeName,children:o.name}),f?.name===o.name&&e.jsx(j,{style:r.activeCheck})]},l))})]}),e.jsxs("section",{style:r.section,children:[e.jsx("h3",{style:r.sectionTitle,children:"Özel Tema Oluştur"}),e.jsxs("div",{style:r.customForm,children:[e.jsx("input",{type:"text",placeholder:"Tema Adı",value:t.name,onChange:o=>a({...t,name:o.target.value}),style:r.input}),e.jsxs("div",{style:r.colorGrid,children:[e.jsxs("div",{style:r.colorField,children:[e.jsx("label",{children:"Ana Renk"}),e.jsx("input",{type:"color",value:t.primary_color,onChange:o=>a({...t,primary_color:o.target.value}),style:r.colorInput})]}),e.jsxs("div",{style:r.colorField,children:[e.jsx("label",{children:"İkinci Renk"}),e.jsx("input",{type:"color",value:t.secondary_color,onChange:o=>a({...t,secondary_color:o.target.value}),style:r.colorInput})]}),e.jsxs("div",{style:r.colorField,children:[e.jsx("label",{children:"Arkaplan"}),e.jsx("input",{type:"color",value:t.background_color,onChange:o=>a({...t,background_color:o.target.value}),style:r.colorInput})]}),e.jsxs("div",{style:r.colorField,children:[e.jsx("label",{children:"Metin"}),e.jsx("input",{type:"color",value:t.text_color,onChange:o=>a({...t,text_color:o.target.value}),style:r.colorInput})]}),e.jsxs("div",{style:r.colorField,children:[e.jsx("label",{children:"Vurgu"}),e.jsx("input",{type:"color",value:t.accent_color,onChange:o=>a({...t,accent_color:o.target.value}),style:r.colorInput})]})]}),e.jsxs("button",{onClick:_,style:r.saveBtn,children:[e.jsx(k,{})," Temayı Kaydet"]})]})]})]})]})})},r={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},section:{marginBottom:"30px"},sectionTitle:{color:"#dcddde",fontSize:"18px",fontWeight:"600",marginBottom:"15px"},themeGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"15px"},themeCard:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"15px",cursor:"pointer",position:"relative",transition:"transform 0.2s"},themePreview:{display:"flex",height:"60px",borderRadius:"4px",overflow:"hidden",marginBottom:"10px"},colorStrip:{flex:1},themeName:{textAlign:"center",fontSize:"14px",fontWeight:"500"},activeCheck:{position:"absolute",top:"10px",right:"10px",color:"#43b581",fontSize:"20px"},customForm:{backgroundColor:"#2c2f33",borderRadius:"8px",padding:"20px"},input:{width:"100%",padding:"10px",backgroundColor:"#1e1e1e",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",marginBottom:"15px"},colorGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"15px",marginBottom:"15px"},colorField:{display:"flex",flexDirection:"column",gap:"8px"},colorInput:{width:"100%",height:"50px",border:"none",borderRadius:"4px",cursor:"pointer"},saveBtn:{width:"100%",backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}};export{O as default};

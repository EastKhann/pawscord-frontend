import{G as g,H as x,r as n,d as e,I as y,J as b,K as E}from"./react-core-CecKX_Gm.js";const S=({apiBaseUrl:d})=>{const{token:s}=g(),a=x(),[r,o]=n.useState("loading"),[c,i]=n.useState(""),[p,f]=n.useState("");n.useEffect(()=>{u()},[s]);const u=async()=>{try{const l=await fetch(`${d}/auth/verify-email/${s}/`),m=await l.json();l.ok?(o("success"),f(m.username),i("Email adresiniz başarıyla doğrulandı!"),setTimeout(()=>{a("/login")},3e3)):(o("error"),i(m.error||"Doğrulama başarısız oldu"))}catch{o("error"),i("Bağlantı hatası oluştu")}};return e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},r==="loading"&&e.createElement("div",{style:t.content},e.createElement(y,{style:t.iconLoading}),e.createElement("h2",{style:t.title},"Email Doğrulanıyor..."),e.createElement("p",{style:t.text},"Lütfen bekleyin...")),r==="success"&&e.createElement("div",{style:t.content},e.createElement(b,{style:{...t.icon,color:"#23a559"}}),e.createElement("h2",{style:t.title},"✅ Başarılı!"),e.createElement("p",{style:t.text},c),e.createElement("p",{style:t.username},"Hoş geldin, ",p,"!"),e.createElement("p",{style:t.redirect},"3 saniye içinde giriş sayfasına yönlendirileceksiniz..."),e.createElement("button",{onClick:()=>a("/login"),style:t.button},"Hemen Giriş Yap")),r==="error"&&e.createElement("div",{style:t.content},e.createElement(E,{style:{...t.icon,color:"#da373c"}}),e.createElement("h2",{style:t.title},"❌ Hata"),e.createElement("p",{style:t.text},c),e.createElement("div",{style:t.errorReasons},e.createElement("p",{style:t.reasonTitle},"Olası sebepler:"),e.createElement("ul",{style:t.reasonList},e.createElement("li",null,"Link süresi dolmuş olabilir (24 saat)"),e.createElement("li",null,"Link daha önce kullanılmış olabilir"),e.createElement("li",null,"Geçersiz bir link olabilir"))),e.createElement("button",{onClick:()=>a("/login"),style:t.button},"Giriş Sayfasına Dön"))))},t={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1e1f22",padding:"20px"},card:{backgroundColor:"#2b2d31",borderRadius:"12px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",textAlign:"center"},content:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},icon:{fontSize:"64px",marginBottom:"10px"},iconLoading:{fontSize:"64px",color:"#5865f2",animation:"spin 1s linear infinite",marginBottom:"10px"},title:{color:"#fff",fontSize:"28px",margin:0},text:{color:"#b9bbbe",fontSize:"16px",margin:0},username:{color:"#5865f2",fontSize:"20px",fontWeight:"bold",margin:0},redirect:{color:"#747f8d",fontSize:"14px",fontStyle:"italic"},button:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 32px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginTop:"10px",transition:"background-color 0.2s"},errorReasons:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"20px",marginTop:"10px",textAlign:"left"},reasonTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",marginBottom:"10px"},reasonList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"}};export{S as default};

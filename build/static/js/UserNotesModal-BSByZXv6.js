import{r as i,n as e}from"./react-core-Cj7FUMmY.js";import{al as g,a as v,aO as j}from"./icons-vendor-TGltgKsJ.js";import"./editor-vendor-D9c4a6XZ.js";const S=({targetUser:l,apiBaseUrl:u,fetchWithAuth:y,onClose:d,inline:f=!1})=>{const[n,c]=i.useState(""),[a,x]=i.useState("yellow"),[r,p]=i.useState(!1),s=[{name:"yellow",value:"#fef3bd"},{name:"green",value:"#d4edda"},{name:"blue",value:"#d1ecf1"},{name:"red",value:"#f8d7da"},{name:"purple",value:"#e2d9f3"}];i.useEffect(()=>{h()},[l]);const h=async()=>{try{const t=await y(`${u}/user-notes/${l}/`);if(t.ok){const m=await t.json();c(m.note||""),x(m.color||"yellow")}}catch{}},b=async()=>{p(!0);try{(await y(`${u}/user-notes/${l}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:n,color:a})})).ok&&(f?p(!1):d())}catch{}finally{p(!1)}};return f?e.jsxs("div",{style:{marginTop:"8px"},children:[e.jsx("p",{style:o.info,children:"Bu not sadece sen gÃ¶rebilirsin"}),e.jsxs("div",{style:o.colorPicker,children:[e.jsx("label",{style:o.label,children:"Renk:"}),e.jsx("div",{style:o.colors,children:s.map(t=>e.jsx("button",{onClick:()=>x(t.name),style:{...o.colorButton,backgroundColor:t.value,...a===t.name?o.colorButtonActive:{}}},t.name))})]}),e.jsx("textarea",{value:n,onChange:t=>c(t.target.value),placeholder:"Notunu buraya yaz...",style:{...o.textarea,backgroundColor:s.find(t=>t.name===a)?.value},maxLength:500}),e.jsxs("div",{style:o.footer,children:[e.jsxs("span",{style:o.charCount,children:[n.length,"/500"]}),e.jsx("button",{onClick:b,disabled:r,style:o.saveButton,children:r?"Kaydediliyor...":"ðŸ’¾ Kaydet"})]})]}):e.jsx("div",{style:o.overlay,onClick:d,children:e.jsxs("div",{style:o.modal,onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:o.header,children:[e.jsxs("h3",{style:o.title,children:[e.jsx(g,{})," ",l," HakkÄ±nda Not"]}),e.jsx("button",{onClick:d,style:o.closeButton,children:e.jsx(v,{})})]}),e.jsxs("div",{style:o.content,children:[e.jsx("p",{style:o.info,children:"Bu not sadece sen gÃ¶rebilirsin"}),e.jsxs("div",{style:o.colorPicker,children:[e.jsx("label",{style:o.label,children:"Renk:"}),e.jsx("div",{style:o.colors,children:s.map(t=>e.jsx("button",{onClick:()=>x(t.name),style:{...o.colorButton,backgroundColor:t.value,...a===t.name?o.colorButtonActive:{}}},t.name))})]}),e.jsx("textarea",{value:n,onChange:t=>c(t.target.value),placeholder:"Notunu buraya yaz...",style:{...o.textarea,backgroundColor:s.find(t=>t.name===a)?.value},maxLength:500}),e.jsxs("div",{style:o.footer,children:[e.jsxs("span",{style:o.charCount,children:[n.length,"/500"]}),e.jsxs("button",{onClick:b,disabled:r,style:o.saveButton,children:[e.jsx(j,{})," ",r?"Kaydediliyor...":"Kaydet"]})]})]})]})})},o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"500px",maxWidth:"90vw",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{padding:"16px 20px",borderBottom:"1px solid #1e1f22",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{color:"#fff",fontSize:"18px",margin:0,display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"20px",cursor:"pointer",padding:"4px"},content:{padding:"20px"},info:{color:"#72767d",fontSize:"13px",marginBottom:"16px",fontStyle:"italic"},colorPicker:{marginBottom:"16px"},label:{color:"#b9bbbe",fontSize:"14px",marginBottom:"8px",display:"block"},colors:{display:"flex",gap:"8px"},colorButton:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid transparent",cursor:"pointer",transition:"transform 0.2s"},colorButtonActive:{border:"2px solid #5865f2",transform:"scale(1.1)"},textarea:{width:"100%",minHeight:"150px",padding:"12px",border:"1px solid #4e5058",borderRadius:"6px",fontSize:"14px",color:"#1e1f22",resize:"vertical",fontFamily:"inherit",marginBottom:"12px"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center"},charCount:{color:"#72767d",fontSize:"12px"},saveButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"10px 20px",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"}};export{S as default};

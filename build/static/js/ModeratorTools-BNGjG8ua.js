import{b as v,r as n,n as e}from"./react-core-zXIKm1Jm.js";import{t as a}from"./index-Cp1Y5xwx.js";import{aj as k,a as C,b1 as B}from"./icons-vendor-DZdpmN99.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-BSOZ7IB3.js";import"./router-vendor-PJALNo1v.js";import"./crypto-vendor-D_AcF0lD.js";import"./state-vendor-8NbFPBhQ.js";const S=({onClose:c,fetchWithAuth:u,apiBaseUrl:p,roomSlug:g,serverId:w})=>{const[r,i]=n.useState(""),[x,b]=n.useState(""),[h,y]=n.useState("permanent"),[d,m]=n.useState(""),[s,l]=n.useState(!1),f=async()=>{if(!r){a.error("‚ùå L√ºtfen bir kullanƒ±cƒ± se√ßin");return}l(!0);try{(await u(`${p}/moderation/ban/`,{method:"POST",body:JSON.stringify({username:r,reason:x,duration:h,room_slug:g})})).ok?(a.success("‚úÖ Kullanƒ±cƒ± yasaklandƒ±"),i(""),b("")):a.error("‚ùå Yasaklama ba≈üarƒ±sƒ±z")}catch(t){console.error("Ban error:",t)}finally{l(!1)}},j=async()=>{if(!r||!d){a.error("‚ùå Kullanƒ±cƒ± ve not gerekli");return}l(!0);try{(await u(`${p}/moderation/notes/add/`,{method:"POST",body:JSON.stringify({username:r,note:d})})).ok&&(a.success("‚úÖ Not eklendi"),m(""))}catch(t){console.error("Add note error:",t)}finally{l(!1)}};return e.jsx("div",{style:o.overlay,onClick:c,children:e.jsxs("div",{style:o.modal,onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{style:o.header,children:[e.jsxs("h2",{style:o.title,children:[e.jsx(k,{})," Moderat√∂r Ara√ßlarƒ±"]}),e.jsx("button",{onClick:c,style:o.closeButton,children:e.jsx(C,{})})]}),e.jsxs("div",{style:o.content,children:[e.jsxs("div",{style:o.section,children:[e.jsxs("h3",{style:o.sectionTitle,children:[e.jsx(B,{})," Kullanƒ±cƒ± Yasakla"]}),e.jsx("input",{type:"text",placeholder:"Kullanƒ±cƒ± adƒ±",value:r,onChange:t=>i(t.target.value),style:o.input}),e.jsx("textarea",{placeholder:"Yasaklama sebebi",value:x,onChange:t=>b(t.target.value),style:{...o.input,minHeight:"80px",resize:"vertical"}}),e.jsxs("select",{value:h,onChange:t=>y(t.target.value),style:o.select,children:[e.jsx("option",{value:"1h",children:"1 Saat"}),e.jsx("option",{value:"1d",children:"1 G√ºn"}),e.jsx("option",{value:"7d",children:"7 G√ºn"}),e.jsx("option",{value:"30d",children:"30 G√ºn"}),e.jsx("option",{value:"permanent",children:"Kalƒ±cƒ±"})]}),e.jsx("button",{onClick:f,disabled:s,style:o.banButton,children:s?"Yasaklanƒ±yor...":"üî® Yasakla"})]}),e.jsxs("div",{style:o.section,children:[e.jsx("h3",{style:o.sectionTitle,children:"üìù Moderat√∂r Notu Ekle"}),e.jsx("input",{type:"text",placeholder:"Kullanƒ±cƒ± adƒ±",value:r,onChange:t=>i(t.target.value),style:o.input}),e.jsx("textarea",{placeholder:"Moderat√∂r notu",value:d,onChange:t=>m(t.target.value),style:{...o.input,minHeight:"80px",resize:"vertical"}}),e.jsx("button",{onClick:j,disabled:s,style:o.noteButton,children:s?"Ekleniyor...":"‚úçÔ∏è Not Ekle"})]})]})]})})},o={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"500px",maxHeight:"80vh",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.3em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.3em"},content:{padding:"20px",overflowY:"auto",flex:1},section:{marginBottom:"25px",backgroundColor:"#40444b",padding:"15px",borderRadius:"8px"},sectionTitle:{color:"#b9bbbe",fontSize:"1em",marginBottom:"10px",display:"flex",alignItems:"center",gap:"8px"},input:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#2b2d31",border:"1px solid #5865f2",borderRadius:"4px",color:"white"},select:{width:"100%",padding:"10px",marginBottom:"10px",backgroundColor:"#2b2d31",border:"1px solid #5865f2",borderRadius:"4px",color:"white"},banButton:{width:"100%",padding:"12px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer"},noteButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",cursor:"pointer"}},E=v.memo(S);export{E as default};

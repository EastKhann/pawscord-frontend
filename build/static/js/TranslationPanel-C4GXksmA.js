import{r as o,d as e,c9 as g}from"./react-core-DrOm_csO.js";import{g as k}from"./index-DmEhdEtw.js";const w=({serverId:c,onClose:d})=>{const m=k(),[t,n]=o.useState({enabled:!1,auto_translate:!1,default_language:"tr",allowed_languages:["en","tr","de","fr","es"],react_to_translate:!0,translation_emoji:"ðŸŒ"}),[s,u]=o.useState({total_translations:0,top_languages:[],translations_today:0}),[E,p]=o.useState(!0),i=[{code:"tr",name:"TÃ¼rkÃ§e",flag:"ðŸ‡¹ðŸ‡·"},{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"de",name:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"fr",name:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"es",name:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"it",name:"Italiano",flag:"ðŸ‡®ðŸ‡¹"},{code:"pt",name:"PortuguÃªs",flag:"ðŸ‡µðŸ‡¹"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"ja",name:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"},{code:"zh",name:"ä¸­æ–‡",flag:"ðŸ‡¨ðŸ‡³"},{code:"ar",name:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",flag:"ðŸ‡¸ðŸ‡¦"},{code:"hi",name:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",flag:"ðŸ‡®ðŸ‡³"}];o.useEffect(()=>{f(),h()},[c]);const f=async()=>{try{const a=await fetch(`${m}/translation/server/${c}/config/`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(a.ok){const l=await a.json();n(l)}}catch(a){console.error("Error:",a)}finally{p(!1)}},h=async()=>{try{const a=await fetch(`${m}/translation/server/${c}/stats/`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(a.ok){const l=await a.json();u(l)}}catch(a){console.error("Error:",a)}},N=async()=>{try{(await fetch(`${m}/translation/server/${c}/config/`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?g.success("âœ… Ã‡eviri ayarlarÄ± kaydedildi"):g.error("âŒ Kaydetme hatasÄ±")}catch{g.error("âŒ BaÄŸlantÄ± hatasÄ±")}},v=a=>{const l=t.allowed_languages.includes(a)?t.allowed_languages.filter(r=>r!==a):[...t.allowed_languages,a];n({...t,allowed_languages:l})};return e.createElement("div",{className:"translation-overlay",onClick:d},e.createElement("div",{className:"translation-panel",onClick:a=>a.stopPropagation()},e.createElement("div",{className:"translation-header"},e.createElement("h2",null,"ðŸŒ Ã‡eviri Sistemi"),e.createElement("button",{className:"close-btn",onClick:d},"Ã—")),e.createElement("div",{className:"translation-content"},E?e.createElement("div",{className:"loading-state"},e.createElement("div",{className:"spinner"}),e.createElement("p",null,"YÃ¼kleniyor...")):e.createElement(e.Fragment,null,e.createElement("div",{className:"stats-section"},e.createElement("div",{className:"stat-card"},e.createElement("span",{className:"stat-icon"},"ðŸŒ"),e.createElement("div",{className:"stat-info"},e.createElement("h3",null,s.total_translations),e.createElement("p",null,"Toplam Ã‡eviri"))),e.createElement("div",{className:"stat-card"},e.createElement("span",{className:"stat-icon"},"ðŸ“…"),e.createElement("div",{className:"stat-info"},e.createElement("h3",null,s.translations_today),e.createElement("p",null,"BugÃ¼n"))),e.createElement("div",{className:"stat-card"},e.createElement("span",{className:"stat-icon"},"ðŸ†"),e.createElement("div",{className:"stat-info"},e.createElement("h3",null,s.top_languages[0]||"N/A"),e.createElement("p",null,"En PopÃ¼ler")))),e.createElement("div",{className:"config-section"},e.createElement("div",{className:"section-header"},e.createElement("h3",null,"âš™ï¸ Ayarlar"),e.createElement("label",{className:"toggle-switch"},e.createElement("input",{type:"checkbox",checked:t.enabled,onChange:a=>n({...t,enabled:a.target.checked})}),e.createElement("span",{className:"toggle-slider"}))),e.createElement("div",{className:"config-grid"},e.createElement("div",{className:"form-group"},e.createElement("label",null,"ðŸŒ VarsayÄ±lan Dil"),e.createElement("select",{value:t.default_language,onChange:a=>n({...t,default_language:a.target.value})},i.map(a=>e.createElement("option",{key:a.code,value:a.code},a.flag," ",a.name)))),e.createElement("div",{className:"form-group"},e.createElement("label",null,"ðŸŒ Ã‡eviri Emoji"),e.createElement("input",{type:"text",value:t.translation_emoji,onChange:a=>n({...t,translation_emoji:a.target.value})})),e.createElement("div",{className:"form-group"},e.createElement("label",{className:"checkbox-label"},e.createElement("input",{type:"checkbox",checked:t.auto_translate,onChange:a=>n({...t,auto_translate:a.target.checked})}),e.createElement("span",null,"Otomatik Ã§eviri"))),e.createElement("div",{className:"form-group"},e.createElement("label",{className:"checkbox-label"},e.createElement("input",{type:"checkbox",checked:t.react_to_translate,onChange:a=>n({...t,react_to_translate:a.target.checked})}),e.createElement("span",null,"Emoji ile Ã§evir")))),e.createElement("div",{className:"languages-section"},e.createElement("h4",null,"Ä°zin Verilen Diller"),e.createElement("div",{className:"languages-grid"},i.map(a=>e.createElement("div",{key:a.code,className:`language-card ${t.allowed_languages.includes(a.code)?"active":""}`,onClick:()=>v(a.code)},e.createElement("span",{className:"language-flag"},a.flag),e.createElement("span",{className:"language-name"},a.name),t.allowed_languages.includes(a.code)&&e.createElement("span",{className:"check-icon"},"âœ…"))))),e.createElement("button",{className:"save-btn",onClick:N},"ðŸ’¾ Kaydet")),s.top_languages.length>0&&e.createElement("div",{className:"top-languages-section"},e.createElement("h3",null,"ðŸ“Š En Ã‡ok KullanÄ±lan Diller"),e.createElement("div",{className:"top-languages-list"},s.top_languages.slice(0,5).map((a,l)=>{const r=i.find(_=>_.code===a.code);return e.createElement("div",{key:l,className:"top-language-item"},e.createElement("span",{className:"rank"},"#",l+1),e.createElement("span",{className:"flag"},r?.flag),e.createElement("span",{className:"name"},r?.name),e.createElement("span",{className:"count"},a.count," Ã§eviri"))})))))))};export{w as default};

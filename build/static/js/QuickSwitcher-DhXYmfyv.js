var g=Object.defineProperty;var t=(r,d)=>g(r,"name",{value:d,configurable:!0});import{a as S,r as n,j as a}from"./react-core-Djgtqrmb.js";import{t as k,a as E,aF as b,b3 as v}from"./icons-vendor-BW7dxHkX.js";const D=t(({onClose:r,onNavigate:d,channels:h=[],users:p=[],conversations:o=[]})=>{const[c,j]=n.useState(""),[x,i]=n.useState(0),f=n.useRef(null);n.useEffect(()=>{f.current?.focus()},[]);const N=t((e,s)=>{if(!e||!s)return!1;if(e=e.toLowerCase(),s=s.toLowerCase(),e.includes(s))return!0;let u=0;for(let m=0;m<e.length&&u<s.length;m++)e[m]===s[u]&&u++;return u===s.length},"fuzzyMatch"),l=n.useMemo(()=>c.trim()?[...h.map(s=>({type:"channel",...s,searchText:s.name})),...p.map(s=>({type:"user",...s,searchText:s.username})),...o.map(s=>({type:"dm",...s,searchText:s.target_user}))].filter(s=>N(s.searchText,c)).slice(0,10):[...h.slice(0,5).map(s=>({type:"channel",...s})),...p.slice(0,5).map(s=>({type:"user",...s})),...o.slice(0,5).map(s=>({type:"dm",...s}))].slice(0,10),[c,h,p,o]),w=t(e=>{e.key==="ArrowDown"?(e.preventDefault(),i(s=>(s+1)%l.length)):e.key==="ArrowUp"?(e.preventDefault(),i(s=>(s-1+l.length)%l.length)):e.key==="Enter"&&l[x]?(e.preventDefault(),y(l[x])):e.key==="Escape"&&r()},"handleKeyDown"),y=t(e=>{d(e),r()},"handleSelect");return a.jsx("div",{className:"quick-switcher-overlay",onClick:r,children:a.jsxs("div",{className:"quick-switcher-panel",onClick:t(e=>e.stopPropagation(),"onClick"),children:[a.jsxs("div",{className:"quick-switcher-search",children:[a.jsx(k,{className:"search-icon"}),a.jsx("input",{ref:f,type:"text",placeholder:"Kanal veya kullanıcı ara... (Ctrl+K)",value:c,onChange:t(e=>{j(e.target.value),i(0)},"onChange"),onKeyDown:w,className:"search-input"}),c&&a.jsx("button",{className:"clear-btn",onClick:t(()=>j(""),"onClick"),children:a.jsx(E,{})})]}),a.jsx("div",{className:"quick-switcher-results",children:l.length>0?l.map((e,s)=>a.jsxs("div",{className:`quick-result-item ${s===x?"selected":""}`,onClick:t(()=>y(e),"onClick"),onMouseEnter:t(()=>i(s),"onMouseEnter"),children:[a.jsxs("div",{className:"result-icon",children:[e.type==="channel"&&a.jsx(b,{}),e.type==="user"&&a.jsx(v,{}),e.type==="dm"&&a.jsx(v,{})]}),a.jsxs("div",{className:"result-content",children:[a.jsxs("div",{className:"result-name",children:[e.type==="channel"&&e.name,e.type==="user"&&e.username,e.type==="dm"&&e.target_user]}),a.jsxs("div",{className:"result-type",children:[e.type==="channel"&&"Kanal",e.type==="user"&&"Kullanıcı",e.type==="dm"&&"Direkt Mesaj"]})]})]},`${e.type}-${e.id||e.username}`)):a.jsxs("div",{className:"no-results",children:[a.jsx(k,{size:32}),a.jsx("p",{children:"Sonuç bulunamadı"})]})}),a.jsx("div",{className:"quick-switcher-footer",children:a.jsxs("div",{className:"shortcut-hints",children:[a.jsxs("span",{children:[a.jsx("kbd",{children:"↑↓"})," Gezin"]}),a.jsxs("span",{children:[a.jsx("kbd",{children:"Enter"})," Seç"]}),a.jsxs("span",{children:[a.jsx("kbd",{children:"Esc"})," Kapat"]})]})})]})})},"QuickSwitcher"),I=S.memo(D);export{I as default};

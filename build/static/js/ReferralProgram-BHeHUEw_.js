import{r as n,b as e}from"./react-core-9vc7GIjk.js";import{a as m}from"./index-B9ygI19o.js";import{t as d}from"./index-DK2jvQ9U.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./icons-vendor-NoxEirJf.js";import"./state-vendor-0vlBuk0v.js";function j({user:i}){const[a,u]=n.useState(""),[t,w]=n.useState(0),[v,k]=n.useState([]),[p,o]=n.useState(!1);n.useEffect(()=>{i&&c()},[i]);const c=async()=>{try{const r=await m.get("/api/user/profile/");u(r.data.referral_code||E()),w(r.data.referral_count||0)}catch(r){console.error("Failed to load referral data:",r)}},E=()=>Math.random().toString(36).substring(2,10).toUpperCase(),h=()=>{const r=`https://www.pawscord.com/join/${a}`;navigator.clipboard.writeText(r),o(!0),setTimeout(()=>o(!1),2e3)},f=()=>{const r=`Join me on Pawscord - a privacy-first Discord alternative! üêæ

No tracking. No ads. 100% open source.

Sign up with my link for 3 months free premium:`,N=`https://www.pawscord.com/join/${a}`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(r)}&url=${encodeURIComponent(N)}`,"_blank")},s=async()=>{try{const r=await m.post("/api/referral/claim/");d.success(`Reward claimed! You got ${r.data.reward}`),c()}catch(r){d.error(r.response?.data?.error||"Failed to claim reward")}},l=t>=10?"lifetime":t>=5?"6months":t>=1?"1month":"none";return e.createElement("div",{className:"referral-program"},e.createElement("div",{className:"referral-header"},e.createElement("h2",null,"üéÅ Invite Friends, Get Rewards"),e.createElement("p",null,"Share Pawscord and earn free premium for every friend who joins!")),e.createElement("div",{className:"referral-link-card"},e.createElement("label",null,"Your Referral Link:"),e.createElement("div",{className:"link-container"},e.createElement("input",{type:"text",value:`https://www.pawscord.com/join/${a}`,readOnly:!0,className:"referral-input"}),e.createElement("button",{onClick:h,className:"copy-btn"},p?"‚úÖ Copied!":"üìã Copy")),e.createElement("button",{onClick:f,className:"share-btn twitter"},"üê¶ Share on Twitter")),e.createElement("div",{className:"referral-stats"},e.createElement("div",{className:"stat-card"},e.createElement("div",{className:"stat-value"},t),e.createElement("div",{className:"stat-label"},"Friends Referred")),e.createElement("div",{className:"stat-card"},e.createElement("div",{className:"stat-value"},l==="lifetime"?"‚àû":l==="6months"?"6mo":l==="1month"?"1mo":"0"),e.createElement("div",{className:"stat-label"},"Premium Earned"))),e.createElement("div",{className:"rewards-tiers"},e.createElement("h3",null,"Reward Tiers:"),e.createElement("div",{className:"tier-list"},e.createElement("div",{className:`tier-item ${t>=1?"unlocked":""}`},e.createElement("div",{className:"tier-icon"},"ü•â"),e.createElement("div",{className:"tier-info"},e.createElement("div",{className:"tier-title"},"Bronze"),e.createElement("div",{className:"tier-reward"},"1 Month Premium"),e.createElement("div",{className:"tier-requirement"},"1 Friend")),t>=1&&t<5&&e.createElement("button",{onClick:s,className:"claim-btn"},"Claim")),e.createElement("div",{className:`tier-item ${t>=5?"unlocked":""}`},e.createElement("div",{className:"tier-icon"},"ü•à"),e.createElement("div",{className:"tier-info"},e.createElement("div",{className:"tier-title"},"Silver"),e.createElement("div",{className:"tier-reward"},"6 Months Premium"),e.createElement("div",{className:"tier-requirement"},"5 Friends")),t>=5&&t<10&&e.createElement("button",{onClick:s,className:"claim-btn"},"Claim")),e.createElement("div",{className:`tier-item ${t>=10?"unlocked":""}`},e.createElement("div",{className:"tier-icon"},"ü•á"),e.createElement("div",{className:"tier-info"},e.createElement("div",{className:"tier-title"},"Gold"),e.createElement("div",{className:"tier-reward"},"Lifetime Premium üöÄ"),e.createElement("div",{className:"tier-requirement"},"10 Friends")),t>=10&&e.createElement("button",{onClick:s,className:"claim-btn"},"Claim")))),e.createElement("div",{className:"progress-section"},e.createElement("h3",null,"Your Progress:"),e.createElement("div",{className:"progress-bar"},e.createElement("div",{className:"progress-fill",style:{width:`${Math.min(t/10*100,100)}%`}},e.createElement("span",null,t," / 10"))),e.createElement("p",{className:"progress-hint"},t>=10?"üéâ You unlocked Lifetime Premium!":t>=5?`${10-t} more friends for Lifetime Premium!`:t>=1?`${5-t} more for 6 Months Premium!`:"Share your link to start earning rewards!")),e.createElement("div",{className:"how-it-works"},e.createElement("h3",null,"How It Works:"),e.createElement("ol",null,e.createElement("li",null,"üì§ Share your unique referral link with friends"),e.createElement("li",null,"‚úÖ They sign up using your link"),e.createElement("li",null,"üéÅ You automatically earn premium time!"),e.createElement("li",null,"üîÅ Keep sharing to unlock more rewards"))),e.createElement("div",{className:"social-share"},e.createElement("h3",null,"Share on:"),e.createElement("div",{className:"share-buttons"},e.createElement("button",{onClick:()=>window.open(`https://www.facebook.com/sharer/sharer.php?u=https://www.pawscord.com/join/${a}`,"_blank"),className:"share-btn facebook"},"üìò Facebook"),e.createElement("button",{onClick:()=>window.open(`https://www.reddit.com/submit?url=https://www.pawscord.com/join/${a}&title=Check out Pawscord!`,"_blank"),className:"share-btn reddit"},"ü§ñ Reddit"),e.createElement("button",{onClick:()=>window.open(`https://wa.me/?text=Join me on Pawscord! https://www.pawscord.com/join/${a}`,"_blank"),className:"share-btn whatsapp"},"üí¨ WhatsApp"),e.createElement("button",{onClick:()=>window.open(`https://t.me/share/url?url=https://www.pawscord.com/join/${a}&text=Check out Pawscord!`,"_blank"),className:"share-btn telegram"},"‚úàÔ∏è Telegram"))))}export{j as default};

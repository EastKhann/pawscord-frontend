import{r as i,cl as R,l as E,Y as h,cq as I}from"./react-core-B6hadH-M.js";import{t as y}from"./index-D_6pZib5.js";const L=({fetchWithAuth:n,apiBaseUrl:r,onClose:m,username:o})=>{const[s,f]=i.useState([]),[l,x]=i.useState([]),[v,d]=i.useState(!1),[c,p]=i.useState("activity");i.useEffect(()=>{g(),u()},[o]);const g=async()=>{d(!0);try{const a=await(await n(`${r}/activity/${o}/`)).json();f(a.activity||[])}catch{y.error("Failed to load activity log")}finally{d(!1)}},u=async()=>{try{const a=await(await n(`${r}/presence/${o}/`)).json();x(a.history||[])}catch{y.error("Failed to load presence history")}},b=t=>{switch(t){case"message":return"ðŸ’¬";case"reaction":return"â¤ï¸";case"join":return"ðŸšª";case"voice":return"ðŸŽ¤";default:return"ðŸ“Š"}};return React.createElement("div",{style:e.overlay},React.createElement("div",{style:e.modal},React.createElement("div",{style:e.header},React.createElement("div",{style:e.headerLeft},React.createElement(R,{style:{marginRight:"10px",color:"#5865f2"}}),React.createElement("h2",{style:e.title},"Activity - ",o)),React.createElement("button",{onClick:m,style:e.closeButton},React.createElement(E,null))),React.createElement("div",{style:e.tabs},React.createElement("button",{onClick:()=>p("activity"),style:{...e.tab,...c==="activity"&&e.tabActive}},React.createElement(h,{style:{marginRight:"5px"}}),"Activity Log"),React.createElement("button",{onClick:()=>p("presence"),style:{...e.tab,...c==="presence"&&e.tabActive}},React.createElement(I,{style:{marginRight:"5px"}}),"Presence History")),React.createElement("div",{style:e.content},v?React.createElement("div",{style:e.loading},"Loading activity..."):c==="activity"?React.createElement("div",{style:e.activityList},s.length===0?React.createElement("div",{style:e.empty},"No activity data available"):s.map((t,a)=>React.createElement("div",{key:a,style:e.activityItem},React.createElement("div",{style:e.activityIcon},b(t.type)),React.createElement("div",{style:e.activityInfo},React.createElement("div",{style:e.activityText},t.description),React.createElement("div",{style:e.activityTime},new Date(t.timestamp).toLocaleString()))))):React.createElement("div",{style:e.presenceList},l.length===0?React.createElement("div",{style:e.empty},"No presence history available"):l.map((t,a)=>React.createElement("div",{key:a,style:e.presenceItem},React.createElement("div",{style:{...e.statusIndicator,backgroundColor:t.status==="online"?"#43b581":t.status==="idle"?"#faa61a":t.status==="dnd"?"#f04747":"#99aab5"}}),React.createElement("div",{style:e.presenceInfo},React.createElement("div",{style:e.presenceStatus},t.status.charAt(0).toUpperCase()+t.status.slice(1)),React.createElement("div",{style:e.presenceTime},new Date(t.timestamp).toLocaleString())),t.duration&&React.createElement("div",{style:e.presenceDuration},Math.round(t.duration/60)," minutes")))))))},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},tabs:{display:"flex",borderBottom:"1px solid #2c2f33",padding:"0 20px"},tab:{padding:"12px 20px",backgroundColor:"transparent",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",borderBottom:"2px solid transparent"},tabActive:{color:"#5865f2",borderBottom:"2px solid #5865f2"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},activityList:{display:"flex",flexDirection:"column",gap:"12px"},activityItem:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px",display:"flex",gap:"16px",alignItems:"center"},activityIcon:{fontSize:"24px"},activityInfo:{flex:1},activityText:{fontSize:"14px",color:"#dcddde",marginBottom:"4px"},activityTime:{fontSize:"12px",color:"#99aab5"},presenceList:{display:"flex",flexDirection:"column",gap:"12px"},presenceItem:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px",display:"flex",gap:"12px",alignItems:"center"},statusIndicator:{width:"12px",height:"12px",borderRadius:"50%"},presenceInfo:{flex:1},presenceStatus:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"4px"},presenceTime:{fontSize:"12px",color:"#99aab5"},presenceDuration:{fontSize:"13px",color:"#dcddde"}};export{L as default};

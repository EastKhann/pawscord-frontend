var A=Object.defineProperty;var i=(l,a)=>A(l,"name",{value:a,configurable:!0});import{r as s,j as t}from"./react-core-Djgtqrmb.js";import{a as W,t as g}from"./index-m2zCEI_Z.js";import{u as R}from"./useModalA11y-VFHkzbFx.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./icons-vendor-BW7dxHkX.js";import"./ui-vendor-IhB9Znpc.js";const H=i(({isOpen:l,onClose:a})=>{const{token:u}=W(),[j,S]=s.useState([]),[f,k]=s.useState("free"),[r,m]=s.useState("premium"),[d,h]=s.useState("monthly"),[p,y]=s.useState(!1),b="https://api.pawscord.com";s.useEffect(()=>{l&&C()},[l]);const C=i(async()=>{try{const n=await(await fetch(`${b}/api/store/premium/tiers/`,{headers:{Authorization:`Bearer ${u}`}})).json();S(n.tiers),k(n.current_tier)}catch{}},"fetchPremiumTiers"),z=i(async()=>{if(r!=="free"){y(!0);try{const e=await fetch(`${b}/api/store/premium/subscribe/`,{method:"POST",headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"},body:JSON.stringify({tier:r,billing_cycle:d})}),n=await e.json();e.ok?(g.success(`âœ… ${r==="elite"?"Elite":"Premium"} Ã¼yeliÄŸiniz baÅŸladÄ±!`),a(),window.location.reload()):g.error(`âŒ ${n.error||"Bir hata oluÅŸtu"}`)}catch{g.error("âŒ Bir hata oluÅŸtu")}y(!1)}},"handleSubscribe");if(!l)return null;const o=i(e=>({free:"#7F8C8D",premium:"#5865F2",elite:"#E74C3C"})[e]||"#fff","getTierColor"),v=i(e=>({free:"ğŸŒŸ",premium:"ğŸ’",elite:"ğŸ‘‘"})[e]||"","getTierIcon"),{overlayProps:T,dialogProps:$}=R({onClose:a,label:"Premium"});return t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},...T,children:t.jsxs("div",{style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"24px",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflowY:"auto",padding:"40px",position:"relative"},...$,children:[t.jsx("button",{onClick:a,style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",fontSize:"20px"},children:"âœ•"}),t.jsx("h1",{style:{margin:"0 0 10px",fontSize:"36px",fontWeight:700,textAlign:"center",background:"linear-gradient(135deg, #5865F2 0%, #E74C3C 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Pawscord Premium'a GeÃ§in! ğŸ’"}),t.jsx("p",{style:{textAlign:"center",color:"#aaa",marginBottom:"40px"},children:"Profilinizi Ã¶zelleÅŸtirin ve premium Ã¶zelliklere eriÅŸin!"}),t.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"30px"},children:[t.jsx("button",{onClick:i(()=>h("monthly"),"onClick"),style:{background:d==="monthly"?"#5865F2":"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600},children:"AylÄ±k"}),t.jsxs("button",{onClick:i(()=>h("yearly"),"onClick"),style:{background:d==="yearly"?"#5865F2":"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",fontWeight:600,position:"relative"},children:["YÄ±llÄ±k",t.jsx("span",{style:{position:"absolute",top:"-8px",right:"-8px",background:"#43b581",padding:"2px 8px",borderRadius:"8px",fontSize:"10px",fontWeight:700},children:"%17 Ä°ndirim"})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:j.map(e=>{const n=e.id===f,c=e.id===r,w=d==="yearly"?e.price_yearly:e.price;return t.jsxs("div",{style:{background:c?`linear-gradient(135deg, ${o(e.id)}20 0%, ${o(e.id)}10 100%)`:"rgba(255, 255, 255, 0.05)",border:c?`3px solid ${o(e.id)}`:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"30px",cursor:e.id!=="free"?"pointer":"default",transition:"all 0.3s",position:"relative"},onClick:i(()=>e.id!=="free"&&m(e.id),"onClick"),children:[n&&t.jsx("div",{style:{position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",background:"#43b581",padding:"6px 16px",borderRadius:"20px",fontSize:"12px",fontWeight:700},children:"âœ… Mevcut Paketiniz"}),t.jsx("div",{style:{fontSize:"60px",textAlign:"center",marginBottom:"20px"},children:v(e.id)}),t.jsx("h2",{style:{margin:"0 0 10px",fontSize:"28px",fontWeight:700,textAlign:"center",color:o(e.id)},children:e.name}),t.jsx("div",{style:{textAlign:"center",marginBottom:"20px"},children:e.id==="free"?t.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:"#fff"},children:"ÃœCRETSÄ°Z"}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{fontSize:"32px",fontWeight:700,color:"#fff"},children:["â‚º",w.toFixed(2)]}),t.jsx("div",{style:{fontSize:"14px",color:"#888"},children:d==="yearly"?"/yÄ±l":"/ay"})]})}),t.jsx("ul",{style:{listStyle:"none",padding:0,margin:"0 0 20px"},children:e.features.map((x,P)=>t.jsxs("li",{style:{padding:"8px 0",fontSize:"14px",color:"#ddd",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx("span",{style:{color:"#43b581"},children:"âœ“"}),x]},P))}),e.id!=="free"&&!n&&t.jsx("button",{onClick:i(x=>{x.stopPropagation(),m(e.id)},"onClick"),style:{width:"100%",background:c?`linear-gradient(135deg, ${o(e.id)} 0%, ${o(e.id)}CC 100%)`:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"14px",borderRadius:"10px",cursor:"pointer",fontWeight:700,fontSize:"16px"},children:c?"SeÃ§ildi âœ“":"SeÃ§"})]},e.id)})}),r!=="free"&&r!==f&&t.jsxs("div",{style:{marginTop:"40px",textAlign:"center"},children:[t.jsx("button",{onClick:z,disabled:p,style:{background:p?"rgba(255, 255, 255, 0.2)":`linear-gradient(135deg, ${o(r)} 0%, ${o(r)}CC 100%)`,border:"none",color:"#fff",padding:"18px 60px",borderRadius:"14px",cursor:p?"not-allowed":"pointer",fontWeight:700,fontSize:"18px",boxShadow:`0 8px 24px ${o(r)}40`},children:p?"â³ Ä°ÅŸleniyor...":`${r==="elite"?"ğŸ‘‘ Elite":"ğŸ’ Premium"} SatÄ±n Al`}),t.jsx("p",{style:{color:"#888",fontSize:"12px",marginTop:"10px"},children:"âš ï¸ Bu bir prototip - gerÃ§ek Ã¶deme entegrasyonu yapÄ±lmamÄ±ÅŸtÄ±r"})]})]})})},"PremiumModal");export{H as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./react-core-B6hadH-M.js","../css/react-core-Dj12pvTl.css"])))=>i.map(i=>d[i]);
import{r as t,bR as h,bS as E,bT as v,A as k,_ as C}from"./react-core-B6hadH-M.js";import{o as S}from"./index-D_6pZib5.js";const P=t.lazy(()=>C(()=>import("./react-core-B6hadH-M.js").then(l=>l.e4),__vite__mapDeps([0,1]),import.meta.url)),F=()=>{const{cinemaState:l,sendCinemaSignal:r,setCinemaState:_}=S(),{url:m,playing:a,time:o,lastSyncAction:i}=l,[s,f]=t.useState(""),[b,w]=t.useState(.8),[c,y]=t.useState(null),[g,u]=t.useState(!1),n=t.useRef(null);t.useRef(!1),t.useEffect(()=>{i==="change_url"?(u(!1),y(null)):i==="play"&&Math.abs(p()-o)>2&&n.current&&n.current.seekTo(o)},[m,a,o,i]);const p=()=>{try{return n.current?n.current.getCurrentTime():0}catch{return 0}},x=d=>{d.preventDefault(),s.trim()&&(r("change_url",{url:s}),f(""))},R=()=>{a?r("pause"):r("play",{time:p()})};return React.createElement("div",{style:e.container},React.createElement("div",{style:e.playerWrapper},c&&React.createElement("div",{style:e.statusOverlay},React.createElement(h,{size:40,color:"#f04747"}),React.createElement("p",{style:{marginTop:10}},c)),!g&&!c&&React.createElement("div",{style:e.statusOverlay},React.createElement("div",{className:"spinner"}),React.createElement("p",{style:{marginTop:10}},"Yükleniyor...")),React.createElement(t.Suspense,{fallback:React.createElement("div",{style:{color:"#fff",padding:"50px",textAlign:"center"}},"Loading player...")},React.createElement(P,{ref:n,url:m,playing:a,volume:b,controls:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onReady:()=>u(!0),onError:()=>{y("Video oynatılamadı."),u(!0)},onPlay:()=>{a||r("play",{time:p()})},onPause:()=>{a&&r("pause")}}))),React.createElement("div",{style:e.controls},React.createElement("button",{onClick:R,style:{...e.btn,backgroundColor:a?"#da373c":"#43b581",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"}},a?React.createElement(E,null):React.createElement(v,{style:{marginLeft:2}})),React.createElement("form",{onSubmit:x,style:e.urlForm},React.createElement(k,{style:{color:"#b9bbbe"}}),React.createElement("input",{type:"text",value:s,onChange:d=>f(d.target.value),placeholder:"YouTube Link...",style:e.input}),React.createElement("button",{type:"submit",style:{...e.btn,backgroundColor:"#5865f2",padding:"0 15px"}},"Yükle"))),React.createElement("style",null,`
                .spinner {
                    border: 4px solid rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    border-top: 4px solid #ffffff;
                    width: 30px; height: 30px;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            `))},e={container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"black"},playerWrapper:{flex:1,position:"relative",overflow:"hidden"},controls:{padding:"10px",display:"flex",gap:"10px",backgroundColor:"#202225",alignItems:"center"},urlForm:{flex:1,display:"flex",gap:"8px",backgroundColor:"#40444b",padding:"5px 10px",borderRadius:"4px",alignItems:"center"},input:{flex:1,background:"transparent",border:"none",color:"white",outline:"none",fontSize:"14px"},btn:{border:"none",color:"white",cursor:"pointer",borderRadius:"4px",fontWeight:"bold"},statusOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.7)",color:"white",zIndex:10}};export{F as default};

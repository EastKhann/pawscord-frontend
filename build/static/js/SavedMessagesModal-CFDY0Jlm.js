import{f as e,r as l,l as E,v,cm as h,al as S,Y as C}from"./react-core-B6hadH-M.js";const w=({type:o="bookmarks",onClose:s,fetchWithAuth:i,apiBaseUrl:d,onScrollToMessage:m})=>{const[c,g]=l.useState([]),[p,f]=l.useState(!0);l.useEffect(()=>{b()},[o]);const b=async()=>{f(!0);try{let t="";o==="bookmarks"||o==="starred"?t="/messages/favorites/":o==="readlater"&&(t="/messages/readlater/list/");const r=await i(`${d}${t}`);if(r.ok){const n=await r.json();g(n.messages||n.results||[])}}catch(t){console.error("Load saved messages error:",t)}finally{f(!1)}},u=async t=>{try{let r="";o==="bookmarks"?r="/messages/bookmark/toggle/":o==="starred"?r="/messages/star/toggle/":o==="readlater"&&(r="/messages/readlater/toggle/"),await i(`${d}${r}`,{method:"POST",body:JSON.stringify({message_id:t})}),g(n=>n.filter(k=>k.id!==t))}catch(r){console.error("Remove error:",r)}},x=()=>o==="bookmarks"?"ðŸ“‘ Bookmarklar":o==="starred"?"â­ YÄ±ldÄ±zlÄ± Mesajlar":o==="readlater"?"ðŸ• Sonra Oku":"Kaydedilen Mesajlar",y=()=>o==="bookmarks"?e.createElement(h,null):o==="starred"?e.createElement(S,null):o==="readlater"?e.createElement(C,null):null;return e.createElement("div",{style:a.overlay,onClick:s},e.createElement("div",{style:a.modal,onClick:t=>t.stopPropagation()},e.createElement("div",{style:a.header},e.createElement("h2",{style:a.title},y()," ",x()),e.createElement("button",{onClick:s,style:a.closeButton},e.createElement(E,null))),e.createElement("div",{style:a.content},p?e.createElement("div",{style:a.loading},"YÃ¼kleniyor..."):c.length===0?e.createElement("div",{style:a.empty},"HenÃ¼z kaydedilmiÅŸ mesaj yok"):e.createElement("div",{style:a.messageList},c.map(t=>e.createElement("div",{key:t.id,style:a.messageItem},e.createElement("div",{style:a.messageContent},e.createElement("div",{style:a.messageHeader},e.createElement("span",{style:a.username},t.username),e.createElement("span",{style:a.timestamp},new Date(t.timestamp).toLocaleString("tr-TR"))),e.createElement("div",{style:a.messageText},t.content?.substring(0,150),t.content?.length>150&&"..."),t.room_name&&e.createElement("div",{style:a.roomTag},"#",t.room_name)),e.createElement("div",{style:a.actions},e.createElement("button",{onClick:()=>{m&&(m(t.id),s())},style:a.actionButton,title:"Mesaja git"},"â†’"),e.createElement("button",{onClick:()=>u(t.id),style:{...a.actionButton,color:"#f04747"},title:"KaldÄ±r"},e.createElement(v,null)))))))))},a={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"10px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},messageList:{display:"flex",flexDirection:"column",gap:"10px"},messageItem:{backgroundColor:"#40444b",borderRadius:"4px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"10px"},messageContent:{flex:1},messageHeader:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},username:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},messageText:{color:"#dcddde",fontSize:"0.9em",marginBottom:"5px"},roomTag:{display:"inline-block",backgroundColor:"#5865f2",color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"0.7em",fontWeight:"bold"},actions:{display:"flex",gap:"5px"},actionButton:{background:"none",border:"1px solid #72767d",color:"#b9bbbe",cursor:"pointer",padding:"5px 10px",borderRadius:"4px",fontSize:"0.9em"}},j=e.memo(w);export{j as default};

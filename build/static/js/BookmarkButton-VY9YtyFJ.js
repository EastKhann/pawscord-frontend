import{r as s,cm as u,e0 as b,Y as f,al as y,e1 as S}from"./react-core-B6hadH-M.js";const R=({messageId:l,isBookmarked:i,fetchWithAuth:c,apiBaseUrl:d,onUpdate:o})=>{const[a,g]=s.useState(i),[e,r]=s.useState(!1),k=async m=>{if(m.stopPropagation(),!e){r(!0);try{const t=await c(`${d}/messages/bookmark/toggle/`,{method:"POST",body:JSON.stringify({message_id:l})});if(t.ok){const n=await t.json();g(n.bookmarked),o&&o(n.bookmarked)}}catch(t){console.error("Bookmark error:",t)}finally{r(!1)}}};return React.createElement("button",{onClick:k,disabled:e,style:{background:"none",border:"none",color:a?"#faa61a":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Bookmark kaldır":"Bookmark ekle"},a?React.createElement(u,null):React.createElement(b,null))},B=({messageId:l,isStarred:i,fetchWithAuth:c,apiBaseUrl:d,onUpdate:o})=>{const[a,g]=s.useState(i),[e,r]=s.useState(!1),k=async m=>{if(m.stopPropagation(),!e){r(!0);try{const t=await c(`${d}/messages/star/toggle/`,{method:"POST",body:JSON.stringify({message_id:l})});if(t.ok){const n=await t.json();g(n.starred),o&&o(n.starred)}}catch(t){console.error("Star error:",t)}finally{r(!1)}}};return React.createElement("button",{onClick:k,disabled:e,style:{background:"none",border:"none",color:a?"#ffd700":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Yıldız kaldır":"Yıldız ekle"},a?React.createElement(y,null):React.createElement(S,null))},h=({messageId:l,isReadLater:i,fetchWithAuth:c,apiBaseUrl:d,onUpdate:o})=>{const[a,g]=s.useState(i),[e,r]=s.useState(!1),k=async m=>{if(m.stopPropagation(),!e){r(!0);try{const t=await c(`${d}/messages/readlater/toggle/`,{method:"POST",body:JSON.stringify({message_id:l})});if(t.ok){const n=await t.json();g(n.read_later),o&&o(n.read_later)}}catch(t){console.error("Read later error:",t)}finally{r(!1)}}};return React.createElement("button",{onClick:k,disabled:e,style:{background:"none",border:"none",color:a?"#3ba55d":"#b9bbbe",cursor:e?"wait":"pointer",fontSize:"1em",padding:"5px",display:"flex",alignItems:"center",opacity:e?.5:1},title:a?"Sonra oku listesinden çıkar":"Sonra oku listesine ekle"},React.createElement(f,null))};export{R as BookmarkButton,h as ReadLaterButton,B as StarButton};

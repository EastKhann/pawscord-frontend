import{d as e,r as i,cB as ct}from"./react-core-DrOm_csO.js";import{m as dt,a as pt,n as ut,t as D}from"./index-BYhWpPLp.js";import mt from"./UserContextMenu-DjgQ2bxy.js";import gt from"./VoiceSettingsPanel-DL735Jkz.js";import{S as ft}from"./spark-md5-zOLhqYsu.js";const J=(a,s=256)=>{if(!a)return`https://ui-avatars.com/api/?name=User&background=5865f2&color=fff&bold=true&size=${s}`;const m=ft.hash(a),g=parseInt(m.substring(0,8),16)%360;return`https://ui-avatars.com/api/?name=${encodeURIComponent(a)}&background=${g.toString(16).padStart(2,"0")}${((g+60)%360).toString(16).padStart(2,"0")}${((g+120)%360).toString(16).padStart(2,"0")}&color=fff&bold=true&size=${s}`},xt=a=>a?a.replace(/_100x100\./gi,".").replace(/_150x150\./gi,".").replace(/_50x50\./gi,".").replace(/\?.*$/,""):null,bt=({roomName:a,onClose:s,isMinimized:m,onToggleMinimize:g,getRealUserAvatar:x,allUsers:v=[],currentUserProfile:p})=>{const{isInVoice:f,isMuted:k,isDeafened:E,isVideoEnabled:W,isScreenSharing:h,isSpatialAudioEnabled:S,vadSensitivity:M,isNoiseSuppressionEnabled:O,screenShareQuality:$,screenShareFPS:V,isRecording:d,recordingDuration:w,isPTTMode:N,isPTTActive:C,pttKey:Ke,includeSystemAudio:Ve,connectedUsers:pe=[],isReconnecting:Be=!1,connectionStats:vt={},startStatsMonitoring:U,stopStatsMonitoring:Z,toggleMute:ue,toggleDeafened:De,toggleCamera:me,toggleScreenShare:ge,toggleSpatialAudio:qe,updateVadSensitivity:kt,toggleNoiseSuppression:St,updateScreenQuality:Y,updateScreenFPS:Et,toggleSystemAudio:wt,togglePTTMode:Ct,updatePTTKey:Tt,startRecording:je,stopRecording:Oe,downloadRecording:It,leaveVoiceRoom:fe,localAudioStream:ee,remoteStreams:xe={},remoteVolumes:be={},setRemoteVolume:he,localCameraStream:te,localScreenStream:ae,isTalking:ye=!1}=dt(),_=W,{user:y}=pt(),A=e.useMemo(()=>{const t=[...pe];if(y&&!t.some(n=>n.username===y.username))t.push({username:y.username,isMuted:k,isCameraOn:_,isScreenSharing:h,isTalking:ye,isLocal:!0});else if(y){const n=t.findIndex(c=>c.username===y.username);n>=0&&(t[n]={...t[n],isMuted:k,isCameraOn:_,isScreenSharing:h,isTalking:ye,isLocal:!0})}return t},[pe,y,k,_,h]),q=i.useCallback(t=>{let n=null;if(p&&t===y?.username&&p.avatar&&typeof p.avatar=="string"&&(p.avatar.startsWith("http")||p.avatar.startsWith("blob:")?n=p.avatar:n=`https://www.pawscord.com${p.avatar.startsWith("/")?"":"/"}${p.avatar}`),!n&&x&&(n=x(t)),!n){const c=v.find(r=>r.username===t);c?.avatar&&typeof c.avatar=="string"&&(c.avatar.startsWith("http")||c.avatar.startsWith("blob:")?n=c.avatar:n=`https://www.pawscord.com${c.avatar.startsWith("/")?"":"/"}${c.avatar}`)}return n?xt(n):J(t,256)},[p,y,x,v]),T=e.useMemo(()=>{const t={...xe};return y?.username&&(te&&(t[`${y.username}_camera`]=te),ae&&(t[`${y.username}_screen`]=ae)),t},[xe,y,te,ae]),[R,G]=i.useState(null),[H,ve]=i.useState(null),[Ne,ke]=i.useState(!1),[zt,At]=i.useState({noiseSuppression:!0,echoCancellation:!0,autoGainControl:!0}),[ne,F]=i.useState(null),[Se,Ee]=i.useState(()=>{try{const t=localStorage.getItem("pawscord_voice_volumes");return t?JSON.parse(t):{}}catch{return{}}}),[re,Ye]=i.useState({}),[Ge,oe]=i.useState(!1),[He,Qe]=i.useState(!0),[we,Ce]=i.useState("good"),[Te,Ie]=i.useState("unknown"),[ze,Rt]=i.useState(!0),[Ae,Mt]=i.useState(!0),[Re,Xe]=i.useState({}),[Me,Je]=i.useState({}),[Ue,Ze]=i.useState({}),[z,$e]=i.useState(null),Fe=i.useRef(null);i.useEffect(()=>{const t=()=>{ke(!0)};return window.addEventListener("openVoiceSettings",t),()=>window.removeEventListener("openVoiceSettings",t)},[]),i.useEffect(()=>{try{localStorage.setItem("pawscord_voice_volumes",JSON.stringify(Se))}catch(t){console.warn("Failed to save volume settings:",t)}},[Se]),i.useEffect(()=>{if(!f)return;const t=async()=>{const c=window.__pawscord_peer_connections__||{};for(const[r,l]of Object.entries(c))if(l&&l.getStats)try{(await l.getStats()).forEach(o=>{o.type==="candidate-pair"&&o.state==="succeeded"&&Ye(b=>({...b,[r]:{rtt:Math.round((o.currentRoundTripTime||0)*1e3),packetLoss:o.packetsLost&&o.packetsSent?Math.round(o.packetsLost/o.packetsSent*100*10)/10:0,quality:(o.currentRoundTripTime||0)<.1?"excellent":(o.currentRoundTripTime||0)<.2?"good":"poor"}}))})}catch(u){console.warn("[Quality] Failed to get stats for",r,u)}},n=setInterval(t,3e3);return t(),()=>clearInterval(n)},[f]),i.useEffect(()=>(f&&U&&U(),()=>{Z&&Z()}),[f,U,Z]),i.useEffect(()=>{if(!ee||k||!f){oe(!1);return}try{const t=window.AudioContext||window.webkitAudioContext,n=new t,c=n.createAnalyser();c.fftSize=2048,c.smoothingTimeConstant=.8;const r=n.createMediaStreamSource(ee);r.connect(c);const l=new Uint8Array(c.frequencyBinCount);let u=0;const b=setInterval(()=>{c.getByteFrequencyData(l);const L=l.slice(80,160),I=Math.max(...L),B=L.reduce((j,le)=>j+le,0)/L.length,K=l.slice(10,40),se=K.reduce((j,le)=>j+le,0)/K.length;I>180&&B>100&&B>se*1.5?(u++,u>3&&oe(!0)):(u=0,I<120&&oe(!1))},1e3);return()=>{clearInterval(b),r.disconnect(),n.close()}}catch(t){console.warn("[Echo] Detection failed:",t)}},[ee,k,f]),i.useEffect(()=>{if(!f)return;const t=navigator.connection||navigator.mozConnection||navigator.webkitConnection,n=()=>{if(!t){Ce("good"),Ie("unknown");return}const r=t.effectiveType||"unknown";Ie(r);const l=t.downlink||10,u=t.rtt||50;let o="good";r==="4g"&&l>=5&&u<100?o="excellent":r==="slow-2g"||l<1||u>300?o="poor":r==="2g"||r==="3g"||l<3||u>150?o="good":o="excellent",Ce(o),ze&&Y&&(o==="poor"&&$!=="720p"?(console.log("ðŸ“¶ [Network] Poor connection detected, downgrading to 720p"),Y("720p")):o==="excellent"&&$==="720p"&&(console.log("ðŸ“¶ [Network] Excellent connection, upgrading to 1080p"),Y("1080p")))};n(),t&&t.addEventListener("change",n);const c=setInterval(n,1e4);return()=>{clearInterval(c),t&&t.removeEventListener("change",n)}},[f,ze,$,Y]),i.useEffect(()=>{if(!Ae||!f)return;const n=setInterval(()=>{const c=document.querySelectorAll("audio[data-username]"),r={},l={...Me};c.forEach(u=>{const o=u.getAttribute("data-username");if(o)try{const b=new(window.AudioContext||window.webkitAudioContext),L=b.createMediaElementSource(u),I=b.createAnalyser();I.fftSize=256,L.connect(I),I.connect(b.destination);const B=new Uint8Array(I.frequencyBinCount);I.getByteFrequencyData(B);const K=B.reduce((se,j)=>se+j,0)/B.length;r[o]=K,K>0&&(K<50?l[o]=Math.min(1.5,(l[o]||1)*1.05):K>120&&(l[o]=Math.max(.7,(l[o]||1)*.95))),b.close()}catch(b){console.debug("Audio analysis error (expected):",b.message)}}),Xe(r),Je(l)},2e3);return()=>clearInterval(n)},[Ae,f,Me]),i.useEffect(()=>{if(!f)return;const n=setInterval(()=>{const c={};let r=null,l=0;Object.entries(Re).forEach(([u,o])=>{o>30?(c[u]=!0,o>l&&(l=o,r=u)):c[u]=!1}),Ze(c),r&&l>50?$e(r):l===0&&$e(null)},100);return()=>clearInterval(n)},[f,Re]),i.useEffect(()=>{const t=document.createElement("style");return t.id="voice-fullscreen-styles",t.textContent=`
            /* Tam Ekran Video Stilleri */
            div:fullscreen video,
            div:-webkit-full-screen video,
            div:-moz-full-screen video,
            div:-ms-fullscreen video {
                width: 100% !important;
                height: 100% !important;
                object-fit: contain !important;
                background: #000 !important;
            }

            /* Tam Ekran Container */
            div:fullscreen,
            div:-webkit-full-screen,
            div:-moz-full-screen,
            div:-ms-fullscreen {
                background: #000 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }

            /* Tam Ekran Kontrolleri */
            div:fullscreen .hover-actions,
            div:-webkit-full-screen .hover-actions,
            div:-moz-full-screen .hover-actions,
            div:-ms-fullscreen .hover-actions {
                opacity: 1 !important;
                z-index: 9999 !important;
            }

            /* ðŸ”¥ YENÄ°: Badge AnimasyonlarÄ± */
            @keyframes badgePulse {
                0%, 100% {
                    transform: scale(1);
                    box-shadow: 0 4px 16px rgba(88, 101, 242, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.2);
                }
                50% {
                    transform: scale(1.05);
                    box-shadow: 0 6px 20px rgba(88, 101, 242, 0.9), 0 0 0 3px rgba(255, 255, 255, 0.4);
                }
            }

            @keyframes pulse {
                0%, 100% {
                    opacity: 1;
                    transform: scale(1);
                }
                50% {
                    opacity: 0.7;
                    transform: scale(1.2);
                }
            }

            /* ðŸ”¥ YENÄ°: Talking Indicator Wave Animations */
            @keyframes wave1 {
                0%, 100% { height: 12px; }
                50% { height: 20px; }
            }
            @keyframes wave2 {
                0%, 100% { height: 16px; }
                50% { height: 24px; }
            }
            @keyframes wave3 {
                0%, 100% { height: 12px; }
                50% { height: 20px; }
            }

            /* ðŸ”¥ YENÄ°: Avatar Talking Pulse Animation */
            @keyframes talkingPulse {
                0%, 100% {
                    box-shadow: 0 0 0 0 rgba(67, 181, 129, 0.7);
                    transform: scale(1);
                }
                50% {
                    box-shadow: 0 0 0 15px rgba(67, 181, 129, 0);
                    transform: scale(1.02);
                }
            }
        `,document.head.appendChild(t),()=>{const n=document.getElementById("voice-fullscreen-styles");n&&n.remove()}},[]);const{isMobile:Le}=ut(),Pe=R?"fullscreen":m?"minimized":Le?"mobile":"grid";i.useEffect(()=>{f||s()},[f,s]);const et=t=>Le?{cols:1,rows:t}:t<=1?{cols:1,rows:1}:t<=4?{cols:2,rows:2}:t<=6?{cols:3,rows:2}:t<=9?{cols:3,rows:3}:{cols:4,rows:Math.ceil(t/4)},tt=e.useMemo(()=>{let t=A.length;return A.forEach(n=>{const c=n.username;T[`${c}_screen`]&&n.isScreenSharing&&t++}),t},[A,T]),Q=A.length,{cols:We,rows:_e}=et(tt),at=i.useCallback(async t=>{window.location.hash=`#/dm/${t.username}`},[]),nt=i.useCallback(async t=>{try{(await fetch("/api/friends/send_request/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({username:t.username})})).ok?D.success(`âœ… ${t.username} kullanÄ±cÄ±sÄ±na arkadaÅŸlÄ±k isteÄŸi gÃ¶nderildi!`):D.error("âŒ ArkadaÅŸlÄ±k isteÄŸi gÃ¶nderilemedi")}catch(n){console.error("Friend request error:",n),D.error("âŒ Bir hata oluÅŸtu")}},[]),rt=i.useCallback(async t=>{try{(await fetch("/api/users/block/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({username:t.username})})).ok?D.success(`âœ… ${t.username} engellendi!`):D.error("âŒ Engelleme iÅŸlemi baÅŸarÄ±sÄ±z")}catch(n){console.error("Block error:",n),D.error("âŒ Bir hata oluÅŸtu")}},[]),ot=i.useCallback(t=>{F(null),window.openUserProfile?window.openUserProfile(t.username):window.location.hash=`#/profile/${t.username}`},[]),it=i.useCallback(t=>{Ee(n=>({...n,[t.username]:{...n[t.username],isMuted:!n[t.username]?.isMuted}}))},[]),st=i.useCallback((t,n)=>{const c=Math.max(0,Math.min(150,n));Ee(l=>({...l,[t.username]:{...l[t.username],volume:c}})),document.querySelectorAll(`audio[data-username="${t.username}"]`).forEach(l=>{l.volume=c/100,console.log(`ðŸ”Š [Volume] Set ${t.username} to ${c}%`)})},[]),lt=()=>{const t=[];return d&&t.push(e.createElement("span",{key:"rec",style:{background:"rgba(237,66,69,0.2)",color:"#ed4245",border:"1px solid rgba(237,66,69,0.4)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",display:"inline-flex",alignItems:"center",gap:"6px"}},"âºï¸ KayÄ±tta (",Math.floor(w/60).toString().padStart(2,"0"),":",Math.floor(w%60).toString().padStart(2,"0"),")")),h&&t.push(e.createElement("span",{key:"ss",style:{background:"rgba(88,101,242,0.15)",color:"#8893ff",border:"1px solid rgba(88,101,242,0.35)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",display:"inline-flex",alignItems:"center",gap:"6px"}},"ðŸ–¥ï¸ PaylaÅŸÄ±lÄ±yor ",$," â€¢ ",V,"fps",Ve?" â€¢ ðŸ”Š Sistem":"")),N&&t.push(e.createElement("span",{key:"ptt",style:{background:"rgba(250,166,26,0.18)",color:"#faa61a",border:"1px solid rgba(250,166,26,0.35)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",display:"inline-flex",alignItems:"center",gap:"6px"}},"ðŸŽ™ï¸ PTT (",Ke,") ",C?"â€¢ Aktif":"")),Be&&t.push(e.createElement("span",{key:"reconnect",style:{background:"rgba(255,255,255,0.08)",color:"#fff",border:"1px solid rgba(255,255,255,0.2)",padding:"4px 8px",borderRadius:"10px",fontSize:"12px",display:"inline-flex",alignItems:"center",gap:"6px"}},"ðŸ”„ Yeniden baÄŸlanÄ±yor")),t.length?e.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"}},t):null},ie=t=>t.streamType==="screen"?e.createElement("div",{style:{position:"absolute",top:"12px",left:"12px",background:"linear-gradient(135deg, #5865f2 0%, #7289da 100%)",color:"#fff",padding:"8px 16px",borderRadius:"12px",fontSize:"13px",fontWeight:700,boxShadow:"0 4px 16px rgba(88, 101, 242, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.2)",zIndex:100,display:"flex",alignItems:"center",gap:"8px",animation:"badgePulse 2s infinite"}},"ðŸ–¥ï¸ ",e.createElement("span",{style:{textShadow:"0 2px 4px rgba(0, 0, 0, 0.5)"}},t.username," - Ekran PaylaÅŸÄ±yor")):t.streamType==="camera"?e.createElement("div",{style:{position:"absolute",top:"12px",left:"12px",background:"rgba(67, 181, 129, 0.85)",color:"#fff",padding:"6px 12px",borderRadius:"8px",fontSize:"11px",fontWeight:600,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",zIndex:100,display:"flex",alignItems:"center",gap:"6px"}},"ðŸ“¹ Kamera"):null;if(Pe==="minimized")return e.createElement(ct,{nodeRef:Fe,handle:".mini-drag-handle",defaultPosition:{x:20,y:window.innerHeight-180},bounds:"parent"},e.createElement("div",{ref:Fe,style:{position:"fixed",zIndex:9999,background:"linear-gradient(135deg, #1e2124 0%, #2c2f33 50%, #23272a 100%)",borderRadius:"16px",padding:"16px",boxShadow:"0 12px 48px rgba(0, 0, 0, 0.7), 0 0 0 1px rgba(88, 101, 242, 0.15)",border:"1px solid rgba(88, 101, 242, 0.1)",minWidth:"320px",maxWidth:"400px",backdropFilter:"blur(12px)",animation:"slideIn 0.3s ease"}},e.createElement("div",{className:"mini-drag-handle",style:{display:"flex",alignItems:"center",gap:"12px",cursor:"move",marginBottom:"12px",paddingBottom:"12px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"}},e.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#43b581",boxShadow:"0 0 12px #43b581",animation:"pulse 2s infinite"}}),e.createElement("span",{style:{color:"#fff",fontSize:"14px",fontWeight:600,flex:1}},"ðŸŽ¤ ",a),e.createElement("div",{style:{background:"rgba(67, 181, 129, 0.2)",borderRadius:"12px",padding:"4px 10px",fontSize:"11px",color:"#43b581",fontWeight:600}},"ðŸ‘¥ ",Q),e.createElement("button",{onClick:g,style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",padding:"6px 10px",color:"#fff",cursor:"pointer",fontSize:"12px",transition:"all 0.2s"},onMouseEnter:t=>t.target.style.background="rgba(255, 255, 255, 0.2)",onMouseLeave:t=>t.target.style.background="rgba(255, 255, 255, 0.1)"},"â¬†ï¸ AÃ§")),e.createElement("div",{style:{marginBottom:"12px",maxHeight:"120px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"6px"}},A.slice(0,3).map(t=>e.createElement("div",{key:t.username,onContextMenu:n=>{n.preventDefault(),t.username!==y?.username&&F({user:t,position:{x:n.clientX,y:n.clientY}})},onClick:n=>{t.username!==y?.username&&F({user:t,position:{x:n.clientX,y:n.clientY}})},style:{display:"flex",alignItems:"center",gap:"10px",padding:"8px",background:t.isTalking?"rgba(67, 181, 129, 0.15)":"rgba(255, 255, 255, 0.05)",borderRadius:"8px",border:t.isTalking?"1px solid rgba(67, 181, 129, 0.4)":"1px solid transparent",transition:"all 0.2s",cursor:t.username!==y?.username?"pointer":"default"},onMouseEnter:n=>{t.username!==y?.username&&(n.currentTarget.style.background="rgba(67, 181, 129, 0.2)")},onMouseLeave:n=>{n.currentTarget.style.background=t.isTalking?"rgba(67, 181, 129, 0.15)":"rgba(255, 255, 255, 0.05)"}},e.createElement("img",{src:q(t.username),alt:t.username,onError:n=>{n.target.onerror=null,n.target.src=J(t.username,64)},style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover",border:t.isTalking?"2px solid #43b581":"2px solid rgba(255, 255, 255, 0.15)",boxShadow:t.isTalking?"0 0 10px rgba(67, 181, 129, 0.5)":"none",transition:"all 0.3s ease"}}),e.createElement("div",{style:{flex:1}},e.createElement("div",{style:{color:"#fff",fontSize:"13px",fontWeight:600}},t.username," ",t.isLocal&&"(Siz)"),e.createElement("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"11px"}},t.isMuted?"ðŸ”‡ Sessiz":t.isTalking?"ðŸ”Š KonuÅŸuyor":"ðŸŽ¤ Aktif")),t.isCameraOn&&e.createElement("span",{style:{fontSize:"14px"}},"ðŸ“¹"),t.isScreenSharing&&e.createElement("span",{style:{fontSize:"14px"}},"ðŸ–¥ï¸"))),Q>3&&e.createElement("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.5)",fontSize:"11px",padding:"6px"}},"+",Q-3," daha...")),e.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"}},e.createElement(X,{icon:k?"ðŸ”‡":"ðŸŽ¤",active:!k,onClick:ue,title:k?"Mikrofonu AÃ§":"Mikrofonu Kapat"}),e.createElement(X,{icon:_?"ðŸ“¹":"ðŸ“·",active:_,onClick:me,title:_?"KamerayÄ± Kapat":"KamerayÄ± AÃ§"}),e.createElement(X,{icon:"ðŸ–¥ï¸",active:h,onClick:ge,title:h?"PaylaÅŸÄ±mÄ± Durdur":"Ekran PaylaÅŸ"}),e.createElement(X,{icon:"âŒ",danger:!0,onClick:fe,title:"AyrÄ±l"}))));if(Pe==="fullscreen"&&R){const t=R.streamType==="screen"?`${R.username}_screen`:`${R.username}_camera`,n=T[t]||T[R.username];return e.createElement("div",{style:{width:"100%",height:"100%",background:"#000",display:"flex",flexDirection:"column",overflow:"hidden"}},e.createElement("div",{style:{background:"rgba(0, 0, 0, 0.8)",padding:"16px 24px",display:"flex",alignItems:"center",gap:"16px"}},e.createElement("button",{onClick:()=>G(null),style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",padding:"8px 16px",color:"#fff",cursor:"pointer",fontSize:"14px"}},"â¬…ï¸ Geri"),e.createElement("h3",{style:{color:"#fff",margin:0,flex:1}},"ðŸ‘¤ ",R.username," ",R.streamType==="screen"&&"ðŸ–¥ï¸ Ekran PaylaÅŸÄ±mÄ±")),e.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",background:"#1a1a1a"}},e.createElement(yt,{user:R,stream:n,fullscreen:!0})),e.createElement(ht,{isMuted:k,isDeafened:E,isCameraOn:_,isScreenSharing:h,isSpatialAudio:S,isRecording:d,recordingDuration:w,onToggleMute:ue,onToggleDeafened:De,onToggleCamera:me,onToggleScreenShare:ge,onToggleSpatialAudio:qe,onStartRecording:je,onStopRecording:Oe,onLeave:fe}))}return e.createElement("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #1e1e1e 0%, #2c2c2c 100%)",display:"flex",flexDirection:"column",overflow:"hidden"}},e.createElement("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"16px 24px",display:"flex",alignItems:"center",gap:"16px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"}},e.createElement("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#43b581",boxShadow:"0 0 12px #43b581",animation:"pulse 2s infinite"}}),e.createElement("h2",{style:{color:"#fff",margin:0,fontSize:"17px",fontWeight:700,flex:1,display:"flex",alignItems:"center",gap:"12px",letterSpacing:"0.3px"}},"ðŸŽ™ï¸ ",a,lt(),we==="poor"&&e.createElement("div",{style:{background:"rgba(240, 71, 71, 0.2)",border:"1px solid #f04747",borderRadius:"6px",padding:"4px 8px",fontSize:"12px",color:"#f04747",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"}},"âš ï¸ ZayÄ±f BaÄŸlantÄ±"),we==="excellent"&&Te!=="unknown"&&e.createElement("div",{style:{background:"rgba(67, 181, 129, 0.2)",border:"1px solid #43b581",borderRadius:"6px",padding:"4px 8px",fontSize:"12px",color:"#43b581",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"}},"ðŸ“¶ ",Te.toUpperCase())),e.createElement("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"}},"ðŸ‘¥ ",Q," kiÅŸi"),e.createElement("button",{onClick:g,style:{background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",padding:"8px 16px",color:"#fff",cursor:"pointer",fontSize:"13px"}},"â¬‡ï¸ KÃ¼Ã§Ã¼lt")),e.createElement("div",{style:{flex:1,padding:"20px",display:"flex",flexDirection:"column",overflow:"auto",position:"relative",minHeight:0}},(()=>{const t=A.filter(c=>c.isScreenSharing&&T[`${c.username}_screen`]);if(t.length>0){const c=[];t.forEach(o=>{const b=T[`${o.username}_screen`];b&&c.push({key:`${o.username}_screen`,username:o.username,type:"screen",component:e.createElement(ce,{key:`${o.username}_screen`,user:{...o,streamType:"screen"},stream:b,isActive:!1,isPinned:!1,onExpand:()=>G({...o,streamType:"screen"}),onPin:()=>{},onContextMenu:L=>F(L),badge:ie({...o,streamType:"screen"}),connectionQuality:re[o.username],getUserAvatar:q})})}),A.forEach(o=>{const b=T[`${o.username}_camera`]||T[o.username];(b&&b.active||o.isLocal)&&c.push({key:`${o.username}_camera`,username:o.username,type:"camera",component:e.createElement(ce,{key:`${o.username}_camera`,user:{...o,streamType:"camera",volume:be[o.username]||100,onVolumeChange:I=>he(o.username,I),isTalking:Ue[o.username]||!1},stream:b,isActive:z===o.username,isPinned:H===o.username,onExpand:()=>G({...o,streamType:"camera"}),onPin:()=>ve(H===o.username?null:o.username),onContextMenu:I=>F(I),badge:ie(o),connectionQuality:re[o.username],getUserAvatar:q})})});const r=c.length;let l,u;return r<=2?(l=r,u=1):r<=4?(l=2,u=2):r<=6?(l=3,u=2):(l=3,u=Math.ceil(r/3)),e.createElement("div",{style:{width:"100%",height:"100%",display:"grid",gridTemplateColumns:`repeat(${l}, 1fr)`,gridTemplateRows:`repeat(${u}, 1fr)`,gap:"16px",padding:"0",position:"relative"}},c.map((o,b)=>e.createElement("div",{key:o.key,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",zIndex:1,isolation:"isolate"}},o.component)))}else return A.some(r=>{const l=T[`${r.username}_camera`]||T[r.username];return l&&l.active})?e.createElement("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${We}, 1fr)`,gridTemplateRows:`repeat(${_e}, 1fr)`,gap:"16px",minHeight:"400px",height:"100%"}},A.map(r=>{const l=T[`${r.username}_camera`]||(r.isLocal?null:T[r.username]);return e.createElement(ce,{key:`${r.username}_camera`,user:{...r,streamType:"camera",volume:be[r.username]||100,onVolumeChange:u=>he(r.username,u)},stream:l,isActive:z===r.username,isPinned:H===r.username,onExpand:()=>G({...r,streamType:"camera"}),onPin:()=>ve(H===r.username?null:r.username),onContextMenu:u=>F(u),badge:ie({...r,streamType:"camera"}),connectionQuality:re[r.username],getUserAvatar:q})})):e.createElement("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${Math.min(We,3)}, 1fr)`,gridTemplateRows:`repeat(${_e}, 1fr)`,gap:"24px",padding:"40px",alignItems:"center",justifyContent:"center"}},A.map(r=>e.createElement("div",{key:r.username,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"32px",borderRadius:"16px",background:z===r.username?"linear-gradient(135deg, rgba(88, 101, 242, 0.25) 0%, rgba(114, 137, 218, 0.15) 100%)":"rgba(47, 49, 54, 0.5)",border:z===r.username?"2px solid rgba(88, 101, 242, 0.9)":"2px solid rgba(79, 84, 92, 0.3)",boxShadow:z===r.username?"0 8px 32px rgba(88, 101, 242, 0.4), 0 0 20px rgba(88, 101, 242, 0.3)":"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",position:"relative",transform:z===r.username?"scale(1.05)":"scale(1)",animation:"slideIn 0.4s ease forwards"},onClick:()=>F({user:r,position:{x:window.innerWidth/2,y:window.innerHeight/2}})},e.createElement("div",{style:{width:"140px",height:"140px",borderRadius:"50%",overflow:"hidden",border:`5px solid ${z===r.username?"#5865f2":"#40444b"}`,boxShadow:z===r.username?"0 8px 24px rgba(88, 101, 242, 0.6), inset 0 0 20px rgba(88, 101, 242, 0.2)":"0 4px 12px rgba(0, 0, 0, 0.4)",animation:z===r.username?"pulse 1.5s infinite":"none",position:"relative"}},e.createElement("img",{src:q(r.username),alt:r.username,onError:l=>{l.target.onerror=null,l.target.src=J(r.username,256)},style:{width:"100%",height:"100%",objectFit:"cover",filter:z===r.username?"brightness(1.1)":"brightness(0.95)"}})),e.createElement("div",{style:{fontSize:"20px",fontWeight:"700",color:z===r.username?"#dee0fc":"#fff",textAlign:"center",textShadow:"0 2px 8px rgba(0, 0, 0, 0.7)",letterSpacing:"0.3px"}},r.username),e.createElement("div",{style:{display:"flex",gap:"12px",fontSize:"22px",marginTop:"4px"}},r.isMuted&&e.createElement("span",{title:"Mikrofon KapalÄ±",style:{filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5))"}},"ðŸ”‡"),r.isDeafened&&e.createElement("span",{title:"KulaklÄ±k KapalÄ±",style:{filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5))"}},"ðŸ”ˆ")))))})()),Ge&&He&&e.createElement("div",{style:{position:"absolute",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg, rgba(250, 166, 26, 0.95) 0%, rgba(237, 66, 69, 0.95) 100%)",color:"#fff",padding:"16px 24px",borderRadius:"12px",zIndex:1e3,display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 8px 32px rgba(250, 166, 26, 0.6)",animation:"pulse 2s infinite",maxWidth:"90%"}},e.createElement("div",{style:{fontSize:"24px",animation:"pulse 1.5s infinite"}},"âš ï¸"),e.createElement("div",{style:{flex:1}},e.createElement("div",{style:{fontWeight:"bold",marginBottom:"4px",fontSize:"15px"}},"Echo Tespit Edildi!"),e.createElement("div",{style:{fontSize:"13px",opacity:.9}},"KulaklÄ±k kullanmanÄ±z Ã¶nerilir. HoparlÃ¶r kullanÄ±mÄ± echo'ya neden olur.")),e.createElement("button",{onClick:()=>Qe(!1),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"6px",color:"#fff",padding:"6px 12px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"}},"Kapat")),Ne&&e.createElement(gt,{onClose:()=>ke(!1),channelId:a}),ne&&e.createElement(mt,{user:ne.user,position:ne.position,onClose:()=>F(null),onSendMessage:at,onAddFriend:nt,onBlock:rt,onViewProfile:ot,onMuteUser:it,onAdjustVolume:st,currentUser:y,isInVoiceChat:!0}),e.createElement("style",null,`
                @keyframes pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.5; }
                }
                @keyframes talkingPulse {
                    0%, 100% { 
                        box-shadow: 0 0 0 0 rgba(67, 181, 129, 0.4);
                        transform: scale(1);
                    }
                    50% { 
                        box-shadow: 0 0 0 8px rgba(67, 181, 129, 0);
                        transform: scale(1.03);
                    }
                }
                @keyframes wave1 {
                    0%, 100% { height: 8px; }
                    50% { height: 16px; }
                }
                @keyframes wave2 {
                    0%, 100% { height: 12px; }
                    50% { height: 20px; }
                }
                @keyframes wave3 {
                    0%, 100% { height: 8px; }
                    50% { height: 14px; }
                }
                @keyframes badgePulse {
                    0%, 100% { 
                        box-shadow: 0 4px 16px rgba(88, 101, 242, 0.6), 0 0 0 2px rgba(255, 255, 255, 0.2);
                    }
                    50% { 
                        box-shadow: 0 4px 24px rgba(88, 101, 242, 0.8), 0 0 0 3px rgba(255, 255, 255, 0.3);
                    }
                }
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(10px) scale(0.95); }
                    to { opacity: 1; transform: translateY(0) scale(1); }
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes connectionGlow {
                    0%, 100% { box-shadow: 0 0 12px rgba(67, 181, 129, 0.3); }
                    50% { box-shadow: 0 0 20px rgba(67, 181, 129, 0.6); }
                }
                @keyframes screenShareGlow {
                    0%, 100% { border-color: rgba(88, 101, 242, 0.5); }
                    50% { border-color: rgba(88, 101, 242, 0.9); }
                }
                
                /* Smooth grid transitions */
                .voice-grid-item {
                    animation: slideIn 0.3s ease forwards;
                }
                
                /* Video card hover effects */
                .voice-video-card:hover {
                    transform: scale(1.01);
                    z-index: 10;
                }
                
                /* Active speaker highlight */
                .voice-active-speaker {
                    animation: connectionGlow 2s ease-in-out infinite;
                }
                
                /* Screen share border animation */
                .voice-screen-share {
                    animation: screenShareGlow 2s ease-in-out infinite;
                }
            `))},ce=e.memo(({user:a,stream:s,isActive:m,isPinned:g,onExpand:x,onPin:v,onContextMenu:p,compact:f=!1,badge:k,connectionQuality:E,getUserAvatar:W})=>{const h=i.useRef(null),S=i.useRef(null),[M,O]=i.useState(!1);i.useEffect(()=>{h.current&&s&&(h.current.srcObject=s)},[s]),i.useEffect(()=>{if(S.current&&s&&!a.isLocal){const d=s.getAudioTracks();if(d.length>0){S.current.srcObject=new MediaStream(d);const w=(a.volume||100)/100;S.current.volume=Math.min(2,Math.max(0,w))}}},[s,a.isLocal,a.username,a.volume]);const $=i.useCallback(d=>{d.preventDefault(),p&&a.username!==a.isLocal&&p({user:a,position:{x:d.clientX,y:d.clientY}})},[p,a]),V=i.useCallback(d=>{!a.isLocal&&p&&p({user:a,position:{x:d.clientX,y:d.clientY}})},[a,p]);return e.createElement("div",{onContextMenu:$,onClick:V,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),style:{background:"linear-gradient(135deg, #2c2f33 0%, #23272a 100%)",borderRadius:"16px",overflow:"hidden",position:"relative",border:m?"3px solid #43b581":g?"3px solid #5865f2":"1px solid rgba(255, 255, 255, 0.1)",boxShadow:m?"0 0 20px rgba(67, 181, 129, 0.5)":"0 4px 16px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",cursor:a.isLocal?"default":"pointer",width:"100%",height:"100%",display:"flex",flexDirection:"column"}},!a.isLocal&&s&&e.createElement("audio",{ref:S,autoPlay:!0,playsInline:!0,"data-username":a.username,style:{display:"none"}}),e.createElement("div",{style:{width:"100%",height:"100%",background:"#1a1a1a",display:"flex",alignItems:"center",justifyContent:"center"}},k,s&&s.active&&s.getVideoTracks().length>0?e.createElement("video",{ref:h,autoPlay:!0,playsInline:!0,muted:a.isLocal===!0,style:{width:"100%",height:"100%",objectFit:a.streamType==="screen"?"contain":"cover",backgroundColor:a.streamType==="screen"?"#000":"#1a1a1a"}}):e.createElement("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",background:"linear-gradient(135deg, #36393f 0%, #2f3136 50%, #202225 100%)",position:"relative"}},e.createElement("div",{style:{position:"relative",padding:"8px",borderRadius:"50%",background:a.isTalking?"linear-gradient(135deg, #43b581, #3ca374)":"transparent",boxShadow:a.isTalking?"0 0 20px rgba(67, 181, 129, 0.6), 0 0 40px rgba(67, 181, 129, 0.3)":"none",transition:"all 0.3s ease",animation:a.isTalking?"talkingPulse 1s ease-in-out infinite":"none"}},e.createElement("img",{src:W(a.username),alt:a.username,onError:d=>{d.target.onerror=null,d.target.src=J(a.username,256)},style:{width:"140px",height:"140px",borderRadius:"50%",objectFit:"cover",border:"5px solid #40444b",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",display:"block"},loading:"lazy"})),e.createElement("div",{style:{color:"#fff",fontSize:"18px",fontWeight:700,textShadow:"0 2px 8px rgba(0, 0, 0, 0.7)",letterSpacing:"0.5px"}},a.username),e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 14px",background:a.isMuted?"rgba(240, 71, 71, 0.2)":"rgba(67, 181, 129, 0.2)",borderRadius:"16px",border:a.isMuted?"1px solid rgba(240, 71, 71, 0.4)":"1px solid rgba(67, 181, 129, 0.4)"}},e.createElement("span",{style:{fontSize:"16px"}},a.isMuted?"ðŸ”‡":"ðŸŽ¤"),e.createElement("span",{style:{color:a.isMuted?"#f04747":"#43b581",fontSize:"13px",fontWeight:600}},a.isMuted?"Sessiz":a.isTalking?"KonuÅŸuyor...":"Dinliyor")))),e.createElement("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent)",padding:"12px 16px",display:"flex",alignItems:"center",gap:"8px",zIndex:10}},a.isTalking&&e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"3px"}},e.createElement("div",{style:{width:"3px",height:"12px",background:"#43b581",borderRadius:"2px",animation:"wave1 0.6s ease-in-out infinite"}}),e.createElement("div",{style:{width:"3px",height:"16px",background:"#43b581",borderRadius:"2px",animation:"wave2 0.6s ease-in-out infinite 0.1s"}}),e.createElement("div",{style:{width:"3px",height:"12px",background:"#43b581",borderRadius:"2px",animation:"wave3 0.6s ease-in-out infinite 0.2s"}})),!a.isLocal&&E&&e.createElement("div",{title:`RTT: ${E.rtt}ms, Packet Loss: ${E.packetLoss}%`,style:{fontSize:"16px",filter:E.quality==="excellent"?"none":E.quality==="good"?"hue-rotate(30deg)":"hue-rotate(90deg) saturate(2)",opacity:.9}},E.quality==="excellent"||E.quality==="good"?"ðŸ“¶":"âš ï¸"),e.createElement("span",{onClick:d=>{d.stopPropagation(),a.isLocal||(window.openUserProfile?window.openUserProfile(a.username):window.location.hash=`#/profile/${a.username}`)},style:{color:"#fff",fontSize:"14px",fontWeight:600,flex:1,cursor:a.isLocal?"default":"pointer",textDecoration:a.isLocal?"none":"underline",textDecorationColor:"rgba(255, 255, 255, 0.3)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},a.username," ",a.streamType==="screen"&&"ðŸ–¥ï¸ Ekran"),e.createElement("div",{style:{display:"flex",gap:"6px"}},a.isMuted&&e.createElement("span",{style:{fontSize:"16px"}},"ðŸ”‡"),a.streamType==="camera"&&a.isCameraOn&&e.createElement("span",{style:{fontSize:"16px"}},"ðŸ“¹"),m&&e.createElement("span",{style:{fontSize:"16px"}},"ðŸ”Š"))),e.createElement("div",{style:{position:"absolute",top:"12px",right:"12px",display:"flex",gap:"6px",opacity:M?1:0,transition:"opacity 0.25s ease, transform 0.25s ease",transform:M?"translateY(0)":"translateY(-6px)",zIndex:20,pointerEvents:M?"auto":"none"}},e.createElement(de,{icon:g?"ðŸ“Œ":"ðŸ“",onClick:d=>{d.stopPropagation(),v()},title:g?"Sabitlemeyi KaldÄ±r":"Sabitle",bgColor:"rgba(88, 101, 242, 0.9)"}),e.createElement(de,{icon:"â›¶",onClick:d=>{d.stopPropagation(),x()},title:"Panelde GeniÅŸlet",bgColor:"rgba(67, 181, 129, 0.9)"}),e.createElement(de,{icon:"ðŸ–¥ï¸",onClick:d=>{d.stopPropagation();const w=h.current;if(w){const C=w.parentElement?.parentElement||w;C.requestFullscreen?C.requestFullscreen():C.webkitRequestFullscreen?C.webkitRequestFullscreen():C.mozRequestFullScreen?C.mozRequestFullScreen():C.msRequestFullscreen&&C.msRequestFullscreen()}},title:"Tam Ekran Ä°zle",bgColor:"rgba(250, 166, 26, 0.9)"}),!a.isLocal&&M&&e.createElement("div",{style:{background:"rgba(0, 0, 0, 0.9)",borderRadius:"10px",padding:"6px 10px",display:"flex",alignItems:"center",gap:"6px",minWidth:"100px",backdropFilter:"blur(8px)",border:"1px solid rgba(255, 255, 255, 0.1)",animation:"fadeIn 0.2s ease"}},e.createElement("span",{style:{fontSize:"12px"}},(a.volume||100)===0?"ðŸ”‡":(a.volume||100)>100?"ðŸ”Š":"ðŸ”‰"),e.createElement("input",{type:"range",min:"0",max:"200",value:a.volume||100,onChange:d=>{d.stopPropagation(),a.onVolumeChange&&a.onVolumeChange(parseInt(d.target.value))},style:{flex:1,cursor:"pointer",height:"4px"},onClick:d=>d.stopPropagation()}),e.createElement("span",{style:{fontSize:"10px",color:"#fff",minWidth:"30px",fontWeight:600}},a.volume||100,"%"))),e.createElement("style",null,`
                div:hover .hover-actions {
                    opacity: 1;
                }
            `))},(a,s)=>a.user.username===s.user.username&&a.stream===s.stream&&a.user.isCameraOn===s.user.isCameraOn&&a.user.isScreenSharing===s.user.isScreenSharing&&a.user.isMuted===s.user.isMuted&&a.isActive===s.isActive&&a.isPinned===s.isPinned&&a.compact===s.compact),ht=({isMuted:a,isDeafened:s,isCameraOn:m,isScreenSharing:g,isSpatialAudio:x,isRecording:v,recordingDuration:p,onToggleMute:f,onToggleDeafened:k,onToggleCamera:E,onToggleScreenShare:W,onToggleSpatialAudio:h,onStartRecording:S,onStopRecording:M,onDownloadRecording:O,onLeave:$,onSettings:V})=>{const d=w=>{const N=Math.floor(w/60).toString().padStart(2,"0"),C=Math.floor(w%60).toString().padStart(2,"0");return`${N}:${C}`};return e.createElement("div",{style:{background:"linear-gradient(180deg, rgba(32, 34, 37, 0.98) 0%, rgba(24, 25, 28, 1) 100%)",padding:"12px 20px",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px",borderTop:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.4)",flexShrink:0,minHeight:"70px",position:"relative",zIndex:100}},e.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},e.createElement(P,{icon:a?"ðŸ”‡":"ðŸŽ¤",active:!a,danger:a,onClick:f,title:a?"Mikrofonu AÃ§":"Mikrofonu Kapat"}),e.createElement(P,{icon:s?"ðŸ”ˆ":"ðŸŽ§",active:!s,danger:s,onClick:k,title:s?"KulaklÄ±ÄŸÄ± AÃ§":"KulaklÄ±ÄŸÄ± Kapat"})),e.createElement("div",{style:{display:"flex",gap:"8px",padding:"0 16px",borderLeft:"1px solid rgba(255, 255, 255, 0.1)",borderRight:"1px solid rgba(255, 255, 255, 0.1)"}},e.createElement(P,{icon:m?"ðŸ“¹":"ðŸ“·",active:m,onClick:E,title:m?"KamerayÄ± Kapat":"KamerayÄ± AÃ§"}),e.createElement(P,{icon:"ðŸ–¥ï¸",active:g,special:g,onClick:W,title:g?"PaylaÅŸÄ±mÄ± Durdur":"Ekran PaylaÅŸ"}),h&&e.createElement(P,{icon:"ðŸ”Š",active:x,onClick:h,title:x?"3D Ses (AÃ§Ä±k)":"3D Ses (KapalÄ±)",small:!0})),e.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},S&&M&&e.createElement(P,{icon:v?"â¹ï¸":"âºï¸",active:v,danger:v,onClick:v?M:S,title:v?`KaydÄ± Durdur (${d(p)})`:"KayÄ±t BaÅŸlat",label:v?d(p):null}),V&&e.createElement(P,{icon:"âš™ï¸",onClick:V,title:"Ayarlar",subtle:!0})),e.createElement(P,{icon:"ðŸ“ž",danger:!0,onClick:$,title:"AyrÄ±l",isLeave:!0}))},P=({icon:a,active:s,danger:m,special:g,subtle:x,small:v,isLeave:p,onClick:f,title:k,label:E})=>{const W=()=>p?"linear-gradient(135deg, #ed4245 0%, #c03537 100%)":m&&s?"rgba(240, 71, 71, 0.4)":m?"rgba(240, 71, 71, 0.15)":g?"linear-gradient(135deg, #5865f2 0%, #4752c4 100%)":s?"rgba(67, 181, 129, 0.25)":x?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.1)",h=()=>p?"none":m&&s?"2px solid rgba(240, 71, 71, 0.6)":s?"2px solid rgba(67, 181, 129, 0.5)":g?"2px solid rgba(88, 101, 242, 0.5)":"2px solid transparent";return e.createElement("button",{onClick:f,title:k,style:{background:W(),border:h(),borderRadius:p?"50%":"12px",width:p?"48px":v?"40px":"48px",height:p?"48px":v?"40px":"48px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:v?"16px":"20px",color:"#fff",transition:"all 0.2s ease",boxShadow:p?"0 4px 15px rgba(237, 66, 69, 0.4)":s?"0 2px 10px rgba(67, 181, 129, 0.3)":"none",transform:"scale(1)"},onMouseEnter:S=>{S.currentTarget.style.transform="scale(1.1)",S.currentTarget.style.boxShadow=p?"0 6px 20px rgba(237, 66, 69, 0.6)":"0 4px 15px rgba(255, 255, 255, 0.2)"},onMouseLeave:S=>{S.currentTarget.style.transform="scale(1)",S.currentTarget.style.boxShadow=p?"0 4px 15px rgba(237, 66, 69, 0.4)":s?"0 2px 10px rgba(67, 181, 129, 0.3)":"none"}},e.createElement("span",null,a),E&&e.createElement("span",{style:{fontSize:"9px",marginTop:"2px",fontWeight:600}},E))},X=({icon:a,active:s,danger:m,onClick:g,title:x})=>e.createElement("button",{onClick:g,title:x,style:{background:s?"rgba(88, 101, 242, 0.8)":m?"rgba(237, 66, 69, 0.8)":"rgba(255, 255, 255, 0.15)",border:"none",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"16px",transition:"all 0.2s ease"}},a),de=({icon:a,onClick:s,title:m,bgColor:g="rgba(0, 0, 0, 0.7)"})=>e.createElement("button",{onClick:s,title:m,style:{background:g,border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"8px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"14px",color:"#fff",fontWeight:"bold",transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},onMouseEnter:x=>{x.currentTarget.style.transform="scale(1.1)",x.currentTarget.style.boxShadow="0 4px 16px rgba(255, 255, 255, 0.3)"},onMouseLeave:x=>{x.currentTarget.style.transform="scale(1)",x.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.3)"}},a),yt=({stream:a,fullscreen:s})=>{const m=i.useRef(null);return i.useEffect(()=>{m.current&&a&&(m.current.srcObject=a)},[a]),e.createElement("video",{ref:m,autoPlay:!0,playsInline:!0,muted:!1,style:{width:"100%",height:"100%",objectFit:s?"contain":"cover",background:"#000"}})},_t=e.memo(bt);export{_t as default};

import{r as o,a0 as S,bT as z,v as I,aI as A,bD as F}from"./react-core-B6hadH-M.js";import{t as l,g as T}from"./index-D_6pZib5.js";import{a as H}from"./index-D5GkNzM3.js";const P=({onClose:s,serverSlug:y,token:f,isMobile:n})=>{const[c,h]=o.useState(""),[x,R]=o.useState("ðŸ¤–"),[r,d]=o.useState([{id:1,trigger:"!hello",response:"Hello! How can I help you?",enabled:!0}]),[v,W]=o.useState({onMemberJoin:{enabled:!1,message:"Welcome {{username}} to {{server}}!"},onMemberLeave:{enabled:!1,message:"Goodbye {{username}}. We will miss you!"},onMessageDelete:{enabled:!1,action:"log"}}),[p,E]=o.useState({spamDetection:!1,profanityFilter:!1,capsLimit:70,linkBlocking:!1}),[i,u]=o.useState(!1),B=()=>{d([...r,{id:Date.now(),trigger:"",response:"",enabled:!0}])},g=(t,a,m)=>{d(r.map(b=>b.id===t?{...b,[a]:m}:b))},C=t=>{r.length>1&&d(r.filter(a=>a.id!==t))},w=async()=>{if(!c.trim()){l.error("âŒ Please enter a bot name");return}const t=r.filter(a=>a.trigger&&a.response);if(t.length===0){l.error("âŒ Please add at least one valid command");return}u(!0);try{const a={server_slug:y,name:c,avatar:x,commands:t,events:v,auto_moderation:p};await H.post(`${T()}/bots/create/`,a,{headers:{Authorization:`Bearer ${f}`}}),l.success("âœ… Bot created successfully!"),s()}catch(a){console.error("Failed to create bot:",a),l.error("âŒ Failed to create bot. Please try again.")}finally{u(!1)}},k=t=>{l.info(`ðŸ“‹ Test Output:

${t.response}`)},e={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:n?"0":"20px"},modal:{background:"linear-gradient(135deg, rgba(30, 31, 34, 0.98), rgba(35, 36, 40, 0.98))",borderRadius:n?"0":"16px",width:"100%",maxWidth:n?"100%":"900px",height:n?"100%":"auto",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(88, 101, 242, 0.3)",border:n?"none":"1px solid rgba(88, 101, 242, 0.4)"},header:{padding:n?"16px":"20px 24px",background:"linear-gradient(135deg, rgba(88, 101, 242, 0.15), rgba(114, 137, 218, 0.15))",borderBottom:"1px solid rgba(88, 101, 242, 0.3)",display:"flex",justifyContent:"space-between",alignItems:"center"},title:{fontSize:n?"20px":"24px",fontWeight:"700",color:"rgba(255, 255, 255, 0.95)",margin:0,display:"flex",alignItems:"center",gap:"10px"},content:{flex:1,overflowY:"auto",padding:n?"16px":"24px"},section:{marginBottom:"24px"},sectionTitle:{fontSize:"18px",fontWeight:"600",color:"rgba(255, 255, 255, 0.9)",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},inputGroup:{marginBottom:"16px"},label:{display:"block",fontSize:"14px",fontWeight:"500",color:"rgba(255, 255, 255, 0.8)",marginBottom:"8px"},input:{width:"100%",padding:"12px 14px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.95)",fontSize:"15px",outline:"none",boxSizing:"border-box",transition:"all 0.2s ease"},textarea:{width:"100%",minHeight:"80px",padding:"12px 14px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.95)",fontSize:"14px",outline:"none",resize:"vertical",fontFamily:"inherit",boxSizing:"border-box"},commandCard:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"12px",padding:n?"12px":"16px",marginBottom:"12px"},commandHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},commandActions:{display:"flex",gap:"8px"},iconBtn:{background:"rgba(88, 101, 242, 0.2)",border:"1px solid rgba(88, 101, 242, 0.4)",borderRadius:"6px",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"rgba(255, 255, 255, 0.9)",transition:"all 0.2s ease",fontSize:"14px"},deleteBtn:{background:"rgba(218, 55, 60, 0.2)",border:"1px solid rgba(218, 55, 60, 0.4)",color:"#da373c"},addBtn:{width:"100%",padding:"12px",background:"rgba(88, 101, 242, 0.2)",border:"1px solid rgba(88, 101, 242, 0.4)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"15px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease",minHeight:"44px"},toggle:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},switch:t=>({width:"50px",height:"28px",background:t?"linear-gradient(135deg, #43b581, #4caf50)":"rgba(255, 255, 255, 0.2)",borderRadius:"14px",position:"relative",cursor:"pointer",transition:"all 0.3s ease",border:"2px solid rgba(88, 101, 242, 0.3)"}),switchKnob:t=>({width:"22px",height:"22px",background:"white",borderRadius:"50%",position:"absolute",top:"1px",left:t?"24px":"1px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"}),footer:{padding:n?"16px":"20px 24px",borderTop:"1px solid rgba(88, 101, 242, 0.2)",display:"flex",gap:"12px",background:"rgba(0, 0, 0, 0.2)"},cancelBtn:{flex:1,padding:"14px",background:"rgba(78, 80, 88, 0.5)",border:"1px solid rgba(88, 101, 242, 0.3)",borderRadius:"8px",color:"rgba(255, 255, 255, 0.9)",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",minHeight:"44px"},saveBtn:{flex:1,padding:"14px",background:"linear-gradient(135deg, #5865f2, #7289da)",border:"none",borderRadius:"8px",color:"white",fontSize:"16px",fontWeight:"600",cursor:i?"not-allowed":"pointer",opacity:i?.6:1,transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",minHeight:"44px"}};return React.createElement("div",{style:e.overlay,onClick:s},React.createElement("div",{style:e.modal,onClick:t=>t.stopPropagation()},React.createElement("div",{style:e.header},React.createElement("h2",{style:e.title},React.createElement(S,null),"Custom Bot Builder")),React.createElement("div",{style:e.content},React.createElement("div",{style:e.section},React.createElement("h3",{style:e.sectionTitle},"ðŸ¤– Basic Information"),React.createElement("div",{style:e.inputGroup},React.createElement("label",{style:e.label},"Bot Name"),React.createElement("input",{type:"text",value:c,onChange:t=>h(t.target.value),placeholder:"My Awesome Bot",style:e.input,maxLength:32})),React.createElement("div",{style:e.inputGroup},React.createElement("label",{style:e.label},"Bot Avatar (Emoji)"),React.createElement("input",{type:"text",value:x,onChange:t=>R(t.target.value),placeholder:"ðŸ¤–",style:e.input,maxLength:2}))),React.createElement("div",{style:e.section},React.createElement("h3",{style:e.sectionTitle},"âš¡ Commands"),r.map(t=>React.createElement("div",{key:t.id,style:e.commandCard},React.createElement("div",{style:e.commandHeader},React.createElement("div",{style:e.toggle},React.createElement("div",{style:e.switch(t.enabled),onClick:()=>g(t.id,"enabled",!t.enabled)},React.createElement("div",{style:e.switchKnob(t.enabled)})),React.createElement("span",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px"}},t.enabled?"Enabled":"Disabled")),React.createElement("div",{style:e.commandActions},React.createElement("button",{onClick:()=>k(t),style:e.iconBtn,title:"Test Command"},React.createElement(z,null)),r.length>1&&React.createElement("button",{onClick:()=>C(t.id),style:{...e.iconBtn,...e.deleteBtn},title:"Delete Command"},React.createElement(I,null)))),React.createElement("div",{style:e.inputGroup},React.createElement("label",{style:e.label},"Trigger (e.g., !hello)"),React.createElement("input",{type:"text",value:t.trigger,onChange:a=>g(t.id,"trigger",a.target.value),placeholder:"!command",style:e.input})),React.createElement("div",{style:e.inputGroup},React.createElement("label",{style:e.label},"Response"),React.createElement("textarea",{value:t.response,onChange:a=>g(t.id,"response",a.target.value),placeholder:"Bot response here...",style:e.textarea})))),React.createElement("button",{onClick:B,style:e.addBtn},React.createElement(A,null),"Add Command")),React.createElement("div",{style:e.section},React.createElement("h3",{style:e.sectionTitle},"ðŸ›¡ï¸ Auto Moderation"),Object.entries(p).map(([t,a])=>typeof a=="boolean"?React.createElement("div",{key:t,style:e.toggle},React.createElement("div",{style:e.switch(a),onClick:()=>E({...p,[t]:!a})},React.createElement("div",{style:e.switchKnob(a)})),React.createElement("span",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px"}},t.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase()))):null))),React.createElement("div",{style:e.footer},React.createElement("button",{onClick:s,style:e.cancelBtn},"Cancel"),React.createElement("button",{onClick:w,disabled:i,style:e.saveBtn},React.createElement(F,null),i?"Creating...":"Create Bot"))))};export{P as default};

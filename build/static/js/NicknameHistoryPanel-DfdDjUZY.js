var h=Object.defineProperty;var r=(o,n)=>h(o,"name",{value:n,configurable:!0});import{r as a,j as e}from"./react-core-Djgtqrmb.js";import{aB as g,a as y}from"./icons-vendor-BW7dxHkX.js";import{t as v}from"./index-GGLPABCW.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const z=r(({fetchWithAuth:o,apiBaseUrl:n,onClose:x,username:s})=>{const[d,p]=a.useState([]),[m,c]=a.useState(!1);a.useEffect(()=>{f()},[s]);const f=r(async()=>{c(!0);try{const l=await(await o(`${n}/users/${s}/nicknames/history/`)).json();p(l.history||[])}catch{v.error("Failed to load nickname history")}finally{c(!1)}},"fetchHistory");return e.jsx("div",{style:t.overlay,children:e.jsxs("div",{style:t.modal,children:[e.jsxs("div",{style:t.header,children:[e.jsxs("div",{style:t.headerLeft,children:[e.jsx(g,{style:{marginRight:"10px",color:"#5865f2"}}),e.jsxs("h2",{style:t.title,children:["Nickname History - ",s]})]}),e.jsx("button",{onClick:x,style:t.closeButton,children:e.jsx(y,{})})]}),e.jsx("div",{style:t.content,children:m?e.jsx("div",{style:t.loading,children:"Loading history..."}):d.length===0?e.jsx("div",{style:t.empty,children:"No nickname changes recorded"}):e.jsx("div",{style:t.timeline,children:d.map((i,l)=>e.jsxs("div",{style:t.timelineItem,children:[e.jsx("div",{style:t.timelineDot}),e.jsxs("div",{style:t.timelineContent,children:[e.jsxs("div",{style:t.nicknameChange,children:[e.jsx("div",{style:t.oldNickname,children:i.old_nickname||"No nickname"}),e.jsx("div",{style:t.arrow,children:"â†’"}),e.jsx("div",{style:t.newNickname,children:i.new_nickname||"No nickname"})]}),e.jsxs("div",{style:t.changeInfo,children:[e.jsx("div",{style:t.server,children:i.server_name&&`in ${i.server_name}`}),e.jsx("div",{style:t.timestamp,children:new Date(i.changed_at).toLocaleString()})]})]})]},l))})})]})})},"NicknameHistoryPanel"),t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},timeline:{display:"flex",flexDirection:"column",gap:"20px",position:"relative",paddingLeft:"30px"},timelineItem:{position:"relative",display:"flex",gap:"16px"},timelineDot:{position:"absolute",left:"-34px",width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#5865f2",border:"3px solid #1e1e1e"},timelineContent:{flex:1,backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px"},nicknameChange:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},oldNickname:{fontSize:"14px",color:"#99aab5",textDecoration:"line-through"},arrow:{fontSize:"18px",color:"#5865f2"},newNickname:{fontSize:"16px",fontWeight:"600",color:"#ffffff"},changeInfo:{display:"flex",gap:"12px",fontSize:"12px",color:"#99aab5"},server:{flex:1},timestamp:{flex:1,textAlign:"right"}};export{z as default};

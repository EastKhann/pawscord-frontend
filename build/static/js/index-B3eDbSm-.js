const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/crypto-vendor-Drccqhv1.js","static/js/react-core-D6cE4lil.js","static/js/CinemaModal-D0D2bLbt.js","static/js/media-vendor-Du00QUHb.js","static/js/icons-vendor-fClA8qVL.js","static/js/CryptoChartModal-fqcyIg0Y.js","static/js/GifPicker-6uabRTki.js","static/js/StickerPicker-Dtikrkkc.js","static/js/UserProfilePanel-Cjsqn5J0.js","static/js/AvatarCropper-Cm3M-WWz.js","static/css/AvatarCropper-Bmc3QgaR.css","static/js/LogoutModal-Jq9Rw-DK.js","static/css/LogoutModal-CN0Shh05.css","static/js/index-BV9jtLkh.js","static/js/router-vendor-wrB4dqw3.js","static/js/state-vendor-DnurjGY_.js","static/js/ui-vendor-CZOhtEfS.js","static/css/UserProfilePanel-CYuLGoEH.css","static/js/AdminAnalyticsPanel-DNpEnDVa.js","static/js/chart-vendor-C_G6ifnb.js","static/js/AdminPanelModal-B1KLfJOu.js","static/js/APIUsagePanel-d-w25uTG.js","static/js/AutoModerationDashboard-Bw37NF6z.js","static/js/AuditLogPanel-CpRhjmJM.js","static/js/BookmarkPanel-f2t8NKRo.js","static/js/ChannelPermissionsPanel-C1mr6BtZ.js","static/js/CodeSnippetModal-CFB0Ycyg.js","static/js/ConnectionsPanel-CVMGD8l8.js","static/css/ConnectionsPanel-BHb_cRVQ.css","static/js/CreateGroupModal-CKGQtPZ_.js","static/js/CustomStatusModal-BuquDTd9.js","static/js/DJModal-BoyweJB-.js","static/js/DailyRewardsModal-sWcmIXyh.js","static/js/DownloadModal-DnB1VJP0.js","static/js/EncryptionKeyModal-DhSOn0fV.js","static/js/ExportJobsPanel-DFQIpP96.js","static/js/MentionsInboxPanel-08-jAgMY.js","static/js/PasswordSetupModal-BVu9Tqs0.js","static/css/PasswordSetupModal-hiiUdoNl.css","static/js/PaymentPanel-Vr7ZBSn9.js","static/js/PollCreateModal-CnsIIclK.js","static/js/PremiumStoreModal-CYpuv3Pi.js","static/js/CoinStoreModal-ByPNEXqG.js","static/js/RaidProtectionPanel-CUTvj5yC.js","static/js/ReadLaterPanel-DS0CpGGF.js","static/css/ReadLaterPanel-B_WZGTiX.css","static/js/ReportSystemPanel-BQ0esLYM.js","static/js/ScheduledAnnouncementsPanel-DtF8zAyn.js","static/js/ServerSettingsModal-DaroXmjU.js","static/js/AutoResponderManager-BgQzzuAW.js","static/js/VanityURLManager-D1fkM1if.js","static/js/SoundboardModal-BKA80G-2.js","static/js/StoreModal-DBdjpWDw.js","static/js/UserWarningsPanel-e-BmyiAT.js","static/js/WebhooksPanel-CEVSK7ek.js","static/css/WebhooksPanel-Cn13v79_.css","static/js/WhiteboardModal-BeJXN5-t.js","static/js/AdvancedSearchPanel-C2HLexCU.js","static/js/AutoRespondersPanel-UO0JCLLQ.js","static/js/AvatarStudioPanel-B-NRBY4M.js","static/js/ContentScannerPanel-dxBLSd2d.js","static/js/DataRetentionPanel-BY1iIu4E.js","static/js/DraftsPanel-DGG6P6HQ.js","static/js/EnhancedPollsPanel-B2_1LYwv.js","static/js/EphemeralMessagesPanel-CTspVN8W.js","static/js/FieldChangeTrackingPanel-fnThxABM.js","static/js/GDPRExportPanel-B5KLj-vM.js","static/js/GrowthMetricsPanel-BpCcznpo.js","static/js/InventoryPanel-Feoa6XyW.js","static/js/InviteAnalyticsPanel-9Patohhx.js","static/js/InviteExportPanel-VZqgoN6-.js","static/js/JoinLeaveLogsPanel-Cct0laqT.js","static/js/LinkClickTrackingPanel-C44Yl5un.js","static/js/LinkPreviewRenderer-XI4XkMBW.js","static/js/MiniGamesPanel-Ci2RNgWy.js","static/js/NicknameHistoryPanel-BKcKJA8O.js","static/js/OAuthAppsPanel-BChzQDab.js","static/js/ProjectCollaborationPanel-B8M8B2zX.js","static/js/ReactionAnalyticsPanel-B2StEDJe.js","static/js/ReferralRewardsPanel-D-UwzeZX.js","static/js/RoomWebhooksPanel-B5G2hr2Q.js","static/js/ServerBoostPanel-NC9tFFHv.js","static/js/ServerNicknamesPanel-z6qRHbLN.js","static/js/SessionManagementPanel-CvoULaZB.js","static/js/TopicHistoryPanel-DdvbnwYe.js","static/js/TwoFactorSetupWizard-8ocDMcwR.js","static/js/UserActivityPanel-1-9oaAIU.js","static/js/VoiceTranscriptsPanel-BaE_Iv3n.js","static/js/WaitlistPanel-S-AvxsVi.js","static/js/AccountDeletionModal-r6DYZAdd.js","static/js/AchievementsPanel-WumvsCka.js","static/css/AchievementsPanel-DFaxIlHI.css","static/js/AppearanceSettingsPanel-DPK3cNEJ.js","static/css/AppearanceSettingsPanel-DtvYtcjX.css","static/js/AutoRolesPanel-DNRdFrFi.js","static/css/AutoRolesPanel-DU8S1w3K.css","static/js/BanAppealsPanel-C-SGLzsC.js","static/css/BanAppealsPanel-Crjfvdr1.css","static/js/BirthdaySystemPanel-DdhtEr0g.js","static/css/BirthdaySystemPanel-RkokRZM1.css","static/js/BlockListPanel-B4eIncgr.js","static/css/BlockListPanel-ydu-83CR.css","static/js/BotMarketplace-DaxMoeBb.js","static/css/BotMarketplace-CV8H4agR.css","static/js/ChangelogPanel-BlPwmtuX.js","static/css/ChangelogPanel-DSahUrmd.css","static/js/CommandPalette-Cfz4-NKB.js","static/css/CommandPalette-DYovmTGR.css","static/js/CustomCommandsPanel-CcAgYQ-e.js","static/css/CustomCommandsPanel-DzBoUe0r.css","static/js/CustomEmbedPanel-BY0D7A6Z.js","static/css/CustomEmbedPanel-cL1bEdfz.css","static/js/E2EESettingsPanel-D_3slujb.js","static/js/EventCalendar-Cd9INFzO.js","static/js/ForumPanel-BqMz8Wuo.js","static/css/ForumPanel-DH186p-Q.css","static/js/GiveawayPanel-nacbZkj2.js","static/css/GiveawayPanel-DSMCDI8W.css","static/js/HighlightsPanel-CVVW8MKn.js","static/js/purify.es-FVN2sLic.js","static/css/HighlightsPanel-CjciKa29.css","static/js/IntegrationHubPanel-CjBAOOWd.js","static/css/IntegrationHubPanel-DWLyQi8b.css","static/js/KeyboardShortcutsModal-BQ-XU2TD.js","static/js/LanguageSelector-eaUquwNE.js","static/css/LanguageSelector-DWfI0Cd9.css","static/js/LevelingSystemPanel-BsQInsUk.js","static/css/LevelingSystemPanel-JjR42DY8.css","static/js/LiveStreamPanel-DDUSY0Z1.js","static/js/LoginHistory-CUaKD965.js","static/js/MessageSearchPanel-C622XIXm.js","static/css/MessageSearchPanel-C3bbTam8.css","static/js/MusicPlayer-BrYPzOgm.js","static/css/MusicPlayer-2TVw9zgE.css","static/js/NotificationSoundSettings-BCnjIEfm.js","static/js/PremiumModal-Dj2k3Xwo.js","static/js/PrivacySettingsPanel-Cxkja4Qq.js","static/css/PrivacySettingsPanel-DOp087aH.css","static/js/ProfileCustomization-CAwmR2dO.js","static/js/QuickSwitcher-C5fJwnaB.js","static/css/QuickSwitcher-eeXZ-Hh6.css","static/js/ReactionRolesPanel-BAztToBN.js","static/css/ReactionRolesPanel-Dbki0uIx.css","static/js/ReminderPanel-CqueoCYA.js","static/css/ReminderPanel-C5wuT3oc.css","static/js/ScheduledMessagesPanel-DKmD306g.js","static/css/ScheduledMessagesPanel-BkeBtQYY.css","static/js/SecuritySettingsPanel-DnvFDbQJ.js","static/css/SecuritySettingsPanel-CdlUdRq4.css","static/js/ServerBackupPanel-DGE1IdKG.js","static/css/ServerBackupPanel-DUuXPoYi.css","static/js/ServerClonePanel-DvQ8h7xl.js","static/css/ServerClonePanel-DjIQu65K.css","static/js/ServerDiscoveryPage-DJXp2NM-.js","static/css/ServerDiscoveryPage-C9ji3_0z.css","static/js/SpotifyIntegrationPanel-Bjf_M4kR.js","static/css/SpotifyIntegrationPanel-DG57gen_.css","static/js/StageChannelPanel-0yp8d-25.js","static/css/StageChannelPanel-ec-xBVIi.css","static/js/StarboardPanel-BRNCakMG.js","static/css/StarboardPanel-Bplj_3AV.css","static/js/ThreadView-ncMgDKH8.js","static/js/TicketSystemPanel-BNzzrTTS.js","static/css/TicketSystemPanel-Dw5YdR4r.css","static/js/TournamentSystem-NbAi7Ep5.js","static/js/UserSettingsModal-Bzvm8wx0.js","static/js/VideoCallModal-D83TNkEp.js","static/js/VoiceSettingsPanel-DnetfDmT.js","static/css/VoiceSettingsPanel-D0hk1ENV.css","static/js/index-CmuMnbcq.js","static/css/index-CXqjumg6.css","static/js/WeeklyChallengesPanel-CIukBpPN.js","static/js/WelcomeMessagesPanel-CWOljWEM.js","static/css/WelcomeMessagesPanel-CUulvusV.css","static/js/AIChatbotPanel-DK-Efp2K.js","static/css/AIChatbotPanel-B_ZPS7ZT.css","static/js/AIModerationPanel-CBorT0yW.js","static/js/APIKeysPanel-BK9RlWpI.js","static/js/AdvancedAnalyticsDashboard-DFhsg5TY.js","static/css/AdvancedAnalyticsDashboard-zKSzz6gj.css","static/js/AuditLogsPanel-CIe55DZO.js","static/css/AuditLogsPanel-C2HV5vlK.css","static/js/BanHistoryPanel-CG61wNJM.js","static/css/BanHistoryPanel-B1HoK-Y5.css","static/js/BotBuilder-gHfFKLH1.js","static/js/BotDeveloperPortal-k_P60Kz2.js","static/css/BotDeveloperPortal-CiAN0d3V.css","static/js/ChannelSettingsModal-D0fZUSKH.js","static/js/CodeRunnerPanel-DXqqZLjp.js","static/css/CodeRunnerPanel-BsecIpfS.css","static/js/CollaborativeCodeEditor-Dy7SjCWa.js","static/js/CommunitySettingsPanel-DKMyZwCM.js","static/css/CommunitySettingsPanel-CCLBP5zl.css","static/js/ErrorReportingPanel-B6tK8vbF.js","static/css/ErrorReportingPanel-BpwRIoym.css","static/js/FileManagerPanel-B58nLaP0.js","static/js/GIFPickerPanel-nC-GjDoR.js","static/css/GIFPickerPanel-DNJgydbk.css","static/js/GiftPremiumPanel-C-GsLWDI.js","static/css/GiftPremiumPanel-J9GaqGZk.css","static/js/InviteLinkManager-DBmFLbnW.js","static/js/InviteModal-CWRdN7ES.js","static/js/LiveStreamModal-BlMwRfBY.js","static/js/MessageSummaryPanel-tcCEqqfd.js","static/css/MessageSummaryPanel-Bw4dZH15.css","static/js/ModerationLogsPanel-_5dS8m8Y.js","static/css/ModerationLogsPanel-DihbAUcA.css","static/js/ModeratorTools-D1JqLRXw.js","static/js/MutualsPanel-D21z0SFB.js","static/css/MutualsPanel-BUkSBcqb.css","static/js/NotificationsCenter-BvW3MzEh.js","static/css/NotificationsCenter-i-qTrh8-.css","static/js/PollCreator-CO9P1TVC.js","static/js/PremiumManagementPanel-vxs5oWLS.js","static/css/PremiumManagementPanel-CKheEDbN.css","static/js/PremiumMarketplace-CCkxG9DF.js","static/css/PremiumMarketplace-D4Iktq9p.css","static/js/ProfileCard-BQxzZOuI.js","static/css/ProfileCard-BAIgDvZ2.css","static/js/ProfileShowcasePanel-BDDutv45.js","static/css/ProfileShowcasePanel-BzQDM2cl.css","static/js/ReportsPanel-BTkenS76.js","static/css/ReportsPanel-D2fwu3EV.css","static/js/RolesManager-D1dJJMtG.js","static/css/RolesManager-KxnUcG0l.css","static/js/SavedMessagesModal-CG05ulXi.js","static/js/ScreenShareModal-CzDH1s0I.js","static/js/SecurityAlertsPanel-BMyr_3mY.js","static/css/SecurityAlertsPanel-K6MWC1t2.css","static/js/ServerAnalyticsDashboard-Cl6exXuU.js","static/js/ServerTemplates-DUJ1ducU.js","static/css/ServerTemplates-H_lq5rz_.css","static/js/SessionManagerModal-CKsJ70tw.js","static/js/SlashCommandsPanel-CrpMZvA1.js","static/css/SlashCommandsPanel-B3KOzHRE.css","static/js/SpamDetectionPanel-BKhuazAG.js","static/js/StatusPicker-Bpfc4LLB.js","static/js/StickersPanel-BKnOrWT3.js","static/css/StickersPanel-MPh7JAbI.css","static/js/SubscriptionManager-hoAcCwfl.js","static/js/ThemeMarketplace-7DHIxADC.js","static/css/ThemeMarketplace-DgqXjbLi.css","static/js/TranslationPanel-BEMU4ko2.js","static/css/TranslationPanel-rNJv43tY.css","static/js/UserNotesModal-Dqvkcs2w.js","static/js/WebhookManager-tKplLZi9.js","static/js/WelcomeScreenEditor-Cf_PPmOX.js","static/js/ImageLightbox-D6uGfOcl.js","static/js/MessageTemplateModal-D3wqUzkD.js","static/js/PinnedMessages-BL3eHJBj.js","static/js/Message-CZP5hFV2.js","static/js/LazyImage-DMMDh89g.js","static/js/imageCaching-DSsT7qwR.js","static/js/syntax-core-DeaN9ToJ.js","static/js/perf-vendor-DrzKLIOW.js","static/js/SummaryModal-CumImOut.js","static/js/ThemeStoreModal-ClMSYsF7.js","static/js/UserProfileModal-CeN_vNU1.js","static/js/VirtualMessageList-DOYMVFn2.js","static/js/MessageInput-DBtUE7Ri.js","static/js/ScheduledMessageModal-DJi-n9KI.js","static/css/MessageInput-Q2oINpgp.css","static/js/UserVideoContainer-20eDU07i.js","static/js/VoiceAudioController-ClCmDsXb.js","static/js/RichTextEditor-CBK1Cbuw.js","static/js/editor-vendor-ZMOeemBp.js","static/css/RichTextEditor-D1KllEDh.css","static/js/StickyMessageBanner-QPLIiw8g.js","static/js/LoginPage-B9XI1_SN.js","static/js/recaptcha-BhRBhq81.js","static/js/WelcomeScreen-BY1Ibu90.js","static/js/ImageModal-DQx0FHtu.js","static/js/CryptoStoreModal-48a1SguC.js","static/js/KanbanBoard-D9l6_Vws.js","static/js/AutoModerationPanel-CtMi-LcE.js","static/css/AutoModerationPanel-iAw0CZQU.css","static/js/MessageThreadsPanel-C5JVfi6q.js","static/js/ModeratorNotesPanel-6EsrpsTi.js","static/js/ServerRolesPanel-dzPW33e5.js","static/js/NotificationPreferencesPanel-8NyydBTQ.js","static/js/MessageOCRPanel-CY4pOeDQ.js","static/js/MassActionsPanel-HnIzIaCl.js","static/js/TimeoutMutePanel-CxuP4_kL.js","static/js/ServerThemesPanel-Cw5RealC.js","static/js/KeywordMutesPanel-C8IaZvJx.js","static/js/WelcomeTemplatesPanel-B_7Dz-pO.js","static/js/StickyMessagesPanel-CqBvJSAU.js","static/js/MessageTemplatesPanel-BOLjZrfI.js","static/js/MessageExportPanel-XQMSRPGE.js","static/js/ArchivedRoomsPanel-DDDKQTbe.js","static/js/SlowModePanel-DeQ-XLxS.js","static/js/EmojiManagementPanel-DHYRTqca.js","static/js/VanityURLPanel-pdnTC1Iy.js","static/js/VerifyEmailPage-D2Ki5KlX.js","static/js/ForgotPasswordPage-2bhXhVsR.js","static/js/ResetPasswordPage-C_FzDUrX.js","static/js/TwoFactorLoginPage-CbW0qslt.js","static/js/TwoFactorSetup-DhnAQh6d.js","static/css/TwoFactorSetup-CtmcmlFU.css","static/js/TwoFactorLogin-D7pKWbgL.js","static/css/TwoFactorLogin-DgREC4Q6.css","static/js/VanityInviteScreen-RHttlqPw.js","static/js/InviteCodeScreen-Dihbg6T0.js","static/js/EmailVerification-ed5lG6A2.js","static/css/EmailVerification-CE2S-15C.css","static/js/MobileNav-rp0DjNZ6.js","static/css/MobileNav-BLwPGkd1.css","static/js/SwipeActions-CsjzvrlS.js","static/css/SwipeActions-CCPpS4d3.css","static/js/VoiceMessage-BE9f2lfj.js","static/css/VoiceMessage-Czmu0SFR.css","static/js/FriendsTab-_-gNT0jf.js","static/js/RoomList-BbISAC8l.js","static/js/UserFooter-BZ5BRdXW.js","static/js/VoiceChatPanel-XVf1WZaK.js","static/js/UserContextMenu-B0FahpaM.js","static/js/cjs-BZ354i3C.js","static/js/ChatUserList-Bwed97vt.js","static/js/FloatingVoiceIsland-CVJFrTAp.js","static/css/FloatingVoiceIsland-CMKNK2uU.css","static/js/CinemaPlayer-BUQfKE5H.js","static/js/NotificationDropdown-49OV2Z6K.js","static/js/ReactionStatsPanel-CRfyT0N8.js","static/css/ReactionStatsPanel-C-EVTLx8.css","static/js/ServerHealthPanel-CQGQvHQU.js","static/css/ServerHealthPanel-SDzwtZkI.css","static/js/ChannelAnalyticsPanel-ocLuW06i.js","static/css/ChannelAnalyticsPanel-B6Q8OoDz.css","static/js/SmartSuggestionsPanel-Dlua-_oa.js","static/css/SmartSuggestionsPanel-BFDBx7VC.css","static/js/UserPresenceInsightsPanel-Dy8kqWr3.js","static/css/UserPresenceInsightsPanel-WBZVzGk9.css","static/js/ChannelAboutPanel-DlGlsN5R.js","static/js/MessageSchedulePicker-BARA4uvl.js","static/js/RaidProtectionDashboard-i7W6NrSB.js","static/css/RaidProtectionDashboard-BDwwojVg.css","static/js/BookmarksPanel-BklWKXLn.js","static/js/web-CgeoYl1z.js","static/js/urlHandlers-CLyXAVH-.js","static/js/pushNotifications-DSFnoiVi.js","static/js/EnglishHub-CBtcD9uH.js","static/js/GrammarQuizPage-csrpQ1EL.js","static/js/EnglishLearningPage-J6FHDCT_.js","static/js/CryptoDashboard-LXVoiAwo.js","static/js/useWindowWidth-DukNoxxz.js","static/js/CryptoSignals-BvgMtUnV.js","static/js/PrivacyPolicyPage-BTJNkhVV.js","static/js/StorePage-BBxxfcNY.js","static/js/LandingPage-DvxeHv2Q.js","static/css/LandingPage-CHHpsw7G.css","static/js/ReferralProgram-DRUonxDS.js","static/css/ReferralProgram-CBBjqZR4.css","static/js/GrowthDashboard-Cb_DkZYI.js","static/css/GrowthDashboard-xlqndw5F.css","static/js/ToastDemo-5P4NEP0l.js","static/css/ToastDemo-DxNVRuTl.css"])))=>i.map(i=>d[i]);
var ui=Object.defineProperty;var pi=(t,e,n)=>e in t?ui(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Jn=(t,e,n)=>pi(t,typeof e!="symbol"?e+"":e,n);import{_ as l}from"./media-vendor-Du00QUHb.js";import{a,j as o,r as u,h as fi,f as mi,i as gi}from"./react-core-D6cE4lil.js";import{u as ls,a as cs,b as In,L as ds,c as hi,H as yi,R as _i,d as De,N as xi}from"./router-vendor-wrB4dqw3.js";import{c as us,p as bi}from"./state-vendor-DnurjGY_.js";import{j as an,C as Mr}from"./crypto-vendor-Drccqhv1.js";import{F as vi,a as Rn,b as Si,c as ki,d as ps,e as wi,f as Ei,g as fs,h as vo,i as Ti,j as Ci,k as ms,l as Pi,m as Ri,n as ji,o as Ii,p as Li,q as Oi,r as So,s as Di,t as Ai,u as $r,v as gs,w as qr,x as Wr,y as zi,z as Vi,A as hs,B as ko,C as Mi,D as $i,E as ys,G as Ni,H as Bi,I as Fi,J as Ui,K as Hi}from"./icons-vendor-fClA8qVL.js";import{y as Nr}from"./ui-vendor-CZOhtEfS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Ln={log:console.log,warn:console.warn,error:console.error,info:console.info,debug:console.debug};let Yi="warn";const Kt={none:0,error:1,warn:2,info:3,debug:4},Ki=Kt[Yi],On=(t,e)=>!(t>Kt.error||t>Ki);console.log=(...t)=>{On(Kt.info)&&Ln.log(...t)};console.info=(...t)=>{On(Kt.info)&&Ln.info(...t)};console.debug=(...t)=>{On(Kt.debug)&&Ln.debug(...t)};console.warn=(...t)=>{On(Kt.warn)&&Ln.warn(...t)};console.error=(...t)=>{On(Kt.error)&&Ln.error(...t)};const wo=new Map;setInterval(()=>{const t=Date.now();wo.forEach((e,n)=>{t-e>6e4&&wo.delete(n)})},6e4);var cn;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(cn||(cn={}));class jr extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Gi=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},qi=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:Gi(t),i=()=>s()!=="web",d=m=>{const h=f.get(m);return!!(h?.platforms.has(s())||c(m))},c=m=>{var h;return(h=n.PluginHeaders)===null||h===void 0?void 0:h.find(b=>b.name===m)},p=m=>t.console.error(m),f=new Map,g=(m,h={})=>{const b=f.get(m);if(b)return b.proxy;const _=s(),v=c(m);let y;const T=async()=>(!y&&_ in h?y=typeof h[_]=="function"?y=await h[_]():y=h[_]:e!==null&&!y&&"web"in h&&(y=typeof h.web=="function"?y=await h.web():y=h.web),y),P=(D,Y)=>{var Z,M;if(v){const $=v?.methods.find(k=>Y===k.name);if($)return $.rtype==="promise"?k=>n.nativePromise(m,Y.toString(),k):(k,R)=>n.nativeCallback(m,Y.toString(),k,R);if(D)return(Z=D[Y])===null||Z===void 0?void 0:Z.bind(D)}else{if(D)return(M=D[Y])===null||M===void 0?void 0:M.bind(D);throw new jr(`"${m}" plugin is not implemented on ${_}`,cn.Unimplemented)}},A=D=>{let Y;const Z=(...M)=>{const $=T().then(k=>{const R=P(k,D);if(R){const L=R(...M);return Y=L?.remove,L}else throw new jr(`"${m}.${D}()" is not implemented on ${_}`,cn.Unimplemented)});return D==="addListener"&&($.remove=async()=>Y()),$};return Z.toString=()=>`${D.toString()}() { [capacitor code] }`,Object.defineProperty(Z,"name",{value:D,writable:!1,configurable:!1}),Z},K=A("addListener"),W=A("removeListener"),te=(D,Y)=>{const Z=K({eventName:D},Y),M=async()=>{const k=await Z;W({eventName:D,callbackId:k},Y)},$=new Promise(k=>Z.then(()=>k({remove:M})));return $.remove=async()=>{await M()},$},_e=new Proxy({},{get(D,Y){switch(Y){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?te:K;case"removeListener":return W;default:return A(Y)}}});return r[m]=_e,f.set(m,{name:m,proxy:_e,platforms:new Set([...Object.keys(h),...v?[_]:[]])}),_e};return n.convertFileSrc||(n.convertFileSrc=m=>m),n.getPlatform=s,n.handleError=p,n.isNativePlatform=i,n.isPluginAvailable=d,n.registerPlugin=g,n.Exception=jr,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Wi=t=>t.Capacitor=qi(t),dn=Wi(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Jr=dn.registerPlugin;class _s{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const d=async()=>this.removeListener(e,n);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new dn.Exception(e,cn.Unimplemented)}unavailable(e="not available"){return new dn.Exception(e,cn.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const Eo=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),To=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ji extends _s{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=To(s).trim(),i=To(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=Eo(e.key),r=Eo(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),d=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${d};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Jr("CapacitorCookies",{web:()=>new Ji});const Zi=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),Qi=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,d)=>(s[i]=t[e[d]],s),{})},Xi=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,d]=s;let c,p;return Array.isArray(d)?(p="",d.forEach(f=>{c=e?encodeURIComponent(f):f,p+=`${i}=${c}&`}),p.slice(0,-1)):(c=e?encodeURIComponent(d):d,p=`${i}=${c}`),`${r}&${p}`},"").substr(1):null,ea=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=Qi(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[d,c]of Object.entries(t.data||{}))i.set(d,c);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((c,p)=>{i.append(p,c)});else for(const c of Object.keys(t.data))i.append(c,t.data[c]);n.body=i;const d=new Headers(n.headers);d.delete("content-type"),n.headers=d}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class ta extends _s{async request(e){const n=ea(e,e.webFetchExtra),r=Xi(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),d=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?e:{};d.includes("application/json")&&(c="json");let p,f;switch(c){case"arraybuffer":case"blob":f=await i.blob(),p=await Zi(f);break;case"json":p=await i.json();break;default:p=await i.text()}const g={};return i.headers.forEach((m,h)=>{g[h]=m}),{data:p,headers:g,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Jr("CapacitorHttp",{web:()=>new ta});let na=class extends a.Component{constructor(n){super(n);Jn(this,"reportError",async(n,r)=>{try{const s=typeof window<"u"&&window.__PAWSCORD_API_BASE__||"https://api.pawscord.com",i=localStorage.getItem("access_token"),d={"Content-Type":"application/json"};i&&(d.Authorization=`Bearer ${i}`),await fetch(`${s}/errors/report/`,{method:"POST",headers:d,body:JSON.stringify({error:n.toString(),stack:r.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})})}catch{}});Jn(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null,errorCount:0}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r,errorCount:this.state.errorCount+1}),window.gtag&&window.gtag("event","exception",{description:n.toString(),fatal:!1}),this.reportError(n,r)}render(){return this.state.hasError?this.state.errorCount>3?o.jsx("div",{className:"error-boundary critical",children:o.jsxs("div",{className:"error-content",children:[o.jsx("h1",{children:"‚ö†Ô∏è Critical Error"}),o.jsx("p",{children:"Multiple errors detected. Please refresh the page."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"btn-reload",children:"Refresh Page"})]})}):o.jsx("div",{className:"error-boundary",children:o.jsxs("div",{className:"error-content",children:[o.jsx("div",{className:"error-icon",children:"üòï"}),o.jsx("h1",{children:"Oops! Something went wrong"}),o.jsx("p",{className:"error-message",children:this.props.fallbackMessage||"We're sorry for the inconvenience. The error has been reported."}),!1,o.jsxs("div",{className:"error-actions",children:[o.jsx("button",{onClick:this.handleReset,className:"btn-retry",children:"Try Again"}),o.jsx("button",{onClick:()=>window.location.href="/",className:"btn-home",children:"Go Home"})]})]})}):this.props.children}};const ln=us((t,e)=>({messages:[],encryptionKeys:{},activeChat:{type:"welcome",id:"welcome",targetUser:null},unreadCounts:{},typingUsers:[],onlineUsers:[],voiceUsers:{},currentPermissions:{is_owner:!1,can_manage_channels:!1,can_delete_messages:!1,can_manage_roles:!1,can_ban_members:!1},setActiveChat:(n,r,s=null)=>{let i,d,c;n&&typeof n=="object"?(i=n.type,d=n.id||n.slug,c=n.targetUser||null):(i=n,d=r,c=s),t({activeChat:{type:i,id:d,targetUser:c}});const p=i==="room"?`room-${d}`:`dm-${d}`;t(f=>{const g={...f.unreadCounts};return delete g[p],{unreadCounts:g}})},addMessage:n=>t(r=>!n||typeof n!="object"||!n.id?r:n.temp_id&&r.messages.some(i=>i.temp_id===n.temp_id)?{messages:r.messages.map(i=>i.temp_id===n.temp_id?n:i)}:r.messages.some(s=>s.id===n.id)?r:{messages:[...r.messages,n]}),updateMessage:(n,r)=>t(s=>({messages:s.messages.map(i=>i.id===n?{...i,...r}:i)})),setMessages:n=>t(r=>{const s=typeof n=="function"?n(r.messages):n;return{messages:Array.isArray(s)?s.filter(d=>d&&typeof d=="object"&&d.id):[]}}),prependMessages:n=>t(r=>({messages:[...n,...r.messages]})),incrementUnread:n=>t(r=>({unreadCounts:{...r.unreadCounts,[n]:(r.unreadCounts[n]||0)+1}})),setOnlineUsers:n=>t({onlineUsers:n}),setTypingUser:(n,r)=>t(s=>r?{typingUsers:s.typingUsers.includes(n)?s.typingUsers:[...s.typingUsers,n]}:{typingUsers:s.typingUsers.filter(i=>i!==n)}),setVoiceUsers:n=>t({voiceUsers:n}),setEncryptionKey:(n,r)=>t(s=>({encryptionKeys:{...s.encryptionKeys,[n]:r}})),setPermissions:n=>t({currentPermissions:n||{is_owner:!1,can_manage_channels:!1,can_delete_messages:!1,can_manage_roles:!1,can_ban_members:!1}})})),Zr=us(bi((t,e)=>({modals:{settings:!1,createServer:!1,invitePeople:!1,serverSettings:!1,userProfile:!1,imageViewer:!1,groupModal:!1,soundboard:!1,whiteboard:!1,encModal:!1,templateModal:!1,snippetModal:!1,pollModal:!1,profilePanel:!1,pinned:!1,gifPicker:!1,cinema:!1,stickerPicker:!1,store:!1,themeStore:!1,analytics:!1,adminPanel:!1,webhooks:!1,modTools:!1,vanityURL:!1,autoModeration:!1,raidProtection:!1,reportSystem:!1,auditLog:!1,userWarnings:!1,autoResponder:!1,bookmarks:!1,readLater:!1,mentionsInbox:!1,customStatus:!1,channelPermissions:!1,messageThreads:!1,moderatorNotes:!1,serverRoles:!1,notificationPrefs:!1,messageOCR:!1,massActions:!1,reactionAnalytics:!1,linkClickTracking:!1,joinLeaveLogs:!1,userActivity:!1,nicknameHistory:!1,fieldChangeTracking:!1,inviteAnalytics:!1,contentScanner:!1,ephemeralMessages:!1,topicHistory:!1,drafts:!1,serverNicknames:!1,serverBoost:!1,roomWebhooks:!1,oAuthApps:!1,autoResponders:!1,sessionManagement:!1,gDPRExport:!1,dataRetention:!1,twoFactorSetup:!1,enhancedPolls:!1,voiceTranscripts:!1,inviteExport:!1,advancedSearch:!1,growthMetrics:!1,linkPreview:!1,inventory:!1,waitlist:!1,referralRewards:!1,miniGames:!1,projectCollaboration:!1,avatarStudio:!1,timeoutMute:!1,serverThemes:!1,keywordMutes:!1,welcomeTemplates:!1,stickyMessages:!1,messageTemplates:!1,messageExport:!1,archivedRooms:!1,slowMode:!1,emojiManagement:!1,userSettings:!1,keyboardShortcuts:!1,commandPalette:!1,serverDiscovery:!1,appearanceSettings:!1,languageSelector:!1,changelog:!1,logoutConfirm:!1,notificationSounds:!1,quickSwitcher:!1,loginHistory:!1,securitySettings:!1,privacySettings:!1,accountDeletion:!1,blockList:!1,e2EESettings:!1,threadView:!1,scheduledMessages:!1,reminders:!1,forum:!1,stageChannel:!1,videoCall:!1,voiceSettings:!1,messageSearch:!1,watchTogether:!1,autoRoles:!1,reactionRoles:!1,welcomeMessages:!1,eventCalendar:!1,giveaway:!1,ticketSystem:!1,starboard:!1,serverBackup:!1,banAppeals:!1,customCommands:!1,levelingSystem:!1,liveStream:!1,achievements:!1,birthdaySystem:!1,premium:!1,musicPlayer:!1,botMarketplace:!1,profileCustomization:!1,integrationHub:!1,tournaments:!1,highlights:!1,customEmbed:!1,spotifyIntegration:!1,serverClone:!1,weeklyChallenges:!1,featureHub:!1,moderatorTools:!1,aIModeration:!1,spamDetection:!1,auditLogs:!1,banHistory:!1,moderationLogs:!1,securityAlerts:!1,gIFPicker:!1,pollCreator:!1,stickers:!1,savedMessages:!1,notificationsCenter:!1,messageSummary:!1,translation:!1,channelSettings:!1,inviteModal:!1,serverTemplates:!1,serverAnalytics:!1,rolesManager:!1,welcomeScreenEditor:!1,communitySettings:!1,inviteLinkManager:!1,botBuilder:!1,botDevPortal:!1,webhookManager:!1,aPIKeys:!1,slashCommands:!1,codeRunner:!1,profileCard:!1,userNotes:!1,statusPicker:!1,mutuals:!1,profileShowcase:!1,sessionManager:!1,coinStore:!1,premiumManagement:!1,subscriptionManager:!1,giftPremium:!1,premiumMarketplace:!1,themeMarketplace:!1,aIChatbot:!1,codeEditor:!1,screenShare:!1,liveStreamModal:!1,advancedAnalytics:!1,fileManager:!1,reports:!1,errorReporting:!1,avatarCropper:!1,downloadModal:!1,summary:!1,dJ:!1,notifications:!1,toolbarMenu:!1,paymentPanel:!1,storeModal:!1,dailyRewards:!1,aPIUsagePanel:!1,exportJobsPanel:!1,scheduledAnnouncements:!1,connectionsPanel:!1,passwordSetupModal:!1},modalData:{},panels:{userList:!0,memberList:!0,serverList:!0,channelList:!0},theme:"dark",accentColor:"#5865F2",sidebarCollapsed:!1,mobileSidebarOpen:!1,contextMenu:null,openModal:(n,r=null)=>t(s=>({modals:{...s.modals,[n]:!0},modalData:r?{...s.modalData,[n]:r}:s.modalData})),closeModal:n=>t(r=>({modals:{...r.modals,[n]:!1},modalData:{...r.modalData,[n]:void 0}})),toggleModal:n=>t(r=>({modals:{...r.modals,[n]:!r.modals[n]}})),closeAllModals:()=>t(n=>({modals:Object.keys(n.modals).reduce((r,s)=>(r[s]=!1,r),{}),modalData:{}})),getModalData:n=>e().modalData[n],togglePanel:n=>t(r=>({panels:{...r.panels,[n]:!r.panels[n]}})),setTheme:n=>t({theme:n}),setAccentColor:n=>t({accentColor:n}),toggleSidebar:()=>t(n=>({sidebarCollapsed:!n.sidebarCollapsed})),setMobileSidebarOpen:n=>t({mobileSidebarOpen:n}),setContextMenu:n=>t({contextMenu:n}),clearContextMenu:()=>t({contextMenu:null})}),{name:"pawscord-ui-store",partialize:t=>({theme:t.theme,accentColor:t.accentColor,sidebarCollapsed:t.sidebarCollapsed,panels:t.panels})})),ft={mobile:768,tablet:1024,desktop:1920,ultrawide:2560},ra=()=>{const[t,e]=u.useState({width:typeof window<"u"?window.innerWidth:1920,height:typeof window<"u"?window.innerHeight:1080});u.useEffect(()=>{if(typeof window>"u")return;let s;const i=()=>{clearTimeout(s),s=setTimeout(()=>{e({width:window.innerWidth,height:window.innerHeight})},150)};return i(),window.addEventListener("resize",i),window.addEventListener("orientationchange",i),()=>{clearTimeout(s),window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i)}},[]);const{width:n,height:r}=t;return{isMobile:n<=ft.mobile,isTablet:n>ft.mobile&&n<=ft.tablet,isDesktop:n>ft.tablet&&n<=ft.desktop,isUltrawide:n>ft.desktop,width:n,height:r,orientation:r>n?"portrait":"landscape",isSmallScreen:n<=ft.mobile,isMediumScreen:n>ft.mobile&&n<=ft.tablet,isLargeScreen:n>ft.tablet,isTouchDevice:typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0),breakpoints:ft}},oa=(t,e,n)=>u.useMemo(()=>{if(!t||!Array.isArray(t))return[];let s=t;if(e&&typeof e=="string"&&e.trim()){const i=e.toLowerCase();s=s.filter(d=>d.content?.toLowerCase().includes(i)||d.user?.username?.toLowerCase().includes(i))}return s.sort((i,d)=>{const c=new Date(i.created_at||i.timestamp),p=new Date(d.created_at||d.timestamp);return c-p})},[t,e]),sa=t=>u.useMemo(()=>!t||!Array.isArray(t)?[]:t.filter(e=>e.is_online||e.online),[t]),Cm=(t,e)=>{const n=u.useRef(null);return u.useCallback((...r)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>{t(...r)},e)},[t,e])},ia=(t,e)=>{const n=u.useRef(Date.now());return u.useCallback((...r)=>{const s=Date.now();s-n.current>=e&&(t(...r),n.current=s)},[t,e])},Pm=t=>{const e=u.useRef(0),n=u.useRef(0);u.useEffect(()=>{const r=performance.now();return e.current+=1,()=>{const i=performance.now()-r;n.current+=i,e.current%10}})};function aa(t,e=500){const[n,r]=u.useState(t);return u.useEffect(()=>{const s=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(s)}},[t,e]),n}const la="pawscord.com",ca="443",xs=typeof window>"u"?!1:!!(typeof window.require=="function"||typeof process<"u"&&process.versions&&process.versions.electron||navigator.userAgent.toLowerCase().includes("electron")||window.location.protocol==="file:"),bs=dn.isNativePlatform(),bt=bs||xs||!window.location.hostname.includes("localhost")&&!window.location.hostname.includes("192.168.")?"https://api.pawscord.com":`http://${la}:${ca}`,Qe=`${bt}/api`,Rm=bt;typeof window<"u"&&(window.__PAWSCORD_API_BASE__=`${bt}/api`);const da=bs||xs||!window.location.hostname.includes("localhost")?"https://media.pawscord.com":bt,At="https://media.pawscord.com",jm="https://www.pawscord.com",ua=bt.startsWith("https")?"wss":"ws",pa=bt.replace(/^https?:\/\//,""),vs="774757987258-poa0elqqapnab8eud3tol3h2pilcqe71.apps.googleusercontent.com",Ss=u.createContext(null),fa=bt,ma=({children:t})=>{const e=localStorage.getItem("access_token"),n=(()=>{if(!e)return!1;try{return an(e).exp>Date.now()/1e3}catch{return!1}})(),[r,s]=u.useState(n?{username:localStorage.getItem("chat_username")||""}:null),[i,d]=u.useState(e),[c,p]=u.useState(n),[f,g]=u.useState(!1),m=u.useRef(null),h=u.useCallback(async()=>{const T=localStorage.getItem("refresh_token");if(!T)return v(),!1;try{const P=await fetch(`${fa}/api/auth/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:T})});if(P.ok){const A=await P.json();localStorage.setItem("access_token",A.access),A.refresh&&localStorage.setItem("refresh_token",A.refresh);const K=an(A.access);return d(A.access),s({username:K.username}),p(!0),b(A.access),!0}else return v(),!1}catch{return v(),!1}},[]),b=u.useCallback(T=>{m.current&&clearTimeout(m.current);try{const P=an(T),A=Date.now()/1e3,K=P.exp-A,W=Math.max((K-300)*1e3,6e4);m.current=setTimeout(()=>{h()},W)}catch{}},[h]);u.useEffect(()=>((async()=>{const P=localStorage.getItem("access_token");if(P)try{const A=an(P),K=Date.now()/1e3,W=300,te=A.exp>K,_e=A.exp>K-W;if(te)d(P),s({username:A.username}),p(!0),localStorage.setItem("chat_username",A.username),b(P);else if(_e){const D=await h()}else h()}catch{v()}})(),()=>{m.current&&clearTimeout(m.current)}),[b,h]);const _=(T,P)=>{try{localStorage.setItem("access_token",T),localStorage.setItem("refresh_token",P);const A=an(T);localStorage.setItem("chat_username",A.username),d(T),s({username:A.username}),p(!0),b(T)}catch{v()}},v=u.useCallback(()=>{m.current&&clearTimeout(m.current),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("chat_username"),d(null),s(null),p(!1)},[]),y=u.useMemo(()=>({user:r,token:i,isAuthenticated:c,login:_,logout:v,isLoading:f,refreshAccessToken:h}),[r,i,c,_,v,f,h]);return o.jsx(Ss.Provider,{value:y,children:t})},Vt=()=>u.useContext(Ss),lt={log:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},debug:(...t)=>{},voice:(...t)=>{},webrtc:(...t)=>{},signal:(...t)=>{},audio:(...t)=>{}};let en=null;function ga(t){return typeof t!="string"?"":t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function ha(){return en||(en=document.createElement("div"),en.id="toast-container",en.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 999999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        `,document.body.appendChild(en)),en}function Tn(t,e="info",n=3e3){const r=ha(),s=document.createElement("div");s.className=`toast toast-${e}`;let i="‚ÑπÔ∏è",d="#3b82f6";switch(e){case"success":i="‚úÖ",d="#10b981";break;case"error":i="‚ùå",d="#ef4444";break;case"warning":i="‚ö†Ô∏è",d="#f59e0b";break;case"info":i="‚ÑπÔ∏è",d="#3b82f6";break}s.style.cssText=`
        background: ${d};
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        gap: 10px;
        min-width: 300px;
        max-width: 500px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 14px;
        pointer-events: all;
        animation: slideIn 0.3s ease-out;
        transition: opacity 0.3s ease-out;
    `,s.innerHTML=`
        <span style="font-size: 20px;">${i}</span>
        <span style="flex: 1;">${ga(t)}</span>
        <button onclick="this.parentElement.remove()" style="
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
        " onmouseover="this.style.background='rgba(255,255,255,0.3)'" 
           onmouseout="this.style.background='rgba(255,255,255,0.2)'">√ó</button>
    `,r.appendChild(s);const c=document.createElement("style");c.textContent=`
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }
    `,document.getElementById("toast-styles")||(c.id="toast-styles",document.head.appendChild(c)),setTimeout(()=>{s.style.animation="slideOut 0.3s ease-out",setTimeout(()=>s.remove(),300)},n)}const oe={success:(t,e)=>Tn(t,"success",e),error:(t,e)=>Tn(t,"error",e),warning:(t,e)=>Tn(t,"warning",e),info:(t,e)=>Tn(t,"info",e)};typeof window<"u"&&(window.toast=oe,window.showToast=Tn);class ya{constructor(){this.audioContext=null,this.masterGain=null,this.spatialNodes={},this.listenerPosition={x:0,y:0,z:0},this.initialized=!1}async initialize(){if(!this.initialized)try{const e=window.AudioContext||window.webkitAudioContext;this.audioContext=new e,this.masterGain=this.audioContext.createGain(),this.masterGain.gain.value=1,this.masterGain.connect(this.audioContext.destination),this.audioContext.state==="suspended"&&await this.audioContext.resume(),this.setupListener(),this.initialized=!0}catch(e){throw e}}setupListener(){const e=this.audioContext.listener;e.positionX?(e.positionX.value=this.listenerPosition.x,e.positionY.value=this.listenerPosition.y,e.positionZ.value=this.listenerPosition.z):e.setPosition(this.listenerPosition.x,this.listenerPosition.y,this.listenerPosition.z),e.forwardX?(e.forwardX.value=0,e.forwardY.value=0,e.forwardZ.value=-1,e.upX.value=0,e.upY.value=1,e.upZ.value=0):e.setOrientation(0,0,-1,0,1,0)}addUser(e,n,r={x:0,y:0,z:-1}){if(!this.initialized)return null;this.spatialNodes[e]&&this.removeUser(e);try{const s=this.audioContext.createMediaStreamSource(n),i=this.audioContext.createPanner();i.panningModel="HRTF",i.distanceModel="inverse",i.refDistance=1,i.maxDistance=1e4,i.rolloffFactor=1.5,i.coneInnerAngle=360,i.coneOuterAngle=360,i.coneOuterGain=0,this.setUserPosition(e,r,i);const d=this.audioContext.createGain();d.gain.value=1;const c=this.audioContext.createAnalyser();return c.fftSize=256,c.smoothingTimeConstant=.8,s.connect(c),c.connect(i),i.connect(d),d.connect(this.masterGain),this.spatialNodes[e]={source:s,panner:i,gain:d,analyser:c,position:r,audioElement:null},this.spatialNodes[e]}catch{return null}}setUserPosition(e,n,r=null){const s=r||this.spatialNodes[e]?.panner;s&&(s.positionX?(s.positionX.setValueAtTime(n.x,this.audioContext.currentTime),s.positionY.setValueAtTime(n.y,this.audioContext.currentTime),s.positionZ.setValueAtTime(n.z,this.audioContext.currentTime)):s.setPosition(n.x,n.y,n.z),this.spatialNodes[e]&&(this.spatialNodes[e].position=n))}setUserVolume(e,n){const r=this.spatialNodes[e];if(!r)return;const s=Math.max(0,Math.min(1,n));r.gain.gain.setValueAtTime(s,this.audioContext.currentTime)}getVoiceActivity(e){const n=this.spatialNodes[e];if(!n)return 0;const r=n.analyser,s=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(s);const d=s.reduce((c,p)=>c+p,0)/s.length;return Math.round(d/255*100)}removeUser(e){const n=this.spatialNodes[e];if(n)try{n.source.disconnect(),n.analyser.disconnect(),n.panner.disconnect(),n.gain.disconnect(),delete this.spatialNodes[e]}catch{}}updateListenerPosition(e){this.listenerPosition=e,this.setupListener()}setMasterVolume(e){if(!this.masterGain)return;const n=Math.max(0,Math.min(1,e));this.masterGain.gain.setValueAtTime(n,this.audioContext.currentTime)}setUserMuted(e,n){this.setUserVolume(e,n?0:1)}destroy(){Object.keys(this.spatialNodes).forEach(e=>{this.removeUser(e)}),this.audioContext&&(this.audioContext.close(),this.audioContext=null),this.initialized=!1}getUserDistance(e){const n=this.spatialNodes[e];if(!n)return 1/0;const r=n.position,s=this.listenerPosition;return Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2)+Math.pow(r.z-s.z,2))}arrangeUsersInCircle(e,n=3){const r={},s=2*Math.PI/e.length;return e.forEach((i,d)=>{const c=s*d,p={x:Math.cos(c)*n,y:0,z:Math.sin(c)*n};r[i]=p,this.setUserPosition(i,p)}),r}}const kn=new ya,_a=bt;let Ft=!1,Br=[];const Co=t=>{Br.push(t)},Po=t=>{Br.forEach(e=>e(t)),Br=[]},xa=t=>{if(!t)return!0;try{const e=an(t),n=Date.now()/1e3;return e.exp<n+30}catch{return!0}},Ro=async()=>{const t=localStorage.getItem("refresh_token");if(!t)throw new Error("No refresh token available");const e=await fetch(`${_a}/api/auth/token/refresh/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:t})});if(!e.ok)throw new Error("Token refresh failed");const n=await e.json();return localStorage.setItem("access_token",n.access),n.refresh&&localStorage.setItem("refresh_token",n.refresh),n.access},Fr=async(t,e={})=>{let n=localStorage.getItem("access_token");if(xa(n))if(Ft)n=await new Promise(i=>{Co(d=>i(d))});else{Ft=!0;try{n=await Ro(),Po(n)}catch(i){throw Ft=!1,window.dispatchEvent(new CustomEvent("auth:logout")),i}finally{Ft=!1}}const r={...e.headers,Authorization:`Bearer ${n}`};let s=await fetch(t,{...e,headers:r});if(s.status===401)if(Ft)n=await new Promise(i=>{Co(d=>i(d))}),r.Authorization=`Bearer ${n}`,s=await fetch(t,{...e,headers:r});else{Ft=!0;try{n=await Ro(),Po(n),r.Authorization=`Bearer ${n}`,s=await fetch(t,{...e,headers:r})}catch(i){throw window.dispatchEvent(new CustomEvent("auth:logout")),i}finally{Ft=!1}}return s},Ht=[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"},{urls:"stun:stun3.l.google.com:19302"},{urls:"stun:stun4.l.google.com:19302"},{urls:"stun:stun.cloudflare.com:3478"},{urls:"stun:stun.services.mozilla.com:3478"},{urls:"stun:stun.stunprotocol.org:3478"},{urls:"turn:openrelay.metered.ca:80",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443",username:"openrelayproject",credential:"openrelayproject"},{urls:"turn:openrelay.metered.ca:443?transport=tcp",username:"openrelayproject",credential:"openrelayproject"}];let Ur={iceServers:Ht,iceCandidatePoolSize:10,iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};const Zn=t=>{Ur={...Ur,iceServers:t}};function ba(t,e){try{const r=JSON.parse(localStorage.getItem("voice_settings")||"{}").audio?.noiseSuppressionLevel||"high",s={low:{gateThreshold:-70,compressorThreshold:-15,compressorRatio:2,highPassFreq:50,lowPassFreq:14e3,gateRelease:.3,speechThreshold:20},medium:{gateThreshold:-60,compressorThreshold:-20,compressorRatio:3,highPassFreq:80,lowPassFreq:12e3,gateRelease:.25,speechThreshold:25},high:{gateThreshold:-50,compressorThreshold:-25,compressorRatio:4,highPassFreq:100,lowPassFreq:1e4,gateRelease:.2,speechThreshold:30},aggressive:{gateThreshold:-45,compressorThreshold:-30,compressorRatio:6,highPassFreq:120,lowPassFreq:8e3,gateRelease:.15,speechThreshold:35}},i=s[r]||s.high;if(!e.current){const $=window.AudioContext||window.webkitAudioContext;e.current=new $({sampleRate:48e3,latencyHint:"interactive"})}const d=e.current;d.state==="suspended"&&d.resume().then(()=>{});const c=d.createMediaStreamSource(t),p=d.createGain();let f=!0;const g=i.gateThreshold,m=.005,h=i.gateRelease,b=d.createDynamicsCompressor();b.threshold.value=i.compressorThreshold,b.knee.value=30,b.ratio.value=Math.min(i.compressorRatio,4),b.attack.value=.003,b.release.value=.15;const _=d.createBiquadFilter();_.type="highpass",_.frequency.value=i.highPassFreq,_.Q.value=.707;const v=d.createBiquadFilter();v.type="lowpass",v.frequency.value=i.lowPassFreq,v.Q.value=.707;const y=d.createBiquadFilter();y.type="notch",y.frequency.value=50,y.Q.value=10;const T=d.createBiquadFilter();T.type="peaking",T.frequency.value=6e3,T.Q.value=1,T.gain.value=-3;const P=d.createAnalyser();P.fftSize=2048,P.smoothingTimeConstant=.85;const A=new Uint8Array(P.frequencyBinCount);let K=new Float32Array(P.frequencyBinCount),W=!0,te=0;const _e=()=>{if(P.getByteFrequencyData(A),A.reduce((k,R)=>k+R)/A.length<20){if(te++,te>10)for(let k=0;k<A.length;k++)K[k]=Math.max(K[k],A[k])}else te=0;W&&te>50&&(W=!1)},D=i.speechThreshold||25,Z=setInterval(()=>{P.getByteFrequencyData(A);const $=A.slice(8,120),R=$.reduce((B,X)=>B+X)/$.length-(K[50]||0),L=d.currentTime;R>D?f||(p.gain.setTargetAtTime(1,L,m),f=!0):f&&(p.gain.setTargetAtTime(0,L,h),f=!1),(W||Math.random()<.01)&&_e()},30);c.connect(_),_.connect(y),y.connect(v),v.connect(T),T.connect(b),b.connect(p),p.connect(P);const M=d.createMediaStreamDestination();return p.connect(M),M.stream.addEventListener("inactive",()=>{clearInterval(Z)}),M.stream}catch{return t}}function va(t,e,n,r){const s=n.createMediaStreamSource(r),i=n.createMediaStreamDestination(),d=[],c=e/100;switch(t){case"robot":{const p=n.createOscillator(),f=n.createGain(),g=n.createWaveShaper();p.type="sawtooth",p.frequency.value=50+c*100,f.gain.value=.3+c*.4;const m=new Float32Array(256);for(let h=0;h<256;h++){const b=h/128-1;m[h]=Math.tanh(b*(1+c*3))}g.curve=m,p.connect(f),s.connect(g),g.connect(i),p.start(),d.push(p,f,g);break}case"echo":{const p=n.createDelay(1),f=n.createGain(),g=n.createGain(),m=n.createGain();p.delayTime.value=.1+c*.4,f.gain.value=.2+c*.5,g.gain.value=.3+c*.4,m.gain.value=1-c*.3,s.connect(m),s.connect(p),p.connect(f),f.connect(p),p.connect(g),m.connect(i),g.connect(i),d.push(p,f,g,m);break}case"deep":{const p=n.createBiquadFilter(),f=n.createGain();p.type="lowshelf",p.frequency.value=500,p.gain.value=10+c*15,f.gain.value=1.2,s.connect(p),p.connect(f),f.connect(i),d.push(p,f);break}case"high":{const p=n.createBiquadFilter(),f=n.createGain();p.type="highshelf",p.frequency.value=1e3,p.gain.value=8+c*12,f.gain.value=.9,s.connect(p),p.connect(f),f.connect(i),d.push(p,f);break}case"radio":{const p=n.createBiquadFilter(),f=n.createBiquadFilter(),g=n.createWaveShaper();p.type="lowpass",p.frequency.value=3e3-c*1e3,f.type="highpass",f.frequency.value=300+c*200;const m=new Float32Array(256);for(let h=0;h<256;h++){const b=h/128-1;m[h]=Math.sign(b)*Math.pow(Math.abs(b),.8)}g.curve=m,s.connect(f),f.connect(p),p.connect(g),g.connect(i),d.push(p,f,g);break}case"reverb":{const p=n.createConvolver(),f=n.createGain(),g=n.createGain(),m=n.sampleRate,h=m*(.5+c*2),b=n.createBuffer(2,h,m);for(let _=0;_<2;_++){const v=b.getChannelData(_);for(let y=0;y<h;y++)v[y]=(Math.random()*2-1)*Math.pow(1-y/h,2)}p.buffer=b,f.gain.value=.3+c*.5,g.gain.value=1-c*.2,s.connect(g),s.connect(p),p.connect(f),g.connect(i),f.connect(i),d.push(p,f,g);break}default:s.connect(i)}return{nodes:d,outputStream:i.stream}}function Sa(){const[t,e]=u.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_noise_gate"))||-50}catch{return-50}}),[n,r]=u.useState(()=>{try{return localStorage.getItem("pawscord_noise_gate_enabled")!=="false"}catch{return!0}}),[s,i]=u.useState(()=>{try{return localStorage.getItem("pawscord_visualizer")==="true"}catch{return!1}}),[d,c]=u.useState(()=>{try{return JSON.parse(localStorage.getItem("pawscord_user_volumes"))||{}}catch{return{}}}),[p,f]=u.useState(new Set),[g,m]=u.useState(()=>{try{return localStorage.getItem("pawscord_spatial_audio")==="true"}catch{return!1}}),[h,b]=u.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_vad_sensitivity"))||45}catch{return 45}}),[_,v]=u.useState(()=>{try{const E=localStorage.getItem("pawscord_noise_suppression");return E===null?!0:E==="true"}catch{return!0}}),[y,T]=u.useState(()=>{try{return JSON.parse(localStorage.getItem("voice_settings")||"{}").audio?.noiseSuppressionLevel||"medium"}catch{return"medium"}}),[P,A]=u.useState(()=>{try{return localStorage.getItem("pawscord_screen_quality")||"1080p"}catch{return"1080p"}}),[K,W]=u.useState(()=>{try{return parseInt(localStorage.getItem("pawscord_screen_fps"))||30}catch{return 30}}),[te,_e]=u.useState(()=>{try{return localStorage.getItem("pawscord_system_audio")!=="false"}catch{return!1}}),[D,Y]=u.useState(()=>{try{return localStorage.getItem("pawscord_ptt_mode")==="true"}catch{return!1}}),[Z,M]=u.useState(()=>{try{return localStorage.getItem("pawscord_ptt_key")||"Space"}catch{return"Space"}}),[$,k]=u.useState(!1);u.useEffect(()=>{localStorage.setItem("pawscord_user_volumes",JSON.stringify(d))},[d]);const R=u.useCallback((E,ae)=>{c(C=>({...C,[E]:Math.max(0,Math.min(200,ae))}))},[]),L=u.useCallback(E=>{const ae=Math.max(20,Math.min(80,E));b(ae),localStorage.setItem("pawscord_vad_sensitivity",ae.toString())},[]),B=u.useCallback(E=>{const C=["low","medium","high","aggressive"].includes(E)?E:"high";T(C);try{const ne=JSON.parse(localStorage.getItem("voice_settings")||"{}");ne.audio={...ne.audio,noiseSuppressionLevel:C},localStorage.setItem("voice_settings",JSON.stringify(ne))}catch{}},[]),X=u.useCallback(E=>{A(E),localStorage.setItem("pawscord_screen_quality",E)},[]),J=u.useCallback(E=>{const ae=parseInt(E);W(ae),localStorage.setItem("pawscord_screen_fps",ae.toString())},[]),de=u.useCallback(E=>{_e(E),localStorage.setItem("pawscord_system_audio",E.toString())},[]),G=u.useCallback(E=>{r(E),localStorage.setItem("pawscord_noise_gate_enabled",E.toString())},[]),ie=u.useCallback(E=>{const ae=Math.max(-80,Math.min(-20,E));e(ae),localStorage.setItem("pawscord_noise_gate",ae.toString())},[]),fe=u.useCallback(E=>{i(E),localStorage.setItem("pawscord_visualizer",E.toString())},[]),ee=u.useCallback(E=>{M(E),localStorage.setItem("pawscord_ptt_key",E)},[]);return{noiseGateThreshold:t,isNoiseGateEnabled:n,isVisualizerEnabled:s,remoteVolumes:d,setRemoteVolumes:c,mutedUsers:p,setMutedUsers:f,isSpatialAudioEnabled:g,setIsSpatialAudioEnabled:m,vadSensitivity:h,isNoiseSuppressionEnabled:_,setIsNoiseSuppressionEnabled:v,noiseSuppressionLevel:y,screenShareQuality:P,screenShareFPS:K,includeSystemAudio:te,isPTTMode:D,setIsPTTMode:Y,pttKey:Z,isPTTActive:$,setIsPTTActive:k,setRemoteVolume:R,updateVadSensitivity:L,updateNoiseSuppressionLevel:B,updateScreenQuality:X,updateScreenFPS:J,toggleSystemAudio:de,toggleNoiseGate:G,updateNoiseGateThreshold:ie,toggleVisualizer:fe,updatePTTKey:ee}}function ka({isInVoice:t,localAudioStream:e,remoteStreams:n,currentRoom:r}){const[s,i]=u.useState(!1),[d,c]=u.useState(0),p=u.useRef([]),f=u.useRef(null),g=u.useRef(null),m=u.useCallback(()=>{if(!(!t||s))try{const _=new(window.AudioContext||window.webkitAudioContext),v=_.createMediaStreamDestination();e&&_.createMediaStreamSource(e).connect(v),Object.entries(n).forEach(([T,P])=>{!T.includes("_camera")&&!T.includes("_screen")&&P.getAudioTracks().length>0&&_.createMediaStreamSource(P).connect(v)});const y=new MediaRecorder(v.stream,{mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:128e3});p.current=[],y.ondataavailable=T=>{T.data.size>0&&p.current.push(T.data)},y.onstop=()=>{const T=new Blob(p.current,{type:"audio/webm"}),P=URL.createObjectURL(T),A=document.createElement("a");A.href=P,A.download=`pawscord-voice-${r}-${Date.now()}.webm`,A.click(),URL.revokeObjectURL(P)},y.start(1e3),f.current=y,i(!0),c(0),g.current=setInterval(()=>{c(T=>T+1)},1e3)}catch(_){oe.error("Kayƒ±t ba≈ülatƒ±lamadƒ±: "+_.message)}},[t,s,e,n,r]),h=u.useCallback(()=>{s&&(f.current&&f.current.state!=="inactive"&&f.current.stop(),g.current&&(clearInterval(g.current),g.current=null),f.current=null,i(!1),c(0))},[s]),b=u.useCallback(()=>{if(p.current.length===0){oe.warning("Hen√ºz kayƒ±t yok!");return}const _=new Blob(p.current,{type:"audio/webm"}),v=URL.createObjectURL(_),y=document.createElement("a");y.href=v,y.download=`pawscord-voice-${r||"recording"}-${Date.now()}.webm`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(v)},[r]);return{isRecording:s,recordingDuration:d,startRecording:m,stopRecording:h,downloadRecording:b}}function wa(){const[t,e]=u.useState({}),n=u.useRef(null),r=u.useCallback(i=>{n.current||(n.current=setInterval(async()=>{const d={};for(const[c,p]of Object.entries(i.current))try{const f=await p.getStats();let g=null,m=null;f.forEach(h=>{h.type==="inbound-rtp"&&h.kind==="audio"&&(g={packetsReceived:h.packetsReceived,packetsLost:h.packetsLost,jitter:h.jitter,bytesReceived:h.bytesReceived}),h.type==="inbound-rtp"&&h.kind==="video"&&(m={packetsReceived:h.packetsReceived,packetsLost:h.packetsLost,framesDecoded:h.framesDecoded,frameWidth:h.frameWidth,frameHeight:h.frameHeight}),h.type==="candidate-pair"&&h.state==="succeeded"&&(d[c]={...d[c],rtt:h.currentRoundTripTime*1e3,connectionType:h.localCandidateId?.includes("relay")?"TURN":"STUN/Direct"})}),d[c]={...d[c],audio:g,video:m,connectionState:p.connectionState,iceConnectionState:p.iceConnectionState}}catch{}e(d)},2e3))},[]),s=u.useCallback(()=>{n.current&&(clearInterval(n.current),n.current=null,e({}))},[]);return{connectionStats:t,startStatsMonitoring:r,stopStatsMonitoring:s}}function Ea({isVisualizerEnabled:t,localAudioStream:e,remoteStreams:n,isInVoice:r,globalAudioContextRef:s}){const[i,d]=u.useState({local:new Uint8Array(128),remote:{}}),c=u.useRef(null),p=u.useRef(null),f=u.useCallback(()=>{if(!(!t||!e)&&!c.current)try{s.current||(s.current=new(window.AudioContext||window.webkitAudioContext));const m=s.current,h=m.createAnalyser();h.fftSize=256;const b=m.createMediaStreamSource(e);b.connect(h),p.current={local:h,localSource:b,remote:{}},Object.entries(n).forEach(([_,v])=>{if(!_.includes("_camera")&&!_.includes("_screen")){const y=m.createAnalyser();y.fftSize=256;const T=m.createMediaStreamSource(v);T.connect(y),p.current.remote[_]={analyser:y,source:T}}}),c.current=setInterval(()=>{const _=new Uint8Array(128);p.current.local.getByteFrequencyData(_);const v={};Object.entries(p.current.remote).forEach(([y,{analyser:T}])=>{const P=new Uint8Array(128);T.getByteFrequencyData(P),v[y]=P}),d({local:_,remote:v})},33)}catch{}},[t,e,n,s]),g=u.useCallback(()=>{if(c.current&&(clearInterval(c.current),c.current=null),p.current){try{p.current.localSource?.disconnect(),Object.values(p.current.remote).forEach(({source:m})=>{m?.disconnect()})}catch{}p.current=null}d({local:new Uint8Array(128),remote:{}})},[]);return u.useEffect(()=>(r&&t?f():g(),()=>g()),[r,t,f,g]),{audioVisualizerData:i,startVisualizer:f,stopVisualizer:g}}const ks=u.createContext(null),Ta=({children:t})=>{const{user:e,token:n}=Vt(),r=e?.username,[s,i]=u.useState(!1),[d,c]=u.useState(!1),[p,f]=u.useState(null),[g,m]=u.useState(!1),[h,b]=u.useState(!1),[_,v]=u.useState(!1),[y,T]=u.useState(!1),[P,A]=u.useState(!1),[K,W]=u.useState(null),[te,_e]=u.useState(50),[D,Y]=u.useState(null),[Z,M]=u.useState(null),[$,k]=u.useState(null),[R,L]=u.useState({}),[B,X]=u.useState([]),[J,de]=u.useState(null),[G,ie]=u.useState({isActive:!1,url:"https://www.youtube.com/watch?v=jfKfPfyJRdk",playing:!1,time:0,lastSyncAction:null,timestamp:0}),[fe,ee]=u.useState({gameType:"rps",moves:{},result:null,players:[],currentTurn:null}),{noiseGateThreshold:E,isNoiseGateEnabled:ae,isVisualizerEnabled:C,remoteVolumes:ne,mutedUsers:V,isSpatialAudioEnabled:N,setIsSpatialAudioEnabled:be,vadSensitivity:Ee,isNoiseSuppressionEnabled:ue,setIsNoiseSuppressionEnabled:Se,noiseSuppressionLevel:se,screenShareQuality:le,screenShareFPS:ce,includeSystemAudio:Te,isPTTMode:je,setIsPTTMode:He,pttKey:Ue,isPTTActive:re,setIsPTTActive:Le,setRemoteVolume:cr,updateVadSensitivity:un,updateNoiseSuppressionLevel:pn,updateScreenQuality:dr,updateScreenFPS:ur,toggleSystemAudio:pr,toggleNoiseGate:fr,updateNoiseGateThreshold:Gt,toggleVisualizer:An,updatePTTKey:Pt}=Sa(),[Oe,Rt]=u.useState(Ht),[qt,Ye]=u.useState(!1),[mr,vt]=u.useState(0),[gr,jt]=u.useState(1e3),Ke=u.useRef(null),fn=u.useRef(null);u.useRef(null);const mn=u.useCallback(async()=>{if(!n){Rt(Ht),Zn(Ht);return}try{const x=await Fr(`${bt}/api/voice/turn-credentials/`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!x.ok)throw x.status===401||x.status,new Error(`TURN fetch failed ${x.status}`);const S=await x.json(),O=[...Ht,...S?.iceServers||[]];Rt(O),Zn(O)}catch{Rt(Ht),Zn(Ht)}},[n]);u.useEffect(()=>{mn()},[mn]);const he=u.useRef(null),Ie=u.useRef({}),St=u.useRef(null),mt=u.useRef(null),Re=u.useRef(null),tt=u.useRef(null),ve=u.useRef(null),ct=u.useRef(!1),Ae=u.useRef(!1),Mt=u.useRef(null),Ge=u.useRef(null),$t=u.useRef(null),zn=u.useRef(null),{isRecording:hr,recordingDuration:Vn,startRecording:yr,stopRecording:Nt,downloadRecording:Xr}=ka({isInVoice:s,localAudioStream:D,remoteStreams:R,currentRoom:p}),{connectionStats:Mn,startStatsMonitoring:eo,stopStatsMonitoring:Wt}=wa(),{audioVisualizerData:Bt,startVisualizer:$n,stopVisualizer:_r}=Ea({isVisualizerEnabled:C,localAudioStream:D,remoteStreams:R,isInVoice:s,globalAudioContextRef:mt});u.useEffect(()=>{Re.current=D},[D]),u.useEffect(()=>{tt.current=Z},[Z]),u.useEffect(()=>{ve.current=$},[$]),u.useEffect(()=>{if(!D||!s||g){A(!1);return}if(!mt.current){const xe=window.AudioContext||window.webkitAudioContext;mt.current=new xe}const x=mt.current,S=x.createAnalyser();S.fftSize=2048,S.smoothingTimeConstant=.85;const O=S.frequencyBinCount,U=new Uint8Array(O),Q=x.createMediaStreamSource(D);Q.connect(S);let z=null;const j=Ee,I=150,pe=setInterval(()=>{S.getByteFrequencyData(U);const xe=U.slice(10,100);xe.reduce((nt,Dt)=>nt+Dt,0)/xe.length>j&&(A(!0),z&&clearTimeout(z),z=setTimeout(()=>A(!1),I))},25);return()=>{clearInterval(pe),z&&clearTimeout(z),Q.disconnect()}},[D,s,g,Ee]);const Jt=u.useCallback(()=>{if(!St.current){const x=window.AudioContext||window.webkitAudioContext;St.current=new x}St.current.state==="suspended"&&St.current.resume()},[]),It=u.useCallback(async()=>{const x=!N;if(x)try{await kn.initialize(),Object.keys(R).forEach((S,O)=>{const U=R[S],Q=S.replace("_camera","").replace("_screen","");if(!S.includes("_camera")&&!S.includes("_screen")){const z=O/Object.keys(R).length*2*Math.PI,j={x:Math.cos(z)*3,y:0,z:Math.sin(z)*3};kn.addUser(Q,U,j)}})}catch{oe.warning("Spatial Audio ba≈ülatƒ±lamadƒ±. Tarayƒ±cƒ±nƒ±z desteklemiyor olabilir.");return}else kn.destroy();be(x),localStorage.setItem("pawscord_spatial_audio",x.toString())},[N,R]),Nn=u.useCallback(async()=>{const x=!ue;if(Se(x),localStorage.setItem("pawscord_noise_suppression",x.toString()),D){const S=D.getAudioTracks()[0];if(S&&S.applyConstraints)try{await S.applyConstraints({noiseSuppression:x,echoCancellation:!0,autoGainControl:!0})}catch{try{const Q=(await navigator.mediaDevices.getUserMedia({audio:{noiseSuppression:x,echoCancellation:!0,autoGainControl:!0,googHighpassFilter:!0,googNoiseSuppression:x,googNoiseSuppression2:x,googEchoCancellation:!0,googAutoGainControl:!0,googTypingNoiseDetection:!0,sampleRate:{ideal:48e3},latency:{ideal:.01},channelCount:{ideal:1}}})).getAudioTracks()[0],z=new MediaStream([Q]);Y(z),Re.current=z}catch{}}}},[ue,D]),gt=u.useCallback(()=>{const x=!je;He(x),localStorage.setItem("pawscord_ptt_mode",x.toString()),x?(Re.current&&Re.current.getAudioTracks().forEach(S=>{S.enabled=!1}),m(!0)):(Re.current&&Re.current.getAudioTracks().forEach(S=>{S.enabled=!0}),m(!1))},[je]);u.useEffect(()=>{if(!je||!s)return;const x=O=>{const U=O.target;U.tagName==="INPUT"||U.tagName==="TEXTAREA"||O.code===Ue&&!O.repeat&&(Le(!0),Re.current&&Re.current.getAudioTracks().forEach(Q=>{Q.enabled=!0}))},S=O=>{O.code===Ue&&(Le(!1),Re.current&&Re.current.getAudioTracks().forEach(U=>{U.enabled=!1}))};return window.addEventListener("keydown",x),window.addEventListener("keyup",S),()=>{window.removeEventListener("keydown",x),window.removeEventListener("keyup",S)}},[je,s,Ue]),u.useEffect(()=>{N&&Object.keys(R).forEach((x,S)=>{const O=R[x],U=x.replace("_camera","").replace("_screen","");if(!x.includes("_camera")&&!x.includes("_screen")&&!kn.spatialNodes[U]){const Q=S/Object.keys(R).length*2*Math.PI,z={x:Math.cos(Q)*3,y:0,z:Math.sin(Q)*3};kn.addUser(U,O,z)}})},[R,N]);const qe=u.useCallback(x=>{he.current?.readyState===WebSocket.OPEN?(lt.signal(`Sending ${x.type} to ${x.receiver_username||"BROADCAST"}`),he.current.send(JSON.stringify({...x,sender_username:r}))):lt.warn("[Signal] WS not ready, cannot send:",x.type)},[r]),gn=u.useCallback((x,S)=>{try{const U=x.getSenders().find(I=>I.track?.kind==="video");if(!U)return;const Q=U.getParameters();(!Q.encodings||Q.encodings.length===0)&&(Q.encodings=[{}]);const z={low:{maxBitrate:3e5,maxFramerate:15},medium:{maxBitrate:8e5,maxFramerate:24},high:{maxBitrate:25e5,maxFramerate:30}},j=z[S]||z.medium;Q.encodings[0].maxBitrate=j.maxBitrate,Q.encodings[0].maxFramerate=j.maxFramerate,U.setParameters(Q).then(()=>{}).catch(I=>{})}catch{}},[]),xr=u.useCallback((x,S)=>{const{track:O}=S;lt.webrtc(`Track Received from ${x}:`,O.kind,O.id,"label:",O.label,"hint:",O.contentHint);const U=(O.label||"").toLowerCase(),Q=U.includes("screen")||U.includes("window")||U.includes("monitor")||U.includes("display")||U.includes("tab")||O.contentHint==="detail",z=O.kind==="video"&&Q?`${x}_screen`:O.kind==="video"?`${x}_camera`:x;if(L(j=>{const I=j[z];if(I){if(!I.getTracks().some(xe=>xe.id===O.id)){I.addTrack(O);const xe=new MediaStream(I.getTracks());return{...j,[z]:xe}}return j}const pe=new MediaStream([O]);return{...j,[z]:pe}}),O.kind==="audio"){Jt();try{const j=document.createElement("audio");j.id=`remote-audio-${x}`,j.srcObject=new MediaStream([O]),j.autoplay=!0,j.playsInline=!0;const I=document.getElementById(`remote-audio-${x}`);I&&I.remove(),j.style.display="none",document.body.appendChild(j),j.play().then(()=>{}).catch(pe=>{const xe=()=>{j.play().catch(()=>{}),document.removeEventListener("click",xe)};document.addEventListener("click",xe,{once:!0})})}catch{}}else O.kind},[Jt]),Ve=u.useRef({}),kt=u.useCallback((x,S=!1)=>{if(Ie.current[x])return Ie.current[x];const O=new RTCPeerConnection(Ur);Ie.current[x]=O;try{O.getTransceivers().forEach(Q=>{if(Q.sender&&Q.sender.track?.kind==="audio"){const z=RTCRtpSender.getCapabilities("audio")?.codecs||[],j=z.filter(xe=>xe.mimeType.toLowerCase().includes("opus")),I=z.filter(xe=>!xe.mimeType.toLowerCase().includes("opus")),pe=[...j,...I];Q.setCodecPreferences&&pe.length>0&&Q.setCodecPreferences(pe)}})}catch{}return typeof window<"u"&&(window.__pawscord_peer_connections__=Ie.current),O.onicecandidate=U=>{U.candidate&&qe({type:"candidate",candidate:U.candidate,receiver_username:x})},O.ontrack=U=>xr(x,U),Re.current&&Re.current.getTracks().forEach(U=>{lt.webrtc(`Adding local audio track to PC for ${x}:`,U.kind),O.addTrack(U,Re.current)}),O.oniceconnectionstatechange=()=>{O.iceConnectionState==="failed"?(Ye(!0),O.restartIce(),setTimeout(()=>Ye(!1),3e3)):O.iceConnectionState==="disconnected"?(Ye(!0),setTimeout(()=>{(O.iceConnectionState==="disconnected"||O.iceConnectionState==="failed")&&(L(U=>{const Q={...U};return delete Q[x],Q}),Ie.current[x]&&(Ie.current[x].close(),delete Ie.current[x])),Ye(!1)},15e3)):O.iceConnectionState==="closed"?(L(U=>{const Q={...U};return delete Q[x],Q}),Ie.current[x]&&delete Ie.current[x],Ye(!1)):O.iceConnectionState==="connected"?(Ye(!1),setTimeout(async()=>{try{(await O.getStats()).forEach(Q=>{if(Q.type==="candidate-pair"&&Q.state==="succeeded"){const z=Q.currentRoundTripTime*1e3;z>500?gn(O,"low"):z>300?gn(O,"medium"):gn(O,"high")}})}catch{}},2e3)):O.iceConnectionState},O},[qe,xr]),hn=u.useCallback(async x=>{if(x.type==="kicked"){if(x.reason==="moved"&&x.target_channel){oe.info(`üîÄ ${x.message||"Ba≈üka kanala ta≈üƒ±ndƒ±nƒ±z"}`,3e3),ht();const j=x.target_channel;setTimeout(()=>{Mt.current&&Mt.current(j)},800)}else oe.warning(`Sesli Kanaldan √áƒ±karƒ±ldƒ±nƒ±z

Neden: ${x.message}`,5e3),ht();return}if(x.type==="video_ended"){const j=x.from||x.username,I=x.streamType||"camera",pe=`${j}_${I}`;L(xe=>{const ke={...xe};return ke[pe]&&(ke[pe].getTracks().forEach(nt=>nt.stop()),delete ke[pe]),ke});return}if(x.type==="voice_reaction"){const j=x.from||x.username;de({username:j,emoji:x.emoji,timestamp:Date.now()}),setTimeout(()=>{de(I=>I&&I.timestamp===Date.now()?null:I)},3e3);return}if(x.type==="game_signal"){const j=x.from||x.username;ee(I=>{const pe={...I};if(x.action==="start")pe.gameType=x.game_type,pe.players=[j,x.target].filter(Boolean),pe.moves={},pe.result=null,pe.currentTurn=j;else if(x.action==="move"){if(pe.moves={...I.moves,[j]:x.move},x.game_type==="rps"&&Object.keys(pe.moves).length===2){const[xe,ke]=Object.keys(pe.moves),nt=pe.moves[xe],Dt=pe.moves[ke];nt===Dt?pe.result={winner:null,type:"draw"}:{rock:"scissors",scissors:"paper",paper:"rock"}[nt]===Dt?pe.result={winner:xe,loser:ke}:pe.result={winner:ke,loser:xe}}}else x.action==="end"&&(pe.result=x.result||{type:"cancelled"});return pe});return}if(x.type==="cinema_sync"){const j=x.from||x.username;ie(I=>({...I,isActive:x.action!=="stop",url:x.url||I.url,playing:x.action==="play",time:x.time||I.time,lastSyncAction:x.action,timestamp:Date.now(),syncedBy:j}));return}if(x.type==="current_users"){X(j=>{const I=x.users||[],pe=I.some(nt=>nt.username===r),xe=j.find(nt=>nt.username===r);let ke=[...I];return!pe&&xe?ke=[xe,...I]:!pe&&r&&(ke=[{username:r,isMuted:g,isCameraOn:_,isScreenSharing:y,isTalking:P},...I]),ke});return}const S=x.from||x.sender_username||x.username,{type:O,sdp:U,candidate:Q}=x;if(!S||S===r)return;let z=Ie.current[S];if(!z)if(O==="offer")z=kt(S,!1);else if(O==="user_joined"){if(X(j=>j.find(I=>I.username===S)?j:[...j,{username:S,isMuted:!1,isCameraOn:!1,isScreenSharing:!1}]),z=kt(S,!0),Re.current){const j=z.getSenders();Re.current.getTracks().forEach(I=>{j.some(xe=>xe.track===I)||(lt.webrtc(`Adding audio track to new peer ${S}:`,I.kind),z.addTrack(I,Re.current))})}if(tt.current){const j=z.getSenders();tt.current.getTracks().forEach(I=>{j.some(xe=>xe.track===I)||(lt.webrtc(`Adding camera track to new peer ${S}:`,I.kind),z.addTrack(I,tt.current))})}if(ve.current){const j=z.getSenders();ve.current.getTracks().forEach(I=>{j.some(xe=>xe.track===I)||(lt.webrtc(`Adding screen track to new peer ${S}:`,I.kind),z.addTrack(I,ve.current))})}try{const j=await z.createOffer();await z.setLocalDescription(j),qe({type:"offer",sdp:z.localDescription,target:S}),lt.signal(`Sent offer to ${S}`)}catch{}return}else if(O==="user_left"){X(I=>I.filter(pe=>pe.username!==S));const j=document.getElementById(`remote-audio-${S}`);j&&(j.pause(),j.srcObject=null,j.remove()),L(I=>{const pe={...I};return delete pe[S],delete pe[`${S}_camera`],delete pe[`${S}_screen`],pe}),Ie.current[S]&&(Ie.current[S].close(),delete Ie.current[S]);return}else if(O==="stream_update"){if(X(j=>j.map(I=>I.username===S?{...I,isCameraOn:x.streamType==="camera"?x.enabled:I.isCameraOn,isScreenSharing:x.streamType==="screen"?x.enabled:I.isScreenSharing}:I)),x.enabled&&!Ie.current[S]){const j=kt(S,!0);Re.current&&Re.current.getTracks().forEach(I=>{lt.webrtc(`Adding audio track to ${S}:`,I.kind),j.addTrack(I,Re.current)}),tt.current&&tt.current.getTracks().forEach(I=>{lt.webrtc(`Adding camera track to ${S}:`,I.kind),j.addTrack(I,tt.current)}),ve.current&&ve.current.getTracks().forEach(I=>{lt.webrtc(`Adding screen track to ${S}:`,I.kind),j.addTrack(I,ve.current)});try{const I=await j.createOffer();await j.setLocalDescription(I),qe({type:"offer",sdp:j.localDescription,target:S}),lt.signal(`Sent offer to ${S} after stream_update`)}catch{}}return}else return;try{if(O==="offer"){if(z.signalingState!=="stable")return;await z.setRemoteDescription(new RTCSessionDescription(U));const j=await z.createAnswer();if(await z.setLocalDescription(j),qe({type:"answer",sdp:z.localDescription,target:S}),Ve.current[S]){for(const I of Ve.current[S])try{await z.addIceCandidate(I)}catch{}delete Ve.current[S]}}else if(O==="answer"){if(z.signalingState!=="have-local-offer")return;if(await z.setRemoteDescription(new RTCSessionDescription(U)),Ve.current[S]){for(const j of Ve.current[S])try{await z.addIceCandidate(j)}catch{}delete Ve.current[S]}}else O==="candidate"&&(z.remoteDescription?await z.addIceCandidate(new RTCIceCandidate(Q)):(Ve.current[S]||(Ve.current[S]=[]),Ve.current[S].push(new RTCIceCandidate(Q))))}catch{}},[r,kt,qe]),ht=u.useCallback(()=>{if(!ct.current){if(ct.current=!0,he.current&&he.current.readyState===WebSocket.OPEN)try{he.current.send(JSON.stringify({type:"user_leaving",sender_username:r}))}catch{}Re.current&&(Re.current.getTracks().forEach(x=>{x.stop()}),Y(null),Re.current=null),Z&&(Z.getTracks().forEach(x=>{x.stop()}),M(null),v(!1)),$&&($.getTracks().forEach(x=>{x.stop()}),k(null),T(!1)),Object.entries(Ie.current).forEach(([x,S])=>{S.close()}),Ie.current={},L({}),Ve.current={},he.current&&(he.current.onclose=null,he.current.close(),he.current=null),i(!1),f(null),c(!1),m(!1),b(!1),Nt(),Ge.current&&(clearInterval(Ge.current),Ge.current=null),Ke.current&&(clearTimeout(Ke.current),Ke.current=null),fn.current&&(clearInterval(fn.current),fn.current=null),vt(0),jt(1e3),Ye(!1),setTimeout(()=>{ct.current=!1},100)}},[r,Z,$,Nt]),Lt=u.useCallback(async x=>{if(s&&p&&p!==x&&!Ae.current){if(Ae.current=!0,he.current){const S=he.current;try{S.send(JSON.stringify({type:"user_leaving",sender_username:r}))}catch{}S.onclose=null,S.onerror=null,S.onmessage=null,S.close(1e3,"Switching channel"),he.current=null}Object.values(Ie.current).forEach(S=>S.close()),Ie.current={},L({}),Ve.current={},Ae.current=!1}if(!(s&&p===x)&&!Ae.current){c(!0),f(x);try{Oe&&Oe.length>0&&Zn(Oe);let S;const O=Re.current?.getAudioTracks()?.[0];if(O&&O.readyState==="live")S=Re.current;else{const z=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:{ideal:48e3},sampleSize:{ideal:16},channelCount:{ideal:1},googEchoCancellation:!0,googAutoGainControl:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,googAudioMirroring:!1,latency:{ideal:.02}},video:!1});if(S=z,ue)try{S=ba(z,mt)}catch{S=z}}Y(S),Re.current=S,S.getAudioTracks().forEach(z=>{z.enabled=!g}),Jt(),Ge.current||(Ge.current=setInterval(async()=>{const j=Re.current?.getAudioTracks()?.[0];if(!(!s||ct.current)&&(St.current?.state==="suspended"&&await St.current.resume().catch(()=>{}),!j||j.readyState==="ended"||!j.enabled&&!g&&!je))try{const I=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,googEchoCancellation:!0,googNoiseSuppression:!0,googHighpassFilter:!0,googTypingNoiseDetection:!0,sampleRate:48e3,channelCount:1},video:!1});Y(I),Re.current=I;const pe=I.getAudioTracks()[0];Object.values(Ie.current).forEach(xe=>{xe.getSenders().filter(ke=>ke.track?.kind==="audio").forEach(ke=>ke.replaceTrack(pe).catch(()=>{}))})}catch{}},8e3));const U=`${ua}://${pa}/ws/voice/${x}/?token=${n}`,Q=new WebSocket(U);he.current=Q,Q.onopen=()=>{i(!0),c(!1),X(z=>z.some(I=>I.username===r)?z:[{username:r,isMuted:g,isCameraOn:_,isScreenSharing:y,isTalking:!1},...z])},Q.onmessage=z=>{try{const j=JSON.parse(z.data);hn(j)}catch{}},Q.onerror=z=>{c(!1),!ct.current&&Ae.current},Q.onclose=z=>{if(ct.current||Ae.current){Ye(!1),vt(0),jt(1e3),Ke.current&&(clearTimeout(Ke.current),Ke.current=null);return}if(z.code===1e3){ht();return}if(x&&s){const I=mr+1;if(I>10){oe.error("Sesli sohbet baƒülantƒ±sƒ± 10 denemeden sonra kurulamadƒ±. L√ºtfen sayfayƒ± yenileyin.",5e3),ht(),vt(0),jt(1e3);return}const pe=Math.min(gr,3e4);Ye(!0),vt(I),Ke.current&&clearTimeout(Ke.current),Ke.current=setTimeout(()=>{!ct.current&&!Ae.current&&x?(jt(xe=>Math.min(xe*2,3e4)),Lt(x).then(()=>{vt(0),jt(1e3),Ye(!1)}).catch(xe=>{})):(Ye(!1),vt(0),jt(1e3))},pe)}else ht()}}catch(S){c(!1),Ae.current=!1,S.name==="NotAllowedError"?oe.warning("Mikrofon izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan izin verin.",5e3):S.name==="NotFoundError"?oe.warning("Mikrofon bulunamadƒ±. L√ºtfen bir mikrofon baƒülayƒ±n."):oe.error("Sesli sohbete baƒülanƒ±lamadƒ±: "+S.message)}}},[s,p,n,hn,Jt,ht]);u.useEffect(()=>{Mt.current=Lt},[Lt]);const Bn=u.useCallback(()=>{m(x=>{const S=!x;return Re.current&&Re.current.getAudioTracks().forEach(O=>{O.enabled=!S}),he.current?.readyState===WebSocket.OPEN&&he.current.send(JSON.stringify({type:"mic_off_state",is_mic_off:S})),S})},[]),Zt=u.useCallback(()=>{b(x=>{const S=!x;return he.current?.readyState===WebSocket.OPEN&&he.current.send(JSON.stringify({type:"deaf_state",is_deafened:S})),S})},[]),Ot=u.useRef(!1),Fn=u.useCallback(async()=>{if(!Ot.current){Ot.current=!0;try{const x=tt.current;if(x){v(!1),M(null),tt.current=null,x.getTracks().forEach(O=>{O.stop()});const S=[];for(const[O,U]of Object.entries(Ie.current)){const Q=U.getSenders();let z=!1;for(const j of Q)if(j.track&&j.track.kind==="video"&&j.track.contentHint!=="detail")try{U.removeTrack(j),z=!0}catch{}if(z){const j=(async()=>{try{const I=await U.createOffer();await U.setLocalDescription(I),qe({type:"offer",sdp:U.localDescription,target:O})}catch{}})();S.push(j)}}he.current?.readyState===WebSocket.OPEN&&(he.current.send(JSON.stringify({type:"camera_state",is_camera_on:!1})),he.current.send(JSON.stringify({type:"video_ended",streamType:"camera"}))),Promise.all(S).catch(O=>{})}else{const S=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}}});if(!Ot.current){S.getTracks().forEach(Q=>Q.stop());return}tt.current=S,M(S),v(!0);const O=S.getVideoTracks()[0];O.onended=()=>{M(null),tt.current=null,v(!1),he.current?.readyState===WebSocket.OPEN&&he.current.send(JSON.stringify({type:"video_ended",streamType:"camera"}))};try{O.contentHint="motion"}catch{}const U=[];for(const[Q,z]of Object.entries(Ie.current)){const j=(async()=>{try{z.addTrack(O,S);const I=await z.createOffer();await z.setLocalDescription(I),qe({type:"offer",sdp:z.localDescription,target:Q})}catch{}})();U.push(j)}he.current?.readyState===WebSocket.OPEN&&he.current.send(JSON.stringify({type:"camera_state",is_camera_on:!0})),Promise.all(U).catch(Q=>{})}}catch(x){x.name==="NotAllowedError"?oe.warning("Kamera izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan kamera iznini a√ßƒ±n.",5e3):x.name==="NotFoundError"?oe.warning("Kamera bulunamadƒ±. L√ºtfen bir kamera baƒülayƒ±n."):oe.error("Kamera ba≈ülatƒ±lamadƒ±: "+x.message),v(!1),tt.current=null,M(null)}finally{setTimeout(()=>{Ot.current=!1},300)}}},[qe]),yn=Fn,_n=u.useRef(!1),xn=u.useCallback(async()=>{if(!_n.current){_n.current=!0;try{const x=ve.current;if(x){T(!1),k(null),ve.current=null,x.getTracks().forEach(O=>{O.stop()});const S=[];for(const[O,U]of Object.entries(Ie.current)){const Q=U.getSenders();let z=!1;for(const j of Q)if(j.track&&j.track.contentHint==="detail")try{U.removeTrack(j),z=!0}catch{}if(z){const j=(async()=>{try{const I=await U.createOffer();await U.setLocalDescription(I),qe({type:"offer",sdp:U.localDescription,target:O})}catch{}})();S.push(j)}}he.current?.readyState===WebSocket.OPEN&&(he.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!1})),he.current.send(JSON.stringify({type:"video_ended",streamType:"screen"}))),Promise.all(S).catch(O=>{})}else{const S={"720p":{width:1280,height:720},"1080p":{width:1920,height:1080},"4K":{width:3840,height:2160}},O=S[le]||S["1080p"],U=await navigator.mediaDevices.getDisplayMedia({video:{cursor:"always",displaySurface:"monitor",width:{ideal:O.width},height:{ideal:O.height},frameRate:{ideal:ce}},audio:Te});if(!_n.current){U.getTracks().forEach(j=>j.stop());return}U.getVideoTracks()[0].onended=()=>{k(null),ve.current=null,T(!1),he.current?.readyState===WebSocket.OPEN&&(he.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!1})),he.current.send(JSON.stringify({type:"video_ended",streamType:"screen"})))},ve.current=U,k(U),T(!0);const Q=U.getVideoTracks()[0];try{Q.contentHint="detail"}catch{}const z=[];for(const[j,I]of Object.entries(Ie.current)){const pe=(async()=>{try{I.addTrack(Q,U);const xe=await I.createOffer();await I.setLocalDescription(xe),qe({type:"offer",sdp:I.localDescription,target:j})}catch{}})();z.push(pe)}he.current?.readyState===WebSocket.OPEN&&he.current.send(JSON.stringify({type:"screen_share_state",is_sharing:!0})),Promise.all(z).catch(j=>{})}}catch(x){x.name==="NotAllowedError"||(x.name==="NotFoundError"?oe.warning("Ekran payla≈üƒ±mƒ± desteklenmiyor."):oe.error("Ekran payla≈üƒ±mƒ± ba≈ülatƒ±lamadƒ±: "+x.message)),T(!1),ve.current=null,k(null)}finally{setTimeout(()=>{_n.current=!1},300)}}},[qe,le,ce,Te]),to=u.useCallback(async(x,S=50)=>{if(!(!D||!s))try{if($t.current&&($t.current.forEach(z=>{try{z.disconnect()}catch{}}),$t.current=null),!x){W(null);return}const O=mt.current||new AudioContext;mt.current||(mt.current=O);const{nodes:U,outputStream:Q}=va(x,S,O,D);$t.current=U,zn.current=Q,W(x),_e(S)}catch{oe.error("Ses efekti uygulanamadƒ±")}},[D,s]),Un=u.useCallback(x=>{!he.current||he.current.readyState!==WebSocket.OPEN||he.current.send(JSON.stringify({type:"voice_reaction",emoji:x}))},[]),no=u.useCallback((x,S,O=null,U=null)=>{!he.current||he.current.readyState!==WebSocket.OPEN||he.current.send(JSON.stringify({type:"game_signal",game_type:x,action:S,move:O,target:U}))},[]),Hn=u.useCallback((x,S=0,O=null)=>{!he.current||he.current.readyState!==WebSocket.OPEN||he.current.send(JSON.stringify({type:"cinema_sync",action:x,time:S,url:O}))},[]);return u.useEffect(()=>()=>{Nt(),Ge.current&&(clearInterval(Ge.current),Ge.current=null),Wt()},[Nt,Wt]),o.jsx(ks.Provider,{value:{isInVoice:s,isConnecting:d,currentRoom:p,isMuted:g,isDeafened:h,isVideoEnabled:_,isScreenSharing:y,isTalking:P,isSpatialAudioEnabled:N,vadSensitivity:Ee,isNoiseSuppressionEnabled:ue,screenShareQuality:le,screenShareFPS:ce,isRecording:hr,recordingDuration:Vn,isPTTMode:je,isPTTActive:re,pttKey:Ue,includeSystemAudio:Te,localStream:D,localAudioStream:D,localCameraStream:Z,localScreenStream:$,remoteStreams:R,connectedUsers:B,remoteVolumes:ne,mutedUsers:V,joinVoiceRoom:Lt,leaveVoiceRoom:ht,joinChannel:Lt,leaveChannel:ht,setRemoteVolume:cr,setIsMuted:m,setIsDeafened:b,setIsVideoEnabled:v,setIsScreenSharing:T,toggleMute:Bn,toggleDeafened:Zt,toggleVideo:Fn,toggleCamera:yn,toggleScreenShare:xn,toggleSpatialAudio:It,updateVadSensitivity:un,toggleNoiseSuppression:Nn,updateScreenQuality:dr,updateScreenFPS:ur,toggleSystemAudio:pr,togglePTTMode:gt,updatePTTKey:Pt,startRecording:yr,stopRecording:Nt,downloadRecording:Xr,sendSignal:qe,isPttActive:re,sendReaction:Un,lastReaction:J,applyVoiceEffect:to,activeVoiceEffect:K,voiceEffectIntensity:te,setVoiceEffectIntensity:_e,cinemaState:G,setCinemaState:ie,sendCinemaSync:Hn,gameState:fe,setGameState:ee,sendGameSignal:no,connectionStats:Mn,startStatsMonitoring:eo,stopStatsMonitoring:Wt,noiseSuppressionLevel:se,updateNoiseSuppressionLevel:pn,iceServers:Oe,isReconnecting:qt,adjustBandwidth:gn,noiseGateThreshold:E,isNoiseGateEnabled:ae,toggleNoiseGate:fr,updateNoiseGateThreshold:Gt,audioVisualizerData:Bt,isVisualizerEnabled:C,toggleVisualizer:An,startVisualizer:$n,stopVisualizer:_r},children:t})},Ca=()=>u.useContext(ks),ws=u.createContext(null),Pa=({children:t})=>{const[e,n]=u.useState(!1),[r,s]=u.useState(null),[i,d]=u.useState(0),c=u.useCallback(f=>{s(f),f.type==="chat_message_handler"&&f.username==="‚ö° Signal Bot"&&(typeof Notification<"u"&&Notification.permission==="granted"&&document.hidden&&new Notification("üö® YENƒ∞ KRƒ∞PTO Sƒ∞NYALƒ∞!",{body:`${f.content.split(`
`)[2]}`,icon:"/logo192.png"}),d(g=>g+1))},[]),p=u.useMemo(()=>({isConnected:e,setIsConnected:n,globalData:r,setGlobalData:c,unreadGlobal:i,setUnreadGlobal:d}),[e,r,i,c]);return o.jsx(ws.Provider,{value:p,children:t})},Es=()=>u.useContext(ws),Ra=({message:t,endTime:e,level:n="info",onDismiss:r})=>{const[s,i]=u.useState("");u.useEffect(()=>{if(!e)return;const p=()=>{const g=new Date,h=new Date(e)-g;if(h<=0){i("Ending soon..."),setTimeout(()=>window.location.reload(),5e3);return}const b=Math.floor(h/(1e3*60*60)),_=Math.floor(h%(1e3*60*60)/(1e3*60));i(`${b}h ${_}m remaining`)};p();const f=setInterval(p,6e4);return()=>clearInterval(f)},[e]);const d={info:{bg:"rgba(88, 101, 242, 0.1)",border:"#5865f2",text:"#5865f2"},warning:{bg:"rgba(250, 166, 26, 0.1)",border:"#faa61a",text:"#faa61a"},critical:{bg:"rgba(240, 71, 71, 0.1)",border:"#f04747",text:"#f04747"}},c=d[n]||d.info;return o.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:c.bg,borderBottom:`2px solid ${c.border}`,padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",zIndex:9999,animation:"slideDown 0.3s ease"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx(vi,{style:{color:c.text,fontSize:"18px"}}),o.jsxs("div",{children:[o.jsx("div",{style:{color:c.text,fontWeight:"bold"},children:n==="critical"?"üö® Critical Maintenance":n==="warning"?"‚ö†Ô∏è Scheduled Maintenance":"‚ÑπÔ∏è Maintenance Notice"}),o.jsxs("div",{style:{color:"#dcddde",fontSize:"14px",marginTop:"2px"},children:[t,s&&o.jsxs("span",{style:{marginLeft:"10px",opacity:.7},children:["(",s,")"]})]})]})]}),r&&o.jsx("button",{onClick:r,style:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",padding:"8px",borderRadius:"4px",transition:"background 0.2s"},onMouseEnter:p=>p.target.style.background="rgba(255,255,255,0.1)",onMouseLeave:p=>p.target.style.background="none",children:o.jsx(Rn,{})})]})},it=({size:t="medium",text:e="Y√ºkleniyor...",fullscreen:n=!1})=>{const r={small:{spinner:24,text:"12px"},medium:{spinner:40,text:"14px"},large:{spinner:60,text:"16px"}},s=r[t]||r.medium,i=n?tn.fullscreenContainer:tn.inlineContainer;return o.jsxs("div",{style:i,children:[o.jsxs("div",{style:{...tn.spinnerWrapper,width:s.spinner,height:s.spinner},children:[o.jsx("div",{style:tn.spinnerOuter}),o.jsx("div",{style:tn.spinnerInner})]}),e&&o.jsx("div",{style:{...tn.loadingText,fontSize:s.text},children:e})]})},tn={fullscreenContainer:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#36393f",zIndex:9999,gap:"16px"},inlineContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",padding:"20px",minHeight:"100px"},spinnerWrapper:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},spinnerOuter:{position:"absolute",width:"100%",height:"100%",border:"3px solid rgba(88, 101, 242, 0.2)",borderTop:"3px solid #5865f2",borderRadius:"50%",animation:"spin 1s linear infinite"},spinnerInner:{position:"absolute",width:"70%",height:"70%",border:"3px solid rgba(88, 101, 242, 0.1)",borderBottom:"3px solid #7289da",borderRadius:"50%",animation:"spin 0.7s linear infinite reverse"},loadingText:{color:"#b5bac1",fontWeight:500,textAlign:"center",animation:"pulse 1.5s ease-in-out infinite"}};if(typeof document<"u"){const t=document.createElement("style");t.innerText=`
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
    `,document.head.querySelector("[data-loading-spinner-styles]")||(t.setAttribute("data-loading-spinner-styles","true"),document.head.appendChild(t))}const Qr=()=>"https://api.pawscord.com",ja=Qr(),Ia=()=>Qr().replace("/api","/media"),La=Qr,Im=Ia,Oa=`${ja}/api`,Da=La(),er=typeof window<"u"&&typeof window.require=="function",tr=typeof window<"u"&&window.Capacitor&&window.Capacitor.isNativePlatform(),Dn=Da,Ut=er||tr?"https://www.pawscord.com":Dn,ze=`${Dn}/api`,F=Dn,Ts=Dn.startsWith("https")?"wss":"ws",Cs=Dn.replace(/^https?:\/\//,""),Aa=`${ze}/messages/history/room/`,za=`${ze}/messages/history/dm/`,Ir=`${ze}/rooms/list_with_categories/`,Va=`${ze}/conversations/`,Ma=`${ze}/conversations/find_or_create/`,$a=`${ze}/users/update_profile/`,Na=`${ze}/users/change_username/`,Ba=`${ze}/gifs/list_local/`,jo="chat_drafts_v1",nr=()=>(Date.now()+Math.floor(Math.random()*1e3)).toString(),Fa=async t=>{const e=(await l(async()=>{const{default:n}=await import("./crypto-vendor-Drccqhv1.js").then(r=>r.s);return{default:n}},__vite__mapDeps([0,1]))).default;return new Promise((n,r)=>{const i=Math.ceil(t.size/2097152);let d=0;const c=new e.ArrayBuffer,p=new FileReader;p.onload=g=>{c.append(g.target.result),d++,d<i?f():n(c.end())},p.onerror=g=>r(g);function f(){const g=d*2097152,m=Math.min(g+2097152,t.size);p.readAsArrayBuffer(t.slice(g,m))}f()})},Ua=a.lazy(()=>l(()=>import("./CinemaModal-D0D2bLbt.js"),__vite__mapDeps([2,3,1,4]))),Ha=a.lazy(()=>l(()=>import("./CryptoChartModal-fqcyIg0Y.js"),__vite__mapDeps([5,1,4]))),Ya=a.lazy(()=>l(()=>import("./GifPicker-6uabRTki.js"),__vite__mapDeps([6,1]))),Ka=a.lazy(()=>l(()=>import("./StickerPicker-Dtikrkkc.js"),__vite__mapDeps([7,1]))),Ga=a.lazy(()=>l(()=>import("./UserProfilePanel-Cjsqn5J0.js"),__vite__mapDeps([8,1,9,10,11,12,13,3,14,15,0,4,16,17]))),qa=a.lazy(()=>l(()=>import("./AdminAnalyticsPanel-DNpEnDVa.js"),__vite__mapDeps([18,1,4,19,16]))),Wa=a.lazy(()=>l(()=>import("./AdminPanelModal-B1KLfJOu.js"),__vite__mapDeps([20,1,4,3,14,15,0,16]))),Ja=a.lazy(()=>l(()=>import("./APIUsagePanel-d-w25uTG.js"),__vite__mapDeps([21,1,4,3,14,15,0,16]))),Za=a.lazy(()=>l(()=>import("./AutoModerationDashboard-Bw37NF6z.js"),__vite__mapDeps([22,1,4,3,14,15,0,16]))),Qa=a.lazy(()=>l(()=>import("./AuditLogPanel-CpRhjmJM.js"),__vite__mapDeps([23,1,4]))),Xa=a.lazy(()=>l(()=>import("./BookmarkPanel-f2t8NKRo.js"),__vite__mapDeps([24,1,4,3,14,15,0,16]))),el=a.lazy(()=>l(()=>import("./ChannelPermissionsPanel-C1mr6BtZ.js"),__vite__mapDeps([25,1,4,3,14,15,0,16]))),tl=a.lazy(()=>l(()=>import("./CodeSnippetModal-CFB0Ycyg.js"),__vite__mapDeps([26,1,4]))),nl=a.lazy(()=>l(()=>import("./ConnectionsPanel-CVMGD8l8.js"),__vite__mapDeps([27,1,4,3,14,15,0,16,28]))),rl=a.lazy(()=>l(()=>import("./CreateGroupModal-CKGQtPZ_.js"),__vite__mapDeps([29,1,4,3,14,15,0,16]))),ol=a.lazy(()=>l(()=>import("./CustomStatusModal-BuquDTd9.js"),__vite__mapDeps([30,1,4,3,14,15,0,16]))),sl=a.lazy(()=>l(()=>import("./DJModal-BoyweJB-.js"),__vite__mapDeps([31,3,1,4]))),il=a.lazy(()=>l(()=>import("./DailyRewardsModal-sWcmIXyh.js"),__vite__mapDeps([32,1,4,3,14,15,0,16]))),al=a.lazy(()=>l(()=>import("./DownloadModal-DnB1VJP0.js"),__vite__mapDeps([33,1,4,3,14,15,0,16]))),ll=a.lazy(()=>l(()=>import("./EncryptionKeyModal-DhSOn0fV.js"),__vite__mapDeps([34,1,4]))),cl=a.lazy(()=>l(()=>import("./ExportJobsPanel-DFQIpP96.js"),__vite__mapDeps([35,1,4,3,14,15,0,16]))),dl=a.lazy(()=>l(()=>import("./MentionsInboxPanel-08-jAgMY.js"),__vite__mapDeps([36,1,4,3,14,15,0,16]))),ul=a.lazy(()=>l(()=>import("./PasswordSetupModal-BVu9Tqs0.js"),__vite__mapDeps([37,1,4,3,14,15,0,16,38]))),pl=a.lazy(()=>l(()=>import("./PaymentPanel-Vr7ZBSn9.js"),__vite__mapDeps([39,1,4,3,14,15,0,16]))),fl=a.lazy(()=>l(()=>import("./PollCreateModal-CnsIIclK.js"),__vite__mapDeps([40,1,4]))),ml=a.lazy(()=>l(()=>import("./PremiumStoreModal-CYpuv3Pi.js"),__vite__mapDeps([41,1,4,42,3,14,15,0,16]))),gl=a.lazy(()=>l(()=>import("./RaidProtectionPanel-CUTvj5yC.js"),__vite__mapDeps([43,1,4,3,14,15,0,16]))),hl=a.lazy(()=>l(()=>import("./ReadLaterPanel-DS0CpGGF.js"),__vite__mapDeps([44,1,4,45]))),yl=a.lazy(()=>l(()=>import("./ReportSystemPanel-BQ0esLYM.js"),__vite__mapDeps([46,1,4,3,14,15,0,16]))),_l=a.lazy(()=>l(()=>import("./ScheduledAnnouncementsPanel-DtF8zAyn.js"),__vite__mapDeps([47,1,4,3,14,15,0,16]))),xl=a.lazy(()=>l(()=>import("./ServerSettingsModal-DaroXmjU.js"),__vite__mapDeps([48,1,4,49,50,3,14,15,0,16]))),bl=a.lazy(()=>l(()=>import("./SoundboardModal-BKA80G-2.js"),__vite__mapDeps([51,1,4]))),vl=a.lazy(()=>l(()=>import("./StoreModal-DBdjpWDw.js"),__vite__mapDeps([52,1,4,3,14,15,0,16]))),Sl=a.lazy(()=>l(()=>import("./UserWarningsPanel-e-BmyiAT.js"),__vite__mapDeps([53,1,4,3,14,15,0,16]))),kl=a.lazy(()=>l(()=>import("./VanityURLManager-D1fkM1if.js"),__vite__mapDeps([50,1,4,3,14,15,0,16]))),wl=a.lazy(()=>l(()=>import("./WebhooksPanel-CEVSK7ek.js"),__vite__mapDeps([54,1,16,3,14,15,0,4,55]))),El=a.lazy(()=>l(()=>import("./WhiteboardModal-BeJXN5-t.js"),__vite__mapDeps([56,1,4]))),Tl=({modals:t,openModal:e,closeModal:n,fetchWithAuth:r,activeChat:s,username:i,sendMessage:d,sendSignal:c,ws:p,currentUserProfile:f,setCurrentUserProfile:g,soundSettings:m,setSoundSettings:h,encryptionKeys:b,currentKeyId:_,setEncryptionKey:v,chartSymbol:y,setChartSymbol:T,serverToEdit:P,setServerToEdit:A,serverMembers:K,friendsList:W,conversations:te,zoomedImage:_e,setZoomedImage:D,logout:Y,getDeterministicAvatar:Z,handleSendSnippet:M,setActiveChat:$,setConversations:k})=>o.jsx(o.Fragment,{children:o.jsxs(u.Suspense,{fallback:o.jsx(it,{size:"medium",text:"Modal y√ºkleniyor..."}),children:[t.profilePanel&&o.jsx(Ga,{user:f,onClose:()=>n("profilePanel"),onProfileUpdate:R=>g(R),onLogout:Y,fetchWithAuth:r,getDeterministicAvatar:Z,updateProfileUrl:$a,changeUsernameUrl:Na,soundSettings:m,onUpdateSoundSettings:h,onImageClick:D,apiBaseUrl:F}),t.store&&o.jsx(ml,{onClose:()=>n("store")}),t.analytics&&o.jsx(qa,{onClose:()=>n("analytics"),fetchWithAuth:r,apiBaseUrl:F}),t.adminPanel&&o.jsx(Wa,{onClose:()=>n("adminPanel"),onOpenAnalytics:()=>e("analytics"),onOpenWebhooks:()=>e("webhooks"),onOpenModTools:()=>e("modTools"),onOpenAuditLogs:()=>e("auditLog"),onOpenReports:()=>e("reportSystem"),onOpenVanityURL:()=>e("vanityURL"),onOpenAutoResponder:()=>e("autoResponder"),fetchWithAuth:r,apiBaseUrl:F}),t.paymentPanel&&o.jsx(pl,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("paymentPanel"),username:i}),t.storeModal&&o.jsx(vl,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("storeModal"),username:i}),t.dailyRewards&&o.jsx(il,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("dailyRewards"),username:i}),t.aPIUsagePanel&&o.jsx(Ja,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("aPIUsagePanel"),username:i}),t.exportJobsPanel&&o.jsx(cl,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("exportJobsPanel"),username:i}),t.scheduledAnnouncements&&o.jsx(_l,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("scheduledAnnouncements"),serverId:s?.type==="room"?s.server_id:null}),t.connectionsPanel&&o.jsx(nl,{onClose:()=>n("connectionsPanel")}),t.passwordSetupModal&&o.jsx(ul,{onClose:()=>n("passwordSetupModal"),apiBaseUrl:F}),t.autoModeration&&o.jsx(Za,{serverId:s?.type==="room"?s.server_id:null,fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("autoModeration")}),t.raidProtection&&o.jsx(gl,{serverId:s?.type==="room"?s.server_id:null,fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("raidProtection")}),t.reportSystem&&o.jsx(yl,{serverId:s?.type==="room"?s.server_id:null,fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("reportSystem")}),t.auditLog&&o.jsx(Qa,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("auditLog")}),t.userWarnings&&o.jsx(Sl,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("userWarnings")}),t.webhooks&&o.jsx(wl,{fetchWithAuth:r,apiBaseUrl:F,serverId:s?.type==="room"?s.server_id:null,onClose:()=>n("webhooks")}),t.vanityURL&&s?.type==="room"&&s.server_id&&o.jsx(kl,{fetchWithAuth:r,apiBaseUrl:F,serverId:s.server_id,onClose:()=>n("vanityURL")}),t.bookmarks&&o.jsx(Xa,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("bookmarks"),onMessageClick:R=>{R.room&&$({type:"room",slug:R.room}),n("bookmarks")}}),t.readLater&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(hl,{fetchWithAuth:r,apiBaseUrl:F,onClose:()=>n("readLater"),onMessageClick:R=>{R.room?$({type:"room",slug:R.room}):R.conversation&&$({type:"dm",slug:R.conversation}),n("readLater")}})}),t.mentionsInbox&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(dl,{isOpen:t.mentionsInbox,onClose:()=>n("mentionsInbox"),currentUsername:f?.username||i,onNavigateToMessage:R=>{R.room_id&&$({type:"room",id:R.room_id}),n("mentionsInbox")}})}),t.customStatus&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ol,{isOpen:t.customStatus,onClose:()=>n("customStatus"),onStatusChange:R=>{f&&g(L=>({...L,customStatus:R}))}})}),t.channelPermissions&&s?.type==="room"&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(el,{fetchWithAuth:r,apiBaseUrl:F,channelSlug:s.slug,onClose:()=>n("channelPermissions")})}),y&&o.jsx(Ha,{symbol:y,onClose:()=>T(null)}),t.cinema&&o.jsx(Ua,{onClose:()=>n("cinema"),ws:p,username:i}),t.snippetModal&&o.jsx(tl,{onClose:()=>n("snippetModal"),onSend:M}),P&&o.jsx(xl,{onClose:()=>A(null),server:P,currentUsername:i,fetchWithAuth:r,apiBaseUrl:ze,serverMembers:K}),t.encModal&&o.jsx(ll,{onClose:()=>n("encModal"),onSetKey:R=>v(_,R),existingKey:b[_]}),t.downloadModal&&o.jsx(al,{onClose:()=>n("downloadModal"),apiBaseUrl:F}),t.groupModal&&o.jsx(rl,{onClose:()=>n("groupModal"),friendsList:W,fetchWithAuth:r,apiBaseUrl:F,onGroupCreated:R=>{k(L=>[R,...L]),$("dm",R.id,"Grup Sohbeti")}}),t.whiteboard&&(s.type==="room"||s.type==="dm")&&o.jsx(El,{roomSlug:s.type==="room"?s.id:`dm_${s.id}`,onClose:()=>n("whiteboard"),wsProtocol:Ts,apiHost:Cs}),t.soundboard&&o.jsx(bl,{onClose:()=>n("soundboard"),fetchWithAuth:r,apiBaseUrl:F,sendSignal:c,absoluteHostUrl:F}),t.dJ&&o.jsx(sl,{onClose:()=>n("dJ"),ws:p,roomSlug:s.id}),t.gifPicker&&o.jsx(Ya,{onSelect:R=>{const L=R.startsWith("http")?R:F+R;d(L),n("gifPicker")},onClose:()=>n("gifPicker"),localGifListUrl:Ba,absoluteHostUrl:F,fetchWithAuth:r}),t.stickerPicker&&o.jsx(Ka,{onClose:()=>n("stickerPicker"),onSelect:R=>{d(R),n("stickerPicker")},fetchWithAuth:r,apiBaseUrl:F}),t.pollModal&&o.jsx(fl,{onClose:()=>n("pollModal"),fetchWithAuth:r,apiBaseUrl:F,activeRoomSlug:s.id})]})}),Cl=a.lazy(()=>l(()=>import("./AdvancedSearchPanel-C2HLexCU.js"),__vite__mapDeps([57,1,4,3,14,15,0,16]))),Pl=a.lazy(()=>l(()=>import("./AutoRespondersPanel-UO0JCLLQ.js"),__vite__mapDeps([58,1,4,3,14,15,0,16]))),Rl=a.lazy(()=>l(()=>import("./AvatarStudioPanel-B-NRBY4M.js"),__vite__mapDeps([59,1,4,3,14,15,0,16]))),jl=a.lazy(()=>l(()=>import("./ContentScannerPanel-dxBLSd2d.js"),__vite__mapDeps([60,1,4,3,14,15,0,16]))),Il=a.lazy(()=>l(()=>import("./DataRetentionPanel-BY1iIu4E.js"),__vite__mapDeps([61,1,4,3,14,15,0,16]))),Ll=a.lazy(()=>l(()=>import("./DraftsPanel-DGG6P6HQ.js"),__vite__mapDeps([62,1,4,3,14,15,0,16]))),Ol=a.lazy(()=>l(()=>import("./EnhancedPollsPanel-B2_1LYwv.js"),__vite__mapDeps([63,1,4,3,14,15,0,16]))),Dl=a.lazy(()=>l(()=>import("./EphemeralMessagesPanel-CTspVN8W.js"),__vite__mapDeps([64,1,4,3,14,15,0,16]))),Al=a.lazy(()=>l(()=>import("./FieldChangeTrackingPanel-fnThxABM.js"),__vite__mapDeps([65,1,4,3,14,15,0,16]))),zl=a.lazy(()=>l(()=>import("./GDPRExportPanel-B5KLj-vM.js"),__vite__mapDeps([66,1,4,3,14,15,0,16]))),Vl=a.lazy(()=>l(()=>import("./GrowthMetricsPanel-BpCcznpo.js"),__vite__mapDeps([67,1,4,3,14,15,0,16]))),Ml=a.lazy(()=>l(()=>import("./InventoryPanel-Feoa6XyW.js"),__vite__mapDeps([68,1,4,3,14,15,0,16]))),$l=a.lazy(()=>l(()=>import("./InviteAnalyticsPanel-9Patohhx.js"),__vite__mapDeps([69,1,4,3,14,15,0,16]))),Nl=a.lazy(()=>l(()=>import("./InviteExportPanel-VZqgoN6-.js"),__vite__mapDeps([70,1,4,3,14,15,0,16]))),Bl=a.lazy(()=>l(()=>import("./JoinLeaveLogsPanel-Cct0laqT.js"),__vite__mapDeps([71,1,4,3,14,15,0,16]))),Fl=a.lazy(()=>l(()=>import("./LinkClickTrackingPanel-C44Yl5un.js"),__vite__mapDeps([72,1,4,3,14,15,0,16]))),Ul=a.lazy(()=>l(()=>import("./LinkPreviewRenderer-XI4XkMBW.js"),__vite__mapDeps([73,1,4]))),Hl=a.lazy(()=>l(()=>import("./MiniGamesPanel-Ci2RNgWy.js"),__vite__mapDeps([74,1,4,3,14,15,0,16]))),Yl=a.lazy(()=>l(()=>import("./NicknameHistoryPanel-BKcKJA8O.js"),__vite__mapDeps([75,1,4,3,14,15,0,16]))),Kl=a.lazy(()=>l(()=>import("./OAuthAppsPanel-BChzQDab.js"),__vite__mapDeps([76,1,4,3,14,15,0,16]))),Gl=a.lazy(()=>l(()=>import("./ProjectCollaborationPanel-B8M8B2zX.js"),__vite__mapDeps([77,1,4,3,14,15,0,16]))),ql=a.lazy(()=>l(()=>import("./ReactionAnalyticsPanel-B2StEDJe.js"),__vite__mapDeps([78,1,4,3,14,15,0,16]))),Wl=a.lazy(()=>l(()=>import("./ReferralRewardsPanel-D-UwzeZX.js"),__vite__mapDeps([79,1,4,3,14,15,0,16]))),Jl=a.lazy(()=>l(()=>import("./RoomWebhooksPanel-B5G2hr2Q.js"),__vite__mapDeps([80,1,4,3,14,15,0,16]))),Zl=a.lazy(()=>l(()=>import("./ServerBoostPanel-NC9tFFHv.js"),__vite__mapDeps([81,1,4,3,14,15,0,16]))),Ql=a.lazy(()=>l(()=>import("./ServerNicknamesPanel-z6qRHbLN.js"),__vite__mapDeps([82,1,4,3,14,15,0,16]))),Xl=a.lazy(()=>l(()=>import("./SessionManagementPanel-CvoULaZB.js"),__vite__mapDeps([83,1,4,3,14,15,0,16]))),ec=a.lazy(()=>l(()=>import("./TopicHistoryPanel-DdvbnwYe.js"),__vite__mapDeps([84,1,4,3,14,15,0,16]))),tc=a.lazy(()=>l(()=>import("./TwoFactorSetupWizard-8ocDMcwR.js"),__vite__mapDeps([85,1,4,3,14,15,0,16]))),nc=a.lazy(()=>l(()=>import("./UserActivityPanel-1-9oaAIU.js"),__vite__mapDeps([86,1,4,3,14,15,0,16]))),rc=a.lazy(()=>l(()=>import("./VoiceTranscriptsPanel-BaE_Iv3n.js"),__vite__mapDeps([87,1,4,3,14,15,0,16]))),oc=a.lazy(()=>l(()=>import("./WaitlistPanel-S-AvxsVi.js"),__vite__mapDeps([88,1,4,3,14,15,0,16]))),sc=({modals:t,closeModal:e,fetchWithAuth:n,activeChat:r,username:s,currentUserProfile:i,setCurrentUserProfile:d,setActiveChat:c})=>o.jsxs(o.Fragment,{children:[t.reactionAnalytics&&r?.type==="room"&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ql,{fetchWithAuth:n,apiBaseUrl:F,roomSlug:r.slug,onClose:()=>e("reactionAnalytics")})}),t.linkClickTracking&&r?.type==="room"&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Fl,{fetchWithAuth:n,apiBaseUrl:F,roomSlug:r.slug,onClose:()=>e("linkClickTracking")})}),t.joinLeaveLogs&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Bl,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,onClose:()=>e("joinLeaveLogs")})}),t.userActivity&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(nc,{fetchWithAuth:n,apiBaseUrl:F,username:s,onClose:()=>e("userActivity")})}),t.nicknameHistory&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Yl,{fetchWithAuth:n,apiBaseUrl:F,username:s,onClose:()=>e("nicknameHistory")})}),t.fieldChangeTracking&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Al,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("fieldChangeTracking")})}),t.inviteAnalytics&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx($l,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,onClose:()=>e("inviteAnalytics")})}),t.contentScanner&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(jl,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("contentScanner")})}),t.ephemeralMessages&&r?.type==="room"&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Dl,{fetchWithAuth:n,apiBaseUrl:F,roomSlug:r.slug,onClose:()=>e("ephemeralMessages")})}),t.topicHistory&&r?.type==="room"&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(ec,{fetchWithAuth:n,apiBaseUrl:F,roomSlug:r.slug,onClose:()=>e("topicHistory")})}),t.drafts&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Ll,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("drafts"),onLoadDraft:p=>{p.room&&c({type:"room",slug:p.room}),e("drafts")}})}),t.serverNicknames&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Ql,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,onClose:()=>e("serverNicknames")})}),t.serverBoost&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Zl,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,currentUsername:s,onClose:()=>e("serverBoost")})}),t.roomWebhooks&&r?.type==="room"&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Jl,{fetchWithAuth:n,apiBaseUrl:F,roomSlug:r.slug,onClose:()=>e("roomWebhooks")})}),t.oAuthApps&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Kl,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("oAuthApps")})}),t.autoResponders&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Pl,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,onClose:()=>e("autoResponders")})}),t.sessionManagement&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Xl,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("sessionManagement")})}),t.gDPRExport&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(zl,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("gDPRExport")})}),t.dataRetention&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Il,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,onClose:()=>e("dataRetention")})}),t.twoFactorSetup&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(tc,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("twoFactorSetup"),onSuccess:()=>{Nr.success("2FA ba≈üarƒ±yla etkinle≈ütirildi!"),e("twoFactorSetup")}})}),t.enhancedPolls&&r?.type==="room"&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Ol,{fetchWithAuth:n,apiBaseUrl:F,roomSlug:r.slug,onClose:()=>e("enhancedPolls")})}),t.voiceTranscripts&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(rc,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("voiceTranscripts")})}),t.inviteExport&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Nl,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,onClose:()=>e("inviteExport")})}),t.advancedSearch&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Cl,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("advancedSearch"),onMessageClick:p=>{p.room&&c({type:"room",slug:p.room}),e("advancedSearch")}})}),t.growthMetrics&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Vl,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,onClose:()=>e("growthMetrics")})}),t.linkPreview&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Ul,{fetchWithAuth:n,apiBaseUrl:F,url:null,onClose:()=>e("linkPreview")})}),t.inventory&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Ml,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("inventory")})}),t.waitlist&&r?.type==="room"&&r.server_id&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(oc,{fetchWithAuth:n,apiBaseUrl:F,serverId:r.server_id,onClose:()=>e("waitlist")})}),t.referralRewards&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Wl,{fetchWithAuth:n,apiBaseUrl:F,onClose:()=>e("referralRewards")})}),t.miniGames&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"üéÆ Oyunlar Y√ºkleniyor..."}),children:o.jsx(Hl,{fetchWithAuth:n,apiBaseUrl:F,serverId:r?.server_id,currentUser:s,onClose:()=>e("miniGames")})}),t.projectCollaboration&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"üìÇ Projeler Y√ºkleniyor..."}),children:o.jsx(Gl,{fetchWithAuth:n,apiBaseUrl:F,serverId:r?.server_id,currentUser:s,onClose:()=>e("projectCollaboration")})}),t.avatarStudio&&o.jsx(u.Suspense,{fallback:o.jsx("div",{children:"üé® Avatar Studio Y√ºkleniyor..."}),children:o.jsx(Rl,{fetchWithAuth:n,apiBaseUrl:F,currentUser:s,onClose:()=>e("avatarStudio"),onAvatarChange:p=>{i&&d({...i,avatar_url:p}),Nr.success("üé® Avatar g√ºncellendi!")}})})]}),ic=a.lazy(()=>l(()=>import("./AccountDeletionModal-r6DYZAdd.js"),__vite__mapDeps([89,1,4,3,14,15,0,16]))),ac=a.lazy(()=>l(()=>import("./AchievementsPanel-WumvsCka.js"),__vite__mapDeps([90,1,3,14,15,0,4,16,91]))),lc=a.lazy(()=>l(()=>import("./AppearanceSettingsPanel-DPK3cNEJ.js"),__vite__mapDeps([92,1,16,3,14,15,0,4,93]))),cc=a.lazy(()=>l(()=>import("./AutoRolesPanel-DNRdFrFi.js"),__vite__mapDeps([94,1,16,3,14,15,0,4,95]))),dc=a.lazy(()=>l(()=>import("./BanAppealsPanel-C-SGLzsC.js"),__vite__mapDeps([96,1,4,97]))),uc=a.lazy(()=>l(()=>import("./BirthdaySystemPanel-DdhtEr0g.js"),__vite__mapDeps([98,1,16,3,14,15,0,4,99]))),pc=a.lazy(()=>l(()=>import("./BlockListPanel-B4eIncgr.js"),__vite__mapDeps([100,1,16,3,14,15,0,4,101]))),fc=a.lazy(()=>l(()=>import("./BotMarketplace-DaxMoeBb.js"),__vite__mapDeps([102,1,3,14,15,0,4,16,103]))),mc=a.lazy(()=>l(()=>import("./ChangelogPanel-BlPwmtuX.js"),__vite__mapDeps([104,1,4,105]))),gc=a.lazy(()=>l(()=>import("./CommandPalette-Cfz4-NKB.js"),__vite__mapDeps([106,1,4,3,14,15,0,16,107]))),hc=a.lazy(()=>l(()=>import("./CustomCommandsPanel-CcAgYQ-e.js"),__vite__mapDeps([108,1,16,3,14,15,0,4,109]))),yc=a.lazy(()=>l(()=>import("./CustomEmbedPanel-BY0D7A6Z.js"),__vite__mapDeps([110,1,16,3,14,15,0,4,111]))),_c=a.lazy(()=>l(()=>import("./E2EESettingsPanel-D_3slujb.js"),__vite__mapDeps([112,3,1,4,14,15,0,16]))),xc=a.lazy(()=>l(()=>import("./EventCalendar-Cd9INFzO.js"),__vite__mapDeps([113,1,4]))),bc=a.lazy(()=>l(()=>import("./ForumPanel-BqMz8Wuo.js"),__vite__mapDeps([114,1,3,14,15,0,4,16,115]))),vc=a.lazy(()=>l(()=>import("./GiveawayPanel-nacbZkj2.js"),__vite__mapDeps([116,1,16,3,14,15,0,4,117]))),Sc=a.lazy(()=>l(()=>import("./HighlightsPanel-CVVW8MKn.js"),__vite__mapDeps([118,1,16,119,3,14,15,0,4,120]))),kc=a.lazy(()=>l(()=>import("./IntegrationHubPanel-CjBAOOWd.js"),__vite__mapDeps([121,1,4,16,3,14,15,0,122]))),wc=a.lazy(()=>l(()=>import("./KeyboardShortcutsModal-BQ-XU2TD.js"),__vite__mapDeps([123,1,4]))),Ec=a.lazy(()=>l(()=>import("./LanguageSelector-eaUquwNE.js"),__vite__mapDeps([124,1,0,3,14,15,4,16,125]))),Tc=a.lazy(()=>l(()=>import("./LevelingSystemPanel-BsQInsUk.js"),__vite__mapDeps([126,1,16,3,14,15,0,4,127]))),Cc=a.lazy(()=>l(()=>import("./LiveStreamPanel-DDUSY0Z1.js"),__vite__mapDeps([128,1,4]))),Pc=a.lazy(()=>l(()=>import("./LoginHistory-CUaKD965.js"),__vite__mapDeps([129,1,4]))),Rc=a.lazy(()=>l(()=>import("./LogoutModal-Jq9Rw-DK.js"),__vite__mapDeps([11,1,12]))),jc=a.lazy(()=>l(()=>import("./MessageSearchPanel-C622XIXm.js"),__vite__mapDeps([130,1,4,3,14,15,0,16,131]))),Ic=a.lazy(()=>l(()=>import("./MusicPlayer-BrYPzOgm.js"),__vite__mapDeps([132,1,4,3,14,15,0,16,133]))),Lc=a.lazy(()=>l(()=>import("./NotificationSoundSettings-BCnjIEfm.js"),__vite__mapDeps([134,1,4]))),Oc=a.lazy(()=>l(()=>import("./PremiumModal-Dj2k3Xwo.js"),__vite__mapDeps([135,1,3,14,15,0,4,16]))),Dc=a.lazy(()=>l(()=>import("./PrivacySettingsPanel-Cxkja4Qq.js"),__vite__mapDeps([136,1,16,3,14,15,0,4,137]))),Ac=a.lazy(()=>l(()=>import("./ProfileCustomization-CAwmR2dO.js"),__vite__mapDeps([138,1,4,3,14,15,0,16]))),zc=a.lazy(()=>l(()=>import("./QuickSwitcher-C5fJwnaB.js"),__vite__mapDeps([139,1,4,140]))),Vc=a.lazy(()=>l(()=>import("./ReactionRolesPanel-BAztToBN.js"),__vite__mapDeps([141,1,16,3,14,15,0,4,142]))),Mc=a.lazy(()=>l(()=>import("./ReminderPanel-CqueoCYA.js"),__vite__mapDeps([143,1,16,3,14,15,0,4,144]))),$c=a.lazy(()=>l(()=>import("./ScheduledMessagesPanel-DKmD306g.js"),__vite__mapDeps([145,1,3,14,15,0,4,16,146]))),Nc=a.lazy(()=>l(()=>import("./SecuritySettingsPanel-DnvFDbQJ.js"),__vite__mapDeps([147,1,16,3,14,15,0,4,148]))),Bc=a.lazy(()=>l(()=>import("./ServerBackupPanel-DGE1IdKG.js"),__vite__mapDeps([149,1,16,3,14,15,0,4,150]))),Fc=a.lazy(()=>l(()=>import("./ServerClonePanel-DvQ8h7xl.js"),__vite__mapDeps([151,1,4,3,14,15,0,16,152]))),Uc=a.lazy(()=>l(()=>import("./ServerDiscoveryPage-DJXp2NM-.js"),__vite__mapDeps([153,1,3,14,15,0,4,16,154]))),Hc=a.lazy(()=>l(()=>import("./SpotifyIntegrationPanel-Bjf_M4kR.js"),__vite__mapDeps([155,1,4,156]))),Yc=a.lazy(()=>l(()=>import("./StageChannelPanel-0yp8d-25.js"),__vite__mapDeps([157,1,3,14,15,0,4,16,158]))),Kc=a.lazy(()=>l(()=>import("./StarboardPanel-BRNCakMG.js"),__vite__mapDeps([159,1,16,3,14,15,0,4,160]))),Gc=a.lazy(()=>l(()=>import("./ThreadView-ncMgDKH8.js"),__vite__mapDeps([161,1,4]))),qc=a.lazy(()=>l(()=>import("./TicketSystemPanel-BNzzrTTS.js"),__vite__mapDeps([162,1,16,3,14,15,0,4,163]))),Wc=a.lazy(()=>l(()=>import("./TournamentSystem-NbAi7Ep5.js"),__vite__mapDeps([164,1,4,3,14,15,0,16]))),Jc=a.lazy(()=>l(()=>import("./UserSettingsModal-Bzvm8wx0.js"),__vite__mapDeps([165,1,4,3,14,15,0,16]))),Zc=a.lazy(()=>l(()=>import("./VideoCallModal-D83TNkEp.js"),__vite__mapDeps([166,1,4]))),Qc=a.lazy(()=>l(()=>import("./VoiceSettingsPanel-DnetfDmT.js"),__vite__mapDeps([167,1,4,16,3,14,15,0,168]))),Xc=a.lazy(()=>l(()=>import("./index-CmuMnbcq.js"),__vite__mapDeps([169,1,4,3,14,15,0,16,170]))),ed=a.lazy(()=>l(()=>import("./WeeklyChallengesPanel-CIukBpPN.js"),__vite__mapDeps([171,1,4]))),td=a.lazy(()=>l(()=>import("./WelcomeMessagesPanel-CWOljWEM.js"),__vite__mapDeps([172,1,16,3,14,15,0,4,173]))),Je=t=>t.activeChat?.type==="room"&&t.activeChat?.server_id,ye=t=>({fetchWithAuth:t.fetchWithAuth,apiBaseUrl:F}),nd=[{key:"userSettings",C:Jc,fb:"‚öôÔ∏è Ayarlar Y√ºkleniyor...",props:t=>({...ye(t),currentUser:t.currentUserProfile,username:t.username,onOpenAppearance:()=>t.openModal("appearanceSettings"),onOpenPrivacy:()=>t.openModal("privacySettings"),onOpenSecurity:()=>t.openModal("securitySettings"),onOpenNotifications:()=>t.openModal("notificationSounds"),onOpenConnections:()=>t.openModal("connectionsPanel"),onOpenLanguage:()=>t.openModal("languageSelector"),onLogout:()=>t.openModal("logoutConfirm")})},{key:"keyboardShortcuts",C:wc},{key:"commandPalette",C:gc,props:t=>({categories:t.categories,conversations:t.conversations,allUsers:t.allUsers,onNavigate:e=>{e.type==="room"?t.setActiveChat({type:"room",slug:e.slug}):e.type==="dm"&&t.setActiveChat({type:"dm",id:e.id}),t.closeModal("commandPalette")}})},{key:"serverDiscovery",C:Uc,fb:"üåç Sunucu Ke≈üfet Y√ºkleniyor...",props:t=>({...ye(t),currentUsername:t.username,onJoinServer:e=>{Nr.success(`${e.name} sunucusuna katƒ±ldƒ±n!`),t.closeModal("serverDiscovery")}})},{key:"appearanceSettings",C:lc,props:t=>({currentTheme:t.currentTheme,onThemeChange:t.setCurrentTheme})},{key:"languageSelector",C:Ec},{key:"changelog",C:mc,props:ye},{key:"logoutConfirm",C:Rc,props:t=>({onConfirm:()=>{t.logout(),t.closeModal("logoutConfirm")}})},{key:"notificationSounds",C:Lc,props:t=>({soundSettings:t.soundSettings,onUpdateSettings:t.setSoundSettings})},{key:"quickSwitcher",C:zc,props:t=>({categories:t.categories,conversations:t.conversations,onSelect:e=>{e.type==="room"?t.setActiveChat({type:"room",slug:e.slug}):e.type==="dm"&&t.setActiveChat({type:"dm",id:e.id}),t.closeModal("quickSwitcher")}})},{key:"loginHistory",C:Pc,props:ye},{key:"securitySettings",C:Nc,props:t=>({...ye(t),username:t.username,onOpen2FA:()=>t.openModal("twoFactorSetup"),onOpenLoginHistory:()=>t.openModal("loginHistory")})},{key:"privacySettings",C:Dc,props:t=>({...ye(t),username:t.username,onOpenBlockList:()=>t.openModal("blockList")})},{key:"accountDeletion",C:ic,props:t=>({...ye(t),username:t.username,onConfirm:()=>{t.logout(),t.closeModal("accountDeletion")}})},{key:"blockList",C:pc,props:ye},{key:"e2EESettings",C:_c,props:t=>({...ye(t),encryptionKeys:t.encryptionKeys})},{key:"threadView",C:Gc,props:t=>({...ye(t),roomSlug:t.activeChat?.slug})},{key:"scheduledMessages",C:$c,props:t=>({...ye(t),username:t.username})},{key:"reminders",C:Mc,props:t=>({...ye(t),username:t.username})},{key:"forum",C:bc,fb:"üìã Forum Y√ºkleniyor...",cond:Je,props:t=>({...ye(t),roomSlug:t.activeChat.slug,serverId:t.activeChat.server_id,currentUser:t.username})},{key:"stageChannel",C:Yc,fb:"üé§ Sahne Y√ºkleniyor...",props:t=>({...ye(t),roomSlug:t.activeChat?.slug,currentUser:t.username})},{key:"videoCall",C:Zc,fb:"üìπ Video Arama Y√ºkleniyor...",props:t=>({...ye(t),currentUser:t.username,targetUser:t.activeChat?.type==="dm"?t.activeChat.name:null})},{key:"voiceSettings",C:Qc,props:t=>({isMuted:t.isMuted,isDeafened:t.isDeafened,onToggleMute:t.toggleMute,onToggleDeafened:t.toggleDeafened})},{key:"messageSearch",C:jc,props:t=>({...ye(t),roomSlug:t.activeChat?.slug,onMessageClick:e=>{e.room&&t.setActiveChat({type:"room",slug:e.room}),t.closeModal("messageSearch")}})},{key:"watchTogether",C:Xc,fb:"üé¨ Birlikte ƒ∞zle Y√ºkleniyor...",props:t=>({...ye(t),roomSlug:t.activeChat?.slug,currentUser:t.username})},{key:"autoRoles",C:cc,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"reactionRoles",C:Vc,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"welcomeMessages",C:td,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"eventCalendar",C:xc,fb:"üìÖ Etkinlikler Y√ºkleniyor...",cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id,currentUser:t.username})},{key:"giveaway",C:vc,fb:"üéâ √áekili≈ü Y√ºkleniyor...",cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id,currentUser:t.username})},{key:"ticketSystem",C:qc,fb:"üé´ Destek Sistemi Y√ºkleniyor...",cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id,currentUser:t.username})},{key:"starboard",C:Kc,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"serverBackup",C:Bc,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"banAppeals",C:dc,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"customCommands",C:hc,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"levelingSystem",C:Tc,fb:"üìä Seviye Sistemi Y√ºkleniyor...",cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id,currentUser:t.username})},{key:"liveStream",C:Cc,fb:"üì∫ Canlƒ± Yayƒ±n Y√ºkleniyor...",props:t=>({...ye(t),roomSlug:t.activeChat?.slug,currentUser:t.username})},{key:"achievements",C:ac,fb:"üèÜ Ba≈üarƒ±mlar Y√ºkleniyor...",props:t=>({...ye(t),username:t.username})},{key:"birthdaySystem",C:uc,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"premium",C:Oc,fb:"üíé Premium Y√ºkleniyor...",props:t=>({...ye(t),username:t.username})},{key:"musicPlayer",C:Ic,fb:"üéµ M√ºzik Y√ºkleniyor...",props:t=>({...ye(t),roomSlug:t.activeChat?.slug})},{key:"botMarketplace",C:fc,fb:"ü§ñ Bot Maƒüazasƒ± Y√ºkleniyor...",props:t=>({...ye(t),serverId:t.activeChat?.server_id})},{key:"profileCustomization",C:Ac,props:t=>({...ye(t),currentUser:t.currentUserProfile,onProfileUpdate:e=>t.setCurrentUserProfile(e)})},{key:"integrationHub",C:kc,fb:"üîó Entegrasyonlar Y√ºkleniyor...",props:ye},{key:"tournaments",C:Wc,fb:"üèÜ Turnuvalar Y√ºkleniyor...",cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id,currentUser:t.username})},{key:"highlights",C:Sc,props:ye},{key:"customEmbed",C:yc,props:t=>({...ye(t),roomSlug:t.activeChat?.slug})},{key:"spotifyIntegration",C:Hc,fb:"üéµ Spotify Y√ºkleniyor...",props:ye},{key:"serverClone",C:Fc,cond:Je,props:t=>({...ye(t),serverId:t.activeChat.server_id})},{key:"weeklyChallenges",C:ed,fb:"üéØ Haftalƒ±k G√∂revler Y√ºkleniyor...",props:t=>({...ye(t),username:t.username})}],rd=t=>{const{modals:e,closeModal:n}=t;return o.jsx(o.Fragment,{children:nd.map(({key:r,C:s,fb:i,cond:d,props:c})=>!e[r]||d&&!d(t)?null:o.jsx(u.Suspense,{fallback:o.jsx("div",{children:i||"Y√ºkleniyor..."}),children:o.jsx(s,{onClose:()=>n(r),...c?c(t):{}})},r))})},od=(t,e)=>{const n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16);return`rgba(${n},${r},${s},${e})`},sd=t=>od(t,.2),Io=[{title:"‚öôÔ∏è Genel Ayarlar",color:"#7289da",items:[{icon:"‚öôÔ∏è",label:"Kullanƒ±cƒ± Ayarlarƒ±",modal:"userSettings"},{icon:"‚å®Ô∏è",label:"Kƒ±sayol Tu≈ülarƒ±",modal:"keyboardShortcuts"},{icon:"üîç",label:"Komut Paleti",modal:"commandPalette"},{icon:"üåç",label:"Sunucu Ke≈üfet",modal:"serverDiscovery"},{icon:"üé®",label:"G√∂r√ºn√ºm",modal:"appearanceSettings"},{icon:"üåê",label:"Dil Se√ßimi",modal:"languageSelector"},{icon:"üìã",label:"Deƒüi≈üiklik G√ºnl√ºƒü√º",modal:"changelog"},{icon:"üîä",label:"Bildirim Sesleri",modal:"notificationSounds"},{icon:"‚ö°",label:"Hƒ±zlƒ± Ge√ßi≈ü",modal:"quickSwitcher"},{icon:"üö™",label:"√áƒ±kƒ±≈ü Yap",modal:"logoutConfirm"}]},{title:"üîê G√ºvenlik & Gizlilik",color:"#ed4245",items:[{icon:"üîê",label:"Giri≈ü Ge√ßmi≈üi",modal:"loginHistory"},{icon:"üõ°Ô∏è",label:"G√ºvenlik Ayarlarƒ±",modal:"securitySettings"},{icon:"üîí",label:"Gizlilik Ayarlarƒ±",modal:"privacySettings"},{icon:"üö´",label:"Engel Listesi",modal:"blockList"},{icon:"üîê",label:"E2E ≈ûifreleme",modal:"e2EESettings"},{icon:"‚ùå",label:"Hesap Silme",modal:"accountDeletion"}]},{title:"üí¨ ƒ∞leti≈üim",color:"#3ba55d",items:[{icon:"üí¨",label:"Mesaj Konularƒ±",modal:"threadView"},{icon:"‚è∞",label:"Zamanlanmƒ±≈ü Mesajlar",modal:"scheduledMessages"},{icon:"‚è∞",label:"Hatƒ±rlatƒ±cƒ±lar",modal:"reminders"},{icon:"üìã",label:"Forum",modal:"forum"},{icon:"üé§",label:"Sahne Kanalƒ±",modal:"stageChannel"},{icon:"üìπ",label:"G√∂r√ºnt√ºl√º Arama",modal:"videoCall"},{icon:"üéôÔ∏è",label:"Ses Ayarlarƒ±",modal:"voiceSettings"},{icon:"üîç",label:"Mesaj Arama",modal:"messageSearch"},{icon:"üé¨",label:"Birlikte ƒ∞zle",modal:"watchTogether"}]},{title:"üè† Sunucu Y√∂netimi",color:"#faa61a",items:[{icon:"ü§ñ",label:"Otomatik Roller",modal:"autoRoles"},{icon:"üé≠",label:"Tepki Rolleri",modal:"reactionRoles"},{icon:"üëã",label:"Ho≈ü Geldin Mesajlarƒ±",modal:"welcomeMessages"},{icon:"üìÖ",label:"Etkinlik Takvimi",modal:"eventCalendar"},{icon:"üéâ",label:"√áekili≈ü",modal:"giveaway"},{icon:"üé´",label:"Destek Sistemi",modal:"ticketSystem"},{icon:"‚≠ê",label:"Yƒ±ldƒ±z Panosu",modal:"starboard"},{icon:"üíæ",label:"Sunucu Yedekleme",modal:"serverBackup"},{icon:"‚öñÔ∏è",label:"Ban ƒ∞tirazlarƒ±",modal:"banAppeals"},{icon:"ü§ñ",label:"√ñzel Komutlar",modal:"customCommands"},{icon:"üìä",label:"Seviye Sistemi",modal:"levelingSystem"},{icon:"üì∫",label:"Canlƒ± Yayƒ±n",modal:"liveStream"}]},{title:"üéÆ Eƒülence & Sosyal",color:"#9b59b6",items:[{icon:"üèÜ",label:"Ba≈üarƒ±mlar",modal:"achievements"},{icon:"üéÇ",label:"Doƒüum G√ºnleri",modal:"birthdaySystem"},{icon:"üíé",label:"Premium",modal:"premium"},{icon:"üéµ",label:"M√ºzik √áalar",modal:"musicPlayer"},{icon:"ü§ñ",label:"Bot Maƒüazasƒ±",modal:"botMarketplace"},{icon:"üë§",label:"Profil √ñzelle≈ütir",modal:"profileCustomization"},{icon:"üîó",label:"Entegrasyonlar",modal:"integrationHub"},{icon:"üèÜ",label:"Turnuvalar",modal:"tournaments"}]},{title:"üîß Geli≈ümi≈ü",color:"#e67e22",items:[{icon:"üí°",label:"√ñne √áƒ±kanlar",modal:"highlights"},{icon:"üì¶",label:"√ñzel Embed",modal:"customEmbed"},{icon:"üéµ",label:"Spotify Baƒülantƒ±sƒ±",modal:"spotifyIntegration"},{icon:"üìã",label:"Sunucu Klonla",modal:"serverClone"},{icon:"üéØ",label:"Haftalƒ±k G√∂revler",modal:"weeklyChallenges"},{icon:"ü§ñ",label:"AI Chatbot",modal:"aIChatbot"},{icon:"üë®‚Äçüíª",label:"Kod Edit√∂r√º",modal:"codeEditor"},{icon:"üñ•Ô∏è",label:"Ekran Payla≈üƒ±mƒ±",modal:"screenShare"},{icon:"üì∫",label:"Canlƒ± Yayƒ±n",modal:"liveStreamModal"},{icon:"üìà",label:"Geli≈ümi≈ü Analitik",modal:"advancedAnalytics"},{icon:"üìÅ",label:"Dosya Y√∂neticisi",modal:"fileManager"},{icon:"üìä",label:"Raporlar",modal:"reports"},{icon:"üêõ",label:"Hata Raporlama",modal:"errorReporting"}]},{title:"üî∞ Moderasyon & Y√∂netim",color:"#e74c3c",items:[{icon:"üõ°Ô∏è",label:"Moderasyon Ara√ßlarƒ±",modal:"moderatorTools"},{icon:"ü§ñ",label:"AI Moderasyon",modal:"aIModeration"},{icon:"üö´",label:"Spam Korumasƒ±",modal:"spamDetection"},{icon:"üìã",label:"Denetim Kayƒ±tlarƒ±",modal:"auditLogs"},{icon:"‚õî",label:"Ban Ge√ßmi≈üi",modal:"banHistory"},{icon:"üìú",label:"Moderasyon Loglarƒ±",modal:"moderationLogs"},{icon:"üõ°Ô∏è",label:"Baskƒ±n Korumasƒ±",modal:"raidProtection"},{icon:"üö®",label:"G√ºvenlik Uyarƒ±larƒ±",modal:"securityAlerts"}]},{title:"üí¨ Mesajla≈üma & Medya",color:"#1abc9c",items:[{icon:"üîñ",label:"Yer ƒ∞mleri",modal:"bookmarks"},{icon:"üéûÔ∏è",label:"GIF Se√ßici",modal:"gIFPicker"},{icon:"üìä",label:"Anket Olu≈ütur",modal:"pollCreator"},{icon:"üé®",label:"√áƒ±kartmalar",modal:"stickers"},{icon:"üíæ",label:"Kayƒ±tlƒ± Mesajlar",modal:"savedMessages"},{icon:"üîî",label:"Bildirim Merkezi",modal:"notificationsCenter"},{icon:"üìù",label:"Mesaj √ñzeti",modal:"messageSummary"},{icon:"üåç",label:"√áeviri Paneli",modal:"translation"}]},{title:"üè† Sunucu Y√∂netimi (Geni≈ületilmi≈ü)",color:"#2ecc71",items:[{icon:"‚öôÔ∏è",label:"Kanal Ayarlarƒ±",modal:"channelSettings"},{icon:"üì®",label:"Davet Y√∂netimi",modal:"inviteModal"},{icon:"üìã",label:"Sunucu ≈ûablonlarƒ±",modal:"serverTemplates"},{icon:"üìä",label:"Sunucu Analitiƒüi",modal:"serverAnalytics"},{icon:"üëë",label:"Rol Y√∂neticisi",modal:"rolesManager"},{icon:"üëã",label:"Kar≈üƒ±lama Ekranƒ±",modal:"welcomeScreenEditor"},{icon:"üèòÔ∏è",label:"Topluluk Ayarlarƒ±",modal:"communitySettings"},{icon:"üîó",label:"Davet Linkleri",modal:"inviteLinkManager"}]},{title:"ü§ñ Bot & Geli≈ütirici",color:"#3498db",items:[{icon:"ü§ñ",label:"Bot Olu≈üturucu",modal:"botBuilder"},{icon:"üßë‚Äçüíª",label:"Geli≈ütirici Portalƒ±",modal:"botDevPortal"},{icon:"üîó",label:"Webhook Y√∂neticisi",modal:"webhookManager"},{icon:"üîë",label:"API Anahtarlarƒ±",modal:"aPIKeys"},{icon:"‚ö°",label:"Slash Komutlarƒ±",modal:"slashCommands"},{icon:"üíª",label:"Kod √áalƒ±≈ütƒ±rƒ±cƒ±",modal:"codeRunner"}]},{title:"üë§ Profil & Sosyal",color:"#e91e63",items:[{icon:"üë§",label:"Profil Kartƒ±",modal:"profileCard"},{icon:"üìù",label:"Kullanƒ±cƒ± Notlarƒ±",modal:"userNotes"},{icon:"üü¢",label:"Durum Se√ßici",modal:"statusPicker"},{icon:"üë•",label:"Ortak Arkada≈ülar",modal:"mutuals"},{icon:"üèÖ",label:"Profil Vitrini",modal:"profileShowcase"},{icon:"üì±",label:"Oturum Y√∂neticisi",modal:"sessionManager"}]},{title:"üíé Premium & Ekonomi",color:"#f1c40f",items:[{icon:"ü™ô",label:"Coin Maƒüazasƒ±",modal:"coinStore"},{icon:"üíé",label:"Premium Y√∂netimi",modal:"premiumManagement"},{icon:"üìã",label:"Abonelik Y√∂netimi",modal:"subscriptionManager"},{icon:"üéÅ",label:"Premium Hediye Et",modal:"giftPremium"},{icon:"üõí",label:"Premium Maƒüazasƒ±",modal:"premiumMarketplace"},{icon:"üé®",label:"Tema Maƒüazasƒ±",modal:"themeMarketplace"}]}],_t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(8px)"},container:{backgroundColor:"#2f3136",borderRadius:"16px",width:"90%",maxWidth:"900px",maxHeight:"85vh",overflow:"auto",padding:"32px",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.1)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},title:{margin:0,fontSize:"1.5em",color:"#fff"},closeBtn:{background:"none",border:"none",color:"#b9bbbe",fontSize:"1.5em",cursor:"pointer"},section:{marginBottom:"20px"},sectionTitle:t=>({color:t,fontSize:"0.85em",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"}),grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},button:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"8px",color:"#dcddde",cursor:"pointer",fontSize:"13px",transition:"all 0.2s",textAlign:"left"},buttonIcon:{fontSize:"16px"}},id=()=>{const{openModal:t,closeModal:e}=Zr(),n=r=>{t(r),e("featureHub")};return o.jsx("div",{style:_t.overlay,onClick:r=>{r.target===r.currentTarget&&e("featureHub")},children:o.jsxs("div",{style:_t.container,children:[o.jsxs("div",{style:_t.header,children:[o.jsxs("h2",{style:_t.title,children:["üöÄ"," T√ºm √ñzellikler"]}),o.jsx("button",{onClick:()=>e("featureHub"),style:_t.closeBtn,children:"‚úï"})]}),Io.map((r,s)=>o.jsxs("div",{style:s<Io.length-1?_t.section:void 0,children:[o.jsx("h3",{style:_t.sectionTitle(r.color),children:r.title}),o.jsx("div",{style:_t.grid,children:r.items.map((i,d)=>o.jsxs("button",{onClick:()=>n(i.modal),style:_t.button,onMouseEnter:c=>{c.currentTarget.style.backgroundColor=sd(r.color),c.currentTarget.style.borderColor=r.color},onMouseLeave:c=>{c.currentTarget.style.backgroundColor="rgba(255,255,255,0.05)",c.currentTarget.style.borderColor="rgba(255,255,255,0.08)"},children:[o.jsx("span",{style:_t.buttonIcon,children:i.icon}),o.jsx("span",{children:i.label})]},d))})]},s))]})})},ad=a.lazy(()=>l(()=>import("./AIChatbotPanel-DK-Efp2K.js"),__vite__mapDeps([174,1,4,3,14,15,0,16,175]))),ld=a.lazy(()=>l(()=>import("./AIModerationPanel-CBorT0yW.js"),__vite__mapDeps([176,1,4,13,3,14,15,0,16]))),cd=a.lazy(()=>l(()=>import("./APIKeysPanel-BK9RlWpI.js"),__vite__mapDeps([177,1,4,3,14,15,0,16]))),dd=a.lazy(()=>l(()=>import("./AdvancedAnalyticsDashboard-DFhsg5TY.js"),__vite__mapDeps([178,1,4,3,14,15,0,16,179]))),ud=a.lazy(()=>l(()=>import("./AuditLogsPanel-CIe55DZO.js"),__vite__mapDeps([180,1,16,3,14,15,0,4,181]))),pd=a.lazy(()=>l(()=>import("./BanHistoryPanel-CG61wNJM.js"),__vite__mapDeps([182,1,4,16,183]))),fd=a.lazy(()=>l(()=>import("./BotBuilder-gHfFKLH1.js"),__vite__mapDeps([184,1,4,13,3,14,15,0,16]))),md=a.lazy(()=>l(()=>import("./BotDeveloperPortal-k_P60Kz2.js"),__vite__mapDeps([185,1,4,3,14,15,0,16,186]))),gd=a.lazy(()=>l(()=>import("./ChannelSettingsModal-D0fZUSKH.js"),__vite__mapDeps([187,1,4,3,14,15,0,16]))),hd=a.lazy(()=>l(()=>import("./CodeRunnerPanel-DXqqZLjp.js"),__vite__mapDeps([188,1,4,16,189]))),yd=a.lazy(()=>l(()=>import("./CoinStoreModal-ByPNEXqG.js"),__vite__mapDeps([42,1,4,3,14,15,0,16]))),_d=a.lazy(()=>l(()=>import("./CollaborativeCodeEditor-Dy7SjCWa.js"),__vite__mapDeps([190,1,4,3,14,15,0,16]))),xd=a.lazy(()=>l(()=>import("./CommunitySettingsPanel-DKMyZwCM.js"),__vite__mapDeps([191,1,4,3,14,15,0,16,192]))),bd=a.lazy(()=>l(()=>import("./ErrorReportingPanel-B6tK8vbF.js"),__vite__mapDeps([193,1,3,14,15,0,4,16,194]))),vd=a.lazy(()=>l(()=>import("./FileManagerPanel-B58nLaP0.js"),__vite__mapDeps([195,1,4]))),Sd=a.lazy(()=>l(()=>import("./GIFPickerPanel-nC-GjDoR.js"),__vite__mapDeps([196,1,4,197]))),kd=a.lazy(()=>l(()=>import("./GiftPremiumPanel-C-GsLWDI.js"),__vite__mapDeps([198,1,4,199]))),wd=a.lazy(()=>l(()=>import("./InviteLinkManager-DBmFLbnW.js"),__vite__mapDeps([200,1,4]))),Ed=a.lazy(()=>l(()=>import("./InviteModal-CWRdN7ES.js"),__vite__mapDeps([201,1,4,3,14,15,0,16]))),Td=a.lazy(()=>l(()=>import("./LiveStreamModal-BlMwRfBY.js"),__vite__mapDeps([202,1,4,3,14,15,0,16]))),Cd=a.lazy(()=>l(()=>import("./MessageSummaryPanel-tcCEqqfd.js"),__vite__mapDeps([203,1,4,119,204]))),Pd=a.lazy(()=>l(()=>import("./ModerationLogsPanel-_5dS8m8Y.js"),__vite__mapDeps([205,1,4,16,3,14,15,0,206]))),Rd=a.lazy(()=>l(()=>import("./ModeratorTools-D1JqLRXw.js"),__vite__mapDeps([207,1,4,3,14,15,0,16]))),jd=a.lazy(()=>l(()=>import("./MutualsPanel-D21z0SFB.js"),__vite__mapDeps([208,1,4,16,209]))),Id=a.lazy(()=>l(()=>import("./NotificationsCenter-BvW3MzEh.js"),__vite__mapDeps([210,1,4,3,14,15,0,16,211]))),Ld=a.lazy(()=>l(()=>import("./PollCreator-CO9P1TVC.js"),__vite__mapDeps([212,1,13,3,14,15,0,4,16]))),Od=a.lazy(()=>l(()=>import("./PremiumManagementPanel-vxs5oWLS.js"),__vite__mapDeps([213,1,16,3,14,15,0,4,214]))),Dd=a.lazy(()=>l(()=>import("./PremiumMarketplace-CCkxG9DF.js"),__vite__mapDeps([215,1,13,3,14,15,0,4,16,216]))),Ad=a.lazy(()=>l(()=>import("./ProfileCard-BQxzZOuI.js"),__vite__mapDeps([217,1,3,14,15,0,4,16,218]))),zd=a.lazy(()=>l(()=>import("./ProfileShowcasePanel-BDDutv45.js"),__vite__mapDeps([219,1,4,16,3,14,15,0,220]))),Vd=a.lazy(()=>l(()=>import("./ReportsPanel-BTkenS76.js"),__vite__mapDeps([221,1,3,14,15,0,4,16,222]))),Md=a.lazy(()=>l(()=>import("./RolesManager-D1dJJMtG.js"),__vite__mapDeps([223,1,3,14,15,0,4,16,224]))),$d=a.lazy(()=>l(()=>import("./SavedMessagesModal-CG05ulXi.js"),__vite__mapDeps([225,1,4]))),Nd=a.lazy(()=>l(()=>import("./ScreenShareModal-CzDH1s0I.js"),__vite__mapDeps([226,1,4]))),Bd=a.lazy(()=>l(()=>import("./SecurityAlertsPanel-BMyr_3mY.js"),__vite__mapDeps([227,1,4,3,14,15,0,16,228]))),Fd=a.lazy(()=>l(()=>import("./ServerAnalyticsDashboard-Cl6exXuU.js"),__vite__mapDeps([229,1,4]))),Ud=a.lazy(()=>l(()=>import("./ServerTemplates-DUJ1ducU.js"),__vite__mapDeps([230,1,4,3,14,15,0,16,231]))),Hd=a.lazy(()=>l(()=>import("./SessionManagerModal-CKsJ70tw.js"),__vite__mapDeps([232,1,4,3,14,15,0,16]))),Yd=a.lazy(()=>l(()=>import("./SlashCommandsPanel-CrpMZvA1.js"),__vite__mapDeps([233,1,4,234]))),Kd=a.lazy(()=>l(()=>import("./SpamDetectionPanel-BKhuazAG.js"),__vite__mapDeps([235,1,4,3,14,15,0,16]))),Gd=a.lazy(()=>l(()=>import("./StatusPicker-Bpfc4LLB.js"),__vite__mapDeps([236,1,4]))),qd=a.lazy(()=>l(()=>import("./StickersPanel-BKnOrWT3.js"),__vite__mapDeps([237,1,3,14,15,0,4,16,238]))),Wd=a.lazy(()=>l(()=>import("./SubscriptionManager-hoAcCwfl.js"),__vite__mapDeps([239,1,4,3,14,15,0,16]))),Jd=a.lazy(()=>l(()=>import("./ThemeMarketplace-7DHIxADC.js"),__vite__mapDeps([240,1,13,3,14,15,0,4,16,241]))),Zd=a.lazy(()=>l(()=>import("./TranslationPanel-BEMU4ko2.js"),__vite__mapDeps([242,1,16,3,14,15,0,4,243]))),Qd=a.lazy(()=>l(()=>import("./UserNotesModal-Dqvkcs2w.js"),__vite__mapDeps([244,1,4]))),Xd=a.lazy(()=>l(()=>import("./WebhookManager-tKplLZi9.js"),__vite__mapDeps([245,1,4,3,14,15,0,16]))),eu=a.lazy(()=>l(()=>import("./WelcomeScreenEditor-Cf_PPmOX.js"),__vite__mapDeps([246,1,4]))),tu=F,me=t=>({fetchWithAuth:t.fetchWithAuth,apiBaseUrl:tu}),nu=[{key:"moderatorTools",C:Rd,fb:"üõ°Ô∏è Moderasyon Ara√ßlarƒ± Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id,roomSlug:t.activeChat?.slug})},{key:"aIModeration",C:ld,fb:"ü§ñ AI Moderasyon Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"spamDetection",C:Kd,fb:"üö´ Spam Korumasƒ± Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"auditLogs",C:ud,fb:"üìã Denetim Kayƒ±tlarƒ± Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"banHistory",C:pd,fb:"‚õî Ban Ge√ßmi≈üi Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"moderationLogs",C:Pd,fb:"üìú Moderasyon Loglarƒ± Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"securityAlerts",C:Bd,fb:"üö® G√ºvenlik Uyarƒ±larƒ± Y√ºkleniyor...",props:me},{key:"gIFPicker",C:Sd,fb:"üéûÔ∏è GIF Se√ßici Y√ºkleniyor...",props:t=>({...me(t),onSelect:()=>{t.closeModal("gIFPicker")}})},{key:"pollCreator",C:Ld,fb:"üìä Anket Olu≈üturucu Y√ºkleniyor...",props:t=>({...me(t),roomSlug:t.activeChat?.slug})},{key:"stickers",C:qd,fb:"üé® √áƒ±kartmalar Y√ºkleniyor...",props:t=>({...me(t),onSelect:()=>{t.closeModal("stickers")}})},{key:"savedMessages",C:$d,fb:"üíæ Kayƒ±tlƒ± Mesajlar Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"notificationsCenter",C:Id,fb:"üîî Bildirimler Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"messageSummary",C:Cd,fb:"üìù √ñzet Y√ºkleniyor...",props:t=>({...me(t),roomSlug:t.activeChat?.slug})},{key:"translation",C:Zd,fb:"üåç √áeviri Y√ºkleniyor...",props:me},{key:"channelSettings",C:gd,fb:"‚öôÔ∏è Kanal Ayarlarƒ± Y√ºkleniyor...",cond:t=>t.activeChat?.type==="room",props:t=>({...me(t),roomSlug:t.activeChat.slug,serverId:t.activeChat.server_id})},{key:"inviteModal",C:Ed,fb:"üì® Davet Y√ºkleniyor...",cond:t=>t.activeChat?.type==="room",props:t=>({fetchWithAuth:t.fetchWithAuth,apiBaseUrl:ze,server:(()=>{for(const e of t.categories||[])for(const n of e.categories||[])if(n.rooms?.some(r=>r.slug===t.activeChat.id))return{id:e.id,name:e.name,avatar:e.avatar};return{id:t.activeChat.server_id,name:"Sunucu"}})(),currentUser:t.username})},{key:"serverTemplates",C:Ud,fb:"üìã ≈ûablonlar Y√ºkleniyor...",props:me},{key:"serverAnalytics",C:Fd,fb:"üìä Analitik Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"rolesManager",C:Md,fb:"üëë Rol Y√∂neticisi Y√ºkleniyor...",cond:t=>t.activeChat?.type==="room",props:t=>({...me(t),serverId:t.activeChat.server_id})},{key:"welcomeScreenEditor",C:eu,fb:"üëã Kar≈üƒ±lama Ekranƒ± Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"communitySettings",C:xd,fb:"üèòÔ∏è Topluluk Ayarlarƒ± Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"inviteLinkManager",C:wd,fb:"üîó Davet Linkleri Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"botBuilder",C:fd,fb:"ü§ñ Bot Olu≈üturucu Y√ºkleniyor...",props:me},{key:"botDevPortal",C:md,fb:"üßë‚Äçüíª Geli≈ütirici Portalƒ± Y√ºkleniyor...",props:me},{key:"webhookManager",C:Xd,fb:"üîó Webhook Y√∂neticisi Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"aPIKeys",C:cd,fb:"üîë API Anahtarlarƒ± Y√ºkleniyor...",props:me},{key:"slashCommands",C:Yd,fb:"‚ö° Komut Y√∂neticisi Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"codeRunner",C:hd,fb:"üíª Kod √áalƒ±≈ütƒ±rƒ±cƒ± Y√ºkleniyor...",props:me},{key:"profileCard",C:Ad,fb:"üë§ Profil Kartƒ± Y√ºkleniyor...",props:t=>({...me(t),username:t.username,currentUser:t.currentUserProfile})},{key:"userNotes",C:Qd,fb:"üìù Notlar Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"statusPicker",C:Gd,fb:"üü¢ Durum Se√ßici Y√ºkleniyor...",props:t=>({...me(t),currentUser:t.currentUserProfile})},{key:"mutuals",C:jd,fb:"üë• Ortak Arkada≈ülar Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"profileShowcase",C:zd,fb:"üèÖ Profil Vitrini Y√ºkleniyor...",props:t=>({...me(t),username:t.username,currentUser:t.currentUserProfile})},{key:"sessionManager",C:Hd,fb:"üì± Oturum Y√∂neticisi Y√ºkleniyor...",props:me},{key:"coinStore",C:yd,fb:"ü™ô Maƒüaza Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"premiumManagement",C:Od,fb:"üíé Premium Y√∂netimi Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"subscriptionManager",C:Wd,fb:"üìã Abonelikler Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"giftPremium",C:kd,fb:"üéÅ Hediye Premium Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"premiumMarketplace",C:Dd,fb:"üõí Premium Maƒüaza Y√ºkleniyor...",props:me},{key:"themeMarketplace",C:Jd,fb:"üé® Tema Maƒüazasƒ± Y√ºkleniyor...",props:me},{key:"aIChatbot",C:ad,fb:"ü§ñ AI Chatbot Y√ºkleniyor...",props:t=>({...me(t),username:t.username})},{key:"codeEditor",C:_d,fb:"üë®‚Äçüíª Kod Edit√∂r√º Y√ºkleniyor...",props:t=>({...me(t),roomSlug:t.activeChat?.slug,username:t.username})},{key:"screenShare",C:Nd,fb:"üñ•Ô∏è Ekran Payla≈üƒ±mƒ± Y√ºkleniyor...",props:t=>({...me(t),roomSlug:t.activeChat?.slug})},{key:"liveStreamModal",C:Td,fb:"üì∫ Canlƒ± Yayƒ±n Y√ºkleniyor...",props:t=>({...me(t),roomSlug:t.activeChat?.slug,username:t.username})},{key:"advancedAnalytics",C:dd,fb:"üìà Geli≈ümi≈ü Analitik Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"fileManager",C:vd,fb:"üìÅ Dosya Y√∂neticisi Y√ºkleniyor...",props:t=>({...me(t),roomSlug:t.activeChat?.slug})},{key:"reports",C:Vd,fb:"üìä Raporlar Y√ºkleniyor...",props:t=>({...me(t),serverId:t.activeChat?.server_id})},{key:"errorReporting",C:bd,fb:"üêõ Hata Raporlama Y√ºkleniyor...",props:me},{key:"featureHub",C:id,noSuspense:!0}],ru=t=>{const{modals:e,closeModal:n}=t;return o.jsx(o.Fragment,{children:nu.map(({key:r,C:s,fb:i,cond:d,props:c,noSuspense:p})=>{if(!e[r]||d&&!d(t))return null;const f=c?{...c({...t,closeModal:n}),onClose:()=>n(r)}:{};return p?o.jsx(s,{...f},r):o.jsx(u.Suspense,{fallback:o.jsx("div",{children:i||"Y√ºkleniyor..."}),children:o.jsx(s,{...f})},r)})})},Lo=a.lazy(()=>l(()=>import("./ImageLightbox-D6uGfOcl.js"),__vite__mapDeps([247,1,4]))),ou=a.lazy(()=>l(()=>import("./MessageTemplateModal-D3wqUzkD.js"),__vite__mapDeps([248,1,4,3,14,15,0,16]))),su=a.lazy(()=>l(()=>import("./PinnedMessages-BL3eHJBj.js"),__vite__mapDeps([249,1,250,3,4,251,252,253,254,14,15,0,16]))),iu=a.lazy(()=>l(()=>import("./SummaryModal-CumImOut.js"),__vite__mapDeps([255,1,4]))),au=a.lazy(()=>l(()=>import("./ThemeStoreModal-ClMSYsF7.js"),__vite__mapDeps([256,1,4,3,14,15,0,16]))),lu=a.lazy(()=>l(()=>import("./UserProfileModal-CeN_vNU1.js"),__vite__mapDeps([257,1,4,232,3,14,15,0,16,244]))),cu=({modals:t,closeModal:e,fetchWithAuth:n,activeChat:r,username:s,currentTheme:i,setCurrentTheme:d,pinnedMessages:c,zoomedImage:p,setZoomedImage:f,galleryData:g,setGalleryData:m,viewingProfile:h,setViewingProfile:b,isAdmin:_,richTextRef:v,getDeterministicAvatar:y,handleDMClick:T,friendsList:P})=>o.jsxs(o.Fragment,{children:[p&&o.jsx(u.Suspense,{fallback:null,children:o.jsx(Lo,{imageUrl:p,onClose:()=>f(null)})}),g&&o.jsx(u.Suspense,{fallback:null,children:o.jsx(Lo,{images:g.images,startIndex:g.startIndex,onClose:()=>m(null)})}),t.pinned&&o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"small",text:"Sabitlenmi≈ü mesajlar y√ºkleniyor..."}),children:o.jsx(su,{messages:c,onClose:()=>e("pinned")})}),h&&o.jsx(u.Suspense,{fallback:null,children:o.jsx(lu,{user:h,onClose:()=>b(null),onStartDM:T,onImageClick:f,getDeterministicAvatar:y,fetchWithAuth:n,apiBaseUrl:F,currentUser:s,friendsList:P})}),t.themeStore&&o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"medium",text:"Temalar y√ºkleniyor..."}),children:o.jsx(au,{onClose:()=>e("themeStore"),currentTheme:i,onThemeChange:d})}),t.summary&&o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"medium",text:"√ñzet hazƒ±rlanƒ±yor..."}),children:o.jsx(iu,{roomSlug:r.id,onClose:()=>e("summary"),fetchWithAuth:n,apiBaseUrl:F})}),t.templateModal&&o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"small",text:"≈ûablonlar y√ºkleniyor..."}),children:o.jsx(ou,{onClose:()=>e("templateModal"),onSelect:A=>{v.current?.appendText?.(A),e("templateModal")},fetchWithAuth:n,apiBaseUrl:F,isAdmin:_})})]}),du=t=>{const{modals:e,openModal:n,closeModal:r,toggleModal:s}=Zr(),i={...t,modals:e,openModal:n,closeModal:r,toggleModal:s};return o.jsxs(o.Fragment,{children:[o.jsx(Tl,{...i}),o.jsx(sc,{...i}),o.jsx(rd,{...i}),o.jsx(ru,{...i}),o.jsx(cu,{...i})]})},uu=da,pu=`${uu}/assets`,fu=`${pu}/logo.png`,mu=fu,gu=()=>o.jsxs("svg",{className:"splash-logo",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("ellipse",{cx:"50",cy:"62",rx:"22",ry:"18",fill:"white"}),o.jsx("ellipse",{cx:"28",cy:"38",rx:"10",ry:"12",fill:"white"}),o.jsx("ellipse",{cx:"72",cy:"38",rx:"10",ry:"12",fill:"white"}),o.jsx("ellipse",{cx:"22",cy:"55",rx:"8",ry:"10",fill:"white"}),o.jsx("ellipse",{cx:"78",cy:"55",rx:"8",ry:"10",fill:"white"})]}),hu=()=>{const[t,e]=u.useState(!1);return t?o.jsx(gu,{}):o.jsx("img",{src:mu,alt:"Pawscord",className:"splash-logo",onError:()=>e(!0)})},yu=({animationState:t})=>o.jsxs("div",{className:`splash-screen ${t}`,children:[o.jsx("div",{className:"particles",children:[...Array(15)].map((e,n)=>o.jsx("div",{className:"particle",style:{"--delay":`${Math.random()*2}s`,"--x":`${Math.random()*100}%`,"--size":`${4+Math.random()*8}px`,"--duration":`${2+Math.random()*3}s`}},n))}),o.jsxs("div",{className:"rings-container",children:[o.jsx("div",{className:"ring ring-1"}),o.jsx("div",{className:"ring ring-2"}),o.jsx("div",{className:"ring ring-3"})]}),o.jsxs("div",{className:"logo-container",children:[o.jsx("div",{className:"logo-glow"}),o.jsx(hu,{})]}),o.jsxs("div",{className:"brand-text",children:[o.jsx("span",{className:"letter",style:{"--i":0},children:"P"}),o.jsx("span",{className:"letter",style:{"--i":1},children:"A"}),o.jsx("span",{className:"letter",style:{"--i":2},children:"W"}),o.jsx("span",{className:"letter",style:{"--i":3},children:"S"}),o.jsx("span",{className:"letter",style:{"--i":4},children:"C"}),o.jsx("span",{className:"letter",style:{"--i":5},children:"O"}),o.jsx("span",{className:"letter",style:{"--i":6},children:"R"}),o.jsx("span",{className:"letter",style:{"--i":7},children:"D"})]}),o.jsx("div",{className:"loading-bar",children:o.jsx("div",{className:"loading-progress"})})]}),Oo=a.memo(yu),_u=()=>{const[t,e]=u.useState("online"),[n,r]=u.useState(!1),[s,i]=u.useState(!1),d=u.useCallback(()=>{e("offline"),r(!0),i(!1)},[]),c=u.useCallback(()=>{e("reconnecting"),r(!0),i(!1),setTimeout(()=>{e("online"),setTimeout(()=>{i(!0),setTimeout(()=>r(!1),500)},2e3)},1e3)},[]);if(u.useEffect(()=>(window.addEventListener("online",c),window.addEventListener("offline",d),navigator.onLine||d(),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",d)}),[c,d]),!n)return null;const f={offline:{bg:"linear-gradient(135deg, #da373c, #a12d2f)",icon:o.jsx(ps,{}),text:"ƒ∞nternet baƒülantƒ±sƒ± yok",pulse:!1},reconnecting:{bg:"linear-gradient(135deg, #f0b232, #d4982a)",icon:o.jsx(ki,{className:"conn-status-spin"}),text:"Yeniden baƒülanƒ±lƒ±yor...",pulse:!0},online:{bg:"linear-gradient(135deg, #23a559, #1e8e4a)",icon:o.jsx(Si,{}),text:"Baƒülantƒ± saƒülandƒ±!",pulse:!1}}[t];return o.jsxs("div",{style:{...Lr.bar,background:f.bg,opacity:s?0:1,transform:s?"translateY(-100%)":"translateY(0)"},children:[o.jsx("span",{style:Lr.icon,children:f.icon}),o.jsx("span",{style:Lr.text,children:f.text})]})},Lr={bar:{position:"fixed",top:0,left:0,right:0,height:32,display:"flex",alignItems:"center",justifyContent:"center",gap:8,zIndex:99999,transition:"all 0.5s ease",boxShadow:"0 2px 8px rgba(0,0,0,0.3)"},icon:{color:"#fff",fontSize:14,display:"flex",alignItems:"center"},text:{color:"#fff",fontSize:13,fontWeight:600}};if(typeof document<"u"){const t="conn-status-css";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=`@keyframes connSpin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
.conn-status-spin { animation: connSpin 1s linear infinite; }`,document.head.appendChild(e)}}const xu=u.memo(_u),bu=({onClick:t,unreadCount:e=0,visible:n=!0})=>n?o.jsxs("button",{onClick:t,style:Do.fab,className:"scroll-to-bottom-fab",title:"En alta git",children:[e>0&&o.jsx("div",{style:Do.badge,children:e>99?"99+":e}),o.jsx(wi,{style:{fontSize:16}})]}):null,Do={fab:{position:"absolute",bottom:90,right:20,width:40,height:40,borderRadius:"50%",backgroundColor:"#313338",border:"1px solid rgba(255,255,255,0.1)",color:"#dcddde",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",transition:"all 0.2s ease",zIndex:50},badge:{position:"absolute",top:-8,right:-4,minWidth:20,height:20,borderRadius:10,backgroundColor:"#5865f2",color:"#fff",fontSize:11,fontWeight:700,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 5px",boxShadow:"0 2px 6px rgba(88,101,242,0.4)"}};if(typeof document<"u"){const t="scroll-bottom-fab-css";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=".scroll-to-bottom-fab:hover { background-color: #404249 !important; transform: scale(1.1); }",document.head.appendChild(e)}}const vu=u.memo(bu),Su=t=>{const e=new Date(t),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),s=new Date(r.getTime()-864e5),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return i.getTime()===r.getTime()?"Bug√ºn":i.getTime()===s.getTime()?"D√ºn":Math.floor((r.getTime()-i.getTime())/864e5)<7?["Pazar","Pazartesi","Salƒ±","√áar≈üamba","Per≈üembe","Cuma","Cumartesi"][e.getDay()]:e.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})},ku=({date:t})=>o.jsxs("div",{style:Qn.container,children:[o.jsx("div",{style:Qn.line}),o.jsx("span",{style:Qn.label,children:Su(t)}),o.jsx("div",{style:Qn.line})]}),Qn={container:{display:"flex",alignItems:"center",gap:12,padding:"16px 0 8px",userSelect:"none"},line:{flex:1,height:1,backgroundColor:"rgba(255,255,255,0.06)"},label:{color:"#949ba4",fontSize:12,fontWeight:600,whiteSpace:"nowrap",padding:"2px 8px",borderRadius:12,backgroundColor:"rgba(255,255,255,0.03)"}},Ao=u.memo(ku),wu=({typingUsers:t=[],currentUser:e})=>{const n=u.useMemo(()=>t.filter(s=>s!==e),[t,e]);if(n.length===0)return null;const r=u.useMemo(()=>n.length===1?`${n[0]} yazƒ±yor`:n.length===2?`${n[0]} ve ${n[1]} yazƒ±yor`:n.length===3?`${n[0]}, ${n[1]} ve ${n[2]} yazƒ±yor`:`${n[0]}, ${n[1]} ve ${n.length-2} ki≈üi daha yazƒ±yor`,[n]);return o.jsxs("div",{style:nn.container,children:[o.jsxs("div",{style:nn.dots,children:[o.jsx("span",{style:{...nn.dot,animationDelay:"0s"}}),o.jsx("span",{style:{...nn.dot,animationDelay:"0.2s"}}),o.jsx("span",{style:{...nn.dot,animationDelay:"0.4s"}})]}),o.jsx("span",{style:nn.text,children:r})]})},nn={container:{display:"flex",alignItems:"center",gap:8,padding:"4px 16px",height:24,overflow:"hidden"},dots:{display:"flex",gap:3,alignItems:"center"},dot:{width:6,height:6,borderRadius:"50%",backgroundColor:"#fff",animation:"typingDotBounce 1.2s infinite ease-in-out"},text:{color:"#949ba4",fontSize:12,fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};if(typeof document<"u"){const t="typing-enhanced-css";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=`
            @keyframes typingDotBounce {
                0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
                30% { transform: translateY(-4px); opacity: 1; }
            }
        `,document.head.appendChild(e)}}const Eu=u.memo(wu),Tu=a.memo(({messages:t,currentUser:e,absoluteHostUrl:n,isAdmin:r,onOpenGallery:s,onViewProfile:i,onDelete:d,allUsers:c,getDeterministicAvatar:p,fetchWithAuth:f,onVisible:g})=>{const m=t[0],h=(()=>{let D=m.avatar;return D||(D=c?.find(Z=>Z.username===m.username)?.avatar),D||(D=p(m.username)),D&&!D.startsWith("http")&&!D.startsWith("blob:")&&(D=`${n.replace(/\/$/,"")}/${D.replace(/^\//,"")}`),D})(),b=D=>D?D.startsWith("http")||D.startsWith("blob:")?D:`${n.replace(/\/$/,"")}/${D.replace(/^\//,"")}`:null,_=t.map(D=>{const Y=D.image_url||D.image;if(Y)return b(Y);const Z=D.file_url||D.file;return Z&&/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(D.file_name||"")?b(Z):null}).filter(Boolean),v=4,y=_.length,T=_.slice(0,v),P=T.length,A=Math.max(0,y-v),K=()=>P===1?{gridTemplateColumns:"1fr",maxWidth:"300px"}:P===2?{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"}:P===3?{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"}:{gridTemplateColumns:"1fr 1fr",maxWidth:"400px"},W=m.timestamp?new Date(m.timestamp):null,te=W?W.toDateString()===new Date().toDateString()?W.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):W.toLocaleString([],{hour:"2-digit",minute:"2-digit"}):"",_e=D=>{s&&s(_,D)};return o.jsxs("div",{style:{display:"flex",padding:"4px 48px 4px 16px",gap:"12px",position:"relative"},children:[o.jsx("div",{style:{flexShrink:0,width:"40px",paddingTop:"2px"},children:o.jsx("img",{src:h,alt:m.username,style:{width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",objectFit:"cover"},onClick:()=>i(m.username)})}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[o.jsx("strong",{style:{cursor:"pointer",color:r&&m.username===e?"#f0b232":"#fff",fontSize:"0.95em"},onClick:()=>i(m.username),children:m.username}),o.jsx("span",{style:{color:"#72767d",fontSize:"0.75em"},children:te}),y>1&&o.jsxs("span",{style:{color:"#5865f2",fontSize:"0.72em",fontWeight:600},children:["üì∑ ",y," fotoƒüraf"]})]}),o.jsx("div",{style:{display:"grid",...K(),gap:"3px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:T.map((D,Y)=>{const Z=Y===v-1&&A>0;return o.jsxs("div",{style:{aspectRatio:P===1?"auto":P===3&&Y===0?"2/1":"1/1",overflow:"hidden",position:"relative",...P===3&&Y===0?{gridColumn:"1 / -1"}:{},maxHeight:P===1?"300px":"200px",cursor:"pointer"},onClick:()=>_e(Y),children:[o.jsx("img",{src:D,alt:`gallery-${Y}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",transition:"transform 0.2s, filter 0.2s",filter:Z?"brightness(0.4)":"none"},loading:"lazy",onMouseEnter:M=>{M.target.style.transform="scale(1.05)",Z||(M.target.style.filter="brightness(0.85)")},onMouseLeave:M=>{M.target.style.transform="scale(1)",Z?M.target.style.filter="brightness(0.4)":M.target.style.filter="none"}}),Z&&o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:o.jsxs("span",{style:{color:"#fff",fontSize:"2rem",fontWeight:700,textShadow:"0 2px 8px rgba(0,0,0,0.6)",letterSpacing:"1px"},children:["+",A]})})]},t[Y]?.id||Y)})})]})]})}),zo=a.lazy(()=>l(()=>import("./Message-CZP5hFV2.js"),__vite__mapDeps([250,3,1,4,251,252,253,254,14,15,0,16]))),Cu=a.lazy(()=>l(()=>import("./VirtualMessageList-DOYMVFn2.js"),__vite__mapDeps([258,1,254]))),Pu=a.lazy(()=>l(()=>import("./MessageInput-DBtUE7Ri.js"),__vite__mapDeps([259,3,1,4,248,14,15,0,16,260,119,261])));a.lazy(()=>l(()=>import("./UserVideoContainer-20eDU07i.js"),__vite__mapDeps([262,1])));const Ru=a.lazy(()=>l(()=>import("./VoiceAudioController-ClCmDsXb.js"),__vite__mapDeps([263,1,3,14,15,0,4,16])));a.lazy(()=>l(()=>import("./RichTextEditor-CBK1Cbuw.js"),__vite__mapDeps([264,1,265,19,16,4,266])));const ju=a.lazy(()=>l(()=>import("./StickyMessageBanner-QPLIiw8g.js"),__vite__mapDeps([267,1,4]))),Iu=a.lazy(()=>l(()=>import("./LoginPage-B9XI1_SN.js"),__vite__mapDeps([268,1,4,269,0,3,14,15,16]))),Lu=a.lazy(()=>l(()=>import("./WelcomeScreen-BY1Ibu90.js"),__vite__mapDeps([270,1,4,33,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ImageModal-DQx0FHtu.js"),__vite__mapDeps([271,1])));a.lazy(()=>l(()=>import("./UserProfileModal-CeN_vNU1.js"),__vite__mapDeps([257,1,4,232,3,14,15,0,16,244])));a.lazy(()=>l(()=>import("./PollCreateModal-CnsIIclK.js"),__vite__mapDeps([40,1,4])));a.lazy(()=>l(()=>import("./CodeSnippetModal-CFB0Ycyg.js"),__vite__mapDeps([26,1,4])));a.lazy(()=>l(()=>import("./AvatarCropper-Cm3M-WWz.js"),__vite__mapDeps([9,1,10])));a.lazy(()=>l(()=>import("./CryptoChartModal-fqcyIg0Y.js"),__vite__mapDeps([5,1,4])));a.lazy(()=>l(()=>import("./CryptoStoreModal-48a1SguC.js"),__vite__mapDeps([272,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./PremiumStoreModal-CYpuv3Pi.js"),__vite__mapDeps([41,1,4,42,3,14,15,0,16])));a.lazy(()=>l(()=>import("./WhiteboardModal-BeJXN5-t.js"),__vite__mapDeps([56,1,4])));a.lazy(()=>l(()=>import("./SoundboardModal-BKA80G-2.js"),__vite__mapDeps([51,1,4])));const Ou=a.lazy(()=>l(()=>import("./KanbanBoard-D9l6_Vws.js"),__vite__mapDeps([273,1,19,16,254,4,3,14,15,0])));a.lazy(()=>l(()=>import("./SummaryModal-CumImOut.js"),__vite__mapDeps([255,1,4])));a.lazy(()=>l(()=>import("./MessageTemplateModal-D3wqUzkD.js"),__vite__mapDeps([248,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./CinemaModal-D0D2bLbt.js"),__vite__mapDeps([2,3,1,4])));a.lazy(()=>l(()=>import("./StickerPicker-Dtikrkkc.js"),__vite__mapDeps([7,1])));a.lazy(()=>l(()=>import("./GifPicker-6uabRTki.js"),__vite__mapDeps([6,1])));a.lazy(()=>l(()=>import("./DJModal-BoyweJB-.js"),__vite__mapDeps([31,3,1,4])));a.lazy(()=>l(()=>import("./ThemeStoreModal-ClMSYsF7.js"),__vite__mapDeps([256,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./EncryptionKeyModal-DhSOn0fV.js"),__vite__mapDeps([34,1,4])));a.lazy(()=>l(()=>import("./DownloadModal-DnB1VJP0.js"),__vite__mapDeps([33,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ServerSettingsModal-DaroXmjU.js"),__vite__mapDeps([48,1,4,49,50,3,14,15,0,16])));a.lazy(()=>l(()=>import("./CreateGroupModal-CKGQtPZ_.js"),__vite__mapDeps([29,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AdminAnalyticsPanel-DNpEnDVa.js"),__vite__mapDeps([18,1,4,19,16])));a.lazy(()=>l(()=>import("./AdminPanelModal-B1KLfJOu.js"),__vite__mapDeps([20,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./WebhooksPanel-CEVSK7ek.js"),__vite__mapDeps([54,1,16,3,14,15,0,4,55])));a.lazy(()=>l(()=>import("./VanityURLManager-D1fkM1if.js"),__vite__mapDeps([50,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AutoModerationDashboard-Bw37NF6z.js"),__vite__mapDeps([22,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AutoModerationPanel-CtMi-LcE.js"),__vite__mapDeps([274,1,4,3,14,15,0,16,275])));a.lazy(()=>l(()=>import("./RaidProtectionPanel-CUTvj5yC.js"),__vite__mapDeps([43,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ReportSystemPanel-BQ0esLYM.js"),__vite__mapDeps([46,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AuditLogPanel-CpRhjmJM.js"),__vite__mapDeps([23,1,4])));a.lazy(()=>l(()=>import("./UserWarningsPanel-e-BmyiAT.js"),__vite__mapDeps([53,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./BookmarkPanel-f2t8NKRo.js"),__vite__mapDeps([24,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ReadLaterPanel-DS0CpGGF.js"),__vite__mapDeps([44,1,4,45])));a.lazy(()=>l(()=>import("./ChannelPermissionsPanel-C1mr6BtZ.js"),__vite__mapDeps([25,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./MessageThreadsPanel-C5JVfi6q.js"),__vite__mapDeps([276,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ModeratorNotesPanel-6EsrpsTi.js"),__vite__mapDeps([277,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ServerRolesPanel-dzPW33e5.js"),__vite__mapDeps([278,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./NotificationPreferencesPanel-8NyydBTQ.js"),__vite__mapDeps([279,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./MessageOCRPanel-CY4pOeDQ.js"),__vite__mapDeps([280,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./MassActionsPanel-HnIzIaCl.js"),__vite__mapDeps([281,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./TimeoutMutePanel-CxuP4_kL.js"),__vite__mapDeps([282,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ServerThemesPanel-Cw5RealC.js"),__vite__mapDeps([283,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./KeywordMutesPanel-C8IaZvJx.js"),__vite__mapDeps([284,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./WelcomeTemplatesPanel-B_7Dz-pO.js"),__vite__mapDeps([285,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./StickyMessagesPanel-CqBvJSAU.js"),__vite__mapDeps([286,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./MessageTemplatesPanel-BOLjZrfI.js"),__vite__mapDeps([287,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./MessageExportPanel-XQMSRPGE.js"),__vite__mapDeps([288,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ArchivedRoomsPanel-DDDKQTbe.js"),__vite__mapDeps([289,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./SlowModePanel-DeQ-XLxS.js"),__vite__mapDeps([290,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./EmojiManagementPanel-DHYRTqca.js"),__vite__mapDeps([291,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./MentionsInboxPanel-08-jAgMY.js"),__vite__mapDeps([36,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./CustomStatusModal-BuquDTd9.js"),__vite__mapDeps([30,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ReactionAnalyticsPanel-B2StEDJe.js"),__vite__mapDeps([78,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./LinkClickTrackingPanel-C44Yl5un.js"),__vite__mapDeps([72,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./JoinLeaveLogsPanel-Cct0laqT.js"),__vite__mapDeps([71,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./UserActivityPanel-1-9oaAIU.js"),__vite__mapDeps([86,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./NicknameHistoryPanel-BKcKJA8O.js"),__vite__mapDeps([75,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./FieldChangeTrackingPanel-fnThxABM.js"),__vite__mapDeps([65,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./InviteAnalyticsPanel-9Patohhx.js"),__vite__mapDeps([69,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ContentScannerPanel-dxBLSd2d.js"),__vite__mapDeps([60,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./EphemeralMessagesPanel-CTspVN8W.js"),__vite__mapDeps([64,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./TopicHistoryPanel-DdvbnwYe.js"),__vite__mapDeps([84,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./DraftsPanel-DGG6P6HQ.js"),__vite__mapDeps([62,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ServerNicknamesPanel-z6qRHbLN.js"),__vite__mapDeps([82,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ServerBoostPanel-NC9tFFHv.js"),__vite__mapDeps([81,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./RoomWebhooksPanel-B5G2hr2Q.js"),__vite__mapDeps([80,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./OAuthAppsPanel-BChzQDab.js"),__vite__mapDeps([76,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./VanityURLPanel-pdnTC1Iy.js"),__vite__mapDeps([292,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AutoRespondersPanel-UO0JCLLQ.js"),__vite__mapDeps([58,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./SessionManagementPanel-CvoULaZB.js"),__vite__mapDeps([83,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./GDPRExportPanel-B5KLj-vM.js"),__vite__mapDeps([66,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./DataRetentionPanel-BY1iIu4E.js"),__vite__mapDeps([61,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./TwoFactorSetupWizard-8ocDMcwR.js"),__vite__mapDeps([85,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./EnhancedPollsPanel-B2_1LYwv.js"),__vite__mapDeps([63,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./VoiceTranscriptsPanel-BaE_Iv3n.js"),__vite__mapDeps([87,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./PaymentPanel-Vr7ZBSn9.js"),__vite__mapDeps([39,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./StoreModal-DBdjpWDw.js"),__vite__mapDeps([52,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./DailyRewardsModal-sWcmIXyh.js"),__vite__mapDeps([32,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./APIUsagePanel-d-w25uTG.js"),__vite__mapDeps([21,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ExportJobsPanel-DFQIpP96.js"),__vite__mapDeps([35,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ScheduledAnnouncementsPanel-DtF8zAyn.js"),__vite__mapDeps([47,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./InviteExportPanel-VZqgoN6-.js"),__vite__mapDeps([70,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AdvancedSearchPanel-C2HLexCU.js"),__vite__mapDeps([57,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./GrowthMetricsPanel-BpCcznpo.js"),__vite__mapDeps([67,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./LinkPreviewRenderer-XI4XkMBW.js"),__vite__mapDeps([73,1,4])));a.lazy(()=>l(()=>import("./InventoryPanel-Feoa6XyW.js"),__vite__mapDeps([68,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./WaitlistPanel-S-AvxsVi.js"),__vite__mapDeps([88,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ReferralRewardsPanel-D-UwzeZX.js"),__vite__mapDeps([79,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./VerifyEmailPage-D2Ki5KlX.js"),__vite__mapDeps([293,1,4,14])));a.lazy(()=>l(()=>import("./ForgotPasswordPage-2bhXhVsR.js"),__vite__mapDeps([294,1,4,269,14])));a.lazy(()=>l(()=>import("./ResetPasswordPage-C_FzDUrX.js"),__vite__mapDeps([295,1,4,14])));a.lazy(()=>l(()=>import("./TwoFactorLoginPage-CbW0qslt.js"),__vite__mapDeps([296,1,14,4,3,15,0,16])));a.lazy(()=>l(()=>import("./TwoFactorSetup-DhnAQh6d.js"),__vite__mapDeps([297,1,3,14,15,0,4,16,298])));a.lazy(()=>l(()=>import("./TwoFactorLogin-D7pKWbgL.js"),__vite__mapDeps([299,1,300])));const Du=a.lazy(()=>l(()=>import("./VanityInviteScreen-RHttlqPw.js"),__vite__mapDeps([301,1,16]))),Au=a.lazy(()=>l(()=>import("./InviteCodeScreen-Dihbg6T0.js"),__vite__mapDeps([302,1,3,14,15,0,4,16])));a.lazy(()=>l(()=>import("./EmailVerification-ed5lG6A2.js"),__vite__mapDeps([303,1,14,304])));a.lazy(()=>l(()=>import("./MobileNav-rp0DjNZ6.js"),__vite__mapDeps([305,1,306])));a.lazy(()=>l(()=>import("./SwipeActions-CsjzvrlS.js"),__vite__mapDeps([307,1,308])));a.lazy(()=>l(()=>import("./VoiceMessage-BE9f2lfj.js"),__vite__mapDeps([309,1,3,14,15,0,4,16,310])));const zu=a.lazy(()=>l(()=>import("./FriendsTab-_-gNT0jf.js"),__vite__mapDeps([311,1,4,251,3,14,15,0,16]))),Vu=a.lazy(()=>l(()=>import("./RoomList-BbISAC8l.js"),__vite__mapDeps([312,1,4,0,313,201,3,14,15,16,225,260,245,207,50,49,187,251])));a.lazy(()=>l(()=>import("./UserProfilePanel-Cjsqn5J0.js"),__vite__mapDeps([8,1,9,10,11,12,13,3,14,15,0,4,16,17])));const Vo=a.lazy(()=>l(()=>import("./VoiceChatPanel-XVf1WZaK.js"),__vite__mapDeps([314,1,315,4,167,16,3,14,15,0,168,316]))),Mu=a.lazy(()=>l(()=>import("./ChatUserList-Bwed97vt.js"),__vite__mapDeps([317,1,4,14])));a.lazy(()=>l(()=>import("./PinnedMessages-BL3eHJBj.js"),__vite__mapDeps([249,1,250,3,4,251,252,253,254,14,15,0,16])));a.lazy(()=>l(()=>import("./FloatingVoiceIsland-CVJFrTAp.js"),__vite__mapDeps([318,1,316,16,319])));a.lazy(()=>l(()=>import("./CinemaPlayer-BUQfKE5H.js"),__vite__mapDeps([320,3,1,4,14,15,0,16])));a.lazy(()=>l(()=>import("./ConnectionsPanel-CVMGD8l8.js"),__vite__mapDeps([27,1,4,3,14,15,0,16,28])));a.lazy(()=>l(()=>import("./PasswordSetupModal-BVu9Tqs0.js"),__vite__mapDeps([37,1,4,3,14,15,0,16,38])));const $u=a.lazy(()=>l(()=>import("./NotificationDropdown-49OV2Z6K.js"),__vite__mapDeps([321,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ReactionStatsPanel-CRfyT0N8.js"),__vite__mapDeps([322,1,4,3,14,15,0,16,323])));a.lazy(()=>l(()=>import("./ServerHealthPanel-CQGQvHQU.js"),__vite__mapDeps([324,1,4,3,14,15,0,16,325])));a.lazy(()=>l(()=>import("./ChannelAnalyticsPanel-ocLuW06i.js"),__vite__mapDeps([326,1,4,3,14,15,0,16,327])));a.lazy(()=>l(()=>import("./SmartSuggestionsPanel-Dlua-_oa.js"),__vite__mapDeps([328,1,4,3,14,15,0,16,329])));a.lazy(()=>l(()=>import("./UserPresenceInsightsPanel-Dy8kqWr3.js"),__vite__mapDeps([330,1,4,3,14,15,0,16,331])));a.lazy(()=>l(()=>import("./UserFooter-BZ5BRdXW.js").then(t=>t.a),__vite__mapDeps([313,1,4])));const Nu=a.lazy(()=>l(()=>import("./UserContextMenu-B0FahpaM.js"),__vite__mapDeps([315,1,4])));a.lazy(()=>l(()=>import("./MiniGamesPanel-Ci2RNgWy.js"),__vite__mapDeps([74,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ProjectCollaborationPanel-B8M8B2zX.js"),__vite__mapDeps([77,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AvatarStudioPanel-B-NRBY4M.js"),__vite__mapDeps([59,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ImageLightbox-D6uGfOcl.js"),__vite__mapDeps([247,1,4])));a.lazy(()=>l(()=>import("./ChannelAboutPanel-DlGlsN5R.js"),__vite__mapDeps([332,1,4])));a.lazy(()=>l(()=>import("./MessageSchedulePicker-BARA4uvl.js"),__vite__mapDeps([333,1,4])));a.lazy(()=>l(()=>import("./UserSettingsModal-Bzvm8wx0.js"),__vite__mapDeps([165,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./KeyboardShortcutsModal-BQ-XU2TD.js"),__vite__mapDeps([123,1,4])));a.lazy(()=>l(()=>import("./CommandPalette-Cfz4-NKB.js"),__vite__mapDeps([106,1,4,3,14,15,0,16,107])));a.lazy(()=>l(()=>import("./ServerDiscoveryPage-DJXp2NM-.js"),__vite__mapDeps([153,1,3,14,15,0,4,16,154])));a.lazy(()=>l(()=>import("./AppearanceSettingsPanel-DPK3cNEJ.js"),__vite__mapDeps([92,1,16,3,14,15,0,4,93])));a.lazy(()=>l(()=>import("./LanguageSelector-eaUquwNE.js"),__vite__mapDeps([124,1,0,3,14,15,4,16,125])));a.lazy(()=>l(()=>import("./ChangelogPanel-BlPwmtuX.js"),__vite__mapDeps([104,1,4,105])));a.lazy(()=>l(()=>import("./LogoutModal-Jq9Rw-DK.js"),__vite__mapDeps([11,1,12])));a.lazy(()=>l(()=>import("./NotificationSoundSettings-BCnjIEfm.js"),__vite__mapDeps([134,1,4])));a.lazy(()=>l(()=>import("./QuickSwitcher-C5fJwnaB.js"),__vite__mapDeps([139,1,4,140])));a.lazy(()=>l(()=>import("./LoginHistory-CUaKD965.js"),__vite__mapDeps([129,1,4])));a.lazy(()=>l(()=>import("./SecuritySettingsPanel-DnvFDbQJ.js"),__vite__mapDeps([147,1,16,3,14,15,0,4,148])));a.lazy(()=>l(()=>import("./PrivacySettingsPanel-Cxkja4Qq.js"),__vite__mapDeps([136,1,16,3,14,15,0,4,137])));a.lazy(()=>l(()=>import("./AccountDeletionModal-r6DYZAdd.js"),__vite__mapDeps([89,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./BlockListPanel-B4eIncgr.js"),__vite__mapDeps([100,1,16,3,14,15,0,4,101])));a.lazy(()=>l(()=>import("./E2EESettingsPanel-D_3slujb.js"),__vite__mapDeps([112,3,1,4,14,15,0,16])));a.lazy(()=>l(()=>import("./ThreadView-ncMgDKH8.js"),__vite__mapDeps([161,1,4])));a.lazy(()=>l(()=>import("./ScheduledMessagesPanel-DKmD306g.js"),__vite__mapDeps([145,1,3,14,15,0,4,16,146])));a.lazy(()=>l(()=>import("./ReminderPanel-CqueoCYA.js"),__vite__mapDeps([143,1,16,3,14,15,0,4,144])));a.lazy(()=>l(()=>import("./ForumPanel-BqMz8Wuo.js"),__vite__mapDeps([114,1,3,14,15,0,4,16,115])));a.lazy(()=>l(()=>import("./StageChannelPanel-0yp8d-25.js"),__vite__mapDeps([157,1,3,14,15,0,4,16,158])));a.lazy(()=>l(()=>import("./VideoCallModal-D83TNkEp.js"),__vite__mapDeps([166,1,4])));a.lazy(()=>l(()=>import("./VoiceSettingsPanel-DnetfDmT.js"),__vite__mapDeps([167,1,4,16,3,14,15,0,168])));a.lazy(()=>l(()=>import("./MessageSearchPanel-C622XIXm.js"),__vite__mapDeps([130,1,4,3,14,15,0,16,131])));a.lazy(()=>l(()=>import("./index-CmuMnbcq.js"),__vite__mapDeps([169,1,4,3,14,15,0,16,170])));a.lazy(()=>l(()=>import("./AutoRolesPanel-DNRdFrFi.js"),__vite__mapDeps([94,1,16,3,14,15,0,4,95])));a.lazy(()=>l(()=>import("./ReactionRolesPanel-BAztToBN.js"),__vite__mapDeps([141,1,16,3,14,15,0,4,142])));a.lazy(()=>l(()=>import("./WelcomeMessagesPanel-CWOljWEM.js"),__vite__mapDeps([172,1,16,3,14,15,0,4,173])));a.lazy(()=>l(()=>import("./EventCalendar-Cd9INFzO.js"),__vite__mapDeps([113,1,4])));a.lazy(()=>l(()=>import("./GiveawayPanel-nacbZkj2.js"),__vite__mapDeps([116,1,16,3,14,15,0,4,117])));a.lazy(()=>l(()=>import("./TicketSystemPanel-BNzzrTTS.js"),__vite__mapDeps([162,1,16,3,14,15,0,4,163])));a.lazy(()=>l(()=>import("./StarboardPanel-BRNCakMG.js"),__vite__mapDeps([159,1,16,3,14,15,0,4,160])));a.lazy(()=>l(()=>import("./ServerBackupPanel-DGE1IdKG.js"),__vite__mapDeps([149,1,16,3,14,15,0,4,150])));a.lazy(()=>l(()=>import("./BanAppealsPanel-C-SGLzsC.js"),__vite__mapDeps([96,1,4,97])));a.lazy(()=>l(()=>import("./CustomCommandsPanel-CcAgYQ-e.js"),__vite__mapDeps([108,1,16,3,14,15,0,4,109])));a.lazy(()=>l(()=>import("./LevelingSystemPanel-BsQInsUk.js"),__vite__mapDeps([126,1,16,3,14,15,0,4,127])));a.lazy(()=>l(()=>import("./LiveStreamPanel-DDUSY0Z1.js"),__vite__mapDeps([128,1,4])));a.lazy(()=>l(()=>import("./AchievementsPanel-WumvsCka.js"),__vite__mapDeps([90,1,3,14,15,0,4,16,91])));a.lazy(()=>l(()=>import("./BirthdaySystemPanel-DdhtEr0g.js"),__vite__mapDeps([98,1,16,3,14,15,0,4,99])));a.lazy(()=>l(()=>import("./PremiumModal-Dj2k3Xwo.js"),__vite__mapDeps([135,1,3,14,15,0,4,16])));a.lazy(()=>l(()=>import("./MusicPlayer-BrYPzOgm.js"),__vite__mapDeps([132,1,4,3,14,15,0,16,133])));a.lazy(()=>l(()=>import("./BotMarketplace-DaxMoeBb.js"),__vite__mapDeps([102,1,3,14,15,0,4,16,103])));a.lazy(()=>l(()=>import("./ProfileCustomization-CAwmR2dO.js"),__vite__mapDeps([138,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./IntegrationHubPanel-CjBAOOWd.js"),__vite__mapDeps([121,1,4,16,3,14,15,0,122])));a.lazy(()=>l(()=>import("./TournamentSystem-NbAi7Ep5.js"),__vite__mapDeps([164,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./HighlightsPanel-CVVW8MKn.js"),__vite__mapDeps([118,1,16,119,3,14,15,0,4,120])));a.lazy(()=>l(()=>import("./CustomEmbedPanel-BY0D7A6Z.js"),__vite__mapDeps([110,1,16,3,14,15,0,4,111])));a.lazy(()=>l(()=>import("./SpotifyIntegrationPanel-Bjf_M4kR.js"),__vite__mapDeps([155,1,4,156])));a.lazy(()=>l(()=>import("./ServerClonePanel-DvQ8h7xl.js"),__vite__mapDeps([151,1,4,3,14,15,0,16,152])));a.lazy(()=>l(()=>import("./WeeklyChallengesPanel-CIukBpPN.js"),__vite__mapDeps([171,1,4])));a.lazy(()=>l(()=>import("./ModeratorTools-D1JqLRXw.js"),__vite__mapDeps([207,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AIModerationPanel-CBorT0yW.js"),__vite__mapDeps([176,1,4,13,3,14,15,0,16])));a.lazy(()=>l(()=>import("./SpamDetectionPanel-BKhuazAG.js"),__vite__mapDeps([235,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AuditLogsPanel-CIe55DZO.js"),__vite__mapDeps([180,1,16,3,14,15,0,4,181])));a.lazy(()=>l(()=>import("./BanHistoryPanel-CG61wNJM.js"),__vite__mapDeps([182,1,4,16,183])));a.lazy(()=>l(()=>import("./ModerationLogsPanel-_5dS8m8Y.js"),__vite__mapDeps([205,1,4,16,3,14,15,0,206])));a.lazy(()=>l(()=>import("./RaidProtectionDashboard-i7W6NrSB.js"),__vite__mapDeps([334,1,4,3,14,15,0,16,335])));a.lazy(()=>l(()=>import("./SecurityAlertsPanel-BMyr_3mY.js"),__vite__mapDeps([227,1,4,3,14,15,0,16,228])));a.lazy(()=>l(()=>import("./BookmarksPanel-BklWKXLn.js"),__vite__mapDeps([336,1,4])));a.lazy(()=>l(()=>import("./GIFPickerPanel-nC-GjDoR.js"),__vite__mapDeps([196,1,4,197])));a.lazy(()=>l(()=>import("./PollCreator-CO9P1TVC.js"),__vite__mapDeps([212,1,13,3,14,15,0,4,16])));a.lazy(()=>l(()=>import("./StickersPanel-BKnOrWT3.js"),__vite__mapDeps([237,1,3,14,15,0,4,16,238])));a.lazy(()=>l(()=>import("./SavedMessagesModal-CG05ulXi.js"),__vite__mapDeps([225,1,4])));a.lazy(()=>l(()=>import("./NotificationsCenter-BvW3MzEh.js"),__vite__mapDeps([210,1,4,3,14,15,0,16,211])));a.lazy(()=>l(()=>import("./MessageSummaryPanel-tcCEqqfd.js"),__vite__mapDeps([203,1,4,119,204])));a.lazy(()=>l(()=>import("./TranslationPanel-BEMU4ko2.js"),__vite__mapDeps([242,1,16,3,14,15,0,4,243])));a.lazy(()=>l(()=>import("./ChannelSettingsModal-D0fZUSKH.js"),__vite__mapDeps([187,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./InviteModal-CWRdN7ES.js"),__vite__mapDeps([201,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ServerTemplates-DUJ1ducU.js"),__vite__mapDeps([230,1,4,3,14,15,0,16,231])));a.lazy(()=>l(()=>import("./ServerAnalyticsDashboard-Cl6exXuU.js"),__vite__mapDeps([229,1,4])));a.lazy(()=>l(()=>import("./RolesManager-D1dJJMtG.js"),__vite__mapDeps([223,1,3,14,15,0,4,16,224])));a.lazy(()=>l(()=>import("./WelcomeScreenEditor-Cf_PPmOX.js"),__vite__mapDeps([246,1,4])));a.lazy(()=>l(()=>import("./CommunitySettingsPanel-DKMyZwCM.js"),__vite__mapDeps([191,1,4,3,14,15,0,16,192])));a.lazy(()=>l(()=>import("./InviteLinkManager-DBmFLbnW.js"),__vite__mapDeps([200,1,4])));a.lazy(()=>l(()=>import("./BotBuilder-gHfFKLH1.js"),__vite__mapDeps([184,1,4,13,3,14,15,0,16])));a.lazy(()=>l(()=>import("./BotDeveloperPortal-k_P60Kz2.js"),__vite__mapDeps([185,1,4,3,14,15,0,16,186])));a.lazy(()=>l(()=>import("./WebhookManager-tKplLZi9.js"),__vite__mapDeps([245,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./APIKeysPanel-BK9RlWpI.js"),__vite__mapDeps([177,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./SlashCommandsPanel-CrpMZvA1.js"),__vite__mapDeps([233,1,4,234])));a.lazy(()=>l(()=>import("./CodeRunnerPanel-DXqqZLjp.js"),__vite__mapDeps([188,1,4,16,189])));a.lazy(()=>l(()=>import("./ProfileCard-BQxzZOuI.js"),__vite__mapDeps([217,1,3,14,15,0,4,16,218])));a.lazy(()=>l(()=>import("./UserNotesModal-Dqvkcs2w.js"),__vite__mapDeps([244,1,4])));a.lazy(()=>l(()=>import("./StatusPicker-Bpfc4LLB.js"),__vite__mapDeps([236,1,4])));a.lazy(()=>l(()=>import("./MutualsPanel-D21z0SFB.js"),__vite__mapDeps([208,1,4,16,209])));a.lazy(()=>l(()=>import("./ProfileShowcasePanel-BDDutv45.js"),__vite__mapDeps([219,1,4,16,3,14,15,0,220])));a.lazy(()=>l(()=>import("./SessionManagerModal-CKsJ70tw.js"),__vite__mapDeps([232,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./CoinStoreModal-ByPNEXqG.js"),__vite__mapDeps([42,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./PremiumManagementPanel-vxs5oWLS.js"),__vite__mapDeps([213,1,16,3,14,15,0,4,214])));a.lazy(()=>l(()=>import("./SubscriptionManager-hoAcCwfl.js"),__vite__mapDeps([239,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./GiftPremiumPanel-C-GsLWDI.js"),__vite__mapDeps([198,1,4,199])));a.lazy(()=>l(()=>import("./PremiumMarketplace-CCkxG9DF.js"),__vite__mapDeps([215,1,13,3,14,15,0,4,16,216])));a.lazy(()=>l(()=>import("./ThemeMarketplace-7DHIxADC.js"),__vite__mapDeps([240,1,13,3,14,15,0,4,16,241])));a.lazy(()=>l(()=>import("./AIChatbotPanel-DK-Efp2K.js"),__vite__mapDeps([174,1,4,3,14,15,0,16,175])));a.lazy(()=>l(()=>import("./CollaborativeCodeEditor-Dy7SjCWa.js"),__vite__mapDeps([190,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./ScreenShareModal-CzDH1s0I.js"),__vite__mapDeps([226,1,4])));a.lazy(()=>l(()=>import("./LiveStreamModal-BlMwRfBY.js"),__vite__mapDeps([202,1,4,3,14,15,0,16])));a.lazy(()=>l(()=>import("./AdvancedAnalyticsDashboard-DFhsg5TY.js"),__vite__mapDeps([178,1,4,3,14,15,0,16,179])));a.lazy(()=>l(()=>import("./FileManagerPanel-B58nLaP0.js"),__vite__mapDeps([195,1,4])));a.lazy(()=>l(()=>import("./ReportsPanel-BTkenS76.js"),__vite__mapDeps([221,1,3,14,15,0,4,16,222])));a.lazy(()=>l(()=>import("./ErrorReportingPanel-B6tK8vbF.js"),__vite__mapDeps([193,1,3,14,15,0,4,16,194])));const Ce={mainContainer:{display:"flex",width:"100%",height:"100dvh",backgroundColor:"#1E1F22",backgroundImage:"radial-gradient(circle at 50% 10%, rgba(88, 101, 242, 0.05) 0%, transparent 40%)",color:"white",overflow:"hidden",fontFamily:"'Inter', sans-serif"},chatLayout:{display:"flex",width:"100%",height:"100%",overflow:"hidden"},sidebarWrapper:{width:"312px",backgroundColor:"rgba(30, 31, 34, 0.6)",backdropFilter:"blur(10px)",display:"flex",flexDirection:"row",flexShrink:0,height:"100%",borderRight:"1px solid rgba(255,255,255,0.05)"},mainContent:{flex:1,display:"flex",minWidth:0,position:"relative",height:"100%",overflow:"hidden"},chatArea:{flex:1,display:"flex",flexDirection:"column",backgroundColor:"transparent",minWidth:0,height:"100%",overflow:"hidden",position:"relative"},chatHeader:{height:"54px",minHeight:"54px",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",padding:"0 20px",flexShrink:0,backgroundColor:"rgba(20, 21, 24, 0.7)",backdropFilter:"blur(15px)",boxShadow:"0 1px 3px rgba(0,0,0,0.2)",zIndex:10},messageBox:{flex:1,overflowY:"auto",padding:"20px 0",display:"flex",flexDirection:"column",gap:"4px",scrollBehavior:"smooth",minHeight:0},inputContainer:{padding:"0 20px 24px 20px",backgroundColor:"transparent",position:"relative",flexShrink:0,minHeight:"auto",zIndex:20},chatUserListPanel:{width:"240px",backgroundColor:"rgba(30, 31, 34, 0.6)",borderLeft:"1px solid rgba(255,255,255,0.08)",flexShrink:0,height:"100%",backdropFilter:"blur(10px)"},mobileSidebar:{position:"fixed",zIndex:100,top:0,bottom:0,left:0,width:"85vw",maxWidth:"350px",boxShadow:"5px 0 15px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},mobileRightSidebar:{position:"fixed",zIndex:100,top:0,bottom:0,right:0,width:"85vw",maxWidth:"300px",boxShadow:"-5px 0 15px rgba(0,0,0,0.5)",display:"flex",flexDirection:"column"},mobileOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:99,backdropFilter:"blur(3px)"},mobileMenuButton:{background:"none",border:"none",color:"white",fontSize:"1.5em",marginRight:"10px",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",transition:"all 0.2s"},iconButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"1.3em",cursor:"pointer",padding:"6px",display:"flex",alignItems:"center",borderRadius:"50%",transition:"all 0.2s",":hover":{backgroundColor:"rgba(255,255,255,0.1)",color:"#fff"}},systemMessage:{color:"#949ba4",textAlign:"center",fontSize:"0.85em",margin:"10px 0",fontStyle:"italic"},searchForm:{position:"relative",display:"flex",alignItems:"center",backgroundColor:"rgba(0,0,0,0.2)",borderRadius:"4px",padding:"0 8px",height:"32px",marginRight:"8px",border:"1px solid rgba(255,255,255,0.05)"},searchInput:{backgroundColor:"transparent",border:"none",color:"#dcddde",fontSize:"0.9em",width:"140px",outline:"none"},searchIcon:{color:"#949ba4",fontSize:"0.8em",cursor:"pointer"},connectionPillOnline:{marginLeft:"10px",padding:"4px 8px",borderRadius:"999px",backgroundColor:"rgba(59, 165, 93, 0.2)",border:"1px solid #3ba55d",color:"#3ba55d",fontSize:"0.75em",fontWeight:700},connectionPillOffline:{marginLeft:"10px",padding:"4px 8px",borderRadius:"999px",backgroundColor:"rgba(218, 55, 60, 0.2)",border:"1px solid #da373c",color:"#da373c",fontSize:"0.75em",fontWeight:700},mobileSidebarHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 15px",backgroundColor:"#202225",borderBottom:"1px solid #111214",minHeight:"54px",flexShrink:0},closeSidebarButton:{background:"none",border:"none",color:"#b9bbbe",fontSize:"22px",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background 0.2s, color 0.2s"}};let wn=null;function zt(t){return new Promise(e=>{const n=typeof t=="string"?{message:t}:{...t},{title:r="Emin misiniz?",message:s="Bu i≈ülemi ger√ßekle≈ütirmek istediƒüinizden emin misiniz?",confirmText:i="Evet",cancelText:d="Vazge√ß",type:c="warning",details:p=null}=n;wn||(wn=document.createElement("div"),wn.id="confirm-dialog-root",document.body.appendChild(wn));const f=fi.createRoot(wn),g=b=>{f.unmount(),e(b)},m={warning:{icon:o.jsx(ps,{}),color:"#f59e0b",gradient:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",btnColor:"#f59e0b"},danger:{icon:o.jsx(fs,{}),color:"#ef4444",gradient:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",btnColor:"#ef4444"},info:{icon:o.jsx(Ei,{}),color:"#5865f2",gradient:"linear-gradient(135deg, #5865f2 0%, #4752c4 100%)",btnColor:"#5865f2"}},h=m[c]||m.warning;f.render(o.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e5,animation:"confirmFadeIn 0.2s ease-out",backdropFilter:"blur(4px)"},onClick:b=>{b.target===b.currentTarget&&g(!1)},children:[o.jsx("style",{children:`
                    @keyframes confirmFadeIn { from { opacity: 0; } to { opacity: 1; } }
                    @keyframes confirmSlideIn { from { transform: scale(0.9) translateY(20px); opacity: 0; } to { transform: scale(1) translateY(0); opacity: 1; } }
                    .confirm-btn:hover { filter: brightness(1.1); transform: translateY(-1px); }
                    .confirm-btn:active { transform: translateY(0); }
                `}),o.jsxs("div",{style:{background:"#2b2d31",borderRadius:"16px",width:"420px",maxWidth:"90vw",boxShadow:"0 20px 60px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.05)",overflow:"hidden",animation:"confirmSlideIn 0.25s ease-out"},children:[o.jsxs("div",{style:{background:h.gradient,padding:"20px 24px",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",color:"#fff",flexShrink:0},children:h.icon}),o.jsx("h3",{style:{margin:0,color:"#fff",fontSize:"16px",fontWeight:600,flex:1},children:r}),o.jsx("button",{onClick:()=>g(!1),style:{background:"rgba(255,255,255,0.15)",border:"none",color:"#fff",width:"32px",height:"32px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0,transition:"background 0.15s"},onMouseEnter:b=>b.target.style.background="rgba(255,255,255,0.25)",onMouseLeave:b=>b.target.style.background="rgba(255,255,255,0.15)",children:o.jsx(Rn,{})})]}),o.jsxs("div",{style:{padding:"20px 24px"},children:[o.jsx("p",{style:{color:"#dbdee1",fontSize:"14px",lineHeight:"1.6",margin:"0 0 16px 0",whiteSpace:"pre-line"},children:s}),p&&p.length>0&&o.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"10px",padding:"12px 16px",marginBottom:"16px"},children:[o.jsx("div",{style:{color:"#f59e0b",fontSize:"12px",fontWeight:600,marginBottom:"8px"},children:"‚ö†Ô∏è Bu i≈ülem:"}),p.map((b,_)=>o.jsxs("div",{style:{color:"#b5bac1",fontSize:"13px",padding:"3px 0",display:"flex",gap:"8px"},children:[o.jsx("span",{style:{color:h.color},children:"‚Ä¢"}),o.jsx("span",{children:b})]},_))]})]}),o.jsxs("div",{style:{padding:"16px 24px",background:"rgba(0,0,0,0.15)",display:"flex",justifyContent:"flex-end",gap:"10px"},children:[o.jsx("button",{className:"confirm-btn",onClick:()=>g(!1),style:{background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"#b5bac1",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"all 0.15s"},onMouseEnter:b=>{b.target.style.background="rgba(255,255,255,0.05)",b.target.style.color="#fff"},onMouseLeave:b=>{b.target.style.background="transparent",b.target.style.color="#b5bac1"},children:d}),o.jsx("button",{className:"confirm-btn",onClick:()=>g(!0),autoFocus:!0,style:{background:h.btnColor,border:"none",color:"#fff",padding:"10px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,transition:"all 0.15s",boxShadow:`0 2px 8px ${h.btnColor}40`},children:i})]})]})]}))})}typeof window<"u"&&(window.confirmDialog=zt);function Bu(){const{token:t,logout:e,refreshAccessToken:n}=Vt(),r=u.useRef(!1),s=u.useRef(null),i=u.useRef(t);i.current=t;const d=u.useCallback(async(c,p={},f=!1)=>{const g=i.current||t,m={...p.headers||{}};g&&(m.Authorization=`Bearer ${g}`),p.body instanceof FormData||(m["Content-Type"]="application/json");try{const b=c.includes("upload")||p.body instanceof FormData?3e5:3e4,_=new AbortController,v=setTimeout(()=>_.abort(),b),y=await fetch(c,{...p,headers:m,signal:_.signal});if(clearTimeout(v),y.status===401&&!f){if(c.includes("/auth/")||c.includes("/login"))throw e(),new Error("Unauthorized");if(r.current||(r.current=!0,s.current=n().finally(()=>{r.current=!1})),await s.current)return d(c,p,!0);throw new Error("Unauthorized")}return y}catch(h){throw h.name==="AbortError"?new Error("ƒ∞stek zaman a≈üƒ±mƒ±na uƒüradƒ±"):(h.message==="Unauthorized",h)}},[t,e,n]);return{fetchWithAuth:d,tokenRef:i}}function Fu({isAuthenticated:t,username:e,token:n,fetchWithAuth:r,setCategories:s,setConversations:i,setAllUsers:d,setFriendsList:c,setCurrentUserProfile:p,setServerOrder:f,setMaintenanceMode:g,setAuthError:m,setServerMembers:h,API_BASE_URL:b,ROOM_LIST_URL:_,CONVERSATION_LIST_URL:v,activeChat:y,categories:T,setActiveChat:P}){const[A,K]=u.useState(!1),W=u.useRef(!1),te=u.useRef({});u.useEffect(()=>{if(!t||A||W.current)return;W.current=!0,(async()=>{try{let $=null;try{const G=await r(`${b}/init/`);G.ok&&($=await G.json())}catch{}let k,R,L,B;if($)k=$.user,R=$.servers,L=$.conversations,B=$.friends,$.server_order&&f($.server_order),$.maintenance?.is_maintenance&&g({message:$.maintenance.message||"System maintenance in progress",endTime:$.maintenance.estimated_end,level:"info"});else{const[G,ie,fe,ee]=await Promise.all([r(_).then(E=>E.json()),r(`${v}?username=${encodeURIComponent(e)}`).then(E=>E.json()),r(`${b}/friends/list/`).then(E=>E.json()),r(`${b}/users/me/`).then(E=>E.json())]);k=ee,R=G,L=ie,B=fe}const X={username:k?.username||e,email:k?.email||"",avatar:k?.avatar||null,status_message:k?.status_message||"",friend_code:k?.friend_code||"0000",social_links:k?.social_links||{},coins:k?.coins||0,xp:k?.xp||0,level:k?.level||1,status:"online",role:k?.role||"member",is_whitelisted:k?.is_whitelisted||!1};p(X);const de=(B.friends||[]).map(G=>{const ie=G.sender_username===e,fe=ie?G.receiver_username:G.sender_username,ee=ie?G.receiver_avatar:G.sender_avatar,E=ie?G.receiver_status:G.sender_status,ae=ie?G.receiver_activity:G.sender_activity;return fe?{username:fe,avatar:ee,status:E||"offline",display_name:fe,current_activity:ae||{},status_message:"",last_seen:G.created_at,role:"friend",friend_code:""}:null}).filter(Boolean).filter(G=>G.username!==X.username);d(de),s(R),i(L),c(de),K(!0),l(async()=>{const{prefetchUserAvatars:G}=await import("./imageCaching-DSsT7qwR.js");return{prefetchUserAvatars:G}},__vite__mapDeps([252,1])).then(({prefetchUserAvatars:G})=>{G(de)})}catch{m("Veriler y√ºklenemedi."),W.current=!1}})()},[t,A,r]),u.useEffect(()=>{if(A)return;e&&(async()=>{try{const $=await r(`${b}/user/server-order/`);if($.ok){const k=await $.json();f(k.server_order||[])}}catch{}})()},[e,r,A]);const[_e,D]=u.useState(null);u.useEffect(()=>{const M=async()=>{if(!y.id||y.type!=="room"){D(null);return}try{const $=await r(`${b}/stickies/list/?room=${y.id}`);if($.ok){const k=await $.json();k&&k.length>0?D({message:k[0].content,type:"info",author:k[0].creator}):D(null)}}catch{}};t&&y.id&&M()},[y.id,y.type,t,r]);const Y=u.useCallback(async(M,$=!1)=>{if(!M){h([]);return}const k=te.current[M];if(!$&&k&&Date.now()-k.timestamp<12e4){h(k.members);return}try{const R=await r(`${b}/servers/${M}/members/`);if(R.ok){const L=await R.json();te.current[M]={members:L,timestamp:Date.now()},h(L)}else h([])}catch{h([])}},[r]),Z=u.useCallback(M=>{Y(M.id);const $=M.metadata?.default_channel_slug;let k=null;if(M.categories&&Array.isArray(M.categories)){for(const R of M.categories)if(R.rooms&&Array.isArray(R.rooms)){for(const L of R.rooms){if($&&L.slug===$){k=L;break}!k&&L.room_type!=="voice"&&(k=L)}if(k&&$&&k.slug===$)break}}k?P("room",k.slug,null):P("server",M.id,null)},[Y,P]);return u.useEffect(()=>{if(t&&y.id&&y.type==="room"){let M=null;for(const $ of T||[])if($.categories){for(const k of $.categories)if(k.rooms){for(const R of k.rooms)if(R.slug===y.id){M=$.id;break}if(M)break}if(M)break}M?Y(M):h([])}else y.type!=="server"&&h([])},[y.id,y.type,t,Y,T]),u.useEffect(()=>{const M=window.location.hash,$=M.includes("?")?M.split("?")[1]:"",R=new URLSearchParams($).get("join_server");if(R&&t&&T&&T.length>0){const L=T.find(B=>B.id===parseInt(R));if(L){if(L.categories&&L.categories.length>0){const B=L.categories[0];B.rooms&&B.rooms.length>0&&P({type:"room",id:B.rooms[0].slug})}window.history.replaceState({},document.title,"/#/")}else(async()=>{try{const X=await r(`${b}/servers/${R}/join/`,{method:"POST"});if(X.ok){oe.success("Sunucuya katƒ±ldƒ±nƒ±z!");try{const J=await r(_);if(J.ok){const de=await J.json();s(de);const G=de.find(ie=>ie.id===parseInt(R));G&&Z(G)}}catch{}}else{const J=await X.json();oe.error(J.error||"Sunucuya katƒ±lƒ±namadƒ±")}}catch{oe.error("Sunucuya katƒ±lƒ±rken hata olu≈ütu")}finally{window.history.replaceState({},document.title,"/#/")}})()}},[t,T,r]),{isInitialDataLoaded:A,setIsInitialDataLoaded:K,stickyMessage:_e,setStickyMessage:D,serverMembersCacheRef:te,fetchServerMembersById:Y,handleServerSelect:Z}}const Uu=Jr("GoogleAuth",{web:()=>l(()=>import("./web-CgeoYl1z.js"),__vite__mapDeps([337,3,1,14,15,0,4,16])).then(t=>new t.GoogleAuthWeb)}),Hu=async()=>{if(typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.toLowerCase().includes("electron")||window.location?.protocol==="file:"))return null;if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.getRegistrations();for(const r of e)if(r.active&&r.active.scriptURL.includes("service-worker.js")){await r.unregister();const s=await caches.keys();for(const i of s)i.includes("pawscord-v")&&await caches.delete(i)}const n=await navigator.serviceWorker.getRegistration("/");return n&&(n.addEventListener("updatefound",()=>{const r=n.installing;r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&(r.postMessage({type:"SKIP_WAITING"}),window.location.reload())})}),setInterval(()=>{n.update()},1800*1e3)),n}catch{return null}},Yu=()=>{window.addEventListener("beforeinstallprompt",t=>{t.preventDefault();const e=document.getElementById("install-pwa-button");e&&(e.style.display="block")}),window.addEventListener("appinstalled",()=>{window.gtag&&window.gtag("event","pwa_installed",{event_category:"PWA",event_label:"App Installed"})})},Ku=(t,e)=>{const n=()=>{t&&t(),Mo("üü¢ √áevrimi√ßi","success")},r=()=>{e&&e(),Mo("üî¥ √áevrimdƒ±≈üƒ± - Baƒülantƒ± koptu","error")};return window.addEventListener("online",n),window.addEventListener("offline",r),navigator.onLine||r(),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},Mo=(t,e="info")=>{const n=document.getElementById("network-banner");n&&n.remove();const r=document.createElement("div");r.id="network-banner",r.textContent=t,r.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        padding: 12px;
        text-align: center;
        color: white;
        font-weight: 600;
        z-index: 9999;
        animation: slideDown 0.3s ease;
        background: ${e==="success"?"#43b581":"#ed4245"};
    `,document.body.appendChild(r),e==="success"&&setTimeout(()=>{r.style.animation="slideUp 0.3s ease",setTimeout(()=>r.remove(),300)},3e3)},Gu=()=>{const t=document.createElement("style");t.textContent=`
        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { transform: translateY(0); }
            to { transform: translateY(-100%); }
        }
    `,document.head.appendChild(t)};Gu();const qu=`
/* üé® PAWSCORD Critical CSS - Above the Fold */

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    background-color: #1e1f22;
    color: #dcddde;
    overflow: hidden;
}

/* Loading Screen */
#loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: #1e1f22;
    display: flex;
    align-items: center;
    justify-center: center;
    z-index: 9999;
}

.spinner {
    width: 50px;
    height: 50px;
    border: 4px solid #40444b;
    border-top-color: #5865f2;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Main Layout */
#root {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

.app-container {
    display: flex;
    width: 100%;
    height: 100%;
}

/* Sidebar */
.sidebar {
    width: 240px;
    background: #2b2d31;
    flex-shrink: 0;
}

/* Chat Area */
.chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    background: #313338;
}

/* Message Input - Critical */
.message-input-container {
    padding: 16px;
    background: #383a40;
}

.message-input {
    width: 100%;
    padding: 12px;
    background: #40444b;
    border: none;
    border-radius: 8px;
    color: #dcddde;
    font-size: 15px;
    outline: none;
}

/* Button Base */
button {
    cursor: pointer;
    border: none;
    background: transparent;
    color: inherit;
    font-family: inherit;
}

.btn-primary {
    background: #5865f2;
    color: white;
    padding: 10px 16px;
    border-radius: 4px;
    font-weight: 500;
    transition: background 0.17s ease;
}

.btn-primary:hover {
    background: #4752c4;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #2b2d31;
}

::-webkit-scrollbar-thumb {
    background: #1a1b1e;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #141517;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    line-height: 1.2;
}

/* Utilities */
.flex {
    display: flex;
}

.flex-col {
    flex-direction: column;
}

.items-center {
    align-items: center;
}

.justify-center {
    justify-content: center;
}

.gap-2 {
    gap: 8px;
}

.gap-4 {
    gap: 16px;
}

.hidden {
    display: none !important;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .sidebar {
        width: 100%;
        position: absolute;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .sidebar.open {
        transform: translateX(0);
    }
}
`,Wu=()=>{const t=document.createElement("style");t.id="critical-css",t.textContent=qu,document.head.insertBefore(t,document.head.firstChild)},Ju=t=>new Promise((e,n)=>{const r=document.createElement("link");r.rel="stylesheet",r.href=t,r.onload=()=>{e()},r.onerror=n,document.head.appendChild(r)}),Zu=()=>{const t=[],e=()=>{t.forEach(n=>{Ju(n)})};"requestIdleCallback"in window?requestIdleCallback(e):setTimeout(e,1)},Qu=()=>{typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.includes("Electron")||window.location?.protocol)},Xu=()=>{typeof window<"u"&&(window.process?.versions?.electron||window.navigator?.userAgent?.includes("Electron")||window.location?.protocol)},$o=()=>{const t=document.getElementById("critical-css");t&&setTimeout(()=>{t.remove()},1e3)},ep=()=>{Wu(),Xu(),Qu(),Zu(),document.readyState==="complete"?$o():window.addEventListener("load",$o)},Yt={serverSettings:()=>l(()=>import("./ServerSettingsModal-DaroXmjU.js"),__vite__mapDeps([48,1,4,49,50,3,14,15,0,16])),userProfile:()=>l(()=>import("./UserProfileModal-CeN_vNU1.js"),__vite__mapDeps([257,1,4,232,3,14,15,0,16,244])),imageModal:()=>l(()=>import("./ImageModal-DQx0FHtu.js"),__vite__mapDeps([271,1])),gifPicker:()=>l(()=>import("./GifPicker-6uabRTki.js"),__vite__mapDeps([6,1])),stickerPicker:()=>l(()=>import("./StickerPicker-Dtikrkkc.js"),__vite__mapDeps([7,1])),poll:()=>l(()=>import("./PollCreateModal-CnsIIclK.js"),__vite__mapDeps([40,1,4])),codeSnippet:()=>l(()=>import("./CodeSnippetModal-CFB0Ycyg.js"),__vite__mapDeps([26,1,4]))},Ps=()=>{[Yt.userProfile,Yt.imageModal,Yt.serverSettings].forEach(e=>{try{e()}catch{}})},Hr=()=>{[Yt.gifPicker,Yt.stickerPicker,Yt.poll,Yt.codeSnippet].forEach(e=>{try{e()}catch{}})},tp=()=>{let t=sessionStorage.getItem("analytics_session_id");return t||(t=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("analytics_session_id",t)),t},np=()=>{const t=ls();u.useEffect(()=>{(async()=>{try{const n=tp(),r=localStorage.getItem("access_token"),s={"Content-Type":"application/json"};r&&(s.Authorization=`Bearer ${r}`),await fetch(`${Oa}/analytics/track/`,{method:"POST",headers:s,body:JSON.stringify({path:t.pathname,session_id:n,referrer:document.referrer,timestamp:new Date().toISOString()})})}catch{}})()},[t.pathname])},rp=(t={})=>{const e=u.useCallback(n=>{const{ctrlKey:r,shiftKey:s,altKey:i,metaKey:d,key:c}=n,f=navigator.platform.toUpperCase().indexOf("MAC")>=0?d:r;f&&c==="k"&&(n.preventDefault(),t.onQuickSwitcher?.()),f&&c==="f"&&(n.preventDefault(),t.onSearch?.()),f&&c==="/"&&(n.preventDefault(),t.onCommandList?.()),f&&s&&c==="M"&&(n.preventDefault(),t.onToggleMute?.()),f&&s&&c.toLowerCase()==="p"&&(n.preventDefault(),t.onCommandPalette?.()),f&&c===","&&(n.preventDefault(),t.onSettings?.()),f&&s&&c==="D"&&(n.preventDefault(),t.onToggleDeafen?.()),i&&(c==="ArrowUp"||c==="ArrowDown")&&(n.preventDefault(),t.onNavigateChannel?.(c==="ArrowUp"?-1:1)),f&&c==="Enter"&&(n.preventDefault(),t.onSendMessage?.()),c==="Escape"&&t.onEscape?.(),f&&c==="b"&&(n.preventDefault(),t.onToggleSidebar?.()),f&&c==="i"&&(n.preventDefault(),t.onToggleUserInfo?.()),f&&c==="e"&&(n.preventDefault(),t.onToggleEmoji?.()),f&&s&&c==="T"&&(n.preventDefault(),t.onToggleTheme?.()),c==="ArrowUp"&&!f&&!s&&!i&&t.onEditLastMessage?.()},[t]);return u.useEffect(()=>(window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)),[e]),null},Lm=()=>navigator.platform.toUpperCase().indexOf("MAC")>=0?"‚åò":"Ctrl",Yr={default:{name:"Pawscord Dark",colors:{"--background-primary":"#313338","--background-secondary":"#2b2d31","--background-tertiary":"#1e1f22","--background-accent":"#404249","--text-primary":"#dbdee1","--text-secondary":"#949ba4","--text-muted":"#787f89","--text-link":"#00a8fc","--button-primary":"#5865f2","--button-secondary":"#4e5058","--border-primary":"#1f2023"}},midnight:{name:"Midnight AMOLED",colors:{"--background-primary":"#000000","--background-secondary":"#0a0a0a","--background-tertiary":"#111111","--background-accent":"#222222","--text-primary":"#ffffff","--text-secondary":"#b0b0b0","--text-muted":"#666666","--text-link":"#3ea6ff","--button-primary":"#3ea6ff","--button-secondary":"#333333","--border-primary":"#333333"}},dracula:{name:"Dracula",colors:{"--background-primary":"#282a36","--background-secondary":"#44475a","--background-tertiary":"#6272a4","--background-accent":"#44475a","--text-primary":"#f8f8f2","--text-secondary":"#bfbfbf","--text-muted":"#6272a4","--text-link":"#8be9fd","--button-primary":"#bd93f9","--button-secondary":"#44475a","--border-primary":"#44475a"}},ocean:{name:"Deep Ocean",colors:{"--background-primary":"#0f172a","--background-secondary":"#1e293b","--background-tertiary":"#334155","--background-accent":"#334155","--text-primary":"#e2e8f0","--text-secondary":"#94a3b8","--text-muted":"#64748b","--text-link":"#38bdf8","--button-primary":"#0ea5e9","--button-secondary":"#334155","--border-primary":"#1e293b"}},forest:{name:"Enchanted Forest",colors:{"--background-primary":"#1a2f1a","--background-secondary":"#243b24","--background-tertiary":"#2f4b2f","--background-accent":"#3a5a3a","--text-primary":"#e0ffe0","--text-secondary":"#a0cca0","--text-muted":"#608060","--text-link":"#4caf50","--button-primary":"#4caf50","--button-secondary":"#2f4b2f","--border-primary":"#2f4b2f"}},matrix:{name:"The Matrix",colors:{"--background-primary":"#0d0d0d","--background-secondary":"#121212","--background-tertiary":"#1a1a1a","--background-accent":"#003b00","--text-primary":"#00ff41","--text-secondary":"#008f11","--text-muted":"#003b00","--text-link":"#00ff41","--button-primary":"#008f11","--button-secondary":"#003b00","--border-primary":"#003b00"}},sunset:{name:"Sunset Vibes",colors:{"--background-primary":"#2d1b2e","--background-secondary":"#442740","--background-tertiary":"#5a3450","--background-accent":"#734361","--text-primary":"#ffccaa","--text-secondary":"#ff9e7d","--text-muted":"#b05963","--text-link":"#ffbd69","--button-primary":"#ff6b6b","--button-secondary":"#5a3450","--border-primary":"#5a3450"}}},op=t=>{const e=Yr[t]||Yr.default,n=document.documentElement;Object.entries(e.colors).forEach(([r,s])=>{n.style.setProperty(r,s)}),localStorage.setItem("pawscord_theme",t)},sp=()=>{const t=localStorage.getItem("pawscord_theme");return t&&Yr[t]?(op(t),t):"default"};function ip({setAnimationState:t,setShowVanityInvite:e,setShowInviteCode:n,setMaintenanceMode:r,setUpdateAvailable:s,setAllUsers:i,animationState:d,isInitialDataLoaded:c,isAuthenticated:p,username:f,messages:g,activeChat:m,isInVoice:h,currentVoiceRoom:b,modals:_,statusWsRef:v,openModal:y,closeModal:T,toggleModal:P,setActiveChat:A,isNative:K,isElectron:W,fetchWithAuth:te,isNearBottom:_e,scrollToBottom:D,handleMessageScroll:Y,API_BASE_URL:Z,MEDIA_BASE_URL:M,GOOGLE_WEB_CLIENT_ID:$}){const[k,R]=u.useState("0px");return u.useEffect(()=>{if(d==="finished")return;t("start");const L=setTimeout(()=>t("pre-transition"),800),B=setTimeout(()=>t("finished"),2e3);return()=>{clearTimeout(L),clearTimeout(B)}},[]),u.useEffect(()=>{c&&d==="pre-transition"&&t("finished")},[c,d]),u.useEffect(()=>{const L=new URLSearchParams(window.location.search),B=L.get("verification"),X=L.get("username"),J=L.get("reason"),de=L.get("needs_password");if(B==="success")oe.success(`‚úÖ Email doƒürulandƒ±! Ho≈ügeldin ${X||"kullanƒ±cƒ±"}!`),window.history.replaceState({},document.title,window.location.pathname);else if(B==="failed"){const G=J==="expired"?"‚è∞ Doƒürulama linki s√ºresi dolmu≈ü. Yeni bir link talep edin.":"‚ùå Ge√ßersiz doƒürulama linki.";oe.error(G),window.history.replaceState({},document.title,window.location.pathname)}de==="true"&&(y("passwordSetupModal"),window.history.replaceState({},document.title,window.location.pathname))},[]),u.useEffect(()=>{const L=new URLSearchParams(window.location.search),B=L.get("success"),X=L.get("coins"),J=L.get("session_id"),de=L.get("canceled");B==="true"&&X&&((async()=>{try{const ie=localStorage.getItem("access_token"),fe=Z||"https://api.pawscord.com/api";if(J){const E=await(await fetch(`${fe}/payments/verify/`,{method:"POST",headers:{Authorization:`Bearer ${ie}`,"Content-Type":"application/json"},body:JSON.stringify({session_id:J,coin_amount:parseInt(X)})})).json();E.success?E.already_processed?oe.info(`üí∞ √ñdeme zaten i≈ülendi! Bakiye: ${E.balance} coin`):oe.success(`üéâ ${X} coin hesabƒ±na eklendi! Yeni bakiye: ${E.balance} coin`):oe.error(E.error||"√ñdeme doƒürulama hatasƒ±")}else oe.success(`üéâ √ñdeme ba≈üarƒ±lƒ±! ${X} coin hesabƒ±na eklendi.`)}catch{oe.success(`üéâ ${X} coin satƒ±n alma tamamlandƒ±!`)}})(),window.history.replaceState({},document.title,window.location.pathname)),de==="true"&&(oe.info("‚ùå √ñdeme iptal edildi."),window.history.replaceState({},document.title,window.location.pathname))},[]),u.useEffect(()=>{const L=window.location.hash,B=L.match(/^#\/invite\/([^/?]+)/);if(B){n(B[1]);return}const X=L.match(/^#\/join\/([^/?]+)/);if(X){e(X[1]);return}const J=window.location.pathname.match(/^\/join\/([^/?]+)/);if(J){const de=J[1];window.history.replaceState({},"",`/#/join/${de}`),e(de)}},[]),u.useEffect(()=>(window.showAutoModeration=()=>y("autoModeration"),window.showRaidProtection=()=>y("raidProtection"),window.showReportSystem=()=>y("reportSystem"),window.showAuditLog=()=>y("auditLog"),window.showUserWarnings=()=>y("userWarnings"),()=>{delete window.showAutoModeration,delete window.showRaidProtection,delete window.showReportSystem,delete window.showAuditLog,delete window.showUserWarnings}),[]),u.useEffect(()=>{const L=B=>{_.toolbarMenu&&!B.target.closest(".toolbar-menu-container")&&T("toolbarMenu")};return document.addEventListener("click",L),()=>document.removeEventListener("click",L)},[_.toolbarMenu]),u.useEffect(()=>{const L=()=>{y("connectionsPanel")};return window.addEventListener("openConnectionsPanel",L),()=>window.removeEventListener("openConnectionsPanel",L)},[]),u.useEffect(()=>{Hu(),Yu(),Ku(),ep(),setTimeout(()=>{Ps()},3e3),"requestIdleCallback"in window&&requestIdleCallback(()=>{Hr()}),K&&l(async()=>{const{initializeDeepLinkHandler:L}=await import("./urlHandlers-CLyXAVH-.js");return{initializeDeepLinkHandler:L}},__vite__mapDeps([338,3,1,14,15,0,4,16])).then(({initializeDeepLinkHandler:L})=>{})},[]),u.useEffect(()=>{p&&l(async()=>{const{pushNotificationManager:L}=await import("./pushNotifications-DSFnoiVi.js");return{pushNotificationManager:L}},__vite__mapDeps([339,3,1])).then(({pushNotificationManager:L})=>{L.init(Z,te)})},[p]),u.useEffect(()=>{dn.isNativePlatform()&&(Uu.initialize({clientId:$,scopes:["profile","email"],grantOfflineAccess:!0}),R("max(35px, env(safe-area-inset-top))"))},[]),u.useEffect(()=>{const L=(J,de)=>{try{const G=J.split(".").map(Number),ie=de.split(".").map(Number);return G[0]>ie[0]?!0:G[0]<ie[0]?!1:G[1]>ie[1]?!0:G[1]<ie[1]?!1:G[2]>ie[2]}catch{return!1}},B=async()=>{const J=window.location.hostname==="localhost"&&window.location.port==="3000";if(!(!W&&!K&&!J))try{let de="1.1.210";if(window.electron?.getAppVersion)try{de=await window.electron.getAppVersion()}catch{}const G=await fetch("https://media.pawscord.com/builds/version.json");if(!G.ok)return;const ie=await G.json(),fe=ie.latest_version,ee=L(fe,de);if(fe&&ee){if(s(!0),window.require){const{ipcRenderer:E}=window.require("electron");E.send("update-available",{currentVersion:de,latestVersion:fe,downloadUrl:ie.download_url_windows})}}else s(!1)}catch{}};B();const X=setInterval(B,1800*1e3);return()=>clearInterval(X)},[]),u.useEffect(()=>{if(!p||!f)return;const L={current:null},B=async()=>{try{const J=await te(`${Z}/users/rich_presence/${f}/`);if(J.ok){const de=await J.json();let G={};const ie=E=>{if(!E)return!0;const ae=new Date(E);return(new Date-ae)/1e3/60<2};de.spotify&&ie(de.spotify.timestamp)&&(G.spotify={type:"listening",name:de.spotify.track,details:de.spotify.artist,album_art:de.spotify.album_art}),de.steam&&ie(de.steam.timestamp)&&(G.steam={type:"playing",name:de.steam.game,state:de.steam.state}),Object.keys(G).length===0&&(G=null);const fe=JSON.stringify(L.current),ee=JSON.stringify(G);fe!==ee&&(L.current=G,v.current&&v.current.readyState===WebSocket.OPEN&&v.current.send(JSON.stringify({type:"update_activity",activity:G})))}}catch{}},X=setInterval(B,3e4);return B(),()=>clearInterval(X)},[p,f,te]),u.useEffect(()=>{const B=setInterval(async()=>{try{const X=await fetch(`${Z}/maintenance/status/`);if(X.ok){const J=await X.json();J.active?r({message:J.message||"System maintenance in progress",endTime:J.end_time,level:J.level||"info"}):r(null)}}catch{}},3e5);return()=>clearInterval(B)},[]),u.useEffect(()=>{_e()&&D("smooth")},[g,_e,D]),u.useEffect(()=>{Y()},[m,Y]),rp({onQuickSwitcher:()=>P("quickSwitcher"),onCommandList:()=>P("keyboardShortcuts"),onCommandPalette:()=>P("commandPalette"),onSettings:()=>P("userSettings"),onEscape:()=>{_.featureHub&&T("featureHub")}}),u.useEffect(()=>{h&&b&&A("voice",b)},[h,b]),np(),{safeAreaTop:k}}const ap={message:`${At}/sounds/message.mp3`,mention:`${At}/sounds/mention.mp3`,dm:`${At}/sounds/dm.mp3`,join:`${At}/sounds/join.mp3`,leave:`${At}/sounds/leave.mp3`,call:`${At}/sounds/call.mp3`,deafen:`${At}/sounds/deafen.mp3`,mute:`${At}/sounds/mute.mp3`},lp={message:{freq:880,duration:.08,type:"sine",volume:.15},mention:{freq:1200,duration:.12,type:"sine",volume:.25,repeat:2},dm:{freq:660,duration:.1,type:"triangle",volume:.2,repeat:2},join:{freq:520,duration:.15,type:"sine",volume:.12,ramp:"up"},leave:{freq:420,duration:.15,type:"sine",volume:.12,ramp:"down"},call:{freq:440,duration:.3,type:"sine",volume:.3,repeat:3},deafen:{freq:300,duration:.1,type:"square",volume:.1},mute:{freq:350,duration:.08,type:"square",volume:.1}};class cp{constructor(){this.audioCache={},this.audioContext=null,this.enabled=!0,this.volume=.5,this.quietHours=null,this._cooldowns={},this._loadSettings()}_loadSettings(){try{const e=localStorage.getItem("pawscord_sound_settings");if(e){const n=JSON.parse(e);this.enabled=n.enabled!==!1,this.volume=n.volume??.5,this.quietHours=n.quietHours||null,this.perEvent=n.perEvent||{}}}catch{}}saveSettings(){try{localStorage.setItem("pawscord_sound_settings",JSON.stringify({enabled:this.enabled,volume:this.volume,quietHours:this.quietHours,perEvent:this.perEvent||{}}))}catch{}}setEnabled(e){this.enabled=e,this.saveSettings()}setVolume(e){this.volume=Math.max(0,Math.min(1,e)),this.saveSettings()}setQuietHours(e,n){this.quietHours=e&&n?{start:e,end:n}:null,this.saveSettings()}setEventEnabled(e,n){this.perEvent||(this.perEvent={}),this.perEvent[e]=n,this.saveSettings()}isInQuietHours(){if(!this.quietHours)return!1;const e=new Date,n=e.getHours(),r=e.getMinutes(),s=n*60+r,[i,d]=this.quietHours.start.split(":").map(Number),[c,p]=this.quietHours.end.split(":").map(Number),f=i*60+d,g=c*60+p;return f<=g?s>=f&&s<g:s>=f||s<g}_getAudioContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}_playTone(e){try{const n=this._getAudioContext(),r=(i=0)=>{const d=n.createOscillator(),c=n.createGain();d.type=e.type||"sine",d.frequency.value=e.freq,c.gain.value=(e.volume||.15)*this.volume,e.ramp==="up"?(d.frequency.setValueAtTime(e.freq*.7,n.currentTime+i),d.frequency.linearRampToValueAtTime(e.freq,n.currentTime+i+e.duration)):e.ramp==="down"&&(d.frequency.setValueAtTime(e.freq,n.currentTime+i),d.frequency.linearRampToValueAtTime(e.freq*.7,n.currentTime+i+e.duration)),c.gain.setValueAtTime((e.volume||.15)*this.volume,n.currentTime+i),c.gain.exponentialRampToValueAtTime(.001,n.currentTime+i+e.duration),d.connect(c),c.connect(n.destination),d.start(n.currentTime+i),d.stop(n.currentTime+i+e.duration+.05)},s=e.repeat||1;for(let i=0;i<s;i++)r(i*(e.duration+.06))}catch{}}async play(e){if(!this.enabled||this.isInQuietHours()||this.perEvent&&this.perEvent[e]===!1)return;const n=Date.now();if(this._cooldowns[e]&&n-this._cooldowns[e]<150)return;this._cooldowns[e]=n;const r=ap[e];if(r)try{this.audioCache[e]||(this.audioCache[e]=new Audio(r));const i=this.audioCache[e].cloneNode();i.volume=this.volume,await i.play();return}catch{}const s=lp[e];s&&this._playTone(s)}resume(){this.audioContext?.state==="suspended"&&this.audioContext.resume()}}const Or=new cp;function dp({activeChat:t,username:e,token:n,isAuthenticated:r,isInitialDataLoaded:s,fetchWithAuth:i,scrollToBottom:d,isNearBottom:c,setMessages:p,setIsConnected:f,historyCacheRef:g,setHasMoreMessages:m,setMessageHistoryOffset:h,fetchMessageHistory:b,setShowScrollToBottom:_,API_BASE_URL:v,API_HOST:y,WS_PROTOCOL:T,forwardToGlobalContext:P,setGlobalWsConnected:A,setOnlineUsers:K,setVoiceUsersState:W,setAllUsers:te,setCurrentUserProfile:_e,activeChatRef:D,tokenRef:Y,usernameRef:Z,setCategories:M,ROOM_LIST_URL:$,statusWsRef:k,statusWsReconnectRef:R,logout:L,refreshAccessToken:B,setCurrentTheme:X}){const J=u.useRef(null),{setTypingUser:de,incrementUnread:G}=ln(),ie=u.useCallback(()=>{if(!t.id||t.type==="welcome"||t.type==="friends"||!e)return;if(J.current&&J.current.readyState===WebSocket.OPEN){const ae=J.current.url,C=t.type==="room"?`/ws/chat/${t.id}/`:`/ws/dm/${t.id}/`;if(ae.includes(C))return}J.current&&J.current.close(1e3,"change_room");let fe="";const ee=`?username=${encodeURIComponent(e)}&token=${n}`;if(t.type==="room"?fe=`${T}://${y}/ws/chat/${t.id}/${ee}`:t.type==="dm"&&(fe=`${T}://${y}/ws/dm/${t.id}/${ee}`),!fe)return;const E=new WebSocket(fe);J.current=E,E.onopen=()=>f(!0),E.onmessage=ae=>{const C=JSON.parse(ae.data);if(C.type==="chat"||C.type==="dm"||C.type==="chat_message_handler"){const ne=V=>V.room?`room-${V.room}`:V.conversation?`dm-${V.conversation}`:t.type==="room"?`room-${t.id}`:`dm-${t.id}`;if(p(V=>{if(C.temp_id){const Ee=V.findIndex(ue=>ue.temp_id===C.temp_id);if(Ee!==-1){const ue=[...V];ue[Ee]=C;const Se=ne(C);return g.current[Se]&&(g.current[Se].messages=ue),ue}}if(C.id&&V.some(Ee=>Ee.id===C.id))return V;const N=[...V,C],be=ne(C);return g.current[be]&&(g.current[be].messages=N),N}),de(C.username,!1),C.username!==e)try{const V=C.content?.includes(`@${e}`)||C.mentions?.includes(e),N=C.type==="dm";V?Or.play("mention"):N?Or.play("dm"):Or.play("message")}catch{}c()?d("smooth"):_(!0)}else C.type==="typing_status_update"?C.username!==e&&de(C.username,C.is_typing):C.type==="chat_cleared"&&p([]);if(C.message&&C.message.startsWith("[ANNOUNCE] ")){const ne=C.message.replace("[ANNOUNCE] ","");window.dispatchEvent(new CustomEvent("stickyMessage",{detail:{message:ne,type:"info",author:C.username}}))}},E.onerror=ae=>{},E.onclose=()=>f(!1)},[t.id,t.type,e,n]);return u.useEffect(()=>{if(!r||!s)return;const fe=sp();X(fe);const ee=Y.current;if(!ee)return;let E=!1,ae=0;const C=10,ne=()=>{const N=Y.current||ee,be=Z.current||e,Ee=`${T}://${y}/ws/status/?username=${encodeURIComponent(be)}&token=${N}`;let ue;try{ue=new WebSocket(Ee)}catch{return null}return ue.onopen=()=>{A(!0),ae=0},ue.onerror=Se=>{},ue.onclose=Se=>{if(A(!1),!E&&Se.code!==1e3&&Se.code!==1001){if(ae>=C)return;ae++;const se=Math.min(5e3*Math.pow(2,ae-1),6e4);R.current=setTimeout(()=>{if(!E){const le=ne();le&&(k.current=le)}},se)}},ue.onmessage=Se=>{try{const se=JSON.parse(Se.data);if(P(se),se.type==="online_user_list_update"){const le=Array.isArray(se.users)?se.users.map(ce=>typeof ce=="string"?ce:ce.username||ce):[];K(le)}if(se.type==="voice_users_update"&&W(se.voice_users),se.type==="user_activity_update"&&te(le=>le.map(ce=>ce.username===se.username?{...ce,current_activity:se.activity}:ce)),se.type==="user_profile_update"&&se.user_data){const le=se.user_data;le.username===e&&_e(ce=>({...ce,avatar:le.avatar,status_message:le.status_message,social_links:le.social_links,coins:le.coins,xp:le.xp,level:le.level,status:le.status,role:le.role})),te(ce=>ce.map(Te=>Te.username===le.username?{...Te,...le}:Te))}if(se.type==="global_message_notification"&&se.username!==e){const le=se.room_slug?`room-${se.room_slug}`:`dm-${se.conversation_id}`,ce=D.current,Te=ce.type==="room"?`room-${ce.id}`:`dm-${ce.id}`;le!==Te&&G(le)}se.type==="server_structure_update"&&(se.categories&&Array.isArray(se.categories)?M(se.categories):i($).then(le=>le.json()).then(le=>M(le)).catch(console.error))}catch{}},ue},V=ne();return V&&(k.current=V),()=>{E=!0,clearTimeout(R.current);try{k.current&&k.current.close(1e3,"Component unmount")}catch{}}},[r,s]),u.useEffect(()=>{if(!s||!t.id||t.type==="friends"||t.type==="welcome"||t.type==="server")return;let fe=!1;const ee=t.type==="room"?`room-${t.id}`:`dm-${t.id}`,E=g.current[ee];return E?.messages?.length>0?(p(E.messages),m(!!E.hasMore),h(E.offset||0),setTimeout(()=>{fe||d("auto")},50),fe||ie()):(h(0),m(!0),fe||ie(),setTimeout(()=>{fe||b(!0,0)},50)),()=>{fe=!0}},[t.id,t.type,s,ie]),{ws:J,connectWebSocket:ie}}const rr="ENC::",up=(t,e)=>{if(!t||!e)return t;try{const n=Mr.AES.encrypt(t,e).toString();return rr+n}catch{return t}},Om=(t,e)=>{if(!t||!t.startsWith(rr)||!e)return t;try{const n=t.replace(rr,""),s=Mr.AES.decrypt(n,e).toString(Mr.enc.Utf8);return s||"üîí ≈ûifreli Mesaj (Anahtar Yanlƒ±≈ü)"}catch{return"üîí √á√∂z√ºlemedi"}},Dm=t=>t&&typeof t=="string"&&t.startsWith(rr);function pp({activeChat:t,username:e,token:n,ws:r,encryptionKeys:s,setMessages:i,scrollToBottom:d,isNearBottom:c,setEditingMessage:p,setHasDraftMessage:f,setDraftText:g,persistDraft:m,setStickyMessage:h,richTextRef:b,fetchWithAuth:_,currentUserProfile:v,getDeterministicAvatar:y,historyCacheRef:T,setHasMoreMessages:P,setMessageHistoryOffset:A,setIsSummaryLoading:K,setSummaryResult:W,setPinnedMessages:te,setConversations:_e,setMessageHistoryLoading:D,openModal:Y,closeModal:Z,API_BASE_URL:M,MESSAGE_HISTORY_ROOM_URL:$,MESSAGE_HISTORY_DM_URL:k}){const R=u.useRef([]),L=u.useRef(null),B=u.useCallback(V=>{if(!V)return;const N=V.trim();if(!N)return;if(N==="/tema"){Y("themeStore"),p(null),f(!1),g(""),b.current?.clear?.();return}if(N==="/sablon"){Y("templateModal"),p(null),f(!1),g(""),b.current?.clear?.();return}if(N.startsWith("/duyuru ")){const Te=N.slice(8).trim();if(Te){const je={type:t.type==="room"?"chat_message":"dm_message",message:`[ANNOUNCE] ${Te}`,username:e,temp_id:nr(),...t.type==="room"?{room:t.id}:{conversation:t.id}};r.current?.send(JSON.stringify(je)),h({message:Te,type:"info",author:e}),p(null),f(!1),g(""),b.current?.clear?.();return}}p(null),f(!1),g(""),m("");const be=t.type==="room"?`room-${t.id}`:`dm-${t.id}`,Ee=s[be];let ue=N;t.type==="dm"&&Ee&&(ue=up(N,Ee));const Se={type:t.type==="room"?"chat_message":"dm_message",message:ue,username:e,temp_id:nr(),...t.type==="room"?{room:t.id}:{conversation:t.id}},se=JSON.stringify(Se),le=async()=>{let He=0;for(;r.current&&r.current.readyState===WebSocket.CONNECTING&&He<3e3;)await new Promise(Ue=>setTimeout(Ue,100)),He+=100;if(r.current&&r.current.readyState===WebSocket.OPEN)try{return r.current.send(se),!0}catch{return!1}return!1},ce=async()=>{try{const Te=t.type==="dm"?`${M}/messages/send_dm/`:`${M}/messages/send/`,je=t.type==="dm"?{conversation_id:t.id,content:ue}:{room:t.id,content:ue};return(await _(Te,{method:"POST",body:JSON.stringify(je)})).ok}catch{return!1}};(async()=>await le()||await ce())(),i(Te=>{const je={...Se,content:ue,timestamp:new Date().toISOString(),id:Se.temp_id,avatar:v?.avatar||y(e)},He=[...Te,je],Ue=t.type==="room"?`room-${t.id}`:`dm-${t.id}`;return T.current[Ue]&&(T.current[Ue].messages=He),He}),b.current?.clear?.(),d("smooth")},[t,e,s,r,_,v,y,m]),X=u.useCallback(V=>{const N={type:t.type==="room"?"chat_message":"dm_message",message:"",username:e,temp_id:nr(),snippet_data:V,...t.type==="room"?{room:t.id}:{conversation:t.id}};r.current?.send(JSON.stringify(N)),i(be=>[...be,{...N,timestamp:new Date().toISOString(),id:N.temp_id,avatar:v?.avatar||y(e)}]),Z("snippetModal")},[t,e,r,v,y]),J=u.useCallback(async(V=!0,N=0)=>{if(!t.id)return;if(t.type==="voice"){i([]),P(!1);return}D(!0);const be=t.type==="room"?$:k,Ee=t.type==="room"?`room-${t.id}`:`dm-${t.id}`;try{const ue=await _(`${be}${t.id}/?limit=50&offset=${N}`);if(ue.ok){const Se=await ue.json(),ce=(Se.results||[]).filter(Le=>Le&&typeof Le=="object"&&(Le.id||Le.temp_id)).reverse();let Te=ce;V?(i(ce),setTimeout(()=>d("auto"),100)):i(Le=>(Te=[...ce,...Le],Te));const je=V?ce.length:N+ce.length,He=!!Se.next;P(He),V||A(je);const Ue=T.current[Ee]?.messages||[],re=V?ce:[...ce,...Ue];T.current[Ee]={messages:Te||re,offset:je,hasMore:He}}}catch{}D(!1)},[t,_,d]),de=u.useCallback(async V=>{if(await zt("Bu mesajƒ± silmek istediƒüine emin misin?"))try{(await _(`${M}/messages/${V}/delete/`,{method:"DELETE"})).ok&&i(be=>be.filter(Ee=>Ee.id!==V))}catch{}},[_,M]),G=u.useCallback(async V=>{try{const N=await _(`${M}/messages/${V}/pin/`,{method:"POST"});if(N.ok){const be=await N.json(),Ee=be.is_pinned??be.pinned??!0;i(ue=>ue.map(Se=>Se.id===V?{...Se,is_pinned:Ee}:Se)),Ee?(te(ue=>(ue.find(se=>se.id===V),ue)),oe.success("üìå Mesaj sabitlendi")):(te(ue=>ue.filter(Se=>Se.id!==V)),oe.success("üìå Sabitleme kaldƒ±rƒ±ldƒ±"))}}catch{oe.error("‚ùå Sabitleme hatasƒ±")}},[_,M]),ie=u.useCallback(async(V,N)=>{if(V.preventDefault(),!t.id||!N.trim()){N.trim()||J(!0,0);return}D(!0);try{let be=`${M}/messages/search/?q=${encodeURIComponent(N)}`;t.type==="room"?be+=`&room=${t.id}`:be+=`&dm=${t.id}`;const Ee=await _(be);if(Ee.ok){const ue=await Ee.json();i(ue.results||ue)}}catch{}D(!1)},[t,_,J]),fe=u.useCallback(async()=>{Y("summary"),K(!0),W("");try{const V=await _(`${M}/rooms/${t.id}/summarize/`,{method:"POST"}),N=await V.json();W(V.ok?N.summary:"Hata: "+N.error)}catch{W("Baƒülantƒ± hatasƒ±.")}K(!1)},[t,_]),ee=u.useCallback(async()=>{if(await zt("Bu odadaki t√ºm mesajlarƒ± silmek istediƒüine emin misin?"))try{(await _(`${M}/rooms/${t.id}/clear/`,{method:"POST"})).ok&&i([])}catch{}},[t,_]),E=u.useCallback(async V=>{if(await zt("Bu sohbeti listenizden gizlemek istiyor musunuz?"))try{(await _(`${M}/conversations/${V}/hide/`,{method:"POST"})).ok&&(_e(be=>be.filter(Ee=>Ee.id!==V)),t.type==="dm"&&t.id===V&&window.dispatchEvent(new CustomEvent("setActiveChatWelcome")))}catch{}},[t,_]),ae=u.useCallback(async V=>{if(await zt(`‚ö†Ô∏è ADMƒ∞N: Bu konu≈ümayƒ± HER ƒ∞Kƒ∞ TARAFTAN KALICI OLARAK silmek istediƒüinize emin misiniz?

Bu i≈ülem GERƒ∞ ALINAMAZ!`))try{const N=await _(`${M}/conversations/${V}/admin-delete/`,{method:"DELETE"});if(N.ok){const be=await N.json();oe.success(`‚úÖ ${be.deleted_messages} mesaj silindi. Katƒ±lƒ±mcƒ±lar: ${be.participants.join(", ")}`),_e(Ee=>Ee.filter(ue=>ue.id!==V)),t.type==="dm"&&t.id===V&&window.dispatchEvent(new CustomEvent("setActiveChatWelcome"))}else{const be=await N.json();oe.error(`‚ùå Hata: ${be.error||"Silme i≈ülemi ba≈üarƒ±sƒ±z"}`)}}catch{oe.error("‚ùå Sunucuyla baƒülantƒ± hatasƒ±")}},[t,_]),C=u.useCallback(V=>{R.current.push(V),!L.current&&(L.current=setTimeout(async()=>{const N=[...new Set(R.current)];if(R.current=[],L.current=null,N.length!==0)try{(await _(`${M}/messages/mark_read/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message_ids:N})})).ok&&i(Ee=>Ee.map(ue=>N.includes(ue.id)?{...ue,read_by:[...ue.read_by||[],e]}:ue))}catch{}},1500))},[_,e]),ne=u.useCallback(V=>{const N=document.getElementById(`message-${V}`);N&&N.scrollIntoView({behavior:"smooth",block:"center"})},[]);return{sendMessage:B,handleSendSnippet:X,fetchMessageHistory:J,handleDeleteMessage:de,handleTogglePin:G,handleSearchMessages:ie,handleSummarize:fe,handleClearChat:ee,handleHideConversation:E,handleAdminDeleteConversation:ae,handleMessageVisible:C,scrollToMessage:ne}}function fp({activeChat:t,username:e,fetchWithAuth:n,scrollToBottom:r,setMessages:s,API_BASE_URL:i,handleDMClick:d,conversations:c,categories:p}){const[f,g]=u.useState(!1),[m,h]=u.useState(!1),[b,_]=u.useState(0),[v,y]=u.useState([]),[T,P]=u.useState(!1),A=u.useRef(null),K=u.useRef([]),W=u.useRef(0),te=u.useCallback(async(k,R=!1,L=0,B=null)=>{const X=k.size>=5242880;X&&(h(!0),_(0));const J=B||t,de=nr();try{const G=await Fa(k),ie=k.type||"application/octet-stream",fe=10*1024*1024,ee=5,E=Math.ceil(k.size/fe),C=await(await n(`${i}/upload/multipart/init/`,{method:"POST",body:JSON.stringify({file_name:k.name,file_size:k.size,content_type:ie,file_hash:G,room_slug:J.type==="room"?J.id:null,conversation_id:J.type==="dm"?J.id:null,temp_id:de,is_voice_message:R?"true":"false",duration:L.toString()})})).json();if(C.file_exists){X&&(h(!1),_(100)),C.id&&J.id===t.id&&(s(se=>{if(C.temp_id){const le=se.findIndex(ce=>ce.temp_id===C.temp_id);if(le!==-1){const ce=[...se];return ce[le]=C,ce}}return se.some(le=>le.id===C.id)?se:[...se,C]}),r("smooth"));return}const{upload_id:ne,key:V}=C,N=[];let be=0;const Ee=async se=>{const le=(se-1)*fe,ce=Math.min(le+fe,k.size),Te=k.slice(le,ce),je=new FormData;je.append("upload_id",ne),je.append("key",V),je.append("part_number",se.toString()),je.append("chunk",Te,`part_${se}`);const He=await n(`${i}/upload/multipart/upload-part/`,{method:"POST",body:je,headers:{}});if(!He.ok)throw new Error(`Part ${se} upload failed`);const{etag:Ue,part_number:re}=await He.json();return be++,X&&_(Math.round(be/E*95)),{ETag:Ue,PartNumber:re}};for(let se=0;se<E;se+=ee){const le=[];for(let Te=0;Te<ee&&se+Te<E;Te++)le.push(Ee(se+Te+1));const ce=await Promise.all(le);N.push(...ce)}N.sort((se,le)=>se.PartNumber-le.PartNumber);const ue=await n(`${i}/upload/multipart/complete/`,{method:"POST",body:JSON.stringify({upload_id:ne,key:V,parts:N,file_name:k.name,file_hash:G,room_slug:J.type==="room"?J.id:null,conversation_id:J.type==="dm"?J.id:null,temp_id:de,is_voice_message:R?"true":"false",duration:L.toString()})});if(!ue.ok)throw new Error(`Complete failed: ${await ue.text()}`);const Se=await ue.json();X&&_(100),J.id===t.id&&(s(se=>{if(Se.temp_id){const le=se.findIndex(ce=>ce.temp_id===Se.temp_id);if(le!==-1){const ce=[...se];return ce[le]=Se,ce}}return Se.id&&se.some(le=>le.id===Se.id)?se:[...se,Se]}),r("smooth"))}catch(G){oe.error(`Y√ºkleme hatasƒ±: ${G.message}`)}X&&h(!1)},[t,n]),_e=u.useCallback(async()=>{try{const k=await navigator.mediaDevices.getUserMedia({audio:!0}),R={mimeType:"audio/webm;codecs=opus"};MediaRecorder.isTypeSupported(R.mimeType)||(R.mimeType="audio/webm"),A.current=new MediaRecorder(k,R),K.current=[],A.current.ondataavailable=L=>{L.data.size>0&&K.current.push(L.data)},A.current.onstop=async()=>{const L=new Blob(K.current,{type:"audio/webm;codecs=opus"});await Y(L),k.getTracks().forEach(B=>B.stop())},A.current.start(),P(!0)}catch(k){k.name==="NotAllowedError"?oe.warning("Mikrofon eri≈üimi reddedildi!"):k.name==="NotFoundError"?oe.warning("Mikrofon bulunamadƒ±!"):oe.error("Mikrofon hatasƒ±: "+k.message)}},[]),D=u.useCallback(()=>{A.current&&T&&(A.current.stop(),P(!1))},[T]),Y=u.useCallback(async k=>{const R=`voice_${Date.now()}.webm`,L=`upload_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,B=new FormData;B.append("chunk",k),B.append("upload_id",L),B.append("chunk_index","0"),B.append("total_chunks","1"),B.append("file_name",R),B.append("is_voice_message","true"),t.type==="room"?B.append("room_slug",t.id):t.type==="dm"&&B.append("conversation_id",t.id);try{if(!(await n(`${i}/messages/upload_file/`,{method:"POST",body:B})).ok)throw new Error("Upload failed")}catch{oe.error("Ses mesajƒ± g√∂nderilemedi")}},[t,n]),Z=u.useCallback(k=>{if(k.preventDefault(),k.stopPropagation(),W.current=0,g(!1),k.dataTransfer.files&&k.dataTransfer.files.length>0){const L=Array.from(k.dataTransfer.files).map(B=>({id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:B,name:B.name,size:B.size,type:B.type,previewUrl:B.type.startsWith("image/")||B.type.startsWith("video/")?URL.createObjectURL(B):null}));y(L)}},[]),M=u.useCallback(k=>{k.preventDefault(),W.current++,g(!0)},[]),$=u.useCallback(k=>{k.preventDefault(),W.current--,W.current<=0&&(W.current=0,g(!1))},[]);return{isDragging:f,setIsDragging:g,isUploading:m,uploadProgress:b,pendingFilesFromDrop:v,setPendingFilesFromDrop:y,isRecordingVoice:T,uploadFile:te,startVoiceRecording:_e,stopVoiceRecording:D,handleChatDrop:Z,handleChatDragEnter:M,handleChatDragLeave:$,dragCounterRef:W}}function mp({username:t,fetchWithAuth:e,categories:n,allUsers:r,friendsList:s,serverMembers:i,isAdmin:d,currentVoiceRoom:c,setUpdateStatusText:p,setFriendsList:f,setInviteToServerUser:g,API_BASE_URL:m,handleDMClick:h,isInVoice:b,setServerOrder:_,serverOrder:v,setActiveChat:y,setCurrentUserProfile:T,setCategories:P,setConversations:A,setAllUsers:K,setIsInitialDataLoaded:W,setAuthError:te,login:_e,logout:D,setViewingProfile:Y,ABSOLUTE_HOST_URL:Z,ROOM_LIST_URL:M}){const[$,k]=u.useState(null),R=u.useCallback(async ee=>{try{await e(`${m}/user/server-order/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_order:ee})})}catch{}},[e]),L=u.useCallback((ee,E,ae)=>{ee.dataTransfer.effectAllowed="move",ee.dataTransfer.setData("serverId",E.toString()),ee.dataTransfer.setData("sourceIndex",ae.toString());const C=ee.currentTarget.cloneNode(!0);C.style.position="absolute",C.style.top="-9999px",C.style.opacity="0.8",C.style.transform="rotate(5deg)",C.style.pointerEvents="none",document.body.appendChild(C),ee.dataTransfer.setDragImage(C,24,24),setTimeout(()=>{document.body.contains(C)&&document.body.removeChild(C)},0),ee.currentTarget.style.opacity="0.4"},[]),B=u.useCallback(ee=>{ee.preventDefault(),ee.dataTransfer.dropEffect="move"},[]),X=u.useCallback(ee=>{ee.currentTarget.style.opacity="1"},[]),J=u.useCallback((ee,E)=>{let ae=v.length>0?[...v]:n.map(N=>N.id);n.forEach(N=>{ae.includes(N.id)||ae.push(N.id)});const C=ae.indexOf(ee);if(C===-1)return;const ne=E==="up"?C-1:C+1;if(ne<0||ne>=ae.length)return;const[V]=ae.splice(C,1);ae.splice(ne,0,V),_(ae),R(ae)},[v,n,R]),de=u.useCallback((ee,E)=>{ee.preventDefault();const ae=parseInt(ee.dataTransfer.getData("serverId"));if(isNaN(ae))return;let C=v.length>0?[...v]:n.map(be=>be.id);n.forEach(be=>{C.includes(be.id)||C.push(be.id)});const ne=C.indexOf(ae);if(ne===-1||ne===E||ne+1===E)return;const[V]=C.splice(ne,1),N=ne<E?E-1:E;C.splice(N,0,V),_(C),R(C)},[v,n,R]),G=u.useCallback(async(ee,E)=>{try{const ae=`${m}/auth/login/`,C=await fetch(ae,{method:"POST",body:JSON.stringify({username:ee,password:E}),headers:{"Content-Type":"application/json"}}),ne=await C.json();if(C.ok)_e(ne.access,ne.refresh);else{if(C.status===401&&ne.requires_2fa&&ne.temp_token){window.location.href=`/#/2fa-login?temp_token=${encodeURIComponent(ne.temp_token)}`;return}C.status===401?te("Kullanƒ±cƒ± adƒ± veya ≈üifre hatalƒ±"):C.status===400?te(ne.detail||ne.error||"Ge√ßersiz giri≈ü bilgileri"):C.status>=500?te("Sunucu hatasƒ±. L√ºtfen daha sonra tekrar deneyin."):te(ne.detail||ne.error||"Giri≈ü ba≈üarƒ±sƒ±z")}}catch{te("Sunucuya baƒülanƒ±lamadƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin.")}},[_e,te,m]),ie=u.useCallback(async(ee,E,ae)=>{try{const C=`${m}/auth/register/`,ne=await fetch(C,{method:"POST",body:JSON.stringify({username:ee,email:E,password:ae}),headers:{"Content-Type":"application/json"}});if(ne.status===201)return!0;const V=await ne.json();let N="";return V.username?N=V.username.join(" "):V.email?N=V.email.join(" "):V.password?N=V.password.join(" "):V.detail?N=V.detail:N=Object.values(V).flat().join(" "),te(N||"Kayƒ±t i≈ülemi ba≈üarƒ±sƒ±z"),!1}catch{return te("Sunucuya baƒülanƒ±lamadƒ±. ƒ∞nternet baƒülantƒ±nƒ±zƒ± kontrol edin."),!1}},[te,m]),fe=u.useCallback(async(ee,E,ae)=>{switch(ee){case"profile":{const C=r.find(ne=>ne.username===E.username);C&&Y(C);break}case"message":h(E.username);break;case"volume":break;case"move":if(d&&ae&&c)try{await e(`${m}/voice/move_user/`,{method:"POST",body:JSON.stringify({username:E.username,from_channel:c,to_channel:ae})})}catch{}break;case"kick":if(d&&await zt(`${E.username} kullanƒ±cƒ±sƒ±nƒ± kanaldan atmak istediƒüine emin misin?`))try{await e(`${m}/voice/kick_user/`,{method:"POST",body:JSON.stringify({username:E.username,room:c})})}catch{}break;case"server_mute":if(d)try{await e(`${m}/voice/server_mute/`,{method:"POST",body:JSON.stringify({username:E.username,room:c})})}catch{}break;case"add_friend":try{const C=await e(`${m}/friends/send/`,{method:"POST",body:JSON.stringify({username:E.username})});if(C.ok)p(`‚úÖ ${E.username} kullanƒ±cƒ±sƒ±na arkada≈ülƒ±k isteƒüi g√∂nderildi!`),setTimeout(()=>p(""),3e3);else{const ne=await C.json();p(`‚ùå ${ne.error||"ƒ∞stek g√∂nderilemedi"}`),setTimeout(()=>p(""),3e3)}}catch{p("‚ùå Arkada≈ü ekleme hatasƒ±"),setTimeout(()=>p(""),3e3)}break;case"remove_friend":if(await zt(`${E.username} ile arkada≈ülƒ±ƒüƒ± sonlandƒ±rmak istediƒüinize emin misiniz?`))try{const C=s.find(ne=>ne.sender_username===E.username||ne.receiver_username===E.username);if(C&&(await e(`${m}/friends/remove/${C.id}/`,{method:"DELETE"})).ok){p(`‚úÖ ${E.username} ile arkada≈ülƒ±k sonlandƒ±rƒ±ldƒ±`),setTimeout(()=>p(""),3e3);const V=await e(`${m}/friends/list/`);if(V.ok){const N=await V.json();f(N.friends||[])}}}catch{p("‚ùå Arkada≈ülƒ±k sonlandƒ±rma hatasƒ±"),setTimeout(()=>p(""),3e3)}break;case"invite_to_server":g({username:E.username});break;case"mute_user":try{const C=await e(`${m}/users/${E.username}/mute/`,{method:"POST"});if(C.ok)oe.success(`üîá ${E.username} sessize alƒ±ndƒ±`);else{const ne=await C.json();oe.error(`‚ùå ${ne.error||"Sessize alma ba≈üarƒ±sƒ±z"}`)}}catch{oe.error("‚ùå Sessize alma hatasƒ±")}break;case"block_user":if(await zt(`${E.username} kullanƒ±cƒ±sƒ±nƒ± engellemek istediƒüinize emin misiniz?`))try{const C=await e(`${m}/users/${E.username}/block/`,{method:"POST"});if(C.ok){oe.success(`üö´ ${E.username} engellendi`);const ne=await e(`${m}/friends/list/`);if(ne.ok){const V=await ne.json();f(V.friends||[])}}else{const ne=await C.json();oe.error(`‚ùå ${ne.error||"Engelleme ba≈üarƒ±sƒ±z"}`)}}catch{oe.error("‚ùå Engelleme hatasƒ±")}break}},[r,d,c,e,m,h,s]);return{serverToEdit:$,setServerToEdit:k,saveServerOrder:R,handleServerDragStart:L,handleServerDragOver:B,handleServerDragEnd:X,handleMoveServer:J,handleServerDrop:de,handleLogin:G,handleRegister:ie,handleUserContextAction:fe}}const ot={display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",border:"none",width:"100%",textAlign:"left",cursor:"pointer",fontSize:"14px",backgroundColor:"transparent",color:"#dcddde",transition:"all 0.15s ease"};function gp({activeChat:t,hasKey:e,modals:n,soundSettings:r,isInVoice:s,username:i,openModal:d,closeModal:c,toggleModal:p,handleCopyLink:f,toggleNotifications:g,handleSummarize:m,handleClearChat:h,handleAdminDeleteConversation:b}){const _=y=>{y.currentTarget.style.backgroundColor="#5865f2",y.currentTarget.style.color="#ffffff"},v=(y,T="#dcddde")=>{y.currentTarget.style.backgroundColor="transparent",y.currentTarget.style.color=T};return o.jsxs("div",{style:{position:"absolute",top:"50px",right:"0",backgroundColor:"#2f3136",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)",minWidth:"220px",zIndex:1e3,overflow:"hidden",border:"1px solid #202225"},children:[t.type==="dm"&&o.jsxs("button",{onClick:()=>{d("encModal"),c("toolbarMenu")},style:{...ot,color:e?"#43b581":"#dcddde"},onMouseEnter:_,onMouseLeave:y=>v(y,e?"#43b581":"#dcddde"),children:[e?o.jsx(vo,{}):o.jsx(vo,{style:{opacity:.5}}),o.jsx("span",{children:e?"≈ûifreli":"≈ûifrele"})]}),o.jsxs("button",{onClick:()=>{p("pinned"),c("toolbarMenu")},style:{...ot,color:n.pinned?"#f5a524":"#dcddde"},onMouseEnter:_,onMouseLeave:y=>v(y,n.pinned?"#f5a524":"#dcddde"),children:[o.jsx(Ti,{}),o.jsx("span",{children:"Sabitli Mesajlar"})]}),o.jsxs("button",{onClick:()=>{f(),c("toolbarMenu")},style:ot,onMouseEnter:_,onMouseLeave:y=>v(y),children:[o.jsx(Ci,{}),o.jsx("span",{children:"Baƒülantƒ±yƒ± Kopyala"})]}),o.jsxs("button",{onClick:()=>{g(),c("toolbarMenu")},style:{...ot,color:r.notifications?"#43b581":"#f04747"},onMouseEnter:_,onMouseLeave:y=>v(y,r.notifications?"#43b581":"#f04747"),children:[r.notifications?o.jsx(ms,{}):o.jsx(Pi,{}),o.jsx("span",{children:r.notifications?"Sessize Al":"Sesi A√ß"})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:()=>{d("mentionsInbox"),c("toolbarMenu")},style:ot,onMouseEnter:_,onMouseLeave:y=>v(y),children:[o.jsx(Ri,{}),o.jsx("span",{children:"Bahsedilmeler"})]}),o.jsxs("button",{onClick:()=>{d("customStatus"),c("toolbarMenu")},style:ot,onMouseEnter:_,onMouseLeave:y=>v(y),children:[o.jsx(ji,{}),o.jsx("span",{children:"Durumunu Ayarla"})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:()=>{d("cinema"),c("toolbarMenu")},style:ot,onMouseEnter:_,onMouseLeave:y=>v(y),children:[o.jsx(Ii,{}),o.jsx("span",{children:"Sinema Modu"})]}),o.jsxs("button",{onClick:()=>{d("dJ"),c("toolbarMenu")},style:ot,onMouseEnter:_,onMouseLeave:y=>v(y),children:[o.jsx(Li,{}),o.jsx("span",{children:"DJ Modu"})]}),o.jsxs("button",{onClick:()=>{d("whiteboard"),c("toolbarMenu")},style:ot,onMouseEnter:_,onMouseLeave:y=>v(y),children:[o.jsx(Oi,{}),o.jsx("span",{children:"Beyaz Tahta"})]}),s&&o.jsxs("button",{onClick:()=>{d("soundboard"),c("toolbarMenu")},style:ot,onMouseEnter:_,onMouseLeave:y=>v(y),children:[o.jsx(So,{}),o.jsx("span",{children:"Ses Efektleri"})]}),t.type==="room"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:()=>{m(),c("toolbarMenu")},style:ot,onMouseEnter:_,onMouseLeave:y=>v(y),children:[o.jsx(So,{}),o.jsx("span",{children:"Sohbeti √ñzetle"})]}),o.jsxs("button",{onClick:()=>{h(),c("toolbarMenu")},style:{...ot,color:"#f04747"},onMouseEnter:y=>{y.currentTarget.style.backgroundColor="#f04747",y.currentTarget.style.color="#ffffff"},onMouseLeave:y=>v(y,"#f04747"),children:[o.jsx(Di,{}),o.jsx("span",{children:"Sohbeti Temizle"})]}),i==="admin"&&t.type==="dm"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:()=>{b(t.id),c("toolbarMenu")},style:{...ot,color:"#ed4245",fontWeight:"bold"},onMouseEnter:y=>{y.currentTarget.style.backgroundColor="#ed4245",y.currentTarget.style.color="#ffffff"},onMouseLeave:y=>v(y,"#ed4245"),title:"Admin: Konu≈ümayƒ± kalƒ±cƒ± olarak sil",children:[o.jsx(fs,{}),o.jsx("span",{children:"‚ö†Ô∏è KALICI Sƒ∞L (ADMƒ∞N)"})]})]})]}),o.jsx("div",{style:{height:"1px",backgroundColor:"#40444b",margin:"4px 0"}}),o.jsxs("button",{onClick:()=>{d("featureHub"),c("toolbarMenu")},style:{...ot,color:"#5865f2",fontWeight:"bold"},onMouseEnter:_,onMouseLeave:y=>v(y,"#5865f2"),children:["üöÄ",o.jsx("span",{children:"T√ºm √ñzellikler"})]})]})}function hp({inviteToServerUser:t,setInviteToServerUser:e,categories:n,fetchWithAuth:r,API_BASE_URL:s}){return t?mi.createPortal(o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999999},onClick:()=>e(null),children:o.jsxs("div",{onClick:i=>i.stopPropagation(),style:{backgroundColor:"#2b2d31",borderRadius:"12px",width:"400px",maxHeight:"80vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.5)"},children:[o.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #3f4147",textAlign:"center"},children:[o.jsx("h2",{style:{color:"#f2f3f5",margin:0,fontSize:"18px"},children:"üé´ Sunucuya Davet Et"}),o.jsxs("p",{style:{color:"#b9bbbe",margin:"8px 0 0",fontSize:"14px"},children:[o.jsx("strong",{children:t.username})," kullanƒ±cƒ±sƒ±nƒ± hangi sunucuya davet etmek istiyorsunuz?"]})]}),o.jsx("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"12px"},children:n.map(i=>o.jsxs("div",{onClick:async()=>{try{const d=await r(`${s}/servers/${i.id}/invite/`,{method:"POST",body:JSON.stringify({target_username:t.username})});if(d.ok)oe.success(`üé´ ${t.username} kullanƒ±cƒ±sƒ±na davetiye g√∂nderildi!`);else{const c=await d.json();c.error?.includes("zaten")?oe.info(`‚ÑπÔ∏è ${t.username} zaten bu sunucunun √ºyesi!`):oe.error(`‚ùå ${c.error||"Davet g√∂nderilemedi"}`)}}catch{oe.error("‚ùå Baƒülantƒ± hatasƒ±")}e(null)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"rgba(255,255,255,0.02)",marginBottom:"8px"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="rgba(88, 101, 242, 0.2)"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="rgba(255,255,255,0.02)"},children:[i.icon?o.jsx("img",{src:i.icon,alt:i.name,style:{width:40,height:40,borderRadius:"50%",objectFit:"cover"}}):o.jsx("div",{style:{width:40,height:40,borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",color:"white",fontSize:"16px"},children:i.name?.substring(0,2).toUpperCase()}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{color:"#f2f3f5",fontWeight:"600"},children:i.name}),o.jsxs("div",{style:{color:"#b9bbbe",fontSize:"12px"},children:[i.member_count||0," √ºye"]})]}),o.jsx("div",{style:{color:"#5865f2",fontSize:"20px"},children:"‚Üí"})]},i.id))}),o.jsx("div",{style:{padding:"16px 20px",borderTop:"1px solid #3f4147",textAlign:"center"},children:o.jsx("button",{onClick:()=>e(null),style:{backgroundColor:"#4f545c",color:"#f2f3f5",border:"none",padding:"10px 24px",borderRadius:"4px",cursor:"pointer",fontWeight:"600"},children:"ƒ∞ptal"})})]})}),document.body):null}const yp=()=>{const{user:t,isAuthenticated:e,token:n,login:r,logout:s,isLoading:i,refreshAccessToken:d}=Vt(),c=t?.username||localStorage.getItem("username")||"",{isInVoice:p,isConnecting:f,currentRoom:g,joinChannel:m,leaveChannel:h,isMuted:b,isDeafened:_,toggleMute:v,toggleDeafened:y,toggleVideo:T,toggleScreenShare:P,remoteVolumes:A,setRemoteVolume:K,localCameraStream:W,remoteStreams:te,isTalking:_e,sendSignal:D,isScreenSharing:Y,isVideoEnabled:Z,isPttActive:M,localScreenStream:$,sendReaction:k,lastReaction:R,applyVoiceEffect:L,activeEffect:B,cinemaState:X,setCinemaState:J,gameState:de,sendGameSignal:G,mutedUsers:ie,useNewVoicePanel:fe,showVoiceIsland:ee,setShowVoiceIsland:E,isVoicePanelMinimized:ae,setIsVoicePanelMinimized:C,focusedStream:ne,setFocusedStream:V,islandState:N,setIslandState:be}=Ca(),{setGlobalData:Ee,setIsConnected:ue}=Es(),[Se,se]=u.useState([]),[le,ce]=u.useState(null),[Te,je]=u.useState(null),[He,Ue]=u.useState(null),{activeChat:re,setActiveChat:Le,messages:cr,setMessages:un,encryptionKeys:pn,setEncryptionKey:dr,voiceUsers:ur,setVoiceUsersState:pr,unreadCounts:fr,selectedMessages:Gt,setSelectedMessages:An}=ln(),{modals:Pt,openModal:Oe,closeModal:Rt,toggleModal:qt,animationState:Ye,setAnimationState:mr,isConnected:vt,setIsConnected:gr,updateStatusText:jt,setUpdateStatusText:Ke,downloadProgress:fn,setDownloadProgress:mn,isDownloading:he,setIsDownloading:Ie,searchQuery:St,setSearchQuery:mt,dropTarget:Re,setDropTarget:tt}=Zr(),{isMobile:ve,isLeftSidebarVisible:ct,setIsLeftSidebarVisible:Ae,isRightSidebarVisible:Mt,setIsRightSidebarVisible:Ge,safeAreaBottom:$t}=ra(),zn=aa(St,300),[hr,Vn]=u.useState("default"),[yr,Nt]=u.useState(!1),[Xr,Mn]=u.useState(!0),[eo,Wt]=u.useState(0),[Bt,$n]=u.useState([]),[_r,Jt]=u.useState(0),[It,Nn]=u.useState([]),[gt,qe]=u.useState([]),[gn,xr]=u.useState(null),[Ve,kt]=u.useState(null),[hn,ht]=u.useState(!1),[Lt,Bn]=u.useState(()=>JSON.parse(localStorage.getItem("chat_sound_settings"))||{notifications:!0,mentions:!0,userJoinLeave:!0}),[Zt,Ot]=u.useState(null),[Fn,yn]=u.useState(!1),[_n,xn]=u.useState(null),[to,Un]=u.useState(null),[no,Hn]=u.useState(null),[x,S]=u.useState(!1),[O,U]=u.useState(null),[Q,z]=u.useState(null),[j,I]=u.useState(null),[pe,xe]=u.useState(null),[ke,nt]=u.useState([]),[Dt,bn]=u.useState([]),[Fe,Yn]=u.useState([]),[Ns,Bs]=u.useState([]),[Fs,br]=u.useState(null),[Us,Hs]=u.useState(!1),[Ys,Ks]=u.useState(""),[Gs,vr]=u.useState(null),[hm,Sr]=u.useState(!1),[ym,kr]=u.useState(""),wr=u.useRef(null),Er=u.useRef(null),qs=u.useRef(null),ro=u.useRef(null);u.useRef(null);const oo=u.useRef({}),so=u.useRef(null),Ws=u.useRef(null),io=u.useRef(re),ao=u.useRef(n),lo=u.useRef(c);u.useEffect(()=>{io.current=re},[re]),u.useEffect(()=>{ao.current=n},[n]),u.useEffect(()=>{lo.current=c},[c]);const{fetchWithAuth:Me}=Bu(),co=ln(w=>w.typingUsers),uo=u.useMemo(()=>co.filter(w=>w!==c),[co,c]),Tr=ln(w=>w.onlineUsers),{setOnlineUsers:Js}=ln(),Zs=ln(w=>w.messages),dt=oa(Zs,zn);sa(Fe);const rt=c==="Eastkhan"||c==="PawPaw"||Ve?.role==="admin",Qs=u.useMemo(()=>{const w=ke?.find(we=>we.id===re?.serverId),H=w?.owner===c||w?.created_by===c,q=gt?.find(we=>we.username===c)?.role==="moderator";return{isAdmin:rt,isServerOwner:H,isModerator:q,canKick:rt||H||q,canBan:rt||H,canMute:rt||H||q,canWarn:rt||H||q,canManageRoles:rt||H}},[rt,ke,re?.serverId,c,gt]),Xs=u.useMemo(()=>{if(!ke||ke.length===0)return[];if(!It||It.length===0)return ke;const w=[],H=[];return It.forEach(q=>{const we=ke.find(Ne=>Ne.id===q);we&&w.push(we)}),ke.forEach(q=>{It.includes(q.id)||H.push(q)}),[...w,...H]},[ke,It]),vn=u.useMemo(()=>{if(re.type==="room"){if(ke){for(const w of ke)if(w.categories)for(const H of w.categories){const q=H.rooms?.find(we=>we.slug===re.id);if(q)return String(q.name)}}return String(re.id)}else if(re.type==="dm")return`@ ${String(re.targetUser||"DM")}`;return""},[re,ke]),ei=u.useMemo(()=>{if(re.type!=="room"||!ke)return"text";for(const w of ke)if(w.categories)for(const H of w.categories){const q=H.rooms?.find(we=>we.slug===re.id);if(q)return q.channel_type}return"text"},[re,ke]),po=w=>{if(!w)return!1;const H=!!(w.image_url||w.image),q=!!(w.file_url||w.file)&&!w.is_voice_message&&/\.(jpg|jpeg|png|gif|webp|bmp|svg)$/i.test(w.file_name||""),we=!!(w.content&&w.content.trim());return(H||q)&&!we&&!w.poll&&!w.reply_to},Sn=u.useCallback((w="auto")=>{wr.current&&wr.current.scrollIntoView({behavior:w})},[]),Cr=u.useCallback(()=>{const w=Er.current;return w?w.scrollHeight-w.scrollTop-w.clientHeight<160:!0},[]),fo=u.useCallback(()=>{const w=Er.current;w&&yn(w.scrollHeight-w.scrollTop-w.clientHeight>160)},[]),ti=ia(fo,100),ut=u.useCallback(w=>{if(w==="‚ö° Signal Bot")return`${Ut}/static/bot/signal.png`;if(w==="PawPaw AI")return`${Ut}/static/bot/ai.png`;if(!w||!Se||Se.length===0)return`${Ut}/avatars/cat_1.png`;let H=0;for(let wt=0;wt<w.length;wt++)H=w.charCodeAt(wt)+((H<<5)-H);const q=Math.abs(H%Se.length),we=Se[q];let Ne;return typeof we=="object"&&we!==null?Ne=we.original||we.thumbnail||we.url:typeof we=="string"&&(Ne=we),!Ne||typeof Ne!="string"?`${Ut}/avatars/cat_1.png`:Ne.startsWith("http")||Ne.startsWith("blob:")?Ne:(Ne.startsWith("/")||(Ne="/"+Ne),`${Ut}${Ne}`)},[Se]),Pr=u.useCallback(w=>{const H=Fe.find(q=>q.username===w);if(H&&H.avatar&&typeof H.avatar=="string"){if(H.avatar.startsWith("http")||H.avatar.startsWith("blob:"))return H.avatar;let q=H.avatar;return q.startsWith("/")||(q="/"+q),`${Ut}${q}`}return ut(w)},[Fe,ut]),Qt=u.useMemo(()=>!re||!re.id?"":`${re.type}-${re.id}`,[re]),Kn=u.useCallback(()=>{try{const w=localStorage.getItem(jo);if(!w)return{};const H=JSON.parse(w);return H&&typeof H=="object"?H:{}}catch{return{}}},[]),ni=u.useCallback(w=>{if(!Qt)return;const H=Kn();H[Qt]=w,localStorage.setItem(jo,JSON.stringify(H))},[Qt,Kn]);u.useEffect(()=>{if(!Qt){kr(""),Sr(!1);return}const H=Kn()[Qt]||"";kr(H),Sr(!!H.trim())},[Qt,Kn]);const mo=w=>{Le("room",w),ve&&Ae(!1)},Gn=w=>{Me(Ma,{method:"POST",body:JSON.stringify({target_username:w})}).then(H=>H.json()).then(H=>{Le("dm",H.conversation_id,w),ve&&Ae(!1)})},ri=u.useCallback(w=>{w&&(window.location.hash=w.startsWith("#/")?w:`#${w.startsWith("/")?w:`/${w}`}`,ve&&Ge(!1))},[ve]),oi=u.useCallback(()=>{Le("welcome","welcome",null),ve&&Ae(!1)},[ve]),si=u.useCallback(()=>{Bn(w=>{const H={...w,notifications:!w.notifications};return localStorage.setItem("chat_sound_settings",JSON.stringify(H)),H})},[]),ii=u.useCallback(async()=>{if(!re?.id)return;const w=`${window.location.origin}/#/${re.type==="dm"?`dm/${re.id}`:`room/${re.id}`}`;try{await navigator.clipboard.writeText(w),Ke("Link kopyalandƒ±"),setTimeout(()=>Ke(""),1500)}catch{}},[re]),{isInitialDataLoaded:go,stickyMessage:ho,setStickyMessage:yo,handleServerSelect:ai}=Fu({isAuthenticated:e,username:c,token:n,fetchWithAuth:Me,setCategories:nt,setConversations:bn,setAllUsers:Yn,setFriendsList:$n,setCurrentUserProfile:kt,setServerOrder:Nn,setMaintenanceMode:Ot,setAuthError:br,setServerMembers:qe,API_BASE_URL:ze,ROOM_LIST_URL:Ir,CONVERSATION_LIST_URL:Va,activeChat:re,categories:ke,setActiveChat:Le}),_o=u.useRef(null),$e=pp({activeChat:re,username:c,token:n,ws:_o,encryptionKeys:pn,setMessages:un,scrollToBottom:Sn,isNearBottom:Cr,setEditingMessage:xn,setHasDraftMessage:Sr,setDraftText:kr,persistDraft:ni,setStickyMessage:yo,richTextRef:ro,fetchWithAuth:Me,currentUserProfile:Ve,getDeterministicAvatar:ut,historyCacheRef:oo,setHasMoreMessages:Mn,setMessageHistoryOffset:Wt,setIsSummaryLoading:Hs,setSummaryResult:Ks,setPinnedMessages:Bs,setConversations:bn,setMessageHistoryLoading:Nt,openModal:Oe,closeModal:Rt,API_BASE_URL:ze,MESSAGE_HISTORY_ROOM_URL:Aa,MESSAGE_HISTORY_DM_URL:za}),{ws:qn}=dp({activeChat:re,username:c,token:n,isAuthenticated:e,isInitialDataLoaded:go,fetchWithAuth:Me,scrollToBottom:Sn,isNearBottom:Cr,setMessages:un,setIsConnected:gr,historyCacheRef:oo,setHasMoreMessages:Mn,setMessageHistoryOffset:Wt,fetchMessageHistory:$e.fetchMessageHistory,setShowScrollToBottom:yn,API_BASE_URL:ze,API_HOST:Cs,WS_PROTOCOL:Ts,forwardToGlobalContext:Ee,setGlobalWsConnected:ue,setOnlineUsers:Js,setVoiceUsersState:pr,setAllUsers:Yn,setCurrentUserProfile:kt,activeChatRef:io,tokenRef:ao,usernameRef:lo,setCategories:nt,ROOM_LIST_URL:Ir,statusWsRef:so,statusWsReconnectRef:Ws,logout:s,refreshAccessToken:d,setCurrentTheme:Vn});u.useEffect(()=>{qn&&(_o.current=qn.current)},[qn]);const at=fp({activeChat:re,username:c,fetchWithAuth:Me,scrollToBottom:Sn,setMessages:un,API_BASE_URL:ze,handleDMClick:Gn,conversations:Dt,categories:ke}),pt=mp({username:c,fetchWithAuth:Me,categories:ke,allUsers:Fe,friendsList:Bt,serverMembers:gt,isAdmin:rt,currentVoiceRoom:g,setUpdateStatusText:Ke,setFriendsList:$n,setInviteToServerUser:z,API_BASE_URL:ze,handleDMClick:Gn,isInVoice:p,setServerOrder:Nn,serverOrder:It,setActiveChat:Le,setCurrentUserProfile:kt,setCategories:nt,setConversations:bn,setAllUsers:Yn,setIsInitialDataLoaded:()=>{},setAuthError:br,login:r,logout:s,setViewingProfile:ce,ABSOLUTE_HOST_URL:F,ROOM_LIST_URL:Ir}),{safeAreaTop:li}=ip({setAnimationState:mr,setShowVanityInvite:I,setShowInviteCode:xe,setMaintenanceMode:Ot,setUpdateAvailable:ht,setAllUsers:Yn,animationState:Ye,isInitialDataLoaded:go,isAuthenticated:e,username:c,messages:cr,activeChat:re,isInVoice:p,currentVoiceRoom:g,modals:Pt,statusWsRef:so,openModal:Oe,closeModal:Rt,toggleModal:qt,setActiveChat:Le,isNative:tr,isElectron:er,fetchWithAuth:Me,isNearBottom:Cr,scrollToBottom:Sn,handleMessageScroll:fo,API_BASE_URL:ze,MEDIA_BASE_URL:Ut,GOOGLE_WEB_CLIENT_ID:vs}),ci=()=>{if(er){Ie(!0),Ke("ƒ∞ndiriliyor...");const{ipcRenderer:w}=window.require("electron");w.send("start-download",`${F}/media/build/Pawscord-Setup.exe`)}else window.open(`${F}/media/build/Pawscord-Setup.exe`,"_blank")};u.useEffect(()=>{if(er){const{ipcRenderer:w}=window.require("electron"),H=(Ne,wt)=>mn(Math.round(wt*100)),q=()=>{Ke("Ba≈ülatƒ±lƒ±yor..."),mn(100),setTimeout(()=>Ke("Kapanƒ±yor..."),1500)},we=(Ne,wt)=>{Ie(!1)};return w.on("download-progress",H),w.on("download-complete",q),w.on("download-error",we),()=>{w.removeAllListeners("download-progress"),w.removeAllListeners("download-complete"),w.removeAllListeners("download-error")}}},[]);const xo=Ye!=="finished",Wn=ve&&!tr?"20px":li,bo=re.type==="room"?`room-${re.id}`:`dm-${re.id}`,di=!!pn[bo];return e?j?o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"large",text:"Davet y√ºkleniyor..."}),children:o.jsx(Du,{vanityPath:j,fetchWithAuth:Me,apiBaseUrl:ze,onClose:()=>{I(null),window.location.hash="#/"}})}):pe?o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"large",text:"Davet y√ºkleniyor..."}),children:o.jsx(Au,{inviteCode:pe,fetchWithAuth:Me,apiBaseUrl:ze,onClose:()=>{xe(null),window.location.hash="#/"}})}):o.jsxs("div",{style:{...Ce.mainContainer},className:"dark-theme",children:[xo&&o.jsx(Oo,{animationState:Ye}),Zt&&o.jsx(Ra,{message:Zt.message,endTime:Zt.endTime,level:Zt.level,onDismiss:()=>Ot(null)}),o.jsx(du,{fetchWithAuth:Me,activeChat:re,username:c,sendMessage:$e.sendMessage,sendSignal:D,ws:qn,currentUserProfile:Ve,setCurrentUserProfile:kt,currentTheme:hr,setCurrentTheme:Vn,soundSettings:Lt,setSoundSettings:Bn,encryptionKeys:pn,currentKeyId:bo,setEncryptionKey:dr,chartSymbol:Gs,setChartSymbol:vr,serverToEdit:pt.serverToEdit,setServerToEdit:pt.setServerToEdit,serverMembers:gt,friendsList:Bt,conversations:Dt,categories:ke,allUsers:Fe,pinnedMessages:Ns,isSummaryLoading:Us,summaryResult:Ys,zoomedImage:Te,setZoomedImage:je,galleryData:He,setGalleryData:Ue,viewingProfile:le,setViewingProfile:ce,isAdmin:rt,richTextRef:ro,logout:s,getDeterministicAvatar:ut,handleSendSnippet:$e.handleSendSnippet,handleDMClick:Gn,setActiveChat:Le,setConversations:bn,isMuted:b,isDeafened:_,toggleMute:v,toggleDeafened:y}),ve&&ct&&o.jsx("div",{style:Ce.mobileOverlay,onClick:()=>Ae(!1)}),ve&&Mt&&o.jsx("div",{style:Ce.mobileOverlay,onClick:()=>Ge(!1)}),o.jsx(xu,{}),o.jsxs("div",{style:Ce.chatLayout,children:[(!ve||ct)&&o.jsxs("div",{style:{...Ce.sidebarWrapper,...ve&&Ce.mobileSidebar,paddingTop:Wn,paddingBottom:$t,height:"100%",boxSizing:"border-box"},children:[ve&&o.jsxs("div",{style:Ce.mobileSidebarHeader,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("img",{src:"https://media.pawscord.com/assets/logo.png",alt:"",style:{width:"24px",height:"24px"},onError:w=>{w.target.style.display="none"}}),o.jsx("span",{style:{fontSize:"18px",fontWeight:"bold",color:"white"},children:"Pawscord"})]}),o.jsx("button",{onClick:()=>Ae(!1),style:Ce.closeSidebarButton,children:o.jsx(Rn,{})})]}),o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"medium",text:"Kanallar y√ºkleniyor..."}),children:o.jsx(Vu,{onFriendsClick:()=>Le("friends","friends"),onRoomSelect:mo,onDMSelect:(w,H)=>Le("dm",w,H),onWelcomeClick:oi,setIsLeftSidebarVisible:Ae,onProfileClick:()=>Oe("profilePanel"),onViewUserProfile:w=>{const H=Fe.find(q=>q.username===w);H&&ce(H)},onOpenStore:()=>Oe("store"),onOpenServerSettings:w=>pt.setServerToEdit(w),categories:Xs,onServerDragStart:pt.handleServerDragStart,onServerDragOver:pt.handleServerDragOver,onServerDragEnd:pt.handleServerDragEnd,onServerDrop:pt.handleServerDrop,onMoveServer:pt.handleMoveServer,conversations:Dt,allUsers:Fe,onlineUsers:Tr,serverMembers:gt,isAdmin:rt,friendsList:Bt,pendingFriendRequests:_r,currentUsername:c,currentUserProfile:Ve,getRealUserAvatar:Pr,getDeterministicAvatar:ut,unreadCounts:fr,joinVoiceChat:m,leaveVoiceChat:h,voiceUsers:ur,isConnecting:f,currentVoiceRoom:g,currentRoom:g,currentConversationId:re.type==="dm"?re.id:null,remoteVolumes:A,setRemoteVolume:K,isPttActive:M,apiBaseUrl:F,fetchWithAuth:Me,onHideConversation:$e.handleHideConversation,handleDrop:()=>{},dropTarget:Re,setDropTarget:tt,isDragging:at.isDragging,onOpenCreateGroup:()=>Oe("groupModal"),toggleMute:v,toggleDeafened:y,isMuted:b,isDeafened:_,isInVoice:p,toggleVideo:T,toggleScreenShare:P,isVideoEnabled:Z,isScreenSharing:Y,updateAvailable:hn,onUpdateClick:()=>Oe("downloadModal"),onOpenAnalytics:()=>Oe("analytics"),onOpenAdminPanel:()=>Oe("adminPanel"),onOpenPaymentPanel:()=>Oe("paymentPanel"),onOpenStoreModal:()=>Oe("storeModal"),onOpenDailyRewards:()=>Oe("dailyRewards"),onOpenAPIUsage:()=>Oe("aPIUsagePanel"),onOpenExportJobs:()=>Oe("exportJobsPanel"),onOpenScheduledAnnouncements:()=>Oe("scheduledAnnouncements"),onOpenMiniGames:()=>Oe("miniGames"),onOpenProjectCollaboration:()=>Oe("projectCollaboration"),onOpenAvatarStudio:()=>Oe("avatarStudio"),onServerSelect:ai})})]}),o.jsxs("div",{style:Ce.mainContent,children:[o.jsx("div",{style:{position:"absolute",top:60,left:0,right:0,zIndex:90},children:o.jsx(u.Suspense,{fallback:null,children:o.jsx(ju,{message:ho?.message,type:ho?.type,onDismiss:()=>yo(null)})})}),re.type==="friends"?o.jsx("div",{style:{width:"100%",height:"100%",paddingTop:Wn},children:o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"medium",text:"Arkada≈ülar y√ºkleniyor..."}),children:o.jsx(zu,{fetchWithAuth:Me,apiBaseUrl:ze,onStartDM:Gn,getDeterministicAvatar:ut,onClose:()=>Le("welcome","welcome"),onPendingCountChange:Jt,onlineUsers:Tr})})}):re.type==="welcome"?o.jsx("div",{style:{width:"100%",height:"100%"},children:o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"medium",text:"Y√ºkleniyor..."}),children:o.jsx(Lu,{isMobile:ve,onOpenMenu:()=>Ae(!0),onOpenRightMenu:()=>Ge(!0),updateAvailable:hn,isDownloading:he,downloadProgress:fn,updateStatusText:jt,onStartUpdate:ci,onSwitchToFriends:()=>{Le("friends","friends"),ve&&Ae(!1)},onSwitchToAI:()=>mo("ai"),onSwitchToCinema:()=>{Oe("cinema"),ve&&Ae(!1)}})})}):ei==="kanban"?o.jsxs("div",{style:{width:"100%",height:"100%",overflow:"hidden"},children:[o.jsx("div",{style:Ce.chatHeader,children:o.jsxs("h2",{children:["# ",vn," (Pano)"]})}),o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"medium",text:"Pano y√ºkleniyor..."}),children:o.jsx(Ou,{roomSlug:re.id,apiBaseUrl:F,fetchWithAuth:Me})})]}):re.type==="voice"&&p?o.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"#2f3136"},children:[o.jsxs("div",{style:{...Ce.chatHeader,justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[ve&&o.jsx("button",{onClick:()=>Le("welcome","welcome"),style:Ce.mobileMenuButton,children:"‚Üê"}),o.jsxs("h2",{style:{margin:0,fontSize:"1.2em"},children:["üîä ",g]})]}),o.jsx("button",{onClick:()=>{h(),Le("welcome","welcome")},style:{background:"#ed4245",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontWeight:"bold"},children:"Baƒülantƒ±yƒ± Kes"})]}),o.jsx(Vo,{roomName:g,onClose:()=>{h(),Le("welcome","welcome")},isMinimized:!1,onToggleMinimize:()=>{},getRealUserAvatar:Pr,allUsers:Fe,currentUserProfile:Ve})]}):o.jsxs("div",{style:{...Ce.chatArea,position:"relative",paddingTop:Wn,boxSizing:"border-box"},onDrop:at.handleChatDrop,onDragOver:w=>w.preventDefault(),onDragEnter:at.handleChatDragEnter,onDragLeave:at.handleChatDragLeave,children:[o.jsxs("div",{style:{...Ce.chatHeader,justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",overflow:"hidden",gap:"8px"},children:[ve&&!ct&&o.jsx("button",{onClick:()=>Ae(!0),style:{...Ce.mobileMenuButton,fontSize:"1.3em"},children:"‚ò∞"}),ve&&(re.type==="dm"||re.type==="room")&&o.jsx("button",{onClick:()=>{Le("welcome","welcome"),Ae(!1),Ge(!1)},style:{...Ce.mobileMenuButton,fontSize:"1.2em"},children:"‚Üê"}),o.jsx("h2",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:ve?"1em":"1.1em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:re.type==="dm"?`@ ${String(re.targetUser||"DM")}`:`# ${String(vn)}`}),o.jsx("div",{style:vt?Ce.connectionPillOnline:Ce.connectionPillOffline,children:vt?"‚úì":"‚úó"})]}),o.jsxs("div",{style:{display:"flex",gap:ve?"5px":"10px",alignItems:"center",flexWrap:ve?"nowrap":"wrap",position:"relative"},children:[o.jsxs("form",{onSubmit:w=>$e.handleSearchMessages(w,zn),style:Ce.searchForm,children:[o.jsx("input",{type:"text",placeholder:"Ara...",value:St,onChange:w=>mt(w.target.value),style:Ce.searchInput,ref:qs}),o.jsx(Ai,{style:Ce.searchIcon})]}),!ve&&uo.length>0&&o.jsx(Eu,{users:uo}),o.jsx("button",{onClick:()=>qt("notifications"),style:{...Ce.iconButton,color:Pt.notifications?"#5865f2":"#b9bbbe",position:"relative"},title:"Bildirimler",children:o.jsx(ms,{})}),Pt.notifications&&o.jsx("div",{style:{position:"absolute",top:"54px",right:"20px",zIndex:1e3},children:o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"small",text:""}),children:o.jsx($u,{currentUser:c,onClose:()=>Rt("notifications"),fetchWithAuth:Me,apiBaseUrl:F})})}),o.jsxs("div",{className:"toolbar-menu-container",style:{position:"relative"},children:[o.jsx("button",{onClick:()=>qt("toolbarMenu"),style:{...Ce.iconButton,color:Pt.toolbarMenu?"#5865f2":"#b9bbbe",fontSize:"1.2em",fontWeight:"bold"},title:"Daha Fazla",children:"‚ãÆ"}),Pt.toolbarMenu&&o.jsx(gp,{activeChat:re,hasKey:di,modals:Pt,soundSettings:Lt,isInVoice:p,username:c,openModal:Oe,closeModal:Rt,toggleModal:qt,handleCopyLink:ii,toggleNotifications:si,handleSummarize:$e.handleSummarize,handleClearChat:$e.handleClearChat,handleAdminDeleteConversation:$e.handleAdminDeleteConversation})]}),ve&&!Mt&&o.jsx("button",{onClick:()=>Ge(!0),style:{...Ce.mobileMenuButton,fontSize:"1.3em"},children:o.jsx($r,{})})]})]}),o.jsx("div",{style:Ce.messageBox,ref:Er,onScroll:ti,children:o.jsx(u.Suspense,{fallback:o.jsx("p",{style:Ce.systemMessage,children:"Mesajlar y√ºkleniyor..."}),children:yr?o.jsx("p",{style:Ce.systemMessage,children:"Y√ºkleniyor..."}):dt.length>50?o.jsx(Cu,{messages:dt,scrollToBottom:!0,renderMessage:(w,H)=>o.jsx(zo,{msg:w,currentUser:c,absoluteHostUrl:F,isAdmin:rt,onImageClick:je,fetchWithAuth:Me,allUsers:Fe,getDeterministicAvatar:ut,onShowChart:vr,onDelete:$e.handleDeleteMessage,onStartEdit:xn,onSetReply:Un,onToggleReaction:()=>{},onStartForward:Hn,isSelectionMode:x,isSelected:Gt.has(w.id),onToggleSelection:q=>{const we=new Set(Gt);we.has(q)?we.delete(q):we.add(q),An(we)},onScrollToMessage:$e.scrollToMessage,onViewProfile:q=>ce(Fe.find(we=>we.username===q)),onTogglePin:$e.handleTogglePin,onVisible:$e.handleMessageVisible},w.id||w.temp_id||H)}):o.jsxs(o.Fragment,{children:[(()=>{const w=[];let H=0;for(;H<dt.length;){const q=dt[H],we=q.id||q.temp_id||H,Ne=H>0?dt[H-1]:null,wt=!Ne||q.timestamp&&Ne.timestamp&&new Date(q.timestamp).toDateString()!==new Date(Ne.timestamp).toDateString();if(po(q)){const yt=[q];let We=H+1;for(;We<dt.length&&po(dt[We])&&dt[We].username===q.username&&q.timestamp&&dt[We].timestamp&&Math.abs(new Date(dt[We].timestamp)-new Date(q.timestamp))<3e5;)yt.push(dt[We]),We++;if(yt.length>=2){w.push(o.jsxs(a.Fragment,{children:[wt&&q.timestamp&&o.jsx(Ao,{date:q.timestamp}),o.jsx(Tu,{messages:yt,currentUser:c,absoluteHostUrl:F,isAdmin:rt,onOpenGallery:(Xt,Rr)=>Ue({images:Xt,startIndex:Rr}),onViewProfile:Xt=>ce(Fe.find(Rr=>Rr.username===Xt)),onDelete:$e.handleDeleteMessage,allUsers:Fe,getDeterministicAvatar:ut,fetchWithAuth:Me,onVisible:$e.handleMessageVisible})]},`gallery-${yt.map(Xt=>Xt.id||Xt.temp_id).join("-")}`)),H=We;continue}}w.push(o.jsxs(a.Fragment,{children:[wt&&q.timestamp&&o.jsx(Ao,{date:q.timestamp}),o.jsx(zo,{msg:q,currentUser:c,absoluteHostUrl:F,isAdmin:rt,onImageClick:je,fetchWithAuth:Me,allUsers:Fe,getDeterministicAvatar:ut,onShowChart:vr,onDelete:$e.handleDeleteMessage,onStartEdit:xn,onSetReply:Un,onToggleReaction:()=>{},onStartForward:Hn,isSelectionMode:x,isSelected:Gt.has(q.id),onToggleSelection:yt=>{const We=new Set(Gt);We.has(yt)?We.delete(yt):We.add(yt),An(We)},onScrollToMessage:$e.scrollToMessage,onViewProfile:yt=>ce(Fe.find(We=>We.username===yt)),onTogglePin:$e.handleTogglePin,onVisible:$e.handleMessageVisible})]},we)),H++}return w})(),o.jsx("div",{ref:wr,style:{float:"left",clear:"both",height:1}})]})})}),at.isDragging&&o.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(30, 31, 34, 0.9)",border:"3px dashed #5865f2",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:1e3},children:[o.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:"üìÅ"}),o.jsx("div",{style:{color:"#5865f2",fontSize:"1.4em",fontWeight:"bold"},children:"Dosyalarƒ± buraya bƒ±rakƒ±n"})]}),Fn&&o.jsx(vu,{onClick:()=>{Sn("smooth"),yn(!1)},unreadCount:0}),o.jsxs("div",{style:{...Ce.inputContainer,paddingBottom:tr?`calc(16px + ${$t})`:ve?"25px":"16px"},children:[at.isUploading&&at.uploadProgress>0&&o.jsx("div",{style:{position:"absolute",top:"-40px",left:"16px",right:"16px",backgroundColor:"#2b2d31",borderRadius:"8px",padding:"8px 12px",boxShadow:"0 2px 10px rgba(0,0,0,0.3)",zIndex:1001},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsxs("span",{style:{color:"#b9bbbe",fontSize:"12px",whiteSpace:"nowrap"},children:["üì§ Y√ºkleniyor: ",at.uploadProgress,"%"]}),o.jsx("div",{style:{flex:1,height:"6px",backgroundColor:"#40444b",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{width:`${at.uploadProgress}%`,height:"100%",backgroundColor:"#5865f2",borderRadius:"3px",transition:"width 0.3s ease"}})})]})}),o.jsx(u.Suspense,{fallback:o.jsx("div",{style:{padding:"12px",color:"#72767d"},children:"Y√ºkleniyor..."}),children:o.jsx(Pu,{onSendMessage:$e.sendMessage,onFileUpload:at.uploadFile,onShowCodeSnippet:()=>Oe("snippetModal"),placeholder:vn?`${re.type==="dm"?vn:`# ${vn}`} kanalƒ±na mesaj g√∂nder`:"Mesaj yaz...",disabled:at.isUploading,fetchWithAuth:Me,apiBaseUrl:F,activeChat:re,pendingFilesFromDrop:at.pendingFilesFromDrop,onClearPendingFiles:()=>at.setPendingFilesFromDrop([])})})]})]}),(!ve||Mt)&&o.jsxs("div",{style:{...Ce.chatUserListPanel,...ve?Ce.mobileRightSidebar:{},paddingTop:Wn},children:[ve&&o.jsxs("div",{style:Ce.mobileSidebarHeader,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx($r,{size:18,color:"#b9bbbe"}),o.jsx("span",{style:{fontSize:"16px",fontWeight:"bold",color:"white"},children:re.type==="room"?"Sunucu √úyeleri":"Arkada≈ülar"})]}),o.jsx("button",{onClick:()=>Ge(!1),style:Ce.closeSidebarButton,children:o.jsx(Rn,{})})]}),o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"small",text:"Kullanƒ±cƒ±lar y√ºkleniyor..."}),children:o.jsx(Mu,{chatUsers:[],allUsers:Fe,onlineUsers:Tr,currentUser:c,currentUserProfile:Ve,getDeterministicAvatar:ut,onUserClick:w=>{let H=Fe.find(q=>q.username===w);if(!H&&gt.length>0){const q=gt.find(we=>we.username===w);q&&(H={username:q.username,display_name:q.username,avatar:ut(q.username),role:q.role||"member"})}H&&ce(H)},onUserContextMenu:(w,H)=>{if(H===c)return;const q=Fe.find(we=>we.username===H);q&&U({x:w.clientX,y:w.clientY,user:q,permissions:Qs})},activeChat:re,serverMembers:gt,friendsList:Bt,onNavigate:ri})})]})]}),p&&o.jsx(u.Suspense,{fallback:null,children:o.jsx(Ru,{remoteStreams:te,remoteVolumes:A,mutedUsers:ie})}),p&&!ee&&re.type!=="voice"&&o.jsx("button",{onClick:()=>E(!0),style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9998,background:"#5865f2",color:"white",border:"none",borderRadius:"50%",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},title:"Ses Panelini A√ß",children:"üé§"}),p&&ee&&re.type!=="voice"&&o.jsx(Vo,{roomName:g,onClose:()=>E(!1),isMinimized:ae,onToggleMinimize:()=>C(!ae),getRealUserAvatar:Pr,allUsers:Fe,currentUserProfile:Ve})]}),O&&o.jsx(u.Suspense,{fallback:null,children:o.jsx(Nu,{x:O.x,y:O.y,user:O.user,currentUser:c,onClose:()=>U(null),onAction:pt.handleUserContextAction,voiceChannels:ke.flatMap(w=>(w.categories||[]).flatMap(H=>(H.rooms||[]).filter(q=>q.is_voice))),isAdmin:rt,isInVoiceRoom:p,friendsList:Bt})}),o.jsx(hp,{inviteToServerUser:Q,setInviteToServerUser:z,categories:ke,fetchWithAuth:Me,API_BASE_URL:ze})]}):o.jsxs(o.Fragment,{children:[xo&&o.jsx(Oo,{animationState:Ye}),o.jsx(u.Suspense,{fallback:o.jsx(it,{size:"large",text:"Y√ºkleniyor..."}),children:o.jsx(Iu,{onLogin:pt.handleLogin,onRegister:pt.handleRegister,error:Fs,setAuthError:br})})]})};function _p(){return o.jsx(na,{fallbackMessage:"Pawscord encountered an error. Please try refreshing the page.",children:o.jsx(Ta,{children:o.jsx(yp,{})})})}const xp=`${Qe}/auth/verify-email/`,bp=()=>{const{token:t}=cs(),e=In(),[n,r]=u.useState("loading"),[s,i]=u.useState("Hesabƒ±nƒ±z doƒürulanƒ±yor, l√ºtfen bekleyin...");return u.useEffect(()=>{if(!t){r("error"),i("Ge√ßersiz veya eksik doƒürulama kodu.");return}const d=async()=>{try{const c=await fetch(`${xp}${t}/`),p=await c.json();c.ok?(r("success"),i("√úyeliƒüiniz ba≈üarƒ±yla aktif edildi!")):(r("error"),i(p.message||"Doƒürulama ba≈üarƒ±sƒ±z oldu."))}catch{r("error"),i("Sunucuya baƒülanƒ±lamadƒ±. L√ºtfen internet baƒülantƒ±nƒ±zƒ± kontrol edin.")}};setTimeout(()=>{d()},1e3)},[t]),o.jsx("div",{style:st.container,children:o.jsxs("div",{style:st.card,children:[n==="loading"&&o.jsxs("div",{style:st.content,children:[o.jsx(gs,{className:"spin-animation",size:50,color:"#5865f2",style:{marginBottom:20}}),o.jsx("h2",{style:st.title,children:"Doƒürulanƒ±yor..."}),o.jsx("p",{style:st.text,children:s})]}),n==="success"&&o.jsxs("div",{style:st.content,children:[o.jsx(qr,{size:60,color:"#43b581",style:{marginBottom:20}}),o.jsx("h2",{style:{...st.title,color:"#43b581"},children:"Tebrikler! üéâ"}),o.jsx("p",{style:st.text,children:s}),o.jsx("p",{style:st.subText,children:"Artƒ±k Pawscord'a tam eri≈üim saƒülayabilirsin."}),o.jsx("button",{onClick:()=>e("/"),style:st.primaryButton,children:"Gƒ∞Rƒ∞≈û YAP"})]}),n==="error"&&o.jsxs("div",{style:st.content,children:[o.jsx(Wr,{size:60,color:"#f04747",style:{marginBottom:20}}),o.jsx("h2",{style:{...st.title,color:"#f04747"},children:"Hata Olu≈ütu"}),o.jsx("p",{style:st.text,children:s}),o.jsx("button",{onClick:()=>e("/"),style:st.secondaryButton,children:"Ana Sayfaya D√∂n"})]})]})})},st={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100dvh",backgroundColor:"#1e1f22",fontFamily:"'Poppins', sans-serif",padding:"20px"},card:{backgroundColor:"#2b2d31",padding:"40px",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",maxWidth:"400px",width:"100%",textAlign:"center",border:"1px solid #1f2023"},content:{display:"flex",flexDirection:"column",alignItems:"center"},title:{margin:"0 0 10px 0",color:"#fff",fontSize:"1.8em"},text:{color:"#dbdee1",fontSize:"1.1em",margin:"0 0 20px 0",lineHeight:"1.5"},subText:{color:"#949ba4",fontSize:"0.9em",marginBottom:"30px"},primaryButton:{backgroundColor:"#5865f2",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1em",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s",width:"100%"},secondaryButton:{backgroundColor:"#4f545c",color:"white",border:"none",padding:"12px 30px",borderRadius:"5px",fontSize:"1em",fontWeight:"bold",cursor:"pointer",width:"100%"}},Rs=document.createElement("style");Rs.innerText=`
  .spin-animation { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
`;document.head.appendChild(Rs);const vp=a.memo(bp),Sp=()=>{const{code:t}=cs(),e=In(),{isAuthenticated:n,token:r}=Vt(),[s,i]=u.useState(null),[d,c]=u.useState(!0),[p,f]=u.useState(""),[g,m]=u.useState(!1),[h,b]=u.useState(!1);u.useEffect(()=>{_()},[t]);const _=async()=>{c(!0),f("");try{const y=await fetch(`${Qe}/invites/${t}/`);if(!(y.headers.get("content-type")||"").includes("application/json")){f("Davet bulunamadƒ± veya ge√ßersiz"),c(!1);return}const P=await y.json();y.ok?i(P):f(P.error||"Davet bulunamadƒ±")}catch{f("Baƒülantƒ± hatasƒ±. L√ºtfen tekrar deneyin.")}c(!1)},v=async()=>{if(!n){oe.error("‚ùå L√ºtfen √∂nce giri≈ü yapƒ±n!"),sessionStorage.setItem("pending_invite",t),e("/");return}if(!r){oe.error("‚ùå Giri≈ü token'ƒ± bulunamadƒ±. L√ºtfen tekrar giri≈ü yapƒ±n."),e("/");return}m(!0),f("");try{const T=s?.type==="vanity"?`${Qe}/servers/${s.server.id}/join/`:`${Qe}/invites/${t}/accept/`,P=await fetch(T,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}}),A=await P.json();if(P.ok){oe.success(`‚úÖ Ba≈üarƒ±lƒ±! ${A.server_name||"Sunucu"}ya katƒ±ldƒ±nƒ±z!`),b(!0);const K=A.redirect||"/";setTimeout(()=>{K.startsWith("http")?window.location.href=K:e(K)},2e3)}else{const K=A.error||A.message||"Sunucuya katƒ±lma hatasƒ±";f(K),oe.error(`‚ùå Hata: ${K}`)}}catch(y){const T=y.message||"Baƒülantƒ± hatasƒ±";f(T),oe.error(`‚ùå Hata: ${T}`)}m(!1)};return d?o.jsxs("div",{style:Pe.container,children:[o.jsx("div",{style:Pe.backgroundGradient}),o.jsxs("div",{style:Pe.card,children:[o.jsx("div",{style:Pe.spinner}),o.jsx("p",{style:Pe.loadingText,children:"Davet y√ºkleniyor..."})]})]}):p?o.jsxs("div",{style:Pe.container,children:[o.jsx("div",{style:Pe.backgroundGradient}),o.jsxs("div",{style:Pe.card,children:[o.jsx(Wr,{size:64,color:"var(--error)"}),o.jsx("h2",{style:Pe.errorTitle,children:"Hata"}),o.jsx("p",{style:Pe.errorText,children:p}),o.jsx("button",{onClick:()=>e("/"),style:Pe.homeButton,children:"Ana Sayfaya D√∂n"})]})]}):h?o.jsxs("div",{style:Pe.container,children:[o.jsx("div",{style:Pe.backgroundGradient}),o.jsxs("div",{style:Pe.card,children:[o.jsx(qr,{size:64,color:"var(--success)"}),o.jsx("h2",{style:Pe.successTitle,children:"Ba≈üarƒ±lƒ±!"}),o.jsxs("p",{style:Pe.successText,children:[o.jsx("strong",{children:s.server.name})," sunucusuna katƒ±ldƒ±nƒ±z!"]}),o.jsx("p",{style:Pe.redirectText,children:"Ana sayfaya y√∂nlendiriliyorsunuz..."})]})]}):o.jsxs("div",{style:Pe.container,children:[o.jsx("div",{style:Pe.backgroundGradient}),o.jsxs("div",{style:Pe.card,children:[s.server.icon&&o.jsx("img",{src:s.server.icon,alt:s.server.name,style:Pe.serverIcon}),o.jsxs("h1",{style:Pe.serverName,children:[o.jsx(zi,{style:Pe.icon}),s.server.name]}),o.jsxs("div",{style:Pe.infoRow,children:[o.jsx($r,{style:Pe.infoIcon}),o.jsxs("span",{children:[s.server.member_count," √úye"]})]}),s.expires_at&&o.jsxs("div",{style:Pe.infoRow,children:[o.jsx(Vi,{style:Pe.infoIcon}),o.jsxs("span",{children:["S√ºre: ",new Date(s.expires_at).toLocaleString("tr-TR")]})]}),s.max_uses>0&&o.jsx("div",{style:Pe.infoRow,children:o.jsxs("span",{children:["Kullanƒ±m: ",s.uses," / ",s.max_uses]})}),o.jsxs("div",{style:Pe.inviterInfo,children:["Davet Eden: ",o.jsx("strong",{children:s.inviter.username})]}),o.jsx("button",{onClick:v,disabled:g,style:{...Pe.joinButton,...g?Pe.joinButtonDisabled:{}},children:g?"Katƒ±lƒ±nƒ±yor...":n?"Sunucuya Katƒ±l":"Giri≈ü Yap ve Katƒ±l"}),!n&&o.jsx("p",{style:Pe.loginHint,children:"* Sunucuya katƒ±lmak i√ßin giri≈ü yapmanƒ±z gerekiyor"})]})]})},Pe={container:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"var(--bg-app)",padding:"20px",position:"relative",overflow:"hidden"},backgroundGradient:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(ellipse at top, rgba(139, 92, 246, 0.15), transparent 50%), radial-gradient(ellipse at bottom, rgba(118, 75, 162, 0.15), transparent 50%)",pointerEvents:"none",zIndex:0},card:{background:"var(--glass-bg)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",padding:"48px",borderRadius:"var(--radius-2xl)",textAlign:"center",color:"var(--text-primary)",maxWidth:"560px",width:"100%",boxShadow:"var(--shadow-2xl)",border:"1px solid var(--glass-border)",position:"relative",zIndex:1,animation:"scaleIn 0.4s ease-out"},spinner:{width:"50px",height:"50px",border:"3px solid var(--glass-border)",borderTop:"3px solid var(--brand-primary)",borderRadius:"50%",animation:"spin 0.8s linear infinite",margin:"0 auto"},loadingText:{marginTop:"24px",color:"var(--text-tertiary)",fontSize:"15px",fontWeight:500},serverIcon:{width:"120px",height:"120px",borderRadius:"50%",marginBottom:"24px",objectFit:"cover",border:"4px solid var(--glass-border)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",transition:"var(--transition-normal)"},serverName:{fontSize:"32px",fontWeight:800,marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},icon:{fontSize:"28px",color:"var(--brand-primary)"},infoRow:{display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",margin:"16px 0",color:"var(--text-secondary)",fontSize:"16px",fontWeight:500,padding:"12px 20px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},infoIcon:{fontSize:"20px",color:"var(--brand-primary)"},inviterInfo:{marginTop:"24px",marginBottom:"32px",color:"var(--text-tertiary)",fontSize:"14px",padding:"16px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},joinButton:{background:"var(--gradient-primary)",color:"white",border:"none",padding:"16px 32px",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"16px",fontWeight:700,marginTop:"16px",width:"100%",transition:"var(--transition-normal)",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.4)",position:"relative",overflow:"hidden"},joinButtonDisabled:{background:"var(--bg-tertiary)",cursor:"not-allowed",opacity:.6,boxShadow:"none"},loginHint:{marginTop:"20px",fontSize:"13px",color:"var(--warning)",fontStyle:"italic",fontWeight:500},errorTitle:{color:"var(--error)",marginTop:"24px",fontSize:"28px",fontWeight:700},errorText:{color:"var(--text-tertiary)",margin:"24px 0",fontSize:"15px",lineHeight:1.6},successTitle:{color:"var(--success)",marginTop:"24px",fontSize:"28px",fontWeight:700},successText:{color:"var(--text-primary)",margin:"24px 0",fontSize:"18px",fontWeight:600},redirectText:{color:"var(--text-tertiary)",fontSize:"14px",marginTop:"12px",fontStyle:"italic"},homeButton:{background:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--glass-border)",padding:"14px 28px",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"15px",fontWeight:600,marginTop:"24px",transition:"var(--transition-normal)"}},js=document.createElement("style");js.textContent=`
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
`;document.head.appendChild(js);const No="pawscord_chunk_reload",Bo="pawscord_chunk_reload_count",kp=1e4,wp=2;function or(t){if(!t)return!1;const e=t.message||t.toString();return e.includes("Failed to fetch dynamically imported module")||e.includes("Loading chunk")||e.includes("Loading CSS chunk")||e.includes("ChunkLoadError")||e.includes("Importing a module script failed")||e.includes("error loading dynamically imported module")}function Xe(t,e=1){return a.lazy(()=>new Promise((n,r)=>{const s=i=>{t().then(n).catch(d=>{i>0&&or(d)?setTimeout(()=>s(i-1),500):(or(d)&&Is(),r(d))})};s(e)}))}function Is(){const t=sessionStorage.getItem(No),e=parseInt(sessionStorage.getItem(Bo)||"0",10),n=Date.now();e>=wp||t&&n-parseInt(t,10)<kp||(sessionStorage.setItem(No,n.toString()),sessionStorage.setItem(Bo,(e+1).toString()),window.location.reload())}function Ep(t){return or(t)?(Is(),!0):!1}const Tp=({apiBaseUrl:t})=>{const[e,n]=u.useState(!1),[r,s]=u.useState([]),[i,d]=u.useState(!1),c=u.useRef(null),p=u.useRef([]),f=u.useRef(null),{token:g}=Vt(),m=()=>{f.current?.scrollIntoView({behavior:"smooth"})};u.useEffect(()=>{m()},[r,i]);const h=async()=>{try{const v=await navigator.mediaDevices.getUserMedia({audio:!0});c.current=new MediaRecorder(v),p.current=[],c.current.ondataavailable=y=>{y.data.size>0&&p.current.push(y.data)},c.current.onstop=_,c.current.start(),n(!0)}catch{oe.error("‚ùå Mikrofon izni gerekli!")}},b=()=>{c.current&&e&&(c.current.stop(),n(!1))},_=async()=>{d(!0);const v=new Blob(p.current,{type:"audio/webm"}),y=new FormData;y.append("audio",v,"voice.webm");try{const T=await fetch(`${t}/eng-learn/voice-chat/`,{method:"POST",headers:{Authorization:`Bearer ${g}`},body:y});if(T.ok){const P=await T.json();s(K=>[...K,{sender:"user",text:P.user_text},{sender:"ai",text:P.ai_text}]),new Audio(`data:audio/mp3;base64,${P.audio_base64}`).play()}else oe.error("‚ùå Anla≈üƒ±lamadƒ± veya hata olu≈ütu.")}catch{oe.error("‚ùå Baƒülantƒ± hatasƒ±.")}finally{d(!1)}};return o.jsxs("div",{style:Et.container,children:[o.jsxs("div",{style:Et.header,children:[o.jsxs(ds,{to:"/eng-learn",style:Et.backBtn,children:[o.jsx(hs,{})," Geri"]}),o.jsx("h2",{children:"AI ile Konu≈ü (Speaking)"})]}),o.jsxs("div",{style:Et.chatArea,children:[r.length===0&&o.jsxs("div",{style:Et.emptyState,children:[o.jsx(ko,{size:60,color:"#5865f2",style:{marginBottom:20}}),o.jsx("h3",{children:"ƒ∞ngilizce Pratik Yap"}),o.jsx("p",{children:"Mikrofona basƒ±lƒ± tut ve konu≈ümaya ba≈üla."}),o.jsx("small",{style:{color:"#72767d"},children:'"Hello, how are you?" diyebilirsin.'})]}),r.map((v,y)=>o.jsxs("div",{style:{...Et.messageBubble,alignSelf:v.sender==="user"?"flex-end":"flex-start",backgroundColor:v.sender==="user"?"#5865f2":"#2b2d31",color:"white",borderBottomRightRadius:v.sender==="user"?"0":"12px",borderBottomLeftRadius:v.sender==="ai"?"0":"12px"},children:[o.jsxs("div",{style:Et.msgHeader,children:[v.sender==="user"?o.jsx(Mi,{size:12}):o.jsx(ko,{size:12}),o.jsx("span",{style:{marginLeft:5,fontSize:"0.8em",fontWeight:"bold"},children:v.sender==="user"?"Sen":"AI √ñƒüretmen"})]}),v.text]},y)),i&&o.jsx("div",{style:{alignSelf:"flex-start",color:"#949ba4",marginLeft:10,fontStyle:"italic"},children:"Yazƒ±yor ve seslendiriyor..."}),o.jsx("div",{ref:f})]}),o.jsxs("div",{style:Et.controls,children:[o.jsx("button",{onMouseDown:h,onMouseUp:b,onTouchStart:h,onTouchEnd:b,style:{...Et.micButton,backgroundColor:e?"#f04747":"#5865f2",transform:e?"scale(1.1)":"scale(1)"},children:e?o.jsx($i,{size:24}):o.jsx(ys,{size:30})}),o.jsx("p",{style:{marginTop:15,color:"#949ba4",fontSize:"0.9em"},children:e?"Dinliyor... (Bƒ±rakƒ±nca G√∂nderir)":"Basƒ±lƒ± Tut ve Konu≈ü"})]})]})},Et={container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#313338",color:"white",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif"},header:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px",borderBottom:"1px solid #1f2023",paddingBottom:"15px"},backBtn:{color:"#b9bbbe",fontSize:"1em",textDecoration:"none",display:"flex",alignItems:"center",gap:"5px",fontWeight:"600"},chatArea:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"15px",paddingBottom:"20px",paddingRight:"5px"},emptyState:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",color:"#949ba4",opacity:.8,textAlign:"center"},messageBubble:{maxWidth:"85%",padding:"15px",borderRadius:"12px",fontSize:"1em",lineHeight:"1.5",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",position:"relative"},msgHeader:{display:"flex",alignItems:"center",marginBottom:"5px",opacity:.8},controls:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"20px",borderTop:"1px solid #1f2023"},micButton:{width:"80px",height:"80px",borderRadius:"50%",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.1s ease",boxShadow:"0 5px 20px rgba(0,0,0,0.4)"}},Fo=[{text:"Hello",difficulty:"Kolay"},{text:"Water",difficulty:"Kolay"},{text:"Friend",difficulty:"Kolay"},{text:"Family",difficulty:"Kolay"},{text:"Music",difficulty:"Kolay"},{text:"School",difficulty:"Kolay"},{text:"Computer",difficulty:"Kolay"},{text:"Beautiful",difficulty:"Kolay"},{text:"Together",difficulty:"Kolay"},{text:"Morning",difficulty:"Kolay"},{text:"Happy",difficulty:"Kolay"},{text:"Garden",difficulty:"Kolay"},{text:"People",difficulty:"Kolay"},{text:"Coffee",difficulty:"Kolay"},{text:"Purple",difficulty:"Kolay"},{text:"Technology",difficulty:"Orta"},{text:"Development",difficulty:"Orta"},{text:"Environment",difficulty:"Orta"},{text:"Successfully",difficulty:"Orta"},{text:"Opportunity",difficulty:"Orta"},{text:"Government",difficulty:"Orta"},{text:"Communication",difficulty:"Orta"},{text:"Experience",difficulty:"Orta"},{text:"Available",difficulty:"Orta"},{text:"Management",difficulty:"Orta"},{text:"International",difficulty:"Orta"},{text:"Recommendation",difficulty:"Orta"},{text:"Responsibility",difficulty:"Orta"},{text:"Understand",difficulty:"Orta"},{text:"Literature",difficulty:"Orta"},{text:"Necessary",difficulty:"Orta"},{text:"Vocabulary",difficulty:"Orta"},{text:"Interesting",difficulty:"Orta"},{text:"Comfortable",difficulty:"Orta"},{text:"Vegetable",difficulty:"Orta"},{text:"Squirrel",difficulty:"Zor"},{text:"Schedule",difficulty:"Zor"},{text:"Queue",difficulty:"Zor"},{text:"Rural",difficulty:"Zor"},{text:"Brewery",difficulty:"Zor"},{text:"Phenomenon",difficulty:"Zor"},{text:"February",difficulty:"Zor"},{text:"Library",difficulty:"Zor"},{text:"Specific",difficulty:"Zor"},{text:"Regularly",difficulty:"Zor"},{text:"Probably",difficulty:"Zor"},{text:"Algorithm",difficulty:"Zor"},{text:"Hierarchical",difficulty:"Zor"},{text:"Maintenance",difficulty:"Zor"},{text:"Pronunciation",difficulty:"Zor"},{text:"Throughout",difficulty:"Zor"},{text:"Entrepreneur",difficulty:"Zor"},{text:"Simultaneously",difficulty:"Zor"},{text:"Mischievous",difficulty:"Zor"},{text:"Chaos",difficulty:"Zor"},{text:"Recipe",difficulty:"Zor"},{text:"Worcestershire",difficulty:"Efsane"},{text:"Colonel",difficulty:"Efsane"},{text:"Miscellaneous",difficulty:"Efsane"},{text:"Anesthetist",difficulty:"Efsane"},{text:"Otorhinolaryngologist",difficulty:"Efsane"},{text:"Isthmus",difficulty:"Efsane"},{text:"Anemone",difficulty:"Efsane"},{text:"Synecdoche",difficulty:"Efsane"},{text:"Onomatopoeia",difficulty:"Efsane"},{text:"Conscientious",difficulty:"Efsane"},{text:"Defibrillator",difficulty:"Efsane"},{text:"Antidisestablishmentarianism",difficulty:"Efsane"},{text:"How are you doing today?",difficulty:"C√ºmle"},{text:"I would like to order a coffee.",difficulty:"C√ºmle"},{text:"The quick brown fox jumps over the lazy dog.",difficulty:"C√ºmle"},{text:"Can you please repeat that?",difficulty:"C√ºmle"},{text:"I am learning to speak English fluently.",difficulty:"C√ºmle"},{text:"It is raining cats and dogs outside.",difficulty:"C√ºmle"},{text:"Actions speak louder than words.",difficulty:"C√ºmle"},{text:"I need to schedule a meeting for tomorrow.",difficulty:"C√ºmle"},{text:"What do you do for a living?",difficulty:"C√ºmle"},{text:"She sells seashells by the seashore.",difficulty:"Tekerleme"},{text:"Red lorry, yellow lorry.",difficulty:"Tekerleme"},{text:"Peter Piper picked a peck of pickled peppers.",difficulty:"Tekerleme"},{text:"How much wood would a woodchuck chuck?",difficulty:"Tekerleme"},{text:"Unique New York.",difficulty:"Tekerleme"},{text:"Fuzzy Wuzzy was a bear.",difficulty:"Tekerleme"},{text:"Which wristwatches are Swiss wristwatches?",difficulty:"Tekerleme"}],Cp=({apiBaseUrl:t})=>{const{token:e}=Vt(),[n,r]=u.useState(null),[s,i]=u.useState(!1),[d,c]=u.useState(!1),[p,f]=u.useState("idle"),[g,m]=u.useState(""),[h,b]=u.useState(0),_=u.useRef(null),v=u.useRef([]);u.useEffect(()=>{y()},[]);const y=()=>{const W=Math.floor(Math.random()*Fo.length);r(Fo[W]),f("idle"),m("")},T=async()=>{if(n)try{const W=await fetch(`${t}/eng-learn/speak-text/`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({text:n.text})});if(W.ok){const te=await W.json();new Audio(`data:audio/mp3;base64,${te.audio_base64}`).play()}}catch{}},P=async()=>{m(""),f("recording");try{const W=await navigator.mediaDevices.getUserMedia({audio:!0});_.current=new MediaRecorder(W),v.current=[],_.current.ondataavailable=te=>{te.data.size>0&&v.current.push(te.data)},_.current.onstop=K,_.current.start(),i(!0)}catch{oe.error("‚ùå Mikrofon izni gerekli!"),f("idle")}},A=()=>{_.current&&s&&(_.current.stop(),i(!1))},K=async()=>{c(!0);const W=new Blob(v.current,{type:"audio/webm"}),te=new FormData;te.append("audio",W,"voice.webm"),te.append("target_text",n.text);try{const D=await(await fetch(`${t}/eng-learn/check-pronunciation/`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:te})).json();D.is_correct?(f("success"),m(`Harika! üéâ (${D.spoken_text})`),b(Y=>Y+1)):(f("error"),m(`Algƒ±lanan: "${D.spoken_text||"???"}" - Tekrar dene!`))}catch{m("Sunucu hatasƒ±."),f("error")}finally{c(!1)}};return n?o.jsxs("div",{style:Ze.container,children:[o.jsxs("div",{style:Ze.header,children:[o.jsxs(ds,{to:"/eng-learn",style:Ze.backBtn,children:[o.jsx(hs,{})," √áƒ±kƒ±≈ü"]}),o.jsxs("div",{style:Ze.scoreBadge,children:["Skor: ",h]})]}),o.jsxs("div",{style:Ze.mainContent,children:[o.jsxs("div",{style:{...Ze.card,borderColor:p==="success"?"#43b581":p==="error"?"#f04747":"transparent",boxShadow:p==="success"?"0 0 30px rgba(67, 181, 129, 0.3)":p==="error"?"0 0 30px rgba(240, 71, 71, 0.3)":"0 10px 30px rgba(0,0,0,0.3)"},children:[o.jsx("span",{style:{...Ze.difficulty,backgroundColor:n.difficulty==="Efsane"?"#eb459e":n.difficulty==="Zor"?"#f04747":"#202225",color:n.difficulty==="Efsane"||n.difficulty==="Zor"?"white":"#949ba4"},children:n.difficulty}),o.jsx("h1",{style:Ze.wordText,children:n.text}),o.jsx("div",{style:{height:"30px",marginTop:"10px",color:p==="success"?"#43b581":"#f04747",fontWeight:"bold"},children:d?"Analiz ediliyor...":g}),o.jsxs("div",{style:Ze.controls,children:[o.jsx("button",{onClick:T,style:Ze.iconButton,title:"Doƒürusunu Dinle",children:o.jsx(Ni,{size:24})}),o.jsx("button",{onMouseDown:P,onMouseUp:A,onTouchStart:P,onTouchEnd:A,style:{...Ze.micButton,backgroundColor:s?"#f04747":p==="success"?"#43b581":"#5865f2",transform:s?"scale(1.1)":"scale(1)"},children:o.jsx(ys,{size:32})})]}),o.jsx("p",{style:Ze.hint,children:s?"Dinliyor...":"Mikrofona basƒ±lƒ± tut ve oku"})]}),o.jsx("div",{style:Ze.bottomNav,children:o.jsx("button",{onClick:y,style:Ze.skipButton,children:p==="success"?o.jsxs(o.Fragment,{children:["Sonraki Kelime ",o.jsx(Bi,{})]}):o.jsxs(o.Fragment,{children:["Bunu Ge√ß ",o.jsx(Fi,{})]})})})]})]}):o.jsx("div",{style:Ze.container,children:"Y√ºkleniyor..."})},Ze={container:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#1e1f22",color:"white",padding:"20px",boxSizing:"border-box",fontFamily:"Poppins, sans-serif",alignItems:"center"},header:{width:"100%",maxWidth:"600px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px"},backBtn:{color:"#b9bbbe",textDecoration:"none",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600"},scoreBadge:{backgroundColor:"#f0b232",color:"#000",padding:"5px 15px",borderRadius:"20px",fontWeight:"bold"},mainContent:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},card:{backgroundColor:"#2b2d31",padding:"40px",borderRadius:"24px",width:"100%",maxWidth:"500px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",border:"3px solid transparent",transition:"all 0.3s ease"},difficulty:{padding:"4px 12px",borderRadius:"12px",fontSize:"0.85em",marginBottom:"20px",fontWeight:"bold"},wordText:{fontSize:"2.2em",fontWeight:"800",margin:"0 0 10px 0",color:"#fff",letterSpacing:"1px",lineHeight:"1.3"},controls:{display:"flex",alignItems:"center",gap:"30px",marginTop:"30px"},iconButton:{width:"50px",height:"50px",borderRadius:"50%",border:"2px solid #40444b",backgroundColor:"transparent",color:"#b9bbbe",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},micButton:{width:"80px",height:"80px",borderRadius:"50%",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 5px 20px rgba(0,0,0,0.4)",transition:"all 0.1s ease"},hint:{marginTop:"20px",color:"#72767d",fontSize:"0.9em"},bottomNav:{marginTop:"50px"},skipButton:{background:"transparent",border:"none",color:"#b9bbbe",fontSize:"1.1em",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"10px",padding:"10px 20px",borderRadius:"8px",transition:"background 0.2s",":hover":{backgroundColor:"rgba(255,255,255,0.05)"}}},Pp=a.memo(Cp),Rp=({apiBaseUrl:t})=>{const[e,n]=u.useState("loading"),r=In(),s=ls();return u.useEffect(()=>{const i=new URLSearchParams(s.search),d=i.get("code");if(i.get("error")){n("error");return}if(d){const p=localStorage.getItem("access_token");fetch(`${t}/spotify/callback/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({code:d})}).then(f=>{f.ok?(n("success"),setTimeout(()=>{r("/",{replace:!0})},1500)):n("error")}).catch(f=>{n("error")})}},[s,t,r]),o.jsx("div",{style:Dr.container,children:o.jsxs("div",{style:Dr.card,children:[e==="loading"&&o.jsxs(o.Fragment,{children:[o.jsx(gs,{className:"spin",size:50,color:"#1db954",style:{marginBottom:20}}),o.jsx("h2",{children:"Spotify Baƒülanƒ±yor..."}),o.jsx("p",{children:"Token alƒ±nƒ±yor, l√ºtfen bekleyin."})]}),e==="success"&&o.jsxs(o.Fragment,{children:[o.jsx(qr,{size:60,color:"#1db954",style:{marginBottom:20}}),o.jsx("h2",{style:{color:"#1db954"},children:"Ba≈üarƒ±lƒ±!"}),o.jsx("p",{children:"Hesabƒ±n baƒülandƒ±. Sohbet ekranƒ±na d√∂n√ºl√ºyor..."})]}),e==="error"&&o.jsxs(o.Fragment,{children:[o.jsx(Wr,{size:60,color:"#f04747",style:{marginBottom:20}}),o.jsx("h2",{style:{color:"#f04747"},children:"Hata Olu≈ütu"}),o.jsx("p",{children:"Baƒülantƒ± kurulamadƒ±."}),o.jsx("button",{onClick:()=>r("/"),style:Dr.button,children:"Geri D√∂n"})]})]})})},Dr={container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100dvh",backgroundColor:"#191414",color:"white",fontFamily:"Poppins, sans-serif"},card:{backgroundColor:"#282828",padding:"40px",borderRadius:"16px",textAlign:"center",boxShadow:"0 10px 30px rgba(0,0,0,0.5)",maxWidth:"400px",width:"90%"},button:{marginTop:"20px",padding:"10px 20px",borderRadius:"20px",border:"none",backgroundColor:"#1db954",color:"white",fontWeight:"bold",cursor:"pointer"}},Ls=document.createElement("style");Ls.innerText=`
  .spin { animation: spin 1s linear infinite; }
  @keyframes spin { 100% { transform: rotate(360deg); } }
`;document.head.appendChild(Ls);const jp=a.memo(Rp),Ip=()=>{const{globalData:t}=Es(),[e,n]=u.useState(null),[r,s]=u.useState(!1),i=In();if(u.useEffect(()=>{if(t&&t.type==="chat_message_handler"&&t.username==="‚ö° Signal Bot"){const c=t.content.split(`
`),p=c.find(h=>h.includes("ü™ô"))||"Bilinmiyor",f=c.find(h=>h.includes("üìà"))||"",g={title:"YENƒ∞ KRƒ∞PTO Sƒ∞NYALƒ∞! üö®",coin:p.replace("ü™ô","").replace(/\*/g,"").trim(),direction:f.includes("LONG")?"Y√úKSELƒ∞≈û (LONG)":"D√ú≈û√ú≈û (SHORT)",isLong:f.includes("LONG"),raw:t};n(g),s(!0);const m=setTimeout(()=>{s(!1)},8e3);return()=>clearTimeout(m)}},[t]),!r||!e)return null;const d=()=>{s(!1),i("/")};return o.jsxs("div",{style:Tt.container,className:"slide-in-notification",children:[o.jsx("div",{style:Tt.iconBox,children:o.jsx(Ui,{size:24,color:"#f0b232"})}),o.jsxs("div",{style:Tt.content,onClick:d,children:[o.jsx("h4",{style:Tt.title,children:e.title}),o.jsxs("div",{style:Tt.details,children:[o.jsx("span",{style:Tt.coinName,children:e.coin}),o.jsx("span",{style:{...Tt.directionBadge,backgroundColor:e.isLong?"rgba(35, 165, 89, 0.2)":"rgba(240, 71, 71, 0.2)",color:e.isLong?"#23a559":"#da373c"},children:e.direction})]}),o.jsxs("span",{style:Tt.hint,children:["Detaylar i√ßin tƒ±kla ",o.jsx(Hi,{size:10})]})]}),o.jsx("button",{onClick:c=>{c.stopPropagation(),s(!1)},style:Tt.closeButton,children:o.jsx(Rn,{})})]})},Tt={container:{position:"fixed",top:"20px",right:"20px",width:"320px",backgroundColor:"#1e1f22",borderRadius:"8px",boxShadow:"0 8px 20px rgba(0,0,0,0.5)",borderLeft:"5px solid #f0b232",display:"flex",alignItems:"center",padding:"15px",zIndex:99999,cursor:"pointer",transition:"transform 0.3s ease-out"},iconBox:{marginRight:"15px",display:"flex",alignItems:"center"},content:{flex:1,display:"flex",flexDirection:"column"},title:{margin:0,color:"#fff",fontSize:"0.95em",fontWeight:"bold",marginBottom:"5px"},details:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"5px"},coinName:{color:"#dcddde",fontWeight:"bold",fontSize:"1.1em"},directionBadge:{fontSize:"0.75em",padding:"2px 6px",borderRadius:"4px",fontWeight:"bold"},hint:{fontSize:"0.7em",color:"#949ba4",display:"flex",alignItems:"center",gap:"5px"},closeButton:{background:"none",border:"none",color:"#949ba4",cursor:"pointer",padding:"5px",marginLeft:"10px",fontSize:"1em"}},Os=document.createElement("style");Os.innerText=`
  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  .slide-in-notification {
    animation: slideInRight 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  }
`;document.head.appendChild(Os);function Lp(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[s,i]=u.useState(!1),d=u.useRef(n);d.current=n;const c=u.useRef(r);return c.current=r,u.useEffect(()=>{const p=document.createElement("script");return p.src="https://accounts.google.com/gsi/client",p.async=!0,p.defer=!0,p.nonce=e,p.onload=()=>{var f;i(!0),(f=d.current)===null||f===void 0||f.call(d)},p.onerror=()=>{var f;i(!1),(f=c.current)===null||f===void 0||f.call(c)},document.body.appendChild(p),()=>{document.body.removeChild(p)}},[e]),s}const Op=u.createContext(null);function Dp({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:s}){const i=Lp({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),d=u.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return a.createElement(Op.Provider,{value:d},s)}const Be=({children:t})=>{const e=dn.isNativePlatform();return o.jsx("div",{style:{width:"100%",height:"100dvh",boxSizing:"border-box",paddingTop:e?"max(35px, env(safe-area-inset-top))":"0px",backgroundColor:"#1e1f22",overflowY:"auto",overflowX:"hidden",display:"flex",flexDirection:"column"},children:t})};class Ap extends a.Component{constructor(n){super(n);Jn(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){if(or(n)){Ep(n);return}this.setState({error:n,errorInfo:r});try{const s=typeof window<"u"&&window.__PAWSCORD_API_BASE__||"https://api.pawscord.com/api";fetch(`${s}/errors/report/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:n?.toString(),stack:n?.stack,componentStack:r?.componentStack,url:window.location.href,userAgent:navigator.userAgent,timestamp:new Date().toISOString()})}).catch(()=>{})}catch{}}render(){return this.state.hasError?o.jsx("div",{style:Ct.container,children:o.jsxs("div",{style:Ct.content,children:[o.jsx("div",{style:Ct.icon,children:"üí•"}),o.jsx("h1",{style:Ct.title,children:"Oops! Bir ≈üeyler ters gitti"}),o.jsx("p",{style:Ct.message,children:"√úzg√ºn√ºz, uygulama beklenmedik bir hatayla kar≈üƒ±la≈ütƒ±."}),o.jsxs("div",{style:Ct.actions,children:[o.jsx("button",{onClick:this.handleReset,style:Ct.button,children:"üîÑ Yeniden Ba≈ülat"}),o.jsx("button",{onClick:()=>window.location.href="/",style:{...Ct.button,...Ct.buttonSecondary},children:"üè† Ana Sayfaya D√∂n"})]}),!1]})}):this.props.children}}const Ct={container:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#1E1F22",color:"#FFFFFF",padding:"20px",fontFamily:"'Inter', sans-serif"},content:{textAlign:"center",maxWidth:"600px",padding:"40px",background:"linear-gradient(135deg, #2B2D31 0%, #1E1F22 100%)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},icon:{fontSize:"80px",marginBottom:"20px",animation:"shake 0.5s ease-in-out"},title:{fontSize:"32px",fontWeight:"bold",marginBottom:"16px",color:"#FFFFFF"},message:{fontSize:"16px",color:"#B9BBBE",marginBottom:"32px",lineHeight:"1.6"},actions:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},button:{padding:"12px 24px",fontSize:"16px",fontWeight:"600",border:"none",borderRadius:"8px",cursor:"pointer",backgroundColor:"#5865F2",color:"#FFFFFF",transition:"all 0.2s",":hover":{backgroundColor:"#4752C4"}},buttonSecondary:{backgroundColor:"#4E5058",":hover":{backgroundColor:"#6A6F78"}}},zp={async post(t,e,n={}){const r={"Content-Type":"application/json",...n.headers};try{const s=await Fr(t,{method:"POST",headers:r,body:JSON.stringify(e),credentials:"include"}),i=await s.json();if(!s.ok){const d=new Error(i.error||"Request failed");throw d.response={data:i,status:s.status},d}return{data:i,status:s.status}}catch(s){if(s.message==="No refresh token available"){const i=await fetch(t,{method:"POST",headers:r,body:JSON.stringify(e),credentials:"include"}),d=await i.json();if(!i.ok){const c=new Error(d.error||"Request failed");throw c.response={data:d,status:i.status},c}return{data:d,status:i.status}}throw s}},async get(t,e={}){const n={"Content-Type":"application/json",...e.headers};try{const r=await Fr(t,{method:"GET",headers:n,credentials:"include"}),s=await r.json();if(!r.ok){const i=new Error(s.error||"Request failed");throw i.response={data:s,status:r.status},i}return{data:s,status:r.status}}catch(r){if(r.message==="No refresh token available"){const s=await fetch(t,{method:"GET",headers:n,credentials:"include"}),i=await s.json();if(!s.ok){const d=new Error(i.error||"Request failed");throw d.response={data:i,status:s.status},d}return{data:i,status:s.status}}throw r}}},Vp=({apiBaseUrl:t})=>{const[e]=hi(),n=In(),{login:r}=Vt(),[s,i]=u.useState("processing"),[d,c]=u.useState(null),p=u.useRef(!1);return u.useEffect(()=>{(async()=>{if(p.current)return;p.current=!0;const g=e.get("code"),m=e.get("access_token"),h=e.get("refresh_token"),b=e.get("error"),_=e.get("needs_password")==="true";if(b){i("error"),c("Google giri≈ü ba≈üarƒ±sƒ±z oldu. L√ºtfen tekrar deneyin."),setTimeout(()=>n("/"),3e3);return}if(m&&h){try{localStorage.setItem("access_token",m),localStorage.setItem("refresh_token",h),r&&await r(m,h),i("success"),setTimeout(()=>{n(_?"/settings?section=security&action=set-password":"/")},1500)}catch{i("error"),c("Token i≈üleme hatasƒ±."),setTimeout(()=>n("/"),3e3)}return}if(!g){i("error"),c("Yetkilendirme bilgisi bulunamadƒ±."),setTimeout(()=>n("/"),3e3);return}try{i("exchanging");const v=`${t}/auth/exchange-code/`,y=await zp.post(v,{code:g});if(y.data.success){const{access_token:T,refresh_token:P,user_id:A,needs_password:K}=y.data;localStorage.setItem("access_token",T),localStorage.setItem("refreshToken",P),r&&await r(T,P),i("success"),setTimeout(K?()=>{n("/settings?section=security&action=set-password")}:()=>{n("/")},1500)}else throw new Error(y.data.error||"Token exchange failed")}catch(v){i("error"),c(v.response?.data?.error||"Giri≈ü i≈ülemi ba≈üarƒ±sƒ±z oldu."),setTimeout(()=>n("/"),3e3)}})()},[e,n,r,t]),o.jsx("div",{className:"auth-callback-container",children:o.jsxs("div",{className:"auth-callback-card",children:[s==="processing"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"auth-spinner"}),o.jsx("h2",{children:"ƒ∞≈üleniyor..."}),o.jsx("p",{children:"Google hesabƒ±nƒ±z doƒürulanƒ±yor"})]}),s==="exchanging"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"auth-spinner"}),o.jsx("h2",{children:"Giri≈ü Yapƒ±lƒ±yor..."}),o.jsx("p",{children:"G√ºvenli baƒülantƒ± kuruluyor"})]}),s==="success"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"auth-success-icon",children:"‚úì"}),o.jsx("h2",{children:"Giri≈ü Ba≈üarƒ±lƒ±!"}),o.jsx("p",{children:"Y√∂nlendiriliyorsunuz..."})]}),s==="error"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"auth-error-icon",children:"‚úï"}),o.jsx("h2",{children:"Hata"}),o.jsx("p",{children:d}),o.jsx("p",{className:"auth-redirect-text",children:"Ana sayfaya y√∂nlendiriliyorsunuz..."})]})]})})},ge=t=>typeof t=="string",En=()=>{let t,e;const n=new Promise((r,s)=>{t=r,e=s});return n.resolve=t,n.reject=e,n},Uo=t=>t==null?"":""+t,Mp=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},$p=/###/g,Ho=t=>t&&t.indexOf("###")>-1?t.replace($p,"."):t,Yo=t=>!t||ge(t),Cn=(t,e,n)=>{const r=ge(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(Yo(t))return{};const i=Ho(r[s]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++s}return Yo(t)?{}:{obj:t,k:Ho(r[s])}},Ko=(t,e,n)=>{const{obj:r,k:s}=Cn(t,e,Object);if(r!==void 0||e.length===1){r[s]=n;return}let i=e[e.length-1],d=e.slice(0,e.length-1),c=Cn(t,d,Object);for(;c.obj===void 0&&d.length;)i=`${d[d.length-1]}.${i}`,d=d.slice(0,d.length-1),c=Cn(t,d,Object),c?.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=n},Np=(t,e,n,r)=>{const{obj:s,k:i}=Cn(t,e,Object);s[i]=s[i]||[],s[i].push(n)},sr=(t,e)=>{const{obj:n,k:r}=Cn(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Bp=(t,e,n)=>{const r=sr(t,n);return r!==void 0?r:sr(e,n)},Ds=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ge(t[r])||t[r]instanceof String||ge(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Ds(t[r],e[r],n):t[r]=e[r]);return t},rn=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Fp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Up=t=>ge(t)?t.replace(/[&<>"'\/]/g,e=>Fp[e]):t;class Hp{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Yp=[" ",",","?","!",";"],Kp=new Hp(20),Gp=(t,e,n)=>{e=e||"",n=n||"";const r=Yp.filter(d=>e.indexOf(d)<0&&n.indexOf(d)<0);if(r.length===0)return!0;const s=Kp.getRegExp(`(${r.map(d=>d==="?"?"\\?":d).join("|")})`);let i=!s.test(t);if(!i){const d=t.indexOf(n);d>0&&!s.test(t.substring(0,d))&&(i=!0)}return i},Kr=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let s=t;for(let i=0;i<r.length;){if(!s||typeof s!="object")return;let d,c="";for(let p=i;p<r.length;++p)if(p!==i&&(c+=n),c+=r[p],d=s[c],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&p<r.length-1)continue;i+=p-i+1;break}s=d}return s},jn=t=>t?.replace("_","-"),qp={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class ir{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||qp,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,s){return s&&!this.debug?null:(ge(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ir(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ir(this.logger,e)}}var xt=new ir;class lr{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,i])=>{for(let d=0;d<i;d++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,i])=>{for(let d=0;d<i;d++)s.apply(s,[e,...n])})}}class Go extends lr{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,s={}){const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,d=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],r&&(Array.isArray(r)?c.push(...r):ge(r)&&i?c.push(...r.split(i)):c.push(r)));const p=sr(this.data,c);return!p&&!n&&!r&&e.indexOf(".")>-1&&(e=c[0],n=c[1],r=c.slice(2).join(".")),p||!d||!ge(r)?p:Kr(this.data?.[e]?.[n],r,i)}addResource(e,n,r,s,i={silent:!1}){const d=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[e,n];r&&(c=c.concat(d?r.split(d):r)),e.indexOf(".")>-1&&(c=e.split("."),s=n,n=c[1]),this.addNamespaces(n),Ko(this.data,c,s),i.silent||this.emit("added",e,n,r,s)}addResources(e,n,r,s={silent:!1}){for(const i in r)(ge(r[i])||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});s.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,s,i,d={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),s=r,r=n,n=c[1]),this.addNamespaces(n);let p=sr(this.data,c)||{};d.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?Ds(p,r,i):p={...p,...r},Ko(this.data,c,p),d.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var As={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,s){return t.forEach(i=>{e=this.processors[i]?.process(e,n,r,s)??e}),e}};const zs=Symbol("i18next/PATH_KEY");function Wp(){const t=[],e=Object.create(null);let n;return e.get=(r,s)=>(n?.revoke?.(),s===zs?t:(t.push(s),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Gr(t,e){const{[zs]:n}=t(Wp());return n.join(e?.keySeparator??".")}const qo={},Ar=t=>!ge(t)&&typeof t!="boolean"&&typeof t!="number";class ar extends lr{constructor(e,n={}){super(),Mp(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=xt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const s=this.resolve(e,r);if(s?.res===void 0)return!1;const i=Ar(s.res);return!(r.returnObjects===!1&&i)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const d=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Gp(e,r,s);if(d&&!c){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:ge(i)?[i]:i};const f=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(f[0])>-1)&&(i=f.shift()),e=f.join(s)}return{key:e,namespaces:ge(i)?[i]:i}}translate(e,n,r){let s=typeof n=="object"?{...n}:n;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";typeof e=="function"&&(e=Gr(e,{...this.options,...s})),Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,d=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:p}=this.extractFromKey(e[e.length-1],s),f=p[p.length-1];let g=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const m=s.lng||this.language,h=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(m?.toLowerCase()==="cimode")return h?i?{res:`${f}${g}${c}`,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(s)}:`${f}${g}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:m,usedNS:f,usedParams:this.getUsedParamsDetails(s)}:c;const b=this.resolve(e,s);let _=b?.res;const v=b?.usedKey||c,y=b?.exactUsedKey||c,T=["[object Number]","[object Function]","[object RegExp]"],P=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,K=s.count!==void 0&&!ge(s.count),W=ar.hasDefaultValue(s),te=K?this.pluralResolver.getSuffix(m,s.count,s):"",_e=s.ordinal&&K?this.pluralResolver.getSuffix(m,s.count,{ordinal:!1}):"",D=K&&!s.ordinal&&s.count===0,Y=D&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${te}`]||s[`defaultValue${_e}`]||s.defaultValue;let Z=_;A&&!_&&W&&(Z=Y);const M=Ar(Z),$=Object.prototype.toString.apply(Z);if(A&&Z&&M&&T.indexOf($)<0&&!(ge(P)&&Array.isArray(Z))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,Z,{...s,ns:p}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(b.res=k,b.usedParams=this.getUsedParamsDetails(s),b):k}if(d){const k=Array.isArray(Z),R=k?[]:{},L=k?y:v;for(const B in Z)if(Object.prototype.hasOwnProperty.call(Z,B)){const X=`${L}${d}${B}`;W&&!_?R[B]=this.translate(X,{...s,defaultValue:Ar(Y)?Y[B]:void 0,joinArrays:!1,ns:p}):R[B]=this.translate(X,{...s,joinArrays:!1,ns:p}),R[B]===X&&(R[B]=Z[B])}_=R}}else if(A&&ge(P)&&Array.isArray(_))_=_.join(P),_&&(_=this.extendTranslation(_,e,s,r));else{let k=!1,R=!1;!this.isValidLookup(_)&&W&&(k=!0,_=Y),this.isValidLookup(_)||(R=!0,_=c);const B=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&R?void 0:_,X=W&&Y!==_&&this.options.updateMissing;if(R||k||X){if(this.logger.log(X?"updateKey":"missingKey",m,f,c,X?Y:_),d){const ie=this.resolve(c,{...s,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let J=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let ie=0;ie<de.length;ie++)J.push(de[ie]);else this.options.saveMissingTo==="all"?J=this.languageUtils.toResolveHierarchy(s.lng||this.language):J.push(s.lng||this.language);const G=(ie,fe,ee)=>{const E=W&&ee!==_?ee:B;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,f,fe,E,X,s):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ie,f,fe,E,X,s),this.emit("missingKey",ie,f,fe,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?J.forEach(ie=>{const fe=this.pluralResolver.getSuffixes(ie,s);D&&s[`defaultValue${this.options.pluralSeparator}zero`]&&fe.indexOf(`${this.options.pluralSeparator}zero`)<0&&fe.push(`${this.options.pluralSeparator}zero`),fe.forEach(ee=>{G([ie],c+ee,s[`defaultValue${ee}`]||Y)})}):G(J,c,Y))}_=this.extendTranslation(_,e,s,b,r),R&&_===c&&this.options.appendNamespaceToMissingKey&&(_=`${f}${g}${c}`),(R||k)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}${g}${c}`:c,k?_:void 0,s))}return i?(b.res=_,b.usedParams=this.getUsedParamsDetails(s),b):_}extendTranslation(e,n,r,s,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=ge(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(p){const m=e.match(this.interpolator.nestingRegexp);f=m&&m.length}let g=r.replace&&!ge(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||s.usedLng,r),p){const m=e.match(this.interpolator.nestingRegexp),h=m&&m.length;f<h&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...m)=>i?.[0]===m[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):this.translate(...m,n),r)),r.interpolation&&this.interpolator.reset()}const d=r.postProcess||this.options.postProcess,c=ge(d)?[d]:d;return e!=null&&c?.length&&r.applyPostProcessor!==!1&&(e=As.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,s,i,d,c;return ge(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(r))return;const f=this.extractFromKey(p,n),g=f.key;s=g;let m=f.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const h=n.count!==void 0&&!ge(n.count),b=h&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(ge(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);m.forEach(y=>{this.isValidLookup(r)||(c=y,!qo[`${v[0]}-${y}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(qo[`${v[0]}-${y}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(T=>{if(this.isValidLookup(r))return;d=T;const P=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(P,g,T,y,n);else{let K;h&&(K=this.pluralResolver.getSuffix(T,n.count,n));const W=`${this.options.pluralSeparator}zero`,te=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&K.indexOf(te)===0&&P.push(g+K.replace(te,this.options.pluralSeparator)),P.push(g+K),b&&P.push(g+W)),_){const _e=`${g}${this.options.contextSeparator||"_"}${n.context}`;P.push(_e),h&&(n.ordinal&&K.indexOf(te)===0&&P.push(_e+K.replace(te,this.options.pluralSeparator)),P.push(_e+K),b&&P.push(_e+W))}}let A;for(;A=P.pop();)this.isValidLookup(r)||(i=A,r=this.getResource(T,y,A,n))}))})}),{res:r,usedKey:s,exactUsedKey:i,usedLng:d,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,s={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,s):this.resourceStore.getResource(e,n,r,s)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ge(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const i of n)delete s[i]}return s}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class Wo{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xt.create("languageUtils")}getScriptPartFromCode(e){if(e=jn(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=jn(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ge(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(d=>{if(d===i)return d;if(!(d.indexOf("-")<0&&i.indexOf("-")<0)&&(d.indexOf("-")>0&&i.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===i||d.indexOf(i)===0&&i.length>1))return d})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ge(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),s=[],i=d=>{d&&(this.isSupportedCode(d)?s.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return ge(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):ge(e)&&i(this.formatLanguageCode(e)),r.forEach(d=>{s.indexOf(d)<0&&i(this.formatLanguageCode(d))}),s}}const Jo={zero:0,one:1,two:2,few:3,many:4,other:5},Zo={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Jp{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=xt.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=jn(e==="dev"?"en":e),s=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:s});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let d;try{d=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Zo;if(!e.match(/-|_/))return Zo;const p=this.languageUtils.getLanguagePartFromCode(e);d=this.getRule(p,n)}return this.pluralRulesCache[i]=d,d}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(s=>`${n}${s}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,i)=>Jo[s]-Jo[i]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,n,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const Qo=(t,e,n,r=".",s=!0)=>{let i=Bp(t,e,n);return!i&&s&&ge(n)&&(i=Kr(t,n,r),i===void 0&&(i=Kr(e,n,r))),i},zr=t=>t.replace(/\$/g,"$$$$");class Xo{constructor(e={}){this.logger=xt.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:i,prefixEscaped:d,suffix:c,suffixEscaped:p,formatSeparator:f,unescapeSuffix:g,unescapePrefix:m,nestingPrefix:h,nestingPrefixEscaped:b,nestingSuffix:_,nestingSuffixEscaped:v,nestingOptionsSeparator:y,maxReplaces:T,alwaysFormat:P}=e.interpolation;this.escape=n!==void 0?n:Up,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=i?rn(i):d||"{{",this.suffix=c?rn(c):p||"}}",this.formatSeparator=f||",",this.unescapePrefix=g?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=h?rn(h):b||rn("$t("),this.nestingSuffix=_?rn(_):v||rn(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=T||1e3,this.alwaysFormat=P!==void 0?P:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,s){let i,d,c;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=b=>{if(b.indexOf(this.formatSeparator)<0){const T=Qo(n,p,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(T,void 0,r,{...s,...n,interpolationkey:b}):T}const _=b.split(this.formatSeparator),v=_.shift().trim(),y=_.join(this.formatSeparator).trim();return this.format(Qo(n,p,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...s,...n,interpolationkey:v})};this.resetRegExp();const g=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>zr(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?zr(this.escape(b)):zr(b)}].forEach(b=>{for(c=0;i=b.regex.exec(e);){const _=i[1].trim();if(d=f(_),d===void 0)if(typeof g=="function"){const y=g(e,i,s);d=ge(y)?y:""}else if(s&&Object.prototype.hasOwnProperty.call(s,_))d="";else if(m){d=i[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),d="";else!ge(d)&&!this.useRawValueToEscape&&(d=Uo(d));const v=b.safeValue(d);if(e=e.replace(i[0],v),m?(b.regex.lastIndex+=d.length,b.regex.lastIndex-=i[0].length):b.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,r={}){let s,i,d;const c=(p,f)=>{const g=this.nestingOptionsSeparator;if(p.indexOf(g)<0)return p;const m=p.split(new RegExp(`${g}[ ]*{`));let h=`{${m[1]}`;p=m[0],h=this.interpolate(h,d);const b=h.match(/'/g),_=h.match(/"/g);((b?.length??0)%2===0&&!_||_.length%2!==0)&&(h=h.replace(/'/g,'"'));try{d=JSON.parse(h),f&&(d={...f,...d})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,v),`${p}${g}${h}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,p};for(;s=this.nestingRegexp.exec(e);){let p=[];d={...r},d=d.replace&&!ge(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const f=/{.*}/.test(s[1])?s[1].lastIndexOf("}")+1:s[1].indexOf(this.formatSeparator);if(f!==-1&&(p=s[1].slice(f).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),s[1]=s[1].slice(0,f)),i=n(c.call(this,s[1].trim(),d),d),i&&s[0]===e&&!ge(i))return i;ge(i)||(i=Uo(i)),i||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),i=""),p.length&&(i=p.reduce((g,m)=>this.format(g,m,r.lng,{...r,interpolationkey:s[1].trim()}),i.trim())),e=e.replace(s[0],i),this.regexp.lastIndex=0}return e}}const Zp=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(d=>{if(d){const[c,...p]=d.split(":"),f=p.join(":").trim().replace(/^'+|'+$/g,""),g=c.trim();n[g]||(n[g]=f),f==="false"&&(n[g]=!1),f==="true"&&(n[g]=!0),isNaN(f)||(n[g]=parseInt(f,10))}})}return{formatName:e,formatOptions:n}},es=t=>{const e={};return(n,r,s)=>{let i=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(i={...i,[s.interpolationkey]:void 0});const d=r+JSON.stringify(i);let c=e[d];return c||(c=t(jn(r),s),e[d]=c),c(n)}},Qp=t=>(e,n,r)=>t(jn(n),r)(e);class Xp{constructor(e={}){this.logger=xt.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?es:Qp;this.formats={number:r((s,i)=>{const d=new Intl.NumberFormat(s,{...i});return c=>d.format(c)}),currency:r((s,i)=>{const d=new Intl.NumberFormat(s,{...i,style:"currency"});return c=>d.format(c)}),datetime:r((s,i)=>{const d=new Intl.DateTimeFormat(s,{...i});return c=>d.format(c)}),relativetime:r((s,i)=>{const d=new Intl.RelativeTimeFormat(s,{...i});return c=>d.format(c,i.range||"day")}),list:r((s,i)=>{const d=new Intl.ListFormat(s,{...i});return c=>d.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=es(n)}format(e,n,r,s={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(p=>p.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,p)=>{const{formatName:f,formatOptions:g}=Zp(p);if(this.formats[f]){let m=c;try{const h=s?.formatParams?.[s.interpolationkey]||{},b=h.locale||h.lng||s.locale||s.lng||r;m=this.formats[f](c,b,{...g,...s,...h})}catch(h){this.logger.warn(h)}return m}else this.logger.warn(`there was no format function for ${f}`);return c},e)}}const ef=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class tf extends lr{constructor(e,n,r,s={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=xt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(e,n,r,s){const i={},d={},c={},p={};return e.forEach(f=>{let g=!0;n.forEach(m=>{const h=`${f}|${m}`;!r.reload&&this.store.hasResourceBundle(f,m)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?d[h]===void 0&&(d[h]=!0):(this.state[h]=1,g=!1,d[h]===void 0&&(d[h]=!0),i[h]===void 0&&(i[h]=!0),p[m]===void 0&&(p[m]=!0)))}),g||(c[f]=!0)}),(Object.keys(i).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(i),pending:Object.keys(d),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(p)}}loaded(e,n,r){const s=e.split("|"),i=s[0],d=s[1];n&&this.emit("failedLoading",i,d,n),!n&&r&&this.store.addResourceBundle(i,d,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const c={};this.queue.forEach(p=>{Np(p.loaded,[i],d),ef(p,e),n&&p.errors.push(n),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(f=>{c[f]||(c[f]={});const g=p.loaded[f];g.length&&g.forEach(m=>{c[f][m]===void 0&&(c[f][m]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(p=>!p.done)}read(e,n,r,s=0,i=this.retryTimeout,d){if(!e.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:s,wait:i,callback:d});return}this.readingCalls++;const c=(f,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(f&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,s+1,i*2,d)},i);return}d(f,g)},p=this.backend[r].bind(this.backend);if(p.length===2){try{const f=p(e,n);f&&typeof f.then=="function"?f.then(g=>c(null,g)).catch(c):c(null,f)}catch(f){c(f)}return}return p(e,n,c)}prepareLoading(e,n,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ge(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ge(n)&&(n=[n]);const i=this.queueLoad(e,n,r,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach(d=>{this.loadOne(d)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),s=r[0],i=r[1];this.read(s,i,"read",void 0,void 0,(d,c)=>{d&&this.logger.warn(`${n}loading namespace ${i} for language ${s} failed`,d),!d&&c&&this.logger.log(`${n}loaded namespace ${i} for language ${s}`,c),this.loaded(e,d,c)})}saveMissing(e,n,r,s,i,d={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const p={...d,isUpdate:i},f=this.backend.create.bind(this.backend);if(f.length<6)try{let g;f.length===5?g=f(e,n,r,s,p):g=f(e,n,r,s),g&&typeof g.then=="function"?g.then(m=>c(null,m)).catch(c):c(null,g)}catch(g){c(g)}else f(e,n,r,s,c,p)}!e||!e[0]||this.store.addResource(e[0],n,r,s)}}}const Vr=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ge(t[1])&&(e.defaultValue=t[1]),ge(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ts=t=>(ge(t.ns)&&(t.ns=[t.ns]),ge(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ge(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Xn=()=>{},nf=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},rf=t=>!!(t?.modules?.backend?.name?.indexOf("Locize")>0||t?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||t?.options?.backend?.backends&&t.options.backend.backends.some(e=>e?.name?.indexOf("Locize")>0||e?.constructor?.name?.indexOf("Locize")>0));class Pn extends lr{constructor(e={},n){if(super(),this.options=ts(e),this.services={},this.logger=xt,this.modules={external:[]},nf(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ge(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Vr();this.options={...r,...this.options,...ts(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&rf(this);const s=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?xt.init(s(this.modules.logger),this.options):xt.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Xp;const g=new Wo(this.options);this.store=new Go(this.options.resources,this.options);const m=this.services;m.logger=xt,m.resourceStore=this.store,m.languageUtils=g,m.pluralResolver=new Jp(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),f&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(m.formatter=s(f),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Xo(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new tf(s(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.languageDetector&&(m.languageDetector=s(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=s(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new ar(this.services,this.options),this.translator.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Xn),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=(...g)=>this.store[f](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=(...g)=>(this.store[f](...g),this)});const c=En(),p=()=>{const f=(g,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),n(g,m)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),c}loadResources(e,n=Xn){let r=n;const s=ge(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],d=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&i.indexOf(f)<0&&i.push(f)})};s?d(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>d(p)),this.options.preload?.forEach?.(c=>d(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const s=En();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Xn),this.services.backendConnector.reload(e,n,i=>{s.resolve(),r(i)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&As.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=En();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,p)=>{p?this.isLanguageChangingTo===e&&(s(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,r.resolve((...f)=>this.t(...f)),n&&n(c,(...f)=>this.t(...f))},d=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const p=ge(c)?c:c&&c[0],f=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(ge(c)?[c]:c);f&&(this.language||s(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector?.cacheUserLanguage?.(f)),this.loadResources(f,g=>{i(g,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),r}getFixedT(e,n,r){const s=(i,d,...c)=>{let p;typeof d!="object"?p=this.options.overloadTranslationOptionHandler([i,d].concat(c)):p={...d},p.lng=p.lng||s.lng,p.lngs=p.lngs||s.lngs,p.ns=p.ns||s.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||r||s.keyPrefix);const f=this.options.keySeparator||".";let g;return p.keyPrefix&&Array.isArray(i)?g=i.map(m=>(typeof m=="function"&&(m=Gr(m,{...this.options,...d})),`${p.keyPrefix}${f}${m}`)):(typeof i=="function"&&(i=Gr(i,{...this.options,...d})),g=p.keyPrefix?`${p.keyPrefix}${f}${i}`:i),this.t(g,p)};return ge(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const d=(c,p)=>{const f=this.services.backendConnector.state[`${c}|${p}`];return f===-1||f===0||f===2};if(n.precheck){const c=n.precheck(this,d);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(r,e)&&(!s||d(i,e)))}loadNamespaces(e,n){const r=En();return this.options.ns?(ge(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=En();ge(e)&&(e=[e]);const s=this.options.preload||[],i=e.filter(d=>s.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return i.length?(this.options.preload=s.concat(i),this.loadResources(d=>{r.resolve(),n&&n(d)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Wo(Vr());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Pn(e,n);return r.createInstance=Pn.createInstance,r}cloneInstance(e={},n=Xn){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},i=new Pn(s);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const c=Object.keys(this.store.data).reduce((p,f)=>(p[f]={...this.store.data[f]},p[f]=Object.keys(p[f]).reduce((g,m)=>(g[m]={...p[f][m]},g),p[f]),p),{});i.store=new Go(c,s),i.services.resourceStore=i.store}if(e.interpolation){const p={...Vr().interpolation,...this.options.interpolation,...e.interpolation},f={...s,interpolation:p};i.services.interpolator=new Xo(f)}return i.translator=new ar(i.services,s),i.translator.on("*",(c,...p)=>{i.emit(c,...p)}),i.init(s,n),i.translator.options=s,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const et=Pn.createInstance();et.createInstance;et.dir;et.init;et.loadResources;et.reloadResources;et.use;et.changeLanguage;et.getFixedT;et.t;et.exists;et.setDefaultNamespace;et.hasLoadedNamespace;et.loadNamespaces;et.loadLanguages;const of=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,sf={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"¬©","&#169;":"¬©","&reg;":"¬Æ","&#174;":"¬Æ","&hellip;":"‚Ä¶","&#8230;":"‚Ä¶","&#x2F;":"/","&#47;":"/"},af=t=>sf[t],lf=t=>t.replace(of,af);let ns={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:lf,transDefaultProps:void 0};const cf=(t={})=>{ns={...ns,...t}},df={type:"3rdParty",init(t){cf(t.options.react)}},{slice:uf,forEach:pf}=[];function ff(t){return pf.call(uf.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function mf(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const rs=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,gf=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(e);let i=`${t}=${s}`;if(r.maxAge>0){const d=r.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(d)}`}if(r.domain){if(!rs.test(r.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${r.domain}`}if(r.path){if(!rs.test(r.path))throw new TypeError("option path is invalid");i+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i},os={create(t,e,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),r&&(s.domain=r),document.cookie=gf(t,e,s)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let s=n[r];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var hf={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return os.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:s,cookieOptions:i}=e;n&&typeof document<"u"&&os.create(n,t,r,s,i)}},yf={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const i=r.substring(1).split("&");for(let d=0;d<i.length;d++){const c=i[d].indexOf("=");c>0&&i[d].substring(0,c)===e&&(n=i[d].substring(c+1))}}return n}},_f={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const i=s.substring(1);if(e){const d=i.split("&");for(let c=0;c<d.length;c++){const p=d[c].indexOf("=");p>0&&d[c].substring(0,p)===e&&(r=d[c].substring(p+1))}}if(r)return r;if(!r&&n>-1){const d=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let on=null;const ss=()=>{if(on!==null)return on;try{if(on=typeof window<"u"&&window.localStorage!==null,!on)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{on=!1}return on};var xf={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&ss())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&ss()&&window.localStorage.setItem(n,t)}};let sn=null;const is=()=>{if(sn!==null)return sn;try{if(sn=typeof window<"u"&&window.sessionStorage!==null,!sn)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{sn=!1}return sn};var bf={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&is())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&is()&&window.sessionStorage.setItem(n,t)}},vf={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:s}=navigator;if(n)for(let i=0;i<n.length;i++)e.push(n[i]);r&&e.push(r),s&&e.push(s)}return e.length>0?e:void 0}},Sf={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},kf={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},wf={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let Vs=!1;try{document.cookie,Vs=!0}catch{}const Ms=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Vs||Ms.splice(1,1);const Ef=()=>({order:Ms,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class $s{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=ff(n,this.options||{},Ef()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(hf),this.addDetector(yf),this.addDetector(xf),this.addDetector(bf),this.addDetector(vf),this.addDetector(Sf),this.addDetector(kf),this.addDetector(wf),this.addDetector(_f)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let s=this.detectors[r].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(r=>r!=null&&!mf(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}$s.type="languageDetector";const Tf={loading:"Y√ºkleniyor...",save:"Kaydet",cancel:"ƒ∞ptal",delete:"Sil",edit:"D√ºzenle",close:"Kapat",confirm:"Onayla",search:"Ara",send:"G√∂nder",copy:"Kopyala",copied:"Kopyalandƒ±!",back:"Geri",next:"ƒ∞leri",yes:"Evet",no:"Hayƒ±r",ok:"Tamam",error:"Hata",success:"Ba≈üarƒ±lƒ±",warning:"Uyarƒ±",info:"Bilgi",retry:"Tekrar Dene",logout:"√áƒ±kƒ±≈ü Yap",settings:"Ayarlar",profile:"Profil",online:"√áevrimi√ßi",offline:"√áevrimdƒ±≈üƒ±",idle:"Bo≈üta",dnd:"Rahatsƒ±z Etmeyin",invisible:"G√∂r√ºnmez",members:"√úyeler",channels:"Kanallar",roles:"Roller",server:"Sunucu",invite:"Davet Et",upload:"Y√ºkle",download:"ƒ∞ndir",mute:"Sessize Al",unmute:"Sesi A√ß",deafen:"Saƒüƒ±rla≈ütƒ±r",undeafen:"Saƒüƒ±rlƒ±ƒüƒ± Kaldƒ±r",ban:"Yasakla",kick:"At",block:"Engelle",unblock:"Engeli Kaldƒ±r",report:"≈ûikayet Et"},Cf={login:"Giri≈ü Yap",register:"Kayƒ±t Ol",email:"E-posta",password:"≈ûifre",confirmPassword:"≈ûifre Tekrar",username:"Kullanƒ±cƒ± Adƒ±",forgotPassword:"≈ûifreni mi unuttun?",loginWith:"ile Giri≈ü Yap",registerWith:"ile Kayƒ±t Ol",orContinueWith:"veya ≈üununla devam et",alreadyHaveAccount:"Zaten hesabƒ±n var mƒ±?",dontHaveAccount:"Hesabƒ±n yok mu?",loginSuccess:"Giri≈ü ba≈üarƒ±lƒ±!",registerSuccess:"Kayƒ±t ba≈üarƒ±lƒ±!",invalidCredentials:"Ge√ßersiz e-posta veya ≈üifre",emailRequired:"E-posta gerekli",passwordRequired:"≈ûifre gerekli",passwordTooShort:"≈ûifre en az 8 karakter olmalƒ±",passwordsDoNotMatch:"≈ûifreler e≈üle≈ümiyor",emailAlreadyInUse:"Bu e-posta zaten kullanƒ±mda",usernameAlreadyInUse:"Bu kullanƒ±cƒ± adƒ± zaten alƒ±nmƒ±≈ü",verifyEmail:"E-postanƒ±zƒ± doƒürulayƒ±n",verifyEmailSent:"Doƒürulama e-postasƒ± g√∂nderildi",twoFactorAuth:"ƒ∞ki Fakt√∂rl√º Doƒürulama",enterCode:"Kodu girin",enable2FA:"2FA'yƒ± Etkinle≈ütir",disable2FA:"2FA'yƒ± Devre Dƒ±≈üƒ± Bƒ±rak"},Pf={typeMessage:"Mesaj yaz...",editMessage:"Mesajƒ± D√ºzenle",deleteMessage:"Mesajƒ± Sil",replyTo:"Yanƒ±tla",pinMessage:"Mesajƒ± Sabitle",unpinMessage:"Sabitlemeyi Kaldƒ±r",threadStart:"Konu Ba≈ülat",noMessages:"Hen√ºz mesaj yok",newMessages:"Yeni mesajlar",today:"Bug√ºn",yesterday:"D√ºn",edited:"(d√ºzenlendi)",deleted:"Bu mesaj silindi",pinned:"Sabitlendi",attachFile:"Dosya Ekle",sendImage:"Resim G√∂nder",sendGif:"GIF G√∂nder",emoji:"Emoji",reactions:"Tepkiler",messageDeleted:"Mesaj silindi",messageEdited:"Mesaj d√ºzenlendi",deleteConfirm:"Bu mesajƒ± silmek istediƒüinize emin misiniz?",typing:"yazƒ±yor...",typingMultiple:"{{count}} ki≈üi yazƒ±yor..."},Rf={createServer:"Sunucu Olu≈ütur",serverName:"Sunucu Adƒ±",serverSettings:"Sunucu Ayarlarƒ±",deleteServer:"Sunucuyu Sil",leaveServer:"Sunucudan Ayrƒ±l",inviteLink:"Davet Baƒülantƒ±sƒ±",generateInvite:"Davet Olu≈ütur",inviteCopied:"Davet baƒülantƒ±sƒ± kopyalandƒ±!",joinServer:"Sunucuya Katƒ±l",serverIcon:"Sunucu ƒ∞konu",serverBanner:"Sunucu Afi≈üi",overview:"Genel Bakƒ±≈ü",createChannel:"Kanal Olu≈ütur",channelName:"Kanal Adƒ±",textChannel:"Metin Kanalƒ±",voiceChannel:"Ses Kanalƒ±",categoryName:"Kategori Adƒ±",createCategory:"Kategori Olu≈ütur",manageRoles:"Rolleri Y√∂net",roleName:"Rol Adƒ±",roleColor:"Rol Rengi",createRole:"Rol Olu≈ütur",deleteConfirm:'"{{name}}" sunucusunu silmek istediƒüinize emin misiniz? Bu i≈ülem geri alƒ±namaz.',leaveConfirm:'"{{name}}" sunucusundan ayrƒ±lmak istediƒüinize emin misiniz?',memberCount:"{{count}} √ºye",onlineCount:"{{count}} √ßevrimi√ßi"},jf={addFriend:"Arkada≈ü Ekle",friendList:"Arkada≈ü Listesi",pending:"Bekleyen",blocked:"Engellenen",all:"T√ºm√º",online:"√áevrimi√ßi",sendRequest:"ƒ∞stek G√∂nder",acceptRequest:"Kabul Et",declineRequest:"Reddet",removeFriend:"Arkada≈ülƒ±ktan √áƒ±kar",friendRequestSent:"Arkada≈ülƒ±k isteƒüi g√∂nderildi!",friendRequestAccepted:"Arkada≈ülƒ±k isteƒüi kabul edildi!",noFriends:"Hen√ºz arkada≈üƒ±n yok",noPending:"Bekleyen istek yok",startDM:"Mesaj G√∂nder"},If={joinVoice:"Ses Kanalƒ±na Katƒ±l",leaveVoice:"Ses Kanalƒ±ndan Ayrƒ±l",voiceConnected:"Ses Baƒülƒ±",voiceDisconnected:"Ses Baƒülantƒ±sƒ± Kesildi",screenShare:"Ekran Payla≈ü",stopScreenShare:"Payla≈üƒ±mƒ± Durdur",camera:"Kamera",stopCamera:"Kamerayƒ± Kapat",goLive:"Canlƒ± Yayƒ±n Ba≈ülat",stopLive:"Canlƒ± Yayƒ±nƒ± Durdur",connecting:"Baƒülanƒ±yor...",reconnecting:"Yeniden Baƒülanƒ±yor...",noOneInVoice:"Ses kanalƒ±nda kimse yok"},Lf={userSettings:"Kullanƒ±cƒ± Ayarlarƒ±",appearance:"G√∂r√ºn√ºm",notifications:"Bildirimler",privacy:"Gizlilik ve G√ºvenlik",language:"Dil",theme:"Tema",darkTheme:"Karanlƒ±k Tema",lightTheme:"Aydƒ±nlƒ±k Tema",about:"Hakkƒ±nda",changeAvatar:"Avatarƒ± Deƒüi≈ütir",changeBanner:"Afi≈üi Deƒüi≈ütir",changeStatus:"Durumu Deƒüi≈ütir",customStatus:"√ñzel Durum",accountInfo:"Hesap Bilgileri",changePassword:"≈ûifre Deƒüi≈ütir",deleteAccount:"Hesabƒ± Sil",version:"S√ºr√ºm"},Of={directMessages:"Direkt Mesajlar",newDM:"Yeni Mesaj",noDMs:"Hen√ºz DM yok",startConversation:"Bir sohbet ba≈ülat!"},Df={premiumStore:"Premium Maƒüaza",buyCoins:"Jeton Satƒ±n Al",yourCoins:"Jetonlarƒ±nƒ±z",purchase:"Satƒ±n Al",insufficientCoins:"Yetersiz jeton",purchaseSuccess:"Satƒ±n alma ba≈üarƒ±lƒ±!",nitro:"Pawscord Nitro",nitroDesc:"Premium √∂zelliklerle Pawscord deneyimini y√ºkseltin!"},Af={noNotifications:"Bildirim yok",markAllRead:"T√ºm√ºn√º Okundu ƒ∞≈üaretle",mentionedYou:"sizi etiketledi",sentMessage:"mesaj g√∂nderdi",friendRequest:"Arkada≈ülƒ±k isteƒüi",serverInvite:"Sunucu daveti"},zf={networkError:"Aƒü hatasƒ±. Baƒülantƒ±nƒ±zƒ± kontrol edin.",serverError:"Sunucu hatasƒ±. L√ºtfen tekrar deneyin.",notFound:"Sayfa bulunamadƒ±",unauthorized:"Bu i≈ülem i√ßin yetkiniz yok",rateLimited:"√áok fazla istek. L√ºtfen bekleyin.",fileTooLarge:"Dosya √ßok b√ºy√ºk (maks. {{size}}MB)",invalidFileType:"Ge√ßersiz dosya t√ºr√º",sessionExpired:"Oturumunuz sona erdi. L√ºtfen tekrar giri≈ü yapƒ±n."},Vf={justNow:"Az √∂nce",minutesAgo:"{{count}} dakika √∂nce",hoursAgo:"{{count}} saat √∂nce",daysAgo:"{{count}} g√ºn √∂nce",weeksAgo:"{{count}} hafta √∂nce"},Mf={common:Tf,auth:Cf,chat:Pf,server:Rf,friends:jf,voice:If,settings:Lf,dm:Of,premium:Df,notifications:Af,errors:zf,time:Vf},$f={loading:"Loading...",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",close:"Close",confirm:"Confirm",search:"Search",send:"Send",copy:"Copy",copied:"Copied!",back:"Back",next:"Next",yes:"Yes",no:"No",ok:"OK",error:"Error",success:"Success",warning:"Warning",info:"Info",retry:"Retry",logout:"Log Out",settings:"Settings",profile:"Profile",online:"Online",offline:"Offline",idle:"Idle",dnd:"Do Not Disturb",invisible:"Invisible",members:"Members",channels:"Channels",roles:"Roles",server:"Server",invite:"Invite",upload:"Upload",download:"Download",mute:"Mute",unmute:"Unmute",deafen:"Deafen",undeafen:"Undeafen",ban:"Ban",kick:"Kick",block:"Block",unblock:"Unblock",report:"Report"},Nf={login:"Log In",register:"Sign Up",email:"Email",password:"Password",confirmPassword:"Confirm Password",username:"Username",forgotPassword:"Forgot your password?",loginWith:"Log in with",registerWith:"Sign up with",orContinueWith:"or continue with",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",loginSuccess:"Login successful!",registerSuccess:"Registration successful!",invalidCredentials:"Invalid email or password",emailRequired:"Email is required",passwordRequired:"Password is required",passwordTooShort:"Password must be at least 8 characters",passwordsDoNotMatch:"Passwords do not match",emailAlreadyInUse:"This email is already in use",usernameAlreadyInUse:"This username is already taken",verifyEmail:"Verify your email",verifyEmailSent:"Verification email sent",twoFactorAuth:"Two-Factor Authentication",enterCode:"Enter code",enable2FA:"Enable 2FA",disable2FA:"Disable 2FA"},Bf={typeMessage:"Type a message...",editMessage:"Edit Message",deleteMessage:"Delete Message",replyTo:"Reply",pinMessage:"Pin Message",unpinMessage:"Unpin Message",threadStart:"Start Thread",noMessages:"No messages yet",newMessages:"New messages",today:"Today",yesterday:"Yesterday",edited:"(edited)",deleted:"This message was deleted",pinned:"Pinned",attachFile:"Attach File",sendImage:"Send Image",sendGif:"Send GIF",emoji:"Emoji",reactions:"Reactions",messageDeleted:"Message deleted",messageEdited:"Message edited",deleteConfirm:"Are you sure you want to delete this message?",typing:"is typing...",typingMultiple:"{{count}} people are typing..."},Ff={createServer:"Create Server",serverName:"Server Name",serverSettings:"Server Settings",deleteServer:"Delete Server",leaveServer:"Leave Server",inviteLink:"Invite Link",generateInvite:"Generate Invite",inviteCopied:"Invite link copied!",joinServer:"Join Server",serverIcon:"Server Icon",serverBanner:"Server Banner",overview:"Overview",createChannel:"Create Channel",channelName:"Channel Name",textChannel:"Text Channel",voiceChannel:"Voice Channel",categoryName:"Category Name",createCategory:"Create Category",manageRoles:"Manage Roles",roleName:"Role Name",roleColor:"Role Color",createRole:"Create Role",deleteConfirm:'Are you sure you want to delete "{{name}}"? This cannot be undone.',leaveConfirm:'Are you sure you want to leave "{{name}}"?',memberCount:"{{count}} members",onlineCount:"{{count}} online"},Uf={addFriend:"Add Friend",friendList:"Friend List",pending:"Pending",blocked:"Blocked",all:"All",online:"Online",sendRequest:"Send Request",acceptRequest:"Accept",declineRequest:"Decline",removeFriend:"Remove Friend",friendRequestSent:"Friend request sent!",friendRequestAccepted:"Friend request accepted!",noFriends:"No friends yet",noPending:"No pending requests",startDM:"Send Message"},Hf={joinVoice:"Join Voice Channel",leaveVoice:"Leave Voice Channel",voiceConnected:"Voice Connected",voiceDisconnected:"Voice Disconnected",screenShare:"Share Screen",stopScreenShare:"Stop Sharing",camera:"Camera",stopCamera:"Stop Camera",goLive:"Go Live",stopLive:"Stop Live",connecting:"Connecting...",reconnecting:"Reconnecting...",noOneInVoice:"No one in voice channel"},Yf={userSettings:"User Settings",appearance:"Appearance",notifications:"Notifications",privacy:"Privacy & Safety",language:"Language",theme:"Theme",darkTheme:"Dark Theme",lightTheme:"Light Theme",about:"About",changeAvatar:"Change Avatar",changeBanner:"Change Banner",changeStatus:"Change Status",customStatus:"Custom Status",accountInfo:"Account Info",changePassword:"Change Password",deleteAccount:"Delete Account",version:"Version"},Kf={directMessages:"Direct Messages",newDM:"New Message",noDMs:"No DMs yet",startConversation:"Start a conversation!"},Gf={premiumStore:"Premium Store",buyCoins:"Buy Coins",yourCoins:"Your Coins",purchase:"Purchase",insufficientCoins:"Insufficient coins",purchaseSuccess:"Purchase successful!",nitro:"Pawscord Nitro",nitroDesc:"Upgrade your Pawscord experience with premium features!"},qf={noNotifications:"No notifications",markAllRead:"Mark All as Read",mentionedYou:"mentioned you",sentMessage:"sent a message",friendRequest:"Friend request",serverInvite:"Server invite"},Wf={networkError:"Network error. Check your connection.",serverError:"Server error. Please try again.",notFound:"Page not found",unauthorized:"You don't have permission for this action",rateLimited:"Too many requests. Please wait.",fileTooLarge:"File too large (max {{size}}MB)",invalidFileType:"Invalid file type",sessionExpired:"Your session has expired. Please log in again."},Jf={justNow:"Just now",minutesAgo:"{{count}} minutes ago",hoursAgo:"{{count}} hours ago",daysAgo:"{{count}} days ago",weeksAgo:"{{count}} weeks ago"},Zf={common:$f,auth:Nf,chat:Bf,server:Ff,friends:Uf,voice:Hf,settings:Yf,dm:Kf,premium:Gf,notifications:qf,errors:Wf,time:Jf};et.use($s).use(df).init({resources:{tr:{translation:Mf},en:{translation:Zf}},fallbackLng:"tr",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"pawscord_language",caches:["localStorage"]}});const Qf=Xe(()=>l(()=>import("./EnglishHub-CBtcD9uH.js"),__vite__mapDeps([340,1,14,4]))),Xf=Xe(()=>l(()=>import("./GrammarQuizPage-csrpQ1EL.js"),__vite__mapDeps([341,1,14,4,3,15,0,16]))),em=Xe(()=>l(()=>import("./EnglishLearningPage-J6FHDCT_.js"),__vite__mapDeps([342,1,14,3,15,0,4,16]))),tm=Xe(()=>l(()=>import("./CryptoDashboard-LXVoiAwo.js"),__vite__mapDeps([343,1,14,4,344,3,15,0,16]))),nm=Xe(()=>l(()=>import("./CryptoSignals-BvgMtUnV.js"),__vite__mapDeps([345,1,4,14,344,3,15,0,16]))),rm=({children:t})=>{const{token:e,isAuthenticated:n}=Vt(),[r,s]=u.useState(null),i=u.useRef(!1);return u.useEffect(()=>{if(!n||!e){s(!1),i.current=!1;return}i.current||(async()=>{try{const d=await fetch(`${Qe}/users/me/`,{headers:{Authorization:`Bearer ${e}`}});if(d.ok){const c=await d.json();s(!!c.is_whitelisted),i.current=!0}else d.status===401||s(!1)}catch{s(!1)}})()},[n,e]),r===null?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#1e1f22",color:"#f0b232",fontSize:18},children:"‚è≥ Kontrol ediliyor..."}):r?t:o.jsx(xi,{to:"/",replace:!0})},om=Xe(()=>l(()=>import("./ForgotPasswordPage-2bhXhVsR.js"),__vite__mapDeps([294,1,4,269,14]))),sm=Xe(()=>l(()=>import("./ResetPasswordPage-C_FzDUrX.js"),__vite__mapDeps([295,1,4,14]))),im=Xe(()=>l(()=>import("./TwoFactorLoginPage-CbW0qslt.js"),__vite__mapDeps([296,1,14,4,3,15,0,16]))),am=Xe(()=>l(()=>import("./VerifyEmailPage-D2Ki5KlX.js"),__vite__mapDeps([293,1,4,14]))),as=Xe(()=>l(()=>import("./PrivacyPolicyPage-BTJNkhVV.js"),__vite__mapDeps([346,1]))),lm=Xe(()=>l(()=>import("./StorePage-BBxxfcNY.js"),__vite__mapDeps([347,1,3,14,15,0,4,16]))),cm=Xe(()=>l(()=>import("./LandingPage-DvxeHv2Q.js"),__vite__mapDeps([348,1,13,3,14,15,0,4,16,349]))),dm=Xe(()=>l(()=>import("./ReferralProgram-DRUonxDS.js"),__vite__mapDeps([350,1,13,3,14,15,0,4,16,351]))),um=Xe(()=>l(()=>import("./GrowthDashboard-Cb_DkZYI.js"),__vite__mapDeps([352,1,13,19,16,353]))),pm=Xe(()=>l(()=>import("./ToastDemo-5P4NEP0l.js"),__vite__mapDeps([354,1,3,14,15,0,4,16,355]))),fm=vs,mm=()=>(u.useEffect(()=>{const t=setTimeout(()=>{try{Ps()}catch{}},500);if("requestIdleCallback"in window)window.requestIdleCallback(()=>{try{Hr()}catch{}},{timeout:1500});else{const e=setTimeout(()=>{try{Hr()}catch{}},2e3);return()=>clearTimeout(e)}return()=>clearTimeout(t)},[]),o.jsx(Dp,{clientId:fm,children:o.jsx(ma,{children:o.jsx(Pa,{children:o.jsx(Ap,{children:o.jsxs(yi,{children:[o.jsx(Ip,{}),o.jsxs(_i,{children:[o.jsx(De,{path:"/verify/:token",element:o.jsx(Be,{children:o.jsx(vp,{})})}),o.jsx(De,{path:"/verify-email/:token",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(am,{apiBaseUrl:Qe})})})}),o.jsx(De,{path:"/forgot-password",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(om,{apiBaseUrl:Qe})})})}),o.jsx(De,{path:"/reset-password/:token",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(sm,{apiBaseUrl:Qe})})})}),o.jsx(De,{path:"/2fa-login",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(im,{apiBaseUrl:Qe})})})}),o.jsx(De,{path:"/auth/callback",element:o.jsx(Be,{children:o.jsx(Vp,{apiBaseUrl:bt})})}),o.jsx(De,{path:"/privacy-policy",element:o.jsx(a.Suspense,{fallback:o.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:o.jsx(as,{})})}),o.jsx(De,{path:"/terms-of-service",element:o.jsx(a.Suspense,{fallback:o.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:o.jsx(as,{})})}),o.jsx(De,{path:"/store",element:o.jsx(a.Suspense,{fallback:o.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#fff"},children:"Loading..."}),children:o.jsx(lm,{})})}),o.jsx(De,{path:"/launch",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(cm,{apiBaseUrl:Qe})})})}),o.jsx(De,{path:"/referral",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(dm,{apiBaseUrl:Qe})})})}),o.jsx(De,{path:"/growth-dashboard",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(um,{apiBaseUrl:Qe})})})}),o.jsx(De,{path:"/toast-demo",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(pm,{})})})}),o.jsx(De,{path:"/invite/:code",element:o.jsx(Be,{children:o.jsx(Sp,{})})}),o.jsx(De,{path:"/spotify-callback",element:o.jsx(Be,{children:o.jsx(jp,{apiBaseUrl:Qe})})}),o.jsx(De,{path:"/eng-learn",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Qf,{})})})}),o.jsx(De,{path:"/eng-learn/vocab",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(em,{})})})}),o.jsx(De,{path:"/eng-learn/grammar",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(Xf,{})})})}),o.jsx(De,{path:"/eng-learn/voice",element:o.jsx(Be,{children:o.jsx(Tp,{apiBaseUrl:Qe})})}),o.jsx(De,{path:"/eng-learn/pronunciation",element:o.jsx(Be,{children:o.jsx(Pp,{apiBaseUrl:Qe})})}),o.jsx(De,{path:"/crypto-analysis",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(rm,{children:o.jsx(nm,{})})})})}),o.jsx(De,{path:"/crypto-dashboard-old",element:o.jsx(Be,{children:o.jsx(a.Suspense,{fallback:o.jsx("div",{children:"Y√ºkleniyor..."}),children:o.jsx(tm,{})})})}),o.jsx(De,{path:"/*",element:o.jsx(_p,{})})]})]})})})})}));window.addEventListener("unhandledrejection",t=>{const e=t?.reason?.message||"";if(e.includes("Failed to fetch dynamically imported module")||e.includes("Loading chunk")||e.includes("ChunkLoadError")){const n="pawscord_chunk_reload",r="pawscord_chunk_reload_count",s=sessionStorage.getItem(n),i=parseInt(sessionStorage.getItem(r)||"0",10),d=Date.now();if(i>=2)return;(!s||d-parseInt(s,10)>1e4)&&(sessionStorage.setItem(n,d.toString()),sessionStorage.setItem(r,(i+1).toString()),t.preventDefault(),window.location.reload())}});window.addEventListener("load",()=>{setTimeout(()=>{sessionStorage.removeItem("pawscord_chunk_reload_count")},5e3)});const gm=gi.createRoot(document.getElementById("root"));gm.render(o.jsx(mm,{}));export{Qe as A,dn as C,Uu as G,jm as P,Yr as T,ua as W,Vt as a,Im as b,vs as c,zt as d,op as e,ln as f,La as g,Dm as h,xs as i,Om as j,Pm as k,Cm as l,lt as m,Rm as n,Ca as o,ra as p,Lm as q,pa as r,Oa as s,oe as t,Es as u,bt as v,_s as w,Jr as x};

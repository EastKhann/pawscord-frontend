var X=Object.defineProperty;var a=(r,b)=>X(r,"name",{value:b,configurable:!0});import{r as m,j as e}from"./react-core-Djgtqrmb.js";import{bl as J,aV as q,B as R,an as H,a as Z,aM as ee,aN as se,at as ae,g as te,y as ne,O as G,a2 as le,$ as ie,a0 as oe,c as ce,j as I,ao as re}from"./icons-vendor-BMXAt4pj.js";import{t as h,d as V}from"./index-Bohqi95c.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-CbW2fAN9.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const Q={messages:!0,reactions:!0,presence:!1,members:!1,voice:!1},W={name:"",description:"",avatar_url:"",prefix:"!",is_public:!1,intents:{...Q}},de=[{id:"message_create",label:"Mesaj GÃ¶nderildi"},{id:"message_edit",label:"Mesaj DÃ¼zenlendi"},{id:"message_delete",label:"Mesaj Silindi"},{id:"reaction_add",label:"Reaction Eklendi"},{id:"reaction_remove",label:"Reaction KaldÄ±rÄ±ldÄ±"},{id:"member_join",label:"Ãœye KatÄ±ldÄ±"},{id:"member_leave",label:"Ãœye AyrÄ±ldÄ±"},{id:"voice_join",label:"Ses KanalÄ±na KatÄ±ldÄ±"},{id:"voice_leave",label:"Ses KanalÄ±ndan AyrÄ±ldÄ±"}],he=a(r=>{const[b,g]=m.useState("list"),[l,c]=m.useState([]),[x,o]=m.useState(null),[w,E]=m.useState(!0),[j,y]=m.useState({}),[i,d]=m.useState({...W}),[F,f]=m.useState(!1),[C,T]=m.useState(""),[k,B]=m.useState([]);m.useEffect(()=>{P()},[]);const O=a(()=>localStorage.getItem("access_token"),"getToken"),p=a(()=>({Authorization:`Bearer ${O()}`}),"authHeaders"),S=a(()=>({...p(),"Content-Type":"application/json"}),"jsonHeaders"),P=a(async()=>{try{const t=await fetch(`${r}/bots/my/`,{headers:p()});if(t.ok){const n=await t.json();c(n.bots||[])}}catch{}finally{E(!1)}},"fetchBots");return{view:b,setView:g,bots:l,selectedBot:x,setSelectedBot:o,loading:w,showToken:j,setShowToken:y,botForm:i,setBotForm:d,showWebhookForm:F,setShowWebhookForm:f,webhookUrl:C,setWebhookUrl:T,webhookEvents:k,setWebhookEvents:B,handleCreateBot:a(async()=>{if(!i.name.trim()){h.error("âš ï¸ Bot adÄ± gerekli");return}try{const t=await fetch(`${r}/bots/create/`,{method:"POST",headers:S(),body:JSON.stringify(i)});if(t.ok){const n=await t.json();c([...l,n.bot]),d({...W}),g("list"),h.success("âœ… Bot oluÅŸturuldu!"),o(n.bot),y({[n.bot.id]:!0})}else{const n=await t.json();h.error(n.error||"âŒ Bot oluÅŸturulamadÄ±")}}catch{h.error("âŒ Hata oluÅŸtu")}},"handleCreateBot"),handleUpdateBot:a(async()=>{if(x)try{const t=await fetch(`${r}/bots/${x.id}/update/`,{method:"PUT",headers:S(),body:JSON.stringify(i)});if(t.ok){const n=await t.json();c(l.map(u=>u.id===x.id?n.bot:u)),g("list"),h.success("âœ… Bot gÃ¼ncellendi!")}}catch{}},"handleUpdateBot"),handleDeleteBot:a(async t=>{if(await V("Bu botu silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz."))try{(await fetch(`${r}/bots/${t}/delete/`,{method:"DELETE",headers:p()})).ok&&(c(l.filter(u=>u.id!==t)),x?.id===t&&o(null),h.success("âœ… Bot silindi"))}catch{}},"handleDeleteBot"),handleRegenerateToken:a(async t=>{if(await V("Token yenilenecek. Eski token geÃ§ersiz olacak. Devam?"))try{const n=await fetch(`${r}/bots/${t}/regenerate-token/`,{method:"POST",headers:p()});if(n.ok){const u=await n.json();c(l.map(_=>_.id===t?{..._,token:u.token}:_)),y({...j,[t]:!0}),h.success("âœ… Token yenilendi!")}}catch{}},"handleRegenerateToken"),handleCreateWebhook:a(async t=>{if(!C.trim()){h.error("âš ï¸ Webhook URL gerekli");return}try{(await fetch(`${r}/bots/${t}/webhook/`,{method:"POST",headers:S(),body:JSON.stringify({url:C,events:k})})).ok&&(h.success("âœ… Webhook oluÅŸturuldu!"),f(!1),T(""),B([]))}catch{}},"handleCreateWebhook"),handleToggleBotStatus:a(async(t,n)=>{try{if((await fetch(`${r}/bots/${t}/${n==="online"?"pause":"start"}/`,{method:"POST",headers:p()})).ok){const U=n==="online"?"offline":"online";c(l.map(D=>D.id===t?{...D,status:U}:D)),h.success(U==="online"?"âœ… Bot baÅŸlatÄ±ldÄ±!":"â¸ï¸ Bot durduruldu")}}catch{}},"handleToggleBotStatus"),copyToClipboard:a(t=>{navigator.clipboard.writeText(t),h.success("ðŸ“‹ Panoya kopyalandÄ±!")},"copyToClipboard"),editBot:a(t=>{d({name:t.name,description:t.description||"",avatar_url:t.avatar_url||"",prefix:t.prefix||"!",is_public:t.is_public||!1,intents:t.intents||{...Q}}),o(t),g("edit")},"editBot"),resetForm:a(()=>{d({...W}),o(null)},"resetForm")}},"useBotPortal"),Y=`const PAWSCORD = require('pawscord-bot');

const bot = new PAWSCORD.Client({
    token: 'YOUR_BOT_TOKEN'
});

bot.on('message', (message) => {
    if (message.content === '!ping') {
        message.reply('Pong! ðŸ“');
    }
});

bot.connect();`,me=a(({copyToClipboard:r})=>e.jsxs("div",{className:"docs-view",children:[e.jsxs("h3",{children:[e.jsx(J,{})," Bot API Dok","Ã¼","mantasyonu"]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸš€"," H","Ä±","zl","Ä±"," Ba","ÅŸ","lang","Ä±Ã§"]}),e.jsxs("p",{children:["PAWSCORD Bot API ile kendi botunuzu olu","ÅŸ","turabilirsiniz."]}),e.jsxs("div",{className:"code-block",children:[e.jsxs("div",{className:"code-header",children:[e.jsx("span",{children:"JavaScript (Node.js)"}),e.jsx("button",{onClick:a(()=>r(Y),"onClick"),children:e.jsx(q,{})})]}),e.jsx("pre",{children:Y})]})]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸ“¡"," API Endpoints"]}),e.jsxs("div",{className:"endpoint-list",children:[e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method get",children:"GET"}),e.jsx("code",{children:"/api/bots/@me"}),e.jsx("span",{children:"Bot bilgilerini al"})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method post",children:"POST"}),e.jsx("code",{children:"/api/messages/send"}),e.jsxs("span",{children:["Mesaj g","Ã¶","nder"]})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method post",children:"POST"}),e.jsx("code",{children:"/api/reactions/add"}),e.jsx("span",{children:"Reaction ekle"})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method get",children:"GET"}),e.jsx("code",{children:"/api/servers"}),e.jsx("span",{children:"Sunucu listesi"})]})]})]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸ”—"," WebSocket Events"]}),e.jsxs("div",{className:"event-list",children:[e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"MESSAGE_CREATE"}),e.jsxs("span",{children:["Yeni mesaj g","Ã¶","nderildi","ÄŸ","inde"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"REACTION_ADD"}),e.jsxs("span",{children:["Reaction eklendi","ÄŸ","inde"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"MEMBER_JOIN"}),e.jsxs("span",{children:["Ãœ","ye sunucuya kat","Ä±","ld","Ä±ÄŸÄ±","nda"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"VOICE_STATE_UPDATE"}),e.jsxs("span",{children:["Ses durumu de","ÄŸ","i","ÅŸ","ti","ÄŸ","inde"]})]})]})]})]}),"BotDocsView"),ye=a(({apiBaseUrl:r,onClose:b,currentUser:g})=>{const{view:l,setView:c,bots:x,selectedBot:o,setSelectedBot:w,loading:E,showToken:j,setShowToken:y,botForm:i,setBotForm:d,showWebhookForm:F,setShowWebhookForm:f,webhookUrl:C,setWebhookUrl:T,webhookEvents:k,setWebhookEvents:B,handleCreateBot:O,handleUpdateBot:p,handleDeleteBot:S,handleRegenerateToken:P,handleCreateWebhook:$,handleToggleBotStatus:z,copyToClipboard:A,editBot:M,resetForm:K}=he(r);return e.jsx("div",{className:"bot-portal-overlay",onClick:b,children:e.jsxs("div",{className:"bot-portal-panel",onClick:a(s=>s.stopPropagation(),"onClick"),children:[e.jsxs("div",{className:"portal-header",children:[e.jsxs("h2",{children:[e.jsx(R,{})," Bot GeliÅŸtirici PortalÄ±"]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:`nav-btn ${l==="list"?"active":""}`,onClick:a(()=>c("list"),"onClick"),children:[e.jsx(R,{})," BotlarÄ±m"]}),e.jsxs("button",{className:`nav-btn ${l==="create"?"active":""}`,onClick:a(()=>{c("create"),K()},"onClick"),children:[e.jsx(H,{})," Yeni Bot"]}),e.jsxs("button",{className:`nav-btn ${l==="docs"?"active":""}`,onClick:a(()=>c("docs"),"onClick"),children:[e.jsx(J,{})," DokÃ¼mantasyon"]})]}),e.jsx("button",{className:"close-btn",onClick:b,children:e.jsx(Z,{})})]}),e.jsxs("div",{className:"portal-content",children:[l==="list"&&e.jsx("div",{className:"bots-list-view",children:E?e.jsx("div",{className:"loading",children:"YÃ¼kleniyor..."}):x.length>0?e.jsx("div",{className:"bots-grid",children:x.map(s=>e.jsxs("div",{className:"bot-card",children:[e.jsxs("div",{className:"bot-header",children:[e.jsx("img",{src:s.avatar_url||"/default-bot.png",alt:s.name,className:"bot-avatar"}),e.jsxs("div",{className:"bot-info",children:[e.jsx("h3",{children:s.name}),e.jsx("span",{className:`bot-status ${s.status||"offline"}`,children:s.status==="online"?"ðŸŸ¢ Online":"ðŸ”´ Offline"})]}),e.jsxs("div",{className:"bot-actions",children:[e.jsx("button",{className:"action-btn",onClick:a(()=>z(s.id,s.status),"onClick"),title:s.status==="online"?"Durdur":"BaÅŸlat",children:s.status==="online"?e.jsx(ee,{}):e.jsx(se,{})}),e.jsx("button",{className:"action-btn",onClick:a(()=>M(s),"onClick"),title:"DÃ¼zenle",children:e.jsx(ae,{})}),e.jsx("button",{className:"action-btn delete",onClick:a(()=>S(s.id),"onClick"),title:"Sil",children:e.jsx(te,{})})]})]}),e.jsx("p",{className:"bot-description",children:s.description||"AÃ§Ä±klama yok"}),e.jsxs("div",{className:"bot-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx(ne,{}),e.jsxs("span",{children:[s.servers_count||0," sunucu"]})]}),e.jsxs("div",{className:"stat",children:[e.jsx(G,{}),e.jsxs("span",{children:[s.commands_used||0," komut"]})]})]}),e.jsxs("div",{className:"bot-token-section",children:[e.jsxs("div",{className:"token-header",children:[e.jsx(le,{})," Token",e.jsx("button",{className:"toggle-token",onClick:a(()=>y({...j,[s.id]:!j[s.id]}),"onClick"),children:j[s.id]?e.jsx(ie,{}):e.jsx(oe,{})})]}),e.jsxs("div",{className:"token-value",children:[e.jsx("code",{children:j[s.id]?s.token:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{className:"copy-btn",onClick:a(()=>A(s.token),"onClick"),children:e.jsx(q,{})})]}),e.jsxs("button",{className:"regenerate-btn",onClick:a(()=>P(s.id),"onClick"),children:[e.jsx(ce,{})," Token Yenile"]})]}),e.jsxs("div",{className:"bot-footer",children:[e.jsxs("button",{className:"webhook-btn",onClick:a(()=>{w(s),f(!0)},"onClick"),children:[e.jsx(I,{})," Webhook Ekle"]}),e.jsxs("button",{className:"analytics-btn",onClick:a(()=>{w(s),c("analytics")},"onClick"),children:[e.jsx(G,{})," Analitik"]})]})]},s.id))}):e.jsxs("div",{className:"no-bots",children:[e.jsx(R,{className:"empty-icon"}),e.jsx("p",{children:"HenÃ¼z bot oluÅŸturmadÄ±nÄ±z"}),e.jsxs("button",{onClick:a(()=>c("create"),"onClick"),children:[e.jsx(H,{})," Ä°lk botunu oluÅŸtur"]})]})}),(l==="create"||l==="edit")&&e.jsxs("div",{className:"bot-form-view",children:[e.jsx("h3",{children:l==="create"?"ðŸ¤– Yeni Bot OluÅŸtur":"âœï¸ Bot DÃ¼zenle"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bot AdÄ± *"}),e.jsx("input",{type:"text",placeholder:"Harika Bot",value:i.name,onChange:a(s=>d({...i,name:s.target.value}),"onChange"),maxLength:32})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AÃ§Ä±klama"}),e.jsx("textarea",{placeholder:"Bu bot ne yapar?",value:i.description,onChange:a(s=>d({...i,description:s.target.value}),"onChange"),rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Avatar URL"}),e.jsx("input",{type:"text",placeholder:"https://...",value:i.avatar_url,onChange:a(s=>d({...i,avatar_url:s.target.value}),"onChange")})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Komut Prefix"}),e.jsx("input",{type:"text",placeholder:"!",value:i.prefix,onChange:a(s=>d({...i,prefix:s.target.value}),"onChange"),maxLength:5})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bot Ä°zinleri (Intents)"}),e.jsx("div",{className:"intents-grid",children:Object.entries(i.intents).map(([s,N])=>e.jsxs("label",{className:"intent-checkbox",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:a(v=>d({...i,intents:{...i.intents,[s]:v.target.checked}}),"onChange")}),e.jsx("span",{children:s.charAt(0).toUpperCase()+s.slice(1)})]},s))})]}),e.jsx("div",{className:"form-group checkbox",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:i.is_public,onChange:a(s=>d({...i,is_public:s.target.checked}),"onChange")}),e.jsx("span",{children:"Bot'u herkese aÃ§Ä±k yap (keÅŸfedilebilir)"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{className:"submit-btn",onClick:l==="create"?O:p,children:[e.jsx(re,{})," ",l==="create"?"Bot OluÅŸtur":"Kaydet"]}),e.jsx("button",{className:"cancel-btn",onClick:a(()=>c("list"),"onClick"),children:"Ä°ptal"})]})]}),l==="analytics"&&o&&e.jsxs("div",{className:"analytics-view",children:[e.jsx("button",{className:"back-btn",onClick:a(()=>c("list"),"onClick"),children:"â† Geri"}),e.jsxs("h3",{children:["ðŸ“Š ",o.name," - Analitik"]}),e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:o.servers_count||0}),e.jsx("div",{className:"analytics-label",children:"Toplam Sunucu"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:o.users_count||0}),e.jsx("div",{className:"analytics-label",children:"Toplam KullanÄ±cÄ±"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:o.commands_used||0}),e.jsx("div",{className:"analytics-label",children:"Komut KullanÄ±mÄ±"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:o.messages_sent||0}),e.jsx("div",{className:"analytics-label",children:"Mesaj GÃ¶nderildi"})]})]}),e.jsxs("div",{className:"analytics-chart-placeholder",style:{padding:"20px"},children:[e.jsx("h4",{style:{color:"#dbdee1",marginBottom:"16px"},children:"ðŸ“ˆ HaftalÄ±k KullanÄ±m"}),e.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",height:"120px",padding:"0 10px"},children:["Pzt","Sal","Ã‡ar","Per","Cum","Cmt","Paz"].map((s,N)=>{const v=Math.max(10,Math.floor((o.commands_used||50)*(.3+Math.sin(N*1.2)*.5+Math.random()*.2)/7)),L=(o.commands_used||50)/4,t=Math.min(100,v/Math.max(L,1)*100);return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[e.jsx("span",{style:{color:"#949ba4",fontSize:"0.7em"},children:v}),e.jsx("div",{style:{width:"100%",maxWidth:"40px",height:`${Math.max(t,8)}%`,backgroundColor:"#5865f2",borderRadius:"4px 4px 0 0",minHeight:"6px",transition:"height 0.3s ease"}}),e.jsx("span",{style:{color:"#949ba4",fontSize:"0.7em"},children:s})]},s)})})]})]}),l==="docs"&&e.jsx(me,{copyToClipboard:A})]}),F&&e.jsx("div",{className:"webhook-modal-overlay",children:e.jsxs("div",{className:"webhook-modal",children:[e.jsxs("h3",{children:[e.jsx(I,{})," Webhook OluÅŸtur"]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Webhook URL *"}),e.jsx("input",{type:"text",placeholder:"https://your-server.com/webhook",value:C,onChange:a(s=>T(s.target.value),"onChange")})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Olaylar"}),e.jsx("div",{className:"webhook-events",children:de.map(s=>e.jsxs("label",{className:"event-checkbox",children:[e.jsx("input",{type:"checkbox",checked:k.includes(s.id),onChange:a(N=>{N.target.checked?B([...k,s.id]):B(k.filter(v=>v!==s.id))},"onChange")}),e.jsx("span",{children:s.label})]},s.id))})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"submit-btn",onClick:a(()=>$(o.id),"onClick"),children:"Webhook OluÅŸtur"}),e.jsx("button",{className:"cancel-btn",onClick:a(()=>f(!1),"onClick"),children:"Ä°ptal"})]})]})})]})})},"BotDeveloperPortal");export{ye as default};

{"version":3,"file":"SlashCommandsPanel-DflqoU2n.js","sources":["../../../src/components/SlashCommandsPanel.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport './SlashCommandsPanel.css';\nimport { FaTerminal, FaCode, FaPlay, FaHistory } from 'react-icons/fa';\n\nfunction SlashCommandsPanel({ apiBaseUrl, fetchWithAuth }) {\n  const [commands, setCommands] = useState([]);\n  const [commandInput, setCommandInput] = useState('');\n  const [commandArgs, setCommandArgs] = useState({});\n  const [selectedCommand, setSelectedCommand] = useState(null);\n  const [result, setResult] = useState(null);\n  const [history, setHistory] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadCommands();\n    loadHistory();\n  }, []);\n\n  const loadCommands = async () => {\n    setLoading(true);\n    try {\n      const response = await fetchWithAuth(`${apiBaseUrl}/commands/list/`);\n      if (response.ok) {\n        const data = await response.json();\n        setCommands(data.commands || []);\n      }\n    } catch (err) {\n      console.error('Error loading commands:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadHistory = async () => {\n    try {\n      const response = await fetchWithAuth(`${apiBaseUrl}/commands/history/`);\n      if (response.ok) {\n        const data = await response.json();\n        setHistory(data.history || []);\n      }\n    } catch (err) {\n      console.error('Error loading history:', err);\n    }\n  };\n\n  const executeCommand = async (command) => {\n    setLoading(true);\n    setResult(null);\n    try {\n      const response = await fetchWithAuth(`${apiBaseUrl}/commands/${command.name}/execute/`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ args: commandArgs })\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        setResult({ success: true, output: data.output || 'Command executed successfully!' });\n        loadHistory();\n      } else {\n        const data = await response.json();\n        setResult({ success: false, output: data.error || 'Command failed' });\n      }\n    } catch (err) {\n      setResult({ success: false, output: 'Network error: ' + err.message });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCommandSelect = (command) => {\n    setSelectedCommand(command);\n    setCommandInput(`/${command.name}`);\n    setCommandArgs({});\n    setResult(null);\n  };\n\n  const getCategoryColor = (category) => {\n    const colors = {\n      utility: '#5865f2',\n      moderation: '#f04747',\n      fun: '#43b581',\n      info: '#faa61a',\n      admin: '#7289da'\n    };\n    return colors[category] || '#72767d';\n  };\n\n  return (\n    <div className=\"slash-commands-panel\">\n      <div className=\"commands-header\">\n        <h2><FaTerminal /> Slash Commands</h2>\n      </div>\n\n      <div className=\"command-executor\">\n        <div className=\"executor-input\">\n          <FaTerminal className=\"terminal-icon\" />\n          <input\n            type=\"text\"\n            placeholder=\"Type / to see available commands...\"\n            value={commandInput}\n            onChange={(e) => setCommandInput(e.target.value)}\n            className=\"command-input\"\n          />\n          {selectedCommand && (\n            <button\n              className=\"execute-btn\"\n              onClick={() => executeCommand(selectedCommand)}\n              disabled={loading}\n            >\n              <FaPlay /> Execute\n            </button>\n          )}\n        </div>\n\n        {result && (\n          <div className={`command-result ${result.success ? 'success' : 'error'}`}>\n            <div className=\"result-header\">\n              {result.success ? '✅ Success' : '❌ Error'}\n            </div>\n            <div className=\"result-output\">{result.output}</div>\n          </div>\n        )}\n      </div>\n\n      {selectedCommand && selectedCommand.parameters && (\n        <div className=\"command-params\">\n          <h3>Parameters:</h3>\n          {selectedCommand.parameters.map((param, idx) => (\n            <div key={idx} className=\"param-input\">\n              <label>\n                {param.name} {param.required && <span className=\"required\">*</span>}\n              </label>\n              <input\n                type={param.type === 'number' ? 'number' : 'text'}\n                placeholder={param.description}\n                value={commandArgs[param.name] || ''}\n                onChange={(e) => setCommandArgs({...commandArgs, [param.name]: e.target.value})}\n                className=\"param-field\"\n              />\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className=\"commands-list\">\n        <h3><FaCode /> Available Commands ({commands.length})</h3>\n        {loading && commands.length === 0 ? (\n          <div className=\"loading\">Loading commands...</div>\n        ) : (\n          <div className=\"commands-grid\">\n            {commands.map((command, idx) => (\n              <div\n                key={idx}\n                className={`command-card ${selectedCommand?.name === command.name ? 'selected' : ''}`}\n                onClick={() => handleCommandSelect(command)}\n                style={{ borderLeftColor: getCategoryColor(command.category) }}\n              >\n                <div className=\"command-header\">\n                  <div className=\"command-name\">/{command.name}</div>\n                  <div\n                    className=\"command-category\"\n                    style={{ background: getCategoryColor(command.category) }}\n                  >\n                    {command.category}\n                  </div>\n                </div>\n                <div className=\"command-description\">{command.description}</div>\n                {command.usage && (\n                  <div className=\"command-usage\">\n                    <code>{command.usage}</code>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div className=\"command-history\">\n        <h3><FaHistory /> Command History</h3>\n        {history.length === 0 ? (\n          <div className=\"empty-history\">\n            <FaTerminal className=\"empty-icon\" />\n            <p>No commands executed yet</p>\n          </div>\n        ) : (\n          <div className=\"history-list\">\n            {history.slice(0, 10).map((item, idx) => (\n              <div key={idx} className={`history-item ${item.success ? 'success' : 'error'}`}>\n                <div className=\"history-command\">\n                  <FaTerminal /> /{item.command}\n                </div>\n                <div className=\"history-time\">\n                  {new Date(item.executed_at).toLocaleString()}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default SlashCommandsPanel;\n"],"names":["useState","useEffect","jsxs","jsx"],"mappings":"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"}
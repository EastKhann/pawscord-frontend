var z=Object.defineProperty;var r=(e,s)=>z(e,"name",{value:s,configurable:!0});import{a as I,r as t,j as c}from"./react-core-Djgtqrmb.js";const R=(()=>{if(typeof window>"u")return!1;const e=document.createElement("canvas");return e.getContext&&e.getContext("2d")?e.toDataURL("image/webp").indexOf("data:image/webp")===0:!1})(),k=r((e,s="medium",i=85)=>{if(!e||e.startsWith("blob:")||e.startsWith("data:")||e.includes("?"))return e;const n={small:32,medium:64,large:128,xlarge:256},l=n[s]||n.medium,u=new URLSearchParams({w:l,h:l,q:i,f:R?"webp":"auto"});return`${e}?${u.toString()}`},"getOptimizedUrl"),$=r(({src:e,alt:s="",size:i="medium",quality:n=85,style:l={},className:u="",onLoad:h=r(()=>{},"onLoad"),showBlurPlaceholder:x=!0,...v})=>{const[f,w]=t.useState(!1),[d,y]=t.useState(!1),[m,g]=t.useState(null),[E,b]=t.useState(!1),a=t.useRef(null);t.useEffect(()=>{const o=new IntersectionObserver(C=>{C.forEach(j=>{j.isIntersecting&&(w(!0),o.disconnect())})},{rootMargin:"100px",threshold:.01});return a.current&&o.observe(a.current),()=>{o&&a.current&&o.unobserve(a.current)}},[]),t.useEffect(()=>{if(f&&e){const o=k(e,i,n);g(o)}},[f,e,i,n]);const S=r(()=>{y(!0),b(!1),h()},"handleLoad"),L=r(()=>{b(!0),m!==e&&g(e)},"handleError"),p='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Crect fill="%232b2d31" width="100" height="100"/%3E%3C/svg%3E';return c.jsxs("div",{ref:a,style:{position:"relative",overflow:"hidden",...l},className:u,children:[x&&!d&&c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#2b2d31",backgroundImage:`url("${p}")`,backgroundSize:"cover",filter:"blur(10px)",transform:"scale(1.1)",transition:"opacity 0.3s ease-in-out",opacity:d?0:1}}),c.jsx("img",{src:m||p,alt:s,style:{width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.3s ease-in-out",opacity:d?1:0},onLoad:S,onError:L,loading:"lazy",...v}),E&&c.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#2b2d31",color:"#b9bbbe",fontSize:"12px"},children:"‚ùå"})]})},"LazyImage"),U=I.memo($);export{U as L};

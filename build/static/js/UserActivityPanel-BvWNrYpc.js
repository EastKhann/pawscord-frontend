import{r as o,b as e}from"./react-core-9vc7GIjk.js";import{bk as h,a as I,z as S,bp as C}from"./icons-vendor-NoxEirJf.js";import{t as m}from"./index-DR3ngHaW.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const D=({fetchWithAuth:c,apiBaseUrl:s,onClose:f,username:r})=>{const[l,x]=o.useState([]),[d,v]=o.useState([]),[g,p]=o.useState(!1),[n,y]=o.useState("activity");o.useEffect(()=>{u(),b()},[r]);const u=async()=>{p(!0);try{const i=await(await c(`${s}/activity/${r}/`)).json();x(i.activity||[])}catch{m.error("Failed to load activity log")}finally{p(!1)}},b=async()=>{try{const i=await(await c(`${s}/presence/${r}/`)).json();v(i.history||[])}catch{m.error("Failed to load presence history")}},E=a=>{switch(a){case"message":return"ðŸ’¬";case"reaction":return"â¤ï¸";case"join":return"ðŸšª";case"voice":return"ðŸŽ¤";default:return"ðŸ“Š"}};return e.createElement("div",{style:t.overlay},e.createElement("div",{style:t.modal},e.createElement("div",{style:t.header},e.createElement("div",{style:t.headerLeft},e.createElement(h,{style:{marginRight:"10px",color:"#5865f2"}}),e.createElement("h2",{style:t.title},"Activity - ",r)),e.createElement("button",{onClick:f,style:t.closeButton},e.createElement(I,null))),e.createElement("div",{style:t.tabs},e.createElement("button",{onClick:()=>y("activity"),style:{...t.tab,...n==="activity"&&t.tabActive}},e.createElement(S,{style:{marginRight:"5px"}}),"Activity Log"),e.createElement("button",{onClick:()=>y("presence"),style:{...t.tab,...n==="presence"&&t.tabActive}},e.createElement(C,{style:{marginRight:"5px"}}),"Presence History")),e.createElement("div",{style:t.content},g?e.createElement("div",{style:t.loading},"Loading activity..."):n==="activity"?e.createElement("div",{style:t.activityList},l.length===0?e.createElement("div",{style:t.empty},"No activity data available"):l.map((a,i)=>e.createElement("div",{key:i,style:t.activityItem},e.createElement("div",{style:t.activityIcon},E(a.type)),e.createElement("div",{style:t.activityInfo},e.createElement("div",{style:t.activityText},a.description),e.createElement("div",{style:t.activityTime},new Date(a.timestamp).toLocaleString()))))):e.createElement("div",{style:t.presenceList},d.length===0?e.createElement("div",{style:t.empty},"No presence history available"):d.map((a,i)=>e.createElement("div",{key:i,style:t.presenceItem},e.createElement("div",{style:{...t.statusIndicator,backgroundColor:a.status==="online"?"#43b581":a.status==="idle"?"#faa61a":a.status==="dnd"?"#f04747":"#99aab5"}}),e.createElement("div",{style:t.presenceInfo},e.createElement("div",{style:t.presenceStatus},a.status.charAt(0).toUpperCase()+a.status.slice(1)),e.createElement("div",{style:t.presenceTime},new Date(a.timestamp).toLocaleString())),a.duration&&e.createElement("div",{style:t.presenceDuration},Math.round(a.duration/60)," minutes")))))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},tabs:{display:"flex",borderBottom:"1px solid #2c2f33",padding:"0 20px"},tab:{padding:"12px 20px",backgroundColor:"transparent",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",borderBottom:"2px solid transparent"},tabActive:{color:"#5865f2",borderBottom:"2px solid #5865f2"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},activityList:{display:"flex",flexDirection:"column",gap:"12px"},activityItem:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px",display:"flex",gap:"16px",alignItems:"center"},activityIcon:{fontSize:"24px"},activityInfo:{flex:1},activityText:{fontSize:"14px",color:"#dcddde",marginBottom:"4px"},activityTime:{fontSize:"12px",color:"#99aab5"},presenceList:{display:"flex",flexDirection:"column",gap:"12px"},presenceItem:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px",display:"flex",gap:"12px",alignItems:"center"},statusIndicator:{width:"12px",height:"12px",borderRadius:"50%"},presenceInfo:{flex:1},presenceStatus:{fontSize:"14px",fontWeight:"600",color:"#ffffff",marginBottom:"4px"},presenceTime:{fontSize:"12px",color:"#99aab5"},presenceDuration:{fontSize:"13px",color:"#dcddde"}};export{D as default};

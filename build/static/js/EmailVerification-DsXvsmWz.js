var f=Object.defineProperty;var i=(t,r)=>f(t,"name",{value:r,configurable:!0});import{r as n,j as e}from"./react-core-Djgtqrmb.js";import{a as m,b as h}from"./router-vendor-ClgLnMjk.js";const p=i(()=>{const{token:t}=m(),r=h(),[s,o]=n.useState("verifying"),[l,a]=n.useState("Verifying your email...");n.useEffect(()=>{d()},[t]);const d=i(async()=>{try{const c=await(await fetch("/api/auth/verify-email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})})).json();c.success?(o("success"),a("Email verified successfully! Redirecting..."),setTimeout(()=>{r("/login")},3e3)):(o("error"),a(c.error||"Verification failed"))}catch{o("error"),a("An error occurred during verification")}},"verifyEmail");return e.jsx("div",{className:"email-verification",children:e.jsxs("div",{className:"verification-card",children:[e.jsxs("div",{className:`status-icon ${s}`,children:[s==="verifying"&&e.jsx("div",{className:"spinner"}),s==="success"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M20 6L9 17l-5-5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),s==="error"&&e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),e.jsx("path",{d:"M15 9l-6 6M9 9l6 6",strokeWidth:"2",strokeLinecap:"round"})]})]}),e.jsx("h2",{children:s==="success"?"Email Verified!":s==="error"?"Verification Failed":"Verifying Email"}),e.jsx("p",{children:l}),s==="success"&&e.jsx("button",{className:"btn-primary",onClick:i(()=>r("/login"),"onClick"),children:"Go to Login"}),s==="error"&&e.jsx("button",{className:"btn-secondary",onClick:i(()=>r("/register"),"onClick"),children:"Back to Registration"})]})})},"EmailVerification");export{p as default};

import{r as s,b as e}from"./react-core-9vc7GIjk.js";import{x as v,a as h,C as E}from"./icons-vendor-BHKL7tCa.js";import{t as r}from"./index-CTpE3uWT.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const j=({fetchWithAuth:d,apiBaseUrl:p,roomSlug:c,userId:u,username:i,onClose:l})=>{const[o,m]=s.useState("60"),[f,x]=s.useState(""),[b,n]=s.useState(!1),y=[{label:"1 Dakika",value:"1"},{label:"5 Dakika",value:"5"},{label:"10 Dakika",value:"10"},{label:"30 Dakika",value:"30"},{label:"1 Saat",value:"60"},{label:"6 Saat",value:"360"},{label:"12 Saat",value:"720"},{label:"24 Saat",value:"1440"},{label:"7 Gün",value:"10080"}],g=async()=>{if(!o||parseInt(o)<=0){r.error("Geçerli bir süre girin");return}try{n(!0),(await d(`${p}/api/rooms/mute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:c,user_id:u,duration_minutes:parseInt(o),reason:f})})).ok?(r.success(`${i} ${o} dakika susturuldu`),l()):r.error("Susturma başarısız oldu")}catch(a){console.error("Mute hatası:",a),r.error("Bir hata oluştu")}finally{n(!1)}},k=async()=>{try{n(!0),(await d(`${p}/api/rooms/unmute/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({room_slug:c,user_id:u})})).ok?(r.success(`${i} susturması kaldırıldı`),l()):r.error("İşlem başarısız oldu")}catch(a){console.error("Unmute hatası:",a),r.error("Bir hata oluştu")}finally{n(!1)}};return e.createElement("div",{style:t.overlay,onClick:l},e.createElement("div",{style:t.modal,onClick:a=>a.stopPropagation()},e.createElement("div",{style:t.header},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},e.createElement(v,{style:{color:"#faa61a"}}),e.createElement("h2",{style:{margin:0}},"Timeout - ",i)),e.createElement(h,{onClick:l,style:t.closeBtn})),e.createElement("div",{style:t.content},e.createElement("div",{style:t.presets},y.map(a=>e.createElement("button",{key:a.value,onClick:()=>m(a.value),style:{...t.presetBtn,backgroundColor:o===a.value?"#5865f2":"#2c2f33"}},a.label))),e.createElement("div",{style:t.field},e.createElement("label",{style:t.label},"Özel Süre (dakika)"),e.createElement("input",{type:"number",value:o,onChange:a=>m(a.target.value),placeholder:"60",style:t.input,min:"1"})),e.createElement("div",{style:t.field},e.createElement("label",{style:t.label},"Sebep (opsiyonel)"),e.createElement("textarea",{value:f,onChange:a=>x(a.target.value),placeholder:"Spam, kural ihlali, vb.",style:t.textarea,rows:3})),e.createElement("div",{style:t.info},"⏰ Kullanıcı ",e.createElement("strong",null,o," dakika")," boyunca mesaj gönderemeyecek")),e.createElement("div",{style:t.footer},e.createElement("button",{onClick:k,style:t.unmuteBtn},e.createElement(E,null)," Susturmayı Kaldır"),e.createElement("button",{onClick:g,disabled:b,style:t.muteBtn},b?"İşleniyor...":"Timeout Uygula"))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},presets:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginBottom:"20px"},presetBtn:{padding:"12px",border:"none",borderRadius:"4px",color:"#fff",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"background-color 0.2s"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},textarea:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",resize:"vertical"},info:{backgroundColor:"#5865f21a",border:"1px solid #5865f2",borderRadius:"4px",padding:"15px",color:"#5865f2",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},unmuteBtn:{flex:1,backgroundColor:"#43b581",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},muteBtn:{flex:1,backgroundColor:"#faa61a",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{j as default};

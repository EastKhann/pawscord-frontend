{"version":3,"file":"AutoResponderManager-BT8eR5cy.js","sources":["../../../src/components/AutoResponderManager.js"],"sourcesContent":["// frontend/src/components/AutoResponderManager.js\r\nimport { useState, useEffect } from 'react';\r\nimport toast from '../utils/toast';\r\nimport { FaTimes, FaPlus, FaRobot, FaTrash } from 'react-icons/fa';\r\n\r\nconst AutoResponderManager = ({ onClose, fetchWithAuth, apiBaseUrl, serverId, embedded = false }) => {\r\n    const [responders, setResponders] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showCreate, setShowCreate] = useState(false);\r\n    const [newResponder, setNewResponder] = useState({ trigger: '', response: '', is_regex: false });\r\n\r\n    useEffect(() => {\r\n        loadResponders();\r\n    }, []);\r\n\r\n    const loadResponders = async () => {\r\n        try {\r\n            const res = await fetchWithAuth(`${apiBaseUrl}/autoresponders/list/`);\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setResponders(data.responders || []);\r\n            }\r\n        } catch (error) {\r\n            console.error('Load responders error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCreate = async () => {\r\n        if (!newResponder.trigger || !newResponder.response) {\r\n            toast.error('‚ùå Tetikleyici ve yanƒ±t gerekli');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const res = await fetchWithAuth(`${apiBaseUrl}/autoresponders/create/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify(newResponder)\r\n            });\r\n\r\n            if (res.ok) {\r\n                toast.success('‚úÖ Auto-responder olu≈üturuldu!');\r\n                setShowCreate(false);\r\n                setNewResponder({ trigger: '', response: '', is_regex: false });\r\n                loadResponders();\r\n            }\r\n        } catch (error) {\r\n            console.error('Create responder error:', error);\r\n        }\r\n    };\r\n\r\n    // ƒ∞√ßerik alanƒ±nƒ± olu≈ütur\r\n    const content = (\r\n        <>\r\n            {!showCreate && (\r\n                <button onClick={() => setShowCreate(true)} style={styles.createButton}>\r\n                    <FaPlus /> Yeni Otomatik Yanƒ±t\r\n                </button>\r\n            )}\r\n\r\n            {showCreate && (\r\n                <div style={styles.createForm}>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Tetikleyici kelime (√∂rn: merhaba)\"\r\n                        value={newResponder.trigger}\r\n                        onChange={(e) => setNewResponder({ ...newResponder, trigger: e.target.value })}\r\n                        style={styles.input}\r\n                    />\r\n                    <textarea\r\n                        placeholder=\"Otomatik yanƒ±t mesajƒ±\"\r\n                        value={newResponder.response}\r\n                        onChange={(e) => setNewResponder({ ...newResponder, response: e.target.value })}\r\n                        style={styles.textarea}\r\n                    />\r\n                    <label style={styles.checkbox}>\r\n                        <input\r\n                            type=\"checkbox\"\r\n                            checked={newResponder.is_regex}\r\n                            onChange={(e) => setNewResponder({ ...newResponder, is_regex: e.target.checked })}\r\n                        />\r\n                        <span style={{ marginLeft: '8px', color: '#b9bbbe' }}>Regex kullan</span>\r\n                    </label>\r\n                    <div style={{ display: 'flex', gap: '10px' }}>\r\n                        <button onClick={handleCreate} style={styles.submitButton}>Olu≈ütur</button>\r\n                        <button onClick={() => setShowCreate(false)} style={styles.cancelButton}>ƒ∞ptal</button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {loading ? (\r\n                <div style={styles.loading}>Y√ºkleniyor...</div>\r\n            ) : responders.length === 0 ? (\r\n                <div style={styles.empty}>Hen√ºz otomatik yanƒ±t olu≈üturulmamƒ±≈ü</div>\r\n            ) : (\r\n                <div style={styles.responderList}>\r\n                    {responders.map(resp => (\r\n                        <div key={resp.id} style={styles.responderItem}>\r\n                            <div>\r\n                                <div style={styles.trigger}>ü§ñ {resp.trigger}</div>\r\n                                <div style={styles.response}>{resp.response}</div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n\r\n    // Embedded mode: sadece i√ßeriƒüi render et\r\n    if (embedded) {\r\n        return <div style={styles.content}>{content}</div>;\r\n    }\r\n\r\n    // Standalone mode: overlay ve modal ile render et\r\n    return (\r\n        <div style={styles.overlay} onClick={onClose}>\r\n            <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n                <div style={styles.header}>\r\n                    <h2 style={styles.title}>\r\n                        <FaRobot /> Otomatik Yanƒ±tlar\r\n                    </h2>\r\n                    <button onClick={onClose} style={styles.closeButton}>\r\n                        <FaTimes />\r\n                    </button>\r\n                </div>\r\n                <div style={styles.content}>{content}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 10000\r\n    },\r\n    modal: {\r\n        backgroundColor: '#2b2d31',\r\n        borderRadius: '8px',\r\n        width: '90%',\r\n        maxWidth: '600px',\r\n        maxHeight: '80vh',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    header: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '20px',\r\n        borderBottom: '1px solid #40444b'\r\n    },\r\n    title: {\r\n        color: 'white',\r\n        margin: 0,\r\n        fontSize: '1.5em',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n    },\r\n    closeButton: {\r\n        background: 'none',\r\n        border: 'none',\r\n        color: '#b9bbbe',\r\n        cursor: 'pointer',\r\n        fontSize: '1.5em'\r\n    },\r\n    content: {\r\n        padding: '20px',\r\n        overflowY: 'auto',\r\n        flex: 1\r\n    },\r\n    createButton: {\r\n        width: '100%',\r\n        padding: '12px',\r\n        backgroundColor: '#5865f2',\r\n        border: 'none',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '8px',\r\n        marginBottom: '15px'\r\n    },\r\n    createForm: {\r\n        backgroundColor: '#40444b',\r\n        padding: '15px',\r\n        borderRadius: '8px',\r\n        marginBottom: '15px'\r\n    },\r\n    input: {\r\n        width: '100%',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n        backgroundColor: '#2b2d31',\r\n        border: '1px solid #5865f2',\r\n        borderRadius: '4px',\r\n        color: 'white'\r\n    },\r\n    textarea: {\r\n        width: '100%',\r\n        padding: '10px',\r\n        marginBottom: '10px',\r\n        minHeight: '80px',\r\n        backgroundColor: '#2b2d31',\r\n        border: '1px solid #5865f2',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        resize: 'vertical'\r\n    },\r\n    checkbox: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginBottom: '10px'\r\n    },\r\n    submitButton: {\r\n        flex: 1,\r\n        padding: '10px',\r\n        backgroundColor: '#3ba55d',\r\n        border: 'none',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer'\r\n    },\r\n    cancelButton: {\r\n        flex: 1,\r\n        padding: '10px',\r\n        backgroundColor: '#f04747',\r\n        border: 'none',\r\n        borderRadius: '4px',\r\n        color: 'white',\r\n        fontWeight: 'bold',\r\n        cursor: 'pointer'\r\n    },\r\n    loading: {\r\n        textAlign: 'center',\r\n        color: '#b9bbbe',\r\n        padding: '40px'\r\n    },\r\n    empty: {\r\n        textAlign: 'center',\r\n        color: '#b9bbbe',\r\n        padding: '40px'\r\n    },\r\n    responderList: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '10px'\r\n    },\r\n    responderItem: {\r\n        backgroundColor: '#40444b',\r\n        padding: '15px',\r\n        borderRadius: '8px'\r\n    },\r\n    trigger: {\r\n        color: '#5865f2',\r\n        fontWeight: 'bold',\r\n        marginBottom: '8px'\r\n    },\r\n    response: {\r\n        color: '#dcddde',\r\n        fontSize: '0.9em'\r\n    }\r\n};\r\n\r\nexport default AutoResponderManager;\r\n\r\n\r\n"],"names":["useState","useEffect","jsxs","Fragment","jsx"],"mappings":"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"}
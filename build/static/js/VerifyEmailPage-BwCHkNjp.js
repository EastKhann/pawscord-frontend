var m=Object.defineProperty;var i=(s,n)=>m(s,"name",{value:n,configurable:!0});import{r,j as e}from"./react-core-Djgtqrmb.js";import{v as h,w as y,x as b}from"./icons-vendor-BMXAt4pj.js";import{a as j,b as S}from"./router-vendor-gmJ9Mn-1.js";const L=i(({apiBaseUrl:s})=>{const{token:n}=j(),o=S(),[a,l]=r.useState("loading"),[x,c]=r.useState(""),[f,u]=r.useState("");r.useEffect(()=>{g()},[n]);const g=i(async()=>{try{const d=await fetch(`${s}/auth/verify-email/${n}/`),p=await d.json();d.ok?(l("success"),u(p.username),c("Email adresiniz başarıyla doğrulandı!"),setTimeout(()=>{o("/login")},3e3)):(l("error"),c(p.error||"Doğrulama başarısız oldu"))}catch{l("error"),c("Bağlantı hatası oluştu")}},"verifyEmail");return e.jsx("div",{style:t.container,children:e.jsxs("div",{style:t.card,children:[a==="loading"&&e.jsxs("div",{style:t.content,children:[e.jsx(h,{style:t.iconLoading}),e.jsx("h2",{style:t.title,children:"Email Doğrulanıyor..."}),e.jsx("p",{style:t.text,children:"Lütfen bekleyin..."})]}),a==="success"&&e.jsxs("div",{style:t.content,children:[e.jsx(y,{style:{...t.icon,color:"#23a559"}}),e.jsx("h2",{style:t.title,children:"✅ Başarılı!"}),e.jsx("p",{style:t.text,children:x}),e.jsxs("p",{style:t.username,children:["Hoş geldin, ",f,"!"]}),e.jsx("p",{style:t.redirect,children:"3 saniye içinde giriş sayfasına yönlendirileceksiniz..."}),e.jsx("button",{onClick:i(()=>o("/login"),"onClick"),style:t.button,children:"Hemen Giriş Yap"})]}),a==="error"&&e.jsxs("div",{style:t.content,children:[e.jsx(b,{style:{...t.icon,color:"#da373c"}}),e.jsx("h2",{style:t.title,children:"❌ Hata"}),e.jsx("p",{style:t.text,children:x}),e.jsxs("div",{style:t.errorReasons,children:[e.jsx("p",{style:t.reasonTitle,children:"Olası sebepler:"}),e.jsxs("ul",{style:t.reasonList,children:[e.jsx("li",{children:"Link süresi dolmuş olabilir (24 saat)"}),e.jsx("li",{children:"Link daha önce kullanılmış olabilir"}),e.jsx("li",{children:"Geçersiz bir link olabilir"})]})]}),e.jsx("button",{onClick:i(()=>o("/login"),"onClick"),style:t.button,children:"Giriş Sayfasına Dön"})]})]})})},"VerifyEmailPage"),t={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1e1f22",padding:"20px"},card:{backgroundColor:"#2b2d31",borderRadius:"12px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",textAlign:"center"},content:{display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},icon:{fontSize:"64px",marginBottom:"10px"},iconLoading:{fontSize:"64px",color:"#5865f2",animation:"spin 1s linear infinite",marginBottom:"10px"},title:{color:"#fff",fontSize:"28px",margin:0},text:{color:"#b9bbbe",fontSize:"16px",margin:0},username:{color:"#5865f2",fontSize:"20px",fontWeight:"bold",margin:0},redirect:{color:"#747f8d",fontSize:"14px",fontStyle:"italic"},button:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 32px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginTop:"10px",transition:"background-color 0.2s"},errorReasons:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"20px",marginTop:"10px",textAlign:"left"},reasonTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",marginBottom:"10px"},reasonList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"}};export{L as default};

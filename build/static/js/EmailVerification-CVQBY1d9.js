import{r as o,n as e}from"./react-core-zXIKm1Jm.js";import{a as u,b as f}from"./router-vendor-PJALNo1v.js";import"./editor-vendor-DiU449Dh.js";const p=()=>{const{token:n}=u(),r=f(),[s,i]=o.useState("verifying"),[l,t]=o.useState("Verifying your email...");o.useEffect(()=>{d()},[n]);const d=async()=>{try{const c=await(await fetch("/api/auth/verify-email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})})).json();c.success?(i("success"),t("Email verified successfully! Redirecting..."),setTimeout(()=>{r("/login")},3e3)):(i("error"),t(c.error||"Verification failed"))}catch(a){console.error("Verification error:",a),i("error"),t("An error occurred during verification")}};return e.jsx("div",{className:"email-verification",children:e.jsxs("div",{className:"verification-card",children:[e.jsxs("div",{className:`status-icon ${s}`,children:[s==="verifying"&&e.jsx("div",{className:"spinner"}),s==="success"&&e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{d:"M20 6L9 17l-5-5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),s==="error"&&e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",strokeWidth:"2"}),e.jsx("path",{d:"M15 9l-6 6M9 9l6 6",strokeWidth:"2",strokeLinecap:"round"})]})]}),e.jsx("h2",{children:s==="success"?"Email Verified!":s==="error"?"Verification Failed":"Verifying Email"}),e.jsx("p",{children:l}),s==="success"&&e.jsx("button",{className:"btn-primary",onClick:()=>r("/login"),children:"Go to Login"}),s==="error"&&e.jsx("button",{className:"btn-secondary",onClick:()=>r("/register"),children:"Back to Registration"})]})})};export{p as default};

import{r as a,d as e,b$ as i}from"./react-core-GQV1VuAT.js";function S({vanityPath:l,fetchWithAuth:c,onClose:d,apiBaseUrl:u}){const[x,m]=a.useState(!0),[p,g]=a.useState(null),[n,b]=a.useState(null),[s,f]=a.useState(!1);a.useEffect(()=>{y()},[l]);const y=async()=>{try{m(!0);const r=await fetch(`${u}/vanity/${l}/`);if(!r.ok)throw new Error("Sunucu bulunamadƒ±");const o=await r.json();b(o)}catch(r){g(r.message)}finally{m(!1)}},v=async()=>{if(n){if(!c){i.warning("üîê Sunucuya katƒ±lmak i√ßin giri≈ü yapmalƒ±sƒ±nƒ±z!"),window.location.hash="#/";return}try{f(!0);const r=await c(`${u}/servers/${n.server_id}/join/`,{method:"POST"});if(!r.ok){const o=await r.json().catch(()=>({})),E=o.error||o.message||"Sunucuya katƒ±lƒ±namadƒ±";throw new Error(E)}i.success(`‚úÖ ${n.server_name} sunucusuna katƒ±ldƒ±nƒ±z!`),window.location.hash=`#/?joined_server=${n.server_id}`,setTimeout(()=>window.location.reload(),100)}catch(r){r.message.includes("zaten")?i.info("‚ÑπÔ∏è Zaten bu sunucudasƒ±nƒ±z!"):i.error("‚ùå "+r.message)}finally{f(!1)}}};return x?e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},e.createElement("div",{style:t.loadingSpinner},"üîÑ"),e.createElement("p",{style:t.loadingText},"Sunucu bilgileri y√ºkleniyor..."))):p?e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},e.createElement("h1",{style:t.errorTitle},"‚ùå Sunucu Bulunamadƒ±"),e.createElement("p",{style:t.errorText},p),e.createElement("button",{style:t.backButton,onClick:()=>{d?d():window.location.hash="#/"}},"Ana Sayfaya D√∂n"))):e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},e.createElement("div",{style:t.avatarContainer},n.server_avatar?e.createElement("img",{src:n.server_avatar,alt:n.server_name,style:t.avatar}):e.createElement("div",{style:t.defaultAvatar},n.server_name.charAt(0).toUpperCase())),e.createElement("h1",{style:t.serverName},n.server_name),e.createElement("p",{style:t.inviteText},"seni ",e.createElement("strong",null,n.server_name)," sunucusuna davet etti"),e.createElement("div",{style:t.statsContainer},e.createElement("div",{style:t.stat},e.createElement("span",{style:t.onlineDot},"‚óè"),e.createElement("span",{style:t.statText},e.createElement("strong",null,n.online_count)," √áevrimi√ßi")),e.createElement("div",{style:t.stat},e.createElement("span",{style:t.memberDot},"‚óè"),e.createElement("span",{style:t.statText},e.createElement("strong",null,n.member_count)," √úye"))),e.createElement("button",{style:{...t.joinButton,...s?t.joinButtonDisabled:{}},onClick:v,disabled:s},s?"Katƒ±lƒ±nƒ±yor...":`${n.server_name} Sunucusuna Katƒ±l`),e.createElement("p",{style:t.vanityInfo},"pawscord.com/join/",n.vanity_path)))}const t={container:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",overflow:"auto"},card:{backgroundColor:"#36393f",borderRadius:"12px",padding:"40px",maxWidth:"450px",width:"100%",textAlign:"center",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.3)"},avatarContainer:{display:"flex",justifyContent:"center",marginBottom:"20px"},avatar:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"4px solid #5865f2"},defaultAvatar:{width:"100px",height:"100px",borderRadius:"50%",backgroundColor:"#5865f2",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"48px",fontWeight:"bold",color:"#fff",border:"4px solid #4752c4"},serverName:{fontSize:"28px",fontWeight:"bold",color:"#fff",marginBottom:"10px"},inviteText:{fontSize:"16px",color:"#b9bbbe",marginBottom:"25px"},statsContainer:{display:"flex",justifyContent:"center",gap:"30px",marginBottom:"30px",padding:"15px",backgroundColor:"#2f3136",borderRadius:"8px"},stat:{display:"flex",alignItems:"center",gap:"8px"},onlineDot:{color:"#3ba55d",fontSize:"12px"},memberDot:{color:"#747f8d",fontSize:"12px"},statText:{color:"#b9bbbe",fontSize:"14px"},joinButton:{width:"100%",padding:"15px",backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s",marginBottom:"15px"},joinButtonDisabled:{backgroundColor:"#4752c4",cursor:"not-allowed",opacity:.6},vanityInfo:{fontSize:"12px",color:"#72767d",marginTop:"10px"},loadingSpinner:{fontSize:"48px",marginBottom:"20px",animation:"spin 1s linear infinite"},loadingText:{color:"#b9bbbe",fontSize:"16px"},errorTitle:{fontSize:"24px",color:"#ed4245",marginBottom:"15px"},errorText:{color:"#b9bbbe",marginBottom:"20px"},backButton:{padding:"12px 24px",backgroundColor:"#4f545c",color:"#fff",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer"}};export{S as default};

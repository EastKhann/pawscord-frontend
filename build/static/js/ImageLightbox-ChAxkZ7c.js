var X=Object.defineProperty;var m=(r,l)=>X(r,"name",{value:l,configurable:!0});import{a as W,r as o,j as e,f as A}from"./react-core-Djgtqrmb.js";import{cb as $,cc as Z,aD as O,b2 as T,a5 as _,a as H,cd as J,bJ as K}from"./icons-vendor-BMXAt4pj.js";const N=m(({imageUrl:r,images:l=[],startIndex:D=0,onClose:f})=>{const[p,k]=o.useState(D),[b,i]=o.useState(1),[B,h]=o.useState(0),[g,d]=o.useState({x:0,y:0}),[u,R]=o.useState(!1),x=o.useRef({startX:0,startY:0,startPosX:0,startPosY:0}),s=l.length>0?l:r?[r]:[],y=s[p]||r,c=s.length>1,v=o.useCallback(()=>{c&&(k(t=>(t+1)%s.length),i(1),h(0),d({x:0,y:0}))},[c,s.length]),j=o.useCallback(()=>{c&&(k(t=>(t-1+s.length)%s.length),i(1),h(0),d({x:0,y:0}))},[c,s.length]),C=o.useCallback(()=>i(t=>Math.min(t+.5,5)),[]),w=o.useCallback(()=>{i(t=>{const a=Math.max(t-.5,.5);return a<=1&&d({x:0,y:0}),a})},[]),I=o.useCallback(()=>h(t=>(t+90)%360),[]),E=o.useCallback(()=>{i(1),h(0),d({x:0,y:0})},[]),M=o.useCallback(()=>{const t=document.createElement("a");t.href=y,t.download=y.split("/").pop()||"image",t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},[y]);o.useEffect(()=>{const t=m(a=>{switch(a.key){case"Escape":f();break;case"ArrowRight":v();break;case"ArrowLeft":j();break;case"+":case"=":C();break;case"-":w();break;case"r":I();break;case"0":E();break}},"handler");return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[f,v,j,C,w,I,E]);const z=o.useCallback(t=>{t.preventDefault(),t.deltaY<0?i(a=>Math.min(a+.2,5)):i(a=>Math.max(a-.2,.5))},[]),F=o.useCallback(t=>{b<=1||(t.preventDefault(),R(!0),x.current={startX:t.clientX,startY:t.clientY,startPosX:g.x,startPosY:g.y})},[b,g]),S=o.useCallback(t=>{if(!u)return;const a=t.clientX-x.current.startX,Y=t.clientY-x.current.startY;d({x:x.current.startPosX+a,y:x.current.startPosY+Y})},[u]),L=o.useCallback(()=>R(!1),[]);o.useEffect(()=>{if(u)return window.addEventListener("mousemove",S),window.addEventListener("mouseup",L),()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",L)}},[u,S,L]);const P=e.jsxs("div",{style:n.overlay,onClick:m(t=>t.target===t.currentTarget&&f(),"onClick"),children:[e.jsxs("div",{style:n.toolbar,children:[e.jsxs("div",{style:n.toolbarLeft,children:[c&&e.jsxs("span",{style:n.counter,children:[p+1," / ",s.length]}),e.jsxs("span",{style:n.zoomLabel,children:[Math.round(b*100),"%"]})]}),e.jsxs("div",{style:n.toolbarActions,children:[e.jsx("button",{style:n.toolBtn,onClick:w,title:"Uzaklaştır (-)",children:e.jsx($,{})}),e.jsx("button",{style:n.toolBtn,onClick:C,title:"Yakınlaştır (+)",children:e.jsx(Z,{})}),e.jsx("button",{style:n.toolBtn,onClick:I,title:"Döndür (R)",children:e.jsx(O,{})}),e.jsx("button",{style:n.toolBtn,onClick:E,title:"Sıfırla (0)",children:e.jsx(T,{})}),e.jsx("div",{style:n.toolDivider}),e.jsx("button",{style:n.toolBtn,onClick:M,title:"İndir",children:e.jsx(_,{})}),e.jsx("button",{style:{...n.toolBtn,...n.closeBtn},onClick:f,title:"Kapat (Esc)",children:e.jsx(H,{})})]})]}),c&&e.jsxs(e.Fragment,{children:[e.jsx("button",{style:{...n.navBtn,left:16},onClick:j,children:e.jsx(J,{})}),e.jsx("button",{style:{...n.navBtn,right:16},onClick:v,children:e.jsx(K,{})})]}),e.jsx("div",{style:n.imageContainer,onWheel:z,onMouseDown:F,children:e.jsx("img",{src:y,alt:"Preview",draggable:!1,style:{...n.image,transform:`translate(${g.x}px, ${g.y}px) scale(${b}) rotate(${B}deg)`,cursor:b>1?u?"grabbing":"grab":"default",transition:u?"none":"transform 0.2s ease"}})}),c&&e.jsx("div",{style:n.thumbStrip,children:s.map((t,a)=>e.jsx("div",{onClick:m(()=>{k(a),i(1),h(0),d({x:0,y:0})},"onClick"),style:{...n.thumb,borderColor:a===p?"#5865f2":"transparent",opacity:a===p?1:.5},children:e.jsx("img",{src:t,alt:"",style:n.thumbImg})},a))})]});return A.createPortal(P,document.body)},"ImageLightbox"),n={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.92)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},toolbar:{position:"absolute",top:0,left:0,right:0,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 20px",background:"linear-gradient(to bottom, rgba(0,0,0,0.7), transparent)",zIndex:10},toolbarLeft:{display:"flex",alignItems:"center",gap:12},toolbarActions:{display:"flex",alignItems:"center",gap:4},counter:{color:"#fff",fontSize:14,fontWeight:600},zoomLabel:{color:"#949ba4",fontSize:12},toolBtn:{background:"rgba(255,255,255,0.1)",border:"none",color:"#fff",width:36,height:36,borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,transition:"background 0.15s"},closeBtn:{background:"rgba(218,55,60,0.3)"},toolDivider:{width:1,height:20,backgroundColor:"rgba(255,255,255,0.2)",margin:"0 4px"},navBtn:{position:"absolute",top:"50%",transform:"translateY(-50%)",background:"rgba(0,0,0,0.6)",border:"none",color:"#fff",width:48,height:48,borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,zIndex:10,transition:"background 0.15s"},imageContainer:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",width:"100%"},image:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain",userSelect:"none",pointerEvents:"none"},thumbStrip:{position:"absolute",bottom:16,display:"flex",gap:8,padding:"8px 12px",backgroundColor:"rgba(0,0,0,0.7)",borderRadius:12,maxWidth:"80vw",overflowX:"auto"},thumb:{width:48,height:48,borderRadius:6,border:"2px solid transparent",cursor:"pointer",overflow:"hidden",flexShrink:0,transition:"all 0.15s"},thumbImg:{width:"100%",height:"100%",objectFit:"cover"}};if(typeof document<"u"){const r="lightbox-styles";if(!document.getElementById(r)){const l=document.createElement("style");l.id=r,l.textContent=`
            [data-lb-tool]:hover { background: rgba(255,255,255,0.2) !important; }
            [data-lb-nav]:hover { background: rgba(0,0,0,0.8) !important; }
        `,document.head.appendChild(l)}}const Q=W.memo(N);export{Q as default};

import{S as C,T as w,r as o,V as v,W as z,y as T,aw as m,ax as g}from"./react-core-B6hadH-M.js";const L=({apiBaseUrl:x})=>{const{token:b}=C(),s=w(),[r,y]=o.useState(""),[a,h]=o.useState(""),[d,R]=o.useState(!1),[f,E]=o.useState(!1),[n,i]=o.useState("idle"),[p,l]=o.useState(""),c=(t=>t.length===0?{score:0,text:"",color:""}:t.length<6?{score:1,text:"√áok Zayƒ±f",color:"#da373c"}:t.length<8?{score:2,text:"Zayƒ±f",color:"#f0b132"}:t.length<12?{score:3,text:"Orta",color:"#5865f2"}:t.length<16?{score:4,text:"G√º√ßl√º",color:"#23a559"}:{score:5,text:"√áok G√º√ßl√º",color:"#23a559"})(r),k=async t=>{if(t.preventDefault(),l(""),r.length<6){l("≈ûifre en az 6 karakter olmalƒ±");return}if(r!==a){l("≈ûifreler e≈üle≈ümiyor");return}i("loading");try{const u=await fetch(`${x}/auth/reset-password/${b}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r})}),S=await u.json();u.ok?(i("success"),setTimeout(()=>{s("/login")},3e3)):(l(S.error||"≈ûifre sƒ±fƒ±rlama ba≈üarƒ±sƒ±z oldu"),i("error"))}catch{l("Baƒülantƒ± hatasƒ± olu≈ütu"),i("error")}};return n==="success"?React.createElement("div",{style:e.container},React.createElement("div",{style:e.card},React.createElement(v,{style:{...e.icon,color:"#23a559"}}),React.createElement("h2",{style:e.title},"‚úÖ ≈ûifre Deƒüi≈ütirildi!"),React.createElement("p",{style:e.text},"≈ûifreniz ba≈üarƒ±yla deƒüi≈ütirildi."),React.createElement("p",{style:e.redirect},"3 saniye i√ßinde giri≈ü sayfasƒ±na y√∂nlendirileceksiniz..."),React.createElement("button",{onClick:()=>s("/login"),style:e.button},"Hemen Giri≈ü Yap"))):n==="error"?React.createElement("div",{style:e.container},React.createElement("div",{style:e.card},React.createElement(z,{style:{...e.icon,color:"#da373c"}}),React.createElement("h2",{style:e.title},"‚ùå Hata"),React.createElement("p",{style:e.text},p),React.createElement("div",{style:e.errorReasons},React.createElement("p",{style:e.reasonTitle},"Olasƒ± sebepler:"),React.createElement("ul",{style:e.reasonList},React.createElement("li",null,"Link s√ºresi dolmu≈ü olabilir (1 saat)"),React.createElement("li",null,"Link daha √∂nce kullanƒ±lmƒ±≈ü olabilir"),React.createElement("li",null,"Ge√ßersiz bir link olabilir"))),React.createElement("button",{onClick:()=>s("/forgot-password"),style:e.button},"Yeni Link ƒ∞ste"))):React.createElement("div",{style:e.container},React.createElement("div",{style:e.card},React.createElement(T,{style:e.icon}),React.createElement("h2",{style:e.title},"Yeni ≈ûifre Belirle"),React.createElement("p",{style:e.text},"Hesabƒ±nƒ±z i√ßin yeni bir ≈üifre olu≈üturun."),React.createElement("form",{onSubmit:k,style:e.form},React.createElement("div",{style:e.inputContainer},React.createElement("input",{type:d?"text":"password",placeholder:"Yeni ≈üifre",value:r,onChange:t=>y(t.target.value),required:!0,style:e.input,disabled:n==="loading"}),React.createElement("button",{type:"button",onClick:()=>R(!d),style:e.eyeButton},d?React.createElement(m,null):React.createElement(g,null))),r&&React.createElement("div",{style:e.strengthContainer},React.createElement("div",{style:e.strengthBar},React.createElement("div",{style:{...e.strengthFill,width:`${c.score/5*100}%`,backgroundColor:c.color}})),React.createElement("span",{style:{...e.strengthText,color:c.color}},c.text)),React.createElement("div",{style:e.inputContainer},React.createElement("input",{type:f?"text":"password",placeholder:"≈ûifre tekrar",value:a,onChange:t=>h(t.target.value),required:!0,style:e.input,disabled:n==="loading"}),React.createElement("button",{type:"button",onClick:()=>E(!f),style:e.eyeButton},f?React.createElement(m,null):React.createElement(g,null))),a&&React.createElement("div",{style:r===a?e.matchGood:e.matchBad},r===a?"‚úÖ ≈ûifreler e≈üle≈üiyor":"‚ùå ≈ûifreler e≈üle≈ümiyor"),p&&React.createElement("div",{style:e.error},"‚ùå ",p),React.createElement("button",{type:"submit",style:e.submitButton,disabled:n==="loading"||r!==a},n==="loading"?"Kaydediliyor...":"≈ûifreyi Deƒüi≈ütir")),React.createElement("div",{style:e.info},React.createElement("p",{style:e.infoTitle},"üí° G√º√ßl√º ≈ûifre ƒ∞pu√ßlarƒ±:"),React.createElement("ul",{style:e.infoList},React.createElement("li",null,"En az 8 karakter kullanƒ±n"),React.createElement("li",null,"B√ºy√ºk ve k√º√ß√ºk harf karƒ±≈üƒ±mƒ±"),React.createElement("li",null,"Rakam ve √∂zel karakter ekleyin"),React.createElement("li",null,"Kolay tahmin edilebilir ≈üifrelerden ka√ßƒ±nƒ±n")))))},e={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1e1f22",padding:"20px"},card:{backgroundColor:"#2b2d31",borderRadius:"12px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},icon:{fontSize:"64px",color:"#5865f2",display:"block",margin:"0 auto 20px"},title:{color:"#fff",fontSize:"28px",textAlign:"center",margin:"0 0 10px 0"},text:{color:"#b9bbbe",fontSize:"16px",textAlign:"center",marginBottom:"30px"},form:{display:"flex",flexDirection:"column",gap:"15px"},inputContainer:{position:"relative"},input:{backgroundColor:"#1e1f22",border:"1px solid #1e1f22",borderRadius:"6px",padding:"12px",paddingRight:"45px",color:"#fff",fontSize:"16px",outline:"none",width:"100%",boxSizing:"border-box"},eyeButton:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"18px"},strengthContainer:{display:"flex",alignItems:"center",gap:"10px"},strengthBar:{flex:1,height:"6px",backgroundColor:"#1e1f22",borderRadius:"3px",overflow:"hidden"},strengthFill:{height:"100%",transition:"all 0.3s"},strengthText:{fontSize:"12px",fontWeight:"bold",minWidth:"80px"},matchGood:{color:"#23a559",fontSize:"14px",textAlign:"center"},matchBad:{color:"#da373c",fontSize:"14px",textAlign:"center"},error:{backgroundColor:"#da373c",color:"#fff",padding:"12px",borderRadius:"6px",fontSize:"14px",textAlign:"center"},submitButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s"},button:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 32px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginTop:"20px",display:"block",width:"100%"},redirect:{color:"#747f8d",fontSize:"14px",fontStyle:"italic",textAlign:"center",marginTop:"10px"},info:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"15px",marginTop:"20px"},infoTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",margin:"0 0 10px 0"},infoList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"},errorReasons:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"20px",marginTop:"10px",textAlign:"left"},reasonTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",marginBottom:"10px"},reasonList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"}};export{L as default};

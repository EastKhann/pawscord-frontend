{"version":3,"file":"BookmarkButton-4T0EDdDg.js","sources":["../../../src/components/BookmarkButton.js"],"sourcesContent":["// frontend/src/components/BookmarkButton.js\r\nimport { useState } from 'react';\r\nimport { FaBookmark, FaRegBookmark, FaStar, FaRegStar, FaClock } from 'react-icons/fa';\r\n\r\nexport const BookmarkButton = ({ messageId, isBookmarked, fetchWithAuth, apiBaseUrl, onUpdate }) => {\r\n    const [bookmarked, setBookmarked] = useState(isBookmarked);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleToggle = async (e) => {\r\n        e.stopPropagation();\r\n        if (loading) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetchWithAuth(`${apiBaseUrl}/messages/bookmark/toggle/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({ message_id: messageId })\r\n            });\r\n\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setBookmarked(data.bookmarked);\r\n                if (onUpdate) onUpdate(data.bookmarked);\r\n            }\r\n        } catch (error) {\r\n            console.error('Bookmark error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={handleToggle}\r\n            disabled={loading}\r\n            style={{\r\n                background: 'none',\r\n                border: 'none',\r\n                color: bookmarked ? '#faa61a' : '#b9bbbe',\r\n                cursor: loading ? 'wait' : 'pointer',\r\n                fontSize: '1em',\r\n                padding: '5px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                opacity: loading ? 0.5 : 1\r\n            }}\r\n            title={bookmarked ? 'Bookmark kaldır' : 'Bookmark ekle'}\r\n        >\r\n            {bookmarked ? <FaBookmark /> : <FaRegBookmark />}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport const StarButton = ({ messageId, isStarred, fetchWithAuth, apiBaseUrl, onUpdate }) => {\r\n    const [starred, setStarred] = useState(isStarred);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleToggle = async (e) => {\r\n        e.stopPropagation();\r\n        if (loading) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetchWithAuth(`${apiBaseUrl}/messages/star/toggle/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({ message_id: messageId })\r\n            });\r\n\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setStarred(data.starred);\r\n                if (onUpdate) onUpdate(data.starred);\r\n            }\r\n        } catch (error) {\r\n            console.error('Star error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={handleToggle}\r\n            disabled={loading}\r\n            style={{\r\n                background: 'none',\r\n                border: 'none',\r\n                color: starred ? '#ffd700' : '#b9bbbe',\r\n                cursor: loading ? 'wait' : 'pointer',\r\n                fontSize: '1em',\r\n                padding: '5px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                opacity: loading ? 0.5 : 1\r\n            }}\r\n            title={starred ? 'Yıldız kaldır' : 'Yıldız ekle'}\r\n        >\r\n            {starred ? <FaStar /> : <FaRegStar />}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport const ReadLaterButton = ({ messageId, isReadLater, fetchWithAuth, apiBaseUrl, onUpdate }) => {\r\n    const [readLater, setReadLater] = useState(isReadLater);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleToggle = async (e) => {\r\n        e.stopPropagation();\r\n        if (loading) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetchWithAuth(`${apiBaseUrl}/messages/readlater/toggle/`, {\r\n                method: 'POST',\r\n                body: JSON.stringify({ message_id: messageId })\r\n            });\r\n\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setReadLater(data.read_later);\r\n                if (onUpdate) onUpdate(data.read_later);\r\n            }\r\n        } catch (error) {\r\n            console.error('Read later error:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <button\r\n            onClick={handleToggle}\r\n            disabled={loading}\r\n            style={{\r\n                background: 'none',\r\n                border: 'none',\r\n                color: readLater ? '#3ba55d' : '#b9bbbe',\r\n                cursor: loading ? 'wait' : 'pointer',\r\n                fontSize: '1em',\r\n                padding: '5px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                opacity: loading ? 0.5 : 1\r\n            }}\r\n            title={readLater ? 'Sonra oku listesinden çıkar' : 'Sonra oku listesine ekle'}\r\n        >\r\n            <FaClock />\r\n        </button>\r\n    );\r\n};\r\n\r\n\r\n"],"names":["useState","jsx"],"mappings":"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"}
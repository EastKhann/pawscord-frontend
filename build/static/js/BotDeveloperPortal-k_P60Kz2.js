import{r as h,j as e}from"./react-core-D6cE4lil.js";import{bl as Y,aV as J,B as D,an as U,a as Q,aM as X,aN as Z,at as ee,g as se,y as ae,O as H,a2 as te,$ as ne,a0 as le,c as ie,j as G,ao as oe}from"./icons-vendor-fClA8qVL.js";import{t as d,d as I}from"./index-B3eDbSm-.js";import"./media-vendor-Du00QUHb.js";import"./router-vendor-wrB4dqw3.js";import"./state-vendor-DnurjGY_.js";import"./crypto-vendor-Drccqhv1.js";import"./ui-vendor-CZOhtEfS.js";const q={messages:!0,reactions:!0,presence:!1,members:!1,voice:!1},R={name:"",description:"",avatar_url:"",prefix:"!",is_public:!1,intents:{...q}},ce=[{id:"message_create",label:"Mesaj GÃ¶nderildi"},{id:"message_edit",label:"Mesaj DÃ¼zenlendi"},{id:"message_delete",label:"Mesaj Silindi"},{id:"reaction_add",label:"Reaction Eklendi"},{id:"reaction_remove",label:"Reaction KaldÄ±rÄ±ldÄ±"},{id:"member_join",label:"Ãœye KatÄ±ldÄ±"},{id:"member_leave",label:"Ãœye AyrÄ±ldÄ±"},{id:"voice_join",label:"Ses KanalÄ±na KatÄ±ldÄ±"},{id:"voice_leave",label:"Ses KanalÄ±ndan AyrÄ±ldÄ±"}],re=c=>{const[B,k]=h.useState("list"),[n,o]=h.useState([]),[m,i]=h.useState(null),[S,_]=h.useState(!0),[u,N]=h.useState({}),[l,r]=h.useState({...R}),[E,g]=h.useState(!1),[y,w]=h.useState(""),[v,f]=h.useState([]);h.useEffect(()=>{O()},[]);const F=()=>localStorage.getItem("access_token"),j=()=>({Authorization:`Bearer ${F()}`}),C=()=>({...j(),"Content-Type":"application/json"}),O=async()=>{try{const a=await fetch(`${c}/bots/my/`,{headers:j()});if(a.ok){const t=await a.json();o(t.bots||[])}}catch{}finally{_(!1)}};return{view:B,setView:k,bots:n,selectedBot:m,setSelectedBot:i,loading:S,showToken:u,setShowToken:N,botForm:l,setBotForm:r,showWebhookForm:E,setShowWebhookForm:g,webhookUrl:y,setWebhookUrl:w,webhookEvents:v,setWebhookEvents:f,handleCreateBot:async()=>{if(!l.name.trim()){d.error("âš ï¸ Bot adÄ± gerekli");return}try{const a=await fetch(`${c}/bots/create/`,{method:"POST",headers:C(),body:JSON.stringify(l)});if(a.ok){const t=await a.json();o([...n,t.bot]),r({...R}),k("list"),d.success("âœ… Bot oluÅŸturuldu!"),i(t.bot),N({[t.bot.id]:!0})}else{const t=await a.json();d.error(t.error||"âŒ Bot oluÅŸturulamadÄ±")}}catch{d.error("âŒ Hata oluÅŸtu")}},handleUpdateBot:async()=>{if(m)try{const a=await fetch(`${c}/bots/${m.id}/update/`,{method:"PUT",headers:C(),body:JSON.stringify(l)});if(a.ok){const t=await a.json();o(n.map(x=>x.id===m.id?t.bot:x)),k("list"),d.success("âœ… Bot gÃ¼ncellendi!")}}catch{}},handleDeleteBot:async a=>{if(await I("Bu botu silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz."))try{(await fetch(`${c}/bots/${a}/delete/`,{method:"DELETE",headers:j()})).ok&&(o(n.filter(x=>x.id!==a)),m?.id===a&&i(null),d.success("âœ… Bot silindi"))}catch{}},handleRegenerateToken:async a=>{if(await I("Token yenilenecek. Eski token geÃ§ersiz olacak. Devam?"))try{const t=await fetch(`${c}/bots/${a}/regenerate-token/`,{method:"POST",headers:j()});if(t.ok){const x=await t.json();o(n.map(T=>T.id===a?{...T,token:x.token}:T)),N({...u,[a]:!0}),d.success("âœ… Token yenilendi!")}}catch{}},handleCreateWebhook:async a=>{if(!y.trim()){d.error("âš ï¸ Webhook URL gerekli");return}try{(await fetch(`${c}/bots/${a}/webhook/`,{method:"POST",headers:C(),body:JSON.stringify({url:y,events:v})})).ok&&(d.success("âœ… Webhook oluÅŸturuldu!"),g(!1),w(""),f([]))}catch{}},handleToggleBotStatus:async(a,t)=>{try{if((await fetch(`${c}/bots/${a}/${t==="online"?"pause":"start"}/`,{method:"POST",headers:j()})).ok){const L=t==="online"?"offline":"online";o(n.map(A=>A.id===a?{...A,status:L}:A)),d.success(L==="online"?"âœ… Bot baÅŸlatÄ±ldÄ±!":"â¸ï¸ Bot durduruldu")}}catch{}},copyToClipboard:a=>{navigator.clipboard.writeText(a),d.success("ðŸ“‹ Panoya kopyalandÄ±!")},editBot:a=>{r({name:a.name,description:a.description||"",avatar_url:a.avatar_url||"",prefix:a.prefix||"!",is_public:a.is_public||!1,intents:a.intents||{...q}}),i(a),k("edit")},resetForm:()=>{r({...R}),i(null)}}},V=`const PAWSCORD = require('pawscord-bot');

const bot = new PAWSCORD.Client({
    token: 'YOUR_BOT_TOKEN'
});

bot.on('message', (message) => {
    if (message.content === '!ping') {
        message.reply('Pong! ðŸ“');
    }
});

bot.connect();`,de=({copyToClipboard:c})=>e.jsxs("div",{className:"docs-view",children:[e.jsxs("h3",{children:[e.jsx(Y,{})," Bot API Dok","Ã¼","mantasyonu"]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸš€"," H","Ä±","zl","Ä±"," Ba","ÅŸ","lang","Ä±Ã§"]}),e.jsxs("p",{children:["PAWSCORD Bot API ile kendi botunuzu olu","ÅŸ","turabilirsiniz."]}),e.jsxs("div",{className:"code-block",children:[e.jsxs("div",{className:"code-header",children:[e.jsx("span",{children:"JavaScript (Node.js)"}),e.jsx("button",{onClick:()=>c(V),children:e.jsx(J,{})})]}),e.jsx("pre",{children:V})]})]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸ“¡"," API Endpoints"]}),e.jsxs("div",{className:"endpoint-list",children:[e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method get",children:"GET"}),e.jsx("code",{children:"/api/bots/@me"}),e.jsx("span",{children:"Bot bilgilerini al"})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method post",children:"POST"}),e.jsx("code",{children:"/api/messages/send"}),e.jsxs("span",{children:["Mesaj g","Ã¶","nder"]})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method post",children:"POST"}),e.jsx("code",{children:"/api/reactions/add"}),e.jsx("span",{children:"Reaction ekle"})]}),e.jsxs("div",{className:"endpoint",children:[e.jsx("span",{className:"method get",children:"GET"}),e.jsx("code",{children:"/api/servers"}),e.jsx("span",{children:"Sunucu listesi"})]})]})]}),e.jsxs("div",{className:"docs-section",children:[e.jsxs("h4",{children:["ðŸ”—"," WebSocket Events"]}),e.jsxs("div",{className:"event-list",children:[e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"MESSAGE_CREATE"}),e.jsxs("span",{children:["Yeni mesaj g","Ã¶","nderildi","ÄŸ","inde"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"REACTION_ADD"}),e.jsxs("span",{children:["Reaction eklendi","ÄŸ","inde"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"MEMBER_JOIN"}),e.jsxs("span",{children:["Ãœ","ye sunucuya kat","Ä±","ld","Ä±ÄŸÄ±","nda"]})]}),e.jsxs("div",{className:"event",children:[e.jsx("code",{children:"VOICE_STATE_UPDATE"}),e.jsxs("span",{children:["Ses durumu de","ÄŸ","i","ÅŸ","ti","ÄŸ","inde"]})]})]})]})]}),ke=({apiBaseUrl:c,onClose:B,currentUser:k})=>{const{view:n,setView:o,bots:m,selectedBot:i,setSelectedBot:S,loading:_,showToken:u,setShowToken:N,botForm:l,setBotForm:r,showWebhookForm:E,setShowWebhookForm:g,webhookUrl:y,setWebhookUrl:w,webhookEvents:v,setWebhookEvents:f,handleCreateBot:F,handleUpdateBot:j,handleDeleteBot:C,handleRegenerateToken:O,handleCreateWebhook:W,handleToggleBotStatus:$,copyToClipboard:P,editBot:z,resetForm:M}=re(c);return e.jsx("div",{className:"bot-portal-overlay",onClick:B,children:e.jsxs("div",{className:"bot-portal-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"portal-header",children:[e.jsxs("h2",{children:[e.jsx(D,{})," Bot GeliÅŸtirici PortalÄ±"]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:`nav-btn ${n==="list"?"active":""}`,onClick:()=>o("list"),children:[e.jsx(D,{})," BotlarÄ±m"]}),e.jsxs("button",{className:`nav-btn ${n==="create"?"active":""}`,onClick:()=>{o("create"),M()},children:[e.jsx(U,{})," Yeni Bot"]}),e.jsxs("button",{className:`nav-btn ${n==="docs"?"active":""}`,onClick:()=>o("docs"),children:[e.jsx(Y,{})," DokÃ¼mantasyon"]})]}),e.jsx("button",{className:"close-btn",onClick:B,children:e.jsx(Q,{})})]}),e.jsxs("div",{className:"portal-content",children:[n==="list"&&e.jsx("div",{className:"bots-list-view",children:_?e.jsx("div",{className:"loading",children:"YÃ¼kleniyor..."}):m.length>0?e.jsx("div",{className:"bots-grid",children:m.map(s=>e.jsxs("div",{className:"bot-card",children:[e.jsxs("div",{className:"bot-header",children:[e.jsx("img",{src:s.avatar_url||"/default-bot.png",alt:s.name,className:"bot-avatar"}),e.jsxs("div",{className:"bot-info",children:[e.jsx("h3",{children:s.name}),e.jsx("span",{className:`bot-status ${s.status||"offline"}`,children:s.status==="online"?"ðŸŸ¢ Online":"ðŸ”´ Offline"})]}),e.jsxs("div",{className:"bot-actions",children:[e.jsx("button",{className:"action-btn",onClick:()=>$(s.id,s.status),title:s.status==="online"?"Durdur":"BaÅŸlat",children:s.status==="online"?e.jsx(X,{}):e.jsx(Z,{})}),e.jsx("button",{className:"action-btn",onClick:()=>z(s),title:"DÃ¼zenle",children:e.jsx(ee,{})}),e.jsx("button",{className:"action-btn delete",onClick:()=>C(s.id),title:"Sil",children:e.jsx(se,{})})]})]}),e.jsx("p",{className:"bot-description",children:s.description||"AÃ§Ä±klama yok"}),e.jsxs("div",{className:"bot-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx(ae,{}),e.jsxs("span",{children:[s.servers_count||0," sunucu"]})]}),e.jsxs("div",{className:"stat",children:[e.jsx(H,{}),e.jsxs("span",{children:[s.commands_used||0," komut"]})]})]}),e.jsxs("div",{className:"bot-token-section",children:[e.jsxs("div",{className:"token-header",children:[e.jsx(te,{})," Token",e.jsx("button",{className:"toggle-token",onClick:()=>N({...u,[s.id]:!u[s.id]}),children:u[s.id]?e.jsx(ne,{}):e.jsx(le,{})})]}),e.jsxs("div",{className:"token-value",children:[e.jsx("code",{children:u[s.id]?s.token:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{className:"copy-btn",onClick:()=>P(s.token),children:e.jsx(J,{})})]}),e.jsxs("button",{className:"regenerate-btn",onClick:()=>O(s.id),children:[e.jsx(ie,{})," Token Yenile"]})]}),e.jsxs("div",{className:"bot-footer",children:[e.jsxs("button",{className:"webhook-btn",onClick:()=>{S(s),g(!0)},children:[e.jsx(G,{})," Webhook Ekle"]}),e.jsxs("button",{className:"analytics-btn",onClick:()=>{S(s),o("analytics")},children:[e.jsx(H,{})," Analitik"]})]})]},s.id))}):e.jsxs("div",{className:"no-bots",children:[e.jsx(D,{className:"empty-icon"}),e.jsx("p",{children:"HenÃ¼z bot oluÅŸturmadÄ±nÄ±z"}),e.jsxs("button",{onClick:()=>o("create"),children:[e.jsx(U,{})," Ä°lk botunu oluÅŸtur"]})]})}),(n==="create"||n==="edit")&&e.jsxs("div",{className:"bot-form-view",children:[e.jsx("h3",{children:n==="create"?"ðŸ¤– Yeni Bot OluÅŸtur":"âœï¸ Bot DÃ¼zenle"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bot AdÄ± *"}),e.jsx("input",{type:"text",placeholder:"Harika Bot",value:l.name,onChange:s=>r({...l,name:s.target.value}),maxLength:32})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"AÃ§Ä±klama"}),e.jsx("textarea",{placeholder:"Bu bot ne yapar?",value:l.description,onChange:s=>r({...l,description:s.target.value}),rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Avatar URL"}),e.jsx("input",{type:"text",placeholder:"https://...",value:l.avatar_url,onChange:s=>r({...l,avatar_url:s.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Komut Prefix"}),e.jsx("input",{type:"text",placeholder:"!",value:l.prefix,onChange:s=>r({...l,prefix:s.target.value}),maxLength:5})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bot Ä°zinleri (Intents)"}),e.jsx("div",{className:"intents-grid",children:Object.entries(l.intents).map(([s,b])=>e.jsxs("label",{className:"intent-checkbox",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:p=>r({...l,intents:{...l.intents,[s]:p.target.checked}})}),e.jsx("span",{children:s.charAt(0).toUpperCase()+s.slice(1)})]},s))})]}),e.jsx("div",{className:"form-group checkbox",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:l.is_public,onChange:s=>r({...l,is_public:s.target.checked})}),e.jsx("span",{children:"Bot'u herkese aÃ§Ä±k yap (keÅŸfedilebilir)"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{className:"submit-btn",onClick:n==="create"?F:j,children:[e.jsx(oe,{})," ",n==="create"?"Bot OluÅŸtur":"Kaydet"]}),e.jsx("button",{className:"cancel-btn",onClick:()=>o("list"),children:"Ä°ptal"})]})]}),n==="analytics"&&i&&e.jsxs("div",{className:"analytics-view",children:[e.jsx("button",{className:"back-btn",onClick:()=>o("list"),children:"â† Geri"}),e.jsxs("h3",{children:["ðŸ“Š ",i.name," - Analitik"]}),e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:i.servers_count||0}),e.jsx("div",{className:"analytics-label",children:"Toplam Sunucu"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:i.users_count||0}),e.jsx("div",{className:"analytics-label",children:"Toplam KullanÄ±cÄ±"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:i.commands_used||0}),e.jsx("div",{className:"analytics-label",children:"Komut KullanÄ±mÄ±"})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("div",{className:"analytics-value",children:i.messages_sent||0}),e.jsx("div",{className:"analytics-label",children:"Mesaj GÃ¶nderildi"})]})]}),e.jsxs("div",{className:"analytics-chart-placeholder",style:{padding:"20px"},children:[e.jsx("h4",{style:{color:"#dbdee1",marginBottom:"16px"},children:"ðŸ“ˆ HaftalÄ±k KullanÄ±m"}),e.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:"8px",height:"120px",padding:"0 10px"},children:["Pzt","Sal","Ã‡ar","Per","Cum","Cmt","Paz"].map((s,b)=>{const p=Math.max(10,Math.floor((i.commands_used||50)*(.3+Math.sin(b*1.2)*.5+Math.random()*.2)/7)),K=(i.commands_used||50)/4,a=Math.min(100,p/Math.max(K,1)*100);return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[e.jsx("span",{style:{color:"#949ba4",fontSize:"0.7em"},children:p}),e.jsx("div",{style:{width:"100%",maxWidth:"40px",height:`${Math.max(a,8)}%`,backgroundColor:"#5865f2",borderRadius:"4px 4px 0 0",minHeight:"6px",transition:"height 0.3s ease"}}),e.jsx("span",{style:{color:"#949ba4",fontSize:"0.7em"},children:s})]},s)})})]})]}),n==="docs"&&e.jsx(de,{copyToClipboard:P})]}),E&&e.jsx("div",{className:"webhook-modal-overlay",children:e.jsxs("div",{className:"webhook-modal",children:[e.jsxs("h3",{children:[e.jsx(G,{})," Webhook OluÅŸtur"]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Webhook URL *"}),e.jsx("input",{type:"text",placeholder:"https://your-server.com/webhook",value:y,onChange:s=>w(s.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Olaylar"}),e.jsx("div",{className:"webhook-events",children:ce.map(s=>e.jsxs("label",{className:"event-checkbox",children:[e.jsx("input",{type:"checkbox",checked:v.includes(s.id),onChange:b=>{b.target.checked?f([...v,s.id]):f(v.filter(p=>p!==s.id))}}),e.jsx("span",{children:s.label})]},s.id))})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{className:"submit-btn",onClick:()=>W(i.id),children:"Webhook OluÅŸtur"}),e.jsx("button",{className:"cancel-btn",onClick:()=>g(!1),children:"Ä°ptal"})]})]})})]})})};export{ke as default};

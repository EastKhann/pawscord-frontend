{"version":3,"file":"CodeBlock-AI2tFFWT.js","sources":["../../../src/components/CodeBlock.js"],"sourcesContent":["// frontend/src/components/CodeBlock.js\r\n// âš¡ OPTIMIZED: PrismLight kullanarak sadece gerekli dilleri yÃ¼kler (~100KB vs 1.79MB)\r\n\r\nimport { useState, Suspense, lazy, memo } from 'react';\r\nimport { FaCopy, FaCheck, FaChevronDown, FaChevronUp, FaPlay, FaSpinner } from 'react-icons/fa';\r\nimport { API_BASE_URL } from '../utils/constants';\r\n\r\n// âš¡ PrismLight - Sadece gerekli dilleri import eder (1.79MB â†’ ~100KB)\r\nimport { PrismLight as SyntaxHighlighter } from 'react-syntax-highlighter';\r\nimport { vscDarkPlus } from 'react-syntax-highlighter/dist/esm/styles/prism';\r\n\r\n// ðŸ”¥ Sadece en Ã§ok kullanÄ±lan dilleri import et\r\nimport javascript from 'react-syntax-highlighter/dist/esm/languages/prism/javascript';\r\nimport typescript from 'react-syntax-highlighter/dist/esm/languages/prism/typescript';\r\nimport python from 'react-syntax-highlighter/dist/esm/languages/prism/python';\r\nimport java from 'react-syntax-highlighter/dist/esm/languages/prism/java';\r\nimport csharp from 'react-syntax-highlighter/dist/esm/languages/prism/csharp';\r\nimport cpp from 'react-syntax-highlighter/dist/esm/languages/prism/cpp';\r\nimport c from 'react-syntax-highlighter/dist/esm/languages/prism/c';\r\nimport go from 'react-syntax-highlighter/dist/esm/languages/prism/go';\r\nimport rust from 'react-syntax-highlighter/dist/esm/languages/prism/rust';\r\nimport php from 'react-syntax-highlighter/dist/esm/languages/prism/php';\r\nimport ruby from 'react-syntax-highlighter/dist/esm/languages/prism/ruby';\r\nimport swift from 'react-syntax-highlighter/dist/esm/languages/prism/swift';\r\nimport bash from 'react-syntax-highlighter/dist/esm/languages/prism/bash';\r\nimport json from 'react-syntax-highlighter/dist/esm/languages/prism/json';\r\nimport yaml from 'react-syntax-highlighter/dist/esm/languages/prism/yaml';\r\nimport sql from 'react-syntax-highlighter/dist/esm/languages/prism/sql';\r\nimport css from 'react-syntax-highlighter/dist/esm/languages/prism/css';\r\nimport markup from 'react-syntax-highlighter/dist/esm/languages/prism/markup'; // HTML\r\n\r\n// Dilleri kaydet\r\nSyntaxHighlighter.registerLanguage('javascript', javascript);\r\nSyntaxHighlighter.registerLanguage('js', javascript);\r\nSyntaxHighlighter.registerLanguage('jsx', javascript);\r\nSyntaxHighlighter.registerLanguage('typescript', typescript);\r\nSyntaxHighlighter.registerLanguage('ts', typescript);\r\nSyntaxHighlighter.registerLanguage('tsx', typescript);\r\nSyntaxHighlighter.registerLanguage('python', python);\r\nSyntaxHighlighter.registerLanguage('py', python);\r\nSyntaxHighlighter.registerLanguage('java', java);\r\nSyntaxHighlighter.registerLanguage('csharp', csharp);\r\nSyntaxHighlighter.registerLanguage('cs', csharp);\r\nSyntaxHighlighter.registerLanguage('cpp', cpp);\r\nSyntaxHighlighter.registerLanguage('c', c);\r\nSyntaxHighlighter.registerLanguage('go', go);\r\nSyntaxHighlighter.registerLanguage('rust', rust);\r\nSyntaxHighlighter.registerLanguage('rs', rust);\r\nSyntaxHighlighter.registerLanguage('php', php);\r\nSyntaxHighlighter.registerLanguage('ruby', ruby);\r\nSyntaxHighlighter.registerLanguage('rb', ruby);\r\nSyntaxHighlighter.registerLanguage('swift', swift);\r\nSyntaxHighlighter.registerLanguage('bash', bash);\r\nSyntaxHighlighter.registerLanguage('shell', bash);\r\nSyntaxHighlighter.registerLanguage('sh', bash);\r\nSyntaxHighlighter.registerLanguage('json', json);\r\nSyntaxHighlighter.registerLanguage('yaml', yaml);\r\nSyntaxHighlighter.registerLanguage('yml', yaml);\r\nSyntaxHighlighter.registerLanguage('sql', sql);\r\nSyntaxHighlighter.registerLanguage('css', css);\r\nSyntaxHighlighter.registerLanguage('html', markup);\r\nSyntaxHighlighter.registerLanguage('xml', markup);\r\nSyntaxHighlighter.registerLanguage('markup', markup);\r\n\r\nconst CodeBlock = ({ language, value, children }) => {\r\n    const [copied, setCopied] = useState(false);\r\n    const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n    // --- YENÄ° STATE'LER ---\r\n    const [isRunning, setIsRunning] = useState(false);\r\n    const [output, setOutput] = useState(null);\r\n\r\n    const rawContent = value || children || '';\r\n    const content = String(rawContent).replace(/\\n$/, '');\r\n    const lineCount = content.split('\\n').length;\r\n    const shouldCollapse = lineCount > 15;\r\n\r\n    const handleCopy = () => {\r\n        navigator.clipboard.writeText(content);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    // --- KODU Ã‡ALIÅžTIR ---\r\n    const handleRun = async () => {\r\n        setIsRunning(true);\r\n        setOutput(null);\r\n\r\n        // App.js'den token'Ä± almamÄ±z lazÄ±m veya localStorage'dan\r\n        const token = localStorage.getItem('access_token');\r\n\r\n        try {\r\n            const res = await fetch(`${API_BASE_URL}/tools/run-code/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({ language: language, code: content })\r\n            });\r\n            const data = await res.json();\r\n\r\n            if (data.run) {\r\n                setOutput(data.run.output || \"Ã‡Ä±ktÄ± boÅŸ.\");\r\n            } else {\r\n                setOutput(\"Hata: \" + (data.message || \"Bilinmeyen hata\"));\r\n            }\r\n        } catch (e) {\r\n            setOutput(\"BaÄŸlantÄ± hatasÄ±.\");\r\n        }\r\n        setIsRunning(false);\r\n    };\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.header}>\r\n                <span style={styles.language}>{language || 'text'}</span>\r\n                <div style={{ display: 'flex', gap: '10px' }}>\r\n                    {/* Ã‡ALIÅžTIR BUTONU */}\r\n                    <button onClick={handleRun} style={styles.runButton} disabled={isRunning}>\r\n                        {isRunning ? <FaSpinner className=\"spin\" /> : <FaPlay size={10} />}\r\n                        {isRunning ? ' Ã‡alÄ±ÅŸÄ±yor...' : ' Run'}\r\n                    </button>\r\n                    <button onClick={handleCopy} style={styles.copyButton}>\r\n                        {copied ? <FaCheck /> : <FaCopy />}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div style={{\r\n                ...styles.codeWrapper,\r\n                maxHeight: (!isExpanded && shouldCollapse) ? '300px' : 'none',\r\n            }}>\r\n                <SyntaxHighlighterWithStyle\r\n                    language={language ? language.toLowerCase() : 'text'}\r\n                    content={content}\r\n                />\r\n            </div>\r\n\r\n            {/* Ã‡IKTI EKRANI (Varsa gÃ¶ster) */}\r\n            {output && (\r\n                <div style={styles.outputContainer}>\r\n                    <div style={styles.outputHeader}>Ã‡IKTI (TERMINAL):</div>\r\n                    <pre style={styles.outputBody}>{output}</pre>\r\n                </div>\r\n            )}\r\n\r\n            {shouldCollapse && (\r\n                <button onClick={() => setIsExpanded(!isExpanded)} style={styles.expandButton}>\r\n                    {isExpanded ? <><FaChevronUp /> Daralt</> : <><FaChevronDown /> GeniÅŸlet</>}\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    container: { marginTop: '8px', marginBottom: '8px', borderRadius: '8px', border: '1px solid #202225', overflow: 'hidden', backgroundColor: '#1e1f22' },\r\n    header: { display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '5px 10px', backgroundColor: '#202225', color: '#b9bbbe', fontSize: '0.8em', fontWeight: 'bold', fontFamily: 'monospace' },\r\n    language: { textTransform: 'uppercase' },\r\n    copyButton: { background: 'none', border: 'none', color: '#b9bbbe', cursor: 'pointer' },\r\n\r\n    // Yeni Run Butonu Stili\r\n    runButton: {\r\n        backgroundColor: '#23a559', color: 'white', border: 'none', borderRadius: '4px',\r\n        padding: '2px 10px', fontSize: '0.9em', fontWeight: 'bold', cursor: 'pointer',\r\n        display: 'flex', alignItems: 'center', gap: '5px'\r\n    },\r\n\r\n    codeWrapper: { overflow: 'hidden', transition: 'max-height 0.3s' },\r\n    expandButton: { width: '100%', padding: '8px', backgroundColor: '#2f3136', border: 'none', borderTop: '1px solid #202225', color: '#dbdee1', cursor: 'pointer', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' },\r\n\r\n    // Output Stilleri\r\n    outputContainer: { borderTop: '1px solid #40444b', backgroundColor: '#000' },\r\n    outputHeader: { padding: '5px 10px', fontSize: '0.75em', color: '#99aab5', backgroundColor: '#111' },\r\n    outputBody: { padding: '10px', color: '#0f0', fontFamily: 'monospace', margin: 0, whiteSpace: 'pre-wrap', fontSize: '0.9em' }\r\n};\r\n\r\n// âš¡ OPTIMIZED: DoÄŸrudan PrismLight kullanÄ±r - lazy loading gereksiz\r\nconst SyntaxHighlighterWithStyle = memo(({ language, content }) => {\r\n    return (\r\n        <SyntaxHighlighter\r\n            language={language || 'text'}\r\n            style={vscDarkPlus}\r\n            customStyle={{ margin: 0, padding: '15px', fontSize: '0.9em' }}\r\n            wrapLongLines={true}\r\n        >\r\n            {content}\r\n        </SyntaxHighlighter>\r\n    );\r\n});\r\n\r\nSyntaxHighlighterWithStyle.displayName = 'SyntaxHighlighterWithStyle';\r\n\r\nexport default memo(CodeBlock);\r\n\r\n"],"names":["useState","jsxs","jsx","Fragment","memo"],"mappings":"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"}
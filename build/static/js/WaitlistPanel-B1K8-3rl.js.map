{"version":3,"file":"WaitlistPanel-B1K8-3rl.js","sources":["../../../src/components/WaitlistPanel.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { FaTimes, FaUsers, FaLink, FaCheckCircle } from 'react-icons/fa';\nimport { toast } from '../utils/toast';\n\nconst WaitlistPanel = ({ fetchWithAuth, apiBaseUrl, onClose, serverId }) => {\n    const [waitlist, setWaitlist] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [referralCode, setReferralCode] = useState('');\n\n    useEffect(() => {\n        fetchWaitlist();\n    }, []);\n\n    const fetchWaitlist = async () => {\n        setLoading(true);\n        try {\n            const response = await fetchWithAuth(`${apiBaseUrl}/servers/${serverId}/waitlist/`);\n            const data = await response.json();\n            setWaitlist(data.entries || []);\n            setReferralCode(data.referral_code || '');\n        } catch (error) {\n            toast.error('Failed to load waitlist');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const approveEntry = async (entryId) => {\n        try {\n            await fetchWithAuth(`${apiBaseUrl}/waitlist/${entryId}/approve/`, {\n                method: 'POST'\n            });\n            toast.success('Waitlist entry approved');\n            fetchWaitlist();\n        } catch (error) {\n            toast.error('Failed to approve entry');\n        }\n    };\n\n    const rejectEntry = async (entryId) => {\n        try {\n            await fetchWithAuth(`${apiBaseUrl}/waitlist/${entryId}/reject/`, {\n                method: 'POST'\n            });\n            toast.success('Waitlist entry rejected');\n            fetchWaitlist();\n        } catch (error) {\n            toast.error('Failed to reject entry');\n        }\n    };\n\n    const copyReferralCode = () => {\n        navigator.clipboard.writeText(referralCode);\n        toast.success('Referral code copied to clipboard');\n    };\n\n    return (\n        <div style={styles.overlay}>\n            <div style={styles.modal}>\n                <div style={styles.header}>\n                    <div style={styles.headerLeft}>\n                        <FaUsers style={{ marginRight: '10px', color: '#5865f2' }} />\n                        <h2 style={styles.title}>Server Waitlist</h2>\n                    </div>\n                    <button onClick={onClose} style={styles.closeButton}>\n                        <FaTimes />\n                    </button>\n                </div>\n\n                {referralCode && (\n                    <div style={styles.referralSection}>\n                        <div style={styles.referralLabel}>Your Referral Code</div>\n                        <div style={styles.referralCode}>\n                            <code>{referralCode}</code>\n                            <button onClick={copyReferralCode} style={styles.copyButton}>\n                                <FaLink />\n                            </button>\n                        </div>\n                        <div style={styles.referralHint}>\n                            Share this code with others to move up in the waitlist\n                        </div>\n                    </div>\n                )}\n\n                <div style={styles.content}>\n                    {loading ? (\n                        <div style={styles.loading}>Loading waitlist...</div>\n                    ) : waitlist.length === 0 ? (\n                        <div style={styles.empty}>No waitlist entries</div>\n                    ) : (\n                        <div style={styles.entriesList}>\n                            {waitlist.map((entry, idx) => (\n                                <div key={idx} style={styles.entryCard}>\n                                    <div style={styles.entryInfo}>\n                                        <div style={styles.entryHeader}>\n                                            <span style={styles.entryPosition}>#{entry.position}</span>\n                                            <span style={styles.entryEmail}>{entry.email}</span>\n                                        </div>\n                                        <div style={styles.entryMeta}>\n                                            <span>Joined: {new Date(entry.created_at).toLocaleDateString()}</span>\n                                            {entry.referrals_count > 0 && (\n                                                <>\n                                                    <span> â€¢ </span>\n                                                    <span style={styles.referralsCount}>\n                                                        {entry.referrals_count} referral{entry.referrals_count !== 1 ? 's' : ''}\n                                                    </span>\n                                                </>\n                                            )}\n                                        </div>\n                                        {entry.status === 'approved' && (\n                                            <div style={styles.approvedBadge}>\n                                                <FaCheckCircle /> Approved\n                                            </div>\n                                        )}\n                                        {entry.status === 'rejected' && (\n                                            <div style={styles.rejectedBadge}>\n                                                Rejected\n                                            </div>\n                                        )}\n                                    </div>\n                                    {entry.status === 'pending' && (\n                                        <div style={styles.entryActions}>\n                                            <button onClick={() => approveEntry(entry.id)} style={styles.approveButton}>\n                                                Approve\n                                            </button>\n                                            <button onClick={() => rejectEntry(entry.id)} style={styles.rejectButton}>\n                                                Reject\n                                            </button>\n                                        </div>\n                                    )}\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst styles = {\n    overlay: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 999999,\n    },\n    modal: {\n        backgroundColor: '#1e1e1e',\n        borderRadius: '8px',\n        width: '90%',\n        maxWidth: '700px',\n        maxHeight: '90vh',\n        display: 'flex',\n        flexDirection: 'column',\n        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4)',\n    },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '20px',\n        borderBottom: '1px solid #2c2f33',\n    },\n    headerLeft: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    title: {\n        margin: 0,\n        fontSize: '20px',\n        color: '#ffffff',\n    },\n    closeButton: {\n        background: 'none',\n        border: 'none',\n        color: '#99aab5',\n        cursor: 'pointer',\n        fontSize: '20px',\n        padding: '5px',\n    },\n    referralSection: {\n        padding: '20px',\n        borderBottom: '1px solid #2c2f33',\n        backgroundColor: '#2c2f33',\n    },\n    referralLabel: {\n        fontSize: '13px',\n        color: '#dcddde',\n        marginBottom: '8px',\n    },\n    referralCode: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        marginBottom: '8px',\n    },\n    copyButton: {\n        padding: '8px 12px',\n        backgroundColor: '#5865f2',\n        border: 'none',\n        borderRadius: '4px',\n        color: '#ffffff',\n        cursor: 'pointer',\n        fontSize: '14px',\n    },\n    referralHint: {\n        fontSize: '12px',\n        color: '#99aab5',\n        fontStyle: 'italic',\n    },\n    content: {\n        padding: '20px',\n        overflowY: 'auto',\n        flex: 1,\n    },\n    loading: {\n        textAlign: 'center',\n        color: '#99aab5',\n        padding: '40px',\n    },\n    empty: {\n        textAlign: 'center',\n        color: '#99aab5',\n        padding: '40px',\n    },\n    entriesList: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '12px',\n    },\n    entryCard: {\n        backgroundColor: '#2c2f33',\n        borderRadius: '8px',\n        padding: '16px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n    },\n    entryInfo: {\n        flex: 1,\n    },\n    entryHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        marginBottom: '8px',\n    },\n    entryPosition: {\n        fontSize: '16px',\n        fontWeight: '700',\n        color: '#5865f2',\n    },\n    entryEmail: {\n        fontSize: '14px',\n        color: '#ffffff',\n    },\n    entryMeta: {\n        fontSize: '12px',\n        color: '#99aab5',\n        marginBottom: '8px',\n    },\n    referralsCount: {\n        color: '#43b581',\n        fontWeight: '600',\n    },\n    approvedBadge: {\n        display: 'inline-flex',\n        alignItems: 'center',\n        gap: '6px',\n        padding: '4px 10px',\n        backgroundColor: '#43b581',\n        borderRadius: '4px',\n        fontSize: '12px',\n        color: '#ffffff',\n        fontWeight: '600',\n    },\n    rejectedBadge: {\n        display: 'inline-flex',\n        alignItems: 'center',\n        gap: '6px',\n        padding: '4px 10px',\n        backgroundColor: '#f04747',\n        borderRadius: '4px',\n        fontSize: '12px',\n        color: '#ffffff',\n        fontWeight: '600',\n    },\n    entryActions: {\n        display: 'flex',\n        gap: '8px',\n    },\n    approveButton: {\n        padding: '8px 16px',\n        backgroundColor: '#43b581',\n        border: 'none',\n        borderRadius: '4px',\n        color: '#ffffff',\n        cursor: 'pointer',\n        fontSize: '13px',\n        fontWeight: '600',\n    },\n    rejectButton: {\n        padding: '8px 16px',\n        backgroundColor: '#f04747',\n        border: 'none',\n        borderRadius: '4px',\n        color: '#ffffff',\n        cursor: 'pointer',\n        fontSize: '13px',\n        fontWeight: '600',\n    },\n};\n\nexport default WaitlistPanel;\n"],"names":["useState","useEffect","jsx","jsxs","Fragment"],"mappings":"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"}
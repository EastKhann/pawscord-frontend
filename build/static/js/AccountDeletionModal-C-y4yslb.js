import{r as s,d as e,m as y,i as T,q as w,O as R,E as I}from"./react-core-DrOm_csO.js";import{t as j}from"./index-BYhWpPLp.js";const D=({isOpen:k,onClose:m,onConfirmDelete:u,username:z,fetchWithAuth:h,apiBaseUrl:S})=>{const[f,c]=s.useState(1),[i,x]=s.useState(""),[a,g]=s.useState(""),[o,d]=s.useState(!1),[b,l]=s.useState(""),r=`DELETE ${z}`,p=s.useCallback(()=>{c(1),x(""),g(""),l(""),d(!1),m()},[m]),C=()=>{c(2),l("")},v=async()=>{if(a!==r){l(`LÃ¼tfen tam olarak "${r}" yazÄ±n`);return}if(!i){l("Åžifrenizi girmeniz gerekiyor");return}d(!0),l("");try{const n=await h(`${S}/user/delete-account/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:i,confirm_text:a})});if(n.ok)j.success("HesabÄ±nÄ±z baÅŸarÄ±yla silindi. HoÅŸÃ§a kalÄ±n! ðŸ‘‹"),u&&u(),localStorage.clear(),sessionStorage.clear(),window.location.href="/";else{const B=await n.json();l(B.error||"Hesap silinemedi. Åžifrenizi kontrol edin.")}}catch(n){console.error("Account deletion error:",n),l("Bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.")}finally{d(!1)}};return k?e.createElement("div",{style:t.overlay,onClick:p},e.createElement("div",{style:t.modal,onClick:n=>n.stopPropagation()},e.createElement("div",{style:t.header},e.createElement("div",{style:t.headerIcon},e.createElement(y,{size:24,color:"#f04747"})),e.createElement("h2",{style:t.title},"HesabÄ± Sil"),e.createElement("button",{style:t.closeButton,onClick:p},e.createElement(T,{size:18}))),f===1&&e.createElement("div",{style:t.content},e.createElement("div",{style:t.warningBox},e.createElement(y,{size:48,color:"#f04747"}),e.createElement("h3",{style:t.warningTitle},"Bu iÅŸlem geri alÄ±namaz!"),e.createElement("p",{style:t.warningText},"HesabÄ±nÄ±zÄ± sildiÄŸinizde aÅŸaÄŸÄ±dakiler kalÄ±cÄ± olarak silinecektir:")),e.createElement("ul",{style:t.deleteList},e.createElement("li",null,"âœ— TÃ¼m mesajlarÄ±nÄ±z"),e.createElement("li",null,"âœ— Profil bilgileriniz ve avatarÄ±nÄ±z"),e.createElement("li",null,"âœ— Sunucu sahiplikleriniz (sunucular silinecek)"),e.createElement("li",null,"âœ— ArkadaÅŸ listeniz"),e.createElement("li",null,"âœ— Premium aboneliÄŸiniz"),e.createElement("li",null,"âœ— XP, seviye ve rozetleriniz"),e.createElement("li",null,"âœ— BaÄŸlÄ± hesaplarÄ±nÄ±z (Spotify, Steam, vb.)")),e.createElement("div",{style:t.infoBox},e.createElement("p",null,e.createElement("strong",null,"Not:"),' Ãœye olduÄŸunuz sunuculardaki mesajlarÄ±nÄ±z gÃ¶rÃ¼nÃ¼r kalacak ancak kullanÄ±cÄ± adÄ±nÄ±z "SilinmiÅŸ KullanÄ±cÄ±" olarak gÃ¶sterilecektir.')),e.createElement("div",{style:t.buttonGroup},e.createElement("button",{style:t.cancelButton,onClick:p},"VazgeÃ§"),e.createElement("button",{style:t.dangerButton,onClick:C},"Devam Et"))),f===2&&e.createElement("div",{style:t.content},e.createElement("div",{style:t.confirmBox},e.createElement(w,{size:32,color:"#faa61a"}),e.createElement("h3",{style:t.confirmTitle},"KimliÄŸinizi DoÄŸrulayÄ±n"),e.createElement("p",{style:t.confirmText},"HesabÄ±nÄ±zÄ± silmek iÃ§in ÅŸifrenizi girin ve onay metnini yazÄ±n.")),b&&e.createElement("div",{style:t.errorBox},b),e.createElement("div",{style:t.inputGroup},e.createElement("label",{style:t.label},"Åžifreniz"),e.createElement("input",{type:"password",value:i,onChange:n=>x(n.target.value),placeholder:"Åžifrenizi girin",style:t.input,disabled:o})),e.createElement("div",{style:t.inputGroup},e.createElement("label",{style:t.label},"Onaylamak iÃ§in ",e.createElement("code",{style:t.code},r)," yazÄ±n"),e.createElement("input",{type:"text",value:a,onChange:n=>g(n.target.value),placeholder:r,style:{...t.input,borderColor:a===r?"#43b581":"#40444b"},disabled:o})),e.createElement("div",{style:t.buttonGroup},e.createElement("button",{style:t.cancelButton,onClick:()=>c(1),disabled:o},"Geri"),e.createElement("button",{style:{...t.deleteButton,opacity:a!==r||!i||o?.5:1,cursor:a!==r||!i||o?"not-allowed":"pointer"},onClick:v,disabled:a!==r||!i||o},o?e.createElement(e.Fragment,null,e.createElement(R,{className:"spin",style:{marginRight:8}}),"Siliniyor..."):e.createElement(e.Fragment,null,e.createElement(I,{style:{marginRight:8}}),"HesabÄ±mÄ± KalÄ±cÄ± Olarak Sil")))))):null},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,animation:"fadeIn 0.2s ease"},modal:{backgroundColor:"#36393f",borderRadius:"8px",width:"480px",maxWidth:"95vw",maxHeight:"90vh",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)",animation:"slideUp 0.3s ease"},header:{display:"flex",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #2f3136",gap:"12px"},headerIcon:{display:"flex",alignItems:"center",justifyContent:"center"},title:{flex:1,margin:0,fontSize:"18px",fontWeight:"600",color:"#fff"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"},content:{padding:"20px"},warningBox:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"20px",backgroundColor:"rgba(240, 71, 71, 0.1)",borderRadius:"8px",marginBottom:"16px"},warningTitle:{color:"#f04747",margin:"12px 0 8px",fontSize:"18px"},warningText:{color:"#b9bbbe",margin:0,fontSize:"14px"},deleteList:{listStyle:"none",margin:"16px 0",backgroundColor:"#2f3136",borderRadius:"8px",padding:"16px 20px"},infoBox:{backgroundColor:"rgba(250, 166, 26, 0.1)",border:"1px solid rgba(250, 166, 26, 0.3)",borderRadius:"8px",padding:"12px 16px",marginBottom:"20px"},confirmBox:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"16px",marginBottom:"16px"},confirmTitle:{color:"#fff",margin:"12px 0 8px",fontSize:"16px"},confirmText:{color:"#b9bbbe",margin:0,fontSize:"14px"},errorBox:{backgroundColor:"rgba(240, 71, 71, 0.2)",border:"1px solid #f04747",borderRadius:"4px",padding:"10px 14px",marginBottom:"16px",color:"#f04747",fontSize:"14px"},inputGroup:{marginBottom:"16px"},label:{display:"block",color:"#b9bbbe",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",marginBottom:"8px"},code:{backgroundColor:"#2f3136",padding:"2px 6px",borderRadius:"3px",color:"#f04747",fontFamily:"monospace"},input:{width:"100%",padding:"10px 12px",backgroundColor:"#202225",border:"1px solid #40444b",borderRadius:"4px",color:"#dcddde",fontSize:"14px",outline:"none",transition:"border-color 0.15s",boxSizing:"border-box"},buttonGroup:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"20px"},cancelButton:{padding:"10px 20px",backgroundColor:"transparent",border:"none",borderRadius:"4px",color:"#fff",fontSize:"14px",cursor:"pointer",transition:"all 0.15s"},dangerButton:{padding:"10px 20px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"#fff",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.15s"},deleteButton:{padding:"10px 20px",backgroundColor:"#f04747",border:"none",borderRadius:"4px",color:"#fff",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"}},E=document.createElement("style");E.textContent=`
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    @keyframes slideUp {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    .spin {
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
`;document.head.appendChild(E);export{D as default};

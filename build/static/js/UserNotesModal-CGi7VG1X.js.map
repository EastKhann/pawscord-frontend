{"version":3,"file":"UserNotesModal-CGi7VG1X.js","sources":["../../../src/components/UserNotesModal.js"],"sourcesContent":["// frontend/src/components/UserNotesModal.js\r\nimport { useState, useEffect } from 'react';\r\nimport { FaStickyNote, FaSave, FaTimes } from 'react-icons/fa';\r\n\r\nconst UserNotesModal = ({ targetUser, apiBaseUrl, fetchWithAuth, onClose, inline = false }) => {\r\n    const [note, setNote] = useState('');\r\n    const [color, setColor] = useState('yellow');\r\n    const [saving, setSaving] = useState(false);\r\n\r\n    const colors = [\r\n        { name: 'yellow', value: '#fef3bd' },\r\n        { name: 'green', value: '#d4edda' },\r\n        { name: 'blue', value: '#d1ecf1' },\r\n        { name: 'red', value: '#f8d7da' },\r\n        { name: 'purple', value: '#e2d9f3' }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        loadNote();\r\n    }, [targetUser]);\r\n\r\n    const loadNote = async () => {\r\n        try {\r\n            const response = await fetchWithAuth(`${apiBaseUrl}/user-notes/${targetUser}/`);\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                setNote(data.note || '');\r\n                setColor(data.color || 'yellow');\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to load note:', error);\r\n        }\r\n    };\r\n\r\n    const saveNote = async () => {\r\n        setSaving(true);\r\n        try {\r\n            const response = await fetchWithAuth(`${apiBaseUrl}/user-notes/${targetUser}/`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ note, color })\r\n            });\r\n            if (response.ok) {\r\n                if (!inline) onClose();\r\n                else setSaving(false);\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to save note:', error);\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    // Inline mode: render without overlay/modal wrapper\r\n    if (inline) {\r\n        return (\r\n            <div style={{ marginTop: '8px' }}>\r\n                <p style={styles.info}>Bu not sadece sen gÃ¶rebilirsin</p>\r\n\r\n                <div style={styles.colorPicker}>\r\n                    <label style={styles.label}>Renk:</label>\r\n                    <div style={styles.colors}>\r\n                        {colors.map(c => (\r\n                            <button\r\n                                key={c.name}\r\n                                onClick={() => setColor(c.name)}\r\n                                style={{\r\n                                    ...styles.colorButton,\r\n                                    backgroundColor: c.value,\r\n                                    ...(color === c.name ? styles.colorButtonActive : {})\r\n                                }}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <textarea\r\n                    value={note}\r\n                    onChange={(e) => setNote(e.target.value)}\r\n                    placeholder=\"Notunu buraya yaz...\"\r\n                    style={{\r\n                        ...styles.textarea,\r\n                        backgroundColor: colors.find(c => c.name === color)?.value\r\n                    }}\r\n                    maxLength={500}\r\n                />\r\n\r\n                <div style={styles.footer}>\r\n                    <span style={styles.charCount}>{note.length}/500</span>\r\n                    <button\r\n                        onClick={saveNote}\r\n                        disabled={saving}\r\n                        style={styles.saveButton}\r\n                    >\r\n                        {saving ? 'Kaydediliyor...' : 'ðŸ’¾ Kaydet'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={styles.overlay} onClick={onClose}>\r\n            <div style={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n                <div style={styles.header}>\r\n                    <h3 style={styles.title}>\r\n                        <FaStickyNote /> {targetUser} HakkÄ±nda Not\r\n                    </h3>\r\n                    <button onClick={onClose} style={styles.closeButton}>\r\n                        <FaTimes />\r\n                    </button>\r\n                </div>\r\n\r\n                <div style={styles.content}>\r\n                    <p style={styles.info}>Bu not sadece sen gÃ¶rebilirsin</p>\r\n\r\n                    <div style={styles.colorPicker}>\r\n                        <label style={styles.label}>Renk:</label>\r\n                        <div style={styles.colors}>\r\n                            {colors.map(c => (\r\n                                <button\r\n                                    key={c.name}\r\n                                    onClick={() => setColor(c.name)}\r\n                                    style={{\r\n                                        ...styles.colorButton,\r\n                                        backgroundColor: c.value,\r\n                                        ...(color === c.name ? styles.colorButtonActive : {})\r\n                                    }}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <textarea\r\n                        value={note}\r\n                        onChange={(e) => setNote(e.target.value)}\r\n                        placeholder=\"Notunu buraya yaz...\"\r\n                        style={{\r\n                            ...styles.textarea,\r\n                            backgroundColor: colors.find(c => c.name === color)?.value\r\n                        }}\r\n                        maxLength={500}\r\n                    />\r\n\r\n                    <div style={styles.footer}>\r\n                        <span style={styles.charCount}>{note.length}/500</span>\r\n                        <button\r\n                            onClick={saveNote}\r\n                            disabled={saving}\r\n                            style={styles.saveButton}\r\n                        >\r\n                            <FaSave /> {saving ? 'Kaydediliyor...' : 'Kaydet'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    overlay: {\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        zIndex: 1000\r\n    },\r\n    modal: {\r\n        backgroundColor: '#2b2d31',\r\n        borderRadius: '8px',\r\n        width: '500px',\r\n        maxWidth: '90vw',\r\n        boxShadow: '0 8px 16px rgba(0,0,0,0.4)'\r\n    },\r\n    header: {\r\n        padding: '16px 20px',\r\n        borderBottom: '1px solid #1e1f22',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    title: {\r\n        color: '#fff',\r\n        fontSize: '18px',\r\n        margin: 0,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n    },\r\n    closeButton: {\r\n        background: 'none',\r\n        border: 'none',\r\n        color: '#b9bbbe',\r\n        fontSize: '20px',\r\n        cursor: 'pointer',\r\n        padding: '4px'\r\n    },\r\n    content: {\r\n        padding: '20px'\r\n    },\r\n    info: {\r\n        color: '#72767d',\r\n        fontSize: '13px',\r\n        marginBottom: '16px',\r\n        fontStyle: 'italic'\r\n    },\r\n    colorPicker: {\r\n        marginBottom: '16px'\r\n    },\r\n    label: {\r\n        color: '#b9bbbe',\r\n        fontSize: '14px',\r\n        marginBottom: '8px',\r\n        display: 'block'\r\n    },\r\n    colors: {\r\n        display: 'flex',\r\n        gap: '8px'\r\n    },\r\n    colorButton: {\r\n        width: '32px',\r\n        height: '32px',\r\n        borderRadius: '50%',\r\n        border: '2px solid transparent',\r\n        cursor: 'pointer',\r\n        transition: 'transform 0.2s'\r\n    },\r\n    colorButtonActive: {\r\n        border: '2px solid #5865f2',\r\n        transform: 'scale(1.1)'\r\n    },\r\n    textarea: {\r\n        width: '100%',\r\n        minHeight: '150px',\r\n        padding: '12px',\r\n        border: '1px solid #4e5058',\r\n        borderRadius: '6px',\r\n        fontSize: '14px',\r\n        color: '#1e1f22',\r\n        resize: 'vertical',\r\n        fontFamily: 'inherit',\r\n        marginBottom: '12px'\r\n    },\r\n    footer: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n    },\r\n    charCount: {\r\n        color: '#72767d',\r\n        fontSize: '12px'\r\n    },\r\n    saveButton: {\r\n        backgroundColor: '#5865f2',\r\n        color: '#fff',\r\n        border: 'none',\r\n        borderRadius: '6px',\r\n        padding: '10px 20px',\r\n        cursor: 'pointer',\r\n        fontSize: '14px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        gap: '8px'\r\n    }\r\n};\r\n\r\nexport default UserNotesModal;\r\n\r\n\r\n\r\n"],"names":["useState","useEffect","jsx","jsxs"],"mappings":"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"}
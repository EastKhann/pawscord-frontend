import{r as i,b as e}from"./react-core-9vc7GIjk.js";import{bw as g,a as u}from"./icons-vendor-u_f-1GKM.js";import{t as h}from"./index-Bm9YmRqY.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-u6fxj6P4.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const k=({fetchWithAuth:s,apiBaseUrl:p,onClose:d,roomSlug:a})=>{const[n,m]=i.useState([]),[l,f]=i.useState(""),[x,c]=i.useState(!1);i.useEffect(()=>{y()},[a]);const y=async()=>{c(!0);try{const r=await(await s(`${p}/topics/${a}/history/`)).json();m(r.history||[]),f(r.current_topic||"")}catch{h.error("Failed to load topic history")}finally{c(!1)}};return e.createElement("div",{style:t.overlay},e.createElement("div",{style:t.modal},e.createElement("div",{style:t.header},e.createElement("div",{style:t.headerLeft},e.createElement(g,{style:{marginRight:"10px",color:"#5865f2"}}),e.createElement("h2",{style:t.title},"Topic History")),e.createElement("button",{onClick:d,style:t.closeButton},e.createElement(u,null))),e.createElement("div",{style:t.content},l&&e.createElement("div",{style:t.currentTopic},e.createElement("div",{style:t.currentTopicLabel},"Current Topic"),e.createElement("div",{style:t.currentTopicText},l)),x?e.createElement("div",{style:t.loading},"Loading history..."):n.length===0?e.createElement("div",{style:t.empty},"No topic history available"):e.createElement("div",{style:t.historyList},n.map((o,r)=>e.createElement("div",{key:r,style:t.historyItem},e.createElement("div",{style:t.topicText},o.topic),e.createElement("div",{style:t.topicMeta},"Set by ",o.user?.username||"Unknown"," on ",new Date(o.set_at).toLocaleString())))))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #2c2f33"},headerLeft:{display:"flex",alignItems:"center"},title:{margin:0,fontSize:"20px",color:"#ffffff"},closeButton:{background:"none",border:"none",color:"#99aab5",cursor:"pointer",fontSize:"20px",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},currentTopic:{backgroundColor:"#5865f2",borderRadius:"8px",padding:"16px",marginBottom:"20px"},currentTopicLabel:{fontSize:"12px",color:"rgba(255, 255, 255, 0.8)",marginBottom:"4px",fontWeight:"600"},currentTopicText:{fontSize:"16px",color:"#ffffff",fontWeight:"500"},loading:{textAlign:"center",color:"#99aab5",padding:"40px"},empty:{textAlign:"center",color:"#99aab5",padding:"40px"},historyList:{display:"flex",flexDirection:"column",gap:"12px"},historyItem:{backgroundColor:"#2c2f33",borderRadius:"6px",padding:"16px"},topicText:{fontSize:"15px",color:"#dcddde",marginBottom:"8px",fontWeight:"500"},topicMeta:{fontSize:"12px",color:"#99aab5"}};export{k as default};

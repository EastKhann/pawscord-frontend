import{r as Bt,R as Me,a as co,b as jse,c as iV,j as Rw,d as aV}from"./react-vendor-D4QjtNWS.js";import{i as sV,p as oV,a as Hse}from"./state-vendor-T8XA44Ud.js";import{r as Xg}from"./perf-vendor-CmoV45_-.js";const Gse="modulepreload",Vse=function(t,e){return new URL(t,e).href},D3={},Ys=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const l=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");i=d(n.map(h=>{if(h=Vse(h,r),h in D3)return;D3[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(r)for(let g=l.length-1;g>=0;g--){const y=l[g];if(y.href===h&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Gse,f||(m.as="script"),m.crossOrigin="",m.href=h,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((g,y)=>{m.addEventListener("load",g),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Na(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gGe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var em={};var L3;function yGe(){if(L3)return em;L3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return em.Fragment=e,em.jsx=n,em.jsxs=n,em}var pr={};var P3;function bGe(){if(P3)return pr;P3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;function m(we){return we===null||typeof we!="object"?null:(we=p&&we[p]||we["@@iterator"],typeof we=="function"?we:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function v(we,je,Ce){this.props=we,this.context=je,this.refs=b,this.updater=Ce||g}v.prototype.isReactComponent={},v.prototype.setState=function(we,je){if(typeof we!="object"&&typeof we!="function"&&we!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,we,je,"setState")},v.prototype.forceUpdate=function(we){this.updater.enqueueForceUpdate(this,we,"forceUpdate")};function _(){}_.prototype=v.prototype;function E(we,je,Ce){this.props=we,this.context=je,this.refs=b,this.updater=Ce||g}var T=E.prototype=new _;T.constructor=E,y(T,v.prototype),T.isPureReactComponent=!0;var A=Array.isArray;function w(){}var I={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function j(we,je,Ce){var dt=Ce.ref;return{$$typeof:t,type:we,key:je,ref:dt!==void 0?dt:null,props:Ce}}function F(we,je){return j(we.type,je,we.props)}function K(we){return typeof we=="object"&&we!==null&&we.$$typeof===t}function he(we){var je={"=":"=0",":":"=2"};return"$"+we.replace(/[=:]/g,function(Ce){return je[Ce]})}var q=/\/+/g;function Ee(we,je){return typeof we=="object"&&we!==null&&we.key!=null?he(""+we.key):je.toString(36)}function Te(we){switch(we.status){case"fulfilled":return we.value;case"rejected":throw we.reason;default:switch(typeof we.status=="string"?we.then(w,w):(we.status="pending",we.then(function(je){we.status==="pending"&&(we.status="fulfilled",we.value=je)},function(je){we.status==="pending"&&(we.status="rejected",we.reason=je)})),we.status){case"fulfilled":return we.value;case"rejected":throw we.reason}}throw we}function ge(we,je,Ce,dt,Le){var Pe=typeof we;(Pe==="undefined"||Pe==="boolean")&&(we=null);var it=!1;if(we===null)it=!0;else switch(Pe){case"bigint":case"string":case"number":it=!0;break;case"object":switch(we.$$typeof){case t:case e:it=!0;break;case h:return it=we._init,ge(it(we._payload),je,Ce,dt,Le)}}if(it)return Le=Le(we),it=dt===""?"."+Ee(we,0):dt,A(Le)?(Ce="",it!=null&&(Ce=it.replace(q,"$&/")+"/"),ge(Le,je,Ce,"",function(P){return P})):Le!=null&&(K(Le)&&(Le=F(Le,Ce+(Le.key==null||we&&we.key===Le.key?"":(""+Le.key).replace(q,"$&/")+"/")+it)),je.push(Le)),1;it=0;var J=dt===""?".":dt+":";if(A(we))for(var G=0;G<we.length;G++)dt=we[G],Pe=J+Ee(dt,G),it+=ge(dt,je,Ce,Pe,Le);else if(G=m(we),typeof G=="function")for(we=G.call(we),G=0;!(dt=we.next()).done;)dt=dt.value,Pe=J+Ee(dt,G++),it+=ge(dt,je,Ce,Pe,Le);else if(Pe==="object"){if(typeof we.then=="function")return ge(Te(we),je,Ce,dt,Le);throw je=String(we),Error("Objects are not valid as a React child (found: "+(je==="[object Object]"?"object with keys {"+Object.keys(we).join(", ")+"}":je)+"). If you meant to render a collection of children, use an array instead.")}return it}function Be(we,je,Ce){if(we==null)return we;var dt=[],Le=0;return ge(we,dt,"","",function(Pe){return je.call(Ce,Pe,Le++)}),dt}function He(we){if(we._status===-1){var je=we._result;je=je(),je.then(function(Ce){(we._status===0||we._status===-1)&&(we._status=1,we._result=Ce)},function(Ce){(we._status===0||we._status===-1)&&(we._status=2,we._result=Ce)}),we._status===-1&&(we._status=0,we._result=je)}if(we._status===1)return we._result.default;throw we._result}var Ye=typeof reportError=="function"?reportError:function(we){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var je=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof we=="object"&&we!==null&&typeof we.message=="string"?String(we.message):String(we),error:we});if(!window.dispatchEvent(je))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",we);return}console.error(we)},Ie={map:Be,forEach:function(we,je,Ce){Be(we,function(){je.apply(this,arguments)},Ce)},count:function(we){var je=0;return Be(we,function(){je++}),je},toArray:function(we){return Be(we,function(je){return je})||[]},only:function(we){if(!K(we))throw Error("React.Children.only expected to receive a single React element child.");return we}};return pr.Activity=f,pr.Children=Ie,pr.Component=v,pr.Fragment=n,pr.Profiler=i,pr.PureComponent=E,pr.StrictMode=r,pr.Suspense=c,pr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,pr.__COMPILER_RUNTIME={__proto__:null,c:function(we){return I.H.useMemoCache(we)}},pr.cache=function(we){return function(){return we.apply(null,arguments)}},pr.cacheSignal=function(){return null},pr.cloneElement=function(we,je,Ce){if(we==null)throw Error("The argument must be a React element, but you passed "+we+".");var dt=y({},we.props),Le=we.key;if(je!=null)for(Pe in je.key!==void 0&&(Le=""+je.key),je)!C.call(je,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&je.ref===void 0||(dt[Pe]=je[Pe]);var Pe=arguments.length-2;if(Pe===1)dt.children=Ce;else if(1<Pe){for(var it=Array(Pe),J=0;J<Pe;J++)it[J]=arguments[J+2];dt.children=it}return j(we.type,Le,dt)},pr.createContext=function(we){return we={$$typeof:l,_currentValue:we,_currentValue2:we,_threadCount:0,Provider:null,Consumer:null},we.Provider=we,we.Consumer={$$typeof:o,_context:we},we},pr.createElement=function(we,je,Ce){var dt,Le={},Pe=null;if(je!=null)for(dt in je.key!==void 0&&(Pe=""+je.key),je)C.call(je,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(Le[dt]=je[dt]);var it=arguments.length-2;if(it===1)Le.children=Ce;else if(1<it){for(var J=Array(it),G=0;G<it;G++)J[G]=arguments[G+2];Le.children=J}if(we&&we.defaultProps)for(dt in it=we.defaultProps,it)Le[dt]===void 0&&(Le[dt]=it[dt]);return j(we,Pe,Le)},pr.createRef=function(){return{current:null}},pr.forwardRef=function(we){return{$$typeof:u,render:we}},pr.isValidElement=K,pr.lazy=function(we){return{$$typeof:h,_payload:{_status:-1,_result:we},_init:He}},pr.memo=function(we,je){return{$$typeof:d,type:we,compare:je===void 0?null:je}},pr.startTransition=function(we){var je=I.T,Ce={};I.T=Ce;try{var dt=we(),Le=I.S;Le!==null&&Le(Ce,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(w,Ye)}catch(Pe){Ye(Pe)}finally{je!==null&&Ce.types!==null&&(je.types=Ce.types),I.T=je}},pr.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},pr.use=function(we){return I.H.use(we)},pr.useActionState=function(we,je,Ce){return I.H.useActionState(we,je,Ce)},pr.useCallback=function(we,je){return I.H.useCallback(we,je)},pr.useContext=function(we){return I.H.useContext(we)},pr.useDebugValue=function(){},pr.useDeferredValue=function(we,je){return I.H.useDeferredValue(we,je)},pr.useEffect=function(we,je){return I.H.useEffect(we,je)},pr.useEffectEvent=function(we){return I.H.useEffectEvent(we)},pr.useId=function(){return I.H.useId()},pr.useImperativeHandle=function(we,je,Ce){return I.H.useImperativeHandle(we,je,Ce)},pr.useInsertionEffect=function(we,je){return I.H.useInsertionEffect(we,je)},pr.useLayoutEffect=function(we,je){return I.H.useLayoutEffect(we,je)},pr.useMemo=function(we,je){return I.H.useMemo(we,je)},pr.useOptimistic=function(we,je){return I.H.useOptimistic(we,je)},pr.useReducer=function(we,je,Ce){return I.H.useReducer(we,je,Ce)},pr.useRef=function(we){return I.H.useRef(we)},pr.useState=function(we){return I.H.useState(we)},pr.useSyncExternalStore=function(we,je,Ce){return I.H.useSyncExternalStore(we,je,Ce)},pr.useTransition=function(){return I.H.useTransition()},pr.version="19.2.0",pr}var kw={exports:{}},Cw={};var O3;function Kse(){return O3||(O3=1,(function(t){function e(ge,Be){var He=ge.length;ge.push(Be);e:for(;0<He;){var Ye=He-1>>>1,Ie=ge[Ye];if(0<i(Ie,Be))ge[Ye]=Be,ge[He]=Ie,He=Ye;else break e}}function n(ge){return ge.length===0?null:ge[0]}function r(ge){if(ge.length===0)return null;var Be=ge[0],He=ge.pop();if(He!==Be){ge[0]=He;e:for(var Ye=0,Ie=ge.length,we=Ie>>>1;Ye<we;){var je=2*(Ye+1)-1,Ce=ge[je],dt=je+1,Le=ge[dt];if(0>i(Ce,He))dt<Ie&&0>i(Le,Ce)?(ge[Ye]=Le,ge[dt]=He,Ye=dt):(ge[Ye]=Ce,ge[je]=He,Ye=je);else if(dt<Ie&&0>i(Le,He))ge[Ye]=Le,ge[dt]=He,Ye=dt;else break e}}return Be}function i(ge,Be){var He=ge.sortIndex-Be.sortIndex;return He!==0?He:ge.id-Be.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],h=1,f=null,p=3,m=!1,g=!1,y=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(ge){for(var Be=n(d);Be!==null;){if(Be.callback===null)r(d);else if(Be.startTime<=ge)r(d),Be.sortIndex=Be.expirationTime,e(c,Be);else break;Be=n(d)}}function A(ge){if(y=!1,T(ge),!g)if(n(c)!==null)g=!0,w||(w=!0,he());else{var Be=n(d);Be!==null&&Te(A,Be.startTime-ge)}}var w=!1,I=-1,C=5,j=-1;function F(){return b?!0:!(t.unstable_now()-j<C)}function K(){if(b=!1,w){var ge=t.unstable_now();j=ge;var Be=!0;try{e:{g=!1,y&&(y=!1,_(I),I=-1),m=!0;var He=p;try{t:{for(T(ge),f=n(c);f!==null&&!(f.expirationTime>ge&&F());){var Ye=f.callback;if(typeof Ye=="function"){f.callback=null,p=f.priorityLevel;var Ie=Ye(f.expirationTime<=ge);if(ge=t.unstable_now(),typeof Ie=="function"){f.callback=Ie,T(ge),Be=!0;break t}f===n(c)&&r(c),T(ge)}else r(c);f=n(c)}if(f!==null)Be=!0;else{var we=n(d);we!==null&&Te(A,we.startTime-ge),Be=!1}}break e}finally{f=null,p=He,m=!1}Be=void 0}}finally{Be?he():w=!1}}}var he;if(typeof E=="function")he=function(){E(K)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Ee=q.port2;q.port1.onmessage=K,he=function(){Ee.postMessage(null)}}else he=function(){v(K,0)};function Te(ge,Be){I=v(function(){ge(t.unstable_now())},Be)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ge){ge.callback=null},t.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ge?Math.floor(1e3/ge):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(ge){switch(p){case 1:case 2:case 3:var Be=3;break;default:Be=p}var He=p;p=Be;try{return ge()}finally{p=He}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(ge,Be){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var He=p;p=ge;try{return Be()}finally{p=He}},t.unstable_scheduleCallback=function(ge,Be,He){var Ye=t.unstable_now();switch(typeof He=="object"&&He!==null?(He=He.delay,He=typeof He=="number"&&0<He?Ye+He:Ye):He=Ye,ge){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=He+Ie,ge={id:h++,callback:Be,priorityLevel:ge,startTime:He,expirationTime:Ie,sortIndex:-1},He>Ye?(ge.sortIndex=He,e(d,ge),n(c)===null&&ge===n(d)&&(y?(_(I),I=-1):y=!0,Te(A,He-Ye))):(ge.sortIndex=Ie,e(c,ge),g||m||(g=!0,w||(w=!0,he()))),ge},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ge){var Be=p;return function(){var He=p;p=Be;try{return ge.apply(this,arguments)}finally{p=He}}}})(Cw)),Cw}var M3;function vGe(){return M3||(M3=1,kw.exports=Kse()),kw.exports}function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}var Ph;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ph||(Ph={}));const N3="popstate";function EGe(t){t===void 0&&(t={});function e(i,o){let{pathname:l="/",search:u="",hash:c=""}=Ky(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),xC("",{pathname:l,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");u=d===-1?c:c.slice(0,d)}return u+"#"+(typeof o=="string"?o:lV(o))}function r(i,o){RT(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Yse(e,n,r,t)}function qh(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wse(){return Math.random().toString(36).substr(2,8)}function F3(t,e){return{usr:t.state,key:t.key,idx:e}}function xC(t,e,n,r){return n===void 0&&(n=null),Qg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ky(e):e,{state:n,key:e&&e.key||r||Wse()})}function lV(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ky(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Yse(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Ph.Pop,c=null,d=h();d==null&&(d=0,l.replaceState(Qg({},l.state,{idx:d}),""));function h(){return(l.state||{idx:null}).idx}function f(){u=Ph.Pop;let b=h(),v=b==null?null:b-d;d=b,c&&c({action:u,location:y.location,delta:v})}function p(b,v){u=Ph.Push;let _=xC(y.location,b,v);n&&n(_,b),d=h()+1;let E=F3(_,d),T=y.createHref(_);try{l.pushState(E,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(T)}o&&c&&c({action:u,location:y.location,delta:1})}function m(b,v){u=Ph.Replace;let _=xC(y.location,b,v);n&&n(_,b),d=h();let E=F3(_,d),T=y.createHref(_);l.replaceState(E,"",T),o&&c&&c({action:u,location:y.location,delta:0})}function g(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof b=="string"?b:lV(b);return _=_.replace(/ $/,"%20"),qh(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let y={get action(){return u},get location(){return t(i,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(N3,f),c=b,()=>{i.removeEventListener(N3,f),c=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(b){return l.go(b)}};return y}var U3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(U3||(U3={}));function _Ge(t,e,n){return n===void 0&&(n="/"),Xse(t,e,n)}function Xse(t,e,n,r){let i=typeof e=="string"?Ky(e):e,o=coe(i.pathname||"/",n);if(o==null)return null;let l=uV(t);Qse(l);let u=null;for(let c=0;u==null&&c<l.length;++c){let d=uoe(o);u=soe(l[c],d)}return u}function uV(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,l,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(qh(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Wv([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(qh(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),uV(o.children,e,h,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:ioe(d,o.index),routesMeta:h})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let c of cV(o.path))i(o,l,c)}),e}function cV(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=cV(r.join("/")),u=[];return u.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...l),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function Qse(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aoe(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zse=/^:[\w-]+$/,Jse=3,eoe=2,toe=1,noe=10,roe=-2,B3=t=>t==="*";function ioe(t,e){let n=t.split("/"),r=n.length;return n.some(B3)&&(r+=roe),e&&(r+=eoe),n.filter(i=>!B3(i)).reduce((i,o)=>i+(Zse.test(o)?Jse:o===""?toe:noe),r)}function aoe(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function soe(t,e,n){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let c=r[u],d=u===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=ooe({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f)return null;Object.assign(i,f.params),l.push({params:i,pathname:Wv([o,f.pathname]),pathnameBase:moe(Wv([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Wv([o,f.pathnameBase]))}return l}function ooe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=loe(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let y=u[f]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const g=u[f];return m&&!g?d[p]=void 0:d[p]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:t}}function loe(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),RT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uoe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function coe(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const doe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,foe=t=>doe.test(t);function hoe(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ky(t):t,o;if(n)if(foe(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),RT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?o=z3(n.substring(1),"/"):o=z3(n,e)}else o=e;return{pathname:o,search:goe(r),hash:yoe(i)}}function z3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function poe(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TGe(t,e){let n=poe(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function SGe(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ky(t):(i=Qg({},t),qh(!i.pathname||!i.pathname.includes("?"),Dw("?","pathname","search",i)),qh(!i.pathname||!i.pathname.includes("#"),Dw("#","pathname","hash",i)),qh(!i.search||!i.search.includes("#"),Dw("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let f=e.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}u=f>=0?e[f]:"/"}let c=hoe(i,u),d=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Wv=t=>t.join("/").replace(/\/\/+/g,"/"),moe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),goe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yoe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wGe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dV=["post","put","patch","delete"];new Set(dV);const boe=["get",...dV];new Set(boe);var Lw={exports:{}},$3;function voe(){return $3||($3=1,(function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(v,_){var E=v[0],T=v[1],A=v[2],w=v[3];E+=(T&A|~T&w)+_[0]-680876936|0,E=(E<<7|E>>>25)+T|0,w+=(E&T|~E&A)+_[1]-389564586|0,w=(w<<12|w>>>20)+E|0,A+=(w&E|~w&T)+_[2]+606105819|0,A=(A<<17|A>>>15)+w|0,T+=(A&w|~A&E)+_[3]-1044525330|0,T=(T<<22|T>>>10)+A|0,E+=(T&A|~T&w)+_[4]-176418897|0,E=(E<<7|E>>>25)+T|0,w+=(E&T|~E&A)+_[5]+1200080426|0,w=(w<<12|w>>>20)+E|0,A+=(w&E|~w&T)+_[6]-1473231341|0,A=(A<<17|A>>>15)+w|0,T+=(A&w|~A&E)+_[7]-45705983|0,T=(T<<22|T>>>10)+A|0,E+=(T&A|~T&w)+_[8]+1770035416|0,E=(E<<7|E>>>25)+T|0,w+=(E&T|~E&A)+_[9]-1958414417|0,w=(w<<12|w>>>20)+E|0,A+=(w&E|~w&T)+_[10]-42063|0,A=(A<<17|A>>>15)+w|0,T+=(A&w|~A&E)+_[11]-1990404162|0,T=(T<<22|T>>>10)+A|0,E+=(T&A|~T&w)+_[12]+1804603682|0,E=(E<<7|E>>>25)+T|0,w+=(E&T|~E&A)+_[13]-40341101|0,w=(w<<12|w>>>20)+E|0,A+=(w&E|~w&T)+_[14]-1502002290|0,A=(A<<17|A>>>15)+w|0,T+=(A&w|~A&E)+_[15]+1236535329|0,T=(T<<22|T>>>10)+A|0,E+=(T&w|A&~w)+_[1]-165796510|0,E=(E<<5|E>>>27)+T|0,w+=(E&A|T&~A)+_[6]-1069501632|0,w=(w<<9|w>>>23)+E|0,A+=(w&T|E&~T)+_[11]+643717713|0,A=(A<<14|A>>>18)+w|0,T+=(A&E|w&~E)+_[0]-373897302|0,T=(T<<20|T>>>12)+A|0,E+=(T&w|A&~w)+_[5]-701558691|0,E=(E<<5|E>>>27)+T|0,w+=(E&A|T&~A)+_[10]+38016083|0,w=(w<<9|w>>>23)+E|0,A+=(w&T|E&~T)+_[15]-660478335|0,A=(A<<14|A>>>18)+w|0,T+=(A&E|w&~E)+_[4]-405537848|0,T=(T<<20|T>>>12)+A|0,E+=(T&w|A&~w)+_[9]+568446438|0,E=(E<<5|E>>>27)+T|0,w+=(E&A|T&~A)+_[14]-1019803690|0,w=(w<<9|w>>>23)+E|0,A+=(w&T|E&~T)+_[3]-187363961|0,A=(A<<14|A>>>18)+w|0,T+=(A&E|w&~E)+_[8]+1163531501|0,T=(T<<20|T>>>12)+A|0,E+=(T&w|A&~w)+_[13]-1444681467|0,E=(E<<5|E>>>27)+T|0,w+=(E&A|T&~A)+_[2]-51403784|0,w=(w<<9|w>>>23)+E|0,A+=(w&T|E&~T)+_[7]+1735328473|0,A=(A<<14|A>>>18)+w|0,T+=(A&E|w&~E)+_[12]-1926607734|0,T=(T<<20|T>>>12)+A|0,E+=(T^A^w)+_[5]-378558|0,E=(E<<4|E>>>28)+T|0,w+=(E^T^A)+_[8]-2022574463|0,w=(w<<11|w>>>21)+E|0,A+=(w^E^T)+_[11]+1839030562|0,A=(A<<16|A>>>16)+w|0,T+=(A^w^E)+_[14]-35309556|0,T=(T<<23|T>>>9)+A|0,E+=(T^A^w)+_[1]-1530992060|0,E=(E<<4|E>>>28)+T|0,w+=(E^T^A)+_[4]+1272893353|0,w=(w<<11|w>>>21)+E|0,A+=(w^E^T)+_[7]-155497632|0,A=(A<<16|A>>>16)+w|0,T+=(A^w^E)+_[10]-1094730640|0,T=(T<<23|T>>>9)+A|0,E+=(T^A^w)+_[13]+681279174|0,E=(E<<4|E>>>28)+T|0,w+=(E^T^A)+_[0]-358537222|0,w=(w<<11|w>>>21)+E|0,A+=(w^E^T)+_[3]-722521979|0,A=(A<<16|A>>>16)+w|0,T+=(A^w^E)+_[6]+76029189|0,T=(T<<23|T>>>9)+A|0,E+=(T^A^w)+_[9]-640364487|0,E=(E<<4|E>>>28)+T|0,w+=(E^T^A)+_[12]-421815835|0,w=(w<<11|w>>>21)+E|0,A+=(w^E^T)+_[15]+530742520|0,A=(A<<16|A>>>16)+w|0,T+=(A^w^E)+_[2]-995338651|0,T=(T<<23|T>>>9)+A|0,E+=(A^(T|~w))+_[0]-198630844|0,E=(E<<6|E>>>26)+T|0,w+=(T^(E|~A))+_[7]+1126891415|0,w=(w<<10|w>>>22)+E|0,A+=(E^(w|~T))+_[14]-1416354905|0,A=(A<<15|A>>>17)+w|0,T+=(w^(A|~E))+_[5]-57434055|0,T=(T<<21|T>>>11)+A|0,E+=(A^(T|~w))+_[12]+1700485571|0,E=(E<<6|E>>>26)+T|0,w+=(T^(E|~A))+_[3]-1894986606|0,w=(w<<10|w>>>22)+E|0,A+=(E^(w|~T))+_[10]-1051523|0,A=(A<<15|A>>>17)+w|0,T+=(w^(A|~E))+_[1]-2054922799|0,T=(T<<21|T>>>11)+A|0,E+=(A^(T|~w))+_[8]+1873313359|0,E=(E<<6|E>>>26)+T|0,w+=(T^(E|~A))+_[15]-30611744|0,w=(w<<10|w>>>22)+E|0,A+=(E^(w|~T))+_[6]-1560198380|0,A=(A<<15|A>>>17)+w|0,T+=(w^(A|~E))+_[13]+1309151649|0,T=(T<<21|T>>>11)+A|0,E+=(A^(T|~w))+_[4]-145523070|0,E=(E<<6|E>>>26)+T|0,w+=(T^(E|~A))+_[11]-1120210379|0,w=(w<<10|w>>>22)+E|0,A+=(E^(w|~T))+_[2]+718787259|0,A=(A<<15|A>>>17)+w|0,T+=(w^(A|~E))+_[9]-343485551|0,T=(T<<21|T>>>11)+A|0,v[0]=E+v[0]|0,v[1]=T+v[1]|0,v[2]=A+v[2]|0,v[3]=w+v[3]|0}function o(v){var _=[],E;for(E=0;E<64;E+=4)_[E>>2]=v.charCodeAt(E)+(v.charCodeAt(E+1)<<8)+(v.charCodeAt(E+2)<<16)+(v.charCodeAt(E+3)<<24);return _}function l(v){var _=[],E;for(E=0;E<64;E+=4)_[E>>2]=v[E]+(v[E+1]<<8)+(v[E+2]<<16)+(v[E+3]<<24);return _}function u(v){var _=v.length,E=[1732584193,-271733879,-1732584194,271733878],T,A,w,I,C,j;for(T=64;T<=_;T+=64)i(E,o(v.substring(T-64,T)));for(v=v.substring(T-64),A=v.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0;T<A;T+=1)w[T>>2]|=v.charCodeAt(T)<<(T%4<<3);if(w[T>>2]|=128<<(T%4<<3),T>55)for(i(E,w),T=0;T<16;T+=1)w[T]=0;return I=_*8,I=I.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(I[2],16),j=parseInt(I[1],16)||0,w[14]=C,w[15]=j,i(E,w),E}function c(v){var _=v.length,E=[1732584193,-271733879,-1732584194,271733878],T,A,w,I,C,j;for(T=64;T<=_;T+=64)i(E,l(v.subarray(T-64,T)));for(v=T-64<_?v.subarray(T-64):new Uint8Array(0),A=v.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0;T<A;T+=1)w[T>>2]|=v[T]<<(T%4<<3);if(w[T>>2]|=128<<(T%4<<3),T>55)for(i(E,w),T=0;T<16;T+=1)w[T]=0;return I=_*8,I=I.toString(16).match(/(.*?)(.{0,8})$/),C=parseInt(I[2],16),j=parseInt(I[1],16)||0,w[14]=C,w[15]=j,i(E,w),E}function d(v){var _="",E;for(E=0;E<4;E+=1)_+=r[v>>E*8+4&15]+r[v>>E*8&15];return _}function h(v){var _;for(_=0;_<v.length;_+=1)v[_]=d(v[_]);return v.join("")}h(u("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&(function(){function v(_,E){return _=_|0||0,_<0?Math.max(_+E,0):Math.min(_,E)}ArrayBuffer.prototype.slice=function(_,E){var T=this.byteLength,A=v(_,T),w=T,I,C,j,F;return E!==n&&(w=v(E,T)),A>w?new ArrayBuffer(0):(I=w-A,C=new ArrayBuffer(I),j=new Uint8Array(C),F=new Uint8Array(this,A,I),j.set(F),C)}})();function f(v){return/[\u0080-\uFFFF]/.test(v)&&(v=unescape(encodeURIComponent(v))),v}function p(v,_){var E=v.length,T=new ArrayBuffer(E),A=new Uint8Array(T),w;for(w=0;w<E;w+=1)A[w]=v.charCodeAt(w);return _?A:T}function m(v){return String.fromCharCode.apply(null,new Uint8Array(v))}function g(v,_,E){var T=new Uint8Array(v.byteLength+_.byteLength);return T.set(new Uint8Array(v)),T.set(new Uint8Array(_),v.byteLength),T}function y(v){var _=[],E=v.length,T;for(T=0;T<E-1;T+=2)_.push(parseInt(v.substr(T,2),16));return String.fromCharCode.apply(String,_)}function b(){this.reset()}return b.prototype.append=function(v){return this.appendBinary(f(v)),this},b.prototype.appendBinary=function(v){this._buff+=v,this._length+=v.length;var _=this._buff.length,E;for(E=64;E<=_;E+=64)i(this._hash,o(this._buff.substring(E-64,E)));return this._buff=this._buff.substring(E-64),this},b.prototype.end=function(v){var _=this._buff,E=_.length,T,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w;for(T=0;T<E;T+=1)A[T>>2]|=_.charCodeAt(T)<<(T%4<<3);return this._finish(A,E),w=h(this._hash),v&&(w=y(w)),this.reset(),w},b.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},b.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},b.prototype.setState=function(v){return this._buff=v.buff,this._length=v.length,this._hash=v.hash,this},b.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},b.prototype._finish=function(v,_){var E=_,T,A,w;if(v[E>>2]|=128<<(E%4<<3),E>55)for(i(this._hash,v),E=0;E<16;E+=1)v[E]=0;T=this._length*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),A=parseInt(T[2],16),w=parseInt(T[1],16)||0,v[14]=A,v[15]=w,i(this._hash,v)},b.hash=function(v,_){return b.hashBinary(f(v),_)},b.hashBinary=function(v,_){var E=u(v),T=h(E);return _?y(T):T},b.ArrayBuffer=function(){this.reset()},b.ArrayBuffer.prototype.append=function(v){var _=g(this._buff.buffer,v),E=_.length,T;for(this._length+=v.byteLength,T=64;T<=E;T+=64)i(this._hash,l(_.subarray(T-64,T)));return this._buff=T-64<E?new Uint8Array(_.buffer.slice(T-64)):new Uint8Array(0),this},b.ArrayBuffer.prototype.end=function(v){var _=this._buff,E=_.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A,w;for(A=0;A<E;A+=1)T[A>>2]|=_[A]<<(A%4<<3);return this._finish(T,E),w=h(this._hash),v&&(w=y(w)),this.reset(),w},b.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},b.ArrayBuffer.prototype.getState=function(){var v=b.prototype.getState.call(this);return v.buff=m(v.buff),v},b.ArrayBuffer.prototype.setState=function(v){return v.buff=p(v.buff,!0),b.prototype.setState.call(this,v)},b.ArrayBuffer.prototype.destroy=b.prototype.destroy,b.ArrayBuffer.prototype._finish=b.prototype._finish,b.ArrayBuffer.hash=function(v,_){var E=c(new Uint8Array(v)),T=h(E);return _?y(T):T},b})})(Lw)),Lw.exports}var Eoe=voe();const AGe=Na(Eoe);var sp;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(sp||(sp={}));class Pw extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const _oe=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Toe=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:_oe(t),o=()=>i()!=="web",l=f=>{const p=d.get(f);return!!(p?.platforms.has(i())||u(f))},u=f=>{var p;return(p=n.PluginHeaders)===null||p===void 0?void 0:p.find(m=>m.name===f)},c=f=>t.console.error(f),d=new Map,h=(f,p={})=>{const m=d.get(f);if(m)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),m.proxy;const g=i(),y=u(f);let b;const v=async()=>(!b&&g in p?b=typeof p[g]=="function"?b=await p[g]():b=p[g]:e!==null&&!b&&"web"in p&&(b=typeof p.web=="function"?b=await p.web():b=p.web),b),_=(C,j)=>{var F,K;if(y){const he=y?.methods.find(q=>j===q.name);if(he)return he.rtype==="promise"?q=>n.nativePromise(f,j.toString(),q):(q,Ee)=>n.nativeCallback(f,j.toString(),q,Ee);if(C)return(F=C[j])===null||F===void 0?void 0:F.bind(C)}else{if(C)return(K=C[j])===null||K===void 0?void 0:K.bind(C);throw new Pw(`"${f}" plugin is not implemented on ${g}`,sp.Unimplemented)}},E=C=>{let j;const F=(...K)=>{const he=v().then(q=>{const Ee=_(q,C);if(Ee){const Te=Ee(...K);return j=Te?.remove,Te}else throw new Pw(`"${f}.${C}()" is not implemented on ${g}`,sp.Unimplemented)});return C==="addListener"&&(he.remove=async()=>j()),he};return F.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:C,writable:!1,configurable:!1}),F},T=E("addListener"),A=E("removeListener"),w=(C,j)=>{const F=T({eventName:C},j),K=async()=>{const q=await F;A({eventName:C,callbackId:q},j)},he=new Promise(q=>F.then(()=>q({remove:K})));return he.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await K()},he},I=new Proxy({},{get(C,j){switch(j){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?w:T;case"removeListener":return A;default:return E(j)}}});return r[f]=I,d.set(f,{name:f,proxy:I,platforms:new Set([...Object.keys(p),...y?[g]:[]])}),I};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=i,n.handleError=c,n.isNativePlatform=o,n.isPluginAvailable=l,n.registerPlugin=h,n.Exception=Pw,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Soe=t=>t.Capacitor=Toe(t),RC=Soe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),kT=RC.registerPlugin;class PP{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o),r&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,n);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let o=this.retainedEventArguments[e];o||(o=[]),o.push(n),this.retainedEventArguments[e]=o}return}i.forEach(o=>o(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new RC.Exception(e,sp.Unimplemented)}unavailable(e="not available"){return new RC.Exception(e,sp.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const q3=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),j3=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class woe extends PP{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,o]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=j3(i).trim(),o=j3(o).trim(),n[i]=o}),n}async setCookie(e){try{const n=q3(e.key),r=q3(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${o}; ${l};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}kT("CapacitorCookies",{web:()=>new woe});const Aoe=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),Ioe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,o,l)=>(i[o]=t[e[l]],i),{})},xoe=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[o,l]=i;let u,c;return Array.isArray(l)?(c="",l.forEach(d=>{u=e?encodeURIComponent(d):d,c+=`${o}=${u}&`}),c.slice(0,-1)):(u=e?encodeURIComponent(l):l,c=`${o}=${u}`),`${r}&${c}`},"").substr(1):null,Roe=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Ioe(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[l,u]of Object.entries(t.data||{}))o.set(l,u);n.body=o.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((u,c)=>{o.append(c,u)});else for(const u of Object.keys(t.data))o.append(u,t.data[u]);n.body=o;const l=new Headers(n.headers);l.delete("content-type"),n.headers=l}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class koe extends PP{async request(e){const n=Roe(e,e.webFetchExtra),r=xoe(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,o=await fetch(i,n),l=o.headers.get("content-type")||"";let{responseType:u="text"}=o.ok?e:{};l.includes("application/json")&&(u="json");let c,d;switch(u){case"arraybuffer":case"blob":d=await o.blob(),c=await Aoe(d);break;case"json":c=await o.json();break;default:c=await o.text()}const h={};return o.headers.forEach((f,p)=>{h[p]=f}),{data:c,headers:h,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}kT("CapacitorHttp",{web:()=>new koe});const IGe=kT("GoogleAuth",{web:()=>Ys(()=>Promise.resolve().then(()=>Moe),void 0,import.meta.url).then(t=>new t.GoogleAuthWeb)});class Vm extends Error{}Vm.prototype.name="InvalidTokenError";function Coe(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function Doe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Coe(e)}catch{return atob(e)}}function xGe(t,e){if(typeof t!="string")throw new Vm("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new Vm(`Invalid token specified: missing part #${n+1}`);let i;try{i=Doe(r)}catch(o){throw new Vm(`Invalid token specified: invalid base64 for part #${n+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new Vm(`Invalid token specified: invalid json for part #${n+1} (${o.message})`)}}function Loe(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[i,o]=Bt.useState(!1),l=Bt.useRef(n);l.current=n;const u=Bt.useRef(r);return u.current=r,Bt.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=e,c.onload=()=>{var d;o(!0),(d=l.current)===null||d===void 0||d.call(l)},c.onerror=()=>{var d;o(!1),(d=u.current)===null||d===void 0||d.call(u)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[e]),i}const Poe=Bt.createContext(null);function RGe({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:i}){const o=Loe({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),l=Bt.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:o}),[t,o]);return Me.createElement(Poe.Provider,{value:l},i)}class Ooe extends PP{constructor(){super()}loadScript(){if(typeof document>"u")return;const e="gapi";if(document?.getElementById(e))return;const r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.defer=!0,i.async=!0,i.id=e,i.onload=this.platformJsLoaded.bind(this),i.src="https://apis.google.com/js/platform.js",r.appendChild(i)}initialize(e={clientId:"",scopes:[],grantOfflineAccess:!1}){var n,r;if(typeof window>"u")return;const i=(n=document.getElementsByName("google-signin-client_id")[0])===null||n===void 0?void 0:n.content,o=e.clientId||i||"";return o||console.warn("GoogleAuthPlugin - clientId is empty"),this.options={clientId:o,grantOfflineAccess:(r=e.grantOfflineAccess)!==null&&r!==void 0?r:!1,scopes:e.scopes||[]},this.gapiLoaded=new Promise(l=>{window.gapiResolve=l,this.loadScript()}),this.addUserChangeListener(),this.gapiLoaded}platformJsLoaded(){gapi.load("auth2",()=>{const e={client_id:this.options.clientId,plugin_name:"CodetrixStudioCapacitorGoogleAuth"};this.options.scopes.length&&(e.scope=this.options.scopes.join(" ")),gapi.auth2.init(e),window.gapiResolve()})}async signIn(){return new Promise(async(e,n)=>{var r;try{let i;const o=(r=this.options.grantOfflineAccess)!==null&&r!==void 0?r:!1;o?i=(await gapi.auth2.getAuthInstance().grantOfflineAccess()).code:await gapi.auth2.getAuthInstance().signIn();const l=gapi.auth2.getAuthInstance().currentUser.get();o&&await l.reloadAuthResponse();const u=this.getUserFrom(l);u.serverAuthCode=i,e(u)}catch(i){n(i)}})}async refresh(){const e=await gapi.auth2.getAuthInstance().currentUser.get().reloadAuthResponse();return{accessToken:e.access_token,idToken:e.id_token,refreshToken:""}}async signOut(){return gapi.auth2.getAuthInstance().signOut()}async addUserChangeListener(){await this.gapiLoaded,gapi.auth2.getAuthInstance().currentUser.listen(e=>{this.notifyListeners("userChange",e.isSignedIn()?this.getUserFrom(e):null)})}getUserFrom(e){const n={},r=e.getBasicProfile();n.email=r.getEmail(),n.familyName=r.getFamilyName(),n.givenName=r.getGivenName(),n.id=r.getId(),n.imageUrl=r.getImageUrl(),n.name=r.getName();const i=e.getAuthResponse(!0);return n.authentication={accessToken:i.access_token,idToken:i.id_token,refreshToken:""},n}}const Moe=Object.freeze(Object.defineProperty({__proto__:null,GoogleAuthWeb:Ooe},Symbol.toStringTag,{value:"Module"}));function fV(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=fV(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kGe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=fV(t))&&(r&&(r+=" "),r+=e);return r}function fi(t){return function(){return t}}const hV=Math.cos,wE=Math.sin,jo=Math.sqrt,AE=Math.PI,CT=2*AE,kC=Math.PI,CC=2*kC,Qc=1e-6,Noe=CC-Qc;function pV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Foe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pV;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Uoe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pV:Foe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,c=r-e,d=i-n,h=l-e,f=u-n,p=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Qc)if(!(Math.abs(f*c-d*h)>Qc)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-l,g=i-u,y=c*c+d*d,b=m*m+g*g,v=Math.sqrt(y),_=Math.sqrt(p),E=o*Math.tan((kC-Math.acos((y+p-b)/(2*v*_)))/2),T=E/_,A=E/v;Math.abs(T-1)>Qc&&this._append`L${e+T*h},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*m>h*g)},${this._x1=e+A*c},${this._y1=n+A*d}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=e+u,h=n+c,f=1^l,p=l?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Qc||Math.abs(this._y1-h)>Qc)&&this._append`L${d},${h}`,r&&(p<0&&(p=p%CC+CC),p>Noe?this._append`A${r},${r},0,1,${f},${e-u},${n-c}A${r},${r},0,1,${f},${this._x1=d},${this._y1=h}`:p>Qc&&this._append`A${r},${r},0,${+(p>=kC)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Uoe(e)}function MP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mV(t){this._context=t}mV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gV(t){return new mV(t)}function yV(t){return t[0]}function bV(t){return t[1]}function Boe(t,e){var n=fi(!0),r=null,i=gV,o=null,l=OP(u);t=typeof t=="function"?t:t===void 0?yV:fi(t),e=typeof e=="function"?e:e===void 0?bV:fi(e);function u(c){var d,h=(c=MP(c)).length,f,p=!1,m;for(r==null&&(o=i(m=l())),d=0;d<=h;++d)!(d<h&&n(f=c[d],d,c))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+t(f,d,c),+e(f,d,c));if(m)return o=null,m+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:fi(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:fi(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:fi(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function CGe(t,e,n){var r=null,i=fi(!0),o=null,l=gV,u=null,c=OP(d);t=typeof t=="function"?t:t===void 0?yV:fi(+t),e=typeof e=="function"?e:fi(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?bV:fi(+n);function d(f){var p,m,g,y=(f=MP(f)).length,b,v=!1,_,E=new Array(y),T=new Array(y);for(o==null&&(u=l(_=c())),p=0;p<=y;++p){if(!(p<y&&i(b=f[p],p,f))===v)if(v=!v)m=p,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),g=p-1;g>=m;--g)u.point(E[g],T[g]);u.lineEnd(),u.areaEnd()}v&&(E[p]=+t(b,p,f),T[p]=+e(b,p,f),u.point(r?+r(b,p,f):E[p],n?+n(b,p,f):T[p]))}if(_)return u=null,_+""||null}function h(){return Boe().defined(i).curve(l).context(o)}return d.x=function(f){return arguments.length?(t=typeof f=="function"?f:fi(+f),r=null,d):t},d.x0=function(f){return arguments.length?(t=typeof f=="function"?f:fi(+f),d):t},d.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:fi(+f),d):r},d.y=function(f){return arguments.length?(e=typeof f=="function"?f:fi(+f),n=null,d):e},d.y0=function(f){return arguments.length?(e=typeof f=="function"?f:fi(+f),d):e},d.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:fi(+f),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(f){return arguments.length?(i=typeof f=="function"?f:fi(!!f),d):i},d.curve=function(f){return arguments.length?(l=f,o!=null&&(u=l(o)),d):l},d.context=function(f){return arguments.length?(f==null?o=u=null:u=l(o=f),d):o},d}class vV{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function DGe(t){return new vV(t,!0)}function LGe(t){return new vV(t,!1)}const zoe={draw(t,e){const n=jo(e/AE);t.moveTo(n,0),t.arc(0,0,n,0,CT)}},PGe={draw(t,e){const n=jo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},EV=jo(1/3),$oe=EV*2,OGe={draw(t,e){const n=jo(e/$oe),r=n*EV;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},MGe={draw(t,e){const n=jo(e),r=-n/2;t.rect(r,r,n,n)}},qoe=.8908130915292852,_V=wE(AE/10)/wE(7*AE/10),joe=wE(CT/10)*_V,Hoe=-hV(CT/10)*_V,NGe={draw(t,e){const n=jo(e*qoe),r=joe*n,i=Hoe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=CT*o/5,u=hV(l),c=wE(l);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},Ow=jo(3),FGe={draw(t,e){const n=-jo(e/(Ow*3));t.moveTo(0,n*2),t.lineTo(-Ow*n,-n),t.lineTo(Ow*n,-n),t.closePath()}},zs=-.5,$s=jo(3)/2,DC=1/jo(12),Goe=(DC/2+1)*3,UGe={draw(t,e){const n=jo(e/Goe),r=n/2,i=n*DC,o=r,l=n*DC+n,u=-o,c=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(u,c),t.lineTo(zs*r-$s*i,$s*r+zs*i),t.lineTo(zs*o-$s*l,$s*o+zs*l),t.lineTo(zs*u-$s*c,$s*u+zs*c),t.lineTo(zs*r+$s*i,zs*i-$s*r),t.lineTo(zs*o+$s*l,zs*l-$s*o),t.lineTo(zs*u+$s*c,zs*c-$s*u),t.closePath()}};function BGe(t,e){let n=null,r=OP(i);t=typeof t=="function"?t:fi(t||zoe),e=typeof e=="function"?e:fi(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:fi(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:fi(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function IE(){}function xE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function TV(t){this._context=t}TV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zGe(t){return new TV(t)}function SV(t){this._context=t}SV.prototype={areaStart:IE,areaEnd:IE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $Ge(t){return new SV(t)}function wV(t){this._context=t}wV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qGe(t){return new wV(t)}function AV(t){this._context=t}AV.prototype={areaStart:IE,areaEnd:IE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jGe(t){return new AV(t)}function H3(t){return t<0?-1:1}function G3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(H3(o)+H3(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function V3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Mw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,l-u*n,o,l)}function RE(t){this._context=t}RE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mw(this,this._t0,V3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mw(this,V3(this,n=G3(this,t,e)),n);break;default:Mw(this,this._t0,n=G3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function IV(t){this._context=new xV(t)}(IV.prototype=Object.create(RE.prototype)).point=function(t,e){RE.prototype.point.call(this,e,t)};function xV(t){this._context=t}xV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function HGe(t){return new RE(t)}function GGe(t){return new IV(t)}function RV(t){this._context=t}RV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=K3(t),i=K3(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function K3(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function VGe(t){return new RV(t)}function DT(t,e){this._context=t,this._t=e}DT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function KGe(t){return new DT(t,.5)}function WGe(t){return new DT(t,0)}function YGe(t){return new DT(t,1)}function Zg(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,u=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function W3(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Voe(t,e){return t[e]}function Koe(t){const e=[];return e.key=t,e}function XGe(){var t=fi([]),e=W3,n=Zg,r=Voe;function i(o){var l=Array.from(t.apply(this,arguments),Koe),u,c=l.length,d=-1,h;for(const f of o)for(u=0,++d;u<c;++u)(l[u][d]=[0,+r(f,l[u].key,d,o)]).data=f;for(u=0,h=MP(e(l));u<c;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:fi(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:fi(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?W3:typeof o=="function"?o:fi(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Zg,i):n},i}function QGe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Zg(t,e)}}function ZGe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Zg(t,e)}}function JGe(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,c=0,d=0;u<l;++u){for(var h=t[e[u]],f=h[r][1]||0,p=h[r-1][1]||0,m=(f-p)/2,g=0;g<u;++g){var y=t[e[g]],b=y[r][1]||0,v=y[r-1][1]||0;m+=b-v}c+=f,d+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Zg(t,e)}}var Nw={},Fw={},Y3;function Woe(){return Y3||(Y3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Fw)),Fw}var Uw={},X3;function kV(){return X3||(X3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Uw)),Uw}var Bw={},Q3;function NP(){return Q3||(Q3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Bw)),Bw}var zw={},$w={},Z3;function Yoe(){return Z3||(Z3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})($w)),$w}var J3;function FP(){return J3||(J3=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yoe(),n=NP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const f=i[u];d?f==="\\"&&u+1<l?(u++,c+=i[u]):f===d?d="":c+=f:h?f==='"'||f==="'"?d=f:f==="]"?(h=!1,o.push(c),c=""):c+=f:f==="["?(h=!0,c&&(o.push(c),c="")):f==="."?c&&(o.push(c),c=""):c+=f,u++}return c&&o.push(c),o}t.toPath=r})(zw)),zw}var eB;function UP(){return eB||(eB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Woe(),n=kV(),r=NP(),i=FP();function o(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return l(u,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function l(u,c,d){if(c.length===0)return d;let h=u;for(let f=0;f<c.length;f++){if(h==null||e.isUnsafeProperty(c[f]))return d;h=h[c[f]]}return h===void 0?d:h}t.get=o})(Nw)),Nw}var qw,tB;function Xoe(){return tB||(tB=1,qw=UP().get),qw}var Qoe=Xoe();const e7e=Na(Qoe);var jw={},Hw={},nB;function Zoe(){return nB||(nB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(Hw)),Hw}var Gw={},rB;function CV(){return rB||(rB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Gw)),Gw}var Vw={},Kw={},Ww={},iB;function Joe(){return iB||(iB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Ww)),Ww}var aB;function BP(){return aB||(aB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Joe();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Kw)),Kw}var Yw={},sB;function ele(){return sB||(sB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Yw)),Yw}var oB;function tle(){return oB||(oB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BP(),n=ele();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(Vw)),Vw}var Xw={},Qw={},lB;function nle(){return lB||(lB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UP();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Qw)),Qw}var Zw={},Jw={},eA={},tA={},uB;function DV(){return uB||(uB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(tA)),tA}var nA={},cB;function LV(){return cB||(cB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(nA)),nA}var rA={},dB;function PV(){return dB||(dB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(rA)),rA}var fB;function rle(){return fB||(fB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DV(),n=LV(),r=PV();function i(h,f,p){return typeof p!="function"?i(h,f,()=>{}):o(h,f,function m(g,y,b,v,_,E){const T=p(g,y,b,v,_,E);return T!==void 0?!!T:o(g,y,m,E)},new Map)}function o(h,f,p,m){if(f===h)return!0;switch(typeof f){case"object":return l(h,f,p,m);case"function":return Object.keys(f).length>0?o(h,{...f},p,m):r.eq(h,f);default:return e.isObject(h)?typeof f=="string"?f==="":!0:r.eq(h,f)}}function l(h,f,p,m){if(f==null)return!0;if(Array.isArray(f))return c(h,f,p,m);if(f instanceof Map)return u(h,f,p,m);if(f instanceof Set)return d(h,f,p,m);const g=Object.keys(f);if(h==null||n.isPrimitive(h))return g.length===0;if(g.length===0)return!0;if(m?.has(f))return m.get(f)===h;m?.set(f,h);try{for(let y=0;y<g.length;y++){const b=g[y];if(!n.isPrimitive(h)&&!(b in h)||f[b]===void 0&&h[b]!==void 0||f[b]===null&&h[b]!==null||!p(h[b],f[b],b,h,f,m))return!1}return!0}finally{m?.delete(f)}}function u(h,f,p,m){if(f.size===0)return!0;if(!(h instanceof Map))return!1;for(const[g,y]of f.entries()){const b=h.get(g);if(p(b,y,g,h,f,m)===!1)return!1}return!0}function c(h,f,p,m){if(f.length===0)return!0;if(!Array.isArray(h))return!1;const g=new Set;for(let y=0;y<f.length;y++){const b=f[y];let v=!1;for(let _=0;_<h.length;_++){if(g.has(_))continue;const E=h[_];let T=!1;if(p(E,b,y,h,f,m)&&(T=!0),T){g.add(_),v=!0;break}}if(!v)return!1}return!0}function d(h,f,p,m){return f.size===0?!0:h instanceof Set?c([...h],[...f],p,m):!1}t.isMatchWith=i,t.isSetMatch=d})(eA)),eA}var hB;function OV(){return hB||(hB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rle();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Jw)),Jw}var iA={},aA={},sA={},pB;function ile(){return pB||(pB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(sA)),sA}var oA={},mB;function MV(){return mB||(mB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(oA)),oA}var lA={},gB;function NV(){return gB||(gB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",b="[object Uint8Array]",v="[object Uint8ClampedArray]",_="[object Uint16Array]",E="[object Uint32Array]",T="[object BigUint64Array]",A="[object Int8Array]",w="[object Int16Array]",I="[object Int32Array]",C="[object BigInt64Array]",j="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=p,t.arrayTag=h,t.bigInt64ArrayTag=C,t.bigUint64ArrayTag=T,t.booleanTag=i,t.dataViewTag=y,t.dateTag=u,t.errorTag=g,t.float32ArrayTag=j,t.float64ArrayTag=F,t.functionTag=f,t.int16ArrayTag=w,t.int32ArrayTag=I,t.int8ArrayTag=A,t.mapTag=c,t.numberTag=r,t.objectTag=m,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=_,t.uint32ArrayTag=E,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=v})(lA)),lA}var uA={},yB;function ale(){return yB||(yB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(uA)),uA}var bB;function FV(){return bB||(bB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ile(),n=MV(),r=NV(),i=LV(),o=ale();function l(h,f){return u(h,void 0,h,new Map,f)}function u(h,f,p,m=new Map,g=void 0){const y=g?.(h,f,p,m);if(y!==void 0)return y;if(i.isPrimitive(h))return h;if(m.has(h))return m.get(h);if(Array.isArray(h)){const b=new Array(h.length);m.set(h,b);for(let v=0;v<h.length;v++)b[v]=u(h[v],v,p,m,g);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;m.set(h,b);for(const[v,_]of h)b.set(v,u(_,v,p,m,g));return b}if(h instanceof Set){const b=new Set;m.set(h,b);for(const v of h)b.add(u(v,void 0,p,m,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);m.set(h,b);for(let v=0;v<h.length;v++)b[v]=u(h[v],v,p,m,g);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return m.set(h,b),c(b,h,p,m,g),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return m.set(h,b),c(b,h,p,m,g),b}if(typeof Blob<"u"&&h instanceof Blob){const b=new Blob([h],{type:h.type});return m.set(h,b),c(b,h,p,m,g),b}if(h instanceof Error){const b=new h.constructor;return m.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,c(b,h,p,m,g),b}if(h instanceof Boolean){const b=new Boolean(h.valueOf());return m.set(h,b),c(b,h,p,m,g),b}if(h instanceof Number){const b=new Number(h.valueOf());return m.set(h,b),c(b,h,p,m,g),b}if(h instanceof String){const b=new String(h.valueOf());return m.set(h,b),c(b,h,p,m,g),b}if(typeof h=="object"&&d(h)){const b=Object.create(Object.getPrototypeOf(h));return m.set(h,b),c(b,h,p,m,g),b}return h}function c(h,f,p=h,m,g){const y=[...Object.keys(f),...e.getSymbols(f)];for(let b=0;b<y.length;b++){const v=y[b],_=Object.getOwnPropertyDescriptor(h,v);(_==null||_.writable)&&(h[v]=u(f[v],v,p,m,g))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=c})(aA)),aA}var vB;function sle(){return vB||(vB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FV();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(iA)),iA}var EB;function ole(){return EB||(EB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OV(),n=sle();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(Zw)),Zw}var cA={},dA={},fA={},_B;function lle(){return _B||(_B=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FV(),n=NV();function r(i,o){return e.cloneDeepWith(i,(l,u,c,d)=>{const h=o?.(l,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i?.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(fA)),fA}var TB;function ule(){return TB||(TB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lle();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(dA)),dA}var hA={},pA={},SB;function UV(){return SB||(SB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(pA)),pA}var mA={},wB;function cle(){return wB||(wB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MV();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(mA)),mA}var AB;function dle(){return AB||(AB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kV(),n=UV(),r=cle(),i=FP();function o(l,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&l?.[u]==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=l;for(let h=0;h<c.length;h++){const f=c[h];if((d==null||!Object.hasOwn(d,f))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(f)&&f<d.length))return!1;d=d[f]}return!0}t.has=o})(hA)),hA}var IB;function fle(){return IB||(IB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OV(),n=NP(),r=ule(),i=UP(),o=dle();function l(u,c){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=l})(cA)),cA}var xB;function hle(){return xB||(xB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CV(),n=nle(),r=ole(),i=fle();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(Xw)),Xw}var RB;function ple(){return RB||(RB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zoe(),n=CV(),r=tle(),i=hle();function o(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=o})(jw)),jw}var gA,kB;function mle(){return kB||(kB=1,gA=ple().uniqBy),gA}var gle=mle();const t7e=Na(gle);var yA={exports:{}},bA={},vA={exports:{}},EA={};var CB;function yle(){if(CB)return EA;CB=1;var t=co();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(f,p){var m=p(),g=r({inst:{value:m,getSnapshot:p}}),y=g[0].inst,b=g[1];return o(function(){y.value=m,y.getSnapshot=p,c(y)&&b({inst:y})},[f,m,p]),i(function(){return c(y)&&b({inst:y}),f(function(){c(y)&&b({inst:y})})},[f]),l(m),m}function c(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!n(f,m)}catch{return!0}}function d(f,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return EA.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,EA}var DB;function BV(){return DB||(DB=1,vA.exports=yle()),vA.exports}var LB;function ble(){if(LB)return bA;LB=1;var t=co(),e=BV();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,c=t.useDebugValue;return bA.useSyncExternalStoreWithSelector=function(d,h,f,p,m){var g=o(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=u(function(){function v(w){if(!_){if(_=!0,E=w,w=p(w),m!==void 0&&y.hasValue){var I=y.value;if(m(I,w))return T=I}return T=w}if(I=T,r(E,w))return I;var C=p(w);return m!==void 0&&m(I,C)?(E=w,I):(E=w,T=C)}var _=!1,E,T,A=f===void 0?null:f;return[function(){return v(h())},A===null?void 0:function(){return v(A())}]},[h,f,p,m]);var b=i(d,g[0],g[1]);return l(function(){y.hasValue=!0,y.value=b},[b]),c(b),b},bA}var PB;function vle(){return PB||(PB=1,yA.exports=ble()),yA.exports}var n7e=vle();function Ele(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function _le(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Tle(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var OB=t=>Array.isArray(t)?t:[t];function Sle(t){const e=Array.isArray(t[0])?t[0]:t;return Tle(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function wle(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Ale=class{constructor(t){this.value=t}deref(){return this.value}},Ile=typeof WeakRef<"u"?WeakRef:Ale,xle=0,MB=1;function Bb(){return{s:xle,v:void 0,o:null,p:null}}function zV(t,e={}){let n=Bb();const{resultEqualityCheck:r}=e;let i,o=0;function l(){let u=n;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=u.o;g===null&&(u.o=g=new WeakMap);const y=g.get(m);y===void 0?(u=Bb(),g.set(m,u)):u=y}else{let g=u.p;g===null&&(u.p=g=new Map);const y=g.get(m);y===void 0?(u=Bb(),g.set(m,u)):u=y}}const d=u;let h;if(u.s===MB)h=u.v;else if(h=t.apply(null,arguments),o++,r){const f=i?.deref?.()??i;f!=null&&r(f,h)&&(h=f,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new Ile(h):h}return d.s=MB,d.v=h,h}return l.clearCache=()=>{n=Bb(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function Rle(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Ele(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:m=zV,argsMemoizeOptions:g=[]}=h,y=OB(p),b=OB(g),v=Sle(i),_=f(function(){return o++,d.apply(null,arguments)},...y),E=m(function(){l++;const A=wle(v,arguments);return u=_.apply(null,A),u},...b);return Object.assign(E,{resultFunc:d,memoizedResultFunc:_,dependencies:v,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var kle=Rle(zV),Cle=Object.assign((t,e=kle)=>{_le(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,u,c)=>(l[n[c]]=u,l),{}))},{withTypes:()=>Cle}),_A={},TA={},SA={},NB;function Dle(){return NB||(NB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};t.compareValues=n})(SA)),SA}var wA={},AA={},FB;function $V(){return FB||(FB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(AA)),AA}var UB;function Lle(){return UB||(UB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$V(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})(wA)),wA}var BB;function Ple(){return BB||(BB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dle(),n=Lle(),r=FP();function i(o,l,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(m=>String(m));const d=(m,g)=>{let y=m;for(let b=0;b<g.length&&y!=null;++b)y=y[g[b]];return y},h=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:d(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?d(g,m):typeof g=="object"?g[m]:g,f=l.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return o.map(m=>({original:m,criteria:f.map(g=>h(g,m))})).slice().sort((m,g)=>{for(let y=0;y<f.length;y++){const b=e.compareValues(m.criteria[y],g.criteria[y],u[y]);if(b!==0)return b}return 0}).map(m=>m.original)}t.orderBy=i})(TA)),TA}var IA={},zB;function Ole(){return zB||(zB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<o?l(h,c+1):i.push(h)}};return l(n,0),i}t.flatten=e})(IA)),IA}var xA={},$B;function qV(){return $B||($B=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UV(),n=BP(),r=DV(),i=PV();function o(l,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],l):!1}t.isIterateeCall=o})(xA)),xA}var qB;function Mle(){return qB||(qB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ple(),n=Ole(),r=qV();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(_A)),_A}var RA,jB;function Nle(){return jB||(jB=1,RA=Mle().sortBy),RA}var Fle=Nle();const r7e=Na(Fle);function ha(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ule=typeof Symbol=="function"&&Symbol.observable||"@@observable",HB=Ule,kA=()=>Math.random().toString(36).substring(7).split("").join("."),Ble={INIT:`@@redux/INIT${kA()}`,REPLACE:`@@redux/REPLACE${kA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kA()}`},kE=Ble;function zP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function $P(t,e,n){if(typeof t!="function")throw new Error(ha(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ha(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ha(1));return n($P)(t,e)}let r=t,i=e,o=new Map,l=o,u=0,c=!1;function d(){l===o&&(l=new Map,o.forEach((b,v)=>{l.set(v,b)}))}function h(){if(c)throw new Error(ha(3));return i}function f(b){if(typeof b!="function")throw new Error(ha(4));if(c)throw new Error(ha(5));let v=!0;d();const _=u++;return l.set(_,b),function(){if(v){if(c)throw new Error(ha(6));v=!1,d(),l.delete(_),o=null}}}function p(b){if(!zP(b))throw new Error(ha(7));if(typeof b.type>"u")throw new Error(ha(8));if(typeof b.type!="string")throw new Error(ha(17));if(c)throw new Error(ha(9));try{c=!0,i=r(i,b)}finally{c=!1}return(o=l).forEach(_=>{_()}),b}function m(b){if(typeof b!="function")throw new Error(ha(10));r=b,p({type:kE.REPLACE})}function g(){const b=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ha(11));function _(){const T=v;T.next&&T.next(h())}return _(),{unsubscribe:b(_)}},[HB](){return this}}}return p({type:kE.INIT}),{dispatch:p,subscribe:f,getState:h,replaceReducer:m,[HB]:g}}function zle(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:kE.INIT})>"u")throw new Error(ha(12));if(typeof n(void 0,{type:kE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ha(13))})}function $le(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{zle(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const f=r[h],p=n[f],m=l[f],g=p(m,u);if(typeof g>"u")throw u&&u.type,new Error(ha(14));d[f]=g,c=c||g!==m}return c=c||r.length!==Object.keys(l).length,c?d:l}}function GB(t,e){return function(...n){return e(t.apply(this,n))}}function VB(t,e){if(typeof t=="function")return GB(t,e);if(typeof t!="object"||t===null)throw new Error(ha(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=GB(i,e))}return n}function Jg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function jV(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(ha(15))};const l={getState:i.getState,dispatch:(c,...d)=>o(c,...d)},u=t.map(c=>c(l));return o=Jg(...u)(i.dispatch),{...i,dispatch:o}}}function HV(t){return zP(t)&&"type"in t&&typeof t.type=="string"}function GV(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var qle=GV(),jle=GV,Hle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jg:Jg.apply(null,arguments)};function op(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Is(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>HV(r)&&r.type===t,n}var VV=class Km extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Km.prototype)}static get[Symbol.species](){return Km}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Km(...e[0].concat(this)):new Km(...e.concat(this))}};function KB(t){return sV(t)?oV(t,()=>{}):t}function zb(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Gle(t){return typeof t=="boolean"}var Vle=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new VV;return n&&(Gle(n)?l.push(qle):l.push(jle(n.extraArgument))),l},KV="RTK_autoBatch",i7e=()=>t=>({payload:t,meta:{[KV]:!0}}),WB=t=>e=>{setTimeout(e,t)},Kle=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WB(10):t.type==="callback"?t.queueNotification:WB(t.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const f=()=>i&&h(),p=r.subscribe(f);return u.add(h),()=>{p(),u.delete(h)}},dispatch(h){try{return i=!h?.meta?.[KV],o=!i,o&&(l||(l=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},Wle=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new VV(t);return r&&i.push(Kle(typeof r=="object"?r:void 0)),i};function a7e(t){const e=Vle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(zP(n))u=$le(n);else throw new Error(Is(1));let c;typeof r=="function"?c=r(e):c=e();let d=Jg;i&&(d=Hle({trace:!1,...typeof i=="object"&&i}));const h=jV(...c),f=Wle(h);let p=typeof l=="function"?l(f):f();const m=d(...p);return $P(u,o,m)}function WV(t){const e={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Is(28));if(u in e)throw new Error(Is(29));return e[u]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function Yle(t){return typeof t=="function"}function Xle(t,e){let[n,r,i]=WV(e),o;if(Yle(t))o=()=>KB(t());else{const u=KB(t);o=()=>u}function l(u=o(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,f)=>{if(f)if(Hse(h)){const m=f(h,c);return m===void 0?h:m}else{if(sV(h))return oV(h,p=>f(p,c));{const p=f(h,c);if(p===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return h},u)}return l.getInitialState=o,l}var Qle="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Zle=(t=21)=>{let e="",n=t;for(;n--;)e+=Qle[Math.random()*64|0];return e},Jle=Symbol.for("rtk-slice-createasyncthunk");function eue(t,e){return`${t}/${e}`}function tue({creators:t}={}){const e=t?.asyncThunk?.[Jle];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(Is(11));const l=(typeof r.reducers=="function"?r.reducers(rue()):r.reducers)||{},u=Object.keys(l),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,T){const A=typeof E=="string"?E:E.type;if(!A)throw new Error(Is(12));if(A in c.sliceCaseReducersByType)throw new Error(Is(13));return c.sliceCaseReducersByType[A]=T,d},addMatcher(E,T){return c.sliceMatchers.push({matcher:E,reducer:T}),d},exposeAction(E,T){return c.actionCreators[E]=T,d},exposeCaseReducer(E,T){return c.sliceCaseReducersByName[E]=T,d}};u.forEach(E=>{const T=l[E],A={reducerName:E,type:eue(i,E),createNotation:typeof r.reducers=="function"};aue(T)?oue(A,T,d,e):iue(A,T,d)});function h(){const[E={},T=[],A=void 0]=typeof r.extraReducers=="function"?WV(r.extraReducers):[r.extraReducers],w={...E,...c.sliceCaseReducersByType};return Xle(r.initialState,I=>{for(let C in w)I.addCase(C,w[C]);for(let C of c.sliceMatchers)I.addMatcher(C.matcher,C.reducer);for(let C of T)I.addMatcher(C.matcher,C.reducer);A&&I.addDefaultCase(A)})}const f=E=>E,p=new Map,m=new WeakMap;let g;function y(E,T){return g||(g=h()),g(E,T)}function b(){return g||(g=h()),g.getInitialState()}function v(E,T=!1){function A(I){let C=I[E];return typeof C>"u"&&T&&(C=zb(m,A,b)),C}function w(I=f){const C=zb(p,T,()=>new WeakMap);return zb(C,I,()=>{const j={};for(const[F,K]of Object.entries(r.selectors??{}))j[F]=nue(K,I,()=>zb(m,I,b),T);return j})}return{reducerPath:E,getSelectors:w,get selectors(){return w(A)},selectSlice:A}}const _={name:i,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...v(o),injectInto(E,{reducerPath:T,...A}={}){const w=T??o;return E.inject({reducerPath:w,reducer:y},A),{..._,...v(w,!0)}}};return _}}function nue(t,e,n,r){function i(o,...l){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var s7e=tue();function rue(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function iue({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!sue(r))throw new Error(Is(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?op(t,l):op(t))}function aue(t){return t._reducerDefinitionType==="asyncThunk"}function sue(t){return t._reducerDefinitionType==="reducerWithPrepare"}function oue({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Is(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:c,settled:d,options:h}=n,f=i(t,o,h);r.exposeAction(e,f),l&&r.addCase(f.fulfilled,l),u&&r.addCase(f.pending,u),c&&r.addCase(f.rejected,c),d&&r.addMatcher(f.settled,d),r.exposeCaseReducer(e,{fulfilled:l||$b,pending:u||$b,rejected:c||$b,settled:d||$b})}function $b(){}var lue="task",YV="listener",XV="completed",qP="cancelled",uue=`task-${qP}`,cue=`task-${XV}`,LC=`${YV}-${qP}`,due=`${YV}-${XV}`,LT=class{constructor(t){this.code=t,this.message=`${lue} ${qP} (reason: ${t})`}name="TaskAbortError";message},jP=(t,e)=>{if(typeof t!="function")throw new TypeError(Is(32))},CE=()=>{},QV=(t,e=CE)=>(t.catch(e),t),ZV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Sd=t=>{if(t.aborted)throw new LT(t.reason)};function JV(t,e){let n=CE;return new Promise((r,i)=>{const o=()=>i(new LT(t.reason));if(t.aborted){o();return}n=ZV(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=CE})}var fue=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof LT?"cancelled":"rejected",error:n}}finally{e?.()}},DE=t=>e=>QV(JV(t,e).then(n=>(Sd(t),n))),eK=t=>{const e=DE(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:jh}=Object,YB={},PT="listenerMiddleware",hue=(t,e)=>{const n=r=>ZV(t,()=>r.abort(t.reason));return(r,i)=>{jP(r);const o=new AbortController;n(o);const l=fue(async()=>{Sd(t),Sd(o.signal);const u=await r({pause:DE(o.signal),delay:eK(o.signal),signal:o.signal});return Sd(o.signal),u},()=>o.abort(cue));return i?.autoJoin&&e.push(l.catch(CE)),{result:DE(t)(l),cancel(){o.abort(uue)}}}},pue=(t,e)=>{const n=async(r,i)=>{Sd(e);let o=()=>{};const u=[new Promise((c,d)=>{let h=t({predicate:r,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await JV(e,Promise.race(u));return Sd(e),c}finally{o()}};return(r,i)=>QV(n(r,i))},tK=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=op(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Is(21));return jP(o),{predicate:i,type:e,effect:o}},nK=jh(t=>{const{type:e,predicate:n,effect:r}=tK(t);return{id:Zle(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Is(22))}}},{withTypes:()=>nK}),XB=(t,e)=>{const{type:n,effect:r,predicate:i}=tK(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},PC=t=>{t.pending.forEach(e=>{e.abort(LC)})},mue=(t,e)=>()=>{for(const n of e.keys())PC(n);t.clear()},QB=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},rK=jh(op(`${PT}/add`),{withTypes:()=>rK}),gue=op(`${PT}/removeAll`),iK=jh(op(`${PT}/remove`),{withTypes:()=>iK}),yue=(...t)=>{console.error(`${PT}/error`,...t)},o7e=(t={})=>{const e=new Map,n=new Map,r=m=>{const g=n.get(m)??0;n.set(m,g+1)},i=m=>{const g=n.get(m)??1;g===1?n.delete(m):n.set(m,g-1)},{extra:o,onError:l=yue}=t;jP(l);const u=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&PC(m)}),c=m=>{const g=XB(e,m)??nK(m);return u(g)};jh(c,{withTypes:()=>c});const d=m=>{const g=XB(e,m);return g&&(g.unsubscribe(),m.cancelActive&&PC(g)),!!g};jh(d,{withTypes:()=>d});const h=async(m,g,y,b)=>{const v=new AbortController,_=pue(c,v.signal),E=[];try{m.pending.add(v),r(m),await Promise.resolve(m.effect(g,jh({},y,{getOriginalState:b,condition:(T,A)=>_(T,A).then(Boolean),take:_,delay:eK(v.signal),pause:DE(v.signal),extra:o,signal:v.signal,fork:hue(v.signal,E),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((T,A,w)=>{T!==v&&(T.abort(LC),w.delete(T))})},cancel:()=>{v.abort(LC),m.pending.delete(v)},throwIfCancelled:()=>{Sd(v.signal)}})))}catch(T){T instanceof LT||QB(l,T,{raisedBy:"effect"})}finally{await Promise.all(E),v.abort(due),i(m),m.pending.delete(v)}},f=mue(e,n);return{middleware:m=>g=>y=>{if(!HV(y))return g(y);if(rK.match(y))return c(y.payload);if(gue.match(y)){f();return}if(iK.match(y))return d(y.payload);let b=m.getState();const v=()=>{if(b===YB)throw new Error(Is(23));return b};let _;try{if(_=g(y),e.size>0){const E=m.getState(),T=Array.from(e.values());for(const A of T){let w=!1;try{w=A.predicate(y,E,b)}catch(I){w=!1,QB(l,I,{raisedBy:"predicate"})}w&&h(A,y,m,v)}}}finally{b=YB}return _},startListening:c,stopListening:d,clearListeners:f}};function Is(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CA={},DA={},LA={},ZB;function bue(){return ZB||(ZB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,u=null;const c=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},f=()=>{d&&h(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},g=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{g(),l=void 0,u=null},b=()=>{h()},v=function(..._){if(i?.aborted)return;l=this,u=_;const E=p==null;m(),c&&E&&h()};return v.schedule=m,v.cancel=y,v.flush=b,i?.addEventListener("abort",y,{once:!0}),v}t.debounce=e})(LA)),LA}var JB;function vue(){return JB||(JB=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bue();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:c}=o,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,f=null;const p=e.debounce(function(...y){h=r.apply(this,y),f=null},i,{edges:d}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(h=r.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),h):(p.apply(this,y),h)},g=()=>(p.flush(),h);return m.cancel=p.cancel,m.flush=g,m}t.debounce=n})(DA)),DA}var ez;function Eue(){return ez||(ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vue();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(CA)),CA}var PA,tz;function _ue(){return tz||(tz=1,PA=Eue().throttle),PA}var Tue=_ue();const l7e=Na(Tue);var OA={},MA={},NA={},nz;function Sue(){return nz||(nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$V();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(NA)),NA}var rz;function wue(){return rz||(rz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sue();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(MA)),MA}var iz;function Aue(){return iz||(iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qV(),n=wue();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=l;return c}t.range=r})(OA)),OA}var FA,az;function Iue(){return az||(az=1,FA=Aue().range),FA}var xue=Iue();const u7e=Na(xue);function gc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Rue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function HP(t){let e,n,r;t.length!==2?(e=gc,n=(u,c)=>gc(t(u),c),r=(u,c)=>t(u)-c):(e=t===gc||t===Rue?t:kue,n=t,r=t);function i(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const f=d+h>>>1;n(u[f],c)<0?d=f+1:h=f}while(d<h)}return d}function o(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const f=d+h>>>1;n(u[f],c)<=0?d=f+1:h=f}while(d<h)}return d}function l(u,c,d=0,h=u.length){const f=i(u,c,d,h-1);return f>d&&r(u[f-1],c)>-r(u[f],c)?f-1:f}return{left:i,center:l,right:o}}function kue(){return 0}function aK(t){return t===null?NaN:+t}function*Cue(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Due=HP(gc),Wy=Due.right;HP(aK).center;class sz extends Map{constructor(e,n=Oue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oz(this,e))}has(e){return super.has(oz(this,e))}set(e,n){return super.set(Lue(this,e),n)}delete(e){return super.delete(Pue(this,e))}}function oz({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Lue({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Pue({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Oue(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Mue(t=gc){if(t===gc)return sK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nue=Math.sqrt(50),Fue=Math.sqrt(10),Uue=Math.sqrt(2);function LE(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=Nue?10:o>=Fue?5:o>=Uue?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*l,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=n&&n<2?LE(t,e,n*2):[u,c,d]}function OC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?LE(e,t,n):LE(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)c[d]=(o-d)/-l;else for(let d=0;d<u;++d)c[d]=(o-d)*l;else if(l<0)for(let d=0;d<u;++d)c[d]=(i+d)/-l;else for(let d=0;d<u;++d)c[d]=(i+d)*l;return c}function MC(t,e,n){return e=+e,t=+t,n=+n,LE(t,e,n)[2]}function NC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?MC(e,t,n):MC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lz(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function uz(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oK(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?sK:Mue(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),f=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(n,Math.floor(e-d*f/c+p)),g=Math.min(r,Math.floor(e+(c-d)*f/c+p));oK(t,e,m,g,i)}const o=t[e];let l=n,u=r;for(tm(t,n,e),i(t[r],o)>0&&tm(t,n,r);l<u;){for(tm(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?tm(t,n,u):(++u,tm(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function tm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Bue(t,e,n){if(t=Float64Array.from(Cue(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return uz(t);if(e>=1)return lz(t);var r,i=(r-1)*e,o=Math.floor(i),l=lz(oK(t,o).subarray(0,o+1)),u=uz(t.subarray(o+1));return l+(u-l)*(i-o)}}function zue(t,e,n=aK){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function $ue(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function fo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _u(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const FC=Symbol("implicit");function GP(){var t=new sz,e=[],n=[],r=FC;function i(o){let l=t.get(o);if(l===void 0){if(r!==FC)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new sz;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return GP(e,n).unknown(r)},fo.apply(i,arguments),i}function VP(){var t=GP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,u=!1,c=0,d=0,h=.5;delete t.unknown;function f(){var p=e().length,m=i<r,g=m?i:r,y=m?r:i;o=(y-g)/Math.max(1,p-c+d*2),u&&(o=Math.floor(o)),g+=(y-g-o*(p-c))*h,l=o*(1-c),u&&(g=Math.round(g),l=Math.round(l));var b=$ue(p).map(function(v){return g+o*v});return n(m?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,u=!0,f()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(p){return arguments.length?(u=!!p,f()):u},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),f()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,f()):d},t.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),f()):h},t.copy=function(){return VP(e(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},fo.apply(f(),arguments)}function lK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lK(e())},t}function que(){return lK(VP.apply(null,arguments).paddingInner(1))}function KP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function uK(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yy(){}var ey=.7,PE=1/ey,Hh="\\s*([+-]?\\d+)\\s*",ty="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jue=/^#([0-9a-f]{3,8})$/,Hue=new RegExp(`^rgb\\(${Hh},${Hh},${Hh}\\)$`),Gue=new RegExp(`^rgb\\(${Pl},${Pl},${Pl}\\)$`),Vue=new RegExp(`^rgba\\(${Hh},${Hh},${Hh},${ty}\\)$`),Kue=new RegExp(`^rgba\\(${Pl},${Pl},${Pl},${ty}\\)$`),Wue=new RegExp(`^hsl\\(${ty},${Pl},${Pl}\\)$`),Yue=new RegExp(`^hsla\\(${ty},${Pl},${Pl},${ty}\\)$`),cz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};KP(Yy,ny,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dz,formatHex:dz,formatHex8:Xue,formatHsl:Que,formatRgb:fz,toString:fz});function dz(){return this.rgb().formatHex()}function Xue(){return this.rgb().formatHex8()}function Que(){return cK(this).formatHsl()}function fz(){return this.rgb().formatRgb()}function ny(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jue.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?hz(e):n===3?new is(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hue.exec(t))?new is(e[1],e[2],e[3],1):(e=Gue.exec(t))?new is(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vue.exec(t))?qb(e[1],e[2],e[3],e[4]):(e=Kue.exec(t))?qb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wue.exec(t))?gz(e[1],e[2]/100,e[3]/100,1):(e=Yue.exec(t))?gz(e[1],e[2]/100,e[3]/100,e[4]):cz.hasOwnProperty(t)?hz(cz[t]):t==="transparent"?new is(NaN,NaN,NaN,0):null}function hz(t){return new is(t>>16&255,t>>8&255,t&255,1)}function qb(t,e,n,r){return r<=0&&(t=e=n=NaN),new is(t,e,n,r)}function Zue(t){return t instanceof Yy||(t=ny(t)),t?(t=t.rgb(),new is(t.r,t.g,t.b,t.opacity)):new is}function UC(t,e,n,r){return arguments.length===1?Zue(t):new is(t,e,n,r??1)}function is(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}KP(is,UC,uK(Yy,{brighter(t){return t=t==null?PE:Math.pow(PE,t),new is(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ey:Math.pow(ey,t),new is(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new is(wd(this.r),wd(this.g),wd(this.b),OE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pz,formatHex:pz,formatHex8:Jue,formatRgb:mz,toString:mz}));function pz(){return`#${hd(this.r)}${hd(this.g)}${hd(this.b)}`}function Jue(){return`#${hd(this.r)}${hd(this.g)}${hd(this.b)}${hd((isNaN(this.opacity)?1:this.opacity)*255)}`}function mz(){const t=OE(this.opacity);return`${t===1?"rgb(":"rgba("}${wd(this.r)}, ${wd(this.g)}, ${wd(this.b)}${t===1?")":`, ${t})`}`}function OE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hd(t){return t=wd(t),(t<16?"0":"")+t.toString(16)}function gz(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Uo(t,e,n,r)}function cK(t){if(t instanceof Uo)return new Uo(t.h,t.s,t.l,t.opacity);if(t instanceof Yy||(t=ny(t)),!t)return new Uo;if(t instanceof Uo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,u=o-i,c=(o+i)/2;return u?(e===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-e)/u+2:l=(e-n)/u+4,u/=c<.5?o+i:2-o-i,l*=60):u=c>0&&c<1?0:l,new Uo(l,u,c,t.opacity)}function ece(t,e,n,r){return arguments.length===1?cK(t):new Uo(t,e,n,r??1)}function Uo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}KP(Uo,ece,uK(Yy,{brighter(t){return t=t==null?PE:Math.pow(PE,t),new Uo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ey:Math.pow(ey,t),new Uo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new is(UA(t>=240?t-240:t+120,i,r),UA(t,i,r),UA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Uo(yz(this.h),jb(this.s),jb(this.l),OE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=OE(this.opacity);return`${t===1?"hsl(":"hsla("}${yz(this.h)}, ${jb(this.s)*100}%, ${jb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yz(t){return t=(t||0)%360,t<0?t+360:t}function jb(t){return Math.max(0,Math.min(1,t||0))}function UA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const WP=t=>()=>t;function tce(t,e){return function(n){return t+n*e}}function nce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function rce(t){return(t=+t)==1?dK:function(e,n){return n-e?nce(e,n,t):WP(isNaN(e)?n:e)}}function dK(t,e){var n=e-t;return n?tce(t,n):WP(isNaN(t)?e:t)}const bz=(function t(e){var n=rce(e);function r(i,o){var l=n((i=UC(i)).r,(o=UC(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),d=dK(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function ice(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function ace(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sce(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Ap(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function oce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ME(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function lce(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ap(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var BC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BA=new RegExp(BC.source,"g");function uce(t){return function(){return t}}function cce(t){return function(e){return t(e)+""}}function dce(t,e){var n=BC.lastIndex=BA.lastIndex=0,r,i,o,l=-1,u=[],c=[];for(t=t+"",e=e+"";(r=BC.exec(t))&&(i=BA.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,c.push({i:l,x:ME(r,i)})),n=BA.lastIndex;return n<e.length&&(o=e.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?c[0]?cce(c[0].x):uce(e):(e=c.length,function(d){for(var h=0,f;h<e;++h)u[(f=c[h]).i]=f.x(d);return u.join("")})}function Ap(t,e){var n=typeof e,r;return e==null||n==="boolean"?WP(e):(n==="number"?ME:n==="string"?(r=ny(e))?(e=r,bz):dce:e instanceof ny?bz:e instanceof Date?oce:ace(e)?ice:Array.isArray(e)?sce:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lce:ME)(t,e)}function YP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fce(t,e){e===void 0&&(e=t,t=Ap);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function hce(t){return function(){return t}}function NE(t){return+t}var vz=[0,1];function Ha(t){return t}function zC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:hce(isNaN(e)?NaN:.5)}function pce(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mce(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=zC(i,r),o=n(l,o)):(r=zC(r,i),o=n(o,l)),function(u){return o(r(u))}}function gce(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=zC(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(u){var c=Wy(t,u,1,r)-1;return o[c](i[c](u))}}function Xy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function OT(){var t=vz,e=vz,n=Ap,r,i,o,l=Ha,u,c,d;function h(){var p=Math.min(t.length,e.length);return l!==Ha&&(l=pce(t[0],t[p-1])),u=p>2?gce:mce,c=d=null,f}function f(p){return p==null||isNaN(p=+p)?o:(c||(c=u(t.map(r),e,n)))(r(l(p)))}return f.invert=function(p){return l(i((d||(d=u(e,t.map(r),ME)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,NE),h()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),h()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=YP,h()},f.clamp=function(p){return arguments.length?(l=p?!0:Ha,h()):l!==Ha},f.interpolate=function(p){return arguments.length?(n=p,h()):n},f.unknown=function(p){return arguments.length?(o=p,f):o},function(p,m){return r=p,i=m,h()}}function XP(){return OT()(Ha,Ha)}function yce(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function FE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function lp(t){return t=FE(Math.abs(t)),t?t[1]:NaN}function bce(t,e){return function(n,r){for(var i=n.length,o=[],l=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function vce(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ece=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ry(t){if(!(e=Ece.exec(t)))throw new Error("invalid format: "+t);var e;return new QP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ry.prototype=QP.prototype;function QP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _ce(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var fK;function Tce(t,e){var n=FE(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(fK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+FE(t,Math.max(0,e+o-1))[0]}function Ez(t,e){var n=FE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _z={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yce,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ez(t*100,e),r:Ez,s:Tce,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Tz(t){return t}var Sz=Array.prototype.map,wz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Sce(t){var e=t.grouping===void 0||t.thousands===void 0?Tz:bce(Sz.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Tz:vce(Sz.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(f){f=ry(f);var p=f.fill,m=f.align,g=f.sign,y=f.symbol,b=f.zero,v=f.width,_=f.comma,E=f.precision,T=f.trim,A=f.type;A==="n"?(_=!0,A="g"):_z[A]||(E===void 0&&(E=12),T=!0,A="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var w=y==="$"?n:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",I=y==="$"?r:/[%p]/.test(A)?l:"",C=_z[A],j=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function F(K){var he=w,q=I,Ee,Te,ge;if(A==="c")q=C(K)+q,K="";else{K=+K;var Be=K<0||1/K<0;if(K=isNaN(K)?c:C(Math.abs(K),E),T&&(K=_ce(K)),Be&&+K==0&&g!=="+"&&(Be=!1),he=(Be?g==="("?g:u:g==="-"||g==="("?"":g)+he,q=(A==="s"?wz[8+fK/3]:"")+q+(Be&&g==="("?")":""),j){for(Ee=-1,Te=K.length;++Ee<Te;)if(ge=K.charCodeAt(Ee),48>ge||ge>57){q=(ge===46?i+K.slice(Ee+1):K.slice(Ee))+q,K=K.slice(0,Ee);break}}}_&&!b&&(K=e(K,1/0));var He=he.length+K.length+q.length,Ye=He<v?new Array(v-He+1).join(p):"";switch(_&&b&&(K=e(Ye+K,Ye.length?v-q.length:1/0),Ye=""),m){case"<":K=he+K+q+Ye;break;case"=":K=he+Ye+K+q;break;case"^":K=Ye.slice(0,He=Ye.length>>1)+he+K+q+Ye.slice(He);break;default:K=Ye+he+K+q;break}return o(K)}return F.toString=function(){return f+""},F}function h(f,p){var m=d((f=ry(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(lp(p)/3)))*3,y=Math.pow(10,-g),b=wz[8+g/3];return function(v){return m(y*v)+b}}return{format:d,formatPrefix:h}}var Hb,ZP,hK;wce({thousands:",",grouping:[3],currency:["$",""]});function wce(t){return Hb=Sce(t),ZP=Hb.format,hK=Hb.formatPrefix,Hb}function Ace(t){return Math.max(0,-lp(Math.abs(t)))}function Ice(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lp(e)/3)))*3-lp(Math.abs(t)))}function xce(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lp(e)-lp(t))+1}function pK(t,e,n,r){var i=NC(t,e,n),o;switch(r=ry(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Ice(i,l))&&(r.precision=o),hK(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=xce(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ace(i))&&(r.precision=o-(r.type==="%")*2);break}}return ZP(r)}function Rc(t){var e=t.domain;return t.ticks=function(n){var r=e();return OC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pK(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],u=r[o],c,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=MC(l,u,n),d===c)return r[i]=l,r[o]=u,e(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function mK(){var t=XP();return t.copy=function(){return Xy(t,mK())},fo.apply(t,arguments),Rc(t)}function gK(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,NE),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return gK(t).unknown(e)},t=arguments.length?Array.from(t,NE):[0,1],Rc(n)}function yK(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Az(t){return Math.log(t)}function Iz(t){return Math.exp(t)}function Rce(t){return-Math.log(-t)}function kce(t){return-Math.exp(-t)}function Cce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Dce(t){return t===10?Cce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xz(t){return(e,n)=>-t(-e,n)}function JP(t){const e=t(Az,Iz),n=e.domain;let r=10,i,o;function l(){return i=Lce(r),o=Dce(r),n()[0]<0?(i=xz(i),o=xz(o),t(Rce,kce)):t(Az,Iz),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const f=h<d;f&&([d,h]=[h,d]);let p=i(d),m=i(h),g,y;const b=u==null?10:+u;let v=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),d>0){for(;p<=m;++p)for(g=1;g<r;++g)if(y=p<0?g/o(-p):g*o(p),!(y<d)){if(y>h)break;v.push(y)}}else for(;p<=m;++p)for(g=r-1;g>=1;--g)if(y=p>0?g/o(-p):g*o(p),!(y<d)){if(y>h)break;v.push(y)}v.length*2<b&&(v=OC(d,h,b))}else v=OC(p,m,Math.min(m-p,b)).map(o);return f?v.reverse():v},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=ry(c)).precision==null&&(c.trim=!0),c=ZP(c)),u===1/0)return c;const d=Math.max(1,r*u/e.ticks().length);return h=>{let f=h/o(Math.round(i(h)));return f*r<r-.5&&(f*=r),f<=d?c(h):""}},e.nice=()=>n(yK(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function bK(){const t=JP(OT()).domain([1,10]);return t.copy=()=>Xy(t,bK()).base(t.base()),fo.apply(t,arguments),t}function Rz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eO(t){var e=1,n=t(Rz(e),kz(e));return n.constant=function(r){return arguments.length?t(Rz(e=+r),kz(e)):e},Rc(n)}function vK(){var t=eO(OT());return t.copy=function(){return Xy(t,vK()).constant(t.constant())},fo.apply(t,arguments)}function Cz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Pce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Oce(t){return t<0?-t*t:t*t}function tO(t){var e=t(Ha,Ha),n=1;function r(){return n===1?t(Ha,Ha):n===.5?t(Pce,Oce):t(Cz(n),Cz(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Rc(e)}function nO(){var t=tO(OT());return t.copy=function(){return Xy(t,nO()).exponent(t.exponent())},fo.apply(t,arguments),t}function Mce(){return nO.apply(null,arguments).exponent(.5)}function Dz(t){return Math.sign(t)*t*t}function Nce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function EK(){var t=XP(),e=[0,1],n=!1,r;function i(o){var l=Nce(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(Dz(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,NE)).map(Dz)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return EK(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},fo.apply(i,arguments),Rc(i)}function _K(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=zue(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:e[Wy(n,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(gc),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return _K().domain(t).range(e).unknown(r)},fo.apply(o,arguments)}function TK(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(c){return c!=null&&c<=c?i[Wy(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return l}return l.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},l.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},l.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(c){return arguments.length&&(o=c),l},l.thresholds=function(){return r.slice()},l.copy=function(){return TK().domain([t,e]).range(i).unknown(o)},fo.apply(Rc(l),arguments)}function SK(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Wy(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return SK().domain(t).range(e).unknown(n)},fo.apply(i,arguments)}const zA=new Date,$A=new Date;function aa(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return c;let d;do c.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<l);return c},i.filter=o=>aa(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(zA.setTime(+o),$A.setTime(+l),t(zA),t($A),Math.floor(n(zA,$A))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const UE=aa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);UE.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?aa(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):UE);UE.range;const uu=1e3,to=uu*60,cu=to*60,gu=cu*24,rO=gu*7,Lz=gu*30,qA=gu*365,pd=aa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*uu)},(t,e)=>(e-t)/uu,t=>t.getUTCSeconds());pd.range;const iO=aa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uu)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getMinutes());iO.range;const aO=aa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*to)},(t,e)=>(e-t)/to,t=>t.getUTCMinutes());aO.range;const sO=aa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uu-t.getMinutes()*to)},(t,e)=>{t.setTime(+t+e*cu)},(t,e)=>(e-t)/cu,t=>t.getHours());sO.range;const oO=aa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*cu)},(t,e)=>(e-t)/cu,t=>t.getUTCHours());oO.range;const Qy=aa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*to)/gu,t=>t.getDate()-1);Qy.range;const MT=aa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/gu,t=>t.getUTCDate()-1);MT.range;const wK=aa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/gu,t=>Math.floor(t/gu));wK.range;function Gd(t){return aa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*to)/rO)}const NT=Gd(0),BE=Gd(1),Fce=Gd(2),Uce=Gd(3),up=Gd(4),Bce=Gd(5),zce=Gd(6);NT.range;BE.range;Fce.range;Uce.range;up.range;Bce.range;zce.range;function Vd(t){return aa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/rO)}const FT=Vd(0),zE=Vd(1),$ce=Vd(2),qce=Vd(3),cp=Vd(4),jce=Vd(5),Hce=Vd(6);FT.range;zE.range;$ce.range;qce.range;cp.range;jce.range;Hce.range;const lO=aa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lO.range;const uO=aa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());uO.range;const yu=aa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:aa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});yu.range;const bu=aa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());bu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:aa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});bu.range;function AK(t,e,n,r,i,o){const l=[[pd,1,uu],[pd,5,5*uu],[pd,15,15*uu],[pd,30,30*uu],[o,1,to],[o,5,5*to],[o,15,15*to],[o,30,30*to],[i,1,cu],[i,3,3*cu],[i,6,6*cu],[i,12,12*cu],[r,1,gu],[r,2,2*gu],[n,1,rO],[e,1,Lz],[e,3,3*Lz],[t,1,qA]];function u(d,h,f){const p=h<d;p&&([d,h]=[h,d]);const m=f&&typeof f.range=="function"?f:c(d,h,f),g=m?m.range(d,+h+1):[];return p?g.reverse():g}function c(d,h,f){const p=Math.abs(h-d)/f,m=HP(([,,b])=>b).right(l,p);if(m===l.length)return t.every(NC(d/qA,h/qA,f));if(m===0)return UE.every(Math.max(NC(d,h,f),1));const[g,y]=l[p/l[m-1][2]<l[m][2]/p?m-1:m];return g.every(y)}return[u,c]}const[Gce,Vce]=AK(bu,uO,FT,wK,oO,aO),[Kce,Wce]=AK(yu,lO,NT,Qy,sO,iO);function jA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function HA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Yce(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,c=t.shortMonths,d=rm(i),h=im(i),f=rm(o),p=im(o),m=rm(l),g=im(l),y=rm(u),b=im(u),v=rm(c),_=im(c),E={a:Be,A:He,b:Ye,B:Ie,c:null,d:Uz,e:Uz,f:bde,g:Rde,G:Cde,H:mde,I:gde,j:yde,L:IK,m:vde,M:Ede,p:we,q:je,Q:$z,s:qz,S:_de,u:Tde,U:Sde,V:wde,w:Ade,W:Ide,x:null,X:null,y:xde,Y:kde,Z:Dde,"%":zz},T={a:Ce,A:dt,b:Le,B:Pe,c:null,d:Bz,e:Bz,f:Mde,g:Gde,G:Kde,H:Lde,I:Pde,j:Ode,L:RK,m:Nde,M:Fde,p:it,q:J,Q:$z,s:qz,S:Ude,u:Bde,U:zde,V:$de,w:qde,W:jde,x:null,X:null,y:Hde,Y:Vde,Z:Wde,"%":zz},A={a:F,A:K,b:he,B:q,c:Ee,d:Nz,e:Nz,f:dde,g:Mz,G:Oz,H:Fz,I:Fz,j:ode,L:cde,m:sde,M:lde,p:j,q:ade,Q:hde,s:pde,S:ude,u:ede,U:tde,V:nde,w:Jce,W:rde,x:Te,X:ge,y:Mz,Y:Oz,Z:ide,"%":fde};E.x=w(n,E),E.X=w(r,E),E.c=w(e,E),T.x=w(n,T),T.X=w(r,T),T.c=w(e,T);function w(G,P){return function($){var ae=[],ne=-1,$e=0,Qe=G.length,Ve,We,Ke;for($ instanceof Date||($=new Date(+$));++ne<Qe;)G.charCodeAt(ne)===37&&(ae.push(G.slice($e,ne)),(We=Pz[Ve=G.charAt(++ne)])!=null?Ve=G.charAt(++ne):We=Ve==="e"?" ":"0",(Ke=P[Ve])&&(Ve=Ke($,We)),ae.push(Ve),$e=ne+1);return ae.push(G.slice($e,ne)),ae.join("")}}function I(G,P){return function($){var ae=nm(1900,void 0,1),ne=C(ae,G,$+="",0),$e,Qe;if(ne!=$.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(P&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?($e=HA(nm(ae.y,0,1)),Qe=$e.getUTCDay(),$e=Qe>4||Qe===0?zE.ceil($e):zE($e),$e=MT.offset($e,(ae.V-1)*7),ae.y=$e.getUTCFullYear(),ae.m=$e.getUTCMonth(),ae.d=$e.getUTCDate()+(ae.w+6)%7):($e=jA(nm(ae.y,0,1)),Qe=$e.getDay(),$e=Qe>4||Qe===0?BE.ceil($e):BE($e),$e=Qy.offset($e,(ae.V-1)*7),ae.y=$e.getFullYear(),ae.m=$e.getMonth(),ae.d=$e.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),Qe="Z"in ae?HA(nm(ae.y,0,1)).getUTCDay():jA(nm(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(Qe+5)%7:ae.w+ae.U*7-(Qe+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,HA(ae)):jA(ae)}}function C(G,P,$,ae){for(var ne=0,$e=P.length,Qe=$.length,Ve,We;ne<$e;){if(ae>=Qe)return-1;if(Ve=P.charCodeAt(ne++),Ve===37){if(Ve=P.charAt(ne++),We=A[Ve in Pz?P.charAt(ne++):Ve],!We||(ae=We(G,$,ae))<0)return-1}else if(Ve!=$.charCodeAt(ae++))return-1}return ae}function j(G,P,$){var ae=d.exec(P.slice($));return ae?(G.p=h.get(ae[0].toLowerCase()),$+ae[0].length):-1}function F(G,P,$){var ae=m.exec(P.slice($));return ae?(G.w=g.get(ae[0].toLowerCase()),$+ae[0].length):-1}function K(G,P,$){var ae=f.exec(P.slice($));return ae?(G.w=p.get(ae[0].toLowerCase()),$+ae[0].length):-1}function he(G,P,$){var ae=v.exec(P.slice($));return ae?(G.m=_.get(ae[0].toLowerCase()),$+ae[0].length):-1}function q(G,P,$){var ae=y.exec(P.slice($));return ae?(G.m=b.get(ae[0].toLowerCase()),$+ae[0].length):-1}function Ee(G,P,$){return C(G,e,P,$)}function Te(G,P,$){return C(G,n,P,$)}function ge(G,P,$){return C(G,r,P,$)}function Be(G){return l[G.getDay()]}function He(G){return o[G.getDay()]}function Ye(G){return c[G.getMonth()]}function Ie(G){return u[G.getMonth()]}function we(G){return i[+(G.getHours()>=12)]}function je(G){return 1+~~(G.getMonth()/3)}function Ce(G){return l[G.getUTCDay()]}function dt(G){return o[G.getUTCDay()]}function Le(G){return c[G.getUTCMonth()]}function Pe(G){return u[G.getUTCMonth()]}function it(G){return i[+(G.getUTCHours()>=12)]}function J(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var P=w(G+="",E);return P.toString=function(){return G},P},parse:function(G){var P=I(G+="",!1);return P.toString=function(){return G},P},utcFormat:function(G){var P=w(G+="",T);return P.toString=function(){return G},P},utcParse:function(G){var P=I(G+="",!0);return P.toString=function(){return G},P}}}var Pz={"-":"",_:" ",0:"0"},ba=/^\s*\d+/,Xce=/^%/,Qce=/[\\^$*+?|[\]().{}]/g;function $r(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Zce(t){return t.replace(Qce,"\\$&")}function rm(t){return new RegExp("^(?:"+t.map(Zce).join("|")+")","i")}function im(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Jce(t,e,n){var r=ba.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ede(t,e,n){var r=ba.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function tde(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function nde(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function rde(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Oz(t,e,n){var r=ba.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Mz(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ide(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ade(t,e,n){var r=ba.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function sde(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Nz(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ode(t,e,n){var r=ba.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fz(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function lde(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ude(t,e,n){var r=ba.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cde(t,e,n){var r=ba.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dde(t,e,n){var r=ba.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fde(t,e,n){var r=Xce.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hde(t,e,n){var r=ba.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pde(t,e,n){var r=ba.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Uz(t,e){return $r(t.getDate(),e,2)}function mde(t,e){return $r(t.getHours(),e,2)}function gde(t,e){return $r(t.getHours()%12||12,e,2)}function yde(t,e){return $r(1+Qy.count(yu(t),t),e,3)}function IK(t,e){return $r(t.getMilliseconds(),e,3)}function bde(t,e){return IK(t,e)+"000"}function vde(t,e){return $r(t.getMonth()+1,e,2)}function Ede(t,e){return $r(t.getMinutes(),e,2)}function _de(t,e){return $r(t.getSeconds(),e,2)}function Tde(t){var e=t.getDay();return e===0?7:e}function Sde(t,e){return $r(NT.count(yu(t)-1,t),e,2)}function xK(t){var e=t.getDay();return e>=4||e===0?up(t):up.ceil(t)}function wde(t,e){return t=xK(t),$r(up.count(yu(t),t)+(yu(t).getDay()===4),e,2)}function Ade(t){return t.getDay()}function Ide(t,e){return $r(BE.count(yu(t)-1,t),e,2)}function xde(t,e){return $r(t.getFullYear()%100,e,2)}function Rde(t,e){return t=xK(t),$r(t.getFullYear()%100,e,2)}function kde(t,e){return $r(t.getFullYear()%1e4,e,4)}function Cde(t,e){var n=t.getDay();return t=n>=4||n===0?up(t):up.ceil(t),$r(t.getFullYear()%1e4,e,4)}function Dde(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$r(e/60|0,"0",2)+$r(e%60,"0",2)}function Bz(t,e){return $r(t.getUTCDate(),e,2)}function Lde(t,e){return $r(t.getUTCHours(),e,2)}function Pde(t,e){return $r(t.getUTCHours()%12||12,e,2)}function Ode(t,e){return $r(1+MT.count(bu(t),t),e,3)}function RK(t,e){return $r(t.getUTCMilliseconds(),e,3)}function Mde(t,e){return RK(t,e)+"000"}function Nde(t,e){return $r(t.getUTCMonth()+1,e,2)}function Fde(t,e){return $r(t.getUTCMinutes(),e,2)}function Ude(t,e){return $r(t.getUTCSeconds(),e,2)}function Bde(t){var e=t.getUTCDay();return e===0?7:e}function zde(t,e){return $r(FT.count(bu(t)-1,t),e,2)}function kK(t){var e=t.getUTCDay();return e>=4||e===0?cp(t):cp.ceil(t)}function $de(t,e){return t=kK(t),$r(cp.count(bu(t),t)+(bu(t).getUTCDay()===4),e,2)}function qde(t){return t.getUTCDay()}function jde(t,e){return $r(zE.count(bu(t)-1,t),e,2)}function Hde(t,e){return $r(t.getUTCFullYear()%100,e,2)}function Gde(t,e){return t=kK(t),$r(t.getUTCFullYear()%100,e,2)}function Vde(t,e){return $r(t.getUTCFullYear()%1e4,e,4)}function Kde(t,e){var n=t.getUTCDay();return t=n>=4||n===0?cp(t):cp.ceil(t),$r(t.getUTCFullYear()%1e4,e,4)}function Wde(){return"+0000"}function zz(){return"%"}function $z(t){return+t}function qz(t){return Math.floor(+t/1e3)}var gf,CK,DK;Yde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yde(t){return gf=Yce(t),CK=gf.format,gf.parse,DK=gf.utcFormat,gf.utcParse,gf}function Xde(t){return new Date(t)}function Qde(t){return t instanceof Date?+t:+new Date(+t)}function cO(t,e,n,r,i,o,l,u,c,d){var h=XP(),f=h.invert,p=h.domain,m=d(".%L"),g=d(":%S"),y=d("%I:%M"),b=d("%I %p"),v=d("%a %d"),_=d("%b %d"),E=d("%B"),T=d("%Y");function A(w){return(c(w)<w?m:u(w)<w?g:l(w)<w?y:o(w)<w?b:r(w)<w?i(w)<w?v:_:n(w)<w?E:T)(w)}return h.invert=function(w){return new Date(f(w))},h.domain=function(w){return arguments.length?p(Array.from(w,Qde)):p().map(Xde)},h.ticks=function(w){var I=p();return t(I[0],I[I.length-1],w??10)},h.tickFormat=function(w,I){return I==null?A:d(I)},h.nice=function(w){var I=p();return(!w||typeof w.range!="function")&&(w=e(I[0],I[I.length-1],w??10)),w?p(yK(I,w)):h},h.copy=function(){return Xy(h,cO(t,e,n,r,i,o,l,u,c,d))},h}function Zde(){return fo.apply(cO(Kce,Wce,yu,lO,NT,Qy,sO,iO,pd,CK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jde(){return fo.apply(cO(Gce,Vce,bu,uO,FT,MT,oO,aO,pd,DK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function UT(){var t=0,e=1,n,r,i,o,l=Ha,u=!1,c;function d(f){return f==null||isNaN(f=+f)?c:l(i===0?.5:(f=(o(f)-n)*i,u?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(f){return arguments.length?(u=!!f,d):u},d.interpolator=function(f){return arguments.length?(l=f,d):l};function h(f){return function(p){var m,g;return arguments.length?([m,g]=p,l=f(m,g),d):[l(0),l(1)]}}return d.range=h(Ap),d.rangeRound=h(YP),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),d}}function kc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function LK(){var t=Rc(UT()(Ha));return t.copy=function(){return kc(t,LK())},_u.apply(t,arguments)}function PK(){var t=JP(UT()).domain([1,10]);return t.copy=function(){return kc(t,PK()).base(t.base())},_u.apply(t,arguments)}function OK(){var t=eO(UT());return t.copy=function(){return kc(t,OK()).constant(t.constant())},_u.apply(t,arguments)}function dO(){var t=tO(UT());return t.copy=function(){return kc(t,dO()).exponent(t.exponent())},_u.apply(t,arguments)}function efe(){return dO.apply(null,arguments).exponent(.5)}function MK(){var t=[],e=Ha;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(gc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Bue(t,o/r))},n.copy=function(){return MK(e).domain(t)},_u.apply(n,arguments)}function BT(){var t=0,e=.5,n=1,r=1,i,o,l,u,c,d=Ha,h,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+h(y))-o)*(r*y<r*o?u:c),d(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=h(t=+t),o=h(e=+e),l=h(n=+n),u=i===o?0:.5/(o-i),c=o===l?0:.5/(l-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(d=y,m):d};function g(y){return function(b){var v,_,E;return arguments.length?([v,_,E]=b,d=fce(y,[v,_,E]),m):[d(0),d(.5),d(1)]}}return m.range=g(Ap),m.rangeRound=g(YP),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return h=y,i=y(t),o=y(e),l=y(n),u=i===o?0:.5/(o-i),c=o===l?0:.5/(l-o),r=o<i?-1:1,m}}function NK(){var t=Rc(BT()(Ha));return t.copy=function(){return kc(t,NK())},_u.apply(t,arguments)}function FK(){var t=JP(BT()).domain([.1,1,10]);return t.copy=function(){return kc(t,FK()).base(t.base())},_u.apply(t,arguments)}function UK(){var t=eO(BT());return t.copy=function(){return kc(t,UK()).constant(t.constant())},_u.apply(t,arguments)}function fO(){var t=tO(BT());return t.copy=function(){return kc(t,fO()).exponent(t.exponent())},_u.apply(t,arguments)}function tfe(){return fO.apply(null,arguments).exponent(.5)}const c7e=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:VP,scaleDiverging:NK,scaleDivergingLog:FK,scaleDivergingPow:fO,scaleDivergingSqrt:tfe,scaleDivergingSymlog:UK,scaleIdentity:gK,scaleImplicit:FC,scaleLinear:mK,scaleLog:bK,scaleOrdinal:GP,scalePoint:que,scalePow:nO,scaleQuantile:_K,scaleQuantize:TK,scaleRadial:EK,scaleSequential:LK,scaleSequentialLog:PK,scaleSequentialPow:dO,scaleSequentialQuantile:MK,scaleSequentialSqrt:efe,scaleSequentialSymlog:OK,scaleSqrt:Mce,scaleSymlog:vK,scaleThreshold:SK,scaleTime:Zde,scaleUtc:Jde,tickFormat:pK},Symbol.toStringTag,{value:"Module"}));var Ip=1e9,nfe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pO,wi=!0,ao="[DecimalError] ",Ad=ao+"Invalid argument: ",hO=ao+"Exponent out of range: ",xp=Math.floor,Zc=Math.pow,rfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ws,pa=1e7,_i=7,BK=9007199254740991,$E=xp(BK/_i),$n={};$n.absoluteValue=$n.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$n.comparedTo=$n.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};$n.decimalPlaces=$n.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*_i;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};$n.dividedBy=$n.div=function(t){return fu(this,new this.constructor(t))};$n.dividedToIntegerBy=$n.idiv=function(t){var e=this,n=e.constructor;return oi(fu(e,new n(t),0,1),n.precision)};$n.equals=$n.eq=function(t){return!this.cmp(t)};$n.exponent=function(){return Yi(this)};$n.greaterThan=$n.gt=function(t){return this.cmp(t)>0};$n.greaterThanOrEqualTo=$n.gte=function(t){return this.cmp(t)>=0};$n.isInteger=$n.isint=function(){return this.e>this.d.length-2};$n.isNegative=$n.isneg=function(){return this.s<0};$n.isPositive=$n.ispos=function(){return this.s>0};$n.isZero=function(){return this.s===0};$n.lessThan=$n.lt=function(t){return this.cmp(t)<0};$n.lessThanOrEqualTo=$n.lte=function(t){return this.cmp(t)<1};$n.logarithm=$n.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ws))throw Error(ao+"NaN");if(n.s<1)throw Error(ao+(n.s?"NaN":"-Infinity"));return n.eq(ws)?new r(0):(wi=!1,e=fu(iy(n,o),iy(t,o),o),wi=!0,oi(e,i))};$n.minus=$n.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qK(e,t):zK(e,(t.s=-t.s,t))};$n.modulo=$n.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ao+"NaN");return n.s?(wi=!1,e=fu(n,t,0,1).times(t),wi=!0,n.minus(e)):oi(new r(n),i)};$n.naturalExponential=$n.exp=function(){return $K(this)};$n.naturalLogarithm=$n.ln=function(){return iy(this)};$n.negated=$n.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$n.plus=$n.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zK(e,t):qK(e,(t.s=-t.s,t))};$n.precision=$n.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ad+t);if(e=Yi(i)+1,r=i.d.length-1,n=r*_i+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};$n.squareRoot=$n.sqrt=function(){var t,e,n,r,i,o,l,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(ao+"NaN")}for(t=Yi(u),wi=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=xl(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=xp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=l=n+3;;)if(o=r,r=o.plus(fu(u,o,l+2)).times(.5),xl(o.d).slice(0,l)===(e=xl(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(oi(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;l+=4}return wi=!0,oi(r,n)};$n.times=$n.mul=function(t){var e,n,r,i,o,l,u,c,d,h=this,f=h.constructor,p=h.d,m=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,n=h.e+t.e,c=p.length,d=m.length,c<d&&(o=p,p=m,m=o,l=c,c=d,d=l),o=[],l=c+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+m[r]*p[i-r-1]+e,o[i--]=u%pa|0,e=u/pa|0;o[i]=(o[i]+e)%pa|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,wi?oi(t,f.precision):t};$n.toDecimalPlaces=$n.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ul(t,0,Ip),e===void 0?e=r.rounding:Ul(e,0,8),oi(n,t+Yi(n)+1,e))};$n.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Md(r,!0):(Ul(t,0,Ip),e===void 0?e=i.rounding:Ul(e,0,8),r=oi(new i(r),t+1,e),n=Md(r,!0,t+1)),n};$n.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Md(i):(Ul(t,0,Ip),e===void 0?e=o.rounding:Ul(e,0,8),r=oi(new o(i),t+Yi(i)+1,e),n=Md(r.abs(),!1,t+Yi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};$n.toInteger=$n.toint=function(){var t=this,e=t.constructor;return oi(new e(t),Yi(t)+1,e.rounding)};$n.toNumber=function(){return+this};$n.toPower=$n.pow=function(t){var e,n,r,i,o,l,u=this,c=u.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(ws);if(u=new c(u),!u.s){if(t.s<1)throw Error(ao+"Infinity");return u}if(u.eq(ws))return u;if(r=c.precision,t.eq(ws))return oi(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=u.s,l){if((n=h<0?-h:h)<=BK){for(i=new c(ws),e=Math.ceil(r/_i+4),wi=!1;n%2&&(i=i.times(u),Hz(i.d,e)),n=xp(n/2),n!==0;)u=u.times(u),Hz(u.d,e);return wi=!0,t.s<0?new c(ws).div(i):oi(i,r)}}else if(o<0)throw Error(ao+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,wi=!1,i=t.times(iy(u,r+d)),wi=!0,i=$K(i),i.s=o,i};$n.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Yi(i),r=Md(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ul(t,1,Ip),e===void 0?e=o.rounding:Ul(e,0,8),i=oi(new o(i),t,e),n=Yi(i),r=Md(i,t<=n||n<=o.toExpNeg,t)),r};$n.toSignificantDigits=$n.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ul(t,1,Ip),e===void 0?e=r.rounding:Ul(e,0,8)),oi(new r(n),t,e)};$n.toString=$n.valueOf=$n.val=$n.toJSON=$n[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Yi(t),n=t.constructor;return Md(t,e<=n.toExpNeg||e>=n.toExpPos)};function zK(t,e){var n,r,i,o,l,u,c,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),wi?oi(e,f):e;if(c=t.d,d=e.d,l=t.e,i=e.e,c=c.slice(),o=l-i,o){for(o<0?(r=c,o=-o,u=d.length):(r=d,i=l,u=c.length),l=Math.ceil(f/_i),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=d.length,u-o<0&&(o=u,r=d,d=c,c=r),n=0;o;)n=(c[--o]=c[o]+d[o]+n)/pa|0,c[o]%=pa;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,wi?oi(e,f):e}function Ul(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ad+t)}function xl(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=_i-r.length,n&&(o+=ic(n)),o+=r;l=t[e],r=l+"",n=_i-r.length,n&&(o+=ic(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var fu=(function(){function t(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%pa|0,l=o/pa|0;return l&&r.unshift(l),r}function e(r,i,o,l){var u,c;if(o!=l)c=o>l?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*pa+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,c,d,h,f,p,m,g,y,b,v,_,E,T,A,w,I,C,j=r.constructor,F=r.s==i.s?1:-1,K=r.d,he=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(ao+"Division by zero");for(c=r.e-i.e,I=he.length,A=K.length,m=new j(F),g=m.d=[],d=0;he[d]==(K[d]||0);)++d;if(he[d]>(K[d]||0)&&--c,o==null?_=o=j.precision:l?_=o+(Yi(r)-Yi(i))+1:_=o,_<0)return new j(0);if(_=_/_i+2|0,d=0,I==1)for(h=0,he=he[0],_++;(d<A||h)&&_--;d++)E=h*pa+(K[d]||0),g[d]=E/he|0,h=E%he|0;else{for(h=pa/(he[0]+1)|0,h>1&&(he=t(he,h),K=t(K,h),I=he.length,A=K.length),T=I,y=K.slice(0,I),b=y.length;b<I;)y[b++]=0;C=he.slice(),C.unshift(0),w=he[0],he[1]>=pa/2&&++w;do h=0,u=e(he,y,I,b),u<0?(v=y[0],I!=b&&(v=v*pa+(y[1]||0)),h=v/w|0,h>1?(h>=pa&&(h=pa-1),f=t(he,h),p=f.length,b=y.length,u=e(f,y,p,b),u==1&&(h--,n(f,I<p?C:he,p))):(h==0&&(u=h=1),f=he.slice()),p=f.length,p<b&&f.unshift(0),n(y,f,b),u==-1&&(b=y.length,u=e(he,y,I,b),u<1&&(h++,n(y,I<b?C:he,b))),b=y.length):u===0&&(h++,y=[0]),g[d++]=h,u&&y[0]?y[b++]=K[T]||0:(y=[K[T]],b=1);while((T++<A||y[0]!==void 0)&&_--)}return g[0]||g.shift(),m.e=c,oi(m,l?o+Yi(m)+1:o)}})();function $K(t,e){var n,r,i,o,l,u,c=0,d=0,h=t.constructor,f=h.precision;if(Yi(t)>16)throw Error(hO+Yi(t));if(!t.s)return new h(ws);for(wi=!1,u=f,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(Zc(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(ws),h.precision=u;;){if(i=oi(i.times(t),u),n=n.times(++c),l=o.plus(fu(i,n,u)),xl(l.d).slice(0,u)===xl(o.d).slice(0,u)){for(;d--;)o=oi(o.times(o),u);return h.precision=f,e==null?(wi=!0,oi(o,f)):o}o=l}}function Yi(t){for(var e=t.e*_i,n=t.d[0];n>=10;n/=10)e++;return e}function GA(t,e,n){if(e>t.LN10.sd())throw wi=!0,n&&(t.precision=n),Error(ao+"LN10 precision limit exceeded");return oi(new t(t.LN10),e)}function ic(t){for(var e="";t--;)e+="0";return e}function iy(t,e){var n,r,i,o,l,u,c,d,h,f=1,p=10,m=t,g=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(ao+(m.s?"NaN":"-Infinity"));if(m.eq(ws))return new y(0);if(e==null?(wi=!1,d=b):d=e,m.eq(10))return e==null&&(wi=!0),GA(y,d);if(d+=p,y.precision=d,n=xl(g),r=n.charAt(0),o=Yi(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=xl(m.d),r=n.charAt(0),f++;o=Yi(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1))}else return c=GA(y,d+2,b).times(o+""),m=iy(new y(r+"."+n.slice(1)),d-p).plus(c),y.precision=b,e==null?(wi=!0,oi(m,b)):m;for(u=l=m=fu(m.minus(ws),m.plus(ws),d),h=oi(m.times(m),d),i=3;;){if(l=oi(l.times(h),d),c=u.plus(fu(l,new y(i),d)),xl(c.d).slice(0,d)===xl(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(GA(y,d+2,b).times(o+""))),u=fu(u,new y(f),d),y.precision=b,e==null?(wi=!0,oi(u,b)):u;u=c,i+=2}}function jz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=xp(n/_i),t.d=[],r=(n+1)%_i,n<0&&(r+=_i),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=_i;r<i;)t.d.push(+e.slice(r,r+=_i));e=e.slice(r),r=_i-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),wi&&(t.e>$E||t.e<-$E))throw Error(hO+n)}else t.s=0,t.e=0,t.d=[0];return t}function oi(t,e,n){var r,i,o,l,u,c,d,h,f=t.d;for(l=1,o=f[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=_i,i=e,d=f[h=0];else{if(h=Math.ceil((r+1)/_i),o=f.length,h>=o)return t;for(d=o=f[h],l=1;o>=10;o/=10)l++;r%=_i,i=r-_i+l}if(n!==void 0&&(o=Zc(10,l-i-1),u=d/o%10|0,c=e<0||f[h+1]!==void 0||d%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/Zc(10,l-i):0:f[h-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(o=Yi(t),f.length=1,e=e-o-1,f[0]=Zc(10,(_i-e%_i)%_i),t.e=xp(-e/_i)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=h,o=1,h--):(f.length=h+1,o=Zc(10,_i-r),f[h]=i>0?(d/Zc(10,l-i)%Zc(10,i)|0)*o:0),c)for(;;)if(h==0){(f[0]+=o)==pa&&(f[0]=1,++t.e);break}else{if(f[h]+=o,f[h]!=pa)break;f[h--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(wi&&(t.e>$E||t.e<-$E))throw Error(hO+Yi(t));return t}function qK(t,e){var n,r,i,o,l,u,c,d,h,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),wi?oi(e,m):e;if(c=t.d,f=e.d,r=e.e,d=t.e,c=c.slice(),l=d-r,l){for(h=l<0,h?(n=c,l=-l,u=f.length):(n=f,r=d,u=c.length),i=Math.max(Math.ceil(m/_i),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=f.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=f[i]){h=c[i]<f[i];break}l=0}for(h&&(n=c,c=f,f=n,e.s=-e.s),u=c.length,i=f.length-u;i>0;--i)c[u++]=0;for(i=f.length;i>l;){if(c[--i]<f[i]){for(o=i;o&&c[--o]===0;)c[o]=pa-1;--c[o],c[i]+=pa}c[i]-=f[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,wi?oi(e,m):e):new p(0)}function Md(t,e,n){var r,i=Yi(t),o=xl(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+ic(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ic(-i-1)+o,n&&(r=n-l)>0&&(o+=ic(r))):i>=l?(o+=ic(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+ic(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=ic(r))),t.s<0?"-"+o:o}function Hz(t,e){if(t.length>e)return t.length=e,!0}function jK(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ad+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return jz(l,o.toString())}else if(typeof o!="string")throw Error(Ad+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,rfe.test(o))jz(l,o);else throw Error(Ad+o)}if(i.prototype=$n,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jK,i.config=i.set=ife,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ife(t){if(!t||typeof t!="object")throw Error(ao+"Object expected");var e,n,r,i=["precision",1,Ip,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(xp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ad+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ad+n+": "+r);return this}var pO=jK(nfe);ws=new pO(1);const d7e=pO;var VA={},KA={},Gz;function afe(){return Gz||(Gz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(KA)),KA}var WA={},Vz;function sfe(){return Vz||(Vz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(WA)),WA}var Kz;function ofe(){return Kz||(Kz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=afe(),n=sfe(),r=BP();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(VA)),VA}var YA,Wz;function lfe(){return Wz||(Wz=1,YA=ofe().last),YA}var ufe=lfe();const f7e=Na(ufe);var XA={exports:{}},ei={};var Yz;function cfe(){if(Yz)return ei;Yz=1;var t=60103,e=60106,n=60107,r=60108,i=60114,o=60109,l=60110,u=60112,c=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,y=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var v=Symbol.for;t=v("react.element"),e=v("react.portal"),n=v("react.fragment"),r=v("react.strict_mode"),i=v("react.profiler"),o=v("react.provider"),l=v("react.context"),u=v("react.forward_ref"),c=v("react.suspense"),d=v("react.suspense_list"),h=v("react.memo"),f=v("react.lazy"),p=v("react.block"),m=v("react.server.block"),g=v("react.fundamental"),y=v("react.debug_trace_mode"),b=v("react.legacy_hidden")}function _(q){if(typeof q=="object"&&q!==null){var Ee=q.$$typeof;switch(Ee){case t:switch(q=q.type,q){case n:case i:case r:case c:case d:return q;default:switch(q=q&&q.$$typeof,q){case l:case u:case f:case h:case o:return q;default:return Ee}}case e:return Ee}}}var E=o,T=t,A=u,w=n,I=f,C=h,j=e,F=i,K=r,he=c;return ei.ContextConsumer=l,ei.ContextProvider=E,ei.Element=T,ei.ForwardRef=A,ei.Fragment=w,ei.Lazy=I,ei.Memo=C,ei.Portal=j,ei.Profiler=F,ei.StrictMode=K,ei.Suspense=he,ei.isAsyncMode=function(){return!1},ei.isConcurrentMode=function(){return!1},ei.isContextConsumer=function(q){return _(q)===l},ei.isContextProvider=function(q){return _(q)===o},ei.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===t},ei.isForwardRef=function(q){return _(q)===u},ei.isFragment=function(q){return _(q)===n},ei.isLazy=function(q){return _(q)===f},ei.isMemo=function(q){return _(q)===h},ei.isPortal=function(q){return _(q)===e},ei.isProfiler=function(q){return _(q)===i},ei.isStrictMode=function(q){return _(q)===r},ei.isSuspense=function(q){return _(q)===c},ei.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===n||q===i||q===y||q===r||q===c||q===d||q===b||typeof q=="object"&&q!==null&&(q.$$typeof===f||q.$$typeof===h||q.$$typeof===o||q.$$typeof===l||q.$$typeof===u||q.$$typeof===g||q.$$typeof===p||q[0]===m)},ei.typeOf=_,ei}var Xz;function dfe(){return Xz||(Xz=1,XA.exports=cfe()),XA.exports}var h7e=dfe(),QA={},Qz;function ffe(){return Qz||(Qz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(QA)),QA}var ZA,Zz;function hfe(){return Zz||(Zz=1,ZA=ffe().isPlainObject),ZA}var pfe=hfe();const p7e=Na(pfe);var JA={exports:{}},e1={};var Jz;function mfe(){if(Jz)return e1;Jz=1;var t=co();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return e1.useSyncExternalStoreWithSelector=function(c,d,h,f,p){var m=i(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=l(function(){function b(A){if(!v){if(v=!0,_=A,A=f(A),p!==void 0&&g.hasValue){var w=g.value;if(p(w,A))return E=w}return E=A}if(w=E,n(_,A))return w;var I=f(A);return p!==void 0&&p(w,I)?(_=A,w):(_=A,E=I)}var v=!1,_,E,T=h===void 0?null:h;return[function(){return b(d())},T===null?void 0:function(){return b(T())}]},[d,h,f,p]);var y=r(c,m[0],m[1]);return o(function(){g.hasValue=!0,g.value=y},[y]),u(y),y},e1}var e4;function gfe(){return e4||(e4=1,JA.exports=mfe()),JA.exports}gfe();var yfe=Bt.version.startsWith("19"),bfe=Symbol.for(yfe?"react.transitional.element":"react.element"),vfe=Symbol.for("react.portal"),Efe=Symbol.for("react.fragment"),_fe=Symbol.for("react.strict_mode"),Tfe=Symbol.for("react.profiler"),Sfe=Symbol.for("react.consumer"),wfe=Symbol.for("react.context"),HK=Symbol.for("react.forward_ref"),Afe=Symbol.for("react.suspense"),Ife=Symbol.for("react.suspense_list"),mO=Symbol.for("react.memo"),xfe=Symbol.for("react.lazy"),Rfe=HK,kfe=mO;function Cfe(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case bfe:switch(t=t.type,t){case Efe:case Tfe:case _fe:case Afe:case Ife:return t;default:switch(t=t&&t.$$typeof,t){case wfe:case HK:case xfe:case mO:return t;case Sfe:return t;default:return e}}case vfe:return e}}}function Dfe(t){return Cfe(t)===mO}function Lfe(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:l}){let u=!1,c,d,h,f,p;function m(_,E){return c=_,d=E,h=t(c,d),f=e(r,d),p=n(h,f,d),u=!0,p}function g(){return h=t(c,d),e.dependsOnOwnProps&&(f=e(r,d)),p=n(h,f,d),p}function y(){return t.dependsOnOwnProps&&(h=t(c,d)),e.dependsOnOwnProps&&(f=e(r,d)),p=n(h,f,d),p}function b(){const _=t(c,d),E=!l(_,h);return h=_,E&&(p=n(h,f,d)),p}function v(_,E){const T=!o(E,d),A=!i(_,c,E,d);return c=_,d=E,T&&A?g():T?y():A?b():p}return function(E,T){return u?v(E,T):m(E,T)}}function Pfe(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=e(t,i),l=n(t,i),u=r(t,i);return Lfe(o,l,u,t,i)}function Ofe(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function $C(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function t4(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function GK(t,e){return function(r,{displayName:i}){const o=function(u,c){return o.dependsOnOwnProps?o.mapToProps(u,c):o.mapToProps(u,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,c){o.mapToProps=t,o.dependsOnOwnProps=t4(t);let d=o(u,c);return typeof d=="function"&&(o.mapToProps=d,o.dependsOnOwnProps=t4(d),d=o(u,c)),d},o}}function gO(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Mfe(t){return t&&typeof t=="object"?$C(e=>Ofe(t,e)):t?typeof t=="function"?GK(t):gO(t,"mapDispatchToProps"):$C(e=>({dispatch:e}))}function Nfe(t){return t?typeof t=="function"?GK(t):gO(t,"mapStateToProps"):$C(()=>({}))}function Ffe(t,e,n){return{...n,...t,...e}}function Ufe(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,l;return function(c,d,h){const f=t(c,d,h);return o?i(f,l)||(l=f):(o=!0,l=f),l}}}function Bfe(t){return t?typeof t=="function"?Ufe(t):gO(t,"mergeProps"):()=>Ffe}function zfe(t){t()}function $fe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){zfe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var n4={notify(){},get:()=>[]};function VK(t,e){let n,r=n4,i=0,o=!1;function l(y){h();const b=r.subscribe(y);let v=!1;return()=>{v||(v=!0,b(),f())}}function u(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function d(){return o}function h(){i++,n||(n=e?e.addNestedSub(c):t.subscribe(c),r=$fe())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=n4)}function p(){o||(o=!0,h())}function m(){o&&(o=!1,f())}const g={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return g}var qfe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jfe=qfe(),Hfe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gfe=Hfe(),Vfe=()=>jfe||Gfe?Bt.useLayoutEffect:Bt.useEffect,qE=Vfe();function r4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function t1(t,e){if(r4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!r4(t[n[i]],e[n[i]]))return!1;return!0}var Kfe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Wfe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Yfe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},KK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Xfe={[Rfe]:Yfe,[kfe]:KK};function i4(t){return Dfe(t)?KK:Xfe[t.$$typeof]||Kfe}var Qfe=Object.defineProperty,Zfe=Object.getOwnPropertyNames,a4=Object.getOwnPropertySymbols,Jfe=Object.getOwnPropertyDescriptor,ehe=Object.getPrototypeOf,s4=Object.prototype;function qC(t,e){if(typeof e!="string"){if(s4){const o=ehe(e);o&&o!==s4&&qC(t,o)}let n=Zfe(e);a4&&(n=n.concat(a4(e)));const r=i4(t),i=i4(e);for(let o=0;o<n.length;++o){const l=n[o];if(!Wfe[l]&&!(i&&i[l])&&!(r&&r[l])){const u=Jfe(e,l);try{Qfe(t,l,u)}catch{}}}}return t}var the=Symbol.for("react-redux-context"),nhe=typeof globalThis<"u"?globalThis:{};function rhe(){if(!Bt.createContext)return{};const t=nhe[the]??=new Map;let e=t.get(Bt.createContext);return e||(e=Bt.createContext(null),t.set(Bt.createContext,e)),e}var WK=rhe(),ihe=[null,null];function ahe(t,e,n){qE(()=>t(...e),n)}function she(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function ohe(t,e,n,r,i,o,l,u,c,d,h){if(!t)return()=>{};let f=!1,p=null;const m=()=>{if(f||!u.current)return;const y=e.getState();let b,v;try{b=r(y,i.current)}catch(_){v=_,p=_}v||(p=null),b===o.current?l.current||d():(o.current=b,c.current=b,l.current=!0,h())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function lhe(t,e){return t===e}function uhe(t,e,n,{pure:r,areStatesEqual:i=lhe,areOwnPropsEqual:o=t1,areStatePropsEqual:l=t1,areMergedPropsEqual:u=t1,forwardRef:c=!1,context:d=WK}={}){const h=d,f=Nfe(t),p=Mfe(e),m=Bfe(n),g=!!t;return b=>{const v=b.displayName||b.name||"Component",_=`Connect(${v})`,E={shouldHandleStateChanges:g,displayName:_,wrappedComponentName:v,WrappedComponent:b,initMapStateToProps:f,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:l,areOwnPropsEqual:o,areMergedPropsEqual:u};function T(I){const[C,j,F]=Bt.useMemo(()=>{const{reactReduxForwardedRef:ae,...ne}=I;return[I.context,ae,ne]},[I]),K=Bt.useMemo(()=>{let ae=h;return C?.Consumer,ae},[C,h]),he=Bt.useContext(K),q=!!I.store&&!!I.store.getState&&!!I.store.dispatch,Ee=!!he&&!!he.store,Te=q?I.store:he.store,ge=Ee?he.getServerState:Te.getState,Be=Bt.useMemo(()=>Pfe(Te.dispatch,E),[Te]),[He,Ye]=Bt.useMemo(()=>{if(!g)return ihe;const ae=VK(Te,q?void 0:he.subscription),ne=ae.notifyNestedSubs.bind(ae);return[ae,ne]},[Te,q,he]),Ie=Bt.useMemo(()=>q?he:{...he,subscription:He},[q,he,He]),we=Bt.useRef(void 0),je=Bt.useRef(F),Ce=Bt.useRef(void 0),dt=Bt.useRef(!1),Le=Bt.useRef(!1),Pe=Bt.useRef(void 0);qE(()=>(Le.current=!0,()=>{Le.current=!1}),[]);const it=Bt.useMemo(()=>()=>Ce.current&&F===je.current?Ce.current:Be(Te.getState(),F),[Te,F]),J=Bt.useMemo(()=>ne=>He?ohe(g,Te,He,Be,je,we,dt,Le,Ce,Ye,ne):()=>{},[He]);ahe(she,[je,we,dt,F,Ce,Ye]);let G;try{G=Bt.useSyncExternalStore(J,it,ge?()=>Be(ge(),F):it)}catch(ae){throw Pe.current&&(ae.message+=`
The error may be correlated with this previous error:
${Pe.current.stack}

`),ae}qE(()=>{Pe.current=void 0,Ce.current=void 0,we.current=G});const P=Bt.useMemo(()=>Bt.createElement(b,{...G,ref:j}),[j,b,G]);return Bt.useMemo(()=>g?Bt.createElement(K.Provider,{value:Ie},P):P,[K,P,Ie])}const w=Bt.memo(T);if(w.WrappedComponent=b,w.displayName=T.displayName=_,c){const C=Bt.forwardRef(function(F,K){return Bt.createElement(w,{...F,reactReduxForwardedRef:K})});return C.displayName=_,C.WrappedComponent=b,qC(C,b)}return qC(w,b)}}var YK=uhe;function che(t){const{children:e,context:n,serverState:r,store:i}=t,o=Bt.useMemo(()=>{const c=VK(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),l=Bt.useMemo(()=>i.getState(),[i]);qE(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,l]);const u=n||WK;return Bt.createElement(u.Provider,{value:o},e)}var dhe=che,fhe="Invariant failed";function hhe(t,e){throw new Error(fhe)}var Bo=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,l=r-o,u=i-n,c={top:n,right:r,bottom:i,left:o,width:l,height:u,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return c},yO=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},o4=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},phe=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},n1={top:0,right:0,bottom:0,left:0},bO=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?n1:r,o=e.border,l=o===void 0?n1:o,u=e.padding,c=u===void 0?n1:u,d=Bo(yO(n,i)),h=Bo(o4(n,l)),f=Bo(o4(h,c));return{marginBox:d,borderBox:Bo(n),paddingBox:h,contentBox:f,margin:i,border:l,padding:c}},qs=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&hhe(),i},mhe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},jE=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,l=e.padding,u=phe(r,n);return bO({borderBox:u,border:i,margin:o,padding:l})},HE=function(e,n){return n===void 0&&(n=mhe()),jE(e,n)},XK=function(e,n){var r={top:qs(n.marginTop),right:qs(n.marginRight),bottom:qs(n.marginBottom),left:qs(n.marginLeft)},i={top:qs(n.paddingTop),right:qs(n.paddingRight),bottom:qs(n.paddingBottom),left:qs(n.paddingLeft)},o={top:qs(n.borderTopWidth),right:qs(n.borderRightWidth),bottom:qs(n.borderBottomWidth),left:qs(n.borderLeftWidth)};return bO({borderBox:e,margin:r,padding:i,border:o})},QK=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return XK(n,r)};function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ay.apply(null,arguments)}function ZK(t,e){}ZK.bind(null,"warn");ZK.bind(null,"error");function yc(){}function ghe(t,e){return{...t,...e}}function no(t,e,n){const r=e.map(i=>{const o=ghe(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const yhe="Invariant failed";class GE extends Error{}GE.prototype.toString=function(){return this.message};function _n(t,e){throw new GE(yhe)}class bhe extends Me.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=yc,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof GE&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=no(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof GE){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const vhe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,VE=t=>t+1,Ehe=t=>`
  You have lifted an item in position ${VE(t.source.index)}
`,JK=(t,e)=>{const n=t.droppableId===e.droppableId,r=VE(t.index),i=VE(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},eW=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,_he=t=>{const e=t.destination;if(e)return JK(t.source,e);const n=t.combine;return n?eW(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},l4=t=>`
  The item has returned to its starting position
  of ${VE(t.index)}
`,The=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${l4(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${JK(t.source,e)}
    `:n?`
      You have dropped the item.
      ${eW(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${l4(t.source)}
  `},Yv={dragHandleUsageInstructions:vhe,onDragStart:Ehe,onDragUpdate:_he,onDragEnd:The};function She(t,e){return!!(t===e||Number.isNaN(t)&&Number.isNaN(e))}function tW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!She(t[n],e[n]))return!1;return!0}function Nr(t,e){const n=Bt.useState(()=>({inputs:e,result:t()}))[0],r=Bt.useRef(!0),i=Bt.useRef(n),l=r.current||!!(e&&i.current.inputs&&tW(e,i.current.inputs))?i.current:{inputs:e,result:t()};return Bt.useEffect(()=>{r.current=!1,i.current=l},[l]),l.result}function Zn(t,e){return Nr(()=>t,e)}const ya={x:0,y:0},xa=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),As=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),bc=(t,e)=>t.x===e.x&&t.y===e.y,Rp=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),Nd=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},sy=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),u4=(t,e)=>Math.min(...e.map(n=>sy(t,n))),nW=t=>e=>({x:t(e.x),y:t(e.y)});var whe=(t,e)=>{const n=Bo({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Zy=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),c4=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],Ahe={top:0,right:0,bottom:0,left:0},Ihe=(t,e)=>e?Zy(t,e.scroll.diff.displacement):t,xhe=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,Rhe=(t,e)=>e&&e.shouldClipSubject?whe(e.pageMarginBox,t):Bo(t);var dp=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=Ihe(t.marginBox,r),o=xhe(i,n,e),l=Rhe(o,r);return{page:t,withPlaceholder:e,active:l}},vO=(t,e)=>{t.frame||_n();const n=t.frame,r=As(e,n.scroll.initial),i=Rp(r),o={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},l=dp({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return{...t,frame:o,subject:l}};function ga(t,e=tW){let n=null;function r(...i){if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;const o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const rW=ga(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),iW=ga(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),zT=ga(t=>Object.values(t)),khe=ga(t=>Object.values(t));var kp=ga((t,e)=>khe(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function EO(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function $T(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var qT=ga((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),Che=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!EO(i))return null;function l(m){const g={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:g}}const u=i.displaced.all,c=u.length?u[0]:null;if(t)return c?l(c):null;const d=qT(e,r);if(!c){if(!d.length)return null;const m=d[d.length-1];return l(m.descriptor.id)}const h=d.findIndex(m=>m.descriptor.id===c);h===-1&&_n();const f=h-1;if(f<0)return null;const p=d[f];return l(p.descriptor.id)},Cp=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const aW={point:ya,value:0},oy={invisible:{},visible:{},all:[]},Dhe={displaced:oy,displacedBy:aW,at:null};var ro=(t,e)=>n=>t<=n&&n<=e,sW=t=>{const e=ro(t.top,t.bottom),n=ro(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=e(r.top)||e(r.bottom),l=n(r.left)||n(r.right);if(o&&l)return!0;const c=r.top<t.top&&r.bottom>t.bottom,d=r.left<t.left&&r.right>t.right;return c&&d?!0:c&&l||d&&o}},Lhe=t=>{const e=ro(t.top,t.bottom),n=ro(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const _O={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},oW={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Phe=t=>e=>{const n=ro(e.top,e.bottom),r=ro(e.left,e.right);return i=>t===_O?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const Ohe=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:ya;return Zy(t,n)},Mhe=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,Nhe=(t,e,n)=>n(e)(t),TO=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?Ohe(t,e):t;return Mhe(o,e,i)&&Nhe(o,n,i)},Fhe=t=>TO({...t,isVisibleThroughFrameFn:sW}),lW=t=>TO({...t,isVisibleThroughFrameFn:Lhe}),Uhe=t=>TO({...t,isVisibleThroughFrameFn:Phe(t.destination.axis)}),Bhe=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const o=i[t];return o?o.shouldAnimate:!0};function zhe(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Bo(yO(n,r))}function ly({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return t.reduce(function(u,c){const d=zhe(c,n),h=c.descriptor.id;if(u.all.push(h),!Fhe({target:d,destination:e,viewport:r,withDroppableDisplacement:!0}))return u.invisible[c.descriptor.id]=!0,u;const p=Bhe(h,o,i),m={draggableId:h,shouldAnimate:p};return u.visible[h]=m,u},{all:[],visible:{},invisible:{}})}function $he(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function d4({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=$he(t,{inHomeList:e});return{displaced:oy,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function KE({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:o,index:l,forceShouldAnimate:u}){const c=Cp(t,n);if(l==null)return d4({insideDestination:e,inHomeList:c,displacedBy:i,destination:n});const d=e.find(g=>g.descriptor.index===l);if(!d)return d4({insideDestination:e,inHomeList:c,displacedBy:i,destination:n});const h=qT(t,e),f=e.indexOf(d),p=h.slice(f);return{displaced:ly({afterDragging:p,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:u}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function Tc(t,e){return!!e.effected[t]}var qhe=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const o=r.draggableId,u=n[o].descriptor.index;return Tc(o,i)?t?u:u-1:t?u+1:u},jhe=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=t?i+1:i-1,l=n[0].descriptor.index,u=n[n.length-1].descriptor.index,c=e?u:u+1;return o<l||o>c?null:o},Hhe=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:l,viewport:u,afterCritical:c})=>{const d=l.at;if(d||_n(),d.type==="REORDER"){const f=jhe({isMovingForward:t,isInHomeList:e,location:d.destination,insideDestination:o});return f==null?null:KE({draggable:n,insideDestination:o,destination:i,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:f})}const h=qhe({isMovingForward:t,destination:i,displaced:l.displaced,draggables:r,combine:d.combine,afterCritical:c});return h==null?null:KE({draggable:n,insideDestination:o,destination:i,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:h})},Ghe=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return Tc(n,e)?i?ya:Rp(r.point):i?r.point:ya},Vhe=({afterCritical:t,impact:e,draggables:n})=>{const r=$T(e);r||_n();const i=r.draggableId,o=n[i].page.borderBox.center,l=Ghe({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return xa(o,l)};const uW=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,Khe=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,SO=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,f4=({axis:t,moveRelativeTo:e,isMoving:n})=>Nd(t.line,e.marginBox[t.end]+uW(t,n),SO(t,e.marginBox,n)),h4=({axis:t,moveRelativeTo:e,isMoving:n})=>Nd(t.line,e.marginBox[t.start]-Khe(t,n),SO(t,e.marginBox,n)),Whe=({axis:t,moveInto:e,isMoving:n})=>Nd(t.line,e.contentBox[t.start]+uW(t,n),SO(t,e.contentBox,n));var Yhe=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const o=kp(r.descriptor.id,n),l=e.page,u=r.axis;if(!o.length)return Whe({axis:u,moveInto:r.page,isMoving:l});const{displaced:c,displacedBy:d}=t,h=c.all[0];if(h){const p=n[h];if(Tc(h,i))return h4({axis:u,moveRelativeTo:p.page,isMoving:l});const m=jE(p.page,d.point);return h4({axis:u,moveRelativeTo:m,isMoving:l})}const f=o[o.length-1];if(f.descriptor.id===e.descriptor.id)return l.borderBox.center;if(Tc(f.descriptor.id,i)){const p=jE(f.page,Rp(i.displacedBy.point));return f4({axis:u,moveRelativeTo:p,isMoving:l})}return f4({axis:u,moveRelativeTo:f.page,isMoving:l})},jC=(t,e)=>{const n=t.frame;return n?xa(e,n.scroll.diff.displacement):e};const Xhe=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const o=e.page.borderBox.center,l=t.at;return!n||!l?o:l.type==="REORDER"?Yhe({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):Vhe({impact:t,draggables:r,afterCritical:i})};var jT=t=>{const e=Xhe(t),n=t.droppable;return n?jC(n,e):e},cW=(t,e)=>{const n=As(e,t.scroll.initial),r=Rp(n);return{frame:Bo({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function p4(t,e){return t.map(n=>e[n])}function Qhe(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var Zhe=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const o=cW(e,xa(e.scroll.current,i)),l=n.frame?vO(n,xa(n.frame.scroll.current,i)):n,u=t.displaced,c=ly({afterDragging:p4(u.all,r),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),d=ly({afterDragging:p4(u.all,r),destination:l,displacedBy:t.displacedBy,viewport:e.frame,last:u,forceShouldAnimate:!1}),h={},f={},p=[u,c,d];return u.all.forEach(g=>{const y=Qhe(g,p);if(y){f[g]=y;return}h[g]=!0}),{...t,displaced:{all:u.all,invisible:h,visible:f}}},Jhe=(t,e)=>xa(t.scroll.diff.displacement,e),wO=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=Jhe(n,t),i=As(r,e.page.borderBox.center);return xa(e.client.borderBox.center,i)},dW=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const l=As(n,t.page.borderBox.center),c={target:Zy(t.page.borderBox,l),destination:e,withDroppableDisplacement:i,viewport:r};return o?Uhe(c):lW(c)},epe=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:l,previousClientSelection:u,afterCritical:c})=>{if(!n.isEnabled)return null;const d=kp(n.descriptor.id,r),h=Cp(e,n),f=Che({isMovingForward:t,draggable:e,destination:n,insideDestination:d,previousImpact:i})||Hhe({isMovingForward:t,isInHomeList:h,draggable:e,draggables:r,destination:n,insideDestination:d,previousImpact:i,viewport:o,afterCritical:c});if(!f)return null;const p=jT({impact:f,draggable:e,droppable:n,draggables:r,afterCritical:c});if(dW({draggable:e,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:wO({pageBorderBoxCenter:p,draggable:e,viewport:o}),impact:f,scrollJumpRequest:null};const g=As(p,l),y=Zhe({impact:f,viewport:o,destination:n,draggables:r,maxScrollChange:g});return{clientSelection:u,impact:y,scrollJumpRequest:g}};const Ba=t=>{const e=t.subject.active;return e||_n(),e};var tpe=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const l=n.axis,u=ro(o[l.start],o[l.end]),c=zT(r).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>sW(i.frame)(Ba(h))).filter(h=>{const f=Ba(h);return t?o[l.crossAxisEnd]<f[l.crossAxisEnd]:f[l.crossAxisStart]<o[l.crossAxisStart]}).filter(h=>{const f=Ba(h),p=ro(f[l.start],f[l.end]);return u(f[l.start])||u(f[l.end])||p(o[l.start])||p(o[l.end])}).sort((h,f)=>{const p=Ba(h)[l.crossAxisStart],m=Ba(f)[l.crossAxisStart];return t?p-m:m-p}).filter((h,f,p)=>Ba(h)[l.crossAxisStart]===Ba(p[0])[l.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(h=>ro(Ba(h)[l.start],Ba(h)[l.end])(e[l.line]));return d.length===1?d[0]:d.length>1?d.sort((h,f)=>Ba(h)[l.start]-Ba(f)[l.start])[0]:c.sort((h,f)=>{const p=u4(e,c4(Ba(h))),m=u4(e,c4(Ba(f)));return p!==m?p-m:Ba(h)[l.start]-Ba(f)[l.start]})[0]};const m4=(t,e)=>{const n=t.page.borderBox.center;return Tc(t.descriptor.id,e)?As(n,e.displacedBy.point):n},npe=(t,e)=>{const n=t.page.borderBox;return Tc(t.descriptor.id,e)?Zy(n,Rp(e.displacedBy.point)):n};var rpe=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(l=>lW({target:npe(l,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((l,u)=>{const c=sy(t,jC(n,m4(l,i))),d=sy(t,jC(n,m4(u,i)));return c<d?-1:d<c?1:l.descriptor.index-u.descriptor.index})[0]||null,Jy=ga(function(e,n){const r=n[e.line];return{value:r,point:Nd(e.line,r)}});const ipe=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return Nd(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],c=kp(t.descriptor.id,n).reduce((d,h)=>d+h.client.marginBox[r.size],0)+e[r.line]-i;return c<=0?null:Nd(r.line,c)},fW=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),hW=(t,e,n)=>{const r=t.frame;Cp(e,t)&&_n(),t.subject.withPlaceholder&&_n();const i=Jy(t.axis,e.displaceBy).point,o=ipe(t,i,n),l={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const h=dp({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:t.frame});return{...t,subject:h}}const u=o?xa(r.scroll.max,o):r.scroll.max,c=fW(r,u),d=dp({page:t.subject.page,withPlaceholder:l,axis:t.axis,frame:c});return{...t,subject:d,frame:c}},ape=t=>{const e=t.subject.withPlaceholder;e||_n();const n=t.frame;if(!n){const l=dp({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:l}}const r=e.oldFrameMaxScroll;r||_n();const i=fW(n,r),o=dp({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:o,frame:i}};var spe=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:l,afterCritical:u})=>{if(!e){if(n.length)return null;const f={displaced:oy,displacedBy:aW,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=jT({impact:f,draggable:r,droppable:o,draggables:i,afterCritical:u}),m=Cp(r,o)?o:hW(o,r,i);return dW({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=t[o.axis.line]<=e.page.borderBox.center[o.axis.line],d=(()=>{const f=e.descriptor.index;return e.descriptor.id===r.descriptor.id||c?f:f+1})(),h=Jy(o.axis,r.displaceBy);return KE({draggable:r,insideDestination:n,destination:o,viewport:l,displacedBy:h,last:oy,index:d})},ope=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:o,viewport:l,afterCritical:u})=>{const c=tpe({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:o,viewport:l});if(!c)return null;const d=kp(c.descriptor.id,i),h=rpe({pageBorderBoxCenter:e,viewport:l,destination:c,insideDestination:d,afterCritical:u}),f=spe({previousPageBorderBoxCenter:e,destination:c,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:d,viewport:l,afterCritical:u});if(!f)return null;const p=jT({impact:f,draggable:n,droppable:c,draggables:i,afterCritical:u});return{clientSelection:wO({pageBorderBoxCenter:p,draggable:n,viewport:l}),impact:f,scrollJumpRequest:null}},xs=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const lpe=(t,e)=>{const n=xs(t);return n?e[n]:null};var upe=({state:t,type:e})=>{const n=lpe(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,l=o.axis.direction,u=l==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||l==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(u&&!r)return null;const c=e==="MOVE_DOWN"||e==="MOVE_RIGHT",d=t.dimensions.draggables[t.critical.draggable.id],h=t.current.page.borderBoxCenter,{draggables:f,droppables:p}=t.dimensions;return u?epe({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):ope({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:o,draggables:f,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Jc(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function pW(t){const e=ro(t.top,t.bottom),n=ro(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function cpe(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function dpe({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(o=>{const l=o.axis,u=Nd(o.axis.line,t.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:sy(r,u)}}).sort((o,l)=>l.distance-o.distance);return i[0]?i[0].id:null}function fpe({pageBorderBox:t,draggable:e,droppables:n}){const r=zT(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!cpe(t,o))return!1;if(pW(o)(t.center))return!0;const l=i.axis,u=o.center[l.crossAxisLine],c=t[l.crossAxisStart],d=t[l.crossAxisEnd],h=ro(o[l.crossAxisStart],o[l.crossAxisEnd]),f=h(c),p=h(d);return!f&&!p?!0:f?c<u:d>u});return r.length?r.length===1?r[0].descriptor.id:dpe({pageBorderBox:t,draggable:e,candidates:r}):null}const mW=(t,e)=>Bo(Zy(t,e));var hpe=(t,e)=>{const n=t.frame;return n?mW(e,n.scroll.diff.value):e};function gW({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function ppe({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var mpe=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:l})=>{const u=n.axis,c=Jy(n.axis,e.displaceBy),d=c.value,h=t[u.start],f=t[u.end],m=qT(e,r).find(y=>{const b=y.descriptor.id,v=y.page.borderBox.center[u.line],_=Tc(b,l),E=gW({displaced:i,id:b});return _?E?f<=v:h<v-d:E?f<=v+d:h<v})||null,g=ppe({draggable:e,closest:m,inHomeList:Cp(e,n)});return KE({draggable:e,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:c,index:g})};const gpe=4;var ype=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const l=r.axis,u=Jy(r.axis,t.displaceBy),c=u.value,d=e[l.start],h=e[l.end],p=qT(t,i).find(g=>{const y=g.descriptor.id,b=g.page.borderBox,_=b[l.size]/gpe,E=Tc(y,o),T=gW({displaced:n.displaced,id:y});return E?T?h>b[l.start]+_&&h<b[l.end]-_:d>b[l.start]-c+_&&d<b[l.end]-c-_:T?h>b[l.start]+c+_&&h<b[l.end]+c-_:d>b[l.start]+_&&d<b[l.end]-_});return p?{displacedBy:u,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},yW=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:l})=>{const u=mW(e.page.borderBox,t),c=fpe({pageBorderBox:u,draggable:e,droppables:r});if(!c)return Dhe;const d=r[c],h=kp(d.descriptor.id,n),f=hpe(d,u);return ype({pageBorderBoxWithDroppableScroll:f,draggable:e,previousImpact:i,destination:d,insideDestination:h,afterCritical:l})||mpe({pageBorderBoxWithDroppableScroll:f,draggable:e,destination:d,insideDestination:h,last:i.displaced,viewport:o,afterCritical:l})},AO=(t,e)=>({...t,[e.descriptor.id]:e});const bpe=({previousImpact:t,impact:e,droppables:n})=>{const r=xs(t),i=xs(e);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const l=ape(o);return AO(n,l)};var vpe=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const o=bpe({previousImpact:r,impact:i,droppables:n}),l=xs(i);if(!l)return o;const u=n[l];if(Cp(t,u)||u.subject.withPlaceholder)return o;const c=hW(u,t,e);return AO(o,c)},Sg=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const l=r||t.viewport,u=n||t.dimensions,c=e||t.current.client.selection,d=As(c,t.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:xa(t.initial.client.borderBoxCenter,d)},f={selection:xa(h.selection,l.scroll.current),borderBoxCenter:xa(h.borderBoxCenter,l.scroll.current),offset:xa(h.offset,l.scroll.diff.value)},p={client:h,page:f};if(t.phase==="COLLECTING")return{...t,dimensions:u,viewport:l,current:p};const m=u.draggables[t.critical.draggable.id],g=i||yW({pageOffset:f.offset,draggable:m,draggables:u.draggables,droppables:u.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),y=vpe({draggable:m,impact:g,previousImpact:t.impact,draggables:u.draggables,droppables:u.droppables});return{...t,current:p,dimensions:{draggables:u.draggables,droppables:y},impact:g,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function Epe(t,e){return t.map(n=>e[n])}var bW=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=t.displaced,l=Epe(o.all,n),u=ly({afterDragging:l,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:o});return{...t,displaced:u}},vW=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const l=jT({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:o});return wO({pageBorderBoxCenter:l,draggable:e,viewport:i})},EW=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&_n();const r=t.impact,i=n||t.viewport,o=e||t.dimensions,{draggables:l,droppables:u}=o,c=l[t.critical.draggable.id],d=xs(r);d||_n();const h=u[d],f=bW({impact:r,viewport:i,destination:h,draggables:l}),p=vW({impact:f,draggable:c,droppable:h,draggables:l,viewport:i,afterCritical:t.afterCritical});return Sg({impact:f,clientSelection:p,state:t,dimensions:o,viewport:i})},_pe=t=>({index:t.index,droppableId:t.droppableId}),_W=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=Jy(e.axis,t.displaceBy),o=kp(e.descriptor.id,n),l=o.indexOf(t);l===-1&&_n();const u=o.slice(l+1),c=u.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),d={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:ly({afterDragging:u,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:_pe(t.descriptor)}},afterCritical:d}},Tpe=(t,e)=>({draggables:t.draggables,droppables:AO(t.droppables,e)}),Spe=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=jE(t.client,e),i=HE(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},wpe=t=>{const e=t.frame;return e||_n(),e},Ape=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const o=i.descriptor.droppableId,l=e[o],c=wpe(l).scroll.diff.value,d=xa(r,c);return Spe({draggable:i,offset:d,initialWindowScroll:n.scroll.initial})})},Ipe=({state:t,published:e})=>{const n=e.modified.map(v=>{const _=t.dimensions.droppables[v.droppableId];return vO(_,v.scroll)}),r={...t.dimensions.droppables,...rW(n)},i=iW(Ape({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),o={...t.dimensions.draggables,...i};e.removals.forEach(v=>{delete o[v]});const l={droppables:r,draggables:o},u=xs(t.impact),c=u?l.droppables[u]:null,d=l.draggables[t.critical.draggable.id],h=l.droppables[t.critical.droppable.id],{impact:f,afterCritical:p}=_W({draggable:d,home:h,draggables:o,viewport:t.viewport}),m=c&&c.isCombineEnabled?t.impact:f,g=yW({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:m,viewport:t.viewport,afterCritical:p}),y={...t,phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:l,afterCritical:p,forceShouldAnimate:!1};return t.phase==="COLLECTING"?y:{...y,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const HC=t=>t.movementMode==="SNAP",r1=(t,e,n)=>{const r=Tpe(t.dimensions,e);return!HC(t)||n?Sg({state:t,dimensions:r}):EW({state:t,dimensions:r})};function i1(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const g4={phase:"IDLE",completed:null,shouldFlush:!1};var xpe=(t=g4,e)=>{if(e.type==="FLUSH")return{...g4,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&_n();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:l}=e.payload,u=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],d={selection:r,borderBoxCenter:u.client.borderBox.center,offset:ya},h={client:d,page:{selection:xa(d.selection,i.scroll.initial),borderBoxCenter:xa(d.selection,i.scroll.initial),offset:xa(d.selection,i.scroll.diff.value)}},f=zT(o.droppables).every(y=>!y.isFixedOnPage),{impact:p,afterCritical:m}=_W({draggable:u,home:c,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:o,initial:h,current:h,isWindowScrollAllowed:f,impact:p,afterCritical:m,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&_n(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||_n(),Ipe({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Jc(t)||_n();const{client:n}=e.payload;return bc(n,t.current.client.selection)?t:Sg({state:t,clientSelection:n,impact:HC(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return i1(t);Jc(t)||_n();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const o=vO(i,r);return r1(t,o,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Jc(t)||_n();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||_n(),i.isEnabled===r&&_n();const o={...i,isEnabled:r};return r1(t,o,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Jc(t)||_n();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||_n(),i.isCombineEnabled===r&&_n();const o={...i,isCombineEnabled:r};return r1(t,o,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Jc(t)||_n(),t.isWindowScrollAllowed||_n();const n=e.payload.newScroll;if(bc(t.viewport.scroll.current,n))return i1(t);const r=cW(t.viewport,n);return HC(t)?EW({state:t,viewport:r}):Sg({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Jc(t))return t;const n=e.payload.maxScroll;if(bc(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&_n();const n=upe({state:t,type:e.type});return n?Sg({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&_n(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||_n(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function Gr(t,e){return t instanceof Object&&"type"in t&&t.type===e}const Rpe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),kpe=t=>({type:"LIFT",payload:t}),Cpe=t=>({type:"INITIAL_PUBLISH",payload:t}),Dpe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),Lpe=()=>({type:"COLLECTION_STARTING",payload:null}),Ppe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),Ope=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),Mpe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),TW=t=>({type:"MOVE",payload:t}),Npe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),Fpe=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),Upe=()=>({type:"MOVE_UP",payload:null}),Bpe=()=>({type:"MOVE_DOWN",payload:null}),zpe=()=>({type:"MOVE_RIGHT",payload:null}),$pe=()=>({type:"MOVE_LEFT",payload:null}),IO=()=>({type:"FLUSH",payload:null}),qpe=t=>({type:"DROP_ANIMATE",payload:t}),xO=t=>({type:"DROP_COMPLETE",payload:t}),SW=t=>({type:"DROP",payload:t}),jpe=t=>({type:"DROP_PENDING",payload:t}),wW=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Hpe=t=>({getState:e,dispatch:n})=>r=>i=>{if(!Gr(i,"LIFT")){r(i);return}const{id:o,clientSelection:l,movementMode:u}=i.payload,c=e();c.phase==="DROP_ANIMATING"&&n(xO({completed:c.completed})),e().phase!=="IDLE"&&_n(),n(IO()),n(Rpe({draggableId:o,movementMode:u}));const h={draggableId:o,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:f,dimensions:p,viewport:m}=t.startPublishing(h);n(Cpe({critical:f,dimensions:p,clientSelection:l,movementMode:u,viewport:m}))},Gpe=t=>()=>e=>n=>{Gr(n,"INITIAL_PUBLISH")&&t.dragging(),Gr(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(Gr(n,"FLUSH")||Gr(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const RO={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},uy={opacity:{drop:0,combining:.7},scale:{drop:.75}},AW={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},qc=`${AW.outOfTheWay}s ${RO.outOfTheWay}`,wg={fluid:`opacity ${qc}`,snap:`transform ${qc}, opacity ${qc}`,drop:t=>{const e=`${t}s ${RO.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${qc}`,placeholder:`height ${qc}, width ${qc}, margin ${qc}`},y4=t=>bc(t,ya)?void 0:`translate(${t.x}px, ${t.y}px)`,GC={moveTo:y4,drop:(t,e)=>{const n=y4(t);if(n)return e?`${n} scale(${uy.scale.drop})`:n}},{minDropTime:VC,maxDropTime:IW}=AW,Vpe=IW-VC,b4=1500,Kpe=.6;var Wpe=({current:t,destination:e,reason:n})=>{const r=sy(t,e);if(r<=0)return VC;if(r>=b4)return IW;const i=r/b4,o=VC+Vpe*i,l=n==="CANCEL"?o*Kpe:o;return Number(l.toFixed(2))},Ype=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:l}=n,u=xs(t),c=u?l[u]:null,d=l[e.descriptor.droppableId],h=vW({impact:t,draggable:e,draggables:o,afterCritical:i,droppable:c||d,viewport:r});return As(h,e.client.borderBox.center)},Xpe=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||e!=="DROP"?{impact:bW({draggables:t,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:oy},didDropInsideDroppable:!0};const Qpe=({getState:t,dispatch:e})=>n=>r=>{if(!Gr(r,"DROP")){n(r);return}const i=t(),o=r.payload.reason;if(i.phase==="COLLECTING"){e(jpe({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&_n(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||_n();const u=i.critical,c=i.dimensions,d=c.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:f}=Xpe({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=f?EO(h):null,m=f?$T(h):null,g={index:u.draggable.index,droppableId:u.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:g,reason:o,mode:i.movementMode,destination:p,combine:m},b=Ype({impact:h,draggable:d,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:h};if(!(!bc(i.current.client.offset,b)||!!y.combine)){e(xO({completed:v}));return}const E=Wpe({current:i.current.client.offset,destination:b,reason:o});e(qpe({newHomeClientOffset:b,dropDuration:E,completed:v}))};var xW=()=>({x:window.pageXOffset,y:window.pageYOffset});function Zpe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function Jpe({onWindowScroll:t}){function e(){t(xW())}const n=Xg(e),r=Zpe(n);let i=yc;function o(){return i!==yc}function l(){o()&&_n(),i=no(window,[r])}function u(){o()||_n(),n.cancel(),i(),i=yc}return{start:l,stop:u,isActive:o}}const eme=t=>Gr(t,"DROP_COMPLETE")||Gr(t,"DROP_ANIMATE")||Gr(t,"FLUSH"),tme=t=>{const e=Jpe({onWindowScroll:n=>{t.dispatch(Npe({newScroll:n}))}});return n=>r=>{!e.isActive()&&Gr(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&eme(r)&&e.stop(),n(r)}};var nme=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{e||n||(e=!0,t(o),clearTimeout(r))};return i.wasCalled=()=>e,i},rme=()=>{const t=[],e=i=>{const o=t.findIndex(u=>u.timerId===i);o===-1&&_n();const[l]=t.splice(o,1);l.callback()};return{add:i=>{const o=setTimeout(()=>e(o)),l={timerId:o,callback:i};t.push(l)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const ime=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,ame=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,sme=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},am=(t,e)=>{e()},Gb=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function a1(t,e,n,r){if(!t){n(r(e));return}const i=nme(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var ome=(t,e)=>{const n=rme();let r=null;const i=(f,p)=>{r&&_n(),am("onBeforeCapture",()=>{const m=t().onBeforeCapture;m&&m({draggableId:f,mode:p})})},o=(f,p)=>{r&&_n(),am("onBeforeDragStart",()=>{const m=t().onBeforeDragStart;m&&m(Gb(f,p))})},l=(f,p)=>{r&&_n();const m=Gb(f,p);r={mode:p,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{am("onDragStart",()=>a1(t().onDragStart,m,e,Yv.onDragStart))})},u=(f,p)=>{const m=EO(p),g=$T(p);r||_n();const y=!sme(f,r.lastCritical);y&&(r.lastCritical=f);const b=!ime(r.lastLocation,m);b&&(r.lastLocation=m);const v=!ame(r.lastCombine,g);if(v&&(r.lastCombine=g),!y&&!b&&!v)return;const _={...Gb(f,r.mode),combine:g,destination:m};n.add(()=>{am("onDragUpdate",()=>a1(t().onDragUpdate,_,e,Yv.onDragUpdate))})},c=()=>{r||_n(),n.flush()},d=f=>{r||_n(),r=null,am("onDragEnd",()=>a1(t().onDragEnd,f,e,Yv.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:l,update:u,flush:c,drop:d,abort:()=>{if(!r)return;const f={...Gb(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};d(f)}}},lme=(t,e)=>{const n=ome(t,e);return r=>i=>o=>{if(Gr(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(Gr(o,"INITIAL_PUBLISH")){const u=o.payload.critical;n.beforeStart(u,o.payload.movementMode),i(o),n.start(u,o.payload.movementMode);return}if(Gr(o,"DROP_COMPLETE")){const u=o.payload.completed.result;n.flush(),i(o),n.drop(u);return}if(i(o),Gr(o,"FLUSH")){n.abort();return}const l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}};const ume=t=>e=>n=>{if(!Gr(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&_n(),t.dispatch(xO({completed:r.completed}))},cme=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>o=>{if((Gr(o,"FLUSH")||Gr(o,"DROP_COMPLETE")||Gr(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!Gr(o,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(wW())}};n=requestAnimationFrame(()=>{n=null,e=no(window,[l])})}};var dme=t=>()=>e=>n=>{(Gr(n,"DROP_COMPLETE")||Gr(n,"FLUSH")||Gr(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},fme=t=>{let e=!1;return()=>n=>r=>{if(Gr(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(Gr(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(Gr(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const hme=t=>Gr(t,"DROP_COMPLETE")||Gr(t,"DROP_ANIMATE")||Gr(t,"FLUSH");var pme=t=>e=>n=>r=>{if(hme(r)){t.stop(),n(r);return}if(Gr(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&_n(),t.start(i);return}n(r),t.scroll(e.getState())};const mme=t=>e=>n=>{if(e(n),!Gr(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(SW({reason:r.reason})))},gme=Jg;var yme=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>$P(xpe,gme(jV(Gpe(n),dme(t),Hpe(t),Qpe,ume,cme,mme,pme(o),tme,fme(e),lme(r,i))));const s1=()=>({additions:{},removals:{},modified:{}});function bme({registry:t,callbacks:e}){let n=s1(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:d,modified:h}=n,f=Object.keys(c).map(g=>t.draggable.getById(g).getDimension(ya)).sort((g,y)=>g.descriptor.index-y.descriptor.index),p=Object.keys(h).map(g=>{const b=t.droppable.getById(g).callbacks.getScrollWhileDragging();return{droppableId:g,scroll:b}}),m={additions:f,removals:Object.keys(d),modified:p};n=s1(),e.publish(m)}))};return{add:c=>{const d=c.descriptor.id;n.additions[d]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[d]&&delete n.removals[d],i()},remove:c=>{const d=c.descriptor;n.removals[d.id]=!0,n.modified[d.droppableId]=!0,n.additions[d.id]&&delete n.additions[d.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=s1())}}}var RW=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=As({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},kW=()=>{const t=document.documentElement;return t||_n(),t},CW=()=>{const t=kW();return RW({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},vme=()=>{const t=xW(),e=CW(),n=t.y,r=t.x,i=kW(),o=i.clientWidth,l=i.clientHeight,u=r+o,c=n+l;return{frame:Bo({top:n,left:r,right:u,bottom:c}),scroll:{initial:t,current:t,max:e,diff:{value:ya,displacement:ya}}}},Eme=({critical:t,scrollOptions:e,registry:n})=>{const r=vme(),i=r.scroll.current,o=t.droppable,l=n.droppable.getAllByType(o.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,e)),u=n.draggable.getAllByType(t.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:iW(u),droppables:rW(l)},critical:t,viewport:r}};function v4(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var _me=(t,e)=>{let n=null;const r=bme({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(p,m)=>{t.droppable.exists(p)||_n(),n&&e.updateDroppableIsEnabled({id:p,isEnabled:m})},o=(p,m)=>{n&&(t.droppable.exists(p)||_n(),e.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},l=(p,m)=>{n&&(t.droppable.exists(p)||_n(),e.updateDroppableScroll({id:p,newScroll:m}))},u=(p,m)=>{n&&t.droppable.getById(p).callbacks.scroll(m)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;t.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},d=p=>{n||_n();const m=n.critical.draggable;p.type==="ADDITION"&&v4(t,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&v4(t,m,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:u,updateDroppableScroll:l,startPublishing:p=>{n&&_n();const m=t.draggable.getById(p.draggableId),g=t.droppable.getById(m.descriptor.droppableId),y={draggable:m.descriptor,droppable:g.descriptor},b=t.subscribe(d);return n={critical:y,unsubscribe:b},Eme({critical:y,registry:t,scrollOptions:p.scrollOptions})},stopPublishing:c}},DW=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",Tme=t=>{window.scrollBy(t.x,t.y)};const Sme=ga(t=>zT(t).filter(e=>!(!e.isEnabled||!e.frame))),wme=(t,e)=>Sme(e).find(r=>(r.frame||_n(),pW(r.frame.pageMarginBox)(t)))||null;var Ame=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return wme(t,n)};const cy={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Ime=(t,e,n=()=>cy)=>{const r=n(),i=t[e.size]*r.startFromPercentage,o=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},LW=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},kO=1,xme=(t,e,n=()=>cy)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return kO;const o=1-LW({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),l=r.maxPixelScroll*r.ease(o);return Math.ceil(l)},Rme=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,l=e,u=o,d=Date.now()-l;if(d>=o)return t;if(d<i)return kO;const h=LW({startOfRange:i,endOfRange:u,current:d}),f=t*r.ease(h);return Math.ceil(f)},E4=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=xme(t,e,i);return o===0?0:r?Math.max(Rme(o,n,i),kO):o},_4=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const l=Ime(t,r,o);return e[r.end]<e[r.start]?E4({distanceToEdge:e[r.end],thresholds:l,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*E4({distanceToEdge:e[r.start],thresholds:l,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},kme=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Cme=nW(t=>t===0?0:t);var PW=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const l={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},u=_4({container:e,distanceToEdges:l,dragStartTime:t,axis:_O,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=_4({container:e,distanceToEdges:l,dragStartTime:t,axis:oW,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),d=Cme({x:c,y:u});if(bc(d,ya))return null;const h=kme({container:e,subject:n,proposedScroll:d});return h?bc(h,ya)?null:h:null};const Dme=nW(t=>t===0?0:t>0?1:-1),CO=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=xa(e,r),o={x:t(i.x,n.x),y:t(i.y,n.y)};return bc(o,ya)?null:o}})(),OW=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=Dme(n),o=CO({max:r,current:e,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},DO=(t,e)=>OW({current:t.scroll.current,max:t.scroll.max,change:e}),Lme=(t,e)=>{if(!DO(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return CO({current:r,max:n,change:e})},LO=(t,e)=>{const n=t.frame;return n?OW({current:n.scroll.current,max:n.scroll.max,change:e}):!1},Pme=(t,e)=>{const n=t.frame;return!n||!LO(t,e)?null:CO({current:n.scroll.current,max:n.scroll.max,change:e})};var Ome=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const l=PW({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return l&&DO(t,l)?l:null},Mme=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const l=t.frame;if(!l)return null;const u=PW({dragStartTime:r,container:l.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return u&&LO(t,u)?u:null},T4=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const l=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const f=t.viewport,p=Ome({dragStartTime:e,viewport:f,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(p){r(p);return}}const d=Ame({center:l,destination:xs(t.impact),droppables:t.dimensions.droppables});if(!d)return;const h=Mme({dragStartTime:e,droppable:d,subject:c,center:l,shouldUseTimeDampening:n,getAutoScrollerOptions:o});h&&i(d.descriptor.id,h)},Nme=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>cy})=>{const r=Xg(t),i=Xg(e);let o=null;const l=d=>{o||_n();const{shouldUseTimeDampening:h,dragStartTime:f}=o;T4({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:d=>{o&&_n();const h=Date.now();let f=!1;const p=()=>{f=!0};T4({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),o={dragStartTime:h,shouldUseTimeDampening:f},f&&l(d)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:l}},Fme=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(u,c)=>{const d=xa(u.current.client.selection,c);t({client:d})},i=(u,c)=>{if(!LO(u,c))return c;const d=Pme(u,c);if(!d)return e(u.descriptor.id,c),null;const h=As(c,d);return e(u.descriptor.id,h),As(c,h)},o=(u,c,d)=>{if(!u||!DO(c,d))return d;const h=Lme(c,d);if(!h)return n(d),null;const f=As(d,h);return n(f),As(d,f)};return u=>{const c=u.scrollJumpRequest;if(!c)return;const d=xs(u.impact);d||_n();const h=i(u.dimensions.droppables[d],c);if(!h)return;const f=u.viewport,p=o(u.isWindowScrollAllowed,f,h);p&&r(u,p)}},Ume=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=Nme({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),o=Fme({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:i.start,stop:i.stop}};const fp="data-rfd",hp=(()=>{const t=`${fp}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),KC=(()=>{const t=`${fp}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),Bme=(()=>{const t=`${fp}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),S4={contextId:`${fp}-scroll-container-context-id`},zme=t=>e=>`[${e}="${t}"]`,sm=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),$me="pointer-events: none;";var qme=t=>{const e=zme(t),n=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(hp.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:$me,dropAnimating:u}}})(),r=(()=>{const u=`
      transition: ${wg.outOfTheWay};
    `;return{selector:e(KC.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),i={selector:e(Bme.contextId),styles:{always:"overflow-anchor: none;"}},l=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:sm(l,"always"),resting:sm(l,"resting"),dragging:sm(l,"dragging"),dropAnimating:sm(l,"dropAnimating"),userCancel:sm(l,"userCancel")}};const Rs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Bt.useLayoutEffect:Bt.useEffect,o1=()=>{const t=document.querySelector("head");return t||_n(),t},w4=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function jme(t,e){const n=Nr(()=>qme(t),[t]),r=Bt.useRef(null),i=Bt.useRef(null),o=Zn(ga(f=>{const p=i.current;p||_n(),p.textContent=f}),[]),l=Zn(f=>{const p=r.current;p||_n(),p.textContent=f},[]);Rs(()=>{!r.current&&!i.current||_n();const f=w4(e),p=w4(e);return r.current=f,i.current=p,f.setAttribute(`${fp}-always`,t),p.setAttribute(`${fp}-dynamic`,t),o1().appendChild(f),o1().appendChild(p),l(n.always),o(n.resting),()=>{const m=g=>{const y=g.current;y||_n(),o1().removeChild(y),g.current=null};m(r),m(i)}},[e,l,o,n.always,n.resting,t]);const u=Zn(()=>o(n.dragging),[o,n.dragging]),c=Zn(f=>{if(f==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),d=Zn(()=>{i.current&&o(n.resting)},[o,n.resting]);return Nr(()=>({dragging:u,dropping:c,resting:d}),[u,c,d])}function MW(t,e){return Array.from(t.querySelectorAll(e))}var NW=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function HT(t){return t instanceof NW(t).HTMLElement}function Hme(t,e){const n=`[${hp.contextId}="${t}"]`,r=MW(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(hp.draggableId)===e);return!i||!HT(i)?null:i}function Gme(t){const e=Bt.useRef({}),n=Bt.useRef(null),r=Bt.useRef(null),i=Bt.useRef(!1),o=Zn(function(p,m){const g={id:p,focus:m};return e.current[p]=g,function(){const b=e.current;b[p]!==g&&delete b[p]}},[]),l=Zn(function(p){const m=Hme(t,p);m&&m!==document.activeElement&&m.focus()},[t]),u=Zn(function(p,m){n.current===p&&(n.current=m)},[]),c=Zn(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&l(p)}))},[l]),d=Zn(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(hp.draggableId)===p&&(n.current=p)},[]);return Rs(()=>(i.current=!0,function(){i.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),Nr(()=>({register:o,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:u}),[o,d,c,u])}function Vme(){const t={draggables:{},droppables:{}},e=[];function n(f){return e.push(f),function(){const m=e.indexOf(f);m!==-1&&e.splice(m,1)}}function r(f){e.length&&e.forEach(p=>p(f))}function i(f){return t.draggables[f]||null}function o(f){const p=i(f);return p||_n(),p}const l={register:f=>{t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:(f,p)=>{const m=t.draggables[p.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete t.draggables[p.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:f=>{const p=f.descriptor.id,m=i(p);m&&f.uniqueId===m.uniqueId&&(delete t.draggables[p],t.droppables[f.descriptor.droppableId]&&r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:f=>!!i(f),getAllByType:f=>Object.values(t.draggables).filter(p=>p.descriptor.type===f)};function u(f){return t.droppables[f]||null}function c(f){const p=u(f);return p||_n(),p}const d={register:f=>{t.droppables[f.descriptor.id]=f},unregister:f=>{const p=u(f.descriptor.id);p&&f.uniqueId===p.uniqueId&&delete t.droppables[f.descriptor.id]},getById:c,findById:u,exists:f=>!!u(f),getAllByType:f=>Object.values(t.droppables).filter(p=>p.descriptor.type===f)};function h(){t.draggables={},t.droppables={},e.length=0}return{draggable:l,droppable:d,subscribe:n,clean:h}}function Kme(){const t=Nr(Vme,[]);return Bt.useEffect(()=>function(){t.clean()},[t]),t}var PO=Me.createContext(null),WE=()=>{const t=document.body;return t||_n(),t};const Wme={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Yme=t=>`rfd-announcement-${t}`;function Xme(t){const e=Nr(()=>Yme(t),[t]),n=Bt.useRef(null);return Bt.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ay(o.style,Wme),WE().appendChild(o),function(){setTimeout(function(){const c=WE();c.contains(o)&&c.removeChild(o),o===n.current&&(n.current=null)})}},[e]),Zn(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const Qme={separator:"::"};function OO(t,e=Qme){const n=Me.useId();return Nr(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function Zme({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function Jme({contextId:t,text:e}){const n=OO("hidden-text",{separator:"-"}),r=Nr(()=>Zme({contextId:t,uniqueId:n}),[n,t]);return Bt.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=e,o.style.display="none",WE().appendChild(o),function(){const u=WE();u.contains(o)&&u.removeChild(o)}},[r,e]),r}var GT=Me.createContext(null);function FW(t){const e=Bt.useRef(t);return Bt.useEffect(()=>{e.current=t}),e}function ege(){let t=null;function e(){return!!t}function n(l){return l===t}function r(l){t&&_n();const u={abandon:l};return t=u,u}function i(){t||_n(),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}function dy(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const tge=9,nge=13,MO=27,UW=32,rge=33,ige=34,age=35,sge=36,oge=37,lge=38,uge=39,cge=40,dge={[nge]:!0,[tge]:!0};var BW=t=>{dge[t.keyCode]&&t.preventDefault()};const VT=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),zW=0,A4=5;function fge(t,e){return Math.abs(e.x-t.x)>=A4||Math.abs(e.y-t.y)>=A4}const I4={type:"IDLE"};function hge({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:l,clientY:u}=i;if(o!==zW)return;const c={x:l,y:u},d=n();if(d.type==="DRAGGING"){i.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&_n();const h=d.point;if(!fge(h,c))return;i.preventDefault();const f=d.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===MO){i.preventDefault(),t();return}BW(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&_n(),o.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:VT,fn:t}]}function pge(t){const e=Bt.useRef(I4),n=Bt.useRef(yc),r=Nr(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==zW||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const p=t.findClosestDraggableId(f);if(!p)return;const m=t.tryGetLock(p,l,{sourceEvent:f});if(!m)return;f.preventDefault();const g={x:f.clientX,y:f.clientY};n.current(),d(m,g)}}),[t]),i=Nr(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const f=t.findClosestDraggableId(h);if(!f)return;const p=t.findOptionsForDraggable(f);p&&(p.shouldRespectForcePress||t.canGetLock(f)&&h.preventDefault())}}),[t]),o=Zn(function(){const f={passive:!1,capture:!0};n.current=no(window,[i,r],f)},[i,r]),l=Zn(()=>{e.current.type!=="IDLE"&&(e.current=I4,n.current(),o())},[o]),u=Zn(()=>{const h=e.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),c=Zn(function(){const f={capture:!0,passive:!1},p=hge({cancel:u,completed:l,getPhase:()=>e.current,setPhase:m=>{e.current=m}});n.current=no(window,p,f)},[u,l]),d=Zn(function(f,p){e.current.type!=="IDLE"&&_n(),e.current={type:"PENDING",point:p,actions:f},c()},[c]);Rs(function(){return o(),function(){n.current()}},[o])}function mge(){}const gge={[ige]:!0,[rge]:!0,[sge]:!0,[age]:!0};function yge(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===MO){i.preventDefault(),n();return}if(i.keyCode===UW){i.preventDefault(),r();return}if(i.keyCode===cge){i.preventDefault(),t.moveDown();return}if(i.keyCode===lge){i.preventDefault(),t.moveUp();return}if(i.keyCode===uge){i.preventDefault(),t.moveRight();return}if(i.keyCode===oge){i.preventDefault(),t.moveLeft();return}if(gge[i.keyCode]){i.preventDefault();return}BW(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:VT,fn:n}]}function bge(t){const e=Bt.useRef(mge),n=Nr(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==UW)return;const l=t.findClosestDraggableId(o);if(!l)return;const u=t.tryGetLock(l,h,{sourceEvent:o});if(!u)return;o.preventDefault();let c=!0;const d=u.snapLift();e.current();function h(){c||_n(),c=!1,e.current(),r()}e.current=no(window,yge(d,h),{capture:!0,passive:!1})}}),[t]),r=Zn(function(){const o={passive:!1,capture:!0};e.current=no(window,[n],o)},[n]);Rs(function(){return r(),function(){e.current()}},[r])}const l1={type:"IDLE"},vge=120,Ege=.15;function _ge({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===MO&&n.preventDefault(),t()}},{eventName:VT,fn:t}]}function Tge({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:o,clientY:l}=r.touches[0],u={x:o,y:l};r.preventDefault(),i.actions.move(u)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&_n();const o=r.touches[0];if(!o||!(o.force>=Ege))return;const u=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){u&&t();return}if(u){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:VT,fn:t}]}function Sge(t){const e=Bt.useRef(l1),n=Bt.useRef(yc),r=Zn(function(){return e.current},[]),i=Zn(function(m){e.current=m},[]),o=Nr(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const g=t.findClosestDraggableId(m);if(!g)return;const y=t.tryGetLock(g,u,{sourceEvent:m});if(!y)return;const b=m.touches[0],{clientX:v,clientY:_}=b,E={x:v,y:_};n.current(),f(y,E)}}),[t]),l=Zn(function(){const m={capture:!0,passive:!1};n.current=no(window,[o],m)},[o]),u=Zn(()=>{const p=e.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(l1),n.current(),l())},[l,i]),c=Zn(()=>{const p=e.current;u(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[u]),d=Zn(function(){const m={capture:!0,passive:!1},g={cancel:c,completed:u,getPhase:r},y=no(window,Tge(g),m),b=no(window,_ge(g),m);n.current=function(){y(),b()}},[c,r,u]),h=Zn(function(){const m=r();m.type!=="PENDING"&&_n();const g=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:g,hasMoved:!1})},[r,i]),f=Zn(function(m,g){r().type!=="IDLE"&&_n();const y=setTimeout(h,vge);i({type:"PENDING",point:g,actions:m,longPressTimerId:y}),d()},[d,r,i,h]);Rs(function(){return l(),function(){n.current();const g=r();g.type==="PENDING"&&(clearTimeout(g.longPressTimerId),i(l1))}},[r,l,i]),Rs(function(){return no(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const wge=["input","button","textarea","select","option","optgroup","video","audio"];function $W(t,e){if(e==null)return!1;if(wge.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:$W(t,e.parentElement)}function Age(t,e){const n=e.target;return HT(n)?$W(t,n):!1}var Ige=t=>Bo(t.getBoundingClientRect()).center;function xge(t){return t instanceof NW(t).Element}const Rge=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function qW(t,e){return t==null?null:t[Rge](e)?t:qW(t.parentElement,e)}function kge(t,e){return t.closest?t.closest(e):qW(t,e)}function Cge(t){return`[${hp.contextId}="${t}"]`}function Dge(t,e){const n=e.target;if(!xge(n))return null;const r=Cge(t),i=kge(n,r);return!i||!HT(i)?null:i}function Lge(t,e){const n=Dge(t,e);return n?n.getAttribute(hp.draggableId):null}function Pge(t,e){const n=`[${KC.contextId}="${t}"]`,i=MW(document,n).find(o=>o.getAttribute(KC.id)===e);return!i||!HT(i)?null:i}function Oge(t){t.preventDefault()}function Vb({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function jW({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!DW(e.getState(),r))}function Mge({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:l}){if(!jW({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),d=Pge(e,c.descriptor.id);if(!d||l&&!c.options.canDragInteractiveElements&&Age(d,l))return null;const h=t.claim(o||yc);let f="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function m(){return t.isActive(h)}function g(A,w){Vb({expected:A,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(w())}const y=g.bind(null,"DRAGGING");function b(A){function w(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(w(),_n()),n.dispatch(kpe(A.liftActionArgs)),f="DRAGGING";function I(C,j={shouldBlockNextClick:!1}){if(A.cleanup(),j.shouldBlockNextClick){const F=no(window,[{eventName:"click",fn:Oge,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}w(),n.dispatch(SW({reason:C}))}return{isActive:()=>Vb({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:C=>I("DROP",C),cancel:C=>I("CANCEL",C),...A.actions}}function v(A){const w=Xg(C=>{y(()=>TW({client:C}))});return{...b({liftActionArgs:{id:i,clientSelection:A,movementMode:"FLUID"},cleanup:()=>w.cancel(),actions:{move:w}}),move:w}}function _(){const A={moveUp:()=>y(Upe),moveRight:()=>y(zpe),moveDown:()=>y(Bpe),moveLeft:()=>y($pe)};return b({liftActionArgs:{id:i,clientSelection:Ige(d),movementMode:"SNAP"},cleanup:yc,actions:A})}function E(){Vb({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&t.release()}return{isActive:()=>Vb({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:v,snapLift:_,abort:E}}const Nge=[pge,bge,Sge];function Fge({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?Nge:[],...r||[]],l=Bt.useState(()=>ege())[0],u=Zn(function(b,v){dy(b)&&!dy(v)&&l.tryAbandon()},[l]);Rs(function(){let b=e.getState();return e.subscribe(()=>{const _=e.getState();u(b,_),b=_})},[l,e,u]),Rs(()=>l.tryAbandon,[l.tryAbandon]);const c=Zn(y=>jW({lockAPI:l,registry:n,store:e,draggableId:y}),[l,n,e]),d=Zn((y,b,v)=>Mge({lockAPI:l,registry:n,contextId:t,store:e,draggableId:y,forceSensorStop:b||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[t,l,n,e]),h=Zn(y=>Lge(t,y),[t]),f=Zn(y=>{const b=n.draggable.findById(y);return b?b.options:null},[n.draggable]),p=Zn(function(){l.isClaimed()&&(l.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(IO()))},[l,e]),m=Zn(()=>l.isClaimed(),[l]),g=Nr(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:p,isLockClaimed:m}),[c,d,h,f,p,m]);for(let y=0;y<o.length;y++)o[y](g)}const Uge=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};iV.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),Bge=t=>({...cy,...t.autoScrollerOptions,durationDampening:{...cy.durationDampening,...t.autoScrollerOptions}});function om(t){return t.current||_n(),t.current}function zge(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=t,l=Bt.useRef(null),u=FW(t),c=Zn(()=>Uge(u.current),[u]),d=Zn(()=>Bge(u.current),[u]),h=Xme(e),f=Jme({contextId:e,text:o}),p=jme(e,i),m=Zn(F=>{om(l).dispatch(F)},[]),g=Nr(()=>VB({publishWhileDragging:Dpe,updateDroppableScroll:Ppe,updateDroppableIsEnabled:Ope,updateDroppableIsCombineEnabled:Mpe,collectionStarting:Lpe},m),[m]),y=Kme(),b=Nr(()=>_me(y,g),[y,g]),v=Nr(()=>Ume({scrollWindow:Tme,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:d,...VB({move:TW},m)}),[b.scrollDroppable,m,d]),_=Gme(e),E=Nr(()=>yme({announce:h,autoScroller:v,dimensionMarshal:b,focusMarshal:_,getResponders:c,styleMarshal:p}),[h,v,b,_,c,p]);l.current=E;const T=Zn(()=>{const F=om(l);F.getState().phase!=="IDLE"&&F.dispatch(IO())},[]),A=Zn(()=>{const F=om(l).getState();return F.phase==="DROP_ANIMATING"?!0:F.phase==="IDLE"?!1:F.isDragging},[]),w=Nr(()=>({isDragging:A,tryAbort:T}),[A,T]);n(w);const I=Zn(F=>DW(om(l).getState(),F),[]),C=Zn(()=>Jc(om(l).getState()),[]),j=Nr(()=>({marshal:b,focus:_,contextId:e,canLift:I,isMovementAllowed:C,dragHandleUsageInstructionsId:f,registry:y}),[e,b,f,_,I,C,y]);return Fge({contextId:e,store:E,registry:y,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),Bt.useEffect(()=>T,[T]),Me.createElement(GT.Provider,{value:j},Me.createElement(dhe,{context:PO,store:E},t.children))}function $ge(){return Me.useId()}function m7e(t){const e=$ge(),n=t.dragHandleUsageInstructions||Yv.dragHandleUsageInstructions;return Me.createElement(bhe,null,r=>Me.createElement(zge,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const x4={dragging:5e3,dropAnimating:4500},qge=(t,e)=>e?wg.drop(e.duration):t?wg.snap:wg.fluid,jge=(t,e)=>{if(t)return e?uy.opacity.drop:uy.opacity.combining},Hge=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function Gge(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:o}=t,l=!!i,u=Hge(t),c=!!o,d=c?GC.drop(r,l):GC.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:qge(u,o),transform:d,opacity:jge(l,c),zIndex:c?x4.dropAnimating:x4.dragging,pointerEvents:"none"}}function Vge(t){return{transform:GC.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function Kge(t){return t.type==="DRAGGING"?Gge(t):Vge(t)}function Wge(t,e,n=ya){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=XK(i,r),l=HE(o,n),u={client:o,tagName:e.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:t,placeholder:u,displaceBy:c,client:o,page:l}}function Yge(t){const e=OO("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:u}=t,c=Nr(()=>({canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:u}),[o,u,l]),d=Zn(m=>{const g=i();return g||_n(),Wge(n,g,m)},[n,i]),h=Nr(()=>({uniqueId:e,descriptor:n,options:c,getDimension:d}),[n,d,c,e]),f=Bt.useRef(h),p=Bt.useRef(!0);Rs(()=>(r.draggable.register(f.current),()=>r.draggable.unregister(f.current)),[r.draggable]),Rs(()=>{if(p.current){p.current=!1;return}const m=f.current;f.current=h,r.draggable.update(h,m)},[h,r.draggable])}var NO=Me.createContext(null);function YE(t){const e=Bt.useContext(t);return e||_n(),e}function Xge(t){t.preventDefault()}const Qge=t=>{const e=Bt.useRef(null),n=Zn((w=null)=>{e.current=w},[]),r=Zn(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:l}=YE(GT),{type:u,droppableId:c}=YE(NO),d=Nr(()=>({id:t.draggableId,index:t.index,type:u,droppableId:c}),[t.draggableId,t.index,u,c]),{children:h,draggableId:f,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:g,isClone:y,mapped:b,dropAnimationFinished:v}=t;if(!y){const w=Nr(()=>({descriptor:d,registry:l,getDraggableRef:r,canDragInteractiveElements:g,shouldRespectForcePress:m,isEnabled:p}),[d,l,r,g,m,p]);Yge(w)}const _=Nr(()=>p?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:Xge}:null,[i,o,f,p]),E=Zn(w=>{b.type==="DRAGGING"&&b.dropping&&w.propertyName==="transform"&&iV.flushSync(v)},[v,b]),T=Nr(()=>{const w=Kge(b),I=b.type==="DRAGGING"&&b.dropping?E:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":f,style:w,onTransitionEnd:I},dragHandleProps:_}},[i,_,f,b,E,n]),A=Nr(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Me.createElement(Me.Fragment,null,h(T,b.snapshot,A))};var HW=(t,e)=>t===e,GW=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const Zge=t=>t.combine?t.combine.draggableId:null,Jge=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function eye(){const t=ga((i,o)=>({x:i,y:o})),e=ga((i,o,l=null,u=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:l,combineWith:u,combineTargetFor:null})),n=ga((i,o,l,u,c=null,d=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:o,offset:i,dimension:l,forceShouldAnimate:h,snapshot:e(o,u,c,d,null)}}));return(i,o)=>{if(dy(i)){if(i.critical.draggable.id!==o.draggableId)return null;const l=i.current.client.offset,u=i.dimensions.draggables[o.draggableId],c=xs(i.impact),d=Jge(i.impact),h=i.forceShouldAnimate;return n(t(l.x,l.y),i.movementMode,u,o.isClone,c,d,h)}if(i.phase==="DROP_ANIMATING"){const l=i.completed;if(l.result.draggableId!==o.draggableId)return null;const u=o.isClone,c=i.dimensions.draggables[o.draggableId],d=l.result,h=d.mode,f=GW(d),p=Zge(d),g={duration:i.dropDuration,curve:RO.drop,moveTo:i.newHomeClientOffset,opacity:p?uy.opacity.drop:null,scale:p?uy.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:g,draggingOver:f,combineWith:p,mode:h,forceShouldAnimate:null,snapshot:e(h,u,f,p,g)}}}return null}}function VW(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const tye={mapped:{type:"SECONDARY",offset:ya,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:VW(null)}};function nye(){const t=ga((l,u)=>({x:l,y:u})),e=ga(VW),n=ga((l,u=null,c)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:u,shouldAnimateDisplacement:c,snapshot:e(u)}})),r=l=>l?n(ya,l,!0):null,i=(l,u,c,d)=>{const h=c.displaced.visible[l],f=!!(d.inVirtualList&&d.effected[l]),p=$T(c),m=p&&p.draggableId===l?u:null;if(!h){if(!f)return r(m);if(c.displaced.invisible[l])return null;const b=Rp(d.displacedBy.point),v=t(b.x,b.y);return n(v,m,!0)}if(f)return r(m);const g=c.displacedBy.point,y=t(g.x,g.y);return n(y,m,h.shouldAnimate)};return(l,u)=>{if(dy(l))return l.critical.draggable.id===u.draggableId?null:i(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const c=l.completed;return c.result.draggableId===u.draggableId?null:i(u.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const rye=()=>{const t=eye(),e=nye();return(r,i)=>t(r,i)||e(r,i)||tye},iye={dropAnimationFinished:wW},aye=YK(rye,iye,null,{context:PO,areStatePropsEqual:HW})(Qge);function KW(t){return YE(NO).isUsingCloneFor===t.draggableId&&!t.isClone?null:Me.createElement(aye,t)}function g7e(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return Me.createElement(KW,ay({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const WW=t=>e=>t===e,sye=WW("scroll"),oye=WW("auto"),R4=(t,e)=>e(t.overflowX)||e(t.overflowY),lye=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return R4(n,sye)||R4(n,oye)},uye=()=>!1,YW=t=>t==null?null:t===document.body?uye()?t:null:t===document.documentElement?null:lye(t)?t:YW(t.parentElement);var WC=t=>({x:t.scrollLeft,y:t.scrollTop});const XW=t=>t?window.getComputedStyle(t).position==="fixed"?!0:XW(t.parentElement):!1;var cye=t=>{const e=YW(t),n=XW(t);return{closestScrollable:e,isFixedOnPage:n}},dye=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:l,closest:u})=>{const c=(()=>{if(!u)return null;const{scrollSize:p,client:m}=u,g=RW({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:g,diff:{value:ya,displacement:ya}}}})(),d=i==="vertical"?_O:oW,h=dp({page:l,withPlaceholder:null,axis:d,frame:c});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:d,isEnabled:e,client:o,page:l,frame:c,subject:h}};const fye=(t,e)=>{const n=QK(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,o=r+e.scrollHeight,l=i+e.scrollWidth,c=yO({top:r,right:l,bottom:o,left:i},n.border);return bO({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var hye=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:l,shouldClipSubject:u})=>{const c=n.closestScrollable,d=fye(t,c),h=HE(d,r),f=(()=>{if(!c)return null;const m=QK(c),g={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:HE(m,r),scroll:WC(c),scrollSize:g,shouldClipSubject:u}})();return dye({descriptor:e,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:h,closest:f})};const pye={passive:!1},mye={passive:!0};var k4=t=>t.shouldPublishImmediately?pye:mye;const Kb=t=>t&&t.env.closestScrollable||null;function gye(t){const e=Bt.useRef(null),n=YE(GT),r=OO("droppable"),{registry:i,marshal:o}=n,l=FW(t),u=Nr(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),c=Bt.useRef(u),d=Nr(()=>ga((T,A)=>{e.current||_n();const w={x:T,y:A};o.updateDroppableScroll(u.id,w)}),[u.id,o]),h=Zn(()=>{const T=e.current;return!T||!T.env.closestScrollable?ya:WC(T.env.closestScrollable)},[]),f=Zn(()=>{const T=h();d(T.x,T.y)},[h,d]),p=Nr(()=>Xg(f),[f]),m=Zn(()=>{const T=e.current,A=Kb(T);if(T&&A||_n(),T.scrollOptions.shouldPublishImmediately){f();return}p()},[p,f]),g=Zn((T,A)=>{e.current&&_n();const w=l.current,I=w.getDroppableRef();I||_n();const C=cye(I),j={ref:I,descriptor:u,env:C,scrollOptions:A};e.current=j;const F=hye({ref:I,descriptor:u,env:C,windowScroll:T,direction:w.direction,isDropDisabled:w.isDropDisabled,isCombineEnabled:w.isCombineEnabled,shouldClipSubject:!w.ignoreContainerClipping}),K=C.closestScrollable;return K&&(K.setAttribute(S4.contextId,n.contextId),K.addEventListener("scroll",m,k4(j.scrollOptions))),F},[n.contextId,u,m,l]),y=Zn(()=>{const T=e.current,A=Kb(T);return T&&A||_n(),WC(A)},[]),b=Zn(()=>{const T=e.current;T||_n();const A=Kb(T);e.current=null,A&&(p.cancel(),A.removeAttribute(S4.contextId),A.removeEventListener("scroll",m,k4(T.scrollOptions)))},[m,p]),v=Zn(T=>{const A=e.current;A||_n();const w=Kb(A);w||_n(),w.scrollTop+=T.y,w.scrollLeft+=T.x},[]),_=Nr(()=>({getDimensionAndWatchScroll:g,getScrollWhileDragging:y,dragStopped:b,scroll:v}),[b,g,y,v]),E=Nr(()=>({uniqueId:r,descriptor:u,callbacks:_}),[_,u,r]);Rs(()=>(c.current=E.descriptor,i.droppable.register(E),()=>{e.current&&b(),i.droppable.unregister(E)}),[_,u,b,E,o,i.droppable]),Rs(()=>{e.current&&o.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),Rs(()=>{e.current&&o.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function u1(){}const C4={width:0,height:0,margin:Ahe},yye=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?C4:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},bye=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=yye({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?wg.placeholder:null}},vye=t=>{const e=Bt.useRef(null),n=Zn(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:l}=t,[u,c]=Bt.useState(t.animate==="open");Bt.useEffect(()=>u?r!=="open"?(n(),c(!1),u1):e.current?u1:(e.current=setTimeout(()=>{e.current=null,c(!1)}),n):u1,[r,u,n]);const d=Zn(f=>{f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),h=bye({isAnimatingOpenOnMount:u,animate:t.animate,placeholder:t.placeholder});return Me.createElement(t.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":l,onTransitionEnd:d,ref:t.innerRef})};var Eye=Me.memo(vye);class _ye extends Me.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const Tye=t=>{const e=Bt.useContext(GT);e||_n();const{contextId:n,isMovementAllowed:r}=e,i=Bt.useRef(null),o=Bt.useRef(null),{children:l,droppableId:u,type:c,mode:d,direction:h,ignoreContainerClipping:f,isDropDisabled:p,isCombineEnabled:m,snapshot:g,useClone:y,updateViewportMaxScroll:b,getContainerForClone:v}=t,_=Zn(()=>i.current,[]),E=Zn((K=null)=>{i.current=K},[]);Zn(()=>o.current,[]);const T=Zn((K=null)=>{o.current=K},[]),A=Zn(()=>{r()&&b({maxScroll:CW()})},[r,b]);gye({droppableId:u,type:c,mode:d,direction:h,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:_});const w=Nr(()=>Me.createElement(_ye,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:K,data:he,animate:q})=>Me.createElement(Eye,{placeholder:he,onClose:K,innerRef:T,animate:q,contextId:n,onTransitionEnd:A})),[n,A,t.placeholder,t.shouldAnimatePlaceholder,T]),I=Nr(()=>({innerRef:E,placeholder:w,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":n}}),[n,u,w,E]),C=y?y.dragging.draggableId:null,j=Nr(()=>({droppableId:u,type:c,isUsingCloneFor:C}),[u,C,c]);function F(){if(!y)return null;const{dragging:K,render:he}=y,q=Me.createElement(KW,{draggableId:K.draggableId,index:K.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ee,Te)=>he(Ee,Te,K));return jse.createPortal(q,v())}return Me.createElement(NO.Provider,{value:j},l(I,g),F())};function Sye(){return document.body||_n(),document.body}const D4={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Sye},QW=t=>{let e={...t},n;for(n in D4)t[n]===void 0&&(e={...e,[n]:D4[n]});return e},c1=(t,e)=>t===e.droppable.type,L4=(t,e)=>e.draggables[t.draggable.id],wye=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=ga(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=ga((o,l,u,c,d,h)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===o){const g=h?{render:h,dragging:n(d.descriptor)}:null,y={isDraggingOver:u,draggingOverWith:u?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:g}}if(!l)return e;if(!c)return t;const m={isDraggingOver:u,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(o,l)=>{const u=QW(l),c=u.droppableId,d=u.type,h=!u.isDropDisabled,f=u.renderClone;if(dy(o)){const p=o.critical;if(!c1(d,p))return e;const m=L4(p,o.dimensions),g=xs(o.impact)===c;return r(c,h,g,g,m,f)}if(o.phase==="DROP_ANIMATING"){const p=o.completed;if(!c1(d,p.critical))return e;const m=L4(p.critical,o.dimensions);return r(c,h,GW(p.result)===c,xs(p.impact)===c,m,f)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const p=o.completed;if(!c1(d,p.critical))return e;const m=xs(p.impact)===c,g=!!(p.impact.at&&p.impact.at.type==="COMBINE"),y=p.critical.droppable.id===c;return m?g?t:e:y?t:e}return e}},Aye={updateViewportMaxScroll:Fpe},y7e=YK(wye,Aye,(t,e,n)=>({...QW(n),...t,...e}),{context:PO,areStatePropsEqual:HW})(Tye);var Qa={},yf={},d1,P4;function ZW(){if(P4)return d1;P4=1;var t=typeof Ub=="object"&&Ub&&Ub.Object===Object&&Ub;return d1=t,d1}var f1,O4;function $l(){if(O4)return f1;O4=1;var t=ZW(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return f1=n,f1}var h1,M4;function eb(){if(M4)return h1;M4=1;var t=$l(),e=t.Symbol;return h1=e,h1}var p1,N4;function Iye(){if(N4)return p1;N4=1;var t=eb(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(l){var u=n.call(l,i),c=l[i];try{l[i]=void 0;var d=!0}catch{}var h=r.call(l);return d&&(u?l[i]=c:delete l[i]),h}return p1=o,p1}var m1,F4;function xye(){if(F4)return m1;F4=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return m1=n,m1}var g1,U4;function Kd(){if(U4)return g1;U4=1;var t=eb(),e=Iye(),n=xye(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(u){return u==null?u===void 0?i:r:o&&o in Object(u)?e(u):n(u)}return g1=l,g1}var y1,B4;function Ho(){if(B4)return y1;B4=1;var t=Array.isArray;return y1=t,y1}var b1,z4;function Tu(){if(z4)return b1;z4=1;function t(e){return e!=null&&typeof e=="object"}return b1=t,b1}var v1,$4;function Rye(){if($4)return v1;$4=1;var t=Kd(),e=Ho(),n=Tu(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return v1=i,v1}var E1,q4;function kye(){if(q4)return E1;q4=1;function t(e){return function(n,r,i){for(var o=-1,l=Object(n),u=i(n),c=u.length;c--;){var d=u[e?c:++o];if(r(l[d],d,l)===!1)break}return n}}return E1=t,E1}var _1,j4;function Cye(){if(j4)return _1;j4=1;var t=kye(),e=t();return _1=e,_1}var T1,H4;function Dye(){if(H4)return T1;H4=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return T1=t,T1}var S1,G4;function Lye(){if(G4)return S1;G4=1;var t=Kd(),e=Tu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return S1=r,S1}var w1,V4;function JW(){if(V4)return w1;V4=1;var t=Lye(),e=Tu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return w1=o,w1}var Wm={exports:{}},A1,K4;function Pye(){if(K4)return A1;K4=1;function t(){return!1}return A1=t,A1}Wm.exports;var W4;function FO(){return W4||(W4=1,(function(t,e){var n=$l(),r=Pye(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,u=l?n.Buffer:void 0,c=u?u.isBuffer:void 0,d=c||r;t.exports=d})(Wm,Wm.exports)),Wm.exports}var I1,Y4;function eY(){if(Y4)return I1;Y4=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return I1=n,I1}var x1,X4;function UO(){if(X4)return x1;X4=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return x1=e,x1}var R1,Q4;function Oye(){if(Q4)return R1;Q4=1;var t=Kd(),e=UO(),n=Tu(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",f="[object Object]",p="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",v="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",w="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",F="[object Uint32Array]",K={};K[_]=K[E]=K[T]=K[A]=K[w]=K[I]=K[C]=K[j]=K[F]=!0,K[r]=K[i]=K[b]=K[o]=K[v]=K[l]=K[u]=K[c]=K[d]=K[h]=K[f]=K[p]=K[m]=K[g]=K[y]=!1;function he(q){return n(q)&&e(q.length)&&!!K[t(q)]}return R1=he,R1}var k1,Z4;function BO(){if(Z4)return k1;Z4=1;function t(e){return function(n){return e(n)}}return k1=t,k1}var Ym={exports:{}};Ym.exports;var J4;function zO(){return J4||(J4=1,(function(t,e){var n=ZW(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o&&n.process,u=(function(){try{var c=i&&i.require&&i.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}})();t.exports=u})(Ym,Ym.exports)),Ym.exports}var C1,e5;function tY(){if(e5)return C1;e5=1;var t=Oye(),e=BO(),n=zO(),r=n&&n.isTypedArray,i=r?e(r):t;return C1=i,C1}var D1,t5;function nY(){if(t5)return D1;t5=1;var t=Dye(),e=JW(),n=Ho(),r=FO(),i=eY(),o=tY(),l=Object.prototype,u=l.hasOwnProperty;function c(d,h){var f=n(d),p=!f&&e(d),m=!f&&!p&&r(d),g=!f&&!p&&!m&&o(d),y=f||p||m||g,b=y?t(d.length,String):[],v=b.length;for(var _ in d)(h||u.call(d,_))&&!(y&&(_=="length"||m&&(_=="offset"||_=="parent")||g&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,v)))&&b.push(_);return b}return D1=c,D1}var L1,n5;function $O(){if(n5)return L1;n5=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return L1=e,L1}var P1,r5;function rY(){if(r5)return P1;r5=1;function t(e,n){return function(r){return e(n(r))}}return P1=t,P1}var O1,i5;function Mye(){if(i5)return O1;i5=1;var t=rY(),e=t(Object.keys,Object);return O1=e,O1}var M1,a5;function Nye(){if(a5)return M1;a5=1;var t=$O(),e=Mye(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var u in Object(o))r.call(o,u)&&u!="constructor"&&l.push(u);return l}return M1=i,M1}var N1,s5;function Dp(){if(s5)return N1;s5=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return N1=t,N1}var F1,o5;function iY(){if(o5)return F1;o5=1;var t=Kd(),e=Dp(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==o}return F1=l,F1}var U1,l5;function KT(){if(l5)return U1;l5=1;var t=iY(),e=UO();function n(r){return r!=null&&e(r.length)&&!t(r)}return U1=n,U1}var B1,u5;function tb(){if(u5)return B1;u5=1;var t=nY(),e=Nye(),n=KT();function r(i){return n(i)?t(i):e(i)}return B1=r,B1}var z1,c5;function aY(){if(c5)return z1;c5=1;var t=Cye(),e=tb();function n(r,i){return r&&t(r,i,e)}return z1=n,z1}var $1,d5;function sY(){if(d5)return $1;d5=1;function t(e){return e}return $1=t,$1}var q1,f5;function Fye(){if(f5)return q1;f5=1;var t=sY();function e(n){return typeof n=="function"?n:t}return q1=e,q1}var j1,h5;function qO(){if(h5)return j1;h5=1;var t=aY(),e=Fye();function n(r,i){return r&&t(r,e(i))}return j1=n,j1}var H1,p5;function jO(){if(p5)return H1;p5=1;var t=rY(),e=t(Object.getPrototypeOf,Object);return H1=e,H1}var G1,m5;function Uye(){if(m5)return G1;m5=1;var t=Kd(),e=jO(),n=Tu(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,u=o.hasOwnProperty,c=l.call(Object);function d(h){if(!n(h)||t(h)!=r)return!1;var f=e(h);if(f===null)return!0;var p=u.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&l.call(p)==c}return G1=d,G1}var V1,g5;function oY(){if(g5)return V1;g5=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return V1=t,V1}var K1,y5;function Bye(){if(y5)return K1;y5=1;function t(){this.__data__=[],this.size=0}return K1=t,K1}var W1,b5;function HO(){if(b5)return W1;b5=1;function t(e,n){return e===n||e!==e&&n!==n}return W1=t,W1}var Y1,v5;function WT(){if(v5)return Y1;v5=1;var t=HO();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return Y1=e,Y1}var X1,E5;function zye(){if(E5)return X1;E5=1;var t=WT(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():n.call(o,l,1),--this.size,!0}return X1=r,X1}var Q1,_5;function $ye(){if(_5)return Q1;_5=1;var t=WT();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Q1=e,Q1}var Z1,T5;function qye(){if(T5)return Z1;T5=1;var t=WT();function e(n){return t(this.__data__,n)>-1}return Z1=e,Z1}var J1,S5;function jye(){if(S5)return J1;S5=1;var t=WT();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return J1=e,J1}var eI,w5;function YT(){if(w5)return eI;w5=1;var t=Bye(),e=zye(),n=$ye(),r=qye(),i=jye();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var d=l[u];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,eI=o,eI}var tI,A5;function Hye(){if(A5)return tI;A5=1;var t=YT();function e(){this.__data__=new t,this.size=0}return tI=e,tI}var nI,I5;function Gye(){if(I5)return nI;I5=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return nI=t,nI}var rI,x5;function Vye(){if(x5)return rI;x5=1;function t(e){return this.__data__.get(e)}return rI=t,rI}var iI,R5;function Kye(){if(R5)return iI;R5=1;function t(e){return this.__data__.has(e)}return iI=t,iI}var aI,k5;function Wye(){if(k5)return aI;k5=1;var t=$l(),e=t["__core-js_shared__"];return aI=e,aI}var sI,C5;function Yye(){if(C5)return sI;C5=1;var t=Wye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return sI=n,sI}var oI,D5;function lY(){if(D5)return oI;D5=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return oI=n,oI}var lI,L5;function Xye(){if(L5)return lI;L5=1;var t=iY(),e=Yye(),n=Dp(),r=lY(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!n(p)||e(p))return!1;var m=t(p)?h:o;return m.test(r(p))}return lI=f,lI}var uI,P5;function Qye(){if(P5)return uI;P5=1;function t(e,n){return e?.[n]}return uI=t,uI}var cI,O5;function Wd(){if(O5)return cI;O5=1;var t=Xye(),e=Qye();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return cI=n,cI}var dI,M5;function GO(){if(M5)return dI;M5=1;var t=Wd(),e=$l(),n=t(e,"Map");return dI=n,dI}var fI,N5;function XT(){if(N5)return fI;N5=1;var t=Wd(),e=t(Object,"create");return fI=e,fI}var hI,F5;function Zye(){if(F5)return hI;F5=1;var t=XT();function e(){this.__data__=t?t(null):{},this.size=0}return hI=e,hI}var pI,U5;function Jye(){if(U5)return pI;U5=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return pI=t,pI}var mI,B5;function ebe(){if(B5)return mI;B5=1;var t=XT(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var l=this.__data__;if(t){var u=l[o];return u===e?void 0:u}return r.call(l,o)?l[o]:void 0}return mI=i,mI}var gI,z5;function tbe(){if(z5)return gI;z5=1;var t=XT(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return gI=r,gI}var yI,$5;function nbe(){if($5)return yI;$5=1;var t=XT(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return yI=n,yI}var bI,q5;function rbe(){if(q5)return bI;q5=1;var t=Zye(),e=Jye(),n=ebe(),r=tbe(),i=nbe();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var d=l[u];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,bI=o,bI}var vI,j5;function ibe(){if(j5)return vI;j5=1;var t=rbe(),e=YT(),n=GO();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return vI=r,vI}var EI,H5;function abe(){if(H5)return EI;H5=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return EI=t,EI}var _I,G5;function QT(){if(G5)return _I;G5=1;var t=abe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return _I=e,_I}var TI,V5;function sbe(){if(V5)return TI;V5=1;var t=QT();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return TI=e,TI}var SI,K5;function obe(){if(K5)return SI;K5=1;var t=QT();function e(n){return t(this,n).get(n)}return SI=e,SI}var wI,W5;function lbe(){if(W5)return wI;W5=1;var t=QT();function e(n){return t(this,n).has(n)}return wI=e,wI}var AI,Y5;function ube(){if(Y5)return AI;Y5=1;var t=QT();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return AI=e,AI}var II,X5;function VO(){if(X5)return II;X5=1;var t=ibe(),e=sbe(),n=obe(),r=lbe(),i=ube();function o(l){var u=-1,c=l==null?0:l.length;for(this.clear();++u<c;){var d=l[u];this.set(d[0],d[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,II=o,II}var xI,Q5;function cbe(){if(Q5)return xI;Q5=1;var t=YT(),e=GO(),n=VO(),r=200;function i(o,l){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([o,l]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(o,l),this.size=u.size,this}return xI=i,xI}var RI,Z5;function KO(){if(Z5)return RI;Z5=1;var t=YT(),e=Hye(),n=Gye(),r=Vye(),i=Kye(),o=cbe();function l(u){var c=this.__data__=new t(u);this.size=c.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,RI=l,RI}var kI,J5;function dbe(){if(J5)return kI;J5=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return kI=e,kI}var CI,e$;function fbe(){if(e$)return CI;e$=1;function t(e){return this.__data__.has(e)}return CI=t,CI}var DI,t$;function hbe(){if(t$)return DI;t$=1;var t=VO(),e=dbe(),n=fbe();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,DI=r,DI}var LI,n$;function pbe(){if(n$)return LI;n$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return LI=t,LI}var PI,r$;function mbe(){if(r$)return PI;r$=1;function t(e,n){return e.has(n)}return PI=t,PI}var OI,i$;function uY(){if(i$)return OI;i$=1;var t=hbe(),e=pbe(),n=mbe(),r=1,i=2;function o(l,u,c,d,h,f){var p=c&r,m=l.length,g=u.length;if(m!=g&&!(p&&g>m))return!1;var y=f.get(l),b=f.get(u);if(y&&b)return y==u&&b==l;var v=-1,_=!0,E=c&i?new t:void 0;for(f.set(l,u),f.set(u,l);++v<m;){var T=l[v],A=u[v];if(d)var w=p?d(A,T,v,u,l,f):d(T,A,v,l,u,f);if(w!==void 0){if(w)continue;_=!1;break}if(E){if(!e(u,function(I,C){if(!n(E,C)&&(T===I||h(T,I,c,d,f)))return E.push(C)})){_=!1;break}}else if(!(T===A||h(T,A,c,d,f))){_=!1;break}}return f.delete(l),f.delete(u),_}return OI=o,OI}var MI,a$;function cY(){if(a$)return MI;a$=1;var t=$l(),e=t.Uint8Array;return MI=e,MI}var NI,s$;function gbe(){if(s$)return NI;s$=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return NI=t,NI}var FI,o$;function ybe(){if(o$)return FI;o$=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return FI=t,FI}var UI,l$;function bbe(){if(l$)return UI;l$=1;var t=eb(),e=cY(),n=HO(),r=uY(),i=gbe(),o=ybe(),l=1,u=2,c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Map]",p="[object Number]",m="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",v="[object ArrayBuffer]",_="[object DataView]",E=t?t.prototype:void 0,T=E?E.valueOf:void 0;function A(w,I,C,j,F,K,he){switch(C){case _:if(w.byteLength!=I.byteLength||w.byteOffset!=I.byteOffset)return!1;w=w.buffer,I=I.buffer;case v:return!(w.byteLength!=I.byteLength||!K(new e(w),new e(I)));case c:case d:case p:return n(+w,+I);case h:return w.name==I.name&&w.message==I.message;case m:case y:return w==I+"";case f:var q=i;case g:var Ee=j&l;if(q||(q=o),w.size!=I.size&&!Ee)return!1;var Te=he.get(w);if(Te)return Te==I;j|=u,he.set(w,I);var ge=r(q(w),q(I),j,F,K,he);return he.delete(w),ge;case b:if(T)return T.call(w)==T.call(I)}return!1}return UI=A,UI}var BI,u$;function dY(){if(u$)return BI;u$=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return BI=t,BI}var zI,c$;function fY(){if(c$)return zI;c$=1;var t=dY(),e=Ho();function n(r,i,o){var l=i(r);return e(r)?l:t(l,o(r))}return zI=n,zI}var $I,d$;function vbe(){if(d$)return $I;d$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,l=[];++r<i;){var u=e[r];n(u,r,e)&&(l[o++]=u)}return l}return $I=t,$I}var qI,f$;function hY(){if(f$)return qI;f$=1;function t(){return[]}return qI=t,qI}var jI,h$;function WO(){if(h$)return jI;h$=1;var t=vbe(),e=hY(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(u){return r.call(l,u)}))}:e;return jI=o,jI}var HI,p$;function pY(){if(p$)return HI;p$=1;var t=fY(),e=WO(),n=tb();function r(i){return t(i,n,e)}return HI=r,HI}var GI,m$;function Ebe(){if(m$)return GI;m$=1;var t=pY(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,l,u,c,d,h){var f=u&e,p=t(o),m=p.length,g=t(l),y=g.length;if(m!=y&&!f)return!1;for(var b=m;b--;){var v=p[b];if(!(f?v in l:r.call(l,v)))return!1}var _=h.get(o),E=h.get(l);if(_&&E)return _==l&&E==o;var T=!0;h.set(o,l),h.set(l,o);for(var A=f;++b<m;){v=p[b];var w=o[v],I=l[v];if(c)var C=f?c(I,w,v,l,o,h):c(w,I,v,o,l,h);if(!(C===void 0?w===I||d(w,I,u,c,h):C)){T=!1;break}A||(A=v=="constructor")}if(T&&!A){var j=o.constructor,F=l.constructor;j!=F&&"constructor"in o&&"constructor"in l&&!(typeof j=="function"&&j instanceof j&&typeof F=="function"&&F instanceof F)&&(T=!1)}return h.delete(o),h.delete(l),T}return GI=i,GI}var VI,g$;function _be(){if(g$)return VI;g$=1;var t=Wd(),e=$l(),n=t(e,"DataView");return VI=n,VI}var KI,y$;function Tbe(){if(y$)return KI;y$=1;var t=Wd(),e=$l(),n=t(e,"Promise");return KI=n,KI}var WI,b$;function Sbe(){if(b$)return WI;b$=1;var t=Wd(),e=$l(),n=t(e,"Set");return WI=n,WI}var YI,v$;function wbe(){if(v$)return YI;v$=1;var t=Wd(),e=$l(),n=t(e,"WeakMap");return YI=n,YI}var XI,E$;function ZT(){if(E$)return XI;E$=1;var t=_be(),e=GO(),n=Tbe(),r=Sbe(),i=wbe(),o=Kd(),l=lY(),u="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=l(t),g=l(e),y=l(n),b=l(r),v=l(i),_=o;return(t&&_(new t(new ArrayBuffer(1)))!=p||e&&_(new e)!=u||n&&_(n.resolve())!=d||r&&_(new r)!=h||i&&_(new i)!=f)&&(_=function(E){var T=o(E),A=T==c?E.constructor:void 0,w=A?l(A):"";if(w)switch(w){case m:return p;case g:return u;case y:return d;case b:return h;case v:return f}return T}),XI=_,XI}var QI,_$;function Abe(){if(_$)return QI;_$=1;var t=KO(),e=uY(),n=bbe(),r=Ebe(),i=ZT(),o=Ho(),l=FO(),u=tY(),c=1,d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function g(y,b,v,_,E,T){var A=o(y),w=o(b),I=A?h:i(y),C=w?h:i(b);I=I==d?f:I,C=C==d?f:C;var j=I==f,F=C==f,K=I==C;if(K&&l(y)){if(!l(b))return!1;A=!0,j=!1}if(K&&!j)return T||(T=new t),A||u(y)?e(y,b,v,_,E,T):n(y,b,I,v,_,E,T);if(!(v&c)){var he=j&&m.call(y,"__wrapped__"),q=F&&m.call(b,"__wrapped__");if(he||q){var Ee=he?y.value():y,Te=q?b.value():b;return T||(T=new t),E(Ee,Te,v,_,T)}}return K?(T||(T=new t),r(y,b,v,_,E,T)):!1}return QI=g,QI}var ZI,T$;function mY(){if(T$)return ZI;T$=1;var t=Abe(),e=Tu();function n(r,i,o,l,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,l,n,u)}return ZI=n,ZI}var JI,S$;function Ibe(){if(S$)return JI;S$=1;var t=KO(),e=mY(),n=1,r=2;function i(o,l,u,c){var d=u.length,h=d,f=!c;if(o==null)return!h;for(o=Object(o);d--;){var p=u[d];if(f&&p[2]?p[1]!==o[p[0]]:!(p[0]in o))return!1}for(;++d<h;){p=u[d];var m=p[0],g=o[m],y=p[1];if(f&&p[2]){if(g===void 0&&!(m in o))return!1}else{var b=new t;if(c)var v=c(g,y,m,o,l,b);if(!(v===void 0?e(y,g,n|r,c,b):v))return!1}}return!0}return JI=i,JI}var ex,w$;function gY(){if(w$)return ex;w$=1;var t=Dp();function e(n){return n===n&&!t(n)}return ex=e,ex}var tx,A$;function xbe(){if(A$)return tx;A$=1;var t=gY(),e=tb();function n(r){for(var i=e(r),o=i.length;o--;){var l=i[o],u=r[l];i[o]=[l,u,t(u)]}return i}return tx=n,tx}var nx,I$;function yY(){if(I$)return nx;I$=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return nx=t,nx}var rx,x$;function Rbe(){if(x$)return rx;x$=1;var t=Ibe(),e=xbe(),n=yY();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return rx=r,rx}var ix,R$;function YO(){if(R$)return ix;R$=1;var t=Kd(),e=Tu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return ix=r,ix}var ax,k$;function XO(){if(k$)return ax;k$=1;var t=Ho(),e=YO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||l!=null&&o in Object(l)}return ax=i,ax}var sx,C$;function kbe(){if(C$)return sx;C$=1;var t=VO(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,u=i?i.apply(this,l):l[0],c=o.cache;if(c.has(u))return c.get(u);var d=r.apply(this,l);return o.cache=c.set(u,d)||c,d};return o.cache=new(n.Cache||t),o}return n.Cache=t,sx=n,sx}var ox,D$;function Cbe(){if(D$)return ox;D$=1;var t=kbe(),e=500;function n(r){var i=t(r,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return ox=n,ox}var lx,L$;function Dbe(){if(L$)return lx;L$=1;var t=Cbe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,u,c,d){o.push(c?d.replace(n,"$1"):u||l)}),o});return lx=r,lx}var ux,P$;function Lbe(){if(P$)return ux;P$=1;var t=eb(),e=oY(),n=Ho(),r=YO(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return e(u,l)+"";if(r(u))return o?o.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return ux=l,ux}var cx,O$;function Pbe(){if(O$)return cx;O$=1;var t=Lbe();function e(n){return n==null?"":t(n)}return cx=e,cx}var dx,M$;function bY(){if(M$)return dx;M$=1;var t=Ho(),e=XO(),n=Dbe(),r=Pbe();function i(o,l){return t(o)?o:e(o,l)?[o]:n(r(o))}return dx=i,dx}var fx,N$;function JT(){if(N$)return fx;N$=1;var t=YO();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return fx=e,fx}var hx,F$;function vY(){if(F$)return hx;F$=1;var t=bY(),e=JT();function n(r,i){i=t(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[e(i[o++])];return o&&o==l?r:void 0}return hx=n,hx}var px,U$;function Obe(){if(U$)return px;U$=1;var t=vY();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return px=e,px}var mx,B$;function Mbe(){if(B$)return mx;B$=1;function t(e,n){return e!=null&&n in Object(e)}return mx=t,mx}var gx,z$;function Nbe(){if(z$)return gx;z$=1;var t=bY(),e=JW(),n=Ho(),r=eY(),i=UO(),o=JT();function l(u,c,d){c=t(c,u);for(var h=-1,f=c.length,p=!1;++h<f;){var m=o(c[h]);if(!(p=u!=null&&d(u,m)))break;u=u[m]}return p||++h!=f?p:(f=u==null?0:u.length,!!f&&i(f)&&r(m,f)&&(n(u)||e(u)))}return gx=l,gx}var yx,$$;function Fbe(){if($$)return yx;$$=1;var t=Mbe(),e=Nbe();function n(r,i){return r!=null&&e(r,i,t)}return yx=n,yx}var bx,q$;function Ube(){if(q$)return bx;q$=1;var t=mY(),e=Obe(),n=Fbe(),r=XO(),i=gY(),o=yY(),l=JT(),u=1,c=2;function d(h,f){return r(h)&&i(f)?o(l(h),f):function(p){var m=e(p,h);return m===void 0&&m===f?n(p,h):t(f,m,u|c)}}return bx=d,bx}var vx,j$;function Bbe(){if(j$)return vx;j$=1;function t(e){return function(n){return n?.[e]}}return vx=t,vx}var Ex,H$;function zbe(){if(H$)return Ex;H$=1;var t=vY();function e(n){return function(r){return t(r,n)}}return Ex=e,Ex}var _x,G$;function $be(){if(G$)return _x;G$=1;var t=Bbe(),e=zbe(),n=XO(),r=JT();function i(o){return n(o)?t(r(o)):e(o)}return _x=i,_x}var Tx,V$;function qbe(){if(V$)return Tx;V$=1;var t=Rbe(),e=Ube(),n=sY(),r=Ho(),i=$be();function o(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return Tx=o,Tx}var Sx,K$;function jbe(){if(K$)return Sx;K$=1;var t=KT();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var l=i.length,u=r?l:-1,c=Object(i);(r?u--:++u<l)&&o(c[u],u,c)!==!1;);return i}}return Sx=e,Sx}var wx,W$;function Hbe(){if(W$)return wx;W$=1;var t=aY(),e=jbe(),n=e(t);return wx=n,wx}var Ax,Y$;function Gbe(){if(Y$)return Ax;Y$=1;var t=Hbe(),e=KT();function n(r,i){var o=-1,l=e(r)?Array(r.length):[];return t(r,function(u,c,d){l[++o]=i(u,c,d)}),l}return Ax=n,Ax}var Ix,X$;function Vbe(){if(X$)return Ix;X$=1;var t=oY(),e=qbe(),n=Gbe(),r=Ho();function i(o,l){var u=r(o)?t:n;return u(o,e(l,3))}return Ix=i,Ix}var Q$;function Kbe(){if(Q$)return yf;Q$=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.flattenNames=void 0;var t=Rye(),e=c(t),n=qO(),r=c(n),i=Uye(),o=c(i),l=Vbe(),u=c(l);function c(h){return h&&h.__esModule?h:{default:h}}var d=yf.flattenNames=function h(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=[];return(0,u.default)(f,function(m){Array.isArray(m)?h(m).map(function(g){return p.push(g)}):(0,o.default)(m)?(0,r.default)(m,function(g,y){g===!0&&p.push(y),p.push(y+"-"+g)}):(0,e.default)(m)&&p.push(m)}),p};return yf.default=d,yf}var bf={},xx,Z$;function Wbe(){if(Z$)return xx;Z$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return xx=t,xx}var Rx,J$;function Ybe(){if(J$)return Rx;J$=1;var t=Wd(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Rx=e,Rx}var kx,e8;function EY(){if(e8)return kx;e8=1;var t=Ybe();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return kx=e,kx}var Cx,t8;function _Y(){if(t8)return Cx;t8=1;var t=EY(),e=HO(),n=Object.prototype,r=n.hasOwnProperty;function i(o,l,u){var c=o[l];(!(r.call(o,l)&&e(c,u))||u===void 0&&!(l in o))&&t(o,l,u)}return Cx=i,Cx}var Dx,n8;function eS(){if(n8)return Dx;n8=1;var t=_Y(),e=EY();function n(r,i,o,l){var u=!o;o||(o={});for(var c=-1,d=i.length;++c<d;){var h=i[c],f=l?l(o[h],r[h],h,o,r):void 0;f===void 0&&(f=r[h]),u?e(o,h,f):t(o,h,f)}return o}return Dx=n,Dx}var Lx,r8;function Xbe(){if(r8)return Lx;r8=1;var t=eS(),e=tb();function n(r,i){return r&&t(i,e(i),r)}return Lx=n,Lx}var Px,i8;function Qbe(){if(i8)return Px;i8=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return Px=t,Px}var Ox,a8;function Zbe(){if(a8)return Ox;a8=1;var t=Dp(),e=$O(),n=Qbe(),r=Object.prototype,i=r.hasOwnProperty;function o(l){if(!t(l))return n(l);var u=e(l),c=[];for(var d in l)d=="constructor"&&(u||!i.call(l,d))||c.push(d);return c}return Ox=o,Ox}var Mx,s8;function QO(){if(s8)return Mx;s8=1;var t=nY(),e=Zbe(),n=KT();function r(i){return n(i)?t(i,!0):e(i)}return Mx=r,Mx}var Nx,o8;function Jbe(){if(o8)return Nx;o8=1;var t=eS(),e=QO();function n(r,i){return r&&t(i,e(i),r)}return Nx=n,Nx}var Xm={exports:{}};Xm.exports;var l8;function eve(){return l8||(l8=1,(function(t,e){var n=$l(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o?n.Buffer:void 0,u=l?l.allocUnsafe:void 0;function c(d,h){if(h)return d.slice();var f=d.length,p=u?u(f):new d.constructor(f);return d.copy(p),p}t.exports=c})(Xm,Xm.exports)),Xm.exports}var Fx,u8;function tve(){if(u8)return Fx;u8=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return Fx=t,Fx}var Ux,c8;function nve(){if(c8)return Ux;c8=1;var t=eS(),e=WO();function n(r,i){return t(r,e(r),i)}return Ux=n,Ux}var Bx,d8;function TY(){if(d8)return Bx;d8=1;var t=dY(),e=jO(),n=WO(),r=hY(),i=Object.getOwnPropertySymbols,o=i?function(l){for(var u=[];l;)t(u,n(l)),l=e(l);return u}:r;return Bx=o,Bx}var zx,f8;function rve(){if(f8)return zx;f8=1;var t=eS(),e=TY();function n(r,i){return t(r,e(r),i)}return zx=n,zx}var $x,h8;function ive(){if(h8)return $x;h8=1;var t=fY(),e=TY(),n=QO();function r(i){return t(i,n,e)}return $x=r,$x}var qx,p8;function ave(){if(p8)return qx;p8=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return qx=n,qx}var jx,m8;function ZO(){if(m8)return jx;m8=1;var t=cY();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return jx=e,jx}var Hx,g8;function sve(){if(g8)return Hx;g8=1;var t=ZO();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Hx=e,Hx}var Gx,y8;function ove(){if(y8)return Gx;y8=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return Gx=e,Gx}var Vx,b8;function lve(){if(b8)return Vx;b8=1;var t=eb(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Vx=r,Vx}var Kx,v8;function uve(){if(v8)return Kx;v8=1;var t=ZO();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Kx=e,Kx}var Wx,E8;function cve(){if(E8)return Wx;E8=1;var t=ZO(),e=sve(),n=ove(),r=lve(),i=uve(),o="[object Boolean]",l="[object Date]",u="[object Map]",c="[object Number]",d="[object RegExp]",h="[object Set]",f="[object String]",p="[object Symbol]",m="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",v="[object Int8Array]",_="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",A="[object Uint8ClampedArray]",w="[object Uint16Array]",I="[object Uint32Array]";function C(j,F,K){var he=j.constructor;switch(F){case m:return t(j);case o:case l:return new he(+j);case g:return e(j,K);case y:case b:case v:case _:case E:case T:case A:case w:case I:return i(j,K);case u:return new he;case c:case f:return new he(j);case d:return n(j);case h:return new he;case p:return r(j)}}return Wx=C,Wx}var Yx,_8;function dve(){if(_8)return Yx;_8=1;var t=Dp(),e=Object.create,n=(function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return Yx=n,Yx}var Xx,T8;function fve(){if(T8)return Xx;T8=1;var t=dve(),e=jO(),n=$O();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return Xx=r,Xx}var Qx,S8;function hve(){if(S8)return Qx;S8=1;var t=ZT(),e=Tu(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return Qx=r,Qx}var Zx,w8;function pve(){if(w8)return Zx;w8=1;var t=hve(),e=BO(),n=zO(),r=n&&n.isMap,i=r?e(r):t;return Zx=i,Zx}var Jx,A8;function mve(){if(A8)return Jx;A8=1;var t=ZT(),e=Tu(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return Jx=r,Jx}var eR,I8;function gve(){if(I8)return eR;I8=1;var t=mve(),e=BO(),n=zO(),r=n&&n.isSet,i=r?e(r):t;return eR=i,eR}var tR,x8;function yve(){if(x8)return tR;x8=1;var t=KO(),e=Wbe(),n=_Y(),r=Xbe(),i=Jbe(),o=eve(),l=tve(),u=nve(),c=rve(),d=pY(),h=ive(),f=ZT(),p=ave(),m=cve(),g=fve(),y=Ho(),b=FO(),v=pve(),_=Dp(),E=gve(),T=tb(),A=QO(),w=1,I=2,C=4,j="[object Arguments]",F="[object Array]",K="[object Boolean]",he="[object Date]",q="[object Error]",Ee="[object Function]",Te="[object GeneratorFunction]",ge="[object Map]",Be="[object Number]",He="[object Object]",Ye="[object RegExp]",Ie="[object Set]",we="[object String]",je="[object Symbol]",Ce="[object WeakMap]",dt="[object ArrayBuffer]",Le="[object DataView]",Pe="[object Float32Array]",it="[object Float64Array]",J="[object Int8Array]",G="[object Int16Array]",P="[object Int32Array]",$="[object Uint8Array]",ae="[object Uint8ClampedArray]",ne="[object Uint16Array]",$e="[object Uint32Array]",Qe={};Qe[j]=Qe[F]=Qe[dt]=Qe[Le]=Qe[K]=Qe[he]=Qe[Pe]=Qe[it]=Qe[J]=Qe[G]=Qe[P]=Qe[ge]=Qe[Be]=Qe[He]=Qe[Ye]=Qe[Ie]=Qe[we]=Qe[je]=Qe[$]=Qe[ae]=Qe[ne]=Qe[$e]=!0,Qe[q]=Qe[Ee]=Qe[Ce]=!1;function Ve(We,Ke,Je,ft,nt,bt){var tn,zt=Ke&w,Wt=Ke&I,Ze=Ke&C;if(Je&&(tn=nt?Je(We,ft,nt,bt):Je(We)),tn!==void 0)return tn;if(!_(We))return We;var At=y(We);if(At){if(tn=p(We),!zt)return l(We,tn)}else{var mn=f(We),xn=mn==Ee||mn==Te;if(b(We))return o(We,zt);if(mn==He||mn==j||xn&&!nt){if(tn=Wt||xn?{}:g(We),!zt)return Wt?c(We,i(tn,We)):u(We,r(tn,We))}else{if(!Qe[mn])return nt?We:{};tn=m(We,mn,zt)}}bt||(bt=new t);var Nn=bt.get(We);if(Nn)return Nn;bt.set(We,tn),E(We)?We.forEach(function(_t){tn.add(Ve(_t,Ke,Je,_t,We,bt))}):v(We)&&We.forEach(function(_t,It){tn.set(It,Ve(_t,Ke,Je,It,We,bt))});var Yn=Ze?Wt?h:d:Wt?A:T,Tr=At?void 0:Yn(We);return e(Tr||We,function(_t,It){Tr&&(It=_t,_t=We[It]),n(tn,It,Ve(_t,Ke,Je,It,We,bt))}),tn}return tR=Ve,tR}var nR,R8;function bve(){if(R8)return nR;R8=1;var t=yve(),e=1,n=4;function r(i){return t(i,e|n)}return nR=r,nR}var k8;function vve(){if(k8)return bf;k8=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.mergeClasses=void 0;var t=qO(),e=o(t),n=bve(),r=o(n),i=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])}return u};function o(u){return u&&u.__esModule?u:{default:u}}var l=bf.mergeClasses=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],h=c.default&&(0,r.default)(c.default)||{};return d.map(function(f){var p=c[f];return p&&(0,e.default)(p,function(m,g){h[g]||(h[g]={}),h[g]=i({},h[g],p[g])}),f}),h};return bf.default=l,bf}var vf={},C8;function Eve(){if(C8)return vf;C8=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.autoprefix=void 0;var t=qO(),e=r(t),n=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l};function r(l){return l&&l.__esModule?l:{default:l}}var i={borderRadius:function(u){return{msBorderRadius:u,MozBorderRadius:u,OBorderRadius:u,WebkitBorderRadius:u,borderRadius:u}},boxShadow:function(u){return{msBoxShadow:u,MozBoxShadow:u,OBoxShadow:u,WebkitBoxShadow:u,boxShadow:u}},userSelect:function(u){return{WebkitTouchCallout:u,KhtmlUserSelect:u,MozUserSelect:u,msUserSelect:u,WebkitUserSelect:u,userSelect:u}},flex:function(u){return{WebkitBoxFlex:u,MozBoxFlex:u,WebkitFlex:u,msFlex:u,flex:u}},flexBasis:function(u){return{WebkitFlexBasis:u,flexBasis:u}},justifyContent:function(u){return{WebkitJustifyContent:u,justifyContent:u}},transition:function(u){return{msTransition:u,MozTransition:u,OTransition:u,WebkitTransition:u,transition:u}},transform:function(u){return{msTransform:u,MozTransform:u,OTransform:u,WebkitTransform:u,transform:u}},absolute:function(u){var c=u&&u.split(" ");return{position:"absolute",top:c&&c[0],right:c&&c[1],bottom:c&&c[2],left:c&&c[3]}},extend:function(u,c){var d=c[u];return d||{extend:u}}},o=vf.autoprefix=function(u){var c={};return(0,e.default)(u,function(d,h){var f={};(0,e.default)(d,function(p,m){var g=i[m];g?f=n({},f,g(p)):f[m]=p}),c[h]=f}),c};return vf.default=o,vf}var Ef={},D8;function _ve(){if(D8)return Ef;D8=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.hover=void 0;var t=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},e=co(),n=r(e);function r(c){return c&&c.__esModule?c:{default:c}}function i(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function o(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function l(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var u=Ef.hover=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(f){l(p,f);function p(){var m,g,y,b;i(this,p);for(var v=arguments.length,_=Array(v),E=0;E<v;E++)_[E]=arguments[E];return b=(g=(y=o(this,(m=p.__proto__||Object.getPrototypeOf(p)).call.apply(m,[this].concat(_))),y),y.state={hover:!1},y.handleMouseOver=function(){return y.setState({hover:!0})},y.handleMouseOut=function(){return y.setState({hover:!1})},y.render=function(){return n.default.createElement(h,{onMouseOver:y.handleMouseOver,onMouseOut:y.handleMouseOut},n.default.createElement(d,t({},y.props,y.state)))},g),o(y,b)}return p})(n.default.Component)};return Ef.default=u,Ef}var _f={},L8;function Tve(){if(L8)return _f;L8=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.active=void 0;var t=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])}return c},e=co(),n=r(e);function r(c){return c&&c.__esModule?c:{default:c}}function i(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function o(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function l(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var u=_f.active=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(f){l(p,f);function p(){var m,g,y,b;i(this,p);for(var v=arguments.length,_=Array(v),E=0;E<v;E++)_[E]=arguments[E];return b=(g=(y=o(this,(m=p.__proto__||Object.getPrototypeOf(p)).call.apply(m,[this].concat(_))),y),y.state={active:!1},y.handleMouseDown=function(){return y.setState({active:!0})},y.handleMouseUp=function(){return y.setState({active:!1})},y.render=function(){return n.default.createElement(h,{onMouseDown:y.handleMouseDown,onMouseUp:y.handleMouseUp},n.default.createElement(d,t({},y.props,y.state)))},g),o(y,b)}return p})(n.default.Component)};return _f.default=u,_f}var Wb={},P8;function Sve(){if(P8)return Wb;P8=1,Object.defineProperty(Wb,"__esModule",{value:!0});var t=function(n,r){var i={},o=function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i[u]=c};return n===0&&o("first-child"),n===r-1&&o("last-child"),(n===0||n%2===0)&&o("even"),Math.abs(n%2)===1&&o("odd"),o("nth-child",n),i};return Wb.default=t,Wb}var O8;function wve(){if(O8)return Qa;O8=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.ReactCSS=Qa.loop=Qa.handleActive=Qa.handleHover=Qa.hover=void 0;var t=Kbe(),e=p(t),n=vve(),r=p(n),i=Eve(),o=p(i),l=_ve(),u=p(l),c=Tve(),d=p(c),h=Sve(),f=p(h);function p(g){return g&&g.__esModule?g:{default:g}}Qa.hover=u.default,Qa.handleHover=u.default,Qa.handleActive=d.default,Qa.loop=f.default;var m=Qa.ReactCSS=function(y){for(var b=arguments.length,v=Array(b>1?b-1:0),_=1;_<b;_++)v[_-1]=arguments[_];var E=(0,e.default)(v),T=(0,r.default)(y,E);return(0,o.default)(T)};return Qa.default=m,Qa}var JO=wve();const cr=Na(JO);var Ave=function(e,n,r,i,o){var l=o.clientWidth,u=o.clientHeight,c=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,d=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=c-(o.getBoundingClientRect().left+window.pageXOffset),f=d-(o.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var p=void 0;if(f<0?p=0:f>u?p=1:p=Math.round(f*100/u)/100,n.a!==p)return{h:n.h,s:n.s,l:n.l,a:p,source:"rgb"}}else{var m=void 0;if(h<0?m=0:h>l?m=1:m=Math.round(h*100/l)/100,i!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}return null},rR={},Ive=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var o=i?new i:document.createElement("canvas");o.width=r*2,o.height=r*2;var l=o.getContext("2d");return l?(l.fillStyle=e,l.fillRect(0,0,o.width,o.height),l.fillStyle=n,l.fillRect(0,0,r,r),l.translate(r,r),l.fillRect(0,0,r,r),o.toDataURL()):null},xve=function(e,n,r,i){var o=e+"-"+n+"-"+r+(i?"-server":"");if(rR[o])return rR[o];var l=Ive(e,n,r,i);return rR[o]=l,l},M8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lp=function(e){var n=e.white,r=e.grey,i=e.size,o=e.renderers,l=e.borderRadius,u=e.boxShadow,c=e.children,d=cr({default:{grid:{borderRadius:l,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+xve(n,r,i,o.canvas)+") center left"}}});return Bt.isValidElement(c)?Me.cloneElement(c,M8({},c.props,{style:M8({},c.props.style,d.grid)})):Me.createElement("div",{style:d.grid})};Lp.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Rve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kve=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function Cve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eM=(function(t){Dve(e,t);function e(){var n,r,i,o;Cve(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return o=(r=(i=N8(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(u))),i),i.handleChange=function(d){var h=Ave(d,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,d)},i.handleMouseDown=function(d){i.handleChange(d),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),N8(i,o)}return kve(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,o=cr({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Rve({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Me.createElement("div",{style:o.alpha},Me.createElement("div",{style:o.checkboard},Me.createElement(Lp,{renderers:this.props.renderers})),Me.createElement("div",{style:o.gradient}),Me.createElement("div",{style:o.container,ref:function(u){return r.container=u},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Me.createElement("div",{style:o.pointer},this.props.pointer?Me.createElement(this.props.pointer,this.props):Me.createElement("div",{style:o.slider}))))}}]),e})(Bt.PureComponent||Bt.Component),Lve=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function Pve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ove(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fve=1,SY=38,Uve=40,Bve=[SY,Uve],zve=function(e){return Bve.indexOf(e)>-1},$ve=function(e){return Number(String(e).replace(/%/g,""))},qve=1,Mr=(function(t){Nve(e,t);function e(n){Ove(this,e);var r=Mve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var o=$ve(i.target.value);if(!isNaN(o)&&zve(i.keyCode)){var l=r.getArrowOffset(),u=i.keyCode===SY?o+l:o-l;r.setUpdatedValue(u,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var o=Math.round(r.props.value+i.movementX);o>=0&&o<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(o),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+qve++,r}return Lve(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Pve({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Fve}},{key:"setUpdatedValue",value:function(r,i){var o=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(o,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=cr({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return Me.createElement("div",{style:i.wrap},Me.createElement("input",{id:this.inputId,style:i.input,ref:function(l){return r.input=l},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?Me.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e})(Bt.PureComponent||Bt.Component),jve=function(e,n,r,i){var o=i.clientWidth,l=i.clientHeight,u=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,d=u-(i.getBoundingClientRect().left+window.pageXOffset),h=c-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var f=void 0;if(h<0)f=359;else if(h>l)f=0;else{var p=-(h*100/l)+100;f=360*p/100}if(r.h!==f)return{h:f,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var m=void 0;if(d<0)m=0;else if(d>o)m=359;else{var g=d*100/o;m=360*g/100}if(r.h!==m)return{h:m,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Hve=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function Gve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F8(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pp=(function(t){Vve(e,t);function e(){var n,r,i,o;Gve(this,e);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return o=(r=(i=F8(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(u))),i),i.handleChange=function(d){var h=jve(d,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,d)},i.handleMouseDown=function(d){i.handleChange(d),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),F8(i,o)}return Hve(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,o=i===void 0?"horizontal":i,l=cr({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:o==="vertical"});return Me.createElement("div",{style:l.hue},Me.createElement("div",{className:"hue-"+o,style:l.container,ref:function(c){return r.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Me.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),Me.createElement("div",{style:l.pointer},this.props.pointer?Me.createElement(this.props.pointer,this.props):Me.createElement("div",{style:l.slider}))))}}]),e})(Bt.PureComponent||Bt.Component),iR={exports:{}},aR,U8;function Kve(){if(U8)return aR;U8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aR=t,aR}var sR,B8;function Wve(){if(B8)return sR;B8=1;var t=Kve();function e(){}function n(){}return n.resetWarningCache=e,sR=function(){function r(l,u,c,d,h,f){if(f!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},sR}var z8;function nb(){return z8||(z8=1,iR.exports=Wve()()),iR.exports}var Yve=nb();const Sn=Na(Yve);function Xve(){this.__data__=[],this.size=0}function rb(t,e){return t===e||t!==t&&e!==e}function tS(t,e){for(var n=t.length;n--;)if(rb(t[n][0],e))return n;return-1}var Qve=Array.prototype,Zve=Qve.splice;function Jve(t){var e=this.__data__,n=tS(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Zve.call(e,n,1),--this.size,!0}function e0e(t){var e=this.__data__,n=tS(e,t);return n<0?void 0:e[n][1]}function t0e(t){return tS(this.__data__,t)>-1}function n0e(t,e){var n=this.__data__,r=tS(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Su(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Su.prototype.clear=Xve;Su.prototype.delete=Jve;Su.prototype.get=e0e;Su.prototype.has=t0e;Su.prototype.set=n0e;function r0e(){this.__data__=new Su,this.size=0}function i0e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function a0e(t){return this.__data__.get(t)}function s0e(t){return this.__data__.has(t)}var wY=typeof global=="object"&&global&&global.Object===Object&&global,o0e=typeof self=="object"&&self&&self.Object===Object&&self,Go=wY||o0e||Function("return this")(),Sc=Go.Symbol,AY=Object.prototype,l0e=AY.hasOwnProperty,u0e=AY.toString,lm=Sc?Sc.toStringTag:void 0;function c0e(t){var e=l0e.call(t,lm),n=t[lm];try{t[lm]=void 0;var r=!0}catch{}var i=u0e.call(t);return r&&(e?t[lm]=n:delete t[lm]),i}var d0e=Object.prototype,f0e=d0e.toString;function h0e(t){return f0e.call(t)}var p0e="[object Null]",m0e="[object Undefined]",$8=Sc?Sc.toStringTag:void 0;function Yd(t){return t==null?t===void 0?m0e:p0e:$8&&$8 in Object(t)?c0e(t):h0e(t)}function so(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var g0e="[object AsyncFunction]",y0e="[object Function]",b0e="[object GeneratorFunction]",v0e="[object Proxy]";function tM(t){if(!so(t))return!1;var e=Yd(t);return e==y0e||e==b0e||e==g0e||e==v0e}var oR=Go["__core-js_shared__"],q8=(function(){var t=/[^.]+$/.exec(oR&&oR.keys&&oR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function E0e(t){return!!q8&&q8 in t}var _0e=Function.prototype,T0e=_0e.toString;function Xd(t){if(t!=null){try{return T0e.call(t)}catch{}try{return t+""}catch{}}return""}var S0e=/[\\^$.*+?()[\]{}|]/g,w0e=/^\[object .+?Constructor\]$/,A0e=Function.prototype,I0e=Object.prototype,x0e=A0e.toString,R0e=I0e.hasOwnProperty,k0e=RegExp("^"+x0e.call(R0e).replace(S0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function C0e(t){if(!so(t)||E0e(t))return!1;var e=tM(t)?k0e:w0e;return e.test(Xd(t))}function D0e(t,e){return t?.[e]}function Qd(t,e){var n=D0e(t,e);return C0e(n)?n:void 0}var fy=Qd(Go,"Map"),hy=Qd(Object,"create");function L0e(){this.__data__=hy?hy(null):{},this.size=0}function P0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var O0e="__lodash_hash_undefined__",M0e=Object.prototype,N0e=M0e.hasOwnProperty;function F0e(t){var e=this.__data__;if(hy){var n=e[t];return n===O0e?void 0:n}return N0e.call(e,t)?e[t]:void 0}var U0e=Object.prototype,B0e=U0e.hasOwnProperty;function z0e(t){var e=this.__data__;return hy?e[t]!==void 0:B0e.call(e,t)}var $0e="__lodash_hash_undefined__";function q0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=hy&&e===void 0?$0e:e,this}function Fd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fd.prototype.clear=L0e;Fd.prototype.delete=P0e;Fd.prototype.get=F0e;Fd.prototype.has=z0e;Fd.prototype.set=q0e;function j0e(){this.size=0,this.__data__={hash:new Fd,map:new(fy||Su),string:new Fd}}function H0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function nS(t,e){var n=t.__data__;return H0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function G0e(t){var e=nS(this,t).delete(t);return this.size-=e?1:0,e}function V0e(t){return nS(this,t).get(t)}function K0e(t){return nS(this,t).has(t)}function W0e(t,e){var n=nS(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wu.prototype.clear=j0e;wu.prototype.delete=G0e;wu.prototype.get=V0e;wu.prototype.has=K0e;wu.prototype.set=W0e;var Y0e=200;function X0e(t,e){var n=this.__data__;if(n instanceof Su){var r=n.__data__;if(!fy||r.length<Y0e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wu(r)}return n.set(t,e),this.size=n.size,this}function Ol(t){var e=this.__data__=new Su(t);this.size=e.size}Ol.prototype.clear=r0e;Ol.prototype.delete=i0e;Ol.prototype.get=a0e;Ol.prototype.has=s0e;Ol.prototype.set=X0e;var XE=(function(){try{var t=Qd(Object,"defineProperty");return t({},"",{}),t}catch{}})();function nM(t,e,n){e=="__proto__"&&XE?XE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function YC(t,e,n){(n!==void 0&&!rb(t[e],n)||n===void 0&&!(e in t))&&nM(t,e,n)}function Q0e(t){return function(e,n,r){for(var i=-1,o=Object(e),l=r(e),u=l.length;u--;){var c=l[++i];if(n(o[c],c,o)===!1)break}return e}}var IY=Q0e(),xY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,j8=xY&&typeof module=="object"&&module&&!module.nodeType&&module,Z0e=j8&&j8.exports===xY,H8=Z0e?Go.Buffer:void 0;H8&&H8.allocUnsafe;function J0e(t,e){return t.slice()}var QE=Go.Uint8Array;function eEe(t){var e=new t.constructor(t.byteLength);return new QE(e).set(new QE(t)),e}function tEe(t,e){var n=eEe(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function nEe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var G8=Object.create,rEe=(function(){function t(){}return function(e){if(!so(e))return{};if(G8)return G8(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}})();function RY(t,e){return function(n){return t(e(n))}}var kY=RY(Object.getPrototypeOf,Object),iEe=Object.prototype;function rM(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||iEe;return t===n}function aEe(t){return typeof t.constructor=="function"&&!rM(t)?rEe(kY(t)):{}}function wc(t){return t!=null&&typeof t=="object"}var sEe="[object Arguments]";function V8(t){return wc(t)&&Yd(t)==sEe}var CY=Object.prototype,oEe=CY.hasOwnProperty,lEe=CY.propertyIsEnumerable,ZE=V8((function(){return arguments})())?V8:function(t){return wc(t)&&oEe.call(t,"callee")&&!lEe.call(t,"callee")},Ds=Array.isArray,uEe=9007199254740991;function iM(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uEe}function Op(t){return t!=null&&iM(t.length)&&!tM(t)}function cEe(t){return wc(t)&&Op(t)}function dEe(){return!1}var DY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,K8=DY&&typeof module=="object"&&module&&!module.nodeType&&module,fEe=K8&&K8.exports===DY,W8=fEe?Go.Buffer:void 0,hEe=W8?W8.isBuffer:void 0,JE=hEe||dEe,pEe="[object Object]",mEe=Function.prototype,gEe=Object.prototype,LY=mEe.toString,yEe=gEe.hasOwnProperty,bEe=LY.call(Object);function vEe(t){if(!wc(t)||Yd(t)!=pEe)return!1;var e=kY(t);if(e===null)return!0;var n=yEe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&LY.call(n)==bEe}var EEe="[object Arguments]",_Ee="[object Array]",TEe="[object Boolean]",SEe="[object Date]",wEe="[object Error]",AEe="[object Function]",IEe="[object Map]",xEe="[object Number]",REe="[object Object]",kEe="[object RegExp]",CEe="[object Set]",DEe="[object String]",LEe="[object WeakMap]",PEe="[object ArrayBuffer]",OEe="[object DataView]",MEe="[object Float32Array]",NEe="[object Float64Array]",FEe="[object Int8Array]",UEe="[object Int16Array]",BEe="[object Int32Array]",zEe="[object Uint8Array]",$Ee="[object Uint8ClampedArray]",qEe="[object Uint16Array]",jEe="[object Uint32Array]",vi={};vi[MEe]=vi[NEe]=vi[FEe]=vi[UEe]=vi[BEe]=vi[zEe]=vi[$Ee]=vi[qEe]=vi[jEe]=!0;vi[EEe]=vi[_Ee]=vi[PEe]=vi[TEe]=vi[OEe]=vi[SEe]=vi[wEe]=vi[AEe]=vi[IEe]=vi[xEe]=vi[REe]=vi[kEe]=vi[CEe]=vi[DEe]=vi[LEe]=!1;function HEe(t){return wc(t)&&iM(t.length)&&!!vi[Yd(t)]}function GEe(t){return function(e){return t(e)}}var PY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ag=PY&&typeof module=="object"&&module&&!module.nodeType&&module,VEe=Ag&&Ag.exports===PY,lR=VEe&&wY.process,Y8=(function(){try{var t=Ag&&Ag.require&&Ag.require("util").types;return t||lR&&lR.binding&&lR.binding("util")}catch{}})(),X8=Y8&&Y8.isTypedArray,aM=X8?GEe(X8):HEe;function XC(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var KEe=Object.prototype,WEe=KEe.hasOwnProperty;function YEe(t,e,n){var r=t[e];(!(WEe.call(t,e)&&rb(r,n))||n===void 0&&!(e in t))&&nM(t,e,n)}function XEe(t,e,n,r){var i=!n;n||(n={});for(var o=-1,l=e.length;++o<l;){var u=e[o],c=void 0;c===void 0&&(c=t[u]),i?nM(n,u,c):YEe(n,u,c)}return n}function QEe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var ZEe=9007199254740991,JEe=/^(?:0|[1-9]\d*)$/;function sM(t,e){var n=typeof t;return e=e??ZEe,!!e&&(n=="number"||n!="symbol"&&JEe.test(t))&&t>-1&&t%1==0&&t<e}var e_e=Object.prototype,t_e=e_e.hasOwnProperty;function OY(t,e){var n=Ds(t),r=!n&&ZE(t),i=!n&&!r&&JE(t),o=!n&&!r&&!i&&aM(t),l=n||r||i||o,u=l?QEe(t.length,String):[],c=u.length;for(var d in t)(e||t_e.call(t,d))&&!(l&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||sM(d,c)))&&u.push(d);return u}function n_e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var r_e=Object.prototype,i_e=r_e.hasOwnProperty;function a_e(t){if(!so(t))return n_e(t);var e=rM(t),n=[];for(var r in t)r=="constructor"&&(e||!i_e.call(t,r))||n.push(r);return n}function MY(t){return Op(t)?OY(t,!0):a_e(t)}function s_e(t){return XEe(t,MY(t))}function o_e(t,e,n,r,i,o,l){var u=XC(t,n),c=XC(e,n),d=l.get(c);if(d){YC(t,n,d);return}var h=o?o(u,c,n+"",t,e,l):void 0,f=h===void 0;if(f){var p=Ds(c),m=!p&&JE(c),g=!p&&!m&&aM(c);h=c,p||m||g?Ds(u)?h=u:cEe(u)?h=nEe(u):m?(f=!1,h=J0e(c)):g?(f=!1,h=tEe(c)):h=[]:vEe(c)||ZE(c)?(h=u,ZE(u)?h=s_e(u):(!so(u)||tM(u))&&(h=aEe(c))):f=!1}f&&(l.set(c,h),i(h,c,r,o,l),l.delete(c)),YC(t,n,h)}function NY(t,e,n,r,i){t!==e&&IY(e,function(o,l){if(i||(i=new Ol),so(o))o_e(t,e,l,n,NY,r,i);else{var u=r?r(XC(t,l),o,l+"",t,e,i):void 0;u===void 0&&(u=o),YC(t,l,u)}},MY)}function rS(t){return t}function l_e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Q8=Math.max;function u_e(t,e,n){return e=Q8(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Q8(r.length-e,0),l=Array(o);++i<o;)l[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(l),l_e(t,this,u)}}function c_e(t){return function(){return t}}var d_e=XE?function(t,e){return XE(t,"toString",{configurable:!0,enumerable:!1,value:c_e(e),writable:!0})}:rS,f_e=800,h_e=16,p_e=Date.now;function m_e(t){var e=0,n=0;return function(){var r=p_e(),i=h_e-(r-n);if(n=r,i>0){if(++e>=f_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var g_e=m_e(d_e);function y_e(t,e){return g_e(u_e(t,e,rS),t+"")}function b_e(t,e,n){if(!so(n))return!1;var r=typeof e;return(r=="number"?Op(n)&&sM(e,n.length):r=="string"&&e in n)?rb(n[e],t):!1}function v_e(t){return y_e(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,l&&b_e(n[0],n[1],l)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,o)}return e})}var us=v_e(function(t,e,n){NY(t,e,n)}),ib=function(e){var n=e.zDepth,r=e.radius,i=e.background,o=e.children,l=e.styles,u=l===void 0?{}:l,c=cr(us({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":n===1});return Me.createElement("div",{style:c.wrap},Me.createElement("div",{style:c.bg}),Me.createElement("div",{style:c.content},o))};ib.propTypes={background:Sn.string,zDepth:Sn.oneOf([0,1,2,3,4,5]),radius:Sn.number,styles:Sn.object};ib.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var uR=function(){return Go.Date.now()},E_e=/\s/;function __e(t){for(var e=t.length;e--&&E_e.test(t.charAt(e)););return e}var T_e=/^\s+/;function S_e(t){return t&&t.slice(0,__e(t)+1).replace(T_e,"")}var w_e="[object Symbol]";function iS(t){return typeof t=="symbol"||wc(t)&&Yd(t)==w_e}var Z8=NaN,A_e=/^[-+]0x[0-9a-f]+$/i,I_e=/^0b[01]+$/i,x_e=/^0o[0-7]+$/i,R_e=parseInt;function J8(t){if(typeof t=="number")return t;if(iS(t))return Z8;if(so(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=so(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=S_e(t);var n=I_e.test(t);return n||x_e.test(t)?R_e(t.slice(2),n?2:8):A_e.test(t)?Z8:+t}var k_e="Expected a function",C_e=Math.max,D_e=Math.min;function FY(t,e,n){var r,i,o,l,u,c,d=0,h=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(k_e);e=J8(e)||0,so(n)&&(h=!!n.leading,f="maxWait"in n,o=f?C_e(J8(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p);function m(w){var I=r,C=i;return r=i=void 0,d=w,l=t.apply(C,I),l}function g(w){return d=w,u=setTimeout(v,e),h?m(w):l}function y(w){var I=w-c,C=w-d,j=e-I;return f?D_e(j,o-C):j}function b(w){var I=w-c,C=w-d;return c===void 0||I>=e||I<0||f&&C>=o}function v(){var w=uR();if(b(w))return _(w);u=setTimeout(v,y(w))}function _(w){return u=void 0,p&&r?m(w):(r=i=void 0,l)}function E(){u!==void 0&&clearTimeout(u),d=0,r=c=i=u=void 0}function T(){return u===void 0?l:_(uR())}function A(){var w=uR(),I=b(w);if(r=arguments,i=this,c=w,I){if(u===void 0)return g(c);if(f)return clearTimeout(u),u=setTimeout(v,e),m(c)}return u===void 0&&(u=setTimeout(v,e)),l}return A.cancel=E,A.flush=T,A}var L_e="Expected a function";function P_e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(L_e);return so(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),FY(t,e,{leading:r,maxWait:e,trailing:i})}var O_e=function(e,n,r){var i=r.getBoundingClientRect(),o=i.width,l=i.height,u=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,d=u-(r.getBoundingClientRect().left+window.pageXOffset),h=c-(r.getBoundingClientRect().top+window.pageYOffset);d<0?d=0:d>o&&(d=o),h<0?h=0:h>l&&(h=l);var f=d/o,p=1-h/l;return{h:n.h,s:f,v:p,a:n.a,source:"hsv"}},M_e=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function N_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F_e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function U_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aS=(function(t){U_e(e,t);function e(n){N_e(this,e);var r=F_e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,O_e(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var o=r.getContainerRenderWindow();o.addEventListener("mousemove",r.handleChange),o.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=P_e(function(i,o,l){i(o,l)},50),r}return M_e(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},o=i.color,l=i.white,u=i.black,c=i.pointer,d=i.circle,h=cr({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:l,black:u,pointer:c,circle:d}},{custom:!!this.props.style});return Me.createElement("div",{style:h.color,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Me.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),Me.createElement("div",{style:h.white,className:"saturation-white"},Me.createElement("div",{style:h.black,className:"saturation-black"}),Me.createElement("div",{style:h.pointer},this.props.pointer?Me.createElement(this.props.pointer,this.props):Me.createElement("div",{style:h.circle}))))}}]),e})(Bt.PureComponent||Bt.Component);function B_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var z_e=RY(Object.keys,Object),$_e=Object.prototype,q_e=$_e.hasOwnProperty;function j_e(t){if(!rM(t))return z_e(t);var e=[];for(var n in Object(t))q_e.call(t,n)&&n!="constructor"&&e.push(n);return e}function oM(t){return Op(t)?OY(t):j_e(t)}function H_e(t,e){return t&&IY(t,e,oM)}function G_e(t,e){return function(n,r){if(n==null)return n;if(!Op(n))return t(n,r);for(var i=n.length,o=-1,l=Object(n);++o<i&&r(l[o],o,l)!==!1;);return n}}var UY=G_e(H_e);function V_e(t){return typeof t=="function"?t:rS}function K_e(t,e){var n=Ds(t)?B_e:UY;return n(t,V_e(e))}function e_(t){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(t)}var W_e=/^\s+/,Y_e=/\s+$/;function Wn(t,e){if(t=t||"",e=e||{},t instanceof Wn)return t;if(!(this instanceof Wn))return new Wn(t,e);var n=X_e(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Wn.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,o,l,u;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),i<=.03928?u=i/12.92:u=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*l+.0722*u},setAlpha:function(e){return this._a=BY(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=t6(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=t6(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=e6(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=e6(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return n6(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return eTe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Si(this._r,255)*100)+"%",g:Math.round(Si(this._g,255)*100)+"%",b:Math.round(Si(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Si(this._r,255)*100)+"%, "+Math.round(Si(this._g,255)*100)+"%, "+Math.round(Si(this._b,255)*100)+"%)":"rgba("+Math.round(Si(this._r,255)*100)+"%, "+Math.round(Si(this._g,255)*100)+"%, "+Math.round(Si(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:fTe[n6(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+r6(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var o=Wn(e);r="#"+r6(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,o=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return o?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Wn(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(iTe,arguments)},brighten:function(){return this._applyModification(aTe,arguments)},darken:function(){return this._applyModification(sTe,arguments)},desaturate:function(){return this._applyModification(tTe,arguments)},saturate:function(){return this._applyModification(nTe,arguments)},greyscale:function(){return this._applyModification(rTe,arguments)},spin:function(){return this._applyModification(oTe,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(cTe,arguments)},complement:function(){return this._applyCombination(lTe,arguments)},monochromatic:function(){return this._applyCombination(dTe,arguments)},splitcomplement:function(){return this._applyCombination(uTe,arguments)},triad:function(){return this._applyCombination(i6,[3])},tetrad:function(){return this._applyCombination(i6,[4])}};Wn.fromRatio=function(t,e){if(e_(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Qm(t[r]));t=n}return Wn(t,e)};function X_e(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,l=!1,u=!1;return typeof t=="string"&&(t=gTe(t)),e_(t)=="object"&&(Wl(t.r)&&Wl(t.g)&&Wl(t.b)?(e=Q_e(t.r,t.g,t.b),l=!0,u=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Wl(t.h)&&Wl(t.s)&&Wl(t.v)?(r=Qm(t.s),i=Qm(t.v),e=J_e(t.h,r,i),l=!0,u="hsv"):Wl(t.h)&&Wl(t.s)&&Wl(t.l)&&(r=Qm(t.s),o=Qm(t.l),e=Z_e(t.h,r,o),l=!0,u="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=BY(n),{ok:l,format:t.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Q_e(t,e,n){return{r:Si(t,255)*255,g:Si(e,255)*255,b:Si(n,255)*255}}function e6(t,e,n){t=Si(t,255),e=Si(e,255),n=Si(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,l,u=(r+i)/2;if(r==i)o=l=0;else{var c=r-i;switch(l=u>.5?c/(2-r-i):c/(r+i),r){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,l:u}}function Z_e(t,e,n){var r,i,o;t=Si(t,360),e=Si(e,100),n=Si(n,100);function l(d,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?d+(h-d)*6*f:f<1/2?h:f<2/3?d+(h-d)*(2/3-f)*6:d}if(e===0)r=i=o=n;else{var u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;r=l(c,u,t+1/3),i=l(c,u,t),o=l(c,u,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function t6(t,e,n){t=Si(t,255),e=Si(e,255),n=Si(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o,l,u=r,c=r-i;if(l=r===0?0:c/r,r==i)o=0;else{switch(r){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4;break}o/=6}return{h:o,s:l,v:u}}function J_e(t,e,n){t=Si(t,360)*6,e=Si(e,100),n=Si(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),l=n*(1-i*e),u=n*(1-(1-i)*e),c=r%6,d=[n,l,o,o,u,n][c],h=[u,n,n,l,o,o][c],f=[o,o,u,n,n,l][c];return{r:d*255,g:h*255,b:f*255}}function n6(t,e,n,r){var i=[zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function eTe(t,e,n,r,i){var o=[zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16)),zo(zY(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function r6(t,e,n,r){var i=[zo(zY(r)),zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16))];return i.join("")}Wn.equals=function(t,e){return!t||!e?!1:Wn(t).toRgbString()==Wn(e).toRgbString()};Wn.random=function(){return Wn.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function tTe(t,e){e=e===0?0:e||10;var n=Wn(t).toHsl();return n.s-=e/100,n.s=sS(n.s),Wn(n)}function nTe(t,e){e=e===0?0:e||10;var n=Wn(t).toHsl();return n.s+=e/100,n.s=sS(n.s),Wn(n)}function rTe(t){return Wn(t).desaturate(100)}function iTe(t,e){e=e===0?0:e||10;var n=Wn(t).toHsl();return n.l+=e/100,n.l=sS(n.l),Wn(n)}function aTe(t,e){e=e===0?0:e||10;var n=Wn(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Wn(n)}function sTe(t,e){e=e===0?0:e||10;var n=Wn(t).toHsl();return n.l-=e/100,n.l=sS(n.l),Wn(n)}function oTe(t,e){var n=Wn(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Wn(n)}function lTe(t){var e=Wn(t).toHsl();return e.h=(e.h+180)%360,Wn(e)}function i6(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Wn(t).toHsl(),r=[Wn(t)],i=360/e,o=1;o<e;o++)r.push(Wn({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function uTe(t){var e=Wn(t).toHsl(),n=e.h;return[Wn(t),Wn({h:(n+72)%360,s:e.s,l:e.l}),Wn({h:(n+216)%360,s:e.s,l:e.l})]}function cTe(t,e,n){e=e||6,n=n||30;var r=Wn(t).toHsl(),i=360/n,o=[Wn(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(Wn(r));return o}function dTe(t,e){e=e||6;for(var n=Wn(t).toHsv(),r=n.h,i=n.s,o=n.v,l=[],u=1/e;e--;)l.push(Wn({h:r,s:i,v:o})),o=(o+u)%1;return l}Wn.mix=function(t,e,n){n=n===0?0:n||50;var r=Wn(t).toRgb(),i=Wn(e).toRgb(),o=n/100,l={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Wn(l)};Wn.readability=function(t,e){var n=Wn(t),r=Wn(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Wn.isReadable=function(t,e,n){var r=Wn.readability(t,e),i,o;switch(o=!1,i=yTe(n),i.level+i.size){case"AAsmall":case"AAAlarge":o=r>=4.5;break;case"AAlarge":o=r>=3;break;case"AAAsmall":o=r>=7;break}return o};Wn.mostReadable=function(t,e,n){var r=null,i=0,o,l,u,c;n=n||{},l=n.includeFallbackColors,u=n.level,c=n.size;for(var d=0;d<e.length;d++)o=Wn.readability(t,e[d]),o>i&&(i=o,r=Wn(e[d]));return Wn.isReadable(t,r,{level:u,size:c})||!l?r:(n.includeFallbackColors=!1,Wn.mostReadable(t,["#fff","#000"],n))};var QC=Wn.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},fTe=Wn.hexNames=hTe(QC);function hTe(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function BY(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Si(t,e){pTe(t)&&(t="100%");var n=mTe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function sS(t){return Math.min(1,Math.max(0,t))}function ms(t){return parseInt(t,16)}function pTe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function mTe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function zo(t){return t.length==1?"0"+t:""+t}function Qm(t){return t<=1&&(t=t*100+"%"),t}function zY(t){return Math.round(parseFloat(t)*255).toString(16)}function a6(t){return ms(t)/255}var Io=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Wl(t){return!!Io.CSS_UNIT.exec(t)}function gTe(t){t=t.replace(W_e,"").replace(Y_e,"").toLowerCase();var e=!1;if(QC[t])t=QC[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Io.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Io.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Io.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Io.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Io.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Io.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Io.hex8.exec(t))?{r:ms(n[1]),g:ms(n[2]),b:ms(n[3]),a:a6(n[4]),format:e?"name":"hex8"}:(n=Io.hex6.exec(t))?{r:ms(n[1]),g:ms(n[2]),b:ms(n[3]),format:e?"name":"hex"}:(n=Io.hex4.exec(t))?{r:ms(n[1]+""+n[1]),g:ms(n[2]+""+n[2]),b:ms(n[3]+""+n[3]),a:a6(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Io.hex3.exec(t))?{r:ms(n[1]+""+n[1]),g:ms(n[2]+""+n[2]),b:ms(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function yTe(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var s6=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return K_e(n,function(o){if(e[o]&&(r+=1,isNaN(e[o])||(i+=1),o==="s"||o==="l")){var l=/^\d+%$/;l.test(e[o])&&(i+=1)}}),r===i?e:!1},Zm=function(e,n){var r=e.hex?Wn(e.hex):Wn(e),i=r.toHsl(),o=r.toHsv(),l=r.toRgb(),u=r.toHex();i.s===0&&(i.h=n||0,o.h=n||0);var c=u==="000000"&&l.a===0;return{hsl:i,hex:c?"transparent":"#"+u,rgb:l,hsv:o,oldHue:e.h||n||i.h,source:e.source}},Cc=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Wn(e).isValid()},lM=function(e){if(!e)return"#fff";var n=Zm(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},cR=function(e,n){var r=e.replace("","");return Wn(n+" ("+r+")")._ok},um=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bTe=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function vTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ETe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _Te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var cs=function(e){var n=(function(r){_Te(i,r);function i(o){vTe(this,i);var l=ETe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return l.handleChange=function(u,c){var d=s6(u);if(d){var h=Zm(u,u.h||l.state.oldHue);l.setState(h),l.props.onChangeComplete&&l.debounce(l.props.onChangeComplete,h,c),l.props.onChange&&l.props.onChange(h,c)}},l.handleSwatchHover=function(u,c){var d=s6(u);if(d){var h=Zm(u,u.h||l.state.oldHue);l.props.onSwatchHover&&l.props.onSwatchHover(h,c)}},l.state=um({},Zm(o.color,0)),l.debounce=FY(function(u,c,d){u(c,d)},100),l}return bTe(i,[{key:"render",value:function(){var l={};return this.props.onSwatchHover&&(l.onSwatchHover=this.handleSwatchHover),Me.createElement(e,um({},this.props,this.state,{onChange:this.handleChange},l))}}],[{key:"getDerivedStateFromProps",value:function(l,u){return um({},Zm(l.color,u.oldHue))}}]),i})(Bt.PureComponent||Bt.Component);return n.propTypes=um({},e.propTypes),n.defaultProps=um({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},TTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},STe=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function wTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o6(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ATe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ITe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return(function(r){ATe(i,r);function i(){var o,l,u,c;wTe(this,i);for(var d=arguments.length,h=Array(d),f=0;f<d;f++)h[f]=arguments[f];return c=(l=(u=o6(this,(o=i.__proto__||Object.getPrototypeOf(i)).call.apply(o,[this].concat(h))),u),u.state={focus:!1},u.handleFocus=function(){return u.setState({focus:!0})},u.handleBlur=function(){return u.setState({focus:!1})},l),o6(u,c)}return STe(i,[{key:"render",value:function(){return Me.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},Me.createElement(e,TTe({},this.props,this.state)))}}]),i})(Me.Component)},l6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xTe=13,RTe=function(e){var n=e.color,r=e.style,i=e.onClick,o=i===void 0?function(){}:i,l=e.onHover,u=e.title,c=u===void 0?n:u,d=e.children,h=e.focus,f=e.focusStyle,p=f===void 0?{}:f,m=n==="transparent",g=cr({default:{swatch:l6({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?p:{})}}),y=function(T){return o(n,T)},b=function(T){return T.keyCode===xTe&&o(n,T)},v=function(T){return l(n,T)},_={};return l&&(_.onMouseOver=v),Me.createElement("div",l6({style:g.swatch,onClick:y,title:c,tabIndex:0,onKeyDown:b},_),d,m&&Me.createElement(Lp,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Zd=ITe(RTe);var kTe=function(e){var n=e.direction,r=cr({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Me.createElement("div",{style:r.picker})},CTe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$Y=function(e){var n=e.rgb,r=e.hsl,i=e.width,o=e.height,l=e.onChange,u=e.direction,c=e.style,d=e.renderers,h=e.pointer,f=e.className,p=f===void 0?"":f,m=cr({default:{picker:{position:"relative",width:i,height:o},alpha:{radius:"2px",style:c}}});return Me.createElement("div",{style:m.picker,className:"alpha-picker "+p},Me.createElement(eM,CTe({},m.alpha,{rgb:n,hsl:r,pointer:h,renderers:d,onChange:l,direction:u})))};$Y.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:kTe};cs($Y);function qY(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var DTe="__lodash_hash_undefined__";function LTe(t){return this.__data__.set(t,DTe),this}function PTe(t){return this.__data__.has(t)}function t_(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new wu;++e<n;)this.add(t[e])}t_.prototype.add=t_.prototype.push=LTe;t_.prototype.has=PTe;function OTe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function MTe(t,e){return t.has(e)}var NTe=1,FTe=2;function jY(t,e,n,r,i,o){var l=n&NTe,u=t.length,c=e.length;if(u!=c&&!(l&&c>u))return!1;var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var f=-1,p=!0,m=n&FTe?new t_:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var g=t[f],y=e[f];if(r)var b=l?r(y,g,f,e,t,o):r(g,y,f,t,e,o);if(b!==void 0){if(b)continue;p=!1;break}if(m){if(!OTe(e,function(v,_){if(!MTe(m,_)&&(g===v||i(g,v,n,r,o)))return m.push(_)})){p=!1;break}}else if(!(g===y||i(g,y,n,r,o))){p=!1;break}}return o.delete(t),o.delete(e),p}function UTe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function BTe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var zTe=1,$Te=2,qTe="[object Boolean]",jTe="[object Date]",HTe="[object Error]",GTe="[object Map]",VTe="[object Number]",KTe="[object RegExp]",WTe="[object Set]",YTe="[object String]",XTe="[object Symbol]",QTe="[object ArrayBuffer]",ZTe="[object DataView]",u6=Sc?Sc.prototype:void 0,dR=u6?u6.valueOf:void 0;function JTe(t,e,n,r,i,o,l){switch(n){case ZTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case QTe:return!(t.byteLength!=e.byteLength||!o(new QE(t),new QE(e)));case qTe:case jTe:case VTe:return rb(+t,+e);case HTe:return t.name==e.name&&t.message==e.message;case KTe:case YTe:return t==e+"";case GTe:var u=UTe;case WTe:var c=r&zTe;if(u||(u=BTe),t.size!=e.size&&!c)return!1;var d=l.get(t);if(d)return d==e;r|=$Te,l.set(t,e);var h=jY(u(t),u(e),r,i,o,l);return l.delete(t),h;case XTe:if(dR)return dR.call(t)==dR.call(e)}return!1}function eSe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function tSe(t,e,n){var r=e(t);return Ds(t)?r:eSe(r,n(t))}function nSe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var l=t[n];e(l,n,t)&&(o[i++]=l)}return o}function rSe(){return[]}var iSe=Object.prototype,aSe=iSe.propertyIsEnumerable,c6=Object.getOwnPropertySymbols,sSe=c6?function(t){return t==null?[]:(t=Object(t),nSe(c6(t),function(e){return aSe.call(t,e)}))}:rSe;function d6(t){return tSe(t,oM,sSe)}var oSe=1,lSe=Object.prototype,uSe=lSe.hasOwnProperty;function cSe(t,e,n,r,i,o){var l=n&oSe,u=d6(t),c=u.length,d=d6(e),h=d.length;if(c!=h&&!l)return!1;for(var f=c;f--;){var p=u[f];if(!(l?p in e:uSe.call(e,p)))return!1}var m=o.get(t),g=o.get(e);if(m&&g)return m==e&&g==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=l;++f<c;){p=u[f];var v=t[p],_=e[p];if(r)var E=l?r(_,v,p,e,t,o):r(v,_,p,t,e,o);if(!(E===void 0?v===_||i(v,_,n,r,o):E)){y=!1;break}b||(b=p=="constructor")}if(y&&!b){var T=t.constructor,A=e.constructor;T!=A&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof A=="function"&&A instanceof A)&&(y=!1)}return o.delete(t),o.delete(e),y}var ZC=Qd(Go,"DataView"),JC=Qd(Go,"Promise"),eD=Qd(Go,"Set"),tD=Qd(Go,"WeakMap"),f6="[object Map]",dSe="[object Object]",h6="[object Promise]",p6="[object Set]",m6="[object WeakMap]",g6="[object DataView]",fSe=Xd(ZC),hSe=Xd(fy),pSe=Xd(JC),mSe=Xd(eD),gSe=Xd(tD),ac=Yd;(ZC&&ac(new ZC(new ArrayBuffer(1)))!=g6||fy&&ac(new fy)!=f6||JC&&ac(JC.resolve())!=h6||eD&&ac(new eD)!=p6||tD&&ac(new tD)!=m6)&&(ac=function(t){var e=Yd(t),n=e==dSe?t.constructor:void 0,r=n?Xd(n):"";if(r)switch(r){case fSe:return g6;case hSe:return f6;case pSe:return h6;case mSe:return p6;case gSe:return m6}return e});var ySe=1,y6="[object Arguments]",b6="[object Array]",Yb="[object Object]",bSe=Object.prototype,v6=bSe.hasOwnProperty;function vSe(t,e,n,r,i,o){var l=Ds(t),u=Ds(e),c=l?b6:ac(t),d=u?b6:ac(e);c=c==y6?Yb:c,d=d==y6?Yb:d;var h=c==Yb,f=d==Yb,p=c==d;if(p&&JE(t)){if(!JE(e))return!1;l=!0,h=!1}if(p&&!h)return o||(o=new Ol),l||aM(t)?jY(t,e,n,r,i,o):JTe(t,e,c,n,r,i,o);if(!(n&ySe)){var m=h&&v6.call(t,"__wrapped__"),g=f&&v6.call(e,"__wrapped__");if(m||g){var y=m?t.value():t,b=g?e.value():e;return o||(o=new Ol),i(y,b,n,r,o)}}return p?(o||(o=new Ol),cSe(t,e,n,r,i,o)):!1}function uM(t,e,n,r,i){return t===e?!0:t==null||e==null||!wc(t)&&!wc(e)?t!==t&&e!==e:vSe(t,e,n,r,uM,i)}var ESe=1,_Se=2;function TSe(t,e,n,r){var i=n.length,o=i;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){l=n[i];var u=l[0],c=t[u],d=l[1];if(l[2]){if(c===void 0&&!(u in t))return!1}else{var h=new Ol,f;if(!(f===void 0?uM(d,c,ESe|_Se,r,h):f))return!1}}return!0}function HY(t){return t===t&&!so(t)}function SSe(t){for(var e=oM(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,HY(i)]}return e}function GY(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function wSe(t){var e=SSe(t);return e.length==1&&e[0][2]?GY(e[0][0],e[0][1]):function(n){return n===t||TSe(n,t,e)}}var ASe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ISe=/^\w*$/;function cM(t,e){if(Ds(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||iS(t)?!0:ISe.test(t)||!ASe.test(t)||e!=null&&t in Object(e)}var xSe="Expected a function";function dM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xSe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var l=t.apply(this,r);return n.cache=o.set(i,l)||o,l};return n.cache=new(dM.Cache||wu),n}dM.Cache=wu;var RSe=500;function kSe(t){var e=dM(t,function(r){return n.size===RSe&&n.clear(),r}),n=e.cache;return e}var CSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DSe=/\\(\\)?/g,LSe=kSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(CSe,function(n,r,i,o){e.push(i?o.replace(DSe,"$1"):r||n)}),e}),E6=Sc?Sc.prototype:void 0,_6=E6?E6.toString:void 0;function VY(t){if(typeof t=="string")return t;if(Ds(t))return qY(t,VY)+"";if(iS(t))return _6?_6.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function PSe(t){return t==null?"":VY(t)}function KY(t,e){return Ds(t)?t:cM(t,e)?[t]:LSe(PSe(t))}function oS(t){if(typeof t=="string"||iS(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function WY(t,e){e=KY(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[oS(e[n++])];return n&&n==r?t:void 0}function OSe(t,e,n){var r=t==null?void 0:WY(t,e);return r===void 0?n:r}function MSe(t,e){return t!=null&&e in Object(t)}function NSe(t,e,n){e=KY(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var l=oS(e[r]);if(!(o=t!=null&&n(t,l)))break;t=t[l]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&iM(i)&&sM(l,i)&&(Ds(t)||ZE(t)))}function FSe(t,e){return t!=null&&NSe(t,e,MSe)}var USe=1,BSe=2;function zSe(t,e){return cM(t)&&HY(e)?GY(oS(t),e):function(n){var r=OSe(n,t);return r===void 0&&r===e?FSe(n,t):uM(e,r,USe|BSe)}}function $Se(t){return function(e){return e?.[t]}}function qSe(t){return function(e){return WY(e,t)}}function jSe(t){return cM(t)?$Se(oS(t)):qSe(t)}function HSe(t){return typeof t=="function"?t:t==null?rS:typeof t=="object"?Ds(t)?zSe(t[0],t[1]):wSe(t):jSe(t)}function GSe(t,e){var n=-1,r=Op(t)?Array(t.length):[];return UY(t,function(i,o,l){r[++n]=e(i,o,l)}),r}function Jd(t,e){var n=Ds(t)?qY:GSe;return n(t,HSe(e))}var VSe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,o=cr({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return Me.createElement("div",{style:o.swatches},Jd(n,function(l){return Me.createElement(Zd,{key:l,color:l,style:o.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+l}})}),Me.createElement("div",{style:o.clear}))},fM=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,l=e.width,u=e.triangle,c=e.styles,d=c===void 0?{}:c,h=e.className,f=h===void 0?"":h,p=i==="transparent",m=function(b,v){Cc(b)&&n({hex:b,source:"hex"},v)},g=cr(us({default:{card:{width:l,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:lM(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},d),{"hide-triangle":u==="hide"});return Me.createElement("div",{style:g.card,className:"block-picker "+f},Me.createElement("div",{style:g.triangle}),Me.createElement("div",{style:g.head},p&&Me.createElement(Lp,{borderRadius:"6px 6px 0 0"}),Me.createElement("div",{style:g.label},i)),Me.createElement("div",{style:g.body},Me.createElement(VSe,{colors:o,onClick:m,onSwatchHover:r}),Me.createElement(Mr,{style:{input:g.input},value:i,onChange:m})))};fM.propTypes={width:Sn.oneOfType([Sn.string,Sn.number]),colors:Sn.arrayOf(Sn.string),triangle:Sn.oneOf(["top","hide"]),styles:Sn.object};fM.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};cs(fM);var qf={100:"#ffcdd2",300:"#e57373",500:"#f44336",700:"#d32f2f",900:"#b71c1c"},jf={100:"#f8bbd0",300:"#f06292",500:"#e91e63",700:"#c2185b",900:"#880e4f"},Hf={100:"#e1bee7",300:"#ba68c8",500:"#9c27b0",700:"#7b1fa2",900:"#4a148c"},Gf={100:"#d1c4e9",300:"#9575cd",500:"#673ab7",700:"#512da8",900:"#311b92"},Vf={100:"#c5cae9",300:"#7986cb",500:"#3f51b5",700:"#303f9f",900:"#1a237e"},Kf={100:"#bbdefb",300:"#64b5f6",500:"#2196f3",700:"#1976d2",900:"#0d47a1"},Wf={100:"#b3e5fc",300:"#4fc3f7",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Yf={100:"#b2ebf2",300:"#4dd0e1",500:"#00bcd4",700:"#0097a7",900:"#006064"},Xf={100:"#b2dfdb",300:"#4db6ac",500:"#009688",700:"#00796b",900:"#004d40"},Jm={100:"#c8e6c9",300:"#81c784",500:"#4caf50",700:"#388e3c"},Qf={100:"#dcedc8",300:"#aed581",500:"#8bc34a",700:"#689f38",900:"#33691e"},Zf={100:"#f0f4c3",300:"#dce775",500:"#cddc39",700:"#afb42b",900:"#827717"},Jf={100:"#fff9c4",300:"#fff176",500:"#ffeb3b",700:"#fbc02d",900:"#f57f17"},eh={100:"#ffecb3",300:"#ffd54f",500:"#ffc107",700:"#ffa000",900:"#ff6f00"},th={100:"#ffe0b2",300:"#ffb74d",500:"#ff9800",700:"#f57c00",900:"#e65100"},nh={100:"#ffccbc",300:"#ff8a65",500:"#ff5722",700:"#e64a19",900:"#bf360c"},rh={100:"#d7ccc8",300:"#a1887f",500:"#795548",700:"#5d4037",900:"#3e2723"},ih={100:"#cfd8dc",300:"#90a4ae",500:"#607d8b",700:"#455a64",900:"#263238"},YY=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,o=e.hover,l=e.active,u=e.circleSize,c=e.circleSpacing,d=cr({default:{swatch:{width:u,height:u,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(u/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:o,active:l});return Me.createElement("div",{style:d.swatch},Me.createElement(Zd,{style:d.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:d.Swatch.boxShadow+", 0 0 5px "+n}}))};YY.defaultProps={circleSize:28,circleSpacing:14};const KSe=JO.handleHover(YY);var hM=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,o=e.colors,l=e.hex,u=e.circleSize,c=e.styles,d=c===void 0?{}:c,h=e.circleSpacing,f=e.className,p=f===void 0?"":f,m=cr(us({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},d)),g=function(b,v){return r({hex:b,source:"hex"},v)};return Me.createElement("div",{style:m.card,className:"circle-picker "+p},Jd(o,function(y){return Me.createElement(KSe,{key:y,color:y,onClick:g,onSwatchHover:i,active:l===y.toLowerCase(),circleSize:u,circleSpacing:h})}))};hM.propTypes={width:Sn.oneOfType([Sn.string,Sn.number]),circleSize:Sn.number,circleSpacing:Sn.number,styles:Sn.object};hM.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[qf[500],jf[500],Hf[500],Gf[500],Vf[500],Kf[500],Wf[500],Yf[500],Xf[500],Jm[500],Qf[500],Zf[500],Jf[500],eh[500],th[500],nh[500],rh[500],ih[500]],styles:{}};cs(hM);function T6(t){return t===void 0}var Xb={},S6;function WSe(){if(S6)return Xb;S6=1,Object.defineProperty(Xb,"__esModule",{value:!0});var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=co(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){var c={};for(var d in l)u.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(l,d)&&(c[d]=l[d]);return c}var o=24;return Xb.default=function(l){var u=l.fill,c=u===void 0?"currentColor":u,d=l.width,h=d===void 0?o:d,f=l.height,p=f===void 0?o:f,m=l.style,g=m===void 0?{}:m,y=i(l,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:c,width:h,height:p},g)},y),n.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Xb}var YSe=WSe();const XSe=Na(YSe);var QSe=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function ZSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ewe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var XY=(function(t){ewe(e,t);function e(n){ZSe(this,e);var r=JSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,o){i.hex?Cc(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},o):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},o):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},o)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(T6(i.s)?r.props.hsl.s:i.s),l:Number(T6(i.l)?r.props.hsl.l:i.l),source:"hsl"},o))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return QSe(e,[{key:"render",value:function(){var r=this,i=cr({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),o=void 0;return this.state.view==="hex"?o=Me.createElement("div",{style:i.fields,className:"flexbox-fix"},Me.createElement("div",{style:i.field},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?o=Me.createElement("div",{style:i.fields,className:"flexbox-fix"},Me.createElement("div",{style:i.field},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),Me.createElement("div",{style:i.field},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),Me.createElement("div",{style:i.field},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),Me.createElement("div",{style:i.alpha},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(o=Me.createElement("div",{style:i.fields,className:"flexbox-fix"},Me.createElement("div",{style:i.field},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),Me.createElement("div",{style:i.field},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),Me.createElement("div",{style:i.field},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),Me.createElement("div",{style:i.alpha},Me.createElement(Mr,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),Me.createElement("div",{style:i.wrap,className:"flexbox-fix"},o,Me.createElement("div",{style:i.toggle},Me.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(u){return r.icon=u}},Me.createElement(XSe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e})(Me.Component);XY.defaultProps={view:"hex"};var w6=function(){var e=cr({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Me.createElement("div",{style:e.picker})},twe=function(){var e=cr({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return Me.createElement("div",{style:e.picker})},pM=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,o=e.rgb,l=e.hsl,u=e.hsv,c=e.hex,d=e.renderers,h=e.styles,f=h===void 0?{}:h,p=e.className,m=p===void 0?"":p,g=e.defaultView,y=cr(us({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return Me.createElement("div",{style:y.picker,className:"chrome-picker "+m},Me.createElement("div",{style:y.saturation},Me.createElement(aS,{style:y.Saturation,hsl:l,hsv:u,pointer:twe,onChange:r})),Me.createElement("div",{style:y.body},Me.createElement("div",{style:y.controls,className:"flexbox-fix"},Me.createElement("div",{style:y.color},Me.createElement("div",{style:y.swatch},Me.createElement("div",{style:y.active}),Me.createElement(Lp,{renderers:d}))),Me.createElement("div",{style:y.toggles},Me.createElement("div",{style:y.hue},Me.createElement(Pp,{style:y.Hue,hsl:l,pointer:w6,onChange:r})),Me.createElement("div",{style:y.alpha},Me.createElement(eM,{style:y.Alpha,rgb:o,hsl:l,pointer:w6,renderers:d,onChange:r})))),Me.createElement(XY,{rgb:o,hsl:l,hex:c,view:g,onChange:r,disableAlpha:i})))};pM.propTypes={width:Sn.oneOfType([Sn.string,Sn.number]),disableAlpha:Sn.bool,styles:Sn.object,defaultView:Sn.oneOf(["hex","rgb","hsl"])};pM.defaultProps={width:225,disableAlpha:!1,styles:{}};const b7e=cs(pM);var nwe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,l=e.active,u=cr({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:lM(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Me.createElement(Zd,{style:u.color,color:n,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},Me.createElement("div",{style:u.dot}))},rwe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,o=cr({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),l=function(c,d){c.r||c.g||c.b?i({r:c.r||r.r,g:c.g||r.g,b:c.b||r.b,source:"rgb"},d):i({hex:c.hex,source:"hex"},d)};return Me.createElement("div",{style:o.fields,className:"flexbox-fix"},Me.createElement("div",{style:o.active}),Me.createElement(Mr,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:n,onChange:l}),Me.createElement(Mr,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:l}),Me.createElement(Mr,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:l}),Me.createElement(Mr,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:l}))},mM=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,o=e.hex,l=e.rgb,u=e.styles,c=u===void 0?{}:u,d=e.className,h=d===void 0?"":d,f=cr(us({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},c)),p=function(g,y){g.hex?Cc(g.hex)&&n({hex:g.hex,source:"hex"},y):n(g,y)};return Me.createElement(ib,{style:f.Compact,styles:c},Me.createElement("div",{style:f.compact,className:"compact-picker "+h},Me.createElement("div",null,Jd(i,function(m){return Me.createElement(nwe,{key:m,color:m,active:m.toLowerCase()===o,onClick:p,onSwatchHover:r})}),Me.createElement("div",{style:f.clear})),Me.createElement(rwe,{hex:o,rgb:l,onChange:p})))};mM.propTypes={colors:Sn.arrayOf(Sn.string),styles:Sn.object};mM.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};cs(mM);var iwe=function(e){var n=e.hover,r=e.color,i=e.onClick,o=e.onSwatchHover,l={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},u=cr({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:l}},{hover:n});return Me.createElement("div",{style:u.swatch},Me.createElement(Zd,{color:r,onClick:i,onHover:o,focusStyle:l}))};const awe=JO.handleHover(iwe);var gM=function(e){var n=e.width,r=e.colors,i=e.onChange,o=e.onSwatchHover,l=e.triangle,u=e.styles,c=u===void 0?{}:u,d=e.className,h=d===void 0?"":d,f=cr(us({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},c),{"hide-triangle":l==="hide","top-left-triangle":l==="top-left","top-right-triangle":l==="top-right","bottom-left-triangle":l==="bottom-left","bottom-right-triangle":l==="bottom-right"}),p=function(g,y){return i({hex:g,source:"hex"},y)};return Me.createElement("div",{style:f.card,className:"github-picker "+h},Me.createElement("div",{style:f.triangleShadow}),Me.createElement("div",{style:f.triangle}),Jd(r,function(m){return Me.createElement(awe,{color:m,key:m,onClick:p,onSwatchHover:o})}))};gM.propTypes={width:Sn.oneOfType([Sn.string,Sn.number]),colors:Sn.arrayOf(Sn.string),triangle:Sn.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Sn.object};gM.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};cs(gM);var swe=function(e){var n=e.direction,r=cr({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return Me.createElement("div",{style:r.picker})},owe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yM=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.hsl,l=e.direction,u=e.pointer,c=e.styles,d=c===void 0?{}:c,h=e.className,f=h===void 0?"":h,p=cr(us({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},d)),m=function(y){return i({a:1,h:y.h,l:.5,s:1})};return Me.createElement("div",{style:p.picker,className:"hue-picker "+f},Me.createElement(Pp,owe({},p.hue,{hsl:o,pointer:u,onChange:m,direction:l})))};yM.propTypes={styles:Sn.object};yM.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:swe,styles:{}};cs(yM);var lwe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,o=e.styles,l=o===void 0?{}:o,u=e.className,c=u===void 0?"":u,d=cr(us({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},l)),h=function(p,m){p.hex?Cc(p.hex)&&n({hex:p.hex,source:"hex"},m):(p.r||p.g||p.b)&&n({r:p.r||i.r,g:p.g||i.g,b:p.b||i.b,source:"rgb"},m)};return Me.createElement(ib,{styles:l},Me.createElement("div",{style:d.material,className:"material-picker "+c},Me.createElement(Mr,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"hex",value:r,onChange:h}),Me.createElement("div",{style:d.split,className:"flexbox-fix"},Me.createElement("div",{style:d.third},Me.createElement(Mr,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:i.r,onChange:h})),Me.createElement("div",{style:d.third},Me.createElement(Mr,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:i.g,onChange:h})),Me.createElement("div",{style:d.third},Me.createElement(Mr,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:i.b,onChange:h})))))};cs(lwe);var uwe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,o=e.hex,l=cr({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),u=function(d,h){d["#"]?Cc(d["#"])&&n({hex:d["#"],source:"hex"},h):d.r||d.g||d.b?n({r:d.r||r.r,g:d.g||r.g,b:d.b||r.b,source:"rgb"},h):(d.h||d.s||d.v)&&n({h:d.h||i.h,s:d.s||i.s,v:d.v||i.v,source:"hsv"},h)};return Me.createElement("div",{style:l.fields},Me.createElement(Mr,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"h",value:Math.round(i.h),onChange:u}),Me.createElement(Mr,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:u}),Me.createElement(Mr,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:u}),Me.createElement("div",{style:l.divider}),Me.createElement(Mr,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:u}),Me.createElement(Mr,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:u}),Me.createElement(Mr,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:u}),Me.createElement("div",{style:l.divider}),Me.createElement(Mr,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"#",value:o.replace("#",""),onChange:u}),Me.createElement("div",{style:l.fieldSymbols},Me.createElement("div",{style:l.symbol},""),Me.createElement("div",{style:l.symbol},"%"),Me.createElement("div",{style:l.symbol},"%")))},cwe=function(e){var n=e.hsl,r=cr({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return Me.createElement("div",{style:r.picker})},dwe=function(){var e=cr({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return Me.createElement("div",{style:e.pointer},Me.createElement("div",{style:e.left},Me.createElement("div",{style:e.leftInside})),Me.createElement("div",{style:e.right},Me.createElement("div",{style:e.rightInside})))},A6=function(e){var n=e.onClick,r=e.label,i=e.children,o=e.active,l=cr({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return Me.createElement("div",{style:l.button,onClick:n},r||i)},fwe=function(e){var n=e.rgb,r=e.currentColor,i=cr({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return Me.createElement("div",null,Me.createElement("div",{style:i.label},"new"),Me.createElement("div",{style:i.swatches},Me.createElement("div",{style:i.new}),Me.createElement("div",{style:i.current})),Me.createElement("div",{style:i.label},"current"))},hwe=(function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}})();function pwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mwe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function gwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bM=(function(t){gwe(e,t);function e(n){pwe(this,e);var r=mwe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return hwe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,o=i===void 0?{}:i,l=r.className,u=l===void 0?"":l,c=cr(us({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},o));return Me.createElement("div",{style:c.picker,className:"photoshop-picker "+u},Me.createElement("div",{style:c.head},this.props.header),Me.createElement("div",{style:c.body,className:"flexbox-fix"},Me.createElement("div",{style:c.saturation},Me.createElement(aS,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:cwe,onChange:this.props.onChange})),Me.createElement("div",{style:c.hue},Me.createElement(Pp,{direction:"vertical",hsl:this.props.hsl,pointer:dwe,onChange:this.props.onChange})),Me.createElement("div",{style:c.controls},Me.createElement("div",{style:c.top,className:"flexbox-fix"},Me.createElement("div",{style:c.previews},Me.createElement(fwe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),Me.createElement("div",{style:c.actions},Me.createElement(A6,{label:"OK",onClick:this.props.onAccept,active:!0}),Me.createElement(A6,{label:"Cancel",onClick:this.props.onCancel}),Me.createElement(uwe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e})(Me.Component);bM.propTypes={header:Sn.string,styles:Sn.object};bM.defaultProps={header:"Color Picker",styles:{}};cs(bM);var ywe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,l=e.disableAlpha,u=cr({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:l}),c=function(h,f){h.hex?Cc(h.hex)&&n({hex:h.hex,source:"hex"},f):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},f):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},f))};return Me.createElement("div",{style:u.fields,className:"flexbox-fix"},Me.createElement("div",{style:u.double},Me.createElement(Mr,{style:{input:u.input,label:u.label},label:"hex",value:o.replace("#",""),onChange:c})),Me.createElement("div",{style:u.single},Me.createElement(Mr,{style:{input:u.input,label:u.label},label:"r",value:r.r,onChange:c,dragLabel:"true",dragMax:"255"})),Me.createElement("div",{style:u.single},Me.createElement(Mr,{style:{input:u.input,label:u.label},label:"g",value:r.g,onChange:c,dragLabel:"true",dragMax:"255"})),Me.createElement("div",{style:u.single},Me.createElement(Mr,{style:{input:u.input,label:u.label},label:"b",value:r.b,onChange:c,dragLabel:"true",dragMax:"255"})),Me.createElement("div",{style:u.alpha},Me.createElement(Mr,{style:{input:u.input,label:u.label},label:"a",value:Math.round(r.a*100),onChange:c,dragLabel:"true",dragMax:"100"})))},bwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QY=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,l=cr({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),u=function(d,h){i({hex:d,source:"hex"},h)};return Me.createElement("div",{style:l.colors,className:"flexbox-fix"},n.map(function(c){var d=typeof c=="string"?{color:c}:c,h=""+d.color+(d.title||"");return Me.createElement("div",{key:h,style:l.swatchWrap},Me.createElement(Zd,bwe({},d,{style:l.swatch,onClick:u,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+d.color}})))}))};QY.propTypes={colors:Sn.arrayOf(Sn.oneOfType([Sn.string,Sn.shape({color:Sn.string,title:Sn.string})])).isRequired};var vwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vM=function(e){var n=e.width,r=e.rgb,i=e.hex,o=e.hsv,l=e.hsl,u=e.onChange,c=e.onSwatchHover,d=e.disableAlpha,h=e.presetColors,f=e.renderers,p=e.styles,m=p===void 0?{}:p,g=e.className,y=g===void 0?"":g,b=cr(us({default:vwe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},m),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},m),{disableAlpha:d});return Me.createElement("div",{style:b.picker,className:"sketch-picker "+y},Me.createElement("div",{style:b.saturation},Me.createElement(aS,{style:b.Saturation,hsl:l,hsv:o,onChange:u})),Me.createElement("div",{style:b.controls,className:"flexbox-fix"},Me.createElement("div",{style:b.sliders},Me.createElement("div",{style:b.hue},Me.createElement(Pp,{style:b.Hue,hsl:l,onChange:u})),Me.createElement("div",{style:b.alpha},Me.createElement(eM,{style:b.Alpha,rgb:r,hsl:l,renderers:f,onChange:u}))),Me.createElement("div",{style:b.color},Me.createElement(Lp,null),Me.createElement("div",{style:b.activeColor}))),Me.createElement(ywe,{rgb:r,hsl:l,hex:i,onChange:u,disableAlpha:d}),Me.createElement(QY,{colors:h,onClick:u,onSwatchHover:c}))};vM.propTypes={disableAlpha:Sn.bool,width:Sn.oneOfType([Sn.string,Sn.number]),styles:Sn.object};vM.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};cs(vM);var cm=function(e){var n=e.hsl,r=e.offset,i=e.onClick,o=i===void 0?function(){}:i,l=e.active,u=e.first,c=e.last,d=cr({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:l,first:u,last:c}),h=function(p){return o({h:n.h,s:.5,l:r,source:"hsl"},p)};return Me.createElement("div",{style:d.swatch,onClick:h})},Ewe=function(e){var n=e.onClick,r=e.hsl,i=cr({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return Me.createElement("div",{style:i.swatches},Me.createElement("div",{style:i.swatch},Me.createElement(cm,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:n,first:!0})),Me.createElement("div",{style:i.swatch},Me.createElement(cm,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:n})),Me.createElement("div",{style:i.swatch},Me.createElement(cm,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:n})),Me.createElement("div",{style:i.swatch},Me.createElement(cm,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:n})),Me.createElement("div",{style:i.swatch},Me.createElement(cm,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:n,last:!0})),Me.createElement("div",{style:i.clear}))},_we=function(){var e=cr({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return Me.createElement("div",{style:e.picker})},EM=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,o=e.styles,l=o===void 0?{}:o,u=e.className,c=u===void 0?"":u,d=cr(us({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},l));return Me.createElement("div",{style:d.wrap||{},className:"slider-picker "+c},Me.createElement("div",{style:d.hue},Me.createElement(Pp,{style:d.Hue,hsl:n,pointer:i,onChange:r})),Me.createElement("div",{style:d.swatches},Me.createElement(Ewe,{hsl:n,onClick:r})))};EM.propTypes={styles:Sn.object};EM.defaultProps={pointer:_we,styles:{}};cs(EM);var Qb={},I6;function Twe(){if(I6)return Qb;I6=1,Object.defineProperty(Qb,"__esModule",{value:!0});var t=Object.assign||function(l){for(var u=1;u<arguments.length;u++){var c=arguments[u];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d])}return l},e=co(),n=r(e);function r(l){return l&&l.__esModule?l:{default:l}}function i(l,u){var c={};for(var d in l)u.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(l,d)&&(c[d]=l[d]);return c}var o=24;return Qb.default=function(l){var u=l.fill,c=u===void 0?"currentColor":u,d=l.width,h=d===void 0?o:d,f=l.height,p=f===void 0?o:f,m=l.style,g=m===void 0?{}:m,y=i(l,["fill","width","height","style"]);return n.default.createElement("svg",t({viewBox:"0 0 "+o+" "+o,style:t({fill:c,width:h,height:p},g)},y),n.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},Qb}var Swe=Twe();const wwe=Na(Swe);var Awe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,o=e.onSwatchHover,l=e.first,u=e.last,c=e.active,d=cr({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:lM(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:l,last:u,active:c,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return Me.createElement(Zd,{color:n,style:d.color,onClick:i,onHover:o,focusStyle:{boxShadow:"0 0 4px "+n}},Me.createElement("div",{style:d.check},Me.createElement(wwe,null)))},Iwe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,o=e.active,l=cr({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return Me.createElement("div",{style:l.group},Jd(i,function(u,c){return Me.createElement(Awe,{key:u,color:u,active:u.toLowerCase()===o,first:c===0,last:c===i.length-1,onClick:n,onSwatchHover:r})}))},_M=function(e){var n=e.width,r=e.height,i=e.onChange,o=e.onSwatchHover,l=e.colors,u=e.hex,c=e.styles,d=c===void 0?{}:c,h=e.className,f=h===void 0?"":h,p=cr(us({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},d)),m=function(y,b){return i({hex:y,source:"hex"},b)};return Me.createElement("div",{style:p.picker,className:"swatches-picker "+f},Me.createElement(ib,null,Me.createElement("div",{style:p.overflow},Me.createElement("div",{style:p.body},Jd(l,function(g){return Me.createElement(Iwe,{key:g.toString(),group:g,active:u,onClick:m,onSwatchHover:o})}),Me.createElement("div",{style:p.clear})))))};_M.propTypes={width:Sn.oneOfType([Sn.string,Sn.number]),height:Sn.oneOfType([Sn.string,Sn.number]),colors:Sn.arrayOf(Sn.arrayOf(Sn.string)),styles:Sn.object};_M.defaultProps={width:320,height:240,colors:[[qf[900],qf[700],qf[500],qf[300],qf[100]],[jf[900],jf[700],jf[500],jf[300],jf[100]],[Hf[900],Hf[700],Hf[500],Hf[300],Hf[100]],[Gf[900],Gf[700],Gf[500],Gf[300],Gf[100]],[Vf[900],Vf[700],Vf[500],Vf[300],Vf[100]],[Kf[900],Kf[700],Kf[500],Kf[300],Kf[100]],[Wf[900],Wf[700],Wf[500],Wf[300],Wf[100]],[Yf[900],Yf[700],Yf[500],Yf[300],Yf[100]],[Xf[900],Xf[700],Xf[500],Xf[300],Xf[100]],["#194D33",Jm[700],Jm[500],Jm[300],Jm[100]],[Qf[900],Qf[700],Qf[500],Qf[300],Qf[100]],[Zf[900],Zf[700],Zf[500],Zf[300],Zf[100]],[Jf[900],Jf[700],Jf[500],Jf[300],Jf[100]],[eh[900],eh[700],eh[500],eh[300],eh[100]],[th[900],th[700],th[500],th[300],th[100]],[nh[900],nh[700],nh[500],nh[300],nh[100]],[rh[900],rh[700],rh[500],rh[300],rh[100]],[ih[900],ih[700],ih[500],ih[300],ih[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};cs(_M);var TM=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,o=e.colors,l=e.width,u=e.triangle,c=e.styles,d=c===void 0?{}:c,h=e.className,f=h===void 0?"":h,p=cr(us({default:{card:{width:l,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},d),{"hide-triangle":u==="hide","top-left-triangle":u==="top-left","top-right-triangle":u==="top-right"}),m=function(y,b){Cc(y)&&n({hex:y,source:"hex"},b)};return Me.createElement("div",{style:p.card,className:"twitter-picker "+f},Me.createElement("div",{style:p.triangleShadow}),Me.createElement("div",{style:p.triangle}),Me.createElement("div",{style:p.body},Jd(o,function(g,y){return Me.createElement(Zd,{key:y,color:g,hex:g,style:p.swatch,onClick:m,onHover:r,focusStyle:{boxShadow:"0 0 4px "+g}})}),Me.createElement("div",{style:p.hash},"#"),Me.createElement(Mr,{label:null,style:{input:p.input},value:i.replace("#",""),onChange:m}),Me.createElement("div",{style:p.clear})))};TM.propTypes={width:Sn.oneOfType([Sn.string,Sn.number]),triangle:Sn.oneOf(["hide","top-left","top-right"]),colors:Sn.arrayOf(Sn.string),styles:Sn.object};TM.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};cs(TM);var SM=function(e){var n=cr({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return Me.createElement("div",{style:n.picker})};SM.propTypes={hsl:Sn.shape({h:Sn.number,s:Sn.number,l:Sn.number,a:Sn.number})};SM.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var wM=function(e){var n=cr({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return Me.createElement("div",{style:n.picker})};wM.propTypes={hsl:Sn.shape({h:Sn.number,s:Sn.number,l:Sn.number,a:Sn.number})};wM.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var xwe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,o=e.hex,l=e.hsv,u=function(m,g){if(m.hex)Cc(m.hex)&&n({hex:m.hex,source:"hex"},g);else if(m.rgb){var y=m.rgb.split(",");cR(m.rgb,"rgb")&&n({r:y[0],g:y[1],b:y[2],a:1,source:"rgb"},g)}else if(m.hsv){var b=m.hsv.split(",");cR(m.hsv,"hsv")&&(b[2]=b[2].replace("%",""),b[1]=b[1].replace("%",""),b[0]=b[0].replace("",""),b[1]==1?b[1]=.01:b[2]==1&&(b[2]=.01),n({h:Number(b[0]),s:Number(b[1]),v:Number(b[2]),source:"hsv"},g))}else if(m.hsl){var v=m.hsl.split(",");cR(m.hsl,"hsl")&&(v[2]=v[2].replace("%",""),v[1]=v[1].replace("%",""),v[0]=v[0].replace("",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),n({h:Number(v[0]),s:Number(v[1]),v:Number(v[2]),source:"hsl"},g))}},c=cr({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),d=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(l.h)+", "+Math.round(l.s*100)+"%, "+Math.round(l.v*100)+"%";return Me.createElement("div",{style:c.wrap,className:"flexbox-fix"},Me.createElement("div",{style:c.fields},Me.createElement("div",{style:c.double},Me.createElement(Mr,{style:{input:c.input,label:c.label},label:"hex",value:o,onChange:u})),Me.createElement("div",{style:c.column},Me.createElement("div",{style:c.single},Me.createElement(Mr,{style:{input:c.input2,label:c.label2},label:"rgb",value:d,onChange:u})),Me.createElement("div",{style:c.single},Me.createElement(Mr,{style:{input:c.input2,label:c.label2},label:"hsv",value:f,onChange:u})),Me.createElement("div",{style:c.single},Me.createElement(Mr,{style:{input:c.input2,label:c.label2},label:"hsl",value:h,onChange:u})))))},AM=function(e){var n=e.width,r=e.onChange,i=e.rgb,o=e.hsl,l=e.hsv,u=e.hex,c=e.header,d=e.styles,h=d===void 0?{}:d,f=e.className,p=f===void 0?"":f,m=cr(us({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return Me.createElement("div",{style:m.picker,className:"google-picker "+p},Me.createElement("div",{style:m.head},c),Me.createElement("div",{style:m.swatch}),Me.createElement("div",{style:m.saturation},Me.createElement(aS,{hsl:o,hsv:l,pointer:SM,onChange:r})),Me.createElement("div",{style:m.body},Me.createElement("div",{style:m.controls,className:"flexbox-fix"},Me.createElement("div",{style:m.hue},Me.createElement(Pp,{style:m.Hue,hsl:o,radius:"4px",pointer:wM,onChange:r}))),Me.createElement(xwe,{rgb:i,hsl:o,hex:u,hsv:l,onChange:r})))};AM.propTypes={width:Sn.oneOfType([Sn.string,Sn.number]),styles:Sn.object,header:Sn.string};AM.defaultProps={width:652,styles:{},header:"Color picker"};cs(AM);function x6(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,o=!1;for(;!o;){r===-1&&(r=n.length,o=!0);const l=n.slice(i,r).trim();(l||!o)&&e.push(l),i=r+1,r=n.indexOf(",",i)}return e}function Rwe(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const kwe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Cwe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Dwe={};function R6(t,e){return(Dwe.jsx?Cwe:kwe).test(t)}const Lwe=/[ \t\n\f\r]/g;function Pwe(t){return typeof t=="object"?t.type==="text"?k6(t.value):!1:k6(t)}function k6(t){return t.replace(Lwe,"")===""}class ab{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}ab.prototype.normal={};ab.prototype.property={};ab.prototype.space=void 0;function ZY(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new ab(n,r,e)}function py(t){return t.toLowerCase()}class ds{constructor(e,n){this.attribute=n,this.property=e}}ds.prototype.attribute="";ds.prototype.booleanish=!1;ds.prototype.boolean=!1;ds.prototype.commaOrSpaceSeparated=!1;ds.prototype.commaSeparated=!1;ds.prototype.defined=!1;ds.prototype.mustUseProperty=!1;ds.prototype.number=!1;ds.prototype.overloadedBoolean=!1;ds.prototype.property="";ds.prototype.spaceSeparated=!1;ds.prototype.space=void 0;let Owe=0;const yr=ef(),Gi=ef(),nD=ef(),yn=ef(),di=ef(),Gh=ef(),gs=ef();function ef(){return 2**++Owe}const rD=Object.freeze(Object.defineProperty({__proto__:null,boolean:yr,booleanish:Gi,commaOrSpaceSeparated:gs,commaSeparated:Gh,number:yn,overloadedBoolean:nD,spaceSeparated:di},Symbol.toStringTag,{value:"Module"})),fR=Object.keys(rD);class IM extends ds{constructor(e,n,r,i){let o=-1;if(super(e,n),C6(this,"space",i),typeof r=="number")for(;++o<fR.length;){const l=fR[o];C6(this,fR[o],(r&rD[l])===rD[l])}}}IM.prototype.defined=!0;function C6(t,e,n){n&&(t[e]=n)}function Mp(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const o=new IM(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[py(r)]=r,n[py(o.attribute)]=r}return new ab(e,n,t.space)}const JY=Mp({properties:{ariaActiveDescendant:null,ariaAtomic:Gi,ariaAutoComplete:null,ariaBusy:Gi,ariaChecked:Gi,ariaColCount:yn,ariaColIndex:yn,ariaColSpan:yn,ariaControls:di,ariaCurrent:null,ariaDescribedBy:di,ariaDetails:null,ariaDisabled:Gi,ariaDropEffect:di,ariaErrorMessage:null,ariaExpanded:Gi,ariaFlowTo:di,ariaGrabbed:Gi,ariaHasPopup:null,ariaHidden:Gi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:di,ariaLevel:yn,ariaLive:null,ariaModal:Gi,ariaMultiLine:Gi,ariaMultiSelectable:Gi,ariaOrientation:null,ariaOwns:di,ariaPlaceholder:null,ariaPosInSet:yn,ariaPressed:Gi,ariaReadOnly:Gi,ariaRelevant:null,ariaRequired:Gi,ariaRoleDescription:di,ariaRowCount:yn,ariaRowIndex:yn,ariaRowSpan:yn,ariaSelected:Gi,ariaSetSize:yn,ariaSort:null,ariaValueMax:yn,ariaValueMin:yn,ariaValueNow:yn,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function eX(t,e){return e in t?t[e]:e}function tX(t,e){return eX(t,e.toLowerCase())}const Mwe=Mp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Gh,acceptCharset:di,accessKey:di,action:null,allow:null,allowFullScreen:yr,allowPaymentRequest:yr,allowUserMedia:yr,alt:null,as:null,async:yr,autoCapitalize:null,autoComplete:di,autoFocus:yr,autoPlay:yr,blocking:di,capture:null,charSet:null,checked:yr,cite:null,className:di,cols:yn,colSpan:null,content:null,contentEditable:Gi,controls:yr,controlsList:di,coords:yn|Gh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:yr,defer:yr,dir:null,dirName:null,disabled:yr,download:nD,draggable:Gi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:yr,formTarget:null,headers:di,height:yn,hidden:nD,high:yn,href:null,hrefLang:null,htmlFor:di,httpEquiv:di,id:null,imageSizes:null,imageSrcSet:null,inert:yr,inputMode:null,integrity:null,is:null,isMap:yr,itemId:null,itemProp:di,itemRef:di,itemScope:yr,itemType:di,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:yr,low:yn,manifest:null,max:null,maxLength:yn,media:null,method:null,min:null,minLength:yn,multiple:yr,muted:yr,name:null,nonce:null,noModule:yr,noValidate:yr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:yr,optimum:yn,pattern:null,ping:di,placeholder:null,playsInline:yr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:yr,referrerPolicy:null,rel:di,required:yr,reversed:yr,rows:yn,rowSpan:yn,sandbox:di,scope:null,scoped:yr,seamless:yr,selected:yr,shadowRootClonable:yr,shadowRootDelegatesFocus:yr,shadowRootMode:null,shape:null,size:yn,sizes:null,slot:null,span:yn,spellCheck:Gi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:yn,step:null,style:null,tabIndex:yn,target:null,title:null,translate:null,type:null,typeMustMatch:yr,useMap:null,value:Gi,width:yn,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:di,axis:null,background:null,bgColor:null,border:yn,borderColor:null,bottomMargin:yn,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:yr,declare:yr,event:null,face:null,frame:null,frameBorder:null,hSpace:yn,leftMargin:yn,link:null,longDesc:null,lowSrc:null,marginHeight:yn,marginWidth:yn,noResize:yr,noHref:yr,noShade:yr,noWrap:yr,object:null,profile:null,prompt:null,rev:null,rightMargin:yn,rules:null,scheme:null,scrolling:Gi,standby:null,summary:null,text:null,topMargin:yn,valueType:null,version:null,vAlign:null,vLink:null,vSpace:yn,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:yr,disableRemotePlayback:yr,prefix:null,property:null,results:yn,security:null,unselectable:null},space:"html",transform:tX}),Nwe=Mp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gs,accentHeight:yn,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:yn,amplitude:yn,arabicForm:null,ascent:yn,attributeName:null,attributeType:null,azimuth:yn,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:yn,by:null,calcMode:null,capHeight:yn,className:di,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:yn,diffuseConstant:yn,direction:null,display:null,dur:null,divisor:yn,dominantBaseline:null,download:yr,dx:null,dy:null,edgeMode:null,editable:null,elevation:yn,enableBackground:null,end:null,event:null,exponent:yn,externalResourcesRequired:null,fill:null,fillOpacity:yn,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Gh,g2:Gh,glyphName:Gh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:yn,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:yn,horizOriginX:yn,horizOriginY:yn,id:null,ideographic:yn,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:yn,k:yn,k1:yn,k2:yn,k3:yn,k4:yn,kernelMatrix:gs,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:yn,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:yn,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:yn,overlineThickness:yn,paintOrder:null,panose1:null,path:null,pathLength:yn,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:di,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:yn,pointsAtY:yn,pointsAtZ:yn,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gs,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gs,rev:gs,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gs,requiredFeatures:gs,requiredFonts:gs,requiredFormats:gs,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:yn,specularExponent:yn,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:yn,strikethroughThickness:yn,string:null,stroke:null,strokeDashArray:gs,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:yn,strokeOpacity:yn,strokeWidth:null,style:null,surfaceScale:yn,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gs,tabIndex:yn,tableValues:null,target:null,targetX:yn,targetY:yn,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gs,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:yn,underlineThickness:yn,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:yn,values:null,vAlphabetic:yn,vMathematical:yn,vectorEffect:null,vHanging:yn,vIdeographic:yn,version:null,vertAdvY:yn,vertOriginX:yn,vertOriginY:yn,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:yn,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:eX}),nX=Mp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),rX=Mp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:tX}),iX=Mp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Fwe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Uwe=/[A-Z]/g,D6=/-[a-z]/g,Bwe=/^data[-\w.:]+$/i;function aX(t,e){const n=py(e);let r=e,i=ds;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Bwe.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(D6,$we);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!D6.test(o)){let l=o.replace(Uwe,zwe);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}i=IM}return new i(r,e)}function zwe(t){return"-"+t.toLowerCase()}function $we(t){return t.charAt(1).toUpperCase()}const sX=ZY([JY,Mwe,nX,rX,iX],"html"),lS=ZY([JY,Nwe,nX,rX,iX],"svg");function L6(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function qwe(t){return t.join(" ").trim()}var Tf={},hR,P6;function jwe(){if(P6)return hR;P6=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,c=`
`,d="/",h="*",f="",p="comment",m="declaration";function g(b,v){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];v=v||{};var _=1,E=1;function T(Ee){var Te=Ee.match(e);Te&&(_+=Te.length);var ge=Ee.lastIndexOf(c);E=~ge?Ee.length-ge:E+Ee.length}function A(){var Ee={line:_,column:E};return function(Te){return Te.position=new w(Ee),j(),Te}}function w(Ee){this.start=Ee,this.end={line:_,column:E},this.source=v.source}w.prototype.content=b;function I(Ee){var Te=new Error(v.source+":"+_+":"+E+": "+Ee);if(Te.reason=Ee,Te.filename=v.source,Te.line=_,Te.column=E,Te.source=b,!v.silent)throw Te}function C(Ee){var Te=Ee.exec(b);if(Te){var ge=Te[0];return T(ge),b=b.slice(ge.length),Te}}function j(){C(n)}function F(Ee){var Te;for(Ee=Ee||[];Te=K();)Te!==!1&&Ee.push(Te);return Ee}function K(){var Ee=A();if(!(d!=b.charAt(0)||h!=b.charAt(1))){for(var Te=2;f!=b.charAt(Te)&&(h!=b.charAt(Te)||d!=b.charAt(Te+1));)++Te;if(Te+=2,f===b.charAt(Te-1))return I("End of comment missing");var ge=b.slice(2,Te-2);return E+=2,T(ge),b=b.slice(Te),E+=2,Ee({type:p,comment:ge})}}function he(){var Ee=A(),Te=C(r);if(Te){if(K(),!C(i))return I("property missing ':'");var ge=C(o),Be=Ee({type:m,property:y(Te[0].replace(t,f)),value:ge?y(ge[0].replace(t,f)):f});return C(l),Be}}function q(){var Ee=[];F(Ee);for(var Te;Te=he();)Te!==!1&&(Ee.push(Te),F(Ee));return Ee}return j(),q()}function y(b){return b?b.replace(u,f):f}return hR=g,hR}var O6;function Hwe(){if(O6)return Tf;O6=1;var t=Tf&&Tf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.default=n;const e=t(jwe());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const l=(0,e.default)(r),u=typeof i=="function";return l.forEach(c=>{if(c.type!=="declaration")return;const{property:d,value:h}=c;u?i(d,h,c):h&&(o=o||{},o[d]=h)}),o}return Tf}var dm={},M6;function Gwe(){if(M6)return dm;M6=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},l=function(d,h){return h.toUpperCase()},u=function(d,h){return"".concat(h,"-")},c=function(d,h){return h===void 0&&(h={}),o(d)?d:(d=d.toLowerCase(),h.reactCompat?d=d.replace(i,u):d=d.replace(r,u),d.replace(e,l))};return dm.camelCase=c,dm}var fm,N6;function Vwe(){if(N6)return fm;N6=1;var t=fm&&fm.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Hwe()),n=Gwe();function r(i,o){var l={};return!i||typeof i!="string"||(0,e.default)(i,function(u,c){u&&c&&(l[(0,n.camelCase)(u,o)]=c)}),l}return r.default=r,fm=r,fm}var Kwe=Vwe();const Wwe=Na(Kwe),oX=lX("end"),xM=lX("start");function lX(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Ywe(t){const e=xM(t),n=oX(t);if(e&&n)return{start:e,end:n}}function Ig(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?F6(t.position):"start"in t||"end"in t?F6(t):"line"in t||"column"in t?iD(t):""}function iD(t){return U6(t&&t.line)+":"+U6(t&&t.column)}function F6(t){return iD(t&&t.start)+"-"+iD(t&&t.end)}function U6(t){return t&&typeof t=="number"?t:1}class Fa extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(l=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const u=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=Ig(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fa.prototype.file="";Fa.prototype.name="";Fa.prototype.reason="";Fa.prototype.message="";Fa.prototype.stack="";Fa.prototype.column=void 0;Fa.prototype.line=void 0;Fa.prototype.ancestors=void 0;Fa.prototype.cause=void 0;Fa.prototype.fatal=void 0;Fa.prototype.place=void 0;Fa.prototype.ruleId=void 0;Fa.prototype.source=void 0;const RM={}.hasOwnProperty,Xwe=new Map,Qwe=/[A-Z]/g,Zwe=new Set(["table","tbody","thead","tfoot","tr"]),Jwe=new Set(["td","th"]),uX="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eAe(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=lAe(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=oAe(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lS:sX,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=cX(i,t,void 0);return o&&typeof o!="string"?o:i.create(t,i.Fragment,{children:o||void 0},void 0)}function cX(t,e,n){if(e.type==="element")return tAe(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return nAe(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return iAe(t,e,n);if(e.type==="mdxjsEsm")return rAe(t,e);if(e.type==="root")return aAe(t,e,n);if(e.type==="text")return sAe(t,e)}function tAe(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=lS,t.schema=i),t.ancestors.push(e);const o=fX(t,e.tagName,!1),l=uAe(t,e);let u=CM(t,e);return Zwe.has(e.tagName)&&(u=u.filter(function(c){return typeof c=="string"?!Pwe(c):!0})),dX(t,l,o,e),kM(l,u),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function nAe(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}my(t,e.position)}function rAe(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);my(t,e.position)}function iAe(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=lS,t.schema=i),t.ancestors.push(e);const o=e.name===null?t.Fragment:fX(t,e.name,!0),l=cAe(t,e),u=CM(t,e);return dX(t,l,o,e),kM(l,u),t.ancestors.pop(),t.schema=r,t.create(e,o,l,n)}function aAe(t,e,n){const r={};return kM(r,CM(t,e)),t.create(e,t.Fragment,r,n)}function sAe(t,e){return e.value}function dX(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function kM(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function oAe(t,e,n){return r;function r(i,o,l,u){const d=Array.isArray(l.children)?n:e;return u?d(o,l,u):d(o,l)}}function lAe(t,e){return n;function n(r,i,o,l){const u=Array.isArray(o.children),c=xM(r);return e(i,o,l,u,{columnNumber:c?c.column-1:void 0,fileName:t,lineNumber:c?c.line:void 0},void 0)}}function uAe(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&RM.call(e.properties,i)){const o=dAe(t,i,e.properties[i]);if(o){const[l,u]=o;t.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&Jwe.has(e.tagName)?r=u:n[l]=u}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function cAe(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,t.evaluater.evaluateExpression(u.argument))}else my(t,e.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const u=r.value.data.estree.body[0];u.type,o=t.evaluater.evaluateExpression(u.expression)}else my(t,e.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function CM(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:Xwe;for(;++r<e.children.length;){const o=e.children[r];let l;if(t.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const d=i.get(c)||0;l=c+"-"+d,i.set(c,d+1)}}const u=cX(t,o,l);u!==void 0&&n.push(u)}return n}function dAe(t,e,n){const r=aX(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Rwe(n):qwe(n)),r.property==="style"){let i=typeof n=="object"?n:fAe(t,String(n));return t.stylePropertyNameCase==="css"&&(i=hAe(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Fwe[r.property]||r.property:r.attribute,n]}}function fAe(t,e){try{return Wwe(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Fa("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=uX+"#cannot-parse-style-attribute",i}}function fX(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let o=-1,l;for(;++o<i.length;){const u=R6(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(o&&u.type==="Literal"),optional:!1}:u}r=l}else r=R6(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return RM.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);my(t)}function my(t,e){const n=new Fa("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=uX+"#cannot-handle-mdx-estrees-without-createevaluater",n}function hAe(t){const e={};let n;for(n in t)RM.call(t,n)&&(e[pAe(n)]=t[n]);return e}function pAe(t){let e=t.replace(Qwe,mAe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function mAe(t){return"-"+t.toLowerCase()}const pR={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},gAe={};function DM(t,e){const n=gAe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return hX(t,r,i)}function hX(t,e,n){if(yAe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return B6(t.children,e,n)}return Array.isArray(t)?B6(t,e,n):""}function B6(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=hX(t[i],e,n);return r.join("")}function yAe(t){return!!(t&&typeof t=="object")}const z6=document.createElement("i");function gy(t){const e="&"+t+";";z6.innerHTML=e;const n=z6.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ks(t,e,n,r){const i=t.length;let o=0,l;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(e,0),t.splice(...l),o+=1e4,e+=1e4}function Qs(t,e){return t.length>0?(ks(t,t.length,0,e),t):e}const $6={}.hasOwnProperty;function pX(t){const e={};let n=-1;for(;++n<t.length;)bAe(e,t[n]);return e}function bAe(t,e){let n;for(n in e){const i=($6.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let l;if(o)for(l in o){$6.call(i,l)||(i[l]=[]);const u=o[l];vAe(i[l],Array.isArray(u)?u:u?[u]:[])}}}function vAe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ks(t,0,0,r)}function mX(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function $o(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ja=Dc(/[A-Za-z]/),Pa=Dc(/[\dA-Za-z]/),EAe=Dc(/[#-'*+\--9=?A-Z^-~]/);function n_(t){return t!==null&&(t<32||t===127)}const aD=Dc(/\d/),_Ae=Dc(/[\dA-Fa-f]/),TAe=Dc(/[!-/:-@[-`{-~]/);function ir(t){return t!==null&&t<-2}function ui(t){return t!==null&&(t<0||t===32)}function kr(t){return t===-2||t===-1||t===32}const uS=Dc(/\p{P}|\p{S}/u),Ud=Dc(/\s/);function Dc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Np(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const o=t.charCodeAt(n);let l="";if(o===37&&Pa(t.charCodeAt(n+1))&&Pa(t.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const u=t.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(l=String.fromCharCode(o,u),i=1):l=""}else l=String.fromCharCode(o);l&&(e.push(t.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Fr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(c){return kr(c)?(t.enter(n),u(c)):e(c)}function u(c){return kr(c)&&o++<i?(t.consume(c),u):(t.exit(n),e(c))}}const SAe={tokenize:wAe};function wAe(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Fr(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),o(u)}function o(u){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return ir(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),l)}}const AAe={tokenize:IAe},q6={tokenize:xAe};function IAe(t){const e=this,n=[];let r=0,i,o,l;return u;function u(E){if(r<n.length){const T=n[r];return e.containerState=T[1],t.attempt(T[0].continuation,c,d)(E)}return d(E)}function c(E){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const T=e.events.length;let A=T,w;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){w=e.events[A][1].end;break}v(r);let I=T;for(;I<e.events.length;)e.events[I][1].end={...w},I++;return ks(e.events,A+1,0,e.events.slice(T)),e.events.length=I,d(E)}return u(E)}function d(E){if(r===n.length){if(!i)return p(E);if(i.currentConstruct&&i.currentConstruct.concrete)return g(E);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(q6,h,f)(E)}function h(E){return i&&_(),v(r),p(E)}function f(E){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,g(E)}function p(E){return e.containerState={},t.attempt(q6,m,g)(E)}function m(E){return r++,n.push([e.currentConstruct,e.containerState]),p(E)}function g(E){if(E===null){i&&_(),v(0),t.consume(E);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),y(E)}function y(E){if(E===null){b(t.exit("chunkFlow"),!0),v(0),t.consume(E);return}return ir(E)?(t.consume(E),b(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(E),y)}function b(E,T){const A=e.sliceStream(E);if(T&&A.push(null),E.previous=o,o&&(o.next=E),o=E,i.defineSkip(E.start),i.write(A),e.parser.lazy[E.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<l&&(!i.events[w][1].end||i.events[w][1].end.offset>l))return;const I=e.events.length;let C=I,j,F;for(;C--;)if(e.events[C][0]==="exit"&&e.events[C][1].type==="chunkFlow"){if(j){F=e.events[C][1].end;break}j=!0}for(v(r),w=I;w<e.events.length;)e.events[w][1].end={...F},w++;ks(e.events,C+1,0,e.events.slice(I)),e.events.length=w}}function v(E){let T=n.length;for(;T-- >E;){const A=n[T];e.containerState=A[1],A[0].exit.call(e,t)}n.length=E}function _(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function xAe(t,e,n){return Fr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function pp(t){if(t===null||ui(t)||Ud(t))return 1;if(uS(t))return 2}function cS(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const sD={name:"attention",resolveAll:RAe,tokenize:kAe};function RAe(t,e){let n=-1,r,i,o,l,u,c,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},p={...t[n][1].start};j6(f,-c),j6(p,c),l={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},o={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Qs(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Qs(d,[["enter",i,e],["enter",l,e],["exit",l,e],["enter",o,e]]),d=Qs(d,cS(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Qs(d,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=Qs(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,ks(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function kAe(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=pp(r);let o;return l;function l(c){return o=c,t.enter("attentionSequence"),u(c)}function u(c){if(c===o)return t.consume(c),u;const d=t.exit("attentionSequence"),h=pp(c),f=!h||h===2&&i||n.includes(c),p=!i||i===2&&h||n.includes(r);return d._open=!!(o===42?f:f&&(i||!p)),d._close=!!(o===42?p:p&&(h||!f)),e(c)}}function j6(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const CAe={name:"autolink",tokenize:DAe};function DAe(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(m){return ja(m)?(t.consume(m),l):m===64?n(m):d(m)}function l(m){return m===43||m===45||m===46||Pa(m)?(r=1,u(m)):d(m)}function u(m){return m===58?(t.consume(m),r=0,c):(m===43||m===45||m===46||Pa(m))&&r++<32?(t.consume(m),u):(r=0,d(m))}function c(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||n_(m)?n(m):(t.consume(m),c)}function d(m){return m===64?(t.consume(m),h):EAe(m)?(t.consume(m),d):n(m)}function h(m){return Pa(m)?f(m):n(m)}function f(m){return m===46?(t.consume(m),r=0,h):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||Pa(m))&&r++<63){const g=m===45?p:f;return t.consume(m),g}return n(m)}}const sb={partial:!0,tokenize:LAe};function LAe(t,e,n){return r;function r(o){return kr(o)?Fr(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||ir(o)?e(o):n(o)}}const gX={continuation:{tokenize:OAe},exit:MAe,name:"blockQuote",tokenize:PAe};function PAe(t,e,n){const r=this;return i;function i(l){if(l===62){const u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),o}return n(l)}function o(l){return kr(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function OAe(t,e,n){const r=this;return i;function i(l){return kr(l)?Fr(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return t.attempt(gX,e,n)(l)}}function MAe(t){t.exit("blockQuote")}const yX={name:"characterEscape",tokenize:NAe};function NAe(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return TAe(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const bX={name:"characterReference",tokenize:FAe};function FAe(t,e,n){const r=this;let i=0,o,l;return u;function u(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),c}function c(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,l=Pa,h(f))}function d(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,l=_Ae,h):(t.enter("characterReferenceValue"),o=7,l=aD,h(f))}function h(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return l===Pa&&!gy(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(f)&&i++<o?(t.consume(f),h):n(f)}}const H6={partial:!0,tokenize:BAe},G6={concrete:!0,name:"codeFenced",tokenize:UAe};function UAe(t,e,n){const r=this,i={partial:!0,tokenize:A};let o=0,l=0,u;return c;function c(w){return d(w)}function d(w){const I=r.events[r.events.length-1];return o=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,u=w,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(w)}function h(w){return w===u?(l++,t.consume(w),h):l<3?n(w):(t.exit("codeFencedFenceSequence"),kr(w)?Fr(t,f,"whitespace")(w):f(w))}function f(w){return w===null||ir(w)?(t.exit("codeFencedFence"),r.interrupt?e(w):t.check(H6,y,T)(w)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===null||ir(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(w)):kr(w)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Fr(t,m,"whitespace")(w)):w===96&&w===u?n(w):(t.consume(w),p)}function m(w){return w===null||ir(w)?f(w):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||ir(w)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(w)):w===96&&w===u?n(w):(t.consume(w),g)}function y(w){return t.attempt(i,T,b)(w)}function b(w){return t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),v}function v(w){return o>0&&kr(w)?Fr(t,_,"linePrefix",o+1)(w):_(w)}function _(w){return w===null||ir(w)?t.check(H6,y,T)(w):(t.enter("codeFlowValue"),E(w))}function E(w){return w===null||ir(w)?(t.exit("codeFlowValue"),_(w)):(t.consume(w),E)}function T(w){return t.exit("codeFenced"),e(w)}function A(w,I,C){let j=0;return F;function F(Te){return w.enter("lineEnding"),w.consume(Te),w.exit("lineEnding"),K}function K(Te){return w.enter("codeFencedFence"),kr(Te)?Fr(w,he,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Te):he(Te)}function he(Te){return Te===u?(w.enter("codeFencedFenceSequence"),q(Te)):C(Te)}function q(Te){return Te===u?(j++,w.consume(Te),q):j>=l?(w.exit("codeFencedFenceSequence"),kr(Te)?Fr(w,Ee,"whitespace")(Te):Ee(Te)):C(Te)}function Ee(Te){return Te===null||ir(Te)?(w.exit("codeFencedFence"),I(Te)):C(Te)}}}function BAe(t,e,n){const r=this;return i;function i(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}const mR={name:"codeIndented",tokenize:$Ae},zAe={partial:!0,tokenize:qAe};function $Ae(t,e,n){const r=this;return i;function i(d){return t.enter("codeIndented"),Fr(t,o,"linePrefix",5)(d)}function o(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?c(d):ir(d)?t.attempt(zAe,l,c)(d):(t.enter("codeFlowValue"),u(d))}function u(d){return d===null||ir(d)?(t.exit("codeFlowValue"),l(d)):(t.consume(d),u)}function c(d){return t.exit("codeIndented"),e(d)}}function qAe(t,e,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):ir(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i):Fr(t,o,"linePrefix",5)(l)}function o(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):ir(l)?i(l):n(l)}}const jAe={name:"codeText",previous:GAe,resolve:HAe,tokenize:VAe};function HAe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function GAe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function VAe(t,e,n){let r=0,i,o;return l;function l(f){return t.enter("codeText"),t.enter("codeTextSequence"),u(f)}function u(f){return f===96?(t.consume(f),r++,u):(t.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),c):f===96?(o=t.enter("codeTextSequence"),i=0,h(f)):ir(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),c):(t.enter("codeTextData"),d(f))}function d(f){return f===null||f===32||f===96||ir(f)?(t.exit("codeTextData"),c(f)):(t.consume(f),d)}function h(f){return f===96?(t.consume(f),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(o.type="codeTextData",d(f))}}class KAe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&hm(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),hm(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),hm(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);hm(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);hm(this.left,n.reverse())}}}function hm(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function vX(t){const e={};let n=-1,r,i,o,l,u,c,d;const h=new KAe(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,WAe(h,n)),n=e[n],d=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return ks(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function WAe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const u=l.events,c=[],d={};let h,f,p=-1,m=n,g=0,y=0;const b=[y];for(;m;){for(;t.get(++i)[1]!==m;);o.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),f&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<u.length;)u[p][0]==="exit"&&u[p-1][0]==="enter"&&u[p][1].type===u[p-1][1].type&&u[p][1].start.line!==u[p][1].end.line&&(y=p+1,b.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const v=u.slice(b[p],b[p+1]),_=o.pop();c.push([_,_+v.length-1]),t.splice(_,2,v)}for(c.reverse(),p=-1;++p<c.length;)d[g+c[p][0]]=g+c[p][1],g+=c[p][1]-c[p][0]-1;return d}const YAe={resolve:QAe,tokenize:ZAe},XAe={partial:!0,tokenize:JAe};function QAe(t){return vX(t),t}function ZAe(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?o(u):ir(u)?t.check(XAe,l,o)(u):(t.consume(u),i)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function JAe(t,e,n){const r=this;return i;function i(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),Fr(t,o,"linePrefix")}function o(l){if(l===null||ir(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function EX(t,e,n,r,i,o,l,u,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return f;function f(v){return v===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(v),t.exit(o),p):v===null||v===32||v===41||n_(v)?n(v):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),y(v))}function p(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(t.exit("chunkString"),t.exit(u),p(v)):v===null||v===60||ir(v)?n(v):(t.consume(v),v===92?g:m)}function g(v){return v===60||v===62||v===92?(t.consume(v),m):m(v)}function y(v){return!h&&(v===null||v===41||ui(v))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(v)):h<d&&v===40?(t.consume(v),h++,y):v===41?(t.consume(v),h--,y):v===null||v===32||v===40||n_(v)?n(v):(t.consume(v),v===92?b:y)}function b(v){return v===40||v===41||v===92?(t.consume(v),y):y(v)}}function _X(t,e,n,r,i,o){const l=this;let u=0,c;return d;function d(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(o),h}function h(m){return u>999||m===null||m===91||m===93&&!c||m===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(m):m===93?(t.exit(o),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):ir(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||ir(m)||u++>999?(t.exit("chunkString"),h(m)):(t.consume(m),c||(c=!kr(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),u++,f):f(m)}}function TX(t,e,n,r,i,o){let l;return u;function u(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),l=p===40?41:p,c):n(p)}function c(p){return p===l?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(o),d(p))}function d(p){return p===l?(t.exit(o),c(l)):p===null?n(p):ir(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Fr(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===l||p===null||ir(p)?(t.exit("chunkString"),d(p)):(t.consume(p),p===92?f:h)}function f(p){return p===l||p===92?(t.consume(p),h):h(p)}}function xg(t,e){let n;return r;function r(i){return ir(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):kr(i)?Fr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const e1e={name:"definition",tokenize:n1e},t1e={partial:!0,tokenize:r1e};function n1e(t,e,n){const r=this;let i;return o;function o(m){return t.enter("definition"),l(m)}function l(m){return _X.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function u(m){return i=$o(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),c):n(m)}function c(m){return ui(m)?xg(t,d)(m):d(m)}function d(m){return EX(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return t.attempt(t1e,f,f)(m)}function f(m){return kr(m)?Fr(t,p,"whitespace")(m):p(m)}function p(m){return m===null||ir(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function r1e(t,e,n){return r;function r(u){return ui(u)?xg(t,i)(u):n(u)}function i(u){return TX(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function o(u){return kr(u)?Fr(t,l,"whitespace")(u):l(u)}function l(u){return u===null||ir(u)?e(u):n(u)}}const i1e={name:"hardBreakEscape",tokenize:a1e};function a1e(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return ir(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const s1e={name:"headingAtx",resolve:o1e,tokenize:l1e};function o1e(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ks(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function l1e(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),o(h)}function o(h){return t.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(t.consume(h),l):h===null||ui(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||ir(h)?(t.exit("atxHeading"),e(h)):kr(h)?Fr(t,u,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),u(h))}function d(h){return h===null||h===35||ui(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),d)}}const u1e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],V6=["pre","script","style","textarea"],c1e={concrete:!0,name:"htmlFlow",resolveTo:h1e,tokenize:p1e},d1e={partial:!0,tokenize:g1e},f1e={partial:!0,tokenize:m1e};function h1e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function p1e(t,e,n){const r=this;let i,o,l,u,c;return d;function d(Ce){return h(Ce)}function h(Ce){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(Ce),f}function f(Ce){return Ce===33?(t.consume(Ce),p):Ce===47?(t.consume(Ce),o=!0,y):Ce===63?(t.consume(Ce),i=3,r.interrupt?e:Ie):ja(Ce)?(t.consume(Ce),l=String.fromCharCode(Ce),b):n(Ce)}function p(Ce){return Ce===45?(t.consume(Ce),i=2,m):Ce===91?(t.consume(Ce),i=5,u=0,g):ja(Ce)?(t.consume(Ce),i=4,r.interrupt?e:Ie):n(Ce)}function m(Ce){return Ce===45?(t.consume(Ce),r.interrupt?e:Ie):n(Ce)}function g(Ce){const dt="CDATA[";return Ce===dt.charCodeAt(u++)?(t.consume(Ce),u===dt.length?r.interrupt?e:he:g):n(Ce)}function y(Ce){return ja(Ce)?(t.consume(Ce),l=String.fromCharCode(Ce),b):n(Ce)}function b(Ce){if(Ce===null||Ce===47||Ce===62||ui(Ce)){const dt=Ce===47,Le=l.toLowerCase();return!dt&&!o&&V6.includes(Le)?(i=1,r.interrupt?e(Ce):he(Ce)):u1e.includes(l.toLowerCase())?(i=6,dt?(t.consume(Ce),v):r.interrupt?e(Ce):he(Ce)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(Ce):o?_(Ce):E(Ce))}return Ce===45||Pa(Ce)?(t.consume(Ce),l+=String.fromCharCode(Ce),b):n(Ce)}function v(Ce){return Ce===62?(t.consume(Ce),r.interrupt?e:he):n(Ce)}function _(Ce){return kr(Ce)?(t.consume(Ce),_):F(Ce)}function E(Ce){return Ce===47?(t.consume(Ce),F):Ce===58||Ce===95||ja(Ce)?(t.consume(Ce),T):kr(Ce)?(t.consume(Ce),E):F(Ce)}function T(Ce){return Ce===45||Ce===46||Ce===58||Ce===95||Pa(Ce)?(t.consume(Ce),T):A(Ce)}function A(Ce){return Ce===61?(t.consume(Ce),w):kr(Ce)?(t.consume(Ce),A):E(Ce)}function w(Ce){return Ce===null||Ce===60||Ce===61||Ce===62||Ce===96?n(Ce):Ce===34||Ce===39?(t.consume(Ce),c=Ce,I):kr(Ce)?(t.consume(Ce),w):C(Ce)}function I(Ce){return Ce===c?(t.consume(Ce),c=null,j):Ce===null||ir(Ce)?n(Ce):(t.consume(Ce),I)}function C(Ce){return Ce===null||Ce===34||Ce===39||Ce===47||Ce===60||Ce===61||Ce===62||Ce===96||ui(Ce)?A(Ce):(t.consume(Ce),C)}function j(Ce){return Ce===47||Ce===62||kr(Ce)?E(Ce):n(Ce)}function F(Ce){return Ce===62?(t.consume(Ce),K):n(Ce)}function K(Ce){return Ce===null||ir(Ce)?he(Ce):kr(Ce)?(t.consume(Ce),K):n(Ce)}function he(Ce){return Ce===45&&i===2?(t.consume(Ce),ge):Ce===60&&i===1?(t.consume(Ce),Be):Ce===62&&i===4?(t.consume(Ce),we):Ce===63&&i===3?(t.consume(Ce),Ie):Ce===93&&i===5?(t.consume(Ce),Ye):ir(Ce)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(d1e,je,q)(Ce)):Ce===null||ir(Ce)?(t.exit("htmlFlowData"),q(Ce)):(t.consume(Ce),he)}function q(Ce){return t.check(f1e,Ee,je)(Ce)}function Ee(Ce){return t.enter("lineEnding"),t.consume(Ce),t.exit("lineEnding"),Te}function Te(Ce){return Ce===null||ir(Ce)?q(Ce):(t.enter("htmlFlowData"),he(Ce))}function ge(Ce){return Ce===45?(t.consume(Ce),Ie):he(Ce)}function Be(Ce){return Ce===47?(t.consume(Ce),l="",He):he(Ce)}function He(Ce){if(Ce===62){const dt=l.toLowerCase();return V6.includes(dt)?(t.consume(Ce),we):he(Ce)}return ja(Ce)&&l.length<8?(t.consume(Ce),l+=String.fromCharCode(Ce),He):he(Ce)}function Ye(Ce){return Ce===93?(t.consume(Ce),Ie):he(Ce)}function Ie(Ce){return Ce===62?(t.consume(Ce),we):Ce===45&&i===2?(t.consume(Ce),Ie):he(Ce)}function we(Ce){return Ce===null||ir(Ce)?(t.exit("htmlFlowData"),je(Ce)):(t.consume(Ce),we)}function je(Ce){return t.exit("htmlFlow"),e(Ce)}}function m1e(t,e,n){const r=this;return i;function i(l){return ir(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function g1e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(sb,e,n)}}const y1e={name:"htmlText",tokenize:b1e};function b1e(t,e,n){const r=this;let i,o,l;return u;function u(Ie){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(Ie),c}function c(Ie){return Ie===33?(t.consume(Ie),d):Ie===47?(t.consume(Ie),A):Ie===63?(t.consume(Ie),E):ja(Ie)?(t.consume(Ie),C):n(Ie)}function d(Ie){return Ie===45?(t.consume(Ie),h):Ie===91?(t.consume(Ie),o=0,g):ja(Ie)?(t.consume(Ie),_):n(Ie)}function h(Ie){return Ie===45?(t.consume(Ie),m):n(Ie)}function f(Ie){return Ie===null?n(Ie):Ie===45?(t.consume(Ie),p):ir(Ie)?(l=f,Be(Ie)):(t.consume(Ie),f)}function p(Ie){return Ie===45?(t.consume(Ie),m):f(Ie)}function m(Ie){return Ie===62?ge(Ie):Ie===45?p(Ie):f(Ie)}function g(Ie){const we="CDATA[";return Ie===we.charCodeAt(o++)?(t.consume(Ie),o===we.length?y:g):n(Ie)}function y(Ie){return Ie===null?n(Ie):Ie===93?(t.consume(Ie),b):ir(Ie)?(l=y,Be(Ie)):(t.consume(Ie),y)}function b(Ie){return Ie===93?(t.consume(Ie),v):y(Ie)}function v(Ie){return Ie===62?ge(Ie):Ie===93?(t.consume(Ie),v):y(Ie)}function _(Ie){return Ie===null||Ie===62?ge(Ie):ir(Ie)?(l=_,Be(Ie)):(t.consume(Ie),_)}function E(Ie){return Ie===null?n(Ie):Ie===63?(t.consume(Ie),T):ir(Ie)?(l=E,Be(Ie)):(t.consume(Ie),E)}function T(Ie){return Ie===62?ge(Ie):E(Ie)}function A(Ie){return ja(Ie)?(t.consume(Ie),w):n(Ie)}function w(Ie){return Ie===45||Pa(Ie)?(t.consume(Ie),w):I(Ie)}function I(Ie){return ir(Ie)?(l=I,Be(Ie)):kr(Ie)?(t.consume(Ie),I):ge(Ie)}function C(Ie){return Ie===45||Pa(Ie)?(t.consume(Ie),C):Ie===47||Ie===62||ui(Ie)?j(Ie):n(Ie)}function j(Ie){return Ie===47?(t.consume(Ie),ge):Ie===58||Ie===95||ja(Ie)?(t.consume(Ie),F):ir(Ie)?(l=j,Be(Ie)):kr(Ie)?(t.consume(Ie),j):ge(Ie)}function F(Ie){return Ie===45||Ie===46||Ie===58||Ie===95||Pa(Ie)?(t.consume(Ie),F):K(Ie)}function K(Ie){return Ie===61?(t.consume(Ie),he):ir(Ie)?(l=K,Be(Ie)):kr(Ie)?(t.consume(Ie),K):j(Ie)}function he(Ie){return Ie===null||Ie===60||Ie===61||Ie===62||Ie===96?n(Ie):Ie===34||Ie===39?(t.consume(Ie),i=Ie,q):ir(Ie)?(l=he,Be(Ie)):kr(Ie)?(t.consume(Ie),he):(t.consume(Ie),Ee)}function q(Ie){return Ie===i?(t.consume(Ie),i=void 0,Te):Ie===null?n(Ie):ir(Ie)?(l=q,Be(Ie)):(t.consume(Ie),q)}function Ee(Ie){return Ie===null||Ie===34||Ie===39||Ie===60||Ie===61||Ie===96?n(Ie):Ie===47||Ie===62||ui(Ie)?j(Ie):(t.consume(Ie),Ee)}function Te(Ie){return Ie===47||Ie===62||ui(Ie)?j(Ie):n(Ie)}function ge(Ie){return Ie===62?(t.consume(Ie),t.exit("htmlTextData"),t.exit("htmlText"),e):n(Ie)}function Be(Ie){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(Ie),t.exit("lineEnding"),He}function He(Ie){return kr(Ie)?Fr(t,Ye,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Ie):Ye(Ie)}function Ye(Ie){return t.enter("htmlTextData"),l(Ie)}}const LM={name:"labelEnd",resolveAll:T1e,resolveTo:S1e,tokenize:w1e},v1e={tokenize:A1e},E1e={tokenize:I1e},_1e={tokenize:x1e};function T1e(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&ks(t,0,t.length,n),t}function S1e(t,e){let n=t.length,r=0,i,o,l,u;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const c={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[l][1].end}},h={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",c,e],["enter",d,e]],u=Qs(u,t.slice(o+1,o+r+3)),u=Qs(u,[["enter",h,e]]),u=Qs(u,cS(e.parser.constructs.insideSpan.null,t.slice(o+r+4,l-3),e)),u=Qs(u,[["exit",h,e],t[l-2],t[l-1],["exit",d,e]]),u=Qs(u,t.slice(l+1)),u=Qs(u,[["exit",c,e]]),ks(t,o,t.length,u),t}function w1e(t,e,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return u;function u(p){return o?o._inactive?f(p):(l=r.parser.defined.includes($o(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),c):n(p)}function c(p){return p===40?t.attempt(v1e,h,l?h:f)(p):p===91?t.attempt(E1e,h,l?d:f)(p):l?h(p):f(p)}function d(p){return t.attempt(_1e,h,f)(p)}function h(p){return e(p)}function f(p){return o._balanced=!0,n(p)}}function A1e(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return ui(f)?xg(t,o)(f):o(f)}function o(f){return f===41?h(f):EX(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function l(f){return ui(f)?xg(t,c)(f):h(f)}function u(f){return n(f)}function c(f){return f===34||f===39||f===40?TX(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function d(f){return ui(f)?xg(t,h)(f):h(f)}function h(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function I1e(t,e,n){const r=this;return i;function i(u){return _X.call(r,t,o,l,"reference","referenceMarker","referenceString")(u)}function o(u){return r.parser.defined.includes($o(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function x1e(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const R1e={name:"labelStartImage",resolveAll:LM.resolveAll,tokenize:k1e};function k1e(t,e,n){const r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const C1e={name:"labelStartLink",resolveAll:LM.resolveAll,tokenize:D1e};function D1e(t,e,n){const r=this;return i;function i(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}const gR={name:"lineEnding",tokenize:L1e};function L1e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Fr(t,e,"linePrefix")}}const Xv={name:"thematicBreak",tokenize:P1e};function P1e(t,e,n){let r=0,i;return o;function o(d){return t.enter("thematicBreak"),l(d)}function l(d){return i=d,u(d)}function u(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||ir(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===i?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),kr(d)?Fr(t,u,"whitespace")(d):u(d))}}const Ja={continuation:{tokenize:F1e},exit:B1e,name:"list",tokenize:N1e},O1e={partial:!0,tokenize:z1e},M1e={partial:!0,tokenize:U1e};function N1e(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return u;function u(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:aD(m)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Xv,n,d)(m):d(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(m)}return n(m)}function c(m){return aD(m)&&++l<10?(t.consume(m),c):(!r.interrupt||l<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),d(m)):n(m)}function d(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(sb,r.interrupt?n:h,t.attempt(O1e,p,f))}function h(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function f(m){return kr(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function F1e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(sb,i,o);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Fr(t,e,"listItemIndent",r.containerState.size+1)(u)}function o(u){return r.containerState.furtherBlankLines||!kr(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(M1e,e,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,Fr(t,t.attempt(Ja,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function U1e(t,e,n){const r=this;return Fr(t,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(o):n(o)}}function B1e(t){t.exit(this.containerState.type)}function z1e(t,e,n){const r=this;return Fr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!kr(o)&&l&&l[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const K6={name:"setextUnderline",resolveTo:$1e,tokenize:q1e};function $1e(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",l,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function q1e(t,e,n){const r=this;let i;return o;function o(d){let h=r.events.length,f;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){f=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=d,l(d)):n(d)}function l(d){return t.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===i?(t.consume(d),u):(t.exit("setextHeadingLineSequence"),kr(d)?Fr(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||ir(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const j1e={tokenize:H1e};function H1e(t){const e=this,n=t.attempt(sb,r,t.attempt(this.parser.constructs.flowInitial,i,Fr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(YAe,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const G1e={resolveAll:wX()},V1e=SX("string"),K1e=SX("text");function SX(t){return{resolveAll:wX(t==="text"?W1e:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,l,u);return l;function l(h){return d(h)?o(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return d(h)?(n.exit("data"),o(h)):(n.consume(h),c)}function d(h){if(h===null)return!0;const f=i[h];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function wX(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function W1e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,l=-1,u=0,c;for(;o--;){const d=i[o];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(d===-2)c=!0,u++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){const d={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const Y1e={42:Ja,43:Ja,45:Ja,48:Ja,49:Ja,50:Ja,51:Ja,52:Ja,53:Ja,54:Ja,55:Ja,56:Ja,57:Ja,62:gX},X1e={91:e1e},Q1e={[-2]:mR,[-1]:mR,32:mR},Z1e={35:s1e,42:Xv,45:[K6,Xv],60:c1e,61:K6,95:Xv,96:G6,126:G6},J1e={38:bX,92:yX},eIe={[-5]:gR,[-4]:gR,[-3]:gR,33:R1e,38:bX,42:sD,60:[CAe,y1e],91:C1e,92:[i1e,yX],93:LM,95:sD,96:jAe},tIe={null:[sD,G1e]},nIe={null:[42,95]},rIe={null:[]},iIe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:nIe,contentInitial:X1e,disable:rIe,document:Y1e,flow:Z1e,flowInitial:Q1e,insideSpan:tIe,string:J1e,text:eIe},Symbol.toStringTag,{value:"Module"}));function aIe(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],u=[];const c={attempt:I(A),check:I(w),consume:_,enter:E,exit:T,interrupt:I(w,{interrupt:!0})},d={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:t,previous:null,sliceSerialize:p,sliceStream:m,write:f};let h=e.tokenize.call(d,c);return e.resolveAll&&o.push(e),d;function f(K){return l=Qs(l,K),b(),l[l.length-1]!==null?[]:(C(e,0),d.events=cS(o,d.events,d),d.events)}function p(K,he){return oIe(m(K),he)}function m(K){return sIe(l,K)}function g(){const{_bufferIndex:K,_index:he,line:q,column:Ee,offset:Te}=r;return{_bufferIndex:K,_index:he,line:q,column:Ee,offset:Te}}function y(K){i[K.line]=K.column,F()}function b(){let K;for(;r._index<l.length;){const he=l[r._index];if(typeof he=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<he.length;)v(he.charCodeAt(r._bufferIndex));else v(he)}}function v(K){h=h(K)}function _(K){ir(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,F()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=K}function E(K,he){const q=he||{};return q.type=K,q.start=g(),d.events.push(["enter",q,d]),u.push(q),q}function T(K){const he=u.pop();return he.end=g(),d.events.push(["exit",he,d]),he}function A(K,he){C(K,he.from)}function w(K,he){he.restore()}function I(K,he){return q;function q(Ee,Te,ge){let Be,He,Ye,Ie;return Array.isArray(Ee)?je(Ee):"tokenize"in Ee?je([Ee]):we(Ee);function we(Pe){return it;function it(J){const G=J!==null&&Pe[J],P=J!==null&&Pe.null,$=[...Array.isArray(G)?G:G?[G]:[],...Array.isArray(P)?P:P?[P]:[]];return je($)(J)}}function je(Pe){return Be=Pe,He=0,Pe.length===0?ge:Ce(Pe[He])}function Ce(Pe){return it;function it(J){return Ie=j(),Ye=Pe,Pe.partial||(d.currentConstruct=Pe),Pe.name&&d.parser.constructs.disable.null.includes(Pe.name)?Le():Pe.tokenize.call(he?Object.assign(Object.create(d),he):d,c,dt,Le)(J)}}function dt(Pe){return K(Ye,Ie),Te}function Le(Pe){return Ie.restore(),++He<Be.length?Ce(Be[He]):ge}}}function C(K,he){K.resolveAll&&!o.includes(K)&&o.push(K),K.resolve&&ks(d.events,he,d.events.length-he,K.resolve(d.events.slice(he),d)),K.resolveTo&&(d.events=K.resolveTo(d.events,d))}function j(){const K=g(),he=d.previous,q=d.currentConstruct,Ee=d.events.length,Te=Array.from(u);return{from:Ee,restore:ge};function ge(){r=K,d.previous=he,d.currentConstruct=q,d.events.length=Ee,u=Te,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function sIe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let l;if(n===i)l=[t[n].slice(r,o)];else{if(l=t.slice(n,i),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}o>0&&l.push(t[i].slice(0,o))}return l}function oIe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function lIe(t){const r={constructs:pX([iIe,...(t||{}).extensions||[]]),content:i(SAe),defined:[],document:i(AAe),flow:i(j1e),lazy:{},string:i(V1e),text:i(K1e)};return r;function i(o){return l;function l(u){return aIe(r,o,u)}}}function uIe(t){for(;!vX(t););return t}const W6=/[\0\t\n\r]/g;function cIe(){let t=1,e="",n=!0,r;return i;function i(o,l,u){const c=[];let d,h,f,p,m;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),f=0,e="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(W6.lastIndex=f,d=W6.exec(o),p=d&&d.index!==void 0?d.index:o.length,m=o.charCodeAt(p),!d){e=o.slice(f);break}if(m===10&&f===p&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<p&&(c.push(o.slice(f,p)),t+=p-f),m){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return u&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}const dIe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fIe(t){return t.replace(dIe,hIe)}function hIe(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return mX(n.slice(o?2:1),o?16:10)}return gy(n)||t}const AX={}.hasOwnProperty;function pIe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),mIe(n)(uIe(lIe(n).document().write(cIe()(t,e,!0))))}function mIe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Je),autolinkProtocol:j,autolinkEmail:j,atxHeading:o(Qe),blockQuote:o(P),characterEscape:j,characterReference:j,codeFenced:o($),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o($,l),codeText:o(ae,l),codeTextData:j,data:j,codeFlowValue:j,definition:o(ne),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o($e),hardBreakEscape:o(Ve),hardBreakTrailing:o(Ve),htmlFlow:o(We,l),htmlFlowData:j,htmlText:o(We,l),htmlTextData:j,image:o(Ke),label:l,link:o(Je),listItem:o(nt),listItemValue:p,listOrdered:o(ft,f),listUnordered:o(ft),paragraph:o(bt),reference:Ce,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Qe),strong:o(tn),thematicBreak:o(Wt)},exit:{atxHeading:c(),atxHeadingSequence:A,autolink:c(),autolinkEmail:G,autolinkProtocol:J,blockQuote:c(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Le,characterReferenceMarkerNumeric:Le,characterReferenceValue:Pe,characterReference:it,codeFenced:c(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:F,codeIndented:c(v),codeText:c(Te),codeTextData:F,data:F,definition:c(),definitionDestinationString:T,definitionLabelString:_,definitionTitleString:E,emphasis:c(),hardBreakEscape:c(he),hardBreakTrailing:c(he),htmlFlow:c(q),htmlFlowData:F,htmlText:c(Ee),htmlTextData:F,image:c(Be),label:Ye,labelText:He,lineEnding:K,link:c(ge),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:dt,resourceDestinationString:Ie,resourceTitleString:we,resource:je,setextHeading:c(C),setextHeadingLineSequence:I,setextHeadingText:w,strong:c(),thematicBreak:c()}};IX(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Ze){let At={type:"root",children:[]};const mn={stack:[At],tokenStack:[],config:e,enter:u,exit:d,buffer:l,resume:h,data:n},xn=[];let Nn=-1;for(;++Nn<Ze.length;)if(Ze[Nn][1].type==="listOrdered"||Ze[Nn][1].type==="listUnordered")if(Ze[Nn][0]==="enter")xn.push(Nn);else{const Yn=xn.pop();Nn=i(Ze,Yn,Nn)}for(Nn=-1;++Nn<Ze.length;){const Yn=e[Ze[Nn][0]];AX.call(Yn,Ze[Nn][1].type)&&Yn[Ze[Nn][1].type].call(Object.assign({sliceSerialize:Ze[Nn][2].sliceSerialize},mn),Ze[Nn][1])}if(mn.tokenStack.length>0){const Yn=mn.tokenStack[mn.tokenStack.length-1];(Yn[1]||Y6).call(mn,void 0,Yn[0])}for(At.position={start:Fu(Ze.length>0?Ze[0][1].start:{line:1,column:1,offset:0}),end:Fu(Ze.length>0?Ze[Ze.length-2][1].end:{line:1,column:1,offset:0})},Nn=-1;++Nn<e.transforms.length;)At=e.transforms[Nn](At)||At;return At}function i(Ze,At,mn){let xn=At-1,Nn=-1,Yn=!1,Tr,_t,It,mt;for(;++xn<=mn;){const ht=Ze[xn];switch(ht[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ht[0]==="enter"?Nn++:Nn--,mt=void 0;break}case"lineEndingBlank":{ht[0]==="enter"&&(Tr&&!mt&&!Nn&&!It&&(It=xn),mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mt=void 0}if(!Nn&&ht[0]==="enter"&&ht[1].type==="listItemPrefix"||Nn===-1&&ht[0]==="exit"&&(ht[1].type==="listUnordered"||ht[1].type==="listOrdered")){if(Tr){let Vt=xn;for(_t=void 0;Vt--;){const $t=Ze[Vt];if($t[1].type==="lineEnding"||$t[1].type==="lineEndingBlank"){if($t[0]==="exit")continue;_t&&(Ze[_t][1].type="lineEndingBlank",Yn=!0),$t[1].type="lineEnding",_t=Vt}else if(!($t[1].type==="linePrefix"||$t[1].type==="blockQuotePrefix"||$t[1].type==="blockQuotePrefixWhitespace"||$t[1].type==="blockQuoteMarker"||$t[1].type==="listItemIndent"))break}It&&(!_t||It<_t)&&(Tr._spread=!0),Tr.end=Object.assign({},_t?Ze[_t][1].start:ht[1].end),Ze.splice(_t||xn,0,["exit",Tr,ht[2]]),xn++,mn++}if(ht[1].type==="listItemPrefix"){const Vt={type:"listItem",_spread:!1,start:Object.assign({},ht[1].start),end:void 0};Tr=Vt,Ze.splice(xn,0,["enter",Vt,ht[2]]),xn++,mn++,It=void 0,mt=!0}}}return Ze[At][1]._spread=Yn,mn}function o(Ze,At){return mn;function mn(xn){u.call(this,Ze(xn),xn),At&&At.call(this,xn)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(Ze,At,mn){this.stack[this.stack.length-1].children.push(Ze),this.stack.push(Ze),this.tokenStack.push([At,mn||void 0]),Ze.position={start:Fu(At.start),end:void 0}}function c(Ze){return At;function At(mn){Ze&&Ze.call(this,mn),d.call(this,mn)}}function d(Ze,At){const mn=this.stack.pop(),xn=this.tokenStack.pop();if(xn)xn[0].type!==Ze.type&&(At?At.call(this,Ze,xn[0]):(xn[1]||Y6).call(this,Ze,xn[0]));else throw new Error("Cannot close `"+Ze.type+"` ("+Ig({start:Ze.start,end:Ze.end})+"): its not open");mn.position.end=Fu(Ze.end)}function h(){return DM(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(Ze){if(this.data.expectingFirstListItemValue){const At=this.stack[this.stack.length-2];At.start=Number.parseInt(this.sliceSerialize(Ze),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.lang=Ze}function g(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.meta=Ze}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.value=Ze.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.value=Ze.replace(/(\r?\n|\r)$/g,"")}function _(Ze){const At=this.resume(),mn=this.stack[this.stack.length-1];mn.label=At,mn.identifier=$o(this.sliceSerialize(Ze)).toLowerCase()}function E(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.title=Ze}function T(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.url=Ze}function A(Ze){const At=this.stack[this.stack.length-1];if(!At.depth){const mn=this.sliceSerialize(Ze).length;At.depth=mn}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function I(Ze){const At=this.stack[this.stack.length-1];At.depth=this.sliceSerialize(Ze).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function j(Ze){const mn=this.stack[this.stack.length-1].children;let xn=mn[mn.length-1];(!xn||xn.type!=="text")&&(xn=zt(),xn.position={start:Fu(Ze.start),end:void 0},mn.push(xn)),this.stack.push(xn)}function F(Ze){const At=this.stack.pop();At.value+=this.sliceSerialize(Ze),At.position.end=Fu(Ze.end)}function K(Ze){const At=this.stack[this.stack.length-1];if(this.data.atHardBreak){const mn=At.children[At.children.length-1];mn.position.end=Fu(Ze.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(At.type)&&(j.call(this,Ze),F.call(this,Ze))}function he(){this.data.atHardBreak=!0}function q(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.value=Ze}function Ee(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.value=Ze}function Te(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.value=Ze}function ge(){const Ze=this.stack[this.stack.length-1];if(this.data.inReference){const At=this.data.referenceType||"shortcut";Ze.type+="Reference",Ze.referenceType=At,delete Ze.url,delete Ze.title}else delete Ze.identifier,delete Ze.label;this.data.referenceType=void 0}function Be(){const Ze=this.stack[this.stack.length-1];if(this.data.inReference){const At=this.data.referenceType||"shortcut";Ze.type+="Reference",Ze.referenceType=At,delete Ze.url,delete Ze.title}else delete Ze.identifier,delete Ze.label;this.data.referenceType=void 0}function He(Ze){const At=this.sliceSerialize(Ze),mn=this.stack[this.stack.length-2];mn.label=fIe(At),mn.identifier=$o(At).toLowerCase()}function Ye(){const Ze=this.stack[this.stack.length-1],At=this.resume(),mn=this.stack[this.stack.length-1];if(this.data.inReference=!0,mn.type==="link"){const xn=Ze.children;mn.children=xn}else mn.alt=At}function Ie(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.url=Ze}function we(){const Ze=this.resume(),At=this.stack[this.stack.length-1];At.title=Ze}function je(){this.data.inReference=void 0}function Ce(){this.data.referenceType="collapsed"}function dt(Ze){const At=this.resume(),mn=this.stack[this.stack.length-1];mn.label=At,mn.identifier=$o(this.sliceSerialize(Ze)).toLowerCase(),this.data.referenceType="full"}function Le(Ze){this.data.characterReferenceType=Ze.type}function Pe(Ze){const At=this.sliceSerialize(Ze),mn=this.data.characterReferenceType;let xn;mn?(xn=mX(At,mn==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xn=gy(At);const Nn=this.stack[this.stack.length-1];Nn.value+=xn}function it(Ze){const At=this.stack.pop();At.position.end=Fu(Ze.end)}function J(Ze){F.call(this,Ze);const At=this.stack[this.stack.length-1];At.url=this.sliceSerialize(Ze)}function G(Ze){F.call(this,Ze);const At=this.stack[this.stack.length-1];At.url="mailto:"+this.sliceSerialize(Ze)}function P(){return{type:"blockquote",children:[]}}function $(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function Qe(){return{type:"heading",depth:0,children:[]}}function Ve(){return{type:"break"}}function We(){return{type:"html",value:""}}function Ke(){return{type:"image",title:null,url:"",alt:null}}function Je(){return{type:"link",title:null,url:"",children:[]}}function ft(Ze){return{type:"list",ordered:Ze.type==="listOrdered",start:null,spread:Ze._spread,children:[]}}function nt(Ze){return{type:"listItem",spread:Ze._spread,checked:null,children:[]}}function bt(){return{type:"paragraph",children:[]}}function tn(){return{type:"strong",children:[]}}function zt(){return{type:"text",value:""}}function Wt(){return{type:"thematicBreak"}}}function Fu(t){return{line:t.line,column:t.column,offset:t.offset}}function IX(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?IX(t,r):gIe(t,r)}}function gIe(t,e){let n;for(n in e)if(AX.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Y6(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ig({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ig({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ig({start:e.start,end:e.end})+") is still open")}function yIe(t){const e=this;e.parser=n;function n(r){return pIe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function bIe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function vIe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function EIe(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function _Ie(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function TIe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function SIe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Np(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let l,u=t.footnoteCounts.get(r);u===void 0?(u=0,t.footnoteOrder.push(r),l=t.footnoteOrder.length):l=o+1,u+=1,t.footnoteCounts.set(r,u);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(e,c);const d={type:"element",tagName:"sup",properties:{},children:[c]};return t.patch(e,d),t.applyData(e,d)}function wIe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function AIe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function xX(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function IIe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xX(t,e);const i={src:Np(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,o),t.applyData(e,o)}function xIe(t,e){const n={src:Np(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function RIe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function kIe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xX(t,e);const i={href:Np(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function CIe(t,e){const n={href:Np(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function DIe(t,e,n){const r=t.all(e),i=n?LIe(n):RX(e),o={},l=[];if(typeof e.checked=="boolean"){const h=r[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(i||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?l.push(...h.children):l.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:l};return t.patch(e,d),t.applyData(e,d)}function LIe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=RX(n[r])}return e}function RX(t){const e=t.spread;return e??t.children.length>1}function PIe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function OIe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MIe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function NIe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function FIe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},u=xM(e.children[1]),c=oX(e.children[e.children.length-1]);u&&c&&(l.position={start:u,end:c}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function UIe(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:e.children.length;let c=-1;const d=[];for(;++c<u;){const f=e.children[c],p={},m=l?l[c]:void 0;m&&(p.align=m);let g={type:"element",tagName:o,properties:p,children:[]};f&&(g.children=t.all(f),t.patch(f,g),g=t.applyData(f,g)),d.push(g)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,h),t.applyData(e,h)}function BIe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const X6=9,Q6=32;function zIe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const o=[];for(;r;)o.push(Z6(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return o.push(Z6(e.slice(i),i>0,!1)),o.join("")}function Z6(t,e,n){let r=0,i=t.length;if(e){let o=t.codePointAt(r);for(;o===X6||o===Q6;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(i-1);for(;o===X6||o===Q6;)i--,o=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function $Ie(t,e){const n={type:"text",value:zIe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function qIe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const jIe={blockquote:bIe,break:vIe,code:EIe,delete:_Ie,emphasis:TIe,footnoteReference:SIe,heading:wIe,html:AIe,imageReference:IIe,image:xIe,inlineCode:RIe,linkReference:kIe,link:CIe,listItem:DIe,list:PIe,paragraph:OIe,root:MIe,strong:NIe,table:FIe,tableCell:BIe,tableRow:UIe,text:$Ie,thematicBreak:qIe,toml:Zb,yaml:Zb,definition:Zb,footnoteDefinition:Zb};function Zb(){}const kX=-1,dS=0,Rg=1,r_=2,PM=3,OM=4,MM=5,NM=6,CX=7,DX=8,J6=typeof self=="object"?self:globalThis,HIe=(t,e)=>{const n=(i,o)=>(t.set(o,i),i),r=i=>{if(t.has(i))return t.get(i);const[o,l]=e[i];switch(o){case dS:case kX:return n(l,i);case Rg:{const u=n([],i);for(const c of l)u.push(r(c));return u}case r_:{const u=n({},i);for(const[c,d]of l)u[r(c)]=r(d);return u}case PM:return n(new Date(l),i);case OM:{const{source:u,flags:c}=l;return n(new RegExp(u,c),i)}case MM:{const u=n(new Map,i);for(const[c,d]of l)u.set(r(c),r(d));return u}case NM:{const u=n(new Set,i);for(const c of l)u.add(r(c));return u}case CX:{const{name:u,message:c}=l;return n(new J6[u](c),i)}case DX:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new J6[o](l),i)};return r},eq=t=>HIe(new Map,t)(0),Sf="",{toString:GIe}={},{keys:VIe}=Object,pm=t=>{const e=typeof t;if(e!=="object"||!t)return[dS,e];const n=GIe.call(t).slice(8,-1);switch(n){case"Array":return[Rg,Sf];case"Object":return[r_,Sf];case"Date":return[PM,Sf];case"RegExp":return[OM,Sf];case"Map":return[MM,Sf];case"Set":return[NM,Sf];case"DataView":return[Rg,n]}return n.includes("Array")?[Rg,n]:n.includes("Error")?[CX,n]:[r_,n]},Jb=([t,e])=>t===dS&&(e==="function"||e==="symbol"),KIe=(t,e,n,r)=>{const i=(l,u)=>{const c=r.push(l)-1;return n.set(u,c),c},o=l=>{if(n.has(l))return n.get(l);let[u,c]=pm(l);switch(u){case dS:{let h=l;switch(c){case"bigint":u=DX,h=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+c);h=null;break;case"undefined":return i([kX],l)}return i([u,h],l)}case Rg:{if(c){let p=l;return c==="DataView"?p=new Uint8Array(l.buffer):c==="ArrayBuffer"&&(p=new Uint8Array(l)),i([c,[...p]],l)}const h=[],f=i([u,h],l);for(const p of l)h.push(o(p));return f}case r_:{if(c)switch(c){case"BigInt":return i([c,l.toString()],l);case"Boolean":case"Number":case"String":return i([c,l.valueOf()],l)}if(e&&"toJSON"in l)return o(l.toJSON());const h=[],f=i([u,h],l);for(const p of VIe(l))(t||!Jb(pm(l[p])))&&h.push([o(p),o(l[p])]);return f}case PM:return i([u,l.toISOString()],l);case OM:{const{source:h,flags:f}=l;return i([u,{source:h,flags:f}],l)}case MM:{const h=[],f=i([u,h],l);for(const[p,m]of l)(t||!(Jb(pm(p))||Jb(pm(m))))&&h.push([o(p),o(m)]);return f}case NM:{const h=[],f=i([u,h],l);for(const p of l)(t||!Jb(pm(p)))&&h.push(o(p));return f}}const{message:d}=l;return i([u,{name:c,message:d}],l)};return o},tq=(t,{json:e,lossy:n}={})=>{const r=[];return KIe(!(e||n),!!e,new Map,r)(t),r},i_=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?eq(tq(t,e)):structuredClone(t):(t,e)=>eq(tq(t,e));function WIe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function YIe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function XIe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||WIe,r=t.options.footnoteBackLabel||YIe,i=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",l=t.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let c=-1;for(;++c<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[c]);if(!d)continue;const h=t.all(d),f=String(d.identifier).toUpperCase(),p=Np(f.toLowerCase());let m=0;const g=[],y=t.footnoteCounts.get(f);for(;y!==void 0&&++m<=y;){g.length>0&&g.push({type:"text",value:" "});let _=typeof n=="string"?n:n(c,m);typeof _=="string"&&(_={type:"text",value:_}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const b=h[h.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const _=b.children[b.children.length-1];_&&_.type==="text"?_.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...g)}else h.push(...g);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(h,!0)};t.patch(d,v),u.push(v)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...i_(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(u,!0)},{type:"text",value:`
`}]}}const fS=(function(t){if(t==null)return exe;if(typeof t=="function")return hS(t);if(typeof t=="object")return Array.isArray(t)?QIe(t):ZIe(t);if(typeof t=="string")return JIe(t);throw new Error("Expected function, string, or object as test")});function QIe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=fS(t[n]);return hS(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function ZIe(t){const e=t;return hS(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function JIe(t){return hS(e);function e(n){return n&&n.type===t}}function hS(t){return e;function e(n,r,i){return!!(txe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function exe(){return!0}function txe(t){return t!==null&&typeof t=="object"&&"type"in t}const LX=[],nxe=!0,oD=!1,rxe="skip";function PX(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=fS(i),l=r?-1:1;u(t,void 0,[])();function u(c,d,h){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=LX,g,y,b;if((!e||o(c,d,h[h.length-1]||void 0))&&(m=ixe(n(c,h)),m[0]===oD))return m;if("children"in c&&c.children){const v=c;if(v.children&&m[0]!==rxe)for(y=(r?v.children.length:-1)+l,b=h.concat(v);y>-1&&y<v.children.length;){const _=v.children[y];if(g=u(_,y,b)(),g[0]===oD)return g;y=typeof g[1]=="number"?g[1]:y+l}}return m}}}function ixe(t){return Array.isArray(t)?t:typeof t=="number"?[nxe,t]:t==null?LX:[t]}function FM(t,e,n,r){let i,o,l;typeof e=="function"&&typeof n!="function"?(o=void 0,l=e,i=n):(o=e,l=n,i=r),PX(t,o,u,i);function u(c,d){const h=d[d.length-1],f=h?h.children.indexOf(c):void 0;return l(c,f,h)}}const lD={}.hasOwnProperty,axe={};function sxe(t,e){const n=e||axe,r=new Map,i=new Map,o=new Map,l={...jIe,...n.handlers},u={all:d,applyData:lxe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:c,options:n,patch:oxe,wrap:cxe};return FM(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?r:i,p=String(h.identifier).toUpperCase();f.has(p)||f.set(p,h)}}),u;function c(h,f){const p=h.type,m=u.handlers[p];if(lD.call(u.handlers,p)&&m)return m(u,h,f);if(u.options.passThrough&&u.options.passThrough.includes(p)){if("children"in h){const{children:y,...b}=h,v=i_(b);return v.children=u.all(h),v}return i_(h)}return(u.options.unknownHandler||uxe)(u,h,f)}function d(h){const f=[];if("children"in h){const p=h.children;let m=-1;for(;++m<p.length;){const g=u.one(p[m],h);if(g){if(m&&p[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=nq(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=nq(y.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function oxe(t,e){t.position&&(e.position=Ywe(t))}function lxe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,i_(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function uxe(t,e){const n=e.data||{},r="value"in e&&!(lD.call(n,"hProperties")||lD.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function cxe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function nq(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function rq(t,e){const n=sxe(t,e),r=n.one(t,void 0),i=XIe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function dxe(t,e){return t&&"run"in t?async function(n,r){const i=rq(n,{file:r,...e});await t.run(i,r)}:function(n,r){return rq(n,{file:r,...t||e})}}function iq(t){if(t)throw t}var yR,aq;function fxe(){if(aq)return yR;aq=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var h=t.call(d,"constructor"),f=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!f)return!1;var p;for(p in d);return typeof p>"u"||t.call(d,p)},l=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},u=function(d,h){if(h==="__proto__")if(t.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return yR=function c(){var d,h,f,p,m,g,y=arguments[0],b=1,v=arguments.length,_=!1;for(typeof y=="boolean"&&(_=y,y=arguments[1]||{},b=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});b<v;++b)if(d=arguments[b],d!=null)for(h in d)f=u(y,h),p=u(d,h),y!==p&&(_&&p&&(o(p)||(m=i(p)))?(m?(m=!1,g=f&&i(f)?f:[]):g=f&&o(f)?f:{},l(y,{name:h,newValue:c(_,g,p)})):typeof p<"u"&&l(y,{name:h,newValue:p}));return y},yR}var hxe=fxe();const bR=Na(hxe);function uD(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pxe(){const t=[],e={run:n,use:r};return e;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...i);function u(c,...d){const h=t[++o];let f=-1;if(c){l(c);return}for(;++f<i.length;)(d[f]===null||d[f]===void 0)&&(d[f]=i[f]);i=d,h?mxe(h,u)(...d):l(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function mxe(t,e){let n;return r;function r(...l){const u=t.length>l.length;let c;u&&l.push(i);try{c=t.apply(this,l)}catch(d){const h=d;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(o,i):c instanceof Error?i(c):o(c))}function i(l,...u){n||(n=!0,e(l,...u))}function o(l){i(null,l)}}const bl={basename:gxe,dirname:yxe,extname:bxe,join:vxe,sep:"/"};function gxe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ob(t);let n=0,r=-1,i=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let l=-1,u=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),u>-1&&(t.codePointAt(i)===e.codePointAt(u--)?u<0&&(r=i):(u=-1,r=l));return n===r?r=l:r<0&&(r=t.length),t.slice(n,r)}function yxe(t){if(ob(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function bxe(t){ob(t);let e=t.length,n=-1,r=0,i=-1,o=0,l;for(;e--;){const u=t.codePointAt(e);if(u===47){if(l){r=e+1;break}continue}n<0&&(l=!0,n=e+1),u===46?i<0?i=e:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function vxe(...t){let e=-1,n;for(;++e<t.length;)ob(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Exe(n)}function Exe(t){ob(t);const e=t.codePointAt(0)===47;let n=_xe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function _xe(t,e){let n="",r=0,i=-1,o=0,l=-1,u,c;for(;++l<=t.length;){if(l<t.length)u=t.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,o=0}else u===46&&o>-1?o++:o=-1}return n}function ob(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Txe={cwd:Sxe};function Sxe(){return"/"}function cD(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function wxe(t){if(typeof t=="string")t=new URL(t);else if(!cD(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Axe(t)}function Axe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const vR=["history","path","basename","stem","extname","dirname"];class OX{constructor(e){let n;e?cD(e)?n={path:e}:typeof e=="string"||Ixe(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Txe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<vR.length;){const o=vR[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)vR.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?bl.basename(this.path):void 0}set basename(e){_R(e,"basename"),ER(e,"basename"),this.path=bl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?bl.dirname(this.path):void 0}set dirname(e){sq(this.basename,"dirname"),this.path=bl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?bl.extname(this.path):void 0}set extname(e){if(ER(e,"extname"),sq(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=bl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){cD(e)&&(e=wxe(e)),_R(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?bl.basename(this.path,this.extname):void 0}set stem(e){_R(e,"stem"),ER(e,"stem"),this.path=bl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Fa(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ER(t,e){if(t&&t.includes(bl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+bl.sep+"`")}function _R(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function sq(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Ixe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const xxe=(function(t){const r=this.constructor.prototype,i=r[t],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),Rxe={}.hasOwnProperty;class UM extends xxe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pxe()}copy(){const e=new UM;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(bR(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(wR("data",this.frozen),this.namespace[e]=n,this):Rxe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(wR("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ev(e),r=this.parser||this.Parser;return TR("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),TR("process",this.parser||this.Parser),SR("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const u=ev(e),c=r.parse(u);r.run(c,u,function(h,f,p){if(h||!f||!p)return d(h);const m=f,g=r.stringify(m,p);Dxe(g)?p.value=g:p.result=g,d(h,p)});function d(h,f){h||!f?l(h):o?o(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),TR("processSync",this.parser||this.Parser),SR("processSync",this.compiler||this.Compiler),this.process(e,i),lq("processSync","process",n),r;function i(o,l){n=!0,iq(o),r=l}}run(e,n,r){oq(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,u){const c=ev(n);i.run(e,c,d);function d(h,f,p){const m=f||e;h?u(h):l?l(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,o),lq("runSync","run",r),i;function o(l,u){iq(l),i=u,r=!0}}stringify(e,n){this.freeze();const r=ev(n),i=this.compiler||this.Compiler;return SR("stringify",i),oq(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(wR("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...f]=d;c(h,f)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(i.settings=bR(!0,i.settings,d.settings))}function u(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const f=d[h];o(f)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,h){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===d){p=f;break}if(p===-1)r.push([d,...h]);else if(h.length>0){let[m,...g]=h;const y=r[p][1];uD(y)&&uD(m)&&(m=bR(!0,y,m)),r[p]=[d,m,...g]}}}}const kxe=new UM().freeze();function TR(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function SR(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function wR(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function oq(t){if(!uD(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function lq(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ev(t){return Cxe(t)?t:new OX(t)}function Cxe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Dxe(t){return typeof t=="string"||Lxe(t)}function Lxe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Pxe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",uq=[],cq={allowDangerousHtml:!0},Oxe=/^(https?|ircs?|mailto|xmpp)$/i,Mxe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function v7e(t){const e=Nxe(t),n=Fxe(t);return Uxe(e.runSync(e.parse(n),n),t)}function Nxe(t){const e=t.rehypePlugins||uq,n=t.remarkPlugins||uq,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...cq}:cq;return kxe().use(yIe).use(n).use(dxe,r).use(e)}function Fxe(t){const e=t.children||"",n=new OX;return typeof e=="string"&&(n.value=e),n}function Uxe(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,o=e.disallowedElements,l=e.skipHtml,u=e.unwrapDisallowed,c=e.urlTransform||Bxe;for(const h of Mxe)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Pxe+h.id,void 0);return FM(t,d),eAe(t,{Fragment:Rw.Fragment,components:i,ignoreInvalidStyle:!0,jsx:Rw.jsx,jsxs:Rw.jsxs,passKeys:!0,passNode:!0});function d(h,f,p){if(h.type==="raw"&&p&&typeof f=="number")return l?p.children.splice(f,1):p.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let m;for(m in pR)if(Object.hasOwn(pR,m)&&Object.hasOwn(h.properties,m)){const g=h.properties[m],y=pR[m];(y===null||y.includes(h.tagName))&&(h.properties[m]=c(String(g||""),m,h))}}if(h.type==="element"){let m=n?!n.includes(h.tagName):o?o.includes(h.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(h,f,p)),m&&p&&typeof f=="number")return u&&h.children?p.children.splice(f,1,...h.children):p.children.splice(f,1),f}}}function Bxe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Oxe.test(t.slice(0,e))?t:""}function dq(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function zxe(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function $xe(t,e,n){const i=fS((n||{}).ignore||[]),o=qxe(e);let l=-1;for(;++l<o.length;)PX(t,"text",u);function u(d,h){let f=-1,p;for(;++f<h.length;){const m=h[f],g=p?p.children:void 0;if(i(m,g?g.indexOf(m):void 0,p))return;p=m}if(p)return c(d,h)}function c(d,h){const f=h[h.length-1],p=o[l][0],m=o[l][1];let g=0;const b=f.children.indexOf(d);let v=!1,_=[];p.lastIndex=0;let E=p.exec(d.value);for(;E;){const T=E.index,A={index:E.index,input:E.input,stack:[...h,d]};let w=m(...E,A);if(typeof w=="string"&&(w=w.length>0?{type:"text",value:w}:void 0),w===!1?p.lastIndex=T+1:(g!==T&&_.push({type:"text",value:d.value.slice(g,T)}),Array.isArray(w)?_.push(...w):w&&_.push(w),g=T+E[0].length,v=!0),!p.global)break;E=p.exec(d.value)}return v?(g<d.value.length&&_.push({type:"text",value:d.value.slice(g)}),f.children.splice(b,1,..._)):_=[d],b+_.length}}function qxe(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([jxe(i[0]),Hxe(i[1])])}return e}function jxe(t){return typeof t=="string"?new RegExp(zxe(t),"g"):t}function Hxe(t){return typeof t=="function"?t:function(){return t}}const AR="phrasing",IR=["autolink","link","image","label"];function Gxe(){return{transforms:[Zxe],enter:{literalAutolink:Kxe,literalAutolinkEmail:xR,literalAutolinkHttp:xR,literalAutolinkWww:xR},exit:{literalAutolink:Qxe,literalAutolinkEmail:Xxe,literalAutolinkHttp:Wxe,literalAutolinkWww:Yxe}}}function Vxe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:AR,notInConstruct:IR},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:AR,notInConstruct:IR},{character:":",before:"[ps]",after:"\\/",inConstruct:AR,notInConstruct:IR}]}}function Kxe(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function xR(t){this.config.enter.autolinkProtocol.call(this,t)}function Wxe(t){this.config.exit.autolinkProtocol.call(this,t)}function Yxe(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function Xxe(t){this.config.exit.autolinkEmail.call(this,t)}function Qxe(t){this.exit(t)}function Zxe(t){$xe(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Jxe],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,eRe]],{ignore:["link","linkReference"]})}function Jxe(t,e,n,r,i){let o="";if(!MX(i)||(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!tRe(n)))return!1;const l=nRe(n+r);if(!l[0])return!1;const u={type:"link",title:null,url:o+e+l[0],children:[{type:"text",value:e+l[0]}]};return l[1]?[u,{type:"text",value:l[1]}]:u}function eRe(t,e,n,r){return!MX(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function tRe(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function nRe(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=dq(t,"(");let o=dq(t,")");for(;r!==-1&&i>o;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[t,n]}function MX(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ud(n)||uS(n))&&(!e||n!==47)}NX.peek=dRe;function rRe(){this.buffer()}function iRe(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function aRe(){this.buffer()}function sRe(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function oRe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$o(this.sliceSerialize(t)).toLowerCase(),n.label=e}function lRe(t){this.exit(t)}function uRe(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=$o(this.sliceSerialize(t)).toLowerCase(),n.label=e}function cRe(t){this.exit(t)}function dRe(){return"["}function NX(t,e,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),u=n.enter("reference");return o+=i.move(n.safe(n.associationId(t),{after:"]",before:o})),u(),l(),o+=i.move("]"),o}function fRe(){return{enter:{gfmFootnoteCallString:rRe,gfmFootnoteCall:iRe,gfmFootnoteDefinitionLabelString:aRe,gfmFootnoteDefinition:sRe},exit:{gfmFootnoteCallString:oRe,gfmFootnoteCall:lRe,gfmFootnoteDefinitionLabelString:uRe,gfmFootnoteDefinition:cRe}}}function hRe(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:NX},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const u=o.createTracker(l);let c=u.move("[^");const d=o.enter("footnoteDefinition"),h=o.enter("label");return c+=u.move(o.safe(o.associationId(r),{before:c,after:"]"})),h(),c+=u.move("]:"),r.children&&r.children.length>0&&(u.shift(4),c+=u.move((e?`
`:" ")+o.indentLines(o.containerFlow(r,u.current()),e?FX:pRe))),d(),c}}function pRe(t,e,n){return e===0?t:FX(t,e,n)}function FX(t,e,n){return(n?"":"    ")+t}const mRe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];UX.peek=ERe;function gRe(){return{canContainEols:["delete"],enter:{strikethrough:bRe},exit:{strikethrough:vRe}}}function yRe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:mRe}],handlers:{delete:UX}}}function bRe(t){this.enter({type:"delete",children:[]},t)}function vRe(t){this.exit(t)}function UX(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(t,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function ERe(){return"~"}function _Re(t){return t.length}function TRe(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||_Re,o=[],l=[],u=[],c=[];let d=0,h=-1;for(;++h<t.length;){const y=[],b=[];let v=-1;for(t[h].length>d&&(d=t[h].length);++v<t[h].length;){const _=SRe(t[h][v]);if(n.alignDelimiters!==!1){const E=i(_);b[v]=E,(c[v]===void 0||E>c[v])&&(c[v]=E)}y.push(_)}l[h]=y,u[h]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<d;)o[f]=fq(r[f]);else{const y=fq(r);for(;++f<d;)o[f]=y}f=-1;const p=[],m=[];for(;++f<d;){const y=o[f];let b="",v="";y===99?(b=":",v=":"):y===108?b=":":y===114&&(v=":");let _=n.alignDelimiters===!1?1:Math.max(1,c[f]-b.length-v.length);const E=b+"-".repeat(_)+v;n.alignDelimiters!==!1&&(_=b.length+_+v.length,_>c[f]&&(c[f]=_),m[f]=_),p[f]=E}l.splice(1,0,p),u.splice(1,0,m),h=-1;const g=[];for(;++h<l.length;){const y=l[h],b=u[h];f=-1;const v=[];for(;++f<d;){const _=y[f]||"";let E="",T="";if(n.alignDelimiters!==!1){const A=c[f]-(b[f]||0),w=o[f];w===114?E=" ".repeat(A):w===99?A%2?(E=" ".repeat(A/2+.5),T=" ".repeat(A/2-.5)):(E=" ".repeat(A/2),T=E):T=" ".repeat(A)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(E),v.push(_),n.alignDelimiters!==!1&&v.push(T),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==d-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function SRe(t){return t==null?"":String(t)}function fq(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function wRe(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(t,o.current()),ARe);return i(),l}function ARe(t,e,n){return">"+(n?"":" ")+t}function IRe(t,e){return hq(t,e.inConstruct,!0)&&!hq(t,e.notInConstruct,!1)}function hq(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function pq(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&IRe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function xRe(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+e.length,r=n.indexOf(e,i);return l}function RRe(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function kRe(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function CRe(t,e,n,r){const i=kRe(n),o=t.value||"",l=i==="`"?"GraveAccent":"Tilde";if(RRe(t,n)){const f=n.enter("codeIndented"),p=n.indentLines(o,DRe);return f(),p}const u=n.createTracker(r),c=i.repeat(Math.max(xRe(o,i)+1,3)),d=n.enter("codeFenced");let h=u.move(c);if(t.lang){const f=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...u.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...u.current()})),f()}return h+=u.move(`
`),o&&(h+=u.move(o+`
`)),h+=u.move(c),d(),h}function DRe(t,e,n){return(n?"":"    ")+t}function BM(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function LRe(t,e,n,r){const i=BM(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let u=n.enter("label");const c=n.createTracker(r);let d=c.move("[");return d+=c.move(n.safe(n.associationId(t),{before:d,after:"]",...c.current()})),d+=c.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(u=n.enter("destinationRaw"),d+=c.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...c.current()}))),u(),t.title&&(u=n.enter(`title${o}`),d+=c.move(" "+i),d+=c.move(n.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),u()),l(),d}function PRe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function yy(t){return"&#x"+t.toString(16).toUpperCase()+";"}function a_(t,e,n){const r=pp(t),i=pp(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}BX.peek=ORe;function BX(t,e,n,r){const i=PRe(n),o=n.enter("emphasis"),l=n.createTracker(r),u=l.move(i);let c=l.move(n.containerPhrasing(t,{after:i,before:u,...l.current()}));const d=c.charCodeAt(0),h=a_(r.before.charCodeAt(r.before.length-1),d,i);h.inside&&(c=yy(d)+c.slice(1));const f=c.charCodeAt(c.length-1),p=a_(r.after.charCodeAt(0),f,i);p.inside&&(c=c.slice(0,-1)+yy(f));const m=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},u+c+m}function ORe(t,e,n){return n.options.emphasis||"*"}function MRe(t,e){let n=!1;return FM(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,oD}),!!((!t.depth||t.depth<3)&&DM(t)&&(e.options.setext||n))}function NRe(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(MRe(t,n)){const h=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return f(),h(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const l="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");o.move(l+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(d)&&(d=yy(d.charCodeAt(0))+d.slice(1)),d=d?l+" "+d:l,n.options.closeAtx&&(d+=" "+l),c(),u(),d}zX.peek=FRe;function zX(t){return t.value||""}function FRe(){return"<"}$X.peek=URe;function $X(t,e,n,r){const i=BM(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let u=n.enter("label");const c=n.createTracker(r);let d=c.move("![");return d+=c.move(n.safe(t.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(u=n.enter("destinationRaw"),d+=c.move(n.safe(t.url,{before:d,after:t.title?" ":")",...c.current()}))),u(),t.title&&(u=n.enter(`title${o}`),d+=c.move(" "+i),d+=c.move(n.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),u()),d+=c.move(")"),l(),d}function URe(){return"!"}qX.peek=BRe;function qX(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("![");const d=n.safe(t.alt,{before:c,after:"]",...u.current()});c+=u.move(d+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const f=n.safe(n.associationId(t),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!d||d!==f?c+=u.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function BRe(){return"!"}jX.peek=zRe;function jX(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],u=n.compilePattern(l);let c;if(l.atBreak)for(;c=u.exec(r);){let d=c.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(c.index+1)}}return i+r+i}function zRe(){return"`"}function HX(t,e){const n=DM(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}GX.peek=$Re;function GX(t,e,n,r){const i=BM(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let u,c;if(HX(t,n)){const h=n.stack;n.stack=[],u=n.enter("autolink");let f=l.move("<");return f+=l.move(n.containerPhrasing(t,{before:f,after:">",...l.current()})),f+=l.move(">"),u(),n.stack=h,f}u=n.enter("link"),c=n.enter("label");let d=l.move("[");return d+=l.move(n.containerPhrasing(t,{before:d,after:"](",...l.current()})),d+=l.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=l.move("<"),d+=l.move(n.safe(t.url,{before:d,after:">",...l.current()})),d+=l.move(">")):(c=n.enter("destinationRaw"),d+=l.move(n.safe(t.url,{before:d,after:t.title?" ":")",...l.current()}))),c(),t.title&&(c=n.enter(`title${o}`),d+=l.move(" "+i),d+=l.move(n.safe(t.title,{before:d,after:i,...l.current()})),d+=l.move(i),c()),d+=l.move(")"),u(),d}function $Re(t,e,n){return HX(t,n)?"<":"["}VX.peek=qRe;function VX(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let l=n.enter("label");const u=n.createTracker(r);let c=u.move("[");const d=n.containerPhrasing(t,{before:c,after:"]",...u.current()});c+=u.move(d+"]["),l();const h=n.stack;n.stack=[],l=n.enter("reference");const f=n.safe(n.associationId(t),{before:c,after:"]",...u.current()});return l(),n.stack=h,o(),i==="full"||!d||d!==f?c+=u.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function qRe(){return"["}function zM(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function jRe(t){const e=zM(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function HRe(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function KX(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function GRe(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=t.ordered?HRe(n):zM(n);const u=t.ordered?l==="."?")":".":jRe(n);let c=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),KX(n)===l&&h){let f=-1;for(;++f<t.children.length;){const p=t.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(l=u),n.bulletCurrent=l;const d=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),d}function VRe(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function KRe(t,e,n,r){const i=VRe(n);let o=n.bulletCurrent||zM(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);const u=n.createTracker(r);u.move(o+" ".repeat(l-o.length)),u.shift(l);const c=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,u.current()),h);return c(),d;function h(f,p,m){return p?(m?"":" ".repeat(l))+f:(m?o:o+" ".repeat(l-o.length))+f}}function WRe(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(t,r);return o(),i(),l}const YRe=fS(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function XRe(t,e,n,r){return(t.children.some(function(l){return YRe(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function QRe(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}WX.peek=ZRe;function WX(t,e,n,r){const i=QRe(n),o=n.enter("strong"),l=n.createTracker(r),u=l.move(i+i);let c=l.move(n.containerPhrasing(t,{after:i,before:u,...l.current()}));const d=c.charCodeAt(0),h=a_(r.before.charCodeAt(r.before.length-1),d,i);h.inside&&(c=yy(d)+c.slice(1));const f=c.charCodeAt(c.length-1),p=a_(r.after.charCodeAt(0),f,i);p.inside&&(c=c.slice(0,-1)+yy(f));const m=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:p.outside,before:h.outside},u+c+m}function ZRe(t,e,n){return n.options.strong||"*"}function JRe(t,e,n,r){return n.safe(t.value,r)}function eke(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function tke(t,e,n){const r=(KX(n)+(n.options.ruleSpaces?" ":"")).repeat(eke(n));return n.options.ruleSpaces?r.slice(0,-1):r}const YX={blockquote:wRe,break:pq,code:CRe,definition:LRe,emphasis:BX,hardBreak:pq,heading:NRe,html:zX,image:$X,imageReference:qX,inlineCode:jX,link:GX,linkReference:VX,list:GRe,listItem:KRe,paragraph:WRe,root:XRe,strong:WX,text:JRe,thematicBreak:tke};function nke(){return{enter:{table:rke,tableData:mq,tableHeader:mq,tableRow:ake},exit:{codeText:ske,table:ike,tableData:RR,tableHeader:RR,tableRow:RR}}}function rke(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function ike(t){this.exit(t),this.data.inTable=void 0}function ake(t){this.enter({type:"tableRow",children:[]},t)}function RR(t){this.exit(t)}function mq(t){this.enter({type:"tableCell",children:[]},t)}function ske(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,oke));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function oke(t,e){return e==="|"?e:t}function lke(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:l,tableCell:c,tableRow:u}};function l(m,g,y,b){return d(h(m,y,b),m.align)}function u(m,g,y,b){const v=f(m,y,b),_=d([v]);return _.slice(0,_.indexOf(`
`))}function c(m,g,y,b){const v=y.enter("tableCell"),_=y.enter("phrasing"),E=y.containerPhrasing(m,{...b,before:o,after:o});return _(),v(),E}function d(m,g){return TRe(m,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function h(m,g,y){const b=m.children;let v=-1;const _=[],E=g.enter("table");for(;++v<b.length;)_[v]=f(b[v],g,y);return E(),_}function f(m,g,y){const b=m.children;let v=-1;const _=[],E=g.enter("tableRow");for(;++v<b.length;)_[v]=c(b[v],m,g,y);return E(),_}function p(m,g,y){let b=YX.inlineCode(m,g,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function uke(){return{exit:{taskListCheckValueChecked:gq,taskListCheckValueUnchecked:gq,paragraph:dke}}}function cke(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:fke}}}function gq(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function dke(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,l;for(;++o<i.length;){const u=i[o];if(u.type==="paragraph"){l=u;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function fke(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",l="["+(t.checked?"x":" ")+"] ",u=n.createTracker(r);o&&u.move(l);let c=YX.listItem(t,e,n,{...r,...u.current()});return o&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,d)),c;function d(h){return h+l}}function hke(){return[Gxe(),fRe(),gRe(),nke(),uke()]}function pke(t){return{extensions:[Vxe(),hRe(t),yRe(),lke(t),cke()]}}const mke={tokenize:_ke,partial:!0},XX={tokenize:Tke,partial:!0},QX={tokenize:Ske,partial:!0},ZX={tokenize:wke,partial:!0},gke={tokenize:Ake,partial:!0},JX={name:"wwwAutolink",tokenize:vke,previous:tQ},eQ={name:"protocolAutolink",tokenize:Eke,previous:nQ},Au={name:"emailAutolink",tokenize:bke,previous:rQ},ql={};function yke(){return{text:ql}}let jc=48;for(;jc<123;)ql[jc]=Au,jc++,jc===58?jc=65:jc===91&&(jc=97);ql[43]=Au;ql[45]=Au;ql[46]=Au;ql[95]=Au;ql[72]=[Au,eQ];ql[104]=[Au,eQ];ql[87]=[Au,JX];ql[119]=[Au,JX];function bke(t,e,n){const r=this;let i,o;return l;function l(f){return!dD(f)||!rQ.call(r,r.previous)||$M(r.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),u(f))}function u(f){return dD(f)?(t.consume(f),u):f===64?(t.consume(f),c):n(f)}function c(f){return f===46?t.check(gke,h,d)(f):f===45||f===95||Pa(f)?(o=!0,t.consume(f),c):h(f)}function d(f){return t.consume(f),i=!0,c}function h(f){return o&&i&&ja(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function vke(t,e,n){const r=this;return i;function i(l){return l!==87&&l!==119||!tQ.call(r,r.previous)||$M(r.events)?n(l):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(mke,t.attempt(XX,t.attempt(QX,o),n),n)(l))}function o(l){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(l)}}function Eke(t,e,n){const r=this;let i="",o=!1;return l;function l(f){return(f===72||f===104)&&nQ.call(r,r.previous)&&!$M(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),t.consume(f),u):n(f)}function u(f){if(ja(f)&&i.length<5)return i+=String.fromCodePoint(f),t.consume(f),u;if(f===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(f),c}return n(f)}function c(f){return f===47?(t.consume(f),o?d:(o=!0,c)):n(f)}function d(f){return f===null||n_(f)||ui(f)||Ud(f)||uS(f)?n(f):t.attempt(XX,t.attempt(QX,h),n)(f)}function h(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function _ke(t,e,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,t.consume(l),i):l===46&&r===3?(t.consume(l),o):n(l)}function o(l){return l===null?n(l):e(l)}}function Tke(t,e,n){let r,i,o;return l;function l(d){return d===46||d===95?t.check(ZX,c,u)(d):d===null||ui(d)||Ud(d)||d!==45&&uS(d)?c(d):(o=!0,t.consume(d),l)}function u(d){return d===95?r=!0:(i=r,r=void 0),t.consume(d),l}function c(d){return i||r||!o?n(d):e(d)}}function Ske(t,e){let n=0,r=0;return i;function i(l){return l===40?(n++,t.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?t.check(ZX,e,o)(l):l===null||ui(l)||Ud(l)?e(l):(t.consume(l),i)}function o(l){return l===41&&r++,t.consume(l),i}}function wke(t,e,n){return r;function r(u){return u===33||u===34||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===63||u===95||u===126?(t.consume(u),r):u===38?(t.consume(u),o):u===93?(t.consume(u),i):u===60||u===null||ui(u)||Ud(u)?e(u):n(u)}function i(u){return u===null||u===40||u===91||ui(u)||Ud(u)?e(u):r(u)}function o(u){return ja(u)?l(u):n(u)}function l(u){return u===59?(t.consume(u),r):ja(u)?(t.consume(u),l):n(u)}}function Ake(t,e,n){return r;function r(o){return t.consume(o),i}function i(o){return Pa(o)?n(o):e(o)}}function tQ(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||ui(t)}function nQ(t){return!ja(t)}function rQ(t){return!(t===47||dD(t))}function dD(t){return t===43||t===45||t===46||t===95||Pa(t)}function $M(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Ike={tokenize:Oke,partial:!0};function xke(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Dke,continuation:{tokenize:Lke},exit:Pke}},text:{91:{name:"gfmFootnoteCall",tokenize:Cke},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Rke,resolveTo:kke}}}}function Rke(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){l=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return u;function u(c){if(!l||!l._balanced)return n(c);const d=$o(r.sliceSerialize({start:l.end,end:r.now()}));return d.codePointAt(0)!==94||!o.includes(d.slice(1))?n(c):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(c),t.exit("gfmFootnoteCallLabelMarker"),e(c))}}function kke(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},u=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",o,e],["enter",l,e],["exit",l,e],["exit",o,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...u),t}function Cke(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return u;function u(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",d)}function d(f){if(o>999||f===93&&!l||f===null||f===91||ui(f))return n(f);if(f===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes($o(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return ui(f)||(l=!0),o++,t.consume(f),f===92?h:d}function h(f){return f===91||f===92||f===93?(t.consume(f),o++,d):d(f)}}function Dke(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,u;return c;function c(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),d}function d(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(g)}function h(g){if(l>999||g===93&&!u||g===null||g===91||ui(g))return n(g);if(g===93){t.exit("chunkString");const y=t.exit("gfmFootnoteDefinitionLabelString");return o=$o(r.sliceSerialize(y)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return ui(g)||(u=!0),l++,t.consume(g),g===92?f:h}function f(g){return g===91||g===92||g===93?(t.consume(g),l++,h):h(g)}function p(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),i.includes(o)||i.push(o),Fr(t,m,"gfmFootnoteDefinitionWhitespace")):n(g)}function m(g){return e(g)}}function Lke(t,e,n){return t.check(sb,e,t.attempt(Ike,e,n))}function Pke(t){t.exit("gfmFootnoteDefinition")}function Oke(t,e,n){const r=this;return Fr(t,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?e(o):n(o)}}function Mke(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,u){let c=-1;for(;++c<l.length;)if(l[c][0]==="enter"&&l[c][1].type==="strikethroughSequenceTemporary"&&l[c][1]._close){let d=c;for(;d--;)if(l[d][0]==="exit"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._open&&l[c][1].end.offset-l[c][1].start.offset===l[d][1].end.offset-l[d][1].start.offset){l[c][1].type="strikethroughSequence",l[d][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},l[d][1].start),end:Object.assign({},l[c][1].end)},f={type:"strikethroughText",start:Object.assign({},l[d][1].end),end:Object.assign({},l[c][1].start)},p=[["enter",h,u],["enter",l[d][1],u],["exit",l[d][1],u],["enter",f,u]],m=u.parser.constructs.insideSpan.null;m&&ks(p,p.length,0,cS(m,l.slice(d+1,c),u)),ks(p,p.length,0,[["exit",f,u],["enter",l[c][1],u],["exit",l[c][1],u],["exit",h,u]]),ks(l,d-1,c-d+3,p),c=d+p.length-2;break}}for(c=-1;++c<l.length;)l[c][1].type==="strikethroughSequenceTemporary"&&(l[c][1].type="data");return l}function o(l,u,c){const d=this.previous,h=this.events;let f=0;return p;function p(g){return d===126&&h[h.length-1][1].type!=="characterEscape"?c(g):(l.enter("strikethroughSequenceTemporary"),m(g))}function m(g){const y=pp(d);if(g===126)return f>1?c(g):(l.consume(g),f++,m);if(f<2&&!n)return c(g);const b=l.exit("strikethroughSequenceTemporary"),v=pp(g);return b._open=!v||v===2&&!!y,b._close=!y||y===2&&!!v,u(g)}}}class Nke{constructor(){this.map=[]}add(e,n,r){Fke(this,e,n,r)}consume(e){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const o of i)e.push(o);i=r.pop()}this.map.length=0}}function Fke(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Uke(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Bke(){return{flow:{null:{name:"table",tokenize:zke,resolveAll:$ke}}}}function zke(t,e,n){const r=this;let i=0,o=0,l;return u;function u(F){let K=r.events.length-1;for(;K>-1;){const Ee=r.events[K][1].type;if(Ee==="lineEnding"||Ee==="linePrefix")K--;else break}const he=K>-1?r.events[K][1].type:null,q=he==="tableHead"||he==="tableRow"?w:c;return q===w&&r.parser.lazy[r.now().line]?n(F):q(F)}function c(F){return t.enter("tableHead"),t.enter("tableRow"),d(F)}function d(F){return F===124||(l=!0,o+=1),h(F)}function h(F){return F===null?n(F):ir(F)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),m):n(F):kr(F)?Fr(t,h,"whitespace")(F):(o+=1,l&&(l=!1,i+=1),F===124?(t.enter("tableCellDivider"),t.consume(F),t.exit("tableCellDivider"),l=!0,h):(t.enter("data"),f(F)))}function f(F){return F===null||F===124||ui(F)?(t.exit("data"),h(F)):(t.consume(F),F===92?p:f)}function p(F){return F===92||F===124?(t.consume(F),f):f(F)}function m(F){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(F):(t.enter("tableDelimiterRow"),l=!1,kr(F)?Fr(t,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):g(F))}function g(F){return F===45||F===58?b(F):F===124?(l=!0,t.enter("tableCellDivider"),t.consume(F),t.exit("tableCellDivider"),y):A(F)}function y(F){return kr(F)?Fr(t,b,"whitespace")(F):b(F)}function b(F){return F===58?(o+=1,l=!0,t.enter("tableDelimiterMarker"),t.consume(F),t.exit("tableDelimiterMarker"),v):F===45?(o+=1,v(F)):F===null||ir(F)?T(F):A(F)}function v(F){return F===45?(t.enter("tableDelimiterFiller"),_(F)):A(F)}function _(F){return F===45?(t.consume(F),_):F===58?(l=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(F),t.exit("tableDelimiterMarker"),E):(t.exit("tableDelimiterFiller"),E(F))}function E(F){return kr(F)?Fr(t,T,"whitespace")(F):T(F)}function T(F){return F===124?g(F):F===null||ir(F)?!l||i!==o?A(F):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(F)):A(F)}function A(F){return n(F)}function w(F){return t.enter("tableRow"),I(F)}function I(F){return F===124?(t.enter("tableCellDivider"),t.consume(F),t.exit("tableCellDivider"),I):F===null||ir(F)?(t.exit("tableRow"),e(F)):kr(F)?Fr(t,I,"whitespace")(F):(t.enter("data"),C(F))}function C(F){return F===null||F===124||ui(F)?(t.exit("data"),I(F)):(t.consume(F),F===92?j:C)}function j(F){return F===92||F===124?(t.consume(F),C):C(F)}}function $ke(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],u=!1,c=0,d,h,f;const p=new Nke;for(;++n<t.length;){const m=t[n],g=m[1];m[0]==="enter"?g.type==="tableHead"?(u=!1,c!==0&&(yq(p,e,c,d,h),h=void 0,c=0),d={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",d,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,o=[0,0,0,0],l=[0,n+1,0,0],u&&(u=!1,h={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},p.add(n,0,[["enter",h,e]])),i=g.type==="tableDelimiterRow"?2:h?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],f=tv(p,e,o,i,void 0,f),o=[0,0,0,0]),l[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],f=tv(p,e,o,i,void 0,f)),o=l,l=[o[1],n,0,0])):g.type==="tableHead"?(u=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,o[1]!==0?(l[0]=l[1],f=tv(p,e,o,i,n,f)):l[1]!==0&&(f=tv(p,e,l,i,n,f)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(l[3]=n)}for(c!==0&&yq(p,e,c,d,h),p.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Uke(e.events,n))}return t}function tv(t,e,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",u="tableContent";n[0]!==0&&(o.end=Object.assign({},ah(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const c=ah(e.events,n[1]);if(o={type:l,start:Object.assign({},c),end:Object.assign({},c)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const d=ah(e.events,n[2]),h=ah(e.events,n[3]),f={type:u,start:Object.assign({},d),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",f,e]]),r!==2){const p=e.events[n[2]],m=e.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;t.add(g,y,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return i!==void 0&&(o.end=Object.assign({},ah(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function yq(t,e,n,r,i){const o=[],l=ah(e.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,e])),r.end=Object.assign({},l),o.push(["exit",r,e]),t.add(n+1,0,o)}function ah(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const qke={name:"tasklistCheck",tokenize:Hke};function jke(){return{text:{91:qke}}}function Hke(t,e,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),o)}function o(c){return ui(c)?(t.enter("taskListCheckValueUnchecked"),t.consume(c),t.exit("taskListCheckValueUnchecked"),l):c===88||c===120?(t.enter("taskListCheckValueChecked"),t.consume(c),t.exit("taskListCheckValueChecked"),l):n(c)}function l(c){return c===93?(t.enter("taskListCheckMarker"),t.consume(c),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),u):n(c)}function u(c){return ir(c)?e(c):kr(c)?t.check({tokenize:Gke},e,n)(c):n(c)}}function Gke(t,e,n){return Fr(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Vke(t){return pX([yke(),xke(),Mke(t),Bke(),jke()])}const Kke={};function E7e(t){const e=this,n=t||Kke,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Vke(n)),o.push(hke()),l.push(pke(n))}const{entries:iQ,setPrototypeOf:bq,isFrozen:Wke,getPrototypeOf:Yke,getOwnPropertyDescriptor:Xke}=Object;let{freeze:Va,seal:oo,create:fD}=Object,{apply:hD,construct:pD}=typeof Reflect<"u"&&Reflect;Va||(Va=function(e){return e});oo||(oo=function(e){return e});hD||(hD=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return e.apply(n,i)});pD||(pD=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const nv=Ka(Array.prototype.forEach),Qke=Ka(Array.prototype.lastIndexOf),vq=Ka(Array.prototype.pop),mm=Ka(Array.prototype.push),Zke=Ka(Array.prototype.splice),Qv=Ka(String.prototype.toLowerCase),kR=Ka(String.prototype.toString),CR=Ka(String.prototype.match),gm=Ka(String.prototype.replace),Jke=Ka(String.prototype.indexOf),eCe=Ka(String.prototype.trim),Do=Ka(Object.prototype.hasOwnProperty),za=Ka(RegExp.prototype.test),ym=tCe(TypeError);function Ka(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return hD(t,e,r)}}function tCe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return pD(t,n)}}function wr(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qv;bq&&bq(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(Wke(e)||(e[r]=o),i=o)}t[i]=!0}return t}function nCe(t){for(let e=0;e<t.length;e++)Do(t,e)||(t[e]=null);return t}function ol(t){const e=fD(null);for(const[n,r]of iQ(t))Do(t,n)&&(Array.isArray(r)?e[n]=nCe(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ol(r):e[n]=r);return e}function bm(t,e){for(;t!==null;){const r=Xke(t,e);if(r){if(r.get)return Ka(r.get);if(typeof r.value=="function")return Ka(r.value)}t=Yke(t)}function n(){return null}return n}const Eq=Va(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),DR=Va(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),LR=Va(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rCe=Va(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),PR=Va(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),iCe=Va(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_q=Va(["#text"]),Tq=Va(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),OR=Va(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Sq=Va(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rv=Va(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),aCe=oo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sCe=oo(/<%[\w\W]*|[\w\W]*%>/gm),oCe=oo(/\$\{[\w\W]*/gm),lCe=oo(/^data-[\-\w.\u00B7-\uFFFF]+$/),uCe=oo(/^aria-[\-\w]+$/),aQ=oo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),cCe=oo(/^(?:\w+script|data):/i),dCe=oo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sQ=oo(/^html$/i),fCe=oo(/^[a-z][.\w]*(-[.\w]+)+$/i);var wq=Object.freeze({__proto__:null,ARIA_ATTR:uCe,ATTR_WHITESPACE:dCe,CUSTOM_ELEMENT:fCe,DATA_ATTR:lCe,DOCTYPE_NAME:sQ,ERB_EXPR:sCe,IS_ALLOWED_URI:aQ,IS_SCRIPT_OR_DATA:cCe,MUSTACHE_EXPR:aCe,TMPLIT_EXPR:oCe});const vm={element:1,text:3,progressingInstruction:7,comment:8,document:9},hCe=function(){return typeof window>"u"?null:window},pCe=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},Aq=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function oQ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hCe();const e=Rn=>oQ(Rn);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==vm.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:l,Node:u,Element:c,NodeFilter:d,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:m}=t,g=c.prototype,y=bm(g,"cloneNode"),b=bm(g,"remove"),v=bm(g,"nextSibling"),_=bm(g,"childNodes"),E=bm(g,"parentNode");if(typeof l=="function"){const Rn=n.createElement("template");Rn.content&&Rn.content.ownerDocument&&(n=Rn.content.ownerDocument)}let T,A="";const{implementation:w,createNodeIterator:I,createDocumentFragment:C,getElementsByTagName:j}=n,{importNode:F}=r;let K=Aq();e.isSupported=typeof iQ=="function"&&typeof E=="function"&&w&&w.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:he,ERB_EXPR:q,TMPLIT_EXPR:Ee,DATA_ATTR:Te,ARIA_ATTR:ge,IS_SCRIPT_OR_DATA:Be,ATTR_WHITESPACE:He,CUSTOM_ELEMENT:Ye}=wq;let{IS_ALLOWED_URI:Ie}=wq,we=null;const je=wr({},[...Eq,...DR,...LR,...PR,..._q]);let Ce=null;const dt=wr({},[...Tq,...OR,...Sq,...rv]);let Le=Object.seal(fD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pe=null,it=null;const J=Object.seal(fD(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let G=!0,P=!0,$=!1,ae=!0,ne=!1,$e=!0,Qe=!1,Ve=!1,We=!1,Ke=!1,Je=!1,ft=!1,nt=!0,bt=!1;const tn="user-content-";let zt=!0,Wt=!1,Ze={},At=null;const mn=wr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let xn=null;const Nn=wr({},["audio","video","img","source","image","track"]);let Yn=null;const Tr=wr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_t="http://www.w3.org/1998/Math/MathML",It="http://www.w3.org/2000/svg",mt="http://www.w3.org/1999/xhtml";let ht=mt,Vt=!1,$t=null;const rn=wr({},[_t,It,mt],kR);let hn=wr({},["mi","mo","mn","ms","mtext"]),Ot=wr({},["annotation-xml"]);const qt=wr({},["title","style","font","a","script"]);let en=null;const fn=["application/xhtml+xml","text/html"],Kt="text/html";let pn=null,Hn=null;const Fn=n.createElement("form"),Un=function(at){return at instanceof RegExp||at instanceof Function},hr=function(){let at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Hn&&Hn===at)){if((!at||typeof at!="object")&&(at={}),at=ol(at),en=fn.indexOf(at.PARSER_MEDIA_TYPE)===-1?Kt:at.PARSER_MEDIA_TYPE,pn=en==="application/xhtml+xml"?kR:Qv,we=Do(at,"ALLOWED_TAGS")?wr({},at.ALLOWED_TAGS,pn):je,Ce=Do(at,"ALLOWED_ATTR")?wr({},at.ALLOWED_ATTR,pn):dt,$t=Do(at,"ALLOWED_NAMESPACES")?wr({},at.ALLOWED_NAMESPACES,kR):rn,Yn=Do(at,"ADD_URI_SAFE_ATTR")?wr(ol(Tr),at.ADD_URI_SAFE_ATTR,pn):Tr,xn=Do(at,"ADD_DATA_URI_TAGS")?wr(ol(Nn),at.ADD_DATA_URI_TAGS,pn):Nn,At=Do(at,"FORBID_CONTENTS")?wr({},at.FORBID_CONTENTS,pn):mn,Pe=Do(at,"FORBID_TAGS")?wr({},at.FORBID_TAGS,pn):ol({}),it=Do(at,"FORBID_ATTR")?wr({},at.FORBID_ATTR,pn):ol({}),Ze=Do(at,"USE_PROFILES")?at.USE_PROFILES:!1,G=at.ALLOW_ARIA_ATTR!==!1,P=at.ALLOW_DATA_ATTR!==!1,$=at.ALLOW_UNKNOWN_PROTOCOLS||!1,ae=at.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ne=at.SAFE_FOR_TEMPLATES||!1,$e=at.SAFE_FOR_XML!==!1,Qe=at.WHOLE_DOCUMENT||!1,Ke=at.RETURN_DOM||!1,Je=at.RETURN_DOM_FRAGMENT||!1,ft=at.RETURN_TRUSTED_TYPE||!1,We=at.FORCE_BODY||!1,nt=at.SANITIZE_DOM!==!1,bt=at.SANITIZE_NAMED_PROPS||!1,zt=at.KEEP_CONTENT!==!1,Wt=at.IN_PLACE||!1,Ie=at.ALLOWED_URI_REGEXP||aQ,ht=at.NAMESPACE||mt,hn=at.MATHML_TEXT_INTEGRATION_POINTS||hn,Ot=at.HTML_INTEGRATION_POINTS||Ot,Le=at.CUSTOM_ELEMENT_HANDLING||{},at.CUSTOM_ELEMENT_HANDLING&&Un(at.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Le.tagNameCheck=at.CUSTOM_ELEMENT_HANDLING.tagNameCheck),at.CUSTOM_ELEMENT_HANDLING&&Un(at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Le.attributeNameCheck=at.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),at.CUSTOM_ELEMENT_HANDLING&&typeof at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Le.allowCustomizedBuiltInElements=at.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(P=!1),Je&&(Ke=!0),Ze&&(we=wr({},_q),Ce=[],Ze.html===!0&&(wr(we,Eq),wr(Ce,Tq)),Ze.svg===!0&&(wr(we,DR),wr(Ce,OR),wr(Ce,rv)),Ze.svgFilters===!0&&(wr(we,LR),wr(Ce,OR),wr(Ce,rv)),Ze.mathMl===!0&&(wr(we,PR),wr(Ce,Sq),wr(Ce,rv))),at.ADD_TAGS&&(typeof at.ADD_TAGS=="function"?J.tagCheck=at.ADD_TAGS:(we===je&&(we=ol(we)),wr(we,at.ADD_TAGS,pn))),at.ADD_ATTR&&(typeof at.ADD_ATTR=="function"?J.attributeCheck=at.ADD_ATTR:(Ce===dt&&(Ce=ol(Ce)),wr(Ce,at.ADD_ATTR,pn))),at.ADD_URI_SAFE_ATTR&&wr(Yn,at.ADD_URI_SAFE_ATTR,pn),at.FORBID_CONTENTS&&(At===mn&&(At=ol(At)),wr(At,at.FORBID_CONTENTS,pn)),at.ADD_FORBID_CONTENTS&&(At===mn&&(At=ol(At)),wr(At,at.ADD_FORBID_CONTENTS,pn)),zt&&(we["#text"]=!0),Qe&&wr(we,["html","head","body"]),we.table&&(wr(we,["tbody"]),delete Pe.tbody),at.TRUSTED_TYPES_POLICY){if(typeof at.TRUSTED_TYPES_POLICY.createHTML!="function")throw ym('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof at.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ym('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=at.TRUSTED_TYPES_POLICY,A=T.createHTML("")}else T===void 0&&(T=pCe(m,i)),T!==null&&typeof A=="string"&&(A=T.createHTML(""));Va&&Va(at),Hn=at}},an=wr({},[...DR,...LR,...rCe]),wt=wr({},[...PR,...iCe]),ot=function(at){let ln=E(at);(!ln||!ln.tagName)&&(ln={namespaceURI:ht,tagName:"template"});const Bn=Qv(at.tagName),Vr=Qv(ln.tagName);return $t[at.namespaceURI]?at.namespaceURI===It?ln.namespaceURI===mt?Bn==="svg":ln.namespaceURI===_t?Bn==="svg"&&(Vr==="annotation-xml"||hn[Vr]):!!an[Bn]:at.namespaceURI===_t?ln.namespaceURI===mt?Bn==="math":ln.namespaceURI===It?Bn==="math"&&Ot[Vr]:!!wt[Bn]:at.namespaceURI===mt?ln.namespaceURI===It&&!Ot[Vr]||ln.namespaceURI===_t&&!hn[Vr]?!1:!wt[Bn]&&(qt[Bn]||!an[Bn]):!!(en==="application/xhtml+xml"&&$t[at.namespaceURI]):!1},Yt=function(at){mm(e.removed,{element:at});try{E(at).removeChild(at)}catch{b(at)}},dn=function(at,ln){try{mm(e.removed,{attribute:ln.getAttributeNode(at),from:ln})}catch{mm(e.removed,{attribute:null,from:ln})}if(ln.removeAttribute(at),at==="is")if(Ke||Je)try{Yt(ln)}catch{}else try{ln.setAttribute(at,"")}catch{}},qn=function(at){let ln=null,Bn=null;if(We)at="<remove></remove>"+at;else{const yi=CR(at,/^[\r\n\t ]+/);Bn=yi&&yi[0]}en==="application/xhtml+xml"&&ht===mt&&(at='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+at+"</body></html>");const Vr=T?T.createHTML(at):at;if(ht===mt)try{ln=new p().parseFromString(Vr,en)}catch{}if(!ln||!ln.documentElement){ln=w.createDocument(ht,"template",null);try{ln.documentElement.innerHTML=Vt?A:Vr}catch{}}const Di=ln.body||ln.documentElement;return at&&Bn&&Di.insertBefore(n.createTextNode(Bn),Di.childNodes[0]||null),ht===mt?j.call(ln,Qe?"html":"body")[0]:Qe?ln.documentElement:Di},mr=function(at){return I.call(at.ownerDocument||at,at,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Ir=function(at){return at instanceof f&&(typeof at.nodeName!="string"||typeof at.textContent!="string"||typeof at.removeChild!="function"||!(at.attributes instanceof h)||typeof at.removeAttribute!="function"||typeof at.setAttribute!="function"||typeof at.namespaceURI!="string"||typeof at.insertBefore!="function"||typeof at.hasChildNodes!="function")},Ai=function(at){return typeof u=="function"&&at instanceof u};function br(Rn,at,ln){nv(Rn,Bn=>{Bn.call(e,at,ln,Hn)})}const ci=function(at){let ln=null;if(br(K.beforeSanitizeElements,at,null),Ir(at))return Yt(at),!0;const Bn=pn(at.nodeName);if(br(K.uponSanitizeElement,at,{tagName:Bn,allowedTags:we}),$e&&at.hasChildNodes()&&!Ai(at.firstElementChild)&&za(/<[/\w!]/g,at.innerHTML)&&za(/<[/\w!]/g,at.textContent)||at.nodeType===vm.progressingInstruction||$e&&at.nodeType===vm.comment&&za(/<[/\w]/g,at.data))return Yt(at),!0;if(!(J.tagCheck instanceof Function&&J.tagCheck(Bn))&&(!we[Bn]||Pe[Bn])){if(!Pe[Bn]&&Ii(Bn)&&(Le.tagNameCheck instanceof RegExp&&za(Le.tagNameCheck,Bn)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(Bn)))return!1;if(zt&&!At[Bn]){const Vr=E(at)||at.parentNode,Di=_(at)||at.childNodes;if(Di&&Vr){const yi=Di.length;for(let qi=yi-1;qi>=0;--qi){const sa=y(Di[qi],!0);sa.__removalCount=(at.__removalCount||0)+1,Vr.insertBefore(sa,v(at))}}}return Yt(at),!0}return at instanceof c&&!ot(at)||(Bn==="noscript"||Bn==="noembed"||Bn==="noframes")&&za(/<\/no(script|embed|frames)/i,at.innerHTML)?(Yt(at),!0):(ne&&at.nodeType===vm.text&&(ln=at.textContent,nv([he,q,Ee],Vr=>{ln=gm(ln,Vr," ")}),at.textContent!==ln&&(mm(e.removed,{element:at.cloneNode()}),at.textContent=ln)),br(K.afterSanitizeElements,at,null),!1)},Re=function(at,ln,Bn){if(nt&&(ln==="id"||ln==="name")&&(Bn in n||Bn in Fn))return!1;if(!(P&&!it[ln]&&za(Te,ln))){if(!(G&&za(ge,ln))){if(!(J.attributeCheck instanceof Function&&J.attributeCheck(ln,at))){if(!Ce[ln]||it[ln]){if(!(Ii(at)&&(Le.tagNameCheck instanceof RegExp&&za(Le.tagNameCheck,at)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(at))&&(Le.attributeNameCheck instanceof RegExp&&za(Le.attributeNameCheck,ln)||Le.attributeNameCheck instanceof Function&&Le.attributeNameCheck(ln,at))||ln==="is"&&Le.allowCustomizedBuiltInElements&&(Le.tagNameCheck instanceof RegExp&&za(Le.tagNameCheck,Bn)||Le.tagNameCheck instanceof Function&&Le.tagNameCheck(Bn))))return!1}else if(!Yn[ln]){if(!za(Ie,gm(Bn,He,""))){if(!((ln==="src"||ln==="xlink:href"||ln==="href")&&at!=="script"&&Jke(Bn,"data:")===0&&xn[at])){if(!($&&!za(Be,gm(Bn,He,"")))){if(Bn)return!1}}}}}}}return!0},Ii=function(at){return at!=="annotation-xml"&&CR(at,Ye)},Ua=function(at){br(K.beforeSanitizeAttributes,at,null);const{attributes:ln}=at;if(!ln||Ir(at))return;const Bn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ce,forceKeepAttr:void 0};let Vr=ln.length;for(;Vr--;){const Di=ln[Vr],{name:yi,namespaceURI:qi,value:sa}=Di,go=pn(yi),Gt=sa;let sn=yi==="value"?Gt:eCe(Gt);if(Bn.attrName=go,Bn.attrValue=sn,Bn.keepAttr=!0,Bn.forceKeepAttr=void 0,br(K.uponSanitizeAttribute,at,Bn),sn=Bn.attrValue,bt&&(go==="id"||go==="name")&&(dn(yi,at),sn=tn+sn),$e&&za(/((--!?|])>)|<\/(style|title|textarea)/i,sn)){dn(yi,at);continue}if(go==="attributename"&&CR(sn,"href")){dn(yi,at);continue}if(Bn.forceKeepAttr)continue;if(!Bn.keepAttr){dn(yi,at);continue}if(!ae&&za(/\/>/i,sn)){dn(yi,at);continue}ne&&nv([he,q,Ee],ur=>{sn=gm(sn,ur," ")});const zn=pn(at.nodeName);if(!Re(zn,go,sn)){dn(yi,at);continue}if(T&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!qi)switch(m.getAttributeType(zn,go)){case"TrustedHTML":{sn=T.createHTML(sn);break}case"TrustedScriptURL":{sn=T.createScriptURL(sn);break}}if(sn!==Gt)try{qi?at.setAttributeNS(qi,yi,sn):at.setAttribute(yi,sn),Ir(at)?Yt(at):vq(e.removed)}catch{dn(yi,at)}}br(K.afterSanitizeAttributes,at,null)},mo=function Rn(at){let ln=null;const Bn=mr(at);for(br(K.beforeSanitizeShadowDOM,at,null);ln=Bn.nextNode();)br(K.uponSanitizeShadowNode,ln,null),ci(ln),Ua(ln),ln.content instanceof o&&Rn(ln.content);br(K.afterSanitizeShadowDOM,at,null)};return e.sanitize=function(Rn){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ln=null,Bn=null,Vr=null,Di=null;if(Vt=!Rn,Vt&&(Rn="<!-->"),typeof Rn!="string"&&!Ai(Rn))if(typeof Rn.toString=="function"){if(Rn=Rn.toString(),typeof Rn!="string")throw ym("dirty is not a string, aborting")}else throw ym("toString is not a function");if(!e.isSupported)return Rn;if(Ve||hr(at),e.removed=[],typeof Rn=="string"&&(Wt=!1),Wt){if(Rn.nodeName){const sa=pn(Rn.nodeName);if(!we[sa]||Pe[sa])throw ym("root node is forbidden and cannot be sanitized in-place")}}else if(Rn instanceof u)ln=qn("<!---->"),Bn=ln.ownerDocument.importNode(Rn,!0),Bn.nodeType===vm.element&&Bn.nodeName==="BODY"||Bn.nodeName==="HTML"?ln=Bn:ln.appendChild(Bn);else{if(!Ke&&!ne&&!Qe&&Rn.indexOf("<")===-1)return T&&ft?T.createHTML(Rn):Rn;if(ln=qn(Rn),!ln)return Ke?null:ft?A:""}ln&&We&&Yt(ln.firstChild);const yi=mr(Wt?Rn:ln);for(;Vr=yi.nextNode();)ci(Vr),Ua(Vr),Vr.content instanceof o&&mo(Vr.content);if(Wt)return Rn;if(Ke){if(Je)for(Di=C.call(ln.ownerDocument);ln.firstChild;)Di.appendChild(ln.firstChild);else Di=ln;return(Ce.shadowroot||Ce.shadowrootmode)&&(Di=F.call(r,Di,!0)),Di}let qi=Qe?ln.outerHTML:ln.innerHTML;return Qe&&we["!doctype"]&&ln.ownerDocument&&ln.ownerDocument.doctype&&ln.ownerDocument.doctype.name&&za(sQ,ln.ownerDocument.doctype.name)&&(qi="<!DOCTYPE "+ln.ownerDocument.doctype.name+`>
`+qi),ne&&nv([he,q,Ee],sa=>{qi=gm(qi,sa," ")}),T&&ft?T.createHTML(qi):qi},e.setConfig=function(){let Rn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};hr(Rn),Ve=!0},e.clearConfig=function(){Hn=null,Ve=!1},e.isValidAttribute=function(Rn,at,ln){Hn||hr({});const Bn=pn(Rn),Vr=pn(at);return Re(Bn,Vr,ln)},e.addHook=function(Rn,at){typeof at=="function"&&mm(K[Rn],at)},e.removeHook=function(Rn,at){if(at!==void 0){const ln=Qke(K[Rn],at);return ln===-1?void 0:Zke(K[Rn],ln,1)[0]}return vq(K[Rn])},e.removeHooks=function(Rn){K[Rn]=[]},e.removeAllHooks=function(){K=Aq()},e}oQ();function Iq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mD(t,e){return mD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},mD(t,e)}function mCe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mD(t,e)}var xq=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function gCe(t,e){return!!(t===e||xq(t)&&xq(e))}function yCe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!gCe(t[n],e[n]))return!1;return!0}function MR(t,e){e===void 0&&(e=yCe);var n,r=[],i,o=!1;function l(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return o&&n===this&&e(u,r)||(i=t.apply(this,u),o=!0,n=this,r=u),i}return l}function bCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vCe=typeof performance=="object"&&typeof performance.now=="function",Rq=vCe?function(){return performance.now()}:function(){return Date.now()};function kq(t){cancelAnimationFrame(t.id)}function ECe(t,e){var n=Rq();function r(){Rq()-n>=e?t.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var NR=-1;function Cq(t){if(t===void 0&&(t=!1),NR===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),NR=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return NR}var wf=null;function Dq(t){if(t===void 0&&(t=!1),wf===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?wf="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?wf="negative":wf="positive-ascending"),document.body.removeChild(e),wf}return wf}var _Ce=150,TCe=function(e,n){return e};function SCe(t){var e,n=t.getItemOffset,r=t.getEstimatedTotalSize,i=t.getItemSize,o=t.getOffsetForIndexAndAlignment,l=t.getStartIndexForOffset,u=t.getStopIndexForStartIndex,c=t.initInstanceProps,d=t.shouldResetStyleCacheOnItemSizeChange,h=t.validateProps;return e=(function(f){mCe(p,f);function p(g){var y;return y=f.call(this,g)||this,y._instanceProps=c(y.props,Iq(y)),y._outerRef=void 0,y._resetIsScrollingTimeoutId=null,y.state={instance:Iq(y),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof y.props.initialScrollOffset=="number"?y.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},y._callOnItemsRendered=void 0,y._callOnItemsRendered=MR(function(b,v,_,E){return y.props.onItemsRendered({overscanStartIndex:b,overscanStopIndex:v,visibleStartIndex:_,visibleStopIndex:E})}),y._callOnScroll=void 0,y._callOnScroll=MR(function(b,v,_){return y.props.onScroll({scrollDirection:b,scrollOffset:v,scrollUpdateWasRequested:_})}),y._getItemStyle=void 0,y._getItemStyle=function(b){var v=y.props,_=v.direction,E=v.itemSize,T=v.layout,A=y._getItemStyleCache(d&&E,d&&T,d&&_),w;if(A.hasOwnProperty(b))w=A[b];else{var I=n(y.props,b,y._instanceProps),C=i(y.props,b,y._instanceProps),j=_==="horizontal"||T==="horizontal",F=_==="rtl",K=j?I:0;A[b]=w={position:"absolute",left:F?void 0:K,right:F?K:void 0,top:j?0:I,height:j?"100%":C,width:j?C:"100%"}}return w},y._getItemStyleCache=void 0,y._getItemStyleCache=MR(function(b,v,_){return{}}),y._onScrollHorizontal=function(b){var v=b.currentTarget,_=v.clientWidth,E=v.scrollLeft,T=v.scrollWidth;y.setState(function(A){if(A.scrollOffset===E)return null;var w=y.props.direction,I=E;if(w==="rtl")switch(Dq()){case"negative":I=-E;break;case"positive-descending":I=T-_-E;break}return I=Math.max(0,Math.min(I,T-_)),{isScrolling:!0,scrollDirection:A.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._onScrollVertical=function(b){var v=b.currentTarget,_=v.clientHeight,E=v.scrollHeight,T=v.scrollTop;y.setState(function(A){if(A.scrollOffset===T)return null;var w=Math.max(0,Math.min(T,E-_));return{isScrolling:!0,scrollDirection:A.scrollOffset<w?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!1}},y._resetIsScrollingDebounced)},y._outerRefSetter=function(b){var v=y.props.outerRef;y._outerRef=b,typeof v=="function"?v(b):v!=null&&typeof v=="object"&&v.hasOwnProperty("current")&&(v.current=b)},y._resetIsScrollingDebounced=function(){y._resetIsScrollingTimeoutId!==null&&kq(y._resetIsScrollingTimeoutId),y._resetIsScrollingTimeoutId=ECe(y._resetIsScrolling,_Ce)},y._resetIsScrolling=function(){y._resetIsScrollingTimeoutId=null,y.setState({isScrolling:!1},function(){y._getItemStyleCache(-1,null)})},y}p.getDerivedStateFromProps=function(y,b){return wCe(y,b),h(y),null};var m=p.prototype;return m.scrollTo=function(y){y=Math.max(0,y),this.setState(function(b){return b.scrollOffset===y?null:{scrollDirection:b.scrollOffset<y?"forward":"backward",scrollOffset:y,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},m.scrollToItem=function(y,b){b===void 0&&(b="auto");var v=this.props,_=v.itemCount,E=v.layout,T=this.state.scrollOffset;y=Math.max(0,Math.min(y,_-1));var A=0;if(this._outerRef){var w=this._outerRef;E==="vertical"?A=w.scrollWidth>w.clientWidth?Cq():0:A=w.scrollHeight>w.clientHeight?Cq():0}this.scrollTo(o(this.props,y,b,T,this._instanceProps,A))},m.componentDidMount=function(){var y=this.props,b=y.direction,v=y.initialScrollOffset,_=y.layout;if(typeof v=="number"&&this._outerRef!=null){var E=this._outerRef;b==="horizontal"||_==="horizontal"?E.scrollLeft=v:E.scrollTop=v}this._callPropsCallbacks()},m.componentDidUpdate=function(){var y=this.props,b=y.direction,v=y.layout,_=this.state,E=_.scrollOffset,T=_.scrollUpdateWasRequested;if(T&&this._outerRef!=null){var A=this._outerRef;if(b==="horizontal"||v==="horizontal")if(b==="rtl")switch(Dq()){case"negative":A.scrollLeft=-E;break;case"positive-ascending":A.scrollLeft=E;break;default:var w=A.clientWidth,I=A.scrollWidth;A.scrollLeft=I-w-E;break}else A.scrollLeft=E;else A.scrollTop=E}this._callPropsCallbacks()},m.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&kq(this._resetIsScrollingTimeoutId)},m.render=function(){var y=this.props,b=y.children,v=y.className,_=y.direction,E=y.height,T=y.innerRef,A=y.innerElementType,w=y.innerTagName,I=y.itemCount,C=y.itemData,j=y.itemKey,F=j===void 0?TCe:j,K=y.layout,he=y.outerElementType,q=y.outerTagName,Ee=y.style,Te=y.useIsScrolling,ge=y.width,Be=this.state.isScrolling,He=_==="horizontal"||K==="horizontal",Ye=He?this._onScrollHorizontal:this._onScrollVertical,Ie=this._getRangeToRender(),we=Ie[0],je=Ie[1],Ce=[];if(I>0)for(var dt=we;dt<=je;dt++)Ce.push(Bt.createElement(b,{data:C,key:F(dt,C),index:dt,isScrolling:Te?Be:void 0,style:this._getItemStyle(dt)}));var Le=r(this.props,this._instanceProps);return Bt.createElement(he||q||"div",{className:v,onScroll:Ye,ref:this._outerRefSetter,style:ay({position:"relative",height:E,width:ge,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:_},Ee)},Bt.createElement(A||w||"div",{children:Ce,ref:T,style:{height:He?"100%":Le,pointerEvents:Be?"none":void 0,width:He?Le:"100%"}}))},m._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var y=this.props.itemCount;if(y>0){var b=this._getRangeToRender(),v=b[0],_=b[1],E=b[2],T=b[3];this._callOnItemsRendered(v,_,E,T)}}if(typeof this.props.onScroll=="function"){var A=this.state,w=A.scrollDirection,I=A.scrollOffset,C=A.scrollUpdateWasRequested;this._callOnScroll(w,I,C)}},m._getRangeToRender=function(){var y=this.props,b=y.itemCount,v=y.overscanCount,_=this.state,E=_.isScrolling,T=_.scrollDirection,A=_.scrollOffset;if(b===0)return[0,0,0,0];var w=l(this.props,A,this._instanceProps),I=u(this.props,w,A,this._instanceProps),C=!E||T==="backward"?Math.max(1,v):1,j=!E||T==="forward"?Math.max(1,v):1;return[Math.max(0,w-C),Math.max(0,Math.min(b-1,I+j)),w,I]},p})(Bt.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var wCe=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},ACe=50,Oh=function(e,n,r){var i=e,o=i.itemSize,l=r.itemMetadataMap,u=r.lastMeasuredIndex;if(n>u){var c=0;if(u>=0){var d=l[u];c=d.offset+d.size}for(var h=u+1;h<=n;h++){var f=o(h);l[h]={offset:c,size:f},c+=f}r.lastMeasuredIndex=n}return l[n]},ICe=function(e,n,r){var i=n.itemMetadataMap,o=n.lastMeasuredIndex,l=o>0?i[o].offset:0;return l>=r?lQ(e,n,o,0,r):xCe(e,n,Math.max(0,o),r)},lQ=function(e,n,r,i,o){for(;i<=r;){var l=i+Math.floor((r-i)/2),u=Oh(e,l,n).offset;if(u===o)return l;u<o?i=l+1:u>o&&(r=l-1)}return i>0?i-1:0},xCe=function(e,n,r,i){for(var o=e.itemCount,l=1;r<o&&Oh(e,r,n).offset<i;)r+=l,l*=2;return lQ(e,n,Math.min(r,o-1),Math.floor(r/2),i)},Lq=function(e,n){var r=e.itemCount,i=n.itemMetadataMap,o=n.estimatedItemSize,l=n.lastMeasuredIndex,u=0;if(l>=r&&(l=r-1),l>=0){var c=i[l];u=c.offset+c.size}var d=r-l-1,h=d*o;return u+h},_7e=SCe({getItemOffset:function(e,n,r){return Oh(e,n,r).offset},getItemSize:function(e,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:Lq,getOffsetForIndexAndAlignment:function(e,n,r,i,o,l){var u=e.direction,c=e.height,d=e.layout,h=e.width,f=u==="horizontal"||d==="horizontal",p=f?h:c,m=Oh(e,n,o),g=Lq(e,o),y=Math.max(0,Math.min(g-p,m.offset)),b=Math.max(0,m.offset-p+m.size+l);switch(r==="smart"&&(i>=b-p&&i<=y+p?r="auto":r="center"),r){case"start":return y;case"end":return b;case"center":return Math.round(b+(y-b)/2);default:return i>=b&&i<=y?i:i<b?b:y}},getStartIndexForOffset:function(e,n,r){return ICe(e,r,n)},getStopIndexForStartIndex:function(e,n,r,i){for(var o=e.direction,l=e.height,u=e.itemCount,c=e.layout,d=e.width,h=o==="horizontal"||c==="horizontal",f=h?d:l,p=Oh(e,n,i),m=r+f,g=p.offset+p.size,y=n;y<u-1&&g<m;)y++,g+=Oh(e,y,i).size;return y},initInstanceProps:function(e,n){var r=e,i=r.estimatedItemSize,o={itemMetadataMap:{},estimatedItemSize:i||ACe,lastMeasuredIndex:-1};return n.resetAfterIndex=function(l,u){u===void 0&&(u=!0),o.lastMeasuredIndex=Math.min(o.lastMeasuredIndex,l-1),n._getItemStyleCache(-1),u&&n.forceUpdate()},o},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});let io;typeof window<"u"?io=window:typeof self<"u"?io=self:io=global;let gD=null,yD=null;const Pq=20,FR=io.clearTimeout,Oq=io.setTimeout,UR=io.cancelAnimationFrame||io.mozCancelAnimationFrame||io.webkitCancelAnimationFrame,Mq=io.requestAnimationFrame||io.mozRequestAnimationFrame||io.webkitRequestAnimationFrame;UR==null||Mq==null?(gD=FR,yD=function(t){return Oq(t,Pq)}):(gD=function([t,e]){UR(t),FR(e)},yD=function(t){const e=Mq(function(){FR(n),t()}),n=Oq(function(){UR(e),t()},Pq);return[e,n]});function RCe(t){let e,n,r,i,o,l,u;const c=typeof document<"u"&&document.attachEvent;if(!c){l=function(y){const b=y.__resizeTriggers__,v=b.firstElementChild,_=b.lastElementChild,E=v.firstElementChild;_.scrollLeft=_.scrollWidth,_.scrollTop=_.scrollHeight,E.style.width=v.offsetWidth+1+"px",E.style.height=v.offsetHeight+1+"px",v.scrollLeft=v.scrollWidth,v.scrollTop=v.scrollHeight},o=function(y){return y.offsetWidth!==y.__resizeLast__.width||y.offsetHeight!==y.__resizeLast__.height},u=function(y){if(y.target.className&&typeof y.target.className.indexOf=="function"&&y.target.className.indexOf("contract-trigger")<0&&y.target.className.indexOf("expand-trigger")<0)return;const b=this;l(this),this.__resizeRAF__&&gD(this.__resizeRAF__),this.__resizeRAF__=yD(function(){o(b)&&(b.__resizeLast__.width=b.offsetWidth,b.__resizeLast__.height=b.offsetHeight,b.__resizeListeners__.forEach(function(v){v.call(b,y)}))})};let h=!1,f="";r="animationstart";const p="Webkit Moz O ms".split(" ");let m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="";{const y=document.createElement("fakeelement");if(y.style.animationName!==void 0&&(h=!0),h===!1){for(let b=0;b<p.length;b++)if(y.style[p[b]+"AnimationName"]!==void 0){g=p[b],f="-"+g.toLowerCase()+"-",r=m[b],h=!0;break}}}n="resizeanim",e="@"+f+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=f+"animation: 1ms "+n+"; "}const d=function(h){if(!h.getElementById("detectElementResize")){const f=(e||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',p=h.head||h.getElementsByTagName("head")[0],m=h.createElement("style");m.id="detectElementResize",m.type="text/css",t!=null&&m.setAttribute("nonce",t),m.styleSheet?m.styleSheet.cssText=f:m.appendChild(h.createTextNode(f)),p.appendChild(m)}};return{addResizeListener:function(h,f){if(c)h.attachEvent("onresize",f);else{if(!h.__resizeTriggers__){const p=h.ownerDocument,m=io.getComputedStyle(h);m&&m.position==="static"&&(h.style.position="relative"),d(p),h.__resizeLast__={},h.__resizeListeners__=[],(h.__resizeTriggers__=p.createElement("div")).className="resize-triggers";const g=p.createElement("div");g.className="expand-trigger",g.appendChild(p.createElement("div"));const y=p.createElement("div");y.className="contract-trigger",h.__resizeTriggers__.appendChild(g),h.__resizeTriggers__.appendChild(y),h.appendChild(h.__resizeTriggers__),l(h),h.addEventListener("scroll",u,!0),r&&(h.__resizeTriggers__.__animationListener__=function(b){b.animationName===n&&l(h)},h.__resizeTriggers__.addEventListener(r,h.__resizeTriggers__.__animationListener__))}h.__resizeListeners__.push(f)}},removeResizeListener:function(h,f){if(c)h.detachEvent("onresize",f);else if(h.__resizeListeners__.splice(h.__resizeListeners__.indexOf(f),1),!h.__resizeListeners__.length){h.removeEventListener("scroll",u,!0),h.__resizeTriggers__.__animationListener__&&(h.__resizeTriggers__.removeEventListener(r,h.__resizeTriggers__.__animationListener__),h.__resizeTriggers__.__animationListener__=null);try{h.__resizeTriggers__=!h.removeChild(h.__resizeTriggers__)}catch{}}}}}function kCe({box:t,nonce:e,onResize:n,rootElement:r}){const i=Bt.useRef({onResize:n,parentNode:null,prevSize:{height:void 0,width:void 0}});Bt.useLayoutEffect(()=>{i.current.onResize=n});const o=Bt.useRef(()=>{const{onResize:l,parentNode:u,prevSize:c}=i.current;if(u===null)return;let d,h;switch(t){case"border-box":{const f=u.getBoundingClientRect();d=f.height,h=f.width;break}case"content-box":{const f=u.getBoundingClientRect(),p=window.getComputedStyle(u)||{},m=parseFloat(p.borderBottomWidth||"0"),g=parseFloat(p.borderLeftWidth||"0"),y=parseFloat(p.borderRightWidth||"0"),b=parseFloat(p.borderTopWidth||"0"),v=parseFloat(p.paddingLeft||"0"),_=parseFloat(p.paddingRight||"0"),E=parseFloat(p.paddingTop||"0"),T=parseFloat(p.paddingBottom||"0");d=f.height-E-T-b-m,h=f.width-v-_-g-y;break}case"device-pixel-content-box":{d=u.offsetHeight,h=u.offsetWidth;break}}(c.height!==d||c.width!==h)&&(i.current.prevSize={height:d,width:h},l({height:d,width:h}))});Bt.useLayoutEffect(()=>{if(r===null)return;const l=r.parentNode;if(l===null||l.ownerDocument===null||l.ownerDocument.defaultView===null||!(l instanceof l.ownerDocument.defaultView.HTMLElement))return;i.current.parentNode=l;const u=o.current,c=l.ownerDocument.defaultView.ResizeObserver;if(c!=null){let d;const h=new c(()=>{d=setTimeout(u,0)});return h.observe(l),()=>{d&&clearTimeout(d),h.disconnect()}}else{const d=RCe(e);return d.addResizeListener(l,u),()=>{d.removeResizeListener(l,u)}}},[e,r])}function T7e({box:t="content-box",className:e,"data-testid":n,id:r,nonce:i,onResize:o,style:l,tagName:u="div",...c}){let d,h;"Child"in c?d=c.Child:"ChildComponent"in c?d=c.ChildComponent:"renderProp"in c&&(h=c.renderProp);const[f,p]=Bt.useState(null),[m,g]=Bt.useState(),[y,b]=Bt.useState();kCe({box:t,nonce:i,onResize:_=>{g(_.height),b(_.width),typeof o<"u"&&o(_)},rootElement:f});const v=Bt.useMemo(()=>d?Bt.memo(d):void 0,[d]);return Bt.createElement(u,{className:e,"data-auto-sizer":"","data-testid":n,id:r,ref:p,style:l},v?Bt.createElement(v,{height:m,width:y}):void 0,h?h({height:m,width:y}):void 0)}var S7e=BV();function $a(t){this.content=t}$a.prototype={constructor:$a,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new $a(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new $a(n)},addToStart:function(t,e){return new $a([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new $a(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new $a(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=$a.from(t),t.size?new $a(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=$a.from(t),t.size?new $a(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=$a.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};$a.from=function(t){if(t instanceof $a)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new $a(e)};var Bd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s_={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},CCe=typeof navigator<"u"&&/Mac/.test(navigator.platform),DCe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Aa=0;Aa<10;Aa++)Bd[48+Aa]=Bd[96+Aa]=String(Aa);for(var Aa=1;Aa<=24;Aa++)Bd[Aa+111]="F"+Aa;for(var Aa=65;Aa<=90;Aa++)Bd[Aa]=String.fromCharCode(Aa+32),s_[Aa]=String.fromCharCode(Aa);for(var BR in Bd)s_.hasOwnProperty(BR)||(s_[BR]=Bd[BR]);function w7e(t){var e=CCe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||DCe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?s_:Bd)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var LCe=Object.getOwnPropertyNames,PCe=Object.getOwnPropertySymbols,OCe=Object.prototype.hasOwnProperty;function Nq(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function iv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,l=o.get(n),u=o.get(r);if(l&&u)return l===r&&u===n;o.set(n,r),o.set(r,n);var c=t(n,r,i);return o.delete(n),o.delete(r),c}}function MCe(t){return t?.[Symbol.toStringTag]}function Fq(t){return LCe(t).concat(PCe(t))}var NCe=Object.hasOwn||(function(t,e){return OCe.call(t,e)});function tf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var FCe="__v",UCe="__o",BCe="_owner",Uq=Object.getOwnPropertyDescriptor,Bq=Object.keys;function zCe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function $Ce(t,e){return tf(t.getTime(),e.getTime())}function qCe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jCe(t,e){return t===e}function zq(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),l,u,c=0;(l=o.next())&&!l.done;){for(var d=e.entries(),h=!1,f=0;(u=d.next())&&!u.done;){if(i[f]){f++;continue}var p=l.value,m=u.value;if(n.equals(p[0],m[0],c,f,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){h=i[f]=!0;break}f++}if(!h)return!1;c++}return!0}var HCe=tf;function GCe(t,e,n){var r=Bq(t),i=r.length;if(Bq(e).length!==i)return!1;for(;i-- >0;)if(!uQ(t,e,n,r[i]))return!1;return!0}function Em(t,e,n){var r=Fq(t),i=r.length;if(Fq(e).length!==i)return!1;for(var o,l,u;i-- >0;)if(o=r[i],!uQ(t,e,n,o)||(l=Uq(t,o),u=Uq(e,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function VCe(t,e){return tf(t.valueOf(),e.valueOf())}function KCe(t,e){return t.source===e.source&&t.flags===e.flags}function $q(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),l,u;(l=o.next())&&!l.done;){for(var c=e.values(),d=!1,h=0;(u=c.next())&&!u.done;){if(!i[h]&&n.equals(l.value,u.value,l.value,u.value,t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function WCe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function YCe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function uQ(t,e,n,r){return(r===BCe||r===UCe||r===FCe)&&(t.$$typeof||e.$$typeof)?!0:NCe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var XCe="[object Arguments]",QCe="[object Boolean]",ZCe="[object Date]",JCe="[object Error]",eDe="[object Map]",tDe="[object Number]",nDe="[object Object]",rDe="[object RegExp]",iDe="[object Set]",aDe="[object String]",sDe="[object URL]",oDe=Array.isArray,qq=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,jq=Object.assign,lDe=Object.prototype.toString.call.bind(Object.prototype.toString);function uDe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,l=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,h=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,m=t.unknownTagComparators;return function(y,b,v){if(y===b)return!0;if(y==null||b==null)return!1;var _=typeof y;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?l(y,b,v):_==="function"?i(y,b,v):!1;var E=y.constructor;if(E!==b.constructor)return!1;if(E===Object)return u(y,b,v);if(oDe(y))return e(y,b,v);if(qq!=null&&qq(y))return f(y,b,v);if(E===Date)return n(y,b,v);if(E===RegExp)return d(y,b,v);if(E===Map)return o(y,b,v);if(E===Set)return h(y,b,v);var T=lDe(y);if(T===ZCe)return n(y,b,v);if(T===rDe)return d(y,b,v);if(T===eDe)return o(y,b,v);if(T===iDe)return h(y,b,v);if(T===nDe)return typeof y.then!="function"&&typeof b.then!="function"&&u(y,b,v);if(T===sDe)return p(y,b,v);if(T===JCe)return r(y,b,v);if(T===XCe)return u(y,b,v);if(T===QCe||T===tDe||T===aDe)return c(y,b,v);if(m){var A=m[T];if(!A){var w=MCe(y);w&&(A=m[w])}if(A)return A(y,b,v)}return!1}}function cDe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Em:zCe,areDatesEqual:$Ce,areErrorsEqual:qCe,areFunctionsEqual:jCe,areMapsEqual:r?Nq(zq,Em):zq,areNumbersEqual:HCe,areObjectsEqual:r?Em:GCe,arePrimitiveWrappersEqual:VCe,areRegExpsEqual:KCe,areSetsEqual:r?Nq($q,Em):$q,areTypedArraysEqual:r?Em:WCe,areUrlsEqual:YCe,unknownTagComparators:void 0};if(n&&(i=jq({},i,n(i))),e){var o=iv(i.areArraysEqual),l=iv(i.areMapsEqual),u=iv(i.areObjectsEqual),c=iv(i.areSetsEqual);i=jq({},i,{areArraysEqual:o,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:c})}return i}function dDe(t){return function(e,n,r,i,o,l,u){return t(e,n,u)}}function fDe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(c,d){var h=r(),f=h.cache,p=f===void 0?e?new WeakMap:void 0:f,m=h.meta;return n(c,d,{cache:p,equals:i,meta:m,strict:o})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var l={cache:void 0,equals:i,meta:void 0,strict:o};return function(c,d){return n(c,d,l)}}var A7e=Lc();Lc({strict:!0});Lc({circular:!0});Lc({circular:!0,strict:!0});Lc({createInternalComparator:function(){return tf}});Lc({strict:!0,createInternalComparator:function(){return tf}});Lc({circular:!0,createInternalComparator:function(){return tf}});Lc({circular:!0,createInternalComparator:function(){return tf},strict:!0});function Lc(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,l=o===void 0?!1:o,u=cDe(t),c=uDe(u),d=r?r(c):dDe(c);return fDe({circular:n,comparator:c,createState:i,equals:d,strict:l})}const hDe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",pDe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",bD="numeric",vD="ascii",ED="alpha",kg="asciinumeric",eg="alphanumeric",_D="domain",cQ="emoji",mDe="scheme",gDe="slashscheme",zR="whitespace";function yDe(t,e){return t in e||(e[t]=[]),e[t]}function md(t,e,n){e[bD]&&(e[kg]=!0,e[eg]=!0),e[vD]&&(e[kg]=!0,e[ED]=!0),e[kg]&&(e[eg]=!0),e[ED]&&(e[eg]=!0),e[eg]&&(e[_D]=!0),e[cQ]&&(e[_D]=!0);for(const r in e){const i=yDe(r,n);i.indexOf(t)<0&&i.push(t)}}function bDe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function rs(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}rs.groups={};rs.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||rs.groups;let i;return e&&e.j?i=e:(i=new rs(e),n&&r&&md(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let l=0;l<o-1;l++)i=i.tt(t[l]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||rs.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let l,u=i.go(t);if(u?(l=new rs,Object.assign(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new rs,o){if(r)if(l.t&&typeof l.t=="string"){const c=Object.assign(bDe(l.t,r),n);md(o,c,r)}else n&&md(o,n,r);l.t=o}return i.j[t]=l,l}};const vr=(t,e,n,r,i)=>t.ta(e,n,r,i),Pi=(t,e,n,r,i)=>t.tr(e,n,r,i),Hq=(t,e,n,r,i)=>t.ts(e,n,r,i),gn=(t,e,n,r,i)=>t.tt(e,n,r,i),tu="WORD",TD="UWORD",dQ="ASCIINUMERICAL",fQ="ALPHANUMERICAL",by="LOCALHOST",SD="TLD",wD="UTLD",Zv="SCHEME",sh="SLASH_SCHEME",qM="NUM",AD="WS",jM="NL",Cg="OPENBRACE",Dg="CLOSEBRACE",o_="OPENBRACKET",l_="CLOSEBRACKET",u_="OPENPAREN",c_="CLOSEPAREN",d_="OPENANGLEBRACKET",f_="CLOSEANGLEBRACKET",h_="FULLWIDTHLEFTPAREN",p_="FULLWIDTHRIGHTPAREN",m_="LEFTCORNERBRACKET",g_="RIGHTCORNERBRACKET",y_="LEFTWHITECORNERBRACKET",b_="RIGHTWHITECORNERBRACKET",v_="FULLWIDTHLESSTHAN",E_="FULLWIDTHGREATERTHAN",__="AMPERSAND",T_="APOSTROPHE",S_="ASTERISK",sc="AT",w_="BACKSLASH",A_="BACKTICK",I_="CARET",cc="COLON",HM="COMMA",x_="DOLLAR",vl="DOT",R_="EQUALS",GM="EXCLAMATION",Ks="HYPHEN",Lg="PERCENT",k_="PIPE",C_="PLUS",D_="POUND",Pg="QUERY",VM="QUOTE",hQ="FULLWIDTHMIDDLEDOT",KM="SEMI",El="SLASH",Og="TILDE",L_="UNDERSCORE",pQ="EMOJI",P_="SYM";var mQ=Object.freeze({__proto__:null,ALPHANUMERICAL:fQ,AMPERSAND:__,APOSTROPHE:T_,ASCIINUMERICAL:dQ,ASTERISK:S_,AT:sc,BACKSLASH:w_,BACKTICK:A_,CARET:I_,CLOSEANGLEBRACKET:f_,CLOSEBRACE:Dg,CLOSEBRACKET:l_,CLOSEPAREN:c_,COLON:cc,COMMA:HM,DOLLAR:x_,DOT:vl,EMOJI:pQ,EQUALS:R_,EXCLAMATION:GM,FULLWIDTHGREATERTHAN:E_,FULLWIDTHLEFTPAREN:h_,FULLWIDTHLESSTHAN:v_,FULLWIDTHMIDDLEDOT:hQ,FULLWIDTHRIGHTPAREN:p_,HYPHEN:Ks,LEFTCORNERBRACKET:m_,LEFTWHITECORNERBRACKET:y_,LOCALHOST:by,NL:jM,NUM:qM,OPENANGLEBRACKET:d_,OPENBRACE:Cg,OPENBRACKET:o_,OPENPAREN:u_,PERCENT:Lg,PIPE:k_,PLUS:C_,POUND:D_,QUERY:Pg,QUOTE:VM,RIGHTCORNERBRACKET:g_,RIGHTWHITECORNERBRACKET:b_,SCHEME:Zv,SEMI:KM,SLASH:El,SLASH_SCHEME:sh,SYM:P_,TILDE:Og,TLD:SD,UNDERSCORE:L_,UTLD:wD,UWORD:TD,WORD:tu,WS:AD});const Yl=/[a-z]/,_m=/\p{L}/u,$R=/\p{Emoji}/u,Xl=/\d/,qR=/\s/,Gq="\r",jR=`
`,vDe="",EDe="",HR="";let av=null,sv=null;function _De(t=[]){const e={};rs.groups=e;const n=new rs;av==null&&(av=Vq(hDe)),sv==null&&(sv=Vq(pDe)),gn(n,"'",T_),gn(n,"{",Cg),gn(n,"}",Dg),gn(n,"[",o_),gn(n,"]",l_),gn(n,"(",u_),gn(n,")",c_),gn(n,"<",d_),gn(n,">",f_),gn(n,"",h_),gn(n,"",p_),gn(n,"",m_),gn(n,"",g_),gn(n,"",y_),gn(n,"",b_),gn(n,"",v_),gn(n,"",E_),gn(n,"&",__),gn(n,"*",S_),gn(n,"@",sc),gn(n,"`",A_),gn(n,"^",I_),gn(n,":",cc),gn(n,",",HM),gn(n,"$",x_),gn(n,".",vl),gn(n,"=",R_),gn(n,"!",GM),gn(n,"-",Ks),gn(n,"%",Lg),gn(n,"|",k_),gn(n,"+",C_),gn(n,"#",D_),gn(n,"?",Pg),gn(n,'"',VM),gn(n,"/",El),gn(n,";",KM),gn(n,"~",Og),gn(n,"_",L_),gn(n,"\\",w_),gn(n,"",hQ);const r=Pi(n,Xl,qM,{[bD]:!0});Pi(r,Xl,r);const i=Pi(r,Yl,dQ,{[kg]:!0}),o=Pi(r,_m,fQ,{[eg]:!0}),l=Pi(n,Yl,tu,{[vD]:!0});Pi(l,Xl,i),Pi(l,Yl,l),Pi(i,Xl,i),Pi(i,Yl,i);const u=Pi(n,_m,TD,{[ED]:!0});Pi(u,Yl),Pi(u,Xl,o),Pi(u,_m,u),Pi(o,Xl,o),Pi(o,Yl),Pi(o,_m,o);const c=gn(n,jR,jM,{[zR]:!0}),d=gn(n,Gq,AD,{[zR]:!0}),h=Pi(n,qR,AD,{[zR]:!0});gn(n,HR,h),gn(d,jR,c),gn(d,HR,h),Pi(d,qR,h),gn(h,Gq),gn(h,jR),Pi(h,qR,h),gn(h,HR,h);const f=Pi(n,$R,pQ,{[cQ]:!0});gn(f,"#"),Pi(f,$R,f),gn(f,vDe,f);const p=gn(f,EDe);gn(p,"#"),Pi(p,$R,f);const m=[[Yl,l],[Xl,i]],g=[[Yl,null],[_m,u],[Xl,o]];for(let y=0;y<av.length;y++)Uu(n,av[y],SD,tu,m);for(let y=0;y<sv.length;y++)Uu(n,sv[y],wD,TD,g);md(SD,{tld:!0,ascii:!0},e),md(wD,{utld:!0,alpha:!0},e),Uu(n,"file",Zv,tu,m),Uu(n,"mailto",Zv,tu,m),Uu(n,"http",sh,tu,m),Uu(n,"https",sh,tu,m),Uu(n,"ftp",sh,tu,m),Uu(n,"ftps",sh,tu,m),md(Zv,{scheme:!0,ascii:!0},e),md(sh,{slashscheme:!0,ascii:!0},e),t=t.sort((y,b)=>y[0]>b[0]?1:-1);for(let y=0;y<t.length;y++){const b=t[y][0],_=t[y][1]?{[mDe]:!0}:{[gDe]:!0};b.indexOf("-")>=0?_[_D]=!0:Yl.test(b)?Xl.test(b)?_[kg]=!0:_[vD]=!0:_[bD]=!0,Hq(n,b,b,_)}return Hq(n,"localhost",by,{ascii:!0}),n.jd=new rs(P_),{start:n,tokens:Object.assign({groups:e},mQ)}}function gQ(t,e){const n=TDe(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,i=[];let o=0,l=0;for(;l<r;){let u=t,c=null,d=0,h=null,f=-1,p=-1;for(;l<r&&(c=u.go(n[l]));)u=c,u.accepts()?(f=0,p=0,h=u):f>=0&&(f+=n[l].length,p++),d+=n[l].length,o+=n[l].length,l++;o-=f,l-=p,d-=f,i.push({t:h.t,v:e.slice(o-d,o),s:o-d,e:o})}return i}function TDe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,l=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Uu(t,e,n,r,i){let o;const l=e.length;for(let u=0;u<l-1;u++){const c=e[u];t.j[c]?o=t.j[c]:(o=new rs(r),o.jr=i.slice(),t.j[c]=o),t=o}return o=new rs(n),o.jr=i.slice(),t.j[e[l-1]]=o,o}function Vq(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+o),10);l>0;l--)n.pop();r+=o}else n.push(t[r]),r++}return e}const vy={defaultProtocol:"http",events:null,format:Kq,formatHref:Kq,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function WM(t,e=null){let n=Object.assign({},vy);t&&(n=Object.assign(n,t instanceof WM?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}WM.prototype={o:vy,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:vy[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Kq(t){return t}function yQ(t,e){this.t="token",this.v=t,this.tk=e}yQ.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=vy.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),l={},u=t.get("className",n,e),c=t.get("target",n,e),d=t.get("rel",n,e),h=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return l.href=r,u&&(l.class=u),c&&(l.target=c),d&&(l.rel=d),h&&Object.assign(l,h),{tagName:i,attributes:l,content:o,eventListeners:f}}};function pS(t,e){class n extends yQ{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Wq=pS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Yq=pS("text"),SDe=pS("nl"),ov=pS("url",{isLink:!0,toHref(t=vy.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==by&&t[1].t===cc}}),js=t=>new rs(t);function wDe({groups:t}){const e=t.domain.concat([__,S_,sc,w_,A_,I_,x_,R_,Ks,qM,Lg,k_,C_,D_,El,P_,Og,L_]),n=[T_,cc,HM,vl,GM,Lg,Pg,VM,KM,d_,f_,Cg,Dg,l_,o_,u_,c_,h_,p_,m_,g_,y_,b_,v_,E_],r=[__,T_,S_,w_,A_,I_,x_,R_,Ks,Cg,Dg,Lg,k_,C_,D_,Pg,El,P_,Og,L_],i=js(),o=gn(i,Og);vr(o,r,o),vr(o,t.domain,o);const l=js(),u=js(),c=js();vr(i,t.domain,l),vr(i,t.scheme,u),vr(i,t.slashscheme,c),vr(l,r,o),vr(l,t.domain,l);const d=gn(l,sc);gn(o,sc,d),gn(u,sc,d),gn(c,sc,d);const h=gn(o,vl);vr(h,r,o),vr(h,t.domain,o);const f=js();vr(d,t.domain,f),vr(f,t.domain,f);const p=gn(f,vl);vr(p,t.domain,f);const m=js(Wq);vr(p,t.tld,m),vr(p,t.utld,m),gn(d,by,m);const g=gn(f,Ks);gn(g,Ks,g),vr(g,t.domain,f),vr(m,t.domain,f),gn(m,vl,p),gn(m,Ks,g);const y=gn(m,cc);vr(y,t.numeric,Wq);const b=gn(l,Ks),v=gn(l,vl);gn(b,Ks,b),vr(b,t.domain,l),vr(v,r,o),vr(v,t.domain,l);const _=js(ov);vr(v,t.tld,_),vr(v,t.utld,_),vr(_,t.domain,l),vr(_,r,o),gn(_,vl,v),gn(_,Ks,b),gn(_,sc,d);const E=gn(_,cc),T=js(ov);vr(E,t.numeric,T);const A=js(ov),w=js();vr(A,e,A),vr(A,n,w),vr(w,e,A),vr(w,n,w),gn(_,El,A),gn(T,El,A);const I=gn(u,cc),C=gn(c,cc),j=gn(C,El),F=gn(j,El);vr(u,t.domain,l),gn(u,vl,v),gn(u,Ks,b),vr(c,t.domain,l),gn(c,vl,v),gn(c,Ks,b),vr(I,t.domain,A),gn(I,El,A),gn(I,Pg,A),vr(F,t.domain,A),vr(F,e,A),gn(F,El,A);const K=[[Cg,Dg],[o_,l_],[u_,c_],[d_,f_],[h_,p_],[m_,g_],[y_,b_],[v_,E_]];for(let he=0;he<K.length;he++){const[q,Ee]=K[he],Te=gn(A,q);gn(w,q,Te),gn(Te,Ee,A);const ge=js(ov);vr(Te,e,ge);const Be=js();vr(Te,n),vr(ge,e,ge),vr(ge,n,Be),vr(Be,e,ge),vr(Be,n,Be),gn(ge,Ee,A),gn(Be,Ee,A)}return gn(i,by,_),gn(i,jM,SDe),{start:i,tokens:mQ}}function ADe(t,e,n){let r=n.length,i=0,o=[],l=[];for(;i<r;){let u=t,c=null,d=null,h=0,f=null,p=-1;for(;i<r&&!(c=u.go(n[i].t));)l.push(n[i++]);for(;i<r&&(d=c||u.go(n[i].t));)c=null,u=d,u.accepts()?(p=0,f=u):p>=0&&p++,i++,h++;if(p<0)i-=h,i<r&&(l.push(n[i]),i++);else{l.length>0&&(o.push(GR(Yq,e,l)),l=[]),i-=p,h-=p;const m=f.t,g=n.slice(i-h,i);o.push(GR(m,e,g))}}return l.length>0&&o.push(GR(Yq,e,l)),o}function GR(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const IDe=typeof console<"u"&&console&&console.warn||(()=>{}),xDe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ei={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function I7e(){return rs.groups={},Ei.scanner=null,Ei.parser=null,Ei.tokenQueue=[],Ei.pluginQueue=[],Ei.customSchemes=[],Ei.initialized=!1,Ei}function x7e(t,e=!1){if(Ei.initialized&&IDe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${xDe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ei.customSchemes.push([t,e])}function RDe(){Ei.scanner=_De(Ei.customSchemes);for(let t=0;t<Ei.tokenQueue.length;t++)Ei.tokenQueue[t][1]({scanner:Ei.scanner});Ei.parser=wDe(Ei.scanner.tokens);for(let t=0;t<Ei.pluginQueue.length;t++)Ei.pluginQueue[t][1]({scanner:Ei.scanner,parser:Ei.parser});return Ei.initialized=!0,Ei}function bQ(t){return Ei.initialized||RDe(),ADe(Ei.parser.start,t,gQ(Ei.scanner.start,t))}bQ.scan=gQ;function R7e(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new WM(n),i=bQ(t),o=[];for(let l=0;l<i.length;l++){const u=i[l];u.isLink&&(!e||u.t===e)&&r.check(u)&&o.push(u.toFormattedObject(r))}return o}var O_=200,Oa=function(){};Oa.prototype.append=function(e){return e.length?(e=Oa.from(e),!this.length&&e||e.length<O_&&this.leafAppend(e)||this.length<O_&&e.leafPrepend(this)||this.appendInner(e)):this};Oa.prototype.prepend=function(e){return e.length?Oa.from(e).append(this):this};Oa.prototype.appendInner=function(e){return new kDe(this,e)};Oa.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Oa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Oa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Oa.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Oa.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(e(o,l))},n,r),i};Oa.from=function(e){return e instanceof Oa?e:e&&e.length?new vQ(e):Oa.empty};var vQ=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,l,u){for(var c=o;c<l;c++)if(i(this.values[c],u+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,l,u){for(var c=o-1;c>=l;c--)if(i(this.values[c],u+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=O_)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=O_)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Oa);Oa.empty=new vQ([]);var kDe=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,l){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(o,u),l)===!1||o>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,o)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(o,u)-u,l+u)===!1||o<u&&this.left.forEachInvertedInner(r,Math.min(i,u),o,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Oa),CDe=Object.defineProperty,DDe=(t,e,n)=>e in t?CDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ti=(t,e,n)=>DDe(t,typeof e!="symbol"?e+"":e,n);const M_={x:0,y:0,width:0,height:0,unit:"px"},Af=(t,e,n)=>Math.min(Math.max(t,e),n),LDe=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),Xq=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function If(t,e,n){return t.unit==="%"?{...M_,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/n*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/n*100:0}}function Bu(t,e,n){return t.unit?t.unit==="px"?{...M_,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*n/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*n/100:0}:{...M_,...t,unit:"px"}}function Qq(t,e,n,r,i,o=0,l=0,u=r,c=i){const d={...t};let h=Math.min(o,r),f=Math.min(l,i),p=Math.min(u,r),m=Math.min(c,i);e&&(e>1?(h=l?l*e:h,f=h/e,p=u*e):(f=o?o/e:f,h=f*e,m=c/e)),d.y<0&&(d.height=Math.max(d.height+d.y,f),d.y=0),d.x<0&&(d.width=Math.max(d.width+d.x,h),d.x=0);const g=r-(d.x+d.width);g<0&&(d.x=Math.min(d.x,r-h),d.width+=g);const y=i-(d.y+d.height);if(y<0&&(d.y=Math.min(d.y,i-f),d.height+=y),d.width<h&&((n==="sw"||n=="nw")&&(d.x-=h-d.width),d.width=h),d.height<f&&((n==="nw"||n=="ne")&&(d.y-=f-d.height),d.height=f),d.width>p&&((n==="sw"||n=="nw")&&(d.x-=p-d.width),d.width=p),d.height>m&&((n==="nw"||n=="ne")&&(d.y-=m-d.height),d.height=m),e){const b=d.width/d.height;if(b<e){const v=Math.max(d.width/e,f);(n==="nw"||n=="ne")&&(d.y-=v-d.height),d.height=v}else if(b>e){const v=Math.max(d.height*e,h);(n==="sw"||n=="nw")&&(d.x-=v-d.width),d.width=v}}return d}function PDe(t,e,n,r){const i={...t};return e==="ArrowLeft"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="w"?(i.x-=n,i.width+=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="e"?i.width-=n:r==="se"&&(i.width-=n,i.height-=n):e==="ArrowRight"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="w"?(i.x+=n,i.width-=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="e"?i.width+=n:r==="se"&&(i.width+=n,i.height+=n)),e==="ArrowUp"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="n"?(i.y-=n,i.height+=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="s"?i.height-=n:r==="se"&&(i.width-=n,i.height-=n):e==="ArrowDown"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="n"?(i.y+=n,i.height-=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="s"?i.height+=n:r==="se"&&(i.width+=n,i.height+=n)),i}const xf={capture:!0,passive:!1};let ODe=0;const Yu=class xo extends Bt.PureComponent{constructor(){super(...arguments),Ti(this,"docMoveBound",!1),Ti(this,"mouseDownOnCrop",!1),Ti(this,"dragStarted",!1),Ti(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),Ti(this,"componentRef",Bt.createRef()),Ti(this,"mediaRef",Bt.createRef()),Ti(this,"resizeObserver"),Ti(this,"initChangeCalled",!1),Ti(this,"instanceId",`rc-${ODe++}`),Ti(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),Ti(this,"onCropPointerDown",e=>{const{crop:n,disabled:r}=this.props,i=this.getBox();if(!n)return;const o=Bu(n,i.width,i.height);if(r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.target.dataset.ord,u=!!l;let c=e.clientX,d=e.clientY,h=o.x,f=o.y;if(l){const p=e.clientX-i.x,m=e.clientY-i.y;let g=0,y=0;l==="ne"||l=="e"?(g=p-(o.x+o.width),y=m-o.y,h=o.x,f=o.y+o.height):l==="se"||l==="s"?(g=p-(o.x+o.width),y=m-(o.y+o.height),h=o.x,f=o.y):l==="sw"||l=="w"?(g=p-o.x,y=m-(o.y+o.height),h=o.x+o.width,f=o.y):(l==="nw"||l=="n")&&(g=p-o.x,y=m-o.y,h=o.x+o.width,f=o.y+o.height),c=h+i.x+g,d=f+i.y+y}this.evData={startClientX:c,startClientY:d,startCropX:h,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:u,ord:l},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),Ti(this,"onComponentPointerDown",e=>{const{crop:n,disabled:r,locked:i,keepSelection:o,onChange:l}=this.props,u=this.getBox();if(r||i||o&&n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=e.clientX-u.x,d=e.clientY-u.y,h={unit:"px",x:c,y:d,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:c,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,l(Bu(h,u.width,u.height),If(h,u.width,u.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),Ti(this,"onDocPointerMove",e=>{const{crop:n,disabled:r,onChange:i,onDragStart:o}=this.props,l=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(e));const{evData:u}=this;u.clientX=e.clientX,u.clientY=e.clientY;let c;u.isResize?c=this.resizeCrop():c=this.dragCrop(),Xq(n,c)||i(Bu(c,l.width,l.height),If(c,l.width,l.height))}),Ti(this,"onComponentKeyDown",e=>{const{crop:n,disabled:r,onChange:i,onComplete:o}=this.props;if(r)return;const l=e.key;let u=!1;if(!n)return;const c=this.getBox(),d=this.makePixelCrop(c),h=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?xo.nudgeStepLarge:e.shiftKey?xo.nudgeStepMedium:xo.nudgeStep;if(l==="ArrowLeft"?(d.x-=h,u=!0):l==="ArrowRight"?(d.x+=h,u=!0):l==="ArrowUp"?(d.y-=h,u=!0):l==="ArrowDown"&&(d.y+=h,u=!0),u){e.cancelable&&e.preventDefault(),d.x=Af(d.x,0,c.width-d.width),d.y=Af(d.y,0,c.height-d.height);const f=Bu(d,c.width,c.height),p=If(d,c.width,c.height);i(f,p),o&&o(f,p)}}),Ti(this,"onHandlerKeyDown",(e,n)=>{const{aspect:r=0,crop:i,disabled:o,minWidth:l=0,minHeight:u=0,maxWidth:c,maxHeight:d,onChange:h,onComplete:f}=this.props,p=this.getBox();if(o||!i)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?xo.nudgeStepLarge:e.shiftKey?xo.nudgeStepMedium:xo.nudgeStep,g=Bu(i,p.width,p.height),y=PDe(g,e.key,m,n),b=Qq(y,r,n,p.width,p.height,l,u,c,d);if(!Xq(i,b)){const v=If(b,p.width,p.height);h(b,v),f&&f(b,v)}}),Ti(this,"onDocPointerDone",e=>{const{crop:n,disabled:r,onComplete:i,onDragEnd:o}=this.props,l=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,o&&o(e),i&&i(Bu(n,l.width,l.height),If(n,l.width,l.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),Ti(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:i,height:o}=e.getBoundingClientRect();return{x:n,y:r,width:i,height:o}}componentDidUpdate(e){const{crop:n,onComplete:r}=this.props;if(r&&!e.crop&&n){const{width:i,height:o}=this.getBox();i&&o&&r(Bu(n,i,o),If(n,i,o))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,xf),this.document.addEventListener("pointerup",this.onDocPointerDone,xf),this.document.addEventListener("pointercancel",this.onDocPointerDone,xf),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,xf),this.document.removeEventListener("pointerup",this.onDocPointerDone,xf),this.document.removeEventListener("pointercancel",this.onDocPointerDone,xf),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,n=this.getBox(),r=this.makePixelCrop(n),i=e.clientX-e.startClientX,o=e.clientY-e.startClientY;return r.x=Af(e.startCropX+i,0,n.width-r.width),r.y=Af(e.startCropY+o,0,n.height-r.height),r}getPointRegion(e,n,r,i){const{evData:o}=this,l=o.clientX-e.x,u=o.clientY-e.y;let c;i&&n?c=n==="nw"||n==="n"||n==="ne":c=u<o.startCropY;let d;return r&&n?d=n==="nw"||n==="w"||n==="sw":d=l<o.startCropX,d?c?"nw":"sw":c?"ne":"se"}resolveMinDimensions(e,n,r=0,i=0){const o=Math.min(r,e.width),l=Math.min(i,e.height);return!n||!o&&!l?[o,l]:n>1?o?[o,o/n]:[l*n,l]:l?[l*n,l]:[o,o/n]}resizeCrop(){const{evData:e}=this,{aspect:n=0,maxWidth:r,maxHeight:i}=this.props,o=this.getBox(),[l,u]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight);let c=this.makePixelCrop(o);const d=this.getPointRegion(o,e.ord,l,u),h=e.ord||d;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(l&&h==="nw"||h==="w"||h==="sw")&&(f=Math.min(f,-l)),(u&&h==="nw"||h==="n"||h==="ne")&&(p=Math.min(p,-u));const m={unit:"px",x:0,y:0,width:0,height:0};d==="ne"?(m.x=e.startCropX,m.width=f,n?(m.height=m.width/n,m.y=e.startCropY-m.height):(m.height=Math.abs(p),m.y=e.startCropY-m.height)):d==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=f,n?m.height=m.width/n:m.height=p):d==="sw"?(m.x=e.startCropX+f,m.y=e.startCropY,m.width=Math.abs(f),n?m.height=m.width/n:m.height=p):d==="nw"&&(m.x=e.startCropX+f,m.width=Math.abs(f),n?(m.height=m.width/n,m.y=e.startCropY-m.height):(m.height=Math.abs(p),m.y=e.startCropY+p));const g=Qq(m,n,d,o.width,o.height,l,u,r,i);return n||xo.xyOrds.indexOf(h)>-1?c=g:xo.xOrds.indexOf(h)>-1?(c.x=g.x,c.width=g.width):xo.yOrds.indexOf(h)>-1&&(c.y=g.y,c.height=g.height),c.x=Af(c.x,0,o.width-c.width),c.y=Af(c.y,0,o.height-c.height),c}renderCropSelection(){const{ariaLabels:e=xo.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:i,ruleOfThirds:o,crop:l}=this.props,u=this.getCropStyle();if(l)return Me.createElement("div",{style:u,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&Me.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Me.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Me.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Me.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Me.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"nw"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"n"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"ne"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"e"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"se"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"s"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"sw"),role:"button"}),Me.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:c=>this.onHandlerKeyDown(c,"w"),role:"button"})),i&&Me.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:c=>c.stopPropagation()},i(this.state)),o&&Me.createElement(Me.Fragment,null,Me.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Me.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const n={...M_,...this.props.crop||{}};return Bu(n,e.width,e.height)}render(){const{aspect:e,children:n,circularCrop:r,className:i,crop:o,disabled:l,locked:u,style:c,ruleOfThirds:d}=this.props,{cropIsActive:h,newCropIsBeingDrawn:f}=this.state,p=o?this.renderCropSelection():null,m=LDe("ReactCrop",i,h&&"ReactCrop--active",l&&"ReactCrop--disabled",u&&"ReactCrop--locked",f&&"ReactCrop--new-crop",o&&e&&"ReactCrop--fixed-aspect",o&&r&&"ReactCrop--circular-crop",o&&d&&"ReactCrop--rule-of-thirds",!this.dragStarted&&o&&!o.width&&!o.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return Me.createElement("div",{ref:this.componentRef,className:m,style:c},Me.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),o?Me.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Me.createElement("defs",null,Me.createElement("mask",{id:`hole-${this.instanceId}`},Me.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?Me.createElement("ellipse",{cx:`${o.x+o.width/2}${o.unit}`,cy:`${o.y+o.height/2}${o.unit}`,rx:`${o.width/2}${o.unit}`,ry:`${o.height/2}${o.unit}`,fill:"black"}):Me.createElement("rect",{x:`${o.x}${o.unit}`,y:`${o.y}${o.unit}`,width:`${o.width}${o.unit}`,height:`${o.height}${o.unit}`,fill:"black"}))),Me.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};Ti(Yu,"xOrds",["e","w"]),Ti(Yu,"yOrds",["n","s"]),Ti(Yu,"xyOrds",["nw","ne","se","sw"]),Ti(Yu,"nudgeStep",1),Ti(Yu,"nudgeStepMedium",10),Ti(Yu,"nudgeStepLarge",100),Ti(Yu,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let k7e=Yu;function MDe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}MDe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var YM=t=>typeof t=="number"&&!isNaN(t),Ey=t=>typeof t=="string",EQ=t=>typeof t=="function",NDe=t=>Ey(t)||YM(t),FDe=t=>Bt.isValidElement(t)||Ey(t)||EQ(t)||YM(t),UDe=1,_Q=()=>`${UDe++}`,Ml=new Map,ID=[],Zq=new Set,TQ=()=>Ml.size>0,BDe=(t,{containerId:e})=>{var n;return(n=Ml.get(e||1))==null?void 0:n.toasts.get(t)};function zDe(t,e){var n;if(e)return!!((n=Ml.get(e))!=null&&n.isToastActive(t));let r=!1;return Ml.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function $De(t){if(!TQ()){ID=ID.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||NDe(t))Ml.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Ml.get(t.containerId);e?e.removeToast(t.id):Ml.forEach(n=>{n.removeToast(t.id)})}}var qDe=(t={})=>{Ml.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function jDe(t,e){FDe(t)&&(TQ()||ID.push({content:t,options:e}),Ml.forEach(n=>{n.buildToast(t,e)}))}function SQ(t,e){Ml.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(t,e?.id)})}function HDe(t){return Zq.add(t),()=>{Zq.delete(t)}}function GDe(t){return t&&(Ey(t.toastId)||YM(t.toastId))?t.toastId:_Q()}function lb(t,e){return jDe(t,e),e.toastId}function mS(t,e){return{...e,type:e&&e.type||t,toastId:GDe(e)}}function gS(t){return(e,n)=>lb(e,mS(t,n))}function Ci(t,e){return lb(t,mS("default",e))}Ci.loading=(t,e)=>lb(t,mS("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function VDe(t,{pending:e,error:n,success:r},i){let o;e&&(o=Ey(e)?Ci.loading(e,i):Ci.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,h,f)=>{if(h==null){Ci.dismiss(o);return}let p={type:d,...l,...i,data:f},m=Ey(h)?{render:h}:h;return o?Ci.update(o,{...p,...m}):Ci(m.render,{...p,...m}),f},c=EQ(t)?t():t;return c.then(d=>u("success",r,d)).catch(d=>u("error",n,d)),c}Ci.promise=VDe;Ci.success=gS("success");Ci.info=gS("info");Ci.error=gS("error");Ci.warning=gS("warning");Ci.warn=Ci.warning;Ci.dark=(t,e)=>lb(t,mS("default",{theme:"dark",...e}));function KDe(t){$De(t)}Ci.dismiss=KDe;Ci.clearWaitingQueue=qDe;Ci.isActive=zDe;Ci.update=(t,e={})=>{let n=BDe(t,e);if(n){let{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:_Q()};o.toastId!==t&&(o.staleId=t);let l=o.render||i;delete o.render,lb(l,o)}};Ci.done=t=>{Ci.update(t,{progress:1})};Ci.onChange=HDe;Ci.play=t=>SQ(!0,t);Ci.pause=t=>SQ(!1,t);var Rf={},VR,Jq;function WDe(){return Jq||(Jq=1,VR=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),VR}var KR={},zu={},ej;function nf(){if(ej)return zu;ej=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return zu.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},zu.getSymbolTotalCodewords=function(r){return e[r]},zu.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},zu.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},zu.isKanjiModeEnabled=function(){return typeof t<"u"},zu.toSJIS=function(r){return t(r)},zu}var WR={},tj;function XM(){return tj||(tj=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(WR)),WR}var YR,nj;function YDe(){if(nj)return YR;nj=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},YR=t,YR}var XR,rj;function XDe(){if(rj)return XR;rj=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const o=e*this.size+n;this.data[o]=r,i&&(this.reservedBit[o]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},XR=t,XR}var QR={},ij;function QDe(){return ij||(ij=1,(function(t){const e=nf().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=e(r),l=o===145?26:Math.ceil((o-13)/(2*i-2))*2,u=[o-7];for(let c=1;c<i-1;c++)u[c]=u[c-1]-l;return u.push(6),u.reverse()},t.getPositions=function(r){const i=[],o=t.getRowColCoords(r),l=o.length;for(let u=0;u<l;u++)for(let c=0;c<l;c++)u===0&&c===0||u===0&&c===l-1||u===l-1&&c===0||i.push([o[u],o[c]]);return i}})(QR)),QR}var ZR={},aj;function ZDe(){if(aj)return ZR;aj=1;const t=nf().getSymbolSize,e=7;return ZR.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},ZR}var JR={},sj;function JDe(){return sj||(sj=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const o=i.size;let l=0,u=0,c=0,d=null,h=null;for(let f=0;f<o;f++){u=c=0,d=h=null;for(let p=0;p<o;p++){let m=i.get(f,p);m===d?u++:(u>=5&&(l+=e.N1+(u-5)),d=m,u=1),m=i.get(p,f),m===h?c++:(c>=5&&(l+=e.N1+(c-5)),h=m,c=1)}u>=5&&(l+=e.N1+(u-5)),c>=5&&(l+=e.N1+(c-5))}return l},t.getPenaltyN2=function(i){const o=i.size;let l=0;for(let u=0;u<o-1;u++)for(let c=0;c<o-1;c++){const d=i.get(u,c)+i.get(u,c+1)+i.get(u+1,c)+i.get(u+1,c+1);(d===4||d===0)&&l++}return l*e.N2},t.getPenaltyN3=function(i){const o=i.size;let l=0,u=0,c=0;for(let d=0;d<o;d++){u=c=0;for(let h=0;h<o;h++)u=u<<1&2047|i.get(d,h),h>=10&&(u===1488||u===93)&&l++,c=c<<1&2047|i.get(h,d),h>=10&&(c===1488||c===93)&&l++}return l*e.N3},t.getPenaltyN4=function(i){let o=0;const l=i.data.length;for(let c=0;c<l;c++)o+=i.data[c];return Math.abs(Math.ceil(o*100/l/5)-10)*e.N4};function n(r,i,o){switch(r){case t.Patterns.PATTERN000:return(i+o)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(i+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return i*o%2+i*o%3===0;case t.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case t.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,o){const l=o.size;for(let u=0;u<l;u++)for(let c=0;c<l;c++)o.isReserved(c,u)||o.xor(c,u,n(i,c,u))},t.getBestMask=function(i,o){const l=Object.keys(t.Patterns).length;let u=0,c=1/0;for(let d=0;d<l;d++){o(d),t.applyMask(d,i);const h=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),h<c&&(c=h,u=d)}return u}})(JR)),JR}var lv={},oj;function wQ(){if(oj)return lv;oj=1;const t=XM(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return lv.getBlocksCount=function(i,o){switch(o){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},lv.getTotalCodewordsCount=function(i,o){switch(o){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},lv}var ek={},Tm={},lj;function eLe(){if(lj)return Tm;lj=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Tm.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Tm.exp=function(r){return t[r]},Tm.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},Tm}var uj;function tLe(){return uj||(uj=1,(function(t){const e=eLe();t.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let u=0;u<i.length;u++)o[l+u]^=e.mul(r[l],i[u]);return o},t.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const l=o[0];for(let c=0;c<i.length;c++)o[c]^=e.mul(i[c],l);let u=0;for(;u<o.length&&o[u]===0;)u++;o=o.slice(u)}return o},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=t.mul(i,new Uint8Array([1,e.exp(o)]));return i}})(ek)),ek}var tk,cj;function nLe(){if(cj)return tk;cj=1;const t=tLe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const o=t.mod(i,this.genPoly),l=this.degree-o.length;if(l>0){const u=new Uint8Array(this.degree);return u.set(o,l),u}return o},tk=e,tk}var nk={},rk={},ik={},dj;function AQ(){return dj||(dj=1,ik.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),ik}var Qo={},fj;function IQ(){if(fj)return Qo;fj=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Qo.KANJI=new RegExp(n,"g"),Qo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Qo.BYTE=new RegExp(r,"g"),Qo.NUMERIC=new RegExp(t,"g"),Qo.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),o=new RegExp("^"+t+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Qo.testKanji=function(c){return i.test(c)},Qo.testNumeric=function(c){return o.test(c)},Qo.testAlphanumeric=function(c){return l.test(c)},Qo}var hj;function rf(){return hj||(hj=1,(function(t){const e=AQ(),n=IQ();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,l){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?o.ccBits[0]:l<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(o,l){if(t.isValid(o))return o;try{return r(o)}catch{return l}}})(rk)),rk}var pj;function rLe(){return pj||(pj=1,(function(t){const e=nf(),n=wQ(),r=XM(),i=rf(),o=AQ(),l=7973,u=e.getBCHDigit(l);function c(p,m,g){for(let y=1;y<=40;y++)if(m<=t.getCapacity(y,g,p))return y}function d(p,m){return i.getCharCountIndicator(p,m)+4}function h(p,m){let g=0;return p.forEach(function(y){const b=d(y.mode,m);g+=b+y.getBitsLength()}),g}function f(p,m){for(let g=1;g<=40;g++)if(h(p,g)<=t.getCapacity(g,m,i.MIXED))return g}t.from=function(m,g){return o.isValid(m)?parseInt(m,10):g},t.getCapacity=function(m,g,y){if(!o.isValid(m))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const b=e.getSymbolTotalCodewords(m),v=n.getTotalCodewordsCount(m,g),_=(b-v)*8;if(y===i.MIXED)return _;const E=_-d(y,m);switch(y){case i.NUMERIC:return Math.floor(E/10*3);case i.ALPHANUMERIC:return Math.floor(E/11*2);case i.KANJI:return Math.floor(E/13);case i.BYTE:default:return Math.floor(E/8)}},t.getBestVersionForData=function(m,g){let y;const b=r.from(g,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,b);if(m.length===0)return 1;y=m[0]}else y=m;return c(y.mode,y.getLength(),b)},t.getEncodedBits=function(m){if(!o.isValid(m)||m<7)throw new Error("Invalid QR Code version");let g=m<<12;for(;e.getBCHDigit(g)-u>=0;)g^=l<<e.getBCHDigit(g)-u;return m<<12|g}})(nk)),nk}var ak={},mj;function iLe(){if(mj)return ak;mj=1;const t=nf(),e=1335,n=21522,r=t.getBCHDigit(e);return ak.getEncodedBits=function(o,l){const u=o.bit<<3|l;let c=u<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(u<<10|c)^n},ak}var sk={},ok,gj;function aLe(){if(gj)return ok;gj=1;const t=rf();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,o,l;for(i=0;i+3<=this.data.length;i+=3)o=this.data.substr(i,3),l=parseInt(o,10),r.put(l,10);const u=this.data.length-i;u>0&&(o=this.data.substr(i),l=parseInt(o,10),r.put(l,u*3+1))},ok=e,ok}var lk,yj;function sLe(){if(yj)return lk;yj=1;const t=rf(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let o;for(o=0;o+2<=this.data.length;o+=2){let l=e.indexOf(this.data[o])*45;l+=e.indexOf(this.data[o+1]),i.put(l,11)}this.data.length%2&&i.put(e.indexOf(this.data[o]),6)},lk=n,lk}var uk,bj;function oLe(){if(bj)return uk;bj=1;const t=rf();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},uk=e,uk}var ck,vj;function lLe(){if(vj)return ck;vj=1;const t=rf(),e=nf();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let o=e.toSJIS(this.data[i]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},ck=n,ck}var dk={exports:{}},Ej;function uLe(){return Ej||(Ej=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var o={},l={};l[r]=0;var u=e.PriorityQueue.make();u.push(r,0);for(var c,d,h,f,p,m,g,y,b;!u.empty();){c=u.pop(),d=c.value,f=c.cost,p=n[d]||{};for(h in p)p.hasOwnProperty(h)&&(m=p[h],g=f+m,y=l[h],b=typeof l[h]>"u",(b||y>g)&&(l[h]=g,u.push(h,g),o[h]=d))}if(typeof i<"u"&&typeof l[i]>"u"){var v=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(v)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(dk)),dk.exports}var _j;function cLe(){return _j||(_j=1,(function(t){const e=rf(),n=aLe(),r=sLe(),i=oLe(),o=lLe(),l=IQ(),u=nf(),c=uLe();function d(v){return unescape(encodeURIComponent(v)).length}function h(v,_,E){const T=[];let A;for(;(A=v.exec(E))!==null;)T.push({data:A[0],index:A.index,mode:_,length:A[0].length});return T}function f(v){const _=h(l.NUMERIC,e.NUMERIC,v),E=h(l.ALPHANUMERIC,e.ALPHANUMERIC,v);let T,A;return u.isKanjiModeEnabled()?(T=h(l.BYTE,e.BYTE,v),A=h(l.KANJI,e.KANJI,v)):(T=h(l.BYTE_KANJI,e.BYTE,v),A=[]),_.concat(E,T,A).sort(function(I,C){return I.index-C.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function p(v,_){switch(_){case e.NUMERIC:return n.getBitsLength(v);case e.ALPHANUMERIC:return r.getBitsLength(v);case e.KANJI:return o.getBitsLength(v);case e.BYTE:return i.getBitsLength(v)}}function m(v){return v.reduce(function(_,E){const T=_.length-1>=0?_[_.length-1]:null;return T&&T.mode===E.mode?(_[_.length-1].data+=E.data,_):(_.push(E),_)},[])}function g(v){const _=[];for(let E=0;E<v.length;E++){const T=v[E];switch(T.mode){case e.NUMERIC:_.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:_.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:_.push([T,{data:T.data,mode:e.BYTE,length:d(T.data)}]);break;case e.BYTE:_.push([{data:T.data,mode:e.BYTE,length:d(T.data)}])}}return _}function y(v,_){const E={},T={start:{}};let A=["start"];for(let w=0;w<v.length;w++){const I=v[w],C=[];for(let j=0;j<I.length;j++){const F=I[j],K=""+w+j;C.push(K),E[K]={node:F,lastCount:0},T[K]={};for(let he=0;he<A.length;he++){const q=A[he];E[q]&&E[q].node.mode===F.mode?(T[q][K]=p(E[q].lastCount+F.length,F.mode)-p(E[q].lastCount,F.mode),E[q].lastCount+=F.length):(E[q]&&(E[q].lastCount=F.length),T[q][K]=p(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,_))}}A=C}for(let w=0;w<A.length;w++)T[A[w]].end=0;return{map:T,table:E}}function b(v,_){let E;const T=e.getBestModeForData(v);if(E=e.from(_,T),E!==e.BYTE&&E.bit<T.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(E)+`.
 Suggested mode is: `+e.toString(T));switch(E===e.KANJI&&!u.isKanjiModeEnabled()&&(E=e.BYTE),E){case e.NUMERIC:return new n(v);case e.ALPHANUMERIC:return new r(v);case e.KANJI:return new o(v);case e.BYTE:return new i(v)}}t.fromArray=function(_){return _.reduce(function(E,T){return typeof T=="string"?E.push(b(T,null)):T.data&&E.push(b(T.data,T.mode)),E},[])},t.fromString=function(_,E){const T=f(_,u.isKanjiModeEnabled()),A=g(T),w=y(A,E),I=c.find_path(w.map,"start","end"),C=[];for(let j=1;j<I.length-1;j++)C.push(w.table[I[j]].node);return t.fromArray(m(C))},t.rawSplit=function(_){return t.fromArray(f(_,u.isKanjiModeEnabled()))}})(sk)),sk}var Tj;function dLe(){if(Tj)return KR;Tj=1;const t=nf(),e=XM(),n=YDe(),r=XDe(),i=QDe(),o=ZDe(),l=JDe(),u=wQ(),c=nLe(),d=rLe(),h=iLe(),f=rf(),p=cLe();function m(w,I){const C=w.size,j=o.getPositions(I);for(let F=0;F<j.length;F++){const K=j[F][0],he=j[F][1];for(let q=-1;q<=7;q++)if(!(K+q<=-1||C<=K+q))for(let Ee=-1;Ee<=7;Ee++)he+Ee<=-1||C<=he+Ee||(q>=0&&q<=6&&(Ee===0||Ee===6)||Ee>=0&&Ee<=6&&(q===0||q===6)||q>=2&&q<=4&&Ee>=2&&Ee<=4?w.set(K+q,he+Ee,!0,!0):w.set(K+q,he+Ee,!1,!0))}}function g(w){const I=w.size;for(let C=8;C<I-8;C++){const j=C%2===0;w.set(C,6,j,!0),w.set(6,C,j,!0)}}function y(w,I){const C=i.getPositions(I);for(let j=0;j<C.length;j++){const F=C[j][0],K=C[j][1];for(let he=-2;he<=2;he++)for(let q=-2;q<=2;q++)he===-2||he===2||q===-2||q===2||he===0&&q===0?w.set(F+he,K+q,!0,!0):w.set(F+he,K+q,!1,!0)}}function b(w,I){const C=w.size,j=d.getEncodedBits(I);let F,K,he;for(let q=0;q<18;q++)F=Math.floor(q/3),K=q%3+C-8-3,he=(j>>q&1)===1,w.set(F,K,he,!0),w.set(K,F,he,!0)}function v(w,I,C){const j=w.size,F=h.getEncodedBits(I,C);let K,he;for(K=0;K<15;K++)he=(F>>K&1)===1,K<6?w.set(K,8,he,!0):K<8?w.set(K+1,8,he,!0):w.set(j-15+K,8,he,!0),K<8?w.set(8,j-K-1,he,!0):K<9?w.set(8,15-K-1+1,he,!0):w.set(8,15-K-1,he,!0);w.set(j-8,8,1,!0)}function _(w,I){const C=w.size;let j=-1,F=C-1,K=7,he=0;for(let q=C-1;q>0;q-=2)for(q===6&&q--;;){for(let Ee=0;Ee<2;Ee++)if(!w.isReserved(F,q-Ee)){let Te=!1;he<I.length&&(Te=(I[he]>>>K&1)===1),w.set(F,q-Ee,Te),K--,K===-1&&(he++,K=7)}if(F+=j,F<0||C<=F){F-=j,j=-j;break}}}function E(w,I,C){const j=new n;C.forEach(function(Ee){j.put(Ee.mode.bit,4),j.put(Ee.getLength(),f.getCharCountIndicator(Ee.mode,w)),Ee.write(j)});const F=t.getSymbolTotalCodewords(w),K=u.getTotalCodewordsCount(w,I),he=(F-K)*8;for(j.getLengthInBits()+4<=he&&j.put(0,4);j.getLengthInBits()%8!==0;)j.putBit(0);const q=(he-j.getLengthInBits())/8;for(let Ee=0;Ee<q;Ee++)j.put(Ee%2?17:236,8);return T(j,w,I)}function T(w,I,C){const j=t.getSymbolTotalCodewords(I),F=u.getTotalCodewordsCount(I,C),K=j-F,he=u.getBlocksCount(I,C),q=j%he,Ee=he-q,Te=Math.floor(j/he),ge=Math.floor(K/he),Be=ge+1,He=Te-ge,Ye=new c(He);let Ie=0;const we=new Array(he),je=new Array(he);let Ce=0;const dt=new Uint8Array(w.buffer);for(let G=0;G<he;G++){const P=G<Ee?ge:Be;we[G]=dt.slice(Ie,Ie+P),je[G]=Ye.encode(we[G]),Ie+=P,Ce=Math.max(Ce,P)}const Le=new Uint8Array(j);let Pe=0,it,J;for(it=0;it<Ce;it++)for(J=0;J<he;J++)it<we[J].length&&(Le[Pe++]=we[J][it]);for(it=0;it<He;it++)for(J=0;J<he;J++)Le[Pe++]=je[J][it];return Le}function A(w,I,C,j){let F;if(Array.isArray(w))F=p.fromArray(w);else if(typeof w=="string"){let Te=I;if(!Te){const ge=p.rawSplit(w);Te=d.getBestVersionForData(ge,C)}F=p.fromString(w,Te||40)}else throw new Error("Invalid data");const K=d.getBestVersionForData(F,C);if(!K)throw new Error("The amount of data is too big to be stored in a QR Code");if(!I)I=K;else if(I<K)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+K+`.
`);const he=E(I,C,F),q=t.getSymbolSize(I),Ee=new r(q);return m(Ee,I),g(Ee),y(Ee,I),v(Ee,C,0),I>=7&&b(Ee,I),_(Ee,he),isNaN(j)&&(j=l.getBestMask(Ee,v.bind(null,Ee,C))),l.applyMask(j,Ee),v(Ee,C,j),{modules:Ee,version:I,errorCorrectionLevel:C,maskPattern:j,segments:F}}return KR.create=function(I,C){if(typeof I>"u"||I==="")throw new Error("No input text");let j=e.M,F,K;return typeof C<"u"&&(j=e.from(C.errorCorrectionLevel,e.M),F=d.from(C.version),K=l.from(C.maskPattern),C.toSJISFunc&&t.setToSJISFunction(C.toSJISFunc)),A(I,F,j,K)},KR}var fk={},hk={},Sj;function xQ(){return Sj||(Sj=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:o,scale:o?4:l,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const o=t.getScale(r,i);return Math.floor((r+i.margin*2)*o)},t.qrToImageData=function(r,i,o){const l=i.modules.size,u=i.modules.data,c=t.getScale(l,o),d=Math.floor((l+o.margin*2)*c),h=o.margin*c,f=[o.color.light,o.color.dark];for(let p=0;p<d;p++)for(let m=0;m<d;m++){let g=(p*d+m)*4,y=o.color.light;if(p>=h&&m>=h&&p<d-h&&m<d-h){const b=Math.floor((p-h)/c),v=Math.floor((m-h)/c);y=f[u[b*l+v]?1:0]}r[g++]=y.r,r[g++]=y.g,r[g++]=y.b,r[g]=y.a}}})(hk)),hk}var wj;function fLe(){return wj||(wj=1,(function(t){const e=xQ();function n(i,o,l){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=l,o.width=l,o.style.height=l+"px",o.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,l,u){let c=u,d=l;typeof c>"u"&&(!l||!l.getContext)&&(c=l,l=void 0),l||(d=r()),c=e.getOptions(c);const h=e.getImageWidth(o.modules.size,c),f=d.getContext("2d"),p=f.createImageData(h,h);return e.qrToImageData(p.data,o,c),n(f,d,h),f.putImageData(p,0,0),d},t.renderToDataURL=function(o,l,u){let c=u;typeof c>"u"&&(!l||!l.getContext)&&(c=l,l=void 0),c||(c={});const d=t.render(o,l,c),h=c.type||"image/png",f=c.rendererOpts||{};return d.toDataURL(h,f.quality)}})(fk)),fk}var pk={},Aj;function hLe(){if(Aj)return pk;Aj=1;const t=xQ();function e(i,o){const l=i.a/255,u=o+'="'+i.hex+'"';return l<1?u+" "+o+'-opacity="'+l.toFixed(2).slice(1)+'"':u}function n(i,o,l){let u=i+o;return typeof l<"u"&&(u+=" "+l),u}function r(i,o,l){let u="",c=0,d=!1,h=0;for(let f=0;f<i.length;f++){const p=Math.floor(f%o),m=Math.floor(f/o);!p&&!d&&(d=!0),i[f]?(h++,f>0&&p>0&&i[f-1]||(u+=d?n("M",p+l,.5+m+l):n("m",c,0),c=0,d=!1),p+1<o&&i[f+1]||(u+=n("h",h),h=0)):c++}return u}return pk.render=function(o,l,u){const c=t.getOptions(l),d=o.modules.size,h=o.modules.data,f=d+c.margin*2,p=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",m="<path "+e(c.color.dark,"stroke")+' d="'+r(h,d,c.margin)+'"/>',g='viewBox="0 0 '+f+" "+f+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+g+' shape-rendering="crispEdges">'+p+m+`</svg>
`;return typeof u=="function"&&u(null,b),b},pk}var Ij;function pLe(){if(Ij)return Rf;Ij=1;const t=WDe(),e=dLe(),n=fLe(),r=hLe();function i(o,l,u,c,d){const h=[].slice.call(arguments,1),f=h.length,p=typeof h[f-1]=="function";if(!p&&!t())throw new Error("Callback required as last argument");if(p){if(f<2)throw new Error("Too few arguments provided");f===2?(d=u,u=l,l=c=void 0):f===3&&(l.getContext&&typeof d>"u"?(d=c,c=void 0):(d=c,c=u,u=l,l=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(u=l,l=c=void 0):f===2&&!l.getContext&&(c=u,u=l,l=void 0),new Promise(function(m,g){try{const y=e.create(u,c);m(o(y,l,c))}catch(y){g(y)}})}try{const m=e.create(u,c);d(null,o(m,l,c))}catch(m){d(m)}}return Rf.create=e.create,Rf.toCanvas=i.bind(null,n.render),Rf.toDataURL=i.bind(null,n.renderToDataURL),Rf.toString=i.bind(null,function(o,l,u){return r.render(o,u)}),Rf}var mLe=pLe();const C7e=Na(mLe);function RQ(t,e){return function(){return t.apply(e,arguments)}}const{toString:gLe}=Object.prototype,{getPrototypeOf:QM}=Object,{iterator:yS,toStringTag:kQ}=Symbol,bS=(t=>e=>{const n=gLe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vo=t=>(t=t.toLowerCase(),e=>bS(e)===t),vS=t=>e=>typeof e===t,{isArray:Fp}=Array,mp=vS("undefined");function ub(t){return t!==null&&!mp(t)&&t.constructor!==null&&!mp(t.constructor)&&ss(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const CQ=Vo("ArrayBuffer");function yLe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&CQ(t.buffer),e}const bLe=vS("string"),ss=vS("function"),DQ=vS("number"),cb=t=>t!==null&&typeof t=="object",vLe=t=>t===!0||t===!1,Jv=t=>{if(bS(t)!=="object")return!1;const e=QM(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kQ in t)&&!(yS in t)},ELe=t=>{if(!cb(t)||ub(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},_Le=Vo("Date"),TLe=Vo("File"),SLe=Vo("Blob"),wLe=Vo("FileList"),ALe=t=>cb(t)&&ss(t.pipe),ILe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ss(t.append)&&((e=bS(t))==="formdata"||e==="object"&&ss(t.toString)&&t.toString()==="[object FormData]"))},xLe=Vo("URLSearchParams"),[RLe,kLe,CLe,DLe]=["ReadableStream","Request","Response","Headers"].map(Vo),LLe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function db(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Fp(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(ub(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function LQ(t,e){if(ub(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,PQ=t=>!mp(t)&&t!==gd;function xD(){const{caseless:t,skipUndefined:e}=PQ(this)&&this||{},n={},r=(i,o)=>{const l=t&&LQ(n,o)||o;Jv(n[l])&&Jv(i)?n[l]=xD(n[l],i):Jv(i)?n[l]=xD({},i):Fp(i)?n[l]=i.slice():(!e||!mp(i))&&(n[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&db(arguments[i],r);return n}const PLe=(t,e,n,{allOwnKeys:r}={})=>(db(e,(i,o)=>{n&&ss(i)?t[o]=RQ(i,n):t[o]=i},{allOwnKeys:r}),t),OLe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MLe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NLe=(t,e,n,r)=>{let i,o,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&QM(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},FLe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ULe=t=>{if(!t)return null;if(Fp(t))return t;let e=t.length;if(!DQ(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},BLe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&QM(Uint8Array)),zLe=(t,e)=>{const r=(t&&t[yS]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},$Le=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},qLe=Vo("HTMLFormElement"),jLe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),xj=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),HLe=Vo("RegExp"),OQ=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};db(n,(i,o)=>{let l;(l=e(i,o,t))!==!1&&(r[o]=l||i)}),Object.defineProperties(t,r)},GLe=t=>{OQ(t,(e,n)=>{if(ss(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ss(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},VLe=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Fp(t)?r(t):r(String(t).split(e)),n},KLe=()=>{},WLe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function YLe(t){return!!(t&&ss(t.append)&&t[kQ]==="FormData"&&t[yS])}const XLe=t=>{const e=new Array(10),n=(r,i)=>{if(cb(r)){if(e.indexOf(r)>=0)return;if(ub(r))return r;if(!("toJSON"in r)){e[i]=r;const o=Fp(r)?[]:{};return db(r,(l,u)=>{const c=n(l,i+1);!mp(c)&&(o[u]=c)}),e[i]=void 0,o}}return r};return n(t,0)},QLe=Vo("AsyncFunction"),ZLe=t=>t&&(cb(t)||ss(t))&&ss(t.then)&&ss(t.catch),MQ=((t,e)=>t?setImmediate:e?((n,r)=>(gd.addEventListener("message",({source:i,data:o})=>{i===gd&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),gd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ss(gd.postMessage)),JLe=typeof queueMicrotask<"u"?queueMicrotask.bind(gd):typeof process<"u"&&process.nextTick||MQ,ePe=t=>t!=null&&ss(t[yS]),Dt={isArray:Fp,isArrayBuffer:CQ,isBuffer:ub,isFormData:ILe,isArrayBufferView:yLe,isString:bLe,isNumber:DQ,isBoolean:vLe,isObject:cb,isPlainObject:Jv,isEmptyObject:ELe,isReadableStream:RLe,isRequest:kLe,isResponse:CLe,isHeaders:DLe,isUndefined:mp,isDate:_Le,isFile:TLe,isBlob:SLe,isRegExp:HLe,isFunction:ss,isStream:ALe,isURLSearchParams:xLe,isTypedArray:BLe,isFileList:wLe,forEach:db,merge:xD,extend:PLe,trim:LLe,stripBOM:OLe,inherits:MLe,toFlatObject:NLe,kindOf:bS,kindOfTest:Vo,endsWith:FLe,toArray:ULe,forEachEntry:zLe,matchAll:$Le,isHTMLForm:qLe,hasOwnProperty:xj,hasOwnProp:xj,reduceDescriptors:OQ,freezeMethods:GLe,toObjectSet:VLe,toCamelCase:jLe,noop:KLe,toFiniteNumber:WLe,findKey:LQ,global:gd,isContextDefined:PQ,isSpecCompliantForm:YLe,toJSONObject:XLe,isAsyncFn:QLe,isThenable:ZLe,setImmediate:MQ,asap:JLe,isIterable:ePe};function gr(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Dt.inherits(gr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Dt.toJSONObject(this.config),code:this.code,status:this.status}}});const NQ=gr.prototype,FQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FQ[t]={value:t}});Object.defineProperties(gr,FQ);Object.defineProperty(NQ,"isAxiosError",{value:!0});gr.from=(t,e,n,r,i,o)=>{const l=Object.create(NQ);Dt.toFlatObject(t,l,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const u=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return gr.call(l,u,c,n,r,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",o&&Object.assign(l,o),l};const tPe=null;function RD(t){return Dt.isPlainObject(t)||Dt.isArray(t)}function UQ(t){return Dt.endsWith(t,"[]")?t.slice(0,-2):t}function Rj(t,e,n){return t?t.concat(e).map(function(i,o){return i=UQ(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function nPe(t){return Dt.isArray(t)&&!t.some(RD)}const rPe=Dt.toFlatObject(Dt,{},null,function(e){return/^is[A-Z]/.test(e)});function ES(t,e,n){if(!Dt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Dt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!Dt.isUndefined(b[y])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Dt.isSpecCompliantForm(e);if(!Dt.isFunction(i))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(Dt.isDate(g))return g.toISOString();if(Dt.isBoolean(g))return g.toString();if(!c&&Dt.isBlob(g))throw new gr("Blob is not supported. Use a Buffer instead.");return Dt.isArrayBuffer(g)||Dt.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,y,b){let v=g;if(g&&!b&&typeof g=="object"){if(Dt.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(Dt.isArray(g)&&nPe(g)||(Dt.isFileList(g)||Dt.endsWith(y,"[]"))&&(v=Dt.toArray(g)))return y=UQ(y),v.forEach(function(E,T){!(Dt.isUndefined(E)||E===null)&&e.append(l===!0?Rj([y],T,o):l===null?y:y+"[]",d(E))}),!1}return RD(g)?!0:(e.append(Rj(b,y,o),d(g)),!1)}const f=[],p=Object.assign(rPe,{defaultVisitor:h,convertValue:d,isVisitable:RD});function m(g,y){if(!Dt.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),Dt.forEach(g,function(v,_){(!(Dt.isUndefined(v)||v===null)&&i.call(e,v,Dt.isString(_)?_.trim():_,y,p))===!0&&m(v,y?y.concat(_):[_])}),f.pop()}}if(!Dt.isObject(t))throw new TypeError("data must be an object");return m(t),e}function kj(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ZM(t,e){this._pairs=[],t&&ES(t,this,e)}const BQ=ZM.prototype;BQ.append=function(e,n){this._pairs.push([e,n])};BQ.toString=function(e){const n=e?function(r){return e.call(this,r,kj)}:kj;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function iPe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zQ(t,e,n){if(!e)return t;const r=n&&n.encode||iPe;Dt.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=Dt.isURLSearchParams(e)?e.toString():new ZM(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Cj{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Dt.forEach(this.handlers,function(r){r!==null&&e(r)})}}const $Q={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aPe=typeof URLSearchParams<"u"?URLSearchParams:ZM,sPe=typeof FormData<"u"?FormData:null,oPe=typeof Blob<"u"?Blob:null,lPe={isBrowser:!0,classes:{URLSearchParams:aPe,FormData:sPe,Blob:oPe},protocols:["http","https","file","blob","url","data"]},JM=typeof window<"u"&&typeof document<"u",kD=typeof navigator=="object"&&navigator||void 0,uPe=JM&&(!kD||["ReactNative","NativeScript","NS"].indexOf(kD.product)<0),cPe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dPe=JM&&window.location.href||"http://localhost",fPe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JM,hasStandardBrowserEnv:uPe,hasStandardBrowserWebWorkerEnv:cPe,navigator:kD,origin:dPe},Symbol.toStringTag,{value:"Module"})),La={...fPe,...lPe};function hPe(t,e){return ES(t,new La.classes.URLSearchParams,{visitor:function(n,r,i,o){return La.isNode&&Dt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function pPe(t){return Dt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mPe(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function qQ(t){function e(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),c=o>=n.length;return l=!l&&Dt.isArray(i)?i.length:l,c?(Dt.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!Dt.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],o)&&Dt.isArray(i[l])&&(i[l]=mPe(i[l])),!u)}if(Dt.isFormData(t)&&Dt.isFunction(t.entries)){const n={};return Dt.forEachEntry(t,(r,i)=>{e(pPe(r),i,n,0)}),n}return null}function gPe(t,e,n){if(Dt.isString(t))try{return(e||JSON.parse)(t),Dt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const fb={transitional:$Q,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Dt.isObject(e);if(o&&Dt.isHTMLForm(e)&&(e=new FormData(e)),Dt.isFormData(e))return i?JSON.stringify(qQ(e)):e;if(Dt.isArrayBuffer(e)||Dt.isBuffer(e)||Dt.isStream(e)||Dt.isFile(e)||Dt.isBlob(e)||Dt.isReadableStream(e))return e;if(Dt.isArrayBufferView(e))return e.buffer;if(Dt.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hPe(e,this.formSerializer).toString();if((u=Dt.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ES(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),gPe(e)):e}],transformResponse:[function(e){const n=this.transitional||fb.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Dt.isResponse(e)||Dt.isReadableStream(e))return e;if(e&&Dt.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?gr.from(u,gr.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:La.classes.FormData,Blob:La.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Dt.forEach(["delete","get","head","post","put","patch"],t=>{fb.headers[t]={}});const yPe=Dt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bPe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&yPe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Dj=Symbol("internals");function Sm(t){return t&&String(t).trim().toLowerCase()}function e0(t){return t===!1||t==null?t:Dt.isArray(t)?t.map(e0):String(t)}function vPe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const EPe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mk(t,e,n,r,i){if(Dt.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Dt.isString(e)){if(Dt.isString(r))return e.indexOf(r)!==-1;if(Dt.isRegExp(r))return r.test(e)}}function _Pe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function TPe(t,e){const n=Dt.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let os=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(u,c,d){const h=Sm(c);if(!h)throw new Error("header name must be a non-empty string");const f=Dt.findKey(i,h);(!f||i[f]===void 0||d===!0||d===void 0&&i[f]!==!1)&&(i[f||c]=e0(u))}const l=(u,c)=>Dt.forEach(u,(d,h)=>o(d,h,c));if(Dt.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(Dt.isString(e)&&(e=e.trim())&&!EPe(e))l(bPe(e),n);else if(Dt.isObject(e)&&Dt.isIterable(e)){let u={},c,d;for(const h of e){if(!Dt.isArray(h))throw TypeError("Object iterator must return a key-value pair");u[d=h[0]]=(c=u[d])?Dt.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}l(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Sm(e),e){const r=Dt.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return vPe(i);if(Dt.isFunction(n))return n.call(this,i,r);if(Dt.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Sm(e),e){const r=Dt.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||mk(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(l){if(l=Sm(l),l){const u=Dt.findKey(r,l);u&&(!n||mk(r,r[u],u,n))&&(delete r[u],i=!0)}}return Dt.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||mk(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return Dt.forEach(this,(i,o)=>{const l=Dt.findKey(r,o);if(l){n[l]=e0(i),delete n[o];return}const u=e?_Pe(o):String(o).trim();u!==o&&delete n[o],n[u]=e0(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Dt.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Dt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Dj]=this[Dj]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Sm(l);r[u]||(TPe(i,l),r[u]=!0)}return Dt.isArray(e)?e.forEach(o):o(e),this}};os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Dt.reduceDescriptors(os.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Dt.freezeMethods(os);function gk(t,e){const n=this||fb,r=e||n,i=os.from(r.headers);let o=r.data;return Dt.forEach(t,function(u){o=u.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function jQ(t){return!!(t&&t.__CANCEL__)}function Up(t,e,n){gr.call(this,t??"canceled",gr.ERR_CANCELED,e,n),this.name="CanceledError"}Dt.inherits(Up,gr,{__CANCEL__:!0});function HQ(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new gr("Request failed with status code "+n.status,[gr.ERR_BAD_REQUEST,gr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function SPe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wPe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),h=r[o];l||(l=d),n[i]=c,r[i]=d;let f=o,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),d-l<e)return;const m=h&&d-h;return m?Math.round(p*1e3/m):void 0}}function APe(t,e){let n=0,r=1e3/e,i,o;const l=(d,h=Date.now())=>{n=h,i=null,o&&(clearTimeout(o),o=null),t(...d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=r?l(d,h):(i=d,o||(o=setTimeout(()=>{o=null,l(i)},r-f)))},()=>i&&l(i)]}const N_=(t,e,n=3)=>{let r=0;const i=wPe(50,250);return APe(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,c=l-r,d=i(c),h=l<=u;r=l;const f={loaded:l,total:u,progress:u?l/u:void 0,bytes:c,rate:d||void 0,estimated:d&&u&&h?(u-l)/d:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(f)},n)},Lj=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Pj=t=>(...e)=>Dt.asap(()=>t(...e)),IPe=La.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,La.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(La.origin),La.navigator&&/(msie|trident)/i.test(La.navigator.userAgent)):()=>!0,xPe=La.hasStandardBrowserEnv?{write(t,e,n,r,i,o,l){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];Dt.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),Dt.isString(r)&&u.push(`path=${r}`),Dt.isString(i)&&u.push(`domain=${i}`),o===!0&&u.push("secure"),Dt.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function RPe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function kPe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function GQ(t,e,n){let r=!RPe(e);return t&&(r||n==!1)?kPe(t,e):e}const Oj=t=>t instanceof os?{...t}:t;function zd(t,e){e=e||{};const n={};function r(d,h,f,p){return Dt.isPlainObject(d)&&Dt.isPlainObject(h)?Dt.merge.call({caseless:p},d,h):Dt.isPlainObject(h)?Dt.merge({},h):Dt.isArray(h)?h.slice():h}function i(d,h,f,p){if(Dt.isUndefined(h)){if(!Dt.isUndefined(d))return r(void 0,d,f,p)}else return r(d,h,f,p)}function o(d,h){if(!Dt.isUndefined(h))return r(void 0,h)}function l(d,h){if(Dt.isUndefined(h)){if(!Dt.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function u(d,h,f){if(f in e)return r(d,h);if(f in t)return r(void 0,d)}const c={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(d,h,f)=>i(Oj(d),Oj(h),f,!0)};return Dt.forEach(Object.keys({...t,...e}),function(h){const f=c[h]||i,p=f(t[h],e[h],h);Dt.isUndefined(p)&&f!==u||(n[h]=p)}),n}const VQ=t=>{const e=zd({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;if(e.headers=l=os.from(l),e.url=zQ(GQ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Dt.isFormData(n)){if(La.hasStandardBrowserEnv||La.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Dt.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([h,f])=>{d.includes(h.toLowerCase())&&l.set(h,f)})}}if(La.hasStandardBrowserEnv&&(r&&Dt.isFunction(r)&&(r=r(e)),r||r!==!1&&IPe(e.url))){const c=i&&o&&xPe.read(o);c&&l.set(i,c)}return e},CPe=typeof XMLHttpRequest<"u",DPe=CPe&&function(t){return new Promise(function(n,r){const i=VQ(t);let o=i.data;const l=os.from(i.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:d}=i,h,f,p,m,g;function y(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function v(){if(!b)return;const E=os.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),A={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:E,config:t,request:b};HQ(function(I){n(I),y()},function(I){r(I),y()},A),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(r(new gr("Request aborted",gr.ECONNABORTED,t,b)),b=null)},b.onerror=function(T){const A=T&&T.message?T.message:"Network Error",w=new gr(A,gr.ERR_NETWORK,t,b);w.event=T||null,r(w),b=null},b.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||$Q;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new gr(T,A.clarifyTimeoutError?gr.ETIMEDOUT:gr.ECONNABORTED,t,b)),b=null},o===void 0&&l.setContentType(null),"setRequestHeader"in b&&Dt.forEach(l.toJSON(),function(T,A){b.setRequestHeader(A,T)}),Dt.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),u&&u!=="json"&&(b.responseType=i.responseType),d&&([p,g]=N_(d,!0),b.addEventListener("progress",p)),c&&b.upload&&([f,m]=N_(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=E=>{b&&(r(!E||E.type?new Up(null,t,b):E),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const _=SPe(i.url);if(_&&La.protocols.indexOf(_)===-1){r(new gr("Unsupported protocol "+_+":",gr.ERR_BAD_REQUEST,t));return}b.send(o||null)})},LPe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(d){if(!i){i=!0,u();const h=d instanceof Error?d:this.reason;r.abort(h instanceof gr?h:new Up(h instanceof Error?h.message:h))}};let l=e&&setTimeout(()=>{l=null,o(new gr(`timeout ${e} of ms exceeded`,gr.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),t=null)};t.forEach(d=>d.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>Dt.asap(u),c}},PPe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},OPe=async function*(t,e){for await(const n of MPe(t))yield*PPe(n,e)},MPe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Mj=(t,e,n,r)=>{const i=OPe(t,e);let o=0,l,u=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){u(),c.close();return}let f=h.byteLength;if(n){let p=o+=f;n(p)}c.enqueue(new Uint8Array(h))}catch(d){throw u(d),d}},cancel(c){return u(c),i.return()}},{highWaterMark:2})},Nj=64*1024,{isFunction:uv}=Dt,NPe=(({Request:t,Response:e})=>({Request:t,Response:e}))(Dt.global),{ReadableStream:Fj,TextEncoder:Uj}=Dt.global,Bj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FPe=t=>{t=Dt.merge.call({skipUndefined:!0},NPe,t);const{fetch:e,Request:n,Response:r}=t,i=e?uv(e):typeof fetch=="function",o=uv(n),l=uv(r);if(!i)return!1;const u=i&&uv(Fj),c=i&&(typeof Uj=="function"?(g=>y=>g.encode(y))(new Uj):async g=>new Uint8Array(await new n(g).arrayBuffer())),d=o&&u&&Bj(()=>{let g=!1;const y=new n(La.origin,{body:new Fj,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),h=l&&u&&Bj(()=>Dt.isReadableStream(new r("").body)),f={stream:h&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(y,b)=>{let v=y&&y[g];if(v)return v.call(y);throw new gr(`Response type '${g}' is not supported`,gr.ERR_NOT_SUPPORT,b)})});const p=async g=>{if(g==null)return 0;if(Dt.isBlob(g))return g.size;if(Dt.isSpecCompliantForm(g))return(await new n(La.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Dt.isArrayBufferView(g)||Dt.isArrayBuffer(g))return g.byteLength;if(Dt.isURLSearchParams(g)&&(g=g+""),Dt.isString(g))return(await c(g)).byteLength},m=async(g,y)=>{const b=Dt.toFiniteNumber(g.getContentLength());return b??p(y)};return async g=>{let{url:y,method:b,data:v,signal:_,cancelToken:E,timeout:T,onDownloadProgress:A,onUploadProgress:w,responseType:I,headers:C,withCredentials:j="same-origin",fetchOptions:F}=VQ(g),K=e||fetch;I=I?(I+"").toLowerCase():"text";let he=LPe([_,E&&E.toAbortSignal()],T),q=null;const Ee=he&&he.unsubscribe&&(()=>{he.unsubscribe()});let Te;try{if(w&&d&&b!=="get"&&b!=="head"&&(Te=await m(C,v))!==0){let we=new n(y,{method:"POST",body:v,duplex:"half"}),je;if(Dt.isFormData(v)&&(je=we.headers.get("content-type"))&&C.setContentType(je),we.body){const[Ce,dt]=Lj(Te,N_(Pj(w)));v=Mj(we.body,Nj,Ce,dt)}}Dt.isString(j)||(j=j?"include":"omit");const ge=o&&"credentials"in n.prototype,Be={...F,signal:he,method:b.toUpperCase(),headers:C.normalize().toJSON(),body:v,duplex:"half",credentials:ge?j:void 0};q=o&&new n(y,Be);let He=await(o?K(q,F):K(y,Be));const Ye=h&&(I==="stream"||I==="response");if(h&&(A||Ye&&Ee)){const we={};["status","statusText","headers"].forEach(Le=>{we[Le]=He[Le]});const je=Dt.toFiniteNumber(He.headers.get("content-length")),[Ce,dt]=A&&Lj(je,N_(Pj(A),!0))||[];He=new r(Mj(He.body,Nj,Ce,()=>{dt&&dt(),Ee&&Ee()}),we)}I=I||"text";let Ie=await f[Dt.findKey(f,I)||"text"](He,g);return!Ye&&Ee&&Ee(),await new Promise((we,je)=>{HQ(we,je,{data:Ie,headers:os.from(He.headers),status:He.status,statusText:He.statusText,config:g,request:q})})}catch(ge){throw Ee&&Ee(),ge&&ge.name==="TypeError"&&/Load failed|fetch/i.test(ge.message)?Object.assign(new gr("Network Error",gr.ERR_NETWORK,g,q),{cause:ge.cause||ge}):gr.from(ge,ge&&ge.code,g,q)}}},UPe=new Map,KQ=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let l=o.length,u=l,c,d,h=UPe;for(;u--;)c=o[u],d=h.get(c),d===void 0&&h.set(c,d=u?new Map:FPe(e)),h=d;return d};KQ();const eN={http:tPe,xhr:DPe,fetch:{get:KQ}};Dt.forEach(eN,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zj=t=>`- ${t}`,BPe=t=>Dt.isFunction(t)||t===null||t===!1;function zPe(t,e){t=Dt.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let l=0;l<n;l++){r=t[l];let u;if(i=r,!BPe(r)&&(i=eN[(u=String(r)).toLowerCase()],i===void 0))throw new gr(`Unknown adapter '${u}'`);if(i&&(Dt.isFunction(i)||(i=i.get(e))))break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(zj).join(`
`):" "+zj(l[0]):"as no adapter specified";throw new gr("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const WQ={getAdapter:zPe,adapters:eN};function yk(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Up(null,t)}function $j(t){return yk(t),t.headers=os.from(t.headers),t.data=gk.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WQ.getAdapter(t.adapter||fb.adapter,t)(t).then(function(r){return yk(t),r.data=gk.call(t,t.transformResponse,r),r.headers=os.from(r.headers),r},function(r){return jQ(r)||(yk(t),r&&r.response&&(r.response.data=gk.call(t,t.transformResponse,r.response),r.response.headers=os.from(r.response.headers))),Promise.reject(r)})}const YQ="1.13.2",_S={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_S[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qj={};_S.transitional=function(e,n,r){function i(o,l){return"[Axios v"+YQ+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new gr(i(l," has been removed"+(n?" in "+n:"")),gr.ERR_DEPRECATED);return n&&!qj[l]&&(qj[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};_S.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function $Pe(t,e,n){if(typeof t!="object")throw new gr("options must be an object",gr.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const u=t[o],c=u===void 0||l(u,o,t);if(c!==!0)throw new gr("option "+o+" must be "+c,gr.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new gr("Unknown option "+o,gr.ERR_BAD_OPTION)}}const t0={assertOptions:$Pe,validators:_S},Zo=t0.validators;let Id=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Cj,response:new Cj}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=zd(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&t0.assertOptions(r,{silentJSONParsing:Zo.transitional(Zo.boolean),forcedJSONParsing:Zo.transitional(Zo.boolean),clarifyTimeoutError:Zo.transitional(Zo.boolean)},!1),i!=null&&(Dt.isFunction(i)?n.paramsSerializer={serialize:i}:t0.assertOptions(i,{encode:Zo.function,serialize:Zo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),t0.assertOptions(n,{baseUrl:Zo.spelling("baseURL"),withXsrfToken:Zo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&Dt.merge(o.common,o[n.method]);o&&Dt.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=os.concat(l,o);const u=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,u.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let h,f=0,p;if(!c){const g=[$j.bind(this),void 0];for(g.unshift(...u),g.push(...d),p=g.length,h=Promise.resolve(n);f<p;)h=h.then(g[f++],g[f++]);return h}p=u.length;let m=n;for(;f<p;){const g=u[f++],y=u[f++];try{m=g(m)}catch(b){y.call(this,b);break}}try{h=$j.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,p=d.length;f<p;)h=h.then(d[f++],d[f++]);return h}getUri(e){e=zd(this.defaults,e);const n=GQ(e.baseURL,e.url,e.allowAbsoluteUrls);return zQ(n,e.params,e.paramsSerializer)}};Dt.forEach(["delete","get","head","options"],function(e){Id.prototype[e]=function(n,r){return this.request(zd(r||{},{method:e,url:n,data:(r||{}).data}))}});Dt.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(zd(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Id.prototype[e]=n(),Id.prototype[e+"Form"]=n(!0)});let qPe=class XQ{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new Up(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new XQ(function(i){e=i}),cancel:e}}};function jPe(t){return function(n){return t.apply(null,n)}}function HPe(t){return Dt.isObject(t)&&t.isAxiosError===!0}const CD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(CD).forEach(([t,e])=>{CD[e]=t});function QQ(t){const e=new Id(t),n=RQ(Id.prototype.request,e);return Dt.extend(n,Id.prototype,e,{allOwnKeys:!0}),Dt.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return QQ(zd(t,i))},n}const Zi=QQ(fb);Zi.Axios=Id;Zi.CanceledError=Up;Zi.CancelToken=qPe;Zi.isCancel=jQ;Zi.VERSION=YQ;Zi.toFormData=ES;Zi.AxiosError=gr;Zi.Cancel=Zi.CanceledError;Zi.all=function(e){return Promise.all(e)};Zi.spread=jPe;Zi.isAxiosError=HPe;Zi.mergeConfig=zd;Zi.AxiosHeaders=os;Zi.formToJSON=t=>qQ(Dt.isHTMLForm(t)?new FormData(t):t);Zi.getAdapter=WQ.getAdapter;Zi.HttpStatusCode=CD;Zi.default=Zi;const{Axios:P7e,AxiosError:O7e,CanceledError:M7e,isCancel:N7e,CancelToken:F7e,VERSION:U7e,all:B7e,Cancel:z7e,isAxiosError:$7e,spread:q7e,toFormData:j7e,AxiosHeaders:H7e,HttpStatusCode:G7e,formToJSON:V7e,getAdapter:K7e,mergeConfig:W7e}=Zi;var GPe=Object.defineProperty,F_=Object.getOwnPropertySymbols,ZQ=Object.prototype.hasOwnProperty,JQ=Object.prototype.propertyIsEnumerable,jj=(t,e,n)=>e in t?GPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DD=(t,e)=>{for(var n in e||(e={}))ZQ.call(e,n)&&jj(t,n,e[n]);if(F_)for(var n of F_(e))JQ.call(e,n)&&jj(t,n,e[n]);return t},LD=(t,e)=>{var n={};for(var r in t)ZQ.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&F_)for(var r of F_(t))e.indexOf(r)<0&&JQ.call(t,r)&&(n[r]=t[r]);return n};var $d;(t=>{const e=class Rr{constructor(c,d,h,f){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<Rr.MIN_VERSION||c>Rr.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let g=0;g<this.size;g++)p.push(!1);for(let g=0;g<this.size;g++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const m=this.addEccAndInterleave(h);if(this.drawCodewords(m),f==-1){let g=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const b=this.getPenaltyScore();b<g&&(f=y,g=b),this.applyMask(y)}}i(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,d){const h=t.QrSegment.makeSegments(c);return Rr.encodeSegments(h,d)}static encodeBinary(c,d){const h=t.QrSegment.makeBytes(c);return Rr.encodeSegments([h],d)}static encodeSegments(c,d,h=1,f=40,p=-1,m=!0){if(!(Rr.MIN_VERSION<=h&&h<=f&&f<=Rr.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let g,y;for(g=h;;g++){const E=Rr.getNumDataCodewords(g,d)*8,T=l.getTotalBits(c,g);if(T<=E){y=T;break}if(g>=f)throw new RangeError("Data too long")}for(const E of[Rr.Ecc.MEDIUM,Rr.Ecc.QUARTILE,Rr.Ecc.HIGH])m&&y<=Rr.getNumDataCodewords(g,E)*8&&(d=E);let b=[];for(const E of c){n(E.mode.modeBits,4,b),n(E.numChars,E.mode.numCharCountBits(g),b);for(const T of E.getData())b.push(T)}i(b.length==y);const v=Rr.getNumDataCodewords(g,d)*8;i(b.length<=v),n(0,Math.min(4,v-b.length),b),n(0,(8-b.length%8)%8,b),i(b.length%8==0);for(let E=236;b.length<v;E^=253)n(E,8,b);let _=[];for(;_.length*8<b.length;)_.push(0);return b.forEach((E,T)=>_[T>>>3]|=E<<7-(T&7)),new Rr(g,d,_,p)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let h=0;h<this.size;h++)this.setFunctionModule(6,h,h%2==0),this.setFunctionModule(h,6,h%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let h=0;h<d;h++)for(let f=0;f<d;f++)h==0&&f==0||h==0&&f==d-1||h==d-1&&f==0||this.drawAlignmentPattern(c[h],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let h=d;for(let p=0;p<10;p++)h=h<<1^(h>>>9)*1335;const f=(d<<10|h)^21522;i(f>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(f,p));this.setFunctionModule(8,7,r(f,6)),this.setFunctionModule(8,8,r(f,7)),this.setFunctionModule(7,8,r(f,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(f,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(f,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(f,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let h=0;h<12;h++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let h=0;h<18;h++){const f=r(d,h),p=this.size-11+h%3,m=Math.floor(h/3);this.setFunctionModule(p,m,f),this.setFunctionModule(m,p,f)}}drawFinderPattern(c,d){for(let h=-4;h<=4;h++)for(let f=-4;f<=4;f++){const p=Math.max(Math.abs(f),Math.abs(h)),m=c+f,g=d+h;0<=m&&m<this.size&&0<=g&&g<this.size&&this.setFunctionModule(m,g,p!=2&&p!=4)}}drawAlignmentPattern(c,d){for(let h=-2;h<=2;h++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,d+h,Math.max(Math.abs(f),Math.abs(h))!=1)}setFunctionModule(c,d,h){this.modules[d][c]=h,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,h=this.errorCorrectionLevel;if(c.length!=Rr.getNumDataCodewords(d,h))throw new RangeError("Invalid argument");const f=Rr.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][d],p=Rr.ECC_CODEWORDS_PER_BLOCK[h.ordinal][d],m=Math.floor(Rr.getNumRawDataModules(d)/8),g=f-m%f,y=Math.floor(m/f);let b=[];const v=Rr.reedSolomonComputeDivisor(p);for(let E=0,T=0;E<f;E++){let A=c.slice(T,T+y-p+(E<g?0:1));T+=A.length;const w=Rr.reedSolomonComputeRemainder(A,v);E<g&&A.push(0),b.push(A.concat(w))}let _=[];for(let E=0;E<b[0].length;E++)b.forEach((T,A)=>{(E!=y-p||A>=g)&&_.push(T[E])});return i(_.length==m),_}drawCodewords(c){if(c.length!=Math.floor(Rr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let h=this.size-1;h>=1;h-=2){h==6&&(h=5);for(let f=0;f<this.size;f++)for(let p=0;p<2;p++){const m=h-p,y=(h+1&2)==0?this.size-1-f:f;!this.isFunction[y][m]&&d<c.length*8&&(this.modules[y][m]=r(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let h=0;h<this.size;h++){let f;switch(c){case 0:f=(h+d)%2==0;break;case 1:f=d%2==0;break;case 2:f=h%3==0;break;case 3:f=(h+d)%3==0;break;case 4:f=(Math.floor(h/3)+Math.floor(d/2))%2==0;break;case 5:f=h*d%2+h*d%3==0;break;case 6:f=(h*d%2+h*d%3)%2==0;break;case 7:f=((h+d)%2+h*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][h]&&f&&(this.modules[d][h]=!this.modules[d][h])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let m=!1,g=0,y=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[p][b]==m?(g++,g==5?c+=Rr.PENALTY_N1:g>5&&c++):(this.finderPenaltyAddHistory(g,y),m||(c+=this.finderPenaltyCountPatterns(y)*Rr.PENALTY_N3),m=this.modules[p][b],g=1);c+=this.finderPenaltyTerminateAndCount(m,g,y)*Rr.PENALTY_N3}for(let p=0;p<this.size;p++){let m=!1,g=0,y=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][p]==m?(g++,g==5?c+=Rr.PENALTY_N1:g>5&&c++):(this.finderPenaltyAddHistory(g,y),m||(c+=this.finderPenaltyCountPatterns(y)*Rr.PENALTY_N3),m=this.modules[b][p],g=1);c+=this.finderPenaltyTerminateAndCount(m,g,y)*Rr.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let m=0;m<this.size-1;m++){const g=this.modules[p][m];g==this.modules[p][m+1]&&g==this.modules[p+1][m]&&g==this.modules[p+1][m+1]&&(c+=Rr.PENALTY_N2)}let d=0;for(const p of this.modules)d=p.reduce((m,g)=>m+(g?1:0),d);const h=this.size*this.size,f=Math.ceil(Math.abs(d*20-h*10)/h)-1;return i(0<=f&&f<=9),c+=f*Rr.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let h=[6];for(let f=this.size-7;h.length<c;f-=d)h.splice(1,0,f);return h}}static getNumRawDataModules(c){if(c<Rr.MIN_VERSION||c>Rr.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const h=Math.floor(c/7)+2;d-=(25*h-10)*h-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(Rr.getNumRawDataModules(c)/8)-Rr.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*Rr.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let f=0;f<c-1;f++)d.push(0);d.push(1);let h=1;for(let f=0;f<c;f++){for(let p=0;p<d.length;p++)d[p]=Rr.reedSolomonMultiply(d[p],h),p+1<d.length&&(d[p]^=d[p+1]);h=Rr.reedSolomonMultiply(h,2)}return d}static reedSolomonComputeRemainder(c,d){let h=d.map(f=>0);for(const f of c){const p=f^h.shift();h.push(0),d.forEach((m,g)=>h[g]^=Rr.reedSolomonMultiply(m,p))}return h}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let h=0;for(let f=7;f>=0;f--)h=h<<1^(h>>>7)*285,h^=(d>>>f&1)*c;return i(h>>>8==0),h}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const h=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(h&&c[0]>=d*4&&c[6]>=d?1:0)+(h&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,h){return c&&(this.finderPenaltyAddHistory(d,h),d=0),d+=this.size,this.finderPenaltyAddHistory(d,h),this.finderPenaltyCountPatterns(h)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(u,c,d){if(c<0||c>31||u>>>c)throw new RangeError("Value out of range");for(let h=c-1;h>=0;h--)d.push(u>>>h&1)}function r(u,c){return(u>>>c&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const o=class Oi{constructor(c,d,h){if(this.mode=c,this.numChars=d,this.bitData=h,d<0)throw new RangeError("Invalid argument");this.bitData=h.slice()}static makeBytes(c){let d=[];for(const h of c)n(h,8,d);return new Oi(Oi.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Oi.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let h=0;h<c.length;){const f=Math.min(c.length-h,3);n(parseInt(c.substring(h,h+f),10),f*3+1,d),h+=f}return new Oi(Oi.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Oi.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],h;for(h=0;h+2<=c.length;h+=2){let f=Oi.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h))*45;f+=Oi.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h+1)),n(f,11,d)}return h<c.length&&n(Oi.ALPHANUMERIC_CHARSET.indexOf(c.charAt(h)),6,d),new Oi(Oi.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Oi.isNumeric(c)?[Oi.makeNumeric(c)]:Oi.isAlphanumeric(c)?[Oi.makeAlphanumeric(c)]:[Oi.makeBytes(Oi.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Oi(Oi.Mode.ECI,0,d)}static isNumeric(c){return Oi.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Oi.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let h=0;for(const f of c){const p=f.mode.numCharCountBits(d);if(f.numChars>=1<<p)return 1/0;h+=4+p+f.bitData.length}return h}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let h=0;h<c.length;h++)c.charAt(h)!="%"?d.push(c.charCodeAt(h)):(d.push(parseInt(c.substring(h+1,h+3),16)),h+=2);return d}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=o;t.QrSegment=o})($d||($d={}));(t=>{(e=>{const n=class{constructor(i,o){this.ordinal=i,this.formatBits=o}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})($d||($d={}));(t=>{(e=>{const n=class{constructor(i,o){this.modeBits=i,this.numBitsCharCount=o}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})($d||($d={}));var Mh=$d;var VPe={L:Mh.QrCode.Ecc.LOW,M:Mh.QrCode.Ecc.MEDIUM,Q:Mh.QrCode.Ecc.QUARTILE,H:Mh.QrCode.Ecc.HIGH},eZ=128,tZ="L",nZ="#FFFFFF",rZ="#000000",iZ=!1,aZ=1,KPe=4,WPe=0,YPe=.1;function sZ(t,e=0){const n=[];return t.forEach(function(r,i){let o=null;r.forEach(function(l,u){if(!l&&o!==null){n.push(`M${o+e} ${i+e}h${u-o}v1H${o+e}z`),o=null;return}if(u===r.length-1){if(!l)return;o===null?n.push(`M${u+e},${i+e} h1v1H${u+e}z`):n.push(`M${o+e},${i+e} h${u+1-o}v1H${o+e}z`);return}l&&o===null&&(o=u)})}),n.join("")}function oZ(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,o)=>o<e.x||o>=e.x+e.w?i:!1))}function XPe(t,e,n,r){if(r==null)return null;const i=t.length+n*2,o=Math.floor(e*YPe),l=i/e,u=(r.width||o)*l,c=(r.height||o)*l,d=r.x==null?t.length/2-u/2:r.x*l,h=r.y==null?t.length/2-c/2:r.y*l,f=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let g=Math.floor(d),y=Math.floor(h),b=Math.ceil(u+d-g),v=Math.ceil(c+h-y);p={x:g,y,w:b,h:v}}const m=r.crossOrigin;return{x:d,y:h,h:c,w:u,excavation:p,opacity:f,crossOrigin:m}}function QPe(t,e){return e!=null?Math.max(Math.floor(e),0):t?KPe:WPe}function lZ({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:o,size:l,boostLevel:u}){let c=Me.useMemo(()=>{const g=(Array.isArray(t)?t:[t]).reduce((y,b)=>(y.push(...Mh.QrSegment.makeSegments(b)),y),[]);return Mh.QrCode.encodeSegments(g,VPe[e],n,void 0,void 0,u)},[t,e,n,u]);const{cells:d,margin:h,numCells:f,calculatedImageSettings:p}=Me.useMemo(()=>{let m=c.getModules();const g=QPe(r,i),y=m.length+g*2,b=XPe(m,l,g,o);return{cells:m,margin:g,numCells:y,calculatedImageSettings:b}},[c,l,o,r,i]);return{qrcode:c,margin:h,cells:d,numCells:f,calculatedImageSettings:p}}var ZPe=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),JPe=Me.forwardRef(function(e,n){const r=e,{value:i,size:o=eZ,level:l=tZ,bgColor:u=nZ,fgColor:c=rZ,includeMargin:d=iZ,minVersion:h=aZ,boostLevel:f,marginSize:p,imageSettings:m}=r,y=LD(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=y,v=LD(y,["style"]),_=m?.src,E=Me.useRef(null),T=Me.useRef(null),A=Me.useCallback(Ee=>{E.current=Ee,typeof n=="function"?n(Ee):n&&(n.current=Ee)},[n]),[w,I]=Me.useState(!1),{margin:C,cells:j,numCells:F,calculatedImageSettings:K}=lZ({value:i,level:l,minVersion:h,boostLevel:f,includeMargin:d,marginSize:p,imageSettings:m,size:o});Me.useEffect(()=>{if(E.current!=null){const Ee=E.current,Te=Ee.getContext("2d");if(!Te)return;let ge=j;const Be=T.current,He=K!=null&&Be!==null&&Be.complete&&Be.naturalHeight!==0&&Be.naturalWidth!==0;He&&K.excavation!=null&&(ge=oZ(j,K.excavation));const Ye=window.devicePixelRatio||1;Ee.height=Ee.width=o*Ye;const Ie=o/F*Ye;Te.scale(Ie,Ie),Te.fillStyle=u,Te.fillRect(0,0,F,F),Te.fillStyle=c,ZPe?Te.fill(new Path2D(sZ(ge,C))):j.forEach(function(we,je){we.forEach(function(Ce,dt){Ce&&Te.fillRect(dt+C,je+C,1,1)})}),K&&(Te.globalAlpha=K.opacity),He&&Te.drawImage(Be,K.x+C,K.y+C,K.w,K.h)}}),Me.useEffect(()=>{I(!1)},[_]);const he=DD({height:o,width:o},b);let q=null;return _!=null&&(q=Me.createElement("img",{src:_,key:_,style:{display:"none"},onLoad:()=>{I(!0)},ref:T,crossOrigin:K?.crossOrigin})),Me.createElement(Me.Fragment,null,Me.createElement("canvas",DD({style:he,height:o,width:o,ref:A,role:"img"},v)),q)});JPe.displayName="QRCodeCanvas";var eOe=Me.forwardRef(function(e,n){const r=e,{value:i,size:o=eZ,level:l=tZ,bgColor:u=nZ,fgColor:c=rZ,includeMargin:d=iZ,minVersion:h=aZ,boostLevel:f,title:p,marginSize:m,imageSettings:g}=r,y=LD(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:v,numCells:_,calculatedImageSettings:E}=lZ({value:i,level:l,minVersion:h,boostLevel:f,includeMargin:d,marginSize:m,imageSettings:g,size:o});let T=v,A=null;g!=null&&E!=null&&(E.excavation!=null&&(T=oZ(v,E.excavation)),A=Me.createElement("image",{href:g.src,height:E.h,width:E.w,x:E.x+b,y:E.y+b,preserveAspectRatio:"none",opacity:E.opacity,crossOrigin:E.crossOrigin}));const w=sZ(T,b);return Me.createElement("svg",DD({height:o,width:o,viewBox:`0 0 ${_} ${_}`,ref:n,role:"img"},y),!!p&&Me.createElement("title",null,p),Me.createElement("path",{fill:u,d:`M0,0 h${_}v${_}H0z`,shapeRendering:"crispEdges"}),Me.createElement("path",{fill:c,d:w,shapeRendering:"crispEdges"}),A)});eOe.displayName="QRCodeSVG";var wm={exports:{}},bk={},cv={exports:{}},Hj;function tOe(){if(Hj)return cv.exports;Hj=1;function t(n){var r,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(r=0;r<l;r++)n[r]&&(i=t(n[r]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function e(){for(var n,r,i=0,o="",l=arguments.length;i<l;i++)(n=arguments[i])&&(r=t(n))&&(o&&(o+=" "),o+=r);return o}return cv.exports=e,cv.exports.clsx=e,cv.exports}var Bi={},$u={},Gj;function TS(){if(Gj)return $u;Gj=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.dontSetMe=i,$u.findInArray=t,$u.int=r,$u.isFunction=e,$u.isNum=n;function t(o,l){for(let u=0,c=o.length;u<c;u++)if(l.apply(l,[o[u],u,o]))return o[u]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function n(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function i(o,l,u){if(o[l])return new Error(`Invalid prop ${l} passed to ${u} - do not set this, set it on the child.`)}return $u}var qu={},Vj;function nOe(){if(Vj)return qu;Vj=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.browserPrefixToKey=n,qu.browserPrefixToStyle=r,qu.default=void 0,qu.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=window.document?.documentElement?.style;if(!l||o in l)return"";for(let u=0;u<t.length;u++)if(n(o,t[u])in l)return t[u];return""}function n(o,l){return l?`${l}${i(o)}`:o}function r(o,l){return l?`-${l.toLowerCase()}-${o}`:o}function i(o){let l="",u=!0;for(let c=0;c<o.length;c++)u?(l+=o[c].toUpperCase(),u=!1):o[c]==="-"?u=!0:l+=o[c];return l}return qu.default=e(),qu}var Kj;function tN(){if(Kj)return Bi;Kj=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.addClassName=A,Bi.addEvent=l,Bi.addUserSelectStyles=_,Bi.createCSSTransform=m,Bi.createSVGTransform=g,Bi.getTouch=b,Bi.getTouchIdentifier=v,Bi.getTranslation=y,Bi.innerHeight=h,Bi.innerWidth=f,Bi.matchesSelector=i,Bi.matchesSelectorAndParentsTo=o,Bi.offsetXYFromParent=p,Bi.outerHeight=c,Bi.outerWidth=d,Bi.removeClassName=w,Bi.removeEvent=u,Bi.scheduleRemoveUserSelectStyles=E;var t=TS(),e=n(nOe());function n(I,C){if(typeof WeakMap=="function")var j=new WeakMap,F=new WeakMap;return(n=function(K,he){if(!he&&K&&K.__esModule)return K;var q,Ee,Te={__proto__:null,default:K};if(K===null||typeof K!="object"&&typeof K!="function")return Te;if(q=he?F:j){if(q.has(K))return q.get(K);q.set(K,Te)}for(const ge in K)ge!=="default"&&{}.hasOwnProperty.call(K,ge)&&((Ee=(q=Object.defineProperty)&&Object.getOwnPropertyDescriptor(K,ge))&&(Ee.get||Ee.set)?q(Te,ge,Ee):Te[ge]=K[ge]);return Te})(I,C)}let r="";function i(I,C){return r||(r=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(j){return(0,t.isFunction)(I[j])})),(0,t.isFunction)(I[r])?I[r](C):!1}function o(I,C,j){let F=I;do{if(i(F,C))return!0;if(F===j)return!1;F=F.parentNode}while(F);return!1}function l(I,C,j,F){if(!I)return;const K={capture:!0,...F};I.addEventListener?I.addEventListener(C,j,K):I.attachEvent?I.attachEvent("on"+C,j):I["on"+C]=j}function u(I,C,j,F){if(!I)return;const K={capture:!0,...F};I.removeEventListener?I.removeEventListener(C,j,K):I.detachEvent?I.detachEvent("on"+C,j):I["on"+C]=null}function c(I){let C=I.clientHeight;const j=I.ownerDocument.defaultView.getComputedStyle(I);return C+=(0,t.int)(j.borderTopWidth),C+=(0,t.int)(j.borderBottomWidth),C}function d(I){let C=I.clientWidth;const j=I.ownerDocument.defaultView.getComputedStyle(I);return C+=(0,t.int)(j.borderLeftWidth),C+=(0,t.int)(j.borderRightWidth),C}function h(I){let C=I.clientHeight;const j=I.ownerDocument.defaultView.getComputedStyle(I);return C-=(0,t.int)(j.paddingTop),C-=(0,t.int)(j.paddingBottom),C}function f(I){let C=I.clientWidth;const j=I.ownerDocument.defaultView.getComputedStyle(I);return C-=(0,t.int)(j.paddingLeft),C-=(0,t.int)(j.paddingRight),C}function p(I,C,j){const K=C===C.ownerDocument.body?{left:0,top:0}:C.getBoundingClientRect(),he=(I.clientX+C.scrollLeft-K.left)/j,q=(I.clientY+C.scrollTop-K.top)/j;return{x:he,y:q}}function m(I,C){const j=y(I,C,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:j}}function g(I,C){return y(I,C,"")}function y(I,C,j){let{x:F,y:K}=I,he=`translate(${F}${j},${K}${j})`;if(C){const q=`${typeof C.x=="string"?C.x:C.x+j}`,Ee=`${typeof C.y=="string"?C.y:C.y+j}`;he=`translate(${q}, ${Ee})`+he}return he}function b(I,C){return I.targetTouches&&(0,t.findInArray)(I.targetTouches,j=>C===j.identifier)||I.changedTouches&&(0,t.findInArray)(I.changedTouches,j=>C===j.identifier)}function v(I){if(I.targetTouches&&I.targetTouches[0])return I.targetTouches[0].identifier;if(I.changedTouches&&I.changedTouches[0])return I.changedTouches[0].identifier}function _(I){if(!I)return;let C=I.getElementById("react-draggable-style-el");C||(C=I.createElement("style"),C.type="text/css",C.id="react-draggable-style-el",C.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,C.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,I.getElementsByTagName("head")[0].appendChild(C)),I.body&&A(I.body,"react-draggable-transparent-selection")}function E(I){window.requestAnimationFrame?window.requestAnimationFrame(()=>{T(I)}):T(I)}function T(I){if(I)try{if(I.body&&w(I.body,"react-draggable-transparent-selection"),I.selection)I.selection.empty();else{const C=(I.defaultView||window).getSelection();C&&C.type!=="Caret"&&C.removeAllRanges()}}catch{}}function A(I,C){I.classList?I.classList.add(C):I.className.match(new RegExp(`(?:^|\\s)${C}(?!\\S)`))||(I.className+=` ${C}`)}function w(I,C){I.classList?I.classList.remove(C):I.className=I.className.replace(new RegExp(`(?:^|\\s)${C}(?!\\S)`,"g"),"")}return Bi}var Jo={},Wj;function uZ(){if(Wj)return Jo;Wj=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.canDragX=i,Jo.canDragY=o,Jo.createCoreData=u,Jo.createDraggableData=c,Jo.getBoundPosition=n,Jo.getControlPosition=l,Jo.snapToGrid=r;var t=TS(),e=tN();function n(f,p,m){if(!f.props.bounds)return[p,m];let{bounds:g}=f.props;g=typeof g=="string"?g:d(g);const y=h(f);if(typeof g=="string"){const{ownerDocument:b}=y,v=b.defaultView;let _;if(g==="parent"?_=y.parentNode:_=y.getRootNode().querySelector(g),!(_ instanceof v.HTMLElement))throw new Error('Bounds selector "'+g+'" could not find an element.');const E=_,T=v.getComputedStyle(y),A=v.getComputedStyle(E);g={left:-y.offsetLeft+(0,t.int)(A.paddingLeft)+(0,t.int)(T.marginLeft),top:-y.offsetTop+(0,t.int)(A.paddingTop)+(0,t.int)(T.marginTop),right:(0,e.innerWidth)(E)-(0,e.outerWidth)(y)-y.offsetLeft+(0,t.int)(A.paddingRight)-(0,t.int)(T.marginRight),bottom:(0,e.innerHeight)(E)-(0,e.outerHeight)(y)-y.offsetTop+(0,t.int)(A.paddingBottom)-(0,t.int)(T.marginBottom)}}return(0,t.isNum)(g.right)&&(p=Math.min(p,g.right)),(0,t.isNum)(g.bottom)&&(m=Math.min(m,g.bottom)),(0,t.isNum)(g.left)&&(p=Math.max(p,g.left)),(0,t.isNum)(g.top)&&(m=Math.max(m,g.top)),[p,m]}function r(f,p,m){const g=Math.round(p/f[0])*f[0],y=Math.round(m/f[1])*f[1];return[g,y]}function i(f){return f.props.axis==="both"||f.props.axis==="x"}function o(f){return f.props.axis==="both"||f.props.axis==="y"}function l(f,p,m){const g=typeof p=="number"?(0,e.getTouch)(f,p):null;if(typeof p=="number"&&!g)return null;const y=h(m),b=m.props.offsetParent||y.offsetParent||y.ownerDocument.body;return(0,e.offsetXYFromParent)(g||f,b,m.props.scale)}function u(f,p,m){const g=!(0,t.isNum)(f.lastX),y=h(f);return g?{node:y,deltaX:0,deltaY:0,lastX:p,lastY:m,x:p,y:m}:{node:y,deltaX:p-f.lastX,deltaY:m-f.lastY,lastX:f.lastX,lastY:f.lastY,x:p,y:m}}function c(f,p){const m=f.props.scale;return{node:p.node,x:f.state.x+p.deltaX/m,y:f.state.y+p.deltaY/m,deltaX:p.deltaX/m,deltaY:p.deltaY/m,lastX:f.state.x,lastY:f.state.y}}function d(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function h(f){const p=f.findDOMNode();if(!p)throw new Error("<DraggableCore>: Unmounted during event!");return p}return Jo}var Am={},dv={},Yj;function cZ(){if(Yj)return dv;Yj=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.default=t;function t(){}return dv}var Xj;function rOe(){if(Xj)return Am;Xj=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.default=void 0;var t=c(co()),e=u(nb()),n=u(aV()),r=tN(),i=uZ(),o=TS(),l=u(cZ());function u(y){return y&&y.__esModule?y:{default:y}}function c(y,b){if(typeof WeakMap=="function")var v=new WeakMap,_=new WeakMap;return(c=function(E,T){if(!T&&E&&E.__esModule)return E;var A,w,I={__proto__:null,default:E};if(E===null||typeof E!="object"&&typeof E!="function")return I;if(A=T?_:v){if(A.has(E))return A.get(E);A.set(E,I)}for(const C in E)C!=="default"&&{}.hasOwnProperty.call(E,C)&&((w=(A=Object.defineProperty)&&Object.getOwnPropertyDescriptor(E,C))&&(w.get||w.set)?A(I,C,w):I[C]=E[C]);return I})(y,b)}function d(y,b,v){return(b=h(b))in y?Object.defineProperty(y,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[b]=v,y}function h(y){var b=f(y,"string");return typeof b=="symbol"?b:b+""}function f(y,b){if(typeof y!="object"||!y)return y;var v=y[Symbol.toPrimitive];if(v!==void 0){var _=v.call(y,b);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(y)}const p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let m=p.mouse,g=class extends t.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",b=>{if(this.props.onMouseDown(b),!this.props.allowAnyClick&&typeof b.button=="number"&&b.button!==0)return!1;const v=this.findDOMNode();if(!v||!v.ownerDocument||!v.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:_}=v;if(this.props.disabled||!(b.target instanceof _.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(b.target,this.props.handle,v)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(b.target,this.props.cancel,v))return;b.type==="touchstart"&&!this.props.allowMobileScroll&&b.preventDefault();const E=(0,r.getTouchIdentifier)(b);this.touchIdentifier=E;const T=(0,i.getControlPosition)(b,E,this);if(T==null)return;const{x:A,y:w}=T,I=(0,i.createCoreData)(this,A,w);(0,l.default)("DraggableCore: handleDragStart: %j",I),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(b,I)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(_),this.dragging=!0,this.lastX=A,this.lastY=w,(0,r.addEvent)(_,m.move,this.handleDrag),(0,r.addEvent)(_,m.stop,this.handleDragStop))}),d(this,"handleDrag",b=>{const v=(0,i.getControlPosition)(b,this.touchIdentifier,this);if(v==null)return;let{x:_,y:E}=v;if(Array.isArray(this.props.grid)){let w=_-this.lastX,I=E-this.lastY;if([w,I]=(0,i.snapToGrid)(this.props.grid,w,I),!w&&!I)return;_=this.lastX+w,E=this.lastY+I}const T=(0,i.createCoreData)(this,_,E);if((0,l.default)("DraggableCore: handleDrag: %j",T),this.props.onDrag(b,T)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const I=document.createEvent("MouseEvents");I.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(I)}return}this.lastX=_,this.lastY=E}),d(this,"handleDragStop",b=>{if(!this.dragging)return;const v=(0,i.getControlPosition)(b,this.touchIdentifier,this);if(v==null)return;let{x:_,y:E}=v;if(Array.isArray(this.props.grid)){let I=_-this.lastX||0,C=E-this.lastY||0;[I,C]=(0,i.snapToGrid)(this.props.grid,I,C),_=this.lastX+I,E=this.lastY+C}const T=(0,i.createCoreData)(this,_,E);if(this.props.onStop(b,T)===!1||this.mounted===!1)return!1;const w=this.findDOMNode();w&&this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(w.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",T),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,w&&((0,l.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(w.ownerDocument,m.move,this.handleDrag),(0,r.removeEvent)(w.ownerDocument,m.stop,this.handleDragStop))}),d(this,"onMouseDown",b=>(m=p.mouse,this.handleDragStart(b))),d(this,"onMouseUp",b=>(m=p.mouse,this.handleDragStop(b))),d(this,"onTouchStart",b=>(m=p.touch,this.handleDragStart(b))),d(this,"onTouchEnd",b=>(m=p.touch,this.handleDragStop(b)))}componentDidMount(){this.mounted=!0;const b=this.findDOMNode();b&&(0,r.addEvent)(b,p.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const b=this.findDOMNode();if(b){const{ownerDocument:v}=b;(0,r.removeEvent)(v,p.mouse.move,this.handleDrag),(0,r.removeEvent)(v,p.touch.move,this.handleDrag),(0,r.removeEvent)(v,p.mouse.stop,this.handleDragStop),(0,r.removeEvent)(v,p.touch.stop,this.handleDragStop),(0,r.removeEvent)(b,p.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.scheduleRemoveUserSelectStyles)(v)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Am.default=g,d(g,"displayName","DraggableCore"),d(g,"propTypes",{allowAnyClick:e.default.bool,allowMobileScroll:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(y,b){if(y[b]&&y[b].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),d(g,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Am}var Qj;function iOe(){return Qj||(Qj=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var e=f(co()),n=h(nb()),r=h(aV()),i=tOe(),o=tN(),l=uZ(),u=TS(),c=h(rOe()),d=h(cZ());function h(v){return v&&v.__esModule?v:{default:v}}function f(v,_){if(typeof WeakMap=="function")var E=new WeakMap,T=new WeakMap;return(f=function(A,w){if(!w&&A&&A.__esModule)return A;var I,C,j={__proto__:null,default:A};if(A===null||typeof A!="object"&&typeof A!="function")return j;if(I=w?T:E){if(I.has(A))return I.get(A);I.set(A,j)}for(const F in A)F!=="default"&&{}.hasOwnProperty.call(A,F)&&((C=(I=Object.defineProperty)&&Object.getOwnPropertyDescriptor(A,F))&&(C.get||C.set)?I(j,F,C):j[F]=A[F]);return j})(v,_)}function p(){return p=Object.assign?Object.assign.bind():function(v){for(var _=1;_<arguments.length;_++){var E=arguments[_];for(var T in E)({}).hasOwnProperty.call(E,T)&&(v[T]=E[T])}return v},p.apply(null,arguments)}function m(v,_,E){return(_=g(_))in v?Object.defineProperty(v,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):v[_]=E,v}function g(v){var _=y(v,"string");return typeof _=="symbol"?_:_+""}function y(v,_){if(typeof v!="object"||!v)return v;var E=v[Symbol.toPrimitive];if(E!==void 0){var T=E.call(v,_);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(v)}class b extends e.Component{static getDerivedStateFromProps(_,E){let{position:T}=_,{prevPropsPosition:A}=E;return T&&(!A||T.x!==A.x||T.y!==A.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:T,prevPropsPosition:A}),{x:T.x,y:T.y,prevPropsPosition:{...T}}):null}constructor(_){super(_),m(this,"onDragStart",(E,T)=>{if((0,d.default)("Draggable: onDragStart: %j",T),this.props.onStart(E,(0,l.createDraggableData)(this,T))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(E,T)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",T);const A=(0,l.createDraggableData)(this,T),w={x:A.x,y:A.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:j}=w;w.x+=this.state.slackX,w.y+=this.state.slackY;const[F,K]=(0,l.getBoundPosition)(this,w.x,w.y);w.x=F,w.y=K,w.slackX=this.state.slackX+(C-w.x),w.slackY=this.state.slackY+(j-w.y),A.x=w.x,A.y=w.y,A.deltaX=w.x-this.state.x,A.deltaY=w.y-this.state.y}if(this.props.onDrag(E,A)===!1)return!1;this.setState(w)}),m(this,"onDragStop",(E,T)=>{if(!this.state.dragging||this.props.onStop(E,(0,l.createDraggableData)(this,T))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",T);const w={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:j}=this.props.position;w.x=C,w.y=j}this.setState(w)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??r.default.findDOMNode(this)}render(){const{axis:_,bounds:E,children:T,defaultPosition:A,defaultClassName:w,defaultClassNameDragging:I,defaultClassNameDragged:C,position:j,positionOffset:F,scale:K,...he}=this.props;let q={},Ee=null;const ge=!!!j||this.state.dragging,Be=j||A,He={x:(0,l.canDragX)(this)&&ge?this.state.x:Be.x,y:(0,l.canDragY)(this)&&ge?this.state.y:Be.y};this.state.isElementSVG?Ee=(0,o.createSVGTransform)(He,F):q=(0,o.createCSSTransform)(He,F);const Ye=(0,i.clsx)(T.props.className||"",w,{[I]:this.state.dragging,[C]:this.state.dragged});return e.createElement(c.default,p({},he,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(T),{className:Ye,style:{...T.props.style,...q},transform:Ee}))}}t.default=b,m(b,"displayName","Draggable"),m(b,"propTypes",{...c.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),m(b,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(bk)),bk}var Zj;function nN(){if(Zj)return wm.exports;Zj=1;const{default:t,DraggableCore:e}=iOe();return wm.exports=t,wm.exports.default=t,wm.exports.DraggableCore=e,wm.exports}var aOe=nN();const Z7e=Na(aOe);var Im={exports:{}},xm={},fv={},Jj;function sOe(){if(Jj)return fv;Jj=1,fv.__esModule=!0,fv.cloneElement=u;var t=e(co());function e(c){return c&&c.__esModule?c:{default:c}}function n(c,d){var h=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);d&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable})),h.push.apply(h,f)}return h}function r(c){for(var d=1;d<arguments.length;d++){var h=arguments[d]!=null?arguments[d]:{};d%2?n(Object(h),!0).forEach(function(f){i(c,f,h[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(h)):n(Object(h)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(h,f))})}return c}function i(c,d,h){return d=o(d),d in c?Object.defineProperty(c,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[d]=h,c}function o(c){var d=l(c,"string");return typeof d=="symbol"?d:String(d)}function l(c,d){if(typeof c!="object"||c===null)return c;var h=c[Symbol.toPrimitive];if(h!==void 0){var f=h.call(c,d);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(c)}function u(c,d){return d.style&&c.props.style&&(d.style=r(r({},c.props.style),d.style)),d.className&&c.props.className&&(d.className=c.props.className+" "+d.className),t.default.cloneElement(c,d)}return fv}var Rm={},eH;function dZ(){if(eH)return Rm;eH=1,Rm.__esModule=!0,Rm.resizableProps=void 0;var t=e(nb());nN();function e(r){return r&&r.__esModule?r:{default:r}}var n={axis:t.default.oneOf(["both","x","y","none"]),className:t.default.string,children:t.default.element.isRequired,draggableOpts:t.default.shape({allowAnyClick:t.default.bool,cancel:t.default.string,children:t.default.node,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:t.default.node,grid:t.default.arrayOf(t.default.number),handle:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number}),height:function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var u=o[0];if(u.axis==="both"||u.axis==="y"){var c;return(c=t.default.number).isRequired.apply(c,o)}return t.default.number.apply(t.default,o)},handle:t.default.oneOfType([t.default.node,t.default.func]),handleSize:t.default.arrayOf(t.default.number),lockAspectRatio:t.default.bool,maxConstraints:t.default.arrayOf(t.default.number),minConstraints:t.default.arrayOf(t.default.number),onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,resizeHandles:t.default.arrayOf(t.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:t.default.number,width:function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var u=o[0];if(u.axis==="both"||u.axis==="x"){var c;return(c=t.default.number).isRequired.apply(c,o)}return t.default.number.apply(t.default,o)}};return Rm.resizableProps=n,Rm}var tH;function fZ(){if(tH)return xm;tH=1,xm.__esModule=!0,xm.default=void 0;var t=l(co()),e=nN(),n=sOe(),r=dZ(),i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function o(v){if(typeof WeakMap!="function")return null;var _=new WeakMap,E=new WeakMap;return(o=function(A){return A?E:_})(v)}function l(v,_){if(v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var E=o(_);if(E&&E.has(v))return E.get(v);var T={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in v)if(w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)){var I=A?Object.getOwnPropertyDescriptor(v,w):null;I&&(I.get||I.set)?Object.defineProperty(T,w,I):T[w]=v[w]}return T.default=v,E&&E.set(v,T),T}function u(){return u=Object.assign?Object.assign.bind():function(v){for(var _=1;_<arguments.length;_++){var E=arguments[_];for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(v[T]=E[T])}return v},u.apply(this,arguments)}function c(v,_){if(v==null)return{};var E={},T=Object.keys(v),A,w;for(w=0;w<T.length;w++)A=T[w],!(_.indexOf(A)>=0)&&(E[A]=v[A]);return E}function d(v,_){var E=Object.keys(v);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(v);_&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(v,A).enumerable})),E.push.apply(E,T)}return E}function h(v){for(var _=1;_<arguments.length;_++){var E=arguments[_]!=null?arguments[_]:{};_%2?d(Object(E),!0).forEach(function(T){f(v,T,E[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(E)):d(Object(E)).forEach(function(T){Object.defineProperty(v,T,Object.getOwnPropertyDescriptor(E,T))})}return v}function f(v,_,E){return _=p(_),_ in v?Object.defineProperty(v,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):v[_]=E,v}function p(v){var _=m(v,"string");return typeof _=="symbol"?_:String(_)}function m(v,_){if(typeof v!="object"||v===null)return v;var E=v[Symbol.toPrimitive];if(E!==void 0){var T=E.call(v,_);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(v)}function g(v,_){v.prototype=Object.create(_.prototype),v.prototype.constructor=v,y(v,_)}function y(v,_){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,A){return T.__proto__=A,T},y(v,_)}var b=(function(v){g(_,v);function _(){for(var T,A=arguments.length,w=new Array(A),I=0;I<A;I++)w[I]=arguments[I];return T=v.call.apply(v,[this].concat(w))||this,T.handleRefs={},T.lastHandleRect=null,T.slack=null,T}var E=_.prototype;return E.componentWillUnmount=function(){this.resetData()},E.resetData=function(){this.lastHandleRect=this.slack=null},E.runConstraints=function(A,w){var I=this.props,C=I.minConstraints,j=I.maxConstraints,F=I.lockAspectRatio;if(!C&&!j&&!F)return[A,w];if(F){var K=this.props.width/this.props.height,he=A-this.props.width,q=w-this.props.height;Math.abs(he)>Math.abs(q*K)?w=A/K:A=w*K}var Ee=A,Te=w,ge=this.slack||[0,0],Be=ge[0],He=ge[1];return A+=Be,w+=He,C&&(A=Math.max(C[0],A),w=Math.max(C[1],w)),j&&(A=Math.min(j[0],A),w=Math.min(j[1],w)),this.slack=[Be+(Ee-A),He+(Te-w)],[A,w]},E.resizeHandler=function(A,w){var I=this;return function(C,j){var F=j.node,K=j.deltaX,he=j.deltaY;A==="onResizeStart"&&I.resetData();var q=(I.props.axis==="both"||I.props.axis==="x")&&w!=="n"&&w!=="s",Ee=(I.props.axis==="both"||I.props.axis==="y")&&w!=="e"&&w!=="w";if(!(!q&&!Ee)){var Te=w[0],ge=w[w.length-1],Be=F.getBoundingClientRect();if(I.lastHandleRect!=null){if(ge==="w"){var He=Be.left-I.lastHandleRect.left;K+=He}if(Te==="n"){var Ye=Be.top-I.lastHandleRect.top;he+=Ye}}I.lastHandleRect=Be,ge==="w"&&(K=-K),Te==="n"&&(he=-he);var Ie=I.props.width+(q?K/I.props.transformScale:0),we=I.props.height+(Ee?he/I.props.transformScale:0),je=I.runConstraints(Ie,we);Ie=je[0],we=je[1];var Ce=Ie!==I.props.width||we!==I.props.height,dt=typeof I.props[A]=="function"?I.props[A]:null,Le=A==="onResize"&&!Ce;dt&&!Le&&(C.persist==null||C.persist(),dt(C,{node:F,size:{width:Ie,height:we},handle:w})),A==="onResizeStop"&&I.resetData()}}},E.renderResizeHandle=function(A,w){var I=this.props.handle;if(!I)return t.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+A,ref:w});if(typeof I=="function")return I(A,w);var C=typeof I.type=="string",j=h({ref:w},C?{}:{handleAxis:A});return t.cloneElement(I,j)},E.render=function(){var A=this,w=this.props,I=w.children,C=w.className,j=w.draggableOpts;w.width,w.height,w.handle,w.handleSize,w.lockAspectRatio,w.axis,w.minConstraints,w.maxConstraints,w.onResize,w.onResizeStop,w.onResizeStart;var F=w.resizeHandles;w.transformScale;var K=c(w,i);return(0,n.cloneElement)(I,h(h({},K),{},{className:(C?C+" ":"")+"react-resizable",children:[].concat(I.props.children,F.map(function(he){var q,Ee=(q=A.handleRefs[he])!=null?q:A.handleRefs[he]=t.createRef();return t.createElement(e.DraggableCore,u({},j,{nodeRef:Ee,key:"resizableHandle-"+he,onStop:A.resizeHandler("onResizeStop",he),onStart:A.resizeHandler("onResizeStart",he),onDrag:A.resizeHandler("onResize",he)}),A.renderResizeHandle(he,Ee))}))}))},_})(t.Component);return xm.default=b,b.propTypes=r.resizableProps,b.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},xm}var km={},nH;function oOe(){if(nH)return km;nH=1,km.__esModule=!0,km.default=void 0;var t=u(co()),e=o(nb()),n=o(fZ()),r=dZ(),i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function o(_){return _&&_.__esModule?_:{default:_}}function l(_){if(typeof WeakMap!="function")return null;var E=new WeakMap,T=new WeakMap;return(l=function(w){return w?T:E})(_)}function u(_,E){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var T=l(E);if(T&&T.has(_))return T.get(_);var A={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in _)if(I!=="default"&&Object.prototype.hasOwnProperty.call(_,I)){var C=w?Object.getOwnPropertyDescriptor(_,I):null;C&&(C.get||C.set)?Object.defineProperty(A,I,C):A[I]=_[I]}return A.default=_,T&&T.set(_,A),A}function c(){return c=Object.assign?Object.assign.bind():function(_){for(var E=1;E<arguments.length;E++){var T=arguments[E];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(_[A]=T[A])}return _},c.apply(this,arguments)}function d(_,E){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(_);E&&(A=A.filter(function(w){return Object.getOwnPropertyDescriptor(_,w).enumerable})),T.push.apply(T,A)}return T}function h(_){for(var E=1;E<arguments.length;E++){var T=arguments[E]!=null?arguments[E]:{};E%2?d(Object(T),!0).forEach(function(A){f(_,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):d(Object(T)).forEach(function(A){Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(T,A))})}return _}function f(_,E,T){return E=p(E),E in _?Object.defineProperty(_,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[E]=T,_}function p(_){var E=m(_,"string");return typeof E=="symbol"?E:String(E)}function m(_,E){if(typeof _!="object"||_===null)return _;var T=_[Symbol.toPrimitive];if(T!==void 0){var A=T.call(_,E);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(_)}function g(_,E){if(_==null)return{};var T={},A=Object.keys(_),w,I;for(I=0;I<A.length;I++)w=A[I],!(E.indexOf(w)>=0)&&(T[w]=_[w]);return T}function y(_,E){_.prototype=Object.create(E.prototype),_.prototype.constructor=_,b(_,E)}function b(_,E){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,w){return A.__proto__=w,A},b(_,E)}var v=(function(_){y(E,_);function E(){for(var A,w=arguments.length,I=new Array(w),C=0;C<w;C++)I[C]=arguments[C];return A=_.call.apply(_,[this].concat(I))||this,A.state={width:A.props.width,height:A.props.height,propsWidth:A.props.width,propsHeight:A.props.height},A.onResize=function(j,F){var K=F.size;A.props.onResize?(j.persist==null||j.persist(),A.setState(K,function(){return A.props.onResize&&A.props.onResize(j,F)})):A.setState(K)},A}E.getDerivedStateFromProps=function(w,I){return I.propsWidth!==w.width||I.propsHeight!==w.height?{width:w.width,height:w.height,propsWidth:w.width,propsHeight:w.height}:null};var T=E.prototype;return T.render=function(){var w=this.props,I=w.handle,C=w.handleSize;w.onResize;var j=w.onResizeStart,F=w.onResizeStop,K=w.draggableOpts,he=w.minConstraints,q=w.maxConstraints,Ee=w.lockAspectRatio,Te=w.axis;w.width,w.height;var ge=w.resizeHandles,Be=w.style,He=w.transformScale,Ye=g(w,i);return t.createElement(n.default,{axis:Te,draggableOpts:K,handle:I,handleSize:C,height:this.state.height,lockAspectRatio:Ee,maxConstraints:q,minConstraints:he,onResizeStart:j,onResize:this.onResize,onResizeStop:F,resizeHandles:ge,transformScale:He,width:this.state.width},t.createElement("div",c({},Ye,{style:h(h({},Be),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},E})(t.Component);return km.default=v,v.propTypes=h(h({},r.resizableProps),{},{children:e.default.element}),km}var rH;function lOe(){return rH||(rH=1,Im.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Im.exports.Resizable=fZ().default,Im.exports.ResizableBox=oOe().default),Im.exports}var J7e=lOe();const hZ=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,iH=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,aH=/\.(m3u8)($|\?)/i,uOe=/\.(mpd)($|\?)/i,cOe=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,dOe=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,fOe=/vimeo\.com\/(?!progressive_redirect).+/,hOe=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,pOe=/open\.spotify\.com\/(\w+)\/(\w+)/i,mOe=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,gOe=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,Mg=(t,e)=>{if(Array.isArray(t)){for(const n of t)if(typeof n=="string"&&Mg(n,e)||Mg(n.src,e))return!0;return!1}return e(t)},el={html:t=>Mg(t,e=>hZ.test(e)||iH.test(e)),hls:t=>Mg(t,e=>aH.test(e)),dash:t=>Mg(t,e=>uOe.test(e)),mux:t=>cOe.test(t),youtube:t=>dOe.test(t),vimeo:t=>fOe.test(t)&&!iH.test(t)&&!aH.test(t),wistia:t=>hOe.test(t),spotify:t=>pOe.test(t),twitch:t=>mOe.test(t),tiktok:t=>gOe.test(t)},yOe=Me.forwardRef((t,e)=>{const n=hZ.test(`${t.src}`)?"audio":"video";return Me.createElement(n,{...t,ref:e},t.children)});var bOe=yOe;const vOe=[{key:"hls",name:"hls.js",canPlay:el.hls,canEnablePIP:()=>!0,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>D3e),void 0,import.meta.url))},{key:"dash",name:"dash.js",canPlay:el.dash,canEnablePIP:()=>!0,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>$3e),void 0,import.meta.url))},{key:"mux",name:"Mux",canPlay:el.mux,canEnablePIP:()=>!0,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>Qje),void 0,import.meta.url))},{key:"youtube",name:"YouTube",canPlay:el.youtube,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>gHe),void 0,import.meta.url))},{key:"vimeo",name:"Vimeo",canPlay:el.vimeo,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>ZHe),void 0,import.meta.url))},{key:"wistia",name:"Wistia",canPlay:el.wistia,canEnablePIP:()=>!0,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>u9e),void 0,import.meta.url))},{key:"spotify",name:"Spotify",canPlay:el.spotify,canEnablePIP:()=>!1,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>w9e),void 0,import.meta.url))},{key:"twitch",name:"Twitch",canPlay:el.twitch,canEnablePIP:()=>!1,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>N9e),void 0,import.meta.url))},{key:"tiktok",name:"TikTok",canPlay:el.tiktok,canEnablePIP:()=>!1,player:Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>Y9e),void 0,import.meta.url))},{key:"html",name:"html",canPlay:el.html,canEnablePIP:()=>!0,player:bOe}];var PD=vOe;const EOe={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},pZ=Me.forwardRef((t,e)=>{const{playing:n,pip:r}=t,i=t.activePlayer,o=Bt.useRef(null),l=Bt.useRef(!0);Bt.useEffect(()=>{var f,p;o.current&&(o.current.paused&&n===!0&&o.current.play(),!o.current.paused&&n===!1&&o.current.pause(),o.current.playbackRate=(f=t.playbackRate)!=null?f:1,o.current.volume=(p=t.volume)!=null?p:1)}),Bt.useEffect(()=>{var f,p,m,g,y;if(!(!o.current||!globalThis.document)){if(r&&!document.pictureInPictureElement)try{(p=(f=o.current).requestPictureInPicture)==null||p.call(f)}catch{}if(!r&&document.pictureInPictureElement)try{(g=(m=o.current).exitPictureInPicture)==null||g.call(m),(y=document.exitPictureInPicture)==null||y.call(document)}catch{}}},[r]);const u=f=>{var p,m;l.current=!0,(p=t.onReady)==null||p.call(t),(m=t.onLoadStart)==null||m.call(t,f)},c=f=>{var p,m;l.current&&(l.current=!1,(p=t.onStart)==null||p.call(t,f)),(m=t.onPlay)==null||m.call(t,f)};if(!i)return null;const d={},h=["onReady","onStart"];for(const f in t)f.startsWith("on")&&!h.includes(f)&&(d[f]=t[f]);return Me.createElement(i,{...d,style:t.style,className:t.className,slot:t.slot,ref:Bt.useCallback(f=>{o.current=f,typeof e=="function"?e(f):e!==null&&(e.current=f)},[e]),src:t.src,crossOrigin:t.crossOrigin,preload:t.preload,controls:t.controls,muted:t.muted,autoPlay:t.autoPlay,loop:t.loop,playsInline:t.playsInline,disableRemotePlayback:t.disableRemotePlayback,config:t.config,onLoadStart:u,onPlay:c},t.children)});pZ.displayName="Player";var _Oe=pZ;const TOe=Bt.lazy(()=>Ys(()=>Promise.resolve().then(()=>Z9e),void 0,import.meta.url)),Cm=[],SOe=(t,e)=>{const n=i=>{for(const o of[...Cm,...t])if(i&&o.canPlay(i))return o;return e||null},r=Me.forwardRef((i,o)=>{const l={...EOe,...i},{src:u,slot:c,className:d,style:h,width:f,height:p,fallback:m,wrapper:g}=l,[y,b]=Bt.useState(!!l.light);Bt.useEffect(()=>{l.light?b(!0):b(!1)},[l.light]);const v=w=>{var I;b(!1),(I=l.onClickPreview)==null||I.call(l,w)},_=w=>{if(!w)return null;const{light:I,playIcon:C,previewTabIndex:j,oEmbedUrl:F,previewAriaLabel:K}=l;return Me.createElement(TOe,{src:w,light:I,playIcon:C,previewTabIndex:j,previewAriaLabel:K,oEmbedUrl:F,onClickPreview:v})},E=w=>{var I,C;const j=n(w);if(!j)return null;const{style:F,width:K,height:he,wrapper:q}=l,Ee=(I=l.config)==null?void 0:I[j.key];return Me.createElement(_Oe,{...l,ref:o,activePlayer:(C=j.player)!=null?C:j,slot:q?void 0:c,className:q?void 0:d,style:q?{display:"block",width:"100%",height:"100%"}:{display:"block",width:K,height:he,...F},config:Ee})},T=g??sH,A=m===!1?sH:Bt.Suspense;return Me.createElement(T,{slot:c,className:d,style:{width:f,height:p,...h}},Me.createElement(A,{fallback:m},y?_(u):E(u)))});return r.displayName="ReactPlayer",r.addCustomPlayer=i=>{Cm.push(i)},r.removeCustomPlayers=()=>{Cm.length=0},r.canPlay=i=>{if(i){for(const o of[...Cm,...t])if(o.canPlay(i))return!0}return!1},r.canEnablePIP=i=>{var o;if(i){for(const l of[...Cm,...t])if(l.canPlay(i)&&((o=l.canEnablePIP)!=null&&o.call(l)))return!0}return!1},r},sH=({children:t})=>t,wOe=PD[PD.length-1];var AOe=SOe(PD,wOe);const eVe=Object.freeze(Object.defineProperty({__proto__:null,default:AOe},Symbol.toStringTag,{value:"Module"}));function tVe(t,e){if(t==null)return{};var n,r,i=bCe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function OD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function IOe(t){if(Array.isArray(t))return OD(t)}function xOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ROe(t,e){if(t){if(typeof t=="string")return OD(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OD(t,e):void 0}}function kOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nVe(t){return IOe(t)||xOe(t)||ROe(t)||kOe()}function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function COe(t,e){if(_y(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DOe(t){var e=COe(t,"string");return _y(e)=="symbol"?e:e+""}function rVe(t,e,n){return(e=DOe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const oH=/[#.]/g;function LOe(t,e){const n=t||"",r={};let i=0,o,l;for(;i<n.length;){oH.lastIndex=i;const u=oH.exec(n),c=n.slice(i,u?u.index:n.length);c&&(o?o==="#"?r.id=c:Array.isArray(r.className)?r.className.push(c):r.className=[c]:l=c,i+=c.length),u&&(o=u[0],i++)}return{type:"element",tagName:l||e||"div",properties:r,children:[]}}function mZ(t,e,n){const r=n?NOe(n):void 0;function i(o,l,...u){let c;if(o==null){c={type:"root",children:[]};const d=l;u.unshift(d)}else{c=LOe(o,e);const d=c.tagName.toLowerCase(),h=r?r.get(d):void 0;if(c.tagName=h||d,POe(l))u.unshift(l);else for(const[f,p]of Object.entries(l))OOe(t,c.properties,f,p)}for(const d of u)MD(c.children,d);return c.type==="element"&&c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}return i}function POe(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const o=i;for(const l of o)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function OOe(t,e,n,r){const i=aX(t,n);let o;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;o=r}else typeof r=="boolean"?o=r:typeof r=="string"?i.spaceSeparated?o=L6(r):i.commaSeparated?o=x6(r):i.commaOrSpaceSeparated?o=L6(x6(r).join(" ")):o=lH(i,i.property,r):Array.isArray(r)?o=[...r]:o=i.property==="style"?MOe(r):String(r);if(Array.isArray(o)){const l=[];for(const u of o)l.push(lH(i,i.property,u));o=l}i.property==="className"&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function MD(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)MD(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?MD(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function lH(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||py(n)===py(e)))return!0}return n}function MOe(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function NOe(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const FOe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],UOe=mZ(sX,"div");mZ(lS,"g",FOe);const BOe=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],uH={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function gZ(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function zOe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function $Oe(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function cH(t){return $Oe(t)||gZ(t)}const qOe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function jOe(t,e){const n={},r=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,i=[];let o=0,l=-1,u="",c,d;n.position&&("start"in n.position||"indent"in n.position?(d=n.position.indent,c=n.position.start):c=n.position);let h=(c?c.line:0)||1,f=(c?c.column:0)||1,p=g(),m;for(o--;++o<=t.length;)if(m===10&&(f=(d?d[l]:0)||1),m=t.charCodeAt(o),m===38){const v=t.charCodeAt(o+1);if(v===9||v===10||v===12||v===32||v===38||v===60||Number.isNaN(v)||r&&v===r){u+=String.fromCharCode(m),f++;continue}const _=o+1;let E=_,T=_,A;if(v===35){T=++E;const q=t.charCodeAt(T);q===88||q===120?(A="hexadecimal",T=++E):A="decimal"}else A="named";let w="",I="",C="";const j=A==="named"?cH:A==="decimal"?gZ:zOe;for(T--;++T<=t.length;){const q=t.charCodeAt(T);if(!j(q))break;C+=String.fromCharCode(q),A==="named"&&BOe.includes(C)&&(w=C,I=gy(C))}let F=t.charCodeAt(T)===59;if(F){T++;const q=A==="named"?gy(C):!1;q&&(w=C,I=q)}let K=1+T-_,he="";if(!(!F&&n.nonTerminated===!1))if(!C)A!=="named"&&y(4,K);else if(A==="named"){if(F&&!I)y(5,1);else if(w!==C&&(T=E+w.length,K=1+T-E,F=!1),!F){const q=w?1:3;if(n.attribute){const Ee=t.charCodeAt(T);Ee===61?(y(q,K),I=""):cH(Ee)?I="":y(q,K)}else y(q,K)}he=I}else{F||y(2,K);let q=Number.parseInt(C,A==="hexadecimal"?16:10);if(HOe(q))y(7,K),he="";else if(q in uH)y(6,K),he=uH[q];else{let Ee="";GOe(q)&&y(6,K),q>65535&&(q-=65536,Ee+=String.fromCharCode(q>>>10|55296),q=56320|q&1023),he=Ee+String.fromCharCode(q)}}if(he){b(),p=g(),o=T-1,f+=T-_+1,i.push(he);const q=g();q.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,he,{start:p,end:q},t.slice(_-1,T)),p=q}else C=t.slice(_-1,T),u+=C,f+=C.length,o=T-1}else m===10&&(h++,l++,f=0),Number.isNaN(m)?b():(u+=String.fromCharCode(m),f++);return i.join("");function g(){return{line:h,column:f,offset:o+((c?c.offset:0)||0)}}function y(v,_){let E;n.warning&&(E=g(),E.column+=_,E.offset+=_,n.warning.call(n.warningContext||void 0,qOe[v],E,v))}function b(){u&&(i.push(u),n.text&&n.text.call(n.textContext||void 0,u,{start:p,end:g()}),u="")}}function HOe(t){return t>=55296&&t<=57343||t>1114111}function GOe(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}var VOe=0,hv={},da={util:{type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++VOe}),t.__id},clone:function t(e,n){n=n||{};var r,i;switch(da.util.type(e)){case"Object":if(i=da.util.objId(e),n[i])return n[i];r={},n[i]=r;for(var o in e)e.hasOwnProperty(o)&&(r[o]=t(e[o],n));return r;case"Array":return i=da.util.objId(e),n[i]?n[i]:(r=[],n[i]=r,e.forEach(function(l,u){r[u]=t(l,n)}),r);default:return e}}},languages:{plain:hv,plaintext:hv,text:hv,txt:hv,extend:function(t,e){var n=da.util.clone(da.languages[t]);for(var r in e)n[r]=e[r];return n},insertBefore:function(t,e,n,r){r=r||da.languages;var i=r[t],o={};for(var l in i)if(i.hasOwnProperty(l)){if(l==e)for(var u in n)n.hasOwnProperty(u)&&(o[u]=n[u]);n.hasOwnProperty(l)||(o[l]=i[l])}var c=r[t];return r[t]=o,da.languages.DFS(da.languages,function(d,h){h===c&&d!=t&&(this[d]=o)}),o},DFS:function t(e,n,r,i){i=i||{};var o=da.util.objId;for(var l in e)if(e.hasOwnProperty(l)){n.call(e,l,e[l],r||l);var u=e[l],c=da.util.type(u);c==="Object"&&!i[o(u)]?(i[o(u)]=!0,t(u,n,null,i)):c==="Array"&&!i[o(u)]&&(i[o(u)]=!0,t(u,n,l,i))}}},plugins:{},highlight:function(t,e,n){var r={code:t,grammar:e,language:n};if(da.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=da.tokenize(r.code,r.grammar),da.hooks.run("after-tokenize",r),Ng.stringify(da.util.encode(r.tokens),r.language)},tokenize:function(t,e){var n=e.rest;if(n){for(var r in n)e[r]=n[r];delete e.rest}var i=new KOe;return n0(i,i.head,t),yZ(t,i,e,i.head,0),YOe(i)},hooks:{all:{},add:function(t,e){var n=da.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=da.hooks.all[t];if(!(!n||!n.length))for(var r=0,i;i=n[r++];)i(e)}},Token:Ng};function Ng(t,e,n,r){this.type=t,this.content=e,this.alias=n,this.length=(r||"").length|0}function dH(t,e,n,r){t.lastIndex=e;var i=t.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function yZ(t,e,n,r,i,o){for(var l in n)if(!(!n.hasOwnProperty(l)||!n[l])){var u=n[l];u=Array.isArray(u)?u:[u];for(var c=0;c<u.length;++c){if(o&&o.cause==l+","+c)return;var d=u[c],h=d.inside,f=!!d.lookbehind,p=!!d.greedy,m=d.alias;if(p&&!d.pattern.global){var g=d.pattern.toString().match(/[imsuy]*$/)[0];d.pattern=RegExp(d.pattern.source,g+"g")}for(var y=d.pattern||d,b=r.next,v=i;b!==e.tail&&!(o&&v>=o.reach);v+=b.value.length,b=b.next){var _=b.value;if(e.length>t.length)return;if(!(_ instanceof Ng)){var E=1,T;if(p){if(T=dH(y,v,t,f),!T||T.index>=t.length)break;var C=T.index,A=T.index+T[0].length,w=v;for(w+=b.value.length;C>=w;)b=b.next,w+=b.value.length;if(w-=b.value.length,v=w,b.value instanceof Ng)continue;for(var I=b;I!==e.tail&&(w<A||typeof I.value=="string");I=I.next)E++,w+=I.value.length;E--,_=t.slice(v,w),T.index-=v}else if(T=dH(y,0,_,f),!T)continue;var C=T.index,j=T[0],F=_.slice(0,C),K=_.slice(C+j.length),he=v+_.length;o&&he>o.reach&&(o.reach=he);var q=b.prev;F&&(q=n0(e,q,F),v+=F.length),WOe(e,q,E);var Ee=new Ng(l,h?da.tokenize(j,h):j,m,j);if(b=n0(e,q,Ee),K&&n0(e,b,K),E>1){var Te={cause:l+","+c,reach:he};yZ(t,e,n,b.prev,v,Te),o&&Te.reach>o.reach&&(o.reach=Te.reach)}}}}}}function KOe(){var t={value:null,prev:null,next:null},e={value:null,prev:t,next:null};t.next=e,this.head=t,this.tail=e,this.length=0}function n0(t,e,n){var r=e.next,i={value:n,prev:e,next:r};return e.next=i,r.prev=i,t.length++,i}function WOe(t,e,n){for(var r=e.next,i=0;i<n&&r!==t.tail;i++)r=r.next;e.next=r,r.prev=e,t.length-=i}function YOe(t){for(var e=[],n=t.head.next;n!==t.tail;)e.push(n.value),n=n.next;return e}const bZ=da;function vZ(){}vZ.prototype=bZ;const Ma=new vZ;Ma.highlight=XOe;Ma.register=QOe;Ma.alias=ZOe;Ma.registered=JOe;Ma.listLanguages=eMe;Ma.util.encode=tMe;Ma.Token.stringify=ND;function XOe(t,e){if(typeof t!="string")throw new TypeError("Expected `string` for `value`, got `"+t+"`");let n,r;if(e&&typeof e=="object")n=e;else{if(r=e,typeof r!="string")throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(Object.hasOwn(Ma.languages,r))n=Ma.languages[r];else throw new Error("Unknown language: `"+r+"` is not registered")}return{type:"root",children:bZ.highlight.call(Ma,t,n,r)}}function QOe(t){if(typeof t!="function"||!t.displayName)throw new Error("Expected `function` for `syntax`, got `"+t+"`");Object.hasOwn(Ma.languages,t.displayName)||t(Ma)}function ZOe(t,e){const n=Ma.languages;let r={};typeof t=="string"?e&&(r[t]=e):r=t;let i;for(i in r)if(Object.hasOwn(r,i)){const o=r[i],l=typeof o=="string"?[o]:o;let u=-1;for(;++u<l.length;)n[l[u]]=n[i]}}function JOe(t){if(typeof t!="string")throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+t+"`");return Object.hasOwn(Ma.languages,t)}function eMe(){const t=Ma.languages,e=[];let n;for(n in t)Object.hasOwn(t,n)&&typeof t[n]=="object"&&e.push(n);return e}function ND(t,e){if(typeof t=="string")return{type:"text",value:t};if(Array.isArray(t)){const r=[];let i=-1;for(;++i<t.length;)t[i]!==null&&t[i]!==void 0&&t[i]!==""&&r.push(ND(t[i],e));return r}const n={attributes:{},classes:["token",t.type],content:ND(t.content,e),language:e,tag:"span",type:t.type};return t.alias&&n.classes.push(...typeof t.alias=="string"?[t.alias]:t.alias),Ma.hooks.run("wrap",n),UOe(n.tag+"."+n.classes.join("."),nMe(n.attributes),n.content)}function tMe(t){return t}function nMe(t){let e;for(e in t)Object.hasOwn(t,e)&&(t[e]=jOe(t[e]));return t}rN.displayName="markup";rN.aliases=["atom","html","mathml","rss","ssml","svg","xml"];function rN(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};o["language-"+r]={pattern:/[\s\S]+/,inside:t.languages[r]};var l={};l[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}EZ.displayName="css";EZ.aliases=[];function EZ(t){(function(e){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+n.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(t)}Pc.displayName="clike";Pc.aliases=[];function Pc(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}iN.displayName="javascript";iN.aliases=["js"];function iN(t){t.register(Pc),t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}_Z.displayName="sql";_Z.aliases=[];function _Z(t){t.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}aN.displayName="c";aN.aliases=[];function aN(t){t.register(Pc),t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean}TZ.displayName="cpp";TZ.aliases=[];function TZ(t){t.register(aN),(function(e){var n=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return n.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:n,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])})(t)}SZ.displayName="bash";SZ.aliases=["sh","shell"];function SZ(t){(function(e){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=e.languages.bash;for(var o=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],l=i.variable[1].inside,u=0;u<o.length;u++)l[o[u]]=e.languages.bash[o[u]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash})(t)}wZ.displayName="yaml";wZ.aliases=["yml"];function wZ(t){(function(e){var n=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,i="(?:"+r.source+"(?:[ 	]+"+n.source+")?|"+n.source+"(?:[ 	]+"+r.source+")?)",o=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),l=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function u(c,d){d=(d||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<value>>/g,function(){return c});return RegExp(h,d)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return i})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<key>>/g,function(){return"(?:"+o+"|"+l+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:u(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:u(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:u(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:u(l),lookbehind:!0,greedy:!0},number:{pattern:u(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:n,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml})(t)}AZ.displayName="csharp";AZ.aliases=["cs","dotnet"];function AZ(t){t.register(Pc),(function(e){function n(Ie,we){return Ie.replace(/<<(\d+)>>/g,function(je,Ce){return"(?:"+we[+Ce]+")"})}function r(Ie,we,je){return RegExp(n(Ie,we),"")}function i(Ie,we){for(var je=0;je<we;je++)Ie=Ie.replace(/<<self>>/g,function(){return"(?:"+Ie+")"});return Ie.replace(/<<self>>/g,"[^\\s\\S]")}var o={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function l(Ie){return"\\b(?:"+Ie.trim().replace(/ /g,"|")+")\\b"}var u=l(o.typeDeclaration),c=RegExp(l(o.type+" "+o.typeDeclaration+" "+o.contextual+" "+o.other)),d=l(o.typeDeclaration+" "+o.contextual+" "+o.other),h=l(o.type+" "+o.typeDeclaration+" "+o.other),f=i(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),p=i(/\((?:[^()]|<<self>>)*\)/.source,2),m=/@?\b[A-Za-z_]\w*\b/.source,g=n(/<<0>>(?:\s*<<1>>)?/.source,[m,f]),y=n(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,g]),b=/\[\s*(?:,\s*)*\]/.source,v=n(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[y,b]),_=n(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,p,b]),E=n(/\(<<0>>+(?:,<<0>>+)+\)/.source,[_]),T=n(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[E,y,b]),A={keyword:c,punctuation:/[<>()?,.:[\]]/},w=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,I=/"(?:\\.|[^\\"\r\n])*"/.source,C=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[C]),lookbehind:!0,greedy:!0},{pattern:r(/(^|[^@$\\])<<0>>/.source,[I]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[y]),lookbehind:!0,inside:A},{pattern:r(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[m,T]),lookbehind:!0,inside:A},{pattern:r(/(\busing\s+)<<0>>(?=\s*=)/.source,[m]),lookbehind:!0},{pattern:r(/(\b<<0>>\s+)<<1>>/.source,[u,g]),lookbehind:!0,inside:A},{pattern:r(/(\bcatch\s*\(\s*)<<0>>/.source,[y]),lookbehind:!0,inside:A},{pattern:r(/(\bwhere\s+)<<0>>/.source,[m]),lookbehind:!0},{pattern:r(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:A},{pattern:r(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[T,h,m]),inside:A}],keyword:c,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:r(/([(,]\s*)<<0>>(?=\s*:)/.source,[m]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:r(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[m]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:r(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[p]),lookbehind:!0,alias:"class-name",inside:A},"return-type":{pattern:r(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[T,y]),inside:A,alias:"class-name"},"constructor-invocation":{pattern:r(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[T]),lookbehind:!0,inside:A,alias:"class-name"},"generic-method":{pattern:r(/<<0>>\s*<<1>>(?=\s*\()/.source,[m,f]),inside:{function:r(/^<<0>>/.source,[m]),generic:{pattern:RegExp(f),alias:"class-name",inside:A}}},"type-list":{pattern:r(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[u,g,m,T,c.source,p,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:r(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[g,p]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:c,"class-name":{pattern:RegExp(T),greedy:!0,inside:A},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var j=I+"|"+w,F=n(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[j]),K=i(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[F]),2),he=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,q=n(/<<0>>(?:\s*\(<<1>>*\))?/.source,[y,K]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:r(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[he,q]),lookbehind:!0,greedy:!0,inside:{target:{pattern:r(/^<<0>>(?=\s*:)/.source,[he]),alias:"keyword"},"attribute-arguments":{pattern:r(/\(<<0>>*\)/.source,[K]),inside:e.languages.csharp},"class-name":{pattern:RegExp(y),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Ee=/:[^}\r\n]+/.source,Te=i(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[F]),2),ge=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Te,Ee]),Be=i(n(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[j]),2),He=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Be,Ee]);function Ye(Ie,we){return{interpolation:{pattern:r(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Ie]),lookbehind:!0,inside:{"format-string":{pattern:r(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[we,Ee]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:r(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[ge]),lookbehind:!0,greedy:!0,inside:Ye(ge,Te)},{pattern:r(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[He]),lookbehind:!0,greedy:!0,inside:Ye(He,Be)}],char:{pattern:RegExp(w),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp})(t)}IZ.displayName="ruby";IZ.aliases=["rb"];function IZ(t){t.register(Pc),(function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var n={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var r="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",i=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+r+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+i),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+i+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+r),greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+r),greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby})(t)}sN.displayName="markup-templating";sN.aliases=[];function sN(t){t.register(rN),(function(e){function n(r,i){return"___"+r.toUpperCase()+i+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,i,o,l){if(r.language===i){var u=r.tokenStack=[];r.code=r.code.replace(o,function(c){if(typeof l=="function"&&!l(c))return c;for(var d=u.length,h;r.code.indexOf(h=n(i,d))!==-1;)++d;return u[d]=c,h}),r.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(r,i){if(r.language!==i||!r.tokenStack)return;r.grammar=e.languages[i];var o=0,l=Object.keys(r.tokenStack);function u(c){for(var d=0;d<c.length&&!(o>=l.length);d++){var h=c[d];if(typeof h=="string"||h.content&&typeof h.content=="string"){var f=l[o],p=r.tokenStack[f],m=typeof h=="string"?h:h.content,g=n(i,f),y=m.indexOf(g);if(y>-1){++o;var b=m.substring(0,y),v=new e.Token(i,e.tokenize(p,r.grammar),"language-"+i,p),_=m.substring(y+g.length),E=[];b&&E.push.apply(E,u([b])),E.push(v),_&&E.push.apply(E,u([_])),typeof h=="string"?c.splice.apply(c,[d,1].concat(E)):h.content=E}}else h.content&&u(h.content)}return c}u(r.tokens)}}})})(t)}xZ.displayName="go";xZ.aliases=[];function xZ(t){t.register(Pc),t.languages.go=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),t.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete t.languages.go["class-name"]}RZ.displayName="json";RZ.aliases=["webmanifest"];function RZ(t){t.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},t.languages.webmanifest=t.languages.json}kZ.displayName="java";kZ.aliases=[];function kZ(t){t.register(Pc),(function(e){var n=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:i.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:i.inside}],keyword:n,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(t)}CZ.displayName="php";CZ.aliases=[];function CZ(t){t.register(sN),(function(e){var n=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,r=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],i=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,l=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:n,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:i,operator:o,punctuation:l};var u={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},c=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:u}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:u}}];e.languages.insertBefore("php","variable",{string:c,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:n,string:c,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,number:i,operator:o,punctuation:l}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(d){if(/<\?/.test(d.code)){var h=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;e.languages["markup-templating"].buildPlaceholders(d,"php",h)}}),e.hooks.add("after-tokenize",function(d){e.languages["markup-templating"].tokenizePlaceholders(d,"php")})})(t)}DZ.displayName="typescript";DZ.aliases=["ts"];function DZ(t){t.register(iN),(function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var n=e.languages.extend("typescript",{});delete n["class-name"],e.languages.typescript["class-name"].inside=n,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),e.languages.ts=e.languages.typescript})(t)}LZ.displayName="python";LZ.aliases=["py"];function LZ(t){t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python}PZ.displayName="rust";PZ.aliases=[];function PZ(t){(function(e){for(var n=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+n),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string})(t)}OZ.displayName="swift";OZ.aliases=[];function OZ(t){t.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},t.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=t.languages.swift})}const rMe=kT("PushNotifications",{}),iVe=Object.freeze(Object.defineProperty({__proto__:null,PushNotifications:rMe},Symbol.toStringTag,{value:"Module"})),iMe=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],MZ=["autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"];function aMe(t){return`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media">
      <audio${FZ(t)}></audio>
    </slot>
    <slot></slot>
  `}function sMe(t){return`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media">
      <video${FZ(t)}></video>
    </slot>
    <slot></slot>
  `}function NZ(t,{tag:e,is:n}){const r=globalThis.document?.createElement?.(e,{is:n}),i=r?oMe(r):[];return class FD extends t{static getTemplateHTML=e.endsWith("audio")?aMe:sMe;static shadowRootOptions={mode:"open"};static Events=iMe;static#e=!1;static get observedAttributes(){return FD.#i(),[...r?.constructor?.observedAttributes??[],...MZ]}static#i(){if(this.#e)return;this.#e=!0;const l=new Set(this.observedAttributes);l.delete("muted");for(const u of i)if(!(u in this.prototype))if(typeof r[u]=="function")this.prototype[u]=function(...c){return this.#a(),this.call?this.call(u,...c):this.nativeEl?.[u]?.apply(this.nativeEl,c)};else{const c={get(){this.#a();const d=u.toLowerCase();if(l.has(d)){const h=this.getAttribute(d);return h===null?!1:h===""?!0:h}return this.get?.(u)??this.nativeEl?.[u]}};u!==u.toUpperCase()&&(c.set=function(d){this.#a();const h=u.toLowerCase();if(l.has(h)){d===!0||d===!1||d==null?this.toggleAttribute(h,!!d):this.setAttribute(h,d);return}if(this.set){this.set(u,d);return}this.nativeEl&&(this.nativeEl[u]=d)}),Object.defineProperty(this.prototype,u,c)}}#r=!1;#t=null;#n=new Map;#o;get;set;call;get nativeEl(){return this.#a(),this.#t??this.querySelector(":scope > [slot=media]")??this.querySelector(e)??this.shadowRoot?.querySelector(e)??null}set nativeEl(l){this.#t=l}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(l){this.toggleAttribute("muted",l)}get src(){return this.getAttribute("src")}set src(l){this.setAttribute("src",`${l}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(l){this.setAttribute("preload",`${l}`)}#a(){this.#r||(this.#r=!0,this.init())}init(){if(!this.shadowRoot){this.attachShadow({mode:"open"});const l=lMe(this.attributes);n&&(l.is=n),e&&(l.part=e),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(l)}this.nativeEl.muted=this.hasAttribute("muted");for(const l of i)this.#c(l);this.#o=new MutationObserver(this.#s.bind(this)),this.shadowRoot.addEventListener("slotchange",()=>this.#l()),this.#l();for(const l of this.constructor.Events)this.shadowRoot.addEventListener(l,this,!0)}handleEvent(l){l.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(l.type,{detail:l.detail}))}#l(){const l=new Map(this.#n);(this.shadowRoot?.querySelector("slot:not([name])")?.assignedElements({flatten:!0}).filter(d=>["track","source"].includes(d.localName))).forEach(d=>{l.delete(d);let h=this.#n.get(d);h||(h=d.cloneNode(),this.#n.set(d,h),this.#o?.observe(d,{attributes:!0})),this.nativeEl?.append(h),this.#u(h)}),l.forEach((d,h)=>{d.remove(),this.#n.delete(h)})}#s(l){for(const u of l)if(u.type==="attributes"){const{target:c,attributeName:d}=u,h=this.#n.get(c);h&&d&&(h.setAttribute(d,c.getAttribute(d)??""),this.#u(h))}}#u(l){l&&l.localName==="track"&&l.default&&(l.kind==="chapters"||l.kind==="metadata")&&l.track.mode==="disabled"&&(l.track.mode="hidden")}#c(l){if(Object.prototype.hasOwnProperty.call(this,l)){const u=this[l];delete this[l],this[l]=u}}attributeChangedCallback(l,u,c){this.#a(),this.#d(l,u,c)}#d(l,u,c){["id","class"].includes(l)||!FD.observedAttributes.includes(l)&&this.constructor.observedAttributes.includes(l)||(c===null?this.nativeEl?.removeAttribute(l):this.nativeEl?.getAttribute(l)!==c&&this.nativeEl?.setAttribute(l,c))}connectedCallback(){this.#a()}}}function oMe(t){const e=[];for(let n=Object.getPrototypeOf(t);n&&n!==HTMLElement.prototype;n=Object.getPrototypeOf(n)){const r=Object.getOwnPropertyNames(n);e.push(...r)}return e}function FZ(t){let e="";for(const n in t){if(!MZ.includes(n))continue;const r=t[n];r===""?e+=` ${n}`:e+=` ${n}="${r}"`}return e}function lMe(t){const e={};for(const n of t)e[n.name]=n.value;return e}const pc=NZ(globalThis.HTMLElement??class{},{tag:"video"});NZ(globalThis.HTMLElement??class{},{tag:"audio"});class SS extends Event{track;constructor(e,n){super(e),this.track=n.track}}const UD=new WeakMap;function On(t){return UD.get(t)??uMe(t,{})}function uMe(t,e){let n=UD.get(t);return n||UD.set(t,n={}),Object.assign(n,e)}function BD(t,e){const n=t.videoTracks;On(e).media=t,On(e).renditionSet||(On(e).renditionSet=new Set);const r=On(n).trackSet;r.add(e);const i=r.size-1;i in $D.prototype||Object.defineProperty($D.prototype,i,{get(){return[...On(this).trackSet][i]}}),queueMicrotask(()=>{n.dispatchEvent(new SS("addtrack",{track:e}))})}function zD(t){const e=On(t).media?.videoTracks;if(!e)return;On(e).trackSet.delete(t),queueMicrotask(()=>{e.dispatchEvent(new SS("removetrack",{track:t}))})}function cMe(t){const e=On(t).media.videoTracks??[];let n=!1;for(const r of e)r!==t&&(r.selected=!1,n=!0);if(n){if(On(e).changeRequested)return;On(e).changeRequested=!0,queueMicrotask(()=>{delete On(e).changeRequested,e.dispatchEvent(new Event("change"))})}}class $D extends EventTarget{#e;#i;#r;constructor(){super(),On(this).trackSet=new Set}get#t(){return On(this).trackSet}[Symbol.iterator](){return this.#t.values()}get length(){return this.#t.size}getTrackById(e){return[...this.#t].find(n=>n.id===e)??null}get selectedIndex(){return[...this.#t].findIndex(e=>e.selected)}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#i}set onremovetrack(e){this.#i&&(this.removeEventListener("removetrack",this.#i),this.#i=void 0),typeof e=="function"&&(this.#i=e,this.addEventListener("removetrack",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class wS extends Event{rendition;constructor(e,n){super(e),this.rendition=n.rendition}}function dMe(t,e){const n=On(t).media.videoRenditions;On(e).media=On(t).media,On(e).track=t;const r=On(t).renditionSet;r.add(e);const i=r.size-1;i in qD.prototype||Object.defineProperty(qD.prototype,i,{get(){return oh(this)[i]}}),queueMicrotask(()=>{t.selected&&n.dispatchEvent(new wS("addrendition",{rendition:e}))})}function fMe(t){const e=On(t).media.videoRenditions,n=On(t).track;On(n).renditionSet.delete(t),queueMicrotask(()=>{On(t).track.selected&&e.dispatchEvent(new wS("removerendition",{rendition:t}))})}function hMe(t){const e=On(t).media.videoRenditions;!e||On(e).changeRequested||(On(e).changeRequested=!0,queueMicrotask(()=>{delete On(e).changeRequested,On(t).track.selected&&e.dispatchEvent(new Event("change"))}))}function oh(t){return[...On(t).media.videoTracks].filter(n=>n.selected).flatMap(n=>[...On(n).renditionSet])}class qD extends EventTarget{#e;#i;#r;[Symbol.iterator](){return oh(this).values()}get length(){return oh(this).length}getRenditionById(e){return oh(this).find(n=>`${n.id}`==`${e}`)??null}get selectedIndex(){return oh(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[n,r]of oh(this).entries())r.selected=n===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#i}set onremoverendition(e){this.#i&&(this.removeEventListener("removerendition",this.#i),this.#i=void 0),typeof e=="function"&&(this.#i=e,this.addEventListener("removerendition",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class pMe{src;id;width;height;bitrate;frameRate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,hMe(this))}}class UZ{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,n,r,i,o,l){const u=new pMe;return u.src=e,u.width=n,u.height=r,u.frameRate=l,u.bitrate=o,u.codec=i,dMe(this,u),u}removeRendition(e){fMe(e)}get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,e===!0&&cMe(this))}}function mMe(t,e){const n=On(t).media.audioRenditions;On(e).media=On(t).media,On(e).track=t;const r=On(t).renditionSet;r.add(e);const i=r.size-1;i in jD.prototype||Object.defineProperty(jD.prototype,i,{get(){return lh(this)[i]}}),queueMicrotask(()=>{t.enabled&&n.dispatchEvent(new wS("addrendition",{rendition:e}))})}function gMe(t){const e=On(t).media.audioRenditions,n=On(t).track;On(n).renditionSet.delete(t),queueMicrotask(()=>{On(t).track.enabled&&e.dispatchEvent(new wS("removerendition",{rendition:t}))})}function yMe(t){const e=On(t).media.audioRenditions;!e||On(e).changeRequested||(On(e).changeRequested=!0,queueMicrotask(()=>{delete On(e).changeRequested,On(t).track.enabled&&e.dispatchEvent(new Event("change"))}))}function lh(t){return[...On(t).media.audioTracks].filter(n=>n.enabled).flatMap(n=>[...On(n).renditionSet])}class jD extends EventTarget{#e;#i;#r;[Symbol.iterator](){return lh(this).values()}get length(){return lh(this).length}getRenditionById(e){return lh(this).find(n=>`${n.id}`==`${e}`)??null}get selectedIndex(){return lh(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[n,r]of lh(this).entries())r.selected=n===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#i}set onremoverendition(e){this.#i&&(this.removeEventListener("removerendition",this.#i),this.#i=void 0),typeof e=="function"&&(this.#i=e,this.addEventListener("removerendition",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class bMe{src;id;bitrate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,yMe(this))}}function HD(t,e){const n=t.audioTracks;On(e).media=t,On(e).renditionSet||(On(e).renditionSet=new Set);const r=On(n).trackSet;r.add(e);const i=r.size-1;i in VD.prototype||Object.defineProperty(VD.prototype,i,{get(){return[...On(this).trackSet][i]}}),queueMicrotask(()=>{n.dispatchEvent(new SS("addtrack",{track:e}))})}function GD(t){const e=On(t).media?.audioTracks;if(!e)return;On(e).trackSet.delete(t),queueMicrotask(()=>{e.dispatchEvent(new SS("removetrack",{track:t}))})}function vMe(t){const e=On(t).media.audioTracks;!e||On(e).changeRequested||(On(e).changeRequested=!0,queueMicrotask(()=>{delete On(e).changeRequested,e.dispatchEvent(new Event("change"))}))}class VD extends EventTarget{#e;#i;#r;constructor(){super(),On(this).trackSet=new Set}get#t(){return On(this).trackSet}[Symbol.iterator](){return this.#t.values()}get length(){return this.#t.size}getTrackById(e){return[...this.#t].find(n=>n.id===e)??null}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#i}set onremovetrack(e){this.#i&&(this.removeEventListener("removetrack",this.#i),this.#i=void 0),typeof e=="function"&&(this.#i=e,this.addEventListener("removetrack",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class BZ{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,n,r){const i=new bMe;return i.src=e,i.codec=n,i.bitrate=r,mMe(this,i),i}removeRendition(e){gMe(e)}get enabled(){return this.#e}set enabled(e){this.#e!==e&&(this.#e=e,vMe(this))}}const fH=U_(globalThis.HTMLMediaElement,"video"),hH=U_(globalThis.HTMLMediaElement,"audio");function oN(t){if(!t?.prototype)return t;const e=U_(t,"video");(!e||`${e}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"videoTracks",{get(){return EMe(this)}});const n=U_(t,"audio");(!n||`${n}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"audioTracks",{get(){return _Me(this)}}),"addVideoTrack"in t.prototype||(t.prototype.addVideoTrack=function(o,l="",u=""){const c=new UZ;return c.kind=o,c.label=l,c.language=u,BD(this,c),c}),"removeVideoTrack"in t.prototype||(t.prototype.removeVideoTrack=zD),"addAudioTrack"in t.prototype||(t.prototype.addAudioTrack=function(o,l="",u=""){const c=new BZ;return c.kind=o,c.label=l,c.language=u,HD(this,c),c}),"removeAudioTrack"in t.prototype||(t.prototype.removeAudioTrack=GD),"videoRenditions"in t.prototype||Object.defineProperty(t.prototype,"videoRenditions",{get(){return r(this)}});const r=o=>{let l=On(o).videoRenditions;return l||(l=new qD,On(l).media=o,On(o).videoRenditions=l),l};"audioRenditions"in t.prototype||Object.defineProperty(t.prototype,"audioRenditions",{get(){return i(this)}});const i=o=>{let l=On(o).audioRenditions;return l||(l=new jD,On(l).media=o,On(o).audioRenditions=l),l};return t}function U_(t,e){if(t?.prototype)return Object.getOwnPropertyDescriptor(t.prototype,`${e}Tracks`)?.get}function EMe(t){let e=On(t).videoTracks;if(!e&&(e=new $D,On(t).videoTracks=e,fH)){const n=fH.call(t.nativeEl??t);for(const r of n)BD(t,r);n.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),n.addEventListener("addtrack",r=>{if([...e].some(i=>i instanceof UZ)){for(const i of n)zD(i);return}BD(t,r.track)}),n.addEventListener("removetrack",r=>{zD(r.track)})}return e}function _Me(t){let e=On(t).audioTracks;if(!e&&(e=new VD,On(t).audioTracks=e,hH)){const n=hH.call(t.nativeEl??t);for(const r of n)HD(t,r);n.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),n.addEventListener("addtrack",r=>{if([...e].some(i=>i instanceof BZ)){for(const i of n)GD(i);return}HD(t,r.track)}),n.addEventListener("removetrack",r=>{GD(r.track)})}return e}const An=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},TMe=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=SMe},SMe=Number.MAX_SAFE_INTEGER||9007199254740991;let Kn=(function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t})({}),Et=(function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t})({}),be=(function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t})({});var Ar={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Pn={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class kf{constructor(e,n=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=r}sample(e,n){const r=Math.pow(this.alpha_,e);this.estimate_=n*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class wMe{constructor(e,n,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new kf(e),this.fast_=new kf(n),this.defaultTTFB_=i,this.ttfb_=new kf(e)}update(e,n){const{slow_:r,fast_:i,ttfb_:o}=this;r.halfLife!==e&&(this.slow_=new kf(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==n&&(this.fast_=new kf(n,i.getEstimate(),i.getTotalWeight())),o.halfLife!==e&&(this.ttfb_=new kf(e,o.getEstimate(),o.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const r=8*n,i=e/1e3,o=r/i;this.fast_.sample(i,o),this.slow_.sample(i,o)}sampleTTFB(e){const n=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function AMe(t,e,n){return(e=xMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ri(){return ri=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ri.apply(null,arguments)}function pH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pH(Object(n),!0).forEach(function(r){AMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xMe(t){var e=IMe(t,"string");return typeof e=="symbol"?e:e+""}class ho{constructor(e,n){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const r=`[${e}]:`;this.trace=oc,this.debug=n.debug.bind(null,r),this.log=n.log.bind(null,r),this.warn=n.warn.bind(null,r),this.info=n.info.bind(null,r),this.error=n.error.bind(null,r)}}const oc=function(){},RMe={trace:oc,debug:oc,log:oc,warn:oc,info:oc,error:oc};function KD(){return ri({},RMe)}function kMe(t,e){const n=self.console[t];return n?n.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):oc}function mH(t,e,n){return e[t]?e[t].bind(e):kMe(t,n)}const WD=KD();function CMe(t,e,n){const r=KD();if(typeof console=="object"&&t===!0||typeof t=="object"){const i=["debug","log","info","warn","error"];i.forEach(o=>{r[o]=mH(o,t,n)});try{r.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return KD()}i.forEach(o=>{WD[o]=mH(o,t)})}else ri(WD,r);return r}const Xr=WD;function Ac(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function DMe(t){return typeof self<"u"&&t===self.ManagedMediaSource}function zZ(t,e){const n=Object.keys(t),r=Object.keys(e),i=n.length,o=r.length;return!i||!o||i===o&&!n.some(l=>r.indexOf(l)===-1)}function Cs(t,e=!1){if(typeof TextDecoder<"u"){const d=new TextDecoder("utf-8").decode(t);if(e){const h=d.indexOf("\0");return h!==-1?d.substring(0,h):d}return d.replace(/\0/g,"")}const n=t.length;let r,i,o,l="",u=0;for(;u<n;){if(r=t[u++],r===0&&e)return l;if(r===0||r===3)continue;switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(r);break;case 12:case 13:i=t[u++],l+=String.fromCharCode((r&31)<<6|i&63);break;case 14:i=t[u++],o=t[u++],l+=String.fromCharCode((r&15)<<12|(i&63)<<6|(o&63)<<0);break}}return l}function wa(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e}function $Z(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function LMe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vk={exports:{}},gH;function PMe(){return gH||(gH=1,(function(t,e){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,l=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,u={buildAbsoluteURL:function(c,d,h){if(h=h||{},c=c.trim(),d=d.trim(),!d){if(!h.alwaysNormalize)return c;var f=u.parseURL(c);if(!f)throw new Error("Error trying to parse base URL.");return f.path=u.normalizePath(f.path),u.buildURLFromParts(f)}var p=u.parseURL(d);if(!p)throw new Error("Error trying to parse relative URL.");if(p.scheme)return h.alwaysNormalize?(p.path=u.normalizePath(p.path),u.buildURLFromParts(p)):d;var m=u.parseURL(c);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var g=i.exec(m.path);m.netLoc=g[1],m.path=g[2]}m.netLoc&&!m.path&&(m.path="/");var y={scheme:m.scheme,netLoc:p.netLoc,path:null,params:p.params,query:p.query,fragment:p.fragment};if(!p.netLoc&&(y.netLoc=m.netLoc,p.path[0]!=="/"))if(!p.path)y.path=m.path,p.params||(y.params=m.params,p.query||(y.query=m.query));else{var b=m.path,v=b.substring(0,b.lastIndexOf("/")+1)+p.path;y.path=u.normalizePath(v)}return y.path===null&&(y.path=h.alwaysNormalize?u.normalizePath(p.path):p.path),u.buildURLFromParts(y)},parseURL:function(c){var d=r.exec(c);return d?{scheme:d[1]||"",netLoc:d[2]||"",path:d[3]||"",params:d[4]||"",query:d[5]||"",fragment:d[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(o,"");c.length!==(c=c.replace(l,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};t.exports=u})()})(vk)),vk.exports}var lN=PMe();class uN{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var si={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class qZ{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,MMe(this,"stats")}setByteRange(e,n){const r=e.split("@",2);let i;r.length===1?i=n?.byteRangeEndOffset||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[si.AUDIO]:null,[si.VIDEO]:null,[si.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new uN),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=lN.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[si.AUDIO]=null,e[si.VIDEO]=null,e[si.AUDIOVIDEO]=null}}function $i(t){return t.sn!=="initSegment"}class Ek extends qZ{constructor(e,n){super(n),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],n=this.byteRange[1];if(An(e)&&An(n))return n-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:n}=this;if(!n||n.NONE)return null;if(n.identity)this._decryptdata||(this._decryptdata=n.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const r=Object.keys(n);if(r.length===1){const i=this._decryptdata=n[r[0]]||null;i&&(this._decryptdata=i.getDecryptData(this.sn,n))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=An(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var n;const r=Object.keys(this.levelkeys),i=r.length;if(i>1||i===1&&(n=this.levelkeys[r[0]])!=null&&n.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!An(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return $i(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const n=this.levelkeys;if(n){var r;const i=n[e];i&&!((r=this._decryptdata)!=null&&r.keyId)&&(this._decryptdata=i.getDecryptData(this.sn,n))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,r,i,o,l=!1){const{elementaryStreams:u}=this,c=u[e];if(!c){u[e]={startPTS:n,endPTS:r,startDTS:i,endDTS:o,partial:l};return}c.startPTS=Math.min(c.startPTS,n),c.endPTS=Math.max(c.endPTS,r),c.startDTS=Math.min(c.startDTS,i),c.endDTS=Math.max(c.endDTS,o)}}let OMe=class extends qZ{constructor(e,n,r,i,o){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=i;const l=e.enumeratedString("BYTERANGE");l&&this.setByteRange(l,o),o&&(this.fragOffset=o.fragOffset+o.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}};function jZ(t,e){const n=Object.getPrototypeOf(t);if(n){const r=Object.getOwnPropertyDescriptor(n,e);return r||jZ(n,e)}}function MMe(t,e){const n=jZ(t,e);n&&(n.enumerable=!0,Object.defineProperty(t,e,n))}const yH=Math.pow(2,32)-1,NMe=[].push,HZ={video:1,audio:2,id3:3,text:4};function ta(t){return String.fromCharCode.apply(null,t)}function GZ(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function lr(t,e){const n=VZ(t,e);return n<0?4294967296+n:n}function bH(t,e){let n=lr(t,e);return n*=Math.pow(2,32),n+=lr(t,e+4),n}function VZ(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function FMe(t){const e=t.byteLength;for(let n=0;n<e;){const r=lr(t,n);if(r>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=r>1?n+r:e}return!1}function _r(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const o=lr(t,i),l=ta(t.subarray(i+4,i+8)),u=o>1?i+o:r;if(l===e[0])if(e.length===1)n.push(t.subarray(i+8,u));else{const c=_r(t.subarray(i+8,u),e.slice(1));c.length&&NMe.apply(n,c)}i=u}return n}function UMe(t){const e=[],n=t[0];let r=8;const i=lr(t,r);r+=4;let o=0,l=0;n===0?(o=lr(t,r),l=lr(t,r+4),r+=8):(o=bH(t,r),l=bH(t,r+8),r+=16),r+=2;let u=t.length+l;const c=GZ(t,r);r+=2;for(let d=0;d<c;d++){let h=r;const f=lr(t,h);h+=4;const p=f&2147483647;if((f&2147483648)>>>31===1)return Xr.warn("SIDX has hierarchical references (not supported)"),null;const g=lr(t,h);h+=4,e.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/i,start:u,end:u+p-1}}),u+=p,h+=4,r=h}return{earliestPresentationTime:o,timescale:i,version:n,referencesCount:c,references:e}}function KZ(t){const e=[],n=_r(t,["moov","trak"]);for(let i=0;i<n.length;i++){const o=n[i],l=_r(o,["tkhd"])[0];if(l){let u=l[0];const c=lr(l,u===0?12:20),d=_r(o,["mdia","mdhd"])[0];if(d){u=d[0];const h=lr(d,u===0?12:20),f=_r(o,["mdia","hdlr"])[0];if(f){const p=ta(f.subarray(8,12)),m={soun:si.AUDIO,vide:si.VIDEO}[p],g=_r(o,["mdia","minf","stbl","stsd"])[0],y=BMe(g);m?(e[c]={timescale:h,type:m,stsd:y},e[m]=Yr({timescale:h,id:c},y)):e[c]={timescale:h,type:p,stsd:y}}}}}return _r(t,["moov","mvex","trex"]).forEach(i=>{const o=lr(i,4),l=e[o];l&&(l.default={duration:lr(i,12),flags:lr(i,20)})}),e}function BMe(t){const e=t.subarray(8),n=e.subarray(86),r=ta(e.subarray(4,8));let i=r,o;const l=r==="enca"||r==="encv";if(l){const d=_r(e,[r])[0].subarray(r==="enca"?28:78);_r(d,["sinf"]).forEach(f=>{const p=_r(f,["schm"])[0];if(p){const m=ta(p.subarray(4,8));if(m==="cbcs"||m==="cenc"){const g=_r(f,["frma"])[0];g&&(i=ta(g))}}})}const u=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const c=_r(n,["avcC"])[0];c&&c.length>3&&(i+="."+mv(c[1])+mv(c[2])+mv(c[3]),o=pv(u==="avc1"?"dva1":"dvav",n));break}case"mp4a":{const c=_r(e,[r])[0],d=_r(c.subarray(28),["esds"])[0];if(d&&d.length>7){let h=4;if(d[h++]!==3)break;h=_k(d,h),h+=2;const f=d[h++];if(f&128&&(h+=2),f&64&&(h+=d[h++]),d[h++]!==4)break;h=_k(d,h);const p=d[h++];if(p===64)i+="."+mv(p);else break;if(h+=12,d[h++]!==5)break;h=_k(d,h);const m=d[h++];let g=(m&248)>>3;g===31&&(g+=1+((m&7)<<3)+((d[h]&224)>>5)),i+="."+g}break}case"hvc1":case"hev1":{const c=_r(n,["hvcC"])[0];if(c&&c.length>12){const d=c[1],h=["","A","B","C"][d>>6],f=d&31,p=lr(c,2),m=(d&32)>>5?"H":"L",g=c[12],y=c.subarray(6,12);i+="."+h+f,i+="."+zMe(p).toString(16).toUpperCase(),i+="."+m+g;let b="";for(let v=y.length;v--;){const _=y[v];(_||b)&&(b="."+_.toString(16).toUpperCase()+b)}i+=b}o=pv(u=="hev1"?"dvhe":"dvh1",n);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=pv(i,n)||i;break}case"vp09":{const c=_r(n,["vpcC"])[0];if(c&&c.length>6){const d=c[4],h=c[5],f=c[6]>>4&15;i+="."+_l(d)+"."+_l(h)+"."+_l(f)}break}case"av01":{const c=_r(n,["av1C"])[0];if(c&&c.length>2){const d=c[1]>>>5,h=c[1]&31,f=c[2]>>>7?"H":"M",p=(c[2]&64)>>6,m=(c[2]&32)>>5,g=d===2&&p?m?12:10:p?10:8,y=(c[2]&16)>>4,b=(c[2]&8)>>3,v=(c[2]&4)>>2,_=c[2]&3;i+="."+d+"."+_l(h)+f+"."+_l(g)+"."+y+"."+b+v+_+"."+_l(1)+"."+_l(1)+"."+_l(1)+"."+0,o=pv("dav1",n)}break}}return{codec:i,encrypted:l,supplemental:o}}function pv(t,e){const n=_r(e,["dvvC"]),r=n.length?n[0]:_r(e,["dvcC"])[0];if(r){const i=r[2]>>1&127,o=r[2]<<5&32|r[3]>>3&31;return t+"."+_l(i)+"."+_l(o)}}function zMe(t){let e=0;for(let n=0;n<32;n++)e|=(t>>n&1)<<31-n;return e>>>0}function _k(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function mv(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function _l(t){return(t<10?"0":"")+t}function $Me(t,e){if(!t||!e)return;const n=e.keyId;n&&e.isCommonEncryption&&WZ(t,(r,i)=>{const o=r.subarray(8,24);o.some(l=>l!==0)||(Xr.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${wa(o)} -> ${wa(n)}`),r.set(n,8))})}function qMe(t){const e=[];return WZ(t,n=>e.push(n.subarray(8,24))),e}function WZ(t,e){_r(t,["moov","trak"]).forEach(r=>{const i=_r(r,["mdia","minf","stbl","stsd"])[0];if(!i)return;const o=i.subarray(8);let l=_r(o,["enca"]);const u=l.length>0;u||(l=_r(o,["encv"])),l.forEach(c=>{const d=u?c.subarray(28):c.subarray(78);_r(d,["sinf"]).forEach(f=>{const p=YZ(f);p&&e(p,u)})})})}function YZ(t){const e=_r(t,["schm"])[0];if(e){const n=ta(e.subarray(4,8));if(n==="cbcs"||n==="cenc"){const r=_r(t,["schi","tenc"])[0];if(r)return r}}}function jMe(t,e,n){const r={},i=_r(t,["moof","traf"]);for(let o=0;o<i.length;o++){const l=i[o],u=_r(l,["tfhd"])[0],c=lr(u,4),d=e[c];if(!d)continue;r[c]||(r[c]={start:NaN,duration:0,sampleCount:0,timescale:d.timescale,type:d.type});const h=r[c],f=_r(l,["tfdt"])[0];if(f){const E=f[0];let T=lr(f,4);E===1&&(T===yH?n.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(T*=yH+1,T+=lr(f,8))),An(T)&&(!An(h.start)||T<h.start)&&(h.start=T)}const p=d.default,m=lr(u,0)|p?.flags;let g=p?.duration||0;m&8&&(m&2?g=lr(u,12):g=lr(u,8));const y=_r(l,["trun"]);let b=h.start||0,v=0,_=g;for(let E=0;E<y.length;E++){const T=y[E],A=lr(T,4),w=h.sampleCount;h.sampleCount+=A;const I=T[3]&1,C=T[3]&4,j=T[2]&1,F=T[2]&2,K=T[2]&4,he=T[2]&8;let q=8,Ee=A;for(I&&(q+=4),C&&A&&(!(T[q+1]&1)&&h.keyFrameIndex===void 0&&(h.keyFrameIndex=w),q+=4,j?(_=lr(T,q),q+=4):_=g,F&&(q+=4),he&&(q+=4),b+=_,v+=_,Ee--);Ee--;)j?(_=lr(T,q),q+=4):_=g,F&&(q+=4),K&&(T[q+1]&1||h.keyFrameIndex===void 0&&(h.keyFrameIndex=h.sampleCount-(Ee+1),h.keyFrameStart=b),q+=4),he&&(q+=4),b+=_,v+=_;!v&&g&&(v+=g*A)}h.duration+=v}if(!Object.keys(r).some(o=>r[o].duration)){let o=1/0,l=0;const u=_r(t,["sidx"]);for(let c=0;c<u.length;c++){const d=UMe(u[c]);if(d!=null&&d.references){o=Math.min(o,d.earliestPresentationTime/d.timescale);const h=d.references.reduce((f,p)=>f+p.info.duration||0,0);l=Math.max(l,h+d.earliestPresentationTime/d.timescale)}}l&&An(l)&&Object.keys(r).forEach(c=>{r[c].duration||(r[c].duration=l*r[c].timescale-r[c].start)})}return r}function HMe(t){const e={valid:null,remainder:null},n=_r(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=t.slice(0,r.byteOffset-8),e.remainder=t.slice(r.byteOffset-8),e}function lo(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function vH(t,e){const n=[],r=e.samples,i=e.timescale,o=e.id;let l=!1;return _r(r,["moof"]).map(c=>{const d=c.byteOffset-8;_r(c,["traf"]).map(f=>{const p=_r(f,["tfdt"]).map(m=>{const g=m[0];let y=lr(m,4);return g===1&&(y*=Math.pow(2,32),y+=lr(m,8)),y/i})[0];return p!==void 0&&(t=p),_r(f,["tfhd"]).map(m=>{const g=lr(m,4),y=lr(m,0)&16777215,b=(y&1)!==0,v=(y&2)!==0,_=(y&8)!==0;let E=0;const T=(y&16)!==0;let A=0;const w=(y&32)!==0;let I=8;g===o&&(b&&(I+=8),v&&(I+=4),_&&(E=lr(m,I),I+=4),T&&(A=lr(m,I),I+=4),w&&(I+=4),e.type==="video"&&(l=AS(e.codec)),_r(f,["trun"]).map(C=>{const j=C[0],F=lr(C,0)&16777215,K=(F&1)!==0;let he=0;const q=(F&4)!==0,Ee=(F&256)!==0;let Te=0;const ge=(F&512)!==0;let Be=0;const He=(F&1024)!==0,Ye=(F&2048)!==0;let Ie=0;const we=lr(C,4);let je=8;K&&(he=lr(C,je),je+=4),q&&(je+=4);let Ce=he+d;for(let dt=0;dt<we;dt++){if(Ee?(Te=lr(C,je),je+=4):Te=E,ge?(Be=lr(C,je),je+=4):Be=A,He&&(je+=4),Ye&&(j===0?Ie=lr(C,je):Ie=VZ(C,je),je+=4),e.type===si.VIDEO){let Le=0;for(;Le<Be;){const Pe=lr(r,Ce);if(Ce+=4,GMe(l,r[Ce])){const it=r.subarray(Ce,Ce+Pe);cN(it,l?2:1,t+Ie/i,n)}Ce+=Pe,Le+=Pe+4}}t+=Te/i}}))})})}),n}function AS(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function GMe(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function cN(t,e,n,r){const i=XZ(t);let o=0;o+=e;let l=0,u=0,c=0;for(;o<i.length;){l=0;do{if(o>=i.length)break;c=i[o++],l+=c}while(c===255);u=0;do{if(o>=i.length)break;c=i[o++],u+=c}while(c===255);const d=i.length-o;let h=o;if(u<d)o+=u;else if(u>d){Xr.error(`Malformed SEI payload. ${u} is too small, only ${d} bytes left to parse.`);break}if(l===4){if(i[h++]===181){const p=GZ(i,h);if(h+=2,p===49){const m=lr(i,h);if(h+=4,m===1195456820){const g=i[h++];if(g===3){const y=i[h++],b=31&y,v=64&y,_=v?2+b*3:0,E=new Uint8Array(_);if(v){E[0]=y;for(let T=1;T<_;T++)E[T]=i[h++]}r.push({type:g,payloadType:l,pts:n,bytes:E})}}}}}else if(l===5&&u>16){const f=[];for(let g=0;g<16;g++){const y=i[h++].toString(16);f.push(y.length==1?"0"+y:y),(g===3||g===5||g===7||g===9)&&f.push("-")}const p=u-16,m=new Uint8Array(p);for(let g=0;g<p;g++)m[g]=i[h++];r.push({payloadType:l,pts:n,uuid:f.join(""),userData:Cs(m),userDataBytes:m})}}}function XZ(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)t[r]===0&&t[r+1]===0&&t[r+2]===3?(n.push(r+2),r+=2):r++;if(n.length===0)return t;const i=e-n.length,o=new Uint8Array(i);let l=0;for(r=0;r<i;l++,r++)l===n[0]&&(l++,n.shift()),o[r]=t[l];return o}function VMe(t){const e=t[0];let n="",r="",i=0,o=0,l=0,u=0,c=0,d=0;if(e===0){for(;ta(t.subarray(d,d+1))!=="\0";)n+=ta(t.subarray(d,d+1)),d+=1;for(n+=ta(t.subarray(d,d+1)),d+=1;ta(t.subarray(d,d+1))!=="\0";)r+=ta(t.subarray(d,d+1)),d+=1;r+=ta(t.subarray(d,d+1)),d+=1,i=lr(t,12),o=lr(t,16),u=lr(t,20),c=lr(t,24),d=28}else if(e===1){d+=4,i=lr(t,d),d+=4;const f=lr(t,d);d+=4;const p=lr(t,d);for(d+=4,l=2**32*f+p,TMe(l)||(l=Number.MAX_SAFE_INTEGER,Xr.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),u=lr(t,d),d+=4,c=lr(t,d),d+=4;ta(t.subarray(d,d+1))!=="\0";)n+=ta(t.subarray(d,d+1)),d+=1;for(n+=ta(t.subarray(d,d+1)),d+=1;ta(t.subarray(d,d+1))!=="\0";)r+=ta(t.subarray(d,d+1)),d+=1;r+=ta(t.subarray(d,d+1)),d+=1}const h=t.subarray(d,t.byteLength);return{schemeIdUri:n,value:r,timeScale:i,presentationTime:l,presentationTimeDelta:o,eventDuration:u,id:c,payload:h}}function KMe(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(t,4),i=0,r=8;i<n;i++)o.set(e[i],r),r+=e[i].byteLength;return o}function WMe(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let o;r>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;const l=new Uint8Array(4);return n.byteLength>0&&new DataView(l.buffer).setUint32(0,n.byteLength,!1),KMe([112,115,115,104],new Uint8Array([r,0,0,0]),t,o,i,l,n)}function YMe(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let r=0;for(;r+32<n;){const i=new DataView(t,r),o=XMe(i);e.push(o),r+=o.size}}return e}function XMe(t){const e=t.getUint32(0),n=t.byteOffset,r=t.byteLength;if(r<e)return{offset:n,size:r};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const o=t.getUint32(8)>>>24;if(o!==0&&o!==1)return{offset:n,size:e};const l=t.buffer,u=wa(new Uint8Array(l,n+12,16));let c=null,d=null,h=0;if(o===0)h=28;else{const p=t.getUint32(28);if(!p||r<32+p*16)return{offset:n,size:e};c=[];for(let m=0;m<p;m++)c.push(new Uint8Array(l,n+32+m*16,16));h=32+p*16}if(!h)return{offset:n,size:e};const f=t.getUint32(h);return e-32<f?{offset:n,size:e}:(d=new Uint8Array(l,n+h+4,f),{version:o,systemId:u,kids:c,data:d,offset:n,size:e})}const QZ=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),gp={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function dN(t,e){const n=gp[e];return!!n&&!!n[t.slice(0,4)]}function Ty(t,e,n=!0){return!t.split(",").some(r=>!fN(r,e,n))}function fN(t,e,n=!0){var r;const i=Ac(n);return(r=i?.isTypeSupported(Sy(t,e)))!=null?r:!1}function Sy(t,e){return`${e}/mp4;codecs=${t}`}function EH(t){if(t){const e=t.substring(0,4);return gp.video[e]}return 2}function B_(t){const e=QZ();return t.split(",").reduce((n,r)=>{const o=e&&AS(r)?9:gp.video[r];return o?(o*2+n)/(n?3:2):(gp.audio[r]+n)/(n?2:1)},0)}const Tk={};function QMe(t,e=!0){if(Tk[t])return Tk[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let i=0;i<n.length;i++){var r;if(fN(n[i],"audio",e))return Tk[t]=n[i],n[i];if(n[i]==="mp3"&&(r=Ac(e))!=null&&r.isTypeSupported("audio/mpeg"))return""}return t}const ZMe=/flac|opus|mp4a\.40\.34/i;function z_(t,e=!0){return t.replace(ZMe,n=>QMe(n.toLowerCase(),e))}function JMe(t,e){const n=[];if(t){const r=t.split(",");for(let i=0;i<r.length;i++)dN(r[i],"video")||n.push(r[i])}return e&&n.push(e),n.join(",")}function r0(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1)&&(_H(t,"audio")||_H(t,"video")))return t;if(e){const n=e.split(",");if(n.length>1){if(t){for(let r=n.length;r--;)if(n[r].substring(0,4)===t.substring(0,4))return n[r]}return n[0]}}return e||t}function _H(t,e){return dN(t,e)&&fN(t,e)}function eNe(t){const e=t.split(",");for(let n=0;n<e.length;n++){const r=e[n].split(".");r.length>2&&r[0]==="avc1"&&(e[n]=`avc1.${parseInt(r[1]).toString(16)}${("000"+parseInt(r[2]).toString(16)).slice(-4)}`)}return e.join(",")}function tNe(t){if(t.startsWith("av01.")){const e=t.split("."),n=["0","111","01","01","01","0"];for(let r=e.length;r>4&&r<10;r++)e[r]=n[r-4];return e.join(".")}return t}function TH(t){const e=Ac(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function YD(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const nNe={supported:!0,powerEfficient:!0,smooth:!0},rNe={supported:!1,smooth:!1,powerEfficient:!1},ZZ={supported:!0,configurations:[],decodingInfoResults:[nNe]};function JZ(t,e){return{supported:!1,configurations:e,decodingInfoResults:[rNe],error:t}}function iNe(t,e,n,r,i,o){const l=t.videoCodec,u=t.audioCodec?t.audioGroups:null,c=o?.audioCodec,d=o?.channels,h=d?parseInt(d):c?1/0:2;let f=null;if(u!=null&&u.length)try{u.length===1&&u[0]?f=e.groups[u[0]].channels:f=u.reduce((p,m)=>{if(m){const g=e.groups[m];if(!g)throw new Error(`Audio track group ${m} not found`);Object.keys(g.channels).forEach(y=>{p[y]=(p[y]||0)+g.channels[y]})}return p},{2:0})}catch{return!0}return l!==void 0&&(l.split(",").some(p=>AS(p))||t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!f&&An(h)&&Object.keys(f).some(p=>parseInt(p)>h)}function eJ(t,e,n,r={}){const i=t.videoCodec;if(!i&&!t.audioCodec||!n)return Promise.resolve(ZZ);const o=[],l=aNe(t),u=l.length,c=sNe(t,e,u>0),d=c.length;for(let h=u||1*d||1;h--;){const f={type:"media-source"};if(u&&(f.video=l[h%u]),d){f.audio=c[h%d];const p=f.audio.bitrate;f.video&&p&&(f.video.bitrate-=p)}o.push(f)}if(i){const h=navigator.userAgent;if(i.split(",").some(f=>AS(f))&&QZ())return Promise.resolve(JZ(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${h})`),o))}return Promise.all(o.map(h=>{const f=lNe(h);return r[f]||(r[f]=n.decodingInfo(h))})).then(h=>({supported:!h.some(f=>!f.supported),configurations:o,decodingInfoResults:h})).catch(h=>({supported:!1,configurations:o,decodingInfoResults:[],error:h}))}function aNe(t){var e;const n=(e=t.videoCodec)==null?void 0:e.split(","),r=tJ(t),i=t.width||640,o=t.height||480,l=t.frameRate||30,u=t.videoRange.toLowerCase();return n?n.map(c=>{const d={contentType:Sy(tNe(c),"video"),width:i,height:o,bitrate:r,framerate:l};return u!=="sdr"&&(d.transferFunction=u),d}):[]}function sNe(t,e,n){var r;const i=(r=t.audioCodec)==null?void 0:r.split(","),o=tJ(t);return i&&t.audioGroups?t.audioGroups.reduce((l,u)=>{var c;const d=u?(c=e.groups[u])==null?void 0:c.tracks:null;return d?d.reduce((h,f)=>{if(f.groupId===u){const p=parseFloat(f.channels||"");i.forEach(m=>{const g={contentType:Sy(m,"audio"),bitrate:n?oNe(m,o):o};p&&(g.channels=""+p),h.push(g)})}return h},l):l},[]):[]}function oNe(t,e){if(e<=1)return 1;let n=128e3;return t==="ec-3"?n=768e3:t==="ac-3"&&(n=64e4),Math.min(e/2,n)}function tJ(t){return Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)/1e3)*1e3||1}function lNe(t){let e="";const{audio:n,video:r}=t;if(r){const i=YD(r.contentType);e+=`${i}_r${r.height}x${r.width}f${Math.ceil(r.framerate)}${r.transferFunction||"sd"}_${Math.ceil(r.bitrate/1e5)}`}if(n){const i=YD(n.contentType);e+=`${r?"_":""}${i}_c${n.channels}`}return e}const XD=["NONE","TYPE-0","TYPE-1",null];function uNe(t){return XD.indexOf(t)>-1}const $_=["SDR","PQ","HLG"];function cNe(t){return!!t&&$_.indexOf(t)>-1}var i0={No:"",Yes:"YES",v2:"v2"};function SH(t){const{canSkipUntil:e,canSkipDateRanges:n,age:r}=t,i=r<e/2;return e&&i?n?i0.v2:i0.Yes:i0.No}class wH{constructor(e,n,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=r}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class wy{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>!!r).map(r=>r.substring(0,4)).join(","),"supplemental"in e){var n;this.supplemental=e.supplemental;const r=(n=e.supplemental)==null?void 0:n.videoCodec;r&&r!==e.videoCodec&&(this.codecSet+=`,${r.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return AH(this._audioGroups,e)}hasSubtitleGroup(e){return AH(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(n)===-1&&r.push(n)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(n)===-1&&r.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function AH(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function dNe(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function fNe(t,e){let n=!1,r=[];if(t&&(n=t!=="SDR",r=[t]),e){r=e.allowedVideoRanges||$_.slice(0);const i=r.join("")!=="SDR"&&!e.videoCodec;n=e.preferHDR!==void 0?e.preferHDR:i&&dNe(),n||(r=["SDR"])}return{preferHDR:n,allowedVideoRanges:r}}const hNe=t=>{const e=new WeakSet;return(n,r)=>{if(t&&(r=t(n,r)),typeof r=="object"&&r!==null){if(e.has(r))return;e.add(r)}return r}},li=(t,e)=>JSON.stringify(t,hNe(e));function pNe(t,e,n,r,i){const o=Object.keys(t),l=r?.channels,u=r?.audioCodec,c=i?.videoCodec,d=l&&parseInt(l)===2;let h=!1,f=!1,p=1/0,m=1/0,g=1/0,y=1/0,b=0,v=[];const{preferHDR:_,allowedVideoRanges:E}=fNe(e,i);for(let C=o.length;C--;){const j=t[o[C]];h||(h=j.channels[2]>0),p=Math.min(p,j.minHeight),m=Math.min(m,j.minFramerate),g=Math.min(g,j.minBitrate),E.filter(K=>j.videoRanges[K]>0).length>0&&(f=!0)}p=An(p)?p:0,m=An(m)?m:0;const T=Math.max(1080,p),A=Math.max(30,m);g=An(g)?g:n,n=Math.max(g,n),f||(e=void 0);const w=o.length>1;return{codecSet:o.reduce((C,j)=>{const F=t[j];if(j===C)return C;if(v=f?E.filter(K=>F.videoRanges[K]>0):[],w){if(F.minBitrate>n)return tl(j,`min bitrate of ${F.minBitrate} > current estimate of ${n}`),C;if(!F.hasDefaultAudio)return tl(j,"no renditions with default or auto-select sound found"),C;if(u&&j.indexOf(u.substring(0,4))%5!==0)return tl(j,`audio codec preference "${u}" not found`),C;if(l&&!d){if(!F.channels[l])return tl(j,`no renditions with ${l} channel sound found (channels options: ${Object.keys(F.channels)})`),C}else if((!u||d)&&h&&F.channels[2]===0)return tl(j,"no renditions with stereo sound found"),C;if(F.minHeight>T)return tl(j,`min resolution of ${F.minHeight} > maximum of ${T}`),C;if(F.minFramerate>A)return tl(j,`min framerate of ${F.minFramerate} > maximum of ${A}`),C;if(!v.some(K=>F.videoRanges[K]>0))return tl(j,`no variants with VIDEO-RANGE of ${li(v)} found`),C;if(c&&j.indexOf(c.substring(0,4))%5!==0)return tl(j,`video codec preference "${c}" not found`),C;if(F.maxScore<b)return tl(j,`max score of ${F.maxScore} < selected max of ${b}`),C}return C&&(B_(j)>=B_(C)||F.fragmentError>t[C].fragmentError)?C:(y=F.minIndex,b=F.maxScore,j)},void 0),videoRanges:v,preferHDR:_,minFramerate:m,minBitrate:g,minIndex:y}}function tl(t,e){Xr.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function nJ(t){return t.reduce((e,n)=>{let r=e.groups[n.groupId];r||(r=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(n);const i=n.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||n.default,r.hasAutoSelect=r.hasAutoSelect||n.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function mNe(t,e,n,r){return t.slice(n,r+1).reduce((i,o,l)=>{if(!o.codecSet)return i;const u=o.audioGroups;let c=i[o.codecSet];c||(i[o.codecSet]=c={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:l,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!u,fragmentError:0}),c.minBitrate=Math.min(c.minBitrate,o.bitrate);const d=Math.min(o.height,o.width);return c.minHeight=Math.min(c.minHeight,d),c.minFramerate=Math.min(c.minFramerate,o.frameRate),c.minIndex=Math.min(c.minIndex,l),c.maxScore=Math.max(c.maxScore,o.score),c.fragmentError+=o.fragmentError,c.videoRanges[o.videoRange]=(c.videoRanges[o.videoRange]||0)+1,u&&u.forEach(h=>{if(!h)return;const f=e.groups[h];f&&(c.hasDefaultAudio=c.hasDefaultAudio||e.hasDefaultAudio?f.hasDefault:f.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(f.channels).forEach(p=>{c.channels[p]=(c.channels[p]||0)+f.channels[p]}))}),i},{})}function IH(t){if(!t)return t;const{lang:e,assocLang:n,characteristics:r,channels:i,audioCodec:o}=t;return{lang:e,assocLang:n,characteristics:r,channels:i,audioCodec:o}}function Rl(t,e,n){if("attrs"in t){const r=e.indexOf(t);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(xd(t,i,n))return r}return-1}function xd(t,e,n){const{groupId:r,name:i,lang:o,assocLang:l,default:u}=t,c=t.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(o===void 0||gNe(o,e.lang))&&(o===void 0||e.assocLang===l)&&(u===void 0||e.default===u)&&(c===void 0||e.forced===c)&&(!("characteristics"in t)||yNe(t.characteristics||"",e.characteristics))&&(n===void 0||n(t,e))}function gNe(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function yNe(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some(i=>r.indexOf(i)===-1)}function ed(t,e){const{audioCodec:n,channels:r}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function bNe(t,e,n,r,i){const o=e[r],u=e.reduce((p,m,g)=>{const y=m.uri;return(p[y]||(p[y]=[])).push(g),p},{})[o.uri];u.length>1&&(r=Math.max.apply(Math,u));const c=o.videoRange,d=o.frameRate,h=o.codecSet.substring(0,4),f=xH(e,r,p=>{if(p.videoRange!==c||p.frameRate!==d||p.codecSet.substring(0,4)!==h)return!1;const m=p.audioGroups,g=n.filter(y=>!m||m.indexOf(y.groupId)!==-1);return Rl(t,g,i)>-1});return f>-1?f:xH(e,r,p=>{const m=p.audioGroups,g=n.filter(y=>!m||m.indexOf(y.groupId)!==-1);return Rl(t,g,i)>-1})}function xH(t,e,n){for(let r=e;r>-1;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}function q_(t,e){var n;return!!t&&t!==((n=e.loadLevelObj)==null?void 0:n.uri)}class vNe extends ho{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=n=>{var r;const{fragCurrent:i,partCurrent:o,hls:l}=this,{autoLevelEnabled:u,media:c}=l;if(!i||!c)return;const d=performance.now(),h=o?o.stats:i.stats,f=o?o.duration:i.duration,p=d-h.loading.start,m=l.minAutoLevel,g=i.level,y=this._nextAutoLevel;if(h.aborted||h.loaded&&h.loaded===h.total||g<=m){this.clearTimer(),this._nextAutoLevel=-1;return}if(!u)return;const b=y>-1&&y!==g,v=!!n||b;if(!v&&(c.paused||!c.playbackRate||!c.readyState))return;const _=l.mainForwardBufferInfo;if(!v&&_===null)return;const E=this.bwEstimator.getEstimateTTFB(),T=Math.abs(c.playbackRate);if(p<=Math.max(E,1e3*(f/(T*2))))return;const A=_?_.len/T:0,w=h.loading.first?h.loading.first-h.loading.start:-1,I=h.loaded&&w>-1,C=this.getBwEstimate(),j=l.levels,F=j[g],K=Math.max(h.loaded,Math.round(f*(i.bitrate||F.averageBitrate)/8));let he=I?p-w:p;he<1&&I&&(he=Math.min(p,h.loaded*8/C));const q=I?h.loaded*1e3/he:0,Ee=E/1e3,Te=q?(K-h.loaded)/q:K*8/C+Ee;if(Te<=A)return;const ge=q?q*8:C,Be=((r=n?.details||this.hls.latestLevelDetails)==null?void 0:r.live)===!0,He=this.hls.config.abrBandWidthUpFactor;let Ye=Number.POSITIVE_INFINITY,Ie;for(Ie=g-1;Ie>m;Ie--){const dt=j[Ie].maxBitrate,Le=!j[Ie].details||Be;if(Ye=this.getTimeToLoadFrag(Ee,ge,f*dt,Le),Ye<Math.min(A,f+Ee))break}if(Ye>=Te||Ye>f*10)return;I?this.bwEstimator.sample(p-Math.min(E,w),h.loaded):this.bwEstimator.sampleTTFB(p);const we=j[Ie].maxBitrate;this.getBwEstimate()*He>we&&this.resetEstimator(we);const je=this.findBestLevel(we,m,Ie,0,A,1,1);je>-1&&(Ie=je),this.warn(`Fragment ${i.sn}${o?" part "+o.index:""} of level ${g} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${A.toFixed(3)} s
      Estimated load time for current fragment: ${Te.toFixed(3)} s
      Estimated load time for down switch fragment: ${Ye.toFixed(3)} s
      TTFB estimate: ${w|0} ms
      Current BW estimate: ${An(C)?C|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${Ie} @ ${we|0} bps`),l.nextLoadLevel=l.nextAutoLevel=Ie,this.clearTimer();const Ce=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===Ie&&Ie>0){const dt=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${Ie>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${dt.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,Ie>m){let Le=this.findBestLevel(this.hls.levels[m].bitrate,m,Ie,0,dt,1,1);Le===-1&&(Le=m),this.hls.nextLoadLevel=this.hls.nextAutoLevel=Le,this.resetEstimator(this.hls.levels[Le].bitrate)}}};b||Te>Ye*2?Ce():this.timer=self.setInterval(Ce,Ye*1e3),l.trigger(be.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:o,stats:h})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new wMe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.FRAG_LOADING,this.onFragLoading,this),e.on(be.FRAG_LOADED,this.onFragLoaded,this),e.on(be.FRAG_BUFFERED,this.onFragBuffered,this),e.on(be.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(be.LEVEL_LOADED,this.onLevelLoaded,this),e.on(be.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(be.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(be.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.FRAG_LOADING,this.onFragLoading,this),e.off(be.FRAG_LOADED,this.onFragLoaded,this),e.off(be.FRAG_BUFFERED,this.onFragBuffered,this),e.off(be.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(be.LEVEL_LOADED,this.onLevelLoaded,this),e.off(be.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(be.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(be.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const r=n.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=n.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case Et.BUFFER_ADD_CODEC_ERROR:case Et.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Et.FRAG_LOAD_TIMEOUT:{const r=n.frag,{fragCurrent:i,partCurrent:o}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const l=performance.now(),u=o?o.stats:r.stats,c=l-u.loading.start,d=u.loading.first?u.loading.first-u.loading.start:-1;if(u.loaded&&d>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(c-Math.min(f,d),u.loaded)}else this.bwEstimator.sampleTTFB(c)}break}}}getTimeToLoadFrag(e,n,r,i){const o=e+r/n,l=i?e+this.lastLevelLoadSec:0;return o+l}onLevelLoaded(e,n){const r=this.hls.config,{loading:i}=n.stats,o=i.end-i.first;An(o)&&(this.lastLevelLoadSec=o/1e3),n.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(n.levelInfo)}onFragLoaded(e,{frag:n,part:r}){const i=r?r.stats:n.stats;if(n.type===Pn.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const o=r?r.duration:n.duration,l=this.hls.levels[n.level],u=(l.loaded?l.loaded.bytes:0)+i.loaded,c=(l.loaded?l.loaded.duration:0)+o;l.loaded={bytes:u,duration:c},l.realBitrate=Math.round(8*u/c)}if(n.bitrateTest){const o={stats:i,frag:n,part:r,id:n.type};this.onFragBuffered(be.FRAG_BUFFERED,o),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:r,part:i}=n,o=i!=null&&i.stats.loaded?i.stats:r.stats;if(o.aborted||this.ignoreFragment(r))return;const l=o.parsing.end-o.loading.start-Math.min(o.loading.first-o.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(l,o.loaded),o.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=l/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Pn.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,o=this.findBestLevel(r,n,e,0,i,1,1);if(o>-1)return o;const l=this.hls.firstLevel,u=Math.min(Math.max(l,n),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${l} clamped to ${u}`),u}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const o=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const l=this.hls.levels;if(l.length>Math.max(e,o)&&l[e].loadError<=l[o].loadError)return e}return this._nextAutoLevel=o,this.nextAutoLevelKey=this.getAutoLevelKey(),o}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:r}=this;if(r.levels.length<=1)return r.loadLevel;const{maxAutoLevel:i,config:o,minAutoLevel:l}=r,u=n?n.duration:e?e.duration:0,c=this.getBwEstimate(),d=this.getStarvationDelay();let h=o.abrBandWidthFactor,f=o.abrBandWidthUpFactor;if(d){const b=this.findBestLevel(c,l,i,d,0,h,f);if(b>=0)return this.rebufferNotice=-1,b}let p=u?Math.min(u,o.maxStarvationDelay):o.maxStarvationDelay;if(!d){const b=this.bitrateTestDelay;b&&(p=(u?Math.min(u,o.maxLoadingDelay):o.maxLoadingDelay)-b,this.info(`bitrate test took ${Math.round(1e3*b)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),h=f=1)}const m=this.findBestLevel(c,l,i,d,p,h,f);if(this.rebufferNotice!==m&&(this.rebufferNotice=m,this.info(`${d?"rebuffering expected":"buffer is empty"}, optimal quality level ${m}`)),m>-1)return m;const g=r.levels[l],y=r.loadLevelObj;return y&&g?.bitrate<y.bitrate?l:r.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const r=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,r,i,o,l,u){var c;const d=i+o,h=this.lastLoadedFragLevel,f=h===-1?this.hls.firstLevel:h,{fragCurrent:p,partCurrent:m}=this,{levels:g,allAudioTracks:y,loadLevel:b,config:v}=this.hls;if(g.length===1)return 0;const _=g[f],E=!!((c=this.hls.latestLevelDetails)!=null&&c.live),T=b===-1||h===-1;let A,w="SDR",I=_?.frameRate||0;const{audioPreference:C,videoPreference:j}=v,F=this.audioTracksByGroup||(this.audioTracksByGroup=nJ(y));let K=-1;if(T){if(this.firstSelection!==-1)return this.firstSelection;const ge=this.codecTiers||(this.codecTiers=mNe(g,F,n,r)),Be=pNe(ge,w,e,C,j),{codecSet:He,videoRanges:Ye,minFramerate:Ie,minBitrate:we,minIndex:je,preferHDR:Ce}=Be;K=je,A=He,w=Ce?Ye[Ye.length-1]:Ye[0],I=Ie,e=Math.max(e,we),this.log(`picked start tier ${li(Be)}`)}else A=_?.codecSet,w=_?.videoRange;const he=m?m.duration:p?p.duration:0,q=this.bwEstimator.getEstimateTTFB()/1e3,Ee=[];for(let ge=r;ge>=n;ge--){var Te;const Be=g[ge],He=ge>f;if(!Be)continue;if(v.useMediaCapabilities&&!Be.supportedResult&&!Be.supportedPromise){const Le=navigator.mediaCapabilities;typeof Le?.decodingInfo=="function"&&iNe(Be,F,w,I,e,C)?(Be.supportedPromise=eJ(Be,F,Le,this.supportedCache),Be.supportedPromise.then(Pe=>{if(!this.hls)return;Be.supportedResult=Pe;const it=this.hls.levels,J=it.indexOf(Be);Pe.error?this.warn(`MediaCapabilities decodingInfo error: "${Pe.error}" for level ${J} ${li(Pe)}`):Pe.supported?Pe.decodingInfoResults.some(G=>G.smooth===!1||G.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${J} not smooth or powerEfficient: ${li(Pe)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${J} ${li(Pe)}`),J>-1&&it.length>1&&(this.log(`Removing unsupported level ${J}`),this.hls.removeLevel(J),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(Pe=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${Pe}`)})):Be.supportedResult=ZZ}if((A&&Be.codecSet!==A||w&&Be.videoRange!==w||He&&I>Be.frameRate||!He&&I>0&&I<Be.frameRate||(Te=Be.supportedResult)!=null&&(Te=Te.decodingInfoResults)!=null&&Te.some(Le=>Le.smooth===!1))&&(!T||ge!==K)){Ee.push(ge);continue}const Ye=Be.details,Ie=(m?Ye?.partTarget:Ye?.averagetargetduration)||he;let we;He?we=u*e:we=l*e;const je=he&&i>=he*2&&o===0?Be.averageBitrate:Be.maxBitrate,Ce=this.getTimeToLoadFrag(q,we,je*Ie,Ye===void 0);if(we>=je&&(ge===h||Be.loadError===0&&Be.fragmentError===0)&&(Ce<=q||!An(Ce)||E&&!this.bitrateTestDelay||Ce<d)){const Le=this.forcedAutoLevel;return ge!==b&&(Le===-1||Le!==b)&&(Ee.length&&this.trace(`Skipped level(s) ${Ee.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${g[Ee[0]].codecs}" ${g[Ee[0]].videoRange}; not compatible with "${A}" ${w}`),this.info(`switch candidate:${f}->${ge} adjustedbw(${Math.round(we)})-bitrate=${Math.round(we-je)} ttfb:${q.toFixed(1)} avgDuration:${Ie.toFixed(1)} maxFetchDuration:${d.toFixed(1)} fetchDuration:${Ce.toFixed(1)} firstSelection:${T} codecSet:${Be.codecSet} videoRange:${Be.videoRange} hls.loadLevel:${b}`)),T&&(this.firstSelection=ge),ge}}return-1}set nextAutoLevel(e){const n=this.deriveNextAutoLevel(e);this._nextAutoLevel!==n&&(this.nextAutoLevelKey="",this._nextAutoLevel=n)}deriveNextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:r}=this.hls;return Math.min(Math.max(e,r),n)}}const rJ={search:function(t,e){let n=0,r=t.length-1,i=null,o=null;for(;n<=r;){i=(n+r)/2|0,o=t[i];const l=e(o);if(l>0)n=i+1;else if(l<0)r=i-1;else return o}return null}};function ENe(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!An(e))return null;const r=t[0].programDateTime;if(e<(r||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let o=0;o<t.length;++o){const l=t[o];if(TNe(e,n,l))return l}return null}function qd(t,e,n=0,r=0,i=.005){let o=null;if(t){o=e[1+t.sn-e[0].sn]||null;const u=t.endDTS-n;u>0&&u<15e-7&&(n+=15e-7),o&&t.level!==o.level&&o.end<=t.end&&(o=e[2+t.sn-e[0].sn]||null)}else n===0&&e[0].start===0&&(o=e[0]);if(o&&((!t||t.level===o.level)&&RH(n,r,o)===0||_Ne(o,t,Math.min(i,r))))return o;const l=rJ.search(e,RH.bind(null,n,r));return l&&(l!==t||!o)?l:o}function _Ne(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,o)=>(o[0]==="INF"&&(i+=parseFloat(o[1])),i),n);return t.start<=r}return!1}function RH(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function TNe(t,e,n){const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-r>t}function iJ(t,e,n){if(t&&t.startCC<=e&&t.endCC>=e){let r=t.fragments;const{fragmentHint:i}=t;i&&(r=r.concat(i));let o;return rJ.search(r,l=>l.cc<e?1:l.cc>e?-1:(o=l,l.end<=n?1:l.start>n?-1:0)),o||null}return null}function j_(t){switch(t.details){case Et.FRAG_LOAD_TIMEOUT:case Et.KEY_LOAD_TIMEOUT:case Et.LEVEL_LOAD_TIMEOUT:case Et.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function aJ(t){return t.details.startsWith("key")}function sJ(t){return aJ(t)&&!!t.frag&&!t.frag.decryptdata}function kH(t,e){const n=j_(e);return t.default[`${n?"timeout":"error"}Retry`]}function hN(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function CH(t){return Yr(Yr({},t),{errorRetry:null,timeoutRetry:null})}function H_(t,e,n,r){if(!t)return!1;const i=r?.code,o=e<t.maxNumRetry&&(SNe(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,o):o}function SNe(t){return QD(t)||!!t&&(t<400||t>499)}function QD(t){return t===0&&navigator.onLine===!1}var Sa={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},vs={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class wNe extends ho{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(be.ERROR,this.onError,this),e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(be.ERROR,this.onError,this),e.off(be.ERROR,this.onErrorOut,this),e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return e?.type===Pn.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const n=this.hls,r=n.currentLevel;return(e=n.loadLevelObj)!=null&&e.details||r===-1?n.loadLevel:r}variantHasKey(e,n){if(e){var r;if((r=e.details)!=null&&r.hasKey(n))return!0;const i=e.audioGroups;if(i)return this.hls.allAudioTracks.filter(l=>i.indexOf(l.groupId)>=0).some(l=>{var u;return(u=l.details)==null?void 0:u.hasKey(n)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,n){var r;if(n.fatal)return;const i=this.hls,o=n.context;switch(n.details){case Et.FRAG_LOAD_ERROR:case Et.FRAG_LOAD_TIMEOUT:case Et.KEY_LOAD_ERROR:case Et.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case Et.FRAG_PARSING_ERROR:if((r=n.frag)!=null&&r.gap){n.errorAction=Vh();return}case Et.FRAG_GAP:case Et.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=Sa.SendAlternateToPenaltyBox;return}case Et.LEVEL_EMPTY_ERROR:case Et.LEVEL_PARSING_ERROR:{var l;const c=n.parent===Pn.MAIN?n.level:i.loadLevel;n.details===Et.LEVEL_EMPTY_ERROR&&((l=n.context)!=null&&(l=l.levelDetails)!=null&&l.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,c))}return;case Et.LEVEL_LOAD_ERROR:case Et.LEVEL_LOAD_TIMEOUT:typeof o?.level=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,o.level));return;case Et.AUDIO_TRACK_LOAD_ERROR:case Et.AUDIO_TRACK_LOAD_TIMEOUT:case Et.SUBTITLE_LOAD_ERROR:case Et.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const c=i.loadLevelObj;if(c&&(o.type===Ar.AUDIO_TRACK&&c.hasAudioGroup(o.groupId)||o.type===Ar.SUBTITLE_TRACK&&c.hasSubtitleGroup(o.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,i.loadLevel),n.errorAction.action=Sa.SendAlternateToPenaltyBox,n.errorAction.flags=vs.MoveAllAlternatesMatchingHost;return}}return;case Et.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:n.errorAction={action:Sa.SendAlternateToPenaltyBox,flags:vs.MoveAllAlternatesMatchingHDCP};return;case Et.KEY_SYSTEM_SESSION_UPDATE_FAILED:case Et.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case Et.KEY_SYSTEM_NO_SESSION:n.errorAction={action:Sa.SendAlternateToPenaltyBox,flags:vs.MoveAllAlternatesMatchingKey};return;case Et.BUFFER_ADD_CODEC_ERROR:case Et.REMUX_ALLOC_ERROR:case Et.BUFFER_APPEND_ERROR:if(!n.errorAction){var u;n.errorAction=this.getLevelSwitchAction(n,(u=n.level)!=null?u:i.loadLevel)}return;case Et.INTERNAL_EXCEPTION:case Et.BUFFER_APPENDING_ERROR:case Et.BUFFER_FULL_ERROR:case Et.LEVEL_SWITCH_ERROR:case Et.BUFFER_STALLED_ERROR:case Et.BUFFER_SEEK_OVER_HOLE:case Et.BUFFER_NUDGE_ON_STALL:n.errorAction=Vh();return}n.type===Kn.KEY_SYSTEM_ERROR&&(n.levelRetry=!1,n.errorAction=Vh())}getPlaylistRetryOrSwitchAction(e,n){const r=this.hls,i=kH(r.config.playlistLoadPolicy,e),o=this.playlistError++;if(H_(i,o,j_(e),e.response))return{action:Sa.RetryRequest,flags:vs.None,retryConfig:i,retryCount:o};const u=this.getLevelSwitchAction(e,n);return i&&(u.retryConfig=i,u.retryCount=o),u}getFragRetryOrSwitchAction(e){const n=this.hls,r=this.getVariantLevelIndex(e.frag),i=n.levels[r],{fragLoadPolicy:o,keyLoadPolicy:l}=n.config,u=kH(aJ(e)?l:o,e),c=n.levels.reduce((h,f)=>h+f.fragmentError,0);if(i&&(e.details!==Et.FRAG_GAP&&i.fragmentError++,!sJ(e)&&H_(u,c,j_(e),e.response)))return{action:Sa.RetryRequest,flags:vs.None,retryConfig:u,retryCount:c};const d=this.getLevelSwitchAction(e,r);return u&&(d.retryConfig=u,d.retryCount=c),d}getLevelSwitchAction(e,n){const r=this.hls;n==null&&(n=r.loadLevel);const i=this.hls.levels[n];if(i){var o,l;const d=e.details;i.loadError++,d===Et.BUFFER_APPEND_ERROR&&i.fragmentError++;let h=-1;const{levels:f,loadLevel:p,minAutoLevel:m,maxAutoLevel:g}=r;!r.autoLevelEnabled&&!r.config.preserveManualLevelOnError&&(r.loadLevel=-1);const y=(o=e.frag)==null?void 0:o.type,v=(y===Pn.AUDIO&&d===Et.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(d===Et.BUFFER_ADD_CODEC_ERROR||d===Et.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:w})=>i.audioCodec!==w),E=e.sourceBufferName==="video"&&(d===Et.BUFFER_ADD_CODEC_ERROR||d===Et.BUFFER_APPEND_ERROR)&&f.some(({codecSet:w,audioCodec:I})=>i.codecSet!==w&&i.audioCodec===I),{type:T,groupId:A}=(l=e.context)!=null?l:{};for(let w=f.length;w--;){const I=(w+p)%f.length;if(I!==p&&I>=m&&I<=g&&f[I].loadError===0){var u,c;const C=f[I];if(d===Et.FRAG_GAP&&y===Pn.MAIN&&e.frag){const j=f[I].details;if(j){const F=qd(e.frag,j.fragments,e.frag.start);if(F!=null&&F.gap)continue}}else{if(T===Ar.AUDIO_TRACK&&C.hasAudioGroup(A)||T===Ar.SUBTITLE_TRACK&&C.hasSubtitleGroup(A))continue;if(y===Pn.AUDIO&&(u=i.audioGroups)!=null&&u.some(j=>C.hasAudioGroup(j))||y===Pn.SUBTITLE&&(c=i.subtitleGroups)!=null&&c.some(j=>C.hasSubtitleGroup(j))||v&&i.audioCodec===C.audioCodec||E&&i.codecSet===C.codecSet||!v&&i.codecSet!==C.codecSet)continue}h=I;break}}if(h>-1&&r.loadLevel!==h)return e.levelRetry=!0,this.playlistError=0,{action:Sa.SendAlternateToPenaltyBox,flags:vs.None,nextAutoLevel:h}}return{action:Sa.SendAlternateToPenaltyBox,flags:vs.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var r;switch((r=n.errorAction)==null?void 0:r.action){case Sa.DoNothing:break;case Sa.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==Et.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,r=e.errorAction;if(!r)return;const{flags:i}=r,o=r.nextAutoLevel;switch(i){case vs.None:this.switchLevel(e,o);break;case vs.MoveAllAlternatesMatchingHDCP:{const c=this.getVariantLevelIndex(e.frag),d=n.levels[c],h=d?.attrs["HDCP-LEVEL"];if(r.hdcpLevel=h,h==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(h){n.maxHdcpLevel=XD[XD.indexOf(h)-1],r.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}}case vs.MoveAllAlternatesMatchingKey:{const c=e.decryptdata;if(c){const d=this.hls.levels,h=d.length;for(let p=h;p--;)if(this.variantHasKey(d[p],c)){var l,u;this.log(`Banned key found in level ${p} (${d[p].bitrate}bps) or audio group "${(l=d[p].audioGroups)==null?void 0:l.join(",")}" (${(u=e.frag)==null?void 0:u.type} fragment) ${wa(c.keyId||[])}`),d[p].fragmentError++,d[p].loadError++,this.log(`Removing level ${p} with key error (${e.error})`),this.hls.removeLevel(p)}const f=e.frag;if(this.hls.levels.length<h)r.resolved=!0;else if(f&&f.type!==Pn.MAIN){const p=f.decryptdata;p&&!c.matches(p)&&(r.resolved=!0)}}break}}r.resolved||this.switchLevel(e,o)}switchLevel(e,n){if(n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===Et.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const r=YD(e.mimeType),i=this.hls.levels;for(let o=i.length;o--;)i[o][`${e.sourceBufferName}Codec`]===r&&(this.log(`Removing level ${o} for ${e.details} ("${r}" not supported)`),this.hls.removeLevel(o))}}}function Vh(t){const e={action:Sa.DoNothing,flags:vs.None};return t&&(e.resolved=!0),e}var ra={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class ANe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.BUFFER_APPENDED,this.onBufferAppended,this),e.on(be.FRAG_BUFFERED,this.onFragBuffered,this),e.on(be.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.BUFFER_APPENDED,this.onBufferAppended,this),e.off(be.FRAG_BUFFERED,this.onFragBuffered,this),e.off(be.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const r=this.activePartLists[n];if(r)for(let i=r.length;i--;){const o=r[i];if(!o)break;if(o.start<=e&&e<=o.end&&o.loaded)return o}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){return this.getFragAtPos(e,n,!0)}getFragAtPos(e,n,r){const{fragments:i}=this,o=Object.keys(i);for(let l=o.length;l--;){const u=i[o[l]];if(u?.body.type===n&&(!r||u.buffered)){const c=u.body;if(c.start<=e&&e<=c.end)return c}}return null}detectEvictedFragments(e,n,r,i,o){this.timeRanges&&(this.timeRanges[e]=n);const l=i?.fragment.sn||-1;Object.keys(this.fragments).forEach(u=>{const c=this.fragments[u];if(!c||l>=c.body.sn)return;if(!c.buffered&&(!c.loaded||o)){c.body.type===r&&this.removeFragment(c.body);return}const d=c.range[e];if(d){if(d.time.length===0){this.removeFragment(c.body);return}d.time.some(h=>{const f=!this.isTimeBuffered(h.startPTS,h.endPTS,n);return f&&this.removeFragment(c.body),f})}})}detectPartialFragments(e){const n=this.timeRanges;if(!n||e.frag.sn==="initSegment")return;const r=e.frag,i=Cf(r),o=this.fragments[i];if(!o||o.buffered&&r.gap)return;const l=!r.relurl;Object.keys(n).forEach(u=>{const c=r.elementaryStreams[u];if(!c)return;const d=n[u],h=l||c.partial===!0;o.range[u]=this.getBufferedTimes(r,e.part,h,d)}),o.loaded=null,Object.keys(o.range).length?(this.bufferedEnd(o,r),gv(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}bufferedEnd(e,n){e.buffered=!0,(e.body.endList=n.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,n){const r=this.activePartLists[n];r&&(this.activePartLists[n]=DH(r,i=>i.fragment.sn>=e))}fragBuffered(e,n){const r=Cf(e);let i=this.fragments[r];!i&&n&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,this.bufferedEnd(i,e))}getBufferedTimes(e,n,r,i){const o={time:[],partial:r},l=e.start,u=e.end,c=e.minEndPTS||u,d=e.maxStartPTS||l;for(let h=0;h<i.length;h++){const f=i.start(h)-this.bufferPadding,p=i.end(h)+this.bufferPadding;if(d>=f&&c<=p){o.time.push({startPTS:Math.max(l,i.start(h)),endPTS:Math.min(u,i.end(h))});break}else if(l<p&&u>f){const m=Math.max(l,i.start(h)),g=Math.min(u,i.end(h));g>m&&(o.partial=!0,o.time.push({startPTS:m,endPTS:g}))}else if(u<=f)break}return o}getPartialFragment(e){let n=null,r,i,o,l=0;const{bufferPadding:u,fragments:c}=this;return Object.keys(c).forEach(d=>{const h=c[d];h&&gv(h)&&(i=h.body.start-u,o=h.body.end+u,e>=i&&e<=o&&(r=Math.min(e-i,o-e),l<=r&&(n=h.body,l=r)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||gv(n))}getState(e){const n=Cf(e),r=this.fragments[n];return r?r.buffered?gv(r)?ra.PARTIAL:ra.OK:ra.APPENDING:ra.NOT_LOADED}isTimeBuffered(e,n,r){let i,o;for(let l=0;l<r.length;l++){if(i=r.start(l)-this.bufferPadding,o=r.end(l)+this.bufferPadding,e>=i&&n<=o)return!0;if(n<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,n){if(n.frag.sn==="initSegment"||n.frag.bitrateTest)return;const r=n.frag,i=n.part?null:n,o=Cf(r);this.fragments[o]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:r,part:i,timeRanges:o,type:l}=n;if(r.sn==="initSegment")return;const u=r.type;if(i){let d=this.activePartLists[u];d||(this.activePartLists[u]=d=[]),d.push(i)}this.timeRanges=o;const c=o[l];this.detectEvictedFragments(l,c,u,i)}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=Cf(e);return!!this.fragments[n]}hasFragments(e){const{fragments:n}=this,r=Object.keys(n);if(!e)return r.length>0;for(let i=r.length;i--;){const o=n[r[i]];if(o?.body.type===e)return!0}return!1}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,r,i,o){i&&!this.hasGaps||Object.keys(this.fragments).forEach(l=>{const u=this.fragments[l];if(!u)return;const c=u.body;c.type!==r||i&&!c.gap||c.start<n&&c.end>e&&(u.buffered||o)&&this.removeFragment(c)})}removeFragment(e){const n=Cf(e);e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=DH(r,o=>o.fragment.sn!==i)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const n=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;n&&n.forEach(r=>r.clearElementaryStreamInfo())}}function gv(t){var e,n,r;return t.buffered&&!!(t.body.gap||(e=t.range.video)!=null&&e.partial||(n=t.range.audio)!=null&&n.partial||(r=t.range.audiovideo)!=null&&r.partial)}function Cf(t){return`${t.type}_${t.level}_${t.sn}`}function DH(t,e){return t.filter(n=>{const r=e(n);return r||n.clearElementaryStreamInfo(),r})}var Ic={cbc:0,ctr:1};class INe{constructor(e,n,r){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=n,this.aesMode=r}decrypt(e,n){switch(this.aesMode){case Ic.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e);case Ic.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},n,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function xNe(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?t.slice(0,e-n):t}class RNe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=n.getUint32(i*4);return r}initTable(){const e=this.sBox,n=this.invSBox,r=this.subMix,i=r[0],o=r[1],l=r[2],u=r[3],c=this.invSubMix,d=c[0],h=c[1],f=c[2],p=c[3],m=new Uint32Array(256);let g=0,y=0,b=0;for(b=0;b<256;b++)b<128?m[b]=b<<1:m[b]=b<<1^283;for(b=0;b<256;b++){let v=y^y<<1^y<<2^y<<3^y<<4;v=v>>>8^v&255^99,e[g]=v,n[v]=g;const _=m[g],E=m[_],T=m[E];let A=m[v]*257^v*16843008;i[g]=A<<24|A>>>8,o[g]=A<<16|A>>>16,l[g]=A<<8|A>>>24,u[g]=A,A=T*16843009^E*65537^_*257^g*16843008,d[v]=A<<24|A>>>8,h[v]=A<<16|A>>>16,f[v]=A<<8|A>>>24,p[v]=A,g?(g=_^m[m[m[T^_]]],y^=m[m[y]]):g=y=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<n.length&&r;)r=n[i]===this.key[i],i++;if(r)return;this.key=n;const o=this.keySize=n.length;if(o!==4&&o!==6&&o!==8)throw new Error("Invalid aes key size="+o);const l=this.ksRows=(o+6+1)*4;let u,c;const d=this.keySchedule=new Uint32Array(l),h=this.invKeySchedule=new Uint32Array(l),f=this.sBox,p=this.rcon,m=this.invSubMix,g=m[0],y=m[1],b=m[2],v=m[3];let _,E;for(u=0;u<l;u++){if(u<o){_=d[u]=n[u];continue}E=_,u%o===0?(E=E<<8|E>>>24,E=f[E>>>24]<<24|f[E>>>16&255]<<16|f[E>>>8&255]<<8|f[E&255],E^=p[u/o|0]<<24):o>6&&u%o===4&&(E=f[E>>>24]<<24|f[E>>>16&255]<<16|f[E>>>8&255]<<8|f[E&255]),d[u]=_=(d[u-o]^E)>>>0}for(c=0;c<l;c++)u=l-c,c&3?E=d[u]:E=d[u-4],c<4||u<=4?h[c]=E:h[c]=g[f[E>>>24]]^y[f[E>>>16&255]]^b[f[E>>>8&255]]^v[f[E&255]],h[c]=h[c]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,r){const i=this.keySize+6,o=this.invKeySchedule,l=this.invSBox,u=this.invSubMix,c=u[0],d=u[1],h=u[2],f=u[3],p=this.uint8ArrayToUint32Array_(r);let m=p[0],g=p[1],y=p[2],b=p[3];const v=new Int32Array(e),_=new Int32Array(v.length);let E,T,A,w,I,C,j,F,K,he,q,Ee,Te,ge;const Be=this.networkToHostOrderSwap;for(;n<v.length;){for(K=Be(v[n]),he=Be(v[n+1]),q=Be(v[n+2]),Ee=Be(v[n+3]),I=K^o[0],C=Ee^o[1],j=q^o[2],F=he^o[3],Te=4,ge=1;ge<i;ge++)E=c[I>>>24]^d[C>>16&255]^h[j>>8&255]^f[F&255]^o[Te],T=c[C>>>24]^d[j>>16&255]^h[F>>8&255]^f[I&255]^o[Te+1],A=c[j>>>24]^d[F>>16&255]^h[I>>8&255]^f[C&255]^o[Te+2],w=c[F>>>24]^d[I>>16&255]^h[C>>8&255]^f[j&255]^o[Te+3],I=E,C=T,j=A,F=w,Te=Te+4;E=l[I>>>24]<<24^l[C>>16&255]<<16^l[j>>8&255]<<8^l[F&255]^o[Te],T=l[C>>>24]<<24^l[j>>16&255]<<16^l[F>>8&255]<<8^l[I&255]^o[Te+1],A=l[j>>>24]<<24^l[F>>16&255]<<16^l[I>>8&255]<<8^l[C&255]^o[Te+2],w=l[F>>>24]<<24^l[I>>16&255]<<16^l[C>>8&255]<<8^l[j&255]^o[Te+3],_[n]=Be(E^m),_[n+1]=Be(w^g),_[n+2]=Be(A^y),_[n+3]=Be(T^b),m=K,g=he,y=q,b=Ee,n=n+4}return _.buffer}}class kNe{constructor(e,n,r){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=n,this.aesMode=r}expandKey(){const e=CNe(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function CNe(t){switch(t){case Ic.cbc:return"AES-CBC";case Ic.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const DNe=16;class pN{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?xNe(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,r,i){return this.useSoftware?new Promise((o,l)=>{const u=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(u,n,r,i);const c=this.flush();c?o(c.buffer):l(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,r,i)}softwareDecrypt(e,n,r,i){const{currentIV:o,currentResult:l,remainderData:u}=this;if(i!==Ic.cbc||n.byteLength!==16)return Xr.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),u&&(e=lo(u,e),this.remainderData=null);const c=this.getValidChunk(e);if(!c.length)return null;o&&(r=o);let d=this.softwareDecrypter;d||(d=this.softwareDecrypter=new RNe),d.expandKey(n);const h=l;return this.currentResult=d.decrypt(c.buffer,0,r),this.currentIV=c.slice(-16).buffer,h||null}webCryptoDecrypt(e,n,r,i){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,r,i));this.key=n,this.fastAesKey=new kNe(this.subtle,n,i)}return this.fastAesKey.expandKey().then(o=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new INe(this.subtle,new Uint8Array(r),i).decrypt(e.buffer,o)):Promise.reject(new Error("web crypto not initialized"))).catch(o=>(Xr.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${o.name}: ${o.message}`),this.onWebCryptoError(e,n,r,i)))}onWebCryptoError(e,n,r,i){const o=this.enableSoftwareAES;if(o){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,r,i);const l=this.flush();if(l)return l.buffer}throw new Error("WebCrypto"+(o?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let n=e;const r=e.length-e.length%DNe;return r!==e.length&&(n=e.slice(0,r),this.remainderData=e.slice(r)),n}logOnce(e){this.logEnabled&&(Xr.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const LH=Math.pow(2,17);class LNe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const r=e.url;if(!r)return Promise.reject(new au({type:Kn.NETWORK_ERROR,details:Et.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,o=i.fLoader,l=i.loader;return new Promise((u,c)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(g=>g[0]==="GAP")){c(OH(e));return}else e.gap=!1;const d=this.loader=o?new o(i):new l(i),h=PH(e);e.loader=d;const f=CH(i.fragLoadPolicy.default),p={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:LH};e.stats=d.stats;const m={onSuccess:(g,y,b,v)=>{this.resetLoader(e,d);let _=g.data;b.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(_.slice(0,16)),_=_.slice(16)),u({frag:e,part:null,payload:_,networkDetails:v})},onError:(g,y,b,v)=>{this.resetLoader(e,d),c(new au({type:Kn.NETWORK_ERROR,details:Et.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Yr({url:r,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:b,stats:v}))},onAbort:(g,y,b)=>{this.resetLoader(e,d),c(new au({type:Kn.NETWORK_ERROR,details:Et.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:b,stats:g}))},onTimeout:(g,y,b)=>{this.resetLoader(e,d),c(new au({type:Kn.NETWORK_ERROR,details:Et.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:b,stats:g}))}};n&&(m.onProgress=(g,y,b,v)=>n({frag:e,part:null,payload:b,networkDetails:v})),d.load(h,p,m)})}loadPart(e,n,r){this.abort();const i=this.config,o=i.fLoader,l=i.loader;return new Promise((u,c)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){c(OH(e,n));return}const d=this.loader=o?new o(i):new l(i),h=PH(e,n);e.loader=d;const f=CH(i.fragLoadPolicy.default),p={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:LH};n.stats=d.stats,d.load(h,p,{onSuccess:(m,g,y,b)=>{this.resetLoader(e,d),this.updateStatsFromPart(e,n);const v={frag:e,part:n,payload:m.data,networkDetails:b};r(v),u(v)},onError:(m,g,y,b)=>{this.resetLoader(e,d),c(new au({type:Kn.NETWORK_ERROR,details:Et.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:Yr({url:h.url,data:void 0},m),error:new Error(`HTTP Error ${m.code} ${m.text}`),networkDetails:y,stats:b}))},onAbort:(m,g,y)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,d),c(new au({type:Kn.NETWORK_ERROR,details:Et.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:y,stats:m}))},onTimeout:(m,g,y)=>{this.resetLoader(e,d),c(new au({type:Kn.NETWORK_ERROR,details:Et.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${p.timeout}ms`),networkDetails:y,stats:m}))}})})}updateStatsFromPart(e,n){const r=e.stats,i=n.stats,o=i.total;if(r.loaded+=i.loaded,o){const c=Math.round(e.duration/n.duration),d=Math.min(Math.round(r.loaded/o),c),f=(c-d)*Math.round(r.loaded/d);r.total=r.loaded+f}else r.total=Math.max(r.loaded,r.total);const l=r.loading,u=i.loading;l.start?l.first+=u.first-u.start:(l.start=u.start,l.first=u.first),l.end=u.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function PH(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,o=n.byteRangeEndOffset;if(An(i)&&An(o)){var l;let u=i,c=o;if(t.sn==="initSegment"&&PNe((l=t.decryptdata)==null?void 0:l.method)){const d=o-i;d%16&&(c=o+(16-d%16)),i!==0&&(r.resetIV=!0,u=i-16)}r.rangeStart=u,r.rangeEnd=c}return r}function OH(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:Kn.MEDIA_ERROR,details:Et.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new au(r)}function PNe(t){return t==="AES-128"||t==="AES-256"}class au extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class oJ extends ho{constructor(e,n){super(e,n),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class mN{constructor(e,n,r,i=0,o=-1,l=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=yv(),this.buffering={audio:yv(),video:yv(),audiovideo:yv()},this.level=e,this.sn=n,this.id=r,this.size=i,this.part=o,this.partial=l}}function yv(){return{start:0,executeStart:0,executeEnd:0,end:0}}const MH={length:0,start:()=>0,end:()=>0};class fr{static isBuffered(e,n){if(e){const r=fr.getBuffered(e);for(let i=r.length;i--;)if(n>=r.start(i)&&n<=r.end(i))return!0}return!1}static bufferedRanges(e){if(e){const n=fr.getBuffered(e);return fr.timeRangesToArray(n)}return[]}static timeRangesToArray(e){const n=[];for(let r=0;r<e.length;r++)n.push({start:e.start(r),end:e.end(r)});return n}static bufferInfo(e,n,r){if(e){const i=fr.bufferedRanges(e);if(i.length)return fr.bufferedInfo(i,n,r)}return{len:0,start:n,end:n,bufferedIndex:-1}}static bufferedInfo(e,n,r){n=Math.max(0,n),e.length>1&&e.sort((h,f)=>h.start-f.start||f.end-h.end);let i=-1,o=[];if(r)for(let h=0;h<e.length;h++){n>=e[h].start&&n<=e[h].end&&(i=h);const f=o.length;if(f){const p=o[f-1].end;e[h].start-p<r?e[h].end>p&&(o[f-1].end=e[h].end):o.push(e[h])}else o.push(e[h])}else o=e;let l=0,u,c=n,d=n;for(let h=0;h<o.length;h++){const f=o[h].start,p=o[h].end;if(i===-1&&n>=f&&n<=p&&(i=h),n+r>=f&&n<p)c=f,d=p,l=d-n;else if(n+r<f){u=f;break}}return{len:l,start:c||0,end:d||0,nextStart:u,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||MH}catch(n){return Xr.log("failed to get media.buffered",n),MH}}}const lJ=/\{\$([a-zA-Z0-9-_]+)\}/g;function NH(t){return lJ.test(t)}function ZD(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(lJ,r=>{const i=r.substring(2,r.length-1),o=n?.[i];return o===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):o})}return e}function FH(t,e,n){let r=t.variableList;r||(t.variableList=r={});let i,o;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const l=new self.URL(n).searchParams;if(l.has(i))o=l.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`)}catch(l){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${l.message}`))}}else i=e.NAME,o=e.VALUE;i in r?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=o||""}function ONe(t,e,n){const r=e.IMPORT;if(n&&r in n){let i=t.variableList;i||(t.variableList=i={}),i[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}const MNe=/^(\d+)x(\d+)$/,UH=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Ri{constructor(e,n){typeof e=="string"&&(e=Ri.parseAttrList(e,n)),ri(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const r=new Uint8Array(n.length/2);for(let i=0;i<n.length/2;i++)r[i]=parseInt(n.slice(i*2,i*2+2),16);return r}return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const r=this[e];return r?parseFloat(r):n}enumeratedString(e){return this[e]}enumeratedStringList(e,n){const r=this[e];return(r?r.split(/[ ,]+/):[]).reduce((i,o)=>(i[o.toLowerCase()]=!0,i),n)}bool(e){return this[e]==="YES"}decimalResolution(e){const n=MNe.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e,n){let r;const i={};for(UH.lastIndex=0;(r=UH.exec(e))!==null;){const l=r[1].trim();let u=r[2];const c=u.indexOf('"')===0&&u.lastIndexOf('"')===u.length-1;let d=!1;if(c)u=u.slice(1,-1);else switch(l){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":d=!0}if(n&&(c||d))u=ZD(n,u);else if(!d&&!c)switch(l){case"CLOSED-CAPTIONS":if(u==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":Xr.warn(`${e}: attribute ${l} is missing quotes`)}i[l]=u}return i}}const NNe="com.apple.hls.interstitial";function FNe(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function UNe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class uJ{constructor(e,n,r=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=n?.tagAnchor||null,this.tagOrder=(i=n?.tagOrder)!=null?i:r,n){const o=n.attr;for(const l in o)if(Object.prototype.hasOwnProperty.call(e,l)&&e[l]!==o[l]){Xr.warn(`DATERANGE tag attribute: "${l}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=l;break}e=ri(new Ri({}),o,e)}if(this.attr=e,n?(this._startDate=n._startDate,this._cue=n._cue,this._endDate=n._endDate,this._dateAtEnd=n._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const o=n?.endDate||new Date(this.attr["END-DATE"]);An(o.getTime())&&(this._endDate=o)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(Xr.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const n=this.duration;return n!==null?this._dateAtEnd=new Date(this._startDate.getTime()+n*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(An(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===NNe}get isValid(){return!!this.id&&!this._badValueForSameId&&An(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const BNe=10;class zNe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(n=>{let r=n.decryptdata;return r||(n.setKeyFormat(e.keyFormat),r=n.decryptdata),!!r&&e.matches(r)})}get hasProgramDateTime(){return this.fragments.length?An(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||BNe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const n=this.lastPartIndex;if(n!==-1){for(let r=e.length;r--;)if(e[r].index>n)return e[r].index;return n}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function G_(t,e){return t.length===e.length?!t.some((n,r)=>n!==e[r]):!1}function BH(t,e){return!t&&!e?!0:!t||!e?!1:G_(t,e)}function Kh(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function gN(t){switch(t){case"AES-128":case"AES-256":return Ic.cbc;case"AES-256-CTR":return Ic.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function yN(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function JD(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function $Ne(t){const e=JD(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function cJ(t){const e=function(r,i,o){const l=r[i];r[i]=r[o],r[o]=l};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function dJ(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const o=i[0]==="base64",l=i[1];o?(r.splice(-1,1),n=yN(l)):n=$Ne(l)}}return n}const V_=typeof self<"u"?self:void 0;var ki={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Ia={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function a0(t){switch(t){case Ia.FAIRPLAY:return ki.FAIRPLAY;case Ia.PLAYREADY:return ki.PLAYREADY;case Ia.WIDEVINE:return ki.WIDEVINE;case Ia.CLEARKEY:return ki.CLEARKEY}}function Sk(t){switch(t){case ki.FAIRPLAY:return Ia.FAIRPLAY;case ki.PLAYREADY:return Ia.PLAYREADY;case ki.WIDEVINE:return Ia.WIDEVINE;case ki.CLEARKEY:return Ia.CLEARKEY}}function tg(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[ki.FAIRPLAY,ki.WIDEVINE,ki.PLAYREADY,ki.CLEARKEY].filter(i=>!!e[i]):[];return!r[ki.WIDEVINE]&&n&&r.push(ki.WIDEVINE),r}const fJ=(function(t){return V_!=null&&(t=V_.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function qNe(t,e,n,r){let i;switch(t){case ki.FAIRPLAY:i=["cenc","sinf"];break;case ki.WIDEVINE:case ki.PLAYREADY:i=["cenc"];break;case ki.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return jNe(i,e,n,r)}function jNe(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(o=>({contentType:`audio/mp4; codecs=${o}`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:n.map(o=>({contentType:`video/mp4; codecs=${o}`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function HNe(t){var e;return!!t&&(t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(n=>n==="persistent-license")))}function hJ(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),r=n.substring(n.indexOf("<"),n.length),l=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(l){const u=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(u){const c=yN(u).subarray(0,16);return cJ(c),c}}return null}let Df={};class vc{static clearKeyUriToKeyIdMap(){Df={}}static setKeyIdForUri(e,n){Df[e]=n}static addKeyIdForUri(e){const n=Object.keys(Df).length%Number.MAX_SAFE_INTEGER,r=new Uint8Array(16);return new DataView(r.buffer,12,4).setUint32(0,n),Df[e]=r,r}constructor(e,n,r,i=[1],o=null,l){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=r,this.keyFormatVersions=i,this.iv=o,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!Kh(e),l!=null&&l.startsWith("0x")&&(this.keyId=new Uint8Array($Z(l)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&G_(e.keyFormatVersions,this.keyFormatVersions)&&BH(e.iv,this.iv)&&BH(e.keyId,this.keyId)}isSupported(){if(this.method){if(Kh(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Ia.FAIRPLAY:case Ia.WIDEVINE:case Ia.PLAYREADY:case Ia.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,n){if(!this.encrypted||!this.uri)return null;if(Kh(this.method)){let o=this.iv;return o||(typeof e!="number"&&(Xr.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),o=VNe(e)),new vc(this.method,this.uri,"identity",this.keyFormatVersions,o)}if(this.keyId){const o=Df[this.uri];if(o&&!G_(this.keyId,o)&&vc.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const r=dJ(this.uri);if(r)switch(this.keyFormat){case Ia.WIDEVINE:if(this.pssh=r,!this.keyId){const o=YMe(r.buffer);if(o.length){var i;const l=o[0];this.keyId=(i=l.kids)!=null&&i.length?l.kids[0]:null}}this.keyId||(this.keyId=zH(n));break;case Ia.PLAYREADY:{const o=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=WMe(o,null,r),this.keyId=hJ(r);break}default:{let o=r.subarray(0,16);if(o.length!==16){const l=new Uint8Array(16);l.set(o,16-o.length),o=l}this.keyId=o;break}}if(!this.keyId||this.keyId.byteLength!==16){let o;o=GNe(n),o||(o=zH(n),o||(o=Df[this.uri])),o&&(this.keyId=o,vc.setKeyIdForUri(this.uri,o))}return this}}function GNe(t){const e=t?.[Ia.WIDEVINE];return e?e.keyId:null}function zH(t){const e=t?.[Ia.PLAYREADY];if(e){const n=dJ(e.uri);if(n)return hJ(n)}return null}function VNe(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const $H=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,qH=/#EXT-X-MEDIA:(.*)/g,KNe=/^#EXT(?:INF|-X-TARGETDURATION):/m,wk=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),WNe=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class kl{static findGroup(e,n){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===n)return i}}static resolve(e,n){return lN.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return KNe.test(e)}static parseMasterPlaylist(e,n){const r=NH(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},o=[];if($H.lastIndex=0,!e.startsWith("#EXTM3U"))return i.playlistParsingError=new Error("no EXTM3U delimiter"),i;let l;for(;(l=$H.exec(e))!=null;)if(l[1]){var u;const d=new Ri(l[1],i),h=ZD(i,l[2]),f={attrs:d,bitrate:d.decimalInteger("BANDWIDTH")||d.decimalInteger("AVERAGE-BANDWIDTH"),name:d.NAME,url:kl.resolve(h,n)},p=d.decimalResolution("RESOLUTION");p&&(f.width=p.width,f.height=p.height),GH(d.CODECS,f);const m=d["SUPPLEMENTAL-CODECS"];m&&(f.supplemental={},GH(m,f.supplemental)),(u=f.unknownCodecs)!=null&&u.length||o.push(f),i.levels.push(f)}else if(l[3]){const d=l[3],h=l[4];switch(d){case"SESSION-DATA":{const f=new Ri(h,i),p=f["DATA-ID"];p&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[p]=f);break}case"SESSION-KEY":{const f=jH(h,n,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):Xr.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${h}"`);break}case"DEFINE":{{const f=new Ri(h,i);FH(i,f,n)}break}case"CONTENT-STEERING":{const f=new Ri(h,i);i.contentSteering={uri:kl.resolve(f["SERVER-URI"],n),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=HH(h);break}}}const c=o.length>0&&o.length<i.levels.length;return i.levels=c?o:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,n,r){let i;const o={},l=r.levels,u={AUDIO:l.map(d=>({id:d.attrs.AUDIO,audioCodec:d.audioCodec})),SUBTITLES:l.map(d=>({id:d.attrs.SUBTITLES,textCodec:d.textCodec})),"CLOSED-CAPTIONS":[]};let c=0;for(qH.lastIndex=0;(i=qH.exec(e))!==null;){const d=new Ri(i[1],r),h=d.TYPE;if(h){const f=u[h],p=o[h]||[];o[h]=p;const m=d.LANGUAGE,g=d["ASSOC-LANGUAGE"],y=d.CHANNELS,b=d.CHARACTERISTICS,v=d["INSTREAM-ID"],_={attrs:d,bitrate:0,id:c++,groupId:d["GROUP-ID"]||"",name:d.NAME||m||"",type:h,default:d.bool("DEFAULT"),autoselect:d.bool("AUTOSELECT"),forced:d.bool("FORCED"),lang:m,url:d.URI?kl.resolve(d.URI,n):""};if(g&&(_.assocLang=g),y&&(_.channels=y),b&&(_.characteristics=b),v&&(_.instreamId=v),f!=null&&f.length){const E=kl.findGroup(f,_.groupId)||f[0];VH(_,E,"audioCodec"),VH(_,E,"textCodec")}p.push(_)}}return o}static parseLevelPlaylist(e,n,r,i,o,l){var u;const c={url:n},d=new zNe(n),h=d.fragments,f=[];let p=null,m=0,g=0,y=0,b=0,v=0,_=null,E=new Ek(i,c),T,A,w,I=-1,C=!1,j=null,F;if(wk.lastIndex=0,d.m3u8=e,d.hasVariableRefs=NH(e),((u=wk.exec(e))==null?void 0:u[0])!=="#EXTM3U")return d.playlistParsingError=new Error("Missing format identifier #EXTM3U"),d;for(;(T=wk.exec(e))!==null;){C&&(C=!1,E=new Ek(i,c),E.playlistOffset=y,E.setStart(y),E.sn=m,E.cc=b,v&&(E.bitrate=v),E.level=r,p&&(E.initSegment=p,p.rawProgramDateTime&&(E.rawProgramDateTime=p.rawProgramDateTime,p.rawProgramDateTime=null),j&&(E.setByteRange(j),j=null)));const Ee=T[1];if(Ee){E.duration=parseFloat(Ee);const Te=(" "+T[2]).slice(1);E.title=Te||null,E.tagList.push(Te?["INF",Ee,Te]:["INF",Ee])}else if(T[3]){if(An(E.duration)){E.playlistOffset=y,E.setStart(y),w&&WH(E,w,d),E.sn=m,E.level=r,E.cc=b,h.push(E);const Te=(" "+T[3]).slice(1);E.relurl=ZD(d,Te),eL(E,_,f),_=E,y+=E.duration,m++,g=0,C=!0}}else{if(T=T[0].match(WNe),!T){Xr.warn("No matches on slow regex match for level playlist!");continue}for(A=1;A<T.length&&T[A]===void 0;A++);const Te=(" "+T[A]).slice(1),ge=(" "+T[A+1]).slice(1),Be=T[A+2]?(" "+T[A+2]).slice(1):null;switch(Te){case"BYTERANGE":_?E.setByteRange(ge,_):E.setByteRange(ge);break;case"PROGRAM-DATE-TIME":E.rawProgramDateTime=ge,E.tagList.push(["PROGRAM-DATE-TIME",ge]),I===-1&&(I=h.length);break;case"PLAYLIST-TYPE":d.type&&Ql(d,Te,T),d.type=ge.toUpperCase();break;case"MEDIA-SEQUENCE":d.startSN!==0?Ql(d,Te,T):h.length>0&&YH(d,Te,T),m=d.startSN=parseInt(ge);break;case"SKIP":{d.skippedSegments&&Ql(d,Te,T);const He=new Ri(ge,d),Ye=He.decimalInteger("SKIPPED-SEGMENTS");if(An(Ye)){d.skippedSegments+=Ye;for(let we=Ye;we--;)h.push(null);m+=Ye}const Ie=He.enumeratedString("RECENTLY-REMOVED-DATERANGES");Ie&&(d.recentlyRemovedDateranges=(d.recentlyRemovedDateranges||[]).concat(Ie.split("	")));break}case"TARGETDURATION":d.targetduration!==0&&Ql(d,Te,T),d.targetduration=Math.max(parseInt(ge),1);break;case"VERSION":d.version!==null&&Ql(d,Te,T),d.version=parseInt(ge);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":d.live||Ql(d,Te,T),d.live=!1;break;case"#":(ge||Be)&&E.tagList.push(Be?[ge,Be]:[ge]);break;case"DISCONTINUITY":b++,E.tagList.push(["DIS"]);break;case"GAP":E.gap=!0,E.tagList.push([Te]);break;case"BITRATE":E.tagList.push([Te,ge]),v=parseInt(ge)*1e3,An(v)?E.bitrate=v:v=0;break;case"DATERANGE":{const He=new Ri(ge,d),Ye=new uJ(He,d.dateRanges[He.ID],d.dateRangeTagCount);d.dateRangeTagCount++,Ye.isValid||d.skippedSegments?d.dateRanges[Ye.id]=Ye:Xr.warn(`Ignoring invalid DATERANGE tag: "${ge}"`),E.tagList.push(["EXT-X-DATERANGE",ge]);break}case"DEFINE":{{const He=new Ri(ge,d);"IMPORT"in He?ONe(d,He,l):FH(d,He,n)}break}case"DISCONTINUITY-SEQUENCE":d.startCC!==0?Ql(d,Te,T):h.length>0&&YH(d,Te,T),d.startCC=b=parseInt(ge);break;case"KEY":{const He=jH(ge,n,d);if(He.isSupported()){if(He.method==="NONE"){w=void 0;break}w||(w={});const Ye=w[He.keyFormat];Ye!=null&&Ye.matches(He)||(Ye&&(w=ri({},w)),w[He.keyFormat]=He)}else Xr.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${ge}"`);break}case"START":d.startTimeOffset=HH(ge);break;case"MAP":{const He=new Ri(ge,d);if(E.duration){const Ye=new Ek(i,c);KH(Ye,He,r,w),p=Ye,E.initSegment=p,p.rawProgramDateTime&&!E.rawProgramDateTime&&(E.rawProgramDateTime=p.rawProgramDateTime)}else{const Ye=E.byteRangeEndOffset;if(Ye){const Ie=E.byteRangeStartOffset;j=`${Ye-Ie}@${Ie}`}else j=null;KH(E,He,r,w),p=E,C=!0}p.cc=b;break}case"SERVER-CONTROL":{F&&Ql(d,Te,T),F=new Ri(ge),d.canBlockReload=F.bool("CAN-BLOCK-RELOAD"),d.canSkipUntil=F.optionalFloat("CAN-SKIP-UNTIL",0),d.canSkipDateRanges=d.canSkipUntil>0&&F.bool("CAN-SKIP-DATERANGES"),d.partHoldBack=F.optionalFloat("PART-HOLD-BACK",0),d.holdBack=F.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{d.partTarget&&Ql(d,Te,T);const He=new Ri(ge);d.partTarget=He.decimalFloatingPoint("PART-TARGET");break}case"PART":{let He=d.partList;He||(He=d.partList=[]);const Ye=g>0?He[He.length-1]:void 0,Ie=g++,we=new Ri(ge,d),je=new OMe(we,E,c,Ie,Ye);He.push(je),E.duration+=je.duration;break}case"PRELOAD-HINT":{const He=new Ri(ge,d);d.preloadHint=He;break}case"RENDITION-REPORT":{const He=new Ri(ge,d);d.renditionReports=d.renditionReports||[],d.renditionReports.push(He);break}default:Xr.warn(`line parsed but not handled: ${T}`);break}}}_&&!_.relurl?(h.pop(),y-=_.duration,d.partList&&(d.fragmentHint=_)):d.partList&&(eL(E,_,f),E.cc=b,d.fragmentHint=E,w&&WH(E,w,d)),d.targetduration||(d.playlistParsingError=new Error("Missing Target Duration"));const K=h.length,he=h[0],q=h[K-1];if(y+=d.skippedSegments*d.targetduration,y>0&&K&&q){d.averagetargetduration=y/K;const Ee=q.sn;d.endSN=Ee!=="initSegment"?Ee:0,d.live||(q.endList=!0),I>0&&(XNe(h,I),he&&f.unshift(he))}return d.fragmentHint&&(y+=d.fragmentHint.duration),d.totalduration=y,f.length&&d.dateRangeTagCount&&he&&pJ(f,d),d.endCC=b,d}}function pJ(t,e){let n=t.length;if(!n)if(e.hasProgramDateTime){const u=e.fragments[e.fragments.length-1];t.push(u),n++}else return;const r=t[n-1],i=e.live?1/0:e.totalduration,o=Object.keys(e.dateRanges);for(let u=o.length;u--;){const c=e.dateRanges[o[u]],d=c.startDate.getTime();c.tagAnchor=r.ref;for(let h=n;h--;){var l;if(((l=t[h])==null?void 0:l.sn)<e.startSN)break;const f=YNe(e,d,t,h,i);if(f!==-1){c.tagAnchor=e.fragments[f].ref;break}}}}function YNe(t,e,n,r,i){const o=n[r];if(o){const u=o.programDateTime;if(e>=u||r===0){var l;const c=(((l=n[r+1])==null?void 0:l.start)||i)-o.start;if(e<=u+c*1e3){const d=n[r].sn-t.startSN;if(d<0)return-1;const h=t.fragments;if(h.length>n.length){const p=(n[r+1]||h[h.length-1]).sn-t.startSN;for(let m=p;m>d;m--){const g=h[m].programDateTime;if(e>=g&&e<g+h[m].duration*1e3)return m}}return d}}}return-1}function jH(t,e,n){var r,i;const o=new Ri(t,n),l=(r=o.METHOD)!=null?r:"",u=o.URI,c=o.hexadecimalInteger("IV"),d=o.KEYFORMATVERSIONS,h=(i=o.KEYFORMAT)!=null?i:"identity";u&&o.IV&&!c&&Xr.error(`Invalid IV: ${o.IV}`);const f=u?kl.resolve(u,e):"",p=(d||"1").split("/").map(Number).filter(Number.isFinite);return new vc(l,f,h,p,c,o.KEYID)}function HH(t){const n=new Ri(t).decimalFloatingPoint("TIME-OFFSET");return An(n)?n:null}function GH(t,e){let n=(t||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=n.filter(o=>dN(o,r));i.length&&(e[`${r}Codec`]=i.map(o=>o.split("/")[0]).join(","),n=n.filter(o=>i.indexOf(o)===-1))}),e.unknownCodecs=n}function VH(t,e,n){const r=e[n];r&&(t[n]=r)}function XNe(t,e){let n=t[e];for(let r=e;r--;){const i=t[r];if(!i)return;i.programDateTime=n.programDateTime-i.duration*1e3,n=i}}function eL(t,e,n){t.rawProgramDateTime?n.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function KH(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function WH(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(t)}function Ql(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${n[0]})`)}function YH(t,e,n){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${n[0]})`)}function Ak(t,e){const n=e.startPTS;if(An(n)){let r=0,i;e.sn>t.sn?(r=n-t.start,i=t):(r=t.start-n,i=e),i.duration!==r&&i.setDuration(r)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function mJ(t,e,n,r,i,o,l){r-n<=0&&(l.warn("Fragment should have a positive duration",e),r=n+e.duration,o=i+e.duration);let c=n,d=r;const h=e.startPTS,f=e.endPTS;if(An(h)){const v=Math.abs(h-n);t&&v>t.totalduration?l.warn(`media timestamps and playlist times differ by ${v}s for level ${e.level} ${t.url}`):An(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,c=Math.max(n,h),n=Math.min(n,h),i=e.startDTS!==void 0?Math.min(i,e.startDTS):i,d=Math.min(r,f),r=Math.max(r,f),o=e.endDTS!==void 0?Math.max(o,e.endDTS):o}const p=n-e.start;e.start!==0&&e.setStart(n),e.setDuration(r-e.start),e.startPTS=n,e.maxStartPTS=c,e.startDTS=i,e.endPTS=r,e.minEndPTS=d,e.endDTS=o;const m=e.sn;if(!t||m<t.startSN||m>t.endSN)return 0;let g;const y=m-t.startSN,b=t.fragments;for(b[y]=e,g=y;g>0;g--)Ak(b[g],b[g-1]);for(g=y;g<b.length-1;g++)Ak(b[g],b[g+1]);return t.fragmentHint&&Ak(b[b.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,p}function QNe(t,e,n){if(t===e)return;let r=null;const i=t.fragments;for(let h=i.length-1;h>=0;h--){const f=i[h].initSegment;if(f){r=f;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let o;e2e(t,e,(h,f,p,m)=>{if((!e.startCC||e.skippedSegments)&&f.cc!==h.cc){const g=h.cc-f.cc;for(let y=p;y<m.length;y++)m[y].cc+=g;e.endCC=m[m.length-1].cc}An(h.startPTS)&&An(h.endPTS)&&(f.setStart(f.startPTS=h.startPTS),f.startDTS=h.startDTS,f.maxStartPTS=h.maxStartPTS,f.endPTS=h.endPTS,f.endDTS=h.endDTS,f.minEndPTS=h.minEndPTS,f.setDuration(h.endPTS-h.startPTS),f.duration&&(o=f),e.PTSKnown=e.alignedSliding=!0),h.hasStreams&&(f.elementaryStreams=h.elementaryStreams),f.loader=h.loader,h.hasStats&&(f.stats=h.stats),h.initSegment&&(f.initSegment=h.initSegment,r=h.initSegment)});const l=e.fragments,u=e.fragmentHint?l.concat(e.fragmentHint):l;if(r&&u.forEach(h=>{var f;h&&(!h.initSegment||h.initSegment.relurl===((f=r)==null?void 0:f.relurl))&&(h.initSegment=r)}),e.skippedSegments){if(e.deltaUpdateFailed=l.some(h=>!h),e.deltaUpdateFailed){n.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let h=e.skippedSegments;h--;)l.shift();e.startSN=l[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=ZNe(t.dateRanges,e,n));const h=t.fragments.filter(f=>f.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let f=1;f<u.length;f++)u[f].programDateTime===null&&eL(u[f],u[f-1],h);pJ(h,e)}e.endCC=l[l.length-1].cc}if(!e.startCC){var c;const h=bJ(t,e.startSN-1);e.startCC=(c=h?.cc)!=null?c:l[0].cc}JNe(t.partList,e.partList,(h,f)=>{f.elementaryStreams=h.elementaryStreams,f.stats=h.stats}),o?mJ(e,o,o.startPTS,o.endPTS,o.startDTS,o.endDTS,n):gJ(t,e),l.length&&(e.totalduration=e.edge-l[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const d=e.advancedDateTime;if(e.advanced&&d){const h=e.edge;e.driftStart||(e.driftStartTime=d,e.driftStart=h),e.driftEndTime=d,e.driftEnd=h}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function ZNe(t,e,n){const{dateRanges:r,recentlyRemovedDateranges:i}=e,o=ri({},t);i&&i.forEach(c=>{delete o[c]});const u=Object.keys(o).length;return u?(Object.keys(r).forEach(c=>{const d=o[c],h=new uJ(r[c].attr,d);h.isValid?(o[c]=h,d||(h.tagOrder+=u)):n.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${li(r[c].attr)}"`)}),o):r}function JNe(t,e,n){if(t&&e){let r=0;for(let i=0,o=t.length;i<=o;i++){const l=t[i],u=e[i+r];l&&u&&l.index===u.index&&l.fragment.sn===u.fragment.sn?n(l,u):r--}}}function e2e(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,o=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,l=e.startSN-t.startSN,u=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let d=i;d<=o;d++){const h=c[l+d];let f=u[d];if(r&&!f&&h&&(f=e.fragments[d]=h),h&&f){n(h,f,d,u);const p=h.relurl,m=f.relurl;if(p&&t2e(p,m)){e.playlistParsingError=XH(`media sequence mismatch ${f.sn}:`,t,e,h,f);return}else if(h.cc!==f.cc){e.playlistParsingError=XH(`discontinuity sequence mismatch (${h.cc}!=${f.cc})`,t,e,h,f);return}}}}function XH(t,e,n,r,i){return new Error(`${t} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${n.startSN}
${n.m3u8}`)}function gJ(t,e,n=!0){const r=e.startSN+e.skippedSegments-t.startSN,i=t.fragments,o=r>=0;let l=0;if(o&&r<i.length)l=i[r].start;else if(o&&e.startSN===t.endSN+1)l=t.fragmentEnd;else if(o&&n)l=t.fragmentStart+r*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)l=t.fragmentStart;else return;tL(e,l)}function tL(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function yJ(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments;if(r.length&&n*4>e){const o=r[r.length-1].duration*1e3;o<n&&(n=o)}}else n/=2;return Math.round(n)}function bJ(t,e,n){if(!t)return null;let r=t.fragments[e-t.startSN];return r||(r=t.fragmentHint,r&&r.sn===e)?r:e<t.startSN&&n&&n.sn===e?n:null}function QH(t,e,n){return t?vJ(t.partList,e,n):null}function vJ(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function EJ(t){t.forEach((e,n)=>{var r;(r=e.details)==null||r.fragments.forEach(i=>{i.level=n,i.initSegment&&(i.initSegment.level=n)})})}function t2e(t,e){return t!==e&&e?ZH(t)!==ZH(e):!1}function ZH(t){return t.replace(/\?[^?]*$/,"")}function Fg(t,e){for(let r=0,i=t.length;r<i;r++){var n;if(((n=t[r])==null?void 0:n.cc)===e)return t[r]}return null}function n2e(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function JH(t,e){const n=t.start+e;t.startPTS=n,t.setStart(n),t.endPTS=n+t.duration}function _J(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)JH(n[r],t);e.fragmentHint&&JH(e.fragmentHint,t),e.alignedSliding=!0}function r2e(t,e){t&&(TJ(e,t),e.alignedSliding||K_(e,t),!e.alignedSliding&&!e.skippedSegments&&gJ(t,e,!1))}function TJ(t,e){if(!n2e(e,t))return;const n=Math.min(e.endCC,t.endCC),r=Fg(e.fragments,n),i=Fg(t.fragments,n);if(!r||!i)return;Xr.log(`Aligning playlist at start of dicontinuity sequence ${n}`);const o=r.start-i.start;_J(o,t)}function K_(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,o;const l=Math.min(e.endCC,t.endCC);e.startCC<l&&t.startCC<l&&(i=Fg(r,l),o=Fg(n,l)),(!i||!o)&&(i=r[Math.floor(r.length/2)],o=Fg(n,i.cc)||n[Math.floor(n.length/2)]);const u=i.programDateTime,c=o.programDateTime;if(!u||!c)return;const d=(c-u)/1e3-(o.start-i.start);_J(d,t)}function Ga(t,e,n){as(t,e,n),t.addEventListener(e,n)}function as(t,e,n){t.removeEventListener(e,n)}const i2e={toString:function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e}},Xt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class bN extends oJ{constructor(e,n,r,i,o){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Xt.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:l,fragCurrent:u,media:c,mediaBuffer:d,state:h}=this,f=c?c.currentTime:0,p=fr.bufferInfo(d||c,f,l.maxBufferHole),m=!p.len;if(this.log(`Media seeking to ${An(f)?f.toFixed(3):f}, state: ${h}, ${m?"out of":"in"} buffer`),this.state===Xt.ENDED)this.resetLoadingState();else if(u){const g=l.maxFragLookUpTolerance,y=u.start-g,b=u.start+u.duration+g;if(m||b<p.start||y>p.end){const v=f>b;(f<y||v)&&(v&&u.loader&&(this.log(`Cancelling fragment load for seek (sn: ${u.sn})`),u.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(c){this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0);const g=this.lastCurrentTime;if(f>g&&(this.lastCurrentTime=f),!this.loadingParts){const y=Math.max(p.end,f),b=this.shouldLoadParts(this.getLevelDetails(),y);b&&(this.log(`LL-Part loading ON after seeking to ${f.toFixed(2)} with buffer @${y.toFixed(2)}`),this.loadingParts=b)}}this.hls.hasEnoughToStart||(this.log(`Setting ${m?"startPosition":"nextLoadPosition"} to ${f} for seek without enough to start`),this.nextLoadPosition=f,m&&(this.startPosition=f)),m&&this.state===Xt.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=o,this.hls=e,this.fragmentLoader=new LNe(e.config),this.keyLoader=r,this.fragmentTracker=n,this.config=e.config,this.decrypter=new pN(e.config)}registerListeners(){const{hls:e}=this;e.on(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(be.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(be.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===Xt.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Xt.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:n}=this;return n===-1&&e?e:n}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,n){if(n.live||!this.media)return!1;const r=e.end||0,i=this.config.timelineOffset||0;if(r<=i)return!1;const o=e.buffered;this.config.maxBufferHole&&o&&o.length>1&&(e=fr.bufferedInfo(o,e.start,0));const l=e.nextStart;if(l&&l>i&&l<n.edge||this.media.currentTime<e.start)return!1;const c=n.partList;if(c!=null&&c.length){const h=c[c.length-1];return fr.isBuffered(this.media,h.start+h.duration/2)}const d=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(d)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var n;return((n=this.getLevelDetails())==null?void 0:n.appliedTimelineOffset)||e}return 0}onMediaAttached(e,n){const r=this.media=this.mediaBuffer=n.media;Ga(r,"seeking",this.onMediaSeeking),Ga(r,"ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===Xt.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,n){const r=!!n.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),as(i,"seeking",this.onMediaSeeking),as(i,"ended",this.onMediaEnded),this.keyLoader&&!r&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,r){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,n){}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=Xt.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,r){this.startFragRequested=!0,this._loadFragForPlayback(e,n,r)}_loadFragForPlayback(e,n,r){const i=o=>{const l=o.frag;if(this.fragContextChanged(l)){this.warn(`${l.type} sn: ${l.sn}${o.part?" part: "+o.part.index:""} of ${this.fragInfo(l,!1,o.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(l);return}l.stats.chunkCount++,this._handleFragmentLoadProgress(o)};this._doFragLoad(e,n,r,i).then(o=>{if(!o)return;const l=this.state,u=o.frag;if(this.fragContextChanged(u)){(l===Xt.FRAG_LOADING||!this.fragCurrent&&l===Xt.PARSING)&&(this.fragmentTracker.removeFragment(u),this.state=Xt.IDLE);return}"payload"in o&&(this.log(`Loaded ${u.type} sn: ${u.sn} of ${this.playlistLabel()} ${u.level}`),this.hls.trigger(be.FRAG_LOADED,o)),this._handleFragmentLoadComplete(o)}).catch(o=>{this.state===Xt.STOPPED||this.state===Xt.ERROR||(this.warn(`Frag error: ${o?.message||o}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:r}=this;if(r.getState(e)===ra.APPENDING){const o=e.type,l=this.getFwdBufferInfo(this.mediaBuffer,o),u=Math.max(e.duration,l?l.len:this.config.maxBufferLength),c=this.backtrackFragment;((c?e.sn-c.sn:0)===1||this.reduceMaxBufferLength(u,e.duration))&&r.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===ra.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const n=e.details;return n?.live&&n.type!=="EVENT"&&(this.levelLastLoaded!==e||n.expired)}flushMainBuffer(e,n,r=null){if(!(e-n))return;const i={startOffset:e,endOffset:n,type:r};this.hls.trigger(be.BUFFER_FLUSHING,i)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(r=>{const i=r?.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{frag:o,payload:l}=r,u=o.decryptdata;if(l&&l.byteLength>0&&u!=null&&u.key&&u.iv&&Kh(u.method)){const c=self.performance.now();return this.decrypter.decrypt(new Uint8Array(l),u.key.buffer,u.iv.buffer,gN(u.method)).catch(d=>{throw i.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.FRAG_DECRYPT_ERROR,fatal:!1,error:d,reason:d.message,frag:o}),d}).then(d=>{const h=self.performance.now();return i.trigger(be.FRAG_DECRYPTED,{frag:o,payload:d,stats:{tstart:c,tdecrypt:h}}),r.payload=d,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===Xt.STOPPED||this.state===Xt.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state!==Xt.STOPPED&&(this.state=Xt.IDLE),e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,n){var r,i;const o=e.tracks;if(o&&!n.encrypted&&((r=o.audio)!=null&&r.encrypted||(i=o.video)!=null&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const l=this.media,u=new Error(`Encrypted track with no key in ${this.fragInfo(n)} (media ${l?"attached mediaKeys: "+l.mediaKeys:"detached"})`);return this.warn(u.message),!l||l.mediaKeys?!1:(this.hls.trigger(be.ERROR,{type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_NO_KEYS,fatal:!1,error:u,frag:n}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){const r=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)} > buffer:${r?i2e.toString(fr.getBuffered(r)):"(detached)"})`),$i(e)){var i;if(e.type!==Pn.SUBTITLE){const l=e.elementaryStreams;if(!Object.keys(l).some(u=>!!l[u])){this.state=Xt.IDLE;return}}const o=(i=this.levels)==null?void 0:i[e.level];o!=null&&o.fragmentError&&(this.log(`Resetting level fragment error count of ${o.fragmentError} on frag buffered`),o.fragmentError=0)}this.state=Xt.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:r,part:i,partsLoaded:o}=e,l=!o||o.length===0||o.some(c=>!c),u=new mN(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!l);n.flush(u)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,r=null,i){var o;this.fragCurrent=e;const l=n.details;if(!this.levels||!l)throw new Error(`frag load aborted, missing level${l?"":" detail"}s`);let u=null;if(e.encrypted&&!((o=e.decryptdata)!=null&&o.key)){if(this.log(`Loading key for ${e.sn} of [${l.startSN}-${l.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=Xt.KEY_LOADING,this.fragCurrent=e,u=this.keyLoader.load(e).then(p=>{if(!this.fragContextChanged(p.frag))return this.hls.trigger(be.KEY_LOADED,p),this.state===Xt.KEY_LOADING&&(this.state=Xt.IDLE),p}),this.hls.trigger(be.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(u=this.keyLoader.loadClear(e,l.encryptedFragments,this.startFragRequested),u&&this.log("[eme] blocking frag load until media-keys acquired"));const c=this.fragPrevious;if($i(e)&&(!c||e.sn!==c.sn)){const p=this.shouldLoadParts(n.details,e.end);p!==this.loadingParts&&(this.log(`LL-Part loading ${p?"ON":"OFF"} loading sn ${c?.sn}->${e.sn}`),this.loadingParts=p)}if(r=Math.max(e.start,r||0),this.loadingParts&&$i(e)){const p=l.partList;if(p&&i){r>l.fragmentEnd&&l.fragmentHint&&(e=l.fragmentHint);const m=this.getNextPart(p,e,r);if(m>-1){const g=p[m];e=this.fragCurrent=g.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${g.index} (${m}/${p.length-1}) of ${this.fragInfo(e,!1,g)}) cc: ${e.cc} [${l.startSN}-${l.endSN}], target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=g.start+g.duration,this.state=Xt.FRAG_LOADING;let y;return u?y=u.then(b=>!b||this.fragContextChanged(b.frag)?null:this.doFragPartsLoad(e,g,n,i)).catch(b=>this.handleFragLoadError(b)):y=this.doFragPartsLoad(e,g,n,i).catch(b=>this.handleFragLoadError(b)),this.hls.trigger(be.FRAG_LOADING,{frag:e,part:g,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):y}else if(!e.url||this.loadedEndOfParts(p,r))return Promise.resolve(null)}}if($i(e)&&this.loadingParts){var d;this.log(`LL-Part loading OFF after next part miss @${r.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(d=l.partList)==null?void 0:d.filter(p=>p.loaded).map(p=>`[${p.start}-${p.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+l.startSN+"-"+l.endSN+"]"}, target: ${parseFloat(r.toFixed(3))}`),An(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Xt.FRAG_LOADING;const h=this.config.progressive&&e.type!==Pn.SUBTITLE;let f;return h&&u?f=u.then(p=>!p||this.fragContextChanged(p.frag)?null:this.fragmentLoader.load(e,i)).catch(p=>this.handleFragLoadError(p)):f=Promise.all([this.fragmentLoader.load(e,h?i:void 0),u]).then(([p])=>(!h&&i&&i(p),p)).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(be.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):f}doFragPartsLoad(e,n,r,i){return new Promise((o,l)=>{var u;const c=[],d=(u=r.details)==null?void 0:u.partList,h=f=>{this.fragmentLoader.loadPart(e,f,i).then(p=>{c[f.index]=p;const m=p.part;this.hls.trigger(be.FRAG_LOADED,p);const g=QH(r.details,e.sn,f.index+1)||vJ(d,e.sn,f.index+1);if(g)h(g);else return o({frag:e,part:m,partsLoaded:c})}).catch(l)};h(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;n.frag&&n.details===Et.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):n.frag&&n.type===Kn.KEY_SYSTEM_ERROR?(n.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(n.frag)):this.hls.trigger(be.ERROR,n)}else this.hls.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==Xt.PARSING){!this.fragCurrent&&this.state!==Xt.STOPPED&&this.state!==Xt.ERROR&&(this.state=Xt.IDLE);return}const{frag:r,part:i,level:o}=n,l=self.performance.now();r.stats.parsing.end=l,i&&(i.stats.parsing.end=l);const u=this.getLevelDetails(),d=u&&r.sn>u.endSN||this.shouldLoadParts(u,r.end);d!==this.loadingParts&&(this.log(`LL-Part loading ${d?"ON":"OFF"} after parsing segment ending @${r.end.toFixed(2)}`),this.loadingParts=d),this.updateLevelTiming(r,i,o,e.partial)}shouldLoadParts(e,n){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var r;const o=e.partList[0];if(o.fragment.type===Pn.SUBTITLE)return!1;const l=o.end+(((r=e.fragmentHint)==null?void 0:r.duration)||0);if(n>=l){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>o.start-o.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:n,fragCurrent:r}=this,{level:i,sn:o,part:l}=e;if(!(n!=null&&n[i]))return this.warn(`Levels object was unset while buffering fragment ${o} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const u=n[i],c=u.details,d=l>-1?QH(c,o,l):null,h=d?d.fragment:bJ(c,o,r);return h?(r&&r!==h&&(h.stats=r.stats),{frag:h,part:d,level:u}):null}bufferFragmentData(e,n,r,i,o){if(this.state!==Xt.PARSING)return;const{data1:l,data2:u}=e;let c=l;if(u&&(c=lo(l,u)),!c.length)return;const d=this.initPTS[n.cc],h=d?-d.baseTime/d.timescale:void 0,f={type:e.type,frag:n,part:r,chunkMeta:i,offset:h,parent:n.type,data:c};if(this.hls.trigger(be.BUFFER_APPENDING,f),e.dropped&&e.independent&&!r){if(o)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!fr.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const r=n.currentTime,i=fr.bufferInfo(n,r,0),o=e.duration,l=Math.min(this.config.maxFragLookUpTolerance*2,o*.25),u=Math.max(Math.min(e.start-l,i.end-l),r+l);e.start-u>l&&this.flushMainBuffer(u,e.start)}getFwdBufferInfo(e,n){var r;const i=this.getLoadPosition();if(!An(i))return null;const l=this.lastCurrentTime>i||(r=this.media)!=null&&r.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,n,l)}getFwdBufferInfoAtPos(e,n,r,i){const o=fr.bufferInfo(e,n,i);if(o.len===0&&o.nextStart!==void 0){const l=this.fragmentTracker.getBufferedFrag(n,r);if(l&&(o.nextStart<=l.end||l.gap)){const u=Math.max(Math.min(o.nextStart,l.end)-n,i);return fr.bufferInfo(e,n,u)}}return o}getMaxBufferLength(e){const{config:n}=this;let r;return e?r=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):r=n.maxBufferLength,Math.min(r,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const r=this.config,i=Math.max(Math.min(e-n,r.maxBufferLength),n),o=Math.max(e-n*3,r.maxMaxBufferLength/2,i);return o>=i?(r.maxMaxBufferLength=o,this.warn(`Reduce max buffer length to ${o}s`),!0):!1}getAppendedFrag(e,n=Pn.MAIN){const r=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,n):null;return r&&"fragment"in r?r.fragment:r}getNextFragment(e,n){const r=n.fragments,i=r.length;if(!i)return null;const{config:o}=this,l=r[0].start,u=o.lowLatencyMode&&!!n.partList;let c=null;if(n.live){const f=o.initialLiveManifestSize;if(i<f)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${f})`),null;if(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<l){var d;u&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),c=this.getInitialLiveFragment(n);const p=this.hls.startPosition,m=this.hls.liveSyncPosition,g=c?(p!==-1&&p>=l?p:m)||c.start:e;this.log(`Setting startPosition to ${g} to match start frag at live edge. mainStart: ${p} liveSyncPosition: ${m} frag.start: ${(d=c)==null?void 0:d.start}`),this.startPosition=this.nextLoadPosition=g}}else e<=l&&(c=r[0]);if(!c){const f=this.loadingParts?n.partEnd:n.fragmentEnd;c=this.getFragmentAtPosition(e,f,n)}let h=this.filterReplacedPrimary(c,n);if(!h&&c){const f=c.sn-n.startSN;h=this.filterReplacedPrimary(r[f+1]||null,n)}return this.mapToInitFragWhenRequired(h)}isLoopLoading(e,n){const r=this.fragmentTracker.getState(e);return(r===ra.OK||r===ra.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,r,i,o){let l=null;if(e.gap&&(l=this.getNextFragment(this.nextLoadPosition,n),l&&!l.gap&&r.nextStart)){const u=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i,0);if(u!==null&&r.len+u.len>=o){const c=l.sn;return this.loopSn!==c&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${c}`),this.loopSn=c),null}}return this.loopSn=void 0,l}get primaryPrefetch(){if(e9(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,n){if(!e)return e;if(e9(this.config)&&e.type!==Pn.SUBTITLE){const r=this.hls.interstitialsManager,i=r?.bufferingItem;if(i){const l=i.event;if(l){if(l.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&n?.live===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const o=r?.playerQueue;if(o)for(let l=o.length;l--;){const u=o[l].interstitial;if(u.appendInPlace&&e.start>=u.startTime&&e.end<=u.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,r){let i=-1,o=!1,l=!0;for(let u=0,c=e.length;u<c;u++){const d=e[u];if(l=l&&!d.independent,i>-1&&r<d.start)break;const h=d.loaded;h?i=-1:(o||(d.independent||l)&&d.fragment===n)&&(d.fragment!==n&&this.warn(`Need buffer at ${r} but next unloaded part starts at ${d.start}`),i=u),o=h}return i}loadedEndOfParts(e,n){let r;for(let i=e.length;i--;){if(r=e[i],!r.loaded)return!1;if(n>r.start)return!0}return!1}getInitialLiveFragment(e){const n=e.fragments,r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=ENe(n,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const o=r.sn+1;if(o>=e.startSN&&o<=e.endSN){const l=n[o-e.startSN];r.cc===l.cc&&(i=l,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=iJ(e,r.cc,r.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const o=this.hls.liveSyncPosition;o!==null&&(i=this.getFragmentAtPosition(o,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,n,r){const{config:i}=this;let{fragPrevious:o}=this,{fragments:l,endSN:u}=r;const{fragmentHint:c}=r,{maxFragLookUpTolerance:d}=i,h=r.partList,f=!!(this.loadingParts&&h!=null&&h.length&&c);f&&!this.bitrateTest&&h[h.length-1].fragment.sn===c.sn&&(l=l.concat(c),u=c.sn);let p;if(e<n){var m;const y=e<this.lastCurrentTime||e>n-d||(m=this.media)!=null&&m.paused||!this.startFragRequested?0:d;p=qd(o,l,e,y)}else p=l[l.length-1];if(p){const g=p.sn-r.startSN,y=this.fragmentTracker.getState(p);if((y===ra.OK||y===ra.PARTIAL&&p.gap)&&(o=p),o&&p.sn===o.sn&&(!f||h[0].fragment.sn>p.sn||!r.live)&&p.level===o.level){const v=l[g+1];p.sn<u&&this.fragmentTracker.getState(v)!==ra.OK?p=v:p=null}}return p}alignPlaylists(e,n,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const o=e.fragmentStart,l=!n,u=e.alignedSliding&&An(o);if(l||!u&&!o){r2e(r,e);const c=e.fragmentStart;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} fragments: ${i}`),c}return o}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let r=this.startPosition;r<n&&(r=-1);const i=this.timelineOffset;if(r===-1){const o=this.startTimeOffset!==null,l=o?this.startTimeOffset:e.startTimeOffset;l!==null&&An(l)?(r=n+l,l<0&&(r+=e.edge),r=Math.min(Math.max(n,r),n+e.totalduration),this.log(`Setting startPosition to ${r} for start time offset ${l} found in ${o?"multivariant":"media"} playlist`),this.startPosition=r):e.live?(r=this.hls.liveSyncPosition||n,this.log(`Setting startPosition to -1 to start at live edge ${r}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=r=0),this.lastCurrentTime=r+i}this.nextLoadPosition=r+i}getLoadPosition(){var e;const{media:n}=this;let r=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&n?r=n.currentTime:this.nextLoadPosition>=0&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,n){this.transmuxer&&e.type===this.playlistType&&$i(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${n?" part "+n.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==Xt.FRAG_LOADING_WAITING_RETRY)&&(this.state=Xt.IDLE)}onFragmentOrKeyLoadError(e,n){var r;if(n.chunkMeta&&!n.frag){const v=this.getCurrentContext(n.chunkMeta);v&&(n.frag=v.frag)}const i=n.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var o;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(o=this.fragCurrent)==null?void 0:o.url}`);return}const l=n.details===Et.FRAG_GAP;l&&this.fragmentTracker.fragBuffered(i,!0);const u=n.errorAction;if(!u){this.state=Xt.ERROR;return}const{action:c,flags:d,retryCount:h=0,retryConfig:f}=u,p=!!f,m=p&&c===Sa.RetryRequest,g=p&&!u.resolved&&d===vs.MoveAllAlternatesMatchingHost,y=(r=this.hls.latestLevelDetails)==null?void 0:r.live;if(!m&&g&&$i(i)&&!i.endList&&y&&!sJ(n))this.resetFragmentErrors(e),this.treatAsGap(i),u.resolved=!0;else if((m||g)&&h<f.maxNumRetry){var b;const v=QD((b=n.response)==null?void 0:b.code),_=hN(f,h);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+_,this.state=Xt.FRAG_LOADING_WAITING_RETRY,u.resolved=!0,v){this.log("Waiting for connection (offline)"),this.retryDate=1/0,n.reason="offline";return}this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${n.details}, retrying loading ${h+1}/${f.maxNumRetry} in ${_}ms`)}else if(f)if(this.resetFragmentErrors(e),h<f.maxNumRetry)!l&&c!==Sa.RemoveAlternatePermanently&&(u.resolved=!0);else{this.warn(`${n.details} reached or exceeded max retry (${h})`);return}else c===Sa.SendAlternateToPenaltyBox?this.state=Xt.WAITING_LEVEL:this.state=Xt.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),n=this.retryDate,r=n===1/0;(!n||e>=n||r&&!QD(0))&&(r&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=Xt.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===Xt.PARSING||this.state===Xt.PARSED){const n=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),o=i&&i.len>.5;o&&this.reduceMaxBufferLength(i.len,n?.duration||10);const l=!o;return l&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${r} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),l}return!1}resetFragmentErrors(e){e===Pn.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==Xt.STOPPED&&(this.state=Xt.IDLE)}afterBufferFlushed(e,n,r){if(!e)return;const i=fr.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,i,r),this.state===Xt.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==Xt.STOPPED&&(this.state=Xt.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,n=e?e.details:null;n!=null&&n.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(n,n.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,r,i){const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((c,d)=>{const h=e.elementaryStreams[d];if(h){const f=h.endPTS-h.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${d} duration reliably (${f})`),c||!1;const p=i?0:mJ(o,e,h.startPTS,h.endPTS,h.startDTS,h.endDTS,this);return this.hls.trigger(be.LEVEL_PTS_UPDATED,{details:o,level:r,drift:p,type:d,frag:e,start:h.startPTS,end:h.endPTS}),!0}return c},!1)){var u;const c=((u=this.transmuxer)==null?void 0:u.error)===null;if((r.fragmentError===0||c&&(r.fragmentError<2||e.endList))&&this.treatAsGap(e,r),c){const d=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(d.message),this.hls.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.FRAG_PARSING_ERROR,fatal:!1,error:d,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=Xt.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.fragInfo(e,!1,n)})`),this.hls.trigger(be.FRAG_PARSED,{frag:e,part:n})}playlistLabel(){return this.playlistType===Pn.MAIN?"level":"track"}fragInfo(e,n=!0,r){var i,o;return`${this.playlistLabel()} ${e.level} (${r?"part":"frag"}:[${((i=n&&!r?e.startPTS:(r||e).start)!=null?i:NaN).toFixed(3)}-${((o=n&&!r?e.endPTS:(r||e).end)!=null?o:NaN).toFixed(3)}]${r&&e.type==="main"?"INDEPENDENT="+(r.independent?"YES":"NO"):""}`}treatAsGap(e,n){n&&n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}function e9(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class SJ{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let r;if(e.length)e.length===1?r=e[0]:r=a2e(e,n);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function a2e(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const o=t[i];n.set(o,r),r+=o.length}return n}var Ik={exports:{}},t9;function s2e(){return t9||(t9=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function o(c,d,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||c,p),g=n?n+d:d;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,f;if(this._eventsCount===0)return d;for(f in h=this._events)e.call(h,f)&&d.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},u.prototype.listenerCount=function(d){var h=n?n+d:d,f=this._events[h];return f?f.fn?1:f.length:0},u.prototype.emit=function(d,h,f,p,m,g){var y=n?n+d:d;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,_,E;if(b.fn){switch(b.once&&this.removeListener(d,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,f),!0;case 4:return b.fn.call(b.context,h,f,p),!0;case 5:return b.fn.call(b.context,h,f,p,m),!0;case 6:return b.fn.call(b.context,h,f,p,m,g),!0}for(E=1,_=new Array(v-1);E<v;E++)_[E-1]=arguments[E];b.fn.apply(b.context,_)}else{var T=b.length,A;for(E=0;E<T;E++)switch(b[E].once&&this.removeListener(d,b[E].fn,void 0,!0),v){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,h);break;case 3:b[E].fn.call(b[E].context,h,f);break;case 4:b[E].fn.call(b[E].context,h,f,p);break;default:if(!_)for(A=1,_=new Array(v-1);A<v;A++)_[A-1]=arguments[A];b[E].fn.apply(b[E].context,_)}}return!0},u.prototype.on=function(d,h,f){return o(this,d,h,f,!1)},u.prototype.once=function(d,h,f){return o(this,d,h,f,!0)},u.prototype.removeListener=function(d,h,f,p){var m=n?n+d:d;if(!this._events[m])return this;if(!h)return l(this,m),this;var g=this._events[m];if(g.fn)g.fn===h&&(!p||g.once)&&(!f||g.context===f)&&l(this,m);else{for(var y=0,b=[],v=g.length;y<v;y++)(g[y].fn!==h||p&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[m]=b.length===1?b[0]:b:l(this,m)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Ik)),Ik.exports}var o2e=s2e(),vN=LMe(o2e);const Ay="1.6.15",yp={};function l2e(){return typeof __HLS_WORKER_BUNDLE__=="function"}function u2e(){const t=yp[Ay];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),n=self.URL.createObjectURL(e),i={worker:new self.Worker(n),objectURL:n,clientCount:1};return yp[Ay]=i,i}function c2e(t){const e=yp[t];if(e)return e.clientCount++,e;const n=new self.URL(t,self.location.href).href,i={worker:new self.Worker(n),scriptURL:n,clientCount:1};return yp[t]=i,i}function d2e(t){const e=yp[t||Ay];if(e&&e.clientCount--===1){const{worker:r,objectURL:i}=e;delete yp[t||Ay],i&&self.URL.revokeObjectURL(i),r.terminate()}}function wJ(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function EN(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function IS(t,e){let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n}function Iy(t,e){const n=e;let r=0;for(;EN(t,e);){r+=10;const i=IS(t,e+6);r+=i,wJ(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)}function f2e(t,e,n,r){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=e[n+2],l=o>>2&15;if(l>12){const m=new Error(`invalid ADTS sampling index:${l}`);t.emit(be.ERROR,be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.FRAG_PARSING_ERROR,fatal:!0,error:m,reason:m.message});return}const u=(o>>6&3)+1,c=e[n+3]>>6&3|(o&1)<<2,d="mp4a.40."+u,h=i[l];let f=l;(u===5||u===29)&&(f-=3);const p=[u<<3|(f&14)>>1,(f&1)<<7|c<<3];return Xr.log(`manifest codec:${r}, parsed codec:${d}, channels:${c}, rate:${h} (ADTS object type:${u} sampling index:${l})`),{config:p,samplerate:h,channelCount:c,codec:d,parsedCodec:d,manifestCodec:r}}function AJ(t,e){return t[e]===255&&(t[e+1]&246)===240}function IJ(t,e){return t[e+1]&1?7:9}function _N(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function h2e(t,e){return e+5<t.length}function W_(t,e){return e+1<t.length&&AJ(t,e)}function p2e(t,e){return h2e(t,e)&&AJ(t,e)&&_N(t,e)<=t.length-e}function m2e(t,e){if(W_(t,e)){const n=IJ(t,e);if(e+n>=t.length)return!1;const r=_N(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||W_(t,i)}return!1}function xJ(t,e,n,r,i){if(!t.samplerate){const o=f2e(e,n,r,i);if(!o)return;ri(t,o)}}function RJ(t){return 1024*9e4/t}function g2e(t,e){const n=IJ(t,e);if(e+n<=t.length){const r=_N(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}function kJ(t,e,n,r,i){const o=RJ(t.samplerate),l=r+i*o,u=g2e(e,n);let c;if(u){const{frameLength:f,headerLength:p}=u,m=p+f,g=Math.max(0,n+m-e.length);g?(c=new Uint8Array(m-p),c.set(e.subarray(n+p,e.length),0)):c=e.subarray(n+p,n+m);const y={unit:c,pts:l};return g||t.samples.push(y),{sample:y,length:m,missing:g}}const d=e.length-n;return c=new Uint8Array(d),c.set(e.subarray(n,e.length),0),{sample:{unit:c,pts:l},length:d,missing:-1}}function y2e(t,e){return EN(t,e)&&IS(t,e+6)+10<=t.length-e}function b2e(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function xk(t,e=0,n=1/0){return v2e(t,e,n,Uint8Array)}function v2e(t,e,n,r){const i=E2e(t);let o=1;"BYTES_PER_ELEMENT"in r&&(o=r.BYTES_PER_ELEMENT);const l=_2e(t)?t.byteOffset:0,u=(l+t.byteLength)/o,c=(l+e)/o,d=Math.floor(Math.max(0,Math.min(c,u))),h=Math.floor(Math.min(d+Math.max(n,0),u));return new r(i,d,h-d)}function E2e(t){return t instanceof ArrayBuffer?t:t.buffer}function _2e(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function T2e(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},n=3;if(t.size<2)return;if(t.data[0]!==n){console.log("Ignore frame with unrecognized character encoding");return}const r=t.data.subarray(1).indexOf(0);if(r===-1)return;const i=Cs(xk(t.data,1,r)),o=t.data[2+r],l=t.data.subarray(3+r).indexOf(0);if(l===-1)return;const u=Cs(xk(t.data,3+r,l));let c;return i==="-->"?c=Cs(xk(t.data,4+r+l)):c=b2e(t.data.subarray(4+r+l)),e.mimeType=i,e.pictureType=o,e.description=u,e.data=c,e}function S2e(t){if(t.size<2)return;const e=Cs(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}}function w2e(t){if(t.size<2)return;if(t.type==="TXXX"){let n=1;const r=Cs(t.data.subarray(n),!0);n+=r.length+1;const i=Cs(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=Cs(t.data.subarray(1));return{key:t.type,info:"",data:e}}function A2e(t){if(t.type==="WXXX"){if(t.size<2)return;let n=1;const r=Cs(t.data.subarray(n),!0);n+=r.length+1;const i=Cs(t.data.subarray(n));return{key:t.type,info:r,data:i}}const e=Cs(t.data);return{key:t.type,info:"",data:e}}function I2e(t){return t.type==="PRIV"?S2e(t):t.type[0]==="W"?A2e(t):t.type==="APIC"?T2e(t):w2e(t)}function x2e(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=IS(t,4),r=10;return{type:e,size:n,data:t.subarray(r,r+n)}}const bv=10,R2e=10;function CJ(t){let e=0;const n=[];for(;EN(t,e);){const r=IS(t,e+6);t[e+5]>>6&1&&(e+=bv),e+=bv;const i=e+r;for(;e+R2e<i;){const o=x2e(t.subarray(e)),l=I2e(o);l&&n.push(l),e+=o.size+bv}wJ(t,e)&&(e+=bv)}return n}function DJ(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function k2e(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=4772185884e-2),Math.round(r)}}function TN(t){const e=CJ(t);for(let n=0;n<e.length;n++){const r=e[n];if(DJ(r))return k2e(r)}}let Ss=(function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t})({});function Sl(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class SN{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,r){}demux(e,n){this.cachedData&&(e=lo(this.cachedData,e),this.cachedData=null);let r=Iy(e,0),i=r?r.length:0,o;const l=this._audioTrack,u=this._id3Track,c=r?TN(r):void 0,d=e.length;for((this.basePTS===null||this.frameIndex===0&&An(c))&&(this.basePTS=C2e(c,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&u.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ss.audioId3,duration:Number.POSITIVE_INFINITY});i<d;){if(this.canParse(e,i)){const h=this.appendFrame(l,e,i);h?(this.frameIndex++,this.lastPTS=h.sample.pts,i+=h.length,o=i):i=d}else y2e(e,i)?(r=Iy(e,i),u.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ss.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,o=i):i++;if(i===d&&o!==d){const h=e.slice(o);this.cachedData?this.cachedData=lo(this.cachedData,h):this.cachedData=h}}return{audioTrack:l,videoTrack:Sl(),id3Track:u,textTrack:Sl()}}demuxSampleAes(e,n,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:Sl(),id3Track:this._id3Track,textTrack:Sl()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const C2e=(t,e,n)=>{if(An(t))return t*90;const r=n?n.baseTime*9e4/n.timescale:0;return e*9e4+r};let vv=null;const D2e=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],L2e=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],P2e=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],O2e=[0,1,1,4];function LJ(t,e,n,r,i){if(n+24>e.length)return;const o=PJ(e,n);if(o&&n+o.frameLength<=e.length){const l=o.samplesPerFrame*9e4/o.sampleRate,u=r+i*l,c={unit:e.subarray(n,n+o.frameLength),pts:u,dts:u};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(c),{sample:c,length:o.frameLength,missing:0}}}function PJ(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3;if(n!==1&&i!==0&&i!==15&&o!==3){const l=t[e+2]>>1&1,u=t[e+3]>>6,c=n===3?3-r:r===3?3:4,d=D2e[c*14+i-1]*1e3,f=L2e[(n===3?0:n===2?1:2)*3+o],p=u===3?1:2,m=P2e[n][r],g=O2e[r],y=m*8*g,b=Math.floor(m*d/f+l)*g;if(vv===null){const E=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);vv=E?parseInt(E[1]):0}return vv&&vv<=87&&r===2&&d>=224e3&&u===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:p,frameLength:b,samplesPerFrame:y}}}function wN(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function OJ(t,e){return e+1<t.length&&wN(t,e)}function M2e(t,e){return wN(t,e)&&4<=t.length-e}function MJ(t,e){if(e+1<t.length&&wN(t,e)){const r=PJ(t,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const o=e+i;return o===t.length||OJ(t,o)}return!1}class N2e extends SN{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,n){if(!e)return!1;const r=Iy(e,0);let i=r?.length||0;if(MJ(e,i))return!1;for(let o=e.length;i<o;i++)if(m2e(e,i))return n.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return p2e(e,n)}appendFrame(e,n,r){xJ(e,this.observer,n,r,e.manifestCodec);const i=kJ(e,n,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const NJ=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),o=new Uint32Array(1),l=new Uint8Array(1);for(;r>0;){l[0]=t[e];const u=Math.min(r,8),c=8-u;o[0]=4278190080>>>24+c<<c,i[0]=(l[0]&o[0])>>c,n=n?n<<u|i[0]:i[0],e+=1,r-=u}return n};class F2e extends SN{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,r){const i=FJ(e,n,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const n=Iy(e,0);if(!n)return!1;const r=n.length;return e[r]===11&&e[r+1]===119&&TN(n)!==void 0&&NJ(e,r)<16}}function FJ(t,e,n,r,i){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const o=e[n+4]>>6;if(o>=3)return-1;const u=[48e3,44100,32e3][o],c=e[n+4]&63,h=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][c*3+o]*2;if(n+h>e.length)return-1;const f=e[n+6]>>5;let p=0;f===2?p+=2:(f&1&&f!==1&&(p+=2),f&4&&(p+=2));const m=(e[n+6]<<8|e[n+7])>>12-p&1,y=[2,1,2,3,3,4,4,5][f]+m,b=e[n+5]>>3,v=e[n+5]&7,_=new Uint8Array([o<<6|b<<1|v>>2,(v&3)<<6|f<<3|m<<2|c>>4,c<<4&224]),E=1536/u*9e4,T=r+i*E,A=e.subarray(n,n+h);return t.config=_,t.channelCount=y,t.samplerate=u,t.samples.push({unit:A,pts:T}),h}class U2e extends SN{resetInitSegment(e,n,r,i){super.resetInitSegment(e,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=Iy(e,0);let r=n?.length||0;if(n&&e[r]===11&&e[r+1]===119&&TN(n)!==void 0&&NJ(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(MJ(e,r))return Xr.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return M2e(e,n)}appendFrame(e,n,r){if(this.basePTS!==null)return LJ(e,n,r,this.basePTS,this.frameIndex)}}const B2e=/\/emsg[-/]ID3/i;class z2e{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,r,i){const o=this.videoTrack=Sl("video",1),l=this.audioTrack=Sl("audio",1),u=this.txtTrack=Sl("text",1);if(this.id3Track=Sl("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const c=KZ(e);if(c.video){const{id:d,timescale:h,codec:f,supplemental:p}=c.video;o.id=d,o.timescale=u.timescale=h,o.codec=f,o.supplemental=p}if(c.audio){const{id:d,timescale:h,codec:f}=c.audio;l.id=d,l.timescale=h,l.codec=f}u.id=HZ.text,o.sampleDuration=0,o.duration=l.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return FMe(e)}demux(e,n){this.timeOffset=n;let r=e;const i=this.videoTrack,o=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=lo(this.remainderData,e));const u=HMe(r);this.remainderData=u.remainder,i.samples=u.valid||new Uint8Array}else i.samples=r;const l=this.extractID3Track(i,n);return o.samples=vH(n,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:l,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,r=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(n,this.timeOffset);return r.samples=vH(e,n),{videoTrack:n,audioTrack:Sl(),id3Track:i,textTrack:Sl()}}extractID3Track(e,n){const r=this.id3Track;if(e.samples.length){const i=_r(e.samples,["emsg"]);i&&i.forEach(o=>{const l=VMe(o);if(B2e.test(l.schemeIdUri)){const u=n9(l,n);let c=l.eventDuration===4294967295?Number.POSITIVE_INFINITY:l.eventDuration/l.timeScale;c<=.001&&(c=Number.POSITIVE_INFINITY);const d=l.payload;r.samples.push({data:d,len:d.byteLength,dts:u,pts:u,type:Ss.emsg,duration:c})}else if(this.config.enableEmsgKLVMetadata&&l.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const u=n9(l,n);r.samples.push({data:l.payload,len:l.payload.byteLength,dts:u,pts:u,type:Ss.misbklv,duration:Number.POSITIVE_INFINITY})}})}return r}demuxSampleAes(e,n,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function n9(t,e){return An(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class $2e{constructor(e,n,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new pN(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,Ic.cbc)}decryptAacSample(e,n,r){const i=e[n].unit;if(i.length<=16)return;const o=i.subarray(16,i.length-i.length%16),l=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(l).then(u=>{const c=new Uint8Array(u);i.set(c,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,r)}).catch(r)}decryptAacSamples(e,n,r){for(;;n++){if(n>=e.length){r();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(n);let i=0;for(let o=32;o<e.length-16;o+=160,i+=16)r.set(e.subarray(o,o+16),i);return r}getAvcDecryptedUnit(e,n){const r=new Uint8Array(n);let i=0;for(let o=32;o<e.length-16;o+=160,i+=16)e.set(r.subarray(i,i+16),o);return e}decryptAvcSample(e,n,r,i,o){const l=XZ(o.data),u=this.getAvcEncryptedData(l);this.decryptBuffer(u.buffer).then(c=>{o.data=this.getAvcDecryptedUnit(l,c),this.decrypter.isSync()||this.decryptAvcSamples(e,n,r+1,i)}).catch(i)}decryptAvcSamples(e,n,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,r=0){if(n>=e.length){i();return}const o=e[n].units;for(;!(r>=o.length);r++){const l=o[r];if(!(l.data.length<=48||l.type!==1&&l.type!==5)&&(this.decryptAvcSample(e,n,r,i,l),!this.decrypter.isSync()))return}}}}class UJ{constructor(){this.VideoSample=null}createVideoSample(e,n,r){return{key:e,frame:!1,pts:n,dts:r,units:[],length:0}}getLastNalUnit(e){var n;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(n=r)!=null&&n.units){const o=r.units;i=o[o.length-1]}return i}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const r=n.samples,i=r.length;if(i){const o=r[i-1];e.pts=o.pts,e.dts=o.dts}else{n.dropped++;return}}n.samples.push(e)}}parseNALu(e,n,r){const i=n.byteLength;let o=e.naluState||0;const l=o,u=[];let c=0,d,h,f,p=-1,m=0;for(o===-1&&(p=0,m=this.getNALuType(n,0),o=0,c=1);c<i;){if(d=n[c++],!o){o=d?0:1;continue}if(o===1){o=d?0:2;continue}if(!d)o=3;else if(d===1){if(h=c-o-1,p>=0){const g={data:n.subarray(p,h),type:m};u.push(g)}else{const g=this.getLastNalUnit(e.samples);g&&(l&&c<=4-l&&g.state&&(g.data=g.data.subarray(0,g.data.byteLength-l)),h>0&&(g.data=lo(g.data,n.subarray(0,h)),g.state=0))}c<i?(f=this.getNALuType(n,c),p=c,m=f,o=0):o=-1}else o=0}if(p>=0&&o>=0){const g={data:n.subarray(p,i),type:m,state:o};u.push(g)}if(u.length===0){const g=this.getLastNalUnit(e.samples);g&&(g.data=lo(g.data,n))}return e.naluState=o,u}}class Ug{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,r=e.byteLength-n,i=new Uint8Array(4),o=Math.min(4,n);if(o===0)throw new Error("no bytes available");i.set(e.subarray(r,r+o)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=o*8,this.bytesAvailable-=o}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const r=this.word>>>32-n;if(e>32&&Xr.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?r<<n|this.readBits(n):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class q2e extends UJ{parsePES(e,n,r,i){const o=this.parseNALu(e,r.data,i);let l=this.VideoSample,u,c=!1;r.data=null,l&&o.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),o.forEach(d=>{var h,f;switch(d.type){case 1:{let y=!1;u=!0;const b=d.data;if(c&&b.length>4){const v=this.readSliceType(b);(v===2||v===4||v===7||v===9)&&(y=!0)}if(y){var p;(p=l)!=null&&p.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null)}l||(l=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),l.frame=!0,l.key=y;break}case 5:u=!0,(h=l)!=null&&h.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null),l||(l=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),l.key=!0,l.frame=!0;break;case 6:{u=!0,cN(d.data,1,r.pts,n.samples);break}case 7:{var m,g;u=!0,c=!0;const y=d.data,b=this.readSPS(y);if(!e.sps||e.width!==b.width||e.height!==b.height||((m=e.pixelRatio)==null?void 0:m[0])!==b.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==b.pixelRatio[1]){e.width=b.width,e.height=b.height,e.pixelRatio=b.pixelRatio,e.sps=[y];const v=y.subarray(1,4);let _="avc1.";for(let E=0;E<3;E++){let T=v[E].toString(16);T.length<2&&(T="0"+T),_+=T}e.codec=_}break}case 8:u=!0,e.pps=[d.data];break;case 9:u=!0,e.audFound=!0,(f=l)!=null&&f.frame&&(this.pushAccessUnit(l,e),l=null),l||(l=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;case 12:u=!0;break;default:u=!1;break}l&&u&&l.units.push(d)}),i&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)}getNALuType(e,n){return e[n]&31}readSliceType(e){const n=new Ug(e);return n.readUByte(),n.readUEG(),n.readUEG()}skipScalingList(e,n){let r=8,i=8,o;for(let l=0;l<e;l++)i!==0&&(o=n.readEG(),i=(r+o+256)%256),r=i===0?r:i}readSPS(e){const n=new Ug(e);let r=0,i=0,o=0,l=0,u,c,d;const h=n.readUByte.bind(n),f=n.readBits.bind(n),p=n.readUEG.bind(n),m=n.readBoolean.bind(n),g=n.skipBits.bind(n),y=n.skipEG.bind(n),b=n.skipUEG.bind(n),v=this.skipScalingList.bind(this);h();const _=h();if(f(5),g(3),h(),b(),_===100||_===110||_===122||_===244||_===44||_===83||_===86||_===118||_===128){const C=p();if(C===3&&g(1),b(),b(),g(1),m())for(c=C!==3?8:12,d=0;d<c;d++)m()&&(d<6?v(16,n):v(64,n))}b();const E=p();if(E===0)p();else if(E===1)for(g(1),y(),y(),u=p(),d=0;d<u;d++)y();b(),g(1);const T=p(),A=p(),w=f(1);w===0&&g(1),g(1),m()&&(r=p(),i=p(),o=p(),l=p());let I=[1,1];if(m()&&m())switch(h()){case 1:I=[1,1];break;case 2:I=[12,11];break;case 3:I=[10,11];break;case 4:I=[16,11];break;case 5:I=[40,33];break;case 6:I=[24,11];break;case 7:I=[20,11];break;case 8:I=[32,11];break;case 9:I=[80,33];break;case 10:I=[18,11];break;case 11:I=[15,11];break;case 12:I=[64,33];break;case 13:I=[160,99];break;case 14:I=[4,3];break;case 15:I=[3,2];break;case 16:I=[2,1];break;case 255:{I=[h()<<8|h(),h()<<8|h()];break}}return{width:Math.ceil((T+1)*16-r*2-i*2),height:(2-w)*(A+1)*16-(w?2:4)*(o+l),pixelRatio:I}}}class j2e extends UJ{constructor(...e){super(...e),this.initVPS=null}parsePES(e,n,r,i){const o=this.parseNALu(e,r.data,i);let l=this.VideoSample,u,c=!1;r.data=null,l&&o.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),o.forEach(d=>{var h,f;switch(d.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:l||(l=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),l.frame=!0,u=!0;break;case 16:case 17:case 18:case 21:if(u=!0,c){var p;(p=l)!=null&&p.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null)}l||(l=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),l.key=!0,l.frame=!0;break;case 19:case 20:u=!0,(h=l)!=null&&h.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null),l||(l=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),l.key=!0,l.frame=!0;break;case 39:u=!0,cN(d.data,2,r.pts,n.samples);break;case 32:u=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=ri(e.params,this.readVPS(d.data)),this.initVPS=d.data),e.vps=[d.data];break;case 33:if(u=!0,c=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],d.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const m=this.readSPS(d.data);e.width=m.width,e.height=m.height,e.pixelRatio=m.pixelRatio,e.codec=m.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const g in m.params)e.params[g]=m.params[g]}this.pushParameterSet(e.sps,d.data,e.vps),l||(l=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),l.key=!0;break;case 34:if(u=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const m=this.readPPS(d.data);for(const g in m)e.params[g]=m[g]}this.pushParameterSet(e.pps,d.data,e.vps)}break;case 35:u=!0,e.audFound=!0,(f=l)!=null&&f.frame&&(this.pushAccessUnit(l,e),l=null),l||(l=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;default:u=!1;break}l&&u&&l.units.push(d)}),i&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)}pushParameterSet(e,n,r){(r&&r[0]===this.initVPS||!r&&!e.length)&&e.push(n)}getNALuType(e,n){return(e[n]&126)>>>1}ebsp2rbsp(e){const n=new Uint8Array(e.byteLength);let r=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(n[r]=e[i],r++);return new Uint8Array(n.buffer,0,r)}pushAccessUnit(e,n){super.pushAccessUnit(e,n),this.initVPS&&(this.initVPS=null)}readVPS(e){const n=new Ug(e);n.readUByte(),n.readUByte(),n.readBits(4),n.skipBits(2),n.readBits(6);const r=n.readBits(3),i=n.readBoolean();return{numTemporalLayers:r+1,temporalIdNested:i}}readSPS(e){const n=new Ug(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.readBits(4);const r=n.readBits(3);n.readBoolean();const i=n.readBits(2),o=n.readBoolean(),l=n.readBits(5),u=n.readUByte(),c=n.readUByte(),d=n.readUByte(),h=n.readUByte(),f=n.readUByte(),p=n.readUByte(),m=n.readUByte(),g=n.readUByte(),y=n.readUByte(),b=n.readUByte(),v=n.readUByte(),_=[],E=[];for(let Ve=0;Ve<r;Ve++)_.push(n.readBoolean()),E.push(n.readBoolean());if(r>0)for(let Ve=r;Ve<8;Ve++)n.readBits(2);for(let Ve=0;Ve<r;Ve++)_[Ve]&&(n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte(),n.readUByte()),E[Ve]&&n.readUByte();n.readUEG();const T=n.readUEG();T==3&&n.skipBits(1);const A=n.readUEG(),w=n.readUEG(),I=n.readBoolean();let C=0,j=0,F=0,K=0;I&&(C+=n.readUEG(),j+=n.readUEG(),F+=n.readUEG(),K+=n.readUEG());const he=n.readUEG(),q=n.readUEG(),Ee=n.readUEG(),Te=n.readBoolean();for(let Ve=Te?0:r;Ve<=r;Ve++)n.skipUEG(),n.skipUEG(),n.skipUEG();if(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG(),n.readBoolean()&&n.readBoolean())for(let We=0;We<4;We++)for(let Ke=0;Ke<(We===3?2:6);Ke++)if(!n.readBoolean())n.readUEG();else{const ft=Math.min(64,1<<4+(We<<1));We>1&&n.readEG();for(let nt=0;nt<ft;nt++)n.readEG()}n.readBoolean(),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.skipUEG(),n.skipUEG(),n.readBoolean());const He=n.readUEG();let Ye=0;for(let Ve=0;Ve<He;Ve++){let We=!1;if(Ve!==0&&(We=n.readBoolean()),We){Ve===He&&n.readUEG(),n.readBoolean(),n.readUEG();let Ke=0;for(let Je=0;Je<=Ye;Je++){const ft=n.readBoolean();let nt=!1;ft||(nt=n.readBoolean()),(ft||nt)&&Ke++}Ye=Ke}else{const Ke=n.readUEG(),Je=n.readUEG();Ye=Ke+Je;for(let ft=0;ft<Ke;ft++)n.readUEG(),n.readBoolean();for(let ft=0;ft<Je;ft++)n.readUEG(),n.readBoolean()}}if(n.readBoolean()){const Ve=n.readUEG();for(let We=0;We<Ve;We++){for(let Ke=0;Ke<Ee+4;Ke++)n.readBits(1);n.readBits(1)}}let we=0,je=1,Ce=1,dt=!0,Le=1,Pe=0;n.readBoolean(),n.readBoolean();let it=!1;if(n.readBoolean()){if(n.readBoolean()){const bt=n.readUByte(),tn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],zt=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];bt>0&&bt<16?(je=tn[bt-1],Ce=zt[bt-1]):bt===255&&(je=n.readBits(16),Ce=n.readBits(16))}if(n.readBoolean()&&n.readBoolean(),n.readBoolean()&&(n.readBits(3),n.readBoolean(),n.readBoolean()&&(n.readUByte(),n.readUByte(),n.readUByte())),n.readBoolean()&&(n.readUEG(),n.readUEG()),n.readBoolean(),n.readBoolean(),n.readBoolean(),it=n.readBoolean(),it&&(n.skipUEG(),n.skipUEG(),n.skipUEG(),n.skipUEG()),n.readBoolean()&&(Le=n.readBits(32),Pe=n.readBits(32),n.readBoolean()&&n.readUEG(),n.readBoolean())){const zt=n.readBoolean(),Wt=n.readBoolean();let Ze=!1;(zt||Wt)&&(Ze=n.readBoolean(),Ze&&(n.readUByte(),n.readBits(5),n.readBoolean(),n.readBits(5)),n.readBits(4),n.readBits(4),Ze&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5));for(let At=0;At<=r;At++){dt=n.readBoolean();const mn=dt||n.readBoolean();let xn=!1;mn?n.readEG():xn=n.readBoolean();const Nn=xn?1:n.readUEG()+1;if(zt)for(let Yn=0;Yn<Nn;Yn++)n.readUEG(),n.readUEG(),Ze&&(n.readUEG(),n.readUEG()),n.skipBits(1);if(Wt)for(let Yn=0;Yn<Nn;Yn++)n.readUEG(),n.readUEG(),Ze&&(n.readUEG(),n.readUEG()),n.skipBits(1)}}n.readBoolean()&&(n.readBoolean(),n.readBoolean(),n.readBoolean(),we=n.readUEG())}let G=A,P=w;if(I){let Ve=1,We=1;T===1?Ve=We=2:T==2&&(Ve=2),G=A-Ve*j-Ve*C,P=w-We*K-We*F}const $=i?["A","B","C"][i]:"",ae=u<<24|c<<16|d<<8|h;let ne=0;for(let Ve=0;Ve<32;Ve++)ne=(ne|(ae>>Ve&1)<<31-Ve)>>>0;let $e=ne.toString(16);return l===1&&$e==="2"&&($e="6"),{codecString:`hvc1.${$}${l}.${$e}.${o?"H":"L"}${v}.B0`,params:{general_tier_flag:o,general_profile_idc:l,general_profile_space:i,general_profile_compatibility_flags:[u,c,d,h],general_constraint_indicator_flags:[f,p,m,g,y,b],general_level_idc:v,bit_depth:he+8,bit_depth_luma_minus8:he,bit_depth_chroma_minus8:q,min_spatial_segmentation_idc:we,chroma_format_idc:T,frame_rate:{fixed:dt,fps:Pe/Le}},width:G,height:P,pixelRatio:[je,Ce]}}readPPS(e){const n=new Ug(this.ebsp2rbsp(e));n.readUByte(),n.readUByte(),n.skipUEG(),n.skipUEG(),n.skipBits(2),n.skipBits(3),n.skipBits(2),n.skipUEG(),n.skipUEG(),n.skipEG(),n.skipBits(2),n.readBoolean()&&n.skipUEG(),n.skipEG(),n.skipEG(),n.skipBits(4);const i=n.readBoolean(),o=n.readBoolean();let l=1;return o&&i?l=0:o?l=3:i&&(l=2),{parallelismType:l}}matchSPS(e,n){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,n).substr(3)}}const ua=188;class lc{constructor(e,n,r,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.logger=i,this.videoParser=null}static probe(e,n){const r=lc.syncOffset(e);return r>0&&n.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const n=e.length;let r=Math.min(ua*5,n-ua)+1,i=0;for(;i<r;){let o=!1,l=-1,u=0;for(let c=i;c<n;c+=ua)if(e[c]===71&&(n-c===ua||e[c+ua]===71)){if(u++,l===-1&&(l=c,l!==0&&(r=Math.min(l+ua*99,e.length-ua)+1)),o||(o=nL(e,c)===0),o&&u>1&&(l===0&&u>2||c+ua>r))return l}else{if(u)return-1;break}i++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:HZ[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=lc.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=lc.createTrack("audio",i),this._id3Track=lc.createTrack("id3"),this._txtTrack=lc.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:r}=this;e&&(e.pesData=null),n&&(n.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,r=!1,i=!1){r||(this.sampleAes=null);let o;const l=this._videoTrack,u=this._audioTrack,c=this._id3Track,d=this._txtTrack;let h=l.pid,f=l.pesData,p=u.pid,m=c.pid,g=u.pesData,y=c.pesData,b=null,v=this.pmtParsed,_=this._pmtId,E=e.length;if(this.remainderData&&(e=lo(this.remainderData,e),E=e.length,this.remainderData=null),E<ua&&!i)return this.remainderData=e,{audioTrack:u,videoTrack:l,id3Track:c,textTrack:d};const T=Math.max(0,lc.syncOffset(e));E-=(E-T)%ua,E<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,E,e.buffer.byteLength-E));let A=0;for(let I=T;I<E;I+=ua)if(e[I]===71){const C=!!(e[I+1]&64),j=nL(e,I),F=(e[I+3]&48)>>4;let K;if(F>1){if(K=I+5+e[I+4],K===I+ua)continue}else K=I+4;switch(j){case h:C&&(f&&(o=Lf(f,this.logger))&&(this.readyVideoParser(l.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(l,d,o,!1)),f={data:[],size:0}),f&&(f.data.push(e.subarray(K,I+ua)),f.size+=I+ua-K);break;case p:if(C){if(g&&(o=Lf(g,this.logger)))switch(u.segmentCodec){case"aac":this.parseAACPES(u,o);break;case"mp3":this.parseMPEGPES(u,o);break;case"ac3":this.parseAC3PES(u,o);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(K,I+ua)),g.size+=I+ua-K);break;case m:C&&(y&&(o=Lf(y,this.logger))&&this.parseID3PES(c,o),y={data:[],size:0}),y&&(y.data.push(e.subarray(K,I+ua)),y.size+=I+ua-K);break;case 0:C&&(K+=e[K]+1),_=this._pmtId=H2e(e,K);break;case _:{C&&(K+=e[K]+1);const he=G2e(e,K,this.typeSupported,r,this.observer,this.logger);h=he.videoPid,h>0&&(l.pid=h,l.segmentCodec=he.segmentVideoCodec),p=he.audioPid,p>0&&(u.pid=p,u.segmentCodec=he.segmentAudioCodec),m=he.id3Pid,m>0&&(c.pid=m),b!==null&&!v&&(this.logger.warn(`MPEG-TS PMT found at ${I} after unknown PID '${b}'. Backtracking to sync byte @${T} to parse all TS packets.`),b=null,I=T-188),v=this.pmtParsed=!0;break}case 17:case 8191:break;default:b=j;break}}else A++;A>0&&rL(this.observer,new Error(`Found ${A} TS packet/s that do not start with 0x47`),void 0,this.logger),l.pesData=f,u.pesData=g,c.pesData=y;const w={audioTrack:u,videoTrack:l,id3Track:c,textTrack:d};return i&&this.extractRemainingSamples(w),w}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:r,id3Track:i,textTrack:o}=e,l=r.pesData,u=n.pesData,c=i.pesData;let d;if(l&&(d=Lf(l,this.logger))?(this.readyVideoParser(r.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(r,o,d,!0),r.pesData=null)):r.pesData=l,u&&(d=Lf(u,this.logger))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,d);break;case"mp3":this.parseMPEGPES(n,d);break;case"ac3":this.parseAC3PES(n,d);break}n.pesData=null}else u!=null&&u.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=u;c&&(d=Lf(c,this.logger))?(this.parseID3PES(i,d),i.pesData=null):i.pesData=c}demuxSampleAes(e,n,r){const i=this.demux(e,r,!0,!this.config.progressive),o=this.sampleAes=new $2e(this.observer,this.config,n);return this.decrypt(i,o)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new q2e:e==="hevc"&&(this.videoParser=new j2e))}decrypt(e,n){return new Promise(r=>{const{audioTrack:i,videoTrack:o}=e;i.samples&&i.segmentCodec==="aac"?n.decryptAacSamples(i.samples,0,()=>{o.samples?n.decryptAvcSamples(o.samples,0,0,()=>{r(e)}):r(e)}):o.samples&&n.decryptAvcSamples(o.samples,0,0,()=>{r(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,n){let r=0;const i=this.aacOverFlow;let o=n.data;if(i){this.aacOverFlow=null;const f=i.missing,p=i.sample.unit.byteLength;if(f===-1)o=lo(i.sample.unit,o);else{const m=p-f;i.sample.unit.set(o.subarray(0,f),m),e.samples.push(i.sample),r=i.missing}}let l,u;for(l=r,u=o.length;l<u-1&&!W_(o,l);l++);if(l!==r){let f;const p=l<u-1;if(p?f=`AAC PES did not start with ADTS header,offset:${l}`:f="No ADTS header found in AAC PES",rL(this.observer,new Error(f),p,this.logger),!p)return}xJ(e,this.observer,o,l,this.audioCodec);let c;if(n.pts!==void 0)c=n.pts;else if(i){const f=RJ(e.samplerate);c=i.sample.pts+f}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let d=0,h;for(;l<u;)if(h=kJ(e,o,l,c,d),l+=h.length,h.missing){this.aacOverFlow=h;break}else for(d++;l<u-1&&!W_(o,l);l++);}parseMPEGPES(e,n){const r=n.data,i=r.length;let o=0,l=0;const u=n.pts;if(u===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;l<i;)if(OJ(r,l)){const c=LJ(e,r,l,u,o);if(c)l+=c.length,o++;else break}else l++}parseAC3PES(e,n){{const r=n.data,i=n.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const o=r.length;let l=0,u=0,c;for(;u<o&&(c=FJ(e,r,u,i,l++))>0;)u+=c}}parseID3PES(e,n){if(n.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=ri({},n,{type:this._videoTrack?Ss.emsg:Ss.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function nL(t,e){return((t[e+1]&31)<<8)+t[e+2]}function H2e(t,e){return(t[e+10]&31)<<8|t[e+11]}function G2e(t,e,n,r,i,o){const l={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},u=(t[e+1]&15)<<8|t[e+2],c=e+3+u-4,d=(t[e+10]&15)<<8|t[e+11];for(e+=12+d;e<c;){const h=nL(t,e),f=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!r){Rk("ADTS AAC",o);break}case 15:l.audioPid===-1&&(l.audioPid=h);break;case 21:l.id3Pid===-1&&(l.id3Pid=h);break;case 219:if(!r){Rk("H.264",o);break}case 27:l.videoPid===-1&&(l.videoPid=h);break;case 3:case 4:!n.mpeg&&!n.mp3?o.log("MPEG audio found, not supported in this browser"):l.audioPid===-1&&(l.audioPid=h,l.segmentAudioCodec="mp3");break;case 193:if(!r){Rk("AC-3",o);break}case 129:n.ac3?l.audioPid===-1&&(l.audioPid=h,l.segmentAudioCodec="ac3"):o.log("AC-3 audio found, not supported in this browser");break;case 6:if(l.audioPid===-1&&f>0){let p=e+5,m=f;for(;m>2;){t[p]===106&&(n.ac3!==!0?o.log("AC-3 audio found, not supported in this browser for now"):(l.audioPid=h,l.segmentAudioCodec="ac3"));const y=t[p+1]+2;p+=y,m-=y}}break;case 194:case 135:return rL(i,new Error("Unsupported EC-3 in M2TS found"),void 0,o),l;case 36:l.videoPid===-1&&(l.videoPid=h,l.segmentVideoCodec="hevc",o.log("HEVC in M2TS found"));break}e+=f+5}return l}function rL(t,e,n,r){r.warn(`parsing error: ${e.message}`),t.emit(be.ERROR,be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function Rk(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function Lf(t,e){let n=0,r,i,o,l,u;const c=t.data;if(!t||t.size===0)return null;for(;c[0].length<19&&c.length>1;)c[0]=lo(c[0],c[1]),c.splice(1,1);if(r=c[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(i=(r[4]<<8)+r[5],i&&i>t.size-6)return null;const h=r[7];h&192&&(l=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,h&64?(u=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,l-u>60*9e4&&(e.warn(`${Math.round((l-u)/9e4)}s delta between PTS and DTS, align them`),l=u)):u=l),o=r[8];let f=o+9;if(t.size<=f)return null;t.size-=f;const p=new Uint8Array(t.size);for(let m=0,g=c.length;m<g;m++){r=c[m];let y=r.byteLength;if(f)if(f>y){f-=y;continue}else r=r.subarray(f),y-=f,f=0;p.set(r,n),n+=y}return i&&(i-=o+3),{data:p,pts:l,dts:u,len:i}}return null}class V2e{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const ju=Math.pow(2,32)-1;class yt{static init(){yt.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in yt.types)yt.types.hasOwnProperty(e)&&(yt.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);yt.HDLR_TYPES={video:n,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);yt.STTS=yt.STSC=yt.STCO=o,yt.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),yt.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),yt.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),yt.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const l=new Uint8Array([105,115,111,109]),u=new Uint8Array([97,118,99,49]),c=new Uint8Array([0,0,0,1]);yt.FTYP=yt.box(yt.types.ftyp,l,c,l,u),yt.DINF=yt.box(yt.types.dinf,yt.box(yt.types.dref,i))}static box(e,...n){let r=8,i=n.length;const o=i;for(;i--;)r+=n[i].byteLength;const l=new Uint8Array(r);for(l[0]=r>>24&255,l[1]=r>>16&255,l[2]=r>>8&255,l[3]=r&255,l.set(e,4),i=0,r=8;i<o;i++)l.set(n[i],r),r+=n[i].byteLength;return l}static hdlr(e){return yt.box(yt.types.hdlr,yt.HDLR_TYPES[e])}static mdat(e){return yt.box(yt.types.mdat,e)}static mdhd(e,n){n*=e;const r=Math.floor(n/(ju+1)),i=Math.floor(n%(ju+1));return yt.box(yt.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return yt.box(yt.types.mdia,yt.mdhd(e.timescale||0,e.duration||0),yt.hdlr(e.type),yt.minf(e))}static mfhd(e){return yt.box(yt.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?yt.box(yt.types.minf,yt.box(yt.types.smhd,yt.SMHD),yt.DINF,yt.stbl(e)):yt.box(yt.types.minf,yt.box(yt.types.vmhd,yt.VMHD),yt.DINF,yt.stbl(e))}static moof(e,n,r){return yt.box(yt.types.moof,yt.mfhd(e),yt.traf(r,n))}static moov(e){let n=e.length;const r=[];for(;n--;)r[n]=yt.trak(e[n]);return yt.box.apply(null,[yt.types.moov,yt.mvhd(e[0].timescale||0,e[0].duration||0)].concat(r).concat(yt.mvex(e)))}static mvex(e){let n=e.length;const r=[];for(;n--;)r[n]=yt.trex(e[n]);return yt.box.apply(null,[yt.types.mvex,...r])}static mvhd(e,n){n*=e;const r=Math.floor(n/(ju+1)),i=Math.floor(n%(ju+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return yt.box(yt.types.mvhd,o)}static sdtp(e){const n=e.samples||[],r=new Uint8Array(4+n.length);let i,o;for(i=0;i<n.length;i++)o=n[i].flags,r[i+4]=o.dependsOn<<4|o.isDependedOn<<2|o.hasRedundancy;return yt.box(yt.types.sdtp,r)}static stbl(e){return yt.box(yt.types.stbl,yt.stsd(e),yt.box(yt.types.stts,yt.STTS),yt.box(yt.types.stsc,yt.STSC),yt.box(yt.types.stsz,yt.STSZ),yt.box(yt.types.stco,yt.STCO))}static avc1(e){let n=[],r=[],i,o,l;for(i=0;i<e.sps.length;i++)o=e.sps[i],l=o.byteLength,n.push(l>>>8&255),n.push(l&255),n=n.concat(Array.prototype.slice.call(o));for(i=0;i<e.pps.length;i++)o=e.pps[i],l=o.byteLength,r.push(l>>>8&255),r.push(l&255),r=r.concat(Array.prototype.slice.call(o));const u=yt.box(yt.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(r))),c=e.width,d=e.height,h=e.pixelRatio[0],f=e.pixelRatio[1];return yt.box(yt.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,d>>8&255,d&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u,yt.box(yt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),yt.box(yt.types.pasp,new Uint8Array([h>>24,h>>16&255,h>>8&255,h&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const n=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...n,6,1,2])}static audioStsd(e){const n=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return yt.box(yt.types.mp4a,yt.audioStsd(e),yt.box(yt.types.esds,yt.esds(e)))}static mp3(e){return yt.box(yt.types[".mp3"],yt.audioStsd(e))}static ac3(e){return yt.box(yt.types["ac-3"],yt.audioStsd(e),yt.box(yt.types.dac3,e.config))}static stsd(e){const{segmentCodec:n}=e;if(e.type==="audio"){if(n==="aac")return yt.box(yt.types.stsd,yt.STSD,yt.mp4a(e));if(n==="ac3"&&e.config)return yt.box(yt.types.stsd,yt.STSD,yt.ac3(e));if(n==="mp3"&&e.codec==="mp3")return yt.box(yt.types.stsd,yt.STSD,yt.mp3(e))}else if(e.pps&&e.sps){if(n==="avc")return yt.box(yt.types.stsd,yt.STSD,yt.avc1(e));if(n==="hevc"&&e.vps)return yt.box(yt.types.stsd,yt.STSD,yt.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${n}/${e.codec})`)}static tkhd(e){const n=e.id,r=(e.duration||0)*(e.timescale||0),i=e.width||0,o=e.height||0,l=Math.floor(r/(ju+1)),u=Math.floor(r%(ju+1));return yt.box(yt.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,l>>24,l>>16&255,l>>8&255,l&255,u>>24,u>>16&255,u>>8&255,u&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,o>>8&255,o&255,0,0]))}static traf(e,n){const r=yt.sdtp(e),i=e.id,o=Math.floor(n/(ju+1)),l=Math.floor(n%(ju+1));return yt.box(yt.types.traf,yt.box(yt.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),yt.box(yt.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,l>>24,l>>16&255,l>>8&255,l&255])),yt.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,yt.box(yt.types.trak,yt.tkhd(e),yt.mdia(e))}static trex(e){const n=e.id;return yt.box(yt.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const r=e.samples||[],i=r.length,o=12+16*i,l=new Uint8Array(o);let u,c,d,h,f,p;for(n+=8+o,l.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),u=0;u<i;u++)c=r[u],d=c.duration,h=c.size,f=c.flags,p=c.cts,l.set([d>>>24&255,d>>>16&255,d>>>8&255,d&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,p>>>24&255,p>>>16&255,p>>>8&255,p&255],12+16*u);return yt.box(yt.types.trun,l)}static initSegment(e){yt.types||yt.init();const n=yt.moov(e);return lo(yt.FTYP,n)}static hvc1(e){const n=e.params,r=[e.vps,e.sps,e.pps],i=4,o=new Uint8Array([1,n.general_profile_space<<6|(n.general_tier_flag?32:0)|n.general_profile_idc,n.general_profile_compatibility_flags[0],n.general_profile_compatibility_flags[1],n.general_profile_compatibility_flags[2],n.general_profile_compatibility_flags[3],n.general_constraint_indicator_flags[0],n.general_constraint_indicator_flags[1],n.general_constraint_indicator_flags[2],n.general_constraint_indicator_flags[3],n.general_constraint_indicator_flags[4],n.general_constraint_indicator_flags[5],n.general_level_idc,240|n.min_spatial_segmentation_idc>>8,255&n.min_spatial_segmentation_idc,252|n.parallelismType,252|n.chroma_format_idc,248|n.bit_depth_luma_minus8,248|n.bit_depth_chroma_minus8,0,parseInt(n.frame_rate.fps),i-1|n.temporal_id_nested<<2|n.num_temporal_layers<<3|(n.frame_rate.fixed?64:0),r.length]);let l=o.length;for(let g=0;g<r.length;g+=1){l+=3;for(let y=0;y<r[g].length;y+=1)l+=2+r[g][y].length}const u=new Uint8Array(l);u.set(o,0),l=o.length;const c=r.length-1;for(let g=0;g<r.length;g+=1){u.set(new Uint8Array([32+g|(g===c?128:0),0,r[g].length]),l),l+=3;for(let y=0;y<r[g].length;y+=1)u.set(new Uint8Array([r[g][y].length>>8,r[g][y].length&255]),l),l+=2,u.set(r[g][y],l),l+=r[g][y].length}const d=yt.box(yt.types.hvcC,u),h=e.width,f=e.height,p=e.pixelRatio[0],m=e.pixelRatio[1];return yt.box(yt.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,h&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d,yt.box(yt.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),yt.box(yt.types.pasp,new Uint8Array([p>>24,p>>16&255,p>>8&255,p&255,m>>24,m>>16&255,m>>8&255,m&255])))}}yt.types=void 0;yt.HDLR_TYPES=void 0;yt.STTS=void 0;yt.STSC=void 0;yt.STCO=void 0;yt.STSZ=void 0;yt.VMHD=void 0;yt.SMHD=void 0;yt.STSD=void 0;yt.FTYP=void 0;yt.DINF=void 0;const BJ=9e4;function AN(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function K2e(t,e,n=1,r=!1){return AN(t,e,1/n,r)}function Dm(t,e=!1){return AN(t,1e3,1/BJ,e)}function W2e(t,e=1){return AN(t,BJ,1/e)}function r9(t){const{baseTime:e,timescale:n,trackId:r}=t;return`${e/n} (${e}/${n}) trackId: ${r}`}const Y2e=10*1e3,X2e=1024,Q2e=1152,Z2e=1536;let Pf=null,kk=null;function i9(t,e,n,r){return{duration:e,size:n,cts:r,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class s0 extends ho{constructor(e,n,r,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=r,this.ISGenerated=!1,Pf===null){const l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Pf=l?parseInt(l[1]):0}if(kk===null){const o=navigator.userAgent.match(/Safari\/(\d+)/i);kk=o?parseInt(o[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const n=this._initPTS;(!n||!e||e.trackId!==n.trackId||e.baseTime!==n.baseTime||e.timescale!==n.timescale)&&this.log(`Reset initPTS: ${n&&r9(n)} > ${e&&r9(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const r=e[0].pts,i=e.reduce((o,l)=>{let u=l.pts,c=u-o;return c<-4294967296&&(n=!0,u=_s(u,r),c=u-o),c>0?o:u},r);return n&&this.debug("PTS rollover detected"),i}remux(e,n,r,i,o,l,u,c){let d,h,f,p,m,g,y=o,b=o;const v=e.pid>-1,_=n.pid>-1,E=n.samples.length,T=e.samples.length>0,A=u&&E>0||E>1;if((!v||T)&&(!_||A)||this.ISGenerated||u){if(this.ISGenerated){var I,C,j,F;const Ee=this.videoTrackConfig;(Ee&&(n.width!==Ee.width||n.height!==Ee.height||((I=n.pixelRatio)==null?void 0:I[0])!==((C=Ee.pixelRatio)==null?void 0:C[0])||((j=n.pixelRatio)==null?void 0:j[1])!==((F=Ee.pixelRatio)==null?void 0:F[1]))||!Ee&&A||this.nextAudioTs===null&&T)&&this.resetInitSegment()}this.ISGenerated||(f=this.generateIS(e,n,o,l));const K=this.isVideoContiguous;let he=-1,q;if(A&&(he=J2e(n.samples),!K&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,he>0){this.warn(`Dropped ${he} out of ${E} video samples due to a missing keyframe`);const Ee=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(he),n.dropped+=he,b+=(n.samples[0].pts-Ee)/n.inputTimeScale,q=b}else he===-1&&(this.warn(`No keyframe found out of ${E} video samples`),g=!1);if(this.ISGenerated){if(T&&A){const Ee=this.getVideoStartPts(n.samples),ge=(_s(e.samples[0].pts,Ee)-Ee)/n.inputTimeScale;y+=Math.max(0,ge),b+=Math.max(0,-ge)}if(T){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),f=this.generateIS(e,n,o,l)),h=this.remuxAudio(e,y,this.isAudioContiguous,l,_||A||c===Pn.AUDIO?b:void 0),A){const Ee=h?h.endPTS-h.startPTS:0;n.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),f=this.generateIS(e,n,o,l)),d=this.remuxVideo(n,b,K,Ee)}}else A&&(d=this.remuxVideo(n,b,K,0));d&&(d.firstKeyFrame=he,d.independent=he!==-1,d.firstKeyFramePTS=q)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(m=zJ(r,o,this._initPTS,this._initDTS)),i.samples.length&&(p=$J(i,o,this._initPTS))),{audio:h,video:d,initSegment:f,independent:g,text:p,id3:m}}computeInitPts(e,n,r,i){const o=Math.round(r*n);let l=_s(e,o);if(l<o+n)for(this.log(`Adjusting PTS for rollover in timeline near ${(o-l)/n} ${i}`);l<o+n;)l+=8589934592;return l-o}generateIS(e,n,r,i){const o=e.samples,l=n.samples,u=this.typeSupported,c={},d=this._initPTS;let h=!d||i,f="audio/mp4",p,m,g,y=-1;if(h&&(p=m=1/0),e.config&&o.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":u.mpeg?(f="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}c.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&u.mpeg?new Uint8Array(0):yt.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(y=e.id,g=e.inputTimeScale,!d||g!==d.timescale?p=m=this.computeInitPts(o[0].pts,g,r,"audio"):h=!1)}if(n.sps&&n.pps&&l.length){if(n.timescale=n.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:yt.initSegment([n]),metadata:{width:n.width,height:n.height}},h)if(y=n.id,g=n.inputTimeScale,!d||g!==d.timescale){const b=this.getVideoStartPts(l),v=_s(l[0].dts,b),_=this.computeInitPts(v,g,r,"video"),E=this.computeInitPts(b,g,r,"video");m=Math.min(m,_),p=Math.min(p,E)}else h=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(c).length)return this.ISGenerated=!0,h?(d&&this.warn(`Timestamps at playlist time: ${i?"":"~"}${r} ${p/g} != initPTS: ${d.baseTime/d.timescale} (${d.baseTime}/${d.timescale}) trackId: ${d.trackId}`),this.log(`Found initPTS at playlist time: ${r} offset: ${p/g} (${p}/${g}) trackId: ${y}`),this._initPTS={baseTime:p,timescale:g,trackId:y},this._initDTS={baseTime:m,timescale:g,trackId:y}):p=g=void 0,{tracks:c,initPTS:p,timescale:g,trackId:y}}remuxVideo(e,n,r,i){const o=e.inputTimeScale,l=e.samples,u=[],c=l.length,d=this._initPTS,h=d.baseTime*o/d.timescale;let f=this.nextVideoTs,p=8,m=this.videoSampleDuration,g,y,b=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,_=!1;if(!r||f===null){const we=h+n*o,je=l[0].pts-_s(l[0].dts,l[0].pts);Pf&&f!==null&&Math.abs(we-je-(f+h))<15e3?r=!0:f=we-je-h}const E=f+h;for(let we=0;we<c;we++){const je=l[we];je.pts=_s(je.pts,E),je.dts=_s(je.dts,E),je.dts<l[we>0?we-1:we].dts&&(_=!0)}_&&l.sort(function(we,je){const Ce=we.dts-je.dts,dt=we.pts-je.pts;return Ce||dt}),g=l[0].dts,y=l[l.length-1].dts;const T=y-g,A=T?Math.round(T/(c-1)):m||e.inputTimeScale/30;if(r){const we=g-E,je=we>A,Ce=we<-1;if((je||Ce)&&(je?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Dm(we,!0)} ms (${we}dts) hole between fragments detected at ${n.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${Dm(-we,!0)} ms (${we}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!Ce||E>=l[0].pts||Pf)){g=E;const dt=l[0].pts-we;if(je)l[0].dts=g,l[0].pts=dt;else{let Le=!0;for(let Pe=0;Pe<l.length&&!(l[Pe].dts>dt&&Le);Pe++){const it=l[Pe].pts;if(l[Pe].dts-=we,l[Pe].pts-=we,Pe<l.length-1){const J=l[Pe+1].pts,G=l[Pe].pts,P=J<=G,$=J<=it;Le=P==$}}}this.log(`Video: Initial PTS/DTS adjusted: ${Dm(dt,!0)}/${Dm(g,!0)}, delta: ${Dm(we,!0)} ms`)}}g=Math.max(0,g);let w=0,I=0,C=g;for(let we=0;we<c;we++){const je=l[we],Ce=je.units,dt=Ce.length;let Le=0;for(let Pe=0;Pe<dt;Pe++)Le+=Ce[Pe].data.length;I+=Le,w+=dt,je.length=Le,je.dts<C?(je.dts=C,C+=A/4|0||1):C=je.dts,b=Math.min(je.pts,b),v=Math.max(je.pts,v)}y=l[c-1].dts;const j=I+4*w+8;let F;try{F=new Uint8Array(j)}catch(we){this.observer.emit(be.ERROR,be.ERROR,{type:Kn.MUX_ERROR,details:Et.REMUX_ALLOC_ERROR,fatal:!1,error:we,bytes:j,reason:`fail allocating video mdat ${j}`});return}const K=new DataView(F.buffer);K.setUint32(0,j),F.set(yt.types.mdat,4);let he=!1,q=Number.POSITIVE_INFINITY,Ee=Number.POSITIVE_INFINITY,Te=Number.NEGATIVE_INFINITY,ge=Number.NEGATIVE_INFINITY;for(let we=0;we<c;we++){const je=l[we],Ce=je.units;let dt=0;for(let it=0,J=Ce.length;it<J;it++){const G=Ce[it],P=G.data,$=G.data.byteLength;K.setUint32(p,$),p+=4,F.set(P,p),p+=$,dt+=4+$}let Le;if(we<c-1)m=l[we+1].dts-je.dts,Le=l[we+1].pts-je.pts;else{const it=this.config,J=we>0?je.dts-l[we-1].dts:A;if(Le=we>0?je.pts-l[we-1].pts:A,it.stretchShortVideoTrack&&this.nextAudioTs!==null){const G=Math.floor(it.maxBufferHole*o),P=(i?b+i*o:this.nextAudioTs+h)-je.pts;P>G?(m=P-J,m<0?m=J:he=!0,this.log(`It is approximately ${P/90} ms to the next segment; using duration ${m/90} ms for the last video frame.`)):m=J}else m=J}const Pe=Math.round(je.pts-je.dts);q=Math.min(q,m),Te=Math.max(Te,m),Ee=Math.min(Ee,Le),ge=Math.max(ge,Le),u.push(i9(je.key,m,dt,Pe))}if(u.length){if(Pf){if(Pf<70){const we=u[0].flags;we.dependsOn=2,we.isNonSync=0}}else if(kk&&ge-Ee<Te-q&&A/Te<.025&&u[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let we=g;for(let je=0,Ce=u.length;je<Ce;je++){const dt=we+u[je].duration,Le=we+u[je].cts;if(je<Ce-1){const Pe=dt+u[je+1].cts;u[je].duration=Pe-Le}else u[je].duration=je?u[je-1].duration:A;u[je].cts=0,we=dt}}}m=he||!m?A:m;const Be=y+m;this.nextVideoTs=f=Be-h,this.videoSampleDuration=m,this.isVideoContiguous=!0;const Ie={data1:yt.moof(e.sequenceNumber++,g,ri(e,{samples:u})),data2:F,startPTS:(b-h)/o,endPTS:(v+m-h)/o,startDTS:(g-h)/o,endDTS:f/o,type:"video",hasAudio:!1,hasVideo:!0,nb:u.length,dropped:e.dropped};return e.samples=[],e.dropped=0,Ie}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return Q2e;case"ac3":return Z2e;default:return X2e}}remuxAudio(e,n,r,i,o){const l=e.inputTimeScale,u=e.samplerate?e.samplerate:l,c=l/u,d=this.getSamplesPerFrame(e),h=d*c,f=this._initPTS,p=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,m=[],g=o!==void 0;let y=e.samples,b=p?0:8,v=this.nextAudioTs||-1;const _=f.baseTime*l/f.timescale,E=_+n*l;if(this.isAudioContiguous=r=r||y.length&&v>0&&(i&&Math.abs(E-(v+_))<9e3||Math.abs(_s(y[0].pts,E)-(v+_))<20*h),y.forEach(function(ge){ge.pts=_s(ge.pts,E)}),!r||v<0){const ge=y.length;if(y=y.filter(Be=>Be.pts>=0),ge!==y.length&&this.warn(`Removed ${y.length-ge} of ${ge} samples (initPTS ${_} / ${l})`),!y.length)return;o===0?v=0:i&&!g?v=Math.max(0,E-_):v=y[0].pts-_}if(e.segmentCodec==="aac"){const ge=this.config.maxAudioFramesDrift;for(let Be=0,He=v+_;Be<y.length;Be++){const Ye=y[Be],Ie=Ye.pts,we=Ie-He,je=Math.abs(1e3*we/l);if(we<=-ge*h&&g)Be===0&&(this.warn(`Audio frame @ ${(Ie/l).toFixed(3)}s overlaps marker by ${Math.round(1e3*we/l)} ms.`),this.nextAudioTs=v=Ie-_,He=Ie);else if(we>=ge*h&&je<Y2e&&g){let Ce=Math.round(we/h);for(He=Ie-Ce*h;He<0&&Ce&&h;)Ce--,He+=h;Be===0&&(this.nextAudioTs=v=He-_),this.warn(`Injecting ${Ce} audio frames @ ${((He-_)/l).toFixed(3)}s due to ${Math.round(1e3*we/l)} ms gap.`);for(let dt=0;dt<Ce;dt++){let Le=V2e.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);Le||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Le=Ye.unit.subarray()),y.splice(Be,0,{unit:Le,pts:He}),He+=h,Be++}}Ye.pts=He,He+=h}}let T=null,A=null,w,I=0,C=y.length;for(;C--;)I+=y[C].unit.byteLength;for(let ge=0,Be=y.length;ge<Be;ge++){const He=y[ge],Ye=He.unit;let Ie=He.pts;if(A!==null){const je=m[ge-1];je.duration=Math.round((Ie-A)/c)}else if(r&&e.segmentCodec==="aac"&&(Ie=v+_),T=Ie,I>0){I+=b;try{w=new Uint8Array(I)}catch(je){this.observer.emit(be.ERROR,be.ERROR,{type:Kn.MUX_ERROR,details:Et.REMUX_ALLOC_ERROR,fatal:!1,error:je,bytes:I,reason:`fail allocating audio mdat ${I}`});return}p||(new DataView(w.buffer).setUint32(0,I),w.set(yt.types.mdat,4))}else return;w.set(Ye,b);const we=Ye.byteLength;b+=we,m.push(i9(!0,d,we,0)),A=Ie}const j=m.length;if(!j)return;const F=m[m.length-1];v=A-_,this.nextAudioTs=v+c*F.duration;const K=p?new Uint8Array(0):yt.moof(e.sequenceNumber++,T/c,ri({},e,{samples:m}));e.samples=[];const he=(T-_)/l,q=this.nextAudioTs/l,Te={data1:K,data2:w,startPTS:he,endPTS:q,startDTS:he,endDTS:q,type:"audio",hasAudio:!0,hasVideo:!1,nb:j};return this.isAudioContiguous=!0,Te}}function _s(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function J2e(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function zJ(t,e,n,r){const i=t.samples.length;if(!i)return;const o=t.inputTimeScale;for(let u=0;u<i;u++){const c=t.samples[u];c.pts=_s(c.pts-n.baseTime*o/n.timescale,e*o)/o,c.dts=_s(c.dts-r.baseTime*o/r.timescale,e*o)/o}const l=t.samples;return t.samples=[],{samples:l}}function $J(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let l=0;l<r;l++){const u=t.samples[l];u.pts=_s(u.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort((l,u)=>l.pts-u.pts);const o=t.samples;return t.samples=[],{samples:o}}class eFe extends ho{constructor(e,n,r,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const n=this.initPTS;n&&e&&n.baseTime===e.baseTime&&n.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,n,r,i){this.audioCodec=n,this.videoCodec=r,this.generateInitSegment(e,i),this.emitInitSegment=!0}generateInitSegment(e,n){let{audioCodec:r,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:o,video:l}=this.initData=KZ(e);if(n)$Me(e,n);else{const c=o||l;c!=null&&c.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${c.codec}")!`)}o&&(r=a9(o,si.AUDIO,this)),l&&(i=a9(l,si.VIDEO,this));const u={};o&&l?u.audiovideo={container:"video/mp4",codec:r+","+i,supplemental:l.supplemental,encrypted:l.encrypted,initSegment:e,id:"main"}:o?u.audio={container:"audio/mp4",codec:r,encrypted:o.encrypted,initSegment:e,id:"audio"}:l?u.video={container:"video/mp4",codec:i,supplemental:l.supplemental,encrypted:l.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=u}remux(e,n,r,i,o,l){var u,c;let{initPTS:d,lastEndTime:h}=this;const f={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};An(h)||(h=this.lastEndTime=o||0);const p=n.samples;if(!p.length)return f;const m={initPTS:void 0,timescale:void 0,trackId:void 0};let g=this.initData;if((u=g)!=null&&u.length||(this.generateInitSegment(p),g=this.initData),!((c=g)!=null&&c.length))return this.warn("Failed to generate initSegment."),f;this.emitInitSegment&&(m.tracks=this.initTracks,this.emitInitSegment=!1);const y=jMe(p,g,this),b=g.audio?y[g.audio.id]:null,v=g.video?y[g.video.id]:null,_=Ev(v,1/0),E=Ev(b,1/0),T=Ev(v,0,!0),A=Ev(b,0,!0);let w=o,I=0;const C=b&&(!v||!d&&E<_||d&&d.trackId===g.audio.id),j=C?b:v;if(j){const He=j.timescale,Ye=j.start-o*He,Ie=C?g.audio.id:g.video.id;w=j.start/He,I=C?A-E:T-_,(l||!d)&&(tFe(d,w,o,I)||He!==d.timescale)&&(d&&this.warn(`Timestamps at playlist time: ${l?"":"~"}${o} ${Ye/He} != initPTS: ${d.baseTime/d.timescale} (${d.baseTime}/${d.timescale}) trackId: ${d.trackId}`),this.log(`Found initPTS at playlist time: ${o} offset: ${w-o} (${Ye}/${He}) trackId: ${Ie}`),d=null,m.initPTS=Ye,m.timescale=He,m.trackId=Ie)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${o}`);d?(m.initPTS=d.baseTime,m.timescale=d.timescale,m.trackId=d.trackId):((!m.timescale||m.trackId===void 0||m.initPTS===void 0)&&(this.warn("Could not set initPTS"),m.initPTS=w,m.timescale=1,m.trackId=-1),this.initPTS=d={baseTime:m.initPTS,timescale:m.timescale,trackId:m.trackId});const F=w-d.baseTime/d.timescale,K=F+I;I>0?this.lastEndTime=K:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const he=!!g.audio,q=!!g.video;let Ee="";he&&(Ee+="audio"),q&&(Ee+="video");const Te=(g.audio?g.audio.encrypted:!1)||(g.video?g.video.encrypted:!1),ge={data1:p,startPTS:F,startDTS:F,endPTS:K,endDTS:K,type:Ee,hasAudio:he,hasVideo:q,nb:1,dropped:0,encrypted:Te};f.audio=he&&!q?ge:void 0,f.video=q?ge:void 0;const Be=v?.sampleCount;if(Be){const He=v.keyFrameIndex,Ye=He!==-1;ge.nb=Be,ge.dropped=He===0||this.isVideoContiguous?0:Ye?He:Be,ge.independent=Ye,ge.firstKeyFrame=He,Ye&&v.keyFrameStart&&(ge.firstKeyFramePTS=(v.keyFrameStart-d.baseTime)/d.timescale),this.isVideoContiguous||(f.independent=Ye),this.isVideoContiguous||(this.isVideoContiguous=Ye),ge.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${He}/${Be} dropped: ${ge.dropped} start: ${ge.firstKeyFramePTS||"NA"}`)}return f.initSegment=m,f.id3=zJ(r,o,d,d),i.samples.length&&(f.text=$J(i,o,d)),f}}function Ev(t,e,n=!1){return t?.start!==void 0?(t.start+(n?t.duration:0))/t.timescale:e}function tFe(t,e,n,r){if(t===null)return!0;const i=Math.max(r,1),o=e-t.baseTime/t.timescale;return Math.abs(o-n)>i}function a9(t,e,n){const r=t.codec;return r&&r.length>4?r:e===si.AUDIO?r==="ec-3"||r==="ac-3"||r==="alac"?r:r==="fLaC"||r==="Opus"?z_(r,!1):(n.warn(`Unhandled audio codec "${r}" in mp4 MAP`),r||"mp4a"):(n.warn(`Unhandled video codec "${r}" in mp4 MAP`),r||"avc1")}let su;try{su=self.performance.now.bind(self.performance)}catch{su=Date.now}const o0=[{demux:z2e,remux:eFe},{demux:lc,remux:s0},{demux:N2e,remux:s0},{demux:U2e,remux:s0}];o0.splice(2,0,{demux:F2e,remux:s0});class s9{constructor(e,n,r,i,o,l){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=r,this.id=o,this.logger=l}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,r,i){const o=r.transmuxing;o.executeStart=su();let l=new Uint8Array(e);const{currentTransmuxState:u,transmuxConfig:c}=this;i&&(this.currentTransmuxState=i);const{contiguous:d,discontinuity:h,trackSwitch:f,accurateTimeOffset:p,timeOffset:m,initSegmentChange:g}=i||u,{audioCodec:y,videoCodec:b,defaultInitPts:v,duration:_,initSegmentData:E}=c,T=nFe(l,n);if(T&&Kh(T.method)){const C=this.getDecrypter(),j=gN(T.method);if(C.isSync()){let F=C.softwareDecrypt(l,T.key.buffer,T.iv.buffer,j);if(r.part>-1){const he=C.flush();F=he&&he.buffer}if(!F)return o.executeEnd=su(),Ck(r);l=new Uint8Array(F)}else return this.asyncResult=!0,this.decryptionPromise=C.webCryptoDecrypt(l,T.key.buffer,T.iv.buffer,j).then(F=>{const K=this.push(F,null,r);return this.decryptionPromise=null,K}),this.decryptionPromise}const A=this.needsProbing(h,f);if(A){const C=this.configureTransmuxer(l);if(C)return this.logger.warn(`[transmuxer] ${C.message}`),this.observer.emit(be.ERROR,be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.FRAG_PARSING_ERROR,fatal:!1,error:C,reason:C.message}),o.executeEnd=su(),Ck(r)}(h||f||g||A)&&this.resetInitSegment(E,y,b,_,n),(h||g||A)&&this.resetInitialTimestamp(v),d||this.resetContiguity();const w=this.transmux(l,T,m,p,r);this.asyncResult=xy(w);const I=this.currentTransmuxState;return I.contiguous=!0,I.discontinuity=!1,I.trackSwitch=!1,o.executeEnd=su(),w}flush(e){const n=e.transmuxing;n.executeStart=su();const{decrypter:r,currentTransmuxState:i,decryptionPromise:o}=this;if(o)return this.asyncResult=!0,o.then(()=>this.flush(e));const l=[],{timeOffset:u}=i;if(r){const f=r.flush();f&&l.push(this.push(f.buffer,null,e))}const{demuxer:c,remuxer:d}=this;if(!c||!d){n.executeEnd=su();const f=[Ck(e)];return this.asyncResult?Promise.resolve(f):f}const h=c.flush(u);return xy(h)?(this.asyncResult=!0,h.then(f=>(this.flushRemux(l,f,e),l))):(this.flushRemux(l,h,e),this.asyncResult?Promise.resolve(l):l)}flushRemux(e,n,r){const{audioTrack:i,videoTrack:o,id3Track:l,textTrack:u}=n,{accurateTimeOffset:c,timeOffset:d}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${r.sn}${r.part>-1?" part: "+r.part:""} of ${this.id===Pn.MAIN?"level":"track"} ${r.level}`);const h=this.remuxer.remux(i,o,l,u,d,c,!0,this.id);e.push({remuxResult:h,chunkMeta:r}),r.transmuxing.executeEnd=su()}resetInitialTimestamp(e){const{demuxer:n,remuxer:r}=this;!n||!r||(n.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,r,i,o){const{demuxer:l,remuxer:u}=this;!l||!u||(l.resetInitSegment(e,n,r,i),u.resetInitSegment(e,n,r,o))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,r,i,o){let l;return n&&n.method==="SAMPLE-AES"?l=this.transmuxSampleAes(e,n,r,i,o):l=this.transmuxUnencrypted(e,r,i,o),l}transmuxUnencrypted(e,n,r,i){const{audioTrack:o,videoTrack:l,id3Track:u,textTrack:c}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(o,l,u,c,n,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,n,r,i,o){return this.demuxer.demuxSampleAes(e,n,r).then(l=>({remuxResult:this.remuxer.remux(l.audioTrack,l.videoTrack,l.id3Track,l.textTrack,r,i,!1,this.id),chunkMeta:o}))}configureTransmuxer(e){const{config:n,observer:r,typeSupported:i}=this;let o;for(let f=0,p=o0.length;f<p;f++){var l;if((l=o0[f].demux)!=null&&l.probe(e,this.logger)){o=o0[f];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const u=this.demuxer,c=this.remuxer,d=o.remux,h=o.demux;(!c||!(c instanceof d))&&(this.remuxer=new d(r,n,i,this.logger)),(!u||!(u instanceof h))&&(this.demuxer=new h(r,n,i,this.logger),this.probe=h.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new pN(this.config)),e}}function nFe(t,e){let n=null;return t.byteLength>0&&e?.key!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const Ck=t=>({remuxResult:{},chunkMeta:t});function xy(t){return"then"in t&&t.then instanceof Function}class rFe{constructor(e,n,r,i,o){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=r,this.duration=i,this.defaultInitPts=o||null}}class iFe{constructor(e,n,r,i,o,l){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=o,this.initSegmentChange=l}}let o9=0;class qJ{constructor(e,n,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=o9++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=c=>{const d=c.data,h=this.hls;if(!(!h||!(d!=null&&d.event)||d.instanceNo!==this.instanceNo))switch(d.event){case"init":{var f;const p=(f=this.workerContext)==null?void 0:f.objectURL;p&&self.URL.revokeObjectURL(p);break}case"transmuxComplete":{this.handleTransmuxComplete(d.data);break}case"flush":{this.onFlush(d.data);break}case"workerLog":{h.logger[d.data.logType]&&h.logger[d.data.logType](d.data.message);break}default:{d.data=d.data||{},d.data.frag=this.frag,d.data.part=this.part,d.data.id=this.id,h.trigger(d.event,d.data);break}}},this.onWorkerError=c=>{if(!this.hls)return;const d=new Error(`${c.message}  (${c.filename}:${c.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:d})};const o=e.config;this.hls=e,this.id=n,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const l=(c,d)=>{d=d||{},d.frag=this.frag||void 0,c===be.ERROR&&(d=d,d.parent=this.id,d.part=this.part,this.error=d.error),this.hls.trigger(c,d)};this.observer=new vN,this.observer.on(be.FRAG_DECRYPTED,l),this.observer.on(be.ERROR,l);const u=TH(o.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const c=this.hls.logger;if(o.workerPath||l2e()){try{o.workerPath?(c.log(`loading Web Worker ${o.workerPath} for "${n}"`),this.workerContext=c2e(o.workerPath)):(c.log(`injecting Web Worker for "${n}"`),this.workerContext=u2e());const{worker:h}=this.workerContext;h.addEventListener("message",this.onWorkerMessage),h.addEventListener("error",this.onWorkerError),h.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:u,id:n,config:li(o)})}catch(h){c.warn(`Error setting up "${n}" Web Worker, fallback to inline`,h),this.terminateWorker(),this.error=null,this.transmuxer=new s9(this.observer,u,o,"",n,e.logger)}return}}this.transmuxer=new s9(this.observer,u,o,"",n,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=o9++;const n=this.hls.config,r=TH(n.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:r,id:this.id,config:li(n)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),d2e(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,n,r,i,o,l,u,c,d,h){var f,p;d.transmuxing.start=self.performance.now();const{instanceNo:m,transmuxer:g}=this,y=l?l.start:o.start,b=o.decryptdata,v=this.frag,_=!(v&&o.cc===v.cc),E=!(v&&d.level===v.level),T=v?d.sn-v.sn:-1,A=this.part?d.part-this.part.index:-1,w=T===0&&d.id>1&&d.id===v?.stats.chunkCount,I=!E&&(T===1||T===0&&(A===1||w&&A<=0)),C=self.performance.now();(E||T||o.stats.parsing.start===0)&&(o.stats.parsing.start=C),l&&(A||!I)&&(l.stats.parsing.start=C);const j=!(v&&((f=o.initSegment)==null?void 0:f.url)===((p=v.initSegment)==null?void 0:p.url)),F=new iFe(_,I,c,E,y,j);if(!I||_||j){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${o.type} sn: ${d.sn}${d.part>-1?" part: "+d.part:""} ${this.id===Pn.MAIN?"level":"track"}: ${d.level} id: ${d.id}
        discontinuity: ${_}
        trackSwitch: ${E}
        contiguous: ${I}
        accurateTimeOffset: ${c}
        timeOffset: ${y}
        initSegmentChange: ${j}`);const K=new rFe(r,i,n,u,h);this.configureTransmuxer(K)}if(this.frag=o,this.part=l,this.workerContext)this.workerContext.worker.postMessage({instanceNo:m,cmd:"demux",data:e,decryptdata:b,chunkMeta:d,state:F},e instanceof ArrayBuffer?[e]:[]);else if(g){const K=g.push(e,b,d,F);xy(K)?K.then(he=>{this.handleTransmuxComplete(he)}).catch(he=>{this.transmuxerError(he,d,"transmuxer-interface push error")}):this.handleTransmuxComplete(K)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:n,transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:n,cmd:"flush",chunkMeta:e});else if(r){const i=r.flush(e);xy(i)?i.then(o=>{this.handleFlushResult(o,e)}).catch(o=>{this.transmuxerError(o,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,n,r){this.hls&&(this.error=e,this.hls.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,n){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(n)}configureTransmuxer(e){const{instanceNo:n,transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:n,cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const l9=100;class aFe extends bN{constructor(e,n,r){super(e,n,r,"audio-stream-controller",Pn.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(be.LEVEL_LOADED,this.onLevelLoaded,this),e.on(be.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(be.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(be.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(be.BUFFER_RESET,this.onBufferReset,this),e.on(be.BUFFER_CREATED,this.onBufferCreated,this),e.on(be.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(be.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(be.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(be.FRAG_LOADING,this.onFragLoading,this),e.on(be.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(be.LEVEL_LOADED,this.onLevelLoaded,this),e.off(be.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(be.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(be.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(be.BUFFER_RESET,this.onBufferReset,this),e.off(be.BUFFER_CREATED,this.onBufferCreated,this),e.off(be.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(be.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(be.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(be.FRAG_LOADING,this.onFragLoading,this),e.off(be.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:o,trackId:l}){if(r===Pn.MAIN){const u=n.cc,c=this.fragCurrent;if(this.initPTS[u]={baseTime:i,timescale:o,trackId:l},this.log(`InitPTS for cc: ${u} found from main: ${i/o} (${i}/${o}) trackId: ${l}`),this.mainAnchor=n,this.state===Xt.WAITING_INIT_PTS){const d=this.waitingData;(!d&&!this.loadingParts||d&&d.frag.cc!==u)&&this.syncWithAnchor(n,d?.frag)}else!this.hls.hasEnoughToStart&&c&&c.cc!==u?(c.abortRequests(),this.syncWithAnchor(n,c)):this.state===Xt.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,n){var r;const i=((r=this.mainFragLoading)==null?void 0:r.frag)||null;if(n&&i?.cc===n.cc)return;const o=(i||e).cc,l=this.getLevelDetails(),u=this.getLoadPosition(),c=iJ(l,o,u);c&&(this.log(`Syncing with main frag at ${c.start} cc ${c.cc}`),this.startFragRequested=!1,this.nextLoadPosition=c.start,this.resetLoadingState(),this.state===Xt.IDLE&&this.doTickIdle())}startLoad(e,n){if(!this.levels){this.startPosition=e,this.state=Xt.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(l9),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=Xt.IDLE):this.state=Xt.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}doTick(){switch(this.state){case Xt.IDLE:this.doTickIdle();break;case Xt.WAITING_TRACK:{const{levels:e,trackId:n}=this,r=e?.[n],i=r?.details;if(i&&!this.waitForLive(r)){if(this.waitForCdnTuneIn(i))break;this.state=Xt.WAITING_INIT_PTS}break}case Xt.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case Xt.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:n,part:r,cache:i,complete:o}=e,l=this.mainAnchor;if(this.initPTS[n.cc]!==void 0){this.waitingData=null,this.state=Xt.FRAG_LOADING;const u=i.flush().buffer,c={frag:n,part:r,payload:u,networkDetails:null};this._handleFragmentLoadProgress(c),o&&super._handleFragmentLoadComplete(c)}else l&&l.cc!==e.frag.cc&&this.syncWithAnchor(l,e.frag)}else this.state=Xt.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:n,levels:r,media:i,trackId:o}=this,l=n.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!l.startFragPrefetch)||!(r!=null&&r[o]))return;const u=r[o],c=u.details;if(!c||this.waitForLive(u)||this.waitForCdnTuneIn(c)){this.state=Xt.WAITING_TRACK,this.startFragRequested=!1;return}const d=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&d&&(this.bufferFlushed=!1,this.afterBufferFlushed(d,si.AUDIO,Pn.AUDIO));const h=this.getFwdBufferInfo(d,Pn.AUDIO);if(h===null)return;if(!this.switchingTrack&&this._streamEnded(h,c)){n.trigger(be.BUFFER_EOS,{type:"audio"}),this.state=Xt.ENDED;return}const f=h.len,p=n.maxBufferLength,m=c.fragments,g=m[0].start,y=this.getLoadPosition(),b=this.flushing?y:h.end;if(this.switchingTrack&&i){const E=y;c.PTSKnown&&E<g&&(h.end>g||h.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=g+.05)}if(f>=p&&!this.switchingTrack&&b<m[m.length-1].start)return;let v=this.getNextFragment(b,c);if(v&&this.isLoopLoading(v,b)&&(v=this.getNextFragmentLoopLoading(v,c,h,Pn.MAIN,p)),!v){this.bufferFlushed=!0;return}let _=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&_&&$i(v)&&!v.endList&&(!c.live||!this.loadingParts&&b<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(_)===ra.OK&&(this.mainFragLoading=_=null),_&&$i(_))){if(v.start>_.end){const T=this.fragmentTracker.getFragAtPos(b,Pn.MAIN);T&&T.end>_.end&&(_=T,this.mainFragLoading={frag:T,targetBufferTime:null})}if(v.start>_.end)return}this.loadFragment(v,u,b)}onMediaDetaching(e,n){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,n)}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(r=>new wy(r))}onAudioTrackSwitching(e,n){const r=!!n.url;this.trackId=n.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?(this.switchingTrack=n,this.flushAudioIfNeeded(n),this.state!==Xt.STOPPED&&(this.setInterval(l9),this.state=Xt.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=n,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,n){this.mainDetails=n.details;const r=this.cachedTrackLoadedData;r&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(be.AUDIO_TRACK_LOADED,r))}onAudioTrackLoaded(e,n){var r;const{levels:i}=this,{details:o,id:l,groupId:u,track:c}=n;if(!i){this.warn(`Audio tracks reset while loading track ${l} "${c.name}" of "${u}"`);return}const d=this.mainDetails;if(!d||o.endCC>d.endCC||d.expired){this.cachedTrackLoadedData=n,this.state!==Xt.STOPPED&&(this.state=Xt.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${l} "${c.name}" of "${u}" loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`);const h=i[l];let f=0;if(o.live||(r=h.details)!=null&&r.live){if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;if(h.details){var p;f=this.alignPlaylists(o,h.details,(p=this.levelLastLoaded)==null?void 0:p.details)}o.alignedSliding||(TJ(o,d),o.alignedSliding||K_(o,d),f=o.fragmentStart)}h.details=o,this.levelLastLoaded=h,this.startFragRequested||this.setStartPosition(d,f),this.hls.trigger(be.AUDIO_TRACK_UPDATED,{details:o,id:l,groupId:n.groupId}),this.state===Xt.WAITING_TRACK&&!this.waitForCdnTuneIn(o)&&(this.state=Xt.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:i,payload:o}=e,{config:l,trackId:u,levels:c}=this;if(!c){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const d=c[u];if(!d){this.warn("Audio track is undefined on fragment load progress");return}const h=d.details;if(!h){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const f=l.defaultAudioCodec||d.audioCodec||"mp4a.40.2";let p=this.transmuxer;p||(p=this.transmuxer=new qJ(this.hls,Pn.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const m=this.initPTS[r.cc],g=(n=r.initSegment)==null?void 0:n.data;if(m!==void 0){const b=i?i.index:-1,v=b!==-1,_=new mN(r.level,r.sn,r.stats.chunkCount,o.byteLength,b,v);p.push(o,g,f,"",r,i,h.totalduration,!1,_,m)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${h.startSN} ,${h.endSN}],track ${u}`);const{cache:y}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new SJ,complete:!1};y.push(new Uint8Array(o)),this.state!==Xt.STOPPED&&(this.state=Xt.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,n){this.bufferFlushed=this.flushing=!1;const r=n.tracks.audio;r&&(this.mediaBuffer=r.buffer||null)}onFragLoading(e,n){!this.audioOnly&&n.frag.type===Pn.MAIN&&$i(n.frag)&&(this.mainFragLoading=n,this.state===Xt.IDLE&&this.tick())}onFragBuffered(e,n){const{frag:r,part:i}=n;if(r.type!==Pn.AUDIO){!this.audioOnly&&r.type===Pn.MAIN&&!r.elementaryStreams.video&&!r.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if($i(r)){this.fragPrevious=r;const o=this.switchingTrack;o&&(this.bufferedTrack=o,this.switchingTrack=null,this.hls.trigger(be.AUDIO_TRACK_SWITCHED,Yr({},o)))}this.fragBufferedComplete(r,i),this.media&&this.tick()}onError(e,n){var r;if(n.fatal){this.state=Xt.ERROR;return}switch(n.details){case Et.FRAG_GAP:case Et.FRAG_PARSING_ERROR:case Et.FRAG_DECRYPT_ERROR:case Et.FRAG_LOAD_ERROR:case Et.FRAG_LOAD_TIMEOUT:case Et.KEY_LOAD_ERROR:case Et.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Pn.AUDIO,n);break;case Et.AUDIO_TRACK_LOAD_ERROR:case Et.AUDIO_TRACK_LOAD_TIMEOUT:case Et.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===Xt.WAITING_TRACK&&((r=n.context)==null?void 0:r.type)===Ar.AUDIO_TRACK&&(this.state=Xt.IDLE);break;case Et.BUFFER_ADD_CODEC_ERROR:case Et.BUFFER_APPEND_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)||this.resetLoadingState();break;case Et.BUFFER_FULL_ERROR:if(n.parent!=="audio")return;this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Et.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==si.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==si.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===Xt.ENDED&&(this.state=Xt.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,n,Pn.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const r="audio",{hls:i}=this,{remuxResult:o,chunkMeta:l}=e,u=this.getCurrentContext(l);if(!u){this.resetWhenMissingContext(l);return}const{frag:c,part:d,level:h}=u,{details:f}=h,{audio:p,text:m,id3:g,initSegment:y}=o;if(this.fragContextChanged(c)||!f){this.fragmentTracker.removeFragment(c);return}if(this.state=Xt.PARSING,this.switchingTrack&&p&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const b=c.initSegment||c;if(this.unhandledEncryptionError(y,c))return;this._bufferInitSegment(h,y.tracks,b,l),i.trigger(be.FRAG_PARSING_INIT_SEGMENT,{frag:b,id:r,tracks:y.tracks})}if(p){const{startPTS:b,endPTS:v,startDTS:_,endDTS:E}=p;d&&(d.elementaryStreams[si.AUDIO]={startPTS:b,endPTS:v,startDTS:_,endDTS:E}),c.setElementaryStreamInfo(si.AUDIO,b,v,_,E),this.bufferFragmentData(p,c,d,l)}if(g!=null&&(n=g.samples)!=null&&n.length){const b=ri({id:r,frag:c,details:f},g);i.trigger(be.FRAG_PARSING_METADATA,b)}if(m){const b=ri({id:r,frag:c,details:f},m);i.trigger(be.FRAG_PARSING_USERDATA,b)}}_bufferInitSegment(e,n,r,i){if(this.state!==Xt.PARSING||(n.video&&delete n.video,n.audiovideo&&delete n.audiovideo,!n.audio))return;const o=n.audio;o.id=Pn.AUDIO;const l=e.audioCodec;this.log(`Init audio buffer, container:${o.container}, codecs[level/parsed]=[${l}/${o.codec}]`),l&&l.split(",").length===1&&(o.levelCodec=l),this.hls.trigger(be.BUFFER_CODECS,n);const u=o.initSegment;if(u!=null&&u.byteLength){const c={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:u};this.hls.trigger(be.BUFFER_APPENDING,c)}this.tickImmediate()}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===ra.NOT_LOADED||i===ra.PARTIAL){var o;if(!$i(e))this._loadInitSegment(e,n);else if((o=n.details)!=null&&o.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=Xt.WAITING_INIT_PTS;const l=this.mainDetails;l&&l.fragmentStart!==n.details.fragmentStart&&K_(n.details,l)}else super.loadFragment(e,n,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:n,lang:r,assocLang:i,characteristics:o,audioCodec:l,channels:u}=this.bufferedTrack;xd({name:n,lang:r,assocLang:i,characteristics:o,audioCodec:l,channels:u},e,ed)||(q_(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(be.AUDIO_TRACK_SWITCHED,Yr({},e))}}class IN extends ho{constructor(e,n){super(n,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,r){const i=n?.renditionReports;if(i){let o=-1;for(let l=0;l<i.length;l++){const u=i[l];let c;try{c=new self.URL(u.URI,n.url).href}catch(d){this.warn(`Could not construct new URL for Rendition Report: ${d}`),c=u.URI||""}if(c===e){o=l;break}else c===e.substring(0,c.length)&&(o=l)}if(o!==-1){const l=i[o],u=parseInt(l["LAST-MSN"])||n.lastPartSn;let c=parseInt(l["LAST-PART"])||n.lastPartIndex;if(this.hls.config.lowLatencyMode){const h=Math.min(n.age-n.partTarget,n.targetduration);c>=0&&h>n.partTarget&&(c+=1)}const d=r&&SH(r);return new wH(u,c>=0?c:void 0,d)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,n){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,n){if(n)try{return n.addDirectives(e)}catch(r){this.warn(`Could not construct new URL with HLS Delivery Directives: ${r}`)}return e}playlistLoaded(e,n,r){const{details:i,stats:o}=n,l=self.performance.now(),u=o.loading.first?Math.max(0,l-o.loading.first):0;i.advancedDateTime=Date.now()-u;const c=this.hls.config.timelineOffset;if(c!==i.appliedTimelineOffset){const h=Math.max(c||0,0);i.appliedTimelineOffset=h,i.fragments.forEach(f=>{f.setStart(f.playlistOffset+h)})}if(i.live||r!=null&&r.live){const h="levelInfo"in n?n.levelInfo:n.track;if(i.reloaded(r),r&&i.fragments.length>0){QNe(r,i,this);const _=i.playlistParsingError;if(_){this.warn(_);const E=this.hls;if(!E.config.ignorePlaylistParsingErrors){var d;const{networkDetails:T}=n;E.trigger(be.ERROR,{type:Kn.NETWORK_ERROR,details:Et.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:_,reason:_.message,level:n.level||void 0,parent:(d=i.fragments[0])==null?void 0:d.type,networkDetails:T,stats:o});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=o.loading.start);const f=this.hls.mainForwardBufferInfo,p=f?f.end-f.len:0,m=(i.edge-p)*1e3,g=yJ(i,m);if(i.requestScheduled+g<l?i.requestScheduled=l:i.requestScheduled+=g,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let y,b,v;if(i.canBlockReload&&i.endSN&&i.advanced){const _=this.hls.config.lowLatencyMode,E=i.lastPartSn,T=i.endSN,A=i.lastPartIndex,w=A!==-1,I=E===T;w?I?(b=T+1,v=_?0:A):(b=E,v=_?A+1:i.maxPartIndex):b=T+1;const C=i.age,j=C+i.ageHeader;let F=Math.min(j-i.partTarget,i.targetduration*1.5);if(F>0){if(j>i.targetduration*3)this.log(`Playlist last advanced ${C.toFixed(2)}s ago. Omitting segment and part directives.`),b=void 0,v=void 0;else if(r!=null&&r.tuneInGoal&&j-i.partTarget>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${F} with playlist age: ${i.age}`),F=0;else{const K=Math.floor(F/i.targetduration);if(b+=K,v!==void 0){const he=Math.round(F%i.targetduration/i.partTarget);v+=he}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${C.toFixed(2)}s goal: ${F} skip sn ${K} to part ${v}`)}i.tuneInGoal=F}if(y=this.getDeliveryDirectives(i,n.deliveryDirectives,b,v),_||!I){i.requestScheduled=l,this.loadingPlaylist(h,y);return}}else(i.canBlockReload||i.canSkipUntil)&&(y=this.getDeliveryDirectives(i,n.deliveryDirectives,b,v));y&&b!==void 0&&i.canBlockReload&&(i.requestScheduled=o.loading.first+Math.max(g-u*2,g/2)),this.scheduleLoading(h,y,i)}else this.clearTimer()}scheduleLoading(e,n,r){const i=r||e.details;if(!i){this.loadingPlaylist(e,n);return}const o=self.performance.now(),l=i.requestScheduled;if(o>=l){this.loadingPlaylist(e,n);return}const u=l-o;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(u)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,n),u)}getDeliveryDirectives(e,n,r,i){let o=SH(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(r=n.msn,i=n.part,o=i0.No),new wH(r,i,o)}checkRetry(e){const n=e.details,r=j_(e),i=e.errorAction,{action:o,retryCount:l=0,retryConfig:u}=i||{},c=!!i&&!!u&&(o===Sa.RetryRequest||!i.resolved&&o===Sa.SendAlternateToPenaltyBox);if(c){var d;if(l>=u.maxNumRetry)return!1;if(r&&(d=e.context)!=null&&d.deliveryDirectives)this.warn(`Retrying playlist loading ${l+1}/${u.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const h=hN(u,l);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),h),this.warn(`Retrying playlist loading ${l+1}/${u.maxNumRetry} after "${n}" in ${h}ms`)}e.levelRetry=!0,i.resolved=!0}return c}}function jJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Ry(t[n].attrs,e[n].attrs))return!1;return!0}function Ry(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function iL(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class sFe extends IN{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.MANIFEST_PARSED,this.onManifestParsed,this),e.on(be.LEVEL_LOADING,this.onLevelLoading,this),e.on(be.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(be.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(be.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.MANIFEST_PARSED,this.onManifestParsed,this),e.off(be.LEVEL_LOADING,this.onLevelLoading,this),e.off(be.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(be.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(be.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:r,groupId:i,details:o}=n,l=this.tracksInGroup[r];if(!l||l.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${l?.groupId}`);return}const u=l.details;l.details=n.details,this.log(`Audio track ${r} "${l.name}" lang:${l.lang} group:${i} loaded [${o.startSN}-${o.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,u)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.audioGroups||null,i=this.groupIds;let o=this.currentTrack;if(!r||i?.length!==r?.length||r!=null&&r.some(u=>i?.indexOf(u)===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const u=this.tracks.filter(p=>!r||r.indexOf(p.groupId)!==-1);if(u.length)this.selectDefaultTrack&&!u.some(p=>p.default)&&(this.selectDefaultTrack=!1),u.forEach((p,m)=>{p.id=m});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=u;const c=this.hls.config.audioPreference;if(!o&&c){const p=Rl(c,u,ed);if(p>-1)o=u[p];else{const m=Rl(c,this.tracks);o=this.tracks[m]}}let d=this.findTrackId(o);d===-1&&o&&(d=this.findTrackId(null));const h={audioTracks:u};this.log(`Updating audio tracks, ${u.length} track(s) found in group(s): ${r?.join(",")}`),this.hls.trigger(be.AUDIO_TRACKS_UPDATED,h);const f=this.trackId;if(d!==-1&&f===-1)this.setAudioTrack(d);else if(u.length&&f===-1){var l;const p=new Error(`No audio track selected for current audio group-ID(s): ${(l=this.groupIds)==null?void 0:l.join(",")} track count: ${u.length}`);this.warn(p.message),this.hls.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:p})}}}onError(e,n){n.fatal||!n.context||n.context.type===Ar.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&xd(e,i,ed))return i;const o=Rl(e,this.tracksInGroup,ed);if(o>-1){const l=this.tracksInGroup[o];return this.setAudioTrack(o),l}else if(i){let l=n.loadLevel;l===-1&&(l=n.firstAutoLevel);const u=bNe(e,n.levels,r,l,ed);if(u===-1)return null;n.nextLoadLevel=u}if(e.channels||e.audioCodec){const l=Rl(e,r);if(l>-1)return r[l]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e],o=i.details&&!i.details.live;if(e===this.trackId&&i===r&&o||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(be.AUDIO_TRACK_SWITCHING,Yr({},i)),o))return;const l=this.switchParams(i.url,r?.details,i.details);this.loadPlaylist(l)}findTrackId(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||xd(e,i,ed)))return r}if(e){const{name:r,lang:i,assocLang:o,characteristics:l,audioCodec:u,channels:c}=e;for(let d=0;d<n.length;d++){const h=n[d];if(xd({name:r,lang:i,assocLang:o,characteristics:l,audioCodec:u,channels:c},h,ed))return d}for(let d=0;d<n.length;d++){const h=n[d];if(Ry(e.attrs,h.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return d}for(let d=0;d<n.length;d++){const h=n[d];if(Ry(e.attrs,h.attrs,["LANGUAGE"]))return d}}return-1}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;this.shouldLoadPlaylist(n)&&q_(n.url,this.hls)&&this.scheduleLoading(n,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,i=e.groupId,o=this.getUrlWithDirectives(e.url,n),l=e.details,u=l?.age;this.log(`Loading audio-track ${r} "${e.name}" lang:${e.lang} group:${i}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${u&&l.live?" age "+u.toFixed(1)+(l.type&&" "+l.type||""):""} ${o}`),this.hls.trigger(be.AUDIO_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:n||null,track:e})}}class oFe{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,n,r){if(this.queues===null||this.tracks===null)return;const i=this.queues[n];i.push(e),i.length===1&&!r&&this.executeNext(n)}appendBlocker(e){return new Promise(n=>{const r={label:"async-blocker",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(r,e)})}prependBlocker(e){return new Promise(n=>{if(this.queues){const r={label:"async-blocker-prepend",execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(r)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var n;const r=(n=e[0])==null?void 0:n.label;(r==="async-blocker"||r==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const n=this.queues[e];if(n.length){const i=n[0];try{i.execute()}catch(o){var r;if(i.onError(o),this.queues===null||this.tracks===null)return;const l=(r=this.tracks[e])==null?void 0:r.buffer;l!=null&&l.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var n;return((n=this.queues)==null?void 0:n[e][0])||null}toString(){const{queues:e,tracks:n}=this;return e===null||n===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var n,r;return(n=this.queues)!=null&&n[e]||(r=this.tracks)!=null&&r[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var n;const r=(n=this.tracks)==null?void 0:n[e],i=r?.buffer;return i?`SourceBuffer${i.updating?" updating":""}${r.ended?" ended":""}${r.ending?" ending":""}`:"none"}listOps(e){var n;return((n=this.queues)==null?void 0:n[e].map(r=>r.label).join(", "))||""}}const u9=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,HJ="HlsJsTrackRemovedError";class lFe extends Error{constructor(e){super(e),this.name=HJ}}class uFe extends ho{constructor(e,n){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=r=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=r=>{const{media:i,mediaSource:o}=this;r&&this.log("Media source opened"),!(!i||!o)&&(o.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(be.MEDIA_ATTACHED,{media:i,mediaSource:o}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e,this.fragmentTracker=n,this.appendSource=DMe(Ac(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.MANIFEST_PARSED,this.onManifestParsed,this),e.on(be.BUFFER_RESET,this.onBufferReset,this),e.on(be.BUFFER_APPENDING,this.onBufferAppending,this),e.on(be.BUFFER_CODECS,this.onBufferCodecs,this),e.on(be.BUFFER_EOS,this.onBufferEos,this),e.on(be.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(be.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(be.FRAG_PARSED,this.onFragParsed,this),e.on(be.FRAG_CHANGED,this.onFragChanged,this),e.on(be.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.MANIFEST_PARSED,this.onManifestParsed,this),e.off(be.BUFFER_RESET,this.onBufferReset,this),e.off(be.BUFFER_APPENDING,this.onBufferAppending,this),e.off(be.BUFFER_CODECS,this.onBufferCodecs,this),e.off(be.BUFFER_EOS,this.onBufferEos,this),e.off(be.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(be.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(be.FRAG_PARSED,this.onFragParsed,this),e.off(be.FRAG_CHANGED,this.onFragChanged,this),e.off(be.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:n}=this;if(!e)return null;const r={};if(this.operationQueue){const o=this.isUpdating();o||this.operationQueue.removeBlockers();const l=this.isQueued();(o||l)&&this.warn(`Transfering MediaSource with${l?" operations in queue":""}${o?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===n?ri(r,i.tracks):this.sourceBuffers.forEach(o=>{const[l]=o;l&&(r[l]=ri({},this.tracks[l]),this.removeBuffer(l)),o[0]=o[1]=null}),{media:e,mediaSource:n,tracks:r}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){var r;let i=2;(n.audio&&!n.video||!n.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(r=this.transferData)!=null&&r.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,n){const r=this.media=n.media;this.transferData=this.overrides=void 0;const i=Ac(this.appendSource);if(i){const o=!!n.mediaSource;(o||n.overrides)&&(this.transferData=n,this.overrides=n.overrides);const l=this.mediaSource=n.mediaSource||new i;if(this.assignMediaSource(l),o)this._objectUrl=r.src,this.attachTransferred();else{const u=this._objectUrl=self.URL.createObjectURL(l);if(this.appendSource)try{r.removeAttribute("src");const c=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||c&&l instanceof c,c9(r),cFe(r,u),r.load()}catch{r.src=u}else r.src=u}r.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var n,r;this.log(`${((n=this.transferData)==null?void 0:n.mediaSource)===e?"transferred":"created"} media source: ${(r=e.constructor)==null?void 0:r.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,n=this.transferData;if(!n||!e)return;const r=this.tracks,i=n.tracks,o=i?Object.keys(i):null,l=o?o.length:0,u=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(i&&o&&l){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${li(r,(c,d)=>c==="initSegment"?void 0:d)};
transfer tracks: ${li(i,(c,d)=>c==="initSegment"?void 0:d)}}`),!zZ(i,r)){n.mediaSource=null,n.tracks=void 0;const c=e.currentTime,d=this.details,h=Math.max(c,d?.fragments[0].start||0);if(h-c>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${c} -> ${h}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(r)}") start time: ${h} currentTime: ${c}`),this.onMediaDetaching(be.MEDIA_DETACHING,{}),this.onMediaAttaching(be.MEDIA_ATTACHING,n),e.currentTime=h;return}this.transferData=void 0,o.forEach(c=>{const d=c,h=i[d];if(h){const f=h.buffer;if(f){const p=this.fragmentTracker,m=h.id;if(p.hasFragments(m)||p.hasParts(m)){const b=fr.getBuffered(f);p.detectEvictedFragments(d,b,m,null,!0)}const g=Dk(d),y=[d,f];this.sourceBuffers[g]=y,f.updating&&this.operationQueue&&this.operationQueue.prependBlocker(d),this.trackSourceBuffer(d,h)}}}),u(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),u()}get mediaSourceOpenOrEnded(){var e;const n=(e=this.mediaSource)==null?void 0:e.readyState;return n==="open"||n==="ended"}onMediaDetaching(e,n){const r=!!n.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:o,_objectUrl:l}=this;if(o){if(this.log(`media source ${r?"transferring":"detaching"}`),r)this.sourceBuffers.forEach(([u])=>{u&&this.removeBuffer(u)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const u=o.readyState==="open";try{const c=o.sourceBuffers;for(let d=c.length;d--;)u&&c[d].abort(),o.removeSourceBuffer(c[d]);u&&o.endOfStream()}catch(c){this.warn(`onMediaDetaching: ${c.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}o.removeEventListener("sourceopen",this._onMediaSourceOpen),o.removeEventListener("sourceended",this._onMediaSourceEnded),o.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.removeEventListener("startstreaming",this._onStartStreaming),o.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),r||(l&&self.URL.revokeObjectURL(l),this.mediaSrc===l?(i.removeAttribute("src"),this.appendSource&&c9(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(be.MEDIA_DETACHED,n)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var n;const r=(n=this.tracks[e])==null?void 0:n.buffer;if(this.removeBuffer(e),r)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(r)}catch(o){this.warn(`onBufferReset ${e}`,o)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[Dk(e)]=[null,null];const n=this.tracks[e];n&&(n.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new oFe(this.tracks)}onBufferCodecs(e,n){var r;const i=this.tracks,o=Object.keys(n);this.log(`BUFFER_CODECS: "${o}" (current SB count ${this.sourceBufferCount})`);const l="audiovideo"in n&&(i.audio||i.video)||i.audiovideo&&("audio"in n||"video"in n),u=!l&&this.sourceBufferCount&&this.media&&o.some(c=>!i[c]);if(l||u){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${o}" SourceBuffers`);return}o.forEach(c=>{var d,h;const f=n[c],{id:p,codec:m,levelCodec:g,container:y,metadata:b,supplemental:v}=f;let _=i[c];const E=(d=this.transferData)==null||(d=d.tracks)==null?void 0:d[c],T=E!=null&&E.buffer?E:_,A=T?.pendingCodec||T?.codec,w=T?.levelCodec;_||(_=i[c]={buffer:void 0,listeners:[],codec:m,supplemental:v,container:y,levelCodec:g,metadata:b,id:p});const I=r0(A,w),C=I?.replace(u9,"$1");let j=r0(m,g);const F=(h=j)==null?void 0:h.replace(u9,"$1");j&&I&&C!==F&&(c.slice(0,5)==="audio"&&(j=z_(j,this.appendSource)),this.log(`switching codec ${A} to ${j}`),j!==(_.pendingCodec||_.codec)&&(_.pendingCodec=j),_.container=y,this.appendChangeType(c,y,j))}),(this.tracksReady||this.sourceBufferCount)&&(n.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!n.video&&((r=n.audio)==null?void 0:r.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,n)=>{const r=this.tracks[n];return e[n]={id:r.id,container:r.container,codec:r.codec,levelCodec:r.levelCodec},e},{})}appendChangeType(e,n,r){const i=`${n};codecs=${r}`,o={label:`change-type=${i}`,execute:()=>{const l=this.tracks[e];if(l){const u=l.buffer;u!=null&&u.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),u.changeType(i),l.codec=r,l.container=n)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:l=>{this.warn(`Failed to change ${e} SourceBuffer type`,l)}};this.append(o,e,this.isPending(this.tracks[e]))}blockAudio(e){var n;const r=e.start,i=r+e.duration*.05;if(((n=this.fragmentTracker.getAppendedFrag(r,Pn.MAIN))==null?void 0:n.gap)===!0)return;const l={label:"block-audio",execute:()=>{var u;const c=this.tracks.video;(this.lastVideoAppendEnd>i||c!=null&&c.buffer&&fr.isBuffered(c.buffer,i)||((u=this.fragmentTracker.getAppendedFrag(i,Pn.MAIN))==null?void 0:u.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:u=>{this.warn("Error executing block-audio operation",u)}};this.blockedAudioAppend={op:l,frag:e},this.append(l,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:n}=this;e&&n&&(this.blockedAudioAppend=null,n.unblockAudio(e.op))}onBufferAppending(e,n){const{tracks:r}=this,{data:i,type:o,parent:l,frag:u,part:c,chunkMeta:d,offset:h}=n,f=d.buffering[o],{sn:p,cc:m}=u,g=self.performance.now();f.start=g;const y=u.stats.buffering,b=c?c.stats.buffering:null;y.start===0&&(y.start=g),b&&b.start===0&&(b.start=g);const v=r.audio;let _=!1;o==="audio"&&v?.container==="audio/mpeg"&&(_=!this.lastMpegAudioChunk||d.id===1||this.lastMpegAudioChunk.sn!==d.sn,this.lastMpegAudioChunk=d);const E=r.video,T=E?.buffer;if(T&&p!=="initSegment"){const I=c||u,C=this.blockedAudioAppend;if(o==="audio"&&l!=="main"&&!this.blockedAudioAppend&&!(E.ending||E.ended)){const F=I.start+I.duration*.05,K=T.buffered,he=this.currentOp("video");!K.length&&!he?this.blockAudio(I):!he&&!fr.isBuffered(T,F)&&this.lastVideoAppendEnd<F&&this.blockAudio(I)}else if(o==="video"){const j=I.end;if(C){const F=C.frag.start;(j>F||j<this.lastVideoAppendEnd||fr.isBuffered(T,F))&&this.unblockAudio()}this.lastVideoAppendEnd=j}}const A=(c||u).start,w={label:`append-${o}`,execute:()=>{var I;f.executeStart=self.performance.now();const C=(I=this.tracks[o])==null?void 0:I.buffer;C&&(_?this.updateTimestampOffset(C,A,.1,o,p,m):h!==void 0&&An(h)&&this.updateTimestampOffset(C,h,1e-6,o,p,m)),this.appendExecutor(i,o)},onStart:()=>{},onComplete:()=>{const I=self.performance.now();f.executeEnd=f.end=I,y.first===0&&(y.first=I),b&&b.first===0&&(b.first=I);const C={};this.sourceBuffers.forEach(([j,F])=>{j&&(C[j]=fr.getBuffered(F))}),this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(be.BUFFER_APPENDED,{type:o,frag:u,part:c,chunkMeta:d,parent:u.type,timeRanges:C})},onError:I=>{var C;const j={type:Kn.MEDIA_ERROR,parent:u.type,details:Et.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:u,part:c,chunkMeta:d,error:I,err:I,fatal:!1},F=(C=this.media)==null?void 0:C.error;if(I.code===DOMException.QUOTA_EXCEEDED_ERR||I.name=="QuotaExceededError"||"quota"in I)j.details=Et.BUFFER_FULL_ERROR;else if(I.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!F)j.errorAction=Vh(!0);else if(I.name===HJ&&this.sourceBufferCount===0)j.errorAction=Vh(!0);else{const K=++this.appendErrors[o];this.warn(`Failed ${K}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer (${F||"no media error"})`),(K>=this.hls.config.appendErrorMaxRetry||F)&&(j.fatal=!0)}this.hls.trigger(be.ERROR,j)}};this.log(`queuing "${o}" append sn: ${p}${c?" p: "+c.index:""} of ${u.type===Pn.MAIN?"level":"track"} ${u.level} cc: ${m}`),this.append(w,o,this.isPending(this.tracks[o]))}getFlushOp(e,n,r){return this.log(`queuing "${e}" remove ${n}-${r}`),{label:"remove",execute:()=>{this.removeExecutor(e,n,r)},onStart:()=>{},onComplete:()=>{this.hls.trigger(be.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${n}-${r} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,n){const{type:r,startOffset:i,endOffset:o}=n;r?this.append(this.getFlushOp(r,i,o),r):this.sourceBuffers.forEach(([l])=>{l&&this.append(this.getFlushOp(l,i,o),l)})}onFragParsed(e,n){const{frag:r,part:i}=n,o=[],l=i?i.elementaryStreams:r.elementaryStreams;l[si.AUDIOVIDEO]?o.push("audiovideo"):(l[si.AUDIO]&&o.push("audio"),l[si.VIDEO]&&o.push("video"));const u=()=>{const c=self.performance.now();r.stats.buffering.end=c,i&&(i.stats.buffering.end=c);const d=i?i.stats:r.stats;this.hls.trigger(be.FRAG_BUFFERED,{frag:r,part:i,stats:d,id:r.type})};o.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(u,o).catch(c=>{this.warn(`Fragment buffered callback ${c}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,n){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const n=this.tracks[e];if(n)return!n.ended||n.ending}return!1})}onBufferEos(e,n){var r;this.sourceBuffers.forEach(([l])=>{if(l){const u=this.tracks[l];(!n.type||n.type===l)&&(u.ending=!0,u.ended||(u.ended=!0,this.log(`${l} buffer reached EOS`)))}});const i=((r=this.overrides)==null?void 0:r.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([l])=>{var u;return l&&!((u=this.tracks[l])!=null&&u.ended)})?i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:l}=this;if(!l||l.readyState!=="open"){l&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${l.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),l.endOfStream(),this.hls.trigger(be.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(be.BUFFERED_TO_END,void 0)):n.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const n=this.tracks[e];n&&(n.ending=!1)}})}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,n){if(n.details===Et.BUFFER_APPEND_ERROR&&n.frag){var r;const i=(r=n.errorAction)==null?void 0:r.nextAutoLevel;An(i)&&i!==n.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:n,media:r}=this;if(!r||n===null||!this.sourceBufferCount)return;const i=e.config,o=r.currentTime,l=n.levelTargetDuration,u=n.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(An(u)&&u>=0){const d=Math.max(u,l),h=Math.floor(o/l)*l-d;this.flushBackBuffer(o,l,h)}const c=i.frontBufferFlushThreshold;if(An(c)&&c>0){const d=Math.max(i.maxBufferLength,c),h=Math.max(d,l),f=Math.floor(o/l)*l+h;this.flushFrontBuffer(o,l,f)}}flushBackBuffer(e,n,r){this.sourceBuffers.forEach(([i,o])=>{if(o){const u=fr.getBuffered(o);if(u.length>0&&r>u.start(0)){var l;this.hls.trigger(be.BACK_BUFFER_REACHED,{bufferEnd:r});const c=this.tracks[i];if((l=this.details)!=null&&l.live)this.hls.trigger(be.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(c!=null&&c.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(be.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:i})}}})}flushFrontBuffer(e,n,r){this.sourceBuffers.forEach(([i,o])=>{if(o){const l=fr.getBuffered(o),u=l.length;if(u<2)return;const c=l.start(u-1),d=l.end(u-1);if(r>c||e>=c&&e<=d)return;this.hls.trigger(be.BUFFER_FLUSHING,{startOffset:c,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:n,mediaSource:r}=this;if(!n||!this.media||r?.readyState!=="open")return null;const i=n.edge;if(n.live&&this.hls.config.liveDurationInfinity){if(n.fragments.length&&r.setLiveSeekableRange){const d=Math.max(0,n.fragmentStart),h=Math.max(d,i);return{duration:1/0,start:d,end:h}}return{duration:1/0}}const o=(e=this.overrides)==null?void 0:e.duration;if(o)return An(o)?{duration:o}:null;const l=this.media.duration,u=An(r.duration)?r.duration:0;return i>u&&i>l||!An(l)?{duration:i}:null}updateMediaSource({duration:e,start:n,end:r}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(An(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),n!==void 0&&r!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${n}-${r}.`),i.setLiveSeekableRange(n,r)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:n,tracks:r}=this;if(this.log(`checkPendingTracks (pending: ${n} codec events expected: ${e}) ${li(r)}`),this.tracksReady){var i;const o=(i=this.transferData)==null?void 0:i.tracks;o&&Object.keys(o).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([n,r])=>{if(n){const i=this.tracks[n];e[n]={buffer:r,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(be.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([n])=>{this.executeNext(n)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:n,mediaSource:r}=this;if(!r)throw new Error("createSourceBuffers called when mediaSource was null");for(const o in e){const l=o,u=e[l];if(this.isPending(u)){const c=this.getTrackCodec(u,l),d=`${u.container};codecs=${c}`;u.codec=c,this.log(`creating sourceBuffer(${d})${this.currentOp(l)?" Queued":""} ${li(u)}`);try{const h=r.addSourceBuffer(d),f=Dk(l),p=[l,h];n[f]=p,u.buffer=h}catch(h){var i;this.error(`error while trying to add sourceBuffer: ${h.message}`),this.shiftAndExecuteNext(l),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[l],this.hls.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:h,sourceBufferName:l,mimeType:d,parent:u.id});return}this.trackSourceBuffer(l,u)}}this.bufferCreated()}getTrackCodec(e,n){const r=e.supplemental;let i=e.codec;r&&(n==="video"||n==="audiovideo")&&Ty(r,"video")&&(i=JMe(i,r));const o=r0(i,e.levelCodec);return o?n.slice(0,5)==="audio"?z_(o,this.appendSource):o:""}trackSourceBuffer(e,n){const r=n.buffer;if(!r)return;const i=this.getTrackCodec(n,e);this.tracks[e]={buffer:r,codec:i,container:n.container,levelCodec:n.levelCodec,supplemental:n.supplemental,metadata:n.metadata,id:n.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(o,l)=>{const u=l.removedRanges;u!=null&&u.length&&this.hls.trigger(be.BUFFER_FLUSHED,{type:o})})}get mediaSrc(){var e,n;const r=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return r?.src}onSBUpdateStart(e){const n=this.currentOp(e);n&&n.onStart()}onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const r=this.currentOp(e);r&&(r.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,n){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,n),this.hls.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const o=this.currentOp(e);o&&o.onError(i)}updateTimestampOffset(e,n,r,i,o,l){const u=n-e.timestampOffset;Math.abs(u)>=r&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${n} (sn: ${o} cc: ${l})`),e.timestampOffset=n)}removeExecutor(e,n,r){const{media:i,mediaSource:o}=this,l=this.tracks[e],u=l?.buffer;if(!i||!o||!u){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const c=An(i.duration)?i.duration:1/0,d=An(o.duration)?o.duration:1/0,h=Math.max(0,n),f=Math.min(r,c,d);f>h&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${h},${f}] from the ${e} SourceBuffer`),u.remove(h,f)):this.shiftAndExecuteNext(e)}appendExecutor(e,n){const r=this.tracks[n],i=r?.buffer;if(!i)throw new lFe(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);r.ending=!1,r.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(n=>{this.warn(`SourceBuffer blocked callback ${n}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(n){this.warn(`Callback run without blocking ${this.operationQueue} ${n}`)}}isUpdating(){return this.sourceBuffers.some(([e,n])=>e&&n.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,n=this.sourceBufferTypes){if(!n.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:r}=this,i=n.map(l=>this.appendBlocker(l));return n.length>1&&this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(l=>{r===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(n=>{var r;const i=(r=this.tracks[n])==null?void 0:r.buffer;!i||i.updating||this.shiftAndExecuteNext(n)})}append(e,n,r){this.operationQueue&&this.operationQueue.append(e,n,r)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,n)=>e+(this.isPending(this.tracks[n])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[n])=>e+(n?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,n,r){const i=this.tracks[e];if(!i)return;const o=i.buffer;if(!o)return;const l=r.bind(this,e);i.listeners.push({event:n,listener:l}),o.addEventListener(n,l)}removeBufferListeners(e){const n=this.tracks[e];if(!n)return;const r=n.buffer;r&&(n.listeners.forEach(i=>{r.removeEventListener(i.event,i.listener)}),n.listeners.length=0)}}function c9(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function cFe(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}function Dk(t){return t==="audio"?1:0}class xN{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(be.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(be.MANIFEST_PARSED,this.onManifestParsed,this),e.on(be.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(be.BUFFER_CODECS,this.onBufferCodecs,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(be.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(be.MANIFEST_PARSED,this.onManifestParsed,this),e.off(be.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(be.BUFFER_CODECS,this.onBufferCodecs,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const r=this.hls.levels[n.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const r=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,r.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&An(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&n.logger.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=r,n.autoLevelEnabled&&n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const r=n.filter((i,o)=>this.isLevelAllowed(i)&&o<=e);return this.clientRect=null,xN.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const r=e.getBoundingClientRect();n.width=r.width,n.height=r.height,!n.width&&!n.height&&(n.width=r.right-r.left||e.width||0,n.height=r.bottom-r.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,n,r){if(!(e!=null&&e.length))return-1;const i=(u,c)=>c?u.width!==c.width||u.height!==c.height:!0;let o=e.length-1;const l=Math.max(n,r);for(let u=0;u<e.length;u+=1){const c=e[u];if((c.width>=l||c.height>=l)&&i(c,e[u+1])){o=u;break}}return o}}const dFe={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Za=dFe,fFe={HLS:"h"},hFe=fFe;class Bl{constructor(e,n){Array.isArray(e)&&(e=e.map(r=>r instanceof Bl?r:new Bl(r))),this.value=e,this.params=n}}const pFe="Dict";function mFe(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function gFe(t,e,n,r){return new Error(`failed to ${t} "${mFe(e)}" as ${n}`,{cause:r})}function zl(t,e,n){return gFe("serialize",t,e,n)}class GJ{constructor(e){this.description=e}}const d9="Bare Item",yFe="Boolean";function bFe(t){if(typeof t!="boolean")throw zl(t,yFe);return t?"?1":"?0"}function vFe(t){return btoa(String.fromCharCode(...t))}const EFe="Byte Sequence";function _Fe(t){if(ArrayBuffer.isView(t)===!1)throw zl(t,EFe);return`:${vFe(t)}:`}const TFe="Integer";function SFe(t){return t<-999999999999999||999999999999999<t}function VJ(t){if(SFe(t))throw zl(t,TFe);return t.toString()}function wFe(t){return`@${VJ(t.getTime()/1e3)}`}function KJ(t,e){if(t<0)return-KJ(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const i=Math.floor(t*n);return(i%2===0?i:i+1)/n}else return Math.round(t*n)/n}const AFe="Decimal";function IFe(t){const e=KJ(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw zl(t,AFe);const n=e.toString();return n.includes(".")?n:`${n}.0`}const xFe="String",RFe=/[\x00-\x1f\x7f]+/;function kFe(t){if(RFe.test(t))throw zl(t,xFe);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function CFe(t){return t.description||t.toString().slice(7,-1)}const DFe="Token";function f9(t){const e=CFe(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw zl(e,DFe);return e}function aL(t){switch(typeof t){case"number":if(!An(t))throw zl(t,d9);return Number.isInteger(t)?VJ(t):IFe(t);case"string":return kFe(t);case"symbol":return f9(t);case"boolean":return bFe(t);case"object":if(t instanceof Date)return wFe(t);if(t instanceof Uint8Array)return _Fe(t);if(t instanceof GJ)return f9(t);default:throw zl(t,d9)}}const LFe="Key";function sL(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw zl(t,LFe);return t}function RN(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${sL(e)}`:`;${sL(e)}=${aL(n)}`).join("")}function WJ(t){return t instanceof Bl?`${aL(t.value)}${RN(t.params)}`:aL(t)}function PFe(t){return`(${t.value.map(WJ).join(" ")})${RN(t.params)}`}function OFe(t,e={whitespace:!0}){if(typeof t!="object"||t==null)throw zl(t,pFe);const n=t instanceof Map?t.entries():Object.entries(t),r=e?.whitespace?" ":"";return Array.from(n).map(([i,o])=>{o instanceof Bl||(o=new Bl(o));let l=sL(i);return o.value===!0?l+=RN(o.params):(l+="=",Array.isArray(o.value)?l+=PFe(o):l+=WJ(o)),l}).join(`,${r}`)}function YJ(t,e){return OFe(t,e)}const nl="CMCD-Object",Mi="CMCD-Request",Hc="CMCD-Session",Hu="CMCD-Status",MFe={br:nl,ab:nl,d:nl,ot:nl,tb:nl,tpb:nl,lb:nl,tab:nl,lab:nl,url:nl,pb:Mi,bl:Mi,tbl:Mi,dl:Mi,ltc:Mi,mtp:Mi,nor:Mi,nrr:Mi,rc:Mi,sn:Mi,sta:Mi,su:Mi,ttfb:Mi,ttfbb:Mi,ttlb:Mi,cmsdd:Mi,cmsds:Mi,smrt:Mi,df:Mi,cs:Mi,ts:Mi,cid:Hc,pr:Hc,sf:Hc,sid:Hc,st:Hc,v:Hc,msd:Hc,bs:Hu,bsd:Hu,cdn:Hu,rtp:Hu,bg:Hu,pt:Hu,ec:Hu,e:Hu},NFe={REQUEST:Mi};function FFe(t){return Object.keys(t).reduce((e,n)=>{var r;return(r=t[n])===null||r===void 0||r.forEach(i=>e[i]=n),e},{})}function UFe(t,e){const n={};if(!t)return n;const r=Object.keys(t),i=e?FFe(e):{};return r.reduce((o,l)=>{var u;const c=MFe[l]||i[l]||NFe.REQUEST,d=(u=o[c])!==null&&u!==void 0?u:o[c]={};return d[l]=t[l],o},n)}function BFe(t){return["ot","sf","st","e","sta"].includes(t)}function zFe(t){return typeof t=="number"?An(t):t!=null&&t!==""&&t!==!1}const XJ="event";function $Fe(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),o=r.pathname.split("/").slice(1,-1);for(;i[0]===o[0];)i.shift(),o.shift();for(;o.length;)o.shift(),i.unshift("..");return i.join("/")+n.search+n.hash}const l0=t=>Math.round(t),oL=(t,e)=>Array.isArray(t)?t.map(n=>oL(n,e)):t instanceof Bl&&typeof t.value=="string"?new Bl(oL(t.value,e),t.params):(e.baseUrl&&(t=$Fe(t,e.baseUrl)),e.version===1?encodeURIComponent(t):t),_v=t=>l0(t/100)*100,qFe=(t,e)=>{let n=t;return e.version>=2&&(t instanceof Bl&&typeof t.value=="string"?n=new Bl([t]):typeof t=="string"&&(n=[t])),oL(n,e)},jFe={br:l0,d:l0,bl:_v,dl:_v,mtp:_v,nor:qFe,rtp:_v,tb:l0},QJ="request",ZJ="response",kN=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],HFe=["e"],GFe=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function xS(t){return GFe.test(t)}function VFe(t){return kN.includes(t)||HFe.includes(t)||xS(t)}const JJ=["d","dl","nor","ot","rtp","su"];function KFe(t){return kN.includes(t)||JJ.includes(t)||xS(t)}const WFe=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function YFe(t){return kN.includes(t)||JJ.includes(t)||WFe.includes(t)||xS(t)}const XFe=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function QFe(t){return XFe.includes(t)||xS(t)}const ZFe={[ZJ]:YFe,[XJ]:VFe,[QJ]:KFe};function eee(t,e={}){const n={};if(t==null||typeof t!="object")return n;const r=e.version||t.v||1,i=e.reportingMode||QJ,o=r===1?QFe:ZFe[i];let l=Object.keys(t).filter(o);const u=e.filter;typeof u=="function"&&(l=l.filter(u));const c=i===ZJ||i===XJ;c&&!l.includes("ts")&&l.push("ts"),r>1&&!l.includes("v")&&l.push("v");const d=ri({},jFe,e.formatters),h={version:r,reportingMode:i,baseUrl:e.baseUrl};return l.sort().forEach(f=>{let p=t[f];const m=d[f];if(typeof m=="function"&&(p=m(p,h)),f==="v"){if(r===1)return;p=r}f=="pr"&&p===1||(c&&f==="ts"&&!An(p)&&(p=Date.now()),zFe(p)&&(BFe(f)&&typeof p=="string"&&(p=new GJ(p)),n[f]=p))}),n}function JFe(t,e={}){const n={};if(!t)return n;const r=eee(t,e),i=UFe(r,e?.customHeaderMap);return Object.entries(i).reduce((o,[l,u])=>{const c=YJ(u,{whitespace:!1});return c&&(o[l]=c),o},n)}function eUe(t,e,n){return ri(t,JFe(e,n))}const tUe="CMCD";function nUe(t,e={}){return t?YJ(eee(t,e),{whitespace:!1}):""}function rUe(t,e={}){if(!t)return"";const n=nUe(t,e);return encodeURIComponent(n)}function iUe(t,e={}){if(!t)return"";const n=rUe(t,e);return`${tUe}=${n}`}const h9=/CMCD=[^&#]+/;function aUe(t,e,n){const r=iUe(e,n);if(!r)return t;if(h9.test(t))return t.replace(h9,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}class sUe{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Za.MANIFEST,su:!this.initialized})}catch(o){this.hls.logger.warn("Could not generate manifest CMCD data.",o)}},this.applyFragmentData=i=>{try{const{frag:o,part:l}=i,u=this.hls.levels[o.level],c=this.getObjectType(o),d={d:(l||o).duration*1e3,ot:c};(c===Za.VIDEO||c===Za.AUDIO||c==Za.MUXED)&&(d.br=u.bitrate/1e3,d.tb=this.getTopBandwidth(c)/1e3,d.bl=this.getBufferLength(c));const h=l?this.getNextPart(l):this.getNextFrag(o);h!=null&&h.url&&h.url!==o.url&&(d.nor=h.url),this.apply(i,d)}catch(o){this.hls.logger.warn("Could not generate segment CMCD data.",o)}},this.hls=e;const n=this.config=e.config,{cmcd:r}=n;r!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||e.sessionId,this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(be.MEDIA_DETACHED,this.onMediaDetached,this),e.on(be.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(be.MEDIA_DETACHED,this.onMediaDetached,this),e.off(be.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var r,i;this.audioBuffer=(r=n.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=n.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:hFe.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){ri(n,this.createData());const r=n.ot===Za.INIT||n.ot===Za.VIDEO||n.ot===Za.MUXED;this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:i}=this;i&&(n=Object.keys(n).reduce((l,u)=>(i.includes(u)&&(l[u]=n[u]),l),{}));const o={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),eUe(e.headers,n,o)):e.url=aUe(e.url,n,o)}getNextFrag(e){var n;const r=(n=this.hls.levels[e.level])==null?void 0:n.details;if(r){const i=e.sn-r.startSN;return r.fragments[i+1]}}getNextPart(e){var n;const{index:r,fragment:i}=e,o=(n=this.hls.levels[i.level])==null||(n=n.details)==null?void 0:n.partList;if(o){const{sn:l}=i;for(let u=o.length-1;u>=0;u--){const c=o[u];if(c.index===r&&c.fragment.sn===l)return o[u+1]}}}getObjectType(e){const{type:n}=e;if(n==="subtitle")return Za.TIMED_TEXT;if(e.sn==="initSegment")return Za.INIT;if(n==="audio")return Za.AUDIO;if(n==="main")return this.hls.audioTracks.length?Za.VIDEO:Za.MUXED}getTopBandwidth(e){let n=0,r;const i=this.hls;if(e===Za.AUDIO)r=i.audioTracks;else{const o=i.maxAutoLevel,l=o>-1?o+1:i.levels.length;r=i.levels.slice(0,l)}return r.forEach(o=>{o.bitrate>n&&(n=o.bitrate)}),n>0?n:NaN}getBufferLength(e){const n=this.media,r=e===Za.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!n?NaN:fr.bufferInfo(r,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new r(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,l,u){n(o),this.loader.load(o,l,u)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,r=e||this.config.loader;return class{constructor(o){this.loader=void 0,this.loader=new r(o)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(o,l,u){n(o),this.loader.load(o,l,u)}}}}const oUe=3e5;class lUe extends ho{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(be.MANIFEST_PARSED,this.onManifestParsed,this),e.on(be.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(be.MANIFEST_PARSED,this.onManifestParsed,this),e.off(be.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,n)=>(e.indexOf(n.pathwayId)===-1&&e.push(n.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:r}=n;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:r}=n;if(r?.action===Sa.SendAlternateToPenaltyBox&&r.flags===vs.MoveAllAlternatesMatchingHost){const i=this.levels;let o=this._pathwayPriority,l=this.pathwayId;if(n.context){const{groupId:u,pathwayId:c,type:d}=n.context;u&&i?l=this.getPathwayForGroupId(u,d,l):c&&(l=c)}l in this.penalizedPathways||(this.penalizedPathways[l]=performance.now()),!o&&i&&(o=this.pathways()),o&&o.length>1&&(this.updatePathwayPriority(o),r.resolved=this.pathwayId!==l),n.details===Et.BUFFER_APPEND_ERROR&&!n.fatal?r.resolved=!0:r.resolved||this.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${l} levels: ${i&&i.length} priorities: ${li(o)} penalized: ${li(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),n=this.getLevelsForPathway(r),this.pathwayId=r}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let n;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(o=>{i-r[o]>oUe&&delete r[o]});for(let o=0;o<e.length;o++){const l=e[o];if(l in r)continue;if(l===this.pathwayId)return;const u=this.hls.nextLoadLevel,c=this.hls.levels[u];if(n=this.getLevelsForPathway(l),n.length>0){this.log(`Setting Pathway to "${l}"`),this.pathwayId=l,EJ(n),this.hls.trigger(be.LEVELS_UPDATED,{levels:n});const d=this.hls.levels[u];c&&d&&this.levels&&(d.attrs["STABLE-VARIANT-ID"]!==c.attrs["STABLE-VARIANT-ID"]&&d.bitrate!==c.bitrate&&this.log(`Unstable Pathways change from bitrate ${c.bitrate} to ${d.bitrate}`),this.hls.nextLoadLevel=u);break}}}getPathwayForGroupId(e,n,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let o=0;o<i.length;o++)if(n===Ar.AUDIO_TRACK&&i[o].hasAudioGroup(e)||n===Ar.SUBTITLE_TRACK&&i[o].hasSubtitleGroup(e))return i[o].pathwayId;return r}clonePathways(e){const n=this.levels;if(!n)return;const r={},i={};e.forEach(o=>{const{ID:l,"BASE-ID":u,"URI-REPLACEMENT":c}=o;if(n.some(h=>h.pathwayId===l))return;const d=this.getLevelsForPathway(u).map(h=>{const f=new Ri(h.attrs);f["PATHWAY-ID"]=l;const p=f.AUDIO&&`${f.AUDIO}_clone_${l}`,m=f.SUBTITLES&&`${f.SUBTITLES}_clone_${l}`;p&&(r[f.AUDIO]=p,f.AUDIO=p),m&&(i[f.SUBTITLES]=m,f.SUBTITLES=m);const g=tee(h.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",c),y=new wy({attrs:f,audioCodec:h.audioCodec,bitrate:h.bitrate,height:h.height,name:h.name,url:g,videoCodec:h.videoCodec,width:h.width});if(h.audioGroups)for(let b=1;b<h.audioGroups.length;b++)y.addGroupId("audio",`${h.audioGroups[b]}_clone_${l}`);if(h.subtitleGroups)for(let b=1;b<h.subtitleGroups.length;b++)y.addGroupId("text",`${h.subtitleGroups[b]}_clone_${l}`);return y});n.push(...d),p9(this.audioTracks,r,c,l),p9(this.subtitleTracks,i,c,l)})}loadSteeringManifest(e){const n=this.hls.config,r=n.loader;this.loader&&this.loader.destroy(),this.loader=new r(n);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const h=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+h)}const o={responseType:"json",url:i.href},l=n.steeringManifestLoadPolicy.default,u=l.errorRetry||l.timeoutRetry||{},c={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:u.maxNumRetry||0,retryDelay:u.retryDelayMs||0,maxRetryDelay:u.maxRetryDelayMs||0},d={onSuccess:(h,f,p,m)=>{this.log(`Loaded steering manifest: "${i}"`);const g=h.data;if(g?.VERSION!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":b,"PATHWAY-PRIORITY":v}=g;if(y)try{this.uri=new self.URL(y,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||p.url),b&&this.clonePathways(b);const _={steeringManifest:g,url:i.toString()};this.hls.trigger(be.STEERING_MANIFEST_LOADED,_),v&&this.updatePathwayPriority(v)},onError:(h,f,p,m)=>{if(this.log(`Error loading steering manifest: ${h.code} ${h.text} (${f.url})`),this.stopLoad(),h.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let g=this.timeToLoad*1e3;if(h.code===429){const y=this.loader;if(typeof y?.getResponseHeader=="function"){const b=y.getResponseHeader("Retry-After");b&&(g=parseFloat(b)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,g)},onTimeout:(h,f,p)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(o,c,d)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function p9(t,e,n,r){t&&Object.keys(e).forEach(i=>{const o=t.filter(l=>l.groupId===i).map(l=>{const u=ri({},l);return u.details=void 0,u.attrs=new Ri(u.attrs),u.url=u.attrs.URI=tee(l.url,l.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),u.groupId=u.attrs["GROUP-ID"]=e[i],u.attrs["PATHWAY-ID"]=r,u});t.push(...o)})}function tee(t,e,n,r){const{HOST:i,PARAMS:o,[n]:l}=r;let u;e&&(u=l?.[e],u&&(t=u));const c=new self.URL(t);return i&&!u&&(c.host=i),o&&Object.keys(o).sort().forEach(d=>{d&&c.searchParams.set(d,o[d])}),c.href}class Wh extends ho{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=Wh.CDMCleanupPromise?[Wh.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=n=>{const{initDataType:r,initData:i}=n,o=`"${n.type}" event: init data type: "${r}"`;if(this.debug(o),i!==null){if(!this.keyFormatPromise){let l=Object.keys(this.keySystemAccessPromises);l.length||(l=tg(this.config));const u=l.map(Sk).filter(c=>!!c);this.keyFormatPromise=this.getKeyFormatPromise(u)}this.keyFormatPromise.then(l=>{const u=a0(l);if(r!=="sinf"||u!==ki.FAIRPLAY){this.log(`Ignoring "${n.type}" event with init data type: "${r}" for selected key-system ${u}`);return}let c;try{const m=ta(new Uint8Array(i)),g=yN(JSON.parse(m).sinf),y=YZ(g);if(!y)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");c=new Uint8Array(y.subarray(8,24))}catch(m){this.warn(`${o} Failed to parse sinf: ${m}`);return}const d=wa(c),{keyIdToKeySessionPromise:h,mediaKeySessions:f}=this;let p=h[d];for(let m=0;m<f.length;m++){const g=f[m],y=g.decryptdata;if(!y.keyId)continue;const b=wa(y.keyId);if(G_(c,y.keyId)||y.uri.replace(/-/g,"").indexOf(d)!==-1){if(p=h[b],!p)continue;if(y.pssh)break;delete h[b],y.pssh=new Uint8Array(i),y.keyId=c,p=h[d]=p.then(()=>this.generateRequestWithPreferredKeySession(g,r,i,"encrypted-event-key-match")),p.catch(v=>this.handleError(v));break}}p||this.handleError(new Error(`Key ID ${d} not encountered in playlist. Key-system sessions ${f.length}.`))}).catch(l=>this.handleError(l))}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(be.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(be.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(be.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(be.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(be.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(be.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(be.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(be.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(be.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(be.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:r}=this.config,i=n?.[e];if(i)return i.licenseUrl;if(e===ki.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const n=this.getLicenseServerUrl(e);if(n===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return n}getServerCertificateUrl(e){const{drmSystems:n}=this.config,r=n?.[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,r=(l,u,c)=>!!l&&c.indexOf(l)===u,i=n.map(l=>l.audioCodec).filter(r),o=n.map(l=>l.videoCodec).filter(r);return i.length+o.length===0&&o.push("avc1.42e01e"),new Promise((l,u)=>{const c=d=>{const h=d.shift();this.getMediaKeysPromise(h,i,o).then(f=>l({keySystem:h,mediaKeys:f})).catch(f=>{d.length?c(d):f instanceof ys?u(f):u(new ys({type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};c(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return fJ===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,n)}getMediaKeysPromise(e,n,r){var i;const o=qNe(e,n,r,this.config.drmSystemOptions||{});let l=this.keySystemAccessPromises[e],u=(i=l)==null?void 0:i.keySystemAccess;if(!u){this.log(`Requesting encrypted media "${e}" key-system access with config: ${li(o)}`),u=this.requestMediaKeySystemAccess(e,o);const c=l=this.keySystemAccessPromises[e]={keySystemAccess:u};return u.catch(d=>{this.log(`Failed to obtain access to key-system "${e}": ${d}`)}),u.then(d=>{this.log(`Access for key-system "${d.keySystem}" obtained`);const h=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const f=c.mediaKeys=d.createMediaKeys().then(p=>(this.log(`Media-keys created for "${e}"`),c.hasMediaKeys=!0,h.then(m=>m?this.setMediaKeysServerCertificate(p,e,m):p)));return f.catch(p=>{this.error(`Failed to create media-keys for "${e}"}: ${p}`)}),f})}return u.then(()=>l.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:r}){this.log(`Creating key-system session "${n}" keyId: ${wa(e.keyId||[])} keyUri: ${e.uri}`);const i=r.createSession(),o={decryptdata:e,keySystem:n,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(o),o}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const r=this.createMediaKeySessionContext(e),i=Tv(n),o="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,o,n.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,n){const r=e.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyId ${wa(e.decryptdata.keyId||[])}
      } (data length: ${n.byteLength})`),r.update(n)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>Sk(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:n,mediaKeys:r})=>this.attemptSetMediaKeys(n,r))}selectKeySystem(e){return new Promise((n,r)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const o=Sk(i);o?n(o):r(new Error(`Unable to find format for key-system "${i}"`))}).catch(r)})}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){const n=tg(this.config),r=e.map(a0).filter(i=>!!i&&n.indexOf(i)!==-1);return this.selectKeySystem(r)}getKeyStatus(e){const{mediaKeySessions:n}=this;for(let r=0;r<n.length;r++){const i=uUe(e,n[r]);if(i)return i}}loadKey(e){const n=e.keyInfo.decryptdata,r=Tv(n),i=this.bannedKeyIds[r];if(i||this.getKeyStatus(n)==="internal-error"){const u=m9(i||"internal-error",n);return this.handleError(u,e.frag),Promise.reject(u)}const o=`(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${o}`);const l=this.keyIdToKeySessionPromise[r];if(!l){const u=this.getKeySystemForKeyPromise(n).then(({keySystem:c,mediaKeys:d})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${o}`),this.attemptSetMediaKeys(c,d).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:c,mediaKeys:d,decryptdata:n}))))).then(c=>{const d="cenc",h=n.pssh?n.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(c,d,h,"playlist-key")});return u.catch(c=>this.handleError(c,e.frag)),this.keyIdToKeySessionPromise[r]=u,u}return l.catch(u=>{if(u instanceof ys){const c=Yr({},u.data);this.getKeyStatus(n)==="internal-error"&&(c.decryptdata=n);const d=new ys(c,u.message);this.handleError(d,e.frag)}}),l}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,n){if(this.hls)if(e instanceof ys){n&&(e.data.frag=n);const r=e.data.decryptdata;this.error(`${e.message}${r?` (${wa(r.keyId||[])})`:""}`),this.hls.trigger(be.ERROR,e.data)}else this.error(e.message),this.hls.trigger(be.ERROR,{type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const n=Tv(e),r=this.keyIdToKeySessionPromise[n];if(!r){const i=a0(e.keyFormat),o=i?[i]:tg(this.config);return this.attemptKeySystemAccess(o)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=tg(this.config)),e.length===0)throw new ys({type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${li({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,n){if(this.mediaResolved=void 0,this.mediaKeys===n)return Promise.resolve();const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>this.media?this.media.setMediaKeys(n):new Promise((o,l)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return l(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=n,this.media.setMediaKeys(n).then(o).catch(l)}}));return this.mediaKeys=n,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(o=>r.indexOf(o)===-1)})}generateRequestWithPreferredKeySession(e,n,r,i){var o;const l=(o=this.config.drmSystems)==null||(o=o[e.keySystem])==null?void 0:o.generateRequest;if(l)try{const g=l.call(this.hls,n,r,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");n=g.initDataType,r=g.initData?g.initData:null,e.decryptdata.pssh=r?new Uint8Array(r):null}catch(g){if(this.warn(g.message),this.hls&&this.hls.config.debug)throw g}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const u=Tv(e.decryptdata),c=e.decryptdata.uri;this.log(`Generating key-session request for "${i}" keyId: ${u} URI: ${c} (init data type: ${n} length: ${r.byteLength})`);const d=new vN,h=e._onmessage=g=>{const y=e.mediaKeysSession;if(!y){d.emit("error",new Error("invalid state"));return}const{messageType:b,message:v}=g;this.log(`"${b}" message event for session "${y.sessionId}" message size: ${v.byteLength}`),b==="license-request"||b==="license-renewal"?this.renewLicense(e,v).catch(_=>{d.eventNames().length?d.emit("error",_):this.handleError(_)}):b==="license-release"?e.keySystem===ki.FAIRPLAY&&this.updateKeySession(e,JD("acknowledged")).then(()=>this.removeSession(e)).catch(_=>this.handleError(_)):this.warn(`unhandled media key message type "${b}"`)},f=(g,y)=>{y.keyStatus=g;let b;g.startsWith("usable")?d.emit("resolved"):g==="internal-error"||g==="output-restricted"||g==="output-downscaled"?b=m9(g,y.decryptdata):g==="expired"?b=new Error(`key expired (keyId: ${u})`):g==="released"?b=new Error("key released"):g==="status-pending"||this.warn(`unhandled key status change "${g}" (keyId: ${u})`),b&&(d.eventNames().length?d.emit("error",b):this.handleError(b))},p=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){d.emit("error",new Error("invalid state"));return}const b=this.getKeyStatuses(e);if(!Object.keys(b).some(T=>b[T]!=="status-pending"))return;if(b[u]==="expired"){this.log(`Expired key ${li(b)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let _=b[u];if(_)f(_,e);else{var E;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(E=e.keyStatusTimeouts)[u]||(E[u]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const A=this.getKeyStatus(e.decryptdata);if(A&&A!=="status-pending")return this.log(`No status for keyId ${u} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${A} from other session.`),f(A,e);this.log(`key status for ${u} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),_="internal-error",f(_,e)},1e3)),this.log(`No status for keyId ${u} (${li(b)}).`)}};Ga(e.mediaKeysSession,"message",h),Ga(e.mediaKeysSession,"keystatuseschange",p);const m=new Promise((g,y)=>{d.on("error",y),d.on("resolved",g)});return e.mediaKeysSession.generateRequest(n,r).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${u} URI: ${c}`)}).catch(g=>{throw new ys({type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_NO_SESSION,error:g,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>m).catch(g=>(d.removeAllListeners(),this.removeSession(e).then(()=>{throw g}))).then(()=>(d.removeAllListeners(),e))}getKeyStatuses(e){const n={};return e.mediaKeysSession.keyStatuses.forEach((r,i)=>{if(typeof i=="string"&&typeof r=="object"){const u=i;i=r,r=u}const o="buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i);if(e.keySystem===ki.PLAYREADY&&o.length===16){const u=wa(o);n[u]=r,cJ(o)}const l=wa(o);r==="internal-error"&&(this.bannedKeyIds[l]=r),this.log(`key status change "${r}" for keyStatuses keyId: ${l} key-session "${e.mediaKeysSession.sessionId}"`),n[l]=r}),n}fetchServerCertificate(e){const n=this.config,r=n.loader,i=new r(n),o=this.getServerCertificateUrl(e);return o?(this.log(`Fetching server certificate for "${e}"`),new Promise((l,u)=>{const c={responseType:"arraybuffer",url:o},d=n.certLoadPolicy.default,h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(p,m,g,y)=>{l(p.data)},onError:(p,m,g,y)=>{u(new ys({type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:Yr({url:c.url,data:void 0},p)},`"${e}" certificate request failed (${o}). Status: ${p.code} (${p.text})`))},onTimeout:(p,m,g)=>{u(new ys({type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:c.url,data:void 0}},`"${e}" certificate request timed out (${o})`))},onAbort:(p,m,g)=>{u(new Error("aborted"))}};i.load(c,h,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,r){return new Promise((i,o)=>{e.setServerCertificate(r).then(l=>{this.log(`setServerCertificate ${l?"success":"not supported by CDM"} (${r.byteLength}) on "${n}"`),i(e)}).catch(l=>{o(new ys({type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:l,fatal:!0},l.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new ys({type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:i,fatal:!1},i.message)}))}unpackPlayReadyKeyMessage(e,n){const r=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const i=new DOMParser().parseFromString(r,"application/xml"),o=i.querySelectorAll("HttpHeader");if(o.length>0){let h;for(let f=0,p=o.length;f<p;f++){var l,u;h=o[f];const m=(l=h.querySelector("name"))==null?void 0:l.textContent,g=(u=h.querySelector("value"))==null?void 0:u.textContent;m&&g&&e.setRequestHeader(m,g)}}const c=i.querySelector("Challenge"),d=c?.textContent;if(!d)throw new Error("Cannot find <Challenge> in key message");return JD(atob(d))}setupLicenseXHR(e,n,r,i){const o=this.config.licenseXhrSetup;return o?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return o.call(this.hls,e,n,r,i)}).catch(l=>{if(!r.decryptdata)throw l;return e.open("POST",n,!0),o.call(this.hls,e,n,r,i)}).then(l=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:l||i})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,n){const r=this.config.keyLoadPolicy.default;return new Promise((i,o)=>{const l=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${l}`);const u=new XMLHttpRequest;u.responseType="arraybuffer",u.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return o(new Error("invalid state"));if(u.readyState===4)if(u.status===200){this._requestLicenseFailureCount=0;let c=u.response;this.log(`License received ${c instanceof ArrayBuffer?c.byteLength:c}`);const d=this.config.licenseResponseCallback;if(d)try{c=d.call(this.hls,u,l,e)}catch(h){this.error(h)}i(c)}else{const c=r.errorRetry,d=c?c.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>d||u.status>=400&&u.status<500)o(new ys({type:Kn.KEY_SYSTEM_ERROR,details:Et.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:u,response:{url:l,data:void 0,code:u.status,text:u.statusText}},`License Request XHR failed (${l}). Status: ${u.status} (${u.statusText})`));else{const h=d-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${h} attempts left`),this.requestLicense(e,n).then(i,o)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=u,this.setupLicenseXHR(u,l,e,n).then(({xhr:c,licenseChallenge:d})=>{e.keySystem==ki.PLAYREADY&&(d=this.unpackPlayReadyKeyMessage(c,d)),c.send(d)}).catch(o)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const r=n.media;this.media=r,Ga(r,"encrypted",this.onMediaEncrypted),Ga(r,"waitingforkey",this.onWaitingForKey);const i=this.mediaResolved;i?i():this.mediaKeys=r.mediaKeys}onMediaDetached(){const e=this.media;e&&(as(e,"encrypted",this.onMediaEncrypted),as(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const n=this.mediaResolved;if(n&&n(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const r=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,vc.clearKeyUriToKeyIdMap();const o=i.length;Wh.CDMCleanupPromise=Promise.all(i.map(l=>this.removeSession(l)).concat((r==null||(e=r.setMediaKeys(null))==null?void 0:e.catch(l=>{this.log(`Could not clear media keys: ${l}`),this.hls&&this.hls.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${l}`)})}))||Promise.resolve())).catch(l=>{this.log(`Could not close sessions and clear media keys: ${l}`),this.hls&&this.hls.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${l}`)})}).then(()=>{o&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=n.reduce((i,o)=>(i.indexOf(o.keyFormat)===-1&&i.push(o.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:r,decryptdata:i}=e;if(n){this.log(`Remove licenses and keys and close session "${n.sessionId}" keyId: ${wa(i?.keyId||[])}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const o=this.mediaKeySessions.indexOf(e);o>-1&&this.mediaKeySessions.splice(o,1);const{keyStatusTimeouts:l}=e;l&&Object.keys(l).forEach(d=>self.clearTimeout(l[d]));const{drmSystemOptions:u}=this.config;return(HNe(u)?new Promise((d,h)=>{self.setTimeout(()=>h(new Error("MediaKeySession.remove() timeout")),8e3),n.remove().then(d).catch(h)}):Promise.resolve()).catch(d=>{this.log(`Could not remove session: ${d}`),this.hls&&this.hls.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${d}`)})}).then(()=>n.close()).catch(d=>{this.log(`Could not close session: ${d}`),this.hls&&this.hls.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${d}`)})})}return Promise.resolve()}}Wh.CDMCleanupPromise=void 0;function Tv(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return wa(t.keyId)}function uUe(t,e){if(t.keyId&&e.mediaKeysSession.keyStatuses.has(t.keyId))return e.mediaKeysSession.keyStatuses.get(t.keyId);if(t.matches(e.decryptdata))return e.keyStatus}class ys extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}function m9(t,e){const n=t==="output-restricted",r=n?Et.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:Et.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new ys({type:Kn.KEY_SYSTEM_ERROR,details:r,fatal:!1,decryptdata:e},n?"HDCP level output restricted":`key status changed to "${t}"`)}class cUe{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(be.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(be.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(be.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(be.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,n,r){const i=performance.now();if(n){if(this.lastTime){const o=i-this.lastTime,l=r-this.lastDroppedFrames,u=n-this.lastDecodedFrames,c=1e3*l/o,d=this.hls;if(d.trigger(be.FPS_DROP,{currentDropped:l,currentDecoded:u,totalDroppedFrames:r}),c>0&&l>d.config.fpsDroppedMonitoringThreshold*u){let h=d.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(d.autoLevelCapping===-1||d.autoLevelCapping>=h)&&(h=h-1,d.trigger(be.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:d.currentLevel}),d.autoLevelCapping=h,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function nee(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function ree(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){Xr.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){Xr.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}n==="disabled"&&(t.mode=n)}function Nh(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues)for(let r=t.cues.length;r--;)e&&t.cues[r].removeEventListener("enter",e),t.removeCue(t.cues[r]);n==="disabled"&&(t.mode=n)}function lL(t,e,n,r){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const o=fUe(t.cues,e,n);for(let l=0;l<o.length;l++)(!r||r(o[l]))&&t.removeCue(o[l])}i==="disabled"&&(t.mode=i)}function dUe(t,e){if(e<=t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n,o;for(;r<=i;)if(o=Math.floor((i+r)/2),e<t[o].startTime)i=o-1;else if(e>t[o].startTime&&r<n)r=o+1;else return o;return t[r].startTime-e<e-t[i].startTime?r:i}function fUe(t,e,n){const r=[],i=dUe(t,e);if(i>-1)for(let o=i,l=t.length;o<l;o++){const u=t[o];if(u.startTime>=e&&u.endTime<=n)r.push(u);else if(u.startTime>n)return r}return r}function u0(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(t[n])}return e}class hUe extends IN{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const r=u0(this.media.textTracks);for(let o=0;o<r.length;o++)if(r[o].mode==="hidden")n=r[o];else if(r[o].mode==="showing"){n=r[o];break}const i=this.findTrackForTextTrack(n);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.MANIFEST_PARSED,this.onManifestParsed,this),e.on(be.LEVEL_LOADING,this.onLevelLoading,this),e.on(be.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(be.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(be.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.MANIFEST_PARSED,this.onManifestParsed,this),e.off(be.LEVEL_LOADING,this.onLevelLoading,this),e.off(be.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(be.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(be.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,n){const r=this.media;if(!r)return;const i=!!n.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||r.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;u0(r.textTracks).forEach(l=>{Nh(l)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:r,groupId:i,details:o}=n,l=this.tracksInGroup[r];if(!l||l.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${l?.groupId}`);return}const u=l.details;l.details=n.details,this.log(`Subtitle track ${r} "${l.name}" lang:${l.lang} group:${i} loaded [${o.startSN}-${o.endSN}]`),r===this.trackId&&this.playlistLoaded(r,n,u)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const r=n.subtitleGroups||null,i=this.groupIds;let o=this.currentTrack;if(!r||i?.length!==r?.length||r!=null&&r.some(l=>i?.indexOf(l)===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const l=this.tracks.filter(h=>!r||r.indexOf(h.groupId)!==-1);if(l.length)this.selectDefaultTrack&&!l.some(h=>h.default)&&(this.selectDefaultTrack=!1),l.forEach((h,f)=>{h.id=f});else if(!o&&!this.tracksInGroup.length)return;this.tracksInGroup=l;const u=this.hls.config.subtitlePreference;if(!o&&u){this.selectDefaultTrack=!1;const h=Rl(u,l);if(h>-1)o=l[h];else{const f=Rl(u,this.tracks);o=this.tracks[f]}}let c=this.findTrackId(o);c===-1&&o&&(c=this.findTrackId(null));const d={subtitleTracks:l};this.log(`Updating subtitle tracks, ${l.length} track(s) found in "${r?.join(",")}" group-id`),this.hls.trigger(be.SUBTITLE_TRACKS_UPDATED,d),c!==-1&&this.trackId===-1&&this.setSubtitleTrack(c)}}findTrackId(e){const n=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<n.length;i++){const o=n[i];if(!(r&&!o.default||!r&&!e)&&(!e||xd(o,e)))return i}if(e){for(let i=0;i<n.length;i++){const o=n[i];if(Ry(e.attrs,o.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<n.length;i++){const o=n[i];if(Ry(e.attrs,o.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let r=0;r<n.length;r++){const i=n[r];if(iL(i,e))return r}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===Ar.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&xd(e,r))return r;const i=Rl(e,this.tracksInGroup);if(i>-1){const o=this.tracksInGroup[i];return this.setSubtitleTrack(i),o}else{if(r)return null;{const o=Rl(e,n);if(o>-1)return n[o]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=e.id,i=e.groupId,o=this.getUrlWithDirectives(e.url,n),l=e.details,u=l?.age;this.log(`Loading subtitle ${r} "${e.name}" lang:${e.lang} group:${i}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${u&&l.live?" age "+u.toFixed(1)+(l.type&&" "+l.type||""):""} ${o}`),this.hls.trigger(be.SUBTITLE_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:n||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=u0(e.textTracks),r=this.currentTrack;let i;if(r&&(i=n.filter(o=>iL(r,o))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(n).forEach(o=>{o.mode!=="disabled"&&o!==i&&(o.mode="disabled")}),i){const o=this.subtitleDisplay?"showing":"hidden";i.mode!==o&&(i.mode=o)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!An(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,i=n[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(be.SUBTITLE_TRACK_SWITCH,{id:e});return}const o=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&o)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:l,groupId:u="",name:c,type:d,url:h}=i;this.hls.trigger(be.SUBTITLE_TRACK_SWITCH,{id:l,groupId:u,name:c,type:d,url:h});const f=this.switchParams(i.url,r?.details,i.details);this.loadPlaylist(f)}}function pUe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const o=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(i=="x"?o:o&3|8).toString(16)})}}}function Bg(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0).toString()}const Yh=.025;let Y_=(function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t})({});function mUe(t,e,n){return`${t.identifier}-${n+1}-${Bg(e)}`}class gUe{constructor(e,n){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=n,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var n;if(e>0&&e>=this.assetList.length)return!0;const r=this.playoutLimit;return e<=0||isNaN(r)?!1:r===0?!0:(((n=this.assetList[e])==null?void 0:n.startOffset)||0)>r}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const n=this.dateRange.tagAnchor;if(n)return Lk(e,n)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const n=this.dateRange.startTime,r=Lk(n,e);return n-r<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,n=An(e)?e:this.duration;return this.cumulativeDuration+n}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const n=this.resumeAnchor;if(n)return Lk(e,n)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<Yh))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let n;return this._duration!==null?n=this._duration:this.dateRange.duration?n=this.dateRange.duration:n=this.dateRange.plannedDuration||0,!isNaN(e)&&e<n&&(n=e),n}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Y_.Range:Y_.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return yUe(this)}}function Lk(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<Yh)?e.start:e.start+e.duration}function iee(t,e,n){const r=new self.URL(t,n);return r.protocol!=="data:"&&r.searchParams.set("_HLS_primary_id",e),r}function Pk(t,e){for(;(n=t.assetList[++e])!=null&&n.error;)var n;return e}function yUe(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function uh(t){const e=t.timelineStart,n=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+n).toFixed(2)}]`}class bUe{constructor(e,n,r,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(be.PLAYOUT_LIMIT_REACHED,{})};const o=this.hls=new e(n);this.interstitial=r,this.assetItem=i;const l=()=>{this.hasDetails=!0};o.once(be.LEVEL_LOADED,l),o.once(be.AUDIO_TRACK_LOADED,l),o.once(be.SUBTITLE_TRACK_LOADED,l),o.on(be.MEDIA_ATTACHING,(u,{media:c})=>{this.removeMediaListeners(),this.mediaAttached=c,this.interstitial.playoutLimit&&(c.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&o.on(be.BUFFER_APPENDED,()=>{const h=this.bufferedEnd;this.reachedPlayout(h)&&(this._bufferedEosTime=h,o.trigger(be.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let n=this.assetItem.uri;try{n=iee(n,e.config.primarySessionId||"").href}catch{}e.loadSource(n)}}bufferedInPlaceToEnd(e){var n;if(!this.appendInPlace)return!1;if((n=this.hls)!=null&&n.bufferedToEnd)return!0;if(!e)return!1;const r=Math.min(this._bufferedEosTime||1/0,this.duration),i=this.timelineOffset,o=fr.bufferInfo(e,i,0);return this.getAssetTime(o.end)>=r-.02}reachedPlayout(e){const r=this.interstitial.playoutLimit;return this.startOffset+e>=r}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const n=fr.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(n.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const n=this.interstitial.playoutLimit;if(n){const r=n-this.startOffset;if(r>0&&r<e)return r}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const n=this.timelineOffset;if(e!==n){const r=e-n;if(Math.abs(r)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const n=this.timelineOffset,r=this.duration;return Math.min(Math.max(0,e-n),r)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var n;this.loadSource(),(n=this.hls)==null||n.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const n=r=>delete r.details;e.levels.forEach(n),e.allAudioTracks.forEach(n),e.allSubtitleTracks.forEach(n),this.hasDetails=!1}}on(e,n,r){var i;(i=this.hls)==null||i.on(e,n)}once(e,n,r){var i;(i=this.hls)==null||i.once(e,n)}off(e,n,r){var i;(i=this.hls)==null||i.off(e,n)}toString(){var e;return`HlsAssetPlayer: ${uh(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const g9=.033;class vUe extends ho{constructor(e,n){super("interstitials-sched",n),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,n){return this.events?this.events.reduce((r,i)=>e<=i.startOffset&&n>i.startOffset?(delete i.error,r+1):r,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,n){if(e.event)return this.findEventIndex(e.event.identifier);let r=-1;e.nextEvent?r=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(r=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[r]||(n===void 0&&(n=e.start),r=this.findItemIndexAtTime(n));r>=0&&(o=i[r])!=null&&o.event;){var o;r--}return r}findItemIndexAtTime(e,n){const r=this.items;if(r)for(let i=0;i<r.length;i++){let o=r[i];if(n&&n!=="primary"&&(o=o[n]),e===o.start||e>o.start&&e<o.end)return i}return-1}findJumpRestrictedIndex(e,n){const r=this.items;if(r)for(let i=e;i<=n&&r[i];i++){const o=r[i].event;if(o!=null&&o.restrictions.jump&&!o.appendInPlace)return i}return-1}findEventIndex(e){const n=this.items;if(n)for(let i=n.length;i--;){var r;if(((r=n[i].event)==null?void 0:r.identifier)===e)return i}return-1}findAssetIndex(e,n){const r=e.assetList,i=r.length;if(i>1)for(let o=0;o<i;o++){const l=r[o];if(!l.error){const u=l.timelineStart;if(n===u||n>u&&(n<u+(l.duration||0)||o===i-1))return o}}return 0}get assetIdAtEnd(){var e;const n=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(n){const r=n.assetList,i=r[r.length-1];if(i)return i.identifier}return null}parseInterstitialDateRanges(e,n){const r=e.main.details,{dateRanges:i}=r,o=this.events,l=this.parseDateRanges(i,{url:r.url},n),u=Object.keys(i),c=o?o.filter(d=>!u.includes(d.identifier)):[];l.length&&l.sort((d,h)=>{const f=d.cue.pre,p=d.cue.post,m=h.cue.pre,g=h.cue.post;if(f&&!m)return-1;if(m&&!f||p&&!g)return 1;if(g&&!p)return-1;if(!f&&!m&&!p&&!g){const y=d.startTime,b=h.startTime;if(y!==b)return y-b}return d.dateRange.tagOrder-h.dateRange.tagOrder}),this.events=l,c.forEach(d=>{this.removeEvent(d)}),this.updateSchedule(e,c)}updateSchedule(e,n=[],r=!1){const i=this.events||[];if(i.length||n.length||this.length<2){const o=this.items,l=this.parseSchedule(i,e);(r||n.length||o?.length!==l.length||l.some((c,d)=>Math.abs(c.playout.start-o[d].playout.start)>.005||Math.abs(c.playout.end-o[d].playout.end)>.005))&&(this.items=l,this.onScheduleUpdate(n,o))}}parseDateRanges(e,n,r){const i=[],o=Object.keys(e);for(let l=0;l<o.length;l++){const u=o[l],c=e[u];if(c.isInterstitial){let d=this.eventMap[u];d?d.setDateRange(c):(d=new gUe(c,n),this.eventMap[u]=d,r===!1&&(d.appendInPlace=r)),i.push(d)}}return i}parseSchedule(e,n){const r=[],i=n.main.details,o=i.live?1/0:i.edge;let l=0;if(e=e.filter(c=>!c.error&&!(c.cue.once&&c.hasPlayed)),e.length){this.resolveOffsets(e,n);let c=0,d=0;if(e.forEach((h,f)=>{const p=h.cue.pre,m=h.cue.post,g=e[f-1]||null,y=h.appendInPlace,b=m?o:h.startOffset,v=h.duration,_=h.timelineOccupancy===Y_.Range?v:0,E=h.resumptionOffset,T=g?.startTime===b,A=b+h.cumulativeDuration;let w=y?A+v:b+E;if(p||!m&&b<=0){const C=d;d+=_,h.timelineStart=A;const j=l;l+=v,r.push({event:h,start:A,end:w,playout:{start:j,end:l},integrated:{start:C,end:d}})}else if(b<=o){if(!T){const F=b-c;if(F>g9){const K=c,he=d;d+=F;const q=l;l+=F;const Ee={previousEvent:e[f-1]||null,nextEvent:h,start:K,end:K+F,playout:{start:q,end:l},integrated:{start:he,end:d}};r.push(Ee)}else F>0&&g&&(g.cumulativeDuration+=F,r[r.length-1].end=b)}m&&(w=A),h.timelineStart=A;const C=d;d+=_;const j=l;l+=v,r.push({event:h,start:A,end:w,playout:{start:j,end:l},integrated:{start:C,end:d}})}else return;const I=h.resumeTime;m||I>o?c=o:c=I}),c<o){var u;const h=c,f=d,p=o-c;d+=p;const m=l;l+=p,r.push({previousEvent:((u=r[r.length-1])==null?void 0:u.event)||null,nextEvent:null,start:c,end:h+p,playout:{start:m,end:l},integrated:{start:f,end:d}})}this.setDurations(o,l,d)}else r.push({previousEvent:null,nextEvent:null,start:0,end:o,playout:{start:0,end:o},integrated:{start:0,end:o}}),this.setDurations(o,o,o);return r}setDurations(e,n,r){this.durations={primary:e,playout:n,integrated:r}}resolveOffsets(e,n){const r=n.main.details,i=r.live?1/0:r.edge;let o=0,l=-1;e.forEach((u,c)=>{const d=u.cue.pre,h=u.cue.post,f=d?0:h?i:u.startTime;this.updateAssetDurations(u),l===f?u.cumulativeDuration=o:(o=0,l=f),!h&&u.snapOptions.in&&(u.resumeAnchor=qd(null,r.fragments,u.startOffset+u.resumptionOffset,0,0)||void 0),u.appendInPlace&&!u.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(u,n)||(u.appendInPlace=!1)),!u.appendInPlace&&c+1<e.length&&e[c+1].startTime-e[c].resumeTime<g9&&(e[c+1].appendInPlace=!1,e[c+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${u}`));const m=An(u.resumeOffset)?u.resumeOffset:u.duration;o+=m})}primaryCanResumeInPlaceAt(e,n){const r=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(r-i)>Yh?(this.log(`"${e.identifier}" resumption ${r} not aligned with estimated timeline end ${i}`),!1):!Object.keys(n).some(l=>{const u=n[l].details,c=u.edge;if(r>=c)return this.log(`"${e.identifier}" resumption ${r} past ${l} playlist end ${c}`),!1;const d=qd(null,u.fragments,r);if(!d)return this.log(`"${e.identifier}" resumption ${r} does not align with any fragments in ${l} playlist (${u.fragStart}-${u.fragmentEnd})`),!0;const h=l==="audio"?.175:0;return Math.abs(d.start-r)<Yh+h||Math.abs(d.end-r)<Yh+h?!1:(this.log(`"${e.identifier}" resumption ${r} not aligned with ${l} fragment bounds (${d.start}-${d.end} sn: ${d.sn} cc: ${d.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const n=e.timelineStart;let r=0,i=!1,o=!1;for(let l=0;l<e.assetList.length;l++){const u=e.assetList[l],c=n+r;u.startOffset=r,u.timelineStart=c,i||(i=u.duration===null),o||(o=!!u.error);const d=u.error?0:u.duration||0;r+=d}i&&!o?e.duration=Math.max(r,e.duration):e.duration=r}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function So(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class EUe{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,n){const r=e.assetListUrl;let i;try{i=iee(r,this.hls.sessionId,e.baseUrl)}catch(p){const m=this.assignAssetListError(e,Et.ASSET_LIST_LOAD_ERROR,p,r);this.hls.trigger(be.ERROR,m);return}n&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+n);const o=this.hls.config,l=o.loader,u=new l(o),c={responseType:"json",url:i.href},d=o.interstitialAssetListLoadPolicy.default,h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(p,m,g,y)=>{const b=p.data,v=b?.ASSETS;if(!Array.isArray(v)){const _=this.assignAssetListError(e,Et.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),g.url,m,y);this.hls.trigger(be.ERROR,_);return}e.assetListResponse=b,this.hls.trigger(be.ASSET_LIST_LOADED,{event:e,assetListResponse:b,networkDetails:y})},onError:(p,m,g,y)=>{const b=this.assignAssetListError(e,Et.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${p.code} ${p.text} (${m.url})`),m.url,y,g);this.hls.trigger(be.ERROR,b)},onTimeout:(p,m,g)=>{const y=this.assignAssetListError(e,Et.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${m.url})`),m.url,p,g);this.hls.trigger(be.ERROR,y)}};return u.load(c,h,f),this.hls.trigger(be.ASSET_LIST_LOADING,{event:e}),u}assignAssetListError(e,n,r,i,o,l){return e.error=r,{type:Kn.NETWORK_ERROR,details:n,fatal:!1,interstitial:e,url:i,error:r,networkDetails:l,stats:o}}}function y9(t){var e;t==null||(e=t.play())==null||e.catch(()=>{})}function Sv(t,e){return`[${t}] Advancing timeline position to ${e}`}class _Ue extends ho{constructor(e,n){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled||!this.schedule)return;const i=r-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const l=i<=-.01;this.timelinePos=r,this.bufferedPos=r;const u=this.playingItem;if(!u){this.checkBuffer();return}if(l&&this.schedule.resetErrorsInRange(r,r-i)&&this.updateSchedule(!0),this.checkBuffer(),l&&r<u.start||r>=u.end){var c;const m=this.findItemIndex(u);let g=this.schedule.findItemIndexAtTime(r);if(g===-1&&(g=m+(l?-1:1),this.log(`seeked ${l?"back ":""}to position not covered by schedule ${r} (resolving from ${m} to ${g})`)),!this.isInterstitial(u)&&(c=this.media)!=null&&c.paused&&(this.shouldPlay=!1),!l&&g>m){const y=this.schedule.findJumpRestrictedIndex(m+1,g);if(y>m){this.setSchedulePosition(y);return}}this.setSchedulePosition(g);return}const d=this.playingAsset;if(!d){if(this.playingLastItem&&this.isInterstitial(u)){const m=u.event.assetList[0];m&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(r,m))}return}const h=d.timelineStart,f=d.duration||0;if(l&&r<h||r>=h+f){var p;(p=u.event)!=null&&p.appendInPlace&&(this.clearAssetPlayers(u.event,u),this.flushFrontBuffer(r)),this.setScheduleToAssetAtTime(r,d)}},this.onTimeupdate=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;if(r>this.timelinePos)this.timelinePos=r,r>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(r>=i.end){this.timelinePos=i.end;const u=this.findItemIndex(i);this.setSchedulePosition(u+1)}const o=this.playingAsset;if(!o)return;const l=o.timelineStart+(o.duration||0);r>=l&&this.setScheduleToAssetAtTime(r,o)},this.onScheduleUpdate=(r,i)=>{const o=this.schedule;if(!o)return;const l=this.playingItem,u=o.events||[],c=o.items||[],d=o.durations,h=r.map(y=>y.identifier),f=!!(u.length||h.length);(f||i)&&this.log(`INTERSTITIALS_UPDATED (${u.length}): ${u}
Schedule: ${c.map(y=>So(y))} pos: ${this.timelinePos}`),h.length&&this.log(`Removed events ${h}`);let p=null,m=null;l&&(p=this.updateItem(l,this.timelinePos),this.itemsMatch(l,p)?this.playingItem=p:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const g=this.bufferingItem;if(g&&(m=this.updateItem(g,this.bufferedPos),this.itemsMatch(g,m)?this.bufferingItem=m:g.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(g.event,null))),r.forEach(y=>{y.assetList.forEach(b=>{this.clearAssetPlayer(b.identifier,null)})}),this.playerQueue.forEach(y=>{if(y.interstitial.appendInPlace){const b=y.assetItem.timelineStart,v=y.timelineOffset-b;if(v)try{y.timelineOffset=b}catch(_){Math.abs(v)>Yh&&this.warn(`${_} ("${y.assetId}" ${y.timelineOffset}->${b})`)}}}),f||i){if(this.hls.trigger(be.INTERSTITIALS_UPDATED,{events:u.slice(0),schedule:c.slice(0),durations:d,removedIds:h}),this.isInterstitial(l)&&h.includes(l.event.identifier)){this.warn(`Interstitial "${l.event.identifier}" removed while playing`),this.primaryFallback(l.event);return}l&&this.trimInPlace(p,l),g&&m!==p&&this.trimInPlace(m,g),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=n,this.assetListLoader=new EUe(e),this.schedule=new vUe(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(be.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(be.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(be.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(be.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(be.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(be.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(be.BUFFER_APPENDED,this.onBufferAppended,this),e.on(be.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(be.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(be.MEDIA_ENDED,this.onMediaEnded,this),e.on(be.ERROR,this.onError,this),e.on(be.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(be.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(be.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(be.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(be.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(be.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(be.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(be.BUFFER_CODECS,this.onBufferCodecs,this),e.off(be.BUFFER_APPENDED,this.onBufferAppended,this),e.off(be.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(be.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(be.MEDIA_ENDED,this.onMediaEnded,this),e.off(be.ERROR,this.onError,this),e.off(be.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){as(e,"play",this.onPlay),as(e,"pause",this.onPause),as(e,"seeking",this.onSeeking),as(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,n){const r=this.media=n.media;Ga(r,"seeking",this.onSeeking),Ga(r,"timeupdate",this.onTimeupdate),Ga(r,"play",this.onPlay),Ga(r,"pause",this.onPause)}onMediaAttached(e,n){const r=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,r===null)this.checkStart();else if(!i){this.clearScheduleState();const o=this.findItemIndex(r);this.setSchedulePosition(o)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,n){const r=!!n.transferMedia,i=this.media;if(this.media=null,!r&&(i&&this.removeMediaListeners(i),this.detachedData)){const o=this.getBufferingPlayer();o&&(this.log(`Removing schedule state for detachedData and ${o}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,o.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,n=()=>e.bufferingItem||e.waitingItem,r=f=>f&&e.getAssetPlayer(f.identifier),i=(f,p,m,g,y)=>{if(f){let b=f[p].start;const v=f.event;if(v){if(p==="playout"||v.timelineOccupancy!==Y_.Point){const _=r(m);_?.interstitial===v&&(b+=_.assetItem.startOffset+_[y])}}else{const _=g==="bufferedPos"?l():e[g];b+=_-f.start}return b}return 0},o=(f,p)=>{var m;if(f!==0&&p!=="primary"&&(m=e.schedule)!=null&&m.length){var g;const y=e.schedule.findItemIndexAtTime(f),b=(g=e.schedule.items)==null?void 0:g[y];if(b){const v=b[p].start-b.start;return f+v}}return f},l=()=>{const f=e.bufferedPos;return f===Number.MAX_VALUE?u("primary"):Math.max(f,0)},u=f=>{var p,m;return(p=e.primaryDetails)!=null&&p.live?e.primaryDetails.edge:((m=e.schedule)==null?void 0:m.durations[f])||0},c=(f,p)=>{var m,g;const y=e.effectivePlayingItem;if(y!=null&&(m=y.event)!=null&&m.restrictions.skip||!e.schedule)return;e.log(`seek to ${f} "${p}"`);const b=e.effectivePlayingItem,v=e.schedule.findItemIndexAtTime(f,p),_=(g=e.schedule.items)==null?void 0:g[v],E=e.getBufferingPlayer(),T=E?.interstitial,A=T?.appendInPlace,w=b&&e.itemsMatch(b,_);if(b&&(A||w)){const I=r(e.playingAsset),C=I?.media||e.primaryMedia;if(C){const j=p==="primary"?C.currentTime:i(b,p,e.playingAsset,"timelinePos","currentTime"),F=f-j,K=(A?j:C.currentTime)+F;if(K>=0&&(!I||A||K<=I.duration)){C.currentTime=K;return}}}if(_){let I=f;if(p!=="primary"){const j=_[p].start,F=f-j;I=_.start+F}const C=!e.isInterstitial(_);if((!e.isInterstitial(b)||b.event.appendInPlace)&&(C||_.event.appendInPlace)){const j=e.media||(A?E?.media:null);j&&(j.currentTime=I)}else if(b){const j=e.findItemIndex(b);if(v>j){const K=e.schedule.findJumpRestrictedIndex(j+1,v);if(K>j){e.setSchedulePosition(K);return}}let F=0;if(C)e.timelinePos=I,e.checkBuffer();else{const K=_.event.assetList,he=f-(_[p]||_).start;for(let q=K.length;q--;){const Ee=K[q];if(Ee.duration&&he>=Ee.startOffset&&he<Ee.startOffset+Ee.duration){F=q;break}}}e.setSchedulePosition(v,F)}}},d=()=>{const f=e.effectivePlayingItem;if(e.isInterstitial(f))return f;const p=n();return e.isInterstitial(p)?p:null},h={get bufferedEnd(){const f=n(),p=e.bufferingItem;if(p&&p===f){var m;return i(p,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-p.playout.start||((m=e.bufferingAsset)==null?void 0:m.startOffset)||0}return 0},get currentTime(){const f=d(),p=e.effectivePlayingItem;return p&&p===f?i(p,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-p.playout.start:0},set currentTime(f){const p=d(),m=e.effectivePlayingItem;m&&m===p&&c(f+m.playout.start,"playout")},get duration(){const f=d();return f?f.playout.end-f.playout.start:0},get assetPlayers(){var f;const p=(f=d())==null?void 0:f.event.assetList;return p?p.map(m=>e.getAssetPlayer(m.identifier)):[]},get playingIndex(){var f;const p=(f=d())==null?void 0:f.event;return p&&e.effectivePlayingAsset?p.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return d()}};return this.manager={get events(){var f;return((f=e.schedule)==null||(f=f.events)==null?void 0:f.slice(0))||[]},get schedule(){var f;return((f=e.schedule)==null||(f=f.items)==null?void 0:f.slice(0))||[]},get interstitialPlayer(){return d()?h:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return n()},get bufferingIndex(){const f=n();return e.findItemIndex(f)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const f=e.effectivePlayingItem;return e.findItemIndex(f)},primary:{get bufferedEnd(){return l()},get currentTime(){const f=e.timelinePos;return f>0?f:0},set currentTime(f){c(f,"primary")},get duration(){return u("primary")},get seekableStart(){var f;return((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(n(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(f){c(f,"integrated")},get duration(){return u("integrated")},get seekableStart(){var f;return o(((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0,"integrated")}},skip:()=>{const f=e.effectivePlayingItem,p=f?.event;if(p&&!p.restrictions.skip){const m=e.findItemIndex(f);if(p.appendInPlace){const g=f.playout.start+f.event.duration;c(g+.001,"playout")}else e.advanceAfterAssetEnded(p,m,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const n=this.playingItem,r=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!n||!r?!1:this.findItemIndex(n)===r.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,n;if(this.mediaSelection===null)return;const r=this.waitingItem||this.playingItem;if(this.isInterstitial(r)&&!r.event.appendInPlace)return;let i=this.media;!i&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(i=this.primaryMedia);const o=(n=i)==null?void 0:n.currentTime;if(!(o===void 0||!An(o)))return o}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,n){const r=this.getAssetPlayer(e);r&&this.transferMediaFromPlayer(r,n)}transferMediaFromPlayer(e,n){const r=e.interstitial.appendInPlace,i=e.media;if(r&&i===this.primaryMedia){if(this.bufferingAsset=null,(!n||this.isInterstitial(n)&&!n.event.appendInPlace)&&n&&i){this.detachedData={media:i};return}const o=e.transferMedia();this.log(`transfer MediaSource from ${e} ${li(o)}`),this.detachedData=o}else n&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,n){var r,i;if(e.media===n)return;let o=null;const l=this.hls,u=e!==l,c=u&&e.interstitial.appendInPlace,d=(r=this.detachedData)==null?void 0:r.mediaSource;let h;if(l.media)c&&(o=l.transferMedia(),this.detachedData=o),h="Primary";else if(d){const g=this.getBufferingPlayer();g?(o=g.transferMedia(),h=`${g}`):h="detached MediaSource"}else h="detached media";if(!o){if(d)o=this.detachedData,this.log(`using detachedData: MediaSource ${li(o)}`);else if(!this.detachedData||l.media===n){const g=this.playerQueue;g.length>1&&g.forEach(y=>{if(u&&y.interstitial.appendInPlace!==c){const b=y.interstitial;this.clearInterstitial(y.interstitial,null),b.appendInPlace=!1,b.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${b}`)}}),this.hls.detachMedia(),this.detachedData={media:n}}}const f=o&&"mediaSource"in o&&((i=o.mediaSource)==null?void 0:i.readyState)!=="closed",p=f&&o?o:n;this.log(`${f?"transfering MediaSource":"attaching media"} to ${u?e:"Primary"} from ${h} (media.currentTime: ${n.currentTime})`);const m=this.schedule;if(p===o&&m){const g=u&&e.assetId===m.assetIdAtEnd;p.overrides={duration:m.duration,endOfStream:!u||g,cueRemoval:!u}}e.attachMedia(p)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,n=e?.events;if(!n||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const r=this.timelinePos,i=this.effectivePlayingItem;if(r===-1){const o=this.hls.startPosition;if(this.log(Sv("checkStart",o)),this.timelinePos=o,n.length&&n[0].cue.pre){const l=e.findEventIndex(n[0].identifier);this.setSchedulePosition(l)}else if(o>=0||!this.primaryLive){const l=this.timelinePos=o>0?o:0,u=e.findItemIndexAtTime(l);this.setSchedulePosition(u)}}else if(i&&!this.playingItem){const o=e.findItemIndex(i);this.setSchedulePosition(o)}}advanceAssetBuffering(e,n){const r=e.event,i=r.findAssetIndex(n),o=Pk(r,i);if(!r.isAssetPastPlayoutLimit(o))this.bufferedToEvent(e,o);else if(this.schedule){var l;const u=(l=this.schedule.items)==null?void 0:l[this.findItemIndex(e)+1];u&&this.bufferedToItem(u)}}advanceAfterAssetEnded(e,n,r){const i=Pk(e,r);if(e.isAssetPastPlayoutLimit(i)){if(this.schedule){const o=this.schedule.items;if(o){const l=n+1,u=o.length;if(l>=u){this.setSchedulePosition(-1);return}const c=e.resumeTime;this.timelinePos<c&&(this.log(Sv("advanceAfterAssetEnded",c)),this.timelinePos=c,e.appendInPlace&&this.advanceInPlace(c),this.checkBuffer(this.bufferedPos<c)),this.setSchedulePosition(l)}}}else{if(e.appendInPlace){const o=e.assetList[i];o&&this.advanceInPlace(o.timelineStart)}this.setSchedulePosition(n,i)}}setScheduleToAssetAtTime(e,n){const r=this.schedule;if(!r)return;const i=n.parentIdentifier,o=r.getEvent(i);if(o){const l=r.findEventIndex(i),u=r.findAssetIndex(o,e);this.advanceAfterAssetEnded(o,l,u-1)}}setSchedulePosition(e,n){var r;const i=(r=this.schedule)==null?void 0:r.items;if(!i||this.playbackDisabled)return;const o=e>=0?i[e]:null;this.log(`setSchedulePosition ${e}, ${n} (${o&&So(o)}) pos: ${this.timelinePos}`);const l=this.waitingItem||this.playingItem,u=this.playingLastItem;if(this.isInterstitial(l)){const h=l.event,f=this.playingAsset,p=f?.identifier,m=p?this.getAssetPlayer(p):null;if(m&&p&&(!this.eventItemsMatch(l,o)||n!==void 0&&p!==h.assetList[n].identifier)){var c;const g=h.findAssetIndex(f);if(this.log(`INTERSTITIAL_ASSET_ENDED ${g+1}/${h.assetList.length} ${uh(f)}`),this.endedAsset=f,this.playingAsset=null,this.hls.trigger(be.INTERSTITIAL_ASSET_ENDED,{asset:f,assetListIndex:g,event:h,schedule:i.slice(0),scheduleIndex:e,player:m}),l!==this.playingItem){this.itemsMatch(l,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(h,this.findItemIndex(this.playingItem),g);return}this.retreiveMediaSource(p,o),m.media&&!((c=this.detachedData)!=null&&c.mediaSource)&&m.detachMedia()}if(!this.eventItemsMatch(l,o)&&(this.endedItem=l,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${h} ${So(l)}`),h.hasPlayed=!0,this.hls.trigger(be.INTERSTITIAL_ENDED,{event:h,schedule:i.slice(0),scheduleIndex:e}),h.cue.once)){var d;this.updateSchedule();const g=(d=this.schedule)==null?void 0:d.items;if(o&&g){const y=this.findItemIndex(o);this.advanceSchedule(y,g,n,l,u)}return}}this.advanceSchedule(e,i,n,l,u)}advanceSchedule(e,n,r,i,o){const l=this.schedule;if(!l)return;const u=n[e]||null,c=this.primaryMedia,d=this.playerQueue;if(d.length&&d.forEach(h=>{const f=h.interstitial,p=l.findEventIndex(f.identifier);(p<e||p>e+1)&&this.clearInterstitial(f,u)}),this.isInterstitial(u)){this.timelinePos=Math.min(Math.max(this.timelinePos,u.start),u.end);const h=u.event;if(r===void 0){r=l.findAssetIndex(h,this.timelinePos);const g=Pk(h,r-1);if(h.isAssetPastPlayoutLimit(g)||h.appendInPlace&&this.timelinePos===u.end){this.advanceAfterAssetEnded(h,e,r);return}r=g}const f=this.waitingItem;this.assetsBuffered(u,c)||this.setBufferingItem(u);let p=this.preloadAssets(h,r);if(this.eventItemsMatch(u,f||i)||(this.waitingItem=u,this.log(`INTERSTITIAL_STARTED ${So(u)} ${h.appendInPlace?"append in place":""}`),this.hls.trigger(be.INTERSTITIAL_STARTED,{event:h,schedule:n.slice(0),scheduleIndex:e})),!h.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${h}`);return}if(h.assetListLoader&&(h.assetListLoader.destroy(),h.assetListLoader=void 0),!c){this.log(`Waiting for attachMedia to start Interstitial ${h}`);return}this.waitingItem=this.endedItem=null,this.playingItem=u;const m=h.assetList[r];if(!m){this.advanceAfterAssetEnded(h,e,r||0);return}if(p||(p=this.getAssetPlayer(m.identifier)),p===null||p.destroyed){const g=h.assetList.length;this.warn(`asset ${r+1}/${g} player destroyed ${h}`),p=this.createAssetPlayer(h,m,r),p.loadSource()}if(!this.eventItemsMatch(u,this.bufferingItem)&&h.appendInPlace&&this.isAssetBuffered(m))return;this.startAssetPlayer(p,r,n,e,c),this.shouldPlay&&y9(p.media)}else u?(this.resumePrimary(u,e,i),this.shouldPlay&&y9(this.hls.media)):o&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(l.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,n,r){var i,o;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${So(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let u=this.timelinePos;(u<e.start||u>=e.end)&&(u=this.getPrimaryResumption(e,n),this.log(Sv("resumePrimary",u)),this.timelinePos=u),this.attachPrimary(u,e)}if(!r)return;const l=(o=this.schedule)==null?void 0:o.items;l&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${So(e)}`),this.hls.trigger(be.INTERSTITIALS_PRIMARY_RESUMED,{schedule:l.slice(0),scheduleIndex:n}),this.checkBuffer())}getPrimaryResumption(e,n){const r=e.start;if(this.primaryLive){const i=this.primaryDetails;if(n===0)return this.hls.startPosition;if(i&&(r<i.fragmentStart||r>i.edge))return this.hls.liveSyncPosition||-1}return r}isAssetBuffered(e){const n=this.getAssetPlayer(e.identifier);return n!=null&&n.hls?n.hls.bufferedToEnd:fr.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,n,r){n?this.setBufferingItem(n):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const o=this.hls;o.media?this.checkBuffer():(this.transferMediaTo(o,i),r&&this.startLoadingPrimaryAt(e,r)),r||(this.log(Sv("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,r))}startLoadingPrimaryAt(e,n){var r;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((r=i.mainForwardBufferInfo)==null?void 0:r.start)||i.media.currentTime)-e)>.5?i.startLoad(e,n):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(be.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(be.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,n){if(n.level===-1||!this.schedule)return;const r=this.hls.levels[n.level];if(!r.details)return;const i=Yr(Yr({},this.mediaSelection||this.altSelection),{},{main:r});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,n){const r=this.hls.audioTracks[n.id],i=this.mediaSelection;if(!i){this.altSelection=Yr(Yr({},this.altSelection),{},{audio:r});return}const o=Yr(Yr({},i),{},{audio:r});this.mediaSelection=o}onSubtitleTrackUpdated(e,n){const r=this.hls.subtitleTracks[n.id],i=this.mediaSelection;if(!i){this.altSelection=Yr(Yr({},this.altSelection),{},{subtitles:r});return}const o=Yr(Yr({},i),{},{subtitles:r});this.mediaSelection=o}onAudioTrackSwitching(e,n){const r=IH(n);this.playerQueue.forEach(({hls:i})=>i&&(i.setAudioOption(n)||i.setAudioOption(r)))}onSubtitleTrackSwitch(e,n){const r=IH(n);this.playerQueue.forEach(({hls:i})=>i&&(i.setSubtitleOption(n)||n.id!==-1&&i.setSubtitleOption(r)))}onBufferCodecs(e,n){const r=n.tracks;r&&(this.requiredTracks=r)}onBufferAppended(e,n){this.checkBuffer()}onBufferFlushed(e,n){const r=this.playingItem;if(r&&!this.itemsMatch(r,this.bufferingItem)&&!this.isInterstitial(r)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const n=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&n){for(let i=0;i<n.length;i++){const o=n[i];if(o.cue.post){var r;const l=this.schedule.findEventIndex(o.identifier),u=(r=this.schedule.items)==null?void 0:r[l];this.isInterstitial(u)&&this.eventItemsMatch(u,this.bufferingItem)&&this.bufferedToItem(u,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const n=this.playingItem;if(!this.playingLastItem&&n){const r=this.findItemIndex(n);this.setSchedulePosition(r+1)}else this.shouldPlay=!1}updateItem(e,n){var r;const i=(r=this.schedule)==null?void 0:r.items;if(e&&i){const o=this.findItemIndex(e,n);return i[o]||null}return null}trimInPlace(e,n){if(this.isInterstitial(e)&&e.event.appendInPlace&&n.end-e.end>.25){e.event.assetList.forEach((o,l)=>{e.event.isAssetPastPlayoutLimit(l)&&this.clearAssetPlayer(o.identifier,null)});const r=e.end+.25,i=fr.bufferInfo(this.primaryMedia,r,0);(i.end>r||(i.nextStart||0)>r)&&(this.log(`trim buffered interstitial ${So(e)} (was ${So(n)})`),this.attachPrimary(r,null,!0),this.flushFrontBuffer(r))}}itemsMatch(e,n){return!!n&&(e===n||e.event&&n.event&&this.eventItemsMatch(e,n)||!e.event&&!n.event&&this.findItemIndex(e)===this.findItemIndex(n))}eventItemsMatch(e,n){var r;return!!n&&(e===n||e.event.identifier===((r=n.event)==null?void 0:r.identifier))}findItemIndex(e,n){return e&&this.schedule?this.schedule.findItemIndex(e,n):-1}updateSchedule(e=!1){var n;const r=this.mediaSelection;r&&((n=this.schedule)==null||n.updateSchedule(r,[],e))}checkBuffer(e){var n;const r=(n=this.schedule)==null?void 0:n.items;if(!r)return;const i=fr.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=i.len<1),this.updateBufferedPos(i.end,r,e)}updateBufferedPos(e,n,r){const i=this.schedule,o=this.bufferingItem;if(this.bufferedPos>e||!i)return;if(n.length===1&&this.itemsMatch(n[0],o)){this.bufferedPos=e;return}const l=this.playingItem,u=this.findItemIndex(l);let c=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var d;const h=this.findItemIndex(o),f=Math.min(h+1,n.length-1),p=n[f];if((c===-1&&o&&e>=o.end||(d=p.event)!=null&&d.appendInPlace&&e+.01>=p.start)&&(c=f),this.isInterstitial(o)){const m=o.event;if(f-u>1&&m.appendInPlace===!1||m.assetList.length===0&&m.assetListLoader)return}if(this.bufferedPos=e,c>h&&c>u)this.bufferedToItem(p);else{const m=this.primaryDetails;this.primaryLive&&m&&e>m.edge-m.targetduration&&p.start<m.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(p)&&this.preloadAssets(p.event,0)}}else r&&l&&!this.itemsMatch(l,o)&&(c===u?this.bufferedToItem(l):c===u+1&&this.bufferedToItem(n[c]))}assetsBuffered(e,n){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const o=this.getAssetPlayer(i.identifier);return!(o!=null&&o.bufferedInPlaceToEnd(n))})}setBufferingItem(e){const n=this.bufferingItem,r=this.schedule;if(!this.itemsMatch(e,n)&&r){const{items:i,events:o}=r;if(!i||!o)return n;const l=this.isInterstitial(e),u=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const c=u?u.remaining:n?n.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${So(e)}`+(n?` (${c.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(l){const d=r.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((h,f)=>{const p=this.getAssetPlayer(h.identifier);p&&(f===d&&p.loadSource(),p.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(d=>d.pauseBuffering());this.hls.trigger(be.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:o.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return n}bufferedToItem(e,n=0){const r=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,n);else if(r!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const n=this.findItemIndex(e),r=this.getPrimaryResumption(e,n);this.startLoadingPrimaryAt(r)}bufferedToEvent(e,n){const r=e.event,i=r.assetList.length===0&&!r.assetListLoader,o=r.cue.once;if(i||!o){const l=this.preloadAssets(r,n);if(l!=null&&l.interstitial.appendInPlace){const u=this.primaryMedia;u&&this.bufferAssetPlayer(l,u)}}}preloadAssets(e,n){const r=e.assetUrl,i=e.assetList.length,o=i===0&&!e.assetListLoader,l=e.cue.once;if(o){const c=e.timelineStart;if(e.appendInPlace){var u;const p=this.playingItem;!this.isInterstitial(p)&&(p==null||(u=p.nextEvent)==null?void 0:u.identifier)===e.identifier&&this.flushFrontBuffer(c+.25)}let d,h=0;if(!this.playingItem&&this.primaryLive&&(h=this.hls.startPosition,h===-1&&(h=this.hls.liveSyncPosition||0)),h&&!(e.cue.pre||e.cue.post)){const p=h-c;p>0&&(d=Math.round(p*1e3)/1e3)}if(this.log(`Load interstitial asset ${n+1}/${r?1:i} ${e}${d?` live-start: ${h} start-offset: ${d}`:""}`),r)return this.createAsset(e,0,0,c,e.duration,r);const f=this.assetListLoader.loadAssetList(e,d);f&&(e.assetListLoader=f)}else if(!l&&i){for(let d=n;d<i;d++){const h=e.assetList[d],f=this.getAssetPlayerQueueIndex(h.identifier);(f===-1||this.playerQueue[f].destroyed)&&!h.error&&this.createAssetPlayer(e,h,d)}const c=e.assetList[n];if(c){const d=this.getAssetPlayer(c.identifier);return d&&d.loadSource(),d}}return null}flushFrontBuffer(e){const n=this.requiredTracks;if(!n)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(n).forEach(i=>{this.hls.trigger(be.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const n=this.playerQueue;for(let r=0;r<n.length;r++)if(e===n[r].assetId)return r;return-1}getAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);return this.playerQueue[n]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:n}=this;if(n){for(let r=0;r<e.length;r++)if(e[r].media===n)return e[r]}return null}createAsset(e,n,r,i,o,l){const u={parentIdentifier:e.identifier,identifier:mUe(e,l,n),duration:o,startOffset:r,timelineStart:i,uri:l};return this.createAssetPlayer(e,u,n)}createAssetPlayer(e,n,r){const i=this.hls,o=i.userConfig;let l=o.videoPreference;const u=i.loadLevelObj||i.levels[i.currentLevel];(l||u)&&(l=ri({},l),u.videoCodec&&(l.videoCodec=u.videoCodec),u.videoRange&&(l.allowedVideoRanges=[u.videoRange]));const c=i.audioTracks[i.audioTrack],d=i.subtitleTracks[i.subtitleTrack];let h=0;if(this.primaryLive||e.appendInPlace){const T=this.timelinePos-n.timelineStart;if(T>1){const A=n.duration;A&&T<A&&(h=T)}}const f=n.identifier,p=Yr(Yr({},o),{},{maxMaxBufferLength:Math.min(180,i.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:h,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:l,audioPreference:c||o.audioPreference,subtitlePreference:d||o.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,n.timelineStart&&(p.timelineOffset=n.timelineStart));const m=p.cmcd;m!=null&&m.sessionId&&m.contentId&&(p.cmcd=ri({},m,{contentId:Bg(n.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${e} and asset ${f}`);const g=new bUe(this.HlsPlayerClass,p,e,n);this.playerQueue.push(g),e.assetList[r]=n;let y=!0;const b=T=>{if(T.live){var A;const C=new Error(`Interstitials MUST be VOD assets ${e}`),j={fatal:!0,type:Kn.OTHER_ERROR,details:Et.INTERSTITIAL_ASSET_ITEM_ERROR,error:C},F=((A=this.schedule)==null?void 0:A.findEventIndex(e.identifier))||-1;this.handleAssetItemError(j,e,F,r,C.message);return}const w=T.edge-T.fragmentStart,I=n.duration;(y||I===null||w>I)&&(y=!1,this.log(`Interstitial asset "${f}" duration change ${I} > ${w}`),n.duration=w,this.updateSchedule())};g.on(be.LEVEL_UPDATED,(T,{details:A})=>b(A)),g.on(be.LEVEL_PTS_UPDATED,(T,{details:A})=>b(A)),g.on(be.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const v=(T,A)=>{const w=this.getAssetPlayer(f);if(w&&A.tracks){w.off(be.BUFFER_CODECS,v),w.tracks=A.tracks;const I=this.primaryMedia;this.bufferingAsset===w.assetItem&&I&&!w.media&&this.bufferAssetPlayer(w,I)}};g.on(be.BUFFER_CODECS,v);const _=()=>{var T;const A=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${A}`),!A||!this.schedule)return;const w=this.schedule.findEventIndex(e.identifier),I=(T=this.schedule.items)==null?void 0:T[w];this.isInterstitial(I)&&this.advanceAssetBuffering(I,n)};g.on(be.BUFFERED_TO_END,_);const E=T=>()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;this.shouldPlay=!0;const w=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,w,T)};return g.once(be.MEDIA_ENDED,E(r)),g.once(be.PLAYOUT_LIMIT_REACHED,E(1/0)),g.on(be.ERROR,(T,A)=>{if(!this.schedule)return;const w=this.getAssetPlayer(f);if(A.details===Et.BUFFER_STALLED_ERROR){if(w!=null&&w.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(A,e,this.schedule.findEventIndex(e.identifier),r,`Asset player error ${A.error} ${e}`)}),g.on(be.DESTROYING,()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;const A=new Error(`Asset player destroyed unexpectedly ${f}`),w={fatal:!0,type:Kn.OTHER_ERROR,details:Et.INTERSTITIAL_ASSET_ITEM_ERROR,error:A};this.handleAssetItemError(w,e,this.schedule.findEventIndex(e.identifier),r,A.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${uh(n)}`),this.hls.trigger(be.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:n,assetListIndex:r,event:e,player:g}),g}clearInterstitial(e,n){this.clearAssetPlayers(e,n),e.reset()}clearAssetPlayers(e,n){e.assetList.forEach(r=>{this.clearAssetPlayer(r.identifier,n)})}resetAssetPlayer(e){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){this.log(`reset asset player "${e}" after error`);const r=this.playerQueue[n];this.transferMediaFromPlayer(r,null),r.resetDetails()}}clearAssetPlayer(e,n){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){const i=this.playerQueue[r];this.log(`clear ${i} toSegment: ${n&&So(n)}`),this.transferMediaFromPlayer(i,n),this.playerQueue.splice(r,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,n,r,i,o){const{interstitial:l,assetItem:u,assetId:c}=e,d=l.assetList.length,h=this.playingAsset;this.endedAsset=null,this.playingAsset=u,(!h||h.identifier!==c)&&(h&&(this.clearAssetPlayer(h.identifier,r[i]),delete h.error),this.log(`INTERSTITIAL_ASSET_STARTED ${n+1}/${d} ${uh(u)}`),this.hls.trigger(be.INTERSTITIAL_ASSET_STARTED,{asset:u,assetListIndex:n,event:l,schedule:r.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,o)}bufferAssetPlayer(e,n){var r,i;if(!this.schedule)return;const{interstitial:o,assetItem:l}=e,u=this.schedule.findEventIndex(o.identifier),c=(r=this.schedule.items)==null?void 0:r[u];if(!c)return;e.loadSource(),this.setBufferingItem(c),this.bufferingAsset=l;const d=this.getBufferingPlayer();if(d===e)return;const h=o.appendInPlace;if(h&&d?.interstitial.appendInPlace===!1)return;const f=d?.tracks||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(h&&l!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(f&&!zZ(f,e.tracks)){const p=new Error(`Asset ${uh(l)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(f)}')`),m={fatal:!0,type:Kn.OTHER_ERROR,details:Et.INTERSTITIAL_ASSET_ITEM_ERROR,error:p},g=o.findAssetIndex(l);this.handleAssetItemError(m,o,u,g,p.message);return}}this.transferMediaTo(e,n)}handleInPlaceStall(e){const n=this.schedule,r=this.primaryMedia;if(!n||!r)return;const i=r.currentTime,o=n.findAssetIndex(e,i),l=e.assetList[o];if(l){const u=this.getAssetPlayer(l.identifier);if(u){const c=u.currentTime||i-l.timelineStart,d=u.duration-c;if(this.warn(`Stalled at ${c} of ${c+d} in ${u} ${e} (media.currentTime: ${i})`),c&&(d/r.playbackRate<.5||u.bufferedInPlaceToEnd(r))&&u.hls){const h=n.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,h,o)}}}}advanceInPlace(e){const n=this.primaryMedia;n&&n.currentTime<e&&(n.currentTime=e)}handleAssetItemError(e,n,r,i,o){if(e.details===Et.BUFFER_STALLED_ERROR)return;const l=n.assetList[i]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${l&&uh(l)} ${e.error}`),!this.schedule)return;const u=l?.identifier||"",c=this.getAssetPlayerQueueIndex(u),d=this.playerQueue[c]||null,h=this.schedule.items,f=ri({},e,{fatal:!1,errorAction:Vh(!0),asset:l,assetListIndex:i,event:n,schedule:h,scheduleIndex:r,player:d});if(this.hls.trigger(be.INTERSTITIAL_ASSET_ERROR,f),!e.fatal)return;const p=this.playingAsset,m=this.bufferingAsset,g=new Error(o);if(l&&(this.clearAssetPlayer(u,null),l.error=g),!n.assetList.some(y=>!y.error))n.error=g;else for(let y=i;y<n.assetList.length;y++)this.resetAssetPlayer(n.assetList[y].identifier);this.updateSchedule(!0),n.error?this.primaryFallback(n):p&&p.identifier===u?this.advanceAfterAssetEnded(n,r,i):m&&m.identifier===u&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,m)}primaryFallback(e){const n=e.timelineStart,r=this.effectivePlayingItem;let i=this.timelinePos;if(r){this.log(`Fallback to primary from event "${e.identifier}" start: ${n} pos: ${i} playing: ${So(r)} error: ${e.error}`),i===-1&&(i=this.hls.startPosition);const l=this.updateItem(r,i);this.itemsMatch(r,l)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(n,null),this.flushFrontBuffer(n))}else if(i===-1){this.checkStart();return}if(!this.schedule)return;const o=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(o)}onAssetListLoaded(e,n){var r,i;const o=n.event,l=o.identifier,u=n.assetListResponse.ASSETS;if(!((r=this.schedule)!=null&&r.hasEvent(l)))return;const c=o.timelineStart,d=o.duration;let h=0;u.forEach((y,b)=>{const v=parseFloat(y.DURATION);this.createAsset(o,b,h,c+h,v,y.URI),h+=v}),o.duration=h,this.log(`Loaded asset-list with duration: ${h} (was: ${d}) ${o}`);const f=this.waitingItem,p=f?.event.identifier===l;this.updateSchedule();const m=(i=this.bufferingItem)==null?void 0:i.event;if(p){var g;const y=this.schedule.findEventIndex(l),b=(g=this.schedule.items)==null?void 0:g[y];if(b){if(!this.playingItem&&this.timelinePos>b.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==y){o.error=new Error(`Interstitial ${u.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${o}`),this.log(o.error.message),this.updateSchedule(!0),this.primaryFallback(o);return}this.setBufferingItem(b)}this.setSchedulePosition(y)}else if(m?.identifier===l){const y=o.assetList[0];if(y){const b=this.getAssetPlayer(y.identifier);if(m.appendInPlace){const v=this.primaryMedia;b&&v&&this.bufferAssetPlayer(b,v)}else b&&b.loadSource()}}}onError(e,n){if(this.schedule)switch(n.details){case Et.ASSET_LIST_PARSING_ERROR:case Et.ASSET_LIST_LOAD_ERROR:case Et.ASSET_LIST_LOAD_TIMEOUT:{const r=n.interstitial;r&&(this.updateSchedule(!0),this.primaryFallback(r));break}case Et.BUFFER_STALLED_ERROR:{const r=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(r)&&r.event.appendInPlace){this.handleInPlaceStall(r.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const b9=500;class TUe extends bN{constructor(e,n,r){super(e,n,r,"subtitle-stream-controller",Pn.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(be.LEVEL_LOADED,this.onLevelLoaded,this),e.on(be.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(be.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(be.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(be.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(be.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(be.LEVEL_LOADED,this.onLevelLoaded,this),e.off(be.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(be.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(be.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(be.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(be.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,n){this.stopLoad(),this.state=Xt.IDLE,this.setInterval(b9),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,n){this.tracksBuffered=[],super.onMediaDetaching(e,n)}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:r,success:i}=n;if(this.fragContextChanged(r)||($i(r)&&(this.fragPrevious=r),this.state=Xt.IDLE),!i)return;const o=this.tracksBuffered[this.currentTrackId];if(!o)return;let l;const u=r.start;for(let d=0;d<o.length;d++)if(u>=o[d].start&&u<=o[d].end){l=o[d];break}const c=r.start+r.duration;l?l.end=c:(l={start:u,end:c},o.push(l)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null),this.media&&this.tick()}onBufferFlushing(e,n){const{startOffset:r,endOffset:i}=n;if(r===0&&i!==Number.POSITIVE_INFINITY){const o=i-1;if(o<=0)return;n.endOffsetSubtitles=Math.max(0,o),this.tracksBuffered.forEach(l=>{for(let u=0;u<l.length;){if(l[u].end<=o){l.shift();continue}else if(l[u].start<o)l[u].start=o;else break;u++}}),this.fragmentTracker.removeFragmentsInRange(r,o,Pn.SUBTITLE)}}onError(e,n){const r=n.frag;r?.type===Pn.SUBTITLE&&(n.details===Et.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Xt.STOPPED&&(this.state=Xt.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&jJ(this.levels,n)){this.levels=n.map(r=>new wy(r));return}this.tracksBuffered=[],this.levels=n.map(r=>{const i=new wy(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Pn.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var r;if(this.currentTrackId=n.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==Xt.STOPPED&&this.setInterval(b9)}onSubtitleTrackLoaded(e,n){var r;const{currentTrackId:i,levels:o}=this,{details:l,id:u}=n;if(!o){this.warn(`Subtitle tracks were reset while loading level ${u}`);return}const c=o[u];if(u>=o.length||!c)return;this.log(`Subtitle track ${u} loaded [${l.startSN},${l.endSN}]${l.lastPartSn?`[part-${l.lastPartSn}-${l.lastPartIndex}]`:""},duration:${l.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let d=0;if(l.live||(r=c.details)!=null&&r.live){if(l.deltaUpdateFailed)return;const f=this.mainDetails;if(!f){this.startFragRequested=!1;return}const p=f.fragments[0];if(!c.details)l.hasProgramDateTime&&f.hasProgramDateTime?(K_(l,f),d=l.fragmentStart):p&&(d=p.start,tL(l,d));else{var h;d=this.alignPlaylists(l,c.details,(h=this.levelLastLoaded)==null?void 0:h.details),d===0&&p&&(d=p.start,tL(l,d))}f&&!this.startFragRequested&&this.setStartPosition(f,d)}c.details=l,this.levelLastLoaded=c,u===i&&(this.hls.trigger(be.SUBTITLE_TRACK_UPDATED,{details:l,id:u,groupId:n.groupId}),this.tick(),l.live&&!this.fragCurrent&&this.media&&this.state===Xt.IDLE&&(qd(null,l.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:r}=e,i=n.decryptdata,o=this.hls;if(!this.fragContextChanged(n)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&Kh(i.method)){const l=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer,gN(i.method)).catch(u=>{throw o.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.FRAG_DECRYPT_ERROR,fatal:!1,error:u,reason:u.message,frag:n}),u}).then(u=>{const c=performance.now();o.trigger(be.FRAG_DECRYPTED,{frag:n,payload:u,stats:{tstart:l,tdecrypt:c}})}).catch(u=>{this.warn(`${u.name}: ${u.message}`),this.state=Xt.IDLE})}}doTick(){if(!this.media){this.state=Xt.IDLE;return}if(this.state===Xt.IDLE){const{currentTrackId:e,levels:n}=this,r=n?.[e];if(!r||!n.length||!r.details||this.waitForLive(r))return;const{config:i}=this,o=this.getLoadPosition(),l=fr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o,i.maxBufferHole),{end:u,len:c}=l,d=r.details,h=this.hls.maxBufferLength+d.levelTargetDuration;if(c>h)return;const f=d.fragments,p=f.length,m=d.edge;let g=null;const y=this.fragPrevious;if(u<m){const _=i.maxFragLookUpTolerance,E=u>m-_?0:_;g=qd(y,f,Math.max(f[0].start,u),E),!g&&y&&y.start<f[0].start&&(g=f[0])}else g=f[p-1];if(g=this.filterReplacedPrimary(g,r.details),!g)return;const b=g.sn-d.startSN,v=f[b-1];if(v&&v.cc===g.cc&&this.fragmentTracker.getState(v)===ra.NOT_LOADED&&(g=v),this.fragmentTracker.getState(g)===ra.NOT_LOADED){const _=this.mapToInitFragWhenRequired(g);_&&this.loadFragment(_,r,u)}}}loadFragment(e,n,r){$i(e)?super.loadFragment(e,n,r):this._loadInitSegment(e,n)}get mediaBufferTimeRanges(){return new SUe(this.tracksBuffered[this.currentTrackId]||[])}}class SUe{constructor(e){this.buffered=void 0;const n=(r,i,o)=>{if(i=i>>>0,i>o-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${o})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return n("end",r,e.length)},start(r){return n("start",r,e.length)}}}}const wUe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},aee=t=>String.fromCharCode(wUe[t]||t),Lo=15,Zl=100,AUe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},IUe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},xUe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},RUe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},kUe=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class CUe{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const r=typeof n=="function"?n():n;Xr.log(`${this.time} [${e}] ${r}`)}}}const Gc=function(e){const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(16));return n};class see{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let r=0;r<n.length;r++){const i=n[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class DUe{constructor(){this.uchar=" ",this.penState=new see}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class LUe{constructor(e){this.chars=[],this.pos=0,this.currPenState=new see,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<Zl;n++)this.chars.push(new DUe);this.logger=e}equals(e){for(let n=0;n<Zl;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<Zl;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<Zl;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Zl&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Zl)}moveCursor(e){const n=this.pos+e;if(e>1)for(let r=this.pos+1;r<n+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=aee(e);if(this.pos>=Zl){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<Zl;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let r=0;r<Zl;r++){const i=this.chars[r].uchar;i!==" "&&(n=!1),e.push(i)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class Ok{constructor(e){this.rows=[],this.currRow=Lo-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<Lo;n++)this.rows.push(new LUe(e));this.logger=e}reset(){for(let e=0;e<Lo;e++)this.rows[e].clear();this.currRow=Lo-1}equals(e){let n=!0;for(let r=0;r<Lo;r++)if(!this.rows[r].equals(e.rows[r])){n=!1;break}return n}copy(e){for(let n=0;n<Lo;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<Lo;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+li(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let u=0;u<Lo;u++)this.rows[u].clear();const o=this.currRow+1-this.nrRollUpRows,l=this.lastOutputScreen;if(l){const u=l.rows[o].cueStartTime,c=this.logger.time;if(u!==null&&c!==null&&u<c)for(let d=0;d<this.nrRollUpRows;d++)this.rows[n-this.nrRollUpRows+d+1].copy(l.rows[o+d])}}this.currRow=n;const r=this.rows[this.currRow];if(e.indent!==null){const o=e.indent,l=Math.max(o-1,0);r.setCursor(e.indent),e.color=r.chars[l].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+li(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let r="",i=-1;for(let o=0;o<Lo;o++){const l=this.rows[o].getTextString();l&&(i=o+1,e?n.push("Row "+i+": '"+l+"'"):n.push(l.trim()))}return n.length>0&&(e?r="["+n.join(" | ")+"]":r=n.join(`
`)),r}getTextAndFormat(){return this.rows}}class v9{constructor(e,n,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new Ok(r),this.nonDisplayedMemory=new Ok(r),this.lastOutputScreen=new Ok(r),this.currRollUpRow=this.displayedMemory.rows[Lo-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Lo-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=i[r]}this.logger.log(2,"MIDROW: "+li(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class E9{constructor(e,n,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=OUe(),this.logger=void 0;const i=this.logger=new CUe;this.channels=[null,new v9(e,n,i),new v9(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let r=0;r<n.length;r+=2){const i=n[r]&127,o=n[r+1]&127;let l=!1,u=null;if(i===0&&o===0)continue;this.logger.log(3,()=>"["+Gc([n[r],n[r+1]])+"] -> ("+Gc([i,o])+")");const c=this.cmdHistory;if(i>=16&&i<=31){if(PUe(i,o,c)){wv(null,null,c),this.logger.log(3,()=>"Repeated command ("+Gc([i,o])+") is dropped");continue}wv(i,o,this.cmdHistory),l=this.parseCmd(i,o),l||(l=this.parseMidrow(i,o)),l||(l=this.parsePAC(i,o)),l||(l=this.parseBackgroundAttributes(i,o))}else wv(null,null,c);if(!l&&(u=this.parseChars(i,o),u)){const h=this.currentChannel;h&&h>0?this.channels[h].insertChars(u):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!l&&!u&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Gc([i,o])+" orig: "+Gc([n[r],n[r+1]]))}}parseCmd(e,n){const r=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=33&&n<=35;if(!(r||i))return!1;const o=e===20||e===21||e===23?1:2,l=this.channels[o];return e===20||e===21||e===28||e===29?n===32?l.ccRCL():n===33?l.ccBS():n===34?l.ccAOF():n===35?l.ccAON():n===36?l.ccDER():n===37?l.ccRU(2):n===38?l.ccRU(3):n===39?l.ccRU(4):n===40?l.ccFON():n===41?l.ccRDC():n===42?l.ccTR():n===43?l.ccRTD():n===44?l.ccEDM():n===45?l.ccCR():n===46?l.ccENM():n===47&&l.ccEOC():l.ccTO(n-32),this.currentChannel=o,!0}parseMidrow(e,n){let r=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+Gc([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,o=(e===16||e===24)&&n>=64&&n<=95;if(!(i||o))return!1;const l=e<=23?1:2;n>=64&&n<=95?r=l===1?AUe[e]:xUe[e]:r=l===1?IUe[e]:RUe[e];const u=this.channels[l];return u?(u.setPAC(this.interpretPAC(r,n)),this.currentChannel=l,!0):!1}interpretPAC(e,n){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?r=n-96:r=n-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,n){let r,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),o>=17&&o<=19){let l;o===17?l=n+80:o===18?l=n+112:l=n+144,this.logger.log(2,()=>"Special char '"+aee(l)+"' in channel "+r),i=[l]}else e>=32&&e<=127&&(i=n===0?[e]:[e,n]);return i&&this.logger.log(3,()=>"Char codes =  "+Gc(i).join(",")),i}parseBackgroundAttributes(e,n){const r=(e===16||e===24)&&n>=32&&n<=47,i=(e===23||e===31)&&n>=45&&n<=47;if(!(r||i))return!1;let o;const l={};e===16||e===24?(o=Math.floor((n-32)/2),l.background=kUe[o],n%2===1&&(l.background=l.background+"_semi")):n===45?l.background="transparent":(l.foreground="black",n===47&&(l.underline=!0));const u=e<=23?1:2;return this.channels[u].setBkgData(l),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}wv(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const r=this.channels[n];r&&r.cueSplitAtTime(e)}}}function wv(t,e,n){n.a=t,n.b=e}function PUe(t,e,n){return n.a===t&&n.b===e}function OUe(){return{a:null,b:null}}var CN=(function(){if(V_!=null&&V_.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(u,c){if(typeof c!="string"||!Array.isArray(u))return!1;const d=c.toLowerCase();return~u.indexOf(d)?d:!1}function r(u){return n(t,u)}function i(u){return n(e,u)}function o(u,...c){let d=1;for(;d<arguments.length;d++){const h=arguments[d];for(const f in h)u[f]=h[f]}return u}function l(u,c,d){const h=this,f={enumerable:!0};h.hasBeenReset=!1;let p="",m=!1,g=u,y=c,b=d,v=null,_="",E=!0,T="auto",A="start",w=50,I="middle",C=50,j="middle";Object.defineProperty(h,"id",o({},f,{get:function(){return p},set:function(F){p=""+F}})),Object.defineProperty(h,"pauseOnExit",o({},f,{get:function(){return m},set:function(F){m=!!F}})),Object.defineProperty(h,"startTime",o({},f,{get:function(){return g},set:function(F){if(typeof F!="number")throw new TypeError("Start time must be set to a number.");g=F,this.hasBeenReset=!0}})),Object.defineProperty(h,"endTime",o({},f,{get:function(){return y},set:function(F){if(typeof F!="number")throw new TypeError("End time must be set to a number.");y=F,this.hasBeenReset=!0}})),Object.defineProperty(h,"text",o({},f,{get:function(){return b},set:function(F){b=""+F,this.hasBeenReset=!0}})),Object.defineProperty(h,"region",o({},f,{get:function(){return v},set:function(F){v=F,this.hasBeenReset=!0}})),Object.defineProperty(h,"vertical",o({},f,{get:function(){return _},set:function(F){const K=r(F);if(K===!1)throw new SyntaxError("An invalid or illegal string was specified.");_=K,this.hasBeenReset=!0}})),Object.defineProperty(h,"snapToLines",o({},f,{get:function(){return E},set:function(F){E=!!F,this.hasBeenReset=!0}})),Object.defineProperty(h,"line",o({},f,{get:function(){return T},set:function(F){if(typeof F!="number"&&F!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");T=F,this.hasBeenReset=!0}})),Object.defineProperty(h,"lineAlign",o({},f,{get:function(){return A},set:function(F){const K=i(F);if(!K)throw new SyntaxError("An invalid or illegal string was specified.");A=K,this.hasBeenReset=!0}})),Object.defineProperty(h,"position",o({},f,{get:function(){return w},set:function(F){if(F<0||F>100)throw new Error("Position must be between 0 and 100.");w=F,this.hasBeenReset=!0}})),Object.defineProperty(h,"positionAlign",o({},f,{get:function(){return I},set:function(F){const K=i(F);if(!K)throw new SyntaxError("An invalid or illegal string was specified.");I=K,this.hasBeenReset=!0}})),Object.defineProperty(h,"size",o({},f,{get:function(){return C},set:function(F){if(F<0||F>100)throw new Error("Size must be between 0 and 100.");C=F,this.hasBeenReset=!0}})),Object.defineProperty(h,"align",o({},f,{get:function(){return j},set:function(F){const K=i(F);if(!K)throw new SyntaxError("An invalid or illegal string was specified.");j=K,this.hasBeenReset=!0}})),h.displayState=void 0}return l.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},l})();class MUe{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function oee(t){function e(r,i,o,l){return(r|0)*3600+(i|0)*60+(o|0)+parseFloat(l||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class NUe{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,r){return r?this.has(e)?this.values[e]:n[r]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,r){for(let i=0;i<r.length;++i)if(n===r[i]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const r=parseFloat(n);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function lee(t,e,n,r){const i=r?t.split(r):[t];for(const o in i){if(typeof i[o]!="string")continue;const l=i[o].split(n);if(l.length!==2)continue;const u=l[0],c=l[1];e(u,c)}}const uL=new CN(0,0,""),Av=uL.align==="middle"?"middle":"center";function FUe(t,e,n){const r=t;function i(){const u=oee(t);if(u===null)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),u}function o(u,c){const d=new NUe;lee(u,function(p,m){let g;switch(p){case"region":for(let y=n.length-1;y>=0;y--)if(n[y].id===m){d.set(p,n[y].region);break}break;case"vertical":d.alt(p,m,["rl","lr"]);break;case"line":g=m.split(","),d.integer(p,g[0]),d.percent(p,g[0])&&d.set("snapToLines",!1),d.alt(p,g[0],["auto"]),g.length===2&&d.alt("lineAlign",g[1],["start",Av,"end"]);break;case"position":g=m.split(","),d.percent(p,g[0]),g.length===2&&d.alt("positionAlign",g[1],["start",Av,"end","line-left","line-right","auto"]);break;case"size":d.percent(p,m);break;case"align":d.alt(p,m,["start",Av,"end","left","right"]);break}},/:/,/\s/),c.region=d.get("region",null),c.vertical=d.get("vertical","");let h=d.get("line","auto");h==="auto"&&uL.line===-1&&(h=-1),c.line=h,c.lineAlign=d.get("lineAlign","start"),c.snapToLines=d.get("snapToLines",!0),c.size=d.get("size",100),c.align=d.get("align",Av);let f=d.get("position","auto");f==="auto"&&uL.position===50&&(f=c.align==="start"||c.align==="left"?0:c.align==="end"||c.align==="right"?100:50),c.position=f}function l(){t=t.replace(/^\s+/,"")}if(l(),e.startTime=i(),l(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.slice(3),l(),e.endTime=i(),l(),o(t,e)}function uee(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class UUe{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new MUe,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function r(){let o=n.buffer,l=0;for(o=uee(o);l<o.length&&o[l]!=="\r"&&o[l]!==`
`;)++l;const u=o.slice(0,l);return o[l]==="\r"&&++l,o[l]===`
`&&++l,n.buffer=o.slice(l),u}function i(o){lee(o,function(l,u){},/:/)}try{let o="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;o=r();const u=o.match(/^()?WEBVTT([ \t].*)?$/);if(!(u!=null&&u[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let l=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(l?l=!1:o=r(),n.state){case"HEADER":/:/.test(o)?i(o):o||(n.state="ID");continue;case"NOTE":o||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){n.state="NOTE";break}if(!o)continue;if(n.cue=new CN(0,0,""),n.state="CUE",o.indexOf("-->")===-1){n.cue.id=o;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{FUe(o,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const u=o.indexOf("-->")!==-1;if(!o||u&&(l=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=o}continue;case"BADCUE":o||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const BUe=/\r\n|\n\r|\n|\r/g,Mk=function(e,n,r=0){return e.slice(r,r+n.length)===n},zUe=function(e){let n=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),o=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!An(n)||!An(r)||!An(i)||!An(o))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*r,n+=60*1e3*i,n+=3600*1e3*o,n};function DN(t,e,n){return Bg(t.toString())+Bg(e.toString())+Bg(n)}const $Ue=function(e,n,r){let i=e[n],o=e[i.prevCC];if(!o||!o.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(l=o)!=null&&l.new;){var l;e.ccOffset+=i.start-o.start,i.new=!1,i=o,o=e[i.prevCC]}e.presentationOffset=r};function qUe(t,e,n,r,i,o,l){const u=new UUe,c=Cs(new Uint8Array(t)).trim().replace(BUe,`
`).split(`
`),d=[],h=e?W2e(e.baseTime,e.timescale):0;let f="00:00.000",p=0,m=0,g,y=!0;u.oncue=function(b){const v=n[r];let _=n.ccOffset;const E=(p-h)/9e4;if(v!=null&&v.new&&(m!==void 0?_=n.ccOffset=v.start:$Ue(n,r,E)),E){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}_=E-n.presentationOffset}const T=b.endTime-b.startTime,A=_s((b.startTime+_-m)*9e4,i*9e4)/9e4;b.startTime=Math.max(A,0),b.endTime=Math.max(A+T,0);const w=b.text.trim();b.text=decodeURIComponent(encodeURIComponent(w)),b.id||(b.id=DN(b.startTime,b.endTime,w)),b.endTime>0&&d.push(b)},u.onparsingerror=function(b){g=b},u.onflush=function(){if(g){l(g);return}o(d)},c.forEach(b=>{if(y)if(Mk(b,"X-TIMESTAMP-MAP=")){y=!1,b.slice(16).split(",").forEach(v=>{Mk(v,"LOCAL:")?f=v.slice(6):Mk(v,"MPEGTS:")&&(p=parseInt(v.slice(7)))});try{m=zUe(f)/1e3}catch(v){g=v}return}else b===""&&(y=!1);u.parse(b+`
`)}),u.flush()}const Nk="stpp.ttml.im1t",cee=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,dee=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,jUe={left:"start",center:"center",right:"end",start:"start",end:"end"};function _9(t,e,n,r){const i=_r(new Uint8Array(t),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const o=i.map(u=>Cs(u)),l=K2e(e.baseTime,1,e.timescale);try{o.forEach(u=>n(HUe(u,l)))}catch(u){r(u)}}function HUe(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const o={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},l=Object.keys(o).reduce((f,p)=>(f[p]=i.getAttribute(`ttp:${p}`)||o[p],f),{}),u=i.getAttribute("xml:space")!=="preserve",c=T9(Fk(i,"styling","style")),d=T9(Fk(i,"layout","region")),h=Fk(i,"body","[begin]");return[].map.call(h,f=>{const p=fee(f,u);if(!p||!f.hasAttribute("begin"))return null;const m=Bk(f.getAttribute("begin"),l),g=Bk(f.getAttribute("dur"),l);let y=Bk(f.getAttribute("end"),l);if(m===null)throw S9(f);if(y===null){if(g===null)throw S9(f);y=m+g}const b=new CN(m-e,y-e,p);b.id=DN(b.startTime,b.endTime,b.text);const v=d[f.getAttribute("region")],_=c[f.getAttribute("style")],E=GUe(v,_,c),{textAlign:T}=E;if(T){const A=jUe[T];A&&(b.lineAlign=A),b.align=T}return ri(b,E),b}).filter(f=>f!==null)}function Fk(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function T9(t){return t.reduce((e,n)=>{const r=n.getAttribute("xml:id");return r&&(e[r]=n),e},{})}function fee(t,e){return[].slice.call(t.childNodes).reduce((n,r,i)=>{var o;return r.nodeName==="br"&&i?n+`
`:(o=r.childNodes)!=null&&o.length?fee(r,e):e?n+r.textContent.trim().replace(/\s+/g," "):n+r.textContent},"")}function GUe(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],l=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return l&&n.hasOwnProperty(l)&&(i=n[l]),o.reduce((u,c)=>{const d=Uk(e,r,c)||Uk(t,r,c)||Uk(i,r,c);return d&&(u[c]=d),u},{})}function Uk(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function S9(t){return new Error(`Could not parse ttml timestamp ${t}`)}function Bk(t,e){if(!t)return null;let n=oee(t);return n===null&&(cee.test(t)?n=VUe(t,e):dee.test(t)&&(n=KUe(t,e))),n}function VUe(t,e){const n=cee.exec(t),r=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+r/e.frameRate}function KUe(t,e){const n=dee.exec(t),r=Number(n[1]);switch(n[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class Iv{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class WUe{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=A9(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(be.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(be.FRAG_LOADING,this.onFragLoading,this),e.on(be.FRAG_LOADED,this.onFragLoaded,this),e.on(be.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(be.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(be.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(be.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(be.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(be.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(be.FRAG_LOADING,this.onFragLoading,this),e.off(be.FRAG_LOADED,this.onFragLoaded,this),e.off(be.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(be.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(be.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(be.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(be.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Iv(this,"textTrack1"),n=new Iv(this,"textTrack2"),r=new Iv(this,"textTrack3"),i=new Iv(this,"textTrack4");this.cea608Parser1=new E9(1,e,n),this.cea608Parser2=new E9(3,r,i)}addCues(e,n,r,i,o){let l=!1;for(let u=o.length;u--;){const c=o[u],d=YUe(c[0],c[1],n,r);if(d>=0&&(c[0]=Math.min(c[0],n),c[1]=Math.max(c[1],r),l=!0,d/(r-n)>.5))return}if(l||o.push([n,r]),this.config.renderTextTracksNatively){const u=this.captionsTracks[e];this.Cues.newCue(u,n,r,i)}else{const u=this.Cues.newCue(null,n,r,i);this.hls.trigger(be.CUES_PARSED,{type:"captions",cues:u,track:e})}}onInitPtsFound(e,{frag:n,id:r,initPTS:i,timescale:o,trackId:l}){const{unparsedVttFrags:u}=this;r===Pn.MAIN&&(this.initPTS[n.cc]={baseTime:i,timescale:o,trackId:l}),u.length&&(this.unparsedVttFrags=[],u.forEach(c=>{this.initPTS[c.frag.cc]?this.onFragLoaded(be.FRAG_LOADED,c):this.hls.trigger(be.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:c.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,n){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const o=r.textTracks[i];if(w9(o,{name:e,lang:n,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return o}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:r,media:i}=this,{label:o,languageCode:l}=n[e],u=this.getExistingTrack(o,l);if(u)r[e]=u,Nh(r[e]),nee(r[e],i);else{const c=this.createTextTrack("captions",o,l);c&&(c[e]=!0,r[e]=c)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const r=n.label,i={_id:e,label:r,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(be.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,n,r){const i=this.media;if(i)return i.addTextTrack(e,n,r)}onMediaAttaching(e,n){this.media=n.media,n.mediaSource||this._cleanTracks()}onMediaDetaching(e,n){const r=!!n.transferMedia;if(this.media=null,r)return;const{captionsTracks:i}=this;Object.keys(i).forEach(o=>{Nh(i[o]),delete i[o]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=A9(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let r=0;r<n.length;r++)Nh(n[r])}onSubtitleTracksUpdated(e,n){const r=n.subtitleTracks||[],i=r.some(o=>o.textCodec===Nk);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(jJ(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const l=this.media,u=l?u0(l.textTracks):null;if(this.tracks.forEach((c,d)=>{let h;if(u){let f=null;for(let p=0;p<u.length;p++)if(u[p]&&w9(u[p],c)){f=u[p],u[p]=null;break}f&&(h=f)}if(h)Nh(h);else{const f=hee(c);h=this.createTextTrack(f,c.name,c.lang),h&&(h.mode="disabled")}h&&this.textTracks.push(h)}),u!=null&&u.length){const c=u.filter(d=>d!==null).map(d=>d.label);c.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${c.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const l=this.tracks.map(u=>({label:u.name,kind:u.type.toLowerCase(),default:u.default,subtitleTrack:u}));this.hls.trigger(be.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:l})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const o=`textTrack${i[1]}`,l=this.captionsProperties[o];l&&(l.label=r.name,r.lang&&(l.languageCode=r.lang),l.media=r)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===Pn.MAIN){var r,i;const{cea608Parser1:o,cea608Parser2:l,lastSn:u}=this,{cc:c,sn:d}=n.frag,h=(r=(i=n.part)==null?void 0:i.index)!=null?r:-1;o&&l&&(d!==u+1||d===u&&h!==this.lastPartIndex+1||c!==this.lastCc)&&(o.reset(),l.reset()),this.lastCc=c,this.lastSn=d,this.lastPartIndex=h}}onFragLoaded(e,n){const{frag:r,payload:i}=n;if(r.type===Pn.SUBTITLE)if(i.byteLength){const o=r.decryptdata,l="stats"in n;if(o==null||!o.encrypted||l){const u=this.tracks[r.level],c=this.vttCCs;c[r.cc]||(c[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),u&&u.textCodec===Nk?this._parseIMSC1(r,i):this._parseVTTs(n)}}else this.hls.trigger(be.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const r=this.hls;_9(n,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(be.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{r.logger.log(`Failed to parse IMSC1: ${i}`),r.trigger(be.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var n;const{frag:r,payload:i}=e,{initPTS:o,unparsedVttFrags:l}=this,u=o.length-1;if(!o[r.cc]&&u===-1){l.push(e);return}const c=this.hls,d=(n=r.initSegment)!=null&&n.data?lo(r.initSegment.data,new Uint8Array(i)).buffer:i;qUe(d,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,h=>{this._appendCues(h,r.level),c.trigger(be.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},h=>{const f=h.message==="Missing initPTS for VTT MPEGTS";f?l.push(e):this._fallbackToIMSC1(r,i),c.logger.log(`Failed to parse VTT cue: ${h}`),!(f&&u>r.cc)&&c.trigger(be.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:h})})}_fallbackToIMSC1(e,n){const r=this.tracks[e.level];r.textCodec||_9(n,this.initPTS[e.cc],()=>{r.textCodec=Nk,this._parseIMSC1(e,n)},()=>{r.textCodec="wvtt"})}_appendCues(e,n){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[n];if(!i||i.mode==="disabled")return;e.forEach(o=>ree(i,o))}else{const i=this.tracks[n];if(!i)return;const o=i.default?"default":"subtitles"+n;r.trigger(be.CUES_PARSED,{type:"subtitles",cues:e,track:o})}}onFragDecrypted(e,n){const{frag:r}=n;r.type===Pn.SUBTITLE&&this.onFragLoaded(be.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:r,samples:i}=n;if(!(r.type===Pn.MAIN&&this.closedCaptionsForLevel(r)==="NONE"))for(let o=0;o<i.length;o++){const l=i[o].bytes;if(l){this.cea608Parser1||this.initCea608Parsers();const u=this.extractCea608Data(l);this.cea608Parser1.addData(i[o].pts,u[0]),this.cea608Parser2.addData(i[o].pts,u[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:r,endOffsetSubtitles:i,type:o}){const{media:l}=this;if(!(!l||l.currentTime<r)){if(!o||o==="video"){const{captionsTracks:u}=this;Object.keys(u).forEach(c=>lL(u[c],n,r))}if(this.config.renderTextTracksNatively&&n===0&&i!==void 0){const{textTracks:u}=this;Object.keys(u).forEach(c=>lL(u[c],n,i))}}}extractCea608Data(e){const n=[[],[]],r=e[0]&31;let i=2;for(let o=0;o<r;o++){const l=e[i++],u=127&e[i++],c=127&e[i++];if(u===0&&c===0)continue;if((4&l)!==0){const h=3&l;(h===0||h===1)&&(n[h].push(u),n[h].push(c))}}return n}}function hee(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function w9(t,e){return!!t&&t.kind===hee(e)&&iL(e,t)}function YUe(t,e,n,r){return Math.min(e,r)-Math.max(t,n)}function A9(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const XUe=/\s/,QUe={newCue(t,e,n,r){const i=[];let o,l,u,c,d;const h=self.VTTCue||self.TextTrackCue;for(let p=0;p<r.rows.length;p++)if(o=r.rows[p],u=!0,c=0,d="",!o.isEmpty()){var f;for(let y=0;y<o.chars.length;y++)XUe.test(o.chars[y].uchar)&&u?c++:(d+=o.chars[y].uchar,u=!1);o.cueStartTime=e,e===n&&(n+=1e-4),c>=16?c--:c++;const m=uee(d.trim()),g=DN(e,n,m);t!=null&&(f=t.cues)!=null&&f.getCueById(g)||(l=new h(e,n,m),l.id=g,l.line=p+1,l.align="left",l.position=10+Math.min(80,Math.floor(c*8/32)*10),i.push(l))}return t&&i.length&&(i.sort((p,m)=>p.line==="auto"||m.line==="auto"?0:p.line>8&&m.line>8?m.line-p.line:p.line-m.line),i.forEach(p=>ree(t,p))),i}};function ZUe(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const JUe=/(\d+)-(\d+)\/(\d+)/;class I9{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||r3e,this.controller=new self.AbortController,this.stats=new uN}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const o=e3e(e,this.controller.signal),l=e.responseType==="arraybuffer",u=l?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:d}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=r,this.request=this.fetchSetup(e,o),self.clearTimeout(this.requestTimeout),n.timeout=c&&An(c)?c:d,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},n.timeout),(xy(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(f=>{var p;this.response=this.loader=f;const m=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=d,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},d-(m-i.loading.start)),!f.ok){const{status:y,statusText:b}=f;throw new i3e(b||"fetch, bad network response",y,f)}i.loading.first=m,i.total=n3e(f.headers)||i.total;const g=(p=this.callbacks)==null?void 0:p.onProgress;return g&&An(n.highWaterMark)?this.loadProgressively(f,i,e,n.highWaterMark,g):l?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{var p,m;const g=this.response;if(!g)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const y=f[u];y&&(i.loaded=i.total=y);const b={url:g.url,data:f,code:g.status},v=(p=this.callbacks)==null?void 0:p.onProgress;v&&!An(n.highWaterMark)&&v(i,e,f,g),(m=this.callbacks)==null||m.onSuccess(b,i,e,g)}).catch(f=>{var p;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const m=f&&f.code||0,g=f?f.message:null;(p=this.callbacks)==null||p.onError({code:m,text:g},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,r,i=0,o){const l=new SJ,u=e.body.getReader(),c=()=>u.read().then(d=>{if(d.done)return l.dataLength&&o(n,r,l.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const h=d.value,f=h.length;return n.loaded+=f,f<i||l.dataLength?(l.push(h),l.dataLength>=i&&o(n,r,l.flush().buffer,e)):o(n,r,h.buffer,e),c()}).catch(()=>Promise.reject());return c()}}function e3e(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(ri({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function t3e(t){const e=JUe.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function n3e(t){const e=t.get("Content-Range");if(e){const r=t3e(e);if(An(r))return r}const n=t.get("Content-Length");if(n)return parseInt(n)}function r3e(t,e){return new self.Request(t.url,e)}class i3e extends Error{constructor(e,n,r){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=r}}const a3e=/^age:\s*[\d.]+\s*$/im;class pee{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new uN,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const o=this.xhrSetup;o?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return o(r,n.url)}).catch(l=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",n.url,!0),o(r,n.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,n,e)}).catch(l=>{var u;(u=this.callbacks)==null||u.onError({code:r.status,text:l.message},n,r,i)}):this.openAndSendXhr(r,n,e)}openAndSendXhr(e,n,r){e.readyState||e.open("GET",n.url,!0);const i=n.headers,{maxTimeToFirstByteMs:o,maxLoadTimeMs:l}=r.loadPolicy;if(i)for(const u in i)e.setRequestHeader(u,i[u]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),r.timeout=o&&An(o)?o:l,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:r}=this;if(!e||!n)return;const i=n.readyState,o=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),o.timeout!==o.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),o.timeout=o.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const d=n.status,h=n.responseType==="text"?n.responseText:null;if(d>=200&&d<300){const g=h??n.response;if(g!=null){var l,u;r.loading.end=Math.max(self.performance.now(),r.loading.first);const y=n.responseType==="arraybuffer"?g.byteLength:g.length;r.loaded=r.total=y,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first);const b=(l=this.callbacks)==null?void 0:l.onProgress;b&&b(r,e,g,n);const v={url:n.responseURL,data:g,code:d};(u=this.callbacks)==null||u.onSuccess(v,r,e,n);return}}const f=o.loadPolicy.errorRetry,p=r.retry,m={url:e.url,data:void 0,code:d};if(H_(f,p,!1,m))this.retry(f);else{var c;Xr.error(`${d} while loading ${e.url}`),(c=this.callbacks)==null||c.onError({code:d,text:n.statusText},e,n,r)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(H_(e,n,!0))this.retry(e);else{var r;Xr.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:r}=this;this.retryDelay=hN(e,r.retry),r.retry++,Xr.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n?.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&a3e.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const s3e={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},o3e=Yr(Yr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:pee,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:vNe,bufferController:uFe,capLevelController:xN,errorController:wNe,fpsController:cUe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:fJ,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:s3e},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},l3e()),{},{subtitleStreamController:TUe,subtitleTrackController:hUe,timelineController:WUe,audioStreamController:aFe,audioTrackController:sFe,emeController:Wh,cmcdController:sUe,contentSteeringController:lUe,interstitialsController:_Ue});function l3e(){return{cueHandler:QUe,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function u3e(t,e,n){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=cL(t),i=["manifest","level","frag"],o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(l=>{const u=`${l==="level"?"playlist":l}LoadPolicy`,c=e[u]===void 0,d=[];o.forEach(h=>{const f=`${l}Loading${h}`,p=e[f];if(p!==void 0&&c){d.push(f);const m=r[u].default;switch(e[u]={default:m},h){case"TimeOut":m.maxLoadTimeMs=p,m.maxTimeToFirstByteMs=p;break;case"MaxRetry":m.errorRetry.maxNumRetry=p,m.timeoutRetry.maxNumRetry=p;break;case"RetryDelay":m.errorRetry.retryDelayMs=p,m.timeoutRetry.retryDelayMs=p;break;case"MaxRetryTimeout":m.errorRetry.maxRetryDelayMs=p,m.timeoutRetry.maxRetryDelayMs=p;break}}}),d.length&&n.warn(`hls.js config: "${d.join('", "')}" setting(s) are deprecated, use "${u}": ${li(e[u])}`)}),Yr(Yr({},r),e)}function cL(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(cL):Object.keys(t).reduce((e,n)=>(e[n]=cL(t[n]),e),{}):t}function c3e(t,e){const n=t.loader;n!==I9&&n!==pee?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):ZUe()&&(t.loader=I9,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const c0=2,d3e=.1,f3e=.05,h3e=100;class p3e extends oJ{constructor(e,n){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var r;(r=this.media)!=null&&r.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var r;this.ended=((r=this.media)==null?void 0:r.currentTime)||1,this.hls.trigger(be.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=n,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(be.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(be.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,n){this.setInterval(h3e),this.mediaSource=n.mediaSource;const r=this.media=n.media;Ga(r,"playing",this.onMediaPlaying),Ga(r,"waiting",this.onMediaWaiting),Ga(r,"ended",this.onMediaEnded)}onMediaDetaching(e,n){this.clearInterval();const{media:r}=this;r&&(as(r,"playing",this.onMediaPlaying),as(r,"waiting",this.onMediaWaiting),as(r,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,n){this.buffered=n.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const n=this.media.currentTime;this.poll(n,this.lastCurrentTime),this.lastCurrentTime=n}poll(e,n){var r,i;const o=(r=this.hls)==null?void 0:r.config;if(!o)return;const l=this.media;if(!l)return;const{seeking:u}=l,c=this.seeking&&!u,d=!this.seeking&&u,h=l.paused&&!u||l.ended||l.playbackRate===0;if(this.seeking=u,e!==n){n&&(this.ended=0),this.moved=!0,u||(this.nudgeRetry=0,o.nudgeOnVideoHole&&!h&&e>n&&this.nudgeOnVideoHole(e,n)),this.waiting===0&&this.stallResolved(e);return}if(d||c){c&&this.stallResolved(e);return}if(h){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&l.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(be.MEDIA_ENDED,{stalled:!1}));return}if(!fr.getBuffered(l).length){this.nudgeRetry=0;return}const f=fr.bufferInfo(l,e,0),p=f.nextStart||0,m=this.fragmentTracker;if(u&&m&&this.hls){const w=x9(this.hls.inFlightFragments,e),I=f.len>c0,C=!p||w||p-e>c0&&!m.getPartialFragment(e);if(I||C)return;this.moved=!1}const g=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&m){if(!(f.len>0)&&!p)return;const I=Math.max(p,f.start||0)-e,j=!!(g!=null&&g.live)?g.targetduration*2:c0,F=xv(e,m);if(I>0&&(I<=j||F)){l.paused||this._trySkipBufferHole(F);return}}const y=o.detectStallWithCurrentTimeMs,b=self.performance.now(),v=this.waiting;let _=this.stalled;if(_===null)if(v>0&&b-v<y)_=this.stalled=v;else{this.stalled=b;return}const E=b-_;if(!u&&(E>=y||v)&&this.hls){var T;if(((T=this.mediaSource)==null?void 0:T.readyState)==="ended"&&!(g!=null&&g.live)&&Math.abs(e-(g?.edge||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(be.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(f),!this.media||!this.hls)return}const A=fr.bufferInfo(l,e,o.maxBufferHole);this._tryFixBufferStall(A,E,e)}stallResolved(e){const n=this.stalled;if(n&&this.hls&&(this.stalled=null,this.stallReported)){const r=self.performance.now()-n;this.log(`playback not stuck anymore @${e}, after ${Math.round(r)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(be.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,n){var r;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(r=this.buffered.audio)!=null&&r.length&&i&&i.length>1&&e>i.end(0)){const o=fr.bufferedInfo(fr.timeRangesToArray(this.buffered.audio),e,0);if(o.len>1&&n>=o.start){const l=fr.timeRangesToArray(i),u=fr.bufferedInfo(l,n,0).bufferedIndex;if(u>-1&&u<l.length-1){const c=fr.bufferedInfo(l,e,0).bufferedIndex,d=l[u].end,h=l[u+1].start;if((c===-1||c>u)&&h-d<1&&e-d<2){const f=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${d} -> ${h} buffered index: ${c}`);this.warn(f.message),this.media.currentTime+=1e-6;let p=xv(e,this.fragmentTracker);p&&"fragment"in p?p=p.fragment:p||(p=void 0);const m=fr.bufferInfo(this.media,e,0);this.hls.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:p,buffer:m.len,bufferInfo:m})}}}}}_tryFixBufferStall(e,n,r){var i,o;const{fragmentTracker:l,media:u}=this,c=(i=this.hls)==null?void 0:i.config;if(!u||!l||!c)return;const d=(o=this.hls)==null?void 0:o.latestLevelDetails,h=xv(r,l);if((h||d!=null&&d.live&&r<d.fragmentStart)&&(this._trySkipBufferHole(h)||!this.media))return;const f=e.buffered,p=this.adjacentTraversal(e,r);(f&&f.length>1&&e.len>c.maxBufferHole||e.nextStart&&(e.nextStart-r<c.maxBufferHole||p))&&(n>c.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,n){const r=this.fragmentTracker,i=e.nextStart;if(r&&i){const o=r.getFragAtPos(n,Pn.MAIN),l=r.getFragAtPos(i,Pn.MAIN);if(o&&l)return l.sn-o.sn<2}return!1}_reportStall(e){const{hls:n,media:r,stallReported:i,stalled:o}=this;if(!i&&o!==null&&r&&n){this.stallReported=!0;const l=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${li(e)})`);this.warn(l.message),n.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.BUFFER_STALLED_ERROR,fatal:!1,error:l,buffer:e.len,bufferInfo:e,stalled:{start:o}})}}_trySkipBufferHole(e){var n;const{fragmentTracker:r,media:i}=this,o=(n=this.hls)==null?void 0:n.config;if(!i||!r||!o)return 0;const l=i.currentTime,u=fr.bufferInfo(i,l,0),c=l<u.start?u.start:u.nextStart;if(c&&this.hls){const h=u.len<=o.maxBufferHole,f=u.len>0&&u.len<1&&i.readyState<3,p=c-l;if(p>0&&(h||f)){if(p>o.maxBufferHole){let g=!1;if(l===0){const y=r.getAppendedFrag(0,Pn.MAIN);y&&c<y.end&&(g=!0)}if(!g&&e){var d;if(!((d=this.hls.loadLevelObj)!=null&&d.details)||x9(this.hls.inFlightFragments,c))return 0;let b=!1,v=e.end;for(;v<c;){const _=xv(v,r);if(_)v+=_.duration;else{b=!0;break}}if(b)return 0}}const m=Math.max(c+f3e,l+d3e);if(this.warn(`skipping hole, adjusting currentTime from ${l} to ${m}`),this.moved=!0,i.currentTime=m,!(e!=null&&e.gap)){const g=new Error(`fragment loaded with buffer holes, seeking from ${l} to ${m}`),y={type:Kn.MEDIA_ERROR,details:Et.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:g,reason:g.message,buffer:u.len,bufferInfo:u};e&&("fragment"in e?y.part=e:y.frag=e),this.hls.trigger(be.ERROR,y)}return m}}return 0}_tryNudgeBuffer(e){const{hls:n,media:r,nudgeRetry:i}=this,o=n?.config;if(!r||!o)return 0;const l=r.currentTime;if(this.nudgeRetry++,i<o.nudgeMaxRetry){const u=l+(i+1)*o.nudgeOffset,c=new Error(`Nudging 'currentTime' from ${l} to ${u}`);this.warn(c.message),r.currentTime=u,n.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.BUFFER_NUDGE_ON_STALL,error:c,fatal:!1,buffer:e.len,bufferInfo:e})}else{const u=new Error(`Playhead still not moving while enough data buffered @${l} after ${o.nudgeMaxRetry} nudges`);this.error(u.message),n.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.BUFFER_STALLED_ERROR,error:u,fatal:!0,buffer:e.len,bufferInfo:e})}}}function x9(t,e){const n=R9(t.main);if(n&&n.start<=e)return n;const r=R9(t.audio);return r&&r.start<=e?r:null}function R9(t){if(!t)return null;switch(t.state){case Xt.IDLE:case Xt.STOPPED:case Xt.ENDED:case Xt.ERROR:return null}return t.frag}function xv(t,e){return e.getAppendedFrag(t,Pn.MAIN)||e.getPartialFragment(t)}const m3e=.25;function dL(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function zk(t,e,n,r,i){let o=new t(e,n,"");try{o.value=r,i&&(o.type=i)}catch{o=new t(e,n,li(i?Yr({type:i},r):r))}return o}const Rv=(()=>{const t=dL();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class g3e{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(be.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(be.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(be.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(be.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(be.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(be.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(be.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(be.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,n){var r;this.media=n.media,((r=n.overrides)==null?void 0:r.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const n=(e=this.hls)==null?void 0:e.latestLevelDetails;n&&this.updateDateRangeCues(n)}onMediaDetaching(e,n){this.media=null,!n.transferMedia&&(this.id3Track&&(this.removeCues&&Nh(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const r=e[n];if(r.kind==="metadata"&&r.label==="id3")return nee(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:r,enableID3MetadataCues:i}=this.hls.config;if(!r&&!i)return;const{samples:o}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=dL();if(l)for(let u=0;u<o.length;u++){const c=o[u].type;if(c===Ss.emsg&&!r||!i)continue;const d=CJ(o[u].data),h=o[u].pts;let f=h+o[u].duration;f>Rv&&(f=Rv),f-h<=0&&(f=h+m3e);for(let m=0;m<d.length;m++){const g=d[m];if(!DJ(g)){this.updateId3CueEnds(h,c);const y=zk(l,h,f,g,c);y&&this.id3Track.addCue(y)}}}}updateId3CueEnds(e,n){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let o=i.length;o--;){const l=i[o];l.type===n&&l.startTime<e&&l.endTime===Rv&&(l.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:r,type:i}){const{id3Track:o,hls:l}=this;if(!l)return;const{config:{enableEmsgMetadataCues:u,enableID3MetadataCues:c}}=l;if(o&&(u||c)){let d;i==="audio"?d=h=>h.type===Ss.audioId3&&c:i==="video"?d=h=>h.type===Ss.emsg&&u:d=h=>h.type===Ss.audioId3&&c||h.type===Ss.emsg&&u,lL(o,n,r,d)}}onLevelUpdated(e,{details:n}){this.updateDateRangeCues(n,!0)}onLevelPtsUpdated(e,n){Math.abs(n.drift)>.01&&this.updateDateRangeCues(n.details)}updateDateRangeCues(e,n){if(!this.hls||!this.media)return;const{assetPlayerId:r,timelineOffset:i,enableDateRangeMetadataCues:o,interstitialsController:l}=this.hls.config;if(!o)return;const u=dL();if(r&&i&&!l){const{fragmentStart:y,fragmentEnd:b}=e;let v=this.assetCue;v?(v.startTime=y,v.endTime=b):u&&(v=this.assetCue=zk(u,y,b,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),v&&(v.id=r,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(v),v.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:c}=this,{dateRanges:d}=e,h=Object.keys(d);let f=this.dateRangeCuesAppended;if(c&&n){var p;if((p=c.cues)!=null&&p.length){const y=Object.keys(f).filter(b=>!h.includes(b));for(let b=y.length;b--;){var m;const v=y[b],_=(m=f[v])==null?void 0:m.cues;delete f[v],_&&Object.keys(_).forEach(E=>{const T=_[E];if(T){T.removeEventListener("enter",this.onEventCueEnter);try{c.removeCue(T)}catch{}}})}}else f=this.dateRangeCuesAppended={}}const g=e.fragments[e.fragments.length-1];if(!(h.length===0||!An(g?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let y=0;y<h.length;y++){const b=h[y],v=d[b],_=v.startTime,E=f[b],T=E?.cues||{};let A=E?.durationKnown||!1,w=Rv;const{duration:I,endDate:C}=v;if(C&&I!==null)w=_+I,A=!0;else if(v.endOnNext&&!A){const F=h.reduce((K,he)=>{if(he!==v.id){const q=d[he];if(q.class===v.class&&q.startDate>v.startDate&&(!K||v.startDate<K.startDate))return q}return K},null);F&&(w=F.startTime,A=!0)}const j=Object.keys(v.attr);for(let F=0;F<j.length;F++){const K=j[F];if(!FNe(K))continue;const he=T[K];if(he)A&&!(E!=null&&E.durationKnown)?he.endTime=w:Math.abs(he.startTime-_)>.01&&(he.startTime=_,he.endTime=w);else if(u){let q=v.attr[K];UNe(K)&&(q=$Z(q));const Te=zk(u,_,w,{key:K,data:q},Ss.dateRange);Te&&(Te.id=b,this.id3Track.addCue(Te),T[K]=Te,l&&(K==="X-ASSET-LIST"||K==="X-ASSET-URL")&&Te.addEventListener("enter",this.onEventCueEnter))}}f[b]={cues:T,dateRange:v,durationKnown:A}}}}}class y3e{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:n}=this,r=this.levelDetails;if(!n||!r)return;this.currentTime=n.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:l}=this.config;if(!o||l===1||!r.live)return;const u=this.targetLatency;if(u===null)return;const c=i-u,d=Math.min(this.maxLatency,u+r.targetduration);if(c<d&&c>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,l)),p=Math.round(2/(1+Math.exp(-.75*c-this.edgeStalled))*20)/20,m=Math.min(f,Math.max(1,p));this.changeMediaPlaybackRate(n,m)}else n.playbackRate!==1&&n.playbackRate!==0&&this.changeMediaPlaybackRate(n,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const n=this.levelDetails;return n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:n,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:o,liveSyncDurationCount:l,lowLatencyMode:u}=this.config,c=this.hls.userConfig;let d=u&&r||n;(this._targetLatencyUpdated||c.liveSyncDuration||c.liveSyncDurationCount||d===0)&&(d=o!==void 0?o:l*i);const h=i;return d+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,h)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency;if(e===null||n===null)return null;const r=this.levelDetails;if(r===null)return null;const i=r.edge,o=e-n-this.edgeStalled,l=i-r.totalduration,u=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(l,o),u)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e}=this,n=this.levelDetails;if(!e||!n)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(be.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(be.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(be.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(be.ERROR,this.onError,this))}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){n.advanced&&this.onTimeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,n){var r;n.details===Et.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(r=this.levelDetails)!=null&&r.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,n){var r,i;e.playbackRate!==n&&((r=this.hls)==null||r.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${n}`),e.playbackRate=n)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class b3e extends IN{constructor(e,n){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(be.LEVEL_LOADED,this.onLevelLoaded,this),e.on(be.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(be.FRAG_BUFFERED,this.onFragBuffered,this),e.on(be.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(be.LEVEL_LOADED,this.onLevelLoaded,this),e.off(be.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(be.FRAG_BUFFERED,this.onFragBuffered,this),e.off(be.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const r=this.hls.config.preferManagedMediaSource,i=[],o={},l={};let u=!1,c=!1,d=!1;n.levels.forEach(h=>{const f=h.attrs;let{audioCodec:p,videoCodec:m}=h;p&&(h.audioCodec=p=z_(p,r)||void 0),m&&(m=h.videoCodec=eNe(m));const{width:g,height:y,unknownCodecs:b}=h,v=b?.length||0;if(u||(u=!!(g&&y)),c||(c=!!m),d||(d=!!p),v||p&&!this.isAudioSupported(p)||m&&!this.isVideoSupported(m)){this.log(`Some or all CODECS not supported "${f.CODECS}"`);return}const{CODECS:_,"FRAME-RATE":E,"HDCP-LEVEL":T,"PATHWAY-ID":A,RESOLUTION:w,"VIDEO-RANGE":I}=f,j=`${`${A||"."}-`}${h.bitrate}-${w}-${E}-${_}-${I}-${T}`;if(o[j])if(o[j].uri!==h.url&&!h.attrs["PATHWAY-ID"]){const F=l[j]+=1;h.attrs["PATHWAY-ID"]=new Array(F+1).join(".");const K=this.createLevel(h);o[j]=K,i.push(K)}else o[j].addGroupId("audio",f.AUDIO),o[j].addGroupId("text",f.SUBTITLES);else{const F=this.createLevel(h);o[j]=F,l[j]=1,i.push(F)}}),this.filterAndSortMediaOptions(i,n,u,c,d)}createLevel(e){const n=new wy(e),r=e.supplemental;if(r!=null&&r.videoCodec&&!this.isVideoSupported(r.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${r.videoCodec}"`);this.log(i.message),n.supportedResult=JZ(i,[])}return n}isAudioSupported(e){return Ty(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return Ty(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,n,r,i,o){var l;let u=[],c=[],d=e;const h=((l=n.stats)==null?void 0:l.parsing)||{};if((r||i)&&o&&(d=d.filter(({videoCodec:_,videoRange:E,width:T,height:A})=>(!!_||!!(T&&A))&&cNe(E))),d.length===0){Promise.resolve().then(()=>{if(this.hls){let _="no level with compatible codecs found in manifest",E=_;n.levels.length&&(E=`one or more CODECS in variant not supported: ${li(n.levels.map(A=>A.attrs.CODECS).filter((A,w,I)=>I.indexOf(A)===w))}`,this.warn(E),_+=` (${E})`);const T=new Error(_);this.hls.trigger(be.ERROR,{type:Kn.MEDIA_ERROR,details:Et.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:T,reason:E})}}),h.end=performance.now();return}n.audioTracks&&(u=n.audioTracks.filter(_=>!_.audioCodec||this.isAudioSupported(_.audioCodec)),k9(u)),n.subtitles&&(c=n.subtitles,k9(c));const f=d.slice(0);d.sort((_,E)=>{if(_.attrs["HDCP-LEVEL"]!==E.attrs["HDCP-LEVEL"])return(_.attrs["HDCP-LEVEL"]||"")>(E.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&_.height!==E.height)return _.height-E.height;if(_.frameRate!==E.frameRate)return _.frameRate-E.frameRate;if(_.videoRange!==E.videoRange)return $_.indexOf(_.videoRange)-$_.indexOf(E.videoRange);if(_.videoCodec!==E.videoCodec){const T=EH(_.videoCodec),A=EH(E.videoCodec);if(T!==A)return A-T}if(_.uri===E.uri&&_.codecSet!==E.codecSet){const T=B_(_.codecSet),A=B_(E.codecSet);if(T!==A)return A-T}return _.averageBitrate!==E.averageBitrate?_.averageBitrate-E.averageBitrate:0});let p=f[0];if(this.steering&&(d=this.steering.filterParsedLevels(d),d.length!==f.length)){for(let _=0;_<f.length;_++)if(f[_].pathwayId===d[0].pathwayId){p=f[_];break}}this._levels=d;for(let _=0;_<d.length;_++)if(d[_]===p){var m;this._firstLevel=_;const E=p.bitrate,T=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${d.length} level(s) found, first bitrate: ${E}`),((m=this.hls.userConfig)==null?void 0:m.abrEwmaDefaultEstimate)===void 0){const A=Math.min(E,this.hls.config.abrEwmaDefaultEstimateMax);A>T&&T===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=A)}break}const g=o&&!i,y=this.hls.config,b=!!(y.audioStreamController&&y.audioTrackController),v={levels:d,audioTracks:u,subtitleTracks:c,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:o,video:i,altAudio:b&&!g&&u.some(_=>!!_.url)};h.end=performance.now(),this.hls.trigger(be.MANIFEST_PARSED,v)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const h=new Error("invalid level idx"),f=e<0;if(this.hls.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:h,reason:h.message}),f)return;e=Math.min(e,n.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,o=i?i.attrs["PATHWAY-ID"]:void 0,l=n[e],u=l.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=l,r===e&&i&&o===u)return;this.log(`Switching to level ${e} (${l.height?l.height+"p ":""}${l.videoRange?l.videoRange+" ":""}${l.codecSet?l.codecSet+" ":""}@${l.bitrate})${u?" with Pathway "+u:""} from level ${r}${o?" with Pathway "+o:""}`);const c={level:e,attrs:l.attrs,details:l.details,bitrate:l.bitrate,averageBitrate:l.averageBitrate,maxBitrate:l.maxBitrate,realBitrate:l.realBitrate,width:l.width,height:l.height,codecSet:l.codecSet,audioCodec:l.audioCodec,videoCodec:l.videoCodec,audioGroups:l.audioGroups,subtitleGroups:l.subtitleGroups,loaded:l.loaded,loadError:l.loadError,fragmentError:l.fragmentError,name:l.name,id:l.id,uri:l.uri,url:l.url,urlId:0,audioGroupIds:l.audioGroupIds,textGroupIds:l.textGroupIds};this.hls.trigger(be.LEVEL_SWITCHING,c);const d=l.details;if(!d||d.live){const h=this.switchParams(l.uri,i?.details,d);this.loadPlaylist(h)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const n=this.steering.pathways(),r=e.filter(i=>n.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${n}`);return}this.steering.pathwayPriority=r}}onError(e,n){n.fatal||!n.context||n.context.type===Ar.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===Pn.MAIN){const r=n.elementaryStreams;if(!Object.keys(r).some(o=>!!r[o]))return;const i=this._levels[n.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,n){var r;const{level:i,details:o}=n,l=n.levelInfo;if(!l){var u;this.warn(`Invalid level index ${i}`),(u=n.deliveryDirectives)!=null&&u.skip&&(o.deltaUpdateFailed=!0);return}if(l===this.currentLevel||n.withoutMultiVariant){l.fragmentError===0&&(l.loadError=0);let c=l.details;c===n.details&&c.advanced&&(c=void 0),this.playlistLoaded(i,n,c)}else(r=n.deliveryDirectives)!=null&&r.skip&&(o.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,n){super.loadingPlaylist(e,n);const r=this.getUrlWithDirectives(e.uri,n),i=this.currentLevelIndex,o=e.attrs["PATHWAY-ID"],l=e.details,u=l?.age;this.log(`Loading level index ${i}${n?.msn!==void 0?" at sn "+n.msn+" part "+n.part:""}${o?" Pathway "+o:""}${u&&l.live?" age "+u.toFixed(1)+(l.type&&" "+l.type||""):""} ${r}`),this.hls.trigger(be.LEVEL_LOADING,{url:r,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:n||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;if(this._levels.length===1)return;const r=this._levels.filter((o,l)=>l!==e?!0:(this.steering&&this.steering.removeLevel(o),o===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,o.details&&o.details.fragments.forEach(u=>u.level=-1)),!1));EJ(r),this._levels=r,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=r.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(be.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(be.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function k9(t){const e={};t.forEach(n=>{const r=n.groupId||"";n.id=e[r]=e[r]||0,e[r]++})}function mee(){return self.SourceBuffer||self.WebKitSourceBuffer}function gee(){if(!Ac())return!1;const e=mee();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function v3e(){if(!gee())return!1;const t=Ac();return typeof t?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(Sy(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(Sy(e,"audio"))))}function E3e(){var t;const e=mee();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const _3e=100;class T3e extends bN{constructor(e,n,r){super(e,n,r,"stream-controller",Pn.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,o=i?i.currentTime:null;if(o===null||!An(o)||(this.log(`Media seeked to ${o.toFixed(3)}`),!this.getBufferedFrag(o)))return;const l=this.getFwdBufferInfoAtPos(i,o,Pn.MAIN,0);if(l===null||l.len===0){this.warn(`Main forward buffer length at ${o} on "seeked" event ${l?l.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(be.MANIFEST_PARSED,this.onManifestParsed,this),e.on(be.LEVEL_LOADING,this.onLevelLoading,this),e.on(be.LEVEL_LOADED,this.onLevelLoaded,this),e.on(be.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(be.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(be.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(be.BUFFER_CREATED,this.onBufferCreated,this),e.on(be.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(be.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(be.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(be.MANIFEST_PARSED,this.onManifestParsed,this),e.off(be.LEVEL_LOADED,this.onLevelLoaded,this),e.off(be.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(be.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(be.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(be.BUFFER_CREATED,this.onBufferCreated,this),e.off(be.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(be.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(be.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,n){if(this.levels){const{lastCurrentTime:r,hls:i}=this;if(this.stopLoad(),this.setInterval(_3e),this.level=-1,!this.startFragRequested){let o=i.startLevel;o===-1&&(i.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=i.firstAutoLevel),i.nextLoadLevel=o,this.level=i.loadLevel,this._hasEnoughToStart=!!n}r>0&&e===-1&&!n&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=Xt.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=n?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=Xt.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Xt.WAITING_LEVEL:{const{levels:e,level:n}=this,r=e?.[n],i=r?.details;if(i&&(!i.live||this.levelLastLoaded===r&&!this.waitForLive(r))){if(this.waitForCdnTuneIn(i))break;this.state=Xt.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=Xt.IDLE;break}break}case Xt.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===Xt.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:r,media:i}=this;if(n===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const o=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[o]))return;const l=r[o],u=this.getMainFwdBufferInfo();if(u===null)return;const c=this.getLevelDetails();if(c&&this._streamEnded(u,c)){const y={};this.altAudio===2&&(y.type="video"),this.hls.trigger(be.BUFFER_EOS,y),this.state=Xt.ENDED;return}if(!this.buffering)return;e.loadLevel!==o&&e.manualLevel===-1&&this.log(`Adapting to level ${o} from level ${this.level}`),this.level=e.nextLoadLevel=o;const d=l.details;if(!d||this.state===Xt.WAITING_LEVEL||this.waitForLive(l)){this.level=o,this.state=Xt.WAITING_LEVEL,this.startFragRequested=!1;return}const h=u.len,f=this.getMaxBufferLength(l.maxBitrate);if(h>=f)return;this.backtrackFragment&&this.backtrackFragment.start>u.end&&(this.backtrackFragment=null);const p=this.backtrackFragment?this.backtrackFragment.start:u.end;let m=this.getNextFragment(p,d);if(this.couldBacktrack&&!this.fragPrevious&&m&&$i(m)&&this.fragmentTracker.getState(m)!==ra.OK){var g;const b=((g=this.backtrackFragment)!=null?g:m).sn-d.startSN,v=d.fragments[b-1];v&&m.cc===v.cc&&(m=v,this.fragmentTracker.removeFragment(v))}else this.backtrackFragment&&u.len&&(this.backtrackFragment=null);if(m&&this.isLoopLoading(m,p)){if(!m.gap){const b=this.audioOnly&&!this.altAudio?si.AUDIO:si.VIDEO,v=(b===si.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;v&&this.afterBufferFlushed(v,b,Pn.MAIN)}m=this.getNextFragmentLoopLoading(m,d,u,Pn.MAIN,f)}m&&(m.initSegment&&!m.initSegment.data&&!this.bitrateTest&&(m=m.initSegment),this.loadFragment(m,l,p))}loadFragment(e,n,r){const i=this.fragmentTracker.getState(e);i===ra.NOT_LOADED||i===ra.PARTIAL?$i(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):super.loadFragment(e,n,r):this._loadInitSegment(e,n):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Pn.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let r;const i=this.getAppendedFrag(n.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const o=this.getLevelDetails();if(o!=null&&o.live){const u=this.getMainFwdBufferInfo();if(!u||u.len<o.targetduration*2)return}if(!n.paused&&e){const u=this.hls.nextLoadLevel,c=e[u],d=this.fragLastKbps;d&&this.fragCurrent?r=this.fragCurrent.duration*c.maxBitrate/(1e3*d)+1:r=0}else r=0;const l=this.getBufferedFrag(n.currentTime+r);if(l){const u=this.followingBufferedFrag(l);if(u){this.abortCurrentFrag();const c=u.maxStartPTS?u.maxStartPTS:u.start,d=u.duration,h=Math.max(l.end,c+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,d*(this.couldBacktrack?.5:.125)),d*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Xt.KEY_LOADING:case Xt.FRAG_LOADING:case Xt.FRAG_LOADING_WAITING_RETRY:case Xt.PARSING:case Xt.PARSED:this.state=Xt.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio===2?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const r=n.media;Ga(r,"playing",this.onMediaPlaying),Ga(r,"seeked",this.onMediaSeeked)}onMediaDetaching(e,n){const{media:r}=this;r&&(as(r,"playing",this.onMediaPlaying),as(r,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,n),!n.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(be.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,n){let r=!1,i=!1;for(let o=0;o<n.levels.length;o++){const l=n.levels[o].audioCodec;l&&(r=r||l.indexOf("mp4a.40.2")!==-1,i=i||l.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=r&&i&&!E3e(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:r}=this;if(!r||this.state!==Xt.IDLE)return;const i=n.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=Xt.WAITING_LEVEL)}onLevelLoaded(e,n){var r;const{levels:i,startFragRequested:o}=this,l=n.level,u=n.details,c=u.totalduration;if(!i){this.warn(`Levels were reset while loading level ${l}`);return}this.log(`Level ${l} loaded [${u.startSN},${u.endSN}]${u.lastPartSn?`[part-${u.lastPartSn}-${u.lastPartIndex}]`:""}, cc [${u.startCC}, ${u.endCC}] duration:${c}`);const d=n.levelInfo,h=this.fragCurrent;h&&(this.state===Xt.FRAG_LOADING||this.state===Xt.FRAG_LOADING_WAITING_RETRY)&&h.level!==n.level&&h.loader&&this.abortCurrentFrag();let f=0;if(u.live||(r=d.details)!=null&&r.live){var p;if(this.checkLiveUpdate(u),u.deltaUpdateFailed)return;f=this.alignPlaylists(u,d.details,(p=this.levelLastLoaded)==null?void 0:p.details)}if(d.details=u,this.levelLastLoaded=d,o||this.setStartPosition(u,f),this.hls.trigger(be.LEVEL_UPDATED,{details:u,level:l}),this.state===Xt.WAITING_LEVEL){if(this.waitForCdnTuneIn(u))return;this.state=Xt.IDLE}o&&u.live&&this.synchronizeToLiveEdge(u),this.tick()}synchronizeToLiveEdge(e){const{config:n,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,o=this.getLoadPosition(),l=e.fragmentStart,u=e.edge,c=o>=l-n.maxFragLookUpTolerance&&o<=u;if(i!==null&&r.duration>i&&(o<i||!c)){const h=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;if((!c&&r.readyState<4||o<u-h)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),r.readyState))if(this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${u}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var d;const f=fr.bufferInfo(r,i,0);if(!((d=f.buffered)!=null&&d.length)){r.currentTime=i;return}if(f.start<=o){r.currentTime=i;return}const{nextStart:m}=fr.bufferedInfo(f.buffered,o,0);m&&(r.currentTime=m)}else r.currentTime=i}}_handleFragmentLoadProgress(e){var n;const r=e.frag,{part:i,payload:o}=e,{levels:l}=this;if(!l){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const u=l[r.level];if(!u){this.warn(`Level ${r.level} not found on progress`);return}const c=u.details;if(!c){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const d=u.videoCodec,h=c.PTSKnown||!c.live,f=(n=r.initSegment)==null?void 0:n.data,p=this._getAudioCodec(u),m=this.transmuxer=this.transmuxer||new qJ(this.hls,Pn.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=i?i.index:-1,y=g!==-1,b=new mN(r.level,r.sn,r.stats.chunkCount,o.byteLength,g,y),v=this.initPTS[r.cc];m.push(o,f,p,d,r,i,c.totalduration,h,b,v)}onAudioTrackSwitching(e,n){const r=this.hls,i=this.altAudio!==0;if(q_(n.url,r))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const l=this.fragCurrent;l&&(this.log("Switching to main audio track, cancel main fragment load"),l.abortRequests(),this.fragmentTracker.removeFragment(l)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.altAudio=0,this.fragmentTracker.removeAllFragments(),r.once(be.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(be.AUDIO_TRACK_SWITCHED,n)}),r.trigger(be.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}r.trigger(be.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const r=q_(n.url,this.hls);if(r){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r?2:0,this.tick()}onBufferCreated(e,n){const r=n.tracks;let i,o,l=!1;for(const u in r){const c=r[u];if(c.id==="main"){if(o=u,i=c,u==="video"){const d=r[u];d&&(this.videoBuffer=d.buffer)}}else l=!0}l&&i?(this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:r,part:i}=n,o=r.type===Pn.MAIN;if(o){if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===Xt.PARSED&&(this.state=Xt.IDLE);return}const u=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*u.total/(u.buffering.end-u.loading.first)),$i(r)&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}const l=this.media;l&&(!this._hasEnoughToStart&&fr.getBuffered(l).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),o&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,n){var r;if(n.fatal){this.state=Xt.ERROR;return}switch(n.details){case Et.FRAG_GAP:case Et.FRAG_PARSING_ERROR:case Et.FRAG_DECRYPT_ERROR:case Et.FRAG_LOAD_ERROR:case Et.FRAG_LOAD_TIMEOUT:case Et.KEY_LOAD_ERROR:case Et.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Pn.MAIN,n);break;case Et.LEVEL_LOAD_ERROR:case Et.LEVEL_LOAD_TIMEOUT:case Et.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===Xt.WAITING_LEVEL&&((r=n.context)==null?void 0:r.type)===Ar.LEVEL&&(this.state=Xt.IDLE);break;case Et.BUFFER_ADD_CODEC_ERROR:case Et.BUFFER_APPEND_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&this.resetLoadingState();break;case Et.BUFFER_FULL_ERROR:if(n.parent!=="main")return;this.reduceLengthAndFlushBuffer(n)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case Et.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onFragLoadEmergencyAborted(){this.state=Xt.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==si.AUDIO||!this.altAudio){const r=(n===si.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;r&&(this.afterBufferFlushed(r,n,Pn.MAIN),this.tick())}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let r=this.startPosition;if(r>=0&&n<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${n}`);return}const i=this.timelineOffset;i&&r&&(r+=i);const o=this.getLevelDetails(),l=fr.getBuffered(e),u=l.length?l.start(0):0,c=u-r,d=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||c>0&&(c<d||this.loadingParts&&c<2*(o?.partTarget||0)))&&(this.log(`adjusting start position by ${c} to match buffer start`),r+=c,this.startPosition=r),n<r&&(this.log(`seek to target start position ${r} from current time ${n} buffer start ${u}`),e.currentTime=r)}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(r=>{const{hls:i}=this,o=r?.frag;if(!o||this.fragContextChanged(o))return;n.fragmentError=0,this.state=Xt.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const l=o.stats;l.parsing.start=l.parsing.end=l.buffering.start=l.buffering.end=self.performance.now(),i.trigger(be.FRAG_LOADED,r),o.bitrateTest=!1}).catch(r=>{this.state===Xt.STOPPED||this.state===Xt.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const n=this.playlistType,{hls:r}=this,{remuxResult:i,chunkMeta:o}=e,l=this.getCurrentContext(o);if(!l){this.resetWhenMissingContext(o);return}const{frag:u,part:c,level:d}=l,{video:h,text:f,id3:p,initSegment:m}=i,{details:g}=d,y=this.altAudio?void 0:i.audio;if(this.fragContextChanged(u)){this.fragmentTracker.removeFragment(u);return}if(this.state=Xt.PARSING,m){const b=m.tracks;if(b){const T=u.initSegment||u;if(this.unhandledEncryptionError(m,u))return;this._bufferInitSegment(d,b,T,o),r.trigger(be.FRAG_PARSING_INIT_SEGMENT,{frag:T,id:n,tracks:b})}const v=m.initPTS,_=m.timescale,E=this.initPTS[u.cc];if(An(v)&&(!E||E.baseTime!==v||E.timescale!==_)){const T=m.trackId;this.initPTS[u.cc]={baseTime:v,timescale:_,trackId:T},r.trigger(be.INIT_PTS_FOUND,{frag:u,id:n,initPTS:v,timescale:_,trackId:T})}}if(h&&g){y&&h.type==="audiovideo"&&this.logMuxedErr(u);const b=g.fragments[u.sn-1-g.startSN],v=u.sn===g.startSN,_=!b||u.cc>b.cc;if(i.independent!==!1){const{startPTS:E,endPTS:T,startDTS:A,endDTS:w}=h;if(c)c.elementaryStreams[h.type]={startPTS:E,endPTS:T,startDTS:A,endDTS:w};else if(h.firstKeyFrame&&h.independent&&o.id===1&&!_&&(this.couldBacktrack=!0),h.dropped&&h.independent){const I=this.getMainFwdBufferInfo(),C=(I?I.end:this.getLoadPosition())+this.config.maxBufferHole,j=h.firstKeyFramePTS?h.firstKeyFramePTS:E;if(!v&&C<j-this.config.maxBufferHole&&!_){this.backtrack(u);return}else _&&(u.gap=!0);u.setElementaryStreamInfo(h.type,u.start,T,u.start,w,!0)}else v&&E-(g.appliedTimelineOffset||0)>c0&&(u.gap=!0);u.setElementaryStreamInfo(h.type,E,T,A,w),this.backtrackFragment&&(this.backtrackFragment=u),this.bufferFragmentData(h,u,c,o,v||_)}else if(v||_)u.gap=!0;else{this.backtrack(u);return}}if(y){const{startPTS:b,endPTS:v,startDTS:_,endDTS:E}=y;c&&(c.elementaryStreams[si.AUDIO]={startPTS:b,endPTS:v,startDTS:_,endDTS:E}),u.setElementaryStreamInfo(si.AUDIO,b,v,_,E),this.bufferFragmentData(y,u,c,o)}if(g&&p!=null&&p.samples.length){const b={id:n,frag:u,details:g,samples:p.samples};r.trigger(be.FRAG_PARSING_METADATA,b)}if(g&&f){const b={id:n,frag:u,details:g,samples:f.samples};r.trigger(be.FRAG_PARSING_USERDATA,b)}}logMuxedErr(e){this.warn(`${$i(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,n,r,i){if(this.state!==Xt.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&(delete n.audio,n.audiovideo&&this.logMuxedErr(r));const{audio:o,video:l,audiovideo:u}=n;if(o){const d=e.audioCodec;let h=r0(o.codec,d);h==="mp4a"&&(h="mp4a.40.5");const f=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){h&&(h.indexOf("mp4a.40.5")!==-1?h="mp4a.40.2":h="mp4a.40.5");const p=o.metadata;p&&"channelCount"in p&&(p.channelCount||1)!==1&&f.indexOf("firefox")===-1&&(h="mp4a.40.5")}h&&h.indexOf("mp4a.40.5")!==-1&&f.indexOf("android")!==-1&&o.container!=="audio/mpeg"&&(h="mp4a.40.2",this.log(`Android: force audio codec to ${h}`)),d&&d!==h&&this.log(`Swapping manifest audio codec "${d}" for "${h}"`),o.levelCodec=h,o.id=Pn.MAIN,this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${h||""}/${d||""}/${o.codec}]`),delete n.audiovideo}if(l){l.levelCodec=e.videoCodec,l.id=Pn.MAIN;const d=l.codec;if(d?.length===4)switch(d){case"hvc1":case"hev1":l.codec="hvc1.1.6.L120.90";break;case"av01":l.codec="av01.0.04M.08";break;case"avc1":l.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${l.container}, codecs[level/parsed]=[${e.videoCodec||""}/${d}]${l.codec!==d?" parsed-corrected="+l.codec:""}${l.supplemental?" supplemental="+l.supplemental:""}`),delete n.audiovideo}u&&(this.log(`Init audiovideo buffer, container:${u.container}, codecs[level/parsed]=[${e.codecs}/${u.codec}]`),delete n.video,delete n.audio);const c=Object.keys(n);if(c.length){if(this.hls.trigger(be.BUFFER_CODECS,n),!this.hls)return;c.forEach(d=>{const f=n[d].initSegment;f!=null&&f.byteLength&&this.hls.trigger(be.BUFFER_APPENDING,{type:d,data:f,frag:r,part:null,chunkMeta:i,parent:r.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Pn.MAIN)}get maxBufferLength(){const{levels:e,level:n}=this,r=e?.[n];return r?this.getMaxBufferLength(r.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Xt.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(fr.isBuffered(e,r)?n=this.getAppendedFrag(r):fr.isBuffered(e,r+.1)&&(n=this.getAppendedFrag(r+.1)),n){this.backtrackFragment=null;const i=this.fragPlaying,o=n.level;(!i||n.sn!==i.sn||i.level!==o)&&(this.fragPlaying=n,this.hls.trigger(be.FRAG_CHANGED,{frag:n}),(!i||i.level!==o)&&this.hls.trigger(be.LEVEL_SWITCHED,{level:o}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return An(n)?this.getAppendedFrag(n):null}get currentProgramDateTime(){var e;const n=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(An(n)){const r=this.getLevelDetails(),i=this.currentFrag||(r?qd(null,r.fragments,n):null);if(i){const o=i.programDateTime;if(o!==null){const l=o+(n-i.start)*1e3;return new Date(l)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class S3e extends ho{constructor(e,n){super("key-loader",n),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyIdToKeyInfo){const i=this.keyIdToKeyInfo[r].loader;if(i){var n;if(e&&e!==((n=i.context)==null?void 0:n.frag.type))return;i.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const n=this.keyIdToKeyInfo[e].loader;n&&n.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,n=Et.KEY_LOAD_ERROR,r,i,o){return new au({type:Kn.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:o,error:r,networkDetails:i})}loadClear(e,n,r){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(n.length)for(let i=0,o=n.length;i<o;i++){const l=n[i];if(e.cc<=l.cc&&(!$i(e)||!$i(l)||e.sn<l.sn)||!r&&i==o-1)return this.emeController.selectKeySystemFormat(l).then(u=>{if(!this.emeController)return;l.setKeyFormat(u);const c=a0(u);if(c)return this.emeController.getKeySystemAccess([c])})}if(this.config.requireKeySystemAccessOnStart){const i=tg(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var r,i;n&&e.setKeyFormat(n);const o=e.decryptdata;if(!o){const d=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,Et.KEY_LOAD_ERROR,d))}const l=o.uri;if(!l)return Promise.reject(this.createKeyLoadError(e,Et.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${l}"`)));const u=$k(o);let c=this.keyIdToKeyInfo[u];if((r=c)!=null&&r.decryptdata.key)return o.key=c.decryptdata.key,Promise.resolve({frag:e,keyInfo:c});if(this.emeController&&(i=c)!=null&&i.keyLoadPromise)switch(this.emeController.getKeyStatus(c.decryptdata)){case"usable":case"usable-in-future":return c.keyLoadPromise.then(h=>{const{keyInfo:f}=h;return o.key=f.decryptdata.key,{frag:e,keyInfo:f}})}switch(this.log(`${this.keyIdToKeyInfo[u]?"Rel":"L"}oading${o.keyId?" keyId: "+wa(o.keyId):""} URI: ${o.uri} from ${e.type} ${e.level}`),c=this.keyIdToKeyInfo[u]={decryptdata:o,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},o.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return o.keyFormat==="identity"?this.loadKeyHTTP(c,e):this.loadKeyEME(c,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(c,e);default:return Promise.reject(this.createKeyLoadError(e,Et.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${o.method}"`)))}}loadKeyEME(e,n){const r={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var i;if(!e.decryptdata.keyId&&(i=n.initSegment)!=null&&i.data){const l=qMe(n.initSegment.data);if(l.length){let u=l[0];u.some(c=>c!==0)?(this.log(`Using keyId found in init segment ${wa(u)}`),vc.setKeyIdForUri(e.decryptdata.uri,u)):(u=vc.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${wa(u)}`)),e.decryptdata.keyId=u}}if(!e.decryptdata.keyId&&!$i(n))return Promise.resolve(r);const o=this.emeController.loadKey(r);return(e.keyLoadPromise=o.then(l=>(e.mediaKeySessionContext=l,r))).catch(l=>{throw e.keyLoadPromise=null,"data"in l&&(l.data.frag=n),l})}return Promise.resolve(r)}loadKeyHTTP(e,n){const r=this.config,i=r.loader,o=new i(r);return n.keyLoader=e.loader=o,e.keyLoadPromise=new Promise((l,u)=>{const c={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},d=r.keyLoadPolicy.default,h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(p,m,g,y)=>{const{frag:b,keyInfo:v}=g,_=$k(v.decryptdata);if(!b.decryptdata||v!==this.keyIdToKeyInfo[_])return u(this.createKeyLoadError(b,Et.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));v.decryptdata.key=b.decryptdata.key=new Uint8Array(p.data),b.keyLoader=null,v.loader=null,l({frag:b,keyInfo:v})},onError:(p,m,g,y)=>{this.resetLoader(m),u(this.createKeyLoadError(n,Et.KEY_LOAD_ERROR,new Error(`HTTP Error ${p.code} loading key ${p.text}`),g,Yr({url:c.url,data:void 0},p)))},onTimeout:(p,m,g)=>{this.resetLoader(m),u(this.createKeyLoadError(n,Et.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(p,m,g)=>{this.resetLoader(m),u(this.createKeyLoadError(n,Et.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};o.load(c,h,f)})}resetLoader(e){const{frag:n,keyInfo:r,url:i}=e,o=r.loader;n.keyLoader===o&&(n.keyLoader=null,r.loader=null);const l=$k(r.decryptdata)||i;delete this.keyIdToKeyInfo[l],o&&o.destroy()}}function $k(t){if(t.keyFormat!==Ia.FAIRPLAY){const e=t.keyId;if(e)return wa(e)}return t.uri}function C9(t){const{type:e}=t;switch(e){case Ar.AUDIO_TRACK:return Pn.AUDIO;case Ar.SUBTITLE_TRACK:return Pn.SUBTITLE;default:return Pn.MAIN}}function qk(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class w3e{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(be.MANIFEST_LOADING,this.onManifestLoading,this),e.on(be.LEVEL_LOADING,this.onLevelLoading,this),e.on(be.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(be.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(be.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(be.MANIFEST_LOADING,this.onManifestLoading,this),e.off(be.LEVEL_LOADING,this.onLevelLoading,this),e.off(be.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(be.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(be.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const n=this.hls.config,r=n.pLoader,i=n.loader,o=r||i,l=new o(n);return this.loaders[e.type]=l,l}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:r}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Ar.MANIFEST,url:r,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,n){const{id:r,level:i,pathwayId:o,url:l,deliveryDirectives:u,levelInfo:c}=n;this.load({id:r,level:i,pathwayId:o,responseType:"text",type:Ar.LEVEL,url:l,deliveryDirectives:u,levelOrTrack:c})}onAudioTrackLoading(e,n){const{id:r,groupId:i,url:o,deliveryDirectives:l,track:u}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:Ar.AUDIO_TRACK,url:o,deliveryDirectives:l,levelOrTrack:u})}onSubtitleTrackLoading(e,n){const{id:r,groupId:i,url:o,deliveryDirectives:l,track:u}=n;this.load({id:r,groupId:i,level:null,responseType:"text",type:Ar.SUBTITLE_TRACK,url:o,deliveryDirectives:l,levelOrTrack:u})}onLevelsUpdated(e,n){const r=this.loaders[Ar.LEVEL];if(r){const i=r.context;i&&!n.levels.some(o=>o===i.levelOrTrack)&&(r.abort(),delete this.loaders[Ar.LEVEL])}}load(e){var n;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const d=this.hls.logger,h=i.context;if(h&&h.levelOrTrack===e.levelOrTrack&&(h.url===e.url||h.deliveryDirectives&&!e.deliveryDirectives)){h.url===e.url?d.log(`[playlist-loader]: ignore ${e.url} ongoing request`):d.log(`[playlist-loader]: ignore ${e.url} in favor of ${h.url}`);return}d.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let o;if(e.type===Ar.MANIFEST?o=r.manifestLoadPolicy.default:o=ri({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),An((n=e.deliveryDirectives)==null?void 0:n.part)){let d;if(e.type===Ar.LEVEL&&e.level!==null?d=this.hls.levels[e.level].details:e.type===Ar.AUDIO_TRACK&&e.id!==null?d=this.hls.audioTracks[e.id].details:e.type===Ar.SUBTITLE_TRACK&&e.id!==null&&(d=this.hls.subtitleTracks[e.id].details),d){const h=d.partTarget,f=d.targetduration;if(h&&f){const p=Math.max(h*3,f*.8)*1e3;o=ri({},o,{maxTimeToFirstByteMs:Math.min(p,o.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(p,o.maxTimeToFirstByteMs)})}}}const l=o.errorRetry||o.timeoutRetry||{},u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},c={onSuccess:(d,h,f,p)=>{const m=this.getInternalLoader(f);this.resetInternalLoader(f.type);const g=d.data;h.parsing.start=performance.now(),kl.isMediaPlaylist(g)||f.type!==Ar.MANIFEST?this.handleTrackOrLevelPlaylist(d,h,f,p||null,m):this.handleMasterPlaylist(d,h,f,p)},onError:(d,h,f,p)=>{this.handleNetworkError(h,f,!1,d,p)},onTimeout:(d,h,f)=>{this.handleNetworkError(h,f,!0,void 0,d)}};i.load(e,u,c)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:n},forceStartLoad:r}=this.hls;(e||r)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${n}`),this.hls.startLoad(n))}handleMasterPlaylist(e,n,r,i){const o=this.hls,l=e.data,u=qk(e,r),c=kl.parseMasterPlaylist(l,u);if(c.playlistParsingError){n.parsing.end=performance.now(),this.handleManifestParsingError(e,r,c.playlistParsingError,i,n);return}const{contentSteering:d,levels:h,sessionData:f,sessionKeys:p,startTimeOffset:m,variableList:g}=c;this.variableList=g,h.forEach(_=>{const{unknownCodecs:E}=_;if(E){const{preferManagedMediaSource:T}=this.hls.config;let{audioCodec:A,videoCodec:w}=_;for(let I=E.length;I--;){const C=E[I];Ty(C,"audio",T)?(_.audioCodec=A=A?`${A},${C}`:C,gp.audio[A.substring(0,4)]=2,E.splice(I,1)):Ty(C,"video",T)&&(_.videoCodec=w=w?`${w},${C}`:C,gp.video[w.substring(0,4)]=2,E.splice(I,1))}}});const{AUDIO:y=[],SUBTITLES:b,"CLOSED-CAPTIONS":v}=kl.parseMasterPlaylistMedia(l,u,c);y.length&&!y.some(E=>!E.url)&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Ri({}),bitrate:0,url:""})),o.trigger(be.MANIFEST_LOADED,{levels:h,audioTracks:y,subtitles:b,captions:v,contentSteering:d,url:u,stats:n,networkDetails:i,sessionData:f,sessionKeys:p,startTimeOffset:m,variableList:g})}handleTrackOrLevelPlaylist(e,n,r,i,o){const l=this.hls,{id:u,level:c,type:d}=r,h=qk(e,r),f=An(c)?c:An(u)?u:0,p=C9(r),m=kl.parseLevelPlaylist(e.data,h,f,p,0,this.variableList);if(d===Ar.MANIFEST){const g={attrs:new Ri({}),bitrate:0,details:m,name:"",url:h};m.requestScheduled=n.loading.start+yJ(m,0),l.trigger(be.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:h,stats:n,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),r.levelDetails=m,this.handlePlaylistLoaded(m,e,n,r,i,o)}handleManifestParsingError(e,n,r,i,o){this.hls.trigger(be.ERROR,{type:Kn.NETWORK_ERROR,details:Et.MANIFEST_PARSING_ERROR,fatal:n.type===Ar.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:n,networkDetails:i,stats:o})}handleNetworkError(e,n,r=!1,i,o){let l=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===Ar.LEVEL?l+=`: ${e.level} id: ${e.id}`:(e.type===Ar.AUDIO_TRACK||e.type===Ar.SUBTITLE_TRACK)&&(l+=` id: ${e.id} group-id: "${e.groupId}"`);const u=new Error(l);this.hls.logger.warn(`[playlist-loader]: ${l}`);let c=Et.UNKNOWN,d=!1;const h=this.getInternalLoader(e);switch(e.type){case Ar.MANIFEST:c=r?Et.MANIFEST_LOAD_TIMEOUT:Et.MANIFEST_LOAD_ERROR,d=!0;break;case Ar.LEVEL:c=r?Et.LEVEL_LOAD_TIMEOUT:Et.LEVEL_LOAD_ERROR,d=!1;break;case Ar.AUDIO_TRACK:c=r?Et.AUDIO_TRACK_LOAD_TIMEOUT:Et.AUDIO_TRACK_LOAD_ERROR,d=!1;break;case Ar.SUBTITLE_TRACK:c=r?Et.SUBTITLE_TRACK_LOAD_TIMEOUT:Et.SUBTITLE_LOAD_ERROR,d=!1;break}h&&this.resetInternalLoader(e.type);const f={type:Kn.NETWORK_ERROR,details:c,fatal:d,url:e.url,loader:h,context:e,error:u,networkDetails:n,stats:o};if(i){const p=n?.url||e.url;f.response=Yr({url:p,data:void 0},i)}this.hls.trigger(be.ERROR,f)}handlePlaylistLoaded(e,n,r,i,o,l){const u=this.hls,{type:c,level:d,levelOrTrack:h,id:f,groupId:p,deliveryDirectives:m}=i,g=qk(n,i),y=C9(i);let b=typeof i.level=="number"&&y===Pn.MAIN?d:void 0;const v=e.playlistParsingError;if(v){if(this.hls.logger.warn(`${v} ${e.url}`),!u.config.ignorePlaylistParsingErrors){u.trigger(be.ERROR,{type:Kn.NETWORK_ERROR,details:Et.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:v,reason:v.message,response:n,context:i,level:b,parent:y,networkDetails:o,stats:r});return}e.playlistParsingError=null}if(!e.fragments.length){const _=e.playlistParsingError=new Error("No Segments found in Playlist");u.trigger(be.ERROR,{type:Kn.NETWORK_ERROR,details:Et.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:_,reason:_.message,response:n,context:i,level:b,parent:y,networkDetails:o,stats:r});return}switch(e.live&&l&&(l.getCacheAge&&(e.ageHeader=l.getCacheAge()||0),(!l.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),c){case Ar.MANIFEST:case Ar.LEVEL:if(b){if(!h)b=0;else if(h!==u.levels[b]){const _=u.levels.indexOf(h);_>-1&&(b=_)}}u.trigger(be.LEVEL_LOADED,{details:e,levelInfo:h||u.levels[0],level:b||0,id:f||0,stats:r,networkDetails:o,deliveryDirectives:m,withoutMultiVariant:c===Ar.MANIFEST});break;case Ar.AUDIO_TRACK:u.trigger(be.AUDIO_TRACK_LOADED,{details:e,track:h,id:f||0,groupId:p||"",stats:r,networkDetails:o,deliveryDirectives:m});break;case Ar.SUBTITLE_TRACK:u.trigger(be.SUBTITLE_TRACK_LOADED,{details:e,track:h,id:f||0,groupId:p||"",stats:r,networkDetails:o,deliveryDirectives:m});break}}}class na{static get version(){return Ay}static isMSESupported(){return gee()}static isSupported(){return v3e()}static getMediaSource(){return Ac()}static get Events(){return be}static get MetadataSchema(){return Ss}static get ErrorTypes(){return Kn}static get ErrorDetails(){return Et}static get DefaultConfig(){return na.defaultConfig?na.defaultConfig:o3e}static set DefaultConfig(e){na.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new vN,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const n=this.logger=CMe(e.debug||!1,"Hls instance",e.assetPlayerId),r=this.config=u3e(na.DefaultConfig,e,n);this.userConfig=e,r.progressive&&c3e(r,n);const{abrController:i,bufferController:o,capLevelController:l,errorController:u,fpsController:c}=r,d=new u(this),h=this.abrController=new i(this),f=new ANe(this),p=r.interstitialsController,m=p?this.interstitialsController=new p(this,na):null,g=this.bufferController=new o(this,f),y=this.capLevelController=new l(this),b=new c(this),v=new w3e(this),_=r.contentSteeringController,E=_?new _(this):null,T=this.levelController=new b3e(this,E),A=new g3e(this),w=new S3e(this.config,this.logger),I=this.streamController=new T3e(this,f,w),C=this.gapController=new p3e(this,f);y.setStreamController(I),b.setStreamController(I);const j=[v,T,I];m&&j.splice(1,0,m),E&&j.splice(1,0,E),this.networkControllers=j;const F=[h,g,C,y,b,A,f];this.audioTrackController=this.createController(r.audioTrackController,j);const K=r.audioStreamController;K&&j.push(this.audioStreamController=new K(this,f,w)),this.subtitleTrackController=this.createController(r.subtitleTrackController,j);const he=r.subtitleStreamController;he&&j.push(this.subtititleStreamController=new he(this,f,w)),this.createController(r.timelineController,F),w.emeController=this.emeController=this.createController(r.emeController,F),this.cmcdController=this.createController(r.cmcdController,F),this.latencyController=this.createController(y3e,F),this.coreComponents=F,j.push(d);const q=d.onErrorOut;typeof q=="function"&&this.on(be.ERROR,q,d),this.on(be.MANIFEST_LOADED,v.onManifestLoaded,v)}createController(e,n){if(e){const r=new e(this);return n&&n.push(r),r}return null}on(e,n,r=this){this._emitter.on(e,n,r)}once(e,n,r=this){this._emitter.once(e,n,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,r=this,i){this._emitter.off(e,n,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,n,r){return this._emitter.emit(e,n,r)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(r){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===be.ERROR;this.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(be.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const o=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(be.ERROR,{type:Kn.OTHER_ERROR,details:Et.ATTACH_MEDIA_ERROR,fatal:!0,error:o});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const n="media"in e,r=n?e.media:e,i=n?e:{media:r};this._media=r,this.trigger(be.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(be.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(be.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const n=this.media,r=this._url,i=this._url=lN.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),n&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(be.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,n){this.logger.log(`startLoad(${e+(n?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let r=0;r<this.networkControllers.length&&(this.networkControllers[r].startLoad(e,n),!(!this.started||!this.networkControllers));r++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Pn.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Pn.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Pn.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,n=e?.currentTime;this.detachMedia(),e&&(this.attachMedia(e),n&&this.startLoad(n))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=pUe()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){uNe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=n)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:r}=this;let i;if(n===-1&&e!=null&&e.length?i=e.length-1:i=n,r)for(let o=i;o--;){const l=e[o].attrs["HDCP-LEVEL"];if(l&&l<=r)return o}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var n;return((n=this.audioTrackController)==null?void 0:n.setAudioOption(e))||null}setSubtitleOption(e){var n;return((n=this.subtitleTrackController)==null?void 0:n.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,n=this.allAudioTracks){const r=nJ(n);return eJ(e,r,navigator.mediaCapabilities)}}na.defaultConfig=void 0;const A3e=t=>class extends t{static shadowRootOptions={...t.shadowRootOptions};static getTemplateHTML=(n,r={})=>{const{src:i,...o}=n;return`
        <script type="application/json" id="config">
          ${JSON.stringify(r.config||{})}
        <\/script>
        ${t.getTemplateHTML(o)}
      `};#e=null;#i=null;constructor(){super(),this.#n("config")}get config(){return this.#i}set config(n){this.#i=n}attributeChangedCallback(n,r,i){n!=="src"&&super.attributeChangedCallback(n,r,i),n==="src"&&r!=i&&this.load()}#r(){var n,r;(n=this.#e)==null||n.remove(),(r=this.nativeEl)==null||r.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.#t),this.api&&(this.api.detachMedia(),this.api.destroy(),this.api=null)}async load(){var n,r;const i=!this.api;if(this.#r(),!!this.src){if(i&&!this.#i&&(this.#i=JSON.parse(((n=this.shadowRoot.getElementById("config"))==null?void 0:n.textContent)||"{}")),na.isSupported()){switch(await Promise.resolve(),this.api=new na({liveDurationInfinity:!0,autoStartLoad:!1,...this.config}),this.api.loadSource(this.src),this.api.attachMedia(this.nativeEl),this.nativeEl.preload){case"none":{const d=()=>this.api.startLoad();this.nativeEl.addEventListener("play",d,{once:!0}),this.api.on(na.Events.DESTROYING,()=>{this.nativeEl.removeEventListener("play",d)});break}case"metadata":{const d=this.api.config.maxBufferLength,h=this.api.config.maxBufferSize;this.api.config.maxBufferLength=1,this.api.config.maxBufferSize=1;const f=()=>{this.api.config.maxBufferLength=d,this.api.config.maxBufferSize=h};this.nativeEl.addEventListener("play",f,{once:!0}),this.api.on(na.Events.DESTROYING,()=>{this.nativeEl.removeEventListener("play",f)}),this.api.startLoad();break}default:this.api.startLoad()}this.nativeEl.webkitCurrentPlaybackTargetIsWireless&&this.api.stopLoad(),this.nativeEl.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.#t),this.#e=document.createElement("source"),this.#e.setAttribute("type","application/x-mpegURL"),this.#e.setAttribute("src",this.src),this.nativeEl.disableRemotePlayback=!1,this.nativeEl.append(this.#e);const o=new WeakMap;this.api.on(na.Events.MANIFEST_PARSED,(d,h)=>{this.nativeEl.autoplay&&this.nativeEl.paused&&this.nativeEl.play().catch(p=>{console.warn("Autoplay failed:",p)}),c();let f=this.videoTracks.getTrackById("main");f||(f=this.addVideoTrack("main"),f.id="main",f.selected=!0);for(const[p,m]of h.levels.entries()){const g=f.addRendition(m.url[0],m.width,m.height,m.videoCodec,m.bitrate);o.set(m,`${p}`),g.id=`${p}`}for(let[p,m]of h.audioTracks.entries()){const g=m.default?"main":"alternative",y=this.addAudioTrack(g,m.name,m.lang);y.id=`${p}`,m.default&&(y.enabled=!0)}}),this.audioTracks.addEventListener("change",()=>{var d;const h=+((d=[...this.audioTracks].find(p=>p.enabled))==null?void 0:d.id),f=this.api.audioTracks.map(p=>p.id);h!=this.api.audioTrack&&f.includes(h)&&(this.api.audioTrack=h)}),this.api.on(na.Events.LEVELS_UPDATED,(d,h)=>{const f=this.videoTracks[this.videoTracks.selectedIndex??0];if(!f)return;const p=h.levels.map(m=>o.get(m));for(const m of this.videoRenditions)m.id&&!p.includes(m.id)&&f.removeRendition(m)});let l=null;this.api.on(na.Events.ERROR,(d,h)=>{h.type===na.ErrorTypes.NETWORK_ERROR&&h.details===na.ErrorDetails.FRAG_LOAD_ERROR&&(l=h.frag.level)}),this.api.on(na.Events.LEVEL_SWITCHED,(d,h)=>{const f=h.level;l!==null&&f<l&&(console.warn(` hls.js downgraded quality from level ${l} to ${f} due to fragment load failure.`),this.videoRenditions.selectedIndex=f,l=null)});const u=d=>{const h=d.target.selectedIndex;h!=this.api.nextLevel&&(this.api.nextLevel=h)};(r=this.videoRenditions)==null||r.addEventListener("change",u);const c=()=>{for(const d of this.videoTracks)this.removeVideoTrack(d);for(const d of this.audioTracks)this.removeAudioTrack(d)};this.api.once(na.Events.DESTROYING,c);return}await Promise.resolve(),this.nativeEl.canPlayType("application/vnd.apple.mpegurl")&&(this.nativeEl.src=this.src)}}#t=()=>{var n,r,i;(n=this.nativeEl)!=null&&n.webkitCurrentPlaybackTargetIsWireless?(r=this.api)==null||r.stopLoad():(i=this.api)==null||i.startLoad()};#n(n){if(Object.prototype.hasOwnProperty.call(this,n)){const r=this[n];delete this[n],this[n]=r}}},yee=A3e(oN(pc));globalThis.customElements&&!globalThis.customElements.get("hls-video")&&globalThis.customElements.define("hls-video",yee);var I3e=yee,x3e=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),R3e={className:"class",htmlFor:"for"};function bee(t){return t.toLowerCase()}function D9(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function k3e({react:t,tagName:e,elementClass:n,events:r,displayName:i,defaultProps:o,toAttributeName:l=bee,toAttributeValue:u=D9}){const c=Number.parseInt(t.version)>=19,d=t.forwardRef((h,f)=>{var p,m;const g=t.useRef(null),y=t.useRef(new Map),b={},v={},_={},E={};for(const[T,A]of Object.entries(h)){if(x3e.has(T)){_[T]=A;continue}const w=l(R3e[T]??T);if(n.prototype&&T in n.prototype&&!(T in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((m=n.observedAttributes)!=null&&m.some(C=>C===w))){E[T]=A;continue}if(T.startsWith("on")){b[T]=A;continue}const I=u(A);if(w&&I!=null&&(v[w]=String(I),c||(_[w]=I)),w&&c){const C=D9(A);I!==C?_[w]=I:_[w]=A}}if(typeof window<"u"){for(const T in b){const A=b[T],w=T.endsWith("Capture"),I=(r?.[T]??T.slice(2).toLowerCase()).slice(0,w?-7:void 0);t.useLayoutEffect(()=>{const C=g?.current;if(!(!C||typeof A!="function"))return C.addEventListener(I,A,w),()=>{C.removeEventListener(I,A,w)}},[g?.current,A])}t.useLayoutEffect(()=>{if(g.current===null)return;const T=new Map;for(const A in E)L9(g.current,A,E[A]),y.current.delete(A),T.set(A,E[A]);for(const[A,w]of y.current)L9(g.current,A,void 0);y.current=T})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:T,delegatesFocus:A}=n.shadowRootOptions,w=t.createElement("template",{shadowrootmode:T,shadowrootdelegatesfocus:A,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(v,h)},key:"ce-la-react-ssr-template-shadow-root"});_.children=[w,_.children]}return t.createElement(e,{...o,..._,ref:t.useCallback(T=>{g.current=T,typeof f=="function"?f(T):f!==null&&(f.current=T)},[f])},_.children)});return d.displayName=i??n.name,d}function L9(t,e,n){var r;t[e]=n,n==null&&e in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&t.removeAttribute(e)}var C3e=k3e({react:Me,tagName:"hls-video",elementClass:I3e,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":bee(t)}});const D3e=Object.freeze(Object.defineProperty({__proto__:null,default:C3e},Symbol.toStringTag,{value:"Module"}));class vee extends oN(pc){static shadowRootOptions={...pc.shadowRootOptions};static getTemplateHTML=e=>{const{src:n,...r}=e;return pc.getTemplateHTML(r)};#e;attributeChangedCallback(e,n,r){e!=="src"&&super.attributeChangedCallback(e,n,r),e==="src"&&n!=r&&this.load()}async _initThumbnails(e){const n=async(u,c)=>{const d=[],h=e.timescale||1,f=e.startNumber||1,p=e.presentationTimeOffset?e.presentationTimeOffset/h:0,m=e.segmentDuration;for(let g=0;g<u;g++){const y=P3e({thIndex:g,thduration:c,ttiles:u,tduration:m,startNumber:f,pto:p}),b=y+c,v=new Promise((_,E)=>{this.api.provideThumbnail(y,({url:T,width:A,height:w,x:I,y:C})=>{try{const j=new VTTCue(y,b,`${T}#xywh=${I},${C},${A},${w}`);_(j)}catch(j){E(j)}})});d.push(v)}return await Promise.all(d).catch(g=>console.error("Error processing thumbnails",g))},{totalThumbnails:r,thumbnailDuration:i}=L3e(e),o=await n(r,i);let l=this.nativeEl.querySelector('track[label="thumbnails"]');if(!l){l=O3e(),this.nativeEl.appendChild(l);const u=M3e(o);l.src=u,l.dispatchEvent(new Event("change"))}}async load(){if(this.#e){this.api.attachSource(this.src);return}this.#e=!0;const e=await Ys(()=>Promise.resolve().then(()=>fGe),void 0,import.meta.url);this.api=e.MediaPlayer().create(),this.api.initialize(this.nativeEl,this.src,this.autoplay),this.api.on(e.MediaPlayer.events.STREAM_INITIALIZED,()=>{const n=this.api.getRepresentationsByType("video");let r=this.videoTracks.getTrackById("main");r||(r=this.addVideoTrack("main"),r.id="main",r.selected=!0),n.forEach(i=>{const o=i.bandwidth??i.bitrate??(Number.isFinite(i.bitrateInKbit)?i.bitrateInKbit*1e3:void 0),l=r.addRendition(i.id,i.width,i.height,i.mimeType??i.codec,o);l.id=i.id}),this.videoRenditions.addEventListener("change",()=>{const i=this.videoRenditions[this.videoRenditions.selectedIndex];i?.id?(this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.api.setRepresentationForTypeById("video",i.id,!0)):this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})}),this.api.isDynamic()||this.api.getRepresentationsByType("image").forEach(async(o,l)=>{l>0||this._initThumbnails(o)})})}}function L3e(t){var e,n;const r=t.essentialProperties[0],[i,o]=r.value.split("x").map(Number),l=i*o,u=((n=(e=t.adaptation)==null?void 0:e.period)==null?void 0:n.duration)||null,c=t.segmentDuration,d=t.timescale||1,f=c/d/l;return{totalThumbnails:u!=null?Math.ceil(u/f):Math.ceil(c/f),thumbnailDuration:f}}function P3e({thIndex:t,tduration:e,thduration:n,ttiles:r,startNumber:i,pto:o}){const l=Math.floor(t/r)+i,u=t%r+1,c=(l-1)*e-o,d=(u-1)*n;return c+d}function O3e(){const t=document.createElement("track");return t.kind="metadata",t.label="thumbnails",t.srclang="en",t.mode="hidden",t.default=!0,t}function M3e(t){let e=`WEBVTT

`;for(const i of t)e+=`${r(i.startTime)} --> ${r(i.endTime)}
`,e+=`${i.text}

`;const n=new Blob([e],{type:"text/vtt"});return URL.createObjectURL(n);function r(i){const o=String(Math.floor(i/3600)).padStart(2,"0"),l=String(Math.floor(i%3600/60)).padStart(2,"0"),u=(i%60).toFixed(3).padStart(6,"0");return`${o}:${l}:${u}`}}globalThis.customElements&&!globalThis.customElements.get("dash-video")&&globalThis.customElements.define("dash-video",vee);var N3e=vee,F3e=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),U3e={className:"class",htmlFor:"for"};function Eee(t){return t.toLowerCase()}function P9(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function B3e({react:t,tagName:e,elementClass:n,events:r,displayName:i,defaultProps:o,toAttributeName:l=Eee,toAttributeValue:u=P9}){const c=Number.parseInt(t.version)>=19,d=t.forwardRef((h,f)=>{var p,m;const g=t.useRef(null),y=t.useRef(new Map),b={},v={},_={},E={};for(const[T,A]of Object.entries(h)){if(F3e.has(T)){_[T]=A;continue}const w=l(U3e[T]??T);if(n.prototype&&T in n.prototype&&!(T in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((m=n.observedAttributes)!=null&&m.some(C=>C===w))){E[T]=A;continue}if(T.startsWith("on")){b[T]=A;continue}const I=u(A);if(w&&I!=null&&(v[w]=String(I),c||(_[w]=I)),w&&c){const C=P9(A);I!==C?_[w]=I:_[w]=A}}if(typeof window<"u"){for(const T in b){const A=b[T],w=T.endsWith("Capture"),I=(r?.[T]??T.slice(2).toLowerCase()).slice(0,w?-7:void 0);t.useLayoutEffect(()=>{const C=g?.current;if(!(!C||typeof A!="function"))return C.addEventListener(I,A,w),()=>{C.removeEventListener(I,A,w)}},[g?.current,A])}t.useLayoutEffect(()=>{if(g.current===null)return;const T=new Map;for(const A in E)O9(g.current,A,E[A]),y.current.delete(A),T.set(A,E[A]);for(const[A,w]of y.current)O9(g.current,A,void 0);y.current=T})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:T,delegatesFocus:A}=n.shadowRootOptions,w=t.createElement("template",{shadowrootmode:T,shadowrootdelegatesfocus:A,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(v,h)},key:"ce-la-react-ssr-template-shadow-root"});_.children=[w,_.children]}return t.createElement(e,{...o,..._,ref:t.useCallback(T=>{g.current=T,typeof f=="function"?f(T):f!==null&&(f.current=T)},[f])},_.children)});return d.displayName=i??n.name,d}function O9(t,e,n){var r;t[e]=n,n==null&&e in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&t.removeAttribute(e)}var z3e=B3e({react:Me,tagName:"dash-video",elementClass:N3e,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":Eee(t)}});const $3e=Object.freeze(Object.defineProperty({__proto__:null,default:z3e},Symbol.toStringTag,{value:"Module"}));var q3e=Object.create,_ee=Object.defineProperty,j3e=Object.getOwnPropertyDescriptor,H3e=Object.getOwnPropertyNames,G3e=Object.getPrototypeOf,V3e=Object.prototype.hasOwnProperty,Tee=function(t,e){return function(){return t&&(e=t(t=0)),e}},fs=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},K3e=function(t,e,n,r){if(e&&typeof e=="object"||typeof e=="function")for(var i=H3e(e),o=0,l=i.length,u;o<l;o++)u=i[o],!V3e.call(t,u)&&u!==n&&_ee(t,u,{get:function(c){return e[c]}.bind(null,u),enumerable:!(r=j3e(e,u))||r.enumerable});return t},Ls=function(t,e,n){return n=t!=null?q3e(G3e(t)):{},K3e(!t||!t.__esModule?_ee(n,"default",{value:t,enumerable:!0}):n,t)},Ko=fs(function(t,e){var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n={},e.exports=n});function af(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):af(t,e)}var sf=Tee(function(){sf()});function See(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}var wee=Tee(function(){}),Aee=fs(function(t,e){var n=Array.prototype.slice;e.exports=r;function r(i,o){for(("length"in i)||(i=[i]),i=n.call(i);i.length;){var l=i.shift(),u=o(l);if(u)return u;l.childNodes&&l.childNodes.length&&(i=n.call(l.childNodes).concat(i))}}}),W3e=fs(function(t,e){sf(),e.exports=n;function n(r,i){if(!af(this,n))return new n(r,i);this.data=r,this.nodeValue=r,this.length=r.length,this.ownerDocument=i||null}n.prototype.nodeType=8,n.prototype.nodeName="#comment",n.prototype.toString=function(){return"[object Comment]"}}),Y3e=fs(function(t,e){sf(),e.exports=n;function n(r,i){if(!af(this,n))return new n(r);this.data=r||"",this.length=this.data.length,this.ownerDocument=i||null}n.prototype.type="DOMTextNode",n.prototype.nodeType=3,n.prototype.nodeName="#text",n.prototype.toString=function(){return this.data},n.prototype.replaceData=function(r,i,o){var l=this.data,u=l.substring(0,r),c=l.substring(r+i,l.length);this.data=u+o+c,this.length=this.data.length}}),Iee=fs(function(t,e){e.exports=n;function n(r){var i=this,o=r.type;r.target||(r.target=i),i.listeners||(i.listeners={});var l=i.listeners[o];if(l)return l.forEach(function(u){r.currentTarget=i,typeof u=="function"?u(r):u.handleEvent(r)});i.parentNode&&i.parentNode.dispatchEvent(r)}}),xee=fs(function(t,e){e.exports=n;function n(r,i){var o=this;o.listeners||(o.listeners={}),o.listeners[r]||(o.listeners[r]=[]),o.listeners[r].indexOf(i)===-1&&o.listeners[r].push(i)}}),Ree=fs(function(t,e){e.exports=n;function n(r,i){var o=this;if(o.listeners&&o.listeners[r]){var l=o.listeners[r],u=l.indexOf(i);u!==-1&&l.splice(u,1)}}}),X3e=fs(function(t,e){wee(),e.exports=r;var n=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function r(p){switch(p.nodeType){case 3:return h(p.data);case 8:return"<!--"+p.data+"-->";default:return i(p)}}function i(p){var m=[],g=p.tagName;return p.namespaceURI==="http://www.w3.org/1999/xhtml"&&(g=g.toLowerCase()),m.push("<"+g+d(p)+u(p)),n.indexOf(g)>-1?m.push(" />"):(m.push(">"),p.childNodes.length?m.push.apply(m,p.childNodes.map(r)):p.textContent||p.innerText?m.push(h(p.textContent||p.innerText)):p.innerHTML&&m.push(p.innerHTML),m.push("</"+g+">")),m.join("")}function o(p,m){var g=See(p[m]);return m==="style"&&Object.keys(p.style).length>0?!0:p.hasOwnProperty(m)&&(g==="string"||g==="boolean"||g==="number")&&m!=="nodeName"&&m!=="className"&&m!=="tagName"&&m!=="textContent"&&m!=="innerText"&&m!=="namespaceURI"&&m!=="innerHTML"}function l(p){if(typeof p=="string")return p;var m="";return Object.keys(p).forEach(function(g){var y=p[g];g=g.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()}),m+=g+":"+y+";"}),m}function u(p){var m=p.dataset,g=[];for(var y in m)g.push({name:"data-"+y,value:m[y]});return g.length?c(g):""}function c(p){var m=[];return p.forEach(function(g){var y=g.name,b=g.value;y==="style"&&(b=l(b)),m.push(y+'="'+f(b)+'"')}),m.length?" "+m.join(" "):""}function d(p){var m=[];for(var g in p)o(p,g)&&m.push({name:g,value:p[g]});for(var y in p._attributes)for(var b in p._attributes[y]){var v=p._attributes[y][b],_=(v.prefix?v.prefix+":":"")+b;m.push({name:_,value:v.value})}return p.className&&m.push({name:"class",value:p.className}),m.length?c(m):""}function h(p){var m="";return typeof p=="string"?m=p:p&&(m=p.toString()),m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(p){return h(p).replace(/"/g,"&quot;")}}),kee=fs(function(t,e){sf();var n=Aee(),r=Iee(),i=xee(),o=Ree(),l=X3e(),u="http://www.w3.org/1999/xhtml";e.exports=c;function c(d,h,f){if(!af(this,c))return new c(d);var p=f===void 0?u:f||null;this.tagName=p===u?String(d).toUpperCase():d,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=h||null,this.namespaceURI=p,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}c.prototype.type="DOMElement",c.prototype.nodeType=1,c.prototype.appendChild=function(d){return d.parentNode&&d.parentNode.removeChild(d),this.childNodes.push(d),d.parentNode=this,d},c.prototype.replaceChild=function(d,h){d.parentNode&&d.parentNode.removeChild(d);var f=this.childNodes.indexOf(h);return h.parentNode=null,this.childNodes[f]=d,d.parentNode=this,h},c.prototype.removeChild=function(d){var h=this.childNodes.indexOf(d);return this.childNodes.splice(h,1),d.parentNode=null,d},c.prototype.insertBefore=function(d,h){d.parentNode&&d.parentNode.removeChild(d);var f=h==null?-1:this.childNodes.indexOf(h);return f>-1?this.childNodes.splice(f,0,d):this.childNodes.push(d),d.parentNode=this,d},c.prototype.setAttributeNS=function(d,h,f){var p=null,m=h,g=h.indexOf(":");if(g>-1&&(p=h.substr(0,g),m=h.substr(g+1)),this.tagName==="INPUT"&&h==="type")this.type=f;else{var y=this._attributes[d]||(this._attributes[d]={});y[m]={value:f,prefix:p}}},c.prototype.getAttributeNS=function(d,h){var f=this._attributes[d],p=f&&f[h]&&f[h].value;return this.tagName==="INPUT"&&h==="type"?this.type:typeof p!="string"?null:p},c.prototype.removeAttributeNS=function(d,h){var f=this._attributes[d];f&&delete f[h]},c.prototype.hasAttributeNS=function(d,h){var f=this._attributes[d];return!!f&&h in f},c.prototype.setAttribute=function(d,h){return this.setAttributeNS(null,d,h)},c.prototype.getAttribute=function(d){return this.getAttributeNS(null,d)},c.prototype.removeAttribute=function(d){return this.removeAttributeNS(null,d)},c.prototype.hasAttribute=function(d){return this.hasAttributeNS(null,d)},c.prototype.removeEventListener=o,c.prototype.addEventListener=i,c.prototype.dispatchEvent=r,c.prototype.focus=function(){},c.prototype.toString=function(){return l(this)},c.prototype.getElementsByClassName=function(d){var h=d.split(" "),f=[];return n(this,function(p){if(p.nodeType===1){var m=p.className||"",g=m.split(" ");h.every(function(y){return g.indexOf(y)!==-1})&&f.push(p)}}),f},c.prototype.getElementsByTagName=function(d){d=d.toLowerCase();var h=[];return n(this.childNodes,function(f){f.nodeType===1&&(d==="*"||f.tagName.toLowerCase()===d)&&h.push(f)}),h},c.prototype.contains=function(d){return n(this,function(h){return d===h})||!1}}),Q3e=fs(function(t,e){sf();var n=kee();e.exports=r;function r(i){if(!af(this,r))return new r;this.childNodes=[],this.parentNode=null,this.ownerDocument=i||null}r.prototype.type="DocumentFragment",r.prototype.nodeType=11,r.prototype.nodeName="#document-fragment",r.prototype.appendChild=n.prototype.appendChild,r.prototype.replaceChild=n.prototype.replaceChild,r.prototype.removeChild=n.prototype.removeChild,r.prototype.toString=function(){return this.childNodes.map(function(i){return String(i)}).join("")}}),Z3e=fs(function(t,e){e.exports=n;function n(r){}n.prototype.initEvent=function(r,i,o){this.type=r,this.bubbles=i,this.cancelable=o},n.prototype.preventDefault=function(){}}),J3e=fs(function(t,e){sf();var n=Aee(),r=W3e(),i=Y3e(),o=kee(),l=Q3e(),u=Z3e(),c=Iee(),d=xee(),h=Ree();e.exports=f;function f(){if(!af(this,f))return new f;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var p=f.prototype;p.createTextNode=function(m){return new i(m,this)},p.createElementNS=function(m,g){var y=m===null?null:String(m);return new o(g,this,y)},p.createElement=function(m){return new o(m,this)},p.createDocumentFragment=function(){return new l(this)},p.createEvent=function(m){return new u(m)},p.createComment=function(m){return new r(m,this)},p.getElementById=function(m){m=String(m);var g=n(this.childNodes,function(y){if(String(y.id)===m)return y});return g||null},p.getElementsByClassName=o.prototype.getElementsByClassName,p.getElementsByTagName=o.prototype.getElementsByTagName,p.contains=o.prototype.contains,p.removeEventListener=h,p.addEventListener=d,p.dispatchEvent=c}),eBe=fs(function(t,e){var n=J3e();e.exports=new n}),Cee=fs(function(t,e){var n=typeof global<"u"?global:typeof window<"u"?window:{},r=eBe(),i;typeof document<"u"?i=document:(i=n["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=n["__GLOBAL_DOCUMENT_CACHE@4"]=r)),e.exports=i});function tBe(t){if(Array.isArray(t))return t}function nBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,u;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(c){o=!0,u=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function rBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dee(t,e){if(t){if(typeof t=="string")return fL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fL(t,e)}}function vu(t,e){return tBe(t)||nBe(t,e)||Dee(t,e)||rBe()}var zg=Ls(Ko()),M9=Ls(Ko()),iBe=Ls(Ko()),aBe={now:function(){var t=iBe.default.performance,e=t&&t.timing,n=e&&e.navigationStart,r=typeof n=="number"&&typeof t.now=="function"?n+t.now():Date.now();return Math.round(r)}},Xi=aBe,ky=function(){var t,e,n;if(typeof((t=M9.default.crypto)===null||t===void 0?void 0:t.getRandomValues)=="function"){n=new Uint8Array(32),M9.default.crypto.getRandomValues(n);for(var r=0;r<32;r++)n[r]=n[r]%16}else{n=[];for(var i=0;i<32;i++)n[i]=Math.random()*16|0}var o=0;e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var d=c==="x"?n[o]:n[o]&3|8;return o++,d.toString(16)});var l=Xi.now(),u=l?.toString(16).substring(3);return u?e.substring(0,28)+u:e},Lee=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},Ro=function(t){if(t&&typeof t.nodeName<"u")return t.muxId||(t.muxId=Lee()),t.muxId;var e;try{e=document.querySelector(t)}catch{}return e&&!e.muxId&&(e.muxId=t),e?.muxId||t},X_=function(t){var e;t&&typeof t.nodeName<"u"?(e=t,t=Ro(e)):e=document.querySelector(t);var n=e&&e.nodeName?e.nodeName.toLowerCase():"";return[e,t,n]};function sBe(t){if(Array.isArray(t))return fL(t)}function oBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ko(t){return sBe(t)||oBe(t)||Dee(t)||lBe()}var dd={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},uBe=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,n,r,i,o,l,u=[console,t],c=(n=console.trace).bind.apply(n,ko(u)),d=(r=console.info).bind.apply(r,ko(u)),h=(i=console.debug).bind.apply(i,ko(u)),f=(o=console.warn).bind.apply(o,ko(u)),p=(l=console.error).bind.apply(l,ko(u)),m=e;return{trace:function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];if(!(m>dd.TRACE))return c.apply(void 0,ko(y))},debug:function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];if(!(m>dd.DEBUG))return h.apply(void 0,ko(y))},info:function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];if(!(m>dd.INFO))return d.apply(void 0,ko(y))},warn:function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];if(!(m>dd.WARN))return f.apply(void 0,ko(y))},error:function(){for(var g=arguments.length,y=new Array(g),b=0;b<g;b++)y[b]=arguments[b];if(!(m>dd.ERROR))return p.apply(void 0,ko(y))},get level(){return m},set level(g){g!==this.level&&(m=g??e)}}},ai=uBe("[mux]"),jk=Ls(Ko());function hL(){var t=jk.default.doNotTrack||jk.default.navigator&&jk.default.navigator.doNotTrack;return t==="1"}function sr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}sf();function va(t,e){if(!af(t,e))throw new TypeError("Cannot call a class as a function")}function cBe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jl(t,e,n){return e&&cBe(t.prototype,e),t}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bp(t){return bp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bp(t)}function dBe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=bp(t),t!==null););return t}function d0(t,e,n){return typeof Reflect<"u"&&Reflect.get?d0=Reflect.get:d0=function(r,i,o){var l=dBe(r,i);if(l){var u=Object.getOwnPropertyDescriptor(l,i);return u.get?u.get.call(o||r):u.value}},d0(t,e,n||t)}function pL(t,e){return pL=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},pL(t,e)}function fBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pL(t,e)}function hBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}wee();function pBe(t,e){return e&&(See(e)==="object"||typeof e=="function")?e:sr(t)}function mBe(t){var e=hBe();return function(){var n=bp(t),r;if(e){var i=bp(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return pBe(this,r)}}var No=function(t){return Cy(t)[0]},Cy=function(t){if(typeof t!="string"||t==="")return["localhost"];var e=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,n=t.match(e)||[],r=n[4],i;return r&&(i=(r.match(/[^\.]+\.[^\.]+$/)||[])[0]),[r,i]},Hk=Ls(Ko()),gBe={exists:function(){var t=Hk.default.performance,e=t&&t.timing;return e!==void 0},domContentLoadedEventEnd:function(){var t=Hk.default.performance,e=t&&t.timing;return e&&e.domContentLoadedEventEnd},navigationStart:function(){var t=Hk.default.performance,e=t&&t.timing;return e&&e.navigationStart}},Q_=gBe;function Wi(t,e,n){n=n===void 0?1:n,t[e]=t[e]||0,t[e]+=n}function Z_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Tn(t,i,n[i])})}return t}function yBe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n.push.apply(n,r)}return n}function LN(t,e){return e=e??{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):yBe(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}var bBe=["x-cdn","content-type"],Pee=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],vBe=bBe.concat(Pee);function PN(t){t=t||"";var e={},n=t.trim().split(/[\r\n]+/);return n.forEach(function(r){if(r){var i=r.split(": "),o=i.shift();o&&(vBe.indexOf(o.toLowerCase())>=0||o.toLowerCase().indexOf("x-litix-")===0)&&(e[o]=i.join(": "))}}),e}function J_(t){if(t){var e=Pee.find(function(n){return t[n]!==void 0});return e?t[e]:void 0}}var EBe=function(t){var e={};for(var n in t){var r=t[n],i=r["DATA-ID"].search("io.litix.data.");if(i!==-1){var o=r["DATA-ID"].replace("io.litix.data.","");e[o]=r.VALUE}}return e},Oee=EBe,kv=function(t){if(!t)return{};var e=Q_.navigationStart(),n=t.loading,r=n?n.start:t.trequest,i=n?n.first:t.tfirst,o=n?n.end:t.tload;return{bytesLoaded:t.total,requestStart:Math.round(e+r),responseStart:Math.round(e+i),responseEnd:Math.round(e+o)}},Lm=function(t){if(!(!t||typeof t.getAllResponseHeaders!="function"))return PN(t.getAllResponseHeaders())},_Be=function(t,e,n){var r=arguments.length>4?arguments[4]:void 0,i=t.log,o=t.utils.secondsToMs,l=function(b){var v=parseInt(r.version),_;return v===1&&b.programDateTime!==null&&(_=b.programDateTime),v===0&&b.pdt!==null&&(_=b.pdt),_};if(!Q_.exists()){i.warn("performance timing not supported. Not tracking HLS.js.");return}var u=function(b,v){return t.emit(e,b,v)},c=function(b,v){var _=v.levels,E=v.audioTracks,T=v.url,A=v.stats,w=v.networkDetails,I=v.sessionData,C={},j={};_.forEach(function(Te,ge){C[ge]={width:Te.width,height:Te.height,bitrate:Te.bitrate,attrs:Te.attrs}}),E.forEach(function(Te,ge){j[ge]={name:Te.name,language:Te.lang,bitrate:Te.bitrate}});var F=kv(A),K=F.bytesLoaded,he=F.requestStart,q=F.responseStart,Ee=F.responseEnd;u("requestcompleted",LN(Z_({},Oee(I)),{request_event_type:b,request_bytes_loaded:K,request_start:he,request_response_start:q,request_response_end:Ee,request_type:"manifest",request_hostname:No(T),request_response_headers:Lm(w),request_rendition_lists:{media:C,audio:j,video:{}}}))};n.on(r.Events.MANIFEST_LOADED,c);var d=function(b,v){var _=v.details,E=v.level,T=v.networkDetails,A=v.stats,w=kv(A),I=w.bytesLoaded,C=w.requestStart,j=w.responseStart,F=w.responseEnd,K=_.fragments[_.fragments.length-1],he=l(K)+o(K.duration);u("requestcompleted",{request_event_type:b,request_bytes_loaded:I,request_start:C,request_response_start:j,request_response_end:F,request_current_level:E,request_type:"manifest",request_hostname:No(_.url),request_response_headers:Lm(T),video_holdback:_.holdBack&&o(_.holdBack),video_part_holdback:_.partHoldBack&&o(_.partHoldBack),video_part_target_duration:_.partTarget&&o(_.partTarget),video_target_duration:_.targetduration&&o(_.targetduration),video_source_is_live:_.live,player_manifest_newest_program_time:isNaN(he)?void 0:he})};n.on(r.Events.LEVEL_LOADED,d);var h=function(b,v){var _=v.details,E=v.networkDetails,T=v.stats,A=kv(T),w=A.bytesLoaded,I=A.requestStart,C=A.responseStart,j=A.responseEnd;u("requestcompleted",{request_event_type:b,request_bytes_loaded:w,request_start:I,request_response_start:C,request_response_end:j,request_type:"manifest",request_hostname:No(_.url),request_response_headers:Lm(E)})};n.on(r.Events.AUDIO_TRACK_LOADED,h);var f=function(b,v){var _=v.stats,E=v.networkDetails,T=v.frag;_=_||T.stats;var A=kv(_),w=A.bytesLoaded,I=A.requestStart,C=A.responseStart,j=A.responseEnd,F=E?Lm(E):void 0,K={request_event_type:b,request_bytes_loaded:w,request_start:I,request_response_start:C,request_response_end:j,request_hostname:E?No(E.responseURL):void 0,request_id:F?J_(F):void 0,request_response_headers:F,request_media_duration:T.duration,request_url:E?.responseURL};T.type==="main"?(K.request_type="media",K.request_current_level=T.level,K.request_video_width=(n.levels[T.level]||{}).width,K.request_video_height=(n.levels[T.level]||{}).height,K.request_labeled_bitrate=(n.levels[T.level]||{}).bitrate):K.request_type=T.type,u("requestcompleted",K)};n.on(r.Events.FRAG_LOADED,f);var p=function(b,v){var _=v.frag,E=_.start,T=l(_),A={currentFragmentPDT:T,currentFragmentStart:o(E)};u("fragmentchange",A)};n.on(r.Events.FRAG_CHANGED,p);var m=function(b,v){var _=v.type,E=v.details,T=v.response,A=v.fatal,w=v.frag,I=v.networkDetails,C=w?.url||v.url||"",j=I?Lm(I):void 0;if((E===r.ErrorDetails.MANIFEST_LOAD_ERROR||E===r.ErrorDetails.MANIFEST_LOAD_TIMEOUT||E===r.ErrorDetails.FRAG_LOAD_ERROR||E===r.ErrorDetails.FRAG_LOAD_TIMEOUT||E===r.ErrorDetails.LEVEL_LOAD_ERROR||E===r.ErrorDetails.LEVEL_LOAD_TIMEOUT||E===r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||E===r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||E===r.ErrorDetails.SUBTITLE_LOAD_ERROR||E===r.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||E===r.ErrorDetails.KEY_LOAD_ERROR||E===r.ErrorDetails.KEY_LOAD_TIMEOUT)&&u("requestfailed",{request_error:E,request_url:C,request_hostname:No(C),request_id:j?J_(j):void 0,request_type:E===r.ErrorDetails.FRAG_LOAD_ERROR||E===r.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":E===r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||E===r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":E===r.ErrorDetails.SUBTITLE_LOAD_ERROR||E===r.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":E===r.ErrorDetails.KEY_LOAD_ERROR||E===r.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:T?.code,request_error_text:T?.text}),A){var F,K="".concat(C?"url: ".concat(C,`
`):"")+"".concat(T&&(T.code||T.text)?"response: ".concat(T.code,", ").concat(T.text,`
`):"")+"".concat(v.reason?"failure reason: ".concat(v.reason,`
`):"")+"".concat(v.level?"level: ".concat(v.level,`
`):"")+"".concat(v.parent?"parent stream controller: ".concat(v.parent,`
`):"")+"".concat(v.buffer?"buffer length: ".concat(v.buffer,`
`):"")+"".concat(v.error?"error: ".concat(v.error,`
`):"")+"".concat(v.event?"event: ".concat(v.event,`
`):"")+"".concat(v.err?"error message: ".concat((F=v.err)===null||F===void 0?void 0:F.message,`
`):"");u("error",{player_error_code:_,player_error_message:E,player_error_context:K})}};n.on(r.Events.ERROR,m);var g=function(b,v){var _=v.frag,E=_&&_._url||"";u("requestcanceled",{request_event_type:b,request_url:E,request_type:"media",request_hostname:No(E)})};n.on(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,g);var y=function(b,v){var _=v.level,E=n.levels[_];if(E&&E.attrs&&E.attrs.BANDWIDTH){var T=E.attrs.BANDWIDTH,A,w=parseFloat(E.attrs["FRAME-RATE"]);isNaN(w)||(A=w),T?u("renditionchange",{video_source_fps:A,video_source_bitrate:T,video_source_width:E.width,video_source_height:E.height,video_source_rendition_name:E.name,video_source_codec:E?.videoCodec}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};n.on(r.Events.LEVEL_SWITCHED,y),n._stopMuxMonitor=function(){n.off(r.Events.MANIFEST_LOADED,c),n.off(r.Events.LEVEL_LOADED,d),n.off(r.Events.AUDIO_TRACK_LOADED,h),n.off(r.Events.FRAG_LOADED,f),n.off(r.Events.FRAG_CHANGED,p),n.off(r.Events.ERROR,m),n.off(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,g),n.off(r.Events.LEVEL_SWITCHED,y),n.off(r.Events.DESTROYING,n._stopMuxMonitor),delete n._stopMuxMonitor},n.on(r.Events.DESTROYING,n._stopMuxMonitor)},TBe=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},N9=function(t,e){if(!t||!t.requestEndDate)return{};var n=No(t.url),r=t.url,i=t.bytesLoaded,o=new Date(t.requestStartDate).getTime(),l=new Date(t.firstByteDate).getTime(),u=new Date(t.requestEndDate).getTime(),c=isNaN(t.duration)?0:t.duration,d=typeof e.getMetricsFor=="function"?e.getMetricsFor(t.mediaType).HttpList:e.getDashMetrics().getHttpRequests(t.mediaType),h;d.length>0&&(h=PN(d[d.length-1]._responseHeaders||""));var f=h?J_(h):void 0;return{requestStart:o,requestResponseStart:l,requestResponseEnd:u,requestBytesLoaded:i,requestResponseHeaders:h,requestMediaDuration:c,requestHostname:n,requestUrl:r,requestId:f}},SBe=function(t,e){var n=e.getQualityFor(t),r=e.getCurrentTrackFor(t).bitrateList;return r?{currentLevel:n,renditionWidth:r[n].width||null,renditionHeight:r[n].height||null,renditionBitrate:r[n].bandwidth}:{}},wBe=function(t){var e;return(e=t.match(/.*codecs\*?="(.*)"/))===null||e===void 0?void 0:e[1]},ABe=function(t){try{var e,n,r=(n=t.getVersion)===null||n===void 0||(e=n.call(t))===null||e===void 0?void 0:e.split(".").map(function(i){return parseInt(i)})[0];return r}catch{return!1}},IBe=function(t,e,n){var r=t.log;if(!n||!n.on){r.warn("Invalid dash.js player reference. Monitoring blocked.");return}var i=ABe(n),o=function(_,E){return t.emit(e,_,E)},l=function(_){var E=_.type,T=_.data,A=(T||{}).url;o("requestcompleted",{request_event_type:E,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:No(A),request_url:A})};n.on("manifestLoaded",l);var u={},c=function(_){if(typeof _.getRequests!="function")return null;var E=_.getRequests({state:"executed"});return E.length===0?null:E[E.length-1]},d=function(_){var E=_.type,T=_.fragmentModel,A=_.chunk,w=c(T);h({type:E,request:w,chunk:A})},h=function(_){var E=_.type,T=_.chunk,A=_.request,w=(T||{}).mediaInfo,I=w||{},C=I.type,j=I.bitrateList;j=j||[];var F={};j.forEach(function(Ie,we){F[we]={},F[we].width=Ie.width,F[we].height=Ie.height,F[we].bitrate=Ie.bandwidth,F[we].attrs={}}),C==="video"?u.video=F:C==="audio"?u.audio=F:u.media=F;var K=N9(A,n),he=K.requestStart,q=K.requestResponseStart,Ee=K.requestResponseEnd,Te=K.requestResponseHeaders,ge=K.requestMediaDuration,Be=K.requestHostname,He=K.requestUrl,Ye=K.requestId;o("requestcompleted",{request_event_type:E,request_start:he,request_response_start:q,request_response_end:Ee,request_bytes_loaded:-1,request_type:C+"_init",request_response_headers:Te,request_hostname:Be,request_id:Ye,request_url:He,request_media_duration:ge,request_rendition_lists:u})};i>=4?n.on("initFragmentLoaded",h):n.on("initFragmentLoaded",d);var f=function(_){var E=_.type,T=_.fragmentModel,A=_.chunk,w=c(T);p({type:E,request:w,chunk:A})},p=function(_){var E=_.type,T=_.chunk,A=_.request,w=T||{},I=w.mediaInfo,C=w.start,j=I||{},F=j.type,K=N9(A,n),he=K.requestStart,q=K.requestResponseStart,Ee=K.requestResponseEnd,Te=K.requestBytesLoaded,ge=K.requestResponseHeaders,Be=K.requestMediaDuration,He=K.requestHostname,Ye=K.requestUrl,Ie=K.requestId,we=SBe(F,n),je=we.currentLevel,Ce=we.renditionWidth,dt=we.renditionHeight,Le=we.renditionBitrate;o("requestcompleted",{request_event_type:E,request_start:he,request_response_start:q,request_response_end:Ee,request_bytes_loaded:Te,request_type:F,request_response_headers:ge,request_hostname:He,request_id:Ie,request_url:Ye,request_media_start_time:C,request_media_duration:Be,request_current_level:je,request_labeled_bitrate:Le,request_video_width:Ce,request_video_height:dt})};i>=4?n.on("mediaFragmentLoaded",p):n.on("mediaFragmentLoaded",f);var m={video:void 0,audio:void 0,totalBitrate:void 0},g=function(){if(m.video&&typeof m.video.bitrate=="number"){if(!(m.video.width&&m.video.height)){r.warn("have bitrate info for video but missing width/height");return}var _=m.video.bitrate;if(m.audio&&typeof m.audio.bitrate=="number"&&(_+=m.audio.bitrate),_!==m.totalBitrate)return m.totalBitrate=_,{video_source_bitrate:_,video_source_height:m.video.height,video_source_width:m.video.width,video_source_codec:wBe(m.video.codec)}}},y=function(_,E,T){if(typeof _.newQuality!="number"){r.warn("missing evt.newQuality in qualityChangeRendered event",_);return}var A=_.mediaType;if(A==="audio"||A==="video"){var w=n.getBitrateInfoListFor(A).find(function(C){var j=C.qualityIndex;return j===_.newQuality});if(!(w&&typeof w.bitrate=="number")){r.warn("missing bitrate info for ".concat(A));return}m[A]=LN(Z_({},w),{codec:n.getCurrentTrackFor(A).codec});var I=g();I&&o("renditionchange",I)}};n.on("qualityChangeRendered",y);var b=function(_){var E=_.request,T=_.mediaType;E=E||{},o("requestcanceled",{request_event_type:E.type+"_"+E.action,request_url:E.url,request_type:T,request_hostname:No(E.url)})};n.on("fragmentLoadingAbandoned",b);var v=function(_){var E=_.error,T,A,w=(E==null||(T=E.data)===null||T===void 0?void 0:T.request)||{},I=(E==null||(A=E.data)===null||A===void 0?void 0:A.response)||{};E?.code===27&&o("requestfailed",{request_error:w.type+"_"+w.action,request_url:w.url,request_hostname:No(w.url),request_type:w.mediaType,request_error_code:I.status,request_error_text:I.statusText});var C="".concat(w!=null&&w.url?"url: ".concat(w.url,`
`):"")+"".concat(I!=null&&I.status||I!=null&&I.statusText?"response: ".concat(I?.status,", ").concat(I?.statusText,`
`):"");o("error",{player_error_code:E?.code,player_error_message:E?.message,player_error_context:C})};n.on("error",v),n._stopMuxMonitor=function(){n.off("manifestLoaded",l),n.off("initFragmentLoaded",h),n.off("mediaFragmentLoaded",p),n.off("qualityChangeRendered",y),n.off("error",v),n.off("fragmentLoadingAbandoned",b),delete n._stopMuxMonitor}},xBe=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},F9=0,RBe=(function(){function t(){va(this,t),Tn(this,"_listeners",void 0)}return jl(t,[{key:"on",value:function(e,n,r){return n._eventEmitterGuid=n._eventEmitterGuid||++F9,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(n=n.bind(r)),this._listeners[e].push(n),n}},{key:"off",value:function(e,n){var r=this._listeners&&this._listeners[e];r&&r.forEach(function(i,o){i._eventEmitterGuid===n._eventEmitterGuid&&r.splice(o,1)})}},{key:"one",value:function(e,n,r){var i=this;n._eventEmitterGuid=n._eventEmitterGuid||++F9;var o=function(){i.off(e,o),n.apply(r||this,arguments)};o._eventEmitterGuid=n._eventEmitterGuid,this.on(e,o)}},{key:"emit",value:function(e,n){var r=this;if(this._listeners){n=n||{};var i=this._listeners["before*"]||[],o=this._listeners[e]||[],l=this._listeners["after"+e]||[],u=function(c,d){c=c.slice(),c.forEach(function(h){h.call(r,{type:e},d)})};u(i,n),u(o,n),u(l,n)}}}]),t})(),kBe=RBe,Gk=Ls(Ko()),CBe=(function(){function t(e){var n=this;va(this,t),Tn(this,"_playbackHeartbeatInterval",void 0),Tn(this,"_playheadShouldBeProgressing",void 0),Tn(this,"pm",void 0),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){n._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?n._stopPlaybackHeartbeatInterval():n._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){n._playbackHeartbeatInterval!==null&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(r,i){n._playbackHeartbeatInterval!==null&&(Gk.default.clearInterval(n._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:i.viewer_time}),n._playbackHeartbeatInterval=null)})}return jl(t,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=Gk.default.setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(Gk.default.clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),t})(),DBe=CBe,LBe=function t(e){var n=this;va(this,t),Tn(this,"viewErrored",void 0),e.on("viewinit",function(){n.viewErrored=!1}),e.on("error",function(r,i){try{var o=e.errorTranslator({player_error_code:i.player_error_code,player_error_message:i.player_error_message,player_error_context:i.player_error_context,player_error_severity:i.player_error_severity,player_error_business_exception:i.player_error_business_exception});o&&(e.data.player_error_code=o.player_error_code||i.player_error_code,e.data.player_error_message=o.player_error_message||i.player_error_message,e.data.player_error_context=o.player_error_context||i.player_error_context,e.data.player_error_severity=o.player_error_severity||i.player_error_severity,e.data.player_error_business_exception=o.player_error_business_exception||i.player_error_business_exception,n.viewErrored=!0)}catch(l){e.mux.log.warn("Exception in error translator callback.",l),n.viewErrored=!0}}),e.on("aftererror",function(){var r,i,o,l,u;(r=e.data)===null||r===void 0||delete r.player_error_code,(i=e.data)===null||i===void 0||delete i.player_error_message,(o=e.data)===null||o===void 0||delete o.player_error_context,(l=e.data)===null||l===void 0||delete l.player_error_severity,(u=e.data)===null||u===void 0||delete u.player_error_business_exception})},PBe=LBe,OBe=(function(){function t(e){va(this,t),Tn(this,"_watchTimeTrackerLastCheckedTime",void 0),Tn(this,"pm",void 0),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return jl(t,[{key:"_updateWatchTime",value:function(e,n){var r=n.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=r),Wi(this.pm.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r}},{key:"_clearWatchTimeState",value:function(e,n){this._updateWatchTime(e,n),this._watchTimeTrackerLastCheckedTime=null}}]),t})(),MBe=OBe,NBe=(function(){function t(e){var n=this;va(this,t),Tn(this,"_playbackTimeTrackerLastPlayheadPosition",void 0),Tn(this,"_lastTime",void 0),Tn(this,"_isAdPlaying",void 0),Tn(this,"_callbackUpdatePlaybackTime",void 0),Tn(this,"pm",void 0),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=Xi.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null;var r=this._startPlaybackTimeTracking.bind(this);e.on("playing",r),e.on("adplaying",r),e.on("seeked",r);var i=this._stopPlaybackTimeTracking.bind(this);e.on("playbackheartbeatend",i),e.on("seeking",i),e.on("adplaying",function(){n._isAdPlaying=!0}),e.on("adended",function(){n._isAdPlaying=!1}),e.on("adpause",function(){n._isAdPlaying=!1}),e.on("adbreakstart",function(){n._isAdPlaying=!1}),e.on("adbreakend",function(){n._isAdPlaying=!1}),e.on("adplay",function(){n._isAdPlaying=!1}),e.on("viewinit",function(){n._playbackTimeTrackerLastPlayheadPosition=-1,n._lastTime=Xi.now(),n._isAdPlaying=!1,n._callbackUpdatePlaybackTime=null})}return jl(t,[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time,n=Xi.now(),r=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?r=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(r=n-this._lastTime),r>0&&r<=1e3&&Wi(this.pm.data,"view_content_playback_time",r),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=n}}]),t})(),FBe=NBe,UBe=(function(){function t(e){va(this,t),Tn(this,"pm",void 0),this.pm=e;var n=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",n),e.on("playbackheartbeatend",n),e.on("timeupdate",n),e.on("destroy",function(){e.off("timeupdate",n)})}return jl(t,[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=typeof this.pm.data.view_max_playhead_position>"u"?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,n){var r=this,i=function(){r.pm.currentFragmentPDT&&r.pm.currentFragmentStart&&(r.pm.data.player_program_time=r.pm.currentFragmentPDT+r.pm.data.player_playhead_time-r.pm.currentFragmentStart)};if(n&&n.player_playhead_time)this.pm.data.player_playhead_time=n.player_playhead_time,i(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var o=this.pm.getPlayheadTime();typeof o<"u"&&(this.pm.data.player_playhead_time=o,i(),this._updateMaxPlayheadPosition())}}}]),t})(),BBe=UBe,U9=300*1e3,zBe=function t(e){if(va(this,t),!e.disableRebufferTracking){var n,r=function(o,l){i(l),n=void 0},i=function(o){if(n){var l=o.viewer_time-n;Wi(e.data,"view_rebuffer_duration",l),n=o.viewer_time,e.data.view_rebuffer_duration>U9&&(e.emit("viewend"),e.send("viewend"),e.mux.log.warn("Ending view after rebuffering for longer than ".concat(U9,"ms, future events will be ignored unless a programchange or videochange occurs.")))}e.data.view_watch_time>=0&&e.data.view_rebuffer_count>0&&(e.data.view_rebuffer_frequency=e.data.view_rebuffer_count/e.data.view_watch_time,e.data.view_rebuffer_percentage=e.data.view_rebuffer_duration/e.data.view_watch_time)};e.on("playbackheartbeat",function(o,l){return i(l)}),e.on("rebufferstart",function(o,l){n||(Wi(e.data,"view_rebuffer_count",1),n=l.viewer_time,e.one("rebufferend",r))}),e.on("viewinit",function(){n=void 0,e.off("rebufferend",r)})}},$Be=zBe,qBe=(function(){function t(e){var n=this;va(this,t),Tn(this,"_lastCheckedTime",void 0),Tn(this,"_lastPlayheadTime",void 0),Tn(this,"_lastPlayheadTimeUpdatedTime",void 0),Tn(this,"_rebuffering",void 0),Tn(this,"pm",void 0),this.pm=e,!(e.disableRebufferTracking||e.disablePlayheadRebufferTracking)&&(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){n._cleanupRebufferTracker(null,{viewer_time:Xi.now()})}))}return jl(t,[{key:"_checkIfRebuffering",value:function(e,n){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing){this._cleanupRebufferTracker(e,n);return}if(this._lastCheckedTime===null){this._prepareRebufferTrackerState(n.viewer_time);return}if(this._lastPlayheadTime!==this.pm.data.player_playhead_time){this._cleanupRebufferTracker(e,n,!0);return}var r=n.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&r>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=n.viewer_time}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:n.viewer_time});else{if(this._lastCheckedTime===null)return;var i=this.pm.data.player_playhead_time-this._lastPlayheadTime,o=n.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&i>0&&o-i>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+o-i}))}r?this._prepareRebufferTrackerState(n.viewer_time):this._clearRebufferTrackerState()}}]),t})(),jBe=qBe,HBe=(function(){function t(e){var n=this;va(this,t),Tn(this,"NAVIGATION_START",void 0),Tn(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){var r=e.data,i=r.view_id;if(!r.view_program_changed){var o=function(l,u){var c=u.viewer_time;(l.type==="playing"&&typeof e.data.view_time_to_first_frame>"u"||l.type==="adplaying"&&(typeof e.data.view_time_to_first_frame>"u"||n._inPrerollPosition()))&&n.calculateTimeToFirstFrame(c||Xi.now(),i)};e.one("playing",o),e.one("adplaying",o),e.one("viewend",function(){e.off("playing",o),e.off("adplaying",o)})}})}return jl(t,[{key:"_inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,n){n===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}]),t})(),GBe=HBe,VBe=function t(e){var n=this;va(this,t),Tn(this,"_lastPlayerHeight",void 0),Tn(this,"_lastPlayerWidth",void 0),Tn(this,"_lastPlayheadPosition",void 0),Tn(this,"_lastSourceHeight",void 0),Tn(this,"_lastSourceWidth",void 0),e.on("viewinit",function(){n._lastPlayheadPosition=-1});var r=["pause","rebufferstart","seeking","error","adbreakstart","hb","renditionchange","orientationchange","viewend"],i=["playing","hb","renditionchange","orientationchange"];r.forEach(function(o){e.on(o,function(){if(n._lastPlayheadPosition>=0&&e.data.player_playhead_time>=0&&n._lastPlayerWidth>=0&&n._lastSourceWidth>0&&n._lastPlayerHeight>=0&&n._lastSourceHeight>0){var l=e.data.player_playhead_time-n._lastPlayheadPosition;if(l<0){n._lastPlayheadPosition=-1;return}var u=Math.min(n._lastPlayerWidth/n._lastSourceWidth,n._lastPlayerHeight/n._lastSourceHeight),c=Math.max(0,u-1),d=Math.max(0,1-u);e.data.view_max_upscale_percentage=Math.max(e.data.view_max_upscale_percentage||0,c),e.data.view_max_downscale_percentage=Math.max(e.data.view_max_downscale_percentage||0,d),Wi(e.data,"view_total_content_playback_time",l),Wi(e.data,"view_total_upscaling",c*l),Wi(e.data,"view_total_downscaling",d*l)}n._lastPlayheadPosition=-1})}),i.forEach(function(o){e.on(o,function(){n._lastPlayheadPosition=e.data.player_playhead_time,n._lastPlayerWidth=e.data.player_width,n._lastPlayerHeight=e.data.player_height,n._lastSourceWidth=e.data.video_source_width,n._lastSourceHeight=e.data.video_source_height})})},KBe=VBe,WBe=2e3,YBe=function t(e){var n=this;va(this,t),Tn(this,"isSeeking",void 0),this.isSeeking=!1;var r=-1,i=function(){var o=Xi.now(),l=(e.data.viewer_time||o)-(r||o);Wi(e.data,"view_seek_duration",l),e.data.view_max_seek_time=Math.max(e.data.view_max_seek_time||0,l),n.isSeeking=!1,r=-1};e.on("seeking",function(o,l){if(Object.assign(e.data,l),n.isSeeking&&l.viewer_time-r<=WBe){r=l.viewer_time;return}n.isSeeking&&i(),n.isSeeking=!0,r=l.viewer_time,Wi(e.data,"view_seek_count",1),e.send("seeking")}),e.on("seeked",function(){i()}),e.on("viewend",function(){n.isSeeking&&(i(),e.send("seeked")),n.isSeeking=!1,r=-1})},XBe=YBe,B9=function(t,e){t.push(e),t.sort(function(n,r){return n.viewer_time-r.viewer_time})},QBe=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],ZBe=(function(){function t(e){var n=this;va(this,t),Tn(this,"_adHasPlayed",void 0),Tn(this,"_adRequests",void 0),Tn(this,"_adResponses",void 0),Tn(this,"_currentAdRequestNumber",void 0),Tn(this,"_currentAdResponseNumber",void 0),Tn(this,"_prerollPlayTime",void 0),Tn(this,"_wouldBeNewAdPlay",void 0),Tn(this,"isAdBreak",void 0),Tn(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){n.isAdBreak=!1,n._currentAdRequestNumber=0,n._currentAdResponseNumber=0,n._adRequests=[],n._adResponses=[],n._adHasPlayed=!1,n._wouldBeNewAdPlay=!0,n._prerollPlayTime=void 0}),QBe.forEach(function(i){return e.on(i,n._updateAdData.bind(n))});var r=function(){n.isAdBreak=!1};e.on("adbreakstart",function(){n.isAdBreak=!0}),e.on("play",r),e.on("playing",r),e.on("viewend",r),e.on("adrequest",function(i,o){o=Object.assign({ad_request_id:"generatedAdRequestId"+n._currentAdRequestNumber++},o),B9(n._adRequests,o),Wi(e.data,"view_ad_request_count"),n.inPrerollPosition()&&(e.data.view_preroll_requested=!0,n._adHasPlayed||Wi(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(i,o){o=Object.assign({ad_request_id:"generatedAdRequestId"+n._currentAdResponseNumber++},o),B9(n._adResponses,o);var l=n.findAdRequest(o.ad_request_id);l&&Wi(e.data,"view_ad_request_time",Math.max(0,o.viewer_time-l.viewer_time))}),e.on("adplay",function(i,o){n._adHasPlayed=!0,n._wouldBeNewAdPlay&&(n._wouldBeNewAdPlay=!1,Wi(e.data,"view_ad_played_count")),n.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,n._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,o.viewer_time-n._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,o.viewer_time-e.data.view_start)),n._prerollPlayTime=o.viewer_time)}),e.on("adplaying",function(i,o){n.inPrerollPosition()&&typeof e.data.view_preroll_load_time>"u"&&typeof n._prerollPlayTime<"u"&&(e.data.view_preroll_load_time=o.viewer_time-n._prerollPlayTime,e.data.view_startup_preroll_load_time=o.viewer_time-n._prerollPlayTime)}),e.on("adclicked",function(i,o){n._wouldBeNewAdPlay||Wi(e.data,"view_ad_clicked_count")}),e.on("adskipped",function(i,o){n._wouldBeNewAdPlay||Wi(e.data,"view_ad_skipped_count")}),e.on("adended",function(){n._wouldBeNewAdPlay=!0}),e.on("aderror",function(){n._wouldBeNewAdPlay=!0})}return jl(t,[{key:"inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var n=0;n<this._adRequests.length;n++)if(this._adRequests[n].ad_request_id===e)return this._adRequests[n]}},{key:"_updateAdData",value:function(e,n){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&n.ad_tag_url){var r=vu(Cy(n.ad_tag_url),2),i=r[0],o=r[1];this.pm.data.view_preroll_ad_tag_domain=o,this.pm.data.view_preroll_ad_tag_hostname=i}if(!this.pm.data.view_preroll_ad_asset_hostname&&n.ad_asset_url){var l=vu(Cy(n.ad_asset_url),2),u=l[0],c=l[1];this.pm.data.view_preroll_ad_asset_domain=c,this.pm.data.view_preroll_ad_asset_hostname=u}}this.pm.data.ad_asset_url=n?.ad_asset_url,this.pm.data.ad_tag_url=n?.ad_tag_url,this.pm.data.ad_creative_id=n?.ad_creative_id,this.pm.data.ad_id=n?.ad_id,this.pm.data.ad_universal_id=n?.ad_universal_id}}]),t})(),JBe=ZBe,z9=Ls(Ko()),eze=function t(e){va(this,t);var n,r,i=function(){e.disableRebufferTracking||(Wi(e.data,"view_waiting_rebuffer_count",1),n=Xi.now(),r=z9.default.setInterval(function(){if(n){var d=Xi.now();Wi(e.data,"view_waiting_rebuffer_duration",d-n),n=d}},250))},o=function(){e.disableRebufferTracking||n&&(Wi(e.data,"view_waiting_rebuffer_duration",Xi.now()-n),n=!1,z9.default.clearInterval(r))},l=!1,u=function(){l=!0},c=function(){l=!1,o()};e.on("waiting",function(){l&&i()}),e.on("playing",function(){o(),u()}),e.on("pause",c),e.on("seeking",c)},tze=eze,nze=function t(e){var n=this;va(this,t),Tn(this,"lastWallClockTime",void 0);var r=function(){n.lastWallClockTime=Xi.now(),e.on("before*",i)},i=function(o){var l=Xi.now(),u=n.lastWallClockTime;n.lastWallClockTime=l,l-u>3e4&&(e.emit("devicesleep",{viewer_time:u}),Object.assign(e.data,{viewer_time:u}),e.send("devicesleep"),e.emit("devicewake",{viewer_time:l}),Object.assign(e.data,{viewer_time:l}),e.send("devicewake"))};e.one("playbackheartbeat",r),e.on("playbackheartbeatend",function(){e.off("before*",i),e.one("playbackheartbeat",r)})},rze=nze,Vk=Ls(Ko()),Mee=(function(t){return t()})(function(){var t=function(){for(var n=0,r={};n<arguments.length;n++){var i=arguments[n];for(var o in i)r[o]=i[o]}return r};function e(n){function r(i,o,l){var u;if(typeof document<"u"){if(arguments.length>1){if(l=t({path:"/"},r.defaults,l),typeof l.expires=="number"){var c=new Date;c.setMilliseconds(c.getMilliseconds()+l.expires*864e5),l.expires=c}try{u=JSON.stringify(o),/^[\{\[]/.test(u)&&(o=u)}catch{}return n.write?o=n.write(o,i):o=encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),i=encodeURIComponent(String(i)),i=i.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),i=i.replace(/[\(\)]/g,escape),document.cookie=[i,"=",o,l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}i||(u={});for(var d=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,f=0;f<d.length;f++){var p=d[f].split("="),m=p.slice(1).join("=");m.charAt(0)==='"'&&(m=m.slice(1,-1));try{var g=p[0].replace(h,decodeURIComponent);if(m=n.read?n.read(m,g):n(m,g)||m.replace(h,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch{}if(i===g){u=m;break}i||(u[g]=m)}catch{}}return u}}return r.set=r,r.get=function(i){return r.call(r,i)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(i,o){r(i,"",t(o,{expires:-1}))},r.withConverter=e,r}return e(function(){})}),Nee="muxData",ize=function(t){return Object.entries(t).map(function(e){var n=vu(e,2),r=n[0],i=n[1];return"".concat(r,"=").concat(i)}).join("&")},aze=function(t){return t.split("&").reduce(function(e,n){var r=vu(n.split("="),2),i=r[0],o=r[1],l=+o,u=o&&l==o?l:o;return e[i]=u,e},{})},Fee=function(){var t;try{t=aze(Mee.get(Nee)||"")}catch{t={}}return t},Uee=function(t){try{Mee.set(Nee,ize(t),{expires:365})}catch{}},sze=function(){var t=Fee();return t.mux_viewer_id=t.mux_viewer_id||ky(),t.msn=t.msn||Math.random(),Uee(t),{mux_viewer_id:t.mux_viewer_id,mux_sample_number:t.msn}},oze=function(){var t=Fee(),e=Xi.now();return t.session_start&&(t.sst=t.session_start,delete t.session_start),t.session_id&&(t.sid=t.session_id,delete t.session_id),t.session_expires&&(t.sex=t.session_expires,delete t.session_expires),(!t.sex||t.sex<e)&&(t.sid=ky(),t.sst=e),t.sex=e+1500*1e3,Uee(t),{session_id:t.sid,session_start:t.sst,session_expires:t.sex}};function lze(t,e){var n=e.beaconCollectionDomain,r=e.beaconDomain;if(n)return"https://"+n;t=t||"inferred";var i=r||"litix.io";return t.match(/^[a-z0-9]+$/)?"https://"+t+"."+i:"https://img.litix.io/a.gif"}var uze=Ls(Ko()),Bee=function(){var t;switch(zee()){case"cellular":t="cellular";break;case"ethernet":t="wired";break;case"wifi":t="wifi";break;case void 0:break;default:t="other"}return t},zee=function(){var t=uze.default.navigator,e=t&&(t.connection||t.mozConnection||t.webkitConnection);return e&&e.type};Bee.getConnectionFromAPI=zee;var cze=Bee,dze={a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},fze=$ee(dze),hze={ad:"ad",af:"affiliate",ag:"aggregate",ap:"api",al:"application",ao:"audio",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",bn:"brand",br:"break",bw:"browser",by:"bytes",bz:"business",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ci:"client",ck:"clicked",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cq:"creator",cr:"creative",cs:"captions",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",dy:"dynamic",eb:"enabled",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",ep:"experiments",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ez:"exception",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",or:"origin",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pp:"pip",pr:"preload",ps:"position",pt:"part",py:"property",px:"pop",pz:"plan",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rg:"range",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sh:"shift",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",ss:"status",st:"start",su:"startup",sv:"server",sw:"software",sy:"severity",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},$9=$ee(hze);function $ee(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function mL(t){var e={},n={};return Object.keys(t).forEach(function(r){var i=!1;if(t.hasOwnProperty(r)&&t[r]!==void 0){var o=r.split("_"),l=o[0],u=fze[l];u||(ai.info("Data key word `"+o[0]+"` not expected in "+r),u=l+"_"),o.splice(1).forEach(function(c){c==="url"&&(i=!0),$9[c]?u+=$9[c]:Number.isInteger(Number(c))?u+=c:(ai.info("Data key word `"+c+"` not expected in "+r),u+="_"+c+"_")}),i?n[u]=t[r]:e[u]=t[r]}}),Object.assign(e,n)}var yd=Ls(Ko()),pze=Ls(Cee()),mze={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},gze=56*1024,yze=["hb","requestcompleted","requestfailed","requestcanceled"],bze="https://img.litix.io",Iu=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=t||bze,this._eventQueue=[],this._postInFlight=!1,this._resendAfterPost=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},mze,e)};Iu.prototype.queueEvent=function(t,e){var n=Object.assign({},e);return this._eventQueue.length<=this._options.maxQueueLength||t==="eventrateexceeded"?(this._eventQueue.push(n),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):!1};Iu.prototype.flushEvents=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(t&&this._eventQueue.length===1){this._eventQueue.pop();return}this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending()};Iu.prototype.destroy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.destroyed=!0,t?this._clearBeaconQueue():this.flushEvents(),yd.default.clearTimeout(this._sendTimeout)};Iu.prototype._clearBeaconQueue=function(){var t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,e=this._eventQueue.slice(t);t>0&&Object.assign(e[e.length-1],mL({mux_view_message:"event queue truncated"}));var n=this._createPayload(e);qee(this._beaconUrl,n,!0,function(){})};Iu.prototype._sendBeaconQueue=function(){var t=this;if(this._postInFlight){this._resendAfterPost=!0;return}var e=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var n=this._createPayload(e),r=Xi.now();qee(this._beaconUrl,n,!1,function(i,o){o?(t._eventQueue=e.concat(t._eventQueue),t._failureCount+=1,ai.info("Error sending beacon: "+o)):t._failureCount=0,t._roundTripTime=Xi.now()-r,t._postInFlight=!1,t._resendAfterPost&&(t._resendAfterPost=!1,t._eventQueue.length>0&&t._sendBeaconQueue())})};Iu.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var t=Math.pow(2,this._failureCount-1);return t=t*Math.random(),(1+t)*this._options.baseTimeBetweenBeacons};Iu.prototype._startBeaconSending=function(){var t=this;yd.default.clearTimeout(this._sendTimeout),!this.destroyed&&(this._sendTimeout=yd.default.setTimeout(function(){t._eventQueue.length&&t._sendBeaconQueue(),t._startBeaconSending()},this._getNextBeaconTime()))};Iu.prototype._createPayload=function(t){var e=this,n={transmission_timestamp:Math.round(Xi.now())};this._roundTripTime&&(n.rtt_ms=Math.round(this._roundTripTime));var r,i,o,l=function(){r=JSON.stringify({metadata:n,events:i||t}),o=r.length/1024},u=function(){return o<=e._options.maxPayloadKBSize};return l(),u()||(ai.info("Payload size is too big ("+o+" kb). Removing unnecessary events."),i=t.filter(function(c){return yze.indexOf(c.e)===-1}),l()),u()||(ai.info("Payload size still too big ("+o+" kb). Cropping fields.."),i.forEach(function(c){for(var d in c){var h=c[d],f=50*1024;typeof h=="string"&&h.length>f&&(c[d]=h.substring(0,f))}}),l()),r};var vze=typeof pze.default.exitPictureInPicture=="function"?function(t){return t.length<=gze}:function(t){return!1},qee=function(t,e,n,r){if(n&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(t,e)){r();return}if(yd.default.fetch){yd.default.fetch(t,{method:"POST",body:e,headers:{"Content-Type":"text/plain"},keepalive:vze(e)}).then(function(o){return r(null,o.ok?null:"Error")}).catch(function(o){return r(null,o)});return}if(yd.default.XMLHttpRequest){var i=new yd.default.XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4)return r(null,i.status!==200?"error":void 0)},i.open("POST",t),i.setRequestHeader("Content-Type","text/plain"),i.send(e);return}r()},Eze=Iu,_ze=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id","player_error_code","player_error_message","player_error_context","player_error_severity","player_error_business_exception"],Tze=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],Sze=["ad_id","ad_creative_id","ad_universal_id"],wze=["viewstart","error","ended","viewend"],Aze=600*1e3,Ize=(function(){function t(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};va(this,t);var i,o,l,u,c,d,h,f,p,m,g,y;Tn(this,"mux",void 0),Tn(this,"envKey",void 0),Tn(this,"options",void 0),Tn(this,"eventQueue",void 0),Tn(this,"sampleRate",void 0),Tn(this,"disableCookies",void 0),Tn(this,"respectDoNotTrack",void 0),Tn(this,"previousBeaconData",void 0),Tn(this,"lastEventTime",void 0),Tn(this,"rateLimited",void 0),Tn(this,"pageLevelData",void 0),Tn(this,"viewerData",void 0),this.mux=e,this.envKey=n,this.options=r,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.eventQueue=new Eze(lze(this.envKey,this.options));var b;this.sampleRate=(b=this.options.sampleRate)!==null&&b!==void 0?b:1;var v;this.disableCookies=(v=this.options.disableCookies)!==null&&v!==void 0?v:!1;var _;this.respectDoNotTrack=(_=this.options.respectDoNotTrack)!==null&&_!==void 0?_:!1,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(i=this.options.platform)===null||i===void 0?void 0:i.name,viewer_application_version:(o=this.options.platform)===null||o===void 0?void 0:o.version,viewer_application_engine:(l=this.options.platform)===null||l===void 0?void 0:l.layout,viewer_device_name:(u=this.options.platform)===null||u===void 0?void 0:u.product,viewer_device_category:"",viewer_device_manufacturer:(c=this.options.platform)===null||c===void 0?void 0:c.manufacturer,viewer_os_family:(h=this.options.platform)===null||h===void 0||(d=h.os)===null||d===void 0?void 0:d.family,viewer_os_architecture:(p=this.options.platform)===null||p===void 0||(f=p.os)===null||f===void 0?void 0:f.architecture,viewer_os_version:(g=this.options.platform)===null||g===void 0||(m=g.os)===null||m===void 0?void 0:m.version,viewer_connection_type:cze(),page_url:Vk.default===null||Vk.default===void 0||(y=Vk.default.location)===null||y===void 0?void 0:y.href},this.viewerData=this.disableCookies?{}:sze()}return jl(t,[{key:"send",value:function(e,n){if(!(!e||!(n!=null&&n.view_id))){if(this.respectDoNotTrack&&hL())return ai.info("Not sending `"+e+"` because Do Not Track is enabled");if(!n||typeof n!="object")return ai.error("A data object was expected in send() but was not provided");var r=this.disableCookies?{}:oze(),i=LN(Z_({},this.pageLevelData,n,r,this.viewerData),{event:e,env_key:this.envKey});i.user_id&&(i.viewer_user_id=i.user_id,delete i.user_id);var o,l=((o=i.mux_sample_number)!==null&&o!==void 0?o:0)>=this.sampleRate,u=this._deduplicateBeaconData(e,i),c=mL(u);if(this.lastEventTime=this.mux.utils.now(),l)return ai.info("Not sending event due to sample rate restriction",e,i,c);if(this.envKey||ai.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,i,c),!this.rateLimited){if(ai.info("Sending event",e,i,c),this.rateLimited=!this.eventQueue.queueEvent(e,c),this.mux.WINDOW_UNLOADING&&e==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&e==="hb"?this.eventQueue.flushEvents(!0):wze.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return i.event="eventrateexceeded",c=mL(i),this.eventQueue.queueEvent(i.event,c),ai.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,n){var r=this,i={},o=n.view_id;if(o==="-1"||e==="viewstart"||e==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=Aze)i=Z_({},n),o&&(this.previousBeaconData=i),o&&e==="viewend"&&(this.previousBeaconData=null);else{var l=e.indexOf("request")===0;Object.entries(n).forEach(function(u){var c=vu(u,2),d=c[0],h=c[1];r.previousBeaconData&&(h!==r.previousBeaconData[d]||_ze.indexOf(d)>-1||r.objectHasChanged(l,d,h,r.previousBeaconData[d])||r.eventRequiresKey(e,d))&&(i[d]=h,r.previousBeaconData[d]=h)})}return i}},{key:"objectHasChanged",value:function(e,n,r,i){return!e||n.indexOf("request_")!==0?!1:n==="request_response_headers"||typeof r!="object"||typeof i!="object"?!0:Object.keys(r||{}).length!==Object.keys(i||{}).length}},{key:"eventRequiresKey",value:function(e,n){return!!(e==="renditionchange"&&n.indexOf("video_source_")===0||Sze.includes(n)&&Tze.includes(e))}}]),t})(),xze=function t(e){va(this,t);var n=0,r=0,i=0,o=0,l=0,u=0,c=0,d=function(p,m){var g=m.request_start,y=m.request_response_start,b=m.request_response_end,v=m.request_bytes_loaded;o++;var _,E;if(y?(_=y-(g??0),E=(b??0)-y):E=(b??0)-(g??0),E>0&&v&&v>0){var T=v/E*8e3;l++,r+=v,i+=E,e.data.view_min_request_throughput=Math.min(e.data.view_min_request_throughput||1/0,T),e.data.view_average_request_throughput=r/i*8e3,e.data.view_request_count=o,_>0&&(n+=_,e.data.view_max_request_latency=Math.max(e.data.view_max_request_latency||0,_),e.data.view_average_request_latency=n/l)}},h=function(p,m){o++,u++,e.data.view_request_count=o,e.data.view_request_failed_count=u},f=function(p,m){o++,c++,e.data.view_request_count=o,e.data.view_request_canceled_count=c};e.on("requestcompleted",d),e.on("requestfailed",h),e.on("requestcanceled",f)},Rze=xze,kze=3600*1e3,Cze=function t(e){var n=this;va(this,t),Tn(this,"_lastEventTime",void 0),e.on("before*",function(r,i){var o=i.viewer_time,l=Xi.now(),u=n._lastEventTime;if(n._lastEventTime=l,u&&l-u>kze){var c=Object.keys(e.data).reduce(function(h,f){return f.indexOf("video_")===0?Object.assign(h,Tn({},f,e.data[f])):h},{});e.mux.log.info("Received event after at least an hour inactivity, creating a new view");var d=e.playbackHeartbeat._playheadShouldBeProgressing;e._resetView(Object.assign({viewer_time:o},c)),e.playbackHeartbeat._playheadShouldBeProgressing=d,e.playbackHeartbeat._playheadShouldBeProgressing&&r.type!=="play"&&r.type!=="adbreakstart"&&(e.emit("play",{viewer_time:o}),r.type!=="playing"&&e.emit("playing",{viewer_time:o}))}})},Dze=Cze,Lze=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],Pze=new Set(["requestcompleted","requestfailed","requestcanceled"]),Oze=(function(t){fBe(n,t);var e=mBe(n);function n(r,i,o){va(this,n);var l;l=e.call(this),Tn(sr(l),"DOM_CONTENT_LOADED_EVENT_END",void 0),Tn(sr(l),"NAVIGATION_START",void 0),Tn(sr(l),"_destroyed",void 0),Tn(sr(l),"_heartBeatTimeout",void 0),Tn(sr(l),"adTracker",void 0),Tn(sr(l),"dashjs",void 0),Tn(sr(l),"data",void 0),Tn(sr(l),"disablePlayheadRebufferTracking",void 0),Tn(sr(l),"disableRebufferTracking",void 0),Tn(sr(l),"errorTracker",void 0),Tn(sr(l),"errorTranslator",void 0),Tn(sr(l),"emitTranslator",void 0),Tn(sr(l),"getAdData",void 0),Tn(sr(l),"getPlayheadTime",void 0),Tn(sr(l),"getStateData",void 0),Tn(sr(l),"stateDataTranslator",void 0),Tn(sr(l),"hlsjs",void 0),Tn(sr(l),"id",void 0),Tn(sr(l),"longResumeTracker",void 0),Tn(sr(l),"minimumRebufferDuration",void 0),Tn(sr(l),"mux",void 0),Tn(sr(l),"playbackEventDispatcher",void 0),Tn(sr(l),"playbackHeartbeat",void 0),Tn(sr(l),"playbackHeartbeatTime",void 0),Tn(sr(l),"playheadTime",void 0),Tn(sr(l),"seekingTracker",void 0),Tn(sr(l),"sustainedRebufferThreshold",void 0),Tn(sr(l),"watchTimeTracker",void 0),Tn(sr(l),"currentFragmentPDT",void 0),Tn(sr(l),"currentFragmentStart",void 0),l.DOM_CONTENT_LOADED_EVENT_END=Q_.domContentLoadedEventEnd(),l.NAVIGATION_START=Q_.navigationStart();var u={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(p){return p},emitTranslator:function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return m},stateDataTranslator:function(p){return p}};l.mux=r,l.id=i,o!=null&&o.beaconDomain&&l.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),o=Object.assign(u,o),o.data=o.data||{},o.data.property_key&&(o.data.env_key=o.data.property_key,delete o.data.property_key),ai.level=o.debug?dd.DEBUG:dd.WARN,l.getPlayheadTime=o.getPlayheadTime,l.getStateData=o.getStateData||function(){return{}},l.getAdData=o.getAdData||function(){},l.minimumRebufferDuration=o.minimumRebufferDuration,l.sustainedRebufferThreshold=o.sustainedRebufferThreshold,l.playbackHeartbeatTime=o.playbackHeartbeatTime,l.disableRebufferTracking=o.disableRebufferTracking,l.disableRebufferTracking&&l.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),l.disablePlayheadRebufferTracking=o.disablePlayheadRebufferTracking,l.errorTranslator=o.errorTranslator,l.emitTranslator=o.emitTranslator,l.stateDataTranslator=o.stateDataTranslator,l.playbackEventDispatcher=new Ize(r,o.data.env_key,o),l.data={player_instance_id:ky(),mux_sample_rate:o.sampleRate,beacon_domain:o.beaconCollectionDomain||o.beaconDomain},l.data.view_sequence_number=1,l.data.player_sequence_number=1;var c=function(){typeof this.data.view_start>"u"&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(sr(l));if(l.on("viewinit",function(p,m){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,m),this._initializeViewData(),this.one("play",c),this.one("adbreakstart",c)}),l.on("videochange",function(p,m){this._resetView(m)}),l.on("programchange",function(p,m){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),this._resetView(Object.assign(m,{view_program_changed:!0})),c(),this.emit("play"),this.emit("playing")}),l.on("fragmentchange",function(p,m){this.currentFragmentPDT=m.currentFragmentPDT,this.currentFragmentStart=m.currentFragmentStart}),l.on("destroy",l.destroy),typeof window<"u"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var d=function(){var p=typeof l.data.view_start<"u";l.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",p&&l.mux.WINDOW_HIDDEN&&(l.data.player_is_paused||l.emit("hb"))};window.addEventListener("visibilitychange",d,!1);var h=function(p){p.persisted||l.destroy()};window.addEventListener("pagehide",h,!1),l.on("destroy",function(){window.removeEventListener("visibilitychange",d),window.removeEventListener("pagehide",h)})}l.on("playerready",function(p,m){Object.assign(this.data,m)}),Lze.forEach(function(p){l.on(p,function(m,g){p.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,g),this._sanitizeData()}),l.on("after"+p,function(){(p!=="error"||this.errorTracker.viewErrored)&&this.send(p)})}),l.on("viewend",function(p,m){Object.assign(l.data,m)});var f=function(p){var m=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=m-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};return l.one("playerready",f),l.longResumeTracker=new Dze(sr(l)),l.errorTracker=new PBe(sr(l)),new rze(sr(l)),l.seekingTracker=new XBe(sr(l)),l.playheadTime=new BBe(sr(l)),l.playbackHeartbeat=new DBe(sr(l)),new KBe(sr(l)),l.watchTimeTracker=new MBe(sr(l)),new FBe(sr(l)),l.adTracker=new JBe(sr(l)),new jBe(sr(l)),new $Be(sr(l)),new GBe(sr(l)),new tze(sr(l)),new Rze(sr(l)),o.hlsjs&&l.addHLSJS(o),o.dashjs&&l.addDashJS(o),l.emit("viewinit",o.data),l}return jl(n,[{key:"emit",value:function(r,i){var o,l=Object.assign({viewer_time:this.mux.utils.now()},i),u=[r,l];if(this.emitTranslator)try{u=this.emitTranslator(r,l)}catch(c){this.mux.log.warn("Exception in emit translator callback.",c)}u!=null&&u.length&&(o=d0(bp(n.prototype),"emit",this)).call.apply(o,[this].concat(ko(u)))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,typeof this.data.view_start<"u"&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(r){if(this.data.view_id){var i=Object.assign({},this.data),o=["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"];if(i.video_source_is_live===void 0&&(i.player_source_duration===1/0||i.video_source_duration===1/0?i.video_source_is_live=!0:(i.player_source_duration>0||i.video_source_duration>0)&&(i.video_source_is_live=!1)),i.video_source_is_live||o.forEach(function(d){i[d]=void 0}),i.video_source_url=i.video_source_url||i.player_source_url,i.video_source_url){var l=vu(Cy(i.video_source_url),2),u=l[0],c=l[1];i.video_source_domain=c,i.video_source_hostname=u}delete i.ad_request_id,this.playbackEventDispatcher.send(r,i),this.data.view_sequence_number++,this.data.player_sequence_number++,Pze.has(r)||this._restartHeartBeat(),r==="viewend"&&delete this.data.view_id}}},{key:"_resetView",value:function(r){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",r)}},{key:"_updateStateData",value:function(){var r=this.getStateData();if(typeof this.stateDataTranslator=="function")try{r=this.stateDataTranslator(r)}catch(i){this.mux.log.warn("Exception in stateDataTranslator translator callback.",i)}Object.assign(this.data,r),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var r=this,i=["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"];i.forEach(function(l){var u=parseInt(r.data[l],10);r.data[l]=isNaN(u)?void 0:u});var o=["player_source_url","video_source_url"];o.forEach(function(l){if(r.data[l]){var u=r.data[l].toLowerCase();(u.indexOf("data:")===0||u.indexOf("blob:")===0)&&(r.data[l]="MSE style URL")}})}},{key:"_resetVideoData",value:function(){var r=this;Object.keys(this.data).forEach(function(i){i.indexOf("video_")===0&&delete r.data[i]})}},{key:"_resetViewData",value:function(){var r=this;Object.keys(this.data).forEach(function(i){i.indexOf("view_")===0&&delete r.data[i]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(){delete this.data.player_error_code,delete this.data.player_error_message,delete this.data.player_error_context,delete this.data.player_error_severity,delete this.data.player_error_business_exception}},{key:"_initializeViewData",value:function(){var r=this,i=this.data.view_id=ky(),o=function(){i===r.data.view_id&&Wi(r.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",o):o()}},{key:"_restartHeartBeat",value:function(){var r=this;window.clearTimeout(this._heartBeatTimeout),this._heartBeatTimeout=window.setTimeout(function(){r.data.player_is_paused||r.emit("hb")},1e4)}},{key:"addHLSJS",value:function(r){if(!r.hlsjs){this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.");return}if(this.hlsjs){this.mux.log.warn("An instance of HLS.js is already being monitored for this player.");return}this.hlsjs=r.hlsjs,_Be(this.mux,this.id,r.hlsjs,{},r.Hls||window.Hls)}},{key:"removeHLSJS",value:function(){this.hlsjs&&(TBe(this.hlsjs),this.hlsjs=void 0)}},{key:"addDashJS",value:function(r){if(!r.dashjs){this.mux.log.warn("You must pass a valid dashjs instance in order to track it.");return}if(this.dashjs){this.mux.log.warn("An instance of Dash.js is already being monitored for this player.");return}this.dashjs=r.dashjs,IBe(this.mux,this.id,r.dashjs)}},{key:"removeDashJS",value:function(){this.dashjs&&(xBe(this.dashjs),this.dashjs=void 0)}}]),n})(kBe),Mze=Oze,Pm=Ls(Cee());function Nze(){return Pm.default&&!!(Pm.default.fullscreenElement||Pm.default.webkitFullscreenElement||Pm.default.mozFullScreenElement||Pm.default.msFullscreenElement)}var Fze=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],Uze={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};function Bze(t,e,n){var r=vu(X_(e),3),i=r[0],o=r[1],l=r[2],u=t.log,c=t.utils.getComputedStyle,d=t.utils.secondsToMs,h={automaticErrorTracking:!0};if(i){if(l!=="video"&&l!=="audio")return u.error("The element of `"+o+"` was not a media element.")}else return u.error("No element was found with the `"+o+"` query selector.");i.mux&&(i.mux.destroy(),delete i.mux,u.warn("Already monitoring this video element, replacing existing event listeners"));var f={getPlayheadTime:function(){return d(i.currentTime)},getStateData:function(){var m,g,y,b=((m=(g=this).getPlayheadTime)===null||m===void 0?void 0:m.call(g))||d(i.currentTime),v=this.hlsjs&&this.hlsjs.url,_=this.dashjs&&typeof this.dashjs.getSource=="function"&&this.dashjs.getSource(),E={player_is_paused:i.paused,player_width:parseInt(c(i,"width")),player_height:parseInt(c(i,"height")),player_autoplay_on:i.autoplay,player_preload_on:i.preload,player_language_code:i.lang,player_is_fullscreen:Nze(),video_poster_url:i.poster,video_source_url:v||_||i.currentSrc,video_source_duration:d(i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,view_dropped_frame_count:i==null||(y=i.getVideoPlaybackQuality)===null||y===void 0?void 0:y.call(i).droppedVideoFrames};if(i.getStartDate&&b>0){var T=i.getStartDate();if(T&&typeof T.getTime=="function"&&T.getTime()){var A=T.getTime();if(E.player_program_time=A+b,i.seekable.length>0){var w=A+i.seekable.end(i.seekable.length-1);E.player_live_edge_program_time=w}}}return E}};n=Object.assign(h,n,f),n.data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:t.VERSION},n.data),i.mux=i.mux||{},i.mux.deleted=!1,i.mux.emit=function(m,g){t.emit(o,m,g)},i.mux.updateData=function(m){i.mux.emit("hb",m)};var p=function(){u.error("The monitor for this video element has already been destroyed.")};i.mux.destroy=function(){Object.keys(i.mux.listeners).forEach(function(m){i.removeEventListener(m,i.mux.listeners[m],!1)}),delete i.mux.listeners,i.mux.destroy=p,i.mux.swapElement=p,i.mux.emit=p,i.mux.addHLSJS=p,i.mux.addDashJS=p,i.mux.removeHLSJS=p,i.mux.removeDashJS=p,i.mux.updateData=p,i.mux.setEmitTranslator=p,i.mux.setStateDataTranslator=p,i.mux.setGetPlayheadTime=p,i.mux.deleted=!0,t.emit(o,"destroy")},i.mux.swapElement=function(m){var g=vu(X_(m),3),y=g[0],b=g[1],v=g[2];if(y){if(v!=="video"&&v!=="audio")return t.log.error("The element of `"+b+"` was not a media element.")}else return t.log.error("No element was found with the `"+b+"` query selector.");y.muxId=i.muxId,delete i.muxId,y.mux=y.mux||{},y.mux.listeners=Object.assign({},i.mux.listeners),delete i.mux.listeners,Object.keys(y.mux.listeners).forEach(function(_){i.removeEventListener(_,y.mux.listeners[_],!1),y.addEventListener(_,y.mux.listeners[_],!1)}),y.mux.swapElement=i.mux.swapElement,y.mux.destroy=i.mux.destroy,delete i.mux,i=y},i.mux.addHLSJS=function(m){t.addHLSJS(o,m)},i.mux.addDashJS=function(m){t.addDashJS(o,m)},i.mux.removeHLSJS=function(){t.removeHLSJS(o)},i.mux.removeDashJS=function(){t.removeDashJS(o)},i.mux.setEmitTranslator=function(m){t.setEmitTranslator(o,m)},i.mux.setStateDataTranslator=function(m){t.setStateDataTranslator(o,m)},i.mux.setGetPlayheadTime=function(m){m||(m=n.getPlayheadTime),t.setGetPlayheadTime(o,m)},t.init(o,n),t.emit(o,"playerready"),i.paused||(t.emit(o,"play"),i.readyState>2&&t.emit(o,"playing")),i.mux.listeners={},Fze.forEach(function(m){m==="error"&&!n.automaticErrorTracking||(i.mux.listeners[m]=function(){var g={};if(m==="error"){if(!i.error||i.error.code===1)return;g.player_error_code=i.error.code,g.player_error_message=Uze[i.error.code]||i.error.message}t.emit(o,m,g)},i.addEventListener(m,i.mux.listeners[m],!1))})}function zze(t,e,n,r){var i=r;if(t&&typeof t[e]=="function")try{i=t[e].apply(t,n)}catch(o){ai.info("safeCall error",o)}return i}var $g=Ls(Ko()),ch;$g.default&&$g.default.WeakMap&&(ch=new WeakMap);function $ze(t,e){if(!t||!e||!$g.default||typeof $g.default.getComputedStyle!="function")return"";var n;return ch&&ch.has(t)&&(n=ch.get(t)),n||(n=$g.default.getComputedStyle(t,null),ch&&ch.set(t,n)),n.getPropertyValue(e)}function qze(t){return Math.floor(t*1e3)}var Vc={TARGET_DURATION:"#EXT-X-TARGETDURATION",PART_INF:"#EXT-X-PART-INF",SERVER_CONTROL:"#EXT-X-SERVER-CONTROL",INF:"#EXTINF",PROGRAM_DATE_TIME:"#EXT-X-PROGRAM-DATE-TIME",VERSION:"#EXT-X-VERSION",SESSION_DATA:"#EXT-X-SESSION-DATA"},RS=function(t){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(t),this.manifest};RS.prototype.process=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf(`
`);e>-1;e=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)};RS.prototype.processLine=function(t){var e=t.indexOf(":"),n=Vze(t,e),r=n[0],i=n.length===2?ON(n[1]):void 0;if(r[0]!=="#")this.currentUri.uri=r,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(r){case Vc.TARGET_DURATION:{if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break}case Vc.PART_INF:{Kk(this.manifest,n),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break}case Vc.SERVER_CONTROL:{Kk(this.manifest,n),this.setHoldBack();break}case Vc.INF:{i===0?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break}case Vc.PROGRAM_DATE_TIME:{var o=i,l=new Date(o);this.manifest.dateTimeString||(this.manifest.dateTimeString=o,this.manifest.dateTimeObject=l),this.currentUri.dateTimeString=o,this.currentUri.dateTimeObject=l;break}case Vc.VERSION:{Kk(this.manifest,n);break}case Vc.SESSION_DATA:{var u=Kze(n[1]),c=Oee(u);Object.assign(this.manifest.sessionData,c)}}};RS.prototype.setHoldBack=function(){var t=this.manifest,e=t.serverControl,n=t.targetDuration,r=t.partTargetDuration;if(e){var i="holdBack",o="partHoldBack",l=n&&n*3,u=r&&r*2;n&&!e.hasOwnProperty(i)&&(e[i]=l),l&&e[i]<l&&(e[i]=l),r&&!e.hasOwnProperty(o)&&(e[o]=r*3),r&&e[o]<u&&(e[o]=u)}};var Kk=function(t,e){var n=jee(e[0].replace("#EXT-X-","")),r;Gze(e[1])?(r={},r=Object.assign(Hze(e[1]),r)):r=ON(e[1]),t[n]=r},jee=function(t){return t.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},ON=function(t){if(t.toLowerCase()==="yes"||t.toLowerCase()==="no")return t.toLowerCase()==="yes";var e=t.indexOf(":")!==-1?t:parseFloat(t);return isNaN(e)?t:e},jze=function(t){var e={},n=t.split("=");if(n.length>1){var r=jee(n[0]);e[r]=ON(n[1])}return e},Hze=function(t){for(var e=t.split(","),n={},r=0;e.length>r;r++){var i=e[r],o=jze(i);n=Object.assign(o,n)}return n},Gze=function(t){return t.indexOf("=")>-1},Vze=function(t,e){return e===-1?[t]:[t.substring(0,e),t.substring(e+1)]},Kze=function(t){var e={};if(t){var n=t.search(","),r=t.slice(0,n),i=t.slice(n+1),o=[r,i];return o.forEach(function(l,u){for(var c=l.replace(/['"]+/g,"").split("="),d=0;d<c.length;d++)c[d]==="DATA-ID"&&(e["DATA-ID"]=c[1-d]),c[d]==="VALUE"&&(e.VALUE=c[1-d])}),{data:e}}},Wze=RS,Yze={safeCall:zze,safeIncrement:Wi,getComputedStyle:$ze,secondsToMs:qze,assign:Object.assign,headersStringToObject:PN,cdnHeadersToRequestId:J_,extractHostnameAndDomain:Cy,extractHostname:No,manifestParser:Wze,generateShortID:Lee,generateUUID:ky,now:Xi.now,findMediaElement:X_},Xze=Yze,Qze={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled",HEARTBEAT:"hb",DESTROY:"destroy"},Zze=Qze,Jze="mux-embed",e4e="5.9.0",t4e="2.1",ji={},Ec=function(t){var e=arguments;typeof t=="string"?Ec.hasOwnProperty(t)?zg.default.setTimeout(function(){e=Array.prototype.splice.call(e,1),Ec[t].apply(null,e)},0):ai.warn("`"+t+"` is an unknown task"):typeof t=="function"?zg.default.setTimeout(function(){t(Ec)},0):ai.warn("`"+t+"` is invalid.")},n4e={loaded:Xi.now(),NAME:Jze,VERSION:e4e,API_VERSION:t4e,PLAYER_TRACKED:!1,monitor:function(t,e){return Bze(Ec,t,e)},destroyMonitor:function(t){var e=vu(X_(t),1),n=e[0];n&&n.mux&&typeof n.mux.destroy=="function"?n.mux.destroy():ai.error("A video element monitor for `"+t+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(t,e){var n=Ro(t);ji[n]?ji[n].addHLSJS(e):ai.error("A monitor for `"+n+"` has not been initialized.")},addDashJS:function(t,e){var n=Ro(t);ji[n]?ji[n].addDashJS(e):ai.error("A monitor for `"+n+"` has not been initialized.")},removeHLSJS:function(t){var e=Ro(t);ji[e]?ji[e].removeHLSJS():ai.error("A monitor for `"+e+"` has not been initialized.")},removeDashJS:function(t){var e=Ro(t);ji[e]?ji[e].removeDashJS():ai.error("A monitor for `"+e+"` has not been initialized.")},init:function(t,e){hL()&&e&&e.respectDoNotTrack&&ai.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var n=Ro(t);ji[n]=new Mze(Ec,n,e)},emit:function(t,e,n){var r=Ro(t);ji[r]?(ji[r].emit(e,n),e==="destroy"&&delete ji[r]):ai.error("A monitor for `"+r+"` has not been initialized.")},updateData:function(t,e){var n=Ro(t);ji[n]?ji[n].emit("hb",e):ai.error("A monitor for `"+n+"` has not been initialized.")},setEmitTranslator:function(t,e){var n=Ro(t);ji[n]?ji[n].emitTranslator=e:ai.error("A monitor for `"+n+"` has not been initialized.")},setStateDataTranslator:function(t,e){var n=Ro(t);ji[n]?ji[n].stateDataTranslator=e:ai.error("A monitor for `"+n+"` has not been initialized.")},setGetPlayheadTime:function(t,e){var n=Ro(t);ji[n]?ji[n].getPlayheadTime=e:ai.error("A monitor for `"+n+"` has not been initialized.")},checkDoNotTrack:hL,log:ai,utils:Xze,events:Zze,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(Ec,n4e);typeof zg.default<"u"&&typeof zg.default.addEventListener=="function"&&zg.default.addEventListener("pagehide",function(t){t.persisted||(Ec.WINDOW_UNLOADING=!0)},!1);var MN=Ec;var Cr=na,hi={VIDEO:"video",THUMBNAIL:"thumbnail",STORYBOARD:"storyboard",DRM:"drm"},rr={NOT_AN_ERROR:0,NETWORK_OFFLINE:2000002,NETWORK_UNKNOWN_ERROR:2e6,NETWORK_NO_STATUS:2000001,NETWORK_INVALID_URL:24e5,NETWORK_NOT_FOUND:2404e3,NETWORK_NOT_READY:2412e3,NETWORK_GENERIC_SERVER_FAIL:25e5,NETWORK_TOKEN_MISSING:2403201,NETWORK_TOKEN_MALFORMED:2412202,NETWORK_TOKEN_EXPIRED:2403210,NETWORK_TOKEN_AUD_MISSING:2403221,NETWORK_TOKEN_AUD_MISMATCH:2403222,NETWORK_TOKEN_SUB_MISMATCH:2403232,ENCRYPTED_ERROR:5e6,ENCRYPTED_UNSUPPORTED_KEY_SYSTEM:5000001,ENCRYPTED_GENERATE_REQUEST_FAILED:5000002,ENCRYPTED_UPDATE_LICENSE_FAILED:5000003,ENCRYPTED_UPDATE_SERVER_CERT_FAILED:5000004,ENCRYPTED_CDM_ERROR:5000005,ENCRYPTED_OUTPUT_RESTRICTED:5000006,ENCRYPTED_MISSING_TOKEN:5000002},kS=t=>t===hi.VIDEO?"playback":t,Xu=class ng extends Error{constructor(e,n=ng.MEDIA_ERR_CUSTOM,r,i){var o;super(e),this.name="MediaError",this.code=n,this.context=i,this.fatal=r??(n>=ng.MEDIA_ERR_NETWORK&&n<=ng.MEDIA_ERR_ENCRYPTED),this.message||(this.message=(o=ng.defaultMessages[this.code])!=null?o:"")}};Xu.MEDIA_ERR_ABORTED=1,Xu.MEDIA_ERR_NETWORK=2,Xu.MEDIA_ERR_DECODE=3,Xu.MEDIA_ERR_SRC_NOT_SUPPORTED=4,Xu.MEDIA_ERR_ENCRYPTED=5,Xu.MEDIA_ERR_CUSTOM=100,Xu.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var In=Xu,r4e=t=>t==null,NN=(t,e)=>r4e(e)?!1:t in e,gL={ANY:"any",MUTED:"muted"},Hr={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},Cl={MSE:"mse",NATIVE:"native"},rg={HEADER:"header",QUERY:"query",NONE:"none"},eT=Object.values(rg),hu={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},q9={HLS:hu.M3U8};[...Object.values(hu)];var i4e={upTo720p:"720p",upTo1080p:"1080p",upTo1440p:"1440p",upTo2160p:"2160p"},a4e={noLessThan480p:"480p",noLessThan540p:"540p",noLessThan720p:"720p",noLessThan1080p:"1080p",noLessThan1440p:"1440p",noLessThan2160p:"2160p"},s4e={DESCENDING:"desc"},o4e="en",yL={code:o4e},Vi=(t,e,n,r,i=t)=>{i.addEventListener(e,n,r),t.addEventListener("teardown",()=>{i.removeEventListener(e,n)},{once:!0})};function l4e(t,e,n){e&&n>e&&(n=e);for(let r=0;r<t.length;r++)if(t.start(r)<=n&&t.end(r)>=n)return!0;return!1}var FN=t=>{let e=t.indexOf("?");if(e<0)return[t];let n=t.slice(0,e),r=t.slice(e);return[n,r]},CS=t=>{let{type:e}=t;if(e){let n=e.toUpperCase();return NN(n,q9)?q9[n]:e}return u4e(t)},Hee=t=>t==="VOD"?Hr.ON_DEMAND:Hr.LIVE,Gee=t=>t==="EVENT"?Number.POSITIVE_INFINITY:t==="VOD"?Number.NaN:0,u4e=t=>{let{src:e}=t;if(!e)return"";let n="";try{n=new URL(e).pathname}catch{console.error("invalid url")}let r=n.lastIndexOf(".");if(r<0)return d4e(t)?hu.M3U8:"";let i=n.slice(r+1).toUpperCase();return NN(i,hu)?hu[i]:""},c4e="mux.com",d4e=({src:t,customDomain:e=c4e})=>{let n;try{n=new URL(`${t}`)}catch{return!1}let r=n.protocol==="https:",i=n.hostname===`stream.${e}`.toLowerCase(),o=n.pathname.split("/"),l=o.length===2,u=!(o!=null&&o[1].includes("."));return r&&i&&l&&u},Xh=t=>{let e=(t??"").split(".")[1];if(e)try{let n=e.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(r)}catch{return}},f4e=({exp:t},e=Date.now())=>!t||t*1e3<e,h4e=({sub:t},e)=>t!==e,p4e=({aud:t},e)=>!t,m4e=({aud:t},e)=>t!==e,Vee="en";function Qn(t,e=!0){var n,r;let i=e&&(r=(n=yL)==null?void 0:n[t])!=null?r:t,o=e?yL.code:Vee;return new g4e(i,o)}var g4e=class{constructor(e,n=(r=>(r=yL)!=null?r:Vee)()){this.message=e,this.locale=n}format(e){return this.message.replace(/\{(\w+)\}/g,(n,r)=>{var i;return(i=e[r])!=null?i:""})}toString(){return this.message}},y4e=Object.values(gL),j9=t=>typeof t=="boolean"||typeof t=="string"&&y4e.includes(t),b4e=(t,e,n)=>{let{autoplay:r}=t,i=!1,o=!1,l=j9(r)?r:!!r,u=()=>{i||Vi(e,"playing",()=>{i=!0},{once:!0})};if(u(),Vi(e,"loadstart",()=>{i=!1,u(),Wk(e,l)},{once:!0}),Vi(e,"loadstart",()=>{n||(t.streamType&&t.streamType!==Hr.UNKNOWN?o=t.streamType===Hr.LIVE:o=!Number.isFinite(e.duration)),Wk(e,l)},{once:!0}),n&&n.once(Cr.Events.LEVEL_LOADED,(c,d)=>{var h;t.streamType&&t.streamType!==Hr.UNKNOWN?o=t.streamType===Hr.LIVE:o=(h=d.details.live)!=null?h:!1}),!l){let c=()=>{!o||Number.isFinite(t.startTime)||(n!=null&&n.liveSyncPosition?e.currentTime=n.liveSyncPosition:Number.isFinite(e.seekable.end(0))&&(e.currentTime=e.seekable.end(0)))};n&&Vi(e,"play",()=>{e.preload==="metadata"?n.once(Cr.Events.LEVEL_UPDATED,c):c()},{once:!0})}return c=>{i||(l=j9(c)?c:!!c,Wk(e,l))}},Wk=(t,e)=>{if(!e)return;let n=t.muted,r=()=>t.muted=n;switch(e){case gL.ANY:t.play().catch(()=>{t.muted=!0,t.play().catch(r)});break;case gL.MUTED:t.muted=!0,t.play().catch(r);break;default:t.play().catch(()=>{});break}},v4e=({preload:t,src:e},n,r)=>{let i=f=>{f!=null&&["","none","metadata","auto"].includes(f)?n.setAttribute("preload",f):n.removeAttribute("preload")};if(!r)return i(t),i;let o=!1,l=!1,u=r.config.maxBufferLength,c=r.config.maxBufferSize,d=f=>{i(f);let p=f??n.preload;l||p==="none"||(p==="metadata"?(r.config.maxBufferLength=1,r.config.maxBufferSize=1):(r.config.maxBufferLength=u,r.config.maxBufferSize=c),h())},h=()=>{!o&&e&&(o=!0,r.loadSource(e))};return Vi(n,"play",()=>{l=!0,r.config.maxBufferLength=u,r.config.maxBufferSize=c,h()},{once:!0}),d(t),d};function E4e(t,e){var n;if(!("videoTracks"in t))return;let r=new WeakMap;e.on(Cr.Events.MANIFEST_PARSED,function(c,d){u();let h=t.addVideoTrack("main");h.selected=!0;for(let[f,p]of d.levels.entries()){let m=h.addRendition(p.url[0],p.width,p.height,p.videoCodec,p.bitrate);r.set(p,`${f}`),m.id=`${f}`}}),e.on(Cr.Events.AUDIO_TRACKS_UPDATED,function(c,d){l();for(let h of d.audioTracks){let f=h.default?"main":"alternative",p=t.addAudioTrack(f,h.name,h.lang);p.id=`${h.id}`,h.default&&(p.enabled=!0)}}),t.audioTracks.addEventListener("change",()=>{var c;let d=+((c=[...t.audioTracks].find(f=>f.enabled))==null?void 0:c.id),h=e.audioTracks.map(f=>f.id);d!=e.audioTrack&&h.includes(d)&&(e.audioTrack=d)}),e.on(Cr.Events.LEVELS_UPDATED,function(c,d){var h;let f=t.videoTracks[(h=t.videoTracks.selectedIndex)!=null?h:0];if(!f)return;let p=d.levels.map(m=>r.get(m));for(let m of t.videoRenditions)m.id&&!p.includes(m.id)&&f.removeRendition(m)});let i=c=>{let d=c.target.selectedIndex;d!=e.nextLevel&&(e.nextLevel=d)};(n=t.videoRenditions)==null||n.addEventListener("change",i);let o=()=>{for(let c of t.videoTracks)t.removeVideoTrack(c)},l=()=>{for(let c of t.audioTracks)t.removeAudioTrack(c)},u=()=>{o(),l()};e.once(Cr.Events.DESTROYING,u)}var Yk=t=>"time"in t?t.time:t.startTime;function _4e(t,e){e.on(Cr.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(i,{tracks:o})=>{o.forEach(l=>{var u,c;let d=(u=l.subtitleTrack)!=null?u:l.closedCaptions,h=e.subtitleTracks.findIndex(({lang:p,name:m,type:g})=>p==d?.lang&&m===l.label&&g.toLowerCase()===l.kind),f=((c=l._id)!=null?c:l.default)?"default":`${l.kind}${h}`;UN(t,l.kind,l.label,d?.lang,f,l.default)})});let n=()=>{if(!e.subtitleTracks.length)return;let i=Array.from(t.textTracks).find(u=>u.id&&u.mode==="showing"&&["subtitles","captions"].includes(u.kind));if(!i)return;let o=e.subtitleTracks[e.subtitleTrack],l=o?o.default?"default":`${e.subtitleTracks[e.subtitleTrack].type.toLowerCase()}${e.subtitleTrack}`:void 0;if(e.subtitleTrack<0||i?.id!==l){let u=e.subtitleTracks.findIndex(({lang:c,name:d,type:h,default:f})=>i.id==="default"&&f||c==i.language&&d===i.label&&h.toLowerCase()===i.kind);e.subtitleTrack=u}i?.id===l&&i.cues&&Array.from(i.cues).forEach(u=>{i.addCue(u)})};t.textTracks.addEventListener("change",n),e.on(Cr.Events.CUES_PARSED,(i,{track:o,cues:l})=>{let u=t.textTracks.getTrackById(o);if(!u)return;let c=u.mode==="disabled";c&&(u.mode="hidden"),l.forEach(d=>{var h;(h=u.cues)!=null&&h.getCueById(d.id)||u.addCue(d)}),c&&(u.mode="disabled")}),e.once(Cr.Events.DESTROYING,()=>{t.textTracks.removeEventListener("change",n),t.querySelectorAll("track[data-removeondestroy]").forEach(i=>{i.remove()})});let r=()=>{Array.from(t.textTracks).forEach(i=>{var o,l;if(!["subtitles","caption"].includes(i.kind)&&(i.label==="thumbnails"||i.kind==="chapters")){if(!((o=i.cues)!=null&&o.length)){let u="track";i.kind&&(u+=`[kind="${i.kind}"]`),i.label&&(u+=`[label="${i.label}"]`);let c=t.querySelector(u),d=(l=c?.getAttribute("src"))!=null?l:"";c?.removeAttribute("src"),setTimeout(()=>{c?.setAttribute("src",d)},0)}i.mode!=="hidden"&&(i.mode="hidden")}})};e.once(Cr.Events.MANIFEST_LOADED,r),e.once(Cr.Events.MEDIA_ATTACHED,r)}function UN(t,e,n,r,i,o){let l=document.createElement("track");return l.kind=e,l.label=n,r&&(l.srclang=r),i&&(l.id=i),o&&(l.default=!0),l.track.mode=["subtitles","captions"].includes(e)?"disabled":"hidden",l.setAttribute("data-removeondestroy",""),t.append(l),l.track}function T4e(t,e){let n=Array.prototype.find.call(t.querySelectorAll("track"),r=>r.track===e);n?.remove()}function hb(t,e,n){var r;return(r=Array.from(t.querySelectorAll("track")).find(i=>i.track.label===e&&i.track.kind===n))==null?void 0:r.track}async function Kee(t,e,n,r){let i=hb(t,n,r);return i||(i=UN(t,r,n),i.mode="hidden",await new Promise(o=>setTimeout(()=>o(void 0),0))),i.mode!=="hidden"&&(i.mode="hidden"),[...e].sort((o,l)=>Yk(l)-Yk(o)).forEach(o=>{var l,u;let c=o.value,d=Yk(o);if("endTime"in o&&o.endTime!=null)i?.addCue(new VTTCue(d,o.endTime,r==="chapters"?c:JSON.stringify(c??null)));else{let h=Array.prototype.findIndex.call(i?.cues,g=>g.startTime>=d),f=(l=i?.cues)==null?void 0:l[h],p=f?f.startTime:Number.isFinite(t.duration)?t.duration:Number.MAX_SAFE_INTEGER,m=(u=i?.cues)==null?void 0:u[h-1];m&&(m.endTime=d),i?.addCue(new VTTCue(d,p,r==="chapters"?c:JSON.stringify(c??null)))}}),t.textTracks.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),i}var BN="cuepoints",Wee=Object.freeze({label:BN});async function Yee(t,e,n=Wee){return Kee(t,e,n.label,"metadata")}var bL=t=>({time:t.startTime,value:JSON.parse(t.text)});function S4e(t,e={label:BN}){let n=hb(t,e.label,"metadata");return n!=null&&n.cues?Array.from(n.cues,r=>bL(r)):[]}function Xee(t,e={label:BN}){var n,r;let i=hb(t,e.label,"metadata");if(!((n=i?.activeCues)!=null&&n.length))return;if(i.activeCues.length===1)return bL(i.activeCues[0]);let{currentTime:o}=t,l=Array.prototype.find.call((r=i.activeCues)!=null?r:[],({startTime:u,endTime:c})=>u<=o&&c>o);return bL(l||i.activeCues[0])}async function w4e(t,e=Wee){return new Promise(n=>{Vi(t,"loadstart",async()=>{let r=await Yee(t,[],e);Vi(t,"cuechange",()=>{let i=Xee(t);if(i){let o=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(o)}},{},r),n(r)})})}var zN="chapters",Qee=Object.freeze({label:zN}),vL=t=>({startTime:t.startTime,endTime:t.endTime,value:t.text});async function Zee(t,e,n=Qee){return Kee(t,e,n.label,"chapters")}function A4e(t,e={label:zN}){var n;let r=hb(t,e.label,"chapters");return(n=r?.cues)!=null&&n.length?Array.from(r.cues,i=>vL(i)):[]}function Jee(t,e={label:zN}){var n,r;let i=hb(t,e.label,"chapters");if(!((n=i?.activeCues)!=null&&n.length))return;if(i.activeCues.length===1)return vL(i.activeCues[0]);let{currentTime:o}=t,l=Array.prototype.find.call((r=i.activeCues)!=null?r:[],({startTime:u,endTime:c})=>u<=o&&c>o);return vL(l||i.activeCues[0])}async function I4e(t,e=Qee){return new Promise(n=>{Vi(t,"loadstart",async()=>{let r=await Zee(t,[],e);Vi(t,"cuechange",()=>{let i=Jee(t);if(i){let o=new CustomEvent("chapterchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(o)}},{},r),n(r)})})}function x4e(t,e){if(e){let n=e.playingDate;if(n!=null)return new Date(n.getTime()-t.currentTime*1e3)}return typeof t.getStartDate=="function"?t.getStartDate():new Date(NaN)}function R4e(t,e){if(e&&e.playingDate)return e.playingDate;if(typeof t.getStartDate=="function"){let n=t.getStartDate();return new Date(n.getTime()+t.currentTime*1e3)}return new Date(NaN)}var qg={VIDEO:"v",THUMBNAIL:"t",STORYBOARD:"s",DRM:"d"},k4e=t=>{if(t===hi.VIDEO)return qg.VIDEO;if(t===hi.DRM)return qg.DRM},C4e=(t,e)=>{var n,r;let i=kS(t),o=`${i}Token`;return(n=e.tokens)!=null&&n[i]?(r=e.tokens)==null?void 0:r[i]:NN(o,e)?e[o]:void 0},tT=(t,e,n,r,i=!1,o=!(l=>(l=globalThis.navigator)==null?void 0:l.onLine)())=>{var l,u;if(o){let v=Qn("Your device appears to be offline",i),_,E=In.MEDIA_ERR_NETWORK,T=new In(v,E,!1,_);return T.errorCategory=e,T.muxCode=rr.NETWORK_OFFLINE,T.data=t,T}let c="status"in t?t.status:t.code,d=Date.now(),h=In.MEDIA_ERR_NETWORK;if(c===200)return;let f=kS(e),p=C4e(e,n),m=k4e(e),[g]=FN((l=n.playbackId)!=null?l:"");if(!c||!g)return;let y=Xh(p);if(p&&!y){let v=Qn("The {tokenNamePrefix}-token provided is invalid or malformed.",i).format({tokenNamePrefix:f}),_=Qn("Compact JWT string: {token}",i).format({token:p}),E=new In(v,h,!0,_);return E.errorCategory=e,E.muxCode=rr.NETWORK_TOKEN_MALFORMED,E.data=t,E}if(c>=500){let v=new In("",h,r??!0);return v.errorCategory=e,v.muxCode=rr.NETWORK_UNKNOWN_ERROR,v}if(c===403)if(y){if(f4e(y,d)){let v={timeStyle:"medium",dateStyle:"medium"},_=Qn("The videos secured {tokenNamePrefix}-token has expired.",i).format({tokenNamePrefix:f}),E=Qn("Expired at: {expiredDate}. Current time: {currentDate}.",i).format({expiredDate:new Intl.DateTimeFormat("en",v).format((u=y.exp)!=null?u:0*1e3),currentDate:new Intl.DateTimeFormat("en",v).format(d)}),T=new In(_,h,!0,E);return T.errorCategory=e,T.muxCode=rr.NETWORK_TOKEN_EXPIRED,T.data=t,T}if(h4e(y,g)){let v=Qn("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",i).format({tokenNamePrefix:f}),_=Qn("Specified playback ID: {playbackId} and the playback ID encoded in the {tokenNamePrefix}-token: {tokenPlaybackId}",i).format({tokenNamePrefix:f,playbackId:g,tokenPlaybackId:y.sub}),E=new In(v,h,!0,_);return E.errorCategory=e,E.muxCode=rr.NETWORK_TOKEN_SUB_MISMATCH,E.data=t,E}if(p4e(y)){let v=Qn("The {tokenNamePrefix}-token is formatted with incorrect information.",i).format({tokenNamePrefix:f}),_=Qn("The {tokenNamePrefix}-token has no aud value. aud value should be {expectedAud}.",i).format({tokenNamePrefix:f,expectedAud:m}),E=new In(v,h,!0,_);return E.errorCategory=e,E.muxCode=rr.NETWORK_TOKEN_AUD_MISSING,E.data=t,E}if(m4e(y,m)){let v=Qn("The {tokenNamePrefix}-token is formatted with incorrect information.",i).format({tokenNamePrefix:f}),_=Qn("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.",i).format({tokenNamePrefix:f,expectedAud:m,aud:y.aud}),E=new In(v,h,!0,_);return E.errorCategory=e,E.muxCode=rr.NETWORK_TOKEN_AUD_MISMATCH,E.data=t,E}}else{let v=Qn("Authorization error trying to access this {category} URL. If this is a signed URL, you might need to provide a {tokenNamePrefix}-token.",i).format({tokenNamePrefix:f,category:e}),_=Qn("Specified playback ID: {playbackId}",i).format({playbackId:g}),E=new In(v,h,r??!0,_);return E.errorCategory=e,E.muxCode=rr.NETWORK_TOKEN_MISSING,E.data=t,E}if(c===412){let v=Qn("This playback-id may belong to a live stream that is not currently active or an asset that is not ready.",i),_=Qn("Specified playback ID: {playbackId}",i).format({playbackId:g}),E=new In(v,h,r??!0,_);return E.errorCategory=e,E.muxCode=rr.NETWORK_NOT_READY,E.streamType=n.streamType===Hr.LIVE?"live":n.streamType===Hr.ON_DEMAND?"on-demand":"unknown",E.data=t,E}if(c===404){let v=Qn("This URL or playback-id does not exist. You may have used an Asset ID or an ID from a different resource.",i),_=Qn("Specified playback ID: {playbackId}",i).format({playbackId:g}),E=new In(v,h,r??!0,_);return E.errorCategory=e,E.muxCode=rr.NETWORK_NOT_FOUND,E.data=t,E}if(c===400){let v=Qn("The URL or playback-id was invalid. You may have used an invalid value as a playback-id."),_=Qn("Specified playback ID: {playbackId}",i).format({playbackId:g}),E=new In(v,h,r??!0,_);return E.errorCategory=e,E.muxCode=rr.NETWORK_INVALID_URL,E.data=t,E}let b=new In("",h,r??!0);return b.errorCategory=e,b.muxCode=rr.NETWORK_UNKNOWN_ERROR,b.data=t,b},H9=Cr.DefaultConfig.capLevelController,ete=class tte extends H9{constructor(e){super(e)}get levels(){var e;return(e=this.hls.levels)!=null?e:[]}getValidLevels(e){return this.levels.filter((n,r)=>this.isLevelAllowed(n)&&r<=e)}getMaxLevel(e){let n=super.getMaxLevel(e),r=this.getValidLevels(e);if(!r[n])return n;let i=Math.min(r[n].width,r[n].height),o=tte.minMaxResolution;return i>=o?n:H9.getMaxLevelByMediaSize(r,o*(16/9),o)}};ete.minMaxResolution=720;var D4e=ete,L4e=D4e,f0={FAIRPLAY:"fairplay",PLAYREADY:"playready",WIDEVINE:"widevine"},P4e=t=>{if(t.includes("fps"))return f0.FAIRPLAY;if(t.includes("playready"))return f0.PLAYREADY;if(t.includes("widevine"))return f0.WIDEVINE},O4e=t=>{let e=t.split(`
`).find((n,r,i)=>r&&i[r-1].startsWith("#EXT-X-STREAM-INF"));return fetch(e).then(n=>n.status!==200?Promise.reject(n):n.text())},M4e=t=>{let e=t.split(`
`).filter(r=>r.startsWith("#EXT-X-SESSION-DATA"));if(!e.length)return{};let n={};for(let r of e){let i=F4e(r),o=i["DATA-ID"];o&&(n[o]={...i})}return{sessionData:n}},N4e=/([A-Z0-9-]+)="?(.*?)"?(?:,|$)/g;function F4e(t){let e=[...t.matchAll(N4e)];return Object.fromEntries(e.map(([,n,r])=>[n,r]))}var U4e=t=>{var e,n,r;let i=t.split(`
`),o=(n=((e=i.find(d=>d.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?e:"").split(":")[1])==null?void 0:n.trim(),l=Hee(o),u=Gee(o),c;if(l===Hr.LIVE){let d=i.find(h=>h.startsWith("#EXT-X-PART-INF"));if(d)c=+d.split(":")[1].split("=")[1]*2;else{let h=i.find(p=>p.startsWith("#EXT-X-TARGETDURATION")),f=(r=h?.split(":"))==null?void 0:r[1];c=+(f??6)*3}}return{streamType:l,targetLiveWindow:u,liveEdgeStartOffset:c}},B4e=async(t,e)=>{if(e===hu.MP4)return{streamType:Hr.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0,sessionData:void 0};if(e===hu.M3U8){let n=await fetch(t);if(!n.ok)return Promise.reject(n);let r=await n.text(),i=await O4e(r);return{...M4e(r),...U4e(i)}}return console.error(`Media type ${e} is an unrecognized or unsupported type for src ${t}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0,sessionData:void 0}},z4e=async(t,e,n=CS({src:t}))=>{var r,i,o,l;let{streamType:u,targetLiveWindow:c,liveEdgeStartOffset:d,sessionData:h}=await B4e(t,n),f=h?.["com.apple.hls.chapters"];(f!=null&&f.URI||f!=null&&f.VALUE.toLocaleLowerCase().startsWith("http"))&&$N((r=f.URI)!=null?r:f.VALUE,e),((i=Fi.get(e))!=null?i:{}).liveEdgeStartOffset=d,((o=Fi.get(e))!=null?o:{}).targetLiveWindow=c,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((l=Fi.get(e))!=null?l:{}).streamType=u,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},$N=async(t,e)=>{var n,r;try{let i=await fetch(t);if(!i.ok)throw new Error(`Failed to fetch Mux metadata: ${i.status} ${i.statusText}`);let o=await i.json(),l={};if(!((n=o?.[0])!=null&&n.metadata))return;for(let c of o[0].metadata)c.key&&c.value&&(l[c.key]=c.value);((r=Fi.get(e))!=null?r:{}).metadata=l;let u=new CustomEvent("muxmetadata");e.dispatchEvent(u)}catch(i){console.error(i)}},$4e=t=>{var e;let n=t.type,r=Hee(n),i=Gee(n),o,l=!!((e=t.partList)!=null&&e.length);return r===Hr.LIVE&&(o=l?t.partTarget*2:t.targetduration*3),{streamType:r,targetLiveWindow:i,liveEdgeStartOffset:o,lowLatency:l}},q4e=(t,e,n)=>{var r,i,o,l,u,c,d,h;let{streamType:f,targetLiveWindow:p,liveEdgeStartOffset:m,lowLatency:g}=$4e(t);if(f===Hr.LIVE){g?(n.config.backBufferLength=(r=n.userConfig.backBufferLength)!=null?r:4,n.config.maxFragLookUpTolerance=(i=n.userConfig.maxFragLookUpTolerance)!=null?i:.001,n.config.abrBandWidthUpFactor=(o=n.userConfig.abrBandWidthUpFactor)!=null?o:n.config.abrBandWidthFactor):n.config.backBufferLength=(l=n.userConfig.backBufferLength)!=null?l:8;let y=Object.freeze({get length(){return e.seekable.length},start(b){return e.seekable.start(b)},end(b){var v;return b>this.length||b<0||Number.isFinite(e.duration)?e.seekable.end(b):(v=n.liveSyncPosition)!=null?v:e.seekable.end(b)}});((u=Fi.get(e))!=null?u:{}).seekable=y}((c=Fi.get(e))!=null?c:{}).liveEdgeStartOffset=m,((d=Fi.get(e))!=null?d:{}).targetLiveWindow=p,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((h=Fi.get(e))!=null?h:{}).streamType=f,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},G9,V9,j4e=(V9=(G9=globalThis?.navigator)==null?void 0:G9.userAgent)!=null?V9:"",K9,W9,Y9,H4e=(Y9=(W9=(K9=globalThis?.navigator)==null?void 0:K9.userAgentData)==null?void 0:W9.platform)!=null?Y9:"",X9,Q9,Z9,G4e=(Z9=(Q9=(X9=globalThis?.navigator)==null?void 0:X9.userAgentData)==null?void 0:Q9.brands)!=null?Z9:[],V4e=j4e.toLowerCase().includes("android")||["x11","android"].some(t=>H4e.toLowerCase().includes(t)),J9=G4e.find(t=>t.brand==="Google Chrome"),K4e=t=>{var e;return J9&&parseInt((e=J9.version)!=null?e:"0")>=141&&!!t.canPlayType("application/vnd.apple.mpegurl")},Fi=new WeakMap,pu="mux.com",eG,tG,nte=(tG=(eG=Cr).isSupported)==null?void 0:tG.call(eG),W4e=t=>V4e||K4e(t),DS=()=>MN.utils.now(),Y4e=MN.utils.generateUUID,EL=({playbackId:t,customDomain:e=pu,maxResolution:n,minResolution:r,renditionOrder:i,programStartTime:o,programEndTime:l,assetStartTime:u,assetEndTime:c,playbackToken:d,tokens:{playback:h=d}={},extraSourceParams:f={}}={})=>{if(!t)return;let[p,m=""]=FN(t),g=new URL(`https://stream.${e}/${p}.m3u8${m}`);return h||g.searchParams.has("token")?(g.searchParams.forEach((y,b)=>{b!="token"&&g.searchParams.delete(b)}),h&&g.searchParams.set("token",h)):(n&&g.searchParams.set("max_resolution",n),r&&(g.searchParams.set("min_resolution",r),n&&+n.slice(0,-1)<+r.slice(0,-1)&&console.error("minResolution must be <= maxResolution","minResolution",r,"maxResolution",n)),i&&g.searchParams.set("rendition_order",i),o&&g.searchParams.set("program_start_time",`${o}`),l&&g.searchParams.set("program_end_time",`${l}`),u&&g.searchParams.set("asset_start_time",`${u}`),c&&g.searchParams.set("asset_end_time",`${c}`),Object.entries(f).forEach(([y,b])=>{b!=null&&g.searchParams.set(y,b)})),g.toString()},LS=t=>{if(!t)return;let[e]=t.split("?");return e||void 0},qN=t=>{if(!t||!t.startsWith("https://stream."))return;let[e]=new URL(t).pathname.slice(1).split(/\.m3u8|\//);return e||void 0},X4e=t=>{var e,n,r;return(e=t?.metadata)!=null&&e.video_id?t.metadata.video_id:cte(t)&&(r=(n=LS(t.playbackId))!=null?n:qN(t.src))!=null?r:t.src},rte=t=>{var e;return(e=Fi.get(t))==null?void 0:e.error},Q4e=t=>{var e;return(e=Fi.get(t))==null?void 0:e.metadata},_L=t=>{var e,n;return(n=(e=Fi.get(t))==null?void 0:e.streamType)!=null?n:Hr.UNKNOWN},Z4e=t=>{var e,n;return(n=(e=Fi.get(t))==null?void 0:e.targetLiveWindow)!=null?n:Number.NaN},jN=t=>{var e,n;return(n=(e=Fi.get(t))==null?void 0:e.seekable)!=null?n:t.seekable},J4e=t=>{var e;let n=(e=Fi.get(t))==null?void 0:e.liveEdgeStartOffset;if(typeof n!="number")return Number.NaN;let r=jN(t);return r.length?r.end(r.length-1)-n:Number.NaN},HN=.034,e5e=(t,e,n=HN)=>Math.abs(t-e)<=n,ite=(t,e,n=HN)=>t>e||e5e(t,e,n),t5e=(t,e=HN)=>t.paused&&ite(t.currentTime,t.duration,e),ate=(t,e)=>{var n,r,i;if(!e||!t.buffered.length)return;if(t.readyState>2)return!1;let o=e.currentLevel>=0?(r=(n=e.levels)==null?void 0:n[e.currentLevel])==null?void 0:r.details:(i=e.levels.find(f=>!!f.details))==null?void 0:i.details;if(!o||o.live)return;let{fragments:l}=o;if(!(l!=null&&l.length))return;if(t.currentTime<t.duration-(o.targetduration+.5))return!1;let u=l[l.length-1];if(t.currentTime<=u.start)return!1;let c=u.start+u.duration/2,d=t.buffered.start(t.buffered.length-1),h=t.buffered.end(t.buffered.length-1);return c>d&&c<h},ste=(t,e)=>t.ended||t.loop?t.ended:e&&ate(t,e)?!0:t5e(t),n5e=(t,e,n)=>{ote(e,n,t);let{metadata:r={}}=t,{view_session_id:i=Y4e()}=r,o=X4e(t);r.view_session_id=i,r.video_id=o,t.metadata=r;let l=h=>{var f;(f=e.mux)==null||f.emit("hb",{view_drm_type:h})};t.drmTypeCb=l,Fi.set(e,{retryCount:0});let u=r5e(t,e),c=v4e(t,e,u);t!=null&&t.muxDataKeepSession&&e!=null&&e.mux&&!e.mux.deleted?u&&e.mux.addHLSJS({hlsjs:u,Hls:u?Cr:void 0}):u5e(t,e,u),c5e(t,e,u),w4e(e),I4e(e);let d=b4e(t,e,u);return{engine:u,setAutoplay:d,setPreload:c}},ote=(t,e,n)=>{let r=e?.engine;t!=null&&t.mux&&!t.mux.deleted&&(n!=null&&n.muxDataKeepSession?r&&t.mux.removeHLSJS():(t.mux.destroy(),delete t.mux)),r&&(r.detachMedia(),r.destroy()),t&&(t.hasAttribute("src")&&(t.removeAttribute("src"),t.load()),t.removeEventListener("error",fte),t.removeEventListener("error",TL),t.removeEventListener("durationchange",dte),Fi.delete(t),t.dispatchEvent(new Event("teardown")))};function lte(t,e){var n;let r=CS(t);if(r!==hu.M3U8)return!0;let i=!r||((n=e.canPlayType(r))!=null?n:!0),{preferPlayback:o}=t,l=o===Cl.MSE,u=o===Cl.NATIVE,c=nte&&(l||W4e(e));return i&&(u||!c)}var r5e=(t,e)=>{let{debug:n,streamType:r,startTime:i=-1,metadata:o,preferCmcd:l,_hlsConfig:u={}}=t,c=CS(t)===hu.M3U8,d=lte(t,e);if(c&&!d&&nte){let h={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelToPlayerSize:!0,capLevelOnFPSDrop:!0},f=i5e(r),p=a5e(t),m=[rg.QUERY,rg.HEADER].includes(l)?{useHeaders:l===rg.HEADER,sessionId:o?.view_session_id,contentId:o?.video_id}:void 0,g=u.capLevelToPlayerSize==null?{capLevelController:L4e}:{},y=new Cr({debug:n,startPosition:i,cmcd:m,xhrSetup:(b,v)=>{var _,E;if(l&&l!==rg.QUERY)return;let T=new URL(v);if(!T.searchParams.has("CMCD"))return;let A=((E=(_=T.searchParams.get("CMCD"))==null?void 0:_.split(","))!=null?E:[]).filter(w=>w.startsWith("sid")||w.startsWith("cid")).join(",");T.searchParams.set("CMCD",A),b.open("GET",T)},...g,...h,...f,...p,...u});return y.on(Cr.Events.MANIFEST_PARSED,async function(b,v){var _,E;let T=(_=v.sessionData)==null?void 0:_["com.apple.hls.chapters"];(T!=null&&T.URI||T!=null&&T.VALUE.toLocaleLowerCase().startsWith("http"))&&$N((E=T?.URI)!=null?E:T?.VALUE,e)}),y}},i5e=t=>t===Hr.LIVE?{backBufferLength:8}:{},a5e=t=>{let{tokens:{drm:e}={},playbackId:n,drmTypeCb:r}=t,i=LS(n);return!e||!i?{}:{emeEnabled:!0,drmSystems:{"com.apple.fps":{licenseUrl:h0(t,"fairplay"),serverCertificateUrl:ute(t,"fairplay")},"com.widevine.alpha":{licenseUrl:h0(t,"widevine")},"com.microsoft.playready":{licenseUrl:h0(t,"playready")}},requestMediaKeySystemAccessFunc:(o,l)=>(o==="com.widevine.alpha"&&(l=[...l.map(u=>{var c;let d=(c=u.videoCapabilities)==null?void 0:c.map(h=>({...h,robustness:"HW_SECURE_ALL"}));return{...u,videoCapabilities:d}}),...l]),navigator.requestMediaKeySystemAccess(o,l).then(u=>{let c=P4e(o);return r?.(c),u}))}},s5e=async t=>{let e=await fetch(t);return e.status!==200?Promise.reject(e):await e.arrayBuffer()},o5e=async(t,e)=>{let n=await fetch(e,{method:"POST",headers:{"Content-type":"application/octet-stream"},body:t});if(n.status!==200)return Promise.reject(n);let r=await n.arrayBuffer();return new Uint8Array(r)},l5e=(t,e)=>{Vi(e,"encrypted",async n=>{try{let r=n.initDataType;if(r!=="skd"){console.error(`Received unexpected initialization data type "${r}"`);return}if(!e.mediaKeys){let c=await navigator.requestMediaKeySystemAccess("com.apple.fps",[{initDataTypes:[r],videoCapabilities:[{contentType:"application/vnd.apple.mpegurl",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]}]).then(h=>{var f;return(f=t.drmTypeCb)==null||f.call(t,f0.FAIRPLAY),h}).catch(()=>{let h=Qn("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser."),f=new In(h,In.MEDIA_ERR_ENCRYPTED,!0);f.errorCategory=hi.DRM,f.muxCode=rr.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM,Js(e,f)});if(!c)return;let d=await c.createMediaKeys();try{let h=await s5e(ute(t,"fairplay")).catch(f=>{if(f instanceof Response){let p=tT(f,hi.DRM,t);return console.error("mediaError",p?.message,p?.context),p?Promise.reject(p):Promise.reject(new Error("Unexpected error in app cert request"))}return Promise.reject(f)});await d.setServerCertificate(h).catch(()=>{let f=Qn("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate."),p=new In(f,In.MEDIA_ERR_ENCRYPTED,!0);return p.errorCategory=hi.DRM,p.muxCode=rr.ENCRYPTED_UPDATE_SERVER_CERT_FAILED,Promise.reject(p)})}catch(h){Js(e,h);return}await e.setMediaKeys(d)}let i=n.initData;if(i==null){console.error(`Could not start encrypted playback due to missing initData in ${n.type} event`);return}let o=e.mediaKeys.createSession();o.addEventListener("keystatuseschange",()=>{o.keyStatuses.forEach(c=>{let d;if(c==="internal-error"){let h=Qn("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");d=new In(h,In.MEDIA_ERR_ENCRYPTED,!0),d.errorCategory=hi.DRM,d.muxCode=rr.ENCRYPTED_CDM_ERROR}else if(c==="output-restricted"||c==="output-downscaled"){let h=Qn("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");d=new In(h,In.MEDIA_ERR_ENCRYPTED,!1),d.errorCategory=hi.DRM,d.muxCode=rr.ENCRYPTED_OUTPUT_RESTRICTED}d&&Js(e,d)})});let l=await Promise.all([o.generateRequest(r,i).catch(()=>{let c=Qn("Failed to generate a DRM license request. This may be an issue with the player or your protected content."),d=new In(c,In.MEDIA_ERR_ENCRYPTED,!0);d.errorCategory=hi.DRM,d.muxCode=rr.ENCRYPTED_GENERATE_REQUEST_FAILED,Js(e,d)}),new Promise(c=>{o.addEventListener("message",d=>{c(d.message)},{once:!0})})]).then(([,c])=>c),u=await o5e(l,h0(t,"fairplay")).catch(c=>{if(c instanceof Response){let d=tT(c,hi.DRM,t);return console.error("mediaError",d?.message,d?.context),d?Promise.reject(d):Promise.reject(new Error("Unexpected error in license key request"))}return Promise.reject(c)});await o.update(u).catch(()=>{let c=Qn("Failed to update DRM license. This may be an issue with the player or your protected content."),d=new In(c,In.MEDIA_ERR_ENCRYPTED,!0);return d.errorCategory=hi.DRM,d.muxCode=rr.ENCRYPTED_UPDATE_LICENSE_FAILED,Promise.reject(d)})}catch(r){Js(e,r);return}})},h0=({playbackId:t,tokens:{drm:e}={},customDomain:n=pu},r)=>{let i=LS(t);return`https://license.${n.toLocaleLowerCase().endsWith(pu)?n:pu}/license/${r}/${i}?token=${e}`},ute=({playbackId:t,tokens:{drm:e}={},customDomain:n=pu},r)=>{let i=LS(t);return`https://license.${n.toLocaleLowerCase().endsWith(pu)?n:pu}/appcert/${r}/${i}?token=${e}`},cte=({playbackId:t,src:e,customDomain:n})=>{if(t)return!0;if(typeof e!="string")return!1;let r=window?.location.href,i=new URL(e,r).hostname.toLocaleLowerCase();return i.includes(pu)||!!n&&i.includes(n.toLocaleLowerCase())},u5e=(t,e,n)=>{var r;let{envKey:i,disableTracking:o,muxDataSDK:l=MN,muxDataSDKOptions:u={}}=t,c=cte(t);if(!o&&(i||c)){let{playerInitTime:d,playerSoftwareName:h,playerSoftwareVersion:f,beaconCollectionDomain:p,debug:m,disableCookies:g}=t,y={...t.metadata,video_title:((r=t?.metadata)==null?void 0:r.video_title)||void 0},b=v=>typeof v.player_error_code=="string"?!1:typeof t.errorTranslator=="function"?t.errorTranslator(v):v;l.monitor(e,{debug:m,beaconCollectionDomain:p,hlsjs:n,Hls:n?Cr:void 0,automaticErrorTracking:!1,errorTranslator:b,disableCookies:g,...u,data:{...i?{env_key:i}:{},player_software_name:h,player_software:h,player_software_version:f,player_init_time:d,...y}})}},c5e=(t,e,n)=>{var r,i;let o=lte(t,e),{src:l,customDomain:u=pu}=t,c=()=>{e.ended||t.disablePseudoEnded||!ste(e,n)||(ate(e,n)?e.currentTime=e.buffered.end(e.buffered.length-1):e.dispatchEvent(new Event("ended")))},d,h,f=()=>{let p=jN(e),m,g;p.length>0&&(m=p.start(0),g=p.end(0)),(h!==g||d!==m)&&e.dispatchEvent(new CustomEvent("seekablechange",{composed:!0})),d=m,h=g};if(Vi(e,"durationchange",f),e&&o){let p=CS(t);if(typeof l=="string"){if(l.endsWith(".mp4")&&l.includes(u)){let y=qN(l),b=new URL(`https://stream.${u}/${y}/metadata.json`);$N(b.toString(),e)}let m=()=>{if(_L(e)!==Hr.LIVE||Number.isFinite(e.duration))return;let y=setInterval(f,1e3);e.addEventListener("teardown",()=>{clearInterval(y)},{once:!0}),Vi(e,"durationchange",()=>{Number.isFinite(e.duration)&&clearInterval(y)})},g=async()=>z4e(l,e,p).then(m).catch(y=>{if(y instanceof Response){let b=tT(y,hi.VIDEO,t);if(b){Js(e,b);return}}});if(e.preload==="none"){let y=()=>{g(),e.removeEventListener("loadedmetadata",b)},b=()=>{g(),e.removeEventListener("play",y)};Vi(e,"play",y,{once:!0}),Vi(e,"loadedmetadata",b,{once:!0})}else g();(r=t.tokens)!=null&&r.drm?l5e(t,e):Vi(e,"encrypted",()=>{let y=Qn("Attempting to play DRM-protected content without providing a DRM token."),b=new In(y,In.MEDIA_ERR_ENCRYPTED,!0);b.errorCategory=hi.DRM,b.muxCode=rr.ENCRYPTED_MISSING_TOKEN,Js(e,b)},{once:!0}),e.setAttribute("src",l),t.startTime&&(((i=Fi.get(e))!=null?i:{}).startTime=t.startTime,e.addEventListener("durationchange",dte,{once:!0}))}else e.removeAttribute("src");e.addEventListener("error",fte),e.addEventListener("error",TL),e.addEventListener("emptied",()=>{e.querySelectorAll("track[data-removeondestroy]").forEach(m=>{m.remove()})},{once:!0}),Vi(e,"pause",c),Vi(e,"seeked",c),Vi(e,"play",()=>{e.ended||ite(e.currentTime,e.duration)&&(e.currentTime=e.seekable.length?e.seekable.start(0):0)})}else n&&l?(n.once(Cr.Events.LEVEL_LOADED,(p,m)=>{q4e(m.details,e,n),f(),_L(e)===Hr.LIVE&&!Number.isFinite(e.duration)&&(n.on(Cr.Events.LEVEL_UPDATED,f),Vi(e,"durationchange",()=>{Number.isFinite(e.duration)&&n.off(Cr.Events.LEVELS_UPDATED,f)}))}),n.on(Cr.Events.ERROR,(p,m)=>{var g,y;let b=d5e(m,t);if(b.muxCode===rr.NETWORK_NOT_READY){let v=(g=Fi.get(e))!=null?g:{},_=(y=v.retryCount)!=null?y:0;if(_<6){let E=_===0?5e3:6e4,T=new In(`Retrying in ${E/1e3} seconds...`,b.code,b.fatal);Object.assign(T,b),Js(e,T),setTimeout(()=>{v.retryCount=_+1,m.details==="manifestLoadError"&&m.url&&n.loadSource(m.url)},E);return}else{v.retryCount=0;let E=new In('Try again later or <a href="#" onclick="window.location.reload(); return false;" style="color: #4a90e2;">click here to retry</a>',b.code,b.fatal);Object.assign(E,b),Js(e,E);return}}Js(e,b)}),n.on(Cr.Events.MANIFEST_LOADED,()=>{let p=Fi.get(e);p&&p.error&&(p.error=null,p.retryCount=0,e.dispatchEvent(new Event("emptied")),e.dispatchEvent(new Event("loadstart")))}),e.addEventListener("error",TL),Vi(e,"waiting",c),E4e(t,n),_4e(e,n),n.attachMedia(e)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function dte(t){var e;let n=t.target,r=(e=Fi.get(n))==null?void 0:e.startTime;if(r&&l4e(n.seekable,n.duration,r)){let i=n.preload==="auto";i&&(n.preload="none"),n.currentTime=r,i&&(n.preload="auto")}}async function fte(t){if(!t.isTrusted)return;t.stopImmediatePropagation();let e=t.target;if(!(e!=null&&e.error))return;let{message:n,code:r}=e.error,i=new In(n,r);if(e.src&&r===In.MEDIA_ERR_SRC_NOT_SUPPORTED&&e.readyState===HTMLMediaElement.HAVE_NOTHING){setTimeout(()=>{var o;let l=(o=rte(e))!=null?o:e.error;l?.code===In.MEDIA_ERR_SRC_NOT_SUPPORTED&&Js(e,i)},500);return}if(e.src&&(r!==In.MEDIA_ERR_DECODE||r!==void 0))try{let{status:o}=await fetch(e.src);i.data={response:{code:o}}}catch{}Js(e,i)}function Js(t,e){var n;e.fatal&&(((n=Fi.get(t))!=null?n:{}).error=e,t.dispatchEvent(new CustomEvent("error",{detail:e})))}function TL(t){var e,n;if(!(t instanceof CustomEvent)||!(t.detail instanceof In))return;let r=t.target,i=t.detail;!i||!i.fatal||(((e=Fi.get(r))!=null?e:{}).error=i,(n=r.mux)==null||n.emit("error",{player_error_code:i.code,player_error_message:i.message,player_error_context:i.context}))}var d5e=(t,e)=>{var n,r,i;t.fatal?console.error("getErrorFromHlsErrorData()",t):e.debug&&console.warn("getErrorFromHlsErrorData() (non-fatal)",t);let o={[Cr.ErrorTypes.NETWORK_ERROR]:In.MEDIA_ERR_NETWORK,[Cr.ErrorTypes.MEDIA_ERROR]:In.MEDIA_ERR_DECODE,[Cr.ErrorTypes.KEY_SYSTEM_ERROR]:In.MEDIA_ERR_ENCRYPTED},l=h=>[Cr.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,Cr.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED].includes(h.details)?In.MEDIA_ERR_NETWORK:o[h.type],u=h=>{if(h.type===Cr.ErrorTypes.KEY_SYSTEM_ERROR)return hi.DRM;if(h.type===Cr.ErrorTypes.NETWORK_ERROR)return hi.VIDEO},c,d=l(t);if(d===In.MEDIA_ERR_NETWORK&&t.response){let h=(n=u(t))!=null?n:hi.VIDEO;c=(r=tT(t.response,h,e,t.fatal))!=null?r:new In("",d,t.fatal)}else if(d===In.MEDIA_ERR_ENCRYPTED)if(t.details===Cr.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE){let h=Qn("Attempting to play DRM-protected content without providing a DRM token.");c=new In(h,In.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hi.DRM,c.muxCode=rr.ENCRYPTED_MISSING_TOKEN}else if(t.details===Cr.ErrorDetails.KEY_SYSTEM_NO_ACCESS){let h=Qn("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser.");c=new In(h,In.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hi.DRM,c.muxCode=rr.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM}else if(t.details===Cr.ErrorDetails.KEY_SYSTEM_NO_SESSION){let h=Qn("Failed to generate a DRM license request. This may be an issue with the player or your protected content.");c=new In(h,In.MEDIA_ERR_ENCRYPTED,!0),c.errorCategory=hi.DRM,c.muxCode=rr.ENCRYPTED_GENERATE_REQUEST_FAILED}else if(t.details===Cr.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED){let h=Qn("Failed to update DRM license. This may be an issue with the player or your protected content.");c=new In(h,In.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hi.DRM,c.muxCode=rr.ENCRYPTED_UPDATE_LICENSE_FAILED}else if(t.details===Cr.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED){let h=Qn("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate.");c=new In(h,In.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hi.DRM,c.muxCode=rr.ENCRYPTED_UPDATE_SERVER_CERT_FAILED}else if(t.details===Cr.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR){let h=Qn("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");c=new In(h,In.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hi.DRM,c.muxCode=rr.ENCRYPTED_CDM_ERROR}else if(t.details===Cr.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED){let h=Qn("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");c=new In(h,In.MEDIA_ERR_ENCRYPTED,!1),c.errorCategory=hi.DRM,c.muxCode=rr.ENCRYPTED_OUTPUT_RESTRICTED}else c=new In(t.error.message,In.MEDIA_ERR_ENCRYPTED,t.fatal),c.errorCategory=hi.DRM,c.muxCode=rr.ENCRYPTED_ERROR;else c=new In("",d,t.fatal);return c.context||(c.context=`${t.url?`url: ${t.url}
`:""}${t.response&&(t.response.code||t.response.text)?`response: ${t.response.code}, ${t.response.text}
`:""}${t.reason?`failure reason: ${t.reason}
`:""}${t.level?`level: ${t.level}
`:""}${t.parent?`parent stream controller: ${t.parent}
`:""}${t.buffer?`buffer length: ${t.buffer}
`:""}${t.error?`error: ${t.error}
`:""}${t.event?`event: ${t.event}
`:""}${t.err?`error message: ${(i=t.err)==null?void 0:i.message}
`:""}`),c.data=t,c},hte=t=>{throw TypeError(t)},GN=(t,e,n)=>e.has(t)||hte("Cannot "+n),Ta=(t,e,n)=>(GN(t,e,"read from private field"),n?n.call(t):e.get(t)),wo=(t,e,n)=>e.has(t)?hte("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ws=(t,e,n,r)=>(GN(t,e,"write to private field"),e.set(t,n),n),Cv=(t,e,n)=>(GN(t,e,"access private method"),n),f5e=()=>{try{return"0.28.2"}catch{}return"UNKNOWN"},h5e=f5e(),p5e=()=>h5e,m5e=`
<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" part="logo" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" viewBox="0 0 1600 500"><g fill="#fff"><path d="M994.287 93.486c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m0-93.486c-34.509 0-62.484 27.976-62.484 62.486v187.511c0 68.943-56.09 125.033-125.032 125.033s-125.03-56.09-125.03-125.033V62.486C681.741 27.976 653.765 0 619.256 0s-62.484 27.976-62.484 62.486v187.511C556.772 387.85 668.921 500 806.771 500c137.851 0 250.001-112.15 250.001-250.003V62.486c0-34.51-27.976-62.486-62.485-62.486M1537.51 468.511c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m-275.883-218.509-143.33 143.329c-24.402 24.402-24.402 63.966 0 88.368 24.402 24.402 63.967 24.402 88.369 0l143.33-143.329 143.328 143.329c24.402 24.4 63.967 24.402 88.369 0 24.403-24.402 24.403-63.966.001-88.368l-143.33-143.329.001-.004 143.329-143.329c24.402-24.402 24.402-63.965 0-88.367s-63.967-24.402-88.369 0L1349.996 161.63 1206.667 18.302c-24.402-24.401-63.967-24.402-88.369 0s-24.402 63.965 0 88.367l143.329 143.329v.004ZM437.511 468.521c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31M461.426 4.759C438.078-4.913 411.2.432 393.33 18.303L249.999 161.632 106.669 18.303C88.798.432 61.922-4.913 38.573 4.759 15.224 14.43-.001 37.214-.001 62.488v375.026c0 34.51 27.977 62.486 62.487 62.486 34.51 0 62.486-27.976 62.486-62.486V213.341l80.843 80.844c24.404 24.402 63.965 24.402 88.369 0l80.843-80.844v224.173c0 34.51 27.976 62.486 62.486 62.486s62.486-27.976 62.486-62.486V62.488c0-25.274-15.224-48.058-38.573-57.729" style="fill-rule:nonzero"/></g></svg>`,Tt={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended",DRM_TOKEN:"drm-token",PLAYBACK_TOKEN:"playback-token",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",ASSET_START_TIME:"asset-start-time",ASSET_END_TIME:"asset-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PLAYER_INIT_TIME:"player-init-time",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type",LOGO:"logo"},g5e=Object.values(Tt),nG=p5e(),rG="mux-video",ll,ig,p0,ag,m0,g0,y0,b0,v0,sg,dh,og,y5e=class extends pc{constructor(){super(),wo(this,dh),wo(this,ll),wo(this,ig),wo(this,p0),wo(this,ag,{}),wo(this,m0,{}),wo(this,g0),wo(this,y0),wo(this,b0),wo(this,v0),wo(this,sg,""),Ws(this,p0,DS()),this.nativeEl.addEventListener("muxmetadata",e=>{var n;let r=Q4e(this.nativeEl),i=(n=this.metadata)!=null?n:{};this.metadata={...r,...i},r?.["com.mux.video.branding"]==="mux-free-plan"&&(Ws(this,sg,"default"),this.updateLogo())})}static get NAME(){return rG}static get VERSION(){return nG}static get observedAttributes(){var e;return[...g5e,...(e=pc.observedAttributes)!=null?e:[]]}static getLogoHTML(e){return!e||e==="false"?"":e==="default"?m5e:`<img part="logo" src="${e}" />`}static getTemplateHTML(e={}){var n;return`
      ${pc.getTemplateHTML(e)}
      <style>
        :host {
          position: relative;
        }
        slot[name="logo"] {
          display: flex;
          justify-content: end;
          position: absolute;
          top: 1rem;
          right: 1rem;
          opacity: 0;
          transition: opacity 0.25s ease-in-out;
          z-index: 1;
        }
        slot[name="logo"]:has([part="logo"]) {
          opacity: 1;
        }
        slot[name="logo"] [part="logo"] {
          width: 5rem;
          pointer-events: none;
          user-select: none;
        }
      </style>
      <slot name="logo">
        ${this.getLogoHTML((n=e[Tt.LOGO])!=null?n:"")}
      </slot>
    `}get preferCmcd(){var e;return(e=this.getAttribute(Tt.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?eT.includes(e)?this.setAttribute(Tt.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${eT.join()}`):this.removeAttribute(Tt.PREFER_CMCD))}get playerInitTime(){return this.hasAttribute(Tt.PLAYER_INIT_TIME)?+this.getAttribute(Tt.PLAYER_INIT_TIME):Ta(this,p0)}set playerInitTime(e){e!=this.playerInitTime&&(e==null?this.removeAttribute(Tt.PLAYER_INIT_TIME):this.setAttribute(Tt.PLAYER_INIT_TIME,`${+e}`))}get playerSoftwareName(){var e;return(e=Ta(this,b0))!=null?e:rG}set playerSoftwareName(e){Ws(this,b0,e)}get playerSoftwareVersion(){var e;return(e=Ta(this,y0))!=null?e:nG}set playerSoftwareVersion(e){Ws(this,y0,e)}get _hls(){var e;return(e=Ta(this,ll))==null?void 0:e.engine}get mux(){var e;return(e=this.nativeEl)==null?void 0:e.mux}get error(){var e;return(e=rte(this.nativeEl))!=null?e:null}get errorTranslator(){return Ta(this,v0)}set errorTranslator(e){Ws(this,v0,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(Tt.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(Tt.TYPE,e):this.removeAttribute(Tt.TYPE))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(Tt.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(Tt.DEBUG,""):this.removeAttribute(Tt.DEBUG))}get disableTracking(){return this.hasAttribute(Tt.DISABLE_TRACKING)}set disableTracking(e){e!==this.disableTracking&&this.toggleAttribute(Tt.DISABLE_TRACKING,!!e)}get disableCookies(){return this.hasAttribute(Tt.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(Tt.DISABLE_COOKIES,""):this.removeAttribute(Tt.DISABLE_COOKIES))}get disablePseudoEnded(){return this.hasAttribute(Tt.DISABLE_PSEUDO_ENDED)}set disablePseudoEnded(e){e!==this.disablePseudoEnded&&(e?this.setAttribute(Tt.DISABLE_PSEUDO_ENDED,""):this.removeAttribute(Tt.DISABLE_PSEUDO_ENDED))}get startTime(){let e=this.getAttribute(Tt.START_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(Tt.START_TIME):this.setAttribute(Tt.START_TIME,`${e}`))}get playbackId(){var e;return this.hasAttribute(Tt.PLAYBACK_ID)?this.getAttribute(Tt.PLAYBACK_ID):(e=qN(this.src))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(Tt.PLAYBACK_ID,e):this.removeAttribute(Tt.PLAYBACK_ID))}get maxResolution(){var e;return(e=this.getAttribute(Tt.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(Tt.MAX_RESOLUTION,e):this.removeAttribute(Tt.MAX_RESOLUTION))}get minResolution(){var e;return(e=this.getAttribute(Tt.MIN_RESOLUTION))!=null?e:void 0}set minResolution(e){e!==this.minResolution&&(e?this.setAttribute(Tt.MIN_RESOLUTION,e):this.removeAttribute(Tt.MIN_RESOLUTION))}get renditionOrder(){var e;return(e=this.getAttribute(Tt.RENDITION_ORDER))!=null?e:void 0}set renditionOrder(e){e!==this.renditionOrder&&(e?this.setAttribute(Tt.RENDITION_ORDER,e):this.removeAttribute(Tt.RENDITION_ORDER))}get programStartTime(){let e=this.getAttribute(Tt.PROGRAM_START_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set programStartTime(e){e==null?this.removeAttribute(Tt.PROGRAM_START_TIME):this.setAttribute(Tt.PROGRAM_START_TIME,`${e}`)}get programEndTime(){let e=this.getAttribute(Tt.PROGRAM_END_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set programEndTime(e){e==null?this.removeAttribute(Tt.PROGRAM_END_TIME):this.setAttribute(Tt.PROGRAM_END_TIME,`${e}`)}get assetStartTime(){let e=this.getAttribute(Tt.ASSET_START_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set assetStartTime(e){e==null?this.removeAttribute(Tt.ASSET_START_TIME):this.setAttribute(Tt.ASSET_START_TIME,`${e}`)}get assetEndTime(){let e=this.getAttribute(Tt.ASSET_END_TIME);if(e==null)return;let n=+e;return Number.isNaN(n)?void 0:n}set assetEndTime(e){e==null?this.removeAttribute(Tt.ASSET_END_TIME):this.setAttribute(Tt.ASSET_END_TIME,`${e}`)}get customDomain(){var e;return(e=this.getAttribute(Tt.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(Tt.CUSTOM_DOMAIN,e):this.removeAttribute(Tt.CUSTOM_DOMAIN))}get drmToken(){var e;return(e=this.getAttribute(Tt.DRM_TOKEN))!=null?e:void 0}set drmToken(e){e!==this.drmToken&&(e?this.setAttribute(Tt.DRM_TOKEN,e):this.removeAttribute(Tt.DRM_TOKEN))}get playbackToken(){var e,n,r,i;if(this.hasAttribute(Tt.PLAYBACK_TOKEN))return(e=this.getAttribute(Tt.PLAYBACK_TOKEN))!=null?e:void 0;if(this.hasAttribute(Tt.PLAYBACK_ID)){let[,o]=FN((n=this.playbackId)!=null?n:"");return(r=new URLSearchParams(o).get("token"))!=null?r:void 0}if(this.src)return(i=new URLSearchParams(this.src).get("token"))!=null?i:void 0}set playbackToken(e){e!==this.playbackToken&&(e?this.setAttribute(Tt.PLAYBACK_TOKEN,e):this.removeAttribute(Tt.PLAYBACK_TOKEN))}get tokens(){let e=this.getAttribute(Tt.PLAYBACK_TOKEN),n=this.getAttribute(Tt.DRM_TOKEN);return{...Ta(this,m0),...e!=null?{playback:e}:{},...n!=null?{drm:n}:{}}}set tokens(e){Ws(this,m0,e??{})}get ended(){return ste(this.nativeEl,this._hls)}get envKey(){var e;return(e=this.getAttribute(Tt.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(Tt.ENV_KEY,e):this.removeAttribute(Tt.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(Tt.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(Tt.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(Tt.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(Tt.STREAM_TYPE))!=null?e:_L(this.nativeEl)}set streamType(e){e!==this.streamType&&(e?this.setAttribute(Tt.STREAM_TYPE,e):this.removeAttribute(Tt.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(Tt.TARGET_LIVE_WINDOW)?+this.getAttribute(Tt.TARGET_LIVE_WINDOW):Z4e(this.nativeEl)}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(Tt.TARGET_LIVE_WINDOW):this.setAttribute(Tt.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e,n;if(this.hasAttribute(Tt.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:r}=this,i=(e=this.nativeEl.seekable.end(0))!=null?e:0,o=(n=this.nativeEl.seekable.start(0))!=null?n:0;return Math.max(o,i-r)}return J4e(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(Tt.LIVE_EDGE_OFFSET))return+this.getAttribute(Tt.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){e!=this.liveEdgeOffset&&(e==null?this.removeAttribute(Tt.LIVE_EDGE_OFFSET):this.setAttribute(Tt.LIVE_EDGE_OFFSET,`${+e}`))}get seekable(){return jN(this.nativeEl)}async addCuePoints(e){return Yee(this.nativeEl,e)}get activeCuePoint(){return Xee(this.nativeEl)}get cuePoints(){return S4e(this.nativeEl)}async addChapters(e){return Zee(this.nativeEl,e)}get activeChapter(){return Jee(this.nativeEl)}get chapters(){return A4e(this.nativeEl)}getStartDate(){return x4e(this.nativeEl,this._hls)}get currentPdt(){return R4e(this.nativeEl,this._hls)}get preferPlayback(){let e=this.getAttribute(Tt.PREFER_PLAYBACK);if(e===Cl.MSE||e===Cl.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===Cl.MSE||e===Cl.NATIVE?this.setAttribute(Tt.PREFER_PLAYBACK,e):this.removeAttribute(Tt.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(e=>e.startsWith("metadata-")&&![Tt.METADATA_URL].includes(e)).reduce((e,n)=>{let r=this.getAttribute(n);return r!=null&&(e[n.replace(/^metadata-/,"").replace(/-/g,"_")]=r),e},{}),...Ta(this,ag)}}set metadata(e){Ws(this,ag,e??{}),this.mux&&this.mux.emit("hb",Ta(this,ag))}get _hlsConfig(){return Ta(this,g0)}set _hlsConfig(e){Ws(this,g0,e)}get logo(){var e;return(e=this.getAttribute(Tt.LOGO))!=null?e:Ta(this,sg)}set logo(e){e?this.setAttribute(Tt.LOGO,e):this.removeAttribute(Tt.LOGO)}load(){Ws(this,ll,n5e(this,this.nativeEl,Ta(this,ll)))}unload(){ote(this.nativeEl,Ta(this,ll),this),Ws(this,ll,void 0)}attributeChangedCallback(e,n,r){var i,o;switch(pc.observedAttributes.includes(e)&&!["src","autoplay","preload"].includes(e)&&super.attributeChangedCallback(e,n,r),e){case Tt.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=r??void 0;break;case Tt.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=r??void 0;break;case"src":{let l=!!n,u=!!r;!l&&u?Cv(this,dh,og).call(this):l&&!u?this.unload():l&&u&&(this.unload(),Cv(this,dh,og).call(this));break}case"autoplay":if(r===n)break;(i=Ta(this,ll))==null||i.setAutoplay(this.autoplay);break;case"preload":if(r===n)break;(o=Ta(this,ll))==null||o.setPreload(r);break;case Tt.PLAYBACK_ID:this.src=EL(this);break;case Tt.DEBUG:{let l=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=l);break}case Tt.METADATA_URL:r&&fetch(r).then(l=>l.json()).then(l=>this.metadata=l).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${r}!`));break;case Tt.STREAM_TYPE:(r==null||r!==n)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case Tt.TARGET_LIVE_WINDOW:(r==null||r!==n)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break;case Tt.LOGO:(r==null||r!==n)&&this.updateLogo();break;case Tt.DISABLE_TRACKING:{if(r==null||r!==n){let l=this.currentTime,u=this.paused;this.unload(),Cv(this,dh,og).call(this).then(()=>{this.currentTime=l,u||this.play()})}break}case Tt.DISABLE_COOKIES:{(r==null||r!==n)&&this.disableCookies&&document.cookie.split(";").forEach(l=>{l.trim().startsWith("muxData")&&(document.cookie=l.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/"))});break}}}updateLogo(){if(!this.shadowRoot)return;let e=this.shadowRoot.querySelector('slot[name="logo"]');if(!e)return;let n=this.constructor.getLogoHTML(Ta(this,sg)||this.logo);e.innerHTML=n}connectedCallback(){var e;(e=super.connectedCallback)==null||e.call(this),this.nativeEl&&this.src&&!Ta(this,ll)&&Cv(this,dh,og).call(this)}disconnectedCallback(){this.unload()}handleEvent(e){e.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(e.type,{composed:!0,detail:e.detail}))}};ll=new WeakMap,ig=new WeakMap,p0=new WeakMap,ag=new WeakMap,m0=new WeakMap,g0=new WeakMap,y0=new WeakMap,b0=new WeakMap,v0=new WeakMap,sg=new WeakMap,dh=new WeakSet,og=async function(){Ta(this,ig)||(await Ws(this,ig,Promise.resolve()),Ws(this,ig,null),this.load())};const Rd=new WeakMap;class Xk extends Error{}class b5e extends Error{}const v5e=["application/x-mpegURL","application/vnd.apple.mpegurl","audio/mpegurl"],E5e=globalThis.WeakRef?class extends Set{add(t){super.add(new WeakRef(t))}forEach(t){super.forEach(e=>{const n=e.deref();n&&t(n)})}}:Set;function _5e(t){globalThis.chrome?.cast?.isAvailable?globalThis.cast?.framework?t():customElements.whenDefined("google-cast-button").then(t):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(t)}}function T5e(){return globalThis.chrome}function S5e(){const t="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if(globalThis.chrome?.cast||document.querySelector(`script[src="${t}"]`))return;const e=document.createElement("script");e.src=t,document.head.append(e)}function mc(){return globalThis.cast?.framework?.CastContext.getInstance()}function VN(){return mc()?.getCurrentSession()}function KN(){return VN()?.getSessionObj().media[0]}function w5e(t){return new Promise((e,n)=>{KN().editTracksInfo(t,e,n)})}function A5e(t){return new Promise((e,n)=>{KN().getStatus(t,e,n)})}function iG(t){return mc().setOptions({...pte(),...t})}function pte(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}function I5e(t){if(!t)return;const e=/\.([a-zA-Z0-9]+)(?:\?.*)?$/,n=t.match(e);return n?n[1]:null}function x5e(t){const e=t.split(`
`),n=[];for(let r=0;r<e.length;r++)if(e[r].trim().startsWith("#EXT-X-STREAM-INF")){const o=e[r+1]?e[r+1].trim():"";o&&!o.startsWith("#")&&n.push(o)}return n}function R5e(t){return t.split(`
`).find(r=>!r.trim().startsWith("#")&&r.trim()!=="")}async function k5e(t){try{const n=(await fetch(t,{method:"HEAD"})).headers.get("Content-Type");return v5e.some(r=>n===r)}catch(e){return console.error("Error while trying to get the Content-Type of the manifest",e),!1}}async function C5e(t){try{const e=await(await fetch(t)).text();let n=e;const r=x5e(e);if(r.length>0){const l=new URL(r[0],t).toString();n=await(await fetch(l)).text()}const i=R5e(n);return I5e(i)}catch(e){console.error("Error while trying to parse the manifest playlist",e);return}}const E0=new E5e,Gu=new WeakSet;let ea;_5e(()=>{if(!globalThis.chrome?.cast?.isAvailable){console.debug("chrome.cast.isAvailable",globalThis.chrome?.cast?.isAvailable);return}ea||(ea=cast.framework,mc().addEventListener(ea.CastContextEventType.CAST_STATE_CHANGED,t=>{E0.forEach(e=>Rd.get(e).onCastStateChanged?.(t))}),mc().addEventListener(ea.CastContextEventType.SESSION_STATE_CHANGED,t=>{E0.forEach(e=>Rd.get(e).onSessionStateChanged?.(t))}),E0.forEach(t=>Rd.get(t).init?.()))});let aG=0;class D5e extends EventTarget{#e;#i;#r;#t;#n="disconnected";#o=!1;#a=new Set;#l=new WeakMap;constructor(e){super(),this.#e=e,E0.add(this),Rd.set(this,{init:()=>this.#h(),onCastStateChanged:()=>this.#d(),onSessionStateChanged:()=>this.#f(),getCastPlayer:()=>this.#s}),this.#h()}get#s(){if(Gu.has(this.#e))return this.#r}get state(){return this.#n}async watchAvailability(e){if(this.#e.disableRemotePlayback)throw new Xk("disableRemotePlayback attribute is present.");return this.#l.set(e,++aG),this.#a.add(e),queueMicrotask(()=>e(this.#c())),aG}async cancelWatchAvailability(e){if(this.#e.disableRemotePlayback)throw new Xk("disableRemotePlayback attribute is present.");e?this.#a.delete(e):this.#a.clear()}async prompt(){if(this.#e.disableRemotePlayback)throw new Xk("disableRemotePlayback attribute is present.");if(!globalThis.chrome?.cast?.isAvailable)throw new b5e("The RemotePlayback API is disabled on this platform.");const e=Gu.has(this.#e);Gu.add(this.#e),iG(this.#e.castOptions),Object.entries(this.#t).forEach(([n,r])=>{this.#r.controller.addEventListener(n,r)});try{await mc().requestSession()}catch(n){if(e||Gu.delete(this.#e),n==="cancel")return;throw new Error(n)}Rd.get(this.#e)?.loadOnPrompt?.()}#u(){Gu.has(this.#e)&&(Object.entries(this.#t).forEach(([e,n])=>{this.#r.controller.removeEventListener(e,n)}),Gu.delete(this.#e),this.#e.muted=this.#r.isMuted,this.#e.currentTime=this.#r.savedPlayerState.currentTime,this.#r.savedPlayerState.isPaused===!1&&this.#e.play())}#c(){const e=mc()?.getCastState();return e&&e!=="NO_DEVICES_AVAILABLE"}#d(){const e=mc().getCastState();if(Gu.has(this.#e)&&e==="CONNECTING"&&(this.#n="connecting",this.dispatchEvent(new Event("connecting"))),!this.#o&&e?.includes("CONNECT")){this.#o=!0;for(let n of this.#a)n(!0)}else if(this.#o&&(!e||e==="NO_DEVICES_AVAILABLE")){this.#o=!1;for(let n of this.#a)n(!1)}}async#f(){const{SESSION_RESUMED:e}=ea.SessionState;if(mc().getSessionState()===e&&this.#e.castSrc===KN()?.media.contentId){Gu.add(this.#e),Object.entries(this.#t).forEach(([n,r])=>{this.#r.controller.addEventListener(n,r)});try{await A5e(new chrome.cast.media.GetStatusRequest)}catch(n){console.error(n)}this.#t[ea.RemotePlayerEventType.IS_PAUSED_CHANGED](),this.#t[ea.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}}#h(){!ea||this.#i||(this.#i=!0,iG(this.#e.castOptions),this.#e.textTracks.addEventListener("change",()=>this.#m()),this.#d(),this.#r=new ea.RemotePlayer,new ea.RemotePlayerController(this.#r),this.#t={[ea.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:e})=>{e===!0?(this.#n="connected",this.dispatchEvent(new Event("connect"))):(this.#u(),this.#n="disconnected",this.dispatchEvent(new Event("disconnect")))},[ea.RemotePlayerEventType.DURATION_CHANGED]:()=>{this.#e.dispatchEvent(new Event("durationchange"))},[ea.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[ea.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[ea.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{this.#s?.isMediaLoaded&&this.#e.dispatchEvent(new Event("timeupdate"))},[ea.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{this.#e.dispatchEvent(new Event("resize"))},[ea.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{this.#e.dispatchEvent(new Event(this.paused?"pause":"play"))},[ea.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{this.#s?.playerState!==chrome.cast.media.PlayerState.PAUSED&&this.#e.dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[this.#s?.playerState]))},[ea.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{this.#s?.isMediaLoaded&&(await Promise.resolve(),this.#p())}})}#p(){this.#m()}async#m(){if(!this.#s)return;const n=(this.#r.mediaInfo?.tracks??[]).filter(({type:f})=>f===chrome.cast.media.TrackType.TEXT),r=[...this.#e.textTracks].filter(({kind:f})=>f==="subtitles"||f==="captions"),i=n.map(({language:f,name:p,trackId:m})=>{const{mode:g}=r.find(y=>y.language===f&&y.label===p)??{};return g?{mode:g,trackId:m}:!1}).filter(Boolean),l=i.filter(({mode:f})=>f!=="showing").map(({trackId:f})=>f),u=i.find(({mode:f})=>f==="showing"),c=VN()?.getSessionObj().media[0]?.activeTrackIds??[];let d=c;if(c.length&&(d=d.filter(f=>!l.includes(f))),u?.trackId&&(d=[...d,u.trackId]),d=[...new Set(d)],!((f,p)=>f.length===p.length&&f.every(m=>p.includes(m)))(c,d))try{const f=new chrome.cast.media.EditTracksInfoRequest(d);await w5e(f)}catch(f){console.error(f)}}}const L5e=t=>class extends t{static observedAttributes=[...t.observedAttributes??[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"];#e={paused:!1};#i=pte();#r;#t;get remote(){return this.#t?this.#t:T5e()?(this.disableRemotePlayback||S5e(),Rd.set(this,{loadOnPrompt:()=>this.#o()}),this.#t=new D5e(this)):super.remote}get#n(){return Rd.get(this.remote)?.getCastPlayer?.()}attributeChangedCallback(n,r,i){if(super.attributeChangedCallback(n,r,i),n==="cast-receiver"&&i){this.#i.receiverApplicationId=i;return}if(this.#n)switch(n){case"cast-stream-type":case"cast-src":this.load();break}}async#o(){this.#e.paused=super.paused,super.pause(),this.muted=super.muted;try{await this.load()}catch(n){console.error(n)}}async load(){if(!this.#n)return super.load();const n=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType);n.customData=this.castCustomData;const r=[...this.querySelectorAll("track")].filter(({kind:u,src:c})=>c&&(u==="subtitles"||u==="captions")),i=[];let o=0;if(r.length&&(n.tracks=r.map(u=>{const c=++o;i.length===0&&u.track.mode==="showing"&&i.push(c);const d=new chrome.cast.media.Track(c,chrome.cast.media.TrackType.TEXT);return d.trackContentId=u.src,d.trackContentType="text/vtt",d.subtype=u.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,d.name=u.label,d.language=u.srclang,d})),this.castStreamType==="live"?n.streamType=chrome.cast.media.StreamType.LIVE:n.streamType=chrome.cast.media.StreamType.BUFFERED,n.metadata=new chrome.cast.media.GenericMediaMetadata,n.metadata.title=this.title,n.metadata.images=[{url:this.poster}],k5e(this.castSrc)){const u=await C5e(this.castSrc);u?.includes("m4s")||u?.includes("mp4")?(n.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.FMP4,n.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.FMP4):u?.includes("ts")&&(n.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.TS,n.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.TS)}const l=new chrome.cast.media.LoadRequest(n);l.currentTime=super.currentTime??0,l.autoplay=!this.#e.paused,l.activeTrackIds=i,await VN()?.loadMedia(l),this.dispatchEvent(new Event("volumechange"))}play(){if(this.#n){this.#n.isPaused&&this.#n.controller?.playOrPause();return}return super.play()}pause(){if(this.#n){this.#n.isPaused||this.#n.controller?.playOrPause();return}super.pause()}get castOptions(){return this.#i}get castReceiver(){return this.getAttribute("cast-receiver")??void 0}set castReceiver(n){this.castReceiver!=n&&this.setAttribute("cast-receiver",`${n}`)}get castSrc(){return this.getAttribute("cast-src")??this.querySelector("source")?.src??this.currentSrc}set castSrc(n){this.castSrc!=n&&this.setAttribute("cast-src",`${n}`)}get castContentType(){return this.getAttribute("cast-content-type")??void 0}set castContentType(n){this.setAttribute("cast-content-type",`${n}`)}get castStreamType(){return this.getAttribute("cast-stream-type")??this.streamType??void 0}set castStreamType(n){this.setAttribute("cast-stream-type",`${n}`)}get castCustomData(){return this.#r}set castCustomData(n){const r=typeof n;if(!["object","undefined"].includes(r)){console.error(`castCustomData must be nullish or an object but value was of type ${r}`);return}this.#r=n}get readyState(){if(this.#n)switch(this.#n.playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return this.#n?this.#n.isPaused:super.paused}get muted(){return this.#n?this.#n?.isMuted:super.muted}set muted(n){if(this.#n){(n&&!this.#n.isMuted||!n&&this.#n.isMuted)&&this.#n.controller?.muteOrUnmute();return}super.muted=n}get volume(){return this.#n?this.#n?.volumeLevel??1:super.volume}set volume(n){if(this.#n){this.#n.volumeLevel=+n,this.#n.controller?.setVolumeLevel();return}super.volume=n}get duration(){return this.#n&&this.#n?.isMediaLoaded?this.#n?.duration??NaN:super.duration}get currentTime(){return this.#n&&this.#n?.isMediaLoaded?this.#n?.currentTime??0:super.currentTime}set currentTime(n){if(this.#n){this.#n.currentTime=n,this.#n.controller?.seek();return}super.currentTime=n}};var mte=t=>{throw TypeError(t)},gte=(t,e,n)=>e.has(t)||mte("Cannot "+n),P5e=(t,e,n)=>(gte(t,e,"read from private field"),n?n.call(t):e.get(t)),O5e=(t,e,n)=>e.has(t)?mte("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),M5e=(t,e,n,r)=>(gte(t,e,"write to private field"),e.set(t,n),n),yte=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class t extends yte{}globalThis.DocumentFragment=t}var N5e=class extends yte{},F5e={get(t){},define(t,e,n){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(N5e)}},U5e={customElements:F5e},B5e=typeof window>"u"||typeof globalThis.customElements>"u",Qk=B5e?U5e:globalThis,_0,sG=class extends L5e(oN(y5e)){constructor(){super(...arguments),O5e(this,_0)}get autoplay(){let e=this.getAttribute("autoplay");return e===null?!1:e===""?!0:e}set autoplay(e){let n=this.autoplay;e!==n&&(e?this.setAttribute("autoplay",typeof e=="string"?e:""):this.removeAttribute("autoplay"))}get muxCastCustomData(){return{mux:{playbackId:this.playbackId,minResolution:this.minResolution,maxResolution:this.maxResolution,renditionOrder:this.renditionOrder,customDomain:this.customDomain,tokens:{drm:this.drmToken},envKey:this.envKey,metadata:this.metadata,disableCookies:this.disableCookies,disableTracking:this.disableTracking,beaconCollectionDomain:this.beaconCollectionDomain,startTime:this.startTime,preferCmcd:this.preferCmcd}}}get castCustomData(){var e;return(e=P5e(this,_0))!=null?e:this.muxCastCustomData}set castCustomData(e){M5e(this,_0,e)}};_0=new WeakMap;Qk.customElements.get("mux-video")||(Qk.customElements.define("mux-video",sG),Qk.MuxVideoElement=sG);const wn={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_LOOP_REQUEST:"medialooprequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_TOGGLE_SUBTITLES_REQUEST:"mediatogglesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},zr={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},bte={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_BUFFERED:"mediaBuffered",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_CHAPTERS_CUES:"mediaChaptersCues",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_ENDED:"mediaEnded",MEDIA_ERROR:"mediaError",MEDIA_ERROR_CODE:"mediaErrorCode",MEDIA_ERROR_MESSAGE:"mediaErrorMessage",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_HEIGHT:"mediaHeight",MEDIA_IS_AIRPLAYING:"mediaIsAirplaying",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_IS_PIP:"mediaIsPip",MEDIA_LOADING:"mediaLoading",MEDIA_MUTED:"mediaMuted",MEDIA_LOOP:"mediaLoop",MEDIA_PAUSED:"mediaPaused",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_PREVIEW_CHAPTER:"mediaPreviewChapter",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_LANG:"mediaLang",MEDIA_WIDTH:"mediaWidth"},vte=Object.entries(bte),qe=vte.reduce((t,[e,n])=>(t[e]=n.toLowerCase(),t),{}),z5e={USER_INACTIVE_CHANGE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange",BREAKPOINTS_COMPUTED:"breakpointscomputed"},Eu=vte.reduce((t,[e,n])=>(t[e]=n.toLowerCase(),t),{...z5e});Object.entries(Eu).reduce((t,[e,n])=>{const r=qe[e];return r&&(t[n]=r),t},{userinactivechange:"userinactive"});const $5e=Object.entries(qe).reduce((t,[e,n])=>{const r=Eu[e];return r&&(t[n]=r),t},{userinactive:"userinactivechange"}),Nl={SUBTITLES:"subtitles",CAPTIONS:"captions",CHAPTERS:"chapters",METADATA:"metadata"},Qh={DISABLED:"disabled",SHOWING:"showing"},Zk={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},hs={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},ou={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"},q5e={FULLSCREEN:"fullscreen"};function j5e(t){return t?.map(G5e).join(" ")}function H5e(t){return t?.split(/\s+/).map(V5e)}function G5e(t){if(t){const{id:e,width:n,height:r}=t;return[e,n,r].filter(i=>i!=null).join(":")}}function V5e(t){if(t){const[e,n,r]=t.split(":");return{id:e,width:+n,height:+r}}}function K5e(t){return t?.map(Y5e).join(" ")}function W5e(t){return t?.split(/\s+/).map(X5e)}function Y5e(t){if(t){const{id:e,kind:n,language:r,label:i}=t;return[e,n,r,i].filter(o=>o!=null).join(":")}}function X5e(t){if(t){const[e,n,r,i]=t.split(":");return{id:e,kind:n,language:r,label:i}}}function Q5e(t){return t.replace(/[-_]([a-z])/g,(e,n)=>n.toUpperCase())}function WN(t){return typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t)}function Ete(t){return typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t))}const _te=t=>new Promise(e=>setTimeout(e,t)),oG=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],Z5e=(t,e)=>{const n=t===1?oG[e].singular:oG[e].plural;return`${t} ${n}`},jg=t=>{if(!WN(t))return"";const e=Math.abs(t),n=e!==t,r=new Date(0,0,0,0,0,e,0);return`${[r.getHours(),r.getMinutes(),r.getSeconds()].map((u,c)=>u&&Z5e(u,c)).filter(u=>u).join(", ")}${n?" remaining":""}`};function _c(t,e){let n=!1;t<0&&(n=!0,t=0-t),t=t<0?0:t;let r=Math.floor(t%60),i=Math.floor(t/60%60),o=Math.floor(t/3600);const l=Math.floor(e/60%60),u=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(o=i=r="0"),o=o>0||u>0?o+":":"",i=((o||l>=10)&&i<10?"0"+i:i)+":",r=r<10?"0"+r:r,(n?"-":"")+o+i+r}const J5e={"Start airplay":"Start airplay","Stop airplay":"Stop airplay",Audio:"Audio",Captions:"Captions","Enable captions":"Enable captions","Disable captions":"Disable captions","Start casting":"Start casting","Stop casting":"Stop casting","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",Mute:"Mute",Unmute:"Unmute",Loop:"Loop","Enter picture in picture mode":"Enter picture in picture mode","Exit picture in picture mode":"Exit picture in picture mode",Play:"Play",Pause:"Pause","Playback rate":"Playback rate","Playback rate {playbackRate}":"Playback rate {playbackRate}",Quality:"Quality","Seek backward":"Seek backward","Seek forward":"Seek forward",Settings:"Settings",Auto:"Auto","audio player":"audio player","video player":"video player",volume:"volume",seek:"seek","closed captions":"closed captions","current playback rate":"current playback rate","playback time":"playback time","media loading":"media loading",settings:"settings","audio tracks":"audio tracks",quality:"quality",play:"play",pause:"pause",mute:"mute",unmute:"unmute","chapter: {chapterName}":"chapter: {chapterName}",live:"live",Off:"Off","start airplay":"start airplay","stop airplay":"stop airplay","start casting":"start casting","stop casting":"stop casting","enter fullscreen mode":"enter fullscreen mode","exit fullscreen mode":"exit fullscreen mode","enter picture in picture mode":"enter picture in picture mode","exit picture in picture mode":"exit picture in picture mode","seek to live":"seek to live","playing live":"playing live","seek back {seekOffset} seconds":"seek back {seekOffset} seconds","seek forward {seekOffset} seconds":"seek forward {seekOffset} seconds","Network Error":"Network Error","Decode Error":"Decode Error","Source Not Supported":"Source Not Supported","Encryption Error":"Encryption Error","A network error caused the media download to fail.":"A network error caused the media download to fail.","A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.":"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.","An unsupported error occurred. The server or network failed, or your browser does not support this format.":"An unsupported error occurred. The server or network failed, or your browser does not support this format.","The media is encrypted and there are no keys to decrypt it.":"The media is encrypted and there are no keys to decrypt it."};var lG;const Jk={en:J5e};let SL=((lG=globalThis.navigator)==null?void 0:lG.language)||"en";const e$e=t=>{SL=t},t$e=t=>{var e,n,r;const[i]=SL.split("-");return((e=Jk[SL])==null?void 0:e[t])||((n=Jk[i])==null?void 0:n[t])||((r=Jk.en)==null?void 0:r[t])||t},Mn=(t,e={})=>t$e(t).replace(/\{(\w+)\}/g,(n,r)=>r in e?String(e[r]):`{${r}}`);let Tte=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}},Ste=class extends Tte{},uG=class extends Ste{constructor(){super(...arguments),this.role=null}};class n$e{observe(){}unobserve(){}disconnect(){}}const wte={createElement:function(){return new Dy.HTMLElement},createElementNS:function(){return new Dy.HTMLElement},addEventListener(){},removeEventListener(){},dispatchEvent(t){return!1}},Dy={ResizeObserver:n$e,document:wte,Node:Ste,Element:uG,HTMLElement:class extends uG{constructor(){super(...arguments),this.innerHTML=""}get content(){return new Dy.DocumentFragment}},DocumentFragment:class extends Tte{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},localStorage:{getItem(t){return null},setItem(t,e){},removeItem(t){}},CustomEvent:function(){},getComputedStyle:function(){},navigator:{languages:[],get userAgent(){return""}},matchMedia(t){return{matches:!1,media:t}},DOMParser:class{parseFromString(e,n){return{body:{textContent:e}}}}},Ate="global"in globalThis&&globalThis?.global===globalThis||typeof window>"u"||typeof window.customElements>"u",Ite=Object.keys(Dy).every(t=>t in globalThis),ct=Ate&&!Ite?Dy:globalThis,Qi=Ate&&!Ite?wte:globalThis.document,cG=new WeakMap,YN=t=>{let e=cG.get(t);return e||cG.set(t,e=new Set),e},xte=new ct.ResizeObserver(t=>{for(const e of t)for(const n of YN(e.target))n(e)});function vp(t,e){YN(t).add(e),xte.observe(t)}function Ep(t,e){const n=YN(t);n.delete(e),n.size||xte.unobserve(t)}function Ps(t){const e={};for(const n of t)e[n.name]=n.value;return e}function ls(t){var e;return(e=wL(t))!=null?e:Bp(t,"media-controller")}function wL(t){var e;const{MEDIA_CONTROLLER:n}=zr,r=t.getAttribute(n);if(r)return(e=PS(t))==null?void 0:e.getElementById(r)}const Rte=(t,e,n=".value")=>{const r=t.querySelector(n);r&&(r.textContent=e)},r$e=(t,e)=>{const n=`slot[name="${e}"]`,r=t.shadowRoot.querySelector(n);return r?r.children:[]},kte=(t,e)=>r$e(t,e)[0],xu=(t,e)=>!t||!e?!1:t?.contains(e)?!0:xu(t,e.getRootNode().host),Bp=(t,e)=>{if(!t)return null;const n=t.closest(e);return n||Bp(t.getRootNode().host,e)};function XN(t=document){var e;const n=t?.activeElement;return n?(e=XN(n.shadowRoot))!=null?e:n:null}function PS(t){var e;const n=(e=t?.getRootNode)==null?void 0:e.call(t);return n instanceof ShadowRoot||n instanceof Document?n:null}function Cte(t,{depth:e=3,checkOpacity:n=!0,checkVisibilityCSS:r=!0}={}){if(t.checkVisibility)return t.checkVisibility({checkOpacity:n,checkVisibilityCSS:r});let i=t;for(;i&&e>0;){const o=getComputedStyle(i);if(n&&o.opacity==="0"||r&&o.visibility==="hidden"||o.display==="none")return!1;i=i.parentElement,e--}return!0}function i$e(t,e,n,r){const i=r.x-n.x,o=r.y-n.y,l=i*i+o*o;if(l===0)return 0;const u=((t-n.x)*i+(e-n.y)*o)/l;return Math.max(0,Math.min(1,u))}function ia(t,e){const n=a$e(t,r=>r===e);return n||QN(t,e)}function a$e(t,e){var n,r;let i;for(i of(n=t.querySelectorAll("style:not([media])"))!=null?n:[]){let o;try{o=(r=i.sheet)==null?void 0:r.cssRules}catch{continue}for(const l of o??[])if(e(l.selectorText))return l}}function QN(t,e){var n,r;const i=(n=t.querySelectorAll("style:not([media])"))!=null?n:[],o=i?.[i.length-1];return o?.sheet?(o?.sheet.insertRule(`${e}{}`,o.sheet.cssRules.length),(r=o.sheet.cssRules)==null?void 0:r[o.sheet.cssRules.length-1]):(console.warn("Media Chrome: No style sheet found on style tag of",t),{style:{setProperty:()=>{},removeProperty:()=>"",getPropertyValue:()=>""}})}function pi(t,e,n=Number.NaN){const r=t.getAttribute(e);return r!=null?+r:n}function Ui(t,e,n){const r=+n;if(n==null||Number.isNaN(r)){t.hasAttribute(e)&&t.removeAttribute(e);return}pi(t,e,void 0)!==r&&t.setAttribute(e,`${r}`)}function Dr(t,e){return t.hasAttribute(e)}function Lr(t,e,n){if(n==null){t.hasAttribute(e)&&t.removeAttribute(e);return}Dr(t,e)!=n&&t.toggleAttribute(e,n)}function mi(t,e,n=null){var r;return(r=t.getAttribute(e))!=null?r:n}function gi(t,e,n){if(n==null){t.hasAttribute(e)&&t.removeAttribute(e);return}const r=`${n}`;mi(t,e,void 0)!==r&&t.setAttribute(e,r)}var Dte=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Vu=(t,e,n)=>(Dte(t,e,"read from private field"),n?n.call(t):e.get(t)),s$e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Dv=(t,e,n,r)=>(Dte(t,e,"write to private field"),e.set(t,n),n),es;function o$e(t){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
        box-sizing: border-box;
      }
    </style>
  `}class OS extends ct.HTMLElement{constructor(){if(super(),s$e(this,es,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[zr.MEDIA_CONTROLLER,qe.MEDIA_PAUSED]}attributeChangedCallback(e,n,r){var i,o,l,u,c;e===zr.MEDIA_CONTROLLER&&(n&&((o=(i=Vu(this,es))==null?void 0:i.unassociateElement)==null||o.call(i,this),Dv(this,es,null)),r&&this.isConnected&&(Dv(this,es,(l=this.getRootNode())==null?void 0:l.getElementById(r)),(c=(u=Vu(this,es))==null?void 0:u.associateElement)==null||c.call(u,this)))}connectedCallback(){var e,n,r,i;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),Dv(this,es,l$e(this)),this.getAttribute(zr.MEDIA_CONTROLLER)&&((n=(e=Vu(this,es))==null?void 0:e.associateElement)==null||n.call(e,this)),(r=Vu(this,es))==null||r.addEventListener("pointerdown",this),(i=Vu(this,es))==null||i.addEventListener("click",this)}disconnectedCallback(){var e,n,r,i;this.getAttribute(zr.MEDIA_CONTROLLER)&&((n=(e=Vu(this,es))==null?void 0:e.unassociateElement)==null||n.call(e,this)),(r=Vu(this,es))==null||r.removeEventListener("pointerdown",this),(i=Vu(this,es))==null||i.removeEventListener("click",this),Dv(this,es,null)}handleEvent(e){var n;const r=(n=e.composedPath())==null?void 0:n[0];if(["video","media-controller"].includes(r?.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){const{clientX:o,clientY:l}=e,{left:u,top:c,width:d,height:h}=this.getBoundingClientRect(),f=o-u,p=l-c;if(f<0||p<0||f>d||p>h||d===0&&h===0)return;const m=this._pointerType||"mouse";if(this._pointerType=void 0,m===Zk.TOUCH){this.handleTap(e);return}else if(m===Zk.MOUSE||m===Zk.PEN){this.handleMouseClick(e);return}}}}get mediaPaused(){return Dr(this,qe.MEDIA_PAUSED)}set mediaPaused(e){Lr(this,qe.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){const n=this.mediaPaused?wn.MEDIA_PLAY_REQUEST:wn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new ct.CustomEvent(n,{composed:!0,bubbles:!0}))}}es=new WeakMap;OS.shadowRootOptions={mode:"open"};OS.getTemplateHTML=o$e;function l$e(t){var e;const n=t.getAttribute(zr.MEDIA_CONTROLLER);return n?(e=t.getRootNode())==null?void 0:e.getElementById(n):Bp(t,"media-controller")}ct.customElements.get("media-gesture-receiver")||ct.customElements.define("media-gesture-receiver",OS);var dG=OS,ZN=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ts=(t,e,n)=>(ZN(t,e,"read from private field"),n?n.call(t):e.get(t)),ps=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},td=(t,e,n,r)=>(ZN(t,e,"write to private field"),e.set(t,n),n),eo=(t,e,n)=>(ZN(t,e,"access private method"),n),nT,fh,Ly,Fh,T0,AL,Lte,lg,S0,IL,Pte,xL,Ote,Py,MS,NS,JN,_p,Oy;const nr={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive",AUTOHIDE_OVER_CONTROLS:"autohideovercontrols"};function u$e(t){return`
    <style>
      
      :host([${qe.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
        outline: none;
      }

      :host {
        box-sizing: border-box;
        position: relative;
        display: inline-block;
        line-height: 0;
        background-color: var(--media-background-color, #000);
        overflow: hidden;
      }

      :host(:not([${nr.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        display: flex;
        flex-flow: column nowrap;
        align-items: start;
        pointer-events: none;
        background: none;
      }

      slot[name=media] {
        display: var(--media-slot-display, contents);
      }

      
      :host([${nr.AUDIO}]) slot[name=media] {
        display: var(--media-slot-display, none);
      }

      
      :host([${nr.AUDIO}]) [part~=layer][part~=gesture-layer] {
        height: 0;
        display: block;
      }

      
      :host(:not([${nr.AUDIO}])[${nr.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
          :host(:not([${nr.AUDIO}])[${nr.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
        display: none;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {
        pointer-events: auto;
      }

      :host(:not([${nr.AUDIO}])) *[part~=layer][part~=centered-layer] {
        align-items: center;
        justify-content: center;
      }

      :host(:not([${nr.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
      :host(:not([${nr.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
        align-self: stretch;
        flex-grow: 1;
      }

      slot[name=middle-chrome] {
        display: inline;
        flex-grow: 1;
        pointer-events: none;
        background: none;
      }

      
      ::slotted([slot=media]),
      ::slotted([slot=poster]) {
        width: 100%;
        height: 100%;
      }

      
      :host(:not([${nr.AUDIO}])) .spacer {
        flex-grow: 1;
      }

      
      :host(:-webkit-full-screen) {
        
        width: 100% !important;
        height: 100% !important;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not([${nr.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {
        opacity: 1;
        transition: var(--media-control-transition-in, opacity 0.25s);
      }

      
      :host([${nr.USER_INACTIVE}]:not([${qe.MEDIA_PAUSED}]):not([${qe.MEDIA_IS_AIRPLAYING}]):not([${qe.MEDIA_IS_CASTING}]):not([${nr.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${nr.NO_AUTOHIDE}]):not([role=dialog])) {
        opacity: 0;
        transition: var(--media-control-transition-out, opacity 1s);
      }

      :host([${nr.USER_INACTIVE}]:not([${nr.NO_AUTOHIDE}]):not([${qe.MEDIA_PAUSED}]):not([${qe.MEDIA_IS_CASTING}]):not([${nr.AUDIO}])) ::slotted([slot=media]) {
        cursor: none;
      }

      :host([${nr.USER_INACTIVE}][${nr.AUTOHIDE_OVER_CONTROLS}]:not([${nr.NO_AUTOHIDE}]):not([${qe.MEDIA_PAUSED}]):not([${qe.MEDIA_IS_CASTING}]):not([${nr.AUDIO}])) * {
        --media-cursor: none;
        cursor: none;
      }


      ::slotted(media-control-bar)  {
        align-self: stretch;
      }

      
      :host(:not([${nr.AUDIO}])[${qe.MEDIA_HAS_PLAYED}]) slot[name=poster] {
        display: none;
      }

      ::slotted([role=dialog]) {
        width: 100%;
        height: 100%;
        align-self: center;
      }

      ::slotted([role=menu]) {
        align-self: end;
      }
    </style>

    <slot name="media" part="layer media-layer"></slot>
    <slot name="poster" part="layer poster-layer"></slot>
    <slot name="gestures-chrome" part="layer gesture-layer">
      <media-gesture-receiver slot="gestures-chrome">
        <template shadowrootmode="${dG.shadowRootOptions.mode}">
          ${dG.getTemplateHTML({})}
        </template>
      </media-gesture-receiver>
    </slot>
    <span part="layer vertical-layer">
      <slot name="top-chrome" part="top chrome"></slot>
      <slot name="middle-chrome" part="middle chrome"></slot>
      <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
      
      <slot part="bottom chrome"></slot>
    </span>
    <slot name="dialog" part="layer dialog-layer"></slot>
  `}const c$e=Object.values(qe),d$e="sm:384 md:576 lg:768 xl:960";function f$e(t){Mte(t.target,t.contentRect.width)}function Mte(t,e){var n;if(!t.isConnected)return;const r=(n=t.getAttribute(nr.BREAKPOINTS))!=null?n:d$e,i=h$e(r),o=p$e(i,e);let l=!1;if(Object.keys(i).forEach(u=>{if(o.includes(u)){t.hasAttribute(`breakpoint${u}`)||(t.setAttribute(`breakpoint${u}`,""),l=!0);return}t.hasAttribute(`breakpoint${u}`)&&(t.removeAttribute(`breakpoint${u}`),l=!0)}),l){const u=new CustomEvent(Eu.BREAKPOINTS_CHANGE,{detail:o});t.dispatchEvent(u)}t.breakpointsComputed||(t.breakpointsComputed=!0,t.dispatchEvent(new CustomEvent(Eu.BREAKPOINTS_COMPUTED,{bubbles:!0,composed:!0})))}function h$e(t){const e=t.split(/\s+/);return Object.fromEntries(e.map(n=>n.split(":")))}function p$e(t,e){return Object.keys(t).filter(n=>e>=parseInt(t[n]))}class FS extends ct.HTMLElement{constructor(){if(super(),ps(this,AL),ps(this,IL),ps(this,xL),ps(this,Py),ps(this,NS),ps(this,_p),ps(this,nT,0),ps(this,fh,null),ps(this,Ly,null),ps(this,Fh,void 0),this.breakpointsComputed=!1,ps(this,T0,new MutationObserver(eo(this,AL,Lte).bind(this))),ps(this,lg,!1),ps(this,S0,n=>{Ts(this,lg)||(setTimeout(()=>{f$e(n),td(this,lg,!1)},0),td(this,lg,!0))}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const n=Ps(this.attributes),r=this.constructor.getTemplateHTML(n);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(r):this.shadowRoot.innerHTML=r}const e=this.querySelector(":scope > slot[slot=media]");e&&e.addEventListener("slotchange",()=>{if(!e.assignedElements({flatten:!0}).length){Ts(this,fh)&&this.mediaUnsetCallback(Ts(this,fh));return}this.handleMediaUpdated(this.media)})}static get observedAttributes(){return[nr.AUTOHIDE,nr.GESTURES_DISABLED].concat(c$e).filter(e=>![qe.MEDIA_RENDITION_LIST,qe.MEDIA_AUDIO_TRACK_LIST,qe.MEDIA_CHAPTERS_CUES,qe.MEDIA_WIDTH,qe.MEDIA_HEIGHT,qe.MEDIA_ERROR,qe.MEDIA_ERROR_MESSAGE].includes(e))}attributeChangedCallback(e,n,r){e.toLowerCase()==nr.AUTOHIDE&&(this.autohide=r)}get media(){let e=this.querySelector(":scope > [slot=media]");return e?.nodeName=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}async handleMediaUpdated(e){e&&(td(this,fh,e),e.localName.includes("-")&&await ct.customElements.whenDefined(e.localName),this.mediaSetCallback(e))}connectedCallback(){var e;Ts(this,T0).observe(this,{childList:!0,subtree:!0}),vp(this,Ts(this,S0));const n=this.getAttribute(nr.AUDIO)!=null,r=Mn(n?"audio player":"video player");this.setAttribute("role","region"),this.setAttribute("aria-label",r),this.handleMediaUpdated(this.media),this.setAttribute(nr.USER_INACTIVE,""),Mte(this,this.getBoundingClientRect().width),this.addEventListener("pointerdown",this),this.addEventListener("pointermove",this),this.addEventListener("pointerup",this),this.addEventListener("mouseleave",this),this.addEventListener("keyup",this),(e=ct.window)==null||e.addEventListener("mouseup",this)}disconnectedCallback(){var e;Ts(this,T0).disconnect(),Ep(this,Ts(this,S0)),this.media&&this.mediaUnsetCallback(this.media),(e=ct.window)==null||e.removeEventListener("mouseup",this)}mediaSetCallback(e){}mediaUnsetCallback(e){td(this,fh,null)}handleEvent(e){switch(e.type){case"pointerdown":td(this,nT,e.timeStamp);break;case"pointermove":eo(this,IL,Pte).call(this,e);break;case"pointerup":eo(this,xL,Ote).call(this,e);break;case"mouseleave":eo(this,Py,MS).call(this);break;case"mouseup":this.removeAttribute(nr.KEYBOARD_CONTROL);break;case"keyup":eo(this,_p,Oy).call(this),this.setAttribute(nr.KEYBOARD_CONTROL,"");break}}set autohide(e){const n=Number(e);td(this,Fh,isNaN(n)?0:n)}get autohide(){return(Ts(this,Fh)===void 0?2:Ts(this,Fh)).toString()}get breakpoints(){return mi(this,nr.BREAKPOINTS)}set breakpoints(e){gi(this,nr.BREAKPOINTS,e)}get audio(){return Dr(this,nr.AUDIO)}set audio(e){Lr(this,nr.AUDIO,e)}get gesturesDisabled(){return Dr(this,nr.GESTURES_DISABLED)}set gesturesDisabled(e){Lr(this,nr.GESTURES_DISABLED,e)}get keyboardControl(){return Dr(this,nr.KEYBOARD_CONTROL)}set keyboardControl(e){Lr(this,nr.KEYBOARD_CONTROL,e)}get noAutohide(){return Dr(this,nr.NO_AUTOHIDE)}set noAutohide(e){Lr(this,nr.NO_AUTOHIDE,e)}get autohideOverControls(){return Dr(this,nr.AUTOHIDE_OVER_CONTROLS)}set autohideOverControls(e){Lr(this,nr.AUTOHIDE_OVER_CONTROLS,e)}get userInteractive(){return Dr(this,nr.USER_INACTIVE)}set userInteractive(e){Lr(this,nr.USER_INACTIVE,e)}}nT=new WeakMap;fh=new WeakMap;Ly=new WeakMap;Fh=new WeakMap;T0=new WeakMap;AL=new WeakSet;Lte=function(t){const e=this.media;for(const n of t){if(n.type!=="childList")continue;const r=n.removedNodes;for(const i of r){if(i.slot!="media"||n.target!=this)continue;let o=n.previousSibling&&n.previousSibling.previousElementSibling;if(!o||!e)this.mediaUnsetCallback(i);else{let l=o.slot!=="media";for(;(o=o.previousSibling)!==null;)o.slot=="media"&&(l=!1);l&&this.mediaUnsetCallback(i)}}if(e)for(const i of n.addedNodes)i===e&&this.handleMediaUpdated(e)}};lg=new WeakMap;S0=new WeakMap;IL=new WeakSet;Pte=function(t){if(t.pointerType!=="mouse"&&t.timeStamp-Ts(this,nT)<250)return;eo(this,NS,JN).call(this),clearTimeout(Ts(this,Ly));const e=this.hasAttribute(nr.AUTOHIDE_OVER_CONTROLS);([this,this.media].includes(t.target)||e)&&eo(this,_p,Oy).call(this)};xL=new WeakSet;Ote=function(t){if(t.pointerType==="touch"){const e=!this.hasAttribute(nr.USER_INACTIVE);[this,this.media].includes(t.target)&&e?eo(this,Py,MS).call(this):eo(this,_p,Oy).call(this)}else t.composedPath().some(e=>["media-play-button","media-fullscreen-button"].includes(e?.localName))&&eo(this,_p,Oy).call(this)};Py=new WeakSet;MS=function(){if(Ts(this,Fh)<0||this.hasAttribute(nr.USER_INACTIVE))return;this.setAttribute(nr.USER_INACTIVE,"");const t=new ct.CustomEvent(Eu.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(t)};NS=new WeakSet;JN=function(){if(!this.hasAttribute(nr.USER_INACTIVE))return;this.removeAttribute(nr.USER_INACTIVE);const t=new ct.CustomEvent(Eu.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(t)};_p=new WeakSet;Oy=function(){eo(this,NS,JN).call(this),clearTimeout(Ts(this,Ly));const t=parseInt(this.autohide);t<0||td(this,Ly,setTimeout(()=>{eo(this,Py,MS).call(this)},t*1e3))};FS.shadowRootOptions={mode:"open"};FS.getTemplateHTML=u$e;ct.customElements.get("media-container")||ct.customElements.define("media-container",FS);var Nte=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},fa=(t,e,n)=>(Nte(t,e,"read from private field"),n?n.call(t):e.get(t)),Om=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Lv=(t,e,n,r)=>(Nte(t,e,"write to private field"),e.set(t,n),n),hh,ph,rT,bd,nu,Qu;class e2{constructor(e,n,{defaultValue:r}={defaultValue:void 0}){Om(this,nu),Om(this,hh,void 0),Om(this,ph,void 0),Om(this,rT,void 0),Om(this,bd,new Set),Lv(this,hh,e),Lv(this,ph,n),Lv(this,rT,new Set(r))}[Symbol.iterator](){return fa(this,nu,Qu).values()}get length(){return fa(this,nu,Qu).size}get value(){var e;return(e=[...fa(this,nu,Qu)].join(" "))!=null?e:""}set value(e){var n;e!==this.value&&(Lv(this,bd,new Set),this.add(...(n=e?.split(" "))!=null?n:[]))}toString(){return this.value}item(e){return[...fa(this,nu,Qu)][e]}values(){return fa(this,nu,Qu).values()}forEach(e,n){fa(this,nu,Qu).forEach(e,n)}add(...e){var n,r;e.forEach(i=>fa(this,bd).add(i)),!(this.value===""&&!((n=fa(this,hh))!=null&&n.hasAttribute(`${fa(this,ph)}`)))&&((r=fa(this,hh))==null||r.setAttribute(`${fa(this,ph)}`,`${this.value}`))}remove(...e){var n;e.forEach(r=>fa(this,bd).delete(r)),(n=fa(this,hh))==null||n.setAttribute(`${fa(this,ph)}`,`${this.value}`)}contains(e){return fa(this,nu,Qu).has(e)}toggle(e,n){return typeof n<"u"?n?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,n){return this.remove(e),this.add(n),e===n}}hh=new WeakMap;ph=new WeakMap;rT=new WeakMap;bd=new WeakMap;nu=new WeakSet;Qu=function(){return fa(this,bd).size?fa(this,bd):fa(this,rT)};const m$e=(t="")=>t.split(/\s+/),Fte=(t="")=>{const[e,n,r]=t.split(":"),i=r?decodeURIComponent(r):void 0;return{kind:e==="cc"?Nl.CAPTIONS:Nl.SUBTITLES,language:n,label:i}},US=(t="",e={})=>m$e(t).map(n=>{const r=Fte(n);return{...e,...r}}),Ute=t=>t?Array.isArray(t)?t.map(e=>typeof e=="string"?Fte(e):e):typeof t=="string"?US(t):[t]:[],RL=({kind:t,label:e,language:n}={kind:"subtitles"})=>e?`${t==="captions"?"cc":"sb"}:${n}:${encodeURIComponent(e)}`:n,My=(t=[])=>Array.prototype.map.call(t,RL).join(" "),g$e=(t,e)=>n=>n[t]===e,Bte=t=>{const e=Object.entries(t).map(([n,r])=>g$e(n,r));return n=>e.every(r=>r(n))},Hg=(t,e=[],n=[])=>{const r=Ute(n).map(Bte),i=o=>r.some(l=>l(o));Array.from(e).filter(i).forEach(o=>{o.mode=t})},BS=(t,e=()=>!0)=>{if(!t?.textTracks)return[];const n=typeof e=="function"?e:Bte(e);return Array.from(t.textTracks).filter(n)},zte=t=>{var e;return!!((e=t.mediaSubtitlesShowing)!=null&&e.length)||t.hasAttribute(qe.MEDIA_SUBTITLES_SHOWING)},y$e=t=>{var e;const{media:n,fullscreenElement:r}=t;try{const i=r&&"requestFullscreen"in r?"requestFullscreen":r&&"webkitRequestFullScreen"in r?"webkitRequestFullScreen":void 0;if(i){const o=(e=r[i])==null?void 0:e.call(r);if(o instanceof Promise)return o.catch(()=>{})}else n?.webkitEnterFullscreen?n.webkitEnterFullscreen():n?.requestFullscreen&&n.requestFullscreen()}catch(i){console.error(i)}},fG="exitFullscreen"in Qi?"exitFullscreen":"webkitExitFullscreen"in Qi?"webkitExitFullscreen":"webkitCancelFullScreen"in Qi?"webkitCancelFullScreen":void 0,b$e=t=>{var e;const{documentElement:n}=t;if(fG){const r=(e=n?.[fG])==null?void 0:e.call(n);if(r instanceof Promise)return r.catch(()=>{})}},ug="fullscreenElement"in Qi?"fullscreenElement":"webkitFullscreenElement"in Qi?"webkitFullscreenElement":void 0,v$e=t=>{const{documentElement:e,media:n}=t,r=e?.[ug];return!r&&"webkitDisplayingFullscreen"in n&&"webkitPresentationMode"in n&&n.webkitDisplayingFullscreen&&n.webkitPresentationMode===q5e.FULLSCREEN?n:r},E$e=t=>{var e;const{media:n,documentElement:r,fullscreenElement:i=n}=t;if(!n||!r)return!1;const o=v$e(t);if(!o)return!1;if(o===i||o===n)return!0;if(o.localName.includes("-")){let l=o.shadowRoot;if(!(ug in l))return xu(o,i);for(;l?.[ug];){if(l[ug]===i)return!0;l=(e=l[ug])==null?void 0:e.shadowRoot}}return!1},_$e="fullscreenEnabled"in Qi?"fullscreenEnabled":"webkitFullscreenEnabled"in Qi?"webkitFullscreenEnabled":void 0,T$e=t=>{const{documentElement:e,media:n}=t;return!!e?.[_$e]||n&&"webkitSupportsFullscreen"in n};let Pv;const t2=()=>{var t,e;return Pv||(Pv=(e=(t=Qi)==null?void 0:t.createElement)==null?void 0:e.call(t,"video"),Pv)},S$e=async(t=t2())=>{if(!t)return!1;const e=t.volume;t.volume=e/2+.1;const n=new AbortController,r=await Promise.race([w$e(t,n.signal),A$e(t,e)]);return n.abort(),r},w$e=(t,e)=>new Promise(n=>{t.addEventListener("volumechange",()=>n(!0),{signal:e})}),A$e=async(t,e)=>{for(let n=0;n<10;n++){if(t.volume===e)return!1;await _te(10)}return t.volume!==e},I$e=/.*Version\/.*Safari\/.*/.test(ct.navigator.userAgent),$te=(t=t2())=>ct.matchMedia("(display-mode: standalone)").matches&&I$e?!1:typeof t?.requestPictureInPicture=="function",qte=(t=t2())=>T$e({documentElement:Qi,media:t}),x$e=qte(),R$e=$te(),k$e=!!ct.WebKitPlaybackTargetAvailabilityEvent,C$e=!!ct.chrome,iT=t=>BS(t.media,e=>[Nl.SUBTITLES,Nl.CAPTIONS].includes(e.kind)).sort((e,n)=>e.kind>=n.kind?1:-1),jte=t=>BS(t.media,e=>e.mode===Qh.SHOWING&&[Nl.SUBTITLES,Nl.CAPTIONS].includes(e.kind)),Hte=(t,e)=>{const n=iT(t),r=jte(t),i=!!r.length;if(n.length){if(e===!1||i&&e!==!0)Hg(Qh.DISABLED,n,r);else if(e===!0||!i&&e!==!1){let o=n[0];const{options:l}=t;if(!l?.noSubtitlesLangPref){const h=globalThis.localStorage.getItem("media-chrome-pref-subtitles-lang"),f=h?[h,...globalThis.navigator.languages]:globalThis.navigator.languages,p=n.filter(m=>f.some(g=>m.language.toLowerCase().startsWith(g.split("-")[0]))).sort((m,g)=>{const y=f.findIndex(v=>m.language.toLowerCase().startsWith(v.split("-")[0])),b=f.findIndex(v=>g.language.toLowerCase().startsWith(v.split("-")[0]));return y-b});p[0]&&(o=p[0])}const{language:u,label:c,kind:d}=o;Hg(Qh.DISABLED,n,r),Hg(Qh.SHOWING,n,[{language:u,label:c,kind:d}])}}},n2=(t,e)=>t===e?!0:t==null||e==null||typeof t!=typeof e?!1:typeof t=="number"&&Number.isNaN(t)&&Number.isNaN(e)?!0:typeof t!="object"?!1:Array.isArray(t)?D$e(t,e):Object.entries(t).every(([n,r])=>n in e&&n2(r,e[n])),D$e=(t,e)=>{const n=Array.isArray(t),r=Array.isArray(e);return n!==r?!1:n||r?t.length!==e.length?!1:t.every((i,o)=>n2(i,e[o])):!0},L$e=Object.values(ou);let aT;const P$e=S$e().then(t=>(aT=t,aT)),O$e=async(...t)=>{await Promise.all(t.filter(e=>e).map(async e=>{if(!("localName"in e&&e instanceof ct.HTMLElement))return;const n=e.localName;if(!n.includes("-"))return;const r=ct.customElements.get(n);r&&e instanceof r||(await ct.customElements.whenDefined(n),ct.customElements.upgrade(e))}))},M$e=new ct.DOMParser,N$e=t=>t&&(M$e.parseFromString(t,"text/html").body.textContent||t),cg={mediaError:{get(t,e){const{media:n}=t;if(e?.type!=="playing")return n?.error},mediaEvents:["emptied","error","playing"]},mediaErrorCode:{get(t,e){var n;const{media:r}=t;if(e?.type!=="playing")return(n=r?.error)==null?void 0:n.code},mediaEvents:["emptied","error","playing"]},mediaErrorMessage:{get(t,e){var n,r;const{media:i}=t;if(e?.type!=="playing")return(r=(n=i?.error)==null?void 0:n.message)!=null?r:""},mediaEvents:["emptied","error","playing"]},mediaWidth:{get(t){var e;const{media:n}=t;return(e=n?.videoWidth)!=null?e:0},mediaEvents:["resize"]},mediaHeight:{get(t){var e;const{media:n}=t;return(e=n?.videoHeight)!=null?e:0},mediaEvents:["resize"]},mediaPaused:{get(t){var e;const{media:n}=t;return(e=n?.paused)!=null?e:!0},set(t,e){var n;const{media:r}=e;r&&(t?r.pause():(n=r.play())==null||n.catch(()=>{}))},mediaEvents:["play","playing","pause","emptied"]},mediaHasPlayed:{get(t,e){const{media:n}=t;return n?e?e.type==="playing":!n.paused:!1},mediaEvents:["playing","emptied"]},mediaEnded:{get(t){var e;const{media:n}=t;return(e=n?.ended)!=null?e:!1},mediaEvents:["seeked","ended","emptied"]},mediaPlaybackRate:{get(t){var e;const{media:n}=t;return(e=n?.playbackRate)!=null?e:1},set(t,e){const{media:n}=e;n&&Number.isFinite(+t)&&(n.playbackRate=+t)},mediaEvents:["ratechange","loadstart"]},mediaMuted:{get(t){var e;const{media:n}=t;return(e=n?.muted)!=null?e:!1},set(t,e){const{media:n,options:{noMutedPref:r}={}}=e;if(n){n.muted=t;try{const i=ct.localStorage.getItem("media-chrome-pref-muted")!==null,o=n.hasAttribute("muted");if(r){i&&ct.localStorage.removeItem("media-chrome-pref-muted");return}if(o&&!i)return;ct.localStorage.setItem("media-chrome-pref-muted",t?"true":"false")}catch(i){console.debug("Error setting muted pref",i)}}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noMutedPref:n}}=e,{media:r}=e;if(!(!r||r.muted||n))try{const i=ct.localStorage.getItem("media-chrome-pref-muted")==="true";cg.mediaMuted.set(i,e),t(i)}catch(i){console.debug("Error getting muted pref",i)}}]},mediaLoop:{get(t){const{media:e}=t;return e?.loop},set(t,e){const{media:n}=e;n&&(n.loop=t)},mediaEvents:["medialooprequest"]},mediaVolume:{get(t){var e;const{media:n}=t;return(e=n?.volume)!=null?e:1},set(t,e){const{media:n,options:{noVolumePref:r}={}}=e;if(n){try{t==null?ct.localStorage.removeItem("media-chrome-pref-volume"):!n.hasAttribute("muted")&&!r&&ct.localStorage.setItem("media-chrome-pref-volume",t.toString())}catch(i){console.debug("Error setting volume pref",i)}Number.isFinite(+t)&&(n.volume=+t)}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noVolumePref:n}}=e;if(!n)try{const{media:r}=e;if(!r)return;const i=ct.localStorage.getItem("media-chrome-pref-volume");if(i==null)return;cg.mediaVolume.set(+i,e),t(+i)}catch(r){console.debug("Error getting volume pref",r)}}]},mediaVolumeLevel:{get(t){const{media:e}=t;return typeof e?.volume>"u"?"high":e.muted||e.volume===0?"off":e.volume<.5?"low":e.volume<.75?"medium":"high"},mediaEvents:["volumechange"]},mediaCurrentTime:{get(t){var e;const{media:n}=t;return(e=n?.currentTime)!=null?e:0},set(t,e){const{media:n}=e;!n||!WN(t)||(n.currentTime=t)},mediaEvents:["timeupdate","loadedmetadata"]},mediaDuration:{get(t){const{media:e,options:{defaultDuration:n}={}}=t;return n&&(!e||!e.duration||Number.isNaN(e.duration)||!Number.isFinite(e.duration))?n:Number.isFinite(e?.duration)?e.duration:Number.NaN},mediaEvents:["durationchange","loadedmetadata","emptied"]},mediaLoading:{get(t){const{media:e}=t;return e?.readyState<3},mediaEvents:["waiting","playing","emptied"]},mediaSeekable:{get(t){var e;const{media:n}=t;if(!((e=n?.seekable)!=null&&e.length))return;const r=n.seekable.start(0),i=n.seekable.end(n.seekable.length-1);if(!(!r&&!i))return[Number(r.toFixed(3)),Number(i.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress","seekablechange"]},mediaBuffered:{get(t){var e;const{media:n}=t,r=(e=n?.buffered)!=null?e:[];return Array.from(r).map((i,o)=>[Number(r.start(o).toFixed(3)),Number(r.end(o).toFixed(3))])},mediaEvents:["progress","emptied"]},mediaStreamType:{get(t){const{media:e,options:{defaultStreamType:n}={}}=t,r=[ou.LIVE,ou.ON_DEMAND].includes(n)?n:void 0;if(!e)return r;const{streamType:i}=e;if(L$e.includes(i))return i===ou.UNKNOWN?r:i;const o=e.duration;return o===1/0?ou.LIVE:Number.isFinite(o)?ou.ON_DEMAND:r},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},mediaTargetLiveWindow:{get(t){const{media:e}=t;if(!e)return Number.NaN;const{targetLiveWindow:n}=e,r=cg.mediaStreamType.get(t);return(n==null||Number.isNaN(n))&&r===ou.LIVE?0:n},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},mediaTimeIsLive:{get(t){const{media:e,options:{liveEdgeOffset:n=10}={}}=t;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(cg.mediaStreamType.get(t)===ou.LIVE))return!1;const i=e.seekable;if(!i)return!0;if(!i.length)return!1;const o=i.end(i.length-1)-n;return e.currentTime>=o},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},mediaSubtitlesList:{get(t){return iT(t).map(({kind:e,label:n,language:r})=>({kind:e,label:n,language:r}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},mediaSubtitlesShowing:{get(t){return jte(t).map(({kind:e,label:n,language:r})=>({kind:e,label:n,language:r}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var n,r;const{media:i,options:o}=e;if(!i)return;const l=u=>{var c;!o.defaultSubtitles||u&&![Nl.CAPTIONS,Nl.SUBTITLES].includes((c=u?.track)==null?void 0:c.kind)||Hte(e,!0)};return i.addEventListener("loadstart",l),(n=i.textTracks)==null||n.addEventListener("addtrack",l),(r=i.textTracks)==null||r.addEventListener("removetrack",l),()=>{var u,c;i.removeEventListener("loadstart",l),(u=i.textTracks)==null||u.removeEventListener("addtrack",l),(c=i.textTracks)==null||c.removeEventListener("removetrack",l)}}]},mediaChaptersCues:{get(t){var e;const{media:n}=t;if(!n)return[];const[r]=BS(n,{kind:Nl.CHAPTERS});return Array.from((e=r?.cues)!=null?e:[]).map(({text:i,startTime:o,endTime:l})=>({text:N$e(i),startTime:o,endTime:l}))},mediaEvents:["loadstart","loadedmetadata"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var n;const{media:r}=e;if(!r)return;const i=r.querySelector('track[kind="chapters"][default][src]'),o=(n=r.shadowRoot)==null?void 0:n.querySelector(':is(video,audio) > track[kind="chapters"][default][src]');return i?.addEventListener("load",t),o?.addEventListener("load",t),()=>{i?.removeEventListener("load",t),o?.removeEventListener("load",t)}}]},mediaIsPip:{get(t){var e,n;const{media:r,documentElement:i}=t;if(!r||!i||!i.pictureInPictureElement)return!1;if(i.pictureInPictureElement===r)return!0;if(i.pictureInPictureElement instanceof HTMLMediaElement)return(e=r.localName)!=null&&e.includes("-")?xu(r,i.pictureInPictureElement):!1;if(i.pictureInPictureElement.localName.includes("-")){let o=i.pictureInPictureElement.shadowRoot;for(;o?.pictureInPictureElement;){if(o.pictureInPictureElement===r)return!0;o=(n=o.pictureInPictureElement)==null?void 0:n.shadowRoot}}return!1},set(t,e){const{media:n}=e;if(n)if(t){if(!Qi.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!n.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}const r=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};n.requestPictureInPicture().catch(i=>{if(i.code===11){if(!n.src){console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a src set.");return}if(n.readyState===0&&n.preload==="none"){const o=()=>{n.removeEventListener("loadedmetadata",l),n.preload="none"},l=()=>{n.requestPictureInPicture().catch(r),o()};n.addEventListener("loadedmetadata",l),n.preload="metadata",setTimeout(()=>{n.readyState===0&&r(),o()},1e3)}else throw i}else throw i})}else Qi.pictureInPictureElement&&Qi.exitPictureInPicture()},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},mediaRenditionList:{get(t){var e;const{media:n}=t;return[...(e=n?.videoRenditions)!=null?e:[]].map(r=>({...r}))},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaRenditionSelected:{get(t){var e,n,r;const{media:i}=t;return(r=(n=i?.videoRenditions)==null?void 0:n[(e=i.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:r.id},set(t,e){const{media:n}=e;if(!n?.videoRenditions){console.warn("MediaController: Rendition selection not supported by this media.");return}const r=t,i=Array.prototype.findIndex.call(n.videoRenditions,o=>o.id==r);n.videoRenditions.selectedIndex!=i&&(n.videoRenditions.selectedIndex=i)},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},mediaAudioTrackList:{get(t){var e;const{media:n}=t;return[...(e=n?.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaAudioTrackEnabled:{get(t){var e,n;const{media:r}=t;return(n=[...(e=r?.audioTracks)!=null?e:[]].find(i=>i.enabled))==null?void 0:n.id},set(t,e){const{media:n}=e;if(!n?.audioTracks){console.warn("MediaChrome: Audio track selection not supported by this media.");return}const r=t;for(const i of n.audioTracks)i.enabled=r==i.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]},mediaIsFullscreen:{get(t){return E$e(t)},set(t,e,n){var r;t?(y$e(e),n.detail&&((r=e.media)==null||r.focus())):b$e(e)},rootEvents:["fullscreenchange","webkitfullscreenchange"],mediaEvents:["webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"]},mediaIsCasting:{get(t){var e;const{media:n}=t;return!n?.remote||((e=n.remote)==null?void 0:e.state)==="disconnected"?!1:!!n.remote.state},set(t,e){var n,r;const{media:i}=e;if(i&&!(t&&((n=i.remote)==null?void 0:n.state)!=="disconnected")&&!(!t&&((r=i.remote)==null?void 0:r.state)!=="connected")){if(typeof i.remote.prompt!="function"){console.warn("MediaChrome: Casting is not supported in this environment");return}i.remote.prompt().catch(()=>{})}},remoteEvents:["connect","connecting","disconnect"]},mediaIsAirplaying:{get(){return!1},set(t,e){const{media:n}=e;if(n){if(!(n.webkitShowPlaybackTargetPicker&&ct.WebKitPlaybackTargetAvailabilityEvent)){console.error("MediaChrome: received a request to select AirPlay but AirPlay is not supported in this environment");return}n.webkitShowPlaybackTargetPicker()}},mediaEvents:["webkitcurrentplaybacktargetiswirelesschanged"]},mediaFullscreenUnavailable:{get(t){const{media:e}=t;if(!x$e||!qte(e))return hs.UNSUPPORTED}},mediaPipUnavailable:{get(t){const{media:e}=t;if(!R$e||!$te(e))return hs.UNSUPPORTED;if(e?.disablePictureInPicture)return hs.UNAVAILABLE}},mediaVolumeUnavailable:{get(t){const{media:e}=t;if(aT===!1||e?.volume==null)return hs.UNSUPPORTED},stateOwnersUpdateHandlers:[t=>{aT==null&&P$e.then(e=>t(e?void 0:hs.UNSUPPORTED))}]},mediaCastUnavailable:{get(t,{availability:e="not-available"}={}){var n;const{media:r}=t;if(!C$e||!((n=r?.remote)!=null&&n.state))return hs.UNSUPPORTED;if(!(e==null||e==="available"))return hs.UNAVAILABLE},stateOwnersUpdateHandlers:[(t,e)=>{var n;const{media:r}=e;return r?(r.disableRemotePlayback||r.hasAttribute("disableremoteplayback")||(n=r?.remote)==null||n.watchAvailability(o=>{t({availability:o?"available":"not-available"})}).catch(o=>{o.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var o;(o=r?.remote)==null||o.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaAirplayUnavailable:{get(t,e){if(!k$e)return hs.UNSUPPORTED;if(e?.availability==="not-available")return hs.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"],stateOwnersUpdateHandlers:[(t,e)=>{var n;const{media:r}=e;return r?(r.disableRemotePlayback||r.hasAttribute("disableremoteplayback")||(n=r?.remote)==null||n.watchAvailability(o=>{t({availability:o?"available":"not-available"})}).catch(o=>{o.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var o;(o=r?.remote)==null||o.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaRenditionUnavailable:{get(t){var e;const{media:n}=t;if(!n?.videoRenditions)return hs.UNSUPPORTED;if(!((e=n.videoRenditions)!=null&&e.length))return hs.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaAudioTrackUnavailable:{get(t){var e,n;const{media:r}=t;if(!r?.audioTracks)return hs.UNSUPPORTED;if(((n=(e=r.audioTracks)==null?void 0:e.length)!=null?n:0)<=1)return hs.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaLang:{get(t){const{options:{mediaLang:e}={}}=t;return e??"en"}}},F$e={[wn.MEDIA_PREVIEW_REQUEST](t,e,{detail:n}){var r,i,o;const{media:l}=e,u=n??void 0;let c,d;if(l&&u!=null){const[m]=BS(l,{kind:Nl.METADATA,label:"thumbnails"}),g=Array.prototype.find.call((r=m?.cues)!=null?r:[],(y,b,v)=>b===0?y.endTime>u:b===v.length-1?y.startTime<=u:y.startTime<=u&&y.endTime>u);if(g){const y=/'^(?:[a-z]+:)?\/\//i.test(g.text)||(i=l?.querySelector('track[label="thumbnails"]'))==null?void 0:i.src,b=new URL(g.text,y);d=new URLSearchParams(b.hash).get("#xywh").split(",").map(_=>+_),c=b.href}}const h=t.mediaDuration.get(e);let p=(o=t.mediaChaptersCues.get(e).find((m,g,y)=>g===y.length-1&&h===m.endTime?m.startTime<=u&&m.endTime>=u:m.startTime<=u&&m.endTime>u))==null?void 0:o.text;return n!=null&&p==null&&(p=""),{mediaPreviewTime:u,mediaPreviewImage:c,mediaPreviewCoords:d,mediaPreviewChapter:p}},[wn.MEDIA_PAUSE_REQUEST](t,e){t["mediaPaused"].set(!0,e)},[wn.MEDIA_PLAY_REQUEST](t,e){var n,r,i,o;const l="mediaPaused",c=t.mediaStreamType.get(e)===ou.LIVE,d=!((n=e.options)!=null&&n.noAutoSeekToLive),h=t.mediaTargetLiveWindow.get(e)>0;if(c&&d&&!h){const f=(r=t.mediaSeekable.get(e))==null?void 0:r[1];if(f){const p=(o=(i=e.options)==null?void 0:i.seekToLiveOffset)!=null?o:0,m=f-p;t.mediaCurrentTime.set(m,e)}}t[l].set(!1,e)},[wn.MEDIA_PLAYBACK_RATE_REQUEST](t,e,{detail:n}){const r="mediaPlaybackRate",i=n;t[r].set(i,e)},[wn.MEDIA_MUTE_REQUEST](t,e){t["mediaMuted"].set(!0,e)},[wn.MEDIA_UNMUTE_REQUEST](t,e){const n="mediaMuted";t.mediaVolume.get(e)||t.mediaVolume.set(.25,e),t[n].set(!1,e)},[wn.MEDIA_LOOP_REQUEST](t,e,{detail:n}){const r="mediaLoop",i=!!n;return t[r].set(i,e),{mediaLoop:i}},[wn.MEDIA_VOLUME_REQUEST](t,e,{detail:n}){const r="mediaVolume",i=n;i&&t.mediaMuted.get(e)&&t.mediaMuted.set(!1,e),t[r].set(i,e)},[wn.MEDIA_SEEK_REQUEST](t,e,{detail:n}){const r="mediaCurrentTime",i=n;t[r].set(i,e)},[wn.MEDIA_SEEK_TO_LIVE_REQUEST](t,e){var n,r,i;const o="mediaCurrentTime",l=(n=t.mediaSeekable.get(e))==null?void 0:n[1];if(Number.isNaN(Number(l)))return;const u=(i=(r=e.options)==null?void 0:r.seekToLiveOffset)!=null?i:0,c=l-u;t[o].set(c,e)},[wn.MEDIA_SHOW_SUBTITLES_REQUEST](t,e,{detail:n}){var r;const{options:i}=e,o=iT(e),l=Ute(n),u=(r=l[0])==null?void 0:r.language;u&&!i.noSubtitlesLangPref&&ct.localStorage.setItem("media-chrome-pref-subtitles-lang",u),Hg(Qh.SHOWING,o,l)},[wn.MEDIA_DISABLE_SUBTITLES_REQUEST](t,e,{detail:n}){const r=iT(e),i=n??[];Hg(Qh.DISABLED,r,i)},[wn.MEDIA_TOGGLE_SUBTITLES_REQUEST](t,e,{detail:n}){Hte(e,n)},[wn.MEDIA_RENDITION_REQUEST](t,e,{detail:n}){const r="mediaRenditionSelected",i=n;t[r].set(i,e)},[wn.MEDIA_AUDIO_TRACK_REQUEST](t,e,{detail:n}){const r="mediaAudioTrackEnabled",i=n;t[r].set(i,e)},[wn.MEDIA_ENTER_PIP_REQUEST](t,e){const n="mediaIsPip";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[n].set(!0,e)},[wn.MEDIA_EXIT_PIP_REQUEST](t,e){t["mediaIsPip"].set(!1,e)},[wn.MEDIA_ENTER_FULLSCREEN_REQUEST](t,e,n){const r="mediaIsFullscreen";t.mediaIsPip.get(e)&&t.mediaIsPip.set(!1,e),t[r].set(!0,e,n)},[wn.MEDIA_EXIT_FULLSCREEN_REQUEST](t,e){t["mediaIsFullscreen"].set(!1,e)},[wn.MEDIA_ENTER_CAST_REQUEST](t,e){const n="mediaIsCasting";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[n].set(!0,e)},[wn.MEDIA_EXIT_CAST_REQUEST](t,e){t["mediaIsCasting"].set(!1,e)},[wn.MEDIA_AIRPLAY_REQUEST](t,e){t["mediaIsAirplaying"].set(!0,e)}},U$e=({media:t,fullscreenElement:e,documentElement:n,stateMediator:r=cg,requestMap:i=F$e,options:o={},monitorStateOwnersOnlyWithSubscriptions:l=!0})=>{const u=[],c={options:{...o}};let d=Object.freeze({mediaPreviewTime:void 0,mediaPreviewImage:void 0,mediaPreviewCoords:void 0,mediaPreviewChapter:void 0});const h=y=>{y!=null&&(n2(y,d)||(d=Object.freeze({...d,...y}),u.forEach(b=>b(d))))},f=()=>{const y=Object.entries(r).reduce((b,[v,{get:_}])=>(b[v]=_(c),b),{});h(y)},p={};let m;const g=async(y,b)=>{var v,_,E,T,A,w,I,C,j,F,K,he,q,Ee,Te,ge;const Be=!!m;if(m={...c,...m??{},...y},Be)return;await O$e(...Object.values(y));const He=u.length>0&&b===0&&l,Ye=c.media!==m.media,Ie=((v=c.media)==null?void 0:v.textTracks)!==((_=m.media)==null?void 0:_.textTracks),we=((E=c.media)==null?void 0:E.videoRenditions)!==((T=m.media)==null?void 0:T.videoRenditions),je=((A=c.media)==null?void 0:A.audioTracks)!==((w=m.media)==null?void 0:w.audioTracks),Ce=((I=c.media)==null?void 0:I.remote)!==((C=m.media)==null?void 0:C.remote),dt=c.documentElement!==m.documentElement,Le=!!c.media&&(Ye||He),Pe=!!((j=c.media)!=null&&j.textTracks)&&(Ie||He),it=!!((F=c.media)!=null&&F.videoRenditions)&&(we||He),J=!!((K=c.media)!=null&&K.audioTracks)&&(je||He),G=!!((he=c.media)!=null&&he.remote)&&(Ce||He),P=!!c.documentElement&&(dt||He),$=Le||Pe||it||J||G||P,ae=u.length===0&&b===1&&l,ne=!!m.media&&(Ye||ae),$e=!!((q=m.media)!=null&&q.textTracks)&&(Ie||ae),Qe=!!((Ee=m.media)!=null&&Ee.videoRenditions)&&(we||ae),Ve=!!((Te=m.media)!=null&&Te.audioTracks)&&(je||ae),We=!!((ge=m.media)!=null&&ge.remote)&&(Ce||ae),Ke=!!m.documentElement&&(dt||ae),Je=ne||$e||Qe||Ve||We||Ke;if(!($||Je)){Object.entries(m).forEach(([nt,bt])=>{c[nt]=bt}),f(),m=void 0;return}Object.entries(r).forEach(([nt,{get:bt,mediaEvents:tn=[],textTracksEvents:zt=[],videoRenditionsEvents:Wt=[],audioTracksEvents:Ze=[],remoteEvents:At=[],rootEvents:mn=[],stateOwnersUpdateHandlers:xn=[]}])=>{p[nt]||(p[nt]={});const Nn=_t=>{const It=bt(c,_t);h({[nt]:It})};let Yn;Yn=p[nt].mediaEvents,tn.forEach(_t=>{Yn&&Le&&(c.media.removeEventListener(_t,Yn),p[nt].mediaEvents=void 0),ne&&(m.media.addEventListener(_t,Nn),p[nt].mediaEvents=Nn)}),Yn=p[nt].textTracksEvents,zt.forEach(_t=>{var It,mt;Yn&&Pe&&((It=c.media.textTracks)==null||It.removeEventListener(_t,Yn),p[nt].textTracksEvents=void 0),$e&&((mt=m.media.textTracks)==null||mt.addEventListener(_t,Nn),p[nt].textTracksEvents=Nn)}),Yn=p[nt].videoRenditionsEvents,Wt.forEach(_t=>{var It,mt;Yn&&it&&((It=c.media.videoRenditions)==null||It.removeEventListener(_t,Yn),p[nt].videoRenditionsEvents=void 0),Qe&&((mt=m.media.videoRenditions)==null||mt.addEventListener(_t,Nn),p[nt].videoRenditionsEvents=Nn)}),Yn=p[nt].audioTracksEvents,Ze.forEach(_t=>{var It,mt;Yn&&J&&((It=c.media.audioTracks)==null||It.removeEventListener(_t,Yn),p[nt].audioTracksEvents=void 0),Ve&&((mt=m.media.audioTracks)==null||mt.addEventListener(_t,Nn),p[nt].audioTracksEvents=Nn)}),Yn=p[nt].remoteEvents,At.forEach(_t=>{var It,mt;Yn&&G&&((It=c.media.remote)==null||It.removeEventListener(_t,Yn),p[nt].remoteEvents=void 0),We&&((mt=m.media.remote)==null||mt.addEventListener(_t,Nn),p[nt].remoteEvents=Nn)}),Yn=p[nt].rootEvents,mn.forEach(_t=>{Yn&&P&&(c.documentElement.removeEventListener(_t,Yn),p[nt].rootEvents=void 0),Ke&&(m.documentElement.addEventListener(_t,Nn),p[nt].rootEvents=Nn)});const Tr=p[nt].stateOwnersUpdateHandlers;if(Tr&&$&&(Array.isArray(Tr)?Tr:[Tr]).forEach(It=>{typeof It=="function"&&It()}),Je){const _t=xn.map(It=>It(Nn,m)).filter(It=>typeof It=="function");p[nt].stateOwnersUpdateHandlers=_t.length===1?_t[0]:_t}else $&&(p[nt].stateOwnersUpdateHandlers=void 0)}),Object.entries(m).forEach(([nt,bt])=>{c[nt]=bt}),f(),m=void 0};return g({media:t,fullscreenElement:e,documentElement:n,options:o}),{dispatch(y){const{type:b,detail:v}=y;if(i[b]&&d.mediaErrorCode==null){h(i[b](r,c,y));return}b==="mediaelementchangerequest"?g({media:v}):b==="fullscreenelementchangerequest"?g({fullscreenElement:v}):b==="documentelementchangerequest"?g({documentElement:v}):b==="optionschangerequest"&&(Object.entries(v??{}).forEach(([_,E])=>{c.options[_]=E}),f())},getState(){return d},subscribe(y){return g({},u.length+1),u.push(y),y(d),()=>{const b=u.indexOf(y);b>=0&&(g({},u.length-1),u.splice(b,1))}}}};var r2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},or=(t,e,n)=>(r2(t,e,"read from private field"),n?n.call(t):e.get(t)),Ao=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ru=(t,e,n,r)=>(r2(t,e,"write to private field"),e.set(t,n),n),wl=(t,e,n)=>(r2(t,e,"access private method"),n),dc,dg,jr,vd,fg,ul,w0,A0,kL,kd,Zh,I0,CL,DL,Gte;const Vte=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter"," ","f","m","k","c","l","j",">","<","p"],hG=10,pG=.025,mG=.25,B$e=.25,z$e=2,vn={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",DEFAULT_DURATION:"defaultduration",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYBOARD_BACKWARD_SEEK_OFFSET:"keyboardbackwardseekoffset",KEYBOARD_FORWARD_SEEK_OFFSET:"keyboardforwardseekoffset",KEYBOARD_DOWN_VOLUME_STEP:"keyboarddownvolumestep",KEYBOARD_UP_VOLUME_STEP:"keyboardupvolumestep",KEYS_USED:"keysused",LANG:"lang",LOOP:"loop",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_AUTO_SEEK_TO_LIVE:"noautoseektolive",NO_DEFAULT_STORE:"nodefaultstore",NO_HOTKEYS:"nohotkeys",NO_MUTED_PREF:"nomutedpref",NO_SUBTITLES_LANG_PREF:"nosubtitleslangpref",NO_VOLUME_PREF:"novolumepref",SEEK_TO_LIVE_OFFSET:"seektoliveoffset"};class Kte extends FS{constructor(){super(),Ao(this,A0),Ao(this,kd),Ao(this,I0),Ao(this,DL),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,Ao(this,dc,new e2(this,vn.HOTKEYS)),Ao(this,dg,void 0),Ao(this,jr,void 0),Ao(this,vd,null),Ao(this,fg,void 0),Ao(this,ul,void 0),Ao(this,w0,n=>{var r;(r=or(this,jr))==null||r.dispatch(n)}),this.associateElement(this);let e={};ru(this,fg,n=>{Object.entries(n).forEach(([r,i])=>{if(r in e&&e[r]===i)return;this.propagateMediaState(r,i);const o=r.toLowerCase(),l=new ct.CustomEvent($5e[o],{composed:!0,detail:i});this.dispatchEvent(l)}),e=n}),this.hasAttribute(vn.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}static get observedAttributes(){return super.observedAttributes.concat(vn.NO_HOTKEYS,vn.HOTKEYS,vn.DEFAULT_STREAM_TYPE,vn.DEFAULT_SUBTITLES,vn.DEFAULT_DURATION,vn.NO_MUTED_PREF,vn.NO_VOLUME_PREF,vn.LANG,vn.LOOP)}get mediaStore(){return or(this,jr)}set mediaStore(e){var n,r;if(or(this,jr)&&((n=or(this,ul))==null||n.call(this),ru(this,ul,void 0)),ru(this,jr,e),!or(this,jr)&&!this.hasAttribute(vn.NO_DEFAULT_STORE)){wl(this,A0,kL).call(this);return}ru(this,ul,(r=or(this,jr))==null?void 0:r.subscribe(or(this,fg)))}get fullscreenElement(){var e;return(e=or(this,dg))!=null?e:this}set fullscreenElement(e){var n;this.hasAttribute(vn.FULLSCREEN_ELEMENT)&&this.removeAttribute(vn.FULLSCREEN_ELEMENT),ru(this,dg,e),(n=or(this,jr))==null||n.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}get defaultSubtitles(){return Dr(this,vn.DEFAULT_SUBTITLES)}set defaultSubtitles(e){Lr(this,vn.DEFAULT_SUBTITLES,e)}get defaultStreamType(){return mi(this,vn.DEFAULT_STREAM_TYPE)}set defaultStreamType(e){gi(this,vn.DEFAULT_STREAM_TYPE,e)}get defaultDuration(){return pi(this,vn.DEFAULT_DURATION)}set defaultDuration(e){Ui(this,vn.DEFAULT_DURATION,e)}get noHotkeys(){return Dr(this,vn.NO_HOTKEYS)}set noHotkeys(e){Lr(this,vn.NO_HOTKEYS,e)}get keysUsed(){return mi(this,vn.KEYS_USED)}set keysUsed(e){gi(this,vn.KEYS_USED,e)}get liveEdgeOffset(){return pi(this,vn.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){Ui(this,vn.LIVE_EDGE_OFFSET,e)}get noAutoSeekToLive(){return Dr(this,vn.NO_AUTO_SEEK_TO_LIVE)}set noAutoSeekToLive(e){Lr(this,vn.NO_AUTO_SEEK_TO_LIVE,e)}get noVolumePref(){return Dr(this,vn.NO_VOLUME_PREF)}set noVolumePref(e){Lr(this,vn.NO_VOLUME_PREF,e)}get noMutedPref(){return Dr(this,vn.NO_MUTED_PREF)}set noMutedPref(e){Lr(this,vn.NO_MUTED_PREF,e)}get noSubtitlesLangPref(){return Dr(this,vn.NO_SUBTITLES_LANG_PREF)}set noSubtitlesLangPref(e){Lr(this,vn.NO_SUBTITLES_LANG_PREF,e)}get noDefaultStore(){return Dr(this,vn.NO_DEFAULT_STORE)}set noDefaultStore(e){Lr(this,vn.NO_DEFAULT_STORE,e)}attributeChangedCallback(e,n,r){var i,o,l,u,c,d,h,f,p,m,g,y;if(super.attributeChangedCallback(e,n,r),e===vn.NO_HOTKEYS)r!==n&&r===""?(this.hasAttribute(vn.HOTKEYS)&&console.warn("Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):r!==n&&r===null&&this.enableHotkeys();else if(e===vn.HOTKEYS)or(this,dc).value=r;else if(e===vn.DEFAULT_SUBTITLES&&r!==n)(i=or(this,jr))==null||i.dispatch({type:"optionschangerequest",detail:{defaultSubtitles:this.hasAttribute(vn.DEFAULT_SUBTITLES)}});else if(e===vn.DEFAULT_STREAM_TYPE)(l=or(this,jr))==null||l.dispatch({type:"optionschangerequest",detail:{defaultStreamType:(o=this.getAttribute(vn.DEFAULT_STREAM_TYPE))!=null?o:void 0}});else if(e===vn.LIVE_EDGE_OFFSET)(u=or(this,jr))==null||u.dispatch({type:"optionschangerequest",detail:{liveEdgeOffset:this.hasAttribute(vn.LIVE_EDGE_OFFSET)?+this.getAttribute(vn.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(vn.SEEK_TO_LIVE_OFFSET)?void 0:+this.getAttribute(vn.LIVE_EDGE_OFFSET)}});else if(e===vn.SEEK_TO_LIVE_OFFSET)(c=or(this,jr))==null||c.dispatch({type:"optionschangerequest",detail:{seekToLiveOffset:this.hasAttribute(vn.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(vn.SEEK_TO_LIVE_OFFSET):void 0}});else if(e===vn.NO_AUTO_SEEK_TO_LIVE)(d=or(this,jr))==null||d.dispatch({type:"optionschangerequest",detail:{noAutoSeekToLive:this.hasAttribute(vn.NO_AUTO_SEEK_TO_LIVE)}});else if(e===vn.FULLSCREEN_ELEMENT){const b=r?(h=this.getRootNode())==null?void 0:h.getElementById(r):void 0;ru(this,dg,b),(f=or(this,jr))==null||f.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}else e===vn.LANG&&r!==n?(e$e(r),(p=or(this,jr))==null||p.dispatch({type:"optionschangerequest",detail:{mediaLang:r}})):e===vn.LOOP&&r!==n?(m=or(this,jr))==null||m.dispatch({type:wn.MEDIA_LOOP_REQUEST,detail:r!=null}):e===vn.NO_VOLUME_PREF&&r!==n?(g=or(this,jr))==null||g.dispatch({type:"optionschangerequest",detail:{noVolumePref:this.hasAttribute(vn.NO_VOLUME_PREF)}}):e===vn.NO_MUTED_PREF&&r!==n&&((y=or(this,jr))==null||y.dispatch({type:"optionschangerequest",detail:{noMutedPref:this.hasAttribute(vn.NO_MUTED_PREF)}}))}connectedCallback(){var e,n;!or(this,jr)&&!this.hasAttribute(vn.NO_DEFAULT_STORE)&&wl(this,A0,kL).call(this),(e=or(this,jr))==null||e.dispatch({type:"documentelementchangerequest",detail:Qi}),super.connectedCallback(),or(this,jr)&&!or(this,ul)&&ru(this,ul,(n=or(this,jr))==null?void 0:n.subscribe(or(this,fg))),this.hasAttribute(vn.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}disconnectedCallback(){var e,n,r,i;(e=super.disconnectedCallback)==null||e.call(this),or(this,jr)&&((n=or(this,jr))==null||n.dispatch({type:"documentelementchangerequest",detail:void 0}),(r=or(this,jr))==null||r.dispatch({type:wn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:!1})),or(this,ul)&&((i=or(this,ul))==null||i.call(this),ru(this,ul,void 0))}mediaSetCallback(e){var n;super.mediaSetCallback(e),(n=or(this,jr))==null||n.dispatch({type:"mediaelementchangerequest",detail:e}),e.hasAttribute("tabindex")||(e.tabIndex=-1)}mediaUnsetCallback(e){var n;super.mediaUnsetCallback(e),(n=or(this,jr))==null||n.dispatch({type:"mediaelementchangerequest",detail:void 0})}propagateMediaState(e,n){bG(this.mediaStateReceivers,e,n)}associateElement(e){if(!e)return;const{associatedElementSubscriptions:n}=this;if(n.has(e))return;const r=this.registerMediaStateReceiver.bind(this),i=this.unregisterMediaStateReceiver.bind(this),o=V$e(e,r,i);Object.values(wn).forEach(l=>{e.addEventListener(l,or(this,w0))}),n.set(e,o)}unassociateElement(e){if(!e)return;const{associatedElementSubscriptions:n}=this;if(!n.has(e))return;n.get(e)(),n.delete(e),Object.values(wn).forEach(i=>{e.removeEventListener(i,or(this,w0))})}registerMediaStateReceiver(e){if(!e)return;const n=this.mediaStateReceivers;n.indexOf(e)>-1||(n.push(e),or(this,jr)&&Object.entries(or(this,jr).getState()).forEach(([i,o])=>{bG([e],i,o)}))}unregisterMediaStateReceiver(e){const n=this.mediaStateReceivers,r=n.indexOf(e);r<0||n.splice(r,1)}enableHotkeys(){this.addEventListener("keydown",wl(this,I0,CL))}disableHotkeys(){this.removeEventListener("keydown",wl(this,I0,CL)),this.removeEventListener("keyup",wl(this,kd,Zh))}get hotkeys(){return mi(this,vn.HOTKEYS)}set hotkeys(e){gi(this,vn.HOTKEYS,e)}keyboardShortcutHandler(e){var n,r,i,o,l,u,c,d,h;const f=e.target;if(((i=(r=(n=f.getAttribute(vn.KEYS_USED))==null?void 0:n.split(" "))!=null?r:f?.keysUsed)!=null?i:[]).map(v=>v==="Space"?" ":v).filter(Boolean).includes(e.key))return;let m,g,y;if(!(or(this,dc).contains(`no${e.key.toLowerCase()}`)||e.key===" "&&or(this,dc).contains("nospace")||e.shiftKey&&(e.key==="/"||e.key==="?")&&or(this,dc).contains("noshift+/")))switch(e.key){case" ":case"k":m=or(this,jr).getState().mediaPaused?wn.MEDIA_PLAY_REQUEST:wn.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new ct.CustomEvent(m,{composed:!0,bubbles:!0}));break;case"m":m=this.mediaStore.getState().mediaVolumeLevel==="off"?wn.MEDIA_UNMUTE_REQUEST:wn.MEDIA_MUTE_REQUEST,this.dispatchEvent(new ct.CustomEvent(m,{composed:!0,bubbles:!0}));break;case"f":m=this.mediaStore.getState().mediaIsFullscreen?wn.MEDIA_EXIT_FULLSCREEN_REQUEST:wn.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new ct.CustomEvent(m,{composed:!0,bubbles:!0}));break;case"c":this.dispatchEvent(new ct.CustomEvent(wn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}));break;case"ArrowLeft":case"j":{const v=this.hasAttribute(vn.KEYBOARD_BACKWARD_SEEK_OFFSET)?+this.getAttribute(vn.KEYBOARD_BACKWARD_SEEK_OFFSET):hG;g=Math.max(((o=this.mediaStore.getState().mediaCurrentTime)!=null?o:0)-v,0),y=new ct.CustomEvent(wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"ArrowRight":case"l":{const v=this.hasAttribute(vn.KEYBOARD_FORWARD_SEEK_OFFSET)?+this.getAttribute(vn.KEYBOARD_FORWARD_SEEK_OFFSET):hG;g=Math.max(((l=this.mediaStore.getState().mediaCurrentTime)!=null?l:0)+v,0),y=new ct.CustomEvent(wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"ArrowUp":{const v=this.hasAttribute(vn.KEYBOARD_UP_VOLUME_STEP)?+this.getAttribute(vn.KEYBOARD_UP_VOLUME_STEP):pG;g=Math.min(((u=this.mediaStore.getState().mediaVolume)!=null?u:1)+v,1),y=new ct.CustomEvent(wn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"ArrowDown":{const v=this.hasAttribute(vn.KEYBOARD_DOWN_VOLUME_STEP)?+this.getAttribute(vn.KEYBOARD_DOWN_VOLUME_STEP):pG;g=Math.max(((c=this.mediaStore.getState().mediaVolume)!=null?c:1)-v,0),y=new ct.CustomEvent(wn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"<":{const v=(d=this.mediaStore.getState().mediaPlaybackRate)!=null?d:1;g=Math.max(v-mG,B$e).toFixed(2),y=new ct.CustomEvent(wn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case">":{const v=(h=this.mediaStore.getState().mediaPlaybackRate)!=null?h:1;g=Math.min(v+mG,z$e).toFixed(2),y=new ct.CustomEvent(wn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(y);break}case"/":case"?":{e.shiftKey&&wl(this,DL,Gte).call(this);break}case"p":{m=this.mediaStore.getState().mediaIsPip?wn.MEDIA_EXIT_PIP_REQUEST:wn.MEDIA_ENTER_PIP_REQUEST,y=new ct.CustomEvent(m,{composed:!0,bubbles:!0}),this.dispatchEvent(y);break}}}}dc=new WeakMap;dg=new WeakMap;jr=new WeakMap;vd=new WeakMap;fg=new WeakMap;ul=new WeakMap;w0=new WeakMap;A0=new WeakSet;kL=function(){var t;this.mediaStore=U$e({media:this.media,fullscreenElement:this.fullscreenElement,options:{defaultSubtitles:this.hasAttribute(vn.DEFAULT_SUBTITLES),defaultDuration:this.hasAttribute(vn.DEFAULT_DURATION)?+this.getAttribute(vn.DEFAULT_DURATION):void 0,defaultStreamType:(t=this.getAttribute(vn.DEFAULT_STREAM_TYPE))!=null?t:void 0,liveEdgeOffset:this.hasAttribute(vn.LIVE_EDGE_OFFSET)?+this.getAttribute(vn.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(vn.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(vn.SEEK_TO_LIVE_OFFSET):this.hasAttribute(vn.LIVE_EDGE_OFFSET)?+this.getAttribute(vn.LIVE_EDGE_OFFSET):void 0,noAutoSeekToLive:this.hasAttribute(vn.NO_AUTO_SEEK_TO_LIVE),noVolumePref:this.hasAttribute(vn.NO_VOLUME_PREF),noMutedPref:this.hasAttribute(vn.NO_MUTED_PREF),noSubtitlesLangPref:this.hasAttribute(vn.NO_SUBTITLES_LANG_PREF)}})};kd=new WeakSet;Zh=function(t){const{key:e,shiftKey:n}=t;if(!(n&&(e==="/"||e==="?")||Vte.includes(e))){this.removeEventListener("keyup",wl(this,kd,Zh));return}this.keyboardShortcutHandler(t)};I0=new WeakSet;CL=function(t){var e;const{metaKey:n,altKey:r,key:i,shiftKey:o}=t,l=o&&(i==="/"||i==="?");if(l&&((e=or(this,vd))!=null&&e.open)){this.removeEventListener("keyup",wl(this,kd,Zh));return}if(n||r||!l&&!Vte.includes(i)){this.removeEventListener("keyup",wl(this,kd,Zh));return}const u=t.target,c=u instanceof HTMLElement&&(u.tagName.toLowerCase()==="media-volume-range"||u.tagName.toLowerCase()==="media-time-range");[" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i)&&!(or(this,dc).contains(`no${i.toLowerCase()}`)||i===" "&&or(this,dc).contains("nospace"))&&!c&&t.preventDefault(),this.addEventListener("keyup",wl(this,kd,Zh),{once:!0})};DL=new WeakSet;Gte=function(){or(this,vd)||(ru(this,vd,Qi.createElement("media-keyboard-shortcuts-dialog")),this.appendChild(or(this,vd))),or(this,vd).open=!0};const $$e=Object.values(qe),q$e=Object.values(bte),Wte=t=>{var e,n,r,i;let{observedAttributes:o}=t.constructor;!o&&((e=t.nodeName)!=null&&e.includes("-"))&&(ct.customElements.upgrade(t),{observedAttributes:o}=t.constructor);const l=(i=(r=(n=t?.getAttribute)==null?void 0:n.call(t,zr.MEDIA_CHROME_ATTRIBUTES))==null?void 0:r.split)==null?void 0:i.call(r,/\s+/);return Array.isArray(o||l)?(o||l).filter(u=>$$e.includes(u)):[]},j$e=t=>{var e,n;return(e=t.nodeName)!=null&&e.includes("-")&&ct.customElements.get((n=t.nodeName)==null?void 0:n.toLowerCase())&&!(t instanceof ct.customElements.get(t.nodeName.toLowerCase()))&&ct.customElements.upgrade(t),q$e.some(r=>r in t)},LL=t=>j$e(t)||!!Wte(t).length,gG=t=>{var e;return(e=t?.join)==null?void 0:e.call(t,":")},yG={[qe.MEDIA_SUBTITLES_LIST]:My,[qe.MEDIA_SUBTITLES_SHOWING]:My,[qe.MEDIA_SEEKABLE]:gG,[qe.MEDIA_BUFFERED]:t=>t?.map(gG).join(" "),[qe.MEDIA_PREVIEW_COORDS]:t=>t?.join(" "),[qe.MEDIA_RENDITION_LIST]:j5e,[qe.MEDIA_AUDIO_TRACK_LIST]:K5e},H$e=async(t,e,n)=>{var r,i;if(t.isConnected||await _te(0),typeof n=="boolean"||n==null)return Lr(t,e,n);if(typeof n=="number")return Ui(t,e,n);if(typeof n=="string")return gi(t,e,n);if(Array.isArray(n)&&!n.length)return t.removeAttribute(e);const o=(i=(r=yG[e])==null?void 0:r.call(yG,n))!=null?i:n;return t.setAttribute(e,o)},G$e=t=>{var e;return!!((e=t.closest)!=null&&e.call(t,'*[slot="media"]'))},nd=(t,e)=>{if(G$e(t))return;const n=(i,o)=>{var l,u;LL(i)&&o(i);const{children:c=[]}=i??{},d=(u=(l=i?.shadowRoot)==null?void 0:l.children)!=null?u:[];[...c,...d].forEach(f=>nd(f,o))},r=t?.nodeName.toLowerCase();if(r.includes("-")&&!LL(t)){ct.customElements.whenDefined(r).then(()=>{n(t,e)});return}n(t,e)},bG=(t,e,n)=>{t.forEach(r=>{if(e in r){r[e]=n;return}const i=Wte(r),o=e.toLowerCase();i.includes(o)&&H$e(r,o,n)})},V$e=(t,e,n)=>{nd(t,e);const r=h=>{var f;const p=(f=h?.composedPath()[0])!=null?f:h.target;e(p)},i=h=>{var f;const p=(f=h?.composedPath()[0])!=null?f:h.target;n(p)};t.addEventListener(wn.REGISTER_MEDIA_STATE_RECEIVER,r),t.addEventListener(wn.UNREGISTER_MEDIA_STATE_RECEIVER,i);const o=h=>{h.forEach(f=>{const{addedNodes:p=[],removedNodes:m=[],type:g,target:y,attributeName:b}=f;g==="childList"?(Array.prototype.forEach.call(p,v=>nd(v,e)),Array.prototype.forEach.call(m,v=>nd(v,n))):g==="attributes"&&b===zr.MEDIA_CHROME_ATTRIBUTES&&(LL(y)?e(y):n(y))})};let l=[];const u=h=>{const f=h.target;f.name!=="media"&&(l.forEach(p=>nd(p,n)),l=[...f.assignedElements({flatten:!0})],l.forEach(p=>nd(p,e)))};t.addEventListener("slotchange",u);const c=new MutationObserver(o);return c.observe(t,{childList:!0,attributes:!0,subtree:!0}),()=>{nd(t,n),t.removeEventListener("slotchange",u),c.disconnect(),t.removeEventListener(wn.REGISTER_MEDIA_STATE_RECEIVER,r),t.removeEventListener(wn.UNREGISTER_MEDIA_STATE_RECEIVER,i)}};ct.customElements.get("media-controller")||ct.customElements.define("media-controller",Kte);var K$e=Kte;const Of={PLACEMENT:"placement",BOUNDS:"bounds"};function W$e(t){return`
    <style>
      :host {
        --_tooltip-background-color: var(--media-tooltip-background-color, var(--media-secondary-color, rgba(20, 20, 30, .7)));
        --_tooltip-background: var(--media-tooltip-background, var(--_tooltip-background-color));
        --_tooltip-arrow-half-width: calc(var(--media-tooltip-arrow-width, 12px) / 2);
        --_tooltip-arrow-height: var(--media-tooltip-arrow-height, 5px);
        --_tooltip-arrow-background: var(--media-tooltip-arrow-color, var(--_tooltip-background-color));
        position: relative;
        pointer-events: none;
        display: var(--media-tooltip-display, inline-flex);
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        z-index: var(--media-tooltip-z-index, 1);
        background: var(--_tooltip-background);
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        font: var(--media-font,
          var(--media-font-weight, 400)
          var(--media-font-size, 13px) /
          var(--media-text-content-height, var(--media-control-height, 18px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        padding: var(--media-tooltip-padding, .35em .7em);
        border: var(--media-tooltip-border, none);
        border-radius: var(--media-tooltip-border-radius, 5px);
        filter: var(--media-tooltip-filter, drop-shadow(0 0 4px rgba(0, 0, 0, .2)));
        white-space: var(--media-tooltip-white-space, nowrap);
      }

      :host([hidden]) {
        display: none;
      }

      img, svg {
        display: inline-block;
      }

      #arrow {
        position: absolute;
        width: 0px;
        height: 0px;
        border-style: solid;
        display: var(--media-tooltip-arrow-display, block);
      }

      :host(:not([placement])),
      :host([placement="top"]) {
        position: absolute;
        bottom: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host(:not([placement])) #arrow,
      :host([placement="top"]) #arrow {
        top: 100%;
        left: 50%;
        border-width: var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width);
        border-color: var(--_tooltip-arrow-background) transparent transparent transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="right"]) {
        position: absolute;
        left: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="right"]) #arrow {
        top: 50%;
        right: 100%;
        border-width: var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0;
        border-color: transparent var(--_tooltip-arrow-background) transparent transparent;
        transform: translate(0, -50%);
      }

      :host([placement="bottom"]) {
        position: absolute;
        top: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host([placement="bottom"]) #arrow {
        bottom: 100%;
        left: 50%;
        border-width: 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width);
        border-color: transparent transparent var(--_tooltip-arrow-background) transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="left"]) {
        position: absolute;
        right: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="left"]) #arrow {
        top: 50%;
        left: 100%;
        border-width: var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height);
        border-color: transparent transparent transparent var(--_tooltip-arrow-background);
        transform: translate(0, -50%);
      }
      
      :host([placement="none"]) #arrow {
        display: none;
      }
    </style>
    <slot></slot>
    <div id="arrow"></div>
  `}class zS extends ct.HTMLElement{constructor(){if(super(),this.updateXOffset=()=>{var e;if(!Cte(this,{checkOpacity:!1,checkVisibilityCSS:!1}))return;const n=this.placement;if(n==="left"||n==="right"){this.style.removeProperty("--media-tooltip-offset-x");return}const r=getComputedStyle(this),i=(e=Bp(this,"#"+this.bounds))!=null?e:ls(this);if(!i)return;const{x:o,width:l}=i.getBoundingClientRect(),{x:u,width:c}=this.getBoundingClientRect(),d=u+c,h=o+l,f=r.getPropertyValue("--media-tooltip-offset-x"),p=f?parseFloat(f.replace("px","")):0,m=r.getPropertyValue("--media-tooltip-container-margin"),g=m?parseFloat(m.replace("px","")):0,y=u-o+p-g,b=d-h+p+g;if(y<0){this.style.setProperty("--media-tooltip-offset-x",`${y}px`);return}if(b>0){this.style.setProperty("--media-tooltip-offset-x",`${b}px`);return}this.style.removeProperty("--media-tooltip-offset-x")},!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}if(this.arrowEl=this.shadowRoot.querySelector("#arrow"),Object.prototype.hasOwnProperty.call(this,"placement")){const e=this.placement;delete this.placement,this.placement=e}}static get observedAttributes(){return[Of.PLACEMENT,Of.BOUNDS]}get placement(){return mi(this,Of.PLACEMENT)}set placement(e){gi(this,Of.PLACEMENT,e)}get bounds(){return mi(this,Of.BOUNDS)}set bounds(e){gi(this,Of.BOUNDS,e)}}zS.shadowRootOptions={mode:"open"};zS.getTemplateHTML=W$e;ct.customElements.get("media-tooltip")||ct.customElements.define("media-tooltip",zS);var vG=zS,i2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Hi=(t,e,n)=>(i2(t,e,"read from private field"),n?n.call(t):e.get(t)),Mf=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ov=(t,e,n,r)=>(i2(t,e,"write to private field"),e.set(t,n),n),Y$e=(t,e,n)=>(i2(t,e,"access private method"),n),cl,Uh,fc,mh,x0,PL,Yte;const Ku={TOOLTIP_PLACEMENT:"tooltipplacement",DISABLED:"disabled",NO_TOOLTIP:"notooltip"};function X$e(t,e={}){return`
    <style>
      :host {
        position: relative;
        font: var(--media-font,
          var(--media-font-weight, bold)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        padding: var(--media-button-padding, var(--media-control-padding, 10px));
        justify-content: var(--media-button-justify-content, center);
        display: inline-flex;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        transition: background .15s linear;
        pointer-events: auto;
        cursor: var(--media-cursor, pointer);
        -webkit-tap-highlight-color: transparent;
      }

      
      :host(:focus-visible) {
        box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: 0;
      }
      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgba(50 50 70 / .7));
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-button-icon-width);
        height: var(--media-button-icon-height, var(--media-control-height, 24px));
        transform: var(--media-button-icon-transform);
        transition: var(--media-button-icon-transition);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
      }

      media-tooltip {
        
        max-width: 0;
        overflow-x: clip;
        opacity: 0;
        transition: opacity .3s, max-width 0s 9s;
      }

      :host(:hover) media-tooltip,
      :host(:focus-visible) media-tooltip {
        max-width: 100vw;
        opacity: 1;
        transition: opacity .3s;
      }

      :host([notooltip]) slot[name="tooltip"] {
        display: none;
      }
    </style>

    ${this.getSlotTemplateHTML(t,e)}

    <slot name="tooltip">
      <media-tooltip part="tooltip" aria-hidden="true">
        <template shadowrootmode="${vG.shadowRootOptions.mode}">
          ${vG.getTemplateHTML({})}
        </template>
        <slot name="tooltip-content">
          ${this.getTooltipContentHTML(t)}
        </slot>
      </media-tooltip>
    </slot>
  `}function Q$e(t,e){return`
    <slot></slot>
  `}function Z$e(){return""}class Ea extends ct.HTMLElement{constructor(){if(super(),Mf(this,PL),Mf(this,cl,void 0),this.preventClick=!1,this.tooltipEl=null,Mf(this,Uh,e=>{this.preventClick||this.handleClick(e),setTimeout(Hi(this,fc),0)}),Mf(this,fc,()=>{var e,n;(n=(e=this.tooltipEl)==null?void 0:e.updateXOffset)==null||n.call(e)}),Mf(this,mh,e=>{const{key:n}=e;if(!this.keysUsed.includes(n)){this.removeEventListener("keyup",Hi(this,mh));return}this.preventClick||this.handleClick(e)}),Mf(this,x0,e=>{const{metaKey:n,altKey:r,key:i}=e;if(n||r||!this.keysUsed.includes(i)){this.removeEventListener("keyup",Hi(this,mh));return}this.addEventListener("keyup",Hi(this,mh),{once:!0})}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes),n=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(n):this.shadowRoot.innerHTML=n}this.tooltipEl=this.shadowRoot.querySelector("media-tooltip")}static get observedAttributes(){return["disabled",Ku.TOOLTIP_PLACEMENT,zr.MEDIA_CONTROLLER,qe.MEDIA_LANG]}enable(){this.addEventListener("click",Hi(this,Uh)),this.addEventListener("keydown",Hi(this,x0)),this.tabIndex=0}disable(){this.removeEventListener("click",Hi(this,Uh)),this.removeEventListener("keydown",Hi(this,x0)),this.removeEventListener("keyup",Hi(this,mh)),this.tabIndex=-1}attributeChangedCallback(e,n,r){var i,o,l,u,c;e===zr.MEDIA_CONTROLLER?(n&&((o=(i=Hi(this,cl))==null?void 0:i.unassociateElement)==null||o.call(i,this),Ov(this,cl,null)),r&&this.isConnected&&(Ov(this,cl,(l=this.getRootNode())==null?void 0:l.getElementById(r)),(c=(u=Hi(this,cl))==null?void 0:u.associateElement)==null||c.call(u,this))):e==="disabled"&&r!==n?r==null?this.enable():this.disable():e===Ku.TOOLTIP_PLACEMENT&&this.tooltipEl&&r!==n?this.tooltipEl.placement=r:e===qe.MEDIA_LANG&&(this.shadowRoot.querySelector('slot[name="tooltip-content"]').innerHTML=this.constructor.getTooltipContentHTML()),Hi(this,fc).call(this)}connectedCallback(){var e,n,r;const{style:i}=ia(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),this.hasAttribute("disabled")?this.disable():this.enable(),this.setAttribute("role","button");const o=this.getAttribute(zr.MEDIA_CONTROLLER);o&&(Ov(this,cl,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(r=(n=Hi(this,cl))==null?void 0:n.associateElement)==null||r.call(n,this)),ct.customElements.whenDefined("media-tooltip").then(()=>Y$e(this,PL,Yte).call(this))}disconnectedCallback(){var e,n;this.disable(),(n=(e=Hi(this,cl))==null?void 0:e.unassociateElement)==null||n.call(e,this),Ov(this,cl,null),this.removeEventListener("mouseenter",Hi(this,fc)),this.removeEventListener("focus",Hi(this,fc)),this.removeEventListener("click",Hi(this,Uh))}get keysUsed(){return["Enter"," "]}get tooltipPlacement(){return mi(this,Ku.TOOLTIP_PLACEMENT)}set tooltipPlacement(e){gi(this,Ku.TOOLTIP_PLACEMENT,e)}get mediaController(){return mi(this,zr.MEDIA_CONTROLLER)}set mediaController(e){gi(this,zr.MEDIA_CONTROLLER,e)}get disabled(){return Dr(this,Ku.DISABLED)}set disabled(e){Lr(this,Ku.DISABLED,e)}get noTooltip(){return Dr(this,Ku.NO_TOOLTIP)}set noTooltip(e){Lr(this,Ku.NO_TOOLTIP,e)}handleClick(e){}}cl=new WeakMap;Uh=new WeakMap;fc=new WeakMap;mh=new WeakMap;x0=new WeakMap;PL=new WeakSet;Yte=function(){this.addEventListener("mouseenter",Hi(this,fc)),this.addEventListener("focus",Hi(this,fc)),this.addEventListener("click",Hi(this,Uh));const t=this.tooltipPlacement;t&&this.tooltipEl&&(this.tooltipEl.placement=t)};Ea.shadowRootOptions={mode:"open"};Ea.getTemplateHTML=X$e;Ea.getSlotTemplateHTML=Q$e;Ea.getTooltipContentHTML=Z$e;ct.customElements.get("media-chrome-button")||ct.customElements.define("media-chrome-button",Ea);const EG=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`;function J$e(t){return`
    <style>
      :host([${qe.MEDIA_IS_AIRPLAYING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${qe.MEDIA_IS_AIRPLAYING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${qe.MEDIA_IS_AIRPLAYING}]) slot[name=tooltip-enter],
      :host(:not([${qe.MEDIA_IS_AIRPLAYING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${EG}</slot>
      <slot name="exit">${EG}</slot>
    </slot>
  `}function e8e(){return`
    <slot name="tooltip-enter">${Mn("start airplay")}</slot>
    <slot name="tooltip-exit">${Mn("stop airplay")}</slot>
  `}const _G=t=>{const e=t.mediaIsAirplaying?Mn("stop airplay"):Mn("start airplay");t.setAttribute("aria-label",e)};class a2 extends Ea{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_IS_AIRPLAYING,qe.MEDIA_AIRPLAY_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),_G(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_IS_AIRPLAYING&&_G(this)}get mediaIsAirplaying(){return Dr(this,qe.MEDIA_IS_AIRPLAYING)}set mediaIsAirplaying(e){Lr(this,qe.MEDIA_IS_AIRPLAYING,e)}get mediaAirplayUnavailable(){return mi(this,qe.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){gi(this,qe.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){const e=new ct.CustomEvent(wn.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}}a2.getSlotTemplateHTML=J$e;a2.getTooltipContentHTML=e8e;ct.customElements.get("media-airplay-button")||ct.customElements.define("media-airplay-button",a2);const t8e=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,n8e=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function r8e(t){return`
    <style>
      :host([aria-checked="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([aria-checked="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-checked="true"]) slot[name=tooltip-enable],
      :host(:not([aria-checked="true"])) slot[name=tooltip-disable] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${t8e}</slot>
      <slot name="off">${n8e}</slot>
    </slot>
  `}function i8e(){return`
    <slot name="tooltip-enable">${Mn("Enable captions")}</slot>
    <slot name="tooltip-disable">${Mn("Disable captions")}</slot>
  `}const TG=t=>{t.setAttribute("aria-checked",zte(t).toString())};class s2 extends Ea{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_SUBTITLES_LIST,qe.MEDIA_SUBTITLES_SHOWING]}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",Mn("closed captions")),TG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_SUBTITLES_SHOWING&&TG(this)}get mediaSubtitlesList(){return SG(this,qe.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){wG(this,qe.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return SG(this,qe.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){wG(this,qe.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){this.dispatchEvent(new ct.CustomEvent(wn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}))}}s2.getSlotTemplateHTML=r8e;s2.getTooltipContentHTML=i8e;const SG=(t,e)=>{const n=t.getAttribute(e);return n?US(n):[]},wG=(t,e,n)=>{if(!n?.length){t.removeAttribute(e);return}const r=My(n);t.getAttribute(e)!==r&&t.setAttribute(e,r)};ct.customElements.get("media-captions-button")||ct.customElements.define("media-captions-button",s2);const a8e='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',s8e='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>';function o8e(t){return`
    <style>
      :host([${qe.MEDIA_IS_CASTING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${qe.MEDIA_IS_CASTING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${qe.MEDIA_IS_CASTING}]) slot[name=tooltip-enter],
      :host(:not([${qe.MEDIA_IS_CASTING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${a8e}</slot>
      <slot name="exit">${s8e}</slot>
    </slot>
  `}function l8e(){return`
    <slot name="tooltip-enter">${Mn("Start casting")}</slot>
    <slot name="tooltip-exit">${Mn("Stop casting")}</slot>
  `}const AG=t=>{const e=t.mediaIsCasting?Mn("stop casting"):Mn("start casting");t.setAttribute("aria-label",e)};class o2 extends Ea{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_IS_CASTING,qe.MEDIA_CAST_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),AG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_IS_CASTING&&AG(this)}get mediaIsCasting(){return Dr(this,qe.MEDIA_IS_CASTING)}set mediaIsCasting(e){Lr(this,qe.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return mi(this,qe.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){gi(this,qe.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){const e=this.mediaIsCasting?wn.MEDIA_EXIT_CAST_REQUEST:wn.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new ct.CustomEvent(e,{composed:!0,bubbles:!0}))}}o2.getSlotTemplateHTML=o8e;o2.getTooltipContentHTML=l8e;ct.customElements.get("media-cast-button")||ct.customElements.define("media-cast-button",o2);var l2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Cd=(t,e,n)=>(l2(t,e,"read from private field"),e.get(t)),Jl=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},u2=(t,e,n,r)=>(l2(t,e,"write to private field"),e.set(t,n),n),Kc=(t,e,n)=>(l2(t,e,"access private method"),n),sT,Ny,jd,R0,OL,ML,Xte,NL,Qte,FL,Zte,UL,Jte,BL,ene;function u8e(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        display: var(--media-dialog-display, inline-flex);
        justify-content: center;
        align-items: center;
        
        transition-behavior: allow-discrete;
        visibility: hidden;
        opacity: 0;
        transform: translateY(2px) scale(.99);
        pointer-events: none;
      }

      :host([open]) {
        transition: display .2s, visibility 0s, opacity .2s ease-out, transform .15s ease-out;
        visibility: visible;
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
      }

      #content {
        display: flex;
        position: relative;
        box-sizing: border-box;
        width: min(320px, 100%);
        word-wrap: break-word;
        max-height: 100%;
        overflow: auto;
        text-align: center;
        line-height: 1.4;
      }
    </style>
    ${this.getSlotTemplateHTML(t)}
  `}function c8e(t){return`
    <slot id="content"></slot>
  `}const Mm={OPEN:"open",ANCHOR:"anchor"};class zp extends ct.HTMLElement{constructor(){super(),Jl(this,R0),Jl(this,ML),Jl(this,NL),Jl(this,FL),Jl(this,UL),Jl(this,BL),Jl(this,sT,!1),Jl(this,Ny,null),Jl(this,jd,null),this.addEventListener("invoke",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}static get observedAttributes(){return[Mm.OPEN,Mm.ANCHOR]}get open(){return Dr(this,Mm.OPEN)}set open(e){Lr(this,Mm.OPEN,e)}handleEvent(e){switch(e.type){case"invoke":Kc(this,FL,Zte).call(this,e);break;case"focusout":Kc(this,UL,Jte).call(this,e);break;case"keydown":Kc(this,BL,ene).call(this,e);break}}connectedCallback(){Kc(this,R0,OL).call(this),this.role||(this.role="dialog")}attributeChangedCallback(e,n,r){Kc(this,R0,OL).call(this),e===Mm.OPEN&&r!==n&&(this.open?Kc(this,ML,Xte).call(this):Kc(this,NL,Qte).call(this))}focus(){u2(this,Ny,XN());const e=!this.dispatchEvent(new Event("focus",{composed:!0,cancelable:!0})),n=!this.dispatchEvent(new Event("focusin",{composed:!0,bubbles:!0,cancelable:!0}));if(e||n)return;const r=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');r?.focus()}get keysUsed(){return["Escape","Tab"]}}sT=new WeakMap;Ny=new WeakMap;jd=new WeakMap;R0=new WeakSet;OL=function(){if(!Cd(this,sT)&&(u2(this,sT,!0),!this.shadowRoot)){this.attachShadow(this.constructor.shadowRootOptions);const t=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(t),queueMicrotask(()=>{const{style:e}=ia(this.shadowRoot,":host");e.setProperty("transition","display .15s, visibility .15s, opacity .15s ease-in, transform .15s ease-in")})}};ML=new WeakSet;Xte=function(){var t;(t=Cd(this,jd))==null||t.setAttribute("aria-expanded","true"),this.dispatchEvent(new Event("open",{composed:!0,bubbles:!0})),this.addEventListener("transitionend",()=>this.focus(),{once:!0})};NL=new WeakSet;Qte=function(){var t;(t=Cd(this,jd))==null||t.setAttribute("aria-expanded","false"),this.dispatchEvent(new Event("close",{composed:!0,bubbles:!0}))};FL=new WeakSet;Zte=function(t){u2(this,jd,t.relatedTarget),xu(this,t.relatedTarget)||(this.open=!this.open)};UL=new WeakSet;Jte=function(t){var e;xu(this,t.relatedTarget)||((e=Cd(this,Ny))==null||e.focus(),Cd(this,jd)&&Cd(this,jd)!==t.relatedTarget&&this.open&&(this.open=!1))};BL=new WeakSet;ene=function(t){var e,n,r,i,o;const{key:l,ctrlKey:u,altKey:c,metaKey:d}=t;u||c||d||this.keysUsed.includes(l)&&(t.preventDefault(),t.stopPropagation(),l==="Tab"?(t.shiftKey?(n=(e=this.previousElementSibling)==null?void 0:e.focus)==null||n.call(e):(i=(r=this.nextElementSibling)==null?void 0:r.focus)==null||i.call(r),this.blur()):l==="Escape"&&((o=Cd(this,Ny))==null||o.focus(),this.open=!1))};zp.shadowRootOptions={mode:"open"};zp.getTemplateHTML=u8e;zp.getSlotTemplateHTML=c8e;ct.customElements.get("media-chrome-dialog")||ct.customElements.define("media-chrome-dialog",zp);var c2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xi=(t,e,n)=>(c2(t,e,"read from private field"),n?n.call(t):e.get(t)),_a=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Zu=(t,e,n,r)=>(c2(t,e,"write to private field"),e.set(t,n),n),Po=(t,e,n)=>(c2(t,e,"access private method"),n),dl,$S,k0,C0,Oo,oT,D0,L0,P0,d2,tne,O0,zL,M0,$L,lT,f2,qL,nne,jL,rne,HL,ine,GL,ane;function d8e(t){return`
    <style>
      :host {
        --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

        box-shadow: var(--_focus-visible-box-shadow, none);
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
        display: inline-flex;
        align-items: center;
        
        vertical-align: middle;
        box-sizing: border-box;
        position: relative;
        width: 100px;
        transition: background .15s linear;
        cursor: var(--media-cursor, pointer);
        pointer-events: auto;
        touch-action: none; 
      }

      
      input[type=range]:focus {
        outline: 0;
      }
      input[type=range]:focus::-webkit-slider-runnable-track {
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgb(50 50 70 / .7));
      }

      #leftgap {
        padding-left: var(--media-range-padding-left, var(--_media-range-padding));
      }

      #rightgap {
        padding-right: var(--media-range-padding-right, var(--_media-range-padding));
      }

      #startpoint,
      #endpoint {
        position: absolute;
      }

      #endpoint {
        right: 0;
      }

      #container {
        
        width: var(--media-range-track-width, 100%);
        transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));
        position: relative;
        height: 100%;
        display: flex;
        align-items: center;
        min-width: 40px;
      }

      #range {
        
        display: var(--media-time-range-hover-display, block);
        bottom: var(--media-time-range-hover-bottom, -7px);
        height: var(--media-time-range-hover-height, max(100% + 7px, 25px));
        width: 100%;
        position: absolute;
        cursor: var(--media-cursor, pointer);

        -webkit-appearance: none; 
        -webkit-tap-highlight-color: transparent;
        background: transparent; 
        margin: 0;
        z-index: 1;
      }

      @media (hover: hover) {
        #range {
          bottom: var(--media-time-range-hover-bottom, -5px);
          height: var(--media-time-range-hover-height, max(100% + 5px, 20px));
        }
      }

      
      
      #range::-webkit-slider-thumb {
        -webkit-appearance: none;
        background: transparent;
        width: .1px;
        height: .1px;
      }

      
      #range::-moz-range-thumb {
        background: transparent;
        border: transparent;
        width: .1px;
        height: .1px;
      }

      #appearance {
        height: var(--media-range-track-height, 4px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 100%;
        position: absolute;
        
        will-change: transform;
      }

      #track {
        background: var(--media-range-track-background, rgb(255 255 255 / .2));
        border-radius: var(--media-range-track-border-radius, 1px);
        border: var(--media-range-track-border, none);
        outline: var(--media-range-track-outline);
        outline-offset: var(--media-range-track-outline-offset);
        backdrop-filter: var(--media-range-track-backdrop-filter);
        -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);
        box-shadow: var(--media-range-track-box-shadow, none);
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      #progress,
      #pointer {
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #progress {
        background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));
        transition: var(--media-range-track-transition);
      }

      #pointer {
        background: var(--media-range-track-pointer-background);
        border-right: var(--media-range-track-pointer-border-right);
        transition: visibility .25s, opacity .25s;
        visibility: hidden;
        opacity: 0;
      }

      @media (hover: hover) {
        :host(:hover) #pointer {
          transition: visibility .5s, opacity .5s;
          visibility: visible;
          opacity: 1;
        }
      }

      #thumb,
      ::slotted([slot=thumb]) {
        width: var(--media-range-thumb-width, 10px);
        height: var(--media-range-thumb-height, 10px);
        transition: var(--media-range-thumb-transition);
        transform: var(--media-range-thumb-transform, none);
        opacity: var(--media-range-thumb-opacity, 1);
        translate: -50%;
        position: absolute;
        left: 0;
        cursor: var(--media-cursor, pointer);
      }

      #thumb {
        border-radius: var(--media-range-thumb-border-radius, 10px);
        background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
        box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
        border: var(--media-range-thumb-border, none);
      }

      :host([disabled]) #thumb {
        background-color: #777;
      }

      .segments #appearance {
        height: var(--media-range-segment-hover-height, 7px);
      }

      #track {
        clip-path: url(#segments-clipping);
      }

      #segments {
        --segments-gap: var(--media-range-segments-gap, 2px);
        position: absolute;
        width: 100%;
        height: 100%;
      }

      #segments-clipping {
        transform: translateX(calc(var(--segments-gap) / 2));
      }

      #segments-clipping:empty {
        display: none;
      }

      #segments-clipping rect {
        height: var(--media-range-track-height, 4px);
        y: calc((var(--media-range-segment-hover-height, 7px) - var(--media-range-track-height, 4px)) / 2);
        transition: var(--media-range-segment-transition, transform .1s ease-in-out);
        transform: var(--media-range-segment-transform, scaleY(1));
        transform-origin: center;
      }
    </style>
    <div id="leftgap"></div>
    <div id="container">
      <div id="startpoint"></div>
      <div id="endpoint"></div>
      <div id="appearance">
        <div id="track" part="track">
          <div id="pointer"></div>
          <div id="progress" part="progress"></div>
        </div>
        <slot name="thumb">
          <div id="thumb" part="thumb"></div>
        </slot>
        <svg id="segments"><clipPath id="segments-clipping"></clipPath></svg>
      </div>
      <input id="range" type="range" min="0" max="1" step="any" value="0">
    </div>
    <div id="rightgap"></div>
  `}class $p extends ct.HTMLElement{constructor(){if(super(),_a(this,d2),_a(this,O0),_a(this,M0),_a(this,lT),_a(this,qL),_a(this,jL),_a(this,HL),_a(this,GL),_a(this,dl,void 0),_a(this,$S,void 0),_a(this,k0,void 0),_a(this,C0,void 0),_a(this,Oo,{}),_a(this,oT,[]),_a(this,D0,()=>{if(this.range.matches(":focus-visible")){const{style:e}=ia(this.shadowRoot,":host");e.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),_a(this,L0,()=>{const{style:e}=ia(this.shadowRoot,":host");e.removeProperty("--_focus-visible-box-shadow")}),_a(this,P0,()=>{const e=this.shadowRoot.querySelector("#segments-clipping");e&&e.parentNode.append(e)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes),n=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(n):this.shadowRoot.innerHTML=n}this.container=this.shadowRoot.querySelector("#container"),Zu(this,k0,this.shadowRoot.querySelector("#startpoint")),Zu(this,C0,this.shadowRoot.querySelector("#endpoint")),this.range=this.shadowRoot.querySelector("#range"),this.appearance=this.shadowRoot.querySelector("#appearance")}static get observedAttributes(){return["disabled","aria-disabled",zr.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,o,l,u,c;e===zr.MEDIA_CONTROLLER?(n&&((o=(i=xi(this,dl))==null?void 0:i.unassociateElement)==null||o.call(i,this),Zu(this,dl,null)),r&&this.isConnected&&(Zu(this,dl,(l=this.getRootNode())==null?void 0:l.getElementById(r)),(c=(u=xi(this,dl))==null?void 0:u.associateElement)==null||c.call(u,this))):(e==="disabled"||e==="aria-disabled"&&n!==r)&&(r==null?(this.range.removeAttribute(e),Po(this,O0,zL).call(this)):(this.range.setAttribute(e,r),Po(this,M0,$L).call(this)))}connectedCallback(){var e,n,r;const{style:i}=ia(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),xi(this,Oo).pointer=ia(this.shadowRoot,"#pointer"),xi(this,Oo).progress=ia(this.shadowRoot,"#progress"),xi(this,Oo).thumb=ia(this.shadowRoot,'#thumb, ::slotted([slot="thumb"])'),xi(this,Oo).activeSegment=ia(this.shadowRoot,"#segments-clipping rect:nth-child(0)");const o=this.getAttribute(zr.MEDIA_CONTROLLER);o&&(Zu(this,dl,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(r=(n=xi(this,dl))==null?void 0:n.associateElement)==null||r.call(n,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",xi(this,D0)),this.shadowRoot.addEventListener("focusout",xi(this,L0)),Po(this,O0,zL).call(this),vp(this.container,xi(this,P0))}disconnectedCallback(){var e,n;Po(this,M0,$L).call(this),(n=(e=xi(this,dl))==null?void 0:e.unassociateElement)==null||n.call(e,this),Zu(this,dl,null),this.shadowRoot.removeEventListener("focusin",xi(this,D0)),this.shadowRoot.removeEventListener("focusout",xi(this,L0)),Ep(this.container,xi(this,P0))}updatePointerBar(e){var n;(n=xi(this,Oo).pointer)==null||n.style.setProperty("width",`${this.getPointerRatio(e)*100}%`)}updateBar(){var e,n;const r=this.range.valueAsNumber*100;(e=xi(this,Oo).progress)==null||e.style.setProperty("width",`${r}%`),(n=xi(this,Oo).thumb)==null||n.style.setProperty("left",`${r}%`)}updateSegments(e){const n=this.shadowRoot.querySelector("#segments-clipping");if(n.textContent="",this.container.classList.toggle("segments",!!e?.length),!e?.length)return;const r=[...new Set([+this.range.min,...e.flatMap(o=>[o.start,o.end]),+this.range.max])];Zu(this,oT,[...r]);const i=r.pop();for(const[o,l]of r.entries()){const[u,c]=[o===0,o===r.length-1],d=u?"calc(var(--segments-gap) / -1)":`${l*100}%`,f=`calc(${((c?i:r[o+1])-l)*100}%${u||c?"":" - var(--segments-gap)"})`,p=Qi.createElementNS("http://www.w3.org/2000/svg","rect"),m=QN(this.shadowRoot,`#segments-clipping rect:nth-child(${o+1})`);m.style.setProperty("x",d),m.style.setProperty("width",f),n.append(p)}}getPointerRatio(e){return i$e(e.clientX,e.clientY,xi(this,k0).getBoundingClientRect(),xi(this,C0).getBoundingClientRect())}get dragging(){return this.hasAttribute("dragging")}handleEvent(e){switch(e.type){case"pointermove":Po(this,GL,ane).call(this,e);break;case"input":this.updateBar();break;case"pointerenter":Po(this,qL,nne).call(this,e);break;case"pointerdown":Po(this,lT,f2).call(this,e);break;case"pointerup":Po(this,jL,rne).call(this);break;case"pointerleave":Po(this,HL,ine).call(this);break}}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}}dl=new WeakMap;$S=new WeakMap;k0=new WeakMap;C0=new WeakMap;Oo=new WeakMap;oT=new WeakMap;D0=new WeakMap;L0=new WeakMap;P0=new WeakMap;d2=new WeakSet;tne=function(t){const e=xi(this,Oo).activeSegment;if(!e)return;const n=this.getPointerRatio(t),i=`#segments-clipping rect:nth-child(${xi(this,oT).findIndex((o,l,u)=>{const c=u[l+1];return c!=null&&n>=o&&n<=c})+1})`;(e.selectorText!=i||!e.style.transform)&&(e.selectorText=i,e.style.setProperty("transform","var(--media-range-segment-hover-transform, scaleY(2))"))};O0=new WeakSet;zL=function(){this.hasAttribute("disabled")||(this.addEventListener("input",this),this.addEventListener("pointerdown",this),this.addEventListener("pointerenter",this))};M0=new WeakSet;$L=function(){var t,e;this.removeEventListener("input",this),this.removeEventListener("pointerdown",this),this.removeEventListener("pointerenter",this),(t=ct.window)==null||t.removeEventListener("pointerup",this),(e=ct.window)==null||e.removeEventListener("pointermove",this)};lT=new WeakSet;f2=function(t){var e;Zu(this,$S,t.composedPath().includes(this.range)),(e=ct.window)==null||e.addEventListener("pointerup",this)};qL=new WeakSet;nne=function(t){var e;t.pointerType!=="mouse"&&Po(this,lT,f2).call(this,t),this.addEventListener("pointerleave",this),(e=ct.window)==null||e.addEventListener("pointermove",this)};jL=new WeakSet;rne=function(){var t;(t=ct.window)==null||t.removeEventListener("pointerup",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};HL=new WeakSet;ine=function(){var t,e;this.removeEventListener("pointerleave",this),(t=ct.window)==null||t.removeEventListener("pointermove",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled"),(e=xi(this,Oo).activeSegment)==null||e.style.removeProperty("transform")};GL=new WeakSet;ane=function(t){t.pointerType==="pen"&&t.buttons===0||(this.toggleAttribute("dragging",t.buttons===1||t.pointerType!=="mouse"),this.updatePointerBar(t),Po(this,d2,tne).call(this,t),this.dragging&&(t.pointerType!=="mouse"||!xi(this,$S))&&(this.range.disabled=!0,this.range.valueAsNumber=this.getPointerRatio(t),this.range.dispatchEvent(new Event("input",{bubbles:!0,composed:!0}))))};$p.shadowRootOptions={mode:"open"};$p.getTemplateHTML=d8e;ct.customElements.get("media-chrome-range")||ct.customElements.define("media-chrome-range",$p);var sne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Mv=(t,e,n)=>(sne(t,e,"read from private field"),n?n.call(t):e.get(t)),f8e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Nv=(t,e,n,r)=>(sne(t,e,"write to private field"),e.set(t,n),n),fl;function h8e(t){return`
    <style>
      :host {
        
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --media-loading-indicator-icon-height: 44px;
      }

      ::slotted(media-time-range),
      ::slotted(media-volume-range) {
        min-height: 100%;
      }

      ::slotted(media-time-range),
      ::slotted(media-clip-selector) {
        flex-grow: 1;
      }

      ::slotted([role="menu"]) {
        position: absolute;
      }
    </style>

    <slot></slot>
  `}class h2 extends ct.HTMLElement{constructor(){if(super(),f8e(this,fl,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[zr.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,o,l,u,c;e===zr.MEDIA_CONTROLLER&&(n&&((o=(i=Mv(this,fl))==null?void 0:i.unassociateElement)==null||o.call(i,this),Nv(this,fl,null)),r&&this.isConnected&&(Nv(this,fl,(l=this.getRootNode())==null?void 0:l.getElementById(r)),(c=(u=Mv(this,fl))==null?void 0:u.associateElement)==null||c.call(u,this)))}connectedCallback(){var e,n,r;const i=this.getAttribute(zr.MEDIA_CONTROLLER);i&&(Nv(this,fl,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=Mv(this,fl))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=Mv(this,fl))==null?void 0:e.unassociateElement)==null||n.call(e,this),Nv(this,fl,null)}}fl=new WeakMap;h2.shadowRootOptions={mode:"open"};h2.getTemplateHTML=h8e;ct.customElements.get("media-control-bar")||ct.customElements.define("media-control-bar",h2);var one=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Fv=(t,e,n)=>(one(t,e,"read from private field"),n?n.call(t):e.get(t)),p8e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Uv=(t,e,n,r)=>(one(t,e,"write to private field"),e.set(t,n),n),hl;function m8e(t,e={}){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
        padding: var(--media-control-padding, 10px);
        display: inline-flex;
        justify-content: center;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        text-align: center;
        pointer-events: auto;
      }

      
      :host(:focus-visible) {
        box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
        outline: 0;
      }

      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }
    </style>

    ${this.getSlotTemplateHTML(t,e)}
  `}function g8e(t,e){return`
    <slot></slot>
  `}class Oc extends ct.HTMLElement{constructor(){if(super(),p8e(this,hl,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[zr.MEDIA_CONTROLLER]}attributeChangedCallback(e,n,r){var i,o,l,u,c;e===zr.MEDIA_CONTROLLER&&(n&&((o=(i=Fv(this,hl))==null?void 0:i.unassociateElement)==null||o.call(i,this),Uv(this,hl,null)),r&&this.isConnected&&(Uv(this,hl,(l=this.getRootNode())==null?void 0:l.getElementById(r)),(c=(u=Fv(this,hl))==null?void 0:u.associateElement)==null||c.call(u,this)))}connectedCallback(){var e,n,r;const{style:i}=ia(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`);const o=this.getAttribute(zr.MEDIA_CONTROLLER);o&&(Uv(this,hl,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(r=(n=Fv(this,hl))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=Fv(this,hl))==null?void 0:e.unassociateElement)==null||n.call(e,this),Uv(this,hl,null)}}hl=new WeakMap;Oc.shadowRootOptions={mode:"open"};Oc.getTemplateHTML=m8e;Oc.getSlotTemplateHTML=g8e;ct.customElements.get("media-text-display")||ct.customElements.define("media-text-display",Oc);var lne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},IG=(t,e,n)=>(lne(t,e,"read from private field"),n?n.call(t):e.get(t)),y8e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},b8e=(t,e,n,r)=>(lne(t,e,"write to private field"),e.set(t,n),n),hg;function v8e(t,e){return`
    <slot>${_c(e.mediaDuration)}</slot>
  `}class une extends Oc{constructor(){var e;super(),y8e(this,hg,void 0),b8e(this,hg,this.shadowRoot.querySelector("slot")),IG(this,hg).textContent=_c((e=this.mediaDuration)!=null?e:0)}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_DURATION]}attributeChangedCallback(e,n,r){e===qe.MEDIA_DURATION&&(IG(this,hg).textContent=_c(+r)),super.attributeChangedCallback(e,n,r)}get mediaDuration(){return pi(this,qe.MEDIA_DURATION)}set mediaDuration(e){Ui(this,qe.MEDIA_DURATION,e)}}hg=new WeakMap;une.getSlotTemplateHTML=v8e;ct.customElements.get("media-duration-display")||ct.customElements.define("media-duration-display",une);const E8e={2:Mn("Network Error"),3:Mn("Decode Error"),4:Mn("Source Not Supported"),5:Mn("Encryption Error")},_8e={2:Mn("A network error caused the media download to fail."),3:Mn("A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format."),4:Mn("An unsupported error occurred. The server or network failed, or your browser does not support this format."),5:Mn("The media is encrypted and there are no keys to decrypt it.")},cne=t=>{var e,n;return t.code===1?null:{title:(e=E8e[t.code])!=null?e:`Error ${t.code}`,message:(n=_8e[t.code])!=null?n:t.message}};var dne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},T8e=(t,e,n)=>(dne(t,e,"read from private field"),n?n.call(t):e.get(t)),S8e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},w8e=(t,e,n,r)=>(dne(t,e,"write to private field"),e.set(t,n),n),N0;function A8e(t){return`
    <style>
      :host {
        background: rgb(20 20 30 / .8);
      }

      #content {
        display: block;
        padding: 1.2em 1.5em;
      }

      h3,
      p {
        margin-block: 0 .3em;
      }
    </style>
    <slot name="error-${t.mediaerrorcode}" id="content">
      ${fne({code:+t.mediaerrorcode,message:t.mediaerrormessage})}
    </slot>
  `}function I8e(t){return t.code&&cne(t)!==null}function fne(t){var e;const{title:n,message:r}=(e=cne(t))!=null?e:{};let i="";return n&&(i+=`<slot name="error-${t.code}-title"><h3>${n}</h3></slot>`),r&&(i+=`<slot name="error-${t.code}-message"><p>${r}</p></slot>`),i}const xG=[qe.MEDIA_ERROR_CODE,qe.MEDIA_ERROR_MESSAGE];class qS extends zp{constructor(){super(...arguments),S8e(this,N0,null)}static get observedAttributes(){return[...super.observedAttributes,...xG]}formatErrorMessage(e){return this.constructor.formatErrorMessage(e)}attributeChangedCallback(e,n,r){var i;if(super.attributeChangedCallback(e,n,r),!xG.includes(e))return;const o=(i=this.mediaError)!=null?i:{code:this.mediaErrorCode,message:this.mediaErrorMessage};this.open=I8e(o),this.open&&(this.shadowRoot.querySelector("slot").name=`error-${this.mediaErrorCode}`,this.shadowRoot.querySelector("#content").innerHTML=this.formatErrorMessage(o))}get mediaError(){return T8e(this,N0)}set mediaError(e){w8e(this,N0,e)}get mediaErrorCode(){return pi(this,"mediaerrorcode")}set mediaErrorCode(e){Ui(this,"mediaerrorcode",e)}get mediaErrorMessage(){return mi(this,"mediaerrormessage")}set mediaErrorMessage(e){gi(this,"mediaerrormessage",e)}}N0=new WeakMap;qS.getSlotTemplateHTML=A8e;qS.formatErrorMessage=fne;ct.customElements.get("media-error-dialog")||ct.customElements.define("media-error-dialog",qS);var hne=qS,x8e=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Wu=(t,e,n)=>(x8e(t,e,"read from private field"),n?n.call(t):e.get(t)),RG=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gh,yh;function R8e(t){return`
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
        background: rgb(20 20 30 / .8);
        backdrop-filter: blur(10px);
      }

      #content {
        display: block;
        width: clamp(400px, 40vw, 700px);
        max-width: 90vw;
        text-align: left;
      }

      h2 {
        margin: 0 0 1.5rem 0;
        font-size: 1.5rem;
        font-weight: 500;
        text-align: center;
      }

      .shortcuts-table {
        width: 100%;
        border-collapse: collapse;
      }

      .shortcuts-table tr {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .shortcuts-table tr:last-child {
        border-bottom: none;
      }

      .shortcuts-table td {
        padding: 0.75rem 0.5rem;
      }

      .shortcuts-table td:first-child {
        text-align: right;
        padding-right: 1rem;
        width: 40%;
        min-width: 120px;
      }

      .shortcuts-table td:last-child {
        padding-left: 1rem;
      }

      .key {
        display: inline-block;
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        padding: 0.25rem 0.5rem;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        font-weight: 500;
        min-width: 1.5rem;
        text-align: center;
        margin: 0 0.2rem;
      }

      .description {
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.95rem;
      }

      .key-combo {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 0.3rem;
      }

      .key-separator {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
      }
    </style>
    <slot id="content">
      ${k8e()}
    </slot>
  `}function k8e(){return`
    <h2>Keyboard Shortcuts</h2>
    <table class="shortcuts-table">${[{keys:["Space","k"],description:"Toggle Playback"},{keys:["m"],description:"Toggle mute"},{keys:["f"],description:"Toggle fullscreen"},{keys:["c"],description:"Toggle captions or subtitles, if available"},{keys:["p"],description:"Toggle Picture in Picture"},{keys:["","j"],description:"Seek back 10s"},{keys:["","l"],description:"Seek forward 10s"},{keys:[""],description:"Turn volume up"},{keys:[""],description:"Turn volume down"},{keys:["< (SHIFT+,)"],description:"Decrease playback rate"},{keys:["> (SHIFT+.)"],description:"Increase playback rate"}].map(({keys:n,description:r})=>`
      <tr>
        <td>
          <div class="key-combo">${n.map((o,l)=>l>0?`<span class="key-separator">or</span><span class="key">${o}</span>`:`<span class="key">${o}</span>`).join("")}</div>
        </td>
        <td class="description">${r}</td>
      </tr>
    `).join("")}</table>
  `}class pne extends zp{constructor(){super(...arguments),RG(this,gh,e=>{var n;if(!this.open)return;const r=(n=this.shadowRoot)==null?void 0:n.querySelector("#content");if(!r)return;const i=e.composedPath(),o=i[0]===this||i.includes(this),l=i.includes(r);o&&!l&&(this.open=!1)}),RG(this,yh,e=>{if(!this.open)return;const n=e.shiftKey&&(e.key==="/"||e.key==="?");(e.key==="Escape"||n)&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(this.open=!1,e.preventDefault(),e.stopPropagation())})}connectedCallback(){super.connectedCallback(),this.open&&(this.addEventListener("click",Wu(this,gh)),document.addEventListener("keydown",Wu(this,yh)))}disconnectedCallback(){this.removeEventListener("click",Wu(this,gh)),document.removeEventListener("keydown",Wu(this,yh))}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e==="open"&&(this.open?(this.addEventListener("click",Wu(this,gh)),document.addEventListener("keydown",Wu(this,yh))):(this.removeEventListener("click",Wu(this,gh)),document.removeEventListener("keydown",Wu(this,yh))))}}gh=new WeakMap;yh=new WeakMap;pne.getSlotTemplateHTML=R8e;ct.customElements.get("media-keyboard-shortcuts-dialog")||ct.customElements.define("media-keyboard-shortcuts-dialog",pne);var mne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},C8e=(t,e,n)=>(mne(t,e,"read from private field"),e.get(t)),D8e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},L8e=(t,e,n,r)=>(mne(t,e,"write to private field"),e.set(t,n),n),F0;const P8e=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,O8e=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`;function M8e(t){return`
    <style>
      :host([${qe.MEDIA_IS_FULLSCREEN}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${qe.MEDIA_IS_FULLSCREEN}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${qe.MEDIA_IS_FULLSCREEN}]) slot[name=tooltip-enter],
      :host(:not([${qe.MEDIA_IS_FULLSCREEN}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${P8e}</slot>
      <slot name="exit">${O8e}</slot>
    </slot>
  `}function N8e(){return`
    <slot name="tooltip-enter">${Mn("Enter fullscreen mode")}</slot>
    <slot name="tooltip-exit">${Mn("Exit fullscreen mode")}</slot>
  `}const kG=t=>{const e=t.mediaIsFullscreen?Mn("exit fullscreen mode"):Mn("enter fullscreen mode");t.setAttribute("aria-label",e)};class p2 extends Ea{constructor(){super(...arguments),D8e(this,F0,null)}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_IS_FULLSCREEN,qe.MEDIA_FULLSCREEN_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),kG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_IS_FULLSCREEN&&kG(this)}get mediaFullscreenUnavailable(){return mi(this,qe.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){gi(this,qe.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return Dr(this,qe.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){Lr(this,qe.MEDIA_IS_FULLSCREEN,e)}handleClick(e){L8e(this,F0,e);const n=C8e(this,F0)instanceof PointerEvent,r=this.mediaIsFullscreen?new ct.CustomEvent(wn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0}):new ct.CustomEvent(wn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0,detail:n});this.dispatchEvent(r)}}F0=new WeakMap;p2.getSlotTemplateHTML=M8e;p2.getTooltipContentHTML=N8e;ct.customElements.get("media-fullscreen-button")||ct.customElements.define("media-fullscreen-button",p2);const{MEDIA_TIME_IS_LIVE:U0,MEDIA_PAUSED:Gg}=qe,{MEDIA_SEEK_TO_LIVE_REQUEST:F8e,MEDIA_PLAY_REQUEST:U8e}=wn,B8e='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>';function z8e(t){return`
    <style>
      :host { --media-tooltip-display: none; }
      
      slot[name=indicator] > *,
      :host ::slotted([slot=indicator]) {
        
        min-width: auto;
        fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
        color: var(--media-live-button-icon-color, rgb(140, 140, 140));
      }

      :host([${U0}]:not([${Gg}])) slot[name=indicator] > *,
      :host([${U0}]:not([${Gg}])) ::slotted([slot=indicator]) {
        fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
        color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
      }

      :host([${U0}]:not([${Gg}])) {
        cursor: var(--media-cursor, not-allowed);
      }

      slot[name=text]{
        text-transform: uppercase;
      }

    </style>

    <slot name="indicator">${B8e}</slot>
    
    <slot name="spacer">&nbsp;</slot><slot name="text">${Mn("live")}</slot>
  `}const CG=t=>{var e;const n=t.mediaPaused||!t.mediaTimeIsLive,r=Mn(n?"seek to live":"playing live");t.setAttribute("aria-label",r);const i=(e=t.shadowRoot)==null?void 0:e.querySelector('slot[name="text"]');i&&(i.textContent=Mn("live")),n?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true")};class gne extends Ea{static get observedAttributes(){return[...super.observedAttributes,U0,Gg]}connectedCallback(){super.connectedCallback(),CG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),CG(this)}get mediaPaused(){return Dr(this,qe.MEDIA_PAUSED)}set mediaPaused(e){Lr(this,qe.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return Dr(this,qe.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){Lr(this,qe.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new ct.CustomEvent(F8e,{composed:!0,bubbles:!0})),this.hasAttribute(Gg)&&this.dispatchEvent(new ct.CustomEvent(U8e,{composed:!0,bubbles:!0})))}}gne.getSlotTemplateHTML=z8e;ct.customElements.get("media-live-button")||ct.customElements.define("media-live-button",gne);var yne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Nm=(t,e,n)=>(yne(t,e,"read from private field"),n?n.call(t):e.get(t)),DG=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Fm=(t,e,n,r)=>(yne(t,e,"write to private field"),e.set(t,n),n),pl,B0;const Bv={LOADING_DELAY:"loadingdelay",NO_AUTOHIDE:"noautohide"},bne=500,$8e=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;function q8e(t){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
        vertical-align: middle;
        box-sizing: border-box;
        --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${bne}ms);
      }

      #status {
        color: rgba(0,0,0,0);
        width: 0px;
        height: 0px;
      }

      :host slot[name=icon] > *,
      :host ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 0);
        transition: opacity 0.15s;
      }

      :host([${qe.MEDIA_LOADING}]:not([${qe.MEDIA_PAUSED}])) slot[name=icon] > *,
      :host([${qe.MEDIA_LOADING}]:not([${qe.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 1);
        transition: opacity 0.15s var(--_loading-indicator-delay);
      }

      :host #status {
        visibility: var(--media-loading-indicator-opacity, hidden);
        transition: visibility 0.15s;
      }

      :host([${qe.MEDIA_LOADING}]:not([${qe.MEDIA_PAUSED}])) #status {
        visibility: var(--media-loading-indicator-opacity, visible);
        transition: visibility 0.15s var(--_loading-indicator-delay);
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-loading-indicator-icon-width);
        height: var(--media-loading-indicator-icon-height, 100px);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
      }
    </style>

    <slot name="icon">${$8e}</slot>
    <div id="status" role="status" aria-live="polite">${Mn("media loading")}</div>
  `}class m2 extends ct.HTMLElement{constructor(){if(super(),DG(this,pl,void 0),DG(this,B0,bne),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[zr.MEDIA_CONTROLLER,qe.MEDIA_PAUSED,qe.MEDIA_LOADING,Bv.LOADING_DELAY]}attributeChangedCallback(e,n,r){var i,o,l,u,c;e===Bv.LOADING_DELAY&&n!==r?this.loadingDelay=Number(r):e===zr.MEDIA_CONTROLLER&&(n&&((o=(i=Nm(this,pl))==null?void 0:i.unassociateElement)==null||o.call(i,this),Fm(this,pl,null)),r&&this.isConnected&&(Fm(this,pl,(l=this.getRootNode())==null?void 0:l.getElementById(r)),(c=(u=Nm(this,pl))==null?void 0:u.associateElement)==null||c.call(u,this)))}connectedCallback(){var e,n,r;const i=this.getAttribute(zr.MEDIA_CONTROLLER);i&&(Fm(this,pl,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=Nm(this,pl))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=Nm(this,pl))==null?void 0:e.unassociateElement)==null||n.call(e,this),Fm(this,pl,null)}get loadingDelay(){return Nm(this,B0)}set loadingDelay(e){Fm(this,B0,e);const{style:n}=ia(this.shadowRoot,":host");n.setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return Dr(this,qe.MEDIA_PAUSED)}set mediaPaused(e){Lr(this,qe.MEDIA_PAUSED,e)}get mediaLoading(){return Dr(this,qe.MEDIA_LOADING)}set mediaLoading(e){Lr(this,qe.MEDIA_LOADING,e)}get mediaController(){return mi(this,zr.MEDIA_CONTROLLER)}set mediaController(e){gi(this,zr.MEDIA_CONTROLLER,e)}get noAutohide(){return Dr(this,Bv.NO_AUTOHIDE)}set noAutohide(e){Lr(this,Bv.NO_AUTOHIDE,e)}}pl=new WeakMap;B0=new WeakMap;m2.shadowRootOptions={mode:"open"};m2.getTemplateHTML=q8e;ct.customElements.get("media-loading-indicator")||ct.customElements.define("media-loading-indicator",m2);const j8e=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,LG=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,H8e=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`;function G8e(t){return`
    <style>
      :host(:not([${qe.MEDIA_VOLUME_LEVEL}])) slot[name=icon] slot:not([name=high]),
      :host([${qe.MEDIA_VOLUME_LEVEL}=high]) slot[name=icon] slot:not([name=high]) {
        display: none !important;
      }

      :host([${qe.MEDIA_VOLUME_LEVEL}=off]) slot[name=icon] slot:not([name=off]) {
        display: none !important;
      }

      :host([${qe.MEDIA_VOLUME_LEVEL}=low]) slot[name=icon] slot:not([name=low]) {
        display: none !important;
      }

      :host([${qe.MEDIA_VOLUME_LEVEL}=medium]) slot[name=icon] slot:not([name=medium]) {
        display: none !important;
      }

      :host(:not([${qe.MEDIA_VOLUME_LEVEL}=off])) slot[name=tooltip-unmute],
      :host([${qe.MEDIA_VOLUME_LEVEL}=off]) slot[name=tooltip-mute] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="off">${j8e}</slot>
      <slot name="low">${LG}</slot>
      <slot name="medium">${LG}</slot>
      <slot name="high">${H8e}</slot>
    </slot>
  `}function V8e(){return`
    <slot name="tooltip-mute">${Mn("Mute")}</slot>
    <slot name="tooltip-unmute">${Mn("Unmute")}</slot>
  `}const PG=t=>{const e=t.mediaVolumeLevel==="off",n=Mn(e?"unmute":"mute");t.setAttribute("aria-label",n)};class g2 extends Ea{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_VOLUME_LEVEL]}connectedCallback(){super.connectedCallback(),PG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_VOLUME_LEVEL&&PG(this)}get mediaVolumeLevel(){return mi(this,qe.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){gi(this,qe.MEDIA_VOLUME_LEVEL,e)}handleClick(){const e=this.mediaVolumeLevel==="off"?wn.MEDIA_UNMUTE_REQUEST:wn.MEDIA_MUTE_REQUEST;this.dispatchEvent(new ct.CustomEvent(e,{composed:!0,bubbles:!0}))}}g2.getSlotTemplateHTML=G8e;g2.getTooltipContentHTML=V8e;ct.customElements.get("media-mute-button")||ct.customElements.define("media-mute-button",g2);const OG=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`;function K8e(t){return`
    <style>
      :host([${qe.MEDIA_IS_PIP}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      :host(:not([${qe.MEDIA_IS_PIP}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${qe.MEDIA_IS_PIP}]) slot[name=tooltip-enter],
      :host(:not([${qe.MEDIA_IS_PIP}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${OG}</slot>
      <slot name="exit">${OG}</slot>
    </slot>
  `}function W8e(){return`
    <slot name="tooltip-enter">${Mn("Enter picture in picture mode")}</slot>
    <slot name="tooltip-exit">${Mn("Exit picture in picture mode")}</slot>
  `}const MG=t=>{const e=t.mediaIsPip?Mn("exit picture in picture mode"):Mn("enter picture in picture mode");t.setAttribute("aria-label",e)};class y2 extends Ea{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_IS_PIP,qe.MEDIA_PIP_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),MG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_IS_PIP&&MG(this)}get mediaPipUnavailable(){return mi(this,qe.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){gi(this,qe.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return Dr(this,qe.MEDIA_IS_PIP)}set mediaIsPip(e){Lr(this,qe.MEDIA_IS_PIP,e)}handleClick(){const e=this.mediaIsPip?wn.MEDIA_EXIT_PIP_REQUEST:wn.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new ct.CustomEvent(e,{composed:!0,bubbles:!0}))}}y2.getSlotTemplateHTML=K8e;y2.getTooltipContentHTML=W8e;ct.customElements.get("media-pip-button")||ct.customElements.define("media-pip-button",y2);var Y8e=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Nf=(t,e,n)=>(Y8e(t,e,"read from private field"),n?n.call(t):e.get(t)),X8e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ju;const eC={RATES:"rates"},vne=[1,1.2,1.5,1.7,2],Bh=1;function Q8e(t){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
    </style>
    <slot name="icon">${t.mediaplaybackrate||Bh}x</slot>
  `}function Z8e(){return Mn("Playback rate")}class b2 extends Ea{constructor(){var e;super(),X8e(this,Ju,new e2(this,eC.RATES,{defaultValue:vne})),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:Bh}x`}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_PLAYBACK_RATE,eC.RATES]}attributeChangedCallback(e,n,r){if(super.attributeChangedCallback(e,n,r),e===eC.RATES&&(Nf(this,Ju).value=r),e===qe.MEDIA_PLAYBACK_RATE){const i=r?+r:Number.NaN,o=Number.isNaN(i)?Bh:i;this.container.innerHTML=`${o}x`,this.setAttribute("aria-label",Mn("Playback rate {playbackRate}",{playbackRate:o}))}}get rates(){return Nf(this,Ju)}set rates(e){e?Array.isArray(e)?Nf(this,Ju).value=e.join(" "):typeof e=="string"&&(Nf(this,Ju).value=e):Nf(this,Ju).value=""}get mediaPlaybackRate(){return pi(this,qe.MEDIA_PLAYBACK_RATE,Bh)}set mediaPlaybackRate(e){Ui(this,qe.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,n;const r=Array.from(Nf(this,Ju).values(),l=>+l).sort((l,u)=>l-u),i=(n=(e=r.find(l=>l>this.mediaPlaybackRate))!=null?e:r[0])!=null?n:Bh,o=new ct.CustomEvent(wn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:i});this.dispatchEvent(o)}}Ju=new WeakMap;b2.getSlotTemplateHTML=Q8e;b2.getTooltipContentHTML=Z8e;ct.customElements.get("media-playback-rate-button")||ct.customElements.define("media-playback-rate-button",b2);const J8e=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,e6e=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`;function t6e(t){return`
    <style>
      :host([${qe.MEDIA_PAUSED}]) slot[name=pause],
      :host(:not([${qe.MEDIA_PAUSED}])) slot[name=play] {
        display: none !important;
      }

      :host([${qe.MEDIA_PAUSED}]) slot[name=tooltip-pause],
      :host(:not([${qe.MEDIA_PAUSED}])) slot[name=tooltip-play] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="play">${J8e}</slot>
      <slot name="pause">${e6e}</slot>
    </slot>
  `}function n6e(){return`
    <slot name="tooltip-play">${Mn("Play")}</slot>
    <slot name="tooltip-pause">${Mn("Pause")}</slot>
  `}const NG=t=>{const e=t.mediaPaused?Mn("play"):Mn("pause");t.setAttribute("aria-label",e)};class v2 extends Ea{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_PAUSED,qe.MEDIA_ENDED]}connectedCallback(){super.connectedCallback(),NG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),(e===qe.MEDIA_PAUSED||e===qe.MEDIA_LANG)&&NG(this)}get mediaPaused(){return Dr(this,qe.MEDIA_PAUSED)}set mediaPaused(e){Lr(this,qe.MEDIA_PAUSED,e)}handleClick(){const e=this.mediaPaused?wn.MEDIA_PLAY_REQUEST:wn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new ct.CustomEvent(e,{composed:!0,bubbles:!0}))}}v2.getSlotTemplateHTML=t6e;v2.getTooltipContentHTML=n6e;ct.customElements.get("media-play-button")||ct.customElements.define("media-play-button",v2);const rl={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"};function r6e(t){return`
    <style>
      :host {
        pointer-events: none;
        display: var(--media-poster-image-display, inline-block);
        box-sizing: border-box;
      }

      img {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        background-repeat: no-repeat;
        background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
        background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, center);
      }
    </style>

    <img part="poster img" aria-hidden="true" id="image"/>
  `}const i6e=t=>{t.style.removeProperty("background-image")},a6e=(t,e)=>{t.style["background-image"]=`url('${e}')`};class E2 extends ct.HTMLElement{static get observedAttributes(){return[rl.PLACEHOLDER_SRC,rl.SRC]}constructor(){if(super(),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,n,r){e===rl.SRC&&(r==null?this.image.removeAttribute(rl.SRC):this.image.setAttribute(rl.SRC,r)),e===rl.PLACEHOLDER_SRC&&(r==null?i6e(this.image):a6e(this.image,r))}get placeholderSrc(){return mi(this,rl.PLACEHOLDER_SRC)}set placeholderSrc(e){gi(this,rl.SRC,e)}get src(){return mi(this,rl.SRC)}set src(e){gi(this,rl.SRC,e)}}E2.shadowRootOptions={mode:"open"};E2.getTemplateHTML=r6e;ct.customElements.get("media-poster-image")||ct.customElements.define("media-poster-image",E2);var Ene=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},s6e=(t,e,n)=>(Ene(t,e,"read from private field"),n?n.call(t):e.get(t)),o6e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},l6e=(t,e,n,r)=>(Ene(t,e,"write to private field"),e.set(t,n),n),z0;class u6e extends Oc{constructor(){super(),o6e(this,z0,void 0),l6e(this,z0,this.shadowRoot.querySelector("slot"))}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_PREVIEW_CHAPTER,qe.MEDIA_LANG]}attributeChangedCallback(e,n,r){if(super.attributeChangedCallback(e,n,r),(e===qe.MEDIA_PREVIEW_CHAPTER||e===qe.MEDIA_LANG)&&r!==n&&r!=null)if(s6e(this,z0).textContent=r,r!==""){const i=Mn("chapter: {chapterName}",{chapterName:r});this.setAttribute("aria-valuetext",i)}else this.removeAttribute("aria-valuetext")}get mediaPreviewChapter(){return mi(this,qe.MEDIA_PREVIEW_CHAPTER)}set mediaPreviewChapter(e){gi(this,qe.MEDIA_PREVIEW_CHAPTER,e)}}z0=new WeakMap;ct.customElements.get("media-preview-chapter-display")||ct.customElements.define("media-preview-chapter-display",u6e);var _ne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zv=(t,e,n)=>(_ne(t,e,"read from private field"),n?n.call(t):e.get(t)),c6e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},$v=(t,e,n,r)=>(_ne(t,e,"write to private field"),e.set(t,n),n),ml;function d6e(t){return`
    <style>
      :host {
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
        overflow: hidden;
      }

      img {
        display: none;
        position: relative;
      }
    </style>
    <img crossorigin loading="eager" decoding="async">
  `}class jS extends ct.HTMLElement{constructor(){if(super(),c6e(this,ml,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[zr.MEDIA_CONTROLLER,qe.MEDIA_PREVIEW_IMAGE,qe.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,n,r;const i=this.getAttribute(zr.MEDIA_CONTROLLER);i&&($v(this,ml,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(r=(n=zv(this,ml))==null?void 0:n.associateElement)==null||r.call(n,this))}disconnectedCallback(){var e,n;(n=(e=zv(this,ml))==null?void 0:e.unassociateElement)==null||n.call(e,this),$v(this,ml,null)}attributeChangedCallback(e,n,r){var i,o,l,u,c;[qe.MEDIA_PREVIEW_IMAGE,qe.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===zr.MEDIA_CONTROLLER&&(n&&((o=(i=zv(this,ml))==null?void 0:i.unassociateElement)==null||o.call(i,this),$v(this,ml,null)),r&&this.isConnected&&($v(this,ml,(l=this.getRootNode())==null?void 0:l.getElementById(r)),(c=(u=zv(this,ml))==null?void 0:u.associateElement)==null||c.call(u,this)))}get mediaPreviewImage(){return mi(this,qe.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){gi(this,qe.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){const e=this.getAttribute(qe.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(n=>+n)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(qe.MEDIA_PREVIEW_COORDS);return}this.setAttribute(qe.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){const e=this.mediaPreviewCoords,n=this.mediaPreviewImage;if(!(e&&n))return;const[r,i,o,l]=e,u=n.split("#")[0],c=getComputedStyle(this),{maxWidth:d,maxHeight:h,minWidth:f,minHeight:p}=c,m=Math.min(parseInt(d)/o,parseInt(h)/l),g=Math.max(parseInt(f)/o,parseInt(p)/l),y=m<1,b=y?m:g>1?g:1,{style:v}=ia(this.shadowRoot,":host"),_=ia(this.shadowRoot,"img").style,E=this.shadowRoot.querySelector("img"),T=y?"min":"max";v.setProperty(`${T}-width`,"initial","important"),v.setProperty(`${T}-height`,"initial","important"),v.width=`${o*b}px`,v.height=`${l*b}px`;const A=()=>{_.width=`${this.imgWidth*b}px`,_.height=`${this.imgHeight*b}px`,_.display="block"};E.src!==u&&(E.onload=()=>{this.imgWidth=E.naturalWidth,this.imgHeight=E.naturalHeight,A()},E.src=u,A()),A(),_.transform=`translate(-${r*b}px, -${i*b}px)`}}ml=new WeakMap;jS.shadowRootOptions={mode:"open"};jS.getTemplateHTML=d6e;ct.customElements.get("media-preview-thumbnail")||ct.customElements.define("media-preview-thumbnail",jS);var FG=jS,Tne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},UG=(t,e,n)=>(Tne(t,e,"read from private field"),n?n.call(t):e.get(t)),f6e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},h6e=(t,e,n,r)=>(Tne(t,e,"write to private field"),e.set(t,n),n),pg;class p6e extends Oc{constructor(){super(),f6e(this,pg,void 0),h6e(this,pg,this.shadowRoot.querySelector("slot")),UG(this,pg).textContent=_c(0)}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_PREVIEW_TIME&&r!=null&&(UG(this,pg).textContent=_c(parseFloat(r)))}get mediaPreviewTime(){return pi(this,qe.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Ui(this,qe.MEDIA_PREVIEW_TIME,e)}}pg=new WeakMap;ct.customElements.get("media-preview-time-display")||ct.customElements.define("media-preview-time-display",p6e);const Ff={SEEK_OFFSET:"seekoffset"},tC=30,m6e=t=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(2.18 19.87)">${t}</text>
    <path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/>
  </svg>`;function g6e(t,e){return`
    <slot name="icon">${m6e(e.seekOffset)}</slot>
  `}function y6e(){return Mn("Seek backward")}const b6e=0;class _2 extends Ea{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_CURRENT_TIME,Ff.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=pi(this,Ff.SEEK_OFFSET,tC)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===Ff.SEEK_OFFSET&&(this.seekOffset=pi(this,Ff.SEEK_OFFSET,tC))}get seekOffset(){return pi(this,Ff.SEEK_OFFSET,tC)}set seekOffset(e){Ui(this,Ff.SEEK_OFFSET,e),this.setAttribute("aria-label",Mn("seek back {seekOffset} seconds",{seekOffset:this.seekOffset})),Rte(kte(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return pi(this,qe.MEDIA_CURRENT_TIME,b6e)}set mediaCurrentTime(e){Ui(this,qe.MEDIA_CURRENT_TIME,e)}handleClick(){const e=Math.max(this.mediaCurrentTime-this.seekOffset,0),n=new ct.CustomEvent(wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)}}_2.getSlotTemplateHTML=g6e;_2.getTooltipContentHTML=y6e;ct.customElements.get("media-seek-backward-button")||ct.customElements.define("media-seek-backward-button",_2);const Uf={SEEK_OFFSET:"seekoffset"},nC=30,v6e=t=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(8.9 19.87)">${t}</text>
    <path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/>
  </svg>`;function E6e(t,e){return`
    <slot name="icon">${v6e(e.seekOffset)}</slot>
  `}function _6e(){return Mn("Seek forward")}const T6e=0;class T2 extends Ea{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_CURRENT_TIME,Uf.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=pi(this,Uf.SEEK_OFFSET,nC)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===Uf.SEEK_OFFSET&&(this.seekOffset=pi(this,Uf.SEEK_OFFSET,nC))}get seekOffset(){return pi(this,Uf.SEEK_OFFSET,nC)}set seekOffset(e){Ui(this,Uf.SEEK_OFFSET,e),this.setAttribute("aria-label",Mn("seek forward {seekOffset} seconds",{seekOffset:this.seekOffset})),Rte(kte(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return pi(this,qe.MEDIA_CURRENT_TIME,T6e)}set mediaCurrentTime(e){Ui(this,qe.MEDIA_CURRENT_TIME,e)}handleClick(){const e=this.mediaCurrentTime+this.seekOffset,n=new ct.CustomEvent(wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)}}T2.getSlotTemplateHTML=E6e;T2.getTooltipContentHTML=_6e;ct.customElements.get("media-seek-forward-button")||ct.customElements.define("media-seek-forward-button",T2);var Sne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},rC=(t,e,n)=>(Sne(t,e,"read from private field"),n?n.call(t):e.get(t)),S6e=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},w6e=(t,e,n,r)=>(Sne(t,e,"write to private field"),e.set(t,n),n),bh;const rd={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},BG=[...Object.values(rd),qe.MEDIA_CURRENT_TIME,qe.MEDIA_DURATION,qe.MEDIA_SEEKABLE],zG=["Enter"," "],A6e="&nbsp;/&nbsp;",VL=(t,{timesSep:e=A6e}={})=>{var n,r;const i=(n=t.mediaCurrentTime)!=null?n:0,[,o]=(r=t.mediaSeekable)!=null?r:[];let l=0;Number.isFinite(t.mediaDuration)?l=t.mediaDuration:Number.isFinite(o)&&(l=o);const u=t.remaining?_c(0-(l-i)):_c(i);return t.showDuration?`${u}${e}${_c(l)}`:u},I6e="video not loaded, unknown time.",x6e=t=>{var e;const n=t.mediaCurrentTime,[,r]=(e=t.mediaSeekable)!=null?e:[];let i=null;if(Number.isFinite(t.mediaDuration)?i=t.mediaDuration:Number.isFinite(r)&&(i=r),n==null||i===null){t.setAttribute("aria-valuetext",I6e);return}const o=t.remaining?jg(0-(i-n)):jg(n);if(!t.showDuration){t.setAttribute("aria-valuetext",o);return}const l=jg(i),u=`${o} of ${l}`;t.setAttribute("aria-valuetext",u)};function R6e(t,e){return`
    <slot>${VL(e)}</slot>
  `}class wne extends Oc{constructor(){super(),S6e(this,bh,void 0),w6e(this,bh,this.shadowRoot.querySelector("slot")),rC(this,bh).innerHTML=`${VL(this)}`}static get observedAttributes(){return[...super.observedAttributes,...BG,"disabled"]}connectedCallback(){const{style:e}=ia(this.shadowRoot,":host(:hover:not([notoggle]))");e.setProperty("cursor","var(--media-cursor, pointer)"),e.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))"),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",Mn("playback time"));const n=r=>{const{key:i}=r;if(!zG.includes(i)){this.removeEventListener("keyup",n);return}this.toggleTimeDisplay()};this.addEventListener("keydown",r=>{const{metaKey:i,altKey:o,key:l}=r;if(i||o||!zG.includes(l)){this.removeEventListener("keyup",n);return}this.addEventListener("keyup",n)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,n,r){BG.includes(e)?this.update():e==="disabled"&&r!==n&&(r==null?this.enable():this.disable()),super.attributeChangedCallback(e,n,r)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return Dr(this,rd.REMAINING)}set remaining(e){Lr(this,rd.REMAINING,e)}get showDuration(){return Dr(this,rd.SHOW_DURATION)}set showDuration(e){Lr(this,rd.SHOW_DURATION,e)}get noToggle(){return Dr(this,rd.NO_TOGGLE)}set noToggle(e){Lr(this,rd.NO_TOGGLE,e)}get mediaDuration(){return pi(this,qe.MEDIA_DURATION)}set mediaDuration(e){Ui(this,qe.MEDIA_DURATION,e)}get mediaCurrentTime(){return pi(this,qe.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Ui(this,qe.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){const e=this.getAttribute(qe.MEDIA_SEEKABLE);if(e)return e.split(":").map(n=>+n)}set mediaSeekable(e){if(e==null){this.removeAttribute(qe.MEDIA_SEEKABLE);return}this.setAttribute(qe.MEDIA_SEEKABLE,e.join(":"))}update(){const e=VL(this);x6e(this),e!==rC(this,bh).innerHTML&&(rC(this,bh).innerHTML=e)}}bh=new WeakMap;wne.getSlotTemplateHTML=R6e;ct.customElements.get("media-time-display")||ct.customElements.define("media-time-display",wne);var Ane=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ca=(t,e,n)=>(Ane(t,e,"read from private field"),e.get(t)),il=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},bs=(t,e,n,r)=>(Ane(t,e,"write to private field"),e.set(t,n),n),k6e=(t,e,n,r)=>({set _(i){bs(t,e,i)},get _(){return ca(t,e)}}),vh,$0,Eh,mg,q0,j0,H0,_h,id,G0;class C6e{constructor(e,n,r){il(this,vh,void 0),il(this,$0,void 0),il(this,Eh,void 0),il(this,mg,void 0),il(this,q0,void 0),il(this,j0,void 0),il(this,H0,void 0),il(this,_h,void 0),il(this,id,0),il(this,G0,(i=performance.now())=>{bs(this,id,requestAnimationFrame(ca(this,G0))),bs(this,mg,performance.now()-ca(this,Eh));const o=1e3/this.fps;if(ca(this,mg)>o){bs(this,Eh,i-ca(this,mg)%o);const l=1e3/((i-ca(this,$0))/++k6e(this,q0)._),u=(i-ca(this,j0))/1e3/this.duration;let c=ca(this,H0)+u*this.playbackRate;c-ca(this,vh).valueAsNumber>0?bs(this,_h,this.playbackRate/this.duration/l):(bs(this,_h,.995*ca(this,_h)),c=ca(this,vh).valueAsNumber+ca(this,_h)),this.callback(c)}}),bs(this,vh,e),this.callback=n,this.fps=r}start(){ca(this,id)===0&&(bs(this,Eh,performance.now()),bs(this,$0,ca(this,Eh)),bs(this,q0,0),ca(this,G0).call(this))}stop(){ca(this,id)!==0&&(cancelAnimationFrame(ca(this,id)),bs(this,id,0))}update({start:e,duration:n,playbackRate:r}){const i=e-ca(this,vh).valueAsNumber,o=Math.abs(n-this.duration);(i>0||i<-.03||o>=.5)&&this.callback(e),bs(this,H0,e),bs(this,j0,performance.now()),this.duration=n,this.playbackRate=r}}vh=new WeakMap;$0=new WeakMap;Eh=new WeakMap;mg=new WeakMap;q0=new WeakMap;j0=new WeakMap;H0=new WeakMap;_h=new WeakMap;id=new WeakMap;G0=new WeakMap;var S2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zi=(t,e,n)=>(S2(t,e,"read from private field"),n?n.call(t):e.get(t)),Ji=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Vs=(t,e,n,r)=>(S2(t,e,"write to private field"),e.set(t,n),n),Da=(t,e,n)=>(S2(t,e,"access private method"),n),Th,Dd,uT,Vg,cT,V0,Fy,Uy,Sh,wh,Ah,gg,w2,Ine,KL,dT,A2,fT,I2,hT,x2,WL,xne,By,pT,YL,Rne;const D6e="video not loaded, unknown time.",L6e=t=>{const e=t.range,n=jg(+kne(t)),r=jg(+t.mediaSeekableEnd),i=n&&r?`${n} of ${r}`:D6e;e.setAttribute("aria-valuetext",i)};function P6e(t){return`
    ${$p.getTemplateHTML(t)}
    <style>
      :host {
        --media-box-border-radius: 4px;
        --media-box-padding-left: 10px;
        --media-box-padding-right: 10px;
        --media-preview-border-radius: var(--media-box-border-radius);
        --media-box-arrow-offset: var(--media-box-border-radius);
        --_control-background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        --_preview-background: var(--media-preview-background, var(--_control-background));

        
        contain: layout;
      }

      #buffered {
        background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #preview-rail,
      #current-rail {
        width: 100%;
        position: absolute;
        left: 0;
        bottom: 100%;
        pointer-events: none;
        will-change: transform;
      }

      [part~="box"] {
        width: min-content;
        
        position: absolute;
        bottom: 100%;
        flex-direction: column;
        align-items: center;
        transform: translateX(-50%);
      }

      [part~="current-box"] {
        display: var(--media-current-box-display, var(--media-box-display, flex));
        margin: var(--media-current-box-margin, var(--media-box-margin, 0 0 5px));
        visibility: hidden;
      }

      [part~="preview-box"] {
        display: var(--media-preview-box-display, var(--media-box-display, flex));
        margin: var(--media-preview-box-margin, var(--media-box-margin, 0 0 5px));
        transition-property: var(--media-preview-transition-property, visibility, opacity);
        transition-duration: var(--media-preview-transition-duration-out, .25s);
        transition-delay: var(--media-preview-transition-delay-out, 0s);
        visibility: hidden;
        opacity: 0;
      }

      :host(:is([${qe.MEDIA_PREVIEW_IMAGE}], [${qe.MEDIA_PREVIEW_TIME}])[dragging]) [part~="preview-box"] {
        transition-duration: var(--media-preview-transition-duration-in, .5s);
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
        opacity: 1;
      }

      @media (hover: hover) {
        :host(:is([${qe.MEDIA_PREVIEW_IMAGE}], [${qe.MEDIA_PREVIEW_TIME}]):hover) [part~="preview-box"] {
          transition-duration: var(--media-preview-transition-duration-in, .5s);
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
          opacity: 1;
        }
      }

      media-preview-thumbnail,
      ::slotted(media-preview-thumbnail) {
        visibility: hidden;
        
        transition: visibility 0s .25s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-thumbnail-background, var(--_preview-background));
        box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
        max-width: var(--media-preview-thumbnail-max-width, 180px);
        max-height: var(--media-preview-thumbnail-max-height, 160px);
        min-width: var(--media-preview-thumbnail-min-width, 120px);
        min-height: var(--media-preview-thumbnail-min-height, 80px);
        border: var(--media-preview-thumbnail-border);
        border-radius: var(--media-preview-thumbnail-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
      }

      :host([${qe.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,
      :host([${qe.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
      }

      @media (hover: hover) {
        :host([${qe.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
        :host([${qe.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
        }

        :host([${qe.MEDIA_PREVIEW_TIME}]:hover) {
          --media-time-range-hover-display: block;
        }
      }

      media-preview-chapter-display,
      ::slotted(media-preview-chapter-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        visibility: hidden;
        
        transition: min-width 0s, border-radius 0s, margin 0s, padding 0s, visibility 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-chapter-background, var(--_preview-background));
        border-radius: var(--media-preview-chapter-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-chapter-padding, 3.5px 9px);
        margin: var(--media-preview-chapter-margin, 0 0 5px);
        text-shadow: var(--media-preview-chapter-text-shadow, 0 0 4px rgb(0 0 0 / .75));
      }

      :host([${qe.MEDIA_PREVIEW_IMAGE}]) media-preview-chapter-display,
      :host([${qe.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-chapter-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-chapter-border-radius, 0);
        padding: var(--media-preview-chapter-padding, 3.5px 9px 0);
        margin: var(--media-preview-chapter-margin, 0);
        min-width: 100%;
      }

      media-preview-chapter-display[${qe.MEDIA_PREVIEW_CHAPTER}],
      ::slotted(media-preview-chapter-display[${qe.MEDIA_PREVIEW_CHAPTER}]) {
        visibility: visible;
      }

      media-preview-chapter-display:not([aria-valuetext]),
      ::slotted(media-preview-chapter-display:not([aria-valuetext])) {
        display: none;
      }

      media-preview-time-display,
      ::slotted(media-preview-time-display),
      media-time-display,
      ::slotted(media-time-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        
        transition: min-width 0s, border-radius 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-time-background, var(--_preview-background));
        border-radius: var(--media-preview-time-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-time-padding, 3.5px 9px);
        margin: var(--media-preview-time-margin, 0);
        text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50%)
        ));
      }

      :host([${qe.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
      :host([${qe.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-time-border-radius,
          0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
        min-width: 100%;
      }

      :host([${qe.MEDIA_PREVIEW_TIME}]:hover) {
        --media-time-range-hover-display: block;
      }

      [part~="arrow"],
      ::slotted([part~="arrow"]) {
        display: var(--media-box-arrow-display, inline-block);
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2 + var(--media-box-arrow-offset)),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50% - var(--media-box-arrow-offset))
        ));
        
        border-color: transparent;
        border-top-color: var(--media-box-arrow-background, var(--_control-background));
        border-width: var(--media-box-arrow-border-width,
          var(--media-box-arrow-height, 5px) var(--media-box-arrow-width, 6px) 0);
        border-style: solid;
        justify-content: center;
        height: 0;
      }
    </style>
    <div id="preview-rail">
      <slot name="preview" part="box preview-box">
        <media-preview-thumbnail>
          <template shadowrootmode="${FG.shadowRootOptions.mode}">
            ${FG.getTemplateHTML({})}
          </template>
        </media-preview-thumbnail>
        <media-preview-chapter-display></media-preview-chapter-display>
        <media-preview-time-display></media-preview-time-display>
        <slot name="preview-arrow"><div part="arrow"></div></slot>
      </slot>
    </div>
    <div id="current-rail">
      <slot name="current" part="box current-box">
        
      </slot>
    </div>
  `}const qv=(t,e=t.mediaCurrentTime)=>{const n=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,r=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;if(Number.isNaN(r))return 0;const i=(e-n)/(r-n);return Math.max(0,Math.min(i,1))},kne=(t,e=t.range.valueAsNumber)=>{const n=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,r=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;return Number.isNaN(r)?0:e*(r-n)+n};class R2 extends $p{constructor(){super(),Ji(this,Ah),Ji(this,w2),Ji(this,dT),Ji(this,fT),Ji(this,hT),Ji(this,WL),Ji(this,By),Ji(this,YL),Ji(this,Th,void 0),Ji(this,Dd,void 0),Ji(this,uT,void 0),Ji(this,Vg,void 0),Ji(this,cT,void 0),Ji(this,V0,void 0),Ji(this,Fy,void 0),Ji(this,Uy,void 0),Ji(this,Sh,void 0),Ji(this,wh,void 0),Ji(this,KL,r=>{this.dragging||(WN(r)&&(this.range.valueAsNumber=r),zi(this,wh)||this.updateBar())}),this.shadowRoot.querySelector("#track").insertAdjacentHTML("afterbegin",'<div id="buffered" part="buffered"></div>'),Vs(this,uT,this.shadowRoot.querySelectorAll('[part~="box"]')),Vs(this,cT,this.shadowRoot.querySelector('[part~="preview-box"]')),Vs(this,V0,this.shadowRoot.querySelector('[part~="current-box"]'));const n=getComputedStyle(this);Vs(this,Fy,parseInt(n.getPropertyValue("--media-box-padding-left"))),Vs(this,Uy,parseInt(n.getPropertyValue("--media-box-padding-right"))),Vs(this,Dd,new C6e(this.range,zi(this,KL),60))}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_PAUSED,qe.MEDIA_DURATION,qe.MEDIA_SEEKABLE,qe.MEDIA_CURRENT_TIME,qe.MEDIA_PREVIEW_IMAGE,qe.MEDIA_PREVIEW_TIME,qe.MEDIA_PREVIEW_CHAPTER,qe.MEDIA_BUFFERED,qe.MEDIA_PLAYBACK_RATE,qe.MEDIA_LOADING,qe.MEDIA_ENDED]}connectedCallback(){var e;super.connectedCallback(),this.range.setAttribute("aria-label",Mn("seek")),Da(this,Ah,gg).call(this),Vs(this,Th,this.getRootNode()),(e=zi(this,Th))==null||e.addEventListener("transitionstart",this)}disconnectedCallback(){var e;super.disconnectedCallback(),Da(this,Ah,gg).call(this),(e=zi(this,Th))==null||e.removeEventListener("transitionstart",this),Vs(this,Th,null)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),n!=r&&(e===qe.MEDIA_CURRENT_TIME||e===qe.MEDIA_PAUSED||e===qe.MEDIA_ENDED||e===qe.MEDIA_LOADING||e===qe.MEDIA_DURATION||e===qe.MEDIA_SEEKABLE?(zi(this,Dd).update({start:qv(this),duration:this.mediaSeekableEnd-this.mediaSeekableStart,playbackRate:this.mediaPlaybackRate}),Da(this,Ah,gg).call(this),L6e(this)):e===qe.MEDIA_BUFFERED&&this.updateBufferedBar(),(e===qe.MEDIA_DURATION||e===qe.MEDIA_SEEKABLE)&&(this.mediaChaptersCues=zi(this,Sh),this.updateBar()))}get mediaChaptersCues(){return zi(this,Sh)}set mediaChaptersCues(e){var n;Vs(this,Sh,e),this.updateSegments((n=zi(this,Sh))==null?void 0:n.map(r=>({start:qv(this,r.startTime),end:qv(this,r.endTime)})))}get mediaPaused(){return Dr(this,qe.MEDIA_PAUSED)}set mediaPaused(e){Lr(this,qe.MEDIA_PAUSED,e)}get mediaLoading(){return Dr(this,qe.MEDIA_LOADING)}set mediaLoading(e){Lr(this,qe.MEDIA_LOADING,e)}get mediaDuration(){return pi(this,qe.MEDIA_DURATION)}set mediaDuration(e){Ui(this,qe.MEDIA_DURATION,e)}get mediaCurrentTime(){return pi(this,qe.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Ui(this,qe.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return pi(this,qe.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){Ui(this,qe.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){const e=this.getAttribute(qe.MEDIA_BUFFERED);return e?e.split(" ").map(n=>n.split(":").map(r=>+r)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(qe.MEDIA_BUFFERED);return}const n=e.map(r=>r.join(":")).join(" ");this.setAttribute(qe.MEDIA_BUFFERED,n)}get mediaSeekable(){const e=this.getAttribute(qe.MEDIA_SEEKABLE);if(e)return e.split(":").map(n=>+n)}set mediaSeekable(e){if(e==null){this.removeAttribute(qe.MEDIA_SEEKABLE);return}this.setAttribute(qe.MEDIA_SEEKABLE,e.join(":"))}get mediaSeekableEnd(){var e;const[,n=this.mediaDuration]=(e=this.mediaSeekable)!=null?e:[];return n}get mediaSeekableStart(){var e;const[n=0]=(e=this.mediaSeekable)!=null?e:[];return n}get mediaPreviewImage(){return mi(this,qe.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){gi(this,qe.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return pi(this,qe.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Ui(this,qe.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return Dr(this,qe.MEDIA_ENDED)}set mediaEnded(e){Lr(this,qe.MEDIA_ENDED,e)}updateBar(){super.updateBar(),this.updateBufferedBar(),this.updateCurrentBox()}updateBufferedBar(){var e;const n=this.mediaBuffered;if(!n.length)return;let r;if(this.mediaEnded)r=1;else{const o=this.mediaCurrentTime,[,l=this.mediaSeekableStart]=(e=n.find(([u,c])=>u<=o&&o<=c))!=null?e:[];r=qv(this,l)}const{style:i}=ia(this.shadowRoot,"#buffered");i.setProperty("width",`${r*100}%`)}updateCurrentBox(){if(!this.shadowRoot.querySelector('slot[name="current"]').assignedElements().length)return;const n=ia(this.shadowRoot,"#current-rail"),r=ia(this.shadowRoot,'[part~="current-box"]'),i=Da(this,dT,A2).call(this,zi(this,V0)),o=Da(this,fT,I2).call(this,i,this.range.valueAsNumber),l=Da(this,hT,x2).call(this,i,this.range.valueAsNumber);n.style.transform=`translateX(${o})`,n.style.setProperty("--_range-width",`${i.range.width}`),r.style.setProperty("--_box-shift",`${l}`),r.style.setProperty("--_box-width",`${i.box.width}px`),r.style.setProperty("visibility","initial")}handleEvent(e){switch(super.handleEvent(e),e.type){case"input":Da(this,YL,Rne).call(this);break;case"pointermove":Da(this,WL,xne).call(this,e);break;case"pointerup":zi(this,wh)&&Vs(this,wh,!1);break;case"pointerdown":Vs(this,wh,!0);break;case"pointerleave":Da(this,By,pT).call(this,null);break;case"transitionstart":xu(e.target,this)&&setTimeout(()=>Da(this,Ah,gg).call(this),0);break}}}Th=new WeakMap;Dd=new WeakMap;uT=new WeakMap;Vg=new WeakMap;cT=new WeakMap;V0=new WeakMap;Fy=new WeakMap;Uy=new WeakMap;Sh=new WeakMap;wh=new WeakMap;Ah=new WeakSet;gg=function(){Da(this,w2,Ine).call(this)?zi(this,Dd).start():zi(this,Dd).stop()};w2=new WeakSet;Ine=function(){return this.isConnected&&!this.mediaPaused&&!this.mediaLoading&&!this.mediaEnded&&this.mediaSeekableEnd>0&&Cte(this)};KL=new WeakMap;dT=new WeakSet;A2=function(t){var e;const r=((e=this.getAttribute("bounds")?Bp(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?e:this).getBoundingClientRect(),i=this.range.getBoundingClientRect(),o=t.offsetWidth,l=-(i.left-r.left-o/2),u=r.right-i.left-o/2;return{box:{width:o,min:l,max:u},bounds:r,range:i}};fT=new WeakSet;I2=function(t,e){let n=`${e*100}%`;const{width:r,min:i,max:o}=t.box;if(!r)return n;if(Number.isNaN(i)||(n=`max(${`calc(1 / var(--_range-width) * 100 * ${i}% + var(--media-box-padding-left))`}, ${n})`),!Number.isNaN(o)){const u=`calc(1 / var(--_range-width) * 100 * ${o}% - var(--media-box-padding-right))`;n=`min(${n}, ${u})`}return n};hT=new WeakSet;x2=function(t,e){const{width:n,min:r,max:i}=t.box,o=e*t.range.width;if(o<r+zi(this,Fy)){const l=t.range.left-t.bounds.left-zi(this,Fy);return`${o-n/2+l}px`}if(o>i-zi(this,Uy)){const l=t.bounds.right-t.range.right-zi(this,Uy);return`${o+n/2-l-t.range.width}px`}return 0};WL=new WeakSet;xne=function(t){const e=[...zi(this,uT)].some(h=>t.composedPath().includes(h));if(!this.dragging&&(e||!t.composedPath().includes(this))){Da(this,By,pT).call(this,null);return}const n=this.mediaSeekableEnd;if(!n)return;const r=ia(this.shadowRoot,"#preview-rail"),i=ia(this.shadowRoot,'[part~="preview-box"]'),o=Da(this,dT,A2).call(this,zi(this,cT));let l=(t.clientX-o.range.left)/o.range.width;l=Math.max(0,Math.min(1,l));const u=Da(this,fT,I2).call(this,o,l),c=Da(this,hT,x2).call(this,o,l);r.style.transform=`translateX(${u})`,r.style.setProperty("--_range-width",`${o.range.width}`),i.style.setProperty("--_box-shift",`${c}`),i.style.setProperty("--_box-width",`${o.box.width}px`);const d=Math.round(zi(this,Vg))-Math.round(l*n);Math.abs(d)<1&&l>.01&&l<.99||(Vs(this,Vg,l*n),Da(this,By,pT).call(this,zi(this,Vg)))};By=new WeakSet;pT=function(t){this.dispatchEvent(new ct.CustomEvent(wn.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:t}))};YL=new WeakSet;Rne=function(){zi(this,Dd).stop();const t=kne(this);this.dispatchEvent(new ct.CustomEvent(wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:t}))};R2.shadowRootOptions={mode:"open"};R2.getTemplateHTML=P6e;ct.customElements.get("media-time-range")||ct.customElements.define("media-time-range",R2);const O6e=1,M6e=t=>t.mediaMuted?0:t.mediaVolume,N6e=t=>`${Math.round(t*100)}%`;class F6e extends $p{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_VOLUME,qe.MEDIA_MUTED,qe.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.addEventListener("input",()=>{const e=this.range.value,n=new ct.CustomEvent(wn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)})}connectedCallback(){super.connectedCallback(),this.range.setAttribute("aria-label",Mn("volume"))}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),(e===qe.MEDIA_VOLUME||e===qe.MEDIA_MUTED)&&(this.range.valueAsNumber=M6e(this),this.range.setAttribute("aria-valuetext",N6e(this.range.valueAsNumber)),this.updateBar())}get mediaVolume(){return pi(this,qe.MEDIA_VOLUME,O6e)}set mediaVolume(e){Ui(this,qe.MEDIA_VOLUME,e)}get mediaMuted(){return Dr(this,qe.MEDIA_MUTED)}set mediaMuted(e){Lr(this,qe.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return mi(this,qe.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){gi(this,qe.MEDIA_VOLUME_UNAVAILABLE,e)}}ct.customElements.get("media-volume-range")||ct.customElements.define("media-volume-range",F6e);function U6e(t){return`
      <style>
        :host {
          min-width: 4ch;
          padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
          width: 100%;
          display: grid;
          grid-template-columns: 1fr auto;
          gap: 1rem;
          font-weight: var(--media-button-font-weight, normal);
        }

        #checked-indicator {
          display: none;
        }

        :host([${qe.MEDIA_LOOP}]) #checked-indicator {
          display: block;
        }
      </style>
      
      <span id="icon">
     </span>

      <div id="checked-indicator">
        <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
          <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
        </svg>
      </div>
    `}function B6e(){return Mn("Loop")}class k2 extends Ea{constructor(){super(...arguments),this.container=null}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_LOOP]}connectedCallback(){var e;super.connectedCallback(),this.container=((e=this.shadowRoot)==null?void 0:e.querySelector("#icon"))||null,this.container&&(this.container.textContent=Mn("Loop"))}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_LOOP&&this.container&&this.setAttribute("aria-checked",this.mediaLoop?"true":"false")}get mediaLoop(){return Dr(this,qe.MEDIA_LOOP)}set mediaLoop(e){Lr(this,qe.MEDIA_LOOP,e)}handleClick(){const e=!this.mediaLoop,n=new ct.CustomEvent(wn.MEDIA_LOOP_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(n)}}k2.getSlotTemplateHTML=U6e;k2.getTooltipContentHTML=B6e;ct.customElements.get("media-loop-button")||ct.customElements.define("media-loop-button",k2);var Cne=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Er=(t,e,n)=>(Cne(t,e,"read from private field"),n?n.call(t):e.get(t)),Al=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},du=(t,e,n,r)=>(Cne(t,e,"write to private field"),e.set(t,n),n),Ih,K0,ad,yg,ec,tc,nc,sd,xh,W0,Co;const $G=1,qG=0,z6e=1,$6e={processCallback(t,e,n){if(n){for(const[r,i]of e)if(r in n){const o=n[r];typeof o=="boolean"&&i instanceof qo&&typeof i.element[i.attributeName]=="boolean"?i.booleanValue=o:typeof o=="function"&&i instanceof qo?i.element[i.attributeName]=o:i.value=o}}}};class HS extends ct.DocumentFragment{constructor(e,n,r=$6e){var i;super(),Al(this,Ih,void 0),Al(this,K0,void 0),this.append(e.content.cloneNode(!0)),du(this,Ih,Dne(this)),du(this,K0,r),(i=r.createCallback)==null||i.call(r,this,Er(this,Ih),n),r.processCallback(this,Er(this,Ih),n)}update(e){Er(this,K0).processCallback(this,Er(this,Ih),e)}}Ih=new WeakMap;K0=new WeakMap;const Dne=(t,e=[])=>{let n,r;for(const i of t.attributes||[])if(i.value.includes("{{")){const o=new j6e;for([n,r]of HG(i.value))if(!n)o.append(r);else{const l=new qo(t,i.name,i.namespaceURI);o.append(l),e.push([r,l])}i.value=o.toString()}for(const i of t.childNodes)if(i.nodeType===$G&&!(i instanceof HTMLTemplateElement))Dne(i,e);else{const o=i.data;if(i.nodeType===$G||o.includes("{{")){const l=[];if(o)for([n,r]of HG(o))if(!n)l.push(new Text(r));else{const u=new qp(t);l.push(u),e.push([r,u])}else if(i instanceof HTMLTemplateElement){const u=new One(t,i);l.push(u),e.push([u.expression,u])}i.replaceWith(...l.flatMap(u=>u.replacementNodes||[u]))}}return e},jG={},HG=t=>{let e="",n=0,r=jG[t],i=0,o;if(r)return r;for(r=[];o=t[i];i++)o==="{"&&t[i+1]==="{"&&t[i-1]!=="\\"&&t[i+2]&&++n==1?(e&&r.push([qG,e]),e="",i++):o==="}"&&t[i+1]==="}"&&t[i-1]!=="\\"&&!--n?(r.push([z6e,e.trim()]),e="",i++):e+=o||"";return e&&r.push([qG,(n>0?"{{":"")+e]),jG[t]=r},q6e=11;class Lne{get value(){return""}set value(e){}toString(){return this.value}}const Pne=new WeakMap;class j6e{constructor(){Al(this,ad,[])}[Symbol.iterator](){return Er(this,ad).values()}get length(){return Er(this,ad).length}item(e){return Er(this,ad)[e]}append(...e){for(const n of e)n instanceof qo&&Pne.set(n,this),Er(this,ad).push(n)}toString(){return Er(this,ad).join("")}}ad=new WeakMap;class qo extends Lne{constructor(e,n,r){super(),Al(this,sd),Al(this,yg,""),Al(this,ec,void 0),Al(this,tc,void 0),Al(this,nc,void 0),du(this,ec,e),du(this,tc,n),du(this,nc,r)}get attributeName(){return Er(this,tc)}get attributeNamespace(){return Er(this,nc)}get element(){return Er(this,ec)}get value(){return Er(this,yg)}set value(e){Er(this,yg)!==e&&(du(this,yg,e),!Er(this,sd,xh)||Er(this,sd,xh).length===1?e==null?Er(this,ec).removeAttributeNS(Er(this,nc),Er(this,tc)):Er(this,ec).setAttributeNS(Er(this,nc),Er(this,tc),e):Er(this,ec).setAttributeNS(Er(this,nc),Er(this,tc),Er(this,sd,xh).toString()))}get booleanValue(){return Er(this,ec).hasAttributeNS(Er(this,nc),Er(this,tc))}set booleanValue(e){if(!Er(this,sd,xh)||Er(this,sd,xh).length===1)this.value=e?"":null;else throw new DOMException("Value is not fully templatized")}}yg=new WeakMap;ec=new WeakMap;tc=new WeakMap;nc=new WeakMap;sd=new WeakSet;xh=function(){return Pne.get(this)};class qp extends Lne{constructor(e,n){super(),Al(this,W0,void 0),Al(this,Co,void 0),du(this,W0,e),du(this,Co,n?[...n]:[new Text])}get replacementNodes(){return Er(this,Co)}get parentNode(){return Er(this,W0)}get nextSibling(){return Er(this,Co)[Er(this,Co).length-1].nextSibling}get previousSibling(){return Er(this,Co)[0].previousSibling}get value(){return Er(this,Co).map(e=>e.textContent).join("")}set value(e){this.replace(e)}replace(...e){const n=e.flat().flatMap(r=>r==null?[new Text]:r.forEach?[...r]:r.nodeType===q6e?[...r.childNodes]:r.nodeType?[r]:[new Text(r)]);n.length||n.push(new Text),du(this,Co,H6e(Er(this,Co)[0].parentNode,Er(this,Co),n,this.nextSibling))}}W0=new WeakMap;Co=new WeakMap;class One extends qp{constructor(e,n){const r=n.getAttribute("directive")||n.getAttribute("type");let i=n.getAttribute("expression")||n.getAttribute(r)||"";i.startsWith("{{")&&(i=i.trim().slice(2,-2).trim()),super(e),this.expression=i,this.template=n,this.directive=r}}function H6e(t,e,n,r=null){let i=0,o,l,u,c=n.length,d=e.length;for(;i<c&&i<d&&e[i]==n[i];)i++;for(;i<c&&i<d&&n[c-1]==e[d-1];)r=n[--d,--c];if(i==d)for(;i<c;)t.insertBefore(n[i++],r);if(i==c)for(;i<d;)t.removeChild(e[i++]);else{for(o=e[i];i<c;)u=n[i++],l=o?o.nextSibling:r,o==u?o=l:i<c&&n[i]==l?(t.replaceChild(u,o),o=l):t.insertBefore(u,o);for(;o!=r;)l=o.nextSibling,t.removeChild(o),o=l}return n}const GG={string:t=>String(t)};class Mne{constructor(e){this.template=e,this.state=void 0}}const Ed=new WeakMap,_d=new WeakMap,XL={partial:(t,e)=>{e[t.expression]=new Mne(t.template)},if:(t,e)=>{var n;if(Nne(t.expression,e))if(Ed.get(t)!==t.template){Ed.set(t,t.template);const r=new HS(t.template,e,C2);t.replace(r),_d.set(t,r)}else(n=_d.get(t))==null||n.update(e);else t.replace(""),Ed.delete(t),_d.delete(t)}},G6e=Object.keys(XL),C2={processCallback(t,e,n){var r,i;if(n)for(const[o,l]of e){if(l instanceof One){if(!l.directive){const c=G6e.find(d=>l.template.hasAttribute(d));c&&(l.directive=c,l.expression=l.template.getAttribute(c))}(r=XL[l.directive])==null||r.call(XL,l,n);continue}let u=Nne(o,n);if(u instanceof Mne){Ed.get(l)!==u.template?(Ed.set(l,u.template),u=new HS(u.template,u.state,C2),l.value=u,_d.set(l,u)):(i=_d.get(l))==null||i.update(u.state);continue}u?(l instanceof qo&&l.attributeName.startsWith("aria-")&&(u=String(u)),l instanceof qo?typeof u=="boolean"?l.booleanValue=u:typeof u=="function"?l.element[l.attributeName]=u:l.value=u:(l.value=u,Ed.delete(l),_d.delete(l))):l instanceof qo?l.value=void 0:(l.value=void 0,Ed.delete(l),_d.delete(l))}}},VG={"!":t=>!t,"!!":t=>!!t,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,"??":(t,e)=>t??e,"|":(t,e)=>{var n;return(n=GG[e])==null?void 0:n.call(GG,t)}};function V6e(t){return K6e(t,{boolean:/true|false/,number:/-?\d+\.?\d*/,string:/(["'])((?:\\.|[^\\])*?)\1/,operator:/[!=><][=!]?|\?\?|\|/,ws:/\s+/,param:/[$a-z_][$\w]*/i}).filter(({type:e})=>e!=="ws")}function Nne(t,e={}){var n,r,i,o,l,u,c;const d=V6e(t);if(d.length===0||d.some(({type:h})=>!h))return Um(t);if(((n=d[0])==null?void 0:n.token)===">"){const h=e[(r=d[1])==null?void 0:r.token];if(!h)return Um(t);const f={...e};h.state=f;const p=d.slice(2);for(let m=0;m<p.length;m+=3){const g=(i=p[m])==null?void 0:i.token,y=(o=p[m+1])==null?void 0:o.token,b=(l=p[m+2])==null?void 0:l.token;g&&y==="="&&(f[g]=Bm(b,e))}return h}if(d.length===1)return jv(d[0])?Bm(d[0].token,e):Um(t);if(d.length===2){const h=(u=d[0])==null?void 0:u.token,f=VG[h];if(!f||!jv(d[1]))return Um(t);const p=Bm(d[1].token,e);return f(p)}if(d.length===3){const h=(c=d[1])==null?void 0:c.token,f=VG[h];if(!f||!jv(d[0])||!jv(d[2]))return Um(t);const p=Bm(d[0].token,e);if(h==="|")return f(p,d[2].token);const m=Bm(d[2].token,e);return f(p,m)}}function Um(t){return console.warn(`Warning: invalid expression \`${t}\``),!1}function jv({type:t}){return["number","boolean","string","param"].includes(t)}function Bm(t,e){const n=t[0],r=t.slice(-1);return t==="true"||t==="false"?t==="true":n===r&&["'",'"'].includes(n)?t.slice(1,-1):Ete(t)?parseFloat(t):e[t]}function K6e(t,e){let n,r,i;const o=[];for(;t;){i=null,n=t.length;for(const l in e)r=e[l].exec(t),r&&r.index<n&&(i={token:r[0],type:l,matches:r.slice(1)},n=r.index);n&&o.push({token:t.substr(0,n),type:void 0}),i&&o.push(i),t=t.substr(n+(i?i.token.length:0))}return o}var D2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},QL=(t,e,n)=>(D2(t,e,"read from private field"),n?n.call(t):e.get(t)),zm=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Td=(t,e,n,r)=>(D2(t,e,"write to private field"),e.set(t,n),n),iC=(t,e,n)=>(D2(t,e,"access private method"),n),Jh,Y0,ep,ZL,Fne,X0,JL;const aC={mediatargetlivewindow:"targetlivewindow",mediastreamtype:"streamtype"},Une=Qi.createElement("template");Une.innerHTML=`
  <style>
    :host {
      display: inline-block;
      line-height: 0;
    }

    media-controller {
      width: 100%;
      height: 100%;
    }

    media-captions-button:not([mediasubtitleslist]),
    media-captions-menu:not([mediasubtitleslist]),
    media-captions-menu-button:not([mediasubtitleslist]),
    media-audio-track-menu[mediaaudiotrackunavailable],
    media-audio-track-menu-button[mediaaudiotrackunavailable],
    media-rendition-menu[mediarenditionunavailable],
    media-rendition-menu-button[mediarenditionunavailable],
    media-volume-range[mediavolumeunavailable],
    media-airplay-button[mediaairplayunavailable],
    media-fullscreen-button[mediafullscreenunavailable],
    media-cast-button[mediacastunavailable],
    media-pip-button[mediapipunavailable] {
      display: none;
    }
  </style>
`;class GS extends ct.HTMLElement{constructor(){super(),zm(this,ZL),zm(this,X0),zm(this,Jh,void 0),zm(this,Y0,void 0),zm(this,ep,void 0),this.shadowRoot?this.renderRoot=this.shadowRoot:(this.renderRoot=this.attachShadow({mode:"open"}),this.createRenderer());const e=new MutationObserver(n=>{var r;this.mediaController&&!((r=this.mediaController)!=null&&r.breakpointsComputed)||n.some(i=>{const o=i.target;return o===this?!0:o.localName!=="media-controller"?!1:!!(aC[i.attributeName]||i.attributeName.startsWith("breakpoint"))})&&this.render()});e.observe(this,{attributes:!0}),e.observe(this.renderRoot,{attributes:!0,subtree:!0}),this.addEventListener(Eu.BREAKPOINTS_COMPUTED,this.render),iC(this,ZL,Fne).call(this,"template")}get mediaController(){return this.renderRoot.querySelector("media-controller")}get template(){var e;return(e=QL(this,Jh))!=null?e:this.constructor.template}set template(e){if(e===null){this.removeAttribute("template");return}typeof e=="string"?this.setAttribute("template",e):e instanceof HTMLTemplateElement&&(Td(this,Jh,e),Td(this,ep,null),this.createRenderer())}get props(){var e,n,r;const i=[...Array.from((n=(e=this.mediaController)==null?void 0:e.attributes)!=null?n:[]).filter(({name:l})=>aC[l]||l.startsWith("breakpoint")),...Array.from(this.attributes)],o={};for(const l of i){const u=(r=aC[l.name])!=null?r:Q5e(l.name);let{value:c}=l;c!=null?(Ete(c)&&(c=parseFloat(c)),o[u]=c===""?!0:c):o[u]=!1}return o}attributeChangedCallback(e,n,r){e==="template"&&n!=r&&iC(this,X0,JL).call(this)}connectedCallback(){iC(this,X0,JL).call(this)}createRenderer(){this.template instanceof HTMLTemplateElement&&this.template!==QL(this,Y0)&&(Td(this,Y0,this.template),this.renderer=new HS(this.template,this.props,this.constructor.processor),this.renderRoot.textContent="",this.renderRoot.append(Une.content.cloneNode(!0),this.renderer))}render(){var e;(e=this.renderer)==null||e.update(this.props)}}Jh=new WeakMap;Y0=new WeakMap;ep=new WeakMap;ZL=new WeakSet;Fne=function(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}};X0=new WeakSet;JL=function(){var t;const e=this.getAttribute("template");if(!e||e===QL(this,ep))return;const n=this.getRootNode(),r=(t=n?.getElementById)==null?void 0:t.call(n,e);if(r){Td(this,ep,e),Td(this,Jh,r),this.createRenderer();return}W6e(e)&&(Td(this,ep,e),Y6e(e).then(i=>{const o=Qi.createElement("template");o.innerHTML=i,Td(this,Jh,o),this.createRenderer()}).catch(console.error))};GS.observedAttributes=["template"];GS.processor=C2;function W6e(t){if(!/^(\/|\.\/|https?:\/\/)/.test(t))return!1;const e=/^https?:\/\//.test(t)?void 0:location.origin;try{new URL(t,e)}catch{return!1}return!0}async function Y6e(t){const e=await fetch(t);if(e.status!==200)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);return e.text()}ct.customElements.get("media-theme")||ct.customElements.define("media-theme",GS);function X6e({anchor:t,floating:e,placement:n}){const r=Q6e({anchor:t,floating:e}),{x:i,y:o}=J6e(r,n);return{x:i,y:o}}function Q6e({anchor:t,floating:e}){return{anchor:Z6e(t,e.offsetParent),floating:{x:0,y:0,width:e.offsetWidth,height:e.offsetHeight}}}function Z6e(t,e){var n;const r=t.getBoundingClientRect(),i=(n=e?.getBoundingClientRect())!=null?n:{x:0,y:0};return{x:r.x-i.x,y:r.y-i.y,width:r.width,height:r.height}}function J6e({anchor:t,floating:e},n){const r=eqe(n)==="x"?"y":"x",i=r==="y"?"height":"width",o=Bne(n),l=t.x+t.width/2-e.width/2,u=t.y+t.height/2-e.height/2,c=t[i]/2-e[i]/2;let d;switch(o){case"top":d={x:l,y:t.y-e.height};break;case"bottom":d={x:l,y:t.y+t.height};break;case"right":d={x:t.x+t.width,y:u};break;case"left":d={x:t.x-e.width,y:u};break;default:d={x:t.x,y:t.y}}switch(n.split("-")[1]){case"start":d[r]-=c;break;case"end":d[r]+=c;break}return d}function Bne(t){return t.split("-")[0]}function eqe(t){return["top","bottom"].includes(Bne(t))?"y":"x"}class L2 extends Event{constructor({action:e="auto",relatedTarget:n,...r}){super("invoke",r),this.action=e,this.relatedTarget=n}}class tqe extends Event{constructor({newState:e,oldState:n,...r}){super("toggle",r),this.newState=e,this.oldState=n}}var P2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Br=(t,e,n)=>(P2(t,e,"read from private field"),n?n.call(t):e.get(t)),ti=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gl=(t,e,n,r)=>(P2(t,e,"write to private field"),e.set(t,n),n),ni=(t,e,n)=>(P2(t,e,"access private method"),n),yl,Ld,xc,Q0,Z0,Pd,zy,eP,zne,mT,O2,gT,J0,tP,nP,$ne,rP,qne,iP,jne,tp,np,rp,$y,yT,M2,aP,Hne,N2,Gne,sP,Vne,F2,Kne,oP,Wne,lP,Yne,Kg,bT,uP,Xne,Wg,vT,eE,cP;function Tp({type:t,text:e,value:n,checked:r}){const i=Qi.createElement("media-chrome-menu-item");i.type=t,i.part.add("menu-item"),i.part.add(t),i.value=n,i.checked=r;const o=Qi.createElement("span");return o.textContent=e,i.append(o),i}function Od(t,e){let n=t.querySelector(`:scope > [slot="${e}"]`);if(n?.nodeName=="SLOT"&&(n=n.assignedElements({flatten:!0})[0]),n)return n=n.cloneNode(!0),n;const r=t.shadowRoot.querySelector(`[name="${e}"] > svg`);return r?r.cloneNode(!0):""}function nqe(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-menu-background, var(--media-control-background, var(--media-secondary-color, var(--_menu-bg))));
        border-radius: var(--media-menu-border-radius);
        border: var(--media-menu-border, none);
        display: var(--media-menu-display, inline-flex) !important;
        
        transition: var(--media-menu-transition-in,
          visibility 0s,
          opacity .2s ease-out,
          transform .15s ease-out,
          left .2s ease-in-out,
          min-width .2s ease-in-out,
          min-height .2s ease-in-out
        ) !important;
        
        visibility: var(--media-menu-visibility, visible);
        opacity: var(--media-menu-opacity, 1);
        max-height: var(--media-menu-max-height, var(--_menu-max-height, 300px));
        transform: var(--media-menu-transform-in, translateY(0) scale(1));
        flex-direction: column;
        
        min-height: 0;
        position: relative;
        bottom: var(--_menu-bottom);
        box-sizing: border-box;
      } 

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([hidden]) {
        transition: var(--media-menu-transition-out,
          visibility .15s ease-in,
          opacity .15s ease-in,
          transform .15s ease-in
        ) !important;
        visibility: var(--media-menu-hidden-visibility, hidden);
        opacity: var(--media-menu-hidden-opacity, 0);
        max-height: var(--media-menu-hidden-max-height,
          var(--media-menu-max-height, var(--_menu-max-height, 300px)));
        transform: var(--media-menu-transform-out, translateY(2px) scale(.99));
        pointer-events: none;
      }

      :host([slot="submenu"]) {
        background: none;
        width: 100%;
        min-height: 100%;
        position: absolute;
        bottom: 0;
        right: -100%;
      }

      #container {
        display: flex;
        flex-direction: column;
        min-height: 0;
        transition: transform .2s ease-out;
        transform: translate(0, 0);
      }

      #container.has-expanded {
        transition: transform .2s ease-in;
        transform: translate(-100%, 0);
      }

      button {
        background: none;
        color: inherit;
        border: none;
        padding: 0;
        font: inherit;
        outline: inherit;
        display: inline-flex;
        align-items: center;
      }

      slot[name="header"][hidden] {
        display: none;
      }

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .7em;
        border-bottom: 1px solid rgb(255 255 255 / .25);
        cursor: var(--media-cursor, default);
      }

      slot[name="header"] > button[part~="back"],
      slot[name="header"]::slotted(button[part~="back"]) {
        cursor: var(--media-cursor, pointer);
      }

      svg[part~="back"] {
        height: var(--media-menu-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
        margin-right: .5ch;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap);
        flex-direction: var(--media-menu-flex-direction, column);
        overflow: var(--media-menu-overflow, hidden auto);
        display: flex;
        min-height: 0;
      }

      :host([role="menu"]) slot:not([name]) {
        padding-block: .4em;
      }

      slot:not([name])::slotted([role="menu"]) {
        background: none;
      }

      media-chrome-menu-item > span {
        margin-right: .5ch;
        max-width: var(--media-menu-item-max-width);
        text-overflow: ellipsis;
        overflow: hidden;
      }
    </style>
    <style id="layout-row" media="width:0">

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .5em;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap, .25em);
        flex-direction: var(--media-menu-flex-direction, row);
        padding-inline: .5em;
      }

      media-chrome-menu-item {
        padding: .3em .5em;
      }

      media-chrome-menu-item[aria-checked="true"] {
        background: var(--media-menu-item-checked-background, rgb(255 255 255 / .2));
      }

      
      media-chrome-menu-item::part(checked-indicator) {
        display: var(--media-menu-item-checked-indicator-display, none);
      }
    </style>
    <div id="container" part="container">
      <slot name="header" hidden>
        <button part="back button" aria-label="Back to previous menu">
          <slot name="back-icon">
            <svg aria-hidden="true" viewBox="0 0 20 24" part="back indicator">
              <path d="m11.88 17.585.742-.669-4.2-4.665 4.2-4.666-.743-.669-4.803 5.335 4.803 5.334Z"/>
            </svg>
          </slot>
          <slot name="title"></slot>
        </button>
      </slot>
      <slot></slot>
    </div>
    <slot name="checked-indicator" hidden></slot>
  `}const Wc={STYLE:"style",HIDDEN:"hidden",DISABLED:"disabled",ANCHOR:"anchor"};class po extends ct.HTMLElement{constructor(){if(super(),ti(this,eP),ti(this,mT),ti(this,J0),ti(this,nP),ti(this,rP),ti(this,iP),ti(this,rp),ti(this,yT),ti(this,aP),ti(this,N2),ti(this,sP),ti(this,F2),ti(this,oP),ti(this,lP),ti(this,Kg),ti(this,uP),ti(this,Wg),ti(this,eE),ti(this,yl,null),ti(this,Ld,null),ti(this,xc,null),ti(this,Q0,new Set),ti(this,Z0,void 0),ti(this,Pd,!1),ti(this,zy,null),ti(this,gT,()=>{const e=Br(this,Q0),n=new Set(this.items);for(const r of e)n.has(r)||this.dispatchEvent(new CustomEvent("removemenuitem",{detail:r}));for(const r of n)e.has(r)||this.dispatchEvent(new CustomEvent("addmenuitem",{detail:r}));gl(this,Q0,n)}),ti(this,tp,()=>{ni(this,rp,$y).call(this),ni(this,yT,M2).call(this,!1)}),ti(this,np,()=>{ni(this,rp,$y).call(this)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.container=this.shadowRoot.querySelector("#container"),this.defaultSlot=this.shadowRoot.querySelector("slot:not([name])"),this.shadowRoot.addEventListener("slotchange",this),gl(this,Z0,new MutationObserver(Br(this,gT))),Br(this,Z0).observe(this.defaultSlot,{childList:!0})}static get observedAttributes(){return[Wc.DISABLED,Wc.HIDDEN,Wc.STYLE,Wc.ANCHOR,zr.MEDIA_CONTROLLER]}static formatMenuItemText(e,n){return e}enable(){this.addEventListener("click",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this),this.addEventListener("invoke",this),this.addEventListener("toggle",this)}disable(){this.removeEventListener("click",this),this.removeEventListener("focusout",this),this.removeEventListener("keyup",this),this.removeEventListener("invoke",this),this.removeEventListener("toggle",this)}handleEvent(e){switch(e.type){case"slotchange":ni(this,eP,zne).call(this,e);break;case"invoke":ni(this,nP,$ne).call(this,e);break;case"click":ni(this,aP,Hne).call(this,e);break;case"toggle":ni(this,sP,Vne).call(this,e);break;case"focusout":ni(this,oP,Wne).call(this,e);break;case"keydown":ni(this,lP,Yne).call(this,e);break}}connectedCallback(){var e,n;gl(this,zy,QN(this.shadowRoot,":host")),ni(this,J0,tP).call(this),this.hasAttribute("disabled")||this.enable(),this.role||(this.role="menu"),gl(this,yl,wL(this)),(n=(e=Br(this,yl))==null?void 0:e.associateElement)==null||n.call(e,this),this.hidden||(vp(qy(this),Br(this,tp)),vp(this,Br(this,np))),ni(this,mT,O2).call(this)}disconnectedCallback(){var e,n;Ep(qy(this),Br(this,tp)),Ep(this,Br(this,np)),this.disable(),(n=(e=Br(this,yl))==null?void 0:e.unassociateElement)==null||n.call(e,this),gl(this,yl,null)}attributeChangedCallback(e,n,r){var i,o,l,u;e===Wc.HIDDEN&&r!==n?(Br(this,Pd)||gl(this,Pd,!0),this.hidden?ni(this,iP,jne).call(this):ni(this,rP,qne).call(this),this.dispatchEvent(new tqe({oldState:this.hidden?"open":"closed",newState:this.hidden?"closed":"open",bubbles:!0}))):e===zr.MEDIA_CONTROLLER?(n&&((o=(i=Br(this,yl))==null?void 0:i.unassociateElement)==null||o.call(i,this),gl(this,yl,null)),r&&this.isConnected&&(gl(this,yl,wL(this)),(u=(l=Br(this,yl))==null?void 0:l.associateElement)==null||u.call(l,this))):e===Wc.DISABLED&&r!==n?r==null?this.enable():this.disable():e===Wc.STYLE&&r!==n&&ni(this,J0,tP).call(this)}formatMenuItemText(e,n){return this.constructor.formatMenuItemText(e,n)}get anchor(){return this.getAttribute("anchor")}set anchor(e){this.setAttribute("anchor",`${e}`)}get anchorElement(){var e;return this.anchor?(e=PS(this))==null?void 0:e.querySelector(`#${this.anchor}`):null}get items(){return this.defaultSlot.assignedElements({flatten:!0}).filter(rqe)}get radioGroupItems(){return this.items.filter(e=>e.role==="menuitemradio")}get checkedItems(){return this.items.filter(e=>e.checked)}get value(){var e,n;return(n=(e=this.checkedItems[0])==null?void 0:e.value)!=null?n:""}set value(e){const n=this.items.find(r=>r.value===e);n&&ni(this,eE,cP).call(this,n)}focus(){if(gl(this,Ld,XN()),this.items.length){ni(this,Wg,vT).call(this,this.items[0]),this.items[0].focus();return}const e=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');e?.focus()}handleSelect(e){var n;const r=ni(this,Kg,bT).call(this,e);r&&(ni(this,eE,cP).call(this,r,r.type==="checkbox"),Br(this,xc)&&!this.hidden&&((n=Br(this,Ld))==null||n.focus(),this.hidden=!0))}get keysUsed(){return["Enter","Escape","Tab"," ","ArrowDown","ArrowUp","Home","End"]}handleMove(e){var n,r;const{key:i}=e,o=this.items,l=(r=(n=ni(this,Kg,bT).call(this,e))!=null?n:ni(this,uP,Xne).call(this))!=null?r:o[0],u=o.indexOf(l);let c=Math.max(0,u);i==="ArrowDown"?c++:i==="ArrowUp"?c--:e.key==="Home"?c=0:e.key==="End"&&(c=o.length-1),c<0&&(c=o.length-1),c>o.length-1&&(c=0),ni(this,Wg,vT).call(this,o[c]),o[c].focus()}}yl=new WeakMap;Ld=new WeakMap;xc=new WeakMap;Q0=new WeakMap;Z0=new WeakMap;Pd=new WeakMap;zy=new WeakMap;eP=new WeakSet;zne=function(t){const e=t.target;for(const n of e.assignedNodes({flatten:!0}))n.nodeType===3&&n.textContent.trim()===""&&n.remove();["header","title"].includes(e.name)&&ni(this,mT,O2).call(this),e.name||Br(this,gT).call(this)};mT=new WeakSet;O2=function(){const t=this.shadowRoot.querySelector('slot[name="header"]'),e=this.shadowRoot.querySelector('slot[name="title"]');t.hidden=e.assignedNodes().length===0&&t.assignedNodes().length===0};gT=new WeakMap;J0=new WeakSet;tP=function(){var t;const e=this.shadowRoot.querySelector("#layout-row"),n=(t=getComputedStyle(this).getPropertyValue("--media-menu-layout"))==null?void 0:t.trim();e.setAttribute("media",n==="row"?"":"width:0")};nP=new WeakSet;$ne=function(t){gl(this,xc,t.relatedTarget),xu(this,t.relatedTarget)||(this.hidden=!this.hidden)};rP=new WeakSet;qne=function(){var t;(t=Br(this,xc))==null||t.setAttribute("aria-expanded","true"),this.addEventListener("transitionend",()=>this.focus(),{once:!0}),vp(qy(this),Br(this,tp)),vp(this,Br(this,np))};iP=new WeakSet;jne=function(){var t;(t=Br(this,xc))==null||t.setAttribute("aria-expanded","false"),Ep(qy(this),Br(this,tp)),Ep(this,Br(this,np))};tp=new WeakMap;np=new WeakMap;rp=new WeakSet;$y=function(t){if(this.hasAttribute("mediacontroller")&&!this.anchor||this.hidden||!this.anchorElement)return;const{x:e,y:n}=X6e({anchor:this.anchorElement,floating:this,placement:"top-start"});t??(t=this.offsetWidth);const i=qy(this).getBoundingClientRect(),o=i.width-e-t,l=i.height-n-this.offsetHeight,{style:u}=Br(this,zy);u.setProperty("position","absolute"),u.setProperty("right",`${Math.max(0,o)}px`),u.setProperty("--_menu-bottom",`${l}px`);const c=getComputedStyle(this),h=u.getPropertyValue("--_menu-bottom")===c.bottom?l:parseFloat(c.bottom),f=i.height-h-parseFloat(c.marginBottom);this.style.setProperty("--_menu-max-height",`${f}px`)};yT=new WeakSet;M2=function(t){const e=this.querySelector('[role="menuitem"][aria-haspopup][aria-expanded="true"]'),n=e?.querySelector('[role="menu"]'),{style:r}=Br(this,zy);if(t||r.setProperty("--media-menu-transition-in","none"),n){const i=n.offsetHeight,o=Math.max(n.offsetWidth,e.offsetWidth);this.style.setProperty("min-width",`${o}px`),this.style.setProperty("min-height",`${i}px`),ni(this,rp,$y).call(this,o)}else this.style.removeProperty("min-width"),this.style.removeProperty("min-height"),ni(this,rp,$y).call(this);r.removeProperty("--media-menu-transition-in")};aP=new WeakSet;Hne=function(t){var e;if(t.stopPropagation(),t.composedPath().includes(Br(this,N2,Gne))){(e=Br(this,Ld))==null||e.focus(),this.hidden=!0;return}const n=ni(this,Kg,bT).call(this,t);!n||n.hasAttribute("disabled")||(ni(this,Wg,vT).call(this,n),this.handleSelect(t))};N2=new WeakSet;Gne=function(){var t;return(t=this.shadowRoot.querySelector('slot[name="header"]').assignedElements({flatten:!0}))==null?void 0:t.find(n=>n.matches('button[part~="back"]'))};sP=new WeakSet;Vne=function(t){if(t.target===this)return;ni(this,F2,Kne).call(this);const e=Array.from(this.querySelectorAll('[role="menuitem"][aria-haspopup]'));for(const n of e)n.invokeTargetElement!=t.target&&t.newState=="open"&&n.getAttribute("aria-expanded")=="true"&&!n.invokeTargetElement.hidden&&n.invokeTargetElement.dispatchEvent(new L2({relatedTarget:n}));for(const n of e)n.setAttribute("aria-expanded",`${!n.submenuElement.hidden}`);ni(this,yT,M2).call(this,!0)};F2=new WeakSet;Kne=function(){const e=this.querySelector('[role="menuitem"] > [role="menu"]:not([hidden])');this.container.classList.toggle("has-expanded",!!e)};oP=new WeakSet;Wne=function(t){var e;xu(this,t.relatedTarget)||(Br(this,Pd)&&((e=Br(this,Ld))==null||e.focus()),Br(this,xc)&&Br(this,xc)!==t.relatedTarget&&!this.hidden&&(this.hidden=!0))};lP=new WeakSet;Yne=function(t){var e,n,r,i,o;const{key:l,ctrlKey:u,altKey:c,metaKey:d}=t;if(!(u||c||d)&&this.keysUsed.includes(l))if(t.preventDefault(),t.stopPropagation(),l==="Tab"){if(Br(this,Pd)){this.hidden=!0;return}t.shiftKey?(n=(e=this.previousElementSibling)==null?void 0:e.focus)==null||n.call(e):(i=(r=this.nextElementSibling)==null?void 0:r.focus)==null||i.call(r),this.blur()}else l==="Escape"?((o=Br(this,Ld))==null||o.focus(),Br(this,Pd)&&(this.hidden=!0)):l==="Enter"||l===" "?this.handleSelect(t):this.handleMove(t)};Kg=new WeakSet;bT=function(t){return t.composedPath().find(e=>["menuitemradio","menuitemcheckbox"].includes(e.role))};uP=new WeakSet;Xne=function(){return this.items.find(t=>t.tabIndex===0)};Wg=new WeakSet;vT=function(t){for(const e of this.items)e.tabIndex=e===t?0:-1};eE=new WeakSet;cP=function(t,e){const n=[...this.checkedItems];t.type==="radio"&&this.radioGroupItems.forEach(r=>r.checked=!1),e?t.checked=!t.checked:t.checked=!0,this.checkedItems.some((r,i)=>r!=n[i])&&this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};po.shadowRootOptions={mode:"open"};po.getTemplateHTML=nqe;function rqe(t){return["menuitem","menuitemradio","menuitemcheckbox"].includes(t?.role)}function qy(t){var e;return(e=t.getAttribute("bounds")?Bp(t,`#${t.getAttribute("bounds")}`):ls(t)||t.parentElement)!=null?e:t}ct.customElements.get("media-chrome-menu")||ct.customElements.define("media-chrome-menu",po);var U2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Dl=(t,e,n)=>(U2(t,e,"read from private field"),n?n.call(t):e.get(t)),eu=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},sC=(t,e,n,r)=>(U2(t,e,"write to private field"),e.set(t,n),n),Fo=(t,e,n)=>(U2(t,e,"access private method"),n),tE,Yg,dP,Qne,ET,B2,z2,Zne,Ll,Sp,jy,fP,Jne,nE,hP;function iqe(t){return`
    <style>
      :host {
        transition: var(--media-menu-item-transition,
          background .15s linear,
          opacity .2s ease-in-out
        );
        outline: var(--media-menu-item-outline, 0);
        outline-offset: var(--media-menu-item-outline-offset, -1px);
        cursor: var(--media-cursor, pointer);
        display: flex;
        align-items: center;
        align-self: stretch;
        justify-self: stretch;
        white-space: nowrap;
        white-space-collapse: collapse;
        text-wrap: nowrap;
        padding: .4em .8em .4em 1em;
      }

      :host(:focus-visible) {
        box-shadow: var(--media-menu-item-focus-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: var(--media-menu-item-hover-outline, 0);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host(:hover) {
        cursor: var(--media-cursor, pointer);
        background: var(--media-menu-item-hover-background, rgb(92 92 102 / .5));
        outline: var(--media-menu-item-hover-outline);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host([aria-checked="true"]) {
        background: var(--media-menu-item-checked-background);
      }

      :host([hidden]) {
        display: none;
      }

      :host([disabled]) {
        pointer-events: none;
        color: rgba(255, 255, 255, .3);
      }

      slot:not([name]) {
        width: 100%;
      }

      slot:not([name="submenu"]) {
        display: inline-flex;
        align-items: center;
        transition: inherit;
        opacity: var(--media-menu-item-opacity, 1);
      }

      slot[name="description"] {
        justify-content: end;
      }

      slot[name="description"] > span {
        display: inline-block;
        margin-inline: 1em .2em;
        max-width: var(--media-menu-item-description-max-width, 100px);
        text-overflow: ellipsis;
        overflow: hidden;
        font-size: .8em;
        font-weight: 400;
        text-align: right;
        position: relative;
        top: .04em;
      }

      slot[name="checked-indicator"] {
        display: none;
      }

      :host(:is([role="menuitemradio"],[role="menuitemcheckbox"])) slot[name="checked-indicator"] {
        display: var(--media-menu-item-checked-indicator-display, inline-block);
      }

      
      svg, img, ::slotted(svg), ::slotted(img) {
        height: var(--media-menu-item-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
      }

      
      [part~="indicator"],
      ::slotted([part~="indicator"]) {
        fill: var(--media-menu-item-indicator-fill,
          var(--media-icon-color, var(--media-primary-color, rgb(238 238 238))));
        height: var(--media-menu-item-indicator-height, 1.25em);
        margin-right: .5ch;
      }

      [part~="checked-indicator"] {
        visibility: hidden;
      }

      :host([aria-checked="true"]) [part~="checked-indicator"] {
        visibility: visible;
      }
    </style>
    <slot name="checked-indicator">
      <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
        <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
      </svg>
    </slot>
    <slot name="prefix"></slot>
    <slot></slot>
    <slot name="description"></slot>
    <slot name="suffix">
      ${this.getSuffixSlotInnerHTML(t)}
    </slot>
    <slot name="submenu"></slot>
  `}function aqe(t){return""}const Hs={TYPE:"type",VALUE:"value",CHECKED:"checked",DISABLED:"disabled"};class Mc extends ct.HTMLElement{constructor(){if(super(),eu(this,dP),eu(this,ET),eu(this,z2),eu(this,Sp),eu(this,fP),eu(this,nE),eu(this,tE,!1),eu(this,Yg,void 0),eu(this,Ll,()=>{var e,n;this.submenuElement.items&&this.setAttribute("submenusize",`${this.submenuElement.items.length}`);const r=this.shadowRoot.querySelector('slot[name="description"]'),i=(e=this.submenuElement.checkedItems)==null?void 0:e[0],o=(n=i?.dataset.description)!=null?n:i?.text,l=Qi.createElement("span");l.textContent=o??"",r.replaceChildren(l)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=Ps(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.shadowRoot.addEventListener("slotchange",this)}static get observedAttributes(){return[Hs.TYPE,Hs.DISABLED,Hs.CHECKED,Hs.VALUE]}enable(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),$m(this)&&!this.hasAttribute("aria-checked")&&this.setAttribute("aria-checked","false"),this.addEventListener("click",this),this.addEventListener("keydown",this)}disable(){this.removeAttribute("tabindex"),this.removeEventListener("click",this),this.removeEventListener("keydown",this),this.removeEventListener("keyup",this)}handleEvent(e){switch(e.type){case"slotchange":Fo(this,dP,Qne).call(this,e);break;case"click":this.handleClick(e);break;case"keydown":Fo(this,fP,Jne).call(this,e);break;case"keyup":Fo(this,Sp,jy).call(this,e);break}}attributeChangedCallback(e,n,r){e===Hs.CHECKED&&$m(this)&&!Dl(this,tE)?this.setAttribute("aria-checked",r!=null?"true":"false"):e===Hs.TYPE&&r!==n?this.role="menuitem"+r:e===Hs.DISABLED&&r!==n&&(r==null?this.enable():this.disable())}connectedCallback(){this.hasAttribute(Hs.DISABLED)||this.enable(),this.role="menuitem"+this.type,sC(this,Yg,pP(this,this.parentNode)),Fo(this,nE,hP).call(this),this.submenuElement&&Fo(this,ET,B2).call(this)}disconnectedCallback(){this.disable(),Fo(this,nE,hP).call(this),sC(this,Yg,null)}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=PS(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):this.submenuElement}get submenuElement(){return this.shadowRoot.querySelector('slot[name="submenu"]').assignedElements({flatten:!0})[0]}get type(){var e;return(e=this.getAttribute(Hs.TYPE))!=null?e:""}set type(e){this.setAttribute(Hs.TYPE,`${e}`)}get value(){var e;return(e=this.getAttribute(Hs.VALUE))!=null?e:this.text}set value(e){this.setAttribute(Hs.VALUE,e)}get text(){var e;return((e=this.textContent)!=null?e:"").trim()}get checked(){if($m(this))return this.getAttribute("aria-checked")==="true"}set checked(e){$m(this)&&(sC(this,tE,!0),this.setAttribute("aria-checked",e?"true":"false"),e?this.part.add("checked"):this.part.remove("checked"))}handleClick(e){$m(this)||this.invokeTargetElement&&xu(this,e.target)&&this.invokeTargetElement.dispatchEvent(new L2({relatedTarget:this}))}get keysUsed(){return["Enter"," "]}}tE=new WeakMap;Yg=new WeakMap;dP=new WeakSet;Qne=function(t){const e=t.target;if(!e?.name)for(const r of e.assignedNodes({flatten:!0}))r instanceof Text&&r.textContent.trim()===""&&r.remove();e.name==="submenu"&&(this.submenuElement?Fo(this,ET,B2).call(this):Fo(this,z2,Zne).call(this))};ET=new WeakSet;B2=async function(){this.setAttribute("aria-haspopup","menu"),this.setAttribute("aria-expanded",`${!this.submenuElement.hidden}`),this.submenuElement.addEventListener("change",Dl(this,Ll)),this.submenuElement.addEventListener("addmenuitem",Dl(this,Ll)),this.submenuElement.addEventListener("removemenuitem",Dl(this,Ll)),Dl(this,Ll).call(this)};z2=new WeakSet;Zne=function(){this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.submenuElement.removeEventListener("change",Dl(this,Ll)),this.submenuElement.removeEventListener("addmenuitem",Dl(this,Ll)),this.submenuElement.removeEventListener("removemenuitem",Dl(this,Ll)),Dl(this,Ll).call(this)};Ll=new WeakMap;Sp=new WeakSet;jy=function(t){const{key:e}=t;if(!this.keysUsed.includes(e)){this.removeEventListener("keyup",Fo(this,Sp,jy));return}this.handleClick(t)};fP=new WeakSet;Jne=function(t){const{metaKey:e,altKey:n,key:r}=t;if(e||n||!this.keysUsed.includes(r)){this.removeEventListener("keyup",Fo(this,Sp,jy));return}this.addEventListener("keyup",Fo(this,Sp,jy),{once:!0})};nE=new WeakSet;hP=function(){var t;const e=(t=Dl(this,Yg))==null?void 0:t.radioGroupItems;if(!e)return;let n=e.filter(r=>r.getAttribute("aria-checked")==="true").pop();n||(n=e[0]);for(const r of e)r.setAttribute("aria-checked","false");n?.setAttribute("aria-checked","true")};Mc.shadowRootOptions={mode:"open"};Mc.getTemplateHTML=iqe;Mc.getSuffixSlotInnerHTML=aqe;function $m(t){return t.type==="radio"||t.type==="checkbox"}function pP(t,e){if(!t)return null;const{host:n}=t.getRootNode();return!e&&n?pP(t,n):e?.items?e:pP(e,e?.parentNode)}ct.customElements.get("media-chrome-menu-item")||ct.customElements.define("media-chrome-menu-item",Mc);function sqe(t){return`
    ${po.getTemplateHTML(t)}
    <style>
      :host {
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
        min-width: var(--media-settings-menu-min-width, 170px);
        border-radius: 2px 2px 0 0;
        overflow: hidden;
      }

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([role="menu"]) {
        
        justify-content: end;
      }

      slot:not([name]) {
        justify-content: var(--media-settings-menu-justify-content);
        flex-direction: var(--media-settings-menu-flex-direction, column);
        overflow: visible;
      }

      #container.has-expanded {
        --media-settings-menu-item-opacity: 0;
      }
    </style>
  `}class ere extends po{get anchorElement(){return this.anchor!=="auto"?super.anchorElement:ls(this).querySelector("media-settings-menu-button")}}ere.getTemplateHTML=sqe;ct.customElements.get("media-settings-menu")||ct.customElements.define("media-settings-menu",ere);function oqe(t){return`
    ${Mc.getTemplateHTML.call(this,t)}
    <style>
      slot:not([name="submenu"]) {
        opacity: var(--media-settings-menu-item-opacity, var(--media-menu-item-opacity));
      }

      :host([aria-expanded="true"]:hover) {
        background: transparent;
      }
    </style>
  `}function lqe(t){return`
    <svg aria-hidden="true" viewBox="0 0 20 24">
      <path d="m8.12 17.585-.742-.669 4.2-4.665-4.2-4.666.743-.669 4.803 5.335-4.803 5.334Z"/>
    </svg>
  `}class VS extends Mc{}VS.shadowRootOptions={mode:"open"};VS.getTemplateHTML=oqe;VS.getSuffixSlotInnerHTML=lqe;ct.customElements.get("media-settings-menu-item")||ct.customElements.define("media-settings-menu-item",VS);class jp extends Ea{connectedCallback(){super.connectedCallback(),this.invokeTargetElement&&this.setAttribute("aria-haspopup","menu")}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=PS(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):null}handleClick(){var e;(e=this.invokeTargetElement)==null||e.dispatchEvent(new L2({relatedTarget:this}))}}ct.customElements.get("media-chrome-menu-button")||ct.customElements.define("media-chrome-menu-button",jp);function uqe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">
      <svg aria-hidden="true" viewBox="0 0 24 24">
        <path d="M4.5 14.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
      </svg>
    </slot>
  `}function cqe(){return Mn("Settings")}class $2 extends jp{static get observedAttributes(){return[...super.observedAttributes,"target"]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Mn("settings"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:ls(this).querySelector("media-settings-menu")}}$2.getSlotTemplateHTML=uqe;$2.getTooltipContentHTML=cqe;ct.customElements.get("media-settings-menu-button")||ct.customElements.define("media-settings-menu-button",$2);var q2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},tre=(t,e,n)=>(q2(t,e,"read from private field"),n?n.call(t):e.get(t)),Hv=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},mP=(t,e,n,r)=>(q2(t,e,"write to private field"),e.set(t,n),n),Gv=(t,e,n)=>(q2(t,e,"access private method"),n),bg,_T,rE,gP,iE,yP;class dqe extends po{constructor(){super(...arguments),Hv(this,rE),Hv(this,iE),Hv(this,bg,[]),Hv(this,_T,void 0)}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_AUDIO_TRACK_LIST,qe.MEDIA_AUDIO_TRACK_ENABLED,qe.MEDIA_AUDIO_TRACK_UNAVAILABLE]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_AUDIO_TRACK_ENABLED&&n!==r?this.value=r:e===qe.MEDIA_AUDIO_TRACK_LIST&&n!==r&&(mP(this,bg,W5e(r??"")),Gv(this,rE,gP).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Gv(this,iE,yP))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Gv(this,iE,yP))}get anchorElement(){var e;return this.anchor!=="auto"?super.anchorElement:(e=ls(this))==null?void 0:e.querySelector("media-audio-track-menu-button")}get mediaAudioTrackList(){return tre(this,bg)}set mediaAudioTrackList(e){mP(this,bg,e),Gv(this,rE,gP).call(this)}get mediaAudioTrackEnabled(){var e;return(e=mi(this,qe.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){gi(this,qe.MEDIA_AUDIO_TRACK_ENABLED,e)}}bg=new WeakMap;_T=new WeakMap;rE=new WeakSet;gP=function(){if(tre(this,_T)===JSON.stringify(this.mediaAudioTrackList))return;mP(this,_T,JSON.stringify(this.mediaAudioTrackList));const t=this.mediaAudioTrackList;this.defaultSlot.textContent="",t.sort((e,n)=>e.id.localeCompare(n.id,void 0,{numeric:!0}));for(const e of t){const n=this.formatMenuItemText(e.label,e),r=Tp({type:"radio",text:n,value:`${e.id}`,checked:e.enabled});r.prepend(Od(this,"checked-indicator")),this.defaultSlot.append(r)}};iE=new WeakSet;yP=function(){if(this.value==null)return;const t=new ct.CustomEvent(wn.MEDIA_AUDIO_TRACK_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};ct.customElements.get("media-audio-track-menu")||ct.customElements.define("media-audio-track-menu",dqe);const fqe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M11 17H9.5V7H11v10Zm-3-3H6.5v-4H8v4Zm6-5h-1.5v6H14V9Zm3 7h-1.5V8H17v8Z"/>
  <path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0Z"/>
</svg>`;function hqe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${fqe}</slot>
  `}function pqe(){return Mn("Audio")}const KG=t=>{const e=Mn("Audio");t.setAttribute("aria-label",e)};class j2 extends jp{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_AUDIO_TRACK_ENABLED,qe.MEDIA_AUDIO_TRACK_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),KG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_LANG&&KG(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=ls(this))==null?void 0:e.querySelector("media-audio-track-menu")}get mediaAudioTrackEnabled(){var e;return(e=mi(this,qe.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){gi(this,qe.MEDIA_AUDIO_TRACK_ENABLED,e)}}j2.getSlotTemplateHTML=hqe;j2.getTooltipContentHTML=pqe;ct.customElements.get("media-audio-track-menu-button")||ct.customElements.define("media-audio-track-menu-button",j2);var H2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},mqe=(t,e,n)=>(H2(t,e,"read from private field"),e.get(t)),oC=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},gqe=(t,e,n,r)=>(H2(t,e,"write to private field"),e.set(t,n),n),Vv=(t,e,n)=>(H2(t,e,"access private method"),n),TT,aE,bP,sE,vP;const yqe=`
  <svg aria-hidden="true" viewBox="0 0 26 24" part="captions-indicator indicator">
    <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
  </svg>`;function bqe(t){return`
    ${po.getTemplateHTML(t)}
    <slot name="captions-indicator" hidden>${yqe}</slot>
  `}class nre extends po{constructor(){super(...arguments),oC(this,aE),oC(this,sE),oC(this,TT,void 0)}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_SUBTITLES_LIST,qe.MEDIA_SUBTITLES_SHOWING]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_SUBTITLES_LIST&&n!==r?Vv(this,aE,bP).call(this):e===qe.MEDIA_SUBTITLES_SHOWING&&n!==r&&(this.value=r||"",Vv(this,aE,bP).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Vv(this,sE,vP))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Vv(this,sE,vP))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:ls(this).querySelector("media-captions-menu-button")}get mediaSubtitlesList(){return WG(this,qe.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){YG(this,qe.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return WG(this,qe.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){YG(this,qe.MEDIA_SUBTITLES_SHOWING,e)}}TT=new WeakMap;aE=new WeakSet;bP=function(){var t;const e=mqe(this,TT)!==JSON.stringify(this.mediaSubtitlesList),n=this.value!==this.getAttribute(qe.MEDIA_SUBTITLES_SHOWING);if(!e&&!n)return;gqe(this,TT,JSON.stringify(this.mediaSubtitlesList)),this.defaultSlot.textContent="";const r=!this.value,i=Tp({type:"radio",text:this.formatMenuItemText(Mn("Off")),value:"off",checked:r});i.prepend(Od(this,"checked-indicator")),this.defaultSlot.append(i);const o=this.mediaSubtitlesList;for(const l of o){const u=Tp({type:"radio",text:this.formatMenuItemText(l.label,l),value:RL(l),checked:this.value==RL(l)});u.prepend(Od(this,"checked-indicator")),((t=l.kind)!=null?t:"subs")==="captions"&&u.append(Od(this,"captions-indicator")),this.defaultSlot.append(u)}};sE=new WeakSet;vP=function(){const t=this.mediaSubtitlesShowing,e=this.getAttribute(qe.MEDIA_SUBTITLES_SHOWING),n=this.value!==e;if(t?.length&&n&&this.dispatchEvent(new ct.CustomEvent(wn.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:t})),!this.value||!n)return;const r=new ct.CustomEvent(wn.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(r)};nre.getTemplateHTML=bqe;const WG=(t,e)=>{const n=t.getAttribute(e);return n?US(n):[]},YG=(t,e,n)=>{if(!n?.length){t.removeAttribute(e);return}const r=My(n);t.getAttribute(e)!==r&&t.setAttribute(e,r)};ct.customElements.get("media-captions-menu")||ct.customElements.define("media-captions-menu",nre);const vqe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,Eqe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function _qe(){return`
    <style>
      :host([data-captions-enabled="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([data-captions-enabled="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${vqe}</slot>
      <slot name="off">${Eqe}</slot>
    </slot>
  `}function Tqe(){return Mn("Captions")}const XG=t=>{t.setAttribute("data-captions-enabled",zte(t).toString())},QG=t=>{t.setAttribute("aria-label",Mn("closed captions"))};class G2 extends jp{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_SUBTITLES_LIST,qe.MEDIA_SUBTITLES_SHOWING,qe.MEDIA_LANG]}connectedCallback(){super.connectedCallback(),QG(this),XG(this)}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_SUBTITLES_SHOWING?XG(this):e===qe.MEDIA_LANG&&QG(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=ls(this))==null?void 0:e.querySelector("media-captions-menu")}get mediaSubtitlesList(){return ZG(this,qe.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){JG(this,qe.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return ZG(this,qe.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){JG(this,qe.MEDIA_SUBTITLES_SHOWING,e)}}G2.getSlotTemplateHTML=_qe;G2.getTooltipContentHTML=Tqe;const ZG=(t,e)=>{const n=t.getAttribute(e);return n?US(n):[]},JG=(t,e,n)=>{if(!n?.length){t.removeAttribute(e);return}const r=My(n);t.getAttribute(e)!==r&&t.setAttribute(e,r)};ct.customElements.get("media-captions-menu-button")||ct.customElements.define("media-captions-menu-button",G2);var rre=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Rh=(t,e,n)=>(rre(t,e,"read from private field"),n?n.call(t):e.get(t)),lC=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Bf=(t,e,n)=>(rre(t,e,"access private method"),n),uc,kh,vg,oE,EP;const uC={RATES:"rates"};class Sqe extends po{constructor(){super(),lC(this,kh),lC(this,oE),lC(this,uc,new e2(this,uC.RATES,{defaultValue:vne})),Bf(this,kh,vg).call(this)}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_PLAYBACK_RATE,uC.RATES]}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_PLAYBACK_RATE&&n!=r?(this.value=r,Bf(this,kh,vg).call(this)):e===uC.RATES&&n!=r&&(Rh(this,uc).value=r,Bf(this,kh,vg).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Bf(this,oE,EP))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Bf(this,oE,EP))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:ls(this).querySelector("media-playback-rate-menu-button")}get rates(){return Rh(this,uc)}set rates(e){e?Array.isArray(e)?Rh(this,uc).value=e.join(" "):typeof e=="string"&&(Rh(this,uc).value=e):Rh(this,uc).value="",Bf(this,kh,vg).call(this)}get mediaPlaybackRate(){return pi(this,qe.MEDIA_PLAYBACK_RATE,Bh)}set mediaPlaybackRate(e){Ui(this,qe.MEDIA_PLAYBACK_RATE,e)}}uc=new WeakMap;kh=new WeakSet;vg=function(){this.defaultSlot.textContent="";const t=this.mediaPlaybackRate,e=new Set(Array.from(Rh(this,uc)).map(r=>Number(r)));t>0&&!e.has(t)&&e.add(t);const n=Array.from(e).sort((r,i)=>r-i);for(const r of n){const i=Tp({type:"radio",text:this.formatMenuItemText(`${r}x`,r),value:r.toString(),checked:t===r});i.prepend(Od(this,"checked-indicator")),this.defaultSlot.append(i)}};oE=new WeakSet;EP=function(){if(!this.value)return;const t=new ct.CustomEvent(wn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};ct.customElements.get("media-playback-rate-menu")||ct.customElements.define("media-playback-rate-menu",Sqe);const lE=1;function wqe(t){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
      
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${t.mediaplaybackrate||lE}x</slot>
  `}function Aqe(){return Mn("Playback rate")}class V2 extends jp{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_PLAYBACK_RATE]}constructor(){var e;super(),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:lE}x`}attributeChangedCallback(e,n,r){if(super.attributeChangedCallback(e,n,r),e===qe.MEDIA_PLAYBACK_RATE){const i=r?+r:Number.NaN,o=Number.isNaN(i)?lE:i;this.container.innerHTML=`${o}x`,this.setAttribute("aria-label",Mn("Playback rate {playbackRate}",{playbackRate:o}))}}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:ls(this).querySelector("media-playback-rate-menu")}get mediaPlaybackRate(){return pi(this,qe.MEDIA_PLAYBACK_RATE,lE)}set mediaPlaybackRate(e){Ui(this,qe.MEDIA_PLAYBACK_RATE,e)}}V2.getSlotTemplateHTML=wqe;V2.getTooltipContentHTML=Aqe;ct.customElements.get("media-playback-rate-menu-button")||ct.customElements.define("media-playback-rate-menu-button",V2);var K2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Eg=(t,e,n)=>(K2(t,e,"read from private field"),n?n.call(t):e.get(t)),Kv=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},e7=(t,e,n,r)=>(K2(t,e,"write to private field"),e.set(t,n),n),zf=(t,e,n)=>(K2(t,e,"access private method"),n),_g,zh,Ch,Tg,uE,_P;class Iqe extends po{constructor(){super(...arguments),Kv(this,Ch),Kv(this,uE),Kv(this,_g,[]),Kv(this,zh,{})}static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_RENDITION_LIST,qe.MEDIA_RENDITION_SELECTED,qe.MEDIA_RENDITION_UNAVAILABLE,qe.MEDIA_HEIGHT]}static formatMenuItemText(e,n){return super.formatMenuItemText(e,n)}static formatRendition(e,{showBitrate:n=!1}={}){const r=`${Math.min(e.width,e.height)}p`;if(n&&e.bitrate){const i=e.bitrate/1e6,o=`${i.toFixed(i<1?1:0)} Mbps`;return`${r} (${o})`}return this.formatMenuItemText(r,e)}static compareRendition(e,n){var r,i;return n.height===e.height?((r=n.bitrate)!=null?r:0)-((i=e.bitrate)!=null?i:0):n.height-e.height}attributeChangedCallback(e,n,r){super.attributeChangedCallback(e,n,r),e===qe.MEDIA_RENDITION_SELECTED&&n!==r?(this.value=r??"auto",zf(this,Ch,Tg).call(this)):e===qe.MEDIA_RENDITION_LIST&&n!==r?(e7(this,_g,H5e(r)),zf(this,Ch,Tg).call(this)):e===qe.MEDIA_HEIGHT&&n!==r&&zf(this,Ch,Tg).call(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("change",zf(this,uE,_P))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",zf(this,uE,_P))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:ls(this).querySelector("media-rendition-menu-button")}get mediaRenditionList(){return Eg(this,_g)}set mediaRenditionList(e){e7(this,_g,e),zf(this,Ch,Tg).call(this)}get mediaRenditionSelected(){return mi(this,qe.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){gi(this,qe.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return pi(this,qe.MEDIA_HEIGHT)}set mediaHeight(e){Ui(this,qe.MEDIA_HEIGHT,e)}compareRendition(e,n){return this.constructor.compareRendition(e,n)}formatMenuItemText(e,n){return this.constructor.formatMenuItemText(e,n)}formatRendition(e,n){return this.constructor.formatRendition(e,n)}showRenditionBitrate(e){return this.mediaRenditionList.some(n=>n!==e&&n.height===e.height&&n.bitrate!==e.bitrate)}}_g=new WeakMap;zh=new WeakMap;Ch=new WeakSet;Tg=function(){if(Eg(this,zh).mediaRenditionList===JSON.stringify(this.mediaRenditionList)&&Eg(this,zh).mediaHeight===this.mediaHeight)return;Eg(this,zh).mediaRenditionList=JSON.stringify(this.mediaRenditionList),Eg(this,zh).mediaHeight=this.mediaHeight;const t=this.mediaRenditionList.sort(this.compareRendition.bind(this)),e=t.find(l=>l.id===this.mediaRenditionSelected);for(const l of t)l.selected=l===e;this.defaultSlot.textContent="";const n=!this.mediaRenditionSelected;for(const l of t){const u=this.formatRendition(l,{showBitrate:this.showRenditionBitrate(l)}),c=Tp({type:"radio",text:u,value:`${l.id}`,checked:l.selected&&!n});c.prepend(Od(this,"checked-indicator")),this.defaultSlot.append(c)}const r=e&&this.showRenditionBitrate(e),i=n?e?this.formatMenuItemText(`${Mn("Auto")}  ${this.formatRendition(e,{showBitrate:r})}`,e):this.formatMenuItemText(`${Mn("Auto")} (${this.mediaHeight}p)`):this.formatMenuItemText(Mn("Auto")),o=Tp({type:"radio",text:i,value:"auto",checked:n});o.dataset.description=i,o.prepend(Od(this,"checked-indicator")),this.defaultSlot.append(o)};uE=new WeakSet;_P=function(){if(this.value==null)return;const t=new ct.CustomEvent(wn.MEDIA_RENDITION_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};ct.customElements.get("media-rendition-menu")||ct.customElements.define("media-rendition-menu",Iqe);const xqe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M13.5 2.5h2v6h-2v-2h-11v-2h11v-2Zm4 2h4v2h-4v-2Zm-12 4h2v6h-2v-2h-3v-2h3v-2Zm4 2h12v2h-12v-2Zm1 4h2v6h-2v-2h-8v-2h8v-2Zm4 2h7v2h-7v-2Z" />
</svg>`;function Rqe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${xqe}</slot>
  `}function kqe(){return Mn("Quality")}class W2 extends jp{static get observedAttributes(){return[...super.observedAttributes,qe.MEDIA_RENDITION_SELECTED,qe.MEDIA_RENDITION_UNAVAILABLE,qe.MEDIA_HEIGHT]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",Mn("quality"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:ls(this).querySelector("media-rendition-menu")}get mediaRenditionSelected(){return mi(this,qe.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){gi(this,qe.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return pi(this,qe.MEDIA_HEIGHT)}set mediaHeight(e){Ui(this,qe.MEDIA_HEIGHT,e)}}W2.getSlotTemplateHTML=Rqe;W2.getTooltipContentHTML=kqe;ct.customElements.get("media-rendition-menu-button")||ct.customElements.define("media-rendition-menu-button",W2);var Y2=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Tl=(t,e,n)=>(Y2(t,e,"read from private field"),n?n.call(t):e.get(t)),al=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ire=(t,e,n,r)=>(Y2(t,e,"write to private field"),e.set(t,n),n),Xs=(t,e,n)=>(Y2(t,e,"access private method"),n),wp,Hy,KS,fd,$h,X2,are,cE,TP,dE,SP,sre,ST,wT,fE;function Cqe(t){return`
      ${po.getTemplateHTML(t)}
      <style>
        :host {
          --_menu-bg: rgb(20 20 30 / .8);
          background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
          min-width: var(--media-settings-menu-min-width, 170px);
          border-radius: 2px;
          overflow: hidden;
        }
      </style>
    `}class ore extends po{constructor(){super(),al(this,Hy),al(this,fd),al(this,X2),al(this,cE),al(this,SP),al(this,wp,!1),al(this,dE,e=>{const n=e.target,r=n?.nodeName==="VIDEO",i=Xs(this,cE,TP).call(this,n);(r||i)&&(Tl(this,wp)?Xs(this,fd,$h).call(this):Xs(this,SP,sre).call(this,e))}),al(this,ST,e=>{const n=e.target,r=this.contains(n),i=e.button===2,o=n?.nodeName==="VIDEO",l=Xs(this,cE,TP).call(this,n);r||i&&(o||l)||Xs(this,fd,$h).call(this)}),al(this,wT,e=>{e.key==="Escape"&&Xs(this,fd,$h).call(this)}),al(this,fE,e=>{var n,r;const i=e.target;if((n=i.matches)!=null&&n.call(i,'button[invoke="copy"]')){const o=(r=i.closest("media-context-menu-item"))==null?void 0:r.querySelector('input[slot="copy"]');o&&navigator.clipboard.writeText(o.value)}Xs(this,fd,$h).call(this)}),this.setAttribute("noautohide",""),Xs(this,Hy,KS).call(this)}connectedCallback(){super.connectedCallback(),ls(this).addEventListener("contextmenu",Tl(this,dE)),this.addEventListener("click",Tl(this,fE))}disconnectedCallback(){super.disconnectedCallback(),ls(this).removeEventListener("contextmenu",Tl(this,dE)),this.removeEventListener("click",Tl(this,fE)),document.removeEventListener("mousedown",Tl(this,ST)),document.removeEventListener("keydown",Tl(this,wT))}}wp=new WeakMap;Hy=new WeakSet;KS=function(){this.hidden=!Tl(this,wp)};fd=new WeakSet;$h=function(){ire(this,wp,!1),Xs(this,Hy,KS).call(this)};X2=new WeakSet;are=function(){document.querySelectorAll("media-context-menu").forEach(e=>{var n;e!==this&&Xs(n=e,fd,$h).call(n)})};cE=new WeakSet;TP=function(t){return t?t.hasAttribute("slot")&&t.getAttribute("slot")==="media"?!0:t.nodeName.includes("-")&&t.tagName.includes("-")?t.hasAttribute("src")||t.hasAttribute("poster")||t.hasAttribute("preload")||t.hasAttribute("playsinline"):!1:!1};dE=new WeakMap;SP=new WeakSet;sre=function(t){t.preventDefault(),Xs(this,X2,are).call(this),ire(this,wp,!0),this.style.position="fixed",this.style.left=`${t.clientX}px`,this.style.top=`${t.clientY}px`,Xs(this,Hy,KS).call(this),document.addEventListener("mousedown",Tl(this,ST),{once:!0}),document.addEventListener("keydown",Tl(this,wT),{once:!0})};ST=new WeakMap;wT=new WeakMap;fE=new WeakMap;ore.getTemplateHTML=Cqe;ct.customElements.get("media-context-menu")||ct.customElements.define("media-context-menu",ore);function Dqe(t){return`
    ${Mc.getTemplateHTML.call(this,t)}
    <style>
        ::slotted(*) {
            color: var(--media-text-color, white);
            text-decoration: none;
            border: none;
            background: none;
            cursor: pointer;
            padding: 0;
            min-height: var(--media-control-height, 24px);
        }
    </style>
  `}class Q2 extends Mc{}Q2.shadowRootOptions={mode:"open"};Q2.getTemplateHTML=Dqe;ct.customElements.get("media-context-menu-item")||ct.customElements.define("media-context-menu-item",Q2);var lre=t=>{throw TypeError(t)},Z2=(t,e,n)=>e.has(t)||lre("Cannot "+n),Wr=(t,e,n)=>(Z2(t,e,"read from private field"),n?n.call(t):e.get(t)),Mo=(t,e,n)=>e.has(t)?lre("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Fl=(t,e,n,r)=>(Z2(t,e,"write to private field"),e.set(t,n),n),Ki=(t,e,n)=>(Z2(t,e,"access private method"),n),WS=class{addEventListener(){}removeEventListener(){}dispatchEvent(t){return!0}};if(typeof DocumentFragment>"u"){class t extends WS{}globalThis.DocumentFragment=t}var J2=class extends WS{},Lqe=class extends WS{},Pqe={get(t){},define(t,e,n){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(J2)}},hE,Oqe=class{constructor(e,n={}){Mo(this,hE),Fl(this,hE,n?.detail)}get detail(){return Wr(this,hE)}initCustomEvent(){}};hE=new WeakMap;function Mqe(t,e){return new J2}var ure={document:{createElement:Mqe},DocumentFragment,customElements:Pqe,CustomEvent:Oqe,EventTarget:WS,HTMLElement:J2,HTMLVideoElement:Lqe},cre=typeof window>"u"||typeof globalThis.customElements>"u",Il=cre?ure:globalThis,AT=cre?ure.document:globalThis.document;function Nqe(t){let e="";return Object.entries(t).forEach(([n,r])=>{r!=null&&(e+=`${wP(n)}: ${r}; `)}),e?e.trim():void 0}function wP(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dre(t){return t.replace(/[-_]([a-z])/g,(e,n)=>n.toUpperCase())}function Es(t){if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}function fre(t){let e=Fqe(t).toString();return e?"?"+e:""}function Fqe(t){let e={};for(let n in t)t[n]!=null&&(e[n]=t[n]);return new URLSearchParams(e)}var hre=(t,e)=>!t||!e?!1:t.contains(e)?!0:hre(t,e.getRootNode().host),pre="mux.com",Uqe=()=>{try{return"3.9.2"}catch{}return"UNKNOWN"},Bqe=Uqe(),mre=()=>Bqe,zqe=(t,{token:e,customDomain:n=pre,thumbnailTime:r,programTime:i}={})=>{var o;let l=e==null?r:void 0,{aud:u}=(o=Xh(e))!=null?o:{};if(!(e&&u!=="t"))return`https://image.${n}/${t}/thumbnail.webp${fre({token:e,time:l,program_time:i})}`},$qe=(t,{token:e,customDomain:n=pre,programStartTime:r,programEndTime:i}={})=>{var o;let{aud:l}=(o=Xh(e))!=null?o:{};if(!(e&&l!=="s"))return`https://image.${n}/${t}/storyboard.vtt${fre({token:e,format:"webp",program_start_time:r,program_end_time:i})}`},eF=t=>{if(t){if([Hr.LIVE,Hr.ON_DEMAND].includes(t))return t;if(t!=null&&t.includes("live"))return Hr.LIVE}},qqe={crossorigin:"crossOrigin",playsinline:"playsInline"};function jqe(t){var e;return(e=qqe[t])!=null?e:dre(t)}var Dh,Lh,ts,Hqe=class{constructor(e,n){Mo(this,Dh),Mo(this,Lh),Mo(this,ts,[]),Fl(this,Dh,e),Fl(this,Lh,n)}[Symbol.iterator](){return Wr(this,ts).values()}get length(){return Wr(this,ts).length}get value(){var e;return(e=Wr(this,ts).join(" "))!=null?e:""}set value(e){var n;e!==this.value&&(Fl(this,ts,[]),this.add(...(n=e?.split(" "))!=null?n:[]))}toString(){return this.value}item(e){return Wr(this,ts)[e]}values(){return Wr(this,ts).values()}keys(){return Wr(this,ts).keys()}forEach(e){Wr(this,ts).forEach(e)}add(...e){var n,r;e.forEach(i=>{this.contains(i)||Wr(this,ts).push(i)}),!(this.value===""&&!((n=Wr(this,Dh))!=null&&n.hasAttribute(`${Wr(this,Lh)}`)))&&((r=Wr(this,Dh))==null||r.setAttribute(`${Wr(this,Lh)}`,`${this.value}`))}remove(...e){var n;e.forEach(r=>{Wr(this,ts).splice(Wr(this,ts).indexOf(r),1)}),(n=Wr(this,Dh))==null||n.setAttribute(`${Wr(this,Lh)}`,`${this.value}`)}contains(e){return Wr(this,ts).includes(e)}toggle(e,n){return typeof n<"u"?n?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,n){this.remove(e),this.add(n)}};Dh=new WeakMap,Lh=new WeakMap,ts=new WeakMap;var gre=`[mux-player ${mre()}]`;function lu(...t){console.warn(gre,...t)}function Zs(...t){console.error(gre,...t)}function yre(t){var e;let n=(e=t.message)!=null?e:"";t.context&&(n+=` ${t.context}`),t.file&&(n+=` ${Qn("Read more: ")}
https://github.com/muxinc/elements/blob/main/errors/${t.file}`),lu(n)}var Ca={AUTOPLAY:"autoplay",CROSSORIGIN:"crossorigin",LOOP:"loop",MUTED:"muted",PLAYSINLINE:"playsinline",PRELOAD:"preload"},od={VOLUME:"volume",PLAYBACKRATE:"playbackrate",MUTED:"muted"},t7=Object.freeze({length:0,start(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}}),Gqe=Object.values(Ca).filter(t=>Ca.PLAYSINLINE!==t),Vqe=Object.values(od),Kqe=[...Gqe,...Vqe],Wqe=class extends Il.HTMLElement{static get observedAttributes(){return Kqe}constructor(){super()}attributeChangedCallback(t,e,n){var r,i;switch(t){case od.MUTED:{this.media&&(this.media.muted=n!=null,this.media.defaultMuted=n!=null);return}case od.VOLUME:{let o=(r=Es(n))!=null?r:1;this.media&&(this.media.volume=o);return}case od.PLAYBACKRATE:{let o=(i=Es(n))!=null?i:1;this.media&&(this.media.playbackRate=o,this.media.defaultPlaybackRate=o);return}}}play(){var t,e;return(e=(t=this.media)==null?void 0:t.play())!=null?e:Promise.reject()}pause(){var t;(t=this.media)==null||t.pause()}load(){var t;(t=this.media)==null||t.load()}get media(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("mux-video")}get audioTracks(){return this.media.audioTracks}get videoTracks(){return this.media.videoTracks}get audioRenditions(){return this.media.audioRenditions}get videoRenditions(){return this.media.videoRenditions}get paused(){var t,e;return(e=(t=this.media)==null?void 0:t.paused)!=null?e:!0}get duration(){var t,e;return(e=(t=this.media)==null?void 0:t.duration)!=null?e:NaN}get ended(){var t,e;return(e=(t=this.media)==null?void 0:t.ended)!=null?e:!1}get buffered(){var t,e;return(e=(t=this.media)==null?void 0:t.buffered)!=null?e:t7}get seekable(){var t,e;return(e=(t=this.media)==null?void 0:t.seekable)!=null?e:t7}get readyState(){var t,e;return(e=(t=this.media)==null?void 0:t.readyState)!=null?e:0}get videoWidth(){var t,e;return(e=(t=this.media)==null?void 0:t.videoWidth)!=null?e:0}get videoHeight(){var t,e;return(e=(t=this.media)==null?void 0:t.videoHeight)!=null?e:0}get currentSrc(){var t,e;return(e=(t=this.media)==null?void 0:t.currentSrc)!=null?e:""}get currentTime(){var t,e;return(e=(t=this.media)==null?void 0:t.currentTime)!=null?e:0}set currentTime(t){this.media&&(this.media.currentTime=Number(t))}get volume(){var t,e;return(e=(t=this.media)==null?void 0:t.volume)!=null?e:1}set volume(t){this.media&&(this.media.volume=Number(t))}get playbackRate(){var t,e;return(e=(t=this.media)==null?void 0:t.playbackRate)!=null?e:1}set playbackRate(t){this.media&&(this.media.playbackRate=Number(t))}get defaultPlaybackRate(){var t;return(t=Es(this.getAttribute(od.PLAYBACKRATE)))!=null?t:1}set defaultPlaybackRate(t){t!=null?this.setAttribute(od.PLAYBACKRATE,`${t}`):this.removeAttribute(od.PLAYBACKRATE)}get crossOrigin(){return qm(this,Ca.CROSSORIGIN)}set crossOrigin(t){this.setAttribute(Ca.CROSSORIGIN,`${t}`)}get autoplay(){return qm(this,Ca.AUTOPLAY)!=null}set autoplay(t){t?this.setAttribute(Ca.AUTOPLAY,typeof t=="string"?t:""):this.removeAttribute(Ca.AUTOPLAY)}get loop(){return qm(this,Ca.LOOP)!=null}set loop(t){t?this.setAttribute(Ca.LOOP,""):this.removeAttribute(Ca.LOOP)}get muted(){var t,e;return(e=(t=this.media)==null?void 0:t.muted)!=null?e:!1}set muted(t){this.media&&(this.media.muted=!!t)}get defaultMuted(){return qm(this,Ca.MUTED)!=null}set defaultMuted(t){t?this.setAttribute(Ca.MUTED,""):this.removeAttribute(Ca.MUTED)}get playsInline(){return qm(this,Ca.PLAYSINLINE)!=null}set playsInline(t){Zs("playsInline is set to true by default and is not currently supported as a setter.")}get preload(){return this.media?this.media.preload:this.getAttribute("preload")}set preload(t){["","none","metadata","auto"].includes(t)?this.setAttribute(Ca.PRELOAD,t):this.removeAttribute(Ca.PRELOAD)}};function qm(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var n7=Wqe,Yqe=`:host {
  --media-control-display: var(--controls);
  --media-loading-indicator-display: var(--loading-indicator);
  --media-dialog-display: var(--dialog);
  --media-play-button-display: var(--play-button);
  --media-live-button-display: var(--live-button);
  --media-seek-backward-button-display: var(--seek-backward-button);
  --media-seek-forward-button-display: var(--seek-forward-button);
  --media-mute-button-display: var(--mute-button);
  --media-captions-button-display: var(--captions-button);
  --media-captions-menu-button-display: var(--captions-menu-button, var(--media-captions-button-display));
  --media-rendition-menu-button-display: var(--rendition-menu-button);
  --media-audio-track-menu-button-display: var(--audio-track-menu-button);
  --media-airplay-button-display: var(--airplay-button);
  --media-pip-button-display: var(--pip-button);
  --media-fullscreen-button-display: var(--fullscreen-button);
  --media-cast-button-display: var(--cast-button, var(--_cast-button-drm-display));
  --media-playback-rate-button-display: var(--playback-rate-button);
  --media-playback-rate-menu-button-display: var(--playback-rate-menu-button);
  --media-volume-range-display: var(--volume-range);
  --media-time-range-display: var(--time-range);
  --media-time-display-display: var(--time-display);
  --media-duration-display-display: var(--duration-display);
  --media-title-display-display: var(--title-display);

  display: inline-block;
  line-height: 0;
  width: 100%;
}

a {
  color: #fff;
  font-size: 0.9em;
  text-decoration: underline;
}

media-theme {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
  direction: ltr;
}

media-poster-image {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
}

media-poster-image:not([src]):not([placeholdersrc]) {
  display: none;
}

::part(top),
[part~='top'] {
  --media-control-display: var(--controls, var(--top-controls));
  --media-play-button-display: var(--play-button, var(--top-play-button));
  --media-live-button-display: var(--live-button, var(--top-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--top-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--top-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--top-mute-button));
  --media-captions-button-display: var(--captions-button, var(--top-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--top-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--top-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--top-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--top-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--top-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--top-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--top-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--top-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --captions-menu-button,
    var(--media-playback-rate-button-display, var(--top-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--top-volume-range));
  --media-time-range-display: var(--time-range, var(--top-time-range));
  --media-time-display-display: var(--time-display, var(--top-time-display));
  --media-duration-display-display: var(--duration-display, var(--top-duration-display));
  --media-title-display-display: var(--title-display, var(--top-title-display));
}

::part(center),
[part~='center'] {
  --media-control-display: var(--controls, var(--center-controls));
  --media-play-button-display: var(--play-button, var(--center-play-button));
  --media-live-button-display: var(--live-button, var(--center-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--center-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--center-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--center-mute-button));
  --media-captions-button-display: var(--captions-button, var(--center-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--center-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--center-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--center-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--center-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--center-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--center-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--center-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--center-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--center-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--center-volume-range));
  --media-time-range-display: var(--time-range, var(--center-time-range));
  --media-time-display-display: var(--time-display, var(--center-time-display));
  --media-duration-display-display: var(--duration-display, var(--center-duration-display));
}

::part(bottom),
[part~='bottom'] {
  --media-control-display: var(--controls, var(--bottom-controls));
  --media-play-button-display: var(--play-button, var(--bottom-play-button));
  --media-live-button-display: var(--live-button, var(--bottom-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--bottom-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--bottom-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--bottom-mute-button));
  --media-captions-button-display: var(--captions-button, var(--bottom-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--bottom-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--bottom-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--bottom-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--bottom-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--bottom-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--bottom-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--bottom-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--bottom-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--bottom-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--bottom-volume-range));
  --media-time-range-display: var(--time-range, var(--bottom-time-range));
  --media-time-display-display: var(--time-display, var(--bottom-time-display));
  --media-duration-display-display: var(--duration-display, var(--bottom-duration-display));
  --media-title-display-display: var(--title-display, var(--bottom-title-display));
}

:host([no-tooltips]) {
  --media-tooltip-display: none;
}
`,jm=new WeakMap,Xqe=class bre{constructor(e,n){this.element=e,this.type=n,this.element.addEventListener(this.type,this);let r=jm.get(this.element);r&&r.set(this.type,this)}set(e){if(typeof e=="function")this.handleEvent=e.bind(this.element);else if(typeof e=="object"&&typeof e.handleEvent=="function")this.handleEvent=e.handleEvent.bind(e);else{this.element.removeEventListener(this.type,this);let n=jm.get(this.element);n&&n.delete(this.type)}}static for(e){jm.has(e.element)||jm.set(e.element,new Map);let n=e.attributeName.slice(2),r=jm.get(e.element);return r&&r.has(n)?r.get(n):new bre(e.element,n)}};function Qqe(t,e){return t instanceof qo&&t.attributeName.startsWith("on")?(Xqe.for(t).set(e),t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),!0):!1}function Zqe(t,e){return e instanceof vre&&t instanceof qp?(e.renderInto(t),!0):!1}function Jqe(t,e){return e instanceof DocumentFragment&&t instanceof qp?(e.childNodes.length&&t.replace(...e.childNodes),!0):!1}function eje(t,e){if(t instanceof qo){let n=t.attributeNamespace,r=t.element.getAttributeNS(n,t.attributeName);return String(e)!==r&&(t.value=String(e)),!0}return t.value=String(e),!0}function tje(t,e){if(t instanceof qo&&e instanceof Element){let n=t.element;return n[t.attributeName]!==e&&(t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),n[t.attributeName]=e),!0}return!1}function nje(t,e){if(typeof e=="boolean"&&t instanceof qo){let n=t.attributeNamespace,r=t.element.hasAttributeNS(n,t.attributeName);return e!==r&&(t.booleanValue=e),!0}return!1}function rje(t,e){return e===!1&&t instanceof qp?(t.replace(""),!0):!1}function ije(t,e){tje(t,e)||nje(t,e)||Qqe(t,e)||rje(t,e)||Zqe(t,e)||Jqe(t,e)||eje(t,e)}var cC=new Map,r7=new WeakMap,i7=new WeakMap,vre=class{constructor(e,n,r){this.strings=e,this.values=n,this.processor=r,this.stringsKey=this.strings.join("")}get template(){if(cC.has(this.stringsKey))return cC.get(this.stringsKey);{let e=AT.createElement("template"),n=this.strings.length-1;return e.innerHTML=this.strings.reduce((r,i,o)=>r+i+(o<n?`{{ ${o} }}`:""),""),cC.set(this.stringsKey,e),e}}renderInto(e){var n;let r=this.template;if(r7.get(e)!==r){r7.set(e,r);let o=new HS(r,this.values,this.processor);i7.set(e,o),e instanceof qp?e.replace(...o.children):e.appendChild(o);return}let i=i7.get(e);(n=i?.update)==null||n.call(i,this.values)}},aje={processCallback(t,e,n){var r;if(n){for(let[i,o]of e)if(i in n){let l=(r=n[i])!=null?r:"";ije(o,l)}}}};function pE(t,...e){return new vre(t,e,aje)}function sje(t,e){t.renderInto(e)}var oje=t=>{let{tokens:e}=t;return e.drm?":host(:not([cast-receiver])) { --_cast-button-drm-display: none; }":""},lje=t=>pE`
  <style>
    ${oje(t)}
    ${Yqe}
  </style>
  ${fje(t)}
`,uje=t=>{let e=t.hotKeys?`${t.hotKeys}`:"";return eF(t.streamType)==="live"&&(e+=" noarrowleft noarrowright"),e},cje={TOP:"top",CENTER:"center",BOTTOM:"bottom",LAYER:"layer",MEDIA_LAYER:"media-layer",POSTER_LAYER:"poster-layer",VERTICAL_LAYER:"vertical-layer",CENTERED_LAYER:"centered-layer",GESTURE_LAYER:"gesture-layer",CONTROLLER_LAYER:"controller",BUTTON:"button",RANGE:"range",THUMB:"thumb",DISPLAY:"display",CONTROL_BAR:"control-bar",MENU_BUTTON:"menu-button",MENU:"menu",MENU_ITEM:"menu-item",OPTION:"option",POSTER:"poster",LIVE:"live",PLAY:"play",PRE_PLAY:"pre-play",SEEK_BACKWARD:"seek-backward",SEEK_FORWARD:"seek-forward",MUTE:"mute",CAPTIONS:"captions",AIRPLAY:"airplay",PIP:"pip",FULLSCREEN:"fullscreen",CAST:"cast",PLAYBACK_RATE:"playback-rate",VOLUME:"volume",TIME:"time",TITLE:"title",AUDIO_TRACK:"audio-track",RENDITION:"rendition"},dje=Object.values(cje).join(", "),fje=t=>{var e,n,r,i,o,l,u,c,d,h,f,p,m,g,y,b,v,_,E,T,A,w,I,C,j,F,K,he,q,Ee,Te,ge,Be,He,Ye,Ie,we;return pE`
  <media-theme
    template="${t.themeTemplate||!1}"
    defaultstreamtype="${(e=t.defaultStreamType)!=null?e:!1}"
    hotkeys="${uje(t)||!1}"
    nohotkeys="${t.noHotKeys||!t.hasSrc||!1}"
    noautoseektolive="${!!((n=t.streamType)!=null&&n.includes(Hr.LIVE))&&t.targetLiveWindow!==0}"
    novolumepref="${t.novolumepref||!1}"
    nomutedpref="${t.nomutedpref||!1}"
    disabled="${!t.hasSrc||t.isDialogOpen}"
    audio="${(r=t.audio)!=null?r:!1}"
    style="${(i=Nqe({"--media-primary-color":t.primaryColor,"--media-secondary-color":t.secondaryColor,"--media-accent-color":t.accentColor}))!=null?i:!1}"
    defaultsubtitles="${!t.defaultHiddenCaptions}"
    forwardseekoffset="${(o=t.forwardSeekOffset)!=null?o:!1}"
    backwardseekoffset="${(l=t.backwardSeekOffset)!=null?l:!1}"
    playbackrates="${(u=t.playbackRates)!=null?u:!1}"
    defaultshowremainingtime="${(c=t.defaultShowRemainingTime)!=null?c:!1}"
    defaultduration="${(d=t.defaultDuration)!=null?d:!1}"
    hideduration="${(h=t.hideDuration)!=null?h:!1}"
    title="${(f=t.title)!=null?f:!1}"
    videotitle="${(p=t.videoTitle)!=null?p:!1}"
    proudlydisplaymuxbadge="${(m=t.proudlyDisplayMuxBadge)!=null?m:!1}"
    exportparts="${dje}"
    onclose="${t.onCloseErrorDialog}"
    onfocusin="${t.onFocusInErrorDialog}"
  >
    <mux-video
      slot="media"
      inert="${(g=t.noHotKeys)!=null?g:!1}"
      target-live-window="${(y=t.targetLiveWindow)!=null?y:!1}"
      stream-type="${(b=eF(t.streamType))!=null?b:!1}"
      crossorigin="${(v=t.crossOrigin)!=null?v:""}"
      playsinline
      autoplay="${(_=t.autoplay)!=null?_:!1}"
      muted="${(E=t.muted)!=null?E:!1}"
      loop="${(T=t.loop)!=null?T:!1}"
      preload="${(A=t.preload)!=null?A:!1}"
      debug="${(w=t.debug)!=null?w:!1}"
      prefer-cmcd="${(I=t.preferCmcd)!=null?I:!1}"
      disable-tracking="${(C=t.disableTracking)!=null?C:!1}"
      disable-cookies="${(j=t.disableCookies)!=null?j:!1}"
      prefer-playback="${(F=t.preferPlayback)!=null?F:!1}"
      start-time="${t.startTime!=null?t.startTime:!1}"
      beacon-collection-domain="${(K=t.beaconCollectionDomain)!=null?K:!1}"
      player-init-time="${(he=t.playerInitTime)!=null?he:!1}"
      player-software-name="${(q=t.playerSoftwareName)!=null?q:!1}"
      player-software-version="${(Ee=t.playerSoftwareVersion)!=null?Ee:!1}"
      env-key="${(Te=t.envKey)!=null?Te:!1}"
      custom-domain="${(ge=t.customDomain)!=null?ge:!1}"
      src="${t.src?t.src:t.playbackId?EL(t):!1}"
      cast-src="${t.src?t.src:t.playbackId?EL(t):!1}"
      cast-receiver="${(Be=t.castReceiver)!=null?Be:!1}"
      drm-token="${(Ye=(He=t.tokens)==null?void 0:He.drm)!=null?Ye:!1}"
      exportparts="video"
      disable-pseudo-ended="${(Ie=t.disablePseudoEnded)!=null?Ie:!1}"
    >
      ${t.storyboard?pE`<track label="thumbnails" default kind="metadata" src="${t.storyboard}" />`:pE``}
      <slot></slot>
    </mux-video>
    <slot name="poster" slot="poster">
      <media-poster-image
        part="poster"
        exportparts="poster, img"
        src="${t.poster?t.poster:!1}"
        placeholdersrc="${(we=t.placeholder)!=null?we:!1}"
      ></media-poster-image>
    </slot>
  </media-theme>
`},Ere=t=>t.charAt(0).toUpperCase()+t.slice(1),hje=(t,e=!1)=>{var n,r;if(t.muxCode){let i=Ere((n=t.errorCategory)!=null?n:"video"),o=kS((r=t.errorCategory)!=null?r:hi.VIDEO);if(t.muxCode===rr.NETWORK_OFFLINE)return Qn("Your device appears to be offline",e);if(t.muxCode===rr.NETWORK_TOKEN_EXPIRED)return Qn("{category} URL has expired",e).format({category:i});if([rr.NETWORK_TOKEN_SUB_MISMATCH,rr.NETWORK_TOKEN_AUD_MISMATCH,rr.NETWORK_TOKEN_AUD_MISSING,rr.NETWORK_TOKEN_MALFORMED].includes(t.muxCode))return Qn("{category} URL is formatted incorrectly",e).format({category:i});if(t.muxCode===rr.NETWORK_TOKEN_MISSING)return Qn("Invalid {categoryName} URL",e).format({categoryName:o});if(t.muxCode===rr.NETWORK_NOT_FOUND)return Qn("{category} does not exist",e).format({category:i});if(t.muxCode===rr.NETWORK_NOT_READY){let l=t.streamType==="live"?"Live stream":"Video";return Qn("{mediaType} is not currently available",e).format({mediaType:l})}}if(t.code){if(t.code===In.MEDIA_ERR_NETWORK)return Qn("Network Error",e);if(t.code===In.MEDIA_ERR_DECODE)return Qn("Media Error",e);if(t.code===In.MEDIA_ERR_SRC_NOT_SUPPORTED)return Qn("Source Not Supported",e)}return Qn("Error",e)},pje=(t,e=!1)=>{var n,r;if(t.muxCode){let i=Ere((n=t.errorCategory)!=null?n:"video"),o=kS((r=t.errorCategory)!=null?r:hi.VIDEO);return t.muxCode===rr.NETWORK_OFFLINE?Qn("Check your internet connection and try reloading this video.",e):t.muxCode===rr.NETWORK_TOKEN_EXPIRED?Qn("The videos secured {tokenNamePrefix}-token has expired.",e).format({tokenNamePrefix:o}):t.muxCode===rr.NETWORK_TOKEN_SUB_MISMATCH?Qn("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",e).format({tokenNamePrefix:o}):t.muxCode===rr.NETWORK_TOKEN_MALFORMED?Qn("{category} URL is formatted incorrectly",e).format({category:i}):[rr.NETWORK_TOKEN_AUD_MISMATCH,rr.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode)?Qn("The {tokenNamePrefix}-token is formatted with incorrect information.",e).format({tokenNamePrefix:o}):[rr.NETWORK_TOKEN_MISSING,rr.NETWORK_INVALID_URL].includes(t.muxCode)?Qn("The video URL or {tokenNamePrefix}-token are formatted with incorrect or incomplete information.",e).format({tokenNamePrefix:o}):t.muxCode===rr.NETWORK_NOT_FOUND?"":t.message}return t.code&&(t.code===In.MEDIA_ERR_NETWORK||t.code===In.MEDIA_ERR_DECODE||(t.code,In.MEDIA_ERR_SRC_NOT_SUPPORTED)),t.message},mje=(t,e=!1)=>{let n=hje(t,e).toString(),r=pje(t,e).toString();return{title:n,message:r}},gje=t=>{if(t.muxCode){if(t.muxCode===rr.NETWORK_TOKEN_EXPIRED)return"403-expired-token.md";if(t.muxCode===rr.NETWORK_TOKEN_MALFORMED)return"403-malformatted-token.md";if([rr.NETWORK_TOKEN_AUD_MISMATCH,rr.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode))return"403-incorrect-aud-value.md";if(t.muxCode===rr.NETWORK_TOKEN_SUB_MISMATCH)return"403-playback-id-mismatch.md";if(t.muxCode===rr.NETWORK_TOKEN_MISSING)return"missing-signed-tokens.md";if(t.muxCode===rr.NETWORK_NOT_FOUND)return"404-not-found.md";if(t.muxCode===rr.NETWORK_NOT_READY)return"412-not-playable.md"}if(t.code){if(t.code===In.MEDIA_ERR_NETWORK)return"";if(t.code===In.MEDIA_ERR_DECODE)return"media-decode-error.md";if(t.code===In.MEDIA_ERR_SRC_NOT_SUPPORTED)return"media-src-not-supported.md"}return""},a7=(t,e)=>{let n=gje(t);return{message:t.message,context:t.context,file:n}},yje=`<template id="media-theme-gerwig">
  <style>
    @keyframes pre-play-hide {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      30% {
        transform: scale(0.7);
      }

      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    :host {
      --_primary-color: var(--media-primary-color, #fff);
      --_secondary-color: var(--media-secondary-color, transparent);
      --_accent-color: var(--media-accent-color, #fa50b5);
      --_text-color: var(--media-text-color, #000);

      --media-icon-color: var(--_primary-color);
      --media-control-background: var(--_secondary-color);
      --media-control-hover-background: var(--_accent-color);
      --media-time-buffered-color: rgba(255, 255, 255, 0.4);
      --media-preview-time-text-shadow: none;
      --media-control-height: 14px;
      --media-control-padding: 6px;
      --media-tooltip-container-margin: 6px;
      --media-tooltip-distance: 18px;

      color: var(--_primary-color);
      display: inline-block;
      width: 100%;
      height: 100%;
    }

    :host([audio]) {
      --_secondary-color: var(--media-secondary-color, black);
      --media-preview-time-text-shadow: none;
    }

    :host([audio]) ::slotted([slot='media']) {
      height: 0px;
    }

    :host([audio]) media-loading-indicator {
      display: none;
    }

    :host([audio]) media-controller {
      background: transparent;
    }

    :host([audio]) media-controller::part(vertical-layer) {
      background: transparent;
    }

    :host([audio]) media-control-bar {
      width: 100%;
      background-color: var(--media-control-background);
    }

    /*
     * 0.433s is the transition duration for VTT Regions.
     * Borrowed here, so the captions don't move too fast.
     */
    media-controller {
      --media-webkit-text-track-transform: translateY(0) scale(0.98);
      --media-webkit-text-track-transition: transform 0.433s ease-out 0.3s;
    }
    media-controller:is([mediapaused], :not([userinactive])) {
      --media-webkit-text-track-transform: translateY(-50px) scale(0.98);
      --media-webkit-text-track-transition: transform 0.15s ease;
    }

    /*
     * CSS specific to iOS devices.
     * See: https://stackoverflow.com/questions/30102792/css-media-query-to-target-only-ios-devices/60220757#60220757
     */
    @supports (-webkit-touch-callout: none) {
      /* Disable subtitle adjusting for iOS Safari */
      media-controller[mediaisfullscreen] {
        --media-webkit-text-track-transform: unset;
        --media-webkit-text-track-transition: unset;
      }
    }

    media-time-range {
      --media-box-padding-left: 6px;
      --media-box-padding-right: 6px;
      --media-range-bar-color: var(--_accent-color);
      --media-time-range-buffered-color: var(--_primary-color);
      --media-range-track-color: transparent;
      --media-range-track-background: rgba(255, 255, 255, 0.4);
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_accent-color) 25%,
        var(--_accent-color)
      );
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-transform: scale(0);
      --media-range-thumb-transition: transform 0.3s;
      --media-range-thumb-opacity: 1;
      --media-preview-background: var(--_primary-color);
      --media-box-arrow-background: var(--_primary-color);
      --media-preview-thumbnail-border: 5px solid var(--_primary-color);
      --media-preview-border-radius: 5px;
      --media-text-color: var(--_text-color);
      --media-control-hover-background: transparent;
      --media-preview-chapter-text-shadow: none;
      color: var(--_accent-color);
      padding: 0 6px;
    }

    :host([audio]) media-time-range {
      --media-preview-time-padding: 1.5px 6px;
      --media-preview-box-margin: 0 0 -5px;
    }

    media-time-range:hover {
      --media-range-thumb-transform: scale(1);
    }

    media-preview-thumbnail {
      border-bottom-width: 0;
    }

    [part~='menu'] {
      border-radius: 2px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      bottom: 50px;
      padding: 2.5px 10px;
    }

    [part~='menu']::part(indicator) {
      fill: var(--_accent-color);
    }

    [part~='menu']::part(menu-item) {
      box-sizing: border-box;
      display: flex;
      align-items: center;
      padding: 6px 10px;
      min-height: 34px;
    }

    [part~='menu']::part(checked) {
      font-weight: 700;
    }

    media-captions-menu,
    media-rendition-menu,
    media-audio-track-menu,
    media-playback-rate-menu {
      position: absolute; /* ensure they don't take up space in DOM on load */
      --media-menu-background: var(--_primary-color);
      --media-menu-item-checked-background: transparent;
      --media-text-color: var(--_text-color);
      --media-menu-item-hover-background: transparent;
      --media-menu-item-hover-outline: var(--_accent-color) solid 1px;
    }

    media-rendition-menu {
      min-width: 140px;
    }

    /* The icon is a circle so make it 16px high instead of 14px for more balance. */
    media-audio-track-menu-button {
      --media-control-padding: 5px;
      --media-control-height: 16px;
    }

    media-playback-rate-menu-button {
      --media-control-padding: 6px 3px;
      min-width: 4.4ch;
    }

    media-playback-rate-menu {
      --media-menu-flex-direction: row;
      --media-menu-item-checked-background: var(--_accent-color);
      --media-menu-item-checked-indicator-display: none;
      margin-right: 6px;
      padding: 0;
      --media-menu-gap: 0.25em;
    }

    media-playback-rate-menu[part~='menu']::part(menu-item) {
      padding: 6px 6px 6px 8px;
    }

    media-playback-rate-menu[part~='menu']::part(checked) {
      color: #fff;
    }

    :host(:not([audio])) media-time-range {
      /* Adding px is required here for calc() */
      --media-range-padding: 0px;
      background: transparent;
      z-index: 10;
      height: 10px;
      bottom: -3px;
      width: 100%;
    }

    media-control-bar :is([role='button'], [role='switch'], button) {
      line-height: 0;
    }

    media-control-bar :is([part*='button'], [part*='range'], [part*='display']) {
      border-radius: 3px;
    }

    .spacer {
      flex-grow: 1;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    media-control-bar[slot~='top-chrome'] {
      min-height: 42px;
      pointer-events: none;
    }

    media-control-bar {
      --gradient-steps:
        hsl(0 0% 0% / 0) 0%, hsl(0 0% 0% / 0.013) 8.1%, hsl(0 0% 0% / 0.049) 15.5%, hsl(0 0% 0% / 0.104) 22.5%,
        hsl(0 0% 0% / 0.175) 29%, hsl(0 0% 0% / 0.259) 35.3%, hsl(0 0% 0% / 0.352) 41.2%, hsl(0 0% 0% / 0.45) 47.1%,
        hsl(0 0% 0% / 0.55) 52.9%, hsl(0 0% 0% / 0.648) 58.8%, hsl(0 0% 0% / 0.741) 64.7%, hsl(0 0% 0% / 0.825) 71%,
        hsl(0 0% 0% / 0.896) 77.5%, hsl(0 0% 0% / 0.951) 84.5%, hsl(0 0% 0% / 0.987) 91.9%, hsl(0 0% 0%) 100%;
    }

    :host([title]) media-control-bar[slot='top-chrome']::before,
    :host([videotitle]) media-control-bar[slot='top-chrome']::before {
      content: '';
      position: absolute;
      width: 100%;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to top, var(--gradient-steps));
      opacity: 0.8;
      pointer-events: none;
    }

    :host(:not([audio])) media-control-bar[part~='bottom']::before {
      content: '';
      position: absolute;
      width: 100%;
      bottom: 0;
      left: 0;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to bottom, var(--gradient-steps));
      opacity: 0.8;
      z-index: 1;
      pointer-events: none;
    }

    media-control-bar[part~='bottom'] > * {
      z-index: 20;
    }

    media-control-bar[part~='bottom'] {
      padding: 6px 6px;
    }

    media-control-bar[slot~='top-chrome'] > * {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      position: relative;
    }

    media-controller::part(vertical-layer) {
      transition: background-color 1s;
    }

    media-controller:is([mediapaused], :not([userinactive]))::part(vertical-layer) {
      background-color: var(--controls-backdrop-color, var(--controls, transparent));
      transition: background-color 0.25s;
    }

    .center-controls {
      --media-button-icon-width: 100%;
      --media-button-icon-height: auto;
      --media-tooltip-display: none;
      pointer-events: none;
      width: 100%;
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      paint-order: stroke;
      stroke: rgba(102, 102, 102, 1);
      stroke-width: 0.3px;
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    .center-controls media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      --media-control-padding: 0;
      width: 40px;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    [breakpointsm] .center-controls media-play-button {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      transition: background 0.4s;
      padding: 24px;
      --media-control-background: #000;
      --media-control-hover-background: var(--_accent-color);
    }

    .center-controls media-seek-backward-button,
    .center-controls media-seek-forward-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      margin: 0 20px;
      width: max(33px, min(8%, 40px));
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback {
      display: grid;
      align-items: initial;
      justify-content: initial;
      height: 100%;
      overflow: hidden;
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback media-play-button {
      place-self: var(--_pre-playback-place, center);
      grid-area: 1 / 1;
      margin: 16px;
    }

    /* Show and hide controls or pre-playback state */

    [breakpointsm]:is([mediahasplayed], :not([mediapaused])):not([audio])
      .center-controls.pre-playback
      media-play-button {
      /* Using \`forwards\` would lead to a laggy UI after the animation got in the end state */
      animation: 0.3s linear pre-play-hide;
      opacity: 0;
      pointer-events: none;
    }

    .autoplay-unmute {
      --media-control-hover-background: transparent;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    .autoplay-unmute-btn {
      --media-control-height: 16px;
      border-radius: 8px;
      background: #000;
      color: var(--_primary-color);
      display: flex;
      align-items: center;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
    }

    .autoplay-unmute-btn:hover {
      background: var(--_accent-color);
    }

    [breakpointsm] .autoplay-unmute-btn {
      --media-control-height: 30px;
      padding: 14px 24px;
      font-size: 26px;
    }

    .autoplay-unmute-btn svg {
      margin: 0 6px 0 0;
    }

    [breakpointsm] .autoplay-unmute-btn svg {
      margin: 0 10px 0 0;
    }

    media-controller:not([audio]):not([mediahasplayed]) *:is(media-control-bar, media-time-range) {
      display: none;
    }

    media-error-dialog:not([mediaerrorcode]) {
      opacity: 0;
    }

    media-loading-indicator {
      --media-loading-icon-width: 100%;
      --media-button-icon-height: auto;
      display: var(--media-control-display, var(--media-loading-indicator-display, flex));
      pointer-events: none;
      position: absolute;
      width: min(15%, 150px);
      flex-flow: row;
      align-items: center;
      justify-content: center;
    }

    /* Intentionally don't target the div for transition but the children
     of the div. Prevents messing with media-chrome's autohide feature. */
    media-loading-indicator + div * {
      transition: opacity 0.15s;
      opacity: 1;
    }

    media-loading-indicator[medialoading]:not([mediapaused]) ~ div > * {
      opacity: 0;
      transition-delay: 400ms;
    }

    media-volume-range {
      width: min(100%, 100px);
      --media-range-padding-left: 10px;
      --media-range-padding-right: 10px;
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_primary-color) 25%,
        var(--_primary-color)
      );
      --media-control-hover-background: none;
    }

    media-time-display {
      white-space: nowrap;
    }

    /* Generic style for explicitly disabled controls */
    media-control-bar[part~='bottom'] [disabled],
    media-control-bar[part~='bottom'] [aria-disabled='true'] {
      opacity: 60%;
      cursor: not-allowed;
    }

    media-text-display {
      --media-font-size: 16px;
      --media-control-padding: 14px;
      font-weight: 500;
    }

    media-play-button.animated *:is(g, path) {
      transition: all 0.3s;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt1 {
      opacity: 0;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt2 {
      transform-origin: center center;
      transform: scaleY(0);
    }

    media-play-button.animated[mediapaused] .play-icon {
      clip-path: inset(0 0 0 0);
    }

    media-play-button.animated:not([mediapaused]) .play-icon {
      clip-path: inset(0 0 0 100%);
    }

    media-seek-forward-button,
    media-seek-backward-button {
      --media-font-weight: 400;
    }

    .mute-icon {
      display: inline-block;
    }

    .mute-icon :is(path, g) {
      transition: opacity 0.5s;
    }

    .muted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='low'] :is(.volume-medium, .volume-high),
    media-mute-button[mediavolumelevel='medium'] :is(.volume-high) {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .unmuted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .muted {
      opacity: 1;
    }

    /**
     * Our defaults for these buttons are to hide them at small sizes
     * users can override this with CSS
     */
    media-controller:not([breakpointsm]):not([audio]) {
      --bottom-play-button: none;
      --bottom-seek-backward-button: none;
      --bottom-seek-forward-button: none;
      --bottom-time-display: none;
      --bottom-playback-rate-menu-button: none;
      --bottom-pip-button: none;
    }

    [part='mux-badge'] {
      position: absolute;
      bottom: 10px;
      right: 10px;
      z-index: 2;
      opacity: 0.6;
      transition:
        opacity 0.2s ease-in-out,
        bottom 0.2s ease-in-out;
    }

    [part='mux-badge']:hover {
      opacity: 1;
    }

    [part='mux-badge'] a {
      font-size: 14px;
      font-family: var(--_font-family);
      color: var(--_primary-color);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    [part='mux-badge'] .mux-badge-text {
      transition: opacity 0.5s ease-in-out;
      opacity: 0;
    }

    [part='mux-badge'] .mux-badge-logo {
      width: 40px;
      height: auto;
      display: inline-block;
    }

    [part='mux-badge'] .mux-badge-logo svg {
      width: 100%;
      height: 100%;
      fill: white;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'],
    media-controller:not([userinactive]) [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      transition: bottom 0.1s ease-in-out;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      transition: bottom 0.2s ease-in-out 0.62s;
    }

    media-controller:not([userinactive]) [part='mux-badge'] .mux-badge-text,
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] .mux-badge-text {
      opacity: 1;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] .mux-badge-text {
      opacity: 0;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive])[mediahasplayed] [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      bottom: calc(28px + var(--media-control-height, 0px) + var(--media-control-padding, 0px) * 2);
    }
  </style>

  <template partial="TitleDisplay">
    <template if="videotitle">
      <template if="videotitle != true">
        <media-text-display part="top title display" class="title-display">{{videotitle}}</media-text-display>
      </template>
    </template>
    <template if="!videotitle">
      <template if="title">
        <media-text-display part="top title display" class="title-display">{{title}}</media-text-display>
      </template>
    </template>
  </template>

  <template partial="PlayButton">
    <media-play-button
      part="{{section ?? 'bottom'}} play button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      class="animated"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon">
        <g class="play-icon">
          <path
            d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
          />
        </g>
        <g class="pause-icon">
          <path
            class="pause-icon-pt1"
            d="M5.90709 0H2.96889C2.46857 0 2.06299 0.405585 2.06299 0.9059V13.0941C2.06299 13.5944 2.46857 14 2.96889 14H5.90709C6.4074 14 6.81299 13.5944 6.81299 13.0941V0.9059C6.81299 0.405585 6.4074 0 5.90709 0Z"
          />
          <path
            class="pause-icon-pt2"
            d="M15.1571 0H12.2189C11.7186 0 11.313 0.405585 11.313 0.9059V13.0941C11.313 13.5944 11.7186 14 12.2189 14H15.1571C15.6574 14 16.063 13.5944 16.063 13.0941V0.9059C16.063 0.405585 15.6574 0 15.1571 0Z"
          />
        </g>
      </svg>
    </media-play-button>
  </template>

  <template partial="PrePlayButton">
    <media-play-button
      part="{{section ?? 'center'}} play button pre-play"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon" style="transform: translate(3px, 0)">
        <path
          d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
        />
      </svg>
    </media-play-button>
  </template>

  <template partial="SeekBackwardButton">
    <media-seek-backward-button
      seekoffset="{{backwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-backward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <path
          d="M3.65 2.07888L0.0864 6.7279C-0.0288 6.87812 -0.0288 7.12188 0.0864 7.2721L3.65 11.9211C3.7792 12.0896 4 11.9703 4 11.7321V2.26787C4 2.02968 3.7792 1.9104 3.65 2.07888Z"
        />
        <text transform="translate(6 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
          {{backwardseekoffset}}
        </text>
      </svg>
    </media-seek-backward-button>
  </template>

  <template partial="SeekForwardButton">
    <media-seek-forward-button
      seekoffset="{{forwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-forward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <g>
          <text transform="translate(-1 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
            {{forwardseekoffset}}
          </text>
          <path
            d="M18.35 11.9211L21.9136 7.2721C22.0288 7.12188 22.0288 6.87812 21.9136 6.7279L18.35 2.07888C18.2208 1.91041 18 2.02968 18 2.26787V11.7321C18 11.9703 18.2208 12.0896 18.35 11.9211Z"
          />
        </g>
      </svg>
    </media-seek-forward-button>
  </template>

  <template partial="MuteButton">
    <media-mute-button part="bottom mute button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" slot="icon" class="mute-icon" aria-hidden="true">
        <g class="unmuted">
          <path
            d="M6.76786 1.21233L3.98606 3.98924H1.19937C0.593146 3.98924 0.101743 4.51375 0.101743 5.1607V6.96412L0 6.99998L0.101743 7.03583V8.83926C0.101743 9.48633 0.593146 10.0108 1.19937 10.0108H3.98606L6.76773 12.7877C7.23561 13.2547 8 12.9007 8 12.2171V1.78301C8 1.09925 7.23574 0.745258 6.76786 1.21233Z"
          />
          <path
            class="volume-low"
            d="M10 3.54781C10.7452 4.55141 11.1393 5.74511 11.1393 6.99991C11.1393 8.25471 10.7453 9.44791 10 10.4515L10.7988 11.0496C11.6734 9.87201 12.1356 8.47161 12.1356 6.99991C12.1356 5.52821 11.6735 4.12731 10.7988 2.94971L10 3.54781Z"
          />
          <path
            class="volume-medium"
            d="M12.3778 2.40086C13.2709 3.76756 13.7428 5.35806 13.7428 7.00026C13.7428 8.64246 13.2709 10.233 12.3778 11.5992L13.2106 12.1484C14.2107 10.6185 14.739 8.83796 14.739 7.00016C14.739 5.16236 14.2107 3.38236 13.2106 1.85156L12.3778 2.40086Z"
          />
          <path
            class="volume-high"
            d="M15.5981 0.75L14.7478 1.2719C15.7937 2.9919 16.3468 4.9723 16.3468 7C16.3468 9.0277 15.7937 11.0082 14.7478 12.7281L15.5981 13.25C16.7398 11.3722 17.343 9.211 17.343 7C17.343 4.789 16.7398 2.6268 15.5981 0.75Z"
          />
        </g>
        <g class="muted">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.39976 4.98924H1.19937C1.19429 4.98924 1.17777 4.98961 1.15296 5.01609C1.1271 5.04369 1.10174 5.09245 1.10174 5.1607V8.83926C1.10174 8.90761 1.12714 8.95641 1.15299 8.984C1.17779 9.01047 1.1943 9.01084 1.19937 9.01084H4.39977L7 11.6066V2.39357L4.39976 4.98924ZM7.47434 1.92006C7.4743 1.9201 7.47439 1.92002 7.47434 1.92006V1.92006ZM6.76773 12.7877L3.98606 10.0108H1.19937C0.593146 10.0108 0.101743 9.48633 0.101743 8.83926V7.03583L0 6.99998L0.101743 6.96412V5.1607C0.101743 4.51375 0.593146 3.98924 1.19937 3.98924H3.98606L6.76786 1.21233C7.23574 0.745258 8 1.09925 8 1.78301V12.2171C8 12.9007 7.23561 13.2547 6.76773 12.7877Z"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M15.2677 9.30323C15.463 9.49849 15.7796 9.49849 15.9749 9.30323C16.1701 9.10796 16.1701 8.79138 15.9749 8.59612L14.2071 6.82841L15.9749 5.06066C16.1702 4.8654 16.1702 4.54882 15.9749 4.35355C15.7796 4.15829 15.4631 4.15829 15.2678 4.35355L13.5 6.1213L11.7322 4.35348C11.537 4.15822 11.2204 4.15822 11.0251 4.35348C10.8298 4.54874 10.8298 4.86532 11.0251 5.06058L12.7929 6.82841L11.0251 8.59619C10.8299 8.79146 10.8299 9.10804 11.0251 9.3033C11.2204 9.49856 11.537 9.49856 11.7323 9.3033L13.5 7.53552L15.2677 9.30323Z"
          />
        </g>
      </svg>
    </media-mute-button>
  </template>

  <template partial="PipButton">
    <media-pip-button part="bottom pip button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M15.9891 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.989C0 13.0996 0.9004 14 2.011 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0ZM17 11.9891C17 12.5465 16.5465 13 15.9891 13H2.011C1.4536 13 1.0001 12.5465 1.0001 11.9891V2.0109C1.0001 1.4535 1.4536 0.9999 2.011 0.9999H15.9891C16.5465 0.9999 17 1.4535 17 2.0109V11.9891Z"
        />
        <path
          d="M15.356 5.67822H8.19523C8.03253 5.67822 7.90063 5.81012 7.90063 5.97282V11.3836C7.90063 11.5463 8.03253 11.6782 8.19523 11.6782H15.356C15.5187 11.6782 15.6506 11.5463 15.6506 11.3836V5.97282C15.6506 5.81012 15.5187 5.67822 15.356 5.67822Z"
        />
      </svg>
    </media-pip-button>
  </template>

  <template partial="CaptionsMenu">
    <media-captions-menu-button part="bottom captions button">
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="on">
        <path
          d="M15.989 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9004 14 2.011 14H15.989C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.989 0ZM4.2292 8.7639C4.5954 9.1902 5.0935 9.4031 5.7233 9.4031C6.1852 9.4031 6.5544 9.301 6.8302 9.0969C7.1061 8.8933 7.2863 8.614 7.3702 8.26H8.4322C8.3062 8.884 8.0093 9.3733 7.5411 9.7273C7.0733 10.0813 6.4703 10.2581 5.732 10.2581C5.108 10.2581 4.5699 10.1219 4.1168 9.8489C3.6637 9.5759 3.3141 9.1946 3.0685 8.7058C2.8224 8.2165 2.6994 7.6511 2.6994 7.009C2.6994 6.3611 2.8224 5.7927 3.0685 5.3034C3.3141 4.8146 3.6637 4.4323 4.1168 4.1559C4.5699 3.88 5.108 3.7418 5.732 3.7418C6.4703 3.7418 7.0733 3.922 7.5411 4.2818C8.0094 4.6422 8.3062 5.1461 8.4322 5.794H7.3702C7.2862 5.4283 7.106 5.1368 6.8302 4.921C6.5544 4.7052 6.1852 4.5968 5.7233 4.5968C5.0934 4.5968 4.5954 4.8116 4.2292 5.2404C3.8635 5.6696 3.6804 6.259 3.6804 7.009C3.6804 7.7531 3.8635 8.3381 4.2292 8.7639ZM11.0974 8.7639C11.4636 9.1902 11.9617 9.4031 12.5915 9.4031C13.0534 9.4031 13.4226 9.301 13.6984 9.0969C13.9743 8.8933 14.1545 8.614 14.2384 8.26H15.3004C15.1744 8.884 14.8775 9.3733 14.4093 9.7273C13.9415 10.0813 13.3385 10.2581 12.6002 10.2581C11.9762 10.2581 11.4381 10.1219 10.985 9.8489C10.5319 9.5759 10.1823 9.1946 9.9367 8.7058C9.6906 8.2165 9.5676 7.6511 9.5676 7.009C9.5676 6.3611 9.6906 5.7927 9.9367 5.3034C10.1823 4.8146 10.5319 4.4323 10.985 4.1559C11.4381 3.88 11.9762 3.7418 12.6002 3.7418C13.3385 3.7418 13.9415 3.922 14.4093 4.2818C14.8776 4.6422 15.1744 5.1461 15.3004 5.794H14.2384C14.1544 5.4283 13.9742 5.1368 13.6984 4.921C13.4226 4.7052 13.0534 4.5968 12.5915 4.5968C11.9616 4.5968 11.4636 4.8116 11.0974 5.2404C10.7317 5.6696 10.5486 6.259 10.5486 7.009C10.5486 7.7531 10.7317 8.3381 11.0974 8.7639Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="off">
        <path
          d="M5.73219 10.258C5.10819 10.258 4.57009 10.1218 4.11699 9.8488C3.66389 9.5758 3.31429 9.1945 3.06869 8.7057C2.82259 8.2164 2.69958 7.651 2.69958 7.0089C2.69958 6.361 2.82259 5.7926 3.06869 5.3033C3.31429 4.8145 3.66389 4.4322 4.11699 4.1558C4.57009 3.8799 5.10819 3.7417 5.73219 3.7417C6.47049 3.7417 7.07348 3.9219 7.54128 4.2817C8.00958 4.6421 8.30638 5.146 8.43238 5.7939H7.37039C7.28639 5.4282 7.10618 5.1367 6.83039 4.9209C6.55459 4.7051 6.18538 4.5967 5.72348 4.5967C5.09358 4.5967 4.59559 4.8115 4.22939 5.2403C3.86369 5.6695 3.68058 6.2589 3.68058 7.0089C3.68058 7.753 3.86369 8.338 4.22939 8.7638C4.59559 9.1901 5.09368 9.403 5.72348 9.403C6.18538 9.403 6.55459 9.3009 6.83039 9.0968C7.10629 8.8932 7.28649 8.6139 7.37039 8.2599H8.43238C8.30638 8.8839 8.00948 9.3732 7.54128 9.7272C7.07348 10.0812 6.47049 10.258 5.73219 10.258Z"
        />
        <path
          d="M12.6003 10.258C11.9763 10.258 11.4382 10.1218 10.9851 9.8488C10.532 9.5758 10.1824 9.1945 9.93685 8.7057C9.69075 8.2164 9.56775 7.651 9.56775 7.0089C9.56775 6.361 9.69075 5.7926 9.93685 5.3033C10.1824 4.8145 10.532 4.4322 10.9851 4.1558C11.4382 3.8799 11.9763 3.7417 12.6003 3.7417C13.3386 3.7417 13.9416 3.9219 14.4094 4.2817C14.8777 4.6421 15.1745 5.146 15.3005 5.7939H14.2385C14.1545 5.4282 13.9743 5.1367 13.6985 4.9209C13.4227 4.7051 13.0535 4.5967 12.5916 4.5967C11.9617 4.5967 11.4637 4.8115 11.0975 5.2403C10.7318 5.6695 10.5487 6.2589 10.5487 7.0089C10.5487 7.753 10.7318 8.338 11.0975 8.7638C11.4637 9.1901 11.9618 9.403 12.5916 9.403C13.0535 9.403 13.4227 9.3009 13.6985 9.0968C13.9744 8.8932 14.1546 8.6139 14.2385 8.2599H15.3005C15.1745 8.8839 14.8776 9.3732 14.4094 9.7272C13.9416 10.0812 13.3386 10.258 12.6003 10.258Z"
        />
        <path
          d="M15.9891 1C16.5465 1 17 1.4535 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H2.0109C1.4535 13 1 12.5465 1 11.9891V2.0109C1 1.4535 1.4535 0.9999 2.0109 0.9999L15.9891 1ZM15.9891 0H2.0109C0.9003 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9003 14 2.0109 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0Z"
        />
      </svg>
    </media-captions-menu-button>
    <media-captions-menu
      hidden
      anchor="auto"
      part="bottom captions menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg></div
    ></media-captions-menu>
  </template>

  <template partial="AirplayButton">
    <media-airplay-button part="bottom airplay button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M16.1383 0H1.8618C0.8335 0 0 0.8335 0 1.8617V10.1382C0 11.1664 0.8335 12 1.8618 12H3.076C3.1204 11.9433 3.1503 11.8785 3.2012 11.826L4.004 11H1.8618C1.3866 11 1 10.6134 1 10.1382V1.8617C1 1.3865 1.3866 0.9999 1.8618 0.9999H16.1383C16.6135 0.9999 17.0001 1.3865 17.0001 1.8617V10.1382C17.0001 10.6134 16.6135 11 16.1383 11H13.9961L14.7989 11.826C14.8499 11.8785 14.8798 11.9432 14.9241 12H16.1383C17.1665 12 18.0001 11.1664 18.0001 10.1382V1.8617C18 0.8335 17.1665 0 16.1383 0Z"
        />
        <path
          d="M9.55061 8.21903C9.39981 8.06383 9.20001 7.98633 9.00011 7.98633C8.80021 7.98633 8.60031 8.06383 8.44951 8.21903L4.09771 12.697C3.62471 13.1838 3.96961 13.9998 4.64831 13.9998H13.3518C14.0304 13.9998 14.3754 13.1838 13.9023 12.697L9.55061 8.21903Z"
        />
      </svg>
    </media-airplay-button>
  </template>

  <template partial="FullscreenButton">
    <media-fullscreen-button part="bottom fullscreen button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M1.00745 4.39539L1.01445 1.98789C1.01605 1.43049 1.47085 0.978289 2.02835 0.979989L6.39375 0.992589L6.39665 -0.007411L2.03125 -0.020011C0.920646 -0.023211 0.0176463 0.874489 0.0144463 1.98509L0.00744629 4.39539H1.00745Z"
        />
        <path
          d="M17.0144 2.03431L17.0076 4.39541H18.0076L18.0144 2.03721C18.0176 0.926712 17.1199 0.0237125 16.0093 0.0205125L11.6439 0.0078125L11.641 1.00781L16.0064 1.02041C16.5638 1.02201 17.016 1.47681 17.0144 2.03431Z"
        />
        <path
          d="M16.9925 9.60498L16.9855 12.0124C16.9839 12.5698 16.5291 13.022 15.9717 13.0204L11.6063 13.0078L11.6034 14.0078L15.9688 14.0204C17.0794 14.0236 17.9823 13.1259 17.9855 12.0153L17.9925 9.60498H16.9925Z"
        />
        <path
          d="M0.985626 11.9661L0.992426 9.60498H-0.0074737L-0.0142737 11.9632C-0.0174737 13.0738 0.880226 13.9767 1.99083 13.98L6.35623 13.9926L6.35913 12.9926L1.99373 12.98C1.43633 12.9784 0.983926 12.5236 0.985626 11.9661Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M5.39655 -0.0200195L5.38955 2.38748C5.38795 2.94488 4.93315 3.39708 4.37565 3.39538L0.0103463 3.38278L0.00744629 4.38278L4.37285 4.39538C5.48345 4.39858 6.38635 3.50088 6.38965 2.39028L6.39665 -0.0200195H5.39655Z"
        />
        <path
          d="M12.6411 2.36891L12.6479 0.0078125H11.6479L11.6411 2.36601C11.6379 3.47651 12.5356 4.37951 13.6462 4.38271L18.0116 4.39531L18.0145 3.39531L13.6491 3.38271C13.0917 3.38111 12.6395 2.92641 12.6411 2.36891Z"
        />
        <path
          d="M12.6034 14.0204L12.6104 11.613C12.612 11.0556 13.0668 10.6034 13.6242 10.605L17.9896 10.6176L17.9925 9.61759L13.6271 9.60499C12.5165 9.60179 11.6136 10.4995 11.6104 11.6101L11.6034 14.0204H12.6034Z"
        />
        <path
          d="M5.359 11.6315L5.3522 13.9926H6.3522L6.359 11.6344C6.3622 10.5238 5.4645 9.62088 4.3539 9.61758L-0.0115043 9.60498L-0.0144043 10.605L4.351 10.6176C4.9084 10.6192 5.3607 11.074 5.359 11.6315Z"
        />
      </svg>
    </media-fullscreen-button>
  </template>

  <template partial="CastButton">
    <media-cast-button part="bottom cast button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M16.0072 0H2.0291C0.9185 0 0.0181 0.9003 0.0181 2.011V5.5009C0.357 5.5016 0.6895 5.5275 1.0181 5.5669V2.011C1.0181 1.4536 1.4716 1 2.029 1H16.0072C16.5646 1 17.0181 1.4536 17.0181 2.011V11.9891C17.0181 12.5465 16.5646 13 16.0072 13H8.4358C8.4746 13.3286 8.4999 13.6611 8.4999 13.9999H16.0071C17.1177 13.9999 18.018 13.0996 18.018 11.989V2.011C18.0181 0.9003 17.1178 0 16.0072 0ZM0 6.4999V7.4999C3.584 7.4999 6.5 10.4159 6.5 13.9999H7.5C7.5 9.8642 4.1357 6.4999 0 6.4999ZM0 8.7499V9.7499C2.3433 9.7499 4.25 11.6566 4.25 13.9999H5.25C5.25 11.1049 2.895 8.7499 0 8.7499ZM0.0181 11V14H3.0181C3.0181 12.3431 1.675 11 0.0181 11Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M15.9891 0H2.01103C0.900434 0 3.35947e-05 0.9003 3.35947e-05 2.011V5.5009C0.338934 5.5016 0.671434 5.5275 1.00003 5.5669V2.011C1.00003 1.4536 1.45353 1 2.01093 1H15.9891C16.5465 1 17 1.4536 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H8.41773C8.45653 13.3286 8.48183 13.6611 8.48183 13.9999H15.989C17.0996 13.9999 17.9999 13.0996 17.9999 11.989V2.011C18 0.9003 17.0997 0 15.9891 0ZM-0.0180664 6.4999V7.4999C3.56593 7.4999 6.48193 10.4159 6.48193 13.9999H7.48193C7.48193 9.8642 4.11763 6.4999 -0.0180664 6.4999ZM-0.0180664 8.7499V9.7499C2.32523 9.7499 4.23193 11.6566 4.23193 13.9999H5.23193C5.23193 11.1049 2.87693 8.7499 -0.0180664 8.7499ZM3.35947e-05 11V14H3.00003C3.00003 12.3431 1.65693 11 3.35947e-05 11Z"
        />
        <path d="M2.15002 5.634C5.18352 6.4207 7.57252 8.8151 8.35282 11.8499H15.8501V2.1499H2.15002V5.634Z" />
      </svg>
    </media-cast-button>
  </template>

  <template partial="LiveButton">
    <media-live-button part="{{section ?? 'top'}} live button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <span slot="text">Live</span>
    </media-live-button>
  </template>

  <template partial="PlaybackRateMenu">
    <media-playback-rate-menu-button part="bottom playback-rate button"></media-playback-rate-menu-button>
    <media-playback-rate-menu
      hidden
      anchor="auto"
      rates="{{playbackrates}}"
      exportparts="menu-item"
      part="bottom playback-rate menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-playback-rate-menu>
  </template>

  <template partial="VolumeRange">
    <media-volume-range
      part="bottom volume range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-volume-range>
  </template>

  <template partial="TimeDisplay">
    <media-time-display
      remaining="{{defaultshowremainingtime}}"
      showduration="{{!hideduration}}"
      part="bottom time display"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-display>
  </template>

  <template partial="TimeRange">
    <media-time-range part="bottom time range" disabled="{{disabled}}" aria-disabled="{{disabled}}" exportparts="thumb">
      <media-preview-thumbnail slot="preview"></media-preview-thumbnail>
      <media-preview-chapter-display slot="preview"></media-preview-chapter-display>
      <media-preview-time-display slot="preview"></media-preview-time-display>
      <div slot="preview" part="arrow"></div>
    </media-time-range>
  </template>

  <template partial="AudioTrackMenu">
    <media-audio-track-menu-button part="bottom audio-track button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 16">
        <path d="M9 15A7 7 0 1 1 9 1a7 7 0 0 1 0 14Zm0 1A8 8 0 1 0 9 0a8 8 0 0 0 0 16Z" />
        <path
          d="M5.2 6.3a.5.5 0 0 1 .5.5v2.4a.5.5 0 1 1-1 0V6.8a.5.5 0 0 1 .5-.5Zm2.4-2.4a.5.5 0 0 1 .5.5v7.2a.5.5 0 0 1-1 0V4.4a.5.5 0 0 1 .5-.5ZM10 5.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.4-.8a.5.5 0 0 1 .5.5v5.6a.5.5 0 0 1-1 0V5.2a.5.5 0 0 1 .5-.5Z"
        />
      </svg>
    </media-audio-track-menu-button>
    <media-audio-track-menu
      hidden
      anchor="auto"
      part="bottom audio-track menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-audio-track-menu>
  </template>

  <template partial="RenditionMenu">
    <media-rendition-menu-button part="bottom rendition button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 14">
        <path
          d="M2.25 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM9 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm6.75 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
        />
      </svg>
    </media-rendition-menu-button>
    <media-rendition-menu
      hidden
      anchor="auto"
      part="bottom rendition menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            opacity: 0;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-rendition-menu>
  </template>

  <template partial="MuxBadge">
    <div part="mux-badge">
      <a href="https://www.mux.com/player" target="_blank">
        <span class="mux-badge-text">Powered by</span>
        <div class="mux-badge-logo">
          <svg
            viewBox="0 0 1600 500"
            style="fill-rule: evenodd; clip-rule: evenodd; stroke-linejoin: round; stroke-miterlimit: 2"
          >
            <g>
              <path
                d="M994.287,93.486c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m0,-93.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,68.943 -56.09,125.033 -125.032,125.033c-68.942,-0 -125.03,-56.09 -125.03,-125.033l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,137.853 112.149,250.003 249.999,250.003c137.851,-0 250.001,-112.15 250.001,-250.003l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M1537.51,468.511c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m-275.883,-218.509l-143.33,143.329c-24.402,24.402 -24.402,63.966 0,88.368c24.402,24.402 63.967,24.402 88.369,-0l143.33,-143.329l143.328,143.329c24.402,24.4 63.967,24.402 88.369,-0c24.403,-24.402 24.403,-63.966 0.001,-88.368l-143.33,-143.329l0.001,-0.004l143.329,-143.329c24.402,-24.402 24.402,-63.965 0,-88.367c-24.402,-24.402 -63.967,-24.402 -88.369,-0l-143.329,143.328l-143.329,-143.328c-24.402,-24.401 -63.967,-24.402 -88.369,-0c-24.402,24.402 -24.402,63.965 0,88.367l143.329,143.329l0,0.004Z"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M437.511,468.521c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m23.915,-463.762c-23.348,-9.672 -50.226,-4.327 -68.096,13.544l-143.331,143.329l-143.33,-143.329c-17.871,-17.871 -44.747,-23.216 -68.096,-13.544c-23.349,9.671 -38.574,32.455 -38.574,57.729l0,375.026c0,34.51 27.977,62.486 62.487,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-224.173l80.843,80.844c24.404,24.402 63.965,24.402 88.369,-0l80.843,-80.844l0,224.173c0,34.51 27.976,62.486 62.486,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-375.026c0,-25.274 -15.224,-48.058 -38.573,-57.729"
                style="fill-rule: nonzero"
              ></path>
            </g>
          </svg>
        </div>
      </a>
    </div>
  </template>

  <media-controller
    part="controller"
    defaultstreamtype="{{defaultstreamtype ?? 'on-demand'}}"
    breakpoints="sm:470"
    gesturesdisabled="{{disabled}}"
    hotkeys="{{hotkeys}}"
    nohotkeys="{{nohotkeys}}"
    novolumepref="{{novolumepref}}"
    audio="{{audio}}"
    noautoseektolive="{{noautoseektolive}}"
    defaultsubtitles="{{defaultsubtitles}}"
    defaultduration="{{defaultduration ?? false}}"
    keyboardforwardseekoffset="{{forwardseekoffset}}"
    keyboardbackwardseekoffset="{{backwardseekoffset}}"
    exportparts="layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer"
    style="--_pre-playback-place:{{preplaybackplace ?? 'center'}}"
  >
    <slot name="media" slot="media"></slot>
    <slot name="poster" slot="poster"></slot>

    <media-loading-indicator slot="centered-chrome" noautohide></media-loading-indicator>

    <template if="!audio">
      <media-error-dialog slot="dialog" noautohide></media-error-dialog>
      <!-- Pre-playback UI -->
      <!-- same for both on-demand and live -->
      <div slot="centered-chrome" class="center-controls pre-playback">
        <template if="!breakpointsm">{{>PlayButton section="center"}}</template>
        <template if="breakpointsm">{{>PrePlayButton section="center"}}</template>
      </div>

      <!-- Mux Badge -->
      <template if="proudlydisplaymuxbadge"> {{>MuxBadge}} </template>

      <!-- Autoplay centered unmute button -->
      <!--
        todo: figure out how show this with available state variables
        needs to show when:
        - autoplay is enabled
        - playback has been successful
        - audio is muted
        - in place / instead of the pre-plaback play button
        - not to show again after user has interacted with this button
          - OR user has interacted with the mute button in the control bar
      -->
      <!--
        There should be a >MuteButton to the left of the "Unmute" text, but a templating bug
        makes it appear even if commented out in the markup, add it back when code is un-commented
      -->
      <!-- <div slot="centered-chrome" class="autoplay-unmute">
        <div role="button" class="autoplay-unmute-btn">Unmute</div>
      </div> -->

      <template if="streamtype == 'on-demand'">
        <template if="breakpointsm">
          <media-control-bar part="control-bar top" slot="top-chrome">{{>TitleDisplay}} </media-control-bar>
        </template>
        {{>TimeRange}}
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>SeekBackwardButton}} {{>SeekForwardButton}} {{>TimeDisplay}} {{>MuteButton}}
          {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>PlaybackRateMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}}
          {{>CastButton}} {{>PipButton}} {{>FullscreenButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <media-control-bar part="control-bar top" slot="top-chrome">
          {{>LiveButton}}
          <template if="breakpointsm"> {{>TitleDisplay}} </template>
        </media-control-bar>
        <template if="targetlivewindow > 0">{{>TimeRange}}</template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="targetlivewindow > 0">{{>SeekBackwardButton}} {{>SeekForwardButton}}</template>
          {{>MuteButton}} {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}} {{>CastButton}} {{>PipButton}}
          {{>FullscreenButton}}
        </media-control-bar>
      </template>
    </template>

    <template if="audio">
      <template if="streamtype == 'on-demand'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="breakpointsm"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          {{>MuteButton}}
          <template if="breakpointsm">{{>VolumeRange}}</template>
          {{>TimeDisplay}} {{>TimeRange}}
          <template if="breakpointsm">{{>PlaybackRateMenu}}</template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>LiveButton section="bottom"}} {{>MuteButton}}
          <template if="breakpointsm">
            {{>VolumeRange}}
            <template if="targetlivewindow > 0"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          </template>
          <template if="targetlivewindow > 0"> {{>TimeDisplay}} {{>TimeRange}} </template>
          <template if="!targetlivewindow"><div class="spacer"></div></template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>
    </template>

    <slot></slot>
  </media-controller>
</template>
`,AP=AT.createElement("template");"innerHTML"in AP&&(AP.innerHTML=yje);var s7,o7,_re=class extends GS{};_re.template=(o7=(s7=AP.content)==null?void 0:s7.children)==null?void 0:o7[0];Il.customElements.get("media-theme-gerwig")||Il.customElements.define("media-theme-gerwig",_re);var bje="gerwig",iu={SRC:"src",POSTER:"poster"},cn={STYLE:"style",DEFAULT_HIDDEN_CAPTIONS:"default-hidden-captions",PRIMARY_COLOR:"primary-color",SECONDARY_COLOR:"secondary-color",ACCENT_COLOR:"accent-color",FORWARD_SEEK_OFFSET:"forward-seek-offset",BACKWARD_SEEK_OFFSET:"backward-seek-offset",PLAYBACK_TOKEN:"playback-token",THUMBNAIL_TOKEN:"thumbnail-token",STORYBOARD_TOKEN:"storyboard-token",FULLSCREEN_ELEMENT:"fullscreen-element",DRM_TOKEN:"drm-token",STORYBOARD_SRC:"storyboard-src",THUMBNAIL_TIME:"thumbnail-time",AUDIO:"audio",NOHOTKEYS:"nohotkeys",HOTKEYS:"hotkeys",PLAYBACK_RATES:"playbackrates",DEFAULT_SHOW_REMAINING_TIME:"default-show-remaining-time",DEFAULT_DURATION:"default-duration",TITLE:"title",VIDEO_TITLE:"video-title",PLACEHOLDER:"placeholder",THEME:"theme",DEFAULT_STREAM_TYPE:"default-stream-type",TARGET_LIVE_WINDOW:"target-live-window",EXTRA_SOURCE_PARAMS:"extra-source-params",NO_VOLUME_PREF:"no-volume-pref",NO_MUTED_PREF:"no-muted-pref",CAST_RECEIVER:"cast-receiver",NO_TOOLTIPS:"no-tooltips",PROUDLY_DISPLAY_MUX_BADGE:"proudly-display-mux-badge",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended"},IP=["audio","backwardseekoffset","defaultduration","defaultshowremainingtime","defaultsubtitles","noautoseektolive","disabled","exportparts","forwardseekoffset","hideduration","hotkeys","nohotkeys","playbackrates","defaultstreamtype","streamtype","style","targetlivewindow","template","title","videotitle","novolumepref","nomutedpref","proudlydisplaymuxbadge"];function vje(t,e){var n,r;return{src:!t.playbackId&&t.src,playbackId:t.playbackId,hasSrc:!!t.playbackId||!!t.src||!!t.currentSrc,poster:t.poster,storyboard:t.storyboard,storyboardSrc:t.getAttribute(cn.STORYBOARD_SRC),fullscreenElement:t.getAttribute(cn.FULLSCREEN_ELEMENT),placeholder:t.getAttribute("placeholder"),themeTemplate:_je(t),thumbnailTime:!t.tokens.thumbnail&&t.thumbnailTime,autoplay:t.autoplay,crossOrigin:t.crossOrigin,loop:t.loop,noHotKeys:t.hasAttribute(cn.NOHOTKEYS),hotKeys:t.getAttribute(cn.HOTKEYS),muted:t.muted,paused:t.paused,preload:t.preload,envKey:t.envKey,preferCmcd:t.preferCmcd,debug:t.debug,disableTracking:t.disableTracking,disableCookies:t.disableCookies,tokens:t.tokens,beaconCollectionDomain:t.beaconCollectionDomain,maxResolution:t.maxResolution,minResolution:t.minResolution,programStartTime:t.programStartTime,programEndTime:t.programEndTime,assetStartTime:t.assetStartTime,assetEndTime:t.assetEndTime,renditionOrder:t.renditionOrder,metadata:t.metadata,playerInitTime:t.playerInitTime,playerSoftwareName:t.playerSoftwareName,playerSoftwareVersion:t.playerSoftwareVersion,startTime:t.startTime,preferPlayback:t.preferPlayback,audio:t.audio,defaultStreamType:t.defaultStreamType,targetLiveWindow:t.getAttribute(Tt.TARGET_LIVE_WINDOW),streamType:eF(t.getAttribute(Tt.STREAM_TYPE)),primaryColor:t.getAttribute(cn.PRIMARY_COLOR),secondaryColor:t.getAttribute(cn.SECONDARY_COLOR),accentColor:t.getAttribute(cn.ACCENT_COLOR),forwardSeekOffset:t.forwardSeekOffset,backwardSeekOffset:t.backwardSeekOffset,defaultHiddenCaptions:t.defaultHiddenCaptions,defaultDuration:t.defaultDuration,defaultShowRemainingTime:t.defaultShowRemainingTime,hideDuration:Tje(t),playbackRates:t.getAttribute(cn.PLAYBACK_RATES),customDomain:(n=t.getAttribute(Tt.CUSTOM_DOMAIN))!=null?n:void 0,title:t.getAttribute(cn.TITLE),videoTitle:(r=t.getAttribute(cn.VIDEO_TITLE))!=null?r:t.getAttribute(cn.TITLE),novolumepref:t.hasAttribute(cn.NO_VOLUME_PREF),nomutedpref:t.hasAttribute(cn.NO_MUTED_PREF),proudlyDisplayMuxBadge:t.hasAttribute(cn.PROUDLY_DISPLAY_MUX_BADGE),castReceiver:t.castReceiver,disablePseudoEnded:t.hasAttribute(cn.DISABLE_PSEUDO_ENDED),...e,extraSourceParams:t.extraSourceParams}}var Eje=hne.formatErrorMessage;hne.formatErrorMessage=t=>{var e,n;if(t instanceof In){let r=mje(t,!1);return`
      ${r!=null&&r.title?`<h3>${r.title}</h3>`:""}
      ${r!=null&&r.message||r!=null&&r.linkUrl?`<p>
        ${r?.message}
        ${r!=null&&r.linkUrl?`<a
              href="${r.linkUrl}"
              target="_blank"
              rel="external noopener"
              aria-label="${(e=r.linkText)!=null?e:""} ${Qn("(opens in a new window)")}"
              >${(n=r.linkText)!=null?n:r.linkUrl}</a
            >`:""}
      </p>`:""}
    `}return Eje(t)};function _je(t){var e,n;let r=t.theme;if(r){let i=(n=(e=t.getRootNode())==null?void 0:e.getElementById)==null?void 0:n.call(e,r);if(i&&i instanceof HTMLTemplateElement)return i;r.startsWith("media-theme-")||(r=`media-theme-${r}`);let o=Il.customElements.get(r);if(o!=null&&o.template)return o.template}}function Tje(t){var e;let n=(e=t.mediaController)==null?void 0:e.querySelector("media-time-display");return n&&getComputedStyle(n).getPropertyValue("--media-duration-display-display").trim()==="none"}function l7(t){let e=t.videoTitle?{video_title:t.videoTitle}:{};return t.getAttributeNames().filter(n=>n.startsWith("metadata-")).reduce((n,r)=>{let i=t.getAttribute(r);return i!==null&&(n[r.replace(/^metadata-/,"").replace(/-/g,"_")]=i),n},e)}var Sje=Object.values(Tt),wje=Object.values(iu),Aje=Object.values(cn),u7=mre(),c7="mux-player",d7={isDialogOpen:!1},Ije={redundant_streams:!0},mE,gE,yE,ld,bE,ip,Ni,rc,Tre,xP,ud,f7,h7,p7,m7,xje=class extends n7{constructor(){super(),Mo(this,Ni),Mo(this,mE),Mo(this,gE,!1),Mo(this,yE,{}),Mo(this,ld,!0),Mo(this,bE,new Hqe(this,"hotkeys")),Mo(this,ip,{...d7,onCloseErrorDialog:t=>{var e;((e=t.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&Ki(this,Ni,xP).call(this,{isDialogOpen:!1})},onFocusInErrorDialog:t=>{var e;((e=t.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&(hre(this,AT.activeElement)||t.preventDefault())}}),Fl(this,mE,DS()),this.attachShadow({mode:"open"}),Ki(this,Ni,Tre).call(this),this.isConnected&&Ki(this,Ni,rc).call(this)}static get NAME(){return c7}static get VERSION(){return u7}static get observedAttributes(){var t;return[...(t=n7.observedAttributes)!=null?t:[],...wje,...Sje,...Aje]}get mediaTheme(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("media-theme")}get mediaController(){var t,e;return(e=(t=this.mediaTheme)==null?void 0:t.shadowRoot)==null?void 0:e.querySelector("media-controller")}connectedCallback(){let t=this.media;t&&(t.metadata=l7(this))}attributeChangedCallback(t,e,n){switch(Ki(this,Ni,rc).call(this),super.attributeChangedCallback(t,e,n),t){case cn.HOTKEYS:Wr(this,bE).value=n;break;case cn.THUMBNAIL_TIME:{n!=null&&this.tokens.thumbnail&&lu(Qn("Use of thumbnail-time with thumbnail-token is currently unsupported. Ignore thumbnail-time.").toString());break}case cn.THUMBNAIL_TOKEN:{if(n){let r=Xh(n);if(r){let{aud:i}=r,o=qg.THUMBNAIL;i!==o&&lu(Qn("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:o,tokenNamePrefix:"thumbnail"}))}}break}case cn.STORYBOARD_TOKEN:{if(n){let r=Xh(n);if(r){let{aud:i}=r,o=qg.STORYBOARD;i!==o&&lu(Qn("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:o,tokenNamePrefix:"storyboard"}))}}break}case cn.DRM_TOKEN:{if(n){let r=Xh(n);if(r){let{aud:i}=r,o=qg.DRM;i!==o&&lu(Qn("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:o,tokenNamePrefix:"drm"}))}}break}case Tt.PLAYBACK_ID:{n!=null&&n.includes("?token")&&Zs(Qn("The specificed playback ID {playbackId} contains a token which must be provided via the playback-token attribute.").format({playbackId:n}));break}case Tt.STREAM_TYPE:{n&&![Hr.LIVE,Hr.ON_DEMAND,Hr.UNKNOWN].includes(n)?["ll-live","live:dvr","ll-live:dvr"].includes(this.streamType)?this.targetLiveWindow=n.includes("dvr")?Number.POSITIVE_INFINITY:0:yre({file:"invalid-stream-type.md",message:Qn("Invalid stream-type value supplied: `{streamType}`. Please provide stream-type as either: `on-demand` or `live`").format({streamType:this.streamType})}):n===Hr.LIVE?this.getAttribute(cn.TARGET_LIVE_WINDOW)==null&&(this.targetLiveWindow=0):this.targetLiveWindow=Number.NaN;break}case cn.FULLSCREEN_ELEMENT:{if(n!=null||n!==e){let r=AT.getElementById(n),i=r?.querySelector("mux-player");this.mediaController&&r&&i&&(this.mediaController.fullscreenElement=r)}break}}[Tt.PLAYBACK_ID,iu.SRC,cn.PLAYBACK_TOKEN].includes(t)&&e!==n&&Fl(this,ip,{...Wr(this,ip),...d7}),Ki(this,Ni,ud).call(this,{[jqe(t)]:n})}async requestFullscreen(t){var e;if(!(!this.mediaController||this.mediaController.hasAttribute(qe.MEDIA_IS_FULLSCREEN)))return(e=this.mediaController)==null||e.dispatchEvent(new Il.CustomEvent(wn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((n,r)=>{var i;(i=this.mediaController)==null||i.addEventListener(Eu.MEDIA_IS_FULLSCREEN,()=>n(),{once:!0})})}async exitFullscreen(){var t;if(!(!this.mediaController||!this.mediaController.hasAttribute(qe.MEDIA_IS_FULLSCREEN)))return(t=this.mediaController)==null||t.dispatchEvent(new Il.CustomEvent(wn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((e,n)=>{var r;(r=this.mediaController)==null||r.addEventListener(Eu.MEDIA_IS_FULLSCREEN,()=>e(),{once:!0})})}get preferCmcd(){var t;return(t=this.getAttribute(Tt.PREFER_CMCD))!=null?t:void 0}set preferCmcd(t){t!==this.preferCmcd&&(t?eT.includes(t)?this.setAttribute(Tt.PREFER_CMCD,t):lu(`Invalid value for preferCmcd. Must be one of ${eT.join()}`):this.removeAttribute(Tt.PREFER_CMCD))}get hasPlayed(){var t,e;return(e=(t=this.mediaController)==null?void 0:t.hasAttribute(qe.MEDIA_HAS_PLAYED))!=null?e:!1}get inLiveWindow(){var t;return(t=this.mediaController)==null?void 0:t.hasAttribute(qe.MEDIA_TIME_IS_LIVE)}get _hls(){var t;return(t=this.media)==null?void 0:t._hls}get mux(){var t;return(t=this.media)==null?void 0:t.mux}get theme(){var t;return(t=this.getAttribute(cn.THEME))!=null?t:bje}set theme(t){this.setAttribute(cn.THEME,`${t}`)}get themeProps(){let t=this.mediaTheme;if(!t)return;let e={};for(let n of t.getAttributeNames()){if(IP.includes(n))continue;let r=t.getAttribute(n);e[dre(n)]=r===""?!0:r}return e}set themeProps(t){var e,n;Ki(this,Ni,rc).call(this);let r={...this.themeProps,...t};for(let i in r){if(IP.includes(i))continue;let o=t?.[i];typeof o=="boolean"||o==null?(e=this.mediaTheme)==null||e.toggleAttribute(wP(i),!!o):(n=this.mediaTheme)==null||n.setAttribute(wP(i),o)}}get playbackId(){var t;return(t=this.getAttribute(Tt.PLAYBACK_ID))!=null?t:void 0}set playbackId(t){t?this.setAttribute(Tt.PLAYBACK_ID,t):this.removeAttribute(Tt.PLAYBACK_ID)}get src(){var t,e;return this.playbackId?(t=Yc(this,iu.SRC))!=null?t:void 0:(e=this.getAttribute(iu.SRC))!=null?e:void 0}set src(t){t?this.setAttribute(iu.SRC,t):this.removeAttribute(iu.SRC)}get poster(){var t;let e=this.getAttribute(iu.POSTER);if(e!=null)return e;let{tokens:n}=this;if(n.playback&&!n.thumbnail){lu("Missing expected thumbnail token. No poster image will be shown");return}if(this.playbackId&&!this.audio)return zqe(this.playbackId,{customDomain:this.customDomain,thumbnailTime:(t=this.thumbnailTime)!=null?t:this.startTime,programTime:this.programStartTime,token:n.thumbnail})}set poster(t){t||t===""?this.setAttribute(iu.POSTER,t):this.removeAttribute(iu.POSTER)}get storyboardSrc(){var t;return(t=this.getAttribute(cn.STORYBOARD_SRC))!=null?t:void 0}set storyboardSrc(t){t?this.setAttribute(cn.STORYBOARD_SRC,t):this.removeAttribute(cn.STORYBOARD_SRC)}get storyboard(){let{tokens:t}=this;if(this.storyboardSrc&&!t.storyboard)return this.storyboardSrc;if(!(this.audio||!this.playbackId||!this.streamType||[Hr.LIVE,Hr.UNKNOWN].includes(this.streamType)||t.playback&&!t.storyboard))return $qe(this.playbackId,{customDomain:this.customDomain,token:t.storyboard,programStartTime:this.programStartTime,programEndTime:this.programEndTime})}get audio(){return this.hasAttribute(cn.AUDIO)}set audio(t){if(!t){this.removeAttribute(cn.AUDIO);return}this.setAttribute(cn.AUDIO,"")}get hotkeys(){return Wr(this,bE)}get nohotkeys(){return this.hasAttribute(cn.NOHOTKEYS)}set nohotkeys(t){if(!t){this.removeAttribute(cn.NOHOTKEYS);return}this.setAttribute(cn.NOHOTKEYS,"")}get thumbnailTime(){return Es(this.getAttribute(cn.THUMBNAIL_TIME))}set thumbnailTime(t){this.setAttribute(cn.THUMBNAIL_TIME,`${t}`)}get videoTitle(){var t,e;return(e=(t=this.getAttribute(cn.VIDEO_TITLE))!=null?t:this.getAttribute(cn.TITLE))!=null?e:""}set videoTitle(t){t!==this.videoTitle&&(t?this.setAttribute(cn.VIDEO_TITLE,t):this.removeAttribute(cn.VIDEO_TITLE))}get placeholder(){var t;return(t=Yc(this,cn.PLACEHOLDER))!=null?t:""}set placeholder(t){this.setAttribute(cn.PLACEHOLDER,`${t}`)}get primaryColor(){var t,e;let n=this.getAttribute(cn.PRIMARY_COLOR);if(n!=null||this.mediaTheme&&(n=(e=(t=Il.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_primary-color"))==null?void 0:e.trim(),n))return n}set primaryColor(t){this.setAttribute(cn.PRIMARY_COLOR,`${t}`)}get secondaryColor(){var t,e;let n=this.getAttribute(cn.SECONDARY_COLOR);if(n!=null||this.mediaTheme&&(n=(e=(t=Il.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_secondary-color"))==null?void 0:e.trim(),n))return n}set secondaryColor(t){this.setAttribute(cn.SECONDARY_COLOR,`${t}`)}get accentColor(){var t,e;let n=this.getAttribute(cn.ACCENT_COLOR);if(n!=null||this.mediaTheme&&(n=(e=(t=Il.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_accent-color"))==null?void 0:e.trim(),n))return n}set accentColor(t){this.setAttribute(cn.ACCENT_COLOR,`${t}`)}get defaultShowRemainingTime(){return this.hasAttribute(cn.DEFAULT_SHOW_REMAINING_TIME)}set defaultShowRemainingTime(t){t?this.setAttribute(cn.DEFAULT_SHOW_REMAINING_TIME,""):this.removeAttribute(cn.DEFAULT_SHOW_REMAINING_TIME)}get playbackRates(){if(this.hasAttribute(cn.PLAYBACK_RATES))return this.getAttribute(cn.PLAYBACK_RATES).trim().split(/\s*,?\s+/).map(t=>Number(t)).filter(t=>!Number.isNaN(t)).sort((t,e)=>t-e)}set playbackRates(t){if(!t){this.removeAttribute(cn.PLAYBACK_RATES);return}this.setAttribute(cn.PLAYBACK_RATES,t.join(" "))}get forwardSeekOffset(){var t;return(t=Es(this.getAttribute(cn.FORWARD_SEEK_OFFSET)))!=null?t:10}set forwardSeekOffset(t){this.setAttribute(cn.FORWARD_SEEK_OFFSET,`${t}`)}get backwardSeekOffset(){var t;return(t=Es(this.getAttribute(cn.BACKWARD_SEEK_OFFSET)))!=null?t:10}set backwardSeekOffset(t){this.setAttribute(cn.BACKWARD_SEEK_OFFSET,`${t}`)}get defaultHiddenCaptions(){return this.hasAttribute(cn.DEFAULT_HIDDEN_CAPTIONS)}set defaultHiddenCaptions(t){t?this.setAttribute(cn.DEFAULT_HIDDEN_CAPTIONS,""):this.removeAttribute(cn.DEFAULT_HIDDEN_CAPTIONS)}get defaultDuration(){return Es(this.getAttribute(cn.DEFAULT_DURATION))}set defaultDuration(t){t==null?this.removeAttribute(cn.DEFAULT_DURATION):this.setAttribute(cn.DEFAULT_DURATION,`${t}`)}get playerInitTime(){return this.hasAttribute(Tt.PLAYER_INIT_TIME)?Es(this.getAttribute(Tt.PLAYER_INIT_TIME)):Wr(this,mE)}set playerInitTime(t){t!=this.playerInitTime&&(t==null?this.removeAttribute(Tt.PLAYER_INIT_TIME):this.setAttribute(Tt.PLAYER_INIT_TIME,`${+t}`))}get playerSoftwareName(){var t;return(t=this.getAttribute(Tt.PLAYER_SOFTWARE_NAME))!=null?t:c7}get playerSoftwareVersion(){var t;return(t=this.getAttribute(Tt.PLAYER_SOFTWARE_VERSION))!=null?t:u7}get beaconCollectionDomain(){var t;return(t=this.getAttribute(Tt.BEACON_COLLECTION_DOMAIN))!=null?t:void 0}set beaconCollectionDomain(t){t!==this.beaconCollectionDomain&&(t?this.setAttribute(Tt.BEACON_COLLECTION_DOMAIN,t):this.removeAttribute(Tt.BEACON_COLLECTION_DOMAIN))}get maxResolution(){var t;return(t=this.getAttribute(Tt.MAX_RESOLUTION))!=null?t:void 0}set maxResolution(t){t!==this.maxResolution&&(t?this.setAttribute(Tt.MAX_RESOLUTION,t):this.removeAttribute(Tt.MAX_RESOLUTION))}get minResolution(){var t;return(t=this.getAttribute(Tt.MIN_RESOLUTION))!=null?t:void 0}set minResolution(t){t!==this.minResolution&&(t?this.setAttribute(Tt.MIN_RESOLUTION,t):this.removeAttribute(Tt.MIN_RESOLUTION))}get renditionOrder(){var t;return(t=this.getAttribute(Tt.RENDITION_ORDER))!=null?t:void 0}set renditionOrder(t){t!==this.renditionOrder&&(t?this.setAttribute(Tt.RENDITION_ORDER,t):this.removeAttribute(Tt.RENDITION_ORDER))}get programStartTime(){return Es(this.getAttribute(Tt.PROGRAM_START_TIME))}set programStartTime(t){t==null?this.removeAttribute(Tt.PROGRAM_START_TIME):this.setAttribute(Tt.PROGRAM_START_TIME,`${t}`)}get programEndTime(){return Es(this.getAttribute(Tt.PROGRAM_END_TIME))}set programEndTime(t){t==null?this.removeAttribute(Tt.PROGRAM_END_TIME):this.setAttribute(Tt.PROGRAM_END_TIME,`${t}`)}get assetStartTime(){return Es(this.getAttribute(Tt.ASSET_START_TIME))}set assetStartTime(t){t==null?this.removeAttribute(Tt.ASSET_START_TIME):this.setAttribute(Tt.ASSET_START_TIME,`${t}`)}get assetEndTime(){return Es(this.getAttribute(Tt.ASSET_END_TIME))}set assetEndTime(t){t==null?this.removeAttribute(Tt.ASSET_END_TIME):this.setAttribute(Tt.ASSET_END_TIME,`${t}`)}get extraSourceParams(){return this.hasAttribute(cn.EXTRA_SOURCE_PARAMS)?[...new URLSearchParams(this.getAttribute(cn.EXTRA_SOURCE_PARAMS)).entries()].reduce((t,[e,n])=>(t[e]=n,t),{}):Ije}set extraSourceParams(t){t==null?this.removeAttribute(cn.EXTRA_SOURCE_PARAMS):this.setAttribute(cn.EXTRA_SOURCE_PARAMS,new URLSearchParams(t).toString())}get customDomain(){var t;return(t=this.getAttribute(Tt.CUSTOM_DOMAIN))!=null?t:void 0}set customDomain(t){t!==this.customDomain&&(t?this.setAttribute(Tt.CUSTOM_DOMAIN,t):this.removeAttribute(Tt.CUSTOM_DOMAIN))}get envKey(){var t;return(t=Yc(this,Tt.ENV_KEY))!=null?t:void 0}set envKey(t){this.setAttribute(Tt.ENV_KEY,`${t}`)}get noVolumePref(){return this.hasAttribute(cn.NO_VOLUME_PREF)}set noVolumePref(t){t?this.setAttribute(cn.NO_VOLUME_PREF,""):this.removeAttribute(cn.NO_VOLUME_PREF)}get noMutedPref(){return this.hasAttribute(cn.NO_MUTED_PREF)}set noMutedPref(t){t?this.setAttribute(cn.NO_MUTED_PREF,""):this.removeAttribute(cn.NO_MUTED_PREF)}get debug(){return Yc(this,Tt.DEBUG)!=null}set debug(t){t?this.setAttribute(Tt.DEBUG,""):this.removeAttribute(Tt.DEBUG)}get disableTracking(){return Yc(this,Tt.DISABLE_TRACKING)!=null}set disableTracking(t){this.toggleAttribute(Tt.DISABLE_TRACKING,!!t)}get disableCookies(){return Yc(this,Tt.DISABLE_COOKIES)!=null}set disableCookies(t){t?this.setAttribute(Tt.DISABLE_COOKIES,""):this.removeAttribute(Tt.DISABLE_COOKIES)}get streamType(){var t,e,n;return(n=(e=this.getAttribute(Tt.STREAM_TYPE))!=null?e:(t=this.media)==null?void 0:t.streamType)!=null?n:Hr.UNKNOWN}set streamType(t){this.setAttribute(Tt.STREAM_TYPE,`${t}`)}get defaultStreamType(){var t,e,n;return(n=(e=this.getAttribute(cn.DEFAULT_STREAM_TYPE))!=null?e:(t=this.mediaController)==null?void 0:t.getAttribute(cn.DEFAULT_STREAM_TYPE))!=null?n:Hr.ON_DEMAND}set defaultStreamType(t){t?this.setAttribute(cn.DEFAULT_STREAM_TYPE,t):this.removeAttribute(cn.DEFAULT_STREAM_TYPE)}get targetLiveWindow(){var t,e;return this.hasAttribute(cn.TARGET_LIVE_WINDOW)?+this.getAttribute(cn.TARGET_LIVE_WINDOW):(e=(t=this.media)==null?void 0:t.targetLiveWindow)!=null?e:Number.NaN}set targetLiveWindow(t){t==this.targetLiveWindow||Number.isNaN(t)&&Number.isNaN(this.targetLiveWindow)||(t==null?this.removeAttribute(cn.TARGET_LIVE_WINDOW):this.setAttribute(cn.TARGET_LIVE_WINDOW,`${+t}`))}get liveEdgeStart(){var t;return(t=this.media)==null?void 0:t.liveEdgeStart}get startTime(){return Es(Yc(this,Tt.START_TIME))}set startTime(t){this.setAttribute(Tt.START_TIME,`${t}`)}get preferPlayback(){let t=this.getAttribute(Tt.PREFER_PLAYBACK);if(t===Cl.MSE||t===Cl.NATIVE)return t}set preferPlayback(t){t!==this.preferPlayback&&(t===Cl.MSE||t===Cl.NATIVE?this.setAttribute(Tt.PREFER_PLAYBACK,t):this.removeAttribute(Tt.PREFER_PLAYBACK))}get metadata(){var t;return(t=this.media)==null?void 0:t.metadata}set metadata(t){if(Ki(this,Ni,rc).call(this),!this.media){Zs("underlying media element missing when trying to set metadata. metadata will not be set.");return}this.media.metadata={...l7(this),...t}}get _hlsConfig(){var t;return(t=this.media)==null?void 0:t._hlsConfig}set _hlsConfig(t){if(Ki(this,Ni,rc).call(this),!this.media){Zs("underlying media element missing when trying to set _hlsConfig. _hlsConfig will not be set.");return}this.media._hlsConfig=t}async addCuePoints(t){var e;if(Ki(this,Ni,rc).call(this),!this.media){Zs("underlying media element missing when trying to addCuePoints. cuePoints will not be added.");return}return(e=this.media)==null?void 0:e.addCuePoints(t)}get activeCuePoint(){var t;return(t=this.media)==null?void 0:t.activeCuePoint}get cuePoints(){var t,e;return(e=(t=this.media)==null?void 0:t.cuePoints)!=null?e:[]}addChapters(t){var e;if(Ki(this,Ni,rc).call(this),!this.media){Zs("underlying media element missing when trying to addChapters. chapters will not be added.");return}return(e=this.media)==null?void 0:e.addChapters(t)}get activeChapter(){var t;return(t=this.media)==null?void 0:t.activeChapter}get chapters(){var t,e;return(e=(t=this.media)==null?void 0:t.chapters)!=null?e:[]}getStartDate(){var t;return(t=this.media)==null?void 0:t.getStartDate()}get currentPdt(){var t;return(t=this.media)==null?void 0:t.currentPdt}get tokens(){let t=this.getAttribute(cn.PLAYBACK_TOKEN),e=this.getAttribute(cn.DRM_TOKEN),n=this.getAttribute(cn.THUMBNAIL_TOKEN),r=this.getAttribute(cn.STORYBOARD_TOKEN);return{...Wr(this,yE),...t!=null?{playback:t}:{},...e!=null?{drm:e}:{},...n!=null?{thumbnail:n}:{},...r!=null?{storyboard:r}:{}}}set tokens(t){Fl(this,yE,t??{})}get playbackToken(){var t;return(t=this.getAttribute(cn.PLAYBACK_TOKEN))!=null?t:void 0}set playbackToken(t){this.setAttribute(cn.PLAYBACK_TOKEN,`${t}`)}get drmToken(){var t;return(t=this.getAttribute(cn.DRM_TOKEN))!=null?t:void 0}set drmToken(t){this.setAttribute(cn.DRM_TOKEN,`${t}`)}get thumbnailToken(){var t;return(t=this.getAttribute(cn.THUMBNAIL_TOKEN))!=null?t:void 0}set thumbnailToken(t){this.setAttribute(cn.THUMBNAIL_TOKEN,`${t}`)}get storyboardToken(){var t;return(t=this.getAttribute(cn.STORYBOARD_TOKEN))!=null?t:void 0}set storyboardToken(t){this.setAttribute(cn.STORYBOARD_TOKEN,`${t}`)}addTextTrack(t,e,n,r){var i;let o=(i=this.media)==null?void 0:i.nativeEl;if(o)return UN(o,t,e,n,r)}removeTextTrack(t){var e;let n=(e=this.media)==null?void 0:e.nativeEl;if(n)return T4e(n,t)}get textTracks(){var t;return(t=this.media)==null?void 0:t.textTracks}get castReceiver(){var t;return(t=this.getAttribute(cn.CAST_RECEIVER))!=null?t:void 0}set castReceiver(t){t!==this.castReceiver&&(t?this.setAttribute(cn.CAST_RECEIVER,t):this.removeAttribute(cn.CAST_RECEIVER))}get castCustomData(){var t;return(t=this.media)==null?void 0:t.castCustomData}set castCustomData(t){if(!this.media){Zs("underlying media element missing when trying to set castCustomData. castCustomData will not be set.");return}this.media.castCustomData=t}get noTooltips(){return this.hasAttribute(cn.NO_TOOLTIPS)}set noTooltips(t){if(!t){this.removeAttribute(cn.NO_TOOLTIPS);return}this.setAttribute(cn.NO_TOOLTIPS,"")}get proudlyDisplayMuxBadge(){return this.hasAttribute(cn.PROUDLY_DISPLAY_MUX_BADGE)}set proudlyDisplayMuxBadge(t){t?this.setAttribute(cn.PROUDLY_DISPLAY_MUX_BADGE,""):this.removeAttribute(cn.PROUDLY_DISPLAY_MUX_BADGE)}};mE=new WeakMap,gE=new WeakMap,yE=new WeakMap,ld=new WeakMap,bE=new WeakMap,ip=new WeakMap,Ni=new WeakSet,rc=function(){var t,e,n,r;if(!Wr(this,gE)){Fl(this,gE,!0),Ki(this,Ni,ud).call(this);try{if(customElements.upgrade(this.mediaTheme),!(this.mediaTheme instanceof Il.HTMLElement))throw""}catch{Zs("<media-theme> failed to upgrade!")}try{customElements.upgrade(this.media)}catch{Zs("underlying media element failed to upgrade!")}try{if(customElements.upgrade(this.mediaController),!(this.mediaController instanceof K$e))throw""}catch{Zs("<media-controller> failed to upgrade!")}Ki(this,Ni,f7).call(this),Ki(this,Ni,h7).call(this),Ki(this,Ni,p7).call(this),Fl(this,ld,(e=(t=this.mediaController)==null?void 0:t.hasAttribute(nr.USER_INACTIVE))!=null?e:!0),Ki(this,Ni,m7).call(this),(n=this.media)==null||n.addEventListener("streamtypechange",()=>Ki(this,Ni,ud).call(this)),(r=this.media)==null||r.addEventListener("loadstart",()=>Ki(this,Ni,ud).call(this))}},Tre=function(){var t,e;try{(t=window?.CSS)==null||t.registerProperty({name:"--media-primary-color",syntax:"<color>",inherits:!0}),(e=window?.CSS)==null||e.registerProperty({name:"--media-secondary-color",syntax:"<color>",inherits:!0})}catch{}},xP=function(t){Object.assign(Wr(this,ip),t),Ki(this,Ni,ud).call(this)},ud=function(t={}){sje(lje(vje(this,{...Wr(this,ip),...t})),this.shadowRoot)},f7=function(){let t=e=>{var n,r;if(!(e!=null&&e.startsWith("theme-")))return;let i=e.replace(/^theme-/,"");if(IP.includes(i))return;let o=this.getAttribute(e);o!=null?(n=this.mediaTheme)==null||n.setAttribute(i,o):(r=this.mediaTheme)==null||r.removeAttribute(i)};new MutationObserver(e=>{for(let{attributeName:n}of e)t(n)}).observe(this,{attributes:!0}),this.getAttributeNames().forEach(t)},h7=function(){let t=e=>{var n;let r=(n=this.media)==null?void 0:n.error;if(!(r instanceof In)){let{message:o,code:l}=r??{};r=new In(o,l)}if(!(r!=null&&r.fatal)){lu(r),r.data&&lu(`${r.name} data:`,r.data);return}let i=a7(r);i.message&&yre(i),Zs(r),r.data&&Zs(`${r.name} data:`,r.data),Ki(this,Ni,xP).call(this,{isDialogOpen:!0})};this.addEventListener("error",t),this.media&&(this.media.errorTranslator=(e={})=>{var n,r,i;if(!(((n=this.media)==null?void 0:n.error)instanceof In))return e;let o=a7((r=this.media)==null?void 0:r.error);return{player_error_code:(i=this.media)==null?void 0:i.error.code,player_error_message:o.message?String(o.message):e.player_error_message,player_error_context:o.context?String(o.context):e.player_error_context}})},p7=function(){var t,e,n,r;let i=()=>Ki(this,Ni,ud).call(this);(e=(t=this.media)==null?void 0:t.textTracks)==null||e.addEventListener("addtrack",i),(r=(n=this.media)==null?void 0:n.textTracks)==null||r.addEventListener("removetrack",i)},m7=function(){var t,e;if(!/Firefox/i.test(navigator.userAgent))return;let n,r=new WeakMap,i=()=>this.streamType===Hr.LIVE&&!this.secondaryColor&&this.offsetWidth>=800,o=(c,d,h=!1)=>{i()||Array.from(c&&c.activeCues||[]).forEach(f=>{if(!(!f.snapToLines||f.line<-5||f.line>=0&&f.line<10))if(!d||this.paused){let p=f.text.split(`
`).length,m=-3;this.streamType===Hr.LIVE&&(m=-2);let g=m-p;if(f.line===g&&!h)return;r.has(f)||r.set(f,f.line),f.line=g}else setTimeout(()=>{f.line=r.get(f)||"auto"},500)})},l=()=>{var c,d;o(n,(d=(c=this.mediaController)==null?void 0:c.hasAttribute(nr.USER_INACTIVE))!=null?d:!1)},u=()=>{var c,d;let h=Array.from(((d=(c=this.mediaController)==null?void 0:c.media)==null?void 0:d.textTracks)||[]).filter(f=>["subtitles","captions"].includes(f.kind)&&f.mode==="showing")[0];h!==n&&n?.removeEventListener("cuechange",l),n=h,n?.addEventListener("cuechange",l),o(n,Wr(this,ld))};u(),(t=this.textTracks)==null||t.addEventListener("change",u),(e=this.textTracks)==null||e.addEventListener("addtrack",u),this.addEventListener("userinactivechange",()=>{var c,d;let h=(d=(c=this.mediaController)==null?void 0:c.hasAttribute(nr.USER_INACTIVE))!=null?d:!0;Wr(this,ld)!==h&&(Fl(this,ld,h),o(n,Wr(this,ld)))})};function Yc(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var g7=xje,Sre=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class t extends Sre{}globalThis.DocumentFragment=t}var Rje=class extends Sre{},kje={get(t){},define(t,e,n){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(Rje)}},Cje={customElements:kje},Dje=typeof window>"u"||typeof globalThis.customElements>"u",dC=Dje?Cje:globalThis;dC.customElements.get("mux-player")||(dC.customElements.define("mux-player",g7),dC.MuxPlayerElement=g7);var wre=parseInt(Me.version)>=19,y7={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},Lje=t=>t==null,Pje=(t,e)=>Lje(e)?!1:t in e,Oje=t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),Mje=(t,e)=>{if(!(!wre&&typeof e=="boolean"&&!e)){if(Pje(t,y7))return y7[t];if(typeof e<"u")return/[A-Z]/.test(t)?Oje(t):t}},Nje=(t,e)=>!wre&&typeof t=="boolean"?"":t,Fje=(t={})=>{let{ref:e,...n}=t;return Object.entries(n).reduce((r,[i,o])=>{let l=Mje(i,o);if(!l)return r;let u=Nje(o);return r[l]=u,r},{})};function b7(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Uje(...t){return e=>{let n=!1,r=t.map(i=>{let o=b7(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){let o=r[i];typeof o=="function"?o():b7(t[i],null)}}}}function Bje(...t){return Bt.useCallback(Uje(...t),t)}var zje=Object.prototype.hasOwnProperty,$je=(t,e)=>{if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(Array.isArray(t))return!Array.isArray(e)||t.length!==e.length?!1:t.some((i,o)=>e[o]===i);let n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!zje.call(e,n[i])||!Object.is(t[n[i]],e[n[i]]))return!1;return!0},Are=(t,e,n)=>!$je(e,t[n]),qje=(t,e,n)=>{t[n]=e},jje=(t,e,n,r=qje,i=Are)=>Bt.useEffect(()=>{let o=n?.current;o&&i(o,e,t)&&r(o,e,t)},[n?.current,e]),sl=jje,Hje=()=>{try{return"3.9.2"}catch{}return"UNKNOWN"},Gje=Hje(),Vje=()=>Gje,bi=(t,e,n)=>Bt.useEffect(()=>{let r=e?.current;if(!r||!n)return;let i=t,o=n;return r.addEventListener(i,o),()=>{r.removeEventListener(i,o)}},[e?.current,n,t]),Kje=Me.forwardRef(({children:t,...e},n)=>Me.createElement("mux-player",{suppressHydrationWarning:!0,...Fje(e),ref:n},t)),Wje=(t,e)=>{let{onAbort:n,onCanPlay:r,onCanPlayThrough:i,onEmptied:o,onLoadStart:l,onLoadedData:u,onLoadedMetadata:c,onProgress:d,onDurationChange:h,onVolumeChange:f,onRateChange:p,onResize:m,onWaiting:g,onPlay:y,onPlaying:b,onTimeUpdate:v,onPause:_,onSeeking:E,onSeeked:T,onStalled:A,onSuspend:w,onEnded:I,onError:C,onCuePointChange:j,onChapterChange:F,metadata:K,tokens:he,paused:q,playbackId:Ee,playbackRates:Te,currentTime:ge,themeProps:Be,extraSourceParams:He,castCustomData:Ye,_hlsConfig:Ie,...we}=e;return sl("tokens",he,t),sl("playbackId",Ee,t),sl("playbackRates",Te,t),sl("metadata",K,t),sl("extraSourceParams",He,t),sl("_hlsConfig",Ie,t),sl("themeProps",Be,t),sl("castCustomData",Ye,t),sl("paused",q,t,(je,Ce)=>{Ce!=null&&(Ce?je.pause():je.play())},(je,Ce,dt)=>je.hasAttribute("autoplay")&&!je.hasPlayed?!1:Are(je,Ce,dt)),sl("currentTime",ge,t,(je,Ce)=>{Ce!=null&&(je.currentTime=Ce)}),bi("abort",t,n),bi("canplay",t,r),bi("canplaythrough",t,i),bi("emptied",t,o),bi("loadstart",t,l),bi("loadeddata",t,u),bi("loadedmetadata",t,c),bi("progress",t,d),bi("durationchange",t,h),bi("volumechange",t,f),bi("ratechange",t,p),bi("resize",t,m),bi("waiting",t,g),bi("play",t,y),bi("playing",t,b),bi("timeupdate",t,v),bi("pause",t,_),bi("seeking",t,E),bi("seeked",t,T),bi("stalled",t,A),bi("suspend",t,w),bi("ended",t,I),bi("error",t,C),bi("cuepointchange",t,j),bi("chapterchange",t,F),[we]},Ire=Vje(),xre="mux-player-react",Yje=Me.forwardRef((t,e)=>{var n;let r=Bt.useRef(null),i=Bje(r,e),[o]=Wje(r,t),[l]=Bt.useState((n=t.playerInitTime)!=null?n:DS());return Me.createElement(Kje,{ref:i,defaultHiddenCaptions:t.defaultHiddenCaptions,playerSoftwareName:xre,playerSoftwareVersion:Ire,playerInitTime:l,...o})}),Xje=Yje;const Qje=Object.freeze(Object.defineProperty({__proto__:null,MaxResolution:i4e,MediaError:In,MinResolution:a4e,RenditionOrder:s4e,default:Xje,generatePlayerInitTime:DS,playerSoftwareName:xre,playerSoftwareVersion:Ire},Symbol.toStringTag,{value:"Module"})),Zje="https://www.youtube.com/embed",Jje="https://www.youtube-nocookie.com/embed",eHe="https://www.youtube.com/iframe_api",tHe="YT",nHe="onYouTubeIframeAPIReady",v7=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})/,rHe=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/.*?[?&]list=)([\w_-]+)/;function E7(t,e={}){var n;const r={src:Rre(t,e),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return(n=e.config)!=null&&n.referrerpolicy&&(r.referrerpolicy=e.config.referrerpolicy),e.config&&(r["data-config"]=JSON.stringify(e.config)),`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
        position: relative;
        min-width: 300px;
        min-height: 150px;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
      }
    </style>
    <iframe${iHe(r)}></iframe>
  `}function Rre(t,e){if(!t.src)return;const n=t.src.includes("-nocookie")?Jje:Zje,r={controls:t.controls===""?null:0,autoplay:t.autoplay,loop:t.loop,mute:t.muted,playsinline:t.playsinline,preload:t.preload??"metadata",enablejsapi:1,cc_load_policy:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1,...e.config};if(v7.test(t.src)){const u=t.src.match(v7),c=u&&u[1];return`${n}/${c}?${_7(r)}`}const i=t.src.match(rHe),l={listType:"playlist",list:i&&i[1],...r};return`${n}?${_7(l)}`}class kre extends(globalThis.HTMLElement??class{}){static getTemplateHTML=E7;static shadowRootOptions={mode:"open"};static observedAttributes=["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src"];loadComplete=new pC;#e;#i;#r=0;#t=!1;#n;isLoaded=!1;#o=null;#a=null;#l=null;#s=1;constructor(){super(),this.#u("config")}get config(){return this.#a}set config(e){this.#a=e}async load(){if(this.#e)return;this.shadowRoot||this.attachShadow({mode:"open"});const e=!this.#i;this.#i&&(this.loadComplete=new pC,this.isLoaded=!1),this.#i=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#r=0,this.dispatchEvent(new Event("emptied"));let n=this.api;if(this.api=null,!this.src){n?.destroy();return}this.#l=document.createElement("video"),this.textTracks=this.#l.textTracks,this.textTracks.addEventListener("change",()=>{var h;const f=Array.from(this.textTracks).find(p=>p.mode==="showing");(h=this.api)==null||h.setOption("captions","track",f?{languageCode:f.language}:{})}),this.dispatchEvent(new Event("loadstart"));let r=this.shadowRoot.querySelector("iframe"),i=sHe(this.attributes);e&&r&&(this.#a=JSON.parse(r.getAttribute("data-config")||"{}")),(!r?.src||r.src!==Rre(i,this))&&(this.shadowRoot.innerHTML=E7(i,this),r=this.shadowRoot.querySelector("iframe"));const o=await oHe(eHe,tHe,nHe);this.api=new o.Player(r,{events:{onReady:()=>{var h;this.#r=1,this.dispatchEvent(new Event("loadedmetadata")),this.dispatchEvent(new Event("durationchange")),this.#s!==1&&((h=this.api)==null||h.setVolume(this.#s*100)),this.dispatchEvent(new Event("volumechange")),this.dispatchEvent(new Event("loadcomplete")),this.isLoaded=!0,this.loadComplete.resolve()},onError:h=>{console.error(h),this.#o={code:h.data,message:`YouTube iframe player error #${h.data}; visit https://developers.google.com/youtube/iframe_api_reference#onError for the full error message.`},this.dispatchEvent(new Event("error"))}}});let l=!1;this.api.addEventListener("onStateChange",h=>{var f;const p=h.data;if((p===o.PlayerState.PLAYING||p===o.PlayerState.BUFFERING)&&(l||(l=!0,this.dispatchEvent(new Event("play"))),(this.api.getOption("captions","tracklist")||[]).forEach(g=>{[...this.textTracks].some(y=>y.language===g.languageCode)||this.#l.addTextTrack("subtitles",g.displayName,g.languageCode),this.textTracks=this.#l.textTracks}),this.dispatchEvent(new Event("loadstart"))),p===o.PlayerState.PLAYING)this.seeking&&(this.#t=!1,(f=this.#n)==null||f.resolve(),this.dispatchEvent(new Event("seeked"))),this.#r=3,this.dispatchEvent(new Event("playing"));else if(p===o.PlayerState.PAUSED){const m=Math.abs(this.currentTime-u);!this.seeking&&m>.1&&(this.#t=!0,this.dispatchEvent(new Event("seeking"))),l=!1,this.dispatchEvent(new Event("pause"))}p===o.PlayerState.ENDED&&(l=!1,this.dispatchEvent(new Event("pause")),this.dispatchEvent(new Event("ended")),this.loop&&this.play())}),this.api.addEventListener("onPlaybackRateChange",()=>{this.dispatchEvent(new Event("ratechange"))}),this.api.addEventListener("onVolumeChange",()=>{var h;const f=((h=this.api)==null?void 0:h.getVolume())/100;this.#s=f,this.dispatchEvent(new Event("volumechange"))}),this.api.addEventListener("onVideoProgress",()=>{this.dispatchEvent(new Event("timeupdate"))}),await this.loadComplete;let u=0;setInterval(()=>{var h;const f=Math.abs(this.currentTime-u),p=this.buffered.end(this.buffered.length-1);this.seeking&&p>.1?(this.#t=!1,(h=this.#n)==null||h.resolve(),this.dispatchEvent(new Event("seeked"))):!this.seeking&&f>.1&&(this.#t=!0,this.dispatchEvent(new Event("seeking"))),u=this.currentTime},50);let c;const d=setInterval(()=>{const h=this.buffered.end(this.buffered.length-1);h>=this.duration&&(clearInterval(d),this.#r=4),c!=h&&(c=h,this.dispatchEvent(new Event("progress")))},100)}async attributeChangedCallback(e,n,r){if(n!==r)switch(e){case"src":case"autoplay":case"controls":case"loop":case"playsinline":this.load()}}async play(){var e;return this.#n=null,await this.loadComplete,(e=this.api)==null||e.playVideo(),cHe(this)}async pause(){var e;return await this.loadComplete,(e=this.api)==null?void 0:e.pauseVideo()}get seeking(){return this.#t}get readyState(){return this.#r}get src(){return this.getAttribute("src")}set src(e){this.src!=e&&this.setAttribute("src",e)}get error(){return this.#o}get paused(){var e,n;return this.isLoaded?[-1,0,2,5].includes((n=(e=this.api)==null?void 0:e.getPlayerState)==null?void 0:n.call(e)):!this.autoplay}get duration(){var e,n;return((n=(e=this.api)==null?void 0:e.getDuration)==null?void 0:n.call(e))??NaN}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){this.autoplay!=e&&this.toggleAttribute("autoplay",!!e)}get buffered(){var e,n;if(!this.isLoaded)return mC();const r=((e=this.api)==null?void 0:e.getVideoLoadedFraction())*((n=this.api)==null?void 0:n.getDuration());return r>0?mC(0,r):mC()}get controls(){return this.hasAttribute("controls")}set controls(e){this.controls!=e&&this.toggleAttribute("controls",!!e)}get currentTime(){var e,n;return((n=(e=this.api)==null?void 0:e.getCurrentTime)==null?void 0:n.call(e))??0}set currentTime(e){this.currentTime!=e&&(this.#n=new pC,this.loadComplete.then(()=>{var n,r;(n=this.api)==null||n.seekTo(e,!0),this.paused&&((r=this.#n)==null||r.then(()=>{var i;this.#n&&((i=this.api)==null||i.pauseVideo())}))}))}set defaultMuted(e){this.defaultMuted!=e&&this.toggleAttribute("muted",!!e)}get defaultMuted(){return this.hasAttribute("muted")}get loop(){return this.hasAttribute("loop")}set loop(e){this.loop!=e&&this.toggleAttribute("loop",!!e)}set muted(e){this.muted!=e&&this.loadComplete.then(()=>{var n,r;e?(n=this.api)==null||n.mute():(r=this.api)==null||r.unMute()})}get muted(){var e,n;return this.isLoaded?(n=(e=this.api)==null?void 0:e.isMuted)==null?void 0:n.call(e):this.defaultMuted}get playbackRate(){var e,n;return((n=(e=this.api)==null?void 0:e.getPlaybackRate)==null?void 0:n.call(e))??1}set playbackRate(e){this.playbackRate!=e&&this.loadComplete.then(()=>{var n;(n=this.api)==null||n.setPlaybackRate(e)})}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(e){this.playsInline!=e&&this.toggleAttribute("playsinline",!!e)}get poster(){return this.getAttribute("poster")}set poster(e){this.poster!=e&&this.setAttribute("poster",`${e}`)}set volume(e){this.volume!=e&&(this.#s=e,this.loadComplete.then(()=>{var n;(n=this.api)==null||n.setVolume(e*100)}))}get volume(){var e;return this.isLoaded?((e=this.api)==null?void 0:e.getVolume())/100:this.#s}#u(e){if(Object.prototype.hasOwnProperty.call(this,e)){const n=this[e];delete this[e],this[e]=n}}}function iHe(t){let e="";for(const n in t){const r=t[n];r===""?e+=` ${fC(n)}`:e+=` ${fC(n)}="${fC(`${r}`)}"`}return e}function fC(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function _7(t){return String(new URLSearchParams(aHe(t)))}function aHe(t){let e={};for(let n in t){let r=t[n];r===!0||r===""?e[n]=1:r===!1?e[n]=0:r!=null&&(e[n]=r)}return e}function sHe(t){let e={};for(let n of t)e[n.name]=n.value;return e}const hC={};async function oHe(t,e,n){return hC[t]?hC[t]:self[e]?(await lHe(0),self[e]):hC[t]=new Promise(function(r,i){const o=document.createElement("script");o.src=t;const l=()=>r(self[e]);self[n]=l,o.onload=()=>!n,o.onerror=i,document.head.append(o)})}const lHe=t=>new Promise(e=>setTimeout(e,t));function uHe(t){return(...e)=>new Promise(n=>{t(...e,(...r)=>{r.length>1?n(r):n(r[0])})})}function cHe(t){return uHe((e,n)=>{let r;t.addEventListener(e,r=()=>{t.removeEventListener(e,r),n()})})("playing")}let pC=class extends Promise{constructor(e=()=>{}){let n,r;super((i,o)=>{e(i,o),n=i,r=o}),this.resolve=n,this.reject=r}};function mC(t,e){return Array.isArray(t)?gC(t):t==null||e==null||t===0&&e===0?gC([[0,0]]):gC([[t,e]])}function gC(t){return Object.defineProperties(t,{start:{value:e=>t[e][0]},end:{value:e=>t[e][1]}}),t}globalThis.customElements&&!globalThis.customElements.get("youtube-video")&&globalThis.customElements.define("youtube-video",kre);var dHe=kre,fHe=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),hHe={className:"class",htmlFor:"for"};function Cre(t){return t.toLowerCase()}function T7(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function pHe({react:t,tagName:e,elementClass:n,events:r,displayName:i,defaultProps:o,toAttributeName:l=Cre,toAttributeValue:u=T7}){const c=Number.parseInt(t.version)>=19,d=t.forwardRef((h,f)=>{var p,m;const g=t.useRef(null),y=t.useRef(new Map),b={},v={},_={},E={};for(const[T,A]of Object.entries(h)){if(fHe.has(T)){_[T]=A;continue}const w=l(hHe[T]??T);if(n.prototype&&T in n.prototype&&!(T in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((m=n.observedAttributes)!=null&&m.some(C=>C===w))){E[T]=A;continue}if(T.startsWith("on")){b[T]=A;continue}const I=u(A);if(w&&I!=null&&(v[w]=String(I),c||(_[w]=I)),w&&c){const C=T7(A);I!==C?_[w]=I:_[w]=A}}if(typeof window<"u"){for(const T in b){const A=b[T],w=T.endsWith("Capture"),I=(r?.[T]??T.slice(2).toLowerCase()).slice(0,w?-7:void 0);t.useLayoutEffect(()=>{const C=g?.current;if(!(!C||typeof A!="function"))return C.addEventListener(I,A,w),()=>{C.removeEventListener(I,A,w)}},[g?.current,A])}t.useLayoutEffect(()=>{if(g.current===null)return;const T=new Map;for(const A in E)S7(g.current,A,E[A]),y.current.delete(A),T.set(A,E[A]);for(const[A,w]of y.current)S7(g.current,A,void 0);y.current=T})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:T,delegatesFocus:A}=n.shadowRootOptions,w=t.createElement("template",{shadowrootmode:T,shadowrootdelegatesfocus:A,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(v,h)},key:"ce-la-react-ssr-template-shadow-root"});_.children=[w,_.children]}return t.createElement(e,{...o,..._,ref:t.useCallback(T=>{g.current=T,typeof f=="function"?f(T):f!==null&&(f.current=T)},[f])},_.children)});return d.displayName=i??n.name,d}function S7(t,e,n){var r;t[e]=n,n==null&&e in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&t.removeAttribute(e)}var mHe=pHe({react:Me,tagName:"youtube-video",elementClass:dHe,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":Cre(t)}});const gHe=Object.freeze(Object.defineProperty({__proto__:null,default:mHe},Symbol.toStringTag,{value:"Module"}));function w7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(n),!0).forEach(function(r){vE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qa(){qa=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(he,q,Ee){he[q]=Ee.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(he,q,Ee){return Object.defineProperty(he,q,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),he[q]}try{c({},"")}catch{c=function(q,Ee,Te){return q[Ee]=Te}}function d(he,q,Ee,Te){var ge=q&&q.prototype instanceof p?q:p,Be=Object.create(ge.prototype),He=new j(Te||[]);return r(Be,"_invoke",{value:A(he,Ee,He)}),Be}function h(he,q,Ee){try{return{type:"normal",arg:he.call(q,Ee)}}catch(Te){return{type:"throw",arg:Te}}}t.wrap=d;var f={};function p(){}function m(){}function g(){}var y={};c(y,o,function(){return this});var b=Object.getPrototypeOf,v=b&&b(b(F([])));v&&v!==e&&n.call(v,o)&&(y=v);var _=g.prototype=p.prototype=Object.create(y);function E(he){["next","throw","return"].forEach(function(q){c(he,q,function(Ee){return this._invoke(q,Ee)})})}function T(he,q){function Ee(ge,Be,He,Ye){var Ie=h(he[ge],he,Be);if(Ie.type!=="throw"){var we=Ie.arg,je=we.value;return je&&typeof je=="object"&&n.call(je,"__await")?q.resolve(je.__await).then(function(Ce){Ee("next",Ce,He,Ye)},function(Ce){Ee("throw",Ce,He,Ye)}):q.resolve(je).then(function(Ce){we.value=Ce,He(we)},function(Ce){return Ee("throw",Ce,He,Ye)})}Ye(Ie.arg)}var Te;r(this,"_invoke",{value:function(ge,Be){function He(){return new q(function(Ye,Ie){Ee(ge,Be,Ye,Ie)})}return Te=Te?Te.then(He,He):He()}})}function A(he,q,Ee){var Te="suspendedStart";return function(ge,Be){if(Te==="executing")throw new Error("Generator is already running");if(Te==="completed"){if(ge==="throw")throw Be;return K()}for(Ee.method=ge,Ee.arg=Be;;){var He=Ee.delegate;if(He){var Ye=w(He,Ee);if(Ye){if(Ye===f)continue;return Ye}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Te==="suspendedStart")throw Te="completed",Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Te="executing";var Ie=h(he,q,Ee);if(Ie.type==="normal"){if(Te=Ee.done?"completed":"suspendedYield",Ie.arg===f)continue;return{value:Ie.arg,done:Ee.done}}Ie.type==="throw"&&(Te="completed",Ee.method="throw",Ee.arg=Ie.arg)}}}function w(he,q){var Ee=q.method,Te=he.iterator[Ee];if(Te===void 0)return q.delegate=null,Ee==="throw"&&he.iterator.return&&(q.method="return",q.arg=void 0,w(he,q),q.method==="throw")||Ee!=="return"&&(q.method="throw",q.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),f;var ge=h(Te,he.iterator,q.arg);if(ge.type==="throw")return q.method="throw",q.arg=ge.arg,q.delegate=null,f;var Be=ge.arg;return Be?Be.done?(q[he.resultName]=Be.value,q.next=he.nextLoc,q.method!=="return"&&(q.method="next",q.arg=void 0),q.delegate=null,f):Be:(q.method="throw",q.arg=new TypeError("iterator result is not an object"),q.delegate=null,f)}function I(he){var q={tryLoc:he[0]};1 in he&&(q.catchLoc=he[1]),2 in he&&(q.finallyLoc=he[2],q.afterLoc=he[3]),this.tryEntries.push(q)}function C(he){var q=he.completion||{};q.type="normal",delete q.arg,he.completion=q}function j(he){this.tryEntries=[{tryLoc:"root"}],he.forEach(I,this),this.reset(!0)}function F(he){if(he){var q=he[o];if(q)return q.call(he);if(typeof he.next=="function")return he;if(!isNaN(he.length)){var Ee=-1,Te=function ge(){for(;++Ee<he.length;)if(n.call(he,Ee))return ge.value=he[Ee],ge.done=!1,ge;return ge.value=void 0,ge.done=!0,ge};return Te.next=Te}}return{next:K}}function K(){return{value:void 0,done:!0}}return m.prototype=g,r(_,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,u,"GeneratorFunction"),t.isGeneratorFunction=function(he){var q=typeof he=="function"&&he.constructor;return!!q&&(q===m||(q.displayName||q.name)==="GeneratorFunction")},t.mark=function(he){return Object.setPrototypeOf?Object.setPrototypeOf(he,g):(he.__proto__=g,c(he,u,"GeneratorFunction")),he.prototype=Object.create(_),he},t.awrap=function(he){return{__await:he}},E(T.prototype),c(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(he,q,Ee,Te,ge){ge===void 0&&(ge=Promise);var Be=new T(d(he,q,Ee,Te),ge);return t.isGeneratorFunction(q)?Be:Be.next().then(function(He){return He.done?He.value:Be.next()})},E(_),c(_,u,"Generator"),c(_,o,function(){return this}),c(_,"toString",function(){return"[object Generator]"}),t.keys=function(he){var q=Object(he),Ee=[];for(var Te in q)Ee.push(Te);return Ee.reverse(),function ge(){for(;Ee.length;){var Be=Ee.pop();if(Be in q)return ge.value=Be,ge.done=!1,ge}return ge.done=!0,ge}},t.values=F,j.prototype={constructor:j,reset:function(he){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!he)for(var q in this)q.charAt(0)==="t"&&n.call(this,q)&&!isNaN(+q.slice(1))&&(this[q]=void 0)},stop:function(){this.done=!0;var he=this.tryEntries[0].completion;if(he.type==="throw")throw he.arg;return this.rval},dispatchException:function(he){if(this.done)throw he;var q=this;function Ee(Ie,we){return Be.type="throw",Be.arg=he,q.next=Ie,we&&(q.method="next",q.arg=void 0),!!we}for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ge=this.tryEntries[Te],Be=ge.completion;if(ge.tryLoc==="root")return Ee("end");if(ge.tryLoc<=this.prev){var He=n.call(ge,"catchLoc"),Ye=n.call(ge,"finallyLoc");if(He&&Ye){if(this.prev<ge.catchLoc)return Ee(ge.catchLoc,!0);if(this.prev<ge.finallyLoc)return Ee(ge.finallyLoc)}else if(He){if(this.prev<ge.catchLoc)return Ee(ge.catchLoc,!0)}else{if(!Ye)throw new Error("try statement without catch or finally");if(this.prev<ge.finallyLoc)return Ee(ge.finallyLoc)}}}},abrupt:function(he,q){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Te=this.tryEntries[Ee];if(Te.tryLoc<=this.prev&&n.call(Te,"finallyLoc")&&this.prev<Te.finallyLoc){var ge=Te;break}}ge&&(he==="break"||he==="continue")&&ge.tryLoc<=q&&q<=ge.finallyLoc&&(ge=null);var Be=ge?ge.completion:{};return Be.type=he,Be.arg=q,ge?(this.method="next",this.next=ge.finallyLoc,f):this.complete(Be)},complete:function(he,q){if(he.type==="throw")throw he.arg;return he.type==="break"||he.type==="continue"?this.next=he.arg:he.type==="return"?(this.rval=this.arg=he.arg,this.method="return",this.next="end"):he.type==="normal"&&q&&(this.next=q),f},finish:function(he){for(var q=this.tryEntries.length-1;q>=0;--q){var Ee=this.tryEntries[q];if(Ee.finallyLoc===he)return this.complete(Ee.completion,Ee.afterLoc),C(Ee),f}},catch:function(he){for(var q=this.tryEntries.length-1;q>=0;--q){var Ee=this.tryEntries[q];if(Ee.tryLoc===he){var Te=Ee.completion;if(Te.type==="throw"){var ge=Te.arg;C(Ee)}return ge}}throw new Error("illegal catch attempt")},delegateYield:function(he,q,Ee){return this.delegate={iterator:F(he),resultName:q,nextLoc:Ee},this.method==="next"&&(this.arg=void 0),f}},t}function I7(t,e,n,r,i,o,l){try{var u=t[o](l),c=u.value}catch(d){n(d);return}u.done?e(c):Promise.resolve(c).then(r,i)}function cd(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function l(c){I7(o,r,i,l,u,"next",c)}function u(c){I7(o,r,i,l,u,"throw",c)}l(void 0)})}}function Dre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ore(r.key),r)}}function Lre(t,e,n){return e&&yHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vE(t,e,n){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vy(t,e)}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gy(t)}function Vy(t,e){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vy(t,e)}function Pre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function EE(t,e,n){return Pre()?EE=Reflect.construct.bind():EE=function(i,o,l){var u=[null];u.push.apply(u,o);var c=Function.bind.apply(i,u),d=new c;return l&&Vy(d,l.prototype),d},EE.apply(null,arguments)}function vHe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function RP(t){var e=typeof Map=="function"?new Map:void 0;return RP=function(r){if(r===null||!vHe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return EE(r,arguments,Gy(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Vy(i,r)},RP(t)}function _E(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EHe(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _E(t)}function _He(t){var e=Pre();return function(){var r=Gy(t),i;if(e){var o=Gy(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return EHe(this,i)}}function THe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ore(t){var e=THe(t,"string");return typeof e=="symbol"?e:String(e)}var Mre=typeof global<"u"&&{}.toString.call(global)==="[object global]";function x7(t,e){return t.indexOf(e.toLowerCase())===0?t:"".concat(e.toLowerCase()).concat(t.substr(0,1).toUpperCase()).concat(t.substr(1))}function SHe(t){return!!(t&&t.nodeType===1&&"nodeName"in t&&t.ownerDocument&&t.ownerDocument.defaultView)}function wHe(t){return!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t}function Hd(t){return/^(https?:)?\/\/((((player|www)\.)?vimeo\.com)|((player\.)?[a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))(?=$|\/)/.test(t)}function Nre(t){var e=/^https:\/\/player\.((vimeo\.com)|([a-zA-Z0-9-]+\.(videoji\.(hk|cn)|vimeo\.work)))\/video\/\d+/;return e.test(t)}function AHe(t){for(var e=(t||"").match(/^(?:https?:)?(?:\/\/)?([^/?]+)/),n=(e&&e[1]||"").replace("player.",""),r=[".videoji.hk",".vimeo.work",".videoji.cn"],i=0,o=r;i<o.length;i++){var l=o[i];if(n.endsWith(l))return n}return"vimeo.com"}function Fre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.id,n=t.url,r=e||n;if(!r)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(wHe(r))return"https://vimeo.com/".concat(r);if(Hd(r))return r.replace("http:","https:");throw e?new TypeError("".concat(e," is not a valid video id.")):new TypeError("".concat(r," is not a vimeo.com url."))}var R7=function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"addEventListener",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"removeEventListener",l=typeof n=="string"?[n]:n;return l.forEach(function(u){e[i](u,r)}),{cancel:function(){return l.forEach(function(c){return e[o](c,r)})}}},IHe=typeof Array.prototype.indexOf<"u",xHe=typeof window<"u"&&typeof window.postMessage<"u";if(!Mre&&(!IHe||!xHe))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RHe(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){if(t.WeakMap)return;var e=Object.prototype.hasOwnProperty,n=Object.defineProperty&&(function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}})(),r=function(o,l,u){n?Object.defineProperty(o,l,{configurable:!0,writable:!0,value:u}):o[l]=u};t.WeakMap=(function(){function o(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",u("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}r(o.prototype,"delete",function(d){if(l(this,"delete"),!i(d))return!1;var h=d[this._id];return h&&h[0]===d?(delete d[this._id],!0):!1}),r(o.prototype,"get",function(d){if(l(this,"get"),!!i(d)){var h=d[this._id];if(h&&h[0]===d)return h[1]}}),r(o.prototype,"has",function(d){if(l(this,"has"),!i(d))return!1;var h=d[this._id];return!!(h&&h[0]===d)}),r(o.prototype,"set",function(d,h){if(l(this,"set"),!i(d))throw new TypeError("Invalid value used as weak map key");var f=d[this._id];return f&&f[0]===d?(f[1]=h,this):(r(d,this._id,[d,h]),this)});function l(d,h){if(!i(d)||!e.call(d,"_id"))throw new TypeError(h+" method called on incompatible receiver "+typeof d)}function u(d){return d+"_"+c()+"."+c()}function c(){return Math.random().toString().substring(2)}return r(o,"_polyfill",!0),o})();function i(o){return Object(o)===o}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ap);var Gs=RHe(function(t){(function(n,r,i){r[n]=r[n]||i(),t.exports&&(t.exports=r[n])})("Promise",ap,function(){var n,r,i,o=Object.prototype.toString,l=typeof setImmediate<"u"?function(E){return setImmediate(E)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(E,T,A,w){return Object.defineProperty(E,T,{value:A,writable:!0,configurable:w!==!1})}}catch{n=function(T,A,w){return T[A]=w,T}}i=(function(){var E,T,A;function w(I,C){this.fn=I,this.self=C,this.next=void 0}return{add:function(C,j){A=new w(C,j),T?T.next=A:E=A,T=A,A=void 0},drain:function(){var C=E;for(E=T=r=void 0;C;)C.fn.call(C.self),C=C.next}}})();function u(_,E){i.add(_,E),r||(r=l(i.drain))}function c(_){var E,T=typeof _;return _!=null&&(T=="object"||T=="function")&&(E=_.then),typeof E=="function"?E:!1}function d(){for(var _=0;_<this.chain.length;_++)h(this,this.state===1?this.chain[_].success:this.chain[_].failure,this.chain[_]);this.chain.length=0}function h(_,E,T){var A,w;try{E===!1?T.reject(_.msg):(E===!0?A=_.msg:A=E.call(void 0,_.msg),A===T.promise?T.reject(TypeError("Promise-chain cycle")):(w=c(A))?w.call(A,T.resolve,T.reject):T.resolve(A))}catch(I){T.reject(I)}}function f(_){var E,T=this;if(!T.triggered){T.triggered=!0,T.def&&(T=T.def);try{(E=c(_))?u(function(){var A=new g(T);try{E.call(_,function(){f.apply(A,arguments)},function(){p.apply(A,arguments)})}catch(w){p.call(A,w)}}):(T.msg=_,T.state=1,T.chain.length>0&&u(d,T))}catch(A){p.call(new g(T),A)}}}function p(_){var E=this;E.triggered||(E.triggered=!0,E.def&&(E=E.def),E.msg=_,E.state=2,E.chain.length>0&&u(d,E))}function m(_,E,T,A){for(var w=0;w<E.length;w++)(function(C){_.resolve(E[C]).then(function(F){T(C,F)},A)})(w)}function g(_){this.def=_,this.triggered=!1}function y(_){this.promise=_,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function b(_){if(typeof _!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var E=new y(this);this.then=function(A,w){var I={success:typeof A=="function"?A:!0,failure:typeof w=="function"?w:!1};return I.promise=new this.constructor(function(j,F){if(typeof j!="function"||typeof F!="function")throw TypeError("Not a function");I.resolve=j,I.reject=F}),E.chain.push(I),E.state!==0&&u(d,E),I.promise},this.catch=function(A){return this.then(void 0,A)};try{_.call(void 0,function(A){f.call(E,A)},function(A){p.call(E,A)})}catch(T){p.call(E,T)}}var v=n({},"constructor",b,!1);return b.prototype=v,n(v,"__NPO__",0,!1),n(b,"resolve",function(E){var T=this;return E&&typeof E=="object"&&E.__NPO__===1?E:new T(function(w,I){if(typeof w!="function"||typeof I!="function")throw TypeError("Not a function");w(E)})}),n(b,"reject",function(E){return new this(function(A,w){if(typeof A!="function"||typeof w!="function")throw TypeError("Not a function");w(E)})}),n(b,"all",function(E){var T=this;return o.call(E)!="[object Array]"?T.reject(TypeError("Not an array")):E.length===0?T.resolve([]):new T(function(w,I){if(typeof w!="function"||typeof I!="function")throw TypeError("Not a function");var C=E.length,j=Array(C),F=0;m(T,E,function(he,q){j[he]=q,++F===C&&w(j)},I)})}),n(b,"race",function(E){var T=this;return o.call(E)!="[object Array]"?T.reject(TypeError("Not an array")):new T(function(w,I){if(typeof w!="function"||typeof I!="function")throw TypeError("Not a function");m(T,E,function(j,F){w(F)},I)})}),b})}),mu=new WeakMap;function Hm(t,e,n){var r=mu.get(t.element)||{};e in r||(r[e]=[]),r[e].push(n),mu.set(t.element,r)}function IT(t,e){var n=mu.get(t.element)||{};return n[e]||[]}function xT(t,e,n){var r=mu.get(t.element)||{};if(!r[e])return!0;if(!n)return r[e]=[],mu.set(t.element,r),!0;var i=r[e].indexOf(n);return i!==-1&&r[e].splice(i,1),mu.set(t.element,r),r[e]&&r[e].length===0}function kHe(t,e){var n=IT(t,e);if(n.length<1)return!1;var r=n.shift();return xT(t,e,r),r}function CHe(t,e){var n=mu.get(t);mu.set(e,n),mu.delete(t)}function YS(t){if(typeof t=="string")try{t=JSON.parse(t)}catch(e){return console.warn(e),{}}return t}function Xc(t,e,n){if(!(!t.element.contentWindow||!t.element.contentWindow.postMessage)){var r={method:e};n!==void 0&&(r.value=n);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));i>=8&&i<10&&(r=JSON.stringify(r)),t.element.contentWindow.postMessage(r,t.origin)}}function DHe(t,e){e=YS(e);var n=[],r;if(e.event){if(e.event==="error"){var i=IT(t,e.data.method);i.forEach(function(l){var u=new Error(e.data.message);u.name=e.data.name,l.reject(u),xT(t,e.data.method,l)})}n=IT(t,"event:".concat(e.event)),r=e.data}else if(e.method){var o=kHe(t,e.method);o&&(n.push(o),r=e.value)}n.forEach(function(l){try{if(typeof l=="function"){l.call(t,r);return}l.resolve(r)}catch{}})}var LHe=["airplay","audio_tracks","audiotrack","autopause","autoplay","background","byline","cc","chapter_id","chapters","chromecast","color","colors","controls","dnt","end_time","fullscreen","height","id","initial_quality","interactive_params","keyboard","loop","maxheight","max_quality","maxwidth","min_quality","muted","play_button_position","playsinline","portrait","preload","progress_bar","quality","quality_selector","responsive","skipping_forward","speed","start_time","texttrack","thumbnail_id","title","transcript","transparent","unmute_button","url","vimeo_logo","volume","watch_full_video","width"];function Ure(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return LHe.reduce(function(n,r){var i=t.getAttribute("data-vimeo-".concat(r));return(i||i==="")&&(n[r]=i===""?1:i),n},e)}function tF(t,e){var n=t.html;if(!e)throw new TypeError("An element must be provided");if(e.getAttribute("data-vimeo-initialized")!==null)return e.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,e.appendChild(r.firstChild),e.setAttribute("data-vimeo-initialized","true"),e.querySelector("iframe")}function Bre(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise(function(r,i){if(!Hd(t))throw new TypeError("".concat(t," is not a vimeo.com url."));var o=AHe(t),l="https://".concat(o,"/api/oembed.json?url=").concat(encodeURIComponent(t));for(var u in e)e.hasOwnProperty(u)&&(l+="&".concat(u,"=").concat(encodeURIComponent(e[u])));var c="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;c.open("GET",l,!0),c.onload=function(){if(c.status===404){i(new Error("".concat(t," was not found.")));return}if(c.status===403){i(new Error("".concat(t," is not embeddable.")));return}try{var d=JSON.parse(c.responseText);if(d.domain_status_code===403){tF(d,n),i(new Error("".concat(t," is not embeddable.")));return}r(d)}catch(h){i(h)}},c.onerror=function(){var d=c.status?" (".concat(c.status,")"):"";i(new Error("There was an error fetching the embed code from Vimeo".concat(d,".")))},c.send()})}function PHe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,e=[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(i){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(i))};e.forEach(function(r){try{if(r.getAttribute("data-vimeo-defer")!==null)return;var i=Ure(r),o=Fre(i);Bre(o,i,r).then(function(l){return tF(l,r)}).catch(n)}catch(l){n(l)}})}function OHe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var e=function(r){if(Hd(r.origin)&&!(!r.data||r.data.event!=="spacechange")){for(var i=t.querySelectorAll("iframe"),o=0;o<i.length;o++)if(i[o].contentWindow===r.source){var l=i[o].parentElement;l.style.paddingBottom="".concat(r.data.data[0].bottom,"px");break}}};window.addEventListener("message",e)}}function MHe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var e=function(r){if(Hd(r.origin)){var i=YS(r.data);if(!(!i||i.event!=="ready"))for(var o=t.querySelectorAll("iframe"),l=0;l<o.length;l++){var u=o[l],c=u.contentWindow===r.source;if(Nre(u.src)&&c){var d=new nF(u);d.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",e)}}function NHe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var e=function(i){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(i))},n=function(i){if(Hd(i.origin)){var o=YS(i.data);if(!(!o||o.event!=="ready"))for(var l=t.querySelectorAll("iframe"),u=function(){var h=l[c],f=h.contentWindow===i.source;if(Nre(h.src)&&f){var p=new nF(h);p.getVideoId().then(function(m){var g=new RegExp("[?&]vimeo_t_".concat(m,"=([^&#]*)")).exec(window.location.href);if(g&&g[1]){var y=decodeURI(g[1]);p.setCurrentTime(y)}}).catch(e)}},c=0;c<l.length;c++)u()}};window.addEventListener("message",n)}}function FHe(){var t=(function(){for(var r,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],o=0,l=i.length,u={};o<l;o++)if(r=i[o],r&&r[1]in document){for(o=0;o<r.length;o++)u[i[0][o]]=r[o];return u}return!1})(),e={fullscreenchange:t.fullscreenchange,fullscreenerror:t.fullscreenerror},n={request:function(i){return new Promise(function(o,l){var u=function d(){n.off("fullscreenchange",d),o()};n.on("fullscreenchange",u),i=i||document.documentElement;var c=i[t.requestFullscreen]();c instanceof Promise&&c.then(u).catch(l)})},exit:function(){return new Promise(function(i,o){if(!n.isFullscreen){i();return}var l=function c(){n.off("fullscreenchange",c),i()};n.on("fullscreenchange",l);var u=document[t.exitFullscreen]();u instanceof Promise&&u.then(l).catch(o)})},on:function(i,o){var l=e[i];l&&document.addEventListener(l,o)},off:function(i,o){var l=e[i];l&&document.removeEventListener(l,o)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return!!document[t.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[t.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!document[t.fullscreenEnabled]}}}),n}var UHe={role:"viewer",autoPlayMuted:!0,allowedDrift:.3,maxAllowedDrift:1,minCheckInterval:.1,maxRateAdjustment:.2,maxTimeToCatchUp:1},BHe=(function(t){bHe(n,t);var e=_He(n);function n(r,i){var o,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;return Dre(this,n),o=e.call(this),vE(_E(o),"logger",void 0),vE(_E(o),"speedAdjustment",0),vE(_E(o),"adjustSpeed",(function(){var c=cd(qa().mark(function d(h,f){var p;return qa().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(o.speedAdjustment!==f){g.next=2;break}return g.abrupt("return");case 2:return g.next=4,h.getPlaybackRate();case 4:return g.t0=g.sent,g.t1=o.speedAdjustment,g.t2=g.t0-g.t1,g.t3=f,p=g.t2+g.t3,o.log("New playbackRate:  ".concat(p)),g.next=12,h.setPlaybackRate(p);case 12:o.speedAdjustment=f;case 13:case"end":return g.stop()}},d)}));return function(d,h){return c.apply(this,arguments)}})()),o.logger=u,o.init(i,r,A7(A7({},UHe),l)),o}return Lre(n,[{key:"disconnect",value:function(){this.dispatchEvent(new Event("disconnect"))}},{key:"init",value:(function(){var r=cd(qa().mark(function o(l,u,c){var d=this,h,f,p;return qa().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this.waitForTOReadyState(l,"open");case 2:if(c.role!=="viewer"){g.next=10;break}return g.next=5,this.updatePlayer(l,u,c);case 5:h=R7(l,"change",function(){return d.updatePlayer(l,u,c)}),f=this.maintainPlaybackPosition(l,u,c),this.addEventListener("disconnect",function(){f.cancel(),h.cancel()}),g.next=14;break;case 10:return g.next=12,this.updateTimingObject(l,u);case 12:p=R7(u,["seeked","play","pause","ratechange"],function(){return d.updateTimingObject(l,u)},"on","off"),this.addEventListener("disconnect",function(){return p.cancel()});case 14:case"end":return g.stop()}},o,this)}));function i(o,l,u){return r.apply(this,arguments)}return i})()},{key:"updateTimingObject",value:(function(){var r=cd(qa().mark(function o(l,u){return qa().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.t0=l,d.next=3,u.getCurrentTime();case 3:return d.t1=d.sent,d.next=6,u.getPaused();case 6:if(!d.sent){d.next=10;break}d.t2=0,d.next=13;break;case 10:return d.next=12,u.getPlaybackRate();case 12:d.t2=d.sent;case 13:d.t3=d.t2,d.t4={position:d.t1,velocity:d.t3},d.t0.update.call(d.t0,d.t4);case 16:case"end":return d.stop()}},o)}));function i(o,l){return r.apply(this,arguments)}return i})()},{key:"updatePlayer",value:(function(){var r=cd(qa().mark(function o(l,u,c){var d,h,f;return qa().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(d=l.query(),h=d.position,f=d.velocity,typeof h=="number"&&u.setCurrentTime(h),typeof f!="number"){m.next=25;break}if(f!==0){m.next=11;break}return m.next=6,u.getPaused();case 6:if(m.t0=m.sent,m.t0!==!1){m.next=9;break}u.pause();case 9:m.next=25;break;case 11:if(!(f>0)){m.next=25;break}return m.next=14,u.getPaused();case 14:if(m.t1=m.sent,m.t1!==!0){m.next=19;break}return m.next=18,u.play().catch((function(){var g=cd(qa().mark(function y(b){return qa().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(b.name==="NotAllowedError"&&c.autoPlayMuted)){_.next=5;break}return _.next=3,u.setMuted(!0);case 3:return _.next=5,u.play().catch(function(E){return console.error("Couldn't play the video from TimingSrcConnector. Error:",E)});case 5:case"end":return _.stop()}},y)}));return function(y){return g.apply(this,arguments)}})());case 18:this.updatePlayer(l,u,c);case 19:return m.next=21,u.getPlaybackRate();case 21:if(m.t2=m.sent,m.t3=f,m.t2===m.t3){m.next=25;break}u.setPlaybackRate(f);case 25:case"end":return m.stop()}},o,this)}));function i(o,l,u){return r.apply(this,arguments)}return i})()},{key:"maintainPlaybackPosition",value:function(i,o,l){var u=this,c=l.allowedDrift,d=l.maxAllowedDrift,h=l.minCheckInterval,f=l.maxRateAdjustment,p=l.maxTimeToCatchUp,m=Math.min(p,Math.max(h,d))*1e3,g=(function(){var b=cd(qa().mark(function v(){var _,E,T,A,w;return qa().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(C.t0=i.query().velocity===0,C.t0){C.next=6;break}return C.next=4,o.getPaused();case 4:C.t1=C.sent,C.t0=C.t1===!0;case 6:if(!C.t0){C.next=8;break}return C.abrupt("return");case 8:return C.t2=i.query().position,C.next=11,o.getCurrentTime();case 11:if(C.t3=C.sent,_=C.t2-C.t3,E=Math.abs(_),u.log("Drift: ".concat(_)),!(E>d)){C.next=22;break}return C.next=18,u.adjustSpeed(o,0);case 18:o.setCurrentTime(i.query().position),u.log("Resync by currentTime"),C.next=29;break;case 22:if(!(E>c)){C.next=29;break}return T=E/p,A=f,w=T<A?(A-T)/2:A,C.next=28,u.adjustSpeed(o,w*Math.sign(_));case 28:u.log("Resync by playbackRate");case 29:case"end":return C.stop()}},v)}));return function(){return b.apply(this,arguments)}})(),y=setInterval(function(){return g()},m);return{cancel:function(){return clearInterval(y)}}}},{key:"log",value:function(i){var o;(o=this.logger)===null||o===void 0||o.call(this,"TimingSrcConnector: ".concat(i))}},{key:"waitForTOReadyState",value:function(i,o){return new Promise(function(l){var u=function c(){i.readyState===o?l():i.addEventListener("readystatechange",c,{once:!0})};u()})}}]),n})(RP(EventTarget)),$f=new WeakMap,yC=new WeakMap,ns={},nF=(function(){function t(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Dre(this,t),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),typeof document<"u"&&typeof e=="string"&&(e=document.getElementById(e)),!SHe(e))throw new TypeError("You must pass either a valid element or a valid id.");if(e.nodeName!=="IFRAME"){var i=e.querySelector("iframe");i&&(e=i)}if(e.nodeName==="IFRAME"&&!Hd(e.getAttribute("src")||""))throw new Error("The player element passed isnt a Vimeo embed.");if($f.has(e))return $f.get(e);this._window=e.ownerDocument.defaultView,this.element=e,this.origin="*";var o=new Gs(function(u,c){if(n._onMessage=function(f){if(!(!Hd(f.origin)||n.element.contentWindow!==f.source)){n.origin==="*"&&(n.origin=f.origin);var p=YS(f.data),m=p&&p.event==="error",g=m&&p.data&&p.data.method==="ready";if(g){var y=new Error(p.data.message);y.name=p.data.name,c(y);return}var b=p&&p.event==="ready",v=p&&p.method==="ping";if(b||v){n.element.setAttribute("data-ready","true"),u();return}DHe(n,p)}},n._window.addEventListener("message",n._onMessage),n.element.nodeName!=="IFRAME"){var d=Ure(e,r),h=Fre(d);Bre(h,d,e).then(function(f){var p=tF(f,e);return n.element=p,n._originalElement=e,CHe(e,p),$f.set(n.element,n),f}).catch(c)}});if(yC.set(this,o),$f.set(this.element,this),this.element.nodeName==="IFRAME"&&Xc(this,"ping"),ns.isEnabled){var l=function(){return ns.exit()};this.fullscreenchangeHandler=function(){ns.isFullscreen?Hm(n,"event:exitFullscreen",l):xT(n,"event:exitFullscreen",l),n.ready().then(function(){Xc(n,"fullscreenchange",ns.isFullscreen)})},ns.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return Lre(t,[{key:"callMethod",value:function(n){for(var r=this,i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];if(n==null)throw new TypeError("You must pass a method name.");return new Gs(function(u,c){return r.ready().then(function(){Hm(r,n,{resolve:u,reject:c}),Xc(r,n,o)}).catch(c)})}},{key:"get",value:function(n){var r=this;return new Gs(function(i,o){return n=x7(n,"get"),r.ready().then(function(){Hm(r,n,{resolve:i,reject:o}),Xc(r,n)}).catch(o)})}},{key:"set",value:function(n,r){var i=this;return new Gs(function(o,l){if(n=x7(n,"set"),r==null)throw new TypeError("There must be a value to set.");return i.ready().then(function(){Hm(i,n,{resolve:o,reject:l}),Xc(i,n,r)}).catch(l)})}},{key:"on",value:function(n,r){if(!n)throw new TypeError("You must pass an event name.");if(!r)throw new TypeError("You must pass a callback function.");if(typeof r!="function")throw new TypeError("The callback must be a function.");var i=IT(this,"event:".concat(n));i.length===0&&this.callMethod("addEventListener",n).catch(function(){}),Hm(this,"event:".concat(n),r)}},{key:"off",value:function(n,r){if(!n)throw new TypeError("You must pass an event name.");if(r&&typeof r!="function")throw new TypeError("The callback must be a function.");var i=xT(this,"event:".concat(n),r);i&&this.callMethod("removeEventListener",n).catch(function(o){})}},{key:"loadVideo",value:function(n){return this.callMethod("loadVideo",n)}},{key:"ready",value:function(){var n=yC.get(this)||new Gs(function(r,i){i(new Error("Unknown player. Probably unloaded."))});return Gs.resolve(n)}},{key:"addCuePoint",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:n,data:r})}},{key:"removeCuePoint",value:function(n){return this.callMethod("removeCuePoint",n)}},{key:"enableTextTrack",value:function(n,r){if(!n)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:n,kind:r})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return ns.isEnabled?ns.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return ns.isEnabled?ns.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return ns.isEnabled?Gs.resolve(ns.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"remotePlaybackPrompt",value:function(){return this.callMethod("remotePlaybackPrompt")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var n=this;return new Gs(function(r){if(yC.delete(n),$f.delete(n.element),n._originalElement&&($f.delete(n._originalElement),n._originalElement.removeAttribute("data-vimeo-initialized")),n.element&&n.element.nodeName==="IFRAME"&&n.element.parentNode&&(n.element.parentNode.parentNode&&n._originalElement&&n._originalElement!==n.element.parentNode?n.element.parentNode.parentNode.removeChild(n.element.parentNode):n.element.parentNode.removeChild(n.element)),n.element&&n.element.nodeName==="DIV"&&n.element.parentNode){n.element.removeAttribute("data-vimeo-initialized");var i=n.element.querySelector("iframe");i&&i.parentNode&&(i.parentNode.parentNode&&n._originalElement&&n._originalElement!==i.parentNode?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i))}n._window.removeEventListener("message",n._onMessage),ns.isEnabled&&ns.off("fullscreenchange",n.fullscreenchangeHandler),r()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(n){return this.set("autopause",n)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(n){return this.set("cameraProps",n)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"getColors",value:function(){return Gs.all([this.get("colorOne"),this.get("colorTwo"),this.get("colorThree"),this.get("colorFour")])}},{key:"setColor",value:function(n){return this.set("color",n)}},{key:"setColors",value:function(n){if(!Array.isArray(n))return new Gs(function(o,l){return l(new TypeError("Argument must be an array."))});var r=new Gs(function(o){return o(null)}),i=[n[0]?this.set("colorOne",n[0]):r,n[1]?this.set("colorTwo",n[1]):r,n[2]?this.set("colorThree",n[2]):r,n[3]?this.set("colorFour",n[3]):r];return Gs.all(i)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(n){return this.set("currentTime",n)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(n){return this.set("loop",n)}},{key:"setMuted",value:function(n){return this.set("muted",n)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(n){return this.set("playbackRate",n)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(n){return this.set("quality",n)}},{key:"getRemotePlaybackAvailability",value:function(){return this.get("remotePlaybackAvailability")}},{key:"getRemotePlaybackState",value:function(){return this.get("remotePlaybackState")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(n){return this.set("volume",n)}},{key:"setTimingSrc",value:(function(){var e=cd(qa().mark(function r(i,o){var l=this,u;return qa().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(i){d.next=2;break}throw new TypeError("A Timing Object must be provided.");case 2:return d.next=4,this.ready();case 4:return u=new BHe(this,i,o),Xc(this,"notifyTimingObjectConnect"),u.addEventListener("disconnect",function(){return Xc(l,"notifyTimingObjectDisconnect")}),d.abrupt("return",u);case 8:case"end":return d.stop()}},r,this)}));function n(r,i){return e.apply(this,arguments)}return n})()}]),t})();Mre||(ns=FHe(),PHe(),OHe(),MHe(),NHe());const zHe="https://player.vimeo.com/video",$He="https://vimeo.com/event",qHe=/vimeo\.com\/(video\/|event\/)?(\d+)(?:\/([\w-]+))?/;function k7(t,e={}){const n={src:jHe(t,e),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return e.config&&(n["data-config"]=JSON.stringify(e.config)),`
    <style>
      :host {
        display: inline-block;
        min-width: 300px;
        min-height: 150px;
        position: relative;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
      }
      :host(:not([controls])) {
        pointer-events: none;
      }
    </style>
    <iframe${HHe(n)}></iframe>
  `}function jHe(t,e){if(!t.src)return;const n=t.src.match(qHe),r=n&&n[1],i=n&&n[2],o=n&&n[3],l={controls:t.controls===""?null:0,autoplay:t.autoplay,loop:t.loop,muted:t.muted,playsinline:t.playsinline,preload:t.preload??"metadata",transparent:!1,autopause:t.autopause,h:o,...e.config};return r==="event/"?`${$He}/${i}/embed?${C7(l)}`:`${zHe}/${i}?${C7(l)}`}class zre extends(globalThis.HTMLElement??class{}){static getTemplateHTML=k7;static shadowRootOptions={mode:"open"};static observedAttributes=["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src"];loadComplete=new D7;#e;#i;#r;#t=0;#n=NaN;#o=!1;#a=!this.autoplay;#l=1;#s=0;#u=0;#c=!1;#d=1;#f=NaN;#h=NaN;#p=null;constructor(){super(),this.#m("config")}requestFullscreen(){var e,n;return(n=(e=this.api)==null?void 0:e.requestFullscreen)==null?void 0:n.call(e)}exitFullscreen(){var e,n;return(n=(e=this.api)==null?void 0:e.exitFullscreen)==null?void 0:n.call(e)}requestPictureInPicture(){var e,n;return(n=(e=this.api)==null?void 0:e.requestPictureInPicture)==null?void 0:n.call(e)}exitPictureInPicture(){var e,n;return(n=(e=this.api)==null?void 0:e.exitPictureInPicture)==null?void 0:n.call(e)}get config(){return this.#p}set config(e){this.#p=e}async load(){var e;if(this.#e)return;const n=!this.#i;this.#i&&(this.loadComplete=new D7),this.#i=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#t=0,this.#n=NaN,this.#o=!1,this.#a=!this.autoplay,this.#l=1,this.#s=0,this.#u=0,this.#c=!1,this.#d=1,this.#u=0,this.#f=NaN,this.#h=NaN,this.dispatchEvent(new Event("emptied"));let r=this.api;if(this.api=null,!this.src)return;this.dispatchEvent(new Event("loadstart"));const i={autoplay:this.autoplay,controls:this.controls,loop:this.loop,muted:this.defaultMuted,playsinline:this.playsInline,preload:this.preload??"metadata",transparent:!1,autopause:this.hasAttribute("autopause"),...this.#p},o=async()=>{this.#u=1,this.dispatchEvent(new Event("loadedmetadata")),this.api&&(this.#o=await this.api.getMuted(),this.#d=await this.api.getVolume(),this.dispatchEvent(new Event("volumechange")),this.#n=await this.api.getDuration(),this.dispatchEvent(new Event("durationchange"))),this.dispatchEvent(new Event("loadcomplete")),this.loadComplete.resolve()};if(this.#r){this.api=r,await this.api.loadVideo({...i,url:this.src}),await o(),await this.loadComplete;return}this.#r=!0;let l=(e=this.shadowRoot)==null?void 0:e.querySelector("iframe");n&&l&&(this.#p=JSON.parse(l.getAttribute("data-config")||"{}")),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=k7(VHe(this.attributes),this),l=this.shadowRoot.querySelector("iframe")),this.api=new nF(l);const u=document.createElement("video");this.textTracks=u.textTracks,this.api.getTextTracks().then(d=>{d.forEach(h=>{u.addTextTrack(h.kind,h.label,h.language)})}),this.textTracks.addEventListener("change",()=>{const d=Array.from(this.textTracks).find(h=>h.mode==="showing");d?this.api.enableTextTrack(d.language,d.kind):this.api.disableTextTrack()});const c=()=>{this.api.off("loaded",c),o()};this.api.on("loaded",c),this.api.on("bufferstart",()=>{this.#a&&(this.#a=!1,this.dispatchEvent(new Event("play"))),this.dispatchEvent(new Event("waiting"))}),this.api.on("play",()=>{this.#a&&(this.#a=!1,this.dispatchEvent(new Event("play")))}),this.api.on("playing",()=>{this.#u=3,this.#a=!1,this.dispatchEvent(new Event("playing"))}),this.api.on("seeking",()=>{this.#c=!0,this.dispatchEvent(new Event("seeking"))}),this.api.on("seeked",()=>{this.#c=!1,this.dispatchEvent(new Event("seeked"))}),this.api.on("pause",()=>{this.#a=!0,this.dispatchEvent(new Event("pause"))}),this.api.on("ended",()=>{this.#a=!0,this.dispatchEvent(new Event("ended"))}),this.api.on("ratechange",({playbackRate:d})=>{this.#l=d,this.dispatchEvent(new Event("ratechange"))}),this.api.on("volumechange",async({volume:d})=>{this.#d=d,this.api&&(this.#o=await this.api.getMuted()),this.dispatchEvent(new Event("volumechange"))}),this.api.on("durationchange",({duration:d})=>{this.#n=d,this.dispatchEvent(new Event("durationchange"))}),this.api.on("timeupdate",({seconds:d})=>{this.#t=d,this.dispatchEvent(new Event("timeupdate"))}),this.api.on("progress",({seconds:d})=>{this.#s=d,this.dispatchEvent(new Event("progress"))}),this.api.on("resize",({videoWidth:d,videoHeight:h})=>{this.#f=d,this.#h=h,this.dispatchEvent(new Event("resize"))}),await this.loadComplete}async attributeChangedCallback(e,n,r){if(n!==r){switch(e){case"autoplay":case"controls":case"src":{this.load();return}}await this.loadComplete,e==="loop"&&this.api.setLoop(this.loop)}}async play(){var e;this.#a=!1,this.dispatchEvent(new Event("play")),await this.loadComplete;try{await((e=this.api)==null?void 0:e.play())}catch(n){throw this.#a=!0,this.dispatchEvent(new Event("pause")),n}}async pause(){var e;return await this.loadComplete,(e=this.api)==null?void 0:e.pause()}get ended(){return this.#t>=this.#n}get seeking(){return this.#c}get readyState(){return this.#u}get videoWidth(){return this.#f}get videoHeight(){return this.#h}get src(){return this.getAttribute("src")}set src(e){this.src!=e&&this.setAttribute("src",e)}get paused(){return this.#a}get duration(){return this.#n}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){this.autoplay!=e&&this.toggleAttribute("autoplay",!!e)}get buffered(){return this.#s>0?L7(0,this.#s):L7()}get controls(){return this.hasAttribute("controls")}set controls(e){this.controls!=e&&this.toggleAttribute("controls",!!e)}get currentTime(){return this.#t}set currentTime(e){this.currentTime!=e&&(this.#t=e,this.loadComplete.then(()=>{var n;(n=this.api)==null||n.setCurrentTime(e).catch(()=>{})}))}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(e){this.defaultMuted!=e&&this.toggleAttribute("muted",!!e)}get loop(){return this.hasAttribute("loop")}set loop(e){this.loop!=e&&this.toggleAttribute("loop",!!e)}get muted(){return this.#o}set muted(e){this.muted!=e&&(this.#o=e,this.loadComplete.then(()=>{var n;(n=this.api)==null||n.setMuted(e).catch(()=>{})}))}get playbackRate(){return this.#l}set playbackRate(e){this.playbackRate!=e&&(this.#l=e,this.loadComplete.then(()=>{var n;(n=this.api)==null||n.setPlaybackRate(e).catch(()=>{})}))}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(e){this.playsInline!=e&&this.toggleAttribute("playsinline",!!e)}get poster(){return this.getAttribute("poster")}set poster(e){this.poster!=e&&this.setAttribute("poster",`${e}`)}get volume(){return this.#d}set volume(e){this.volume!=e&&(this.#d=e,this.loadComplete.then(()=>{var n;(n=this.api)==null||n.setVolume(e).catch(()=>{})}))}#m(e){if(Object.prototype.hasOwnProperty.call(this,e)){const n=this[e];delete this[e],this[e]=n}}}function HHe(t){let e="";for(const n in t){const r=t[n];r===""?e+=` ${bC(n)}`:e+=` ${bC(n)}="${bC(`${r}`)}"`}return e}function bC(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function C7(t){return String(new URLSearchParams(GHe(t)))}function GHe(t){let e={};for(let n in t){let r=t[n];r===!0||r===""?e[n]=1:r===!1?e[n]=0:r!=null&&(e[n]=r)}return e}function VHe(t){let e={};for(let n of t)e[n.name]=n.value;return e}let D7=class extends Promise{constructor(e=()=>{}){let n,r;super((i,o)=>{e(i,o),n=i,r=o}),this.resolve=n,this.reject=r}};function L7(t,e){return Array.isArray(t)?vC(t):t==null||e==null||t===0&&e===0?vC([[0,0]]):vC([[t,e]])}function vC(t){return Object.defineProperties(t,{start:{value:e=>t[e][0]},end:{value:e=>t[e][1]}}),t}globalThis.customElements&&!globalThis.customElements.get("vimeo-video")&&globalThis.customElements.define("vimeo-video",zre);var KHe=zre,WHe=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),YHe={className:"class",htmlFor:"for"};function $re(t){return t.toLowerCase()}function P7(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function XHe({react:t,tagName:e,elementClass:n,events:r,displayName:i,defaultProps:o,toAttributeName:l=$re,toAttributeValue:u=P7}){const c=Number.parseInt(t.version)>=19,d=t.forwardRef((h,f)=>{var p,m;const g=t.useRef(null),y=t.useRef(new Map),b={},v={},_={},E={};for(const[T,A]of Object.entries(h)){if(WHe.has(T)){_[T]=A;continue}const w=l(YHe[T]??T);if(n.prototype&&T in n.prototype&&!(T in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((m=n.observedAttributes)!=null&&m.some(C=>C===w))){E[T]=A;continue}if(T.startsWith("on")){b[T]=A;continue}const I=u(A);if(w&&I!=null&&(v[w]=String(I),c||(_[w]=I)),w&&c){const C=P7(A);I!==C?_[w]=I:_[w]=A}}if(typeof window<"u"){for(const T in b){const A=b[T],w=T.endsWith("Capture"),I=(r?.[T]??T.slice(2).toLowerCase()).slice(0,w?-7:void 0);t.useLayoutEffect(()=>{const C=g?.current;if(!(!C||typeof A!="function"))return C.addEventListener(I,A,w),()=>{C.removeEventListener(I,A,w)}},[g?.current,A])}t.useLayoutEffect(()=>{if(g.current===null)return;const T=new Map;for(const A in E)O7(g.current,A,E[A]),y.current.delete(A),T.set(A,E[A]);for(const[A,w]of y.current)O7(g.current,A,void 0);y.current=T})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:T,delegatesFocus:A}=n.shadowRootOptions,w=t.createElement("template",{shadowrootmode:T,shadowrootdelegatesfocus:A,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(v,h)},key:"ce-la-react-ssr-template-shadow-root"});_.children=[w,_.children]}return t.createElement(e,{...o,..._,ref:t.useCallback(T=>{g.current=T,typeof f=="function"?f(T):f!==null&&(f.current=T)},[f])},_.children)});return d.displayName=i??n.name,d}function O7(t,e,n){var r;t[e]=n,n==null&&e in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&t.removeAttribute(e)}var QHe=XHe({react:Me,tagName:"vimeo-video",elementClass:KHe,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":$re(t)}});const ZHe=Object.freeze(Object.defineProperty({__proto__:null,default:QHe},Symbol.toStringTag,{value:"Module"})),JHe=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],kP=globalThis.document?.createElement("template");kP&&(kP.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video,
      audio {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    </style>
    <slot></slot>
  `);const qre=(t,{tag:e,is:n})=>{const r=globalThis.document?.createElement(e,{is:n}),i=r?M7(r):[];return class TE extends t{static Events=JHe;static template=kP;static skipAttributes=[];static#e;static get observedAttributes(){return TE.#i(),[...r?.constructor?.observedAttributes??[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}static#i(){if(this.#e)return;this.#e=!0;const l=new Set(this.observedAttributes);l.delete("muted");for(let u of i){if(u in this.prototype)continue;if(typeof r[u]=="function")this.prototype[u]=function(...d){this.#s();const h=()=>this.call?this.call(u,...d):this.nativeEl[u].apply(this.nativeEl,d);return this.loadComplete&&!this.isLoaded?this.loadComplete.then(h):h()};else{let d={get(){this.#s();let h=u.toLowerCase();if(l.has(h)){const f=this.getAttribute(h);return f===null?!1:f===""?!0:f}return this.get?.(u)??this.nativeEl?.[u]??this.#l[u]}};u!==u.toUpperCase()&&(d.set=async function(h){this.#s();let f=u.toLowerCase();if(l.has(f)){h===!0||h===!1||h==null?this.toggleAttribute(f,!!h):this.setAttribute(f,h);return}if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.set){this.set(u,h);return}this.nativeEl[u]=h}),Object.defineProperty(this.prototype,u,d)}}}#r;#t;#n=!1;#o=!1;#a;#l;constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0))),this.load!==TE.prototype.load&&(this.loadComplete=new N7)}get loadComplete(){return this.#t}set loadComplete(l){this.#o=!1,this.#t=l,l?.then(()=>{this.#o=!0})}get isLoaded(){return this.#o}get nativeEl(){return this.#a??this.shadowRoot.querySelector(e)??this.querySelector(e)}set nativeEl(l){this.#a=l}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(l){this.toggleAttribute("muted",!!l)}get src(){return this.getAttribute("src")}set src(l){this.setAttribute("src",`${l}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(l){this.setAttribute("preload",`${l}`)}async#s(){if(this.#r)return;this.#r=!0,this.#c(),this.#d();for(let c of i)this.#u(c);const l=new Map,u=this.shadowRoot.querySelector("slot:not([name])");u?.addEventListener("slotchange",()=>{const c=new Map(l);u.assignedElements().filter(d=>["track","source"].includes(d.localName)).forEach(async d=>{c.delete(d);let h=l.get(d);h||(h=d.cloneNode(),l.set(d,h)),this.loadComplete&&!this.isLoaded&&await this.loadComplete,this.nativeEl.append?.(h)}),c.forEach(d=>d.remove())});for(let c of this.constructor.Events)this.shadowRoot.addEventListener?.(c,d=>{d.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(d.type,{detail:d.detail}))},!0)}#u(l){if(Object.prototype.hasOwnProperty.call(this,l)){const u=this[l];delete this[l],this[l]=u}}#c(){const l=document.createElement(e,{is:n});l.muted=this.hasAttribute("muted");for(let{name:u,value:c}of this.attributes)l.setAttribute(u,c);this.#l={};for(let u of M7(l))this.#l[u]=l[u];l.removeAttribute("src"),l.load()}async#d(){if(this.loadComplete&&!this.isLoaded&&await this.loadComplete,!this.nativeEl){const l=document.createElement(e,{is:n});l.part=e,this.shadowRoot.append(l)}this.nativeEl.muted=this.hasAttribute("muted")}attributeChangedCallback(l,u,c){this.#s(),l==="src"&&this.load!==TE.prototype.load&&this.#f(),this.#h(l,u,c)}async#f(){this.#n&&(this.loadComplete=new N7),this.#n=!0,await Promise.resolve(),await this.load(),this.loadComplete?.resolve(),await this.loadComplete}async#h(l,u,c){this.loadComplete&&!this.isLoaded&&await this.loadComplete,!["id","class",...this.constructor.skipAttributes].includes(l)&&(c===null?this.nativeEl.removeAttribute?.(l):this.nativeEl.setAttribute?.(l,c))}connectedCallback(){this.#s()}}};function M7(t){let e=[];for(let n=Object.getPrototypeOf(t);n&&n!==HTMLElement.prototype;n=Object.getPrototypeOf(n))e.push(...Object.getOwnPropertyNames(n));return e}let N7=class extends Promise{constructor(e=()=>{}){let n,r;super((i,o)=>{e(i,o),n=i,r=o}),this.resolve=n,this.reject=r}};const e9e=globalThis.document?qre(HTMLElement,{tag:"video"}):class{};globalThis.document&&qre(HTMLElement,{tag:"audio"});var F7,U7;const CP=(F7=globalThis.document)==null?void 0:F7.createElement("template");CP&&(CP.innerHTML=`
  <div class="wistia_embed"></div>
  `);const DP=(U7=globalThis.document)==null?void 0:U7.createElement("template");DP&&(DP.innerHTML=`
  <style>
    :host {
      display: inline-block;
      min-width: 300px;
      min-height: 150px;
      position: relative;
    }
    ::slotted(.wistia_embed) {
      position: absolute;
      width: 100%;
      height: 100%;
    }
  </style>
  <slot></slot>
  `);class jre extends e9e{static template=DP;static skipAttributes=["src"];get nativeEl(){var e;return((e=this.api)==null?void 0:e.elem())??this.querySelector("video")}async load(){var e;if((e=this.querySelector(".wistia_embed"))==null||e.remove(),!this.src)return;await new Promise(u=>setTimeout(u,50));const n=/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/i,r=this.src.match(n)[1],i={autoPlay:this.autoplay,preload:this.preload??"metadata",playsinline:this.playsInline,endVideoBehavior:this.loop&&"loop",chromeless:!this.controls,playButton:this.controls,muted:this.defaultMuted};this.append(CP.content.cloneNode(!0));const o=this.querySelector(".wistia_embed");o.id||(o.id=r9e(r)),o.classList.add(`wistia_async_${r}`),await t9e("https://fast.wistia.com/assets/external/E-v1.js","Wistia"),this.api=await new Promise(u=>{globalThis._wq.push({id:o.id,onReady:u,options:i})})}async attributeChangedCallback(e,n,r){if(e==="controls"){await this.loadComplete,e==="controls"&&(this.api.bigPlayButtonEnabled(this.controls),this.controls?this.api.releaseChromeless():this.api.requestChromeless());return}super.attributeChangedCallback(e,n,r)}get duration(){var e;return(e=this.api)==null?void 0:e.duration()}async play(){return await this.loadComplete,this.api.play(),new Promise(e=>this.addEventListener("playing",e))}}const EC={};async function t9e(t,e){return EC[t]?EC[t]:self[e]?self[e]:EC[t]=new Promise((n,r)=>{const i=document.createElement("script");i.defer=!0,i.src=t,i.onload=()=>n(self[e]),i.onerror=r,document.head.append(i)})}let n9e=0;function r9e(t){const e=++n9e;return`${t}${e}`}globalThis.customElements&&!globalThis.customElements.get("wistia-video")&&globalThis.customElements.define("wistia-video",jre);var i9e=jre,a9e=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),s9e={className:"class",htmlFor:"for"};function Hre(t){return t.toLowerCase()}function B7(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function o9e({react:t,tagName:e,elementClass:n,events:r,displayName:i,defaultProps:o,toAttributeName:l=Hre,toAttributeValue:u=B7}){const c=Number.parseInt(t.version)>=19,d=t.forwardRef((h,f)=>{var p,m;const g=t.useRef(null),y=t.useRef(new Map),b={},v={},_={},E={};for(const[T,A]of Object.entries(h)){if(a9e.has(T)){_[T]=A;continue}const w=l(s9e[T]??T);if(n.prototype&&T in n.prototype&&!(T in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((m=n.observedAttributes)!=null&&m.some(C=>C===w))){E[T]=A;continue}if(T.startsWith("on")){b[T]=A;continue}const I=u(A);if(w&&I!=null&&(v[w]=String(I),c||(_[w]=I)),w&&c){const C=B7(A);I!==C?_[w]=I:_[w]=A}}if(typeof window<"u"){for(const T in b){const A=b[T],w=T.endsWith("Capture"),I=(r?.[T]??T.slice(2).toLowerCase()).slice(0,w?-7:void 0);t.useLayoutEffect(()=>{const C=g?.current;if(!(!C||typeof A!="function"))return C.addEventListener(I,A,w),()=>{C.removeEventListener(I,A,w)}},[g?.current,A])}t.useLayoutEffect(()=>{if(g.current===null)return;const T=new Map;for(const A in E)z7(g.current,A,E[A]),y.current.delete(A),T.set(A,E[A]);for(const[A,w]of y.current)z7(g.current,A,void 0);y.current=T})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:T,delegatesFocus:A}=n.shadowRootOptions,w=t.createElement("template",{shadowrootmode:T,shadowrootdelegatesfocus:A,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(v,h)},key:"ce-la-react-ssr-template-shadow-root"});_.children=[w,_.children]}return t.createElement(e,{...o,..._,ref:t.useCallback(T=>{g.current=T,typeof f=="function"?f(T):f!==null&&(f.current=T)},[f])},_.children)});return d.displayName=i??n.name,d}function z7(t,e,n){var r;t[e]=n,n==null&&e in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&t.removeAttribute(e)}var l9e=o9e({react:Me,tagName:"wistia-video",elementClass:i9e,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":Hre(t)}});const u9e=Object.freeze(Object.defineProperty({__proto__:null,default:l9e},Symbol.toStringTag,{value:"Module"})),c9e="https://open.spotify.com",d9e=/open\.spotify\.com\/(\w+)\/(\w+)/i,f9e="https://open.spotify.com/embed-podcast/iframe-api/v1",h9e="SpotifyIframeApi",p9e="onSpotifyIframeApiReady";function $7(t,e={}){const n={src:Gre(t,e),scrolling:"no",frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return`
    <style>
      :host {
        display: inline-block;
        min-width: 160px;
        min-height: 80px;
        position: relative;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      :host(:not([controls])) {
        display: none !important;
      }
    </style>
    <iframe${m9e(n)}></iframe>
  `}function Gre(t,e){var n,r,i;if(!t.src)return;const o=t.src.match(d9e),l=o&&o[1],u=o&&o[2],c={t:(n=e.config)==null?void 0:n.startAt,theme:((r=e.config)==null?void 0:r.theme)==="dark"?"0":null},d=(i=e.config)!=null&&i.preferVideo?"/video":"";return`${c9e}/embed/${l}/${u}${d}?${g9e(c)}`}class Vre extends(globalThis.HTMLElement??class{}){static getTemplateHTML=$7;static shadowRootOptions={mode:"open"};static observedAttributes=["controls","loop","src"];loadComplete=new j7;#e;#i;#r;#t=!1;#n=!1;#o=!0;#a=0;#l=NaN;#s=!1;#u=null;constructor(){super(),this.#c("config")}async load(){var e,n,r;if(this.#e)return;this.#i&&(this.loadComplete=new j7),this.#i=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#t=!1,this.#n=!1,this.#a=0,this.#l=NaN,this.#s=!1,this.dispatchEvent(new Event("emptied"));let i=this.api;if(this.api=null,!this.src)return;this.dispatchEvent(new Event("loadstart"));const o={t:(e=this.config)==null?void 0:e.startAt,theme:((n=this.config)==null?void 0:n.theme)==="dark"?"0":null,preferVideo:(r=this.config)==null?void 0:r.preferVideo};if(this.#r)this.api=i,this.api.iframeElement.src=Gre(q7(this.attributes),this);else{this.#r=!0,this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=$7(q7(this.attributes),this));let l=this.shadowRoot.querySelector("iframe");const u=await b9e(f9e,h9e,p9e);this.api=await new Promise(c=>u.createController(l,o,c)),this.api.iframeElement=l,this.api.addListener("ready",()=>{this.dispatchEvent(new Event("loadedmetadata")),this.dispatchEvent(new Event("durationchange")),this.dispatchEvent(new Event("volumechange"))}),this.api.addListener("playback_update",c=>{if(this.#n&&this.#o&&(c.data.isBuffering||!c.data.isPaused)){this.#n=!1,this.currentTime=1;return}if(c.data.duration/1e3!==this.#l&&(this.#n=!1,this.#l=c.data.duration/1e3,this.dispatchEvent(new Event("durationchange"))),c.data.position/1e3!==this.#a&&(this.#s=!1,this.#n=!1,this.#a=c.data.position/1e3,this.dispatchEvent(new Event("timeupdate"))),!this.#t&&!this.#o&&c.data.isPaused){this.#o=!0,this.dispatchEvent(new Event("pause"));return}if(this.#o&&(c.data.isBuffering||!c.data.isPaused)){this.#o=!1,this.dispatchEvent(new Event("play")),this.#t=c.data.isBuffering,this.#t?this.dispatchEvent(new Event("waiting")):this.dispatchEvent(new Event("playing"));return}if(this.#t&&!c.data.isPaused){this.#t=!1,this.dispatchEvent(new Event("playing"));return}if(!this.paused&&!this.seeking&&!this.#n&&Math.ceil(this.currentTime)>=this.duration){if(this.#n=!0,this.loop){this.currentTime=1;return}this.continuous||(this.pause(),this.dispatchEvent(new Event("ended")));return}})}this.loadComplete.resolve(),await this.loadComplete}async attributeChangedCallback(e,n,r){if(n!==r&&e==="src"){this.load();return}}async play(){var e;return this.#o=!1,this.#t=!0,this.dispatchEvent(new Event("play")),await this.loadComplete,(e=this.api)==null?void 0:e.resume()}async pause(){var e;return await this.loadComplete,(e=this.api)==null?void 0:e.pause()}get config(){return this.#u}set config(e){this.#u=e}get paused(){return this.#o??!0}get muted(){return!1}set muted(e){}get volume(){return 1}set volume(e){}get ended(){return Math.ceil(this.currentTime)>=this.duration}get seeking(){return this.#s}get loop(){return this.hasAttribute("loop")}set loop(e){this.loop!=e&&this.toggleAttribute("loop",!!e)}get currentTime(){return this.#a}set currentTime(e){if(this.currentTime==e)return;this.#s=!0;let n=this.#a;this.#a=e,this.dispatchEvent(new Event("timeupdate")),this.#a=n,this.loadComplete.then(()=>{var r;(r=this.api)==null||r.seek(e)})}get duration(){return this.#l}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",`${e}`)}#c(e){if(Object.prototype.hasOwnProperty.call(this,e)){const n=this[e];delete this[e],this[e]=n}}}function m9e(t){let e="";for(const n in t){const r=t[n];r===""?e+=` ${n}`:e+=` ${n}="${r}"`}return e}function g9e(t){return String(new URLSearchParams(y9e(t)))}function y9e(t){let e={};for(let n in t){let r=t[n];r===!0||r===""?e[n]=1:r===!1?e[n]=0:r!=null&&(e[n]=r)}return e}function q7(t){let e={};for(let n of t)e[n.name]=n.value;return e}const _C={};async function b9e(t,e,n){return _C[t]?_C[t]:self[e]?Promise.resolve(self[e]):_C[t]=new Promise(function(r,i){const o=document.createElement("script");o.src=t;const l=u=>r(u);self[n]=l,o.onload=()=>!n,o.onerror=i,document.head.append(o)})}let j7=class extends Promise{constructor(e=()=>{}){let n,r;super((i,o)=>{e(i,o),n=i,r=o}),this.resolve=n,this.reject=r}};globalThis.customElements&&!globalThis.customElements.get("spotify-audio")&&globalThis.customElements.define("spotify-audio",Vre);var v9e=Vre,E9e=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),_9e={className:"class",htmlFor:"for"};function Kre(t){return t.toLowerCase()}function H7(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function T9e({react:t,tagName:e,elementClass:n,events:r,displayName:i,defaultProps:o,toAttributeName:l=Kre,toAttributeValue:u=H7}){const c=Number.parseInt(t.version)>=19,d=t.forwardRef((h,f)=>{var p,m;const g=t.useRef(null),y=t.useRef(new Map),b={},v={},_={},E={};for(const[T,A]of Object.entries(h)){if(E9e.has(T)){_[T]=A;continue}const w=l(_9e[T]??T);if(n.prototype&&T in n.prototype&&!(T in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((m=n.observedAttributes)!=null&&m.some(C=>C===w))){E[T]=A;continue}if(T.startsWith("on")){b[T]=A;continue}const I=u(A);if(w&&I!=null&&(v[w]=String(I),c||(_[w]=I)),w&&c){const C=H7(A);I!==C?_[w]=I:_[w]=A}}if(typeof window<"u"){for(const T in b){const A=b[T],w=T.endsWith("Capture"),I=(r?.[T]??T.slice(2).toLowerCase()).slice(0,w?-7:void 0);t.useLayoutEffect(()=>{const C=g?.current;if(!(!C||typeof A!="function"))return C.addEventListener(I,A,w),()=>{C.removeEventListener(I,A,w)}},[g?.current,A])}t.useLayoutEffect(()=>{if(g.current===null)return;const T=new Map;for(const A in E)G7(g.current,A,E[A]),y.current.delete(A),T.set(A,E[A]);for(const[A,w]of y.current)G7(g.current,A,void 0);y.current=T})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:T,delegatesFocus:A}=n.shadowRootOptions,w=t.createElement("template",{shadowrootmode:T,shadowrootdelegatesfocus:A,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(v,h)},key:"ce-la-react-ssr-template-shadow-root"});_.children=[w,_.children]}return t.createElement(e,{...o,..._,ref:t.useCallback(T=>{g.current=T,typeof f=="function"?f(T):f!==null&&(f.current=T)},[f])},_.children)});return d.displayName=i??n.name,d}function G7(t,e,n){var r;t[e]=n,n==null&&e in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&t.removeAttribute(e)}var S9e=T9e({react:Me,tagName:"spotify-audio",elementClass:v9e,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":Kre(t)}});const w9e=Object.freeze(Object.defineProperty({__proto__:null,default:S9e},Symbol.toStringTag,{value:"Module"})),LP="https://player.twitch.tv",A9e=/(?:www\.|go\.)?twitch\.tv\/(?:videos?\/|\?video=)(\d+)($|\?)/,I9e=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,V7={IDLE:"Idle",ENDED:"Ended"},Gm={PAUSE:2,PLAY:3,SEEK:4,SET_MUTED:10,SET_VOLUME:11};function K7(t,e={}){const n={src:Wre(t,e),frameborder:"0",width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; picture-in-picture;",sandbox:"allow-modals allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox",scrolling:"no"};return e.config&&(n["data-config"]=JSON.stringify(e.config)),`
    <style>
      :host {
        display: inline-block;
        min-width: 300px;
        min-height: 150px;
        position: relative;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
      :host(:not([controls])) {
        pointer-events: none;
      }
    </style>
    <iframe${R9e(n)}></iframe>
  `}function Wre(t,e){var n;if(!t.src)return;const r=t.src.match(A9e),i=t.src.match(I9e),o={parent:(n=globalThis.location)==null?void 0:n.hostname,controls:t.controls===""?null:!1,autoplay:t.autoplay===""?null:!1,muted:t.muted,preload:t.preload,...e.config};if(r){const l=r[1];return`${LP}/?video=v${l}&${W7(o)}`}else if(i){const l=i[1];return`${LP}/?channel=${l}&${W7(o)}`}return""}class Yre extends(globalThis.HTMLElement??class{}){static getTemplateHTML=K7;static shadowRootOptions={mode:"open"};static observedAttributes=["autoplay","controls","loop","muted","playsinline","preload","src"];loadComplete=new Y7;#e;#i;#r;#t={};#n=0;#o=!1;#a=1;#l=!this.autoplay;#s=!1;#u=0;#c=null;constructor(){super(),this.#h("config")}get config(){return this.#c}set config(e){this.#c=e}async load(){if(this.#e)return;this.shadowRoot||this.attachShadow({mode:"open"});const e=!this.#i;if(this.#i&&(this.loadComplete=new Y7),this.#i=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#u=0,this.dispatchEvent(new Event("emptied")),!this.src){this.shadowRoot.innerHTML="",globalThis.removeEventListener("message",this.#d);return}this.dispatchEvent(new Event("loadstart"));let n=this.shadowRoot.querySelector("iframe");const r=x9e(this.attributes);e&&n&&(this.#c=JSON.parse(n.getAttribute("data-config")||"{}")),(!n?.src||n.src!==Wre(r,this))&&(this.shadowRoot.innerHTML=K7(r,this),n=this.shadowRoot.querySelector("iframe")),this.#r=n,globalThis.addEventListener("message",this.#d)}attributeChangedCallback(e,n,r){if(n!==r)switch(e){case"src":case"controls":{this.load();break}}}getVideoPlaybackQuality(){return this.#t.stats.videoStats}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e)}get readyState(){return this.#u}get seeking(){return this.#s}get buffered(){var e,n;return C9e(0,((n=(e=this.#t.stats)==null?void 0:e.videoStats)==null?void 0:n.bufferSize)??0)}get paused(){return this.#t.playback?this.#t.playback===V7.IDLE:this.#l}get ended(){return this.#t.playback?this.#t.playback===V7.ENDED:!1}get duration(){return this.#t.duration??NaN}get autoplay(){return this.hasAttribute("autoplay")}set autoplay(e){this.autoplay!=e&&this.toggleAttribute("autoplay",!!e)}get controls(){return this.hasAttribute("controls")}set controls(e){this.controls!=e&&this.toggleAttribute("controls",!!e)}get currentTime(){return this.#t.currentTime?this.#t.currentTime:this.#n}set currentTime(e){this.#n=e,this.loadComplete.then(()=>{this.#f(Gm.SEEK,e)})}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(e){this.toggleAttribute("muted",!!e)}get loop(){return this.hasAttribute("loop")}set loop(e){this.toggleAttribute("loop",!!e)}get muted(){return this.#o}set muted(e){this.#o=e,this.loadComplete.then(()=>{this.#f(Gm.SET_MUTED,e)})}get volume(){return this.#a}set volume(e){this.#a=e,this.loadComplete.then(()=>{this.#f(Gm.SET_VOLUME,e)})}get playsInline(){return this.hasAttribute("playsinline")}set playsInline(e){this.toggleAttribute("playsinline",!!e)}play(){this.#l=!1,this.#f(Gm.PLAY)}pause(){this.#l=!0,this.#f(Gm.PAUSE)}#d=async e=>{var n,r,i,o;if(!this.#r.contentWindow)return;const{data:l,source:u}=e;if(u===this.#r.contentWindow){if(l.namespace==="twitch-embed")await new Promise(d=>setTimeout(d,10)),l.eventName==="ready"?(this.dispatchEvent(new Event("loadcomplete")),this.loadComplete.resolve(),this.#u=1,this.dispatchEvent(new Event("loadedmetadata"))):l.eventName==="seek"?(this.#s=!0,this.dispatchEvent(new Event("seeking"))):l.eventName==="playing"?(this.#s&&(this.#s=!1,this.dispatchEvent(new Event("seeked"))),this.#u=3,this.dispatchEvent(new Event("playing"))):this.dispatchEvent(new Event(l.eventName));else if(l.namespace==="twitch-embed-player-proxy"&&l.eventName==="UPDATE_STATE"){const d=this.#t.duration,h=this.#t.currentTime,f=this.#t.volume,p=this.#t.muted,m=(r=(n=this.#t.stats)==null?void 0:n.videoStats)==null?void 0:r.bufferSize;this.#t={...this.#t,...l.params},d!==this.#t.duration&&this.dispatchEvent(new Event("durationchange")),h!==this.#t.currentTime&&this.dispatchEvent(new Event("timeupdate")),(f!==this.#t.volume||p!==this.#t.muted)&&(this.#t.volume!==void 0&&(this.#a=this.#t.volume),this.#t.muted!==void 0&&(this.#o=this.#t.muted),this.dispatchEvent(new Event("volumechange"))),m!==((o=(i=this.#t.stats)==null?void 0:i.videoStats)==null?void 0:o.bufferSize)&&this.dispatchEvent(new Event("progress"))}}};#f(e,n){if(!this.#r.contentWindow)return;const r={eventName:e,params:n,namespace:"twitch-embed-player-proxy"};this.#r.contentWindow.postMessage(r,LP)}#h(e){if(Object.prototype.hasOwnProperty.call(this,e)){const n=this[e];delete this[e],this[e]=n}}}function x9e(t){let e={};for(let n of t)e[n.name]=n.value;return e}function R9e(t){let e="";for(const n in t){const r=t[n];r===""?e+=` ${TC(n)}`:e+=` ${TC(n)}="${TC(`${r}`)}"`}return e}function TC(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}function W7(t){return String(new URLSearchParams(k9e(t)))}function k9e(t){let e={};for(let n in t){let r=t[n];r===!0||r===""?e[n]=!0:r===!1?e[n]=!1:r!=null&&(e[n]=r)}return e}let Y7=class extends Promise{constructor(e=()=>{}){let n,r;super((i,o)=>{e(i,o),n=i,r=o}),this.resolve=n,this.reject=r}};function C9e(t,e){return Array.isArray(t)?SC(t):e==null||e===0?SC([[0,0]]):SC([[t,e]])}function SC(t){return Object.defineProperties(t,{start:{value:e=>t[e][0]},end:{value:e=>t[e][1]}}),t}globalThis.customElements&&!globalThis.customElements.get("twitch-video")&&globalThis.customElements.define("twitch-video",Yre);var D9e=Yre,L9e=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),P9e={className:"class",htmlFor:"for"};function Xre(t){return t.toLowerCase()}function X7(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function O9e({react:t,tagName:e,elementClass:n,events:r,displayName:i,defaultProps:o,toAttributeName:l=Xre,toAttributeValue:u=X7}){const c=Number.parseInt(t.version)>=19,d=t.forwardRef((h,f)=>{var p,m;const g=t.useRef(null),y=t.useRef(new Map),b={},v={},_={},E={};for(const[T,A]of Object.entries(h)){if(L9e.has(T)){_[T]=A;continue}const w=l(P9e[T]??T);if(n.prototype&&T in n.prototype&&!(T in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((m=n.observedAttributes)!=null&&m.some(C=>C===w))){E[T]=A;continue}if(T.startsWith("on")){b[T]=A;continue}const I=u(A);if(w&&I!=null&&(v[w]=String(I),c||(_[w]=I)),w&&c){const C=X7(A);I!==C?_[w]=I:_[w]=A}}if(typeof window<"u"){for(const T in b){const A=b[T],w=T.endsWith("Capture"),I=(r?.[T]??T.slice(2).toLowerCase()).slice(0,w?-7:void 0);t.useLayoutEffect(()=>{const C=g?.current;if(!(!C||typeof A!="function"))return C.addEventListener(I,A,w),()=>{C.removeEventListener(I,A,w)}},[g?.current,A])}t.useLayoutEffect(()=>{if(g.current===null)return;const T=new Map;for(const A in E)Q7(g.current,A,E[A]),y.current.delete(A),T.set(A,E[A]);for(const[A,w]of y.current)Q7(g.current,A,void 0);y.current=T})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:T,delegatesFocus:A}=n.shadowRootOptions,w=t.createElement("template",{shadowrootmode:T,shadowrootdelegatesfocus:A,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(v,h)},key:"ce-la-react-ssr-template-shadow-root"});_.children=[w,_.children]}return t.createElement(e,{...o,..._,ref:t.useCallback(T=>{g.current=T,typeof f=="function"?f(T):f!==null&&(f.current=T)},[f])},_.children)});return d.displayName=i??n.name,d}function Q7(t,e,n){var r;t[e]=n,n==null&&e in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&t.removeAttribute(e)}var M9e=O9e({react:Me,tagName:"twitch-video",elementClass:D9e,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":Xre(t)}});const N9e=Object.freeze(Object.defineProperty({__proto__:null,default:M9e},Symbol.toStringTag,{value:"Module"})),F9e="https://www.tiktok.com/player/v1",U9e=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,hc={INIT:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3},B9e={[hc.INIT]:"emptied",[hc.PAUSED]:"pause",[hc.ENDED]:"ended",[hc.PLAYING]:"play",[hc.BUFFERING]:"waiting"};function Z7(t,e={}){const n={src:Qre(t,e),frameborder:0,width:"100%",height:"100%",allow:"accelerometer; autoplay; fullscreen; encrypted-media; gyroscope; picture-in-picture"};return e.config&&(n["data-config"]=JSON.stringify(e.config)),`
    <style>
      :host {
        display:inline-block;
        min-width: 300px;
        min-height: 150px;
        position: relative;
      }
      iframe {
        position:absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        border:0;
      }
    </style>
    <iframe ${j9e(n)} title="TikTok video"></iframe>
  `}function Qre(t,e={}){if(!t.src)return;const n=t.src.match(U9e),r=n&&n[1],i={controls:t.controls===""?null:0,autoplay:t.autoplay,muted:t.muted,loop:t.loop,rel:0,...e.config};return`${F9e}/${r}?${q9e(i)}`}class XS extends(globalThis.HTMLElement??class{}){static getTemplateHTML=Z7;static shadowRootOptions={mode:"open"};static get observedAttributes(){return["src","controls","loop","autoplay","muted"]}loadComplete=new J7;#e;#i;#r=!1;#t=0;#n=!0;#o=null;#a=100;#l=0;#s;constructor(){super(),this.#p("config")}async load(){if(this.#e)return;this.shadowRoot||this.attachShadow(XS.shadowRootOptions);const e=!this.#i;if(this.#i&&(this.loadComplete=new J7),this.#i=!0,await(this.#e=Promise.resolve()),this.#e=null,this.#t=0,this.#r=!1,this.#n=!0,!this.src){this.shadowRoot.innerHTML="",globalThis.removeEventListener("message",this.#u);return}let n=this.shadowRoot.querySelector("iframe");const r=z9e(this.attributes);e&&n&&(this.#o=JSON.parse(n.getAttribute("data-config")||"{}")),(!n?.src||n.src!==Qre(r,this))&&(this.shadowRoot.innerHTML=Z7(r,this),n=this.shadowRoot.querySelector("iframe")),this.#s=n,globalThis.addEventListener("message",this.#u)}async attributeChangedCallback(e,n,r){if(n!==r)switch(e){case"muted":{await this.loadComplete,this.muted=r!=null;break}case"autoplay":case"controls":case"loop":case"src":{this.load();return}}}get config(){return this.#o}set config(e){this.#o=e}#u=e=>{var n;if(e.source!==((n=this.#s)==null?void 0:n.contentWindow))return;const r=e.data;if(r?.["x-tiktok-player"])switch(r.type){case"onPlayerReady":this.loadComplete.resolve();break;case"onStateChange":{this.#n=[hc.INIT,hc.PAUSED,hc.ENDED].includes(r.value);const i=B9e[r.value];i&&this.dispatchEvent(new Event(i));break}case"onCurrentTime":this.#t=r.value.currentTime,this.#l=r.value.duration,this.dispatchEvent(new Event("durationchange")),this.dispatchEvent(new Event("timeupdate"));break;case"onVolumeChange":this.#a=r.value,this.dispatchEvent(new Event("volumechange"));break;case"onMute":this.#r=!!r.value,this.#a=r.value?0:this.#a,this.dispatchEvent(new Event("volumechange"));break;case"onError":this.dispatchEvent(new Event("error"));break;default:console.warn("Unhandled TikTok player message:",r);break}};#c(e,n){var r;if(!((r=this.#s)!=null&&r.contentWindow))return;const i={"x-tiktok-player":!0,type:e,...n!==void 0?{value:n}:{}};this.#s.contentWindow.postMessage(i,"*")}async play(){await this.loadComplete,this.#c("play")}async pause(){await this.loadComplete,this.#c("pause")}async#d(e){await this.loadComplete,this.#c("seekTo",Number(e))}async#f(){await this.loadComplete,this.#c("mute")}async#h(){await this.loadComplete,this.#c("unMute")}get volume(){return this.#a/100}set volume(e){console.warn("Volume control is not supported for TikTok videos.")}get currentTime(){return this.#t}set currentTime(e){this.#d(e)}get muted(){return this.#r}set muted(e){this.#r=e,e?this.#f():this.#h()}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(e){this.toggleAttribute("muted",!!e)}get paused(){return this.#n}get duration(){return this.#l}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e??"")}#p(e){if(Object.prototype.hasOwnProperty.call(this,e)){const n=this[e];delete this[e],this[e]=n}}}class J7 extends Promise{constructor(e=()=>{}){let n,r;super((i,o)=>{e(i,o),n=i,r=o}),this.resolve=n,this.reject=r}}function z9e(t){let e={};for(let n of t)e[n.name]=n.value;return e}function $9e(t){let e={};for(let n in t){let r=t[n];r===!0||r===""?e[n]=1:r===!1?e[n]=0:r!=null&&(e[n]=r)}return e}function q9e(t){return String(new URLSearchParams($9e(t)))}function j9e(t){let e="";for(const n in t){const r=t[n];r===""?e+=` ${wC(n)}`:e+=` ${wC(n)}="${wC(`${r}`)}"`}return e}function wC(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/`/g,"&#x60;")}globalThis.customElements&&!globalThis.customElements.get("tiktok-video")&&globalThis.customElements.define("tiktok-video",XS);var H9e=XS,G9e=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),V9e={className:"class",htmlFor:"for"};function Zre(t){return t.toLowerCase()}function eV(t){if(typeof t=="boolean")return t?"":void 0;if(typeof t!="function"&&!(typeof t=="object"&&t!==null))return t}function K9e({react:t,tagName:e,elementClass:n,events:r,displayName:i,defaultProps:o,toAttributeName:l=Zre,toAttributeValue:u=eV}){const c=Number.parseInt(t.version)>=19,d=t.forwardRef((h,f)=>{var p,m;const g=t.useRef(null),y=t.useRef(new Map),b={},v={},_={},E={};for(const[T,A]of Object.entries(h)){if(G9e.has(T)){_[T]=A;continue}const w=l(V9e[T]??T);if(n.prototype&&T in n.prototype&&!(T in(((p=globalThis.HTMLElement)==null?void 0:p.prototype)??{}))&&!((m=n.observedAttributes)!=null&&m.some(C=>C===w))){E[T]=A;continue}if(T.startsWith("on")){b[T]=A;continue}const I=u(A);if(w&&I!=null&&(v[w]=String(I),c||(_[w]=I)),w&&c){const C=eV(A);I!==C?_[w]=I:_[w]=A}}if(typeof window<"u"){for(const T in b){const A=b[T],w=T.endsWith("Capture"),I=(r?.[T]??T.slice(2).toLowerCase()).slice(0,w?-7:void 0);t.useLayoutEffect(()=>{const C=g?.current;if(!(!C||typeof A!="function"))return C.addEventListener(I,A,w),()=>{C.removeEventListener(I,A,w)}},[g?.current,A])}t.useLayoutEffect(()=>{if(g.current===null)return;const T=new Map;for(const A in E)tV(g.current,A,E[A]),y.current.delete(A),T.set(A,E[A]);for(const[A,w]of y.current)tV(g.current,A,void 0);y.current=T})}if(typeof window>"u"&&n?.getTemplateHTML&&n?.shadowRootOptions){const{mode:T,delegatesFocus:A}=n.shadowRootOptions,w=t.createElement("template",{shadowrootmode:T,shadowrootdelegatesfocus:A,dangerouslySetInnerHTML:{__html:n.getTemplateHTML(v,h)},key:"ce-la-react-ssr-template-shadow-root"});_.children=[w,_.children]}return t.createElement(e,{...o,..._,ref:t.useCallback(T=>{g.current=T,typeof f=="function"?f(T):f!==null&&(f.current=T)},[f])},_.children)});return d.displayName=i??n.name,d}function tV(t,e,n){var r;t[e]=n,n==null&&e in(((r=globalThis.HTMLElement)==null?void 0:r.prototype)??{})&&t.removeAttribute(e)}var W9e=K9e({react:Me,tagName:"tiktok-video",elementClass:H9e,toAttributeName(t){return t==="muted"?"":t==="defaultMuted"?"muted":Zre(t)}});const Y9e=Object.freeze(Object.defineProperty({__proto__:null,default:W9e},Symbol.toStringTag,{value:"Module"})),AC="64px",IC={},X9e=({src:t,light:e,oEmbedUrl:n,onClickPreview:r,playIcon:i,previewTabIndex:o,previewAriaLabel:l})=>{const[u,c]=Bt.useState(null);Bt.useEffect(()=>{!t||!e||!n||d({src:t,light:e,oEmbedUrl:n})},[t,e,n]);const d=async({src:b,light:v,oEmbedUrl:_})=>{if(Me.isValidElement(v))return;if(typeof v=="string"){c(v);return}if(IC[b]){c(IC[b]);return}c(null);const T=await(await fetch(_.replace("{url}",b))).json();if(T.thumbnail_url){const A=T.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");c(A),IC[b]=A}},h=b=>{(b.key==="Enter"||b.key===" ")&&r?.(b)},f=b=>{r?.(b)},p=Me.isValidElement(e),m={display:"flex",alignItems:"center",justifyContent:"center"},g={preview:{width:"100%",height:"100%",backgroundImage:u&&!p?`url(${u})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...m},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:AC,width:AC,height:AC,position:p?"absolute":void 0,...m},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},y=Me.createElement("div",{style:g.shadow,className:"react-player__shadow"},Me.createElement("div",{style:g.playIcon,className:"react-player__play-icon"}));return Me.createElement("div",{style:g.preview,className:"react-player__preview",tabIndex:o,onClick:f,onKeyDown:h,...l?{"aria-label":l}:{}},p?e:null,i||y)};var Q9e=X9e;const Z9e=Object.freeze(Object.defineProperty({__proto__:null,default:Q9e},Symbol.toStringTag,{value:"Module"}));var J9e={7267:function(t,e){e.byteLength=function(d){var h=u(d),f=h[0],p=h[1];return 3*(f+p)/4-p},e.toByteArray=function(d){var h,f,p=u(d),m=p[0],g=p[1],y=new i((function(_,E,T){return 3*(E+T)/4-T})(0,m,g)),b=0,v=g>0?m-4:m;for(f=0;f<v;f+=4)h=r[d.charCodeAt(f)]<<18|r[d.charCodeAt(f+1)]<<12|r[d.charCodeAt(f+2)]<<6|r[d.charCodeAt(f+3)],y[b++]=h>>16&255,y[b++]=h>>8&255,y[b++]=255&h;return g===2&&(h=r[d.charCodeAt(f)]<<2|r[d.charCodeAt(f+1)]>>4,y[b++]=255&h),g===1&&(h=r[d.charCodeAt(f)]<<10|r[d.charCodeAt(f+1)]<<4|r[d.charCodeAt(f+2)]>>2,y[b++]=h>>8&255,y[b++]=255&h),y},e.fromByteArray=function(d){for(var h,f=d.length,p=f%3,m=[],g=16383,y=0,b=f-p;y<b;y+=g)m.push(c(d,y,y+g>b?b:y+g));return p===1?(h=d[f-1],m.push(n[h>>2]+n[h<<4&63]+"==")):p===2&&(h=(d[f-2]<<8)+d[f-1],m.push(n[h>>10]+n[h>>4&63]+n[h<<2&63]+"=")),m.join("")};for(var n=[],r=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)n[l]=o[l],r[o.charCodeAt(l)]=l;function u(d){var h=d.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=d.indexOf("=");return f===-1&&(f=h),[f,f===h?0:4-f%4]}function c(d,h,f){for(var p,m,g=[],y=h;y<f;y+=3)p=(d[y]<<16&16711680)+(d[y+1]<<8&65280)+(255&d[y+2]),g.push(n[(m=p)>>18&63]+n[m>>12&63]+n[m>>6&63]+n[63&m]);return g.join("")}r[45]=62,r[95]=63},44:function(t,e,n){var r=n(7267),i=n(7986),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(J){return+J!=J&&(J=0),c.alloc(+J)},e.INSPECT_MAX_BYTES=50;var l=2147483647;function u(J){if(J>l)throw new RangeError('The value "'+J+'" is invalid for option "size"');var G=new Uint8Array(J);return Object.setPrototypeOf(G,c.prototype),G}function c(J,G,P){if(typeof J=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(J)}return d(J,G,P)}function d(J,G,P){if(typeof J=="string")return(function(ne,$e){if(typeof $e=="string"&&$e!==""||($e="utf8"),!c.isEncoding($e))throw new TypeError("Unknown encoding: "+$e);var Qe=0|y(ne,$e),Ve=u(Qe),We=Ve.write(ne,$e);return We!==Qe&&(Ve=Ve.slice(0,We)),Ve})(J,G);if(ArrayBuffer.isView(J))return(function(ne){if(Le(ne,Uint8Array)){var $e=new Uint8Array(ne);return m($e.buffer,$e.byteOffset,$e.byteLength)}return p(ne)})(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(Le(J,ArrayBuffer)||J&&Le(J.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(J,SharedArrayBuffer)||J&&Le(J.buffer,SharedArrayBuffer)))return m(J,G,P);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var $=J.valueOf&&J.valueOf();if($!=null&&$!==J)return c.from($,G,P);var ae=(function(ne){if(c.isBuffer(ne)){var $e=0|g(ne.length),Qe=u($e);return Qe.length===0||ne.copy(Qe,0,0,$e),Qe}return ne.length!==void 0?typeof ne.length!="number"||Pe(ne.length)?u(0):p(ne):ne.type==="Buffer"&&Array.isArray(ne.data)?p(ne.data):void 0})(J);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return c.from(J[Symbol.toPrimitive]("string"),G,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}function h(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function f(J){return h(J),u(J<0?0:0|g(J))}function p(J){for(var G=J.length<0?0:0|g(J.length),P=u(G),$=0;$<G;$+=1)P[$]=255&J[$];return P}function m(J,G,P){if(G<0||J.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<G+(P||0))throw new RangeError('"length" is outside of buffer bounds');var $;return $=G===void 0&&P===void 0?new Uint8Array(J):P===void 0?new Uint8Array(J,G):new Uint8Array(J,G,P),Object.setPrototypeOf($,c.prototype),$}function g(J){if(J>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return 0|J}function y(J,G){if(c.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||Le(J,ArrayBuffer))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);var P=J.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&P===0)return 0;for(var ae=!1;;)switch(G){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return je(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return Ce(J).length;default:if(ae)return $?-1:je(J).length;G=(""+G).toLowerCase(),ae=!0}}function b(J,G,P){var $=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(G>>>=0))return"";for(J||(J="utf8");;)switch(J){case"hex":return Ee(this,G,P);case"utf8":case"utf-8":return F(this,G,P);case"ascii":return he(this,G,P);case"latin1":case"binary":return q(this,G,P);case"base64":return j(this,G,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,G,P);default:if($)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),$=!0}}function v(J,G,P){var $=J[G];J[G]=J[P],J[P]=$}function _(J,G,P,$,ae){if(J.length===0)return-1;if(typeof P=="string"?($=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),Pe(P=+P)&&(P=ae?0:J.length-1),P<0&&(P=J.length+P),P>=J.length){if(ae)return-1;P=J.length-1}else if(P<0){if(!ae)return-1;P=0}if(typeof G=="string"&&(G=c.from(G,$)),c.isBuffer(G))return G.length===0?-1:E(J,G,P,$,ae);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?ae?Uint8Array.prototype.indexOf.call(J,G,P):Uint8Array.prototype.lastIndexOf.call(J,G,P):E(J,[G],P,$,ae);throw new TypeError("val must be string, number or Buffer")}function E(J,G,P,$,ae){var ne,$e=1,Qe=J.length,Ve=G.length;if($!==void 0&&(($=String($).toLowerCase())==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(J.length<2||G.length<2)return-1;$e=2,Qe/=2,Ve/=2,P/=2}function We(nt,bt){return $e===1?nt[bt]:nt.readUInt16BE(bt*$e)}if(ae){var Ke=-1;for(ne=P;ne<Qe;ne++)if(We(J,ne)===We(G,Ke===-1?0:ne-Ke)){if(Ke===-1&&(Ke=ne),ne-Ke+1===Ve)return Ke*$e}else Ke!==-1&&(ne-=ne-Ke),Ke=-1}else for(P+Ve>Qe&&(P=Qe-Ve),ne=P;ne>=0;ne--){for(var Je=!0,ft=0;ft<Ve;ft++)if(We(J,ne+ft)!==We(G,ft)){Je=!1;break}if(Je)return ne}return-1}function T(J,G,P,$){P=Number(P)||0;var ae=J.length-P;$?($=Number($))>ae&&($=ae):$=ae;var ne=G.length;$>ne/2&&($=ne/2);for(var $e=0;$e<$;++$e){var Qe=parseInt(G.substr(2*$e,2),16);if(Pe(Qe))return $e;J[P+$e]=Qe}return $e}function A(J,G,P,$){return dt(je(G,J.length-P),J,P,$)}function w(J,G,P,$){return dt((function(ae){for(var ne=[],$e=0;$e<ae.length;++$e)ne.push(255&ae.charCodeAt($e));return ne})(G),J,P,$)}function I(J,G,P,$){return dt(Ce(G),J,P,$)}function C(J,G,P,$){return dt((function(ae,ne){for(var $e,Qe,Ve,We=[],Ke=0;Ke<ae.length&&!((ne-=2)<0);++Ke)Qe=($e=ae.charCodeAt(Ke))>>8,Ve=$e%256,We.push(Ve),We.push(Qe);return We})(G,J.length-P),J,P,$)}function j(J,G,P){return G===0&&P===J.length?r.fromByteArray(J):r.fromByteArray(J.slice(G,P))}function F(J,G,P){P=Math.min(J.length,P);for(var $=[],ae=G;ae<P;){var ne,$e,Qe,Ve,We=J[ae],Ke=null,Je=We>239?4:We>223?3:We>191?2:1;if(ae+Je<=P)switch(Je){case 1:We<128&&(Ke=We);break;case 2:(192&(ne=J[ae+1]))==128&&(Ve=(31&We)<<6|63&ne)>127&&(Ke=Ve);break;case 3:ne=J[ae+1],$e=J[ae+2],(192&ne)==128&&(192&$e)==128&&(Ve=(15&We)<<12|(63&ne)<<6|63&$e)>2047&&(Ve<55296||Ve>57343)&&(Ke=Ve);break;case 4:ne=J[ae+1],$e=J[ae+2],Qe=J[ae+3],(192&ne)==128&&(192&$e)==128&&(192&Qe)==128&&(Ve=(15&We)<<18|(63&ne)<<12|(63&$e)<<6|63&Qe)>65535&&Ve<1114112&&(Ke=Ve)}Ke===null?(Ke=65533,Je=1):Ke>65535&&(Ke-=65536,$.push(Ke>>>10&1023|55296),Ke=56320|1023&Ke),$.push(Ke),ae+=Je}return(function(ft){var nt=ft.length;if(nt<=K)return String.fromCharCode.apply(String,ft);for(var bt="",tn=0;tn<nt;)bt+=String.fromCharCode.apply(String,ft.slice(tn,tn+=K));return bt})($)}e.kMaxLength=l,c.TYPED_ARRAY_SUPPORT=(function(){try{var J=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(J,G),J.foo()===42}catch{return!1}})(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(J,G,P){return d(J,G,P)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(J,G,P){return(function($,ae,ne){return h($),$<=0?u($):ae!==void 0?typeof ne=="string"?u($).fill(ae,ne):u($).fill(ae):u($)})(J,G,P)},c.allocUnsafe=function(J){return f(J)},c.allocUnsafeSlow=function(J){return f(J)},c.isBuffer=function(J){return J!=null&&J._isBuffer===!0&&J!==c.prototype},c.compare=function(J,G){if(Le(J,Uint8Array)&&(J=c.from(J,J.offset,J.byteLength)),Le(G,Uint8Array)&&(G=c.from(G,G.offset,G.byteLength)),!c.isBuffer(J)||!c.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(J===G)return 0;for(var P=J.length,$=G.length,ae=0,ne=Math.min(P,$);ae<ne;++ae)if(J[ae]!==G[ae]){P=J[ae],$=G[ae];break}return P<$?-1:$<P?1:0},c.isEncoding=function(J){switch(String(J).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(J,G){if(!Array.isArray(J))throw new TypeError('"list" argument must be an Array of Buffers');if(J.length===0)return c.alloc(0);var P;if(G===void 0)for(G=0,P=0;P<J.length;++P)G+=J[P].length;var $=c.allocUnsafe(G),ae=0;for(P=0;P<J.length;++P){var ne=J[P];if(Le(ne,Uint8Array))ae+ne.length>$.length?c.from(ne).copy($,ae):Uint8Array.prototype.set.call($,ne,ae);else{if(!c.isBuffer(ne))throw new TypeError('"list" argument must be an Array of Buffers');ne.copy($,ae)}ae+=ne.length}return $},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var J=this.length;if(J%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var G=0;G<J;G+=2)v(this,G,G+1);return this},c.prototype.swap32=function(){var J=this.length;if(J%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var G=0;G<J;G+=4)v(this,G,G+3),v(this,G+1,G+2);return this},c.prototype.swap64=function(){var J=this.length;if(J%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var G=0;G<J;G+=8)v(this,G,G+7),v(this,G+1,G+6),v(this,G+2,G+5),v(this,G+3,G+4);return this},c.prototype.toString=function(){var J=this.length;return J===0?"":arguments.length===0?F(this,0,J):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(J){if(!c.isBuffer(J))throw new TypeError("Argument must be a Buffer");return this===J||c.compare(this,J)===0},c.prototype.inspect=function(){var J="",G=e.INSPECT_MAX_BYTES;return J=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(J+=" ... "),"<Buffer "+J+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(J,G,P,$,ae){if(Le(J,Uint8Array)&&(J=c.from(J,J.offset,J.byteLength)),!c.isBuffer(J))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof J);if(G===void 0&&(G=0),P===void 0&&(P=J?J.length:0),$===void 0&&($=0),ae===void 0&&(ae=this.length),G<0||P>J.length||$<0||ae>this.length)throw new RangeError("out of range index");if($>=ae&&G>=P)return 0;if($>=ae)return-1;if(G>=P)return 1;if(this===J)return 0;for(var ne=(ae>>>=0)-($>>>=0),$e=(P>>>=0)-(G>>>=0),Qe=Math.min(ne,$e),Ve=this.slice($,ae),We=J.slice(G,P),Ke=0;Ke<Qe;++Ke)if(Ve[Ke]!==We[Ke]){ne=Ve[Ke],$e=We[Ke];break}return ne<$e?-1:$e<ne?1:0},c.prototype.includes=function(J,G,P){return this.indexOf(J,G,P)!==-1},c.prototype.indexOf=function(J,G,P){return _(this,J,G,P,!0)},c.prototype.lastIndexOf=function(J,G,P){return _(this,J,G,P,!1)},c.prototype.write=function(J,G,P,$){if(G===void 0)$="utf8",P=this.length,G=0;else if(P===void 0&&typeof G=="string")$=G,P=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(P)?(P>>>=0,$===void 0&&($="utf8")):($=P,P=void 0)}var ae=this.length-G;if((P===void 0||P>ae)&&(P=ae),J.length>0&&(P<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var ne=!1;;)switch($){case"hex":return T(this,J,G,P);case"utf8":case"utf-8":return A(this,J,G,P);case"ascii":case"latin1":case"binary":return w(this,J,G,P);case"base64":return I(this,J,G,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,J,G,P);default:if(ne)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),ne=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;function he(J,G,P){var $="";P=Math.min(J.length,P);for(var ae=G;ae<P;++ae)$+=String.fromCharCode(127&J[ae]);return $}function q(J,G,P){var $="";P=Math.min(J.length,P);for(var ae=G;ae<P;++ae)$+=String.fromCharCode(J[ae]);return $}function Ee(J,G,P){var $=J.length;(!G||G<0)&&(G=0),(!P||P<0||P>$)&&(P=$);for(var ae="",ne=G;ne<P;++ne)ae+=it[J[ne]];return ae}function Te(J,G,P){for(var $=J.slice(G,P),ae="",ne=0;ne<$.length-1;ne+=2)ae+=String.fromCharCode($[ne]+256*$[ne+1]);return ae}function ge(J,G,P){if(J%1!=0||J<0)throw new RangeError("offset is not uint");if(J+G>P)throw new RangeError("Trying to access beyond buffer length")}function Be(J,G,P,$,ae,ne){if(!c.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>ae||G<ne)throw new RangeError('"value" argument is out of bounds');if(P+$>J.length)throw new RangeError("Index out of range")}function He(J,G,P,$,ae,ne){if(P+$>J.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function Ye(J,G,P,$,ae){return G=+G,P>>>=0,ae||He(J,0,P,4),i.write(J,G,P,$,23,4),P+4}function Ie(J,G,P,$,ae){return G=+G,P>>>=0,ae||He(J,0,P,8),i.write(J,G,P,$,52,8),P+8}c.prototype.slice=function(J,G){var P=this.length;(J=~~J)<0?(J+=P)<0&&(J=0):J>P&&(J=P),(G=G===void 0?P:~~G)<0?(G+=P)<0&&(G=0):G>P&&(G=P),G<J&&(G=J);var $=this.subarray(J,G);return Object.setPrototypeOf($,c.prototype),$},c.prototype.readUintLE=c.prototype.readUIntLE=function(J,G,P){J>>>=0,G>>>=0,P||ge(J,G,this.length);for(var $=this[J],ae=1,ne=0;++ne<G&&(ae*=256);)$+=this[J+ne]*ae;return $},c.prototype.readUintBE=c.prototype.readUIntBE=function(J,G,P){J>>>=0,G>>>=0,P||ge(J,G,this.length);for(var $=this[J+--G],ae=1;G>0&&(ae*=256);)$+=this[J+--G]*ae;return $},c.prototype.readUint8=c.prototype.readUInt8=function(J,G){return J>>>=0,G||ge(J,1,this.length),this[J]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(J,G){return J>>>=0,G||ge(J,2,this.length),this[J]|this[J+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(J,G){return J>>>=0,G||ge(J,2,this.length),this[J]<<8|this[J+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(J,G){return J>>>=0,G||ge(J,4,this.length),(this[J]|this[J+1]<<8|this[J+2]<<16)+16777216*this[J+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(J,G){return J>>>=0,G||ge(J,4,this.length),16777216*this[J]+(this[J+1]<<16|this[J+2]<<8|this[J+3])},c.prototype.readIntLE=function(J,G,P){J>>>=0,G>>>=0,P||ge(J,G,this.length);for(var $=this[J],ae=1,ne=0;++ne<G&&(ae*=256);)$+=this[J+ne]*ae;return $>=(ae*=128)&&($-=Math.pow(2,8*G)),$},c.prototype.readIntBE=function(J,G,P){J>>>=0,G>>>=0,P||ge(J,G,this.length);for(var $=G,ae=1,ne=this[J+--$];$>0&&(ae*=256);)ne+=this[J+--$]*ae;return ne>=(ae*=128)&&(ne-=Math.pow(2,8*G)),ne},c.prototype.readInt8=function(J,G){return J>>>=0,G||ge(J,1,this.length),128&this[J]?-1*(255-this[J]+1):this[J]},c.prototype.readInt16LE=function(J,G){J>>>=0,G||ge(J,2,this.length);var P=this[J]|this[J+1]<<8;return 32768&P?4294901760|P:P},c.prototype.readInt16BE=function(J,G){J>>>=0,G||ge(J,2,this.length);var P=this[J+1]|this[J]<<8;return 32768&P?4294901760|P:P},c.prototype.readInt32LE=function(J,G){return J>>>=0,G||ge(J,4,this.length),this[J]|this[J+1]<<8|this[J+2]<<16|this[J+3]<<24},c.prototype.readInt32BE=function(J,G){return J>>>=0,G||ge(J,4,this.length),this[J]<<24|this[J+1]<<16|this[J+2]<<8|this[J+3]},c.prototype.readFloatLE=function(J,G){return J>>>=0,G||ge(J,4,this.length),i.read(this,J,!0,23,4)},c.prototype.readFloatBE=function(J,G){return J>>>=0,G||ge(J,4,this.length),i.read(this,J,!1,23,4)},c.prototype.readDoubleLE=function(J,G){return J>>>=0,G||ge(J,8,this.length),i.read(this,J,!0,52,8)},c.prototype.readDoubleBE=function(J,G){return J>>>=0,G||ge(J,8,this.length),i.read(this,J,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(J,G,P,$){J=+J,G>>>=0,P>>>=0,$||Be(this,J,G,P,Math.pow(2,8*P)-1,0);var ae=1,ne=0;for(this[G]=255&J;++ne<P&&(ae*=256);)this[G+ne]=J/ae&255;return G+P},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(J,G,P,$){J=+J,G>>>=0,P>>>=0,$||Be(this,J,G,P,Math.pow(2,8*P)-1,0);var ae=P-1,ne=1;for(this[G+ae]=255&J;--ae>=0&&(ne*=256);)this[G+ae]=J/ne&255;return G+P},c.prototype.writeUint8=c.prototype.writeUInt8=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,1,255,0),this[G]=255&J,G+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,2,65535,0),this[G]=255&J,this[G+1]=J>>>8,G+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,2,65535,0),this[G]=J>>>8,this[G+1]=255&J,G+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,4,4294967295,0),this[G+3]=J>>>24,this[G+2]=J>>>16,this[G+1]=J>>>8,this[G]=255&J,G+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,4,4294967295,0),this[G]=J>>>24,this[G+1]=J>>>16,this[G+2]=J>>>8,this[G+3]=255&J,G+4},c.prototype.writeIntLE=function(J,G,P,$){if(J=+J,G>>>=0,!$){var ae=Math.pow(2,8*P-1);Be(this,J,G,P,ae-1,-ae)}var ne=0,$e=1,Qe=0;for(this[G]=255&J;++ne<P&&($e*=256);)J<0&&Qe===0&&this[G+ne-1]!==0&&(Qe=1),this[G+ne]=(J/$e|0)-Qe&255;return G+P},c.prototype.writeIntBE=function(J,G,P,$){if(J=+J,G>>>=0,!$){var ae=Math.pow(2,8*P-1);Be(this,J,G,P,ae-1,-ae)}var ne=P-1,$e=1,Qe=0;for(this[G+ne]=255&J;--ne>=0&&($e*=256);)J<0&&Qe===0&&this[G+ne+1]!==0&&(Qe=1),this[G+ne]=(J/$e|0)-Qe&255;return G+P},c.prototype.writeInt8=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,1,127,-128),J<0&&(J=255+J+1),this[G]=255&J,G+1},c.prototype.writeInt16LE=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,2,32767,-32768),this[G]=255&J,this[G+1]=J>>>8,G+2},c.prototype.writeInt16BE=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,2,32767,-32768),this[G]=J>>>8,this[G+1]=255&J,G+2},c.prototype.writeInt32LE=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,4,2147483647,-2147483648),this[G]=255&J,this[G+1]=J>>>8,this[G+2]=J>>>16,this[G+3]=J>>>24,G+4},c.prototype.writeInt32BE=function(J,G,P){return J=+J,G>>>=0,P||Be(this,J,G,4,2147483647,-2147483648),J<0&&(J=4294967295+J+1),this[G]=J>>>24,this[G+1]=J>>>16,this[G+2]=J>>>8,this[G+3]=255&J,G+4},c.prototype.writeFloatLE=function(J,G,P){return Ye(this,J,G,!0,P)},c.prototype.writeFloatBE=function(J,G,P){return Ye(this,J,G,!1,P)},c.prototype.writeDoubleLE=function(J,G,P){return Ie(this,J,G,!0,P)},c.prototype.writeDoubleBE=function(J,G,P){return Ie(this,J,G,!1,P)},c.prototype.copy=function(J,G,P,$){if(!c.isBuffer(J))throw new TypeError("argument should be a Buffer");if(P||(P=0),$||$===0||($=this.length),G>=J.length&&(G=J.length),G||(G=0),$>0&&$<P&&($=P),$===P||J.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),J.length-G<$-P&&($=J.length-G+P);var ae=$-P;return this===J&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,P,$):Uint8Array.prototype.set.call(J,this.subarray(P,$),G),ae},c.prototype.fill=function(J,G,P,$){if(typeof J=="string"){if(typeof G=="string"?($=G,G=0,P=this.length):typeof P=="string"&&($=P,P=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!c.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(J.length===1){var ae=J.charCodeAt(0);($==="utf8"&&ae<128||$==="latin1")&&(J=ae)}}else typeof J=="number"?J&=255:typeof J=="boolean"&&(J=Number(J));if(G<0||this.length<G||this.length<P)throw new RangeError("Out of range index");if(P<=G)return this;var ne;if(G>>>=0,P=P===void 0?this.length:P>>>0,J||(J=0),typeof J=="number")for(ne=G;ne<P;++ne)this[ne]=J;else{var $e=c.isBuffer(J)?J:c.from(J,$),Qe=$e.length;if(Qe===0)throw new TypeError('The value "'+J+'" is invalid for argument "value"');for(ne=0;ne<P-G;++ne)this[ne+G]=$e[ne%Qe]}return this};var we=/[^+/0-9A-Za-z-_]/g;function je(J,G){var P;G=G||1/0;for(var $=J.length,ae=null,ne=[],$e=0;$e<$;++$e){if((P=J.charCodeAt($e))>55295&&P<57344){if(!ae){if(P>56319){(G-=3)>-1&&ne.push(239,191,189);continue}if($e+1===$){(G-=3)>-1&&ne.push(239,191,189);continue}ae=P;continue}if(P<56320){(G-=3)>-1&&ne.push(239,191,189),ae=P;continue}P=65536+(ae-55296<<10|P-56320)}else ae&&(G-=3)>-1&&ne.push(239,191,189);if(ae=null,P<128){if((G-=1)<0)break;ne.push(P)}else if(P<2048){if((G-=2)<0)break;ne.push(P>>6|192,63&P|128)}else if(P<65536){if((G-=3)<0)break;ne.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;ne.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return ne}function Ce(J){return r.toByteArray((function(G){if((G=(G=G.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G})(J))}function dt(J,G,P,$){for(var ae=0;ae<$&&!(ae+P>=G.length||ae>=J.length);++ae)G[ae+P]=J[ae];return ae}function Le(J,G){return J instanceof G||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===G.name}function Pe(J){return J!=J}var it=(function(){for(var J="0123456789abcdef",G=new Array(256),P=0;P<16;++P)for(var $=16*P,ae=0;ae<16;++ae)G[$+ae]=J[P]+J[ae];return G})()},6877:function(t,e){var n={parseBuffer:function(o){return new r(o).parse()},addBoxProcessor:function(o,l){typeof o=="string"&&typeof l=="function"&&(i.prototype._boxProcessors[o]=l)},createFile:function(){return new r},createBox:function(o,l,u){var c=i.create(o);return l&&l.append(c,u),c},createFullBox:function(o,l,u){var c=n.createBox(o,l,u);return c.version=0,c.flags=0,c},Utils:{}};n.Utils.dataViewToString=function(o,l){var u=l||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(u).decode(o);var c=[],d=0;if(u==="utf-8")for(;d<o.byteLength;){var h=o.getUint8(d++);h<128||(h<224?(h=(31&h)<<6,h|=63&o.getUint8(d++)):h<240?(h=(15&h)<<12,h|=(63&o.getUint8(d++))<<6,h|=63&o.getUint8(d++)):(h=(7&h)<<18,h|=(63&o.getUint8(d++))<<12,h|=(63&o.getUint8(d++))<<6,h|=63&o.getUint8(d++))),c.push(String.fromCharCode(h))}else for(;d<o.byteLength;)c.push(String.fromCharCode(o.getUint8(d++)));return c.join("")},n.Utils.utf8ToByteArray=function(o){var l,u;if(typeof TextEncoder<"u")l=new TextEncoder().encode(o);else for(l=[],u=0;u<o.length;++u){var c=o.charCodeAt(u);c<128?l.push(c):c<2048?(l.push(192|c>>6),l.push(128|63&c)):c<65536?(l.push(224|c>>12),l.push(128|63&c>>6),l.push(128|63&c)):(l.push(240|c>>18),l.push(128|63&c>>12),l.push(128|63&c>>6),l.push(128|63&c))}return l},n.Utils.appendBox=function(o,l,u){if(l._offset=o._cursor.offset,l._root=o._root?o._root:o,l._raw=o._raw,l._parent=o,u!==-1)if(u!=null){var c,d=-1;if(typeof u=="number")d=u;else{if(typeof u=="string")c=u;else{if(typeof u!="object"||!u.type)return void o.boxes.push(l);c=u.type}for(var h=0;h<o.boxes.length;h++)if(c===o.boxes[h].type){d=h+1;break}}o.boxes.splice(d,0,l)}else o.boxes.push(l)},e.parseBuffer=n.parseBuffer,e.addBoxProcessor=n.addBoxProcessor,e.createFile=n.createFile,e.createBox=n.createBox,e.createFullBox=n.createFullBox,e.Utils=n.Utils,n.Cursor=function(o){this.offset=o===void 0?0:o};var r=function(o){this._cursor=new n.Cursor,this.boxes=[],o&&(this._raw=new DataView(o))};r.prototype.fetch=function(o){var l=this.fetchAll(o,!0);return l.length?l[0]:null},r.prototype.fetchAll=function(o,l){var u=[];return r._sweep.call(this,o,u,l),u},r.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var o=i.parse(this);if(o.type===void 0)break;this.boxes.push(o)}return this},r._sweep=function(o,l,u){for(var c in this.type&&this.type==o&&l.push(this),this.boxes){if(l.length&&u)return;r._sweep.call(this.boxes[c],o,l,u)}},r.prototype.write=function(){var o,l=0;for(o=0;o<this.boxes.length;o++)l+=this.boxes[o].getLength(!1);var u=new Uint8Array(l);for(this._rawo=new DataView(u.buffer),this.bytes=u,this._cursor.offset=0,o=0;o<this.boxes.length;o++)this.boxes[o].write();return u.buffer},r.prototype.append=function(o,l){n.Utils.appendBox(this,o,l)};var i=function(){this._cursor=new n.Cursor};i.parse=function(o){var l=new i;return l._offset=o._cursor.offset,l._root=o._root?o._root:o,l._raw=o._raw,l._parent=o,l._parseBox(),o._cursor.offset=l._raw.byteOffset+l._raw.byteLength,l},i.create=function(o){var l=new i;return l.type=o,l.boxes=[],l},i.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca","meta","grpl","prsl"],i.prototype._boxProcessors={},i.prototype._procField=function(o,l,u){this._parsing?this[o]=this._readField(l,u):this._writeField(l,u,this[o])},i.prototype._procFieldArray=function(o,l,u,c){var d;if(this._parsing)for(this[o]=[],d=0;d<l;d++)this[o][d]=this._readField(u,c);else for(d=0;d<this[o].length;d++)this._writeField(u,c,this[o][d])},i.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},i.prototype._procEntries=function(o,l,u){var c;if(this._parsing)for(this[o]=[],c=0;c<l;c++)this[o].push({}),u.call(this,this[o][c]);else for(c=0;c<l;c++)u.call(this,this[o][c])},i.prototype._procSubEntries=function(o,l,u,c){var d;if(this._parsing)for(o[l]=[],d=0;d<u;d++)o[l].push({}),c.call(this,o[l][d]);else for(d=0;d<u;d++)c.call(this,o[l][d])},i.prototype._procEntryField=function(o,l,u,c){this._parsing?o[l]=this._readField(u,c):this._writeField(u,c,o[l])},i.prototype._procSubBoxes=function(o,l){var u;if(this._parsing)for(this[o]=[],u=0;u<l;u++)this[o].push(i.parse(this));else for(u=0;u<l;u++)this._rawo?this[o][u].write():this.size+=this[o][u].getLength()},i.prototype._readField=function(o,l){switch(o){case"uint":return this._readUint(l);case"int":return this._readInt(l);case"template":return this._readTemplate(l);case"string":return l===-1?this._readTerminatedString():this._readString(l);case"data":return this._readData(l);case"utf8":return this._readUTF8String();case"utf8string":return this._readUTF8TerminatedString();default:return-1}},i.prototype._readInt=function(o){var l=null,u=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:l=this._raw.getInt8(u);break;case 16:l=this._raw.getInt16(u);break;case 32:l=this._raw.getInt32(u);break;case 64:var c=this._raw.getInt32(u),d=this._raw.getInt32(u+4);l=c*Math.pow(2,32)+d}return this._cursor.offset+=o>>3,l},i.prototype._readUint=function(o){var l,u,c=null,d=this._cursor.offset-this._raw.byteOffset;switch(o){case 8:c=this._raw.getUint8(d);break;case 16:c=this._raw.getUint16(d);break;case 24:c=((l=this._raw.getUint16(d))<<8)+(u=this._raw.getUint8(d+2));break;case 32:c=this._raw.getUint32(d);break;case 64:l=this._raw.getUint32(d),u=this._raw.getUint32(d+4),c=l*Math.pow(2,32)+u}return this._cursor.offset+=o>>3,c},i.prototype._readString=function(o){for(var l="",u=0;u<o;u++){var c=this._readUint(8);l+=String.fromCharCode(c)}return l},i.prototype._readTemplate=function(o){return this._readUint(o/2)+this._readUint(o/2)/Math.pow(2,o/2)},i.prototype._readTerminatedString=function(){for(var o="";this._cursor.offset-this._offset<this._raw.byteLength;){var l=this._readUint(8);if(l===0)break;o+=String.fromCharCode(l)}return o},i.prototype._readData=function(o){var l=o>0?o:this._raw.byteLength-(this._cursor.offset-this._offset);if(l>0){var u=new Uint8Array(this._raw.buffer,this._cursor.offset,l);return this._cursor.offset+=l,u}return null},i.prototype._readUTF8String=function(){var o=this._raw.byteLength-(this._cursor.offset-this._offset),l=null;return o>0&&(l=new DataView(this._raw.buffer,this._cursor.offset,o),this._cursor.offset+=o),l&&n.Utils.dataViewToString(l)},i.prototype._readUTF8TerminatedString=function(){var o=this._raw.byteLength-(this._cursor.offset-this._offset),l=null;if(o>0){var u;for(l=new DataView(this._raw.buffer,this._cursor.offset,o),u=0;u<o&&l.getUint8(u)!==0;u++);l=new DataView(this._raw.buffer,this._cursor.offset,u),this._cursor.offset+=Math.min(u+1,o)}return l&&n.Utils.dataViewToString(l)},i.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},i.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},i.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(i.parse(this))},i.prototype.append=function(o,l){n.Utils.appendBox(this,o,l)},i.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.size+=this.boxes[o].getLength();return this._data&&this._writeData(this._data),this.size},i.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var o=0;o<this.boxes.length;o++)this.boxes[o].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},i.prototype._writeInt=function(o,l){if(this._rawo){var u=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setInt8(u,l);break;case 16:this._rawo.setInt16(u,l);break;case 32:this._rawo.setInt32(u,l);break;case 64:var c=Math.floor(l/Math.pow(2,32)),d=l-c*Math.pow(2,32);this._rawo.setUint32(u,c),this._rawo.setUint32(u+4,d)}this._cursor.offset+=o>>3}else this.size+=o>>3},i.prototype._writeUint=function(o,l){if(this._rawo){var u,c,d=this._cursor.offset-this._rawo.byteOffset;switch(o){case 8:this._rawo.setUint8(d,l);break;case 16:this._rawo.setUint16(d,l);break;case 24:u=(16776960&l)>>8,c=255&l,this._rawo.setUint16(d,u),this._rawo.setUint8(d+2,c);break;case 32:this._rawo.setUint32(d,l);break;case 64:c=l-(u=Math.floor(l/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(d,u),this._rawo.setUint32(d+4,c)}this._cursor.offset+=o>>3}else this.size+=o>>3},i.prototype._writeString=function(o,l){for(var u=0;u<o;u++)this._writeUint(8,l.charCodeAt(u))},i.prototype._writeTerminatedString=function(o){if(o.length!==0){for(var l=0;l<o.length;l++)this._writeUint(8,o.charCodeAt(l));this._writeUint(8,0)}},i.prototype._writeTemplate=function(o,l){var u=Math.floor(l),c=(l-u)*Math.pow(2,o/2);this._writeUint(o/2,u),this._writeUint(o/2,c)},i.prototype._writeData=function(o){if(o)if(this._rawo){if(o instanceof Array){for(var l=this._cursor.offset-this._rawo.byteOffset,u=0;u<o.length;u++)this._rawo.setInt8(l+u,o[u]);this._cursor.offset+=o.length}o instanceof Uint8Array&&(this._root.bytes.set(o,this._cursor.offset),this._cursor.offset+=o.length)}else this.size+=o.length},i.prototype._writeUTF8String=function(o){var l=n.Utils.utf8ToByteArray(o);if(this._rawo)for(var u=new DataView(this._rawo.buffer,this._cursor.offset,l.length),c=0;c<l.length;c++)u.setUint8(c,l[c]);else this.size+=l.length},i.prototype._writeField=function(o,l,u){switch(o){case"uint":this._writeUint(l,u);break;case"int":this._writeInt(l,u);break;case"template":this._writeTemplate(l,u);break;case"string":l==-1?this._writeTerminatedString(u):this._writeString(l,u);break;case"data":this._writeData(u);break;case"utf8":this._writeUTF8String(u)}},i.prototype._boxProcessors.ardi=function(){this._procFullBox(),this._procField("audio_rendering_indication","uint",8)},i.prototype._boxProcessors.avc1=i.prototype._boxProcessors.avc2=i.prototype._boxProcessors.avc3=i.prototype._boxProcessors.avc4=i.prototype._boxProcessors.hvc1=i.prototype._boxProcessors.hev1=i.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},i.prototype._boxProcessors.ctts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_offset",this.version===1?"int":"uint",32)}))},i.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.elng=function(){this._procFullBox(),this._procField("extended_language","utf8string")},i.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(o){this._procEntryField(o,"segment_duration","uint",this.version===1?64:32),this._procEntryField(o,"media_time","int",this.version===1?64:32),this._procEntryField(o,"media_rate_integer","int",16),this._procEntryField(o,"media_rate_fraction","int",16)}))},i.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},i.prototype._boxProcessors.free=i.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},i.prototype._boxProcessors.ftyp=i.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var o=-1;this._parsing&&(o=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",o,"string",4)},i.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},i.prototype._boxProcessors.imda=function(){this._procField("imda_identifier","uint",32),this._procField("data","data",-1)},i.prototype._boxProcessors.kind=function(){this._procFullBox(),this._procField("schemeURI","utf8string"),this._procField("value","utf8string")},i.prototype._boxProcessors.labl=function(){this._procFullBox(),this.is_group_label=!!(1&this.flags),this._procField("label_id","uint",16),this._procField("language","utf8string"),this._procField("label","utf8string")},i.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},i.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},i.prototype._boxProcessors.meta=function(){this._procFullBox()},i.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},i.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},i.prototype._boxProcessors.mp4a=i.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},i.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},i.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},i.prototype._boxProcessors.prft=function(){this._procFullBox(),this._procField("reference_track_ID","uint",32),this._procField("ntp_timestamp_sec","uint",32),this._procField("ntp_timestamp_frac","uint",32),this._procField("media_time","uint",this.version==1?64:32)},i.prototype._boxProcessors.prsl=function(){this._procFullBox(),this._procField("group_id","uint",32),this._procField("num_entities_in_group","uint",32),this._procEntries("entities",this.num_entities_in_group,(function(o){this._procEntryField(o,"entity_id","uint",32)})),4096&this.flags&&this._procField("preselection_tag","utf8string"),8192&this.flags&&this._procField("selection_priority","uint",8),16384&this.flags&&this._procField("interleaving_tag","utf8string")},i.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},i.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},i.prototype._boxProcessors.sdtp=function(){this._procFullBox();var o=-1;this._parsing&&(o=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",o,"uint",8)},i.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,(function(o){this._parsing||(o.reference=(1&o.reference_type)<<31,o.reference|=2147483647&o.referenced_size,o.sap=(1&o.starts_with_SAP)<<31,o.sap|=(3&o.SAP_type)<<28,o.sap|=268435455&o.SAP_delta_time),this._procEntryField(o,"reference","uint",32),this._procEntryField(o,"subsegment_duration","uint",32),this._procEntryField(o,"sap","uint",32),this._parsing&&(o.reference_type=o.reference>>31&1,o.referenced_size=2147483647&o.reference,o.starts_with_SAP=o.sap>>31&1,o.SAP_type=o.sap>>28&7,o.SAP_delta_time=268435455&o.sap)}))},i.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},i.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,(function(o){this._procEntryField(o,"ranges_count","uint",32),this._procSubEntries(o,"ranges",o.ranges_count,(function(l){this._procEntryField(l,"level","uint",8),this._procEntryField(l,"range_size","uint",24)}))}))},i.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.sttg=function(){this._procField("settings","utf8")},i.prototype._boxProcessors.stts=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(o){this._procEntryField(o,"sample_count","uint",32),this._procEntryField(o,"sample_delta","uint",32)}))},i.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,(function(o){this._procEntryField(o,"sample_delta","uint",32),this._procEntryField(o,"subsample_count","uint",16),this._procSubEntries(o,"subsamples",o.subsample_count,(function(l){this._procEntryField(l,"subsample_size","uint",this.version===1?32:16),this._procEntryField(l,"subsample_priority","uint",8),this._procEntryField(l,"discardable","uint",8),this._procEntryField(l,"codec_specific_parameters","uint",32)}))}))},i.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},i.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},i.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,(function(o){this._procEntryField(o,"time","uint",this.version===1?64:32),this._procEntryField(o,"moof_offset","uint",this.version===1?64:32),this._procEntryField(o,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(o,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(o,"sample_number","uint",8*(this.length_size_of_sample_num+1))}))},i.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},i.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,(function(o){256&this.flags&&this._procEntryField(o,"sample_duration","uint",32),512&this.flags&&this._procEntryField(o,"sample_size","uint",32),1024&this.flags&&this._procEntryField(o,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(o,"sample_composition_time_offset",this.version===1?"int":"uint",32)}))},i.prototype._boxProcessors["url "]=i.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},i.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},i.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},i.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},i.prototype._boxProcessors.vtte=function(){}},9826:function(t){var e,n=typeof Reflect=="object"?Reflect:null,r=n&&typeof n.apply=="function"?n.apply:function(b,v,_){return Function.prototype.apply.call(b,v,_)};e=n&&typeof n.ownKeys=="function"?n.ownKeys:Object.getOwnPropertySymbols?function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:function(b){return Object.getOwnPropertyNames(b)};var i=Number.isNaN||function(b){return b!=b};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(b,v){return new Promise((function(_,E){function T(w){b.removeListener(v,A),E(w)}function A(){typeof b.removeListener=="function"&&b.removeListener("error",T),_([].slice.call(arguments))}y(b,v,A,{once:!0}),v!=="error"&&(function(w,I){typeof w.on=="function"&&y(w,"error",I,{once:!0})})(b,T)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function u(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}function c(b){return b._maxListeners===void 0?o.defaultMaxListeners:b._maxListeners}function d(b,v,_,E){var T,A,w,I;if(u(_),(A=b._events)===void 0?(A=b._events=Object.create(null),b._eventsCount=0):(A.newListener!==void 0&&(b.emit("newListener",v,_.listener?_.listener:_),A=b._events),w=A[v]),w===void 0)w=A[v]=_,++b._eventsCount;else if(typeof w=="function"?w=A[v]=E?[_,w]:[w,_]:E?w.unshift(_):w.push(_),(T=c(b))>0&&w.length>T&&!w.warned){w.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=b,C.type=v,C.count=w.length,I=C,console&&console.warn&&console.warn(I)}return b}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(b,v,_){var E={fired:!1,wrapFn:void 0,target:b,type:v,listener:_},T=h.bind(E);return T.listener=_,E.wrapFn=T,T}function p(b,v,_){var E=b._events;if(E===void 0)return[];var T=E[v];return T===void 0?[]:typeof T=="function"?_?[T.listener||T]:[T]:_?(function(A){for(var w=new Array(A.length),I=0;I<w.length;++I)w[I]=A[I].listener||A[I];return w})(T):g(T,T.length)}function m(b){var v=this._events;if(v!==void 0){var _=v[b];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}function g(b,v){for(var _=new Array(v),E=0;E<v;++E)_[E]=b[E];return _}function y(b,v,_,E){if(typeof b.on=="function")E.once?b.once(v,_):b.on(v,_);else{if(typeof b.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b);b.addEventListener(v,(function T(A){E.once&&b.removeEventListener(v,T),_(A)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(b){if(typeof b!="number"||b<0||i(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");l=b}}),o.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||i(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(b){for(var v=[],_=1;_<arguments.length;_++)v.push(arguments[_]);var E=b==="error",T=this._events;if(T!==void 0)E=E&&T.error===void 0;else if(!E)return!1;if(E){var A;if(v.length>0&&(A=v[0]),A instanceof Error)throw A;var w=new Error("Unhandled error."+(A?" ("+A.message+")":""));throw w.context=A,w}var I=T[b];if(I===void 0)return!1;if(typeof I=="function")r(I,this,v);else{var C=I.length,j=g(I,C);for(_=0;_<C;++_)r(j[_],this,v)}return!0},o.prototype.addListener=function(b,v){return d(this,b,v,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(b,v){return d(this,b,v,!0)},o.prototype.once=function(b,v){return u(v),this.on(b,f(this,b,v)),this},o.prototype.prependOnceListener=function(b,v){return u(v),this.prependListener(b,f(this,b,v)),this},o.prototype.removeListener=function(b,v){var _,E,T,A,w;if(u(v),(E=this._events)===void 0)return this;if((_=E[b])===void 0)return this;if(_===v||_.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete E[b],E.removeListener&&this.emit("removeListener",b,_.listener||v));else if(typeof _!="function"){for(T=-1,A=_.length-1;A>=0;A--)if(_[A]===v||_[A].listener===v){w=_[A].listener,T=A;break}if(T<0)return this;T===0?_.shift():(function(I,C){for(;C+1<I.length;C++)I[C]=I[C+1];I.pop()})(_,T),_.length===1&&(E[b]=_[0]),E.removeListener!==void 0&&this.emit("removeListener",b,w||v)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(b){var v,_,E;if((_=this._events)===void 0)return this;if(_.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_[b]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete _[b]),this;if(arguments.length===0){var T,A=Object.keys(_);for(E=0;E<A.length;++E)(T=A[E])!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=_[b])=="function")this.removeListener(b,v);else if(v!==void 0)for(E=v.length-1;E>=0;E--)this.removeListener(b,v[E]);return this},o.prototype.listeners=function(b){return p(this,b,!0)},o.prototype.rawListeners=function(b){return p(this,b,!1)},o.listenerCount=function(b,v){return typeof b.listenerCount=="function"?b.listenerCount(v):m.call(b,v)},o.prototype.listenerCount=m,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},7316:function(t){t.exports=function e(n,r){if(n===r)return!0;if(n&&r&&typeof n=="object"&&typeof r=="object"){if(n.constructor!==r.constructor)return!1;var i,o,l;if(Array.isArray(n)){if((i=n.length)!=r.length)return!1;for(o=i;o--!=0;)if(!e(n[o],r[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if((i=(l=Object.keys(n)).length)!==Object.keys(r).length)return!1;for(o=i;o--!=0;)if(!Object.prototype.hasOwnProperty.call(r,l[o]))return!1;for(o=i;o--!=0;){var u=l[o];if(!e(n[u],r[u]))return!1}return!0}return n!=n&&r!=r}},7986:function(t,e){e.read=function(n,r,i,o,l){var u,c,d=8*l-o-1,h=(1<<d)-1,f=h>>1,p=-7,m=i?l-1:0,g=i?-1:1,y=n[r+m];for(m+=g,u=y&(1<<-p)-1,y>>=-p,p+=d;p>0;u=256*u+n[r+m],m+=g,p-=8);for(c=u&(1<<-p)-1,u>>=-p,p+=o;p>0;c=256*c+n[r+m],m+=g,p-=8);if(u===0)u=1-f;else{if(u===h)return c?NaN:1/0*(y?-1:1);c+=Math.pow(2,o),u-=f}return(y?-1:1)*c*Math.pow(2,u-o)},e.write=function(n,r,i,o,l,u){var c,d,h,f=8*u-l-1,p=(1<<f)-1,m=p>>1,g=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=o?0:u-1,b=o?1:-1,v=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(d=isNaN(r)?1:0,c=p):(c=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-c))<1&&(c--,h*=2),(r+=c+m>=1?g/h:g*Math.pow(2,1-m))*h>=2&&(c++,h/=2),c+m>=p?(d=0,c=p):c+m>=1?(d=(r*h-1)*Math.pow(2,l),c+=m):(d=r*Math.pow(2,m-1)*Math.pow(2,l),c=0));l>=8;n[i+y]=255&d,y+=b,d/=256,l-=8);for(c=c<<l|d,f+=l;f>0;n[i+y]=255&c,y+=b,c/=256,f-=8);n[i+y-b]|=128*v}},5474:function(t,e,n){(function(r){r.parser=function(P,$){return new l(P,$)},r.SAXParser=l,r.SAXStream=c,r.createStream=function(P,$){return new c(P,$)},r.MAX_BUFFER_LENGTH=65536;var i,o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function l(P,$){if(!(this instanceof l))return new l(P,$);var ae=this;(function(ne){for(var $e=0,Qe=o.length;$e<Qe;$e++)ne[o[$e]]=""})(ae),ae.q=ae.c="",ae.bufferCheckPosition=r.MAX_BUFFER_LENGTH,ae.opt=$||{},ae.opt.lowercase=ae.opt.lowercase||ae.opt.lowercasetags,ae.looseCase=ae.opt.lowercase?"toLowerCase":"toUpperCase",ae.tags=[],ae.closed=ae.closedRoot=ae.sawRoot=!1,ae.tag=ae.error=null,ae.strict=!!P,ae.noscript=!(!P&&!ae.opt.noscript),ae.state=q.BEGIN,ae.strictEntities=ae.opt.strictEntities,ae.ENTITIES=ae.strictEntities?Object.create(r.XML_ENTITIES):Object.create(r.ENTITIES),ae.attribList=[],ae.opt.xmlns&&(ae.ns=Object.create(_)),ae.trackPosition=ae.opt.position!==!1,ae.trackPosition&&(ae.position=ae.line=ae.column=0),Te(ae,"onready")}r.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(P){function $(){}return $.prototype=P,new $}),Object.keys||(Object.keys=function(P){var $=[];for(var ae in P)P.hasOwnProperty(ae)&&$.push(ae);return $}),l.prototype={end:function(){Ie(this)},write:function(P){var $=this;if(this.error)throw this.error;if($.closed)return Ye($,"Cannot write after close. Assign an onready handler.");if(P===null)return Ie($);typeof P=="object"&&(P=P.toString());for(var ae=0,ne="";ne=G(P,ae++),$.c=ne,ne;)switch($.trackPosition&&($.position++,ne===`
`?($.line++,$.column=0):$.column++),$.state){case q.BEGIN:if($.state=q.BEGIN_WHITESPACE,ne==="\uFEFF")continue;J($,ne);continue;case q.BEGIN_WHITESPACE:J($,ne);continue;case q.TEXT:if($.sawRoot&&!$.closedRoot){for(var $e=ae-1;ne&&ne!=="<"&&ne!=="&";)(ne=G(P,ae++))&&$.trackPosition&&($.position++,ne===`
`?($.line++,$.column=0):$.column++);$.textNode+=P.substring($e,ae-1)}ne!=="<"||$.sawRoot&&$.closedRoot&&!$.strict?(!j(d,ne)||$.sawRoot&&!$.closedRoot||we($,"Text data outside of root node."),ne==="&"?$.state=q.TEXT_ENTITY:$.textNode+=ne):($.state=q.OPEN_WAKA,$.startTagPosition=$.position);continue;case q.SCRIPT:ne==="<"?$.state=q.SCRIPT_ENDING:$.script+=ne;continue;case q.SCRIPT_ENDING:ne==="/"?$.state=q.CLOSE_TAG:($.script+="<"+ne,$.state=q.SCRIPT);continue;case q.OPEN_WAKA:if(ne==="!")$.state=q.SGML_DECL,$.sgmlDecl="";else if(!C(d,ne))if(C(E,ne))$.state=q.OPEN_TAG,$.tagName=ne;else if(ne==="/")$.state=q.CLOSE_TAG,$.tagName="";else if(ne==="?")$.state=q.PROC_INST,$.procInstName=$.procInstBody="";else{if(we($,"Unencoded <"),$.startTagPosition+1<$.position){var Qe=$.position-$.startTagPosition;ne=new Array(Qe).join(" ")+ne}$.textNode+="<"+ne,$.state=q.TEXT}continue;case q.SGML_DECL:($.sgmlDecl+ne).toUpperCase()===g?(ge($,"onopencdata"),$.state=q.CDATA,$.sgmlDecl="",$.cdata=""):$.sgmlDecl+ne==="--"?($.state=q.COMMENT,$.comment="",$.sgmlDecl=""):($.sgmlDecl+ne).toUpperCase()===y?($.state=q.DOCTYPE,($.doctype||$.sawRoot)&&we($,"Inappropriately located doctype declaration"),$.doctype="",$.sgmlDecl=""):ne===">"?(ge($,"onsgmldeclaration",$.sgmlDecl),$.sgmlDecl="",$.state=q.TEXT):(C(p,ne)&&($.state=q.SGML_DECL_QUOTED),$.sgmlDecl+=ne);continue;case q.SGML_DECL_QUOTED:ne===$.q&&($.state=q.SGML_DECL,$.q=""),$.sgmlDecl+=ne;continue;case q.DOCTYPE:ne===">"?($.state=q.TEXT,ge($,"ondoctype",$.doctype),$.doctype=!0):($.doctype+=ne,ne==="["?$.state=q.DOCTYPE_DTD:C(p,ne)&&($.state=q.DOCTYPE_QUOTED,$.q=ne));continue;case q.DOCTYPE_QUOTED:$.doctype+=ne,ne===$.q&&($.q="",$.state=q.DOCTYPE);continue;case q.DOCTYPE_DTD:$.doctype+=ne,ne==="]"?$.state=q.DOCTYPE:C(p,ne)&&($.state=q.DOCTYPE_DTD_QUOTED,$.q=ne);continue;case q.DOCTYPE_DTD_QUOTED:$.doctype+=ne,ne===$.q&&($.state=q.DOCTYPE_DTD,$.q="");continue;case q.COMMENT:ne==="-"?$.state=q.COMMENT_ENDING:$.comment+=ne;continue;case q.COMMENT_ENDING:ne==="-"?($.state=q.COMMENT_ENDED,$.comment=He($.opt,$.comment),$.comment&&ge($,"oncomment",$.comment),$.comment=""):($.comment+="-"+ne,$.state=q.COMMENT);continue;case q.COMMENT_ENDED:ne!==">"?(we($,"Malformed comment"),$.comment+="--"+ne,$.state=q.COMMENT):$.state=q.TEXT;continue;case q.CDATA:ne==="]"?$.state=q.CDATA_ENDING:$.cdata+=ne;continue;case q.CDATA_ENDING:ne==="]"?$.state=q.CDATA_ENDING_2:($.cdata+="]"+ne,$.state=q.CDATA);continue;case q.CDATA_ENDING_2:ne===">"?($.cdata&&ge($,"oncdata",$.cdata),ge($,"onclosecdata"),$.cdata="",$.state=q.TEXT):ne==="]"?$.cdata+="]":($.cdata+="]]"+ne,$.state=q.CDATA);continue;case q.PROC_INST:ne==="?"?$.state=q.PROC_INST_ENDING:C(d,ne)?$.state=q.PROC_INST_BODY:$.procInstName+=ne;continue;case q.PROC_INST_BODY:if(!$.procInstBody&&C(d,ne))continue;ne==="?"?$.state=q.PROC_INST_ENDING:$.procInstBody+=ne;continue;case q.PROC_INST_ENDING:ne===">"?(ge($,"onprocessinginstruction",{name:$.procInstName,body:$.procInstBody}),$.procInstName=$.procInstBody="",$.state=q.TEXT):($.procInstBody+="?"+ne,$.state=q.PROC_INST_BODY);continue;case q.OPEN_TAG:C(T,ne)?$.tagName+=ne:(je($),ne===">"?Le($):ne==="/"?$.state=q.OPEN_TAG_SLASH:(j(d,ne)&&we($,"Invalid character in tag name"),$.state=q.ATTRIB));continue;case q.OPEN_TAG_SLASH:ne===">"?(Le($,!0),Pe($)):(we($,"Forward-slash in opening tag not followed by >"),$.state=q.ATTRIB);continue;case q.ATTRIB:if(C(d,ne))continue;ne===">"?Le($):ne==="/"?$.state=q.OPEN_TAG_SLASH:C(E,ne)?($.attribName=ne,$.attribValue="",$.state=q.ATTRIB_NAME):we($,"Invalid attribute name");continue;case q.ATTRIB_NAME:ne==="="?$.state=q.ATTRIB_VALUE:ne===">"?(we($,"Attribute without value"),$.attribValue=$.attribName,dt($),Le($)):C(d,ne)?$.state=q.ATTRIB_NAME_SAW_WHITE:C(T,ne)?$.attribName+=ne:we($,"Invalid attribute name");continue;case q.ATTRIB_NAME_SAW_WHITE:if(ne==="=")$.state=q.ATTRIB_VALUE;else{if(C(d,ne))continue;we($,"Attribute without value"),$.tag.attributes[$.attribName]="",$.attribValue="",ge($,"onattribute",{name:$.attribName,value:""}),$.attribName="",ne===">"?Le($):C(E,ne)?($.attribName=ne,$.state=q.ATTRIB_NAME):(we($,"Invalid attribute name"),$.state=q.ATTRIB)}continue;case q.ATTRIB_VALUE:if(C(d,ne))continue;C(p,ne)?($.q=ne,$.state=q.ATTRIB_VALUE_QUOTED):(we($,"Unquoted attribute value"),$.state=q.ATTRIB_VALUE_UNQUOTED,$.attribValue=ne);continue;case q.ATTRIB_VALUE_QUOTED:if(ne!==$.q){ne==="&"?$.state=q.ATTRIB_VALUE_ENTITY_Q:$.attribValue+=ne;continue}dt($),$.q="",$.state=q.ATTRIB_VALUE_CLOSED;continue;case q.ATTRIB_VALUE_CLOSED:C(d,ne)?$.state=q.ATTRIB:ne===">"?Le($):ne==="/"?$.state=q.OPEN_TAG_SLASH:C(E,ne)?(we($,"No whitespace between attributes"),$.attribName=ne,$.attribValue="",$.state=q.ATTRIB_NAME):we($,"Invalid attribute name");continue;case q.ATTRIB_VALUE_UNQUOTED:if(j(m,ne)){ne==="&"?$.state=q.ATTRIB_VALUE_ENTITY_U:$.attribValue+=ne;continue}dt($),ne===">"?Le($):$.state=q.ATTRIB;continue;case q.CLOSE_TAG:if($.tagName)ne===">"?Pe($):C(T,ne)?$.tagName+=ne:$.script?($.script+="</"+$.tagName,$.tagName="",$.state=q.SCRIPT):(j(d,ne)&&we($,"Invalid tagname in closing tag"),$.state=q.CLOSE_TAG_SAW_WHITE);else{if(C(d,ne))continue;j(E,ne)?$.script?($.script+="</"+ne,$.state=q.SCRIPT):we($,"Invalid tagname in closing tag."):$.tagName=ne}continue;case q.CLOSE_TAG_SAW_WHITE:if(C(d,ne))continue;ne===">"?Pe($):we($,"Invalid characters in closing tag");continue;case q.TEXT_ENTITY:case q.ATTRIB_VALUE_ENTITY_Q:case q.ATTRIB_VALUE_ENTITY_U:var Ve,We;switch($.state){case q.TEXT_ENTITY:Ve=q.TEXT,We="textNode";break;case q.ATTRIB_VALUE_ENTITY_Q:Ve=q.ATTRIB_VALUE_QUOTED,We="attribValue";break;case q.ATTRIB_VALUE_ENTITY_U:Ve=q.ATTRIB_VALUE_UNQUOTED,We="attribValue"}ne===";"?($[We]+=it($),$.entity="",$.state=Ve):C($.entity.length?w:A,ne)?$.entity+=ne:(we($,"Invalid character in entity name"),$[We]+="&"+$.entity+ne,$.entity="",$.state=Ve);continue;default:throw new Error($,"Unknown state: "+$.state)}return $.position>=$.bufferCheckPosition&&(function(Ke){for(var Je=Math.max(r.MAX_BUFFER_LENGTH,10),ft=0,nt=0,bt=o.length;nt<bt;nt++){var tn=Ke[o[nt]].length;if(tn>Je)switch(o[nt]){case"textNode":Be(Ke);break;case"cdata":ge(Ke,"oncdata",Ke.cdata),Ke.cdata="";break;case"script":ge(Ke,"onscript",Ke.script),Ke.script="";break;default:Ye(Ke,"Max buffer length exceeded: "+o[nt])}ft=Math.max(ft,tn)}var zt=r.MAX_BUFFER_LENGTH-ft;Ke.bufferCheckPosition=zt+Ke.position})($),$},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var P;Be(P=this),P.cdata!==""&&(ge(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(ge(P,"onscript",P.script),P.script="")}};try{i=n(3515).Stream}catch{i=function(){}}var u=r.EVENTS.filter((function(P){return P!=="error"&&P!=="end"}));function c(P,$){if(!(this instanceof c))return new c(P,$);i.apply(this),this._parser=new l(P,$),this.writable=!0,this.readable=!0;var ae=this;this._parser.onend=function(){ae.emit("end")},this._parser.onerror=function(ne){ae.emit("error",ne),ae._parser.error=null},this._decoder=null,u.forEach((function(ne){Object.defineProperty(ae,"on"+ne,{get:function(){return ae._parser["on"+ne]},set:function($e){if(!$e)return ae.removeAllListeners(ne),ae._parser["on"+ne]=$e,$e;ae.on(ne,$e)},enumerable:!0,configurable:!1})}))}c.prototype=Object.create(i.prototype,{constructor:{value:c}}),c.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var $=n(748).StringDecoder;this._decoder=new $("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},c.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},c.prototype.on=function(P,$){var ae=this;return ae._parser["on"+P]||u.indexOf(P)===-1||(ae._parser["on"+P]=function(){var ne=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ne.splice(0,0,P),ae.emit.apply(ae,ne)}),i.prototype.on.call(ae,P,$)};var d=`\r
	 `,h="0124356789",f="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",p=`'"`,m=d+">",g="[CDATA[",y="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",_={xml:b,xmlns:v};d=I(d),h=I(h),f=I(f);var E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function I(P){return P.split("").reduce((function($,ae){return $[ae]=!0,$}),{})}function C(P,$){return(function(ae){return Object.prototype.toString.call(ae)==="[object RegExp]"})(P)?!!$.match(P):P[$]}function j(P,$){return!C(P,$)}p=I(p),m=I(m);var F,K,he,q=0;for(var Ee in r.STATE={BEGIN:q++,BEGIN_WHITESPACE:q++,TEXT:q++,TEXT_ENTITY:q++,OPEN_WAKA:q++,SGML_DECL:q++,SGML_DECL_QUOTED:q++,DOCTYPE:q++,DOCTYPE_QUOTED:q++,DOCTYPE_DTD:q++,DOCTYPE_DTD_QUOTED:q++,COMMENT_STARTING:q++,COMMENT:q++,COMMENT_ENDING:q++,COMMENT_ENDED:q++,CDATA:q++,CDATA_ENDING:q++,CDATA_ENDING_2:q++,PROC_INST:q++,PROC_INST_BODY:q++,PROC_INST_ENDING:q++,OPEN_TAG:q++,OPEN_TAG_SLASH:q++,ATTRIB:q++,ATTRIB_NAME:q++,ATTRIB_NAME_SAW_WHITE:q++,ATTRIB_VALUE:q++,ATTRIB_VALUE_QUOTED:q++,ATTRIB_VALUE_CLOSED:q++,ATTRIB_VALUE_UNQUOTED:q++,ATTRIB_VALUE_ENTITY_Q:q++,ATTRIB_VALUE_ENTITY_U:q++,CLOSE_TAG:q++,CLOSE_TAG_SAW_WHITE:q++,SCRIPT:q++,SCRIPT_ENDING:q++},r.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},r.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(r.ENTITIES).forEach((function(P){var $=r.ENTITIES[P],ae=typeof $=="number"?String.fromCharCode($):$;r.ENTITIES[P]=ae})),r.STATE)r.STATE[r.STATE[Ee]]=Ee;function Te(P,$,ae){P[$]&&P[$](ae)}function ge(P,$,ae){P.textNode&&Be(P),Te(P,$,ae)}function Be(P){P.textNode=He(P.opt,P.textNode),P.textNode&&Te(P,"ontext",P.textNode),P.textNode=""}function He(P,$){return P.trim&&($=$.trim()),P.normalize&&($=$.replace(/\s+/g," ")),$}function Ye(P,$){return Be(P),P.trackPosition&&($+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),$=new Error($),P.error=$,Te(P,"onerror",$),P}function Ie(P){return P.sawRoot&&!P.closedRoot&&we(P,"Unclosed root tag"),P.state!==q.BEGIN&&P.state!==q.BEGIN_WHITESPACE&&P.state!==q.TEXT&&Ye(P,"Unexpected end"),Be(P),P.c="",P.closed=!0,Te(P,"onend"),l.call(P,P.strict,P.opt),P}function we(P,$){if(typeof P!="object"||!(P instanceof l))throw new Error("bad call to strictFail");P.strict&&Ye(P,$)}function je(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var $=P.tags[P.tags.length-1]||P,ae=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(ae.ns=$.ns),P.attribList.length=0,ge(P,"onopentagstart",ae)}function Ce(P,$){var ae=P.indexOf(":")<0?["",P]:P.split(":"),ne=ae[0],$e=ae[1];return $&&P==="xmlns"&&(ne="xmlns",$e=""),{prefix:ne,local:$e}}function dt(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName))P.attribName=P.attribValue="";else{if(P.opt.xmlns){var $=Ce(P.attribName,!0),ae=$.prefix,ne=$.local;if(ae==="xmlns")if(ne==="xml"&&P.attribValue!==b)we(P,"xml: prefix must be bound to "+b+`
Actual: `+P.attribValue);else if(ne==="xmlns"&&P.attribValue!==v)we(P,"xmlns: prefix must be bound to "+v+`
Actual: `+P.attribValue);else{var $e=P.tag,Qe=P.tags[P.tags.length-1]||P;$e.ns===Qe.ns&&($e.ns=Object.create(Qe.ns)),$e.ns[ne]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,ge(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}}function Le(P,$){if(P.opt.xmlns){var ae=P.tag,ne=Ce(P.tagName);ae.prefix=ne.prefix,ae.local=ne.local,ae.uri=ae.ns[ne.prefix]||"",ae.prefix&&!ae.uri&&(we(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),ae.uri=ne.prefix);var $e=P.tags[P.tags.length-1]||P;ae.ns&&$e.ns!==ae.ns&&Object.keys(ae.ns).forEach((function(Wt){ge(P,"onopennamespace",{prefix:Wt,uri:ae.ns[Wt]})}));for(var Qe=0,Ve=P.attribList.length;Qe<Ve;Qe++){var We=P.attribList[Qe],Ke=We[0],Je=We[1],ft=Ce(Ke,!0),nt=ft.prefix,bt=ft.local,tn=nt===""?"":ae.ns[nt]||"",zt={name:Ke,value:Je,prefix:nt,local:bt,uri:tn};nt&&nt!=="xmlns"&&!tn&&(we(P,"Unbound namespace prefix: "+JSON.stringify(nt)),zt.uri=nt),P.tag.attributes[Ke]=zt,ge(P,"onattribute",zt)}P.attribList.length=0}P.tag.isSelfClosing=!!$,P.sawRoot=!0,P.tags.push(P.tag),ge(P,"onopentag",P.tag),$||(P.noscript||P.tagName.toLowerCase()!=="script"?P.state=q.TEXT:P.state=q.SCRIPT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function Pe(P){if(!P.tagName)return we(P,"Weird empty close tag."),P.textNode+="</>",void(P.state=q.TEXT);if(P.script){if(P.tagName!=="script")return P.script+="</"+P.tagName+">",P.tagName="",void(P.state=q.SCRIPT);ge(P,"onscript",P.script),P.script=""}var $=P.tags.length,ae=P.tagName;P.strict||(ae=ae[P.looseCase]());for(var ne=ae;$--&&P.tags[$].name!==ne;)we(P,"Unexpected close tag");if($<0)return we(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",void(P.state=q.TEXT);P.tagName=ae;for(var $e=P.tags.length;$e-- >$;){var Qe=P.tag=P.tags.pop();P.tagName=P.tag.name,ge(P,"onclosetag",P.tagName);var Ve={};for(var We in Qe.ns)Ve[We]=Qe.ns[We];var Ke=P.tags[P.tags.length-1]||P;P.opt.xmlns&&Qe.ns!==Ke.ns&&Object.keys(Qe.ns).forEach((function(Je){var ft=Qe.ns[Je];ge(P,"onclosenamespace",{prefix:Je,uri:ft})}))}$===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=q.TEXT}function it(P){var $,ae=P.entity,ne=ae.toLowerCase(),$e="";return P.ENTITIES[ae]?P.ENTITIES[ae]:P.ENTITIES[ne]?P.ENTITIES[ne]:((ae=ne).charAt(0)==="#"&&(ae.charAt(1)==="x"?(ae=ae.slice(2),$e=($=parseInt(ae,16)).toString(16)):(ae=ae.slice(1),$e=($=parseInt(ae,10)).toString(10))),ae=ae.replace(/^0+/,""),$e.toLowerCase()!==ae?(we(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint($))}function J(P,$){$==="<"?(P.state=q.OPEN_WAKA,P.startTagPosition=P.position):j(d,$)&&(we(P,"Non-whitespace before first tag."),P.textNode=$,P.state=q.TEXT)}function G(P,$){var ae="";return $<P.length&&(ae=P.charAt($)),ae}q=r.STATE,String.fromCodePoint||(F=String.fromCharCode,K=Math.floor,he=function(){var P,$,ae=[],ne=-1,$e=arguments.length;if(!$e)return"";for(var Qe="";++ne<$e;){var Ve=Number(arguments[ne]);if(!isFinite(Ve)||Ve<0||Ve>1114111||K(Ve)!==Ve)throw RangeError("Invalid code point: "+Ve);Ve<=65535?ae.push(Ve):(P=55296+((Ve-=65536)>>10),$=Ve%1024+56320,ae.push(P,$)),(ne+1===$e||ae.length>16384)&&(Qe+=F.apply(null,ae),ae.length=0)}return Qe},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:he,configurable:!0,writable:!0}):String.fromCodePoint=he)})(e)},6739:function(t,e,n){(function(r,i,o,l,u){function c(G){if("contents"in G)for(var P=("styleAttrs"in G)?G.styleAttrs[l.byName.ruby.qname]:null,$=G.kind==="span"&&(P==="container"||P==="textContainer"||P==="baseContainer"),ae=G.contents.length-1;ae>=0;ae--)!$||"styleAttrs"in G.contents[ae]&&l.byName.ruby.qname in G.contents[ae].styleAttrs?c(G.contents[ae]):delete G.contents[ae]}function d(G,P,$,ae){var ne=ae&&ae.timeContainer==="seq",$e=0;ae&&($e=ne&&$?$.end:ae.begin),P.begin=P.explicit_begin?P.explicit_begin+$e:$e;var Qe=P.begin,Ve=null;if("sets"in P)for(var We=0;We<P.sets.length;We++)d(G,P.sets[We],Ve,P),Qe=P.timeContainer==="seq"?P.sets[We].end:Math.max(Qe,P.sets[We].end),Ve=P.sets[We];if("contents"in P){if("contents"in P)for(var Ke=0;Ke<P.contents.length;Ke++)d(G,P.contents[Ke],Ve,P),Qe=P.timeContainer==="seq"?P.contents[Ke].end:Math.max(Qe,P.contents[Ke].end),Ve=P.contents[Ke]}else Qe=ne?P.begin:Number.POSITIVE_INFINITY;P.explicit_end!==null&&P.explicit_dur!==null?P.end=Math.min(P.begin+P.explicit_dur,$e+P.explicit_end):P.explicit_end===null&&P.explicit_dur!==null?P.end=P.begin+P.explicit_dur:P.explicit_end!==null&&P.explicit_dur===null?P.end=$e+P.explicit_end:P.end=Qe,delete P.explicit_begin,delete P.explicit_dur,delete P.explicit_end,G._registerEvent(P)}function h(G){this.node=G}function f(){this.events=[],this.head=new p,this.body=null}function p(){this.styling=new m,this.layout=new b}function m(){this.styles={},this.initials={}}function g(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function y(){this.styleAttrs=null}function b(){this.regions={}}function v(G,P){_.call(this,"image"),this.src=G,this.type=P}function _(G){this.kind=G}function E(G){this.id=G}function T(G){this.regionID=G}function A(G){this.styleAttrs=G}function w(G){this.sets=G}function I(G){this.contents=G}function C(G,P,$){this.explicit_begin=G,this.explicit_end=P,this.explicit_dur=$}function j(){_.call(this,"body")}function F(){_.call(this,"div")}function K(){_.call(this,"p")}function he(){_.call(this,"span")}function q(){_.call(this,"span")}function Ee(){_.call(this,"br")}function Te(){}function ge(){}function Be(G){return G&&"xml:id"in G.attributes&&G.attributes["xml:id"].value||null}function He(G){return G&&"style"in G.attributes?G.attributes.style.value.split(" "):[]}function Ye(G,P){var $={};if(G!==null)for(var ae in G.attributes){var ne=G.attributes[ae].uri+" "+G.attributes[ae].local,$e=l.byQName[ne];if($e!==void 0){var Qe=$e.parse(G.attributes[ae].value);Qe!==null?($[ne]=Qe,$e===l.byName.zIndex&&Le(P,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Pe(P,"Cannot parse styling attribute "+ne+" --> "+G.attributes[ae].value)}}return $}function Ie(G,P,$){for(var ae in G.attributes)if(G.attributes[ae].uri===P&&G.attributes[ae].local===$)return G.attributes[ae].value;return null}function we(G,P,$){var ae,ne=null;return(ae=/^(\d+(?:\.\d+)?)f$/.exec($))!==null?P!==null&&(ne=parseFloat(ae[1])/P):(ae=/^(\d+(?:\.\d+)?)t$/.exec($))!==null?G!==null&&(ne=parseFloat(ae[1])/G):(ae=/^(\d+(?:\.\d+)?)ms$/.exec($))!==null?ne=parseFloat(ae[1])/1e3:(ae=/^(\d+(?:\.\d+)?)s$/.exec($))!==null?ne=parseFloat(ae[1]):(ae=/^(\d+(?:\.\d+)?)h$/.exec($))!==null?ne=3600*parseFloat(ae[1]):(ae=/^(\d+(?:\.\d+)?)m$/.exec($))!==null?ne=60*parseFloat(ae[1]):(ae=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec($))!==null?ne=3600*parseInt(ae[1])+60*parseInt(ae[2])+parseFloat(ae[3]):(ae=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec($))!==null&&P!==null&&(ne=3600*parseInt(ae[1])+60*parseInt(ae[2])+parseInt(ae[3])+(ae[4]===null?0:parseInt(ae[4])/P)),ne}function je(G,P,$){for(;P.styleRefs.length>0;){var ae=P.styleRefs.pop();ae in G.styles?(je(G,G.styles[ae],$),dt(G.styles[ae].styleAttrs,P.styleAttrs)):Pe($,"Non-existant style id referenced")}}function Ce(G,P,$,ae){for(var ne=P.length-1;ne>=0;ne--){var $e=P[ne];$e in G.styles?dt(G.styles[$e].styleAttrs,$):Pe(ae,"Non-existant style id referenced")}}function dt(G,P){for(var $ in G)G.hasOwnProperty($)&&($ in P||(P[$]=G[$]))}function Le(G,P){if(G&&G.warn&&G.warn(P))throw P}function Pe(G,P){if(G&&G.error&&G.error(P))throw P}function it(G,P){throw G&&G.fatal&&G.fatal(P),P}function J(G,P){for(var $,ae=0,ne=G.length-1;ae<=ne;){var $e=G[$=Math.floor((ae+ne)/2)];if($e<P)ae=$+1;else{if(!($e>P))return{found:!0,index:$};ne=$-1}}return{found:!1,index:ae}}r.fromXML=function(G,P,$){var ae=i.parser(!0,{xmlns:!0}),ne=[],$e=[],Qe=[],Ve=0,We=null;ae.onclosetag=function(bt){if(ne[0]instanceof Te)We.head!==null&&We.head.styling!==null&&Ce(We.head.styling,ne[0].styleRefs,ne[0].styleAttrs,P),delete ne[0].styleRefs;else if(ne[0]instanceof m)for(var tn in ne[0].styles)ne[0].styles.hasOwnProperty(tn)&&je(ne[0],ne[0].styles[tn],P);else if(ne[0]instanceof K||ne[0]instanceof he){if(ne[0].contents.length>1){var zt,Wt=[ne[0].contents[0]];for(zt=1;zt<ne[0].contents.length;zt++)ne[0].contents[zt]instanceof q&&Wt[Wt.length-1]instanceof q?Wt[Wt.length-1].text+=ne[0].contents[zt].text:Wt.push(ne[0].contents[zt]);ne[0].contents=Wt}ne[0]instanceof he&&ne[0].contents.length===1&&ne[0].contents[0]instanceof q&&(ne[0].text=ne[0].contents[0].text,delete ne[0].contents)}else ne[0]instanceof h&&(ne[0].node.uri===o.ns_tt&&ne[0].node.local==="metadata"?Ve--:Ve>0&&$&&"onCloseTag"in $&&$.onCloseTag());Qe.shift(),$e.shift(),ne.shift()},ae.ontext=function(bt){if(ne[0]!==void 0)if(ne[0]instanceof he||ne[0]instanceof K){if(ne[0]instanceof he){var tn=ne[0].styleAttrs[l.byName.ruby.qname];if(tn==="container"||tn==="textContainer"||tn==="baseContainer")return}var zt=new q;zt.initFromText(We,ne[0],bt,$e[0],Qe[0],P),ne[0].contents.push(zt)}else ne[0]instanceof h&&Ve>0&&$&&"onText"in $&&$.onText(bt)},ae.onopentag=function(bt){var tn=bt.attributes["xml:space"];tn?Qe.unshift(tn.value):Qe.length===0?Qe.unshift("default"):Qe.unshift(Qe[0]);var zt=bt.attributes["xml:lang"];if(zt?$e.unshift(zt.value):$e.length===0?$e.unshift(""):$e.unshift($e[0]),bt.uri===o.ns_tt)if(bt.local==="tt")We!==null&&it(P,"Two <tt> elements at ("+this.line+","+this.column+")"),(We=new f).initFromNode(bt,$e[0],P),ne.unshift(We);else if(bt.local==="head")ne[0]instanceof f||it(P,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),ne.unshift(We.head);else if(bt.local==="styling")ne[0]instanceof p||it(P,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),ne.unshift(We.head.styling);else if(bt.local==="style"){var Wt;ne[0]instanceof m?((Wt=new g).initFromNode(bt,P),Wt.id?We.head.styling.styles[Wt.id]=Wt:Pe(P,"<style> element missing @id attribute"),ne.unshift(Wt)):ne[0]instanceof Te?((Wt=new g).initFromNode(bt,P),dt(Wt.styleAttrs,ne[0].styleAttrs),ne.unshift(Wt)):it(P,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(bt.local==="initial"){var Ze;if(ne[0]instanceof m){for(var At in(Ze=new y).initFromNode(bt,P),Ze.styleAttrs)Ze.styleAttrs.hasOwnProperty(At)&&(We.head.styling.initials[At]=Ze.styleAttrs[At]);ne.unshift(Ze)}else it(P,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")")}else if(bt.local==="layout")ne[0]instanceof p||it(P,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),ne.unshift(We.head.layout);else if(bt.local==="region"){ne[0]instanceof b||it(P,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var mn=new Te;mn.initFromNode(We,bt,$e[0],P),!mn.id||mn.id in We.head.layout.regions?Pe(P,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):We.head.layout.regions[mn.id]=mn,ne.unshift(mn)}else if(bt.local==="body"){ne[0]instanceof f||it(P,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),We.body!==null&&it(P,"Second <body> element at "+this.line+","+this.column+")");var xn=new j;xn.initFromNode(We,bt,$e[0],P),We.body=xn,ne.unshift(xn)}else if(bt.local==="div"){ne[0]instanceof F||ne[0]instanceof j||it(P,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Nn=new F;Nn.initFromNode(We,ne[0],bt,$e[0],P);var Yn=Nn.styleAttrs[l.byName.backgroundImage.qname];Yn&&(Nn.contents.push(new v(Yn)),delete Nn.styleAttrs[l.byName.backgroundImage.qname]),ne[0].contents.push(Nn),ne.unshift(Nn)}else if(bt.local==="image"){ne[0]instanceof F||it(P,"Parent of <image> element is not <div> at "+this.line+","+this.column+")");var Tr=new v;Tr.initFromNode(We,ne[0],bt,$e[0],P),ne[0].contents.push(Tr),ne.unshift(Tr)}else if(bt.local==="p"){ne[0]instanceof F||it(P,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var _t=new K;_t.initFromNode(We,ne[0],bt,$e[0],P),ne[0].contents.push(_t),ne.unshift(_t)}else if(bt.local==="span"){ne[0]instanceof he||ne[0]instanceof K||it(P,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var It=new he;It.initFromNode(We,ne[0],bt,$e[0],Qe[0],P),ne[0].contents.push(It),ne.unshift(It)}else if(bt.local==="br"){ne[0]instanceof he||ne[0]instanceof K||it(P,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var mt=new Ee;mt.initFromNode(We,ne[0],bt,$e[0],P),ne[0].contents.push(mt),ne.unshift(mt)}else if(bt.local==="set"){ne[0]instanceof he||ne[0]instanceof K||ne[0]instanceof F||ne[0]instanceof j||ne[0]instanceof Te||ne[0]instanceof Ee||it(P,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var ht=new ge;ht.initFromNode(We,ne[0],bt,P),ne[0].sets.push(ht),ne.unshift(ht)}else ne.unshift(new h(bt));else ne.unshift(new h(bt));if(ne[0]instanceof h){if(bt.uri===o.ns_tt&&bt.local==="metadata")Ve++;else if(Ve>0&&$&&"onOpenTag"in $){var Vt=[];for(var $t in bt.attributes)Vt[bt.attributes[$t].uri+" "+bt.attributes[$t].local]={uri:bt.attributes[$t].uri,local:bt.attributes[$t].local,value:bt.attributes[$t].value};$.onOpenTag(bt.uri,bt.local,Vt)}}},ae.write(G).close(),delete We.head.styling.styles;var Ke=!1;for(var Je in We.head.layout.regions)if(We.head.layout.regions.hasOwnProperty(Je)){Ke=!0;break}if(!Ke){var ft=Te.prototype.createDefaultRegion(We.lang);We.head.layout.regions[ft.id]=ft}for(var nt in We.head.layout.regions)We.head.layout.regions.hasOwnProperty(nt)&&d(We,We.head.layout.regions[nt],null,null);return We.body&&d(We,We.body,null,null),We.body&&c(We.body),We},f.prototype.initFromNode=function(G,P,$){var ae=(function(Ve,We){var Ke=Ie(Ve,o.ns_ttp,"cellResolution"),Je=15,ft=32;if(Ke!==null){var nt=/(\d+) (\d+)/.exec(Ke);nt!==null?(ft=parseInt(nt[1]),Je=parseInt(nt[2])):Le(We,"Malformed cellResolution value (using initial value instead)")}return{w:ft,h:Je}})(G,$);this.cellLength={h:new u.ComputedLength(0,1/ae.h),w:new u.ComputedLength(1/ae.w,0)};var ne=(function(Ve,We){var Ke,Je=Ie(Ve,o.ns_ttp,"frameRate"),ft=30;Je!==null&&((Ke=/(\d+)/.exec(Je))!==null?ft=parseInt(Ke[1]):Le(We,"Malformed frame rate attribute (using initial value instead)"));var nt=Ie(Ve,o.ns_ttp,"frameRateMultiplier"),bt=1;nt!==null&&((Ke=/(\d+) (\d+)/.exec(nt))!==null?bt=parseInt(Ke[1])/parseInt(Ke[2]):Le(We,"Malformed frame rate multiplier attribute (using initial value instead)"));var tn=bt*ft,zt=1,Wt=Ie(Ve,o.ns_ttp,"tickRate");return Wt===null?Je!==null&&(zt=tn):(Ke=/(\d+)/.exec(Wt))!==null?zt=parseInt(Ke[1]):Le(We,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:tn,tickRate:zt}})(G,$);this.effectiveFrameRate=ne.effectiveFrameRate,this.tickRate=ne.tickRate,this.aspectRatio=(function(Ve,We){var Ke=Ie(Ve,o.ns_ittp,"aspectRatio");Ke===null&&(Ke=Ie(Ve,o.ns_ttp,"displayAspectRatio"));var Je=null;if(Ke!==null){var ft=/(\d+)\s+(\d+)/.exec(Ke);if(ft!==null){var nt=parseInt(ft[1]),bt=parseInt(ft[2]);nt!==0&&bt!==0?Je=nt/bt:Pe(We,"Illegal aspectRatio values (ignoring)")}else Pe(We,"Malformed aspectRatio attribute (ignoring)")}return Je})(G,$);var $e=Ie(G,o.ns_ttp,"timeBase");$e!==null&&$e!=="media"&&it($,"Unsupported time base");var Qe=(function(Ve,We){var Ke=Ie(Ve,o.ns_tts,"extent");if(Ke===null)return null;var Je=Ke.split(" ");if(Je.length!==2)return Le(We,"Malformed extent (ignoring)"),null;var ft=u.parseLength(Je[0]),nt=u.parseLength(Je[1]);return nt&&ft?{h:nt,w:ft}:(Le(We,"Malformed extent values (ignoring)"),null)})(G,$);Qe===null?this.pxLength={h:null,w:null}:(Qe.h.unit==="px"&&Qe.w.unit==="px"||it($,"Extent on TT must be in px or absent"),this.pxLength={h:new u.ComputedLength(0,1/Qe.h.value),w:new u.ComputedLength(1/Qe.w.value,0)}),this.dimensions={h:new u.ComputedLength(0,1),w:new u.ComputedLength(1,0)},this.lang=P},f.prototype._registerEvent=function(G){if(!(G.end<=G.begin)){var P=J(this.events,G.begin);if(P.found||this.events.splice(P.index,0,G.begin),G.end!==Number.POSITIVE_INFINITY){var $=J(this.events,G.end);$.found||this.events.splice($.index,0,G.end)}}},f.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},f.prototype.getMediaTimeEvents=function(){return this.events},g.prototype.initFromNode=function(G,P){this.id=Be(G),this.styleAttrs=Ye(G,P),this.styleRefs=He(G)},y.prototype.initFromNode=function(G,P){for(var $ in this.styleAttrs={},G.attributes)if(G.attributes[$].uri===o.ns_itts||G.attributes[$].uri===o.ns_ebutts||G.attributes[$].uri===o.ns_tts){var ae=G.attributes[$].uri+" "+G.attributes[$].local;this.styleAttrs[ae]=G.attributes[$].value}},v.prototype.initFromNode=function(G,P,$,ae,ne){this.src="src"in $.attributes?$.attributes.src.value:null,this.src||Pe(ne,"Invalid image@src attribute"),this.type="type"in $.attributes?$.attributes.type.value:null,this.type||Pe(ne,"Invalid image@type attribute"),A.prototype.initFromNode.call(this,G,P,$,ne),C.prototype.initFromNode.call(this,G,P,$,ne),w.prototype.initFromNode.call(this,G,P,$,ne),T.prototype.initFromNode.call(this,G,P,$,ne),this.lang=ae},E.prototype.initFromNode=function(G,P,$,ae){this.id=Be($)},T.prototype.initFromNode=function(G,P,$,ae){this.regionID=(function(ne){return ne&&"region"in ne.attributes?ne.attributes.region.value:""})($)},A.prototype.initFromNode=function(G,P,$,ae){this.styleAttrs=Ye($,ae),G.head!==null&&G.head.styling!==null&&Ce(G.head.styling,He($),this.styleAttrs,ae)},w.prototype.initFromNode=function(G,P,$,ae){this.sets=[]},I.prototype.initFromNode=function(G,P,$,ae){this.contents=[]},C.prototype.initFromNode=function(G,P,$,ae){var ne=(function($e,Qe,Ve,We){var Ke=null;Ve&&"begin"in Ve.attributes&&(Ke=we($e.tickRate,$e.effectiveFrameRate,Ve.attributes.begin.value))===null&&Le(We,"Malformed begin value "+Ve.attributes.begin.value+" (using 0)");var Je=null;Ve&&"dur"in Ve.attributes&&(Je=we($e.tickRate,$e.effectiveFrameRate,Ve.attributes.dur.value))===null&&Le(We,"Malformed dur value "+Ve.attributes.dur.value+" (ignoring)");var ft=null;return Ve&&"end"in Ve.attributes&&(ft=we($e.tickRate,$e.effectiveFrameRate,Ve.attributes.end.value))===null&&Le(We,"Malformed end value (ignoring)"),{explicit_begin:Ke,explicit_end:ft,explicit_dur:Je}})(G,0,$,ae);this.explicit_begin=ne.explicit_begin,this.explicit_end=ne.explicit_end,this.explicit_dur=ne.explicit_dur,this.timeContainer=(function($e,Qe){var Ve=$e&&"timeContainer"in $e.attributes?$e.attributes.timeContainer.value:null;return Ve&&Ve!=="par"?Ve==="seq"?"seq":(Pe(Qe,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"})($,ae)},j.prototype.initFromNode=function(G,P,$,ae){A.prototype.initFromNode.call(this,G,null,P,ae),C.prototype.initFromNode.call(this,G,null,P,ae),w.prototype.initFromNode.call(this,G,null,P,ae),T.prototype.initFromNode.call(this,G,null,P,ae),I.prototype.initFromNode.call(this,G,null,P,ae),this.lang=$},F.prototype.initFromNode=function(G,P,$,ae,ne){A.prototype.initFromNode.call(this,G,P,$,ne),C.prototype.initFromNode.call(this,G,P,$,ne),w.prototype.initFromNode.call(this,G,P,$,ne),T.prototype.initFromNode.call(this,G,P,$,ne),I.prototype.initFromNode.call(this,G,P,$,ne),this.lang=ae},K.prototype.initFromNode=function(G,P,$,ae,ne){A.prototype.initFromNode.call(this,G,P,$,ne),C.prototype.initFromNode.call(this,G,P,$,ne),w.prototype.initFromNode.call(this,G,P,$,ne),T.prototype.initFromNode.call(this,G,P,$,ne),I.prototype.initFromNode.call(this,G,P,$,ne),this.lang=ae},he.prototype.initFromNode=function(G,P,$,ae,ne,$e){A.prototype.initFromNode.call(this,G,P,$,$e),C.prototype.initFromNode.call(this,G,P,$,$e),w.prototype.initFromNode.call(this,G,P,$,$e),T.prototype.initFromNode.call(this,G,P,$,$e),I.prototype.initFromNode.call(this,G,P,$,$e),this.space=ne,this.lang=ae},q.prototype.initFromText=function(G,P,$,ae,ne,$e){C.prototype.initFromNode.call(this,G,P,null,$e),this.text=$,this.space=ne,this.lang=ae},Ee.prototype.initFromNode=function(G,P,$,ae,ne){T.prototype.initFromNode.call(this,G,P,$,ne),C.prototype.initFromNode.call(this,G,P,$,ne),this.lang=ae},Te.prototype.createDefaultRegion=function(G){var P=new Te;return E.call(P,""),A.call(P,{}),w.call(P,[]),C.call(P,0,Number.POSITIVE_INFINITY,null),this.lang=G,P},Te.prototype.initFromNode=function(G,P,$,ae){E.prototype.initFromNode.call(this,G,null,P,ae),C.prototype.initFromNode.call(this,G,null,P,ae),w.prototype.initFromNode.call(this,G,null,P,ae),this.styleAttrs=Ye(P,ae),this.styleRefs=He(P),this.lang=$},ge.prototype.initFromNode=function(G,P,$,ae){C.prototype.initFromNode.call(this,G,P,$,ae);var ne=Ye($,ae);for(var $e in this.qname=null,this.value=null,ne)if(ne.hasOwnProperty($e)){if(this.qname){Pe(ae,"More than one style specified on set");break}this.qname=$e,this.value=ne[$e]}}})(e,typeof sax>"u"?n(5474):sax,typeof imscNames>"u"?n(977):imscNames,typeof imscStyles>"u"?n(1219):imscStyles,typeof imscUtils>"u"?n(6404):imscUtils)},1612:function(t,e,n){var r=/firefox/i.test(navigator.userAgent);(function(i,o,l){function u(I,C,j,F){var K;if(j.kind==="region")(K=document.createElement("div")).style.position="absolute";else if(j.kind==="body")K=document.createElement("div");else if(j.kind==="div")K=document.createElement("div");else if(j.kind==="image"){if(K=document.createElement("img"),I.imgResolver!==null&&j.src!==null){var he=I.imgResolver(j.src,K);he&&(K.src=he),K.height=I.regionH,K.width=I.regionW}}else if(j.kind==="p")K=document.createElement("p");else if(j.kind==="span")if(j.styleAttrs[l.byName.ruby.qname]==="container")K=document.createElement("ruby"),I.ruby=!0;else if(j.styleAttrs[l.byName.ruby.qname]==="base")K=document.createElement("span");else if(j.styleAttrs[l.byName.ruby.qname]==="text")K=document.createElement("rt");else if(j.styleAttrs[l.byName.ruby.qname]==="baseContainer")K=document.createElement("rbc");else if(j.styleAttrs[l.byName.ruby.qname]==="textContainer")K=document.createElement("rtc");else{if(j.styleAttrs[l.byName.ruby.qname]==="delimiter")return;K=document.createElement("span")}else j.kind==="br"&&(K=document.createElement("br"));if(K){if(j.lang&&(j.kind!=="region"&&j.lang===F.lang||(K.lang=j.lang)),C.appendChild(K),K.style.margin="0",j.kind==="region"){var q=j.styleAttrs[l.byName.writingMode.qname];q==="lrtb"||q==="lr"?(I.ipd="lr",I.bpd="tb"):q==="rltb"||q==="rl"?(I.ipd="rl",I.bpd="tb"):q==="tblr"?(I.ipd="tb",I.bpd="lr"):q!=="tbrl"&&q!=="tb"||(I.ipd="tb",I.bpd="rl")}else if(j.kind==="p"&&I.bpd==="tb"){var Ee=j.styleAttrs[l.byName.direction.qname];I.ipd=Ee==="ltr"?"lr":"rl"}for(var Te=0;Te<y.length;Te++){var ge=y[Te],Be=j.styleAttrs[ge.qname];Be!==void 0&&ge.map!==null&&ge.map(I,K,j,Be)}var He=K,Ye=j.styleAttrs[l.byName.linePadding.qname];if(Ye&&!Ye.isZero()){var Ie=Ye.toUsedLength(I.w,I.h);if(Ie>0){var we=Math.ceil(Ie)+"px";I.bpd==="tb"?(He.style.paddingLeft=we,He.style.paddingRight=we):(He.style.paddingTop=we,He.style.paddingBottom=we),I.lp=Ye}}var je=j.styleAttrs[l.byName.multiRowAlign.qname];if(je&&je!=="auto"){var Ce=document.createElement("span");Ce.style.display="inline-block",Ce.style.textAlign=je,K.appendChild(Ce),He=Ce,I.mra=je}var dt=j.styleAttrs[l.byName.rubyReserve.qname];if(dt&&dt[0]!=="none"&&(I.rubyReserve=dt),j.styleAttrs[l.byName.fillLineGap.qname]&&(I.flg=!0),j.kind==="span"&&j.text){var Le=j.styleAttrs[l.byName.textEmphasis.qname];if(Le&&Le.style!=="none"&&(I.textEmphasis=!0),l.byName.textCombine.qname in j.styleAttrs&&j.styleAttrs[l.byName.textCombine.qname]==="all")K.textContent=j.text,K._isd_element=j,Le&&m(I,K,0,Le);else for(var Pe="",it=0;it<j.text.length;it++){Pe+=j.text.charAt(it);var J=j.text.charCodeAt(it);if(J<55296||J>56319||it===j.text.length-1){var G=document.createElement("span");G.textContent=Pe,Le&&m(I,G,0,Le),K.appendChild(G),Pe="",G._isd_element=j}}}if("contents"in j)for(var P=0;P<j.contents.length;P++)u(I,He,j.contents[P],j);var $=[];if(j.kind==="p"&&(p(I,He,$,null),I.rubyReserve&&((function(Ve,We){for(var Ke=0;Ke<Ve.length;Ke++){var Je,ft,nt=document.createElement("ruby"),bt=document.createElement("span");bt.textContent="",nt.appendChild(bt);var tn,zt=We.rubyReserve[1].toUsedLength(We.w,We.h)+"px";We.rubyReserve[0]==="both"||We.rubyReserve[0]==="outside"&&Ve.length==1?((Je=document.createElement("rtc")).style[E]=_?"after":"under",Je.textContent="",Je.style.fontSize=zt,(ft=document.createElement("rtc")).style[E]=_?"before":"over",ft.textContent="",ft.style.fontSize=zt,nt.appendChild(Je),nt.appendChild(ft)):((Je=document.createElement("rtc")).textContent="",Je.style.fontSize=zt,tn=We.rubyReserve[0]==="after"||We.rubyReserve[0]==="outside"&&Ke>0?_?"after":We.bpd==="tb"||We.bpd==="rl"?"under":"over":_?"before":We.bpd==="tb"||We.bpd==="rl"?"over":"under",Je.style[E]=tn,nt.appendChild(Je));for(var Wt=null,Ze=0;Ze<Ve[Ke].rbc.length;Ze++)if(Ve[Ke].rbc[Ze].localName==="ruby"){Wt=Ve[Ke].rbc[Ze];for(var At=0;At<Wt.style.length;At++)nt.style.setProperty(Wt.style.item(At),Wt.style.getPropertyValue(Wt.style.item(At)));break}(Wt=Wt||Ve[Ke].elements[0].node).parentElement.insertBefore(nt,Wt)}})($,I),I.rubyReserve=null),(I.ruby||I.rubyReserve)&&((function(Ve,We){for(var Ke=0;Ke<Ve.length;Ke++)for(var Je=0;Je<Ve[Ke].rbc.length;Je++){var ft;Ve[Ke].rbc[Je].style[E]||(ft=_?Ke===0?"before":"after":We.bpd==="tb"||We.bpd==="rl"?Ke===0?"over":"under":Ke===0?"under":"over",Ve[Ke].rbc[Je].style[E]=ft)}})($,I),I.ruby=null),I.textEmphasis&&((function(Ve,We){for(var Ke=0;Ke<Ve.length;Ke++)for(var Je=0;Je<Ve[Ke].te.length;Je++){var ft;Ve[Ke].te[Je].style[A]&&Ve[Ke].te[Je].style[A]!=="none"||(ft=We.bpd==="tb"?Ke===0?"left over":"left under":We.bpd==="rl"?Ke===0?"right under":"left under":Ke===0?"left under":"right under",Ve[Ke].te[Je].style[A]=ft)}})($,I),I.textEmphasis=null),I.mra&&((function(Ve){for(var We=0;We<Ve.length-1;We++){var Ke=Ve[We].elements.length;if(Ke!==0&&Ve[We].br===!1){var Je=document.createElement("br"),ft=Ve[We].elements[Ke-1].node;ft.parentElement.insertBefore(Je,ft.nextSibling)}}})($),I.mra=null),I.lp&&((function(Ve,We,Ke){if(Ve!==null)for(var Je=0;Je<Ve.length;Je++){var ft=Ve[Je].elements.length,nt=Math.ceil(We)+"px",bt="-"+Math.ceil(We)+"px";if(ft!==0){var tn=Ve[Je].elements[Ve[Je].start_elem],zt=Ve[Je].elements[Ve[Je].end_elem];if(tn===zt){var Wt=tn.node.getBoundingClientRect();if(Wt.width==0||Wt.height==0)continue}Ke.ipd==="lr"?(tn.node.style.marginLeft=bt,tn.node.style.paddingLeft=nt):Ke.ipd==="rl"?(tn.node.style.paddingRight=nt,tn.node.style.marginRight=bt):Ke.ipd==="tb"&&(tn.node.style.paddingTop=nt,tn.node.style.marginTop=bt),Ke.ipd==="lr"?(r||(zt.node.style.marginRight=bt),zt.node.style.paddingRight=nt):Ke.ipd==="rl"?(zt.node.style.paddingLeft=nt,r||(zt.node.style.marginLeft=bt)):Ke.ipd==="tb"&&(zt.node.style.paddingBottom=nt,zt.node.style.marginBottom=bt)}}})($,I.lp.toUsedLength(I.w,I.h),I),I.lp=null),(function(Ve,We){for(var Ke=0;Ke<Ve.length;Ke++)for(var Je=Ve[Ke],ft=1;ft<Je.elements.length;){var nt=Je.elements[ft-1],bt=Je.elements[ft];d(nt.node,bt.node,We)?Je.elements.splice(ft,1):ft++}for(var tn,zt,Wt=[],Ze=0;Ze<Ve.length;Ze++)for(var At=0;At<Ve[Ze].elements.length;At++)(zt=c(tn=Ve[Ze].elements[At].node,Wt,!1))&&(tn.style.backgroundColor=zt);for(var mn=0;mn<Wt.length;mn++)Wt[mn].style.backgroundColor=""})($,I),I.flg)){var ae=f(He.getBoundingClientRect(),I);(function(Ve,We,Ke,Je){for(var ft=Math.sign(Ke-We),nt=0;nt<=Ve.length;nt++){var bt,tn,zt,Wt;if(bt=nt===0?Math.round(We):nt===Ve.length?Math.round(Ke):Math.round((Ve[nt-1].after+Ve[nt].before)/2),nt>0&&Ve[nt-1])for(zt=0;zt<Ve[nt-1].elements.length;zt++)tn=ft*(bt-(Wt=Ve[nt-1].elements[zt]).after)+"px",Je.bpd==="lr"?Wt.node.style.paddingRight=tn:Je.bpd==="rl"?Wt.node.style.paddingLeft=tn:Je.bpd==="tb"&&(Wt.node.style.paddingBottom=tn);if(nt<Ve.length)for(zt=0;zt<Ve[nt].elements.length;zt++)tn=ft*((Wt=Ve[nt].elements[zt]).before-bt)+"px",Je.bpd==="lr"?Wt.node.style.paddingLeft=tn:Je.bpd==="rl"?Wt.node.style.paddingRight=tn:Je.bpd==="tb"&&(Wt.node.style.paddingTop=tn)}})($,ae.before,ae.after,I),I.flg=null}if(j.kind==="region"&&I.bpd==="tb"&&I.enableRollUp&&j.contents.length>0&&j.styleAttrs[l.byName.displayAlign.qname]==="after"){p(I,He,$,null);var ne=new h(j.id===""?"_":j.id,$);if(I.currentISDState[ne.id]=ne,I.previousISDState&&ne.id in I.previousISDState&&I.previousISDState[ne.id].plist.length>0&&ne.plist.length>1&&ne.plist[ne.plist.length-2].text===I.previousISDState[ne.id].plist[I.previousISDState[ne.id].plist.length-1].text){var $e=K.firstElementChild,Qe=ne.plist[ne.plist.length-1].after-ne.plist[ne.plist.length-1].before;$e.style.bottom="-"+Qe+"px",$e.style.transition="transform 0.4s",$e.style.position="relative",$e.style.transform="translateY(-"+Qe+"px)"}}}else w(I.errorHandler,"Error processing ISD element kind: "+j.kind)}function c(I,C,j){return I.style.backgroundColor?(j&&!C.includes(I)&&C.push(I),I.style.backgroundColor):I.parentElement.nodeName==="SPAN"||I.parentElement.nodeName==="RUBY"||I.parentElement.nodeName==="RBC"||I.parentElement.nodeName==="RTC"||I.parentElement.nodeName==="RT"?c(I.parentElement,C,!0):void 0}function d(I,C,j){if(I.tagName==="SPAN"&&C.tagName==="SPAN"&&I._isd_element===C._isd_element){if(!I._isd_element)return w(j.errorHandler,"Internal error: HTML span is not linked to a source element; cannot merge spans."),!1;I.textContent+=C.textContent;for(var F=0;F<C.style.length;F++){var K=C.style[F];(K.indexOf("border")>=0||K.indexOf("padding")>=0||K.indexOf("margin")>=0)&&(I.style[K]=C.style[K])}return C.parentElement.removeChild(C),!0}return!1}function h(I,C){this.id=I,this.plist=C}function f(I,C){var j={before:null,after:null,start:null,end:null};return C.bpd==="tb"?(j.before=I.top,j.after=I.bottom,C.ipd==="lr"?(j.start=I.left,j.end=I.right):(j.start=I.right,j.end=I.left)):C.bpd==="lr"?(j.before=I.left,j.after=I.right,j.start=I.top,j.end=I.bottom):C.bpd==="rl"&&(j.before=I.right,j.after=I.left,j.start=I.top,j.end=I.bottom),j}function p(I,C,j,F){if(C.localName!=="rt"&&C.localName!=="rtc"){var K,he,q,Ee,Te=C.style.backgroundColor||F;if(C.childElementCount===0)if(C.localName==="span"||C.localName==="rb"){var ge=f(C.getBoundingClientRect(),I);if(j.length!==0&&(K=ge.before,he=ge.after,q=j[j.length-1].before,he<(Ee=j[j.length-1].after)&&K>q||Ee<=he&&q>=K)){var Be=Math.sign(ge.after-ge.before),He=Math.sign(ge.end-ge.start);Be*(ge.before-j[j.length-1].before)<0&&(j[j.length-1].before=ge.before),Be*(ge.after-j[j.length-1].after)>0&&(j[j.length-1].after=ge.after),He*(ge.start-j[j.length-1].start)<0&&(j[j.length-1].start=ge.start,j[j.length-1].start_elem=j[j.length-1].elements.length),He*(ge.end-j[j.length-1].end)>0&&(j[j.length-1].end=ge.end,j[j.length-1].end_elem=j[j.length-1].elements.length)}else j.push({before:ge.before,after:ge.after,start:ge.start,end:ge.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1});j[j.length-1].text+=C.textContent,j[j.length-1].elements.push({node:C,bgcolor:Te,before:ge.before,after:ge.after})}else C.localName==="br"&&j.length!==0&&(j[j.length-1].br=!0);else for(var Ye=C.firstChild;Ye;)Ye.nodeType===Node.ELEMENT_NODE&&(p(I,Ye,j,Te),Ye.localName==="ruby"||Ye.localName==="rtc"?j.length>0&&j[j.length-1].rbc.push(Ye):Ye.localName==="span"&&Ye.style[T]&&Ye.style[T]!=="none"&&j.length>0&&j[j.length-1].te.push(Ye)),Ye=Ye.nextSibling}}function m(I,C,j,F){var K;F.style!=="none"&&(F.style==="auto"?C.style[T]="filled":C.style[T]=F.style+" "+F.symbol,(F.position==="before"||F.position==="after")&&(K=I.bpd==="tb"?F.position==="before"?"left over":"left under":I.bpd==="rl"?F.position==="before"?"right under":"left under":F.position==="before"?"left under":"right under",C.style[A]=K))}function g(I,C){this.qname=I,this.map=C}i.render=function(I,C,j,F,K,he,q,Ee,Te){var ge=F||C.clientHeight,Be=K||C.clientWidth;if(I.aspectRatio!==null){var He=ge*I.aspectRatio;He>Be?ge=Math.round(Be/I.aspectRatio):Be=He}var Ye=document.createElement("div");Ye.style.position="relative",Ye.style.width=Be+"px",Ye.style.height=ge+"px",Ye.style.margin="auto",Ye.style.top=0,Ye.style.bottom=0,Ye.style.left=0,Ye.style.right=0,Ye.style.zIndex=0;var Ie={h:ge,w:Be,regionH:null,regionW:null,imgResolver:j,displayForcedOnlyMode:he||!1,isd:I,errorHandler:q,previousISDState:Ee,enableRollUp:Te||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null};if(C.appendChild(Ye),"contents"in I)for(var we=0;we<I.contents.length;we++)u(Ie,Ye,I.contents[we],I);return Ie.currentISDState};for(var y=[new g("http://www.w3.org/ns/ttml#styling backgroundColor",(function(I,C,j,F){F[3]!==0&&(C.style.backgroundColor="rgba("+F[0].toString()+","+F[1].toString()+","+F[2].toString()+","+(F[3]/255).toString()+")")})),new g("http://www.w3.org/ns/ttml#styling color",(function(I,C,j,F){C.style.color="rgba("+F[0].toString()+","+F[1].toString()+","+F[2].toString()+","+(F[3]/255).toString()+")"})),new g("http://www.w3.org/ns/ttml#styling direction",(function(I,C,j,F){C.style.direction=F})),new g("http://www.w3.org/ns/ttml#styling display",(function(I,C,j,F){})),new g("http://www.w3.org/ns/ttml#styling displayAlign",(function(I,C,j,F){C.style.display="flex",C.style.flexDirection="column",F==="before"?C.style.justifyContent="flex-start":F==="center"?C.style.justifyContent="center":F==="after"&&(C.style.justifyContent="flex-end")})),new g("http://www.w3.org/ns/ttml#styling extent",(function(I,C,j,F){I.regionH=F.h.toUsedLength(I.w,I.h),I.regionW=F.w.toUsedLength(I.w,I.h);var K=0,he=0,q=j.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];q&&(K=q[0].toUsedLength(I.w,I.h)+q[2].toUsedLength(I.w,I.h),he=q[1].toUsedLength(I.w,I.h)+q[3].toUsedLength(I.w,I.h)),C.style.height=I.regionH-K+"px",C.style.width=I.regionW-he+"px"})),new g("http://www.w3.org/ns/ttml#styling fontFamily",(function(I,C,j,F){for(var K=[],he=0;he<F.length;he++)F[he]=F[he].trim(),F[he]==="monospaceSerif"?(K.push("Courier New"),K.push('"Liberation Mono"'),K.push("Courier"),K.push("monospace")):F[he]==="proportionalSansSerif"?(K.push("Arial"),K.push("Helvetica"),K.push('"Liberation Sans"'),K.push("sans-serif")):F[he]==="monospace"?K.push("monospace"):F[he]==="sansSerif"?K.push("sans-serif"):F[he]==="serif"?K.push("serif"):F[he]==="monospaceSansSerif"?(K.push("Consolas"),K.push("monospace")):F[he]==="proportionalSerif"?K.push("serif"):K.push(F[he]);if(K.length>0){for(var q=[K[0]],Ee=1;Ee<K.length;Ee++)q.indexOf(K[Ee])==-1&&q.push(K[Ee]);K=q}C.style.fontFamily=K.join(",")})),new g("http://www.w3.org/ns/ttml#styling shear",(function(I,C,j,F){if(F!==0){var K=-.9*F;I.bpd==="tb"?C.style.transform="skewX("+K+"deg)":C.style.transform="skewY("+K+"deg)"}})),new g("http://www.w3.org/ns/ttml#styling fontSize",(function(I,C,j,F){C.style.fontSize=F.toUsedLength(I.w,I.h)+"px"})),new g("http://www.w3.org/ns/ttml#styling fontStyle",(function(I,C,j,F){C.style.fontStyle=F})),new g("http://www.w3.org/ns/ttml#styling fontWeight",(function(I,C,j,F){C.style.fontWeight=F})),new g("http://www.w3.org/ns/ttml#styling lineHeight",(function(I,C,j,F){C.style.lineHeight=F==="normal"?"normal":F.toUsedLength(I.w,I.h)+"px"})),new g("http://www.w3.org/ns/ttml#styling opacity",(function(I,C,j,F){C.style.opacity=F})),new g("http://www.w3.org/ns/ttml#styling origin",(function(I,C,j,F){C.style.top=F.h.toUsedLength(I.w,I.h)+"px",C.style.left=F.w.toUsedLength(I.w,I.h)+"px"})),new g("http://www.w3.org/ns/ttml#styling overflow",(function(I,C,j,F){C.style.overflow=F})),new g("http://www.w3.org/ns/ttml#styling padding",(function(I,C,j,F){var K=[];K[0]=F[0].toUsedLength(I.w,I.h)+"px",K[1]=F[3].toUsedLength(I.w,I.h)+"px",K[2]=F[2].toUsedLength(I.w,I.h)+"px",K[3]=F[1].toUsedLength(I.w,I.h)+"px",C.style.padding=K.join(" ")})),new g("http://www.w3.org/ns/ttml#styling position",(function(I,C,j,F){C.style.top=F.h.toUsedLength(I.w,I.h)+"px",C.style.left=F.w.toUsedLength(I.w,I.h)+"px"})),new g("http://www.w3.org/ns/ttml#styling rubyAlign",(function(I,C,j,F){C.style.rubyAlign=F==="spaceAround"?"space-around":"center"})),new g("http://www.w3.org/ns/ttml#styling rubyPosition",(function(I,C,j,F){var K;F!=="before"&&F!=="after"||(K=_?F:I.bpd==="tb"||I.bpd==="rl"?F==="before"?"over":"under":F==="before"?"under":"over",C.parentElement.style[E]=K)})),new g("http://www.w3.org/ns/ttml#styling showBackground",null),new g("http://www.w3.org/ns/ttml#styling textAlign",(function(I,C,j,F){var K;K=F==="start"?I.ipd==="rl"?"right":"left":F==="end"?I.ipd==="rl"?"left":"right":F,C.style.textAlign=K})),new g("http://www.w3.org/ns/ttml#styling textDecoration",(function(I,C,j,F){C.style.textDecoration=F.join(" ").replace("lineThrough","line-through")})),new g("http://www.w3.org/ns/ttml#styling textOutline",(function(I,C,j,F){})),new g("http://www.w3.org/ns/ttml#styling textShadow",(function(I,C,j,F){var K=j.styleAttrs[l.byName.textOutline.qname];if(F==="none"&&K==="none")C.style.textShadow="";else{var he=[];if(K!=="none"){var q="rgba("+K.color[0].toString()+","+K.color[1].toString()+","+K.color[2].toString()+","+(K.color[3]/255).toString()+")";he.push("1px 1px 1px "+q),he.push("-1px 1px 1px "+q),he.push("1px -1px 1px "+q),he.push("-1px -1px 1px "+q)}if(F!=="none")for(var Ee=0;Ee<F.length;Ee++)he.push(F[Ee].x_off.toUsedLength(I.w,I.h)+"px "+F[Ee].y_off.toUsedLength(I.w,I.h)+"px "+F[Ee].b_radius.toUsedLength(I.w,I.h)+"px rgba("+F[Ee].color[0].toString()+","+F[Ee].color[1].toString()+","+F[Ee].color[2].toString()+","+(F[Ee].color[3]/255).toString()+")");C.style.textShadow=he.join(",")}})),new g("http://www.w3.org/ns/ttml#styling textCombine",(function(I,C,j,F){C.style.textCombineUpright=F})),new g("http://www.w3.org/ns/ttml#styling textEmphasis",(function(I,C,j,F){})),new g("http://www.w3.org/ns/ttml#styling unicodeBidi",(function(I,C,j,F){var K;K=F==="bidiOverride"?"bidi-override":F,C.style.unicodeBidi=K})),new g("http://www.w3.org/ns/ttml#styling visibility",(function(I,C,j,F){C.style.visibility=F})),new g("http://www.w3.org/ns/ttml#styling wrapOption",(function(I,C,j,F){F==="wrap"?j.space==="preserve"?C.style.whiteSpace="pre-wrap":C.style.whiteSpace="normal":j.space==="preserve"?C.style.whiteSpace="pre":C.style.whiteSpace="noWrap"})),new g("http://www.w3.org/ns/ttml#styling writingMode",(function(I,C,j,F){F==="lrtb"||F==="lr"||F==="rltb"||F==="rl"?C.style.writingMode="horizontal-tb":F==="tblr"?C.style.writingMode="vertical-lr":F!=="tbrl"&&F!=="tb"||(C.style.writingMode="vertical-rl")})),new g("http://www.w3.org/ns/ttml#styling zIndex",(function(I,C,j,F){C.style.zIndex=F})),new g("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",(function(I,C,j,F){I.displayForcedOnlyMode&&F===!1&&(C.style.visibility="hidden")}))],b={},v=0;v<y.length;v++)b[y[v].qname]=y[v];var _="webkitRubyPosition"in window.getComputedStyle(document.documentElement),E=_?"webkitRubyPosition":"rubyPosition",T="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",A="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition";function w(I,C){if(I&&I.error&&I.error(C))throw C}})(e,typeof imscNames>"u"?n(977):imscNames,typeof imscStyles>"u"?n(1219):imscStyles,typeof imscUtils>"u"?n(6404):imscUtils)},8905:function(t,e,n){(function(r,i,o,l){r.generateISD=function(g,y,b){var v,_=new f(g),E={},T={},A=g.head.styling.initials[o.byName.showBackground.qname],w=g.head.styling.initials[o.byName.backgroundColor.qname];for(var I in g.head.layout.regions)if(g.head.layout.regions.hasOwnProperty(I)){var C=g.head.layout.regions[I],j=C.styleAttrs[o.byName.showBackground.qname]||A,F=C.styleAttrs[o.byName.backgroundColor.qname]||w;T[C.id]=(j==="always"||j===void 0)&&F!==void 0&&!(y<C.begin||y>=C.end)}for(var K in g.body&&g.body.regionID&&(T[g.body.regionID]=!0),v=g.body!==null?(function q(Ee,Te){if(Te.contents){var ge={};for(var Be in Te)Te.hasOwnProperty(Be)&&(ge[Be]=Te[Be]);return ge.contents=[],Te.contents.filter((function(He){return!(Ee<He.begin||Ee>=He.end)})).forEach((function(He){var Ye=q(Ee,He);Ye.regionID&&(T[Ye.regionID]=!0),Ye!==null&&ge.contents.push(Ye)})),ge}return Te})(y,g.body):null,T[""]!==void 0&&(T[""]=!0),T)if(T[K]){var he=c(g,y,g.head.layout.regions[K],v,null,"",g.head.layout.regions[K],b,E);he!==null&&_.contents.push(he.element)}return _};var u=[o.byName.color.qname,o.byName.textCombine.qname,o.byName.textDecoration.qname,o.byName.textEmphasis.qname,o.byName.textOutline.qname,o.byName.textShadow.qname];function c(g,y,b,v,_,E,T,A,w){if(y<T.begin||y>=T.end)return null;var I="regionID"in T&&T.regionID!==""?T.regionID:E;if(_!==null&&I!==b.id&&(!("contents"in T)||"contents"in T&&T.contents.length===0||I!==""))return null;var C=new p(T);if("sets"in T)for(var j=0;j<T.sets.length;j++)y<T.sets[j].begin||y>=T.sets[j].end||(C.styleAttrs[T.sets[j].qname]=T.sets[j].value);var F={};for(var K in C.styleAttrs)if(C.styleAttrs.hasOwnProperty(K)&&(F[K]=!0,C.kind==="region"&&K===o.byName.writingMode.qname&&!(o.byName.direction.qname in C.styleAttrs))){var he=C.styleAttrs[K];he==="lrtb"||he==="lr"?C.styleAttrs[o.byName.direction.qname]="ltr":he!=="rltb"&&he!=="rl"||(C.styleAttrs[o.byName.direction.qname]="rtl")}if(_!==null)for(var q=0;q<o.all.length;q++){var Ee=o.all[q];if(Ee.qname===o.byName.textDecoration.qname){var Te=_.styleAttrs[Ee.qname],ge=C.styleAttrs[Ee.qname],Be=[];ge===void 0?Be=Te:ge.indexOf("none")===-1?((ge.indexOf("noUnderline")===-1&&Te.indexOf("underline")!==-1||ge.indexOf("underline")!==-1)&&Be.push("underline"),(ge.indexOf("noLineThrough")===-1&&Te.indexOf("lineThrough")!==-1||ge.indexOf("lineThrough")!==-1)&&Be.push("lineThrough"),(ge.indexOf("noOverline")===-1&&Te.indexOf("overline")!==-1||ge.indexOf("overline")!==-1)&&Be.push("overline")):Be.push("none"),C.styleAttrs[Ee.qname]=Be}else if(Ee.qname!==o.byName.fontSize.qname||Ee.qname in C.styleAttrs||C.kind!=="span"||C.styleAttrs[o.byName.ruby.qname]!=="textContainer")if(Ee.qname!==o.byName.fontSize.qname||Ee.qname in C.styleAttrs||C.kind!=="span"||C.styleAttrs[o.byName.ruby.qname]!=="text")Ee.inherit&&Ee.qname in _.styleAttrs&&!(Ee.qname in C.styleAttrs)&&(C.styleAttrs[Ee.qname]=_.styleAttrs[Ee.qname]);else{var He=_.styleAttrs[o.byName.fontSize.qname];_.styleAttrs[o.byName.ruby.qname]==="textContainer"?C.styleAttrs[Ee.qname]=He:C.styleAttrs[Ee.qname]=new l.ComputedLength(.5*He.rw,.5*He.rh)}else{var Ye=_.styleAttrs[o.byName.fontSize.qname];C.styleAttrs[Ee.qname]=new l.ComputedLength(.5*Ye.rw,.5*Ye.rh)}}for(var Ie=0;Ie<o.all.length;Ie++){var we=o.all[Ie];if(!(we.qname in C.styleAttrs)&&!(we.qname===o.byName.position.qname&&o.byName.origin.qname in C.styleAttrs||we.qname===o.byName.origin.qname&&o.byName.position.qname in C.styleAttrs)){var je=g.head.styling.initials[we.qname]||we.initial;if(je!==null&&(C.kind==="region"||we.inherit===!1&&je!==null)){var Ce=we.parse(je);Ce!==null?(C.styleAttrs[we.qname]=Ce,F[we.qname]=!0):m(A,"Invalid initial value for '"+we.qname+"' on element '"+C.kind)}}}for(var dt=0;dt<o.all.length;dt++){var Le=o.all[dt];if(Le.qname in F&&Le.compute!==null){var Pe=Le.compute(g,_,C,C.styleAttrs[Le.qname],w);Pe!==null?C.styleAttrs[Le.qname]=Pe:(C.styleAttrs[Le.qname]=Le.compute(g,_,C,Le.parse(Le.initial),w),m(A,"Style '"+Le.qname+"' on element '"+C.kind+"' cannot be computed"))}}if(C.styleAttrs[o.byName.display.qname]==="none")return null;var it=null;_===null?it=v===null?[]:[v]:"contents"in T&&(it=T.contents);for(var J=0;it!==null&&J<it.length;J++){var G=c(g,y,b,v,C,I,it[J],A,w);G!==null&&C.contents.push(G.element)}for(var P in C.styleAttrs)if(C.styleAttrs.hasOwnProperty(P)){var $=!1;if(C.kind==="span"){var ae=C.styleAttrs[o.byName.ruby.qname];($=(ae==="container"||ae==="textContainer"||ae==="baseContainer")&&u.indexOf(P)!==-1)||($=ae!=="container"&&P===o.byName.rubyAlign.qname),$||($=!(ae==="textContainer"||ae==="text")&&P===o.byName.rubyPosition.qname)}if(!$){var ne=o.byQName[P];"applies"in ne&&($=ne.applies.indexOf(C.kind)===-1)}$&&delete C.styleAttrs[P]}var $e=C.styleAttrs[o.byName.ruby.qname];if(C.kind==="p"||C.kind==="span"&&($e==="textContainer"||$e==="text")){var Qe=[];d(C,Qe),(function(Ve){for(var We,Ke=0;Ke<Ve.length;)if((We=Ve[Ke]).kind!=="br"&&We.space!=="preserve"){var Je=We.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(Je)&&(Ke===0||(ft=Ve[Ke-1]).kind==="br"||/[\r\n\t ]$/.test(ft.text))&&(Je=Je.substring(1)),We.text=Je,Je.length===0?Ve.splice(Ke,1):Ke++}else Ke++;var ft,nt;for(Ke=0;Ke<Ve.length;Ke++)(We=Ve[Ke]).kind!=="br"&&We.space!=="preserve"?/[ ]$/.test(We.text)&&(Ke===Ve.length-1||(nt=Ve[Ke+1]).kind==="br"||nt.space==="preserve"&&/^[\r\n]/.test(nt.text))&&(We.text=We.text.slice(0,-1)):Ke++})(Qe),h(C)}return C.kind==="div"&&o.byName.backgroundImage.qname in C.styleAttrs||C.kind==="br"||C.kind==="image"||"contents"in C&&C.contents.length>0||C.kind==="span"&&C.text!==null||C.kind==="region"&&C.styleAttrs[o.byName.showBackground.qname]==="always"?{region_id:I,element:C}:null}function d(g,y){if("contents"in g)for(var b=0;b<g.contents.length;b++){var v=g.contents[b],_=v.styleAttrs[o.byName.ruby.qname];(v.kind!=="span"||_!=="textContainer"&&_!=="text")&&("contents"in v?d(v,y):(v.kind==="span"&&v.text.length!==0||v.kind==="br")&&y.push(v))}}function h(g){if(g.kind==="br")return!1;if("text"in g)return g.text.length===0;if("contents"in g){for(var y=g.contents.length;y--;)h(g.contents[y])&&g.contents.splice(y,1);return g.contents.length===0}}function f(g){this.contents=[],this.aspectRatio=g.aspectRatio,this.lang=g.lang}function p(g){for(var y in this.kind=g.kind||"region",this.lang=g.lang,g.id&&(this.id=g.id),this.styleAttrs={},g.styleAttrs)g.styleAttrs.hasOwnProperty(y)&&(this.styleAttrs[y]=g.styleAttrs[y]);"src"in g&&(this.src=g.src),"type"in g&&(this.type=g.type),"text"in g?this.text=g.text:(this.kind==="region"||"contents"in g)&&(this.contents=[]),"space"in g&&(this.space=g.space)}function m(g,y){if(g&&g.error&&g.error(y))throw y}})(e,typeof imscNames>"u"?n(977):imscNames,typeof imscStyles>"u"?n(1219):imscStyles,typeof imscUtils>"u"?n(6404):imscUtils)},7640:function(t,e,n){e.generateISD=n(8905).generateISD,e.fromXML=n(6739).fromXML,e.renderHTML=n(1612).render},977:function(t,e){(function(n){n.ns_tt="http://www.w3.org/ns/ttml",n.ns_tts="http://www.w3.org/ns/ttml#styling",n.ns_ttp="http://www.w3.org/ns/ttml#parameter",n.ns_xml="http://www.w3.org/XML/1998/namespace",n.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",n.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",n.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",n.ns_ebutts="urn:ebu:tt:style"})(e)},1219:function(t,e,n){(function(r,i,o){function l(d,h,f,p,m,g,y,b){this.name=h,this.ns=d,this.qname=d+" "+h,this.inherit=m,this.animatable=g,this.initial=f,this.applies=p,this.parse=y,this.compute=b}for(var u in r.all=[new l(i.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,o.parseColor,null),new l(i.ns_tts,"color","white",["span"],!0,!0,o.parseColor,null),new l(i.ns_tts,"direction","ltr",["p","span"],!0,!0,(function(d){return d}),null),new l(i.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,(function(d){return d}),null),new l(i.ns_tts,"displayAlign","before",["region"],!1,!0,(function(d){return d}),null),new l(i.ns_tts,"extent","auto",["tt","region"],!1,!0,(function(d){if(d==="auto")return d;var h=d.split(" ");if(h.length!==2)return null;var f=o.parseLength(h[0]),p=o.parseLength(h[1]);return p&&f?{h:p,w:f}:null}),(function(d,h,f,p,m){var g,y;if(p==="auto")g=new o.ComputedLength(0,1);else if((g=o.toComputedLength(p.h.value,p.h.unit,null,d.dimensions.h,null,d.pxLength.h))===null)return null;if(p==="auto")y=new o.ComputedLength(1,0);else if((y=o.toComputedLength(p.w.value,p.w.unit,null,d.dimensions.w,null,d.pxLength.w))===null)return null;return{h:g,w:y}})),new l(i.ns_tts,"fontFamily","default",["span","p"],!0,!0,(function(d){for(var h=d.split(","),f=[],p=0;p<h.length;p++)h[p]=h[p].trim(),h[p].charAt(0)!=="'"&&h[p].charAt(0)!=='"'&&h[p]==="default"?f.push("monospaceSerif"):f.push(h[p]);return f}),null),new l(i.ns_tts,"shear","0%",["p"],!0,!0,o.parseLength,(function(d,h,f,p){return p.unit!=="%"?null:Math.abs(p.value)>100?100*Math.sign(p.value):p.value})),new l(i.ns_tts,"fontSize","1c",["span","p"],!0,!0,o.parseLength,(function(d,h,f,p,m){return o.toComputedLength(p.value,p.unit,h!==null?h.styleAttrs[r.byName.fontSize.qname]:d.cellLength.h,h!==null?h.styleAttrs[r.byName.fontSize.qname]:d.cellLength.h,d.cellLength.h,d.pxLength.h)})),new l(i.ns_tts,"fontStyle","normal",["span","p"],!0,!0,(function(d){return d}),null),new l(i.ns_tts,"fontWeight","normal",["span","p"],!0,!0,(function(d){return d}),null),new l(i.ns_tts,"lineHeight","normal",["p"],!0,!0,(function(d){return d==="normal"?d:o.parseLength(d)}),(function(d,h,f,p,m){var g;if(p==="normal")g=p;else if((g=o.toComputedLength(p.value,p.unit,f.styleAttrs[r.byName.fontSize.qname],f.styleAttrs[r.byName.fontSize.qname],d.cellLength.h,d.pxLength.h))===null)return null;return g})),new l(i.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new l(i.ns_tts,"origin","auto",["region"],!1,!0,(function(d){if(d==="auto")return d;var h=d.split(" ");if(h.length!==2)return null;var f=o.parseLength(h[0]),p=o.parseLength(h[1]);return p&&f?{h:p,w:f}:null}),(function(d,h,f,p,m){var g,y;if(p==="auto")g=new o.ComputedLength(0,0);else if((g=o.toComputedLength(p.h.value,p.h.unit,null,d.dimensions.h,null,d.pxLength.h))===null)return null;if(p==="auto")y=new o.ComputedLength(0,0);else if((y=o.toComputedLength(p.w.value,p.w.unit,null,d.dimensions.w,null,d.pxLength.w))===null)return null;return{h:g,w:y}})),new l(i.ns_tts,"overflow","hidden",["region"],!1,!0,(function(d){return d}),null),new l(i.ns_tts,"padding","0px",["region"],!1,!0,(function(d){var h=d.split(" ");if(h.length>4)return null;for(var f=[],p=0;p<h.length;p++){var m=o.parseLength(h[p]);if(!m)return null;f.push(m)}return f}),(function(d,h,f,p,m){var g;if(p.length===1)g=[p[0],p[0],p[0],p[0]];else if(p.length===2)g=[p[0],p[1],p[0],p[1]];else if(p.length===3)g=[p[0],p[1],p[2],p[1]];else{if(p.length!==4)return null;g=[p[0],p[1],p[2],p[3]]}var y=f.styleAttrs[r.byName.writingMode.qname];if(y==="lrtb"||y==="lr")g=[g[0],g[3],g[2],g[1]];else if(y==="rltb"||y==="rl")g=[g[0],g[1],g[2],g[3]];else if(y==="tblr")g=[g[3],g[0],g[1],g[2]];else{if(y!=="tbrl"&&y!=="tb")return null;g=[g[3],g[2],g[1],g[0]]}for(var b=[],v=0;v<g.length;v++)if(g[v].value===0)b[v]=new o.ComputedLength(0,0);else if(b[v]=o.toComputedLength(g[v].value,g[v].unit,f.styleAttrs[r.byName.fontSize.qname],v===0||v===2?f.styleAttrs[r.byName.extent.qname].h:f.styleAttrs[r.byName.extent.qname].w,v===0||v===2?d.cellLength.h:d.cellLength.w,v===0||v===2?d.pxLength.h:d.pxLength.w),b[v]===null)return null;return b})),new l(i.ns_tts,"position","top left",["region"],!1,!0,(function(d){return o.parsePosition(d)}),(function(d,h,f,p){var m,g;return(m=o.toComputedLength(p.v.offset.value,p.v.offset.unit,null,new o.ComputedLength(-f.styleAttrs[r.byName.extent.qname].h.rw,d.dimensions.h.rh-f.styleAttrs[r.byName.extent.qname].h.rh),null,d.pxLength.h))===null?null:(p.v.edge==="bottom"&&(m=new o.ComputedLength(-m.rw-f.styleAttrs[r.byName.extent.qname].h.rw,d.dimensions.h.rh-m.rh-f.styleAttrs[r.byName.extent.qname].h.rh)),g=o.toComputedLength(p.h.offset.value,p.h.offset.unit,null,new o.ComputedLength(d.dimensions.w.rw-f.styleAttrs[r.byName.extent.qname].w.rw,-f.styleAttrs[r.byName.extent.qname].w.rh),null,d.pxLength.w),m===null?null:(p.h.edge==="right"&&(g=new o.ComputedLength(d.dimensions.w.rw-g.rw-f.styleAttrs[r.byName.extent.qname].w.rw,-g.rh-f.styleAttrs[r.byName.extent.qname].w.rh)),{h:m,w:g}))})),new l(i.ns_tts,"ruby","none",["span"],!1,!0,(function(d){return d}),null),new l(i.ns_tts,"rubyAlign","center",["span"],!0,!0,(function(d){return d!=="center"&&d!=="spaceAround"?null:d}),null),new l(i.ns_tts,"rubyPosition","outside",["span"],!0,!0,(function(d){return d}),null),new l(i.ns_tts,"rubyReserve","none",["p"],!0,!0,(function(d){var h=d.split(" "),f=[null,null];if(h.length===0||h.length>2||h[0]!=="none"&&h[0]!=="both"&&h[0]!=="after"&&h[0]!=="before"&&h[0]!=="outside")return null;if(f[0]=h[0],h.length===2&&h[0]!=="none"){var p=o.parseLength(h[1]);if(!p)return null;f[1]=p}return f}),(function(d,h,f,p,m){if(p[0]==="none")return p;var g;return(g=p[1]===null?new o.ComputedLength(.5*f.styleAttrs[r.byName.fontSize.qname].rw,.5*f.styleAttrs[r.byName.fontSize.qname].rh):o.toComputedLength(p[1].value,p[1].unit,f.styleAttrs[r.byName.fontSize.qname],f.styleAttrs[r.byName.fontSize.qname],d.cellLength.h,d.pxLength.h))===null?null:[p[0],g]})),new l(i.ns_tts,"showBackground","always",["region"],!1,!0,(function(d){return d}),null),new l(i.ns_tts,"textAlign","start",["p"],!0,!0,(function(d){return d}),(function(d,h,f,p,m){return p==="left"?"start":p==="right"?"end":p})),new l(i.ns_tts,"textCombine","none",["span"],!0,!0,(function(d){return d==="none"||d==="all"?d:null}),null),new l(i.ns_tts,"textDecoration","none",["span"],!0,!0,(function(d){return d.split(" ")}),null),new l(i.ns_tts,"textEmphasis","none",["span"],!0,!0,(function(d){for(var h=d.split(" "),f={style:null,symbol:null,color:null,position:null},p=0;p<h.length;p++)if(h[p]==="none"||h[p]==="auto")f.style=h[p];else if(h[p]==="filled"||h[p]==="open")f.style=h[p];else if(h[p]==="circle"||h[p]==="dot"||h[p]==="sesame")f.symbol=h[p];else if(h[p]==="current")f.color=h[p];else if(h[p]==="outside"||h[p]==="before"||h[p]==="after")f.position=h[p];else if(f.color=o.parseColor(h[p]),f.color===null)return null;return f.style==null&&f.symbol==null?f.style="auto":(f.symbol=f.symbol||"circle",f.style=f.style||"filled"),f.position=f.position||"outside",f.color=f.color||"current",f}),null),new l(i.ns_tts,"textOutline","none",["span"],!0,!0,(function(d){if(d==="none")return d;var h={},f=d.split(" ");if(f.length===0||f.length>2)return null;var p=o.parseColor(f[0]);if(h.color=p,p!==null&&f.shift(),f.length!==1)return null;var m=o.parseLength(f[0]);return m?(h.thickness=m,h):null}),(function(d,h,f,p,m){if(p==="none")return p;var g={};return p.color===null?g.color=f.styleAttrs[r.byName.color.qname]:g.color=p.color,g.thickness=o.toComputedLength(p.thickness.value,p.thickness.unit,f.styleAttrs[r.byName.fontSize.qname],f.styleAttrs[r.byName.fontSize.qname],d.cellLength.h,d.pxLength.h),g.thickness===null?null:g})),new l(i.ns_tts,"textShadow","none",["span"],!0,!0,o.parseTextShadow,(function(d,h,f,p){if(p==="none")return p;for(var m=[],g=0;g<p.length;g++){var y={};if(y.x_off=o.toComputedLength(p[g][0].value,p[g][0].unit,null,f.styleAttrs[r.byName.fontSize.qname],null,d.pxLength.w),y.x_off===null||(y.y_off=o.toComputedLength(p[g][1].value,p[g][1].unit,null,f.styleAttrs[r.byName.fontSize.qname],null,d.pxLength.h),y.y_off===null))return null;if(p[g][2]===null)y.b_radius=0;else if(y.b_radius=o.toComputedLength(p[g][2].value,p[g][2].unit,null,f.styleAttrs[r.byName.fontSize.qname],null,d.pxLength.h),y.b_radius===null)return null;p[g][3]===null?y.color=f.styleAttrs[r.byName.color.qname]:y.color=p[g][3],m.push(y)}return m})),new l(i.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,(function(d){return d}),null),new l(i.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,(function(d){return d}),null),new l(i.ns_tts,"wrapOption","wrap",["span"],!0,!0,(function(d){return d}),null),new l(i.ns_tts,"writingMode","lrtb",["region"],!1,!0,(function(d){return d}),null),new l(i.ns_tts,"zIndex","auto",["region"],!1,!0,(function(d){var h;return d==="auto"?h=d:(h=parseInt(d),isNaN(h)&&(h=null)),h}),null),new l(i.ns_ebutts,"linePadding","0c",["p"],!0,!1,o.parseLength,(function(d,h,f,p,m){return o.toComputedLength(p.value,p.unit,null,null,d.cellLength.w,null)})),new l(i.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,(function(d){return d}),null),new l(i.ns_smpte,"backgroundImage",null,["div"],!1,!1,(function(d){return d}),null),new l(i.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,(function(d){return d==="true"}),null),new l(i.ns_itts,"fillLineGap","false",["p"],!0,!0,(function(d){return d==="true"}),null)],r.byQName={},r.all)r.byQName[r.all[u].qname]=r.all[u];for(var c in r.byName={},r.all)r.byName[r.all[c].name]=r.all[c]})(e,typeof imscNames>"u"?n(977):imscNames,typeof imscUtils>"u"?n(6404):imscUtils)},6404:function(t,e){(function(n){var r=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,i=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,o=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,l={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};n.parseColor=function(c){var d,h=null,f=l[c.toLowerCase()];return f!==void 0?h=f:(d=r.exec(c))!==null?h=[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16),d[4]!==void 0?parseInt(d[4],16):255]:(d=i.exec(c))!==null?h=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),255]:(d=o.exec(c))!==null&&(h=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),parseInt(d[4])]),h};var u=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;n.parseLength=function(c){var d,h=null;return(d=u.exec(c))!==null&&(h={value:parseFloat(d[1]),unit:d[2]}),h},n.parseTextShadow=function(c){for(var d=c.match(/([^\(,\)]|\([^\)]+\))+/g),h=[],f=0;f<d.length;f++){var p=d[f].split(" ");if(p.length===1&&p[0]==="none")return"none";if(p.length>1&&p.length<5){var m=[null,null,null,null],g=n.parseLength(p.shift());if(g===null||(m[0]=g,(g=n.parseLength(p.shift()))===null))return null;if(m[1]=g,p.length===0){h.push(m);continue}if((g=n.parseLength(p[0]))!==null&&(m[2]=g,p.shift()),p.length===0){h.push(m);continue}var y=n.parseColor(p[0]);if(y===null)return null;m[3]=y,h.push(m)}}return h},n.parsePosition=function(c){var d=c.split(" "),h=function(v){return v==="center"||v==="left"||v==="top"||v==="bottom"||v==="right"};if(d.length>4)return null;for(var f=0;f<d.length;f++)if(!h(d[f])){var p=n.parseLength(d[f]);if(p===null)return null;d[f]=p}for(var m={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}},g=0;g<d.length;){var y=d[g++];if(h(y)){var b={value:0,unit:"%"};d.length!==2&&g<d.length&&!h(d[g])&&(b=d[g++]),y==="right"?(m.h.edge=y,m.h.offset=b):y==="bottom"?(m.v.edge=y,m.v.offset=b):y==="left"?m.h.offset=b:y==="top"&&(m.v.offset=b)}else{if(d.length!==1&&d.length!==2)return null;g===1?m.h.offset=y:m.v.offset=y}}return m},n.ComputedLength=function(c,d){this.rw=c,this.rh=d},n.ComputedLength.prototype.toUsedLength=function(c,d){return c*this.rw+d*this.rh},n.ComputedLength.prototype.isZero=function(){return this.rw===0&&this.rh===0},n.toComputedLength=function(c,d,h,f,p,m){return d==="%"&&f?new n.ComputedLength(f.rw*c/100,f.rh*c/100):d==="em"&&h?new n.ComputedLength(h.rw*c,h.rh*c):d==="c"&&p?new n.ComputedLength(c*p.rw,c*p.rh):d==="px"&&m?new n.ComputedLength(c*m.rw,c*m.rh):d==="rh"?new n.ComputedLength(0,c/100):d==="rw"?new n.ComputedLength(c/100,0):null}})(e)},7523:function(t){typeof Object.create=="function"?t.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}},3282:function(t){function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function n(i,o){for(var l,u="",c=0,d=-1,h=0,f=0;f<=i.length;++f){if(f<i.length)l=i.charCodeAt(f);else{if(l===47)break;l=47}if(l===47){if(!(d===f-1||h===1))if(d!==f-1&&h===2){if(u.length<2||c!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var p=u.lastIndexOf("/");if(p!==u.length-1){p===-1?(u="",c=0):c=(u=u.slice(0,p)).length-1-u.lastIndexOf("/"),d=f,h=0;continue}}else if(u.length===2||u.length===1){u="",c=0,d=f,h=0;continue}}o&&(u.length>0?u+="/..":u="..",c=2)}else u.length>0?u+="/"+i.slice(d+1,f):u=i.slice(d+1,f),c=f-d-1;d=f,h=0}else l===46&&h!==-1?++h:h=-1}return u}var r={resolve:function(){for(var i,o="",l=!1,u=arguments.length-1;u>=-1&&!l;u--){var c;u>=0?c=arguments[u]:(i===void 0&&(i=process.cwd()),c=i),e(c),c.length!==0&&(o=c+"/"+o,l=c.charCodeAt(0)===47)}return o=n(o,!l),l?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(i){if(e(i),i.length===0)return".";var o=i.charCodeAt(0)===47,l=i.charCodeAt(i.length-1)===47;return(i=n(i,!o)).length!==0||o||(i="."),i.length>0&&l&&(i+="/"),o?"/"+i:i},isAbsolute:function(i){return e(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,o=0;o<arguments.length;++o){var l=arguments[o];e(l),l.length>0&&(i===void 0?i=l:i+="/"+l)}return i===void 0?".":r.normalize(i)},relative:function(i,o){if(e(i),e(o),i===o||(i=r.resolve(i))===(o=r.resolve(o)))return"";for(var l=1;l<i.length&&i.charCodeAt(l)===47;++l);for(var u=i.length,c=u-l,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var h=o.length-d,f=c<h?c:h,p=-1,m=0;m<=f;++m){if(m===f){if(h>f){if(o.charCodeAt(d+m)===47)return o.slice(d+m+1);if(m===0)return o.slice(d+m)}else c>f&&(i.charCodeAt(l+m)===47?p=m:m===0&&(p=0));break}var g=i.charCodeAt(l+m);if(g!==o.charCodeAt(d+m))break;g===47&&(p=m)}var y="";for(m=l+p+1;m<=u;++m)m!==u&&i.charCodeAt(m)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+o.slice(d+p):(d+=p,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(i){return i},dirname:function(i){if(e(i),i.length===0)return".";for(var o=i.charCodeAt(0),l=o===47,u=-1,c=!0,d=i.length-1;d>=1;--d)if((o=i.charCodeAt(d))===47){if(!c){u=d;break}}else c=!1;return u===-1?l?"/":".":l&&u===1?"//":i.slice(0,u)},basename:function(i,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(i);var l,u=0,c=-1,d=!0;if(o!==void 0&&o.length>0&&o.length<=i.length){if(o.length===i.length&&o===i)return"";var h=o.length-1,f=-1;for(l=i.length-1;l>=0;--l){var p=i.charCodeAt(l);if(p===47){if(!d){u=l+1;break}}else f===-1&&(d=!1,f=l+1),h>=0&&(p===o.charCodeAt(h)?--h==-1&&(c=l):(h=-1,c=f))}return u===c?c=f:c===-1&&(c=i.length),i.slice(u,c)}for(l=i.length-1;l>=0;--l)if(i.charCodeAt(l)===47){if(!d){u=l+1;break}}else c===-1&&(d=!1,c=l+1);return c===-1?"":i.slice(u,c)},extname:function(i){e(i);for(var o=-1,l=0,u=-1,c=!0,d=0,h=i.length-1;h>=0;--h){var f=i.charCodeAt(h);if(f!==47)u===-1&&(c=!1,u=h+1),f===46?o===-1?o=h:d!==1&&(d=1):o!==-1&&(d=-1);else if(!c){l=h+1;break}}return o===-1||u===-1||d===0||d===1&&o===u-1&&o===l+1?"":i.slice(o,u)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return(function(o,l){var u=l.dir||l.root,c=l.base||(l.name||"")+(l.ext||"");return u?u===l.root?u+c:u+"/"+c:c})(0,i)},parse:function(i){e(i);var o={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return o;var l,u=i.charCodeAt(0),c=u===47;c?(o.root="/",l=1):l=0;for(var d=-1,h=0,f=-1,p=!0,m=i.length-1,g=0;m>=l;--m)if((u=i.charCodeAt(m))!==47)f===-1&&(p=!1,f=m+1),u===46?d===-1?d=m:g!==1&&(g=1):d!==-1&&(g=-1);else if(!p){h=m+1;break}return d===-1||f===-1||g===0||g===1&&d===f-1&&d===h+1?f!==-1&&(o.base=o.name=h===0&&c?i.slice(1,f):i.slice(h,f)):(h===0&&c?(o.name=i.slice(1,d),o.base=i.slice(1,f)):(o.name=i.slice(h,d),o.base=i.slice(h,f)),o.ext=i.slice(d,f)),h>0?o.dir=i.slice(0,h-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},3515:function(t,e,n){t.exports=i;var r=n(9826).EventEmitter;function i(){r.call(this)}n(7523)(i,r),i.Readable=n(2762),i.Writable=n(3726),i.Duplex=n(884),i.Transform=n(6756),i.PassThrough=n(1390),i.finished=n(2896),i.pipeline=n(8460),i.Stream=i,i.prototype.pipe=function(o,l){var u=this;function c(y){o.writable&&o.write(y)===!1&&u.pause&&u.pause()}function d(){u.readable&&u.resume&&u.resume()}u.on("data",c),o.on("drain",d),o._isStdio||l&&l.end===!1||(u.on("end",f),u.on("close",p));var h=!1;function f(){h||(h=!0,o.end())}function p(){h||(h=!0,typeof o.destroy=="function"&&o.destroy())}function m(y){if(g(),r.listenerCount(this,"error")===0)throw y}function g(){u.removeListener("data",c),o.removeListener("drain",d),u.removeListener("end",f),u.removeListener("close",p),u.removeListener("error",m),o.removeListener("error",m),u.removeListener("end",g),u.removeListener("close",g),o.removeListener("close",g)}return u.on("error",m),o.on("error",m),u.on("end",g),u.on("close",g),o.on("close",g),o.emit("pipe",u),o}},1602:function(t){var e={};function n(i,o,l){l||(l=Error);var u=(function(c){var d,h;function f(p,m,g){return c.call(this,(function(y,b,v){return typeof o=="string"?o:o(y,b,v)})(p,m,g))||this}return h=c,(d=f).prototype=Object.create(h.prototype),d.prototype.constructor=d,d.__proto__=h,f})(l);u.prototype.name=l.name,u.prototype.code=i,e[i]=u}function r(i,o){if(Array.isArray(i)){var l=i.length;return i=i.map((function(u){return String(u)})),l>2?"one of ".concat(o," ").concat(i.slice(0,l-1).join(", "),", or ")+i[l-1]:l===2?"one of ".concat(o," ").concat(i[0]," or ").concat(i[1]):"of ".concat(o," ").concat(i[0])}return"of ".concat(o," ").concat(String(i))}n("ERR_INVALID_OPT_VALUE",(function(i,o){return'The value "'+o+'" is invalid for option "'+i+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(i,o,l){var u,c,d,h,f;if(typeof o=="string"&&(c="not ",o.substr(0,4)===c)?(u="must not be",o=o.replace(/^not /,"")):u="must be",(function(m,g,y){return(y===void 0||y>m.length)&&(y=m.length),m.substring(y-9,y)===g})(i," argument"))d="The ".concat(i," ").concat(u," ").concat(r(o,"type"));else{var p=(typeof f!="number"&&(f=0),f+1>(h=i).length||h.indexOf(".",f)===-1?"argument":"property");d='The "'.concat(i,'" ').concat(p," ").concat(u," ").concat(r(o,"type"))}return d+". Received type ".concat(typeof l)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(i){return"The "+i+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(i){return"Cannot call "+i+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(i){return"Unknown encoding: "+i}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=e},884:function(t,e,n){var r=Object.keys||function(p){var m=[];for(var g in p)m.push(g);return m};t.exports=d;var i=n(2762),o=n(3726);n(7523)(d,i);for(var l=r(o.prototype),u=0;u<l.length;u++){var c=l[u];d.prototype[c]||(d.prototype[c]=o.prototype[c])}function d(p){if(!(this instanceof d))return new d(p);i.call(this,p),o.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||process.nextTick(f,this)}function f(p){p.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}})},1390:function(t,e,n){t.exports=i;var r=n(6756);function i(o){if(!(this instanceof i))return new i(o);r.call(this,o)}n(7523)(i,r),i.prototype._transform=function(o,l,u){u(null,o)}},2762:function(t,e,n){var r;t.exports=C,C.ReadableState=I,n(9826).EventEmitter;var i,o=function(Le,Pe){return Le.listeners(Pe).length},l=n(2611),u=n(44).Buffer,c=(n.g!==void 0?n.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d=n(7199);i=d&&d.debuglog?d.debuglog("stream"):function(){};var h,f,p,m=n(3791),g=n(2410),y=n(1749).getHighWaterMark,b=n(1602).codes,v=b.ERR_INVALID_ARG_TYPE,_=b.ERR_STREAM_PUSH_AFTER_EOF,E=b.ERR_METHOD_NOT_IMPLEMENTED,T=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(7523)(C,l);var A=g.errorOrDestroy,w=["error","close","destroy","pause","resume"];function I(Le,Pe,it){r=r||n(884),Le=Le||{},typeof it!="boolean"&&(it=Pe instanceof r),this.objectMode=!!Le.objectMode,it&&(this.objectMode=this.objectMode||!!Le.readableObjectMode),this.highWaterMark=y(this,Le,"readableHighWaterMark",it),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Le.emitClose!==!1,this.autoDestroy=!!Le.autoDestroy,this.destroyed=!1,this.defaultEncoding=Le.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Le.encoding&&(h||(h=n(748).StringDecoder),this.decoder=new h(Le.encoding),this.encoding=Le.encoding)}function C(Le){if(r=r||n(884),!(this instanceof C))return new C(Le);var Pe=this instanceof r;this._readableState=new I(Le,this,Pe),this.readable=!0,Le&&(typeof Le.read=="function"&&(this._read=Le.read),typeof Le.destroy=="function"&&(this._destroy=Le.destroy)),l.call(this)}function j(Le,Pe,it,J,G){i("readableAddChunk",Pe);var P,$=Le._readableState;if(Pe===null)$.reading=!1,(function(ae,ne){if(i("onEofChunk"),!ne.ended){if(ne.decoder){var $e=ne.decoder.end();$e&&$e.length&&(ne.buffer.push($e),ne.length+=ne.objectMode?1:$e.length)}ne.ended=!0,ne.sync?q(ae):(ne.needReadable=!1,ne.emittedReadable||(ne.emittedReadable=!0,Ee(ae)))}})(Le,$);else if(G||(P=(function(ae,ne){var $e,Qe;return Qe=ne,u.isBuffer(Qe)||Qe instanceof c||typeof ne=="string"||ne===void 0||ae.objectMode||($e=new v("chunk",["string","Buffer","Uint8Array"],ne)),$e})($,Pe)),P)A(Le,P);else if($.objectMode||Pe&&Pe.length>0)if(typeof Pe=="string"||$.objectMode||Object.getPrototypeOf(Pe)===u.prototype||(Pe=(function(ae){return u.from(ae)})(Pe)),J)$.endEmitted?A(Le,new T):F(Le,$,Pe,!0);else if($.ended)A(Le,new _);else{if($.destroyed)return!1;$.reading=!1,$.decoder&&!it?(Pe=$.decoder.write(Pe),$.objectMode||Pe.length!==0?F(Le,$,Pe,!1):Te(Le,$)):F(Le,$,Pe,!1)}else J||($.reading=!1,Te(Le,$));return!$.ended&&($.length<$.highWaterMark||$.length===0)}function F(Le,Pe,it,J){Pe.flowing&&Pe.length===0&&!Pe.sync?(Pe.awaitDrain=0,Le.emit("data",it)):(Pe.length+=Pe.objectMode?1:it.length,J?Pe.buffer.unshift(it):Pe.buffer.push(it),Pe.needReadable&&q(Le)),Te(Le,Pe)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(Le){this._readableState&&(this._readableState.destroyed=Le)}}),C.prototype.destroy=g.destroy,C.prototype._undestroy=g.undestroy,C.prototype._destroy=function(Le,Pe){Pe(Le)},C.prototype.push=function(Le,Pe){var it,J=this._readableState;return J.objectMode?it=!0:typeof Le=="string"&&((Pe=Pe||J.defaultEncoding)!==J.encoding&&(Le=u.from(Le,Pe),Pe=""),it=!0),j(this,Le,Pe,!1,it)},C.prototype.unshift=function(Le){return j(this,Le,null,!0,!1)},C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(Le){h||(h=n(748).StringDecoder);var Pe=new h(Le);this._readableState.decoder=Pe,this._readableState.encoding=this._readableState.decoder.encoding;for(var it=this._readableState.buffer.head,J="";it!==null;)J+=Pe.write(it.data),it=it.next;return this._readableState.buffer.clear(),J!==""&&this._readableState.buffer.push(J),this._readableState.length=J.length,this};var K=1073741824;function he(Le,Pe){return Le<=0||Pe.length===0&&Pe.ended?0:Pe.objectMode?1:Le!=Le?Pe.flowing&&Pe.length?Pe.buffer.head.data.length:Pe.length:(Le>Pe.highWaterMark&&(Pe.highWaterMark=(function(it){return it>=K?it=K:(it--,it|=it>>>1,it|=it>>>2,it|=it>>>4,it|=it>>>8,it|=it>>>16,it++),it})(Le)),Le<=Pe.length?Le:Pe.ended?Pe.length:(Pe.needReadable=!0,0))}function q(Le){var Pe=Le._readableState;i("emitReadable",Pe.needReadable,Pe.emittedReadable),Pe.needReadable=!1,Pe.emittedReadable||(i("emitReadable",Pe.flowing),Pe.emittedReadable=!0,process.nextTick(Ee,Le))}function Ee(Le){var Pe=Le._readableState;i("emitReadable_",Pe.destroyed,Pe.length,Pe.ended),Pe.destroyed||!Pe.length&&!Pe.ended||(Le.emit("readable"),Pe.emittedReadable=!1),Pe.needReadable=!Pe.flowing&&!Pe.ended&&Pe.length<=Pe.highWaterMark,Ie(Le)}function Te(Le,Pe){Pe.readingMore||(Pe.readingMore=!0,process.nextTick(ge,Le,Pe))}function ge(Le,Pe){for(;!Pe.reading&&!Pe.ended&&(Pe.length<Pe.highWaterMark||Pe.flowing&&Pe.length===0);){var it=Pe.length;if(i("maybeReadMore read 0"),Le.read(0),it===Pe.length)break}Pe.readingMore=!1}function Be(Le){var Pe=Le._readableState;Pe.readableListening=Le.listenerCount("readable")>0,Pe.resumeScheduled&&!Pe.paused?Pe.flowing=!0:Le.listenerCount("data")>0&&Le.resume()}function He(Le){i("readable nexttick read 0"),Le.read(0)}function Ye(Le,Pe){i("resume",Pe.reading),Pe.reading||Le.read(0),Pe.resumeScheduled=!1,Le.emit("resume"),Ie(Le),Pe.flowing&&!Pe.reading&&Le.read(0)}function Ie(Le){var Pe=Le._readableState;for(i("flow",Pe.flowing);Pe.flowing&&Le.read()!==null;);}function we(Le,Pe){return Pe.length===0?null:(Pe.objectMode?it=Pe.buffer.shift():!Le||Le>=Pe.length?(it=Pe.decoder?Pe.buffer.join(""):Pe.buffer.length===1?Pe.buffer.first():Pe.buffer.concat(Pe.length),Pe.buffer.clear()):it=Pe.buffer.consume(Le,Pe.decoder),it);var it}function je(Le){var Pe=Le._readableState;i("endReadable",Pe.endEmitted),Pe.endEmitted||(Pe.ended=!0,process.nextTick(Ce,Pe,Le))}function Ce(Le,Pe){if(i("endReadableNT",Le.endEmitted,Le.length),!Le.endEmitted&&Le.length===0&&(Le.endEmitted=!0,Pe.readable=!1,Pe.emit("end"),Le.autoDestroy)){var it=Pe._writableState;(!it||it.autoDestroy&&it.finished)&&Pe.destroy()}}function dt(Le,Pe){for(var it=0,J=Le.length;it<J;it++)if(Le[it]===Pe)return it;return-1}C.prototype.read=function(Le){i("read",Le),Le=parseInt(Le,10);var Pe=this._readableState,it=Le;if(Le!==0&&(Pe.emittedReadable=!1),Le===0&&Pe.needReadable&&((Pe.highWaterMark!==0?Pe.length>=Pe.highWaterMark:Pe.length>0)||Pe.ended))return i("read: emitReadable",Pe.length,Pe.ended),Pe.length===0&&Pe.ended?je(this):q(this),null;if((Le=he(Le,Pe))===0&&Pe.ended)return Pe.length===0&&je(this),null;var J,G=Pe.needReadable;return i("need readable",G),(Pe.length===0||Pe.length-Le<Pe.highWaterMark)&&i("length less than watermark",G=!0),Pe.ended||Pe.reading?i("reading or ended",G=!1):G&&(i("do read"),Pe.reading=!0,Pe.sync=!0,Pe.length===0&&(Pe.needReadable=!0),this._read(Pe.highWaterMark),Pe.sync=!1,Pe.reading||(Le=he(it,Pe))),(J=Le>0?we(Le,Pe):null)===null?(Pe.needReadable=Pe.length<=Pe.highWaterMark,Le=0):(Pe.length-=Le,Pe.awaitDrain=0),Pe.length===0&&(Pe.ended||(Pe.needReadable=!0),it!==Le&&Pe.ended&&je(this)),J!==null&&this.emit("data",J),J},C.prototype._read=function(Le){A(this,new E("_read()"))},C.prototype.pipe=function(Le,Pe){var it=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=Le;break;case 1:J.pipes=[J.pipes,Le];break;default:J.pipes.push(Le)}J.pipesCount+=1,i("pipe count=%d opts=%j",J.pipesCount,Pe);var G=Pe&&Pe.end===!1||Le===process.stdout||Le===process.stderr?We:P;function P(){i("onend"),Le.end()}J.endEmitted?process.nextTick(G):it.once("end",G),Le.on("unpipe",(function Ke(Je,ft){i("onunpipe"),Je===it&&ft&&ft.hasUnpiped===!1&&(ft.hasUnpiped=!0,i("cleanup"),Le.removeListener("close",Qe),Le.removeListener("finish",Ve),Le.removeListener("drain",$),Le.removeListener("error",$e),Le.removeListener("unpipe",Ke),it.removeListener("end",P),it.removeListener("end",We),it.removeListener("data",ne),ae=!0,!J.awaitDrain||Le._writableState&&!Le._writableState.needDrain||$())}));var $=(function(Ke){return function(){var Je=Ke._readableState;i("pipeOnDrain",Je.awaitDrain),Je.awaitDrain&&Je.awaitDrain--,Je.awaitDrain===0&&o(Ke,"data")&&(Je.flowing=!0,Ie(Ke))}})(it);Le.on("drain",$);var ae=!1;function ne(Ke){i("ondata");var Je=Le.write(Ke);i("dest.write",Je),Je===!1&&((J.pipesCount===1&&J.pipes===Le||J.pipesCount>1&&dt(J.pipes,Le)!==-1)&&!ae&&(i("false write response, pause",J.awaitDrain),J.awaitDrain++),it.pause())}function $e(Ke){i("onerror",Ke),We(),Le.removeListener("error",$e),o(Le,"error")===0&&A(Le,Ke)}function Qe(){Le.removeListener("finish",Ve),We()}function Ve(){i("onfinish"),Le.removeListener("close",Qe),We()}function We(){i("unpipe"),it.unpipe(Le)}return it.on("data",ne),(function(Ke,Je,ft){if(typeof Ke.prependListener=="function")return Ke.prependListener(Je,ft);Ke._events&&Ke._events[Je]?Array.isArray(Ke._events[Je])?Ke._events[Je].unshift(ft):Ke._events[Je]=[ft,Ke._events[Je]]:Ke.on(Je,ft)})(Le,"error",$e),Le.once("close",Qe),Le.once("finish",Ve),Le.emit("pipe",it),J.flowing||(i("pipe resume"),it.resume()),Le},C.prototype.unpipe=function(Le){var Pe=this._readableState,it={hasUnpiped:!1};if(Pe.pipesCount===0)return this;if(Pe.pipesCount===1)return Le&&Le!==Pe.pipes||(Le||(Le=Pe.pipes),Pe.pipes=null,Pe.pipesCount=0,Pe.flowing=!1,Le&&Le.emit("unpipe",this,it)),this;if(!Le){var J=Pe.pipes,G=Pe.pipesCount;Pe.pipes=null,Pe.pipesCount=0,Pe.flowing=!1;for(var P=0;P<G;P++)J[P].emit("unpipe",this,{hasUnpiped:!1});return this}var $=dt(Pe.pipes,Le);return $===-1||(Pe.pipes.splice($,1),Pe.pipesCount-=1,Pe.pipesCount===1&&(Pe.pipes=Pe.pipes[0]),Le.emit("unpipe",this,it)),this},C.prototype.on=function(Le,Pe){var it=l.prototype.on.call(this,Le,Pe),J=this._readableState;return Le==="data"?(J.readableListening=this.listenerCount("readable")>0,J.flowing!==!1&&this.resume()):Le==="readable"&&(J.endEmitted||J.readableListening||(J.readableListening=J.needReadable=!0,J.flowing=!1,J.emittedReadable=!1,i("on readable",J.length,J.reading),J.length?q(this):J.reading||process.nextTick(He,this))),it},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(Le,Pe){var it=l.prototype.removeListener.call(this,Le,Pe);return Le==="readable"&&process.nextTick(Be,this),it},C.prototype.removeAllListeners=function(Le){var Pe=l.prototype.removeAllListeners.apply(this,arguments);return Le!=="readable"&&Le!==void 0||process.nextTick(Be,this),Pe},C.prototype.resume=function(){var Le=this._readableState;return Le.flowing||(i("resume"),Le.flowing=!Le.readableListening,(function(Pe,it){it.resumeScheduled||(it.resumeScheduled=!0,process.nextTick(Ye,Pe,it))})(this,Le)),Le.paused=!1,this},C.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(Le){var Pe=this,it=this._readableState,J=!1;for(var G in Le.on("end",(function(){if(i("wrapped end"),it.decoder&&!it.ended){var $=it.decoder.end();$&&$.length&&Pe.push($)}Pe.push(null)})),Le.on("data",(function($){i("wrapped data"),it.decoder&&($=it.decoder.write($)),it.objectMode&&$==null||(it.objectMode||$&&$.length)&&(Pe.push($)||(J=!0,Le.pause()))})),Le)this[G]===void 0&&typeof Le[G]=="function"&&(this[G]=(function($){return function(){return Le[$].apply(Le,arguments)}})(G));for(var P=0;P<w.length;P++)Le.on(w[P],this.emit.bind(this,w[P]));return this._read=function($){i("wrapped _read",$),J&&(J=!1,Le.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return f===void 0&&(f=n(5857)),f(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Le){this._readableState&&(this._readableState.flowing=Le)}}),C._fromList=we,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(C.from=function(Le,Pe){return p===void 0&&(p=n(3411)),p(C,Le,Pe)})},6756:function(t,e,n){t.exports=h;var r=n(1602).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,l=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(884);function d(m,g){var y=this._transformState;y.transforming=!1;var b=y.writecb;if(b===null)return this.emit("error",new o);y.writechunk=null,y.writecb=null,g!=null&&this.push(g),b(m);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function h(m){if(!(this instanceof h))return new h(m);c.call(this,m),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",f)}function f(){var m=this;typeof this._flush!="function"||this._readableState.destroyed?p(this,null,null):this._flush((function(g,y){p(m,g,y)}))}function p(m,g,y){if(g)return m.emit("error",g);if(y!=null&&m.push(y),m._writableState.length)throw new u;if(m._transformState.transforming)throw new l;return m.push(null)}n(7523)(h,c),h.prototype.push=function(m,g){return this._transformState.needTransform=!1,c.prototype.push.call(this,m,g)},h.prototype._transform=function(m,g,y){y(new i("_transform()"))},h.prototype._write=function(m,g,y){var b=this._transformState;if(b.writecb=y,b.writechunk=m,b.writeencoding=g,!b.transforming){var v=this._readableState;(b.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},h.prototype._read=function(m){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},h.prototype._destroy=function(m,g){c.prototype._destroy.call(this,m,(function(y){g(y)}))}},3726:function(t,e,n){function r(Te){var ge=this;this.next=null,this.entry=null,this.finish=function(){(function(Be,He){var Ye=Be.entry;for(Be.entry=null;Ye;){var Ie=Ye.callback;He.pendingcb--,Ie(void 0),Ye=Ye.next}He.corkedRequestsFree.next=Be})(ge,Te)}}var i;t.exports=C,C.WritableState=I;var o,l={deprecate:n(9e3)},u=n(2611),c=n(44).Buffer,d=(n.g!==void 0?n.g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h=n(2410),f=n(1749).getHighWaterMark,p=n(1602).codes,m=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,y=p.ERR_MULTIPLE_CALLBACK,b=p.ERR_STREAM_CANNOT_PIPE,v=p.ERR_STREAM_DESTROYED,_=p.ERR_STREAM_NULL_VALUES,E=p.ERR_STREAM_WRITE_AFTER_END,T=p.ERR_UNKNOWN_ENCODING,A=h.errorOrDestroy;function w(){}function I(Te,ge,Be){i=i||n(884),Te=Te||{},typeof Be!="boolean"&&(Be=ge instanceof i),this.objectMode=!!Te.objectMode,Be&&(this.objectMode=this.objectMode||!!Te.writableObjectMode),this.highWaterMark=f(this,Te,"writableHighWaterMark",Be),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var He=Te.decodeStrings===!1;this.decodeStrings=!He,this.defaultEncoding=Te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ye){(function(Ie,we){var je=Ie._writableState,Ce=je.sync,dt=je.writecb;if(typeof dt!="function")throw new y;if((function(Pe){Pe.writing=!1,Pe.writecb=null,Pe.length-=Pe.writelen,Pe.writelen=0})(je),we)(function(Pe,it,J,G,P){--it.pendingcb,J?(process.nextTick(P,G),process.nextTick(Ee,Pe,it),Pe._writableState.errorEmitted=!0,A(Pe,G)):(P(G),Pe._writableState.errorEmitted=!0,A(Pe,G),Ee(Pe,it))})(Ie,je,Ce,we,dt);else{var Le=he(je)||Ie.destroyed;Le||je.corked||je.bufferProcessing||!je.bufferedRequest||K(Ie,je),Ce?process.nextTick(F,Ie,je,Le,dt):F(Ie,je,Le,dt)}})(ge,Ye)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Te.emitClose!==!1,this.autoDestroy=!!Te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function C(Te){var ge=this instanceof(i=i||n(884));if(!ge&&!o.call(C,this))return new C(Te);this._writableState=new I(Te,this,ge),this.writable=!0,Te&&(typeof Te.write=="function"&&(this._write=Te.write),typeof Te.writev=="function"&&(this._writev=Te.writev),typeof Te.destroy=="function"&&(this._destroy=Te.destroy),typeof Te.final=="function"&&(this._final=Te.final)),u.call(this)}function j(Te,ge,Be,He,Ye,Ie,we){ge.writelen=He,ge.writecb=we,ge.writing=!0,ge.sync=!0,ge.destroyed?ge.onwrite(new v("write")):Be?Te._writev(Ye,ge.onwrite):Te._write(Ye,Ie,ge.onwrite),ge.sync=!1}function F(Te,ge,Be,He){Be||(function(Ye,Ie){Ie.length===0&&Ie.needDrain&&(Ie.needDrain=!1,Ye.emit("drain"))})(Te,ge),ge.pendingcb--,He(),Ee(Te,ge)}function K(Te,ge){ge.bufferProcessing=!0;var Be=ge.bufferedRequest;if(Te._writev&&Be&&Be.next){var He=ge.bufferedRequestCount,Ye=new Array(He),Ie=ge.corkedRequestsFree;Ie.entry=Be;for(var we=0,je=!0;Be;)Ye[we]=Be,Be.isBuf||(je=!1),Be=Be.next,we+=1;Ye.allBuffers=je,j(Te,ge,!0,ge.length,Ye,"",Ie.finish),ge.pendingcb++,ge.lastBufferedRequest=null,Ie.next?(ge.corkedRequestsFree=Ie.next,Ie.next=null):ge.corkedRequestsFree=new r(ge),ge.bufferedRequestCount=0}else{for(;Be;){var Ce=Be.chunk,dt=Be.encoding,Le=Be.callback;if(j(Te,ge,!1,ge.objectMode?1:Ce.length,Ce,dt,Le),Be=Be.next,ge.bufferedRequestCount--,ge.writing)break}Be===null&&(ge.lastBufferedRequest=null)}ge.bufferedRequest=Be,ge.bufferProcessing=!1}function he(Te){return Te.ending&&Te.length===0&&Te.bufferedRequest===null&&!Te.finished&&!Te.writing}function q(Te,ge){Te._final((function(Be){ge.pendingcb--,Be&&A(Te,Be),ge.prefinished=!0,Te.emit("prefinish"),Ee(Te,ge)}))}function Ee(Te,ge){var Be=he(ge);if(Be&&((function(Ye,Ie){Ie.prefinished||Ie.finalCalled||(typeof Ye._final!="function"||Ie.destroyed?(Ie.prefinished=!0,Ye.emit("prefinish")):(Ie.pendingcb++,Ie.finalCalled=!0,process.nextTick(q,Ye,Ie)))})(Te,ge),ge.pendingcb===0&&(ge.finished=!0,Te.emit("finish"),ge.autoDestroy))){var He=Te._readableState;(!He||He.autoDestroy&&He.endEmitted)&&Te.destroy()}return Be}n(7523)(C,u),I.prototype.getBuffer=function(){for(var Te=this.bufferedRequest,ge=[];Te;)ge.push(Te),Te=Te.next;return ge},(function(){try{Object.defineProperty(I.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(Te){return!!o.call(this,Te)||this===C&&Te&&Te._writableState instanceof I}})):o=function(Te){return Te instanceof this},C.prototype.pipe=function(){A(this,new b)},C.prototype.write=function(Te,ge,Be){var He,Ye=this._writableState,Ie=!1,we=!Ye.objectMode&&(He=Te,c.isBuffer(He)||He instanceof d);return we&&!c.isBuffer(Te)&&(Te=(function(je){return c.from(je)})(Te)),typeof ge=="function"&&(Be=ge,ge=null),we?ge="buffer":ge||(ge=Ye.defaultEncoding),typeof Be!="function"&&(Be=w),Ye.ending?(function(je,Ce){var dt=new E;A(je,dt),process.nextTick(Ce,dt)})(this,Be):(we||(function(je,Ce,dt,Le){var Pe;return dt===null?Pe=new _:typeof dt=="string"||Ce.objectMode||(Pe=new m("chunk",["string","Buffer"],dt)),!Pe||(A(je,Pe),process.nextTick(Le,Pe),!1)})(this,Ye,Te,Be))&&(Ye.pendingcb++,Ie=(function(je,Ce,dt,Le,Pe,it){if(!dt){var J=(function(ae,ne,$e){return ae.objectMode||ae.decodeStrings===!1||typeof ne!="string"||(ne=c.from(ne,$e)),ne})(Ce,Le,Pe);Le!==J&&(dt=!0,Pe="buffer",Le=J)}var G=Ce.objectMode?1:Le.length;Ce.length+=G;var P=Ce.length<Ce.highWaterMark;if(P||(Ce.needDrain=!0),Ce.writing||Ce.corked){var $=Ce.lastBufferedRequest;Ce.lastBufferedRequest={chunk:Le,encoding:Pe,isBuf:dt,callback:it,next:null},$?$.next=Ce.lastBufferedRequest:Ce.bufferedRequest=Ce.lastBufferedRequest,Ce.bufferedRequestCount+=1}else j(je,Ce,!1,G,Le,Pe,it);return P})(this,Ye,we,Te,ge,Be)),Ie},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var Te=this._writableState;Te.corked&&(Te.corked--,Te.writing||Te.corked||Te.bufferProcessing||!Te.bufferedRequest||K(this,Te))},C.prototype.setDefaultEncoding=function(Te){if(typeof Te=="string"&&(Te=Te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Te+"").toLowerCase())>-1))throw new T(Te);return this._writableState.defaultEncoding=Te,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(Te,ge,Be){Be(new g("_write()"))},C.prototype._writev=null,C.prototype.end=function(Te,ge,Be){var He=this._writableState;return typeof Te=="function"?(Be=Te,Te=null,ge=null):typeof ge=="function"&&(Be=ge,ge=null),Te!=null&&this.write(Te,ge),He.corked&&(He.corked=1,this.uncork()),He.ending||(function(Ye,Ie,we){Ie.ending=!0,Ee(Ye,Ie),we&&(Ie.finished?process.nextTick(we):Ye.once("finish",we)),Ie.ended=!0,Ye.writable=!1})(this,He,Be),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Te){this._writableState&&(this._writableState.destroyed=Te)}}),C.prototype.destroy=h.destroy,C.prototype._undestroy=h.undestroy,C.prototype._destroy=function(Te,ge){ge(Te)}},5857:function(t,e,n){var r;function i(_,E,T){return(E=(function(A){var w=(function(I){if(typeof I!="object"||I===null)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var j=C.call(I,"string");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)})(A);return typeof w=="symbol"?w:String(w)})(E))in _?Object.defineProperty(_,E,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[E]=T,_}var o=n(2896),l=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),d=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function m(_,E){return{value:_,done:E}}function g(_){var E=_[l];if(E!==null){var T=_[p].read();T!==null&&(_[h]=null,_[l]=null,_[u]=null,E(m(T,!1)))}}function y(_){process.nextTick(g,_)}var b=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[p]},next:function(){var _=this,E=this[c];if(E!==null)return Promise.reject(E);if(this[d])return Promise.resolve(m(void 0,!0));if(this[p].destroyed)return new Promise((function(I,C){process.nextTick((function(){_[c]?C(_[c]):I(m(void 0,!0))}))}));var T,A=this[h];if(A)T=new Promise((function(I,C){return function(j,F){I.then((function(){C[d]?j(m(void 0,!0)):C[f](j,F)}),F)}})(A,this));else{var w=this[p].read();if(w!==null)return Promise.resolve(m(w,!1));T=new Promise(this[f])}return this[h]=T,T}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var _=this;return new Promise((function(E,T){_[p].destroy(null,(function(A){A?T(A):E(m(void 0,!0))}))}))})),r),b);t.exports=function(_){var E,T=Object.create(v,(i(E={},p,{value:_,writable:!0}),i(E,l,{value:null,writable:!0}),i(E,u,{value:null,writable:!0}),i(E,c,{value:null,writable:!0}),i(E,d,{value:_._readableState.endEmitted,writable:!0}),i(E,f,{value:function(A,w){var I=T[p].read();I?(T[h]=null,T[l]=null,T[u]=null,A(m(I,!1))):(T[l]=A,T[u]=w)},writable:!0}),E));return T[h]=null,o(_,(function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var w=T[u];return w!==null&&(T[h]=null,T[l]=null,T[u]=null,w(A)),void(T[c]=A)}var I=T[l];I!==null&&(T[h]=null,T[l]=null,T[u]=null,I(m(void 0,!0))),T[d]=!0})),_.on("readable",y.bind(null,T)),T}},3791:function(t,e,n){function r(f,p){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);p&&(g=g.filter((function(y){return Object.getOwnPropertyDescriptor(f,y).enumerable}))),m.push.apply(m,g)}return m}function i(f){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?r(Object(m),!0).forEach((function(g){o(f,g,m[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):r(Object(m)).forEach((function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(m,g))}))}return f}function o(f,p,m){return(p=u(p))in f?Object.defineProperty(f,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[p]=m,f}function l(f,p){for(var m=0;m<p.length;m++){var g=p[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,u(g.key),g)}}function u(f){var p=(function(m){if(typeof m!="object"||m===null)return m;var g=m[Symbol.toPrimitive];if(g!==void 0){var y=g.call(m,"string");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(m)})(f);return typeof p=="symbol"?p:String(p)}var c=n(44).Buffer,d=n(3779).inspect,h=d&&d.custom||"inspect";t.exports=(function(){function f(){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var p,m;return p=f,(m=[{key:"push",value:function(g){var y={data:g,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(g){var y={data:g,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var y=this.head,b=""+y.data;y=y.next;)b+=g+y.data;return b}},{key:"concat",value:function(g){if(this.length===0)return c.alloc(0);for(var y,b,v,_=c.allocUnsafe(g>>>0),E=this.head,T=0;E;)y=E.data,b=_,v=T,c.prototype.copy.call(y,b,v),T+=E.data.length,E=E.next;return _}},{key:"consume",value:function(g,y){var b;return g<this.head.data.length?(b=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):b=g===this.head.data.length?this.shift():y?this._getString(g):this._getBuffer(g),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var y=this.head,b=1,v=y.data;for(g-=v.length;y=y.next;){var _=y.data,E=g>_.length?_.length:g;if(E===_.length?v+=_:v+=_.slice(0,g),(g-=E)==0){E===_.length?(++b,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=_.slice(E));break}++b}return this.length-=b,v}},{key:"_getBuffer",value:function(g){var y=c.allocUnsafe(g),b=this.head,v=1;for(b.data.copy(y),g-=b.data.length;b=b.next;){var _=b.data,E=g>_.length?_.length:g;if(_.copy(y,y.length-g,0,E),(g-=E)==0){E===_.length?(++v,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=_.slice(E));break}++v}return this.length-=v,y}},{key:h,value:function(g,y){return d(this,i(i({},y),{},{depth:0,customInspect:!1}))}}])&&l(p.prototype,m),Object.defineProperty(p,"prototype",{writable:!1}),f})()},2410:function(t){function e(i,o){r(i,o),n(i)}function n(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function r(i,o){i.emit("error",o)}t.exports={destroy:function(i,o){var l=this,u=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return u||c?(o?o(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,i)):process.nextTick(r,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,(function(d){!o&&d?l._writableState?l._writableState.errorEmitted?process.nextTick(n,l):(l._writableState.errorEmitted=!0,process.nextTick(e,l,d)):process.nextTick(e,l,d):o?(process.nextTick(n,l),o(d)):process.nextTick(n,l)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(i,o){var l=i._readableState,u=i._writableState;l&&l.autoDestroy||u&&u.autoDestroy?i.destroy(o):i.emit("error",o)}}},2896:function(t,e,n){var r=n(1602).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function o(l,u,c){if(typeof u=="function")return o(l,null,u);u||(u={}),c=(function(E){var T=!1;return function(){if(!T){T=!0;for(var A=arguments.length,w=new Array(A),I=0;I<A;I++)w[I]=arguments[I];E.apply(this,w)}}})(c||i);var d=u.readable||u.readable!==!1&&l.readable,h=u.writable||u.writable!==!1&&l.writable,f=function(){l.writable||m()},p=l._writableState&&l._writableState.finished,m=function(){h=!1,p=!0,d||c.call(l)},g=l._readableState&&l._readableState.endEmitted,y=function(){d=!1,g=!0,h||c.call(l)},b=function(E){c.call(l,E)},v=function(){var E;return d&&!g?(l._readableState&&l._readableState.ended||(E=new r),c.call(l,E)):h&&!p?(l._writableState&&l._writableState.ended||(E=new r),c.call(l,E)):void 0},_=function(){l.req.on("finish",m)};return(function(E){return E.setHeader&&typeof E.abort=="function"})(l)?(l.on("complete",m),l.on("abort",v),l.req?_():l.on("request",_)):h&&!l._writableState&&(l.on("end",f),l.on("close",f)),l.on("end",y),l.on("finish",m),u.error!==!1&&l.on("error",b),l.on("close",v),function(){l.removeListener("complete",m),l.removeListener("abort",v),l.removeListener("request",_),l.req&&l.req.removeListener("finish",m),l.removeListener("end",f),l.removeListener("close",f),l.removeListener("finish",m),l.removeListener("end",y),l.removeListener("error",b),l.removeListener("close",v)}}},3411:function(t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},8460:function(t,e,n){var r,i=n(1602).codes,o=i.ERR_MISSING_ARGS,l=i.ERR_STREAM_DESTROYED;function u(h){if(h)throw h}function c(h){h()}function d(h,f){return h.pipe(f)}t.exports=function(){for(var h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];var m,g=(function(b){return b.length?typeof b[b.length-1]!="function"?u:b.pop():u})(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new o("streams");var y=f.map((function(b,v){var _=v<f.length-1;return(function(E,T,A,w){w=(function(j){var F=!1;return function(){F||(F=!0,j.apply(void 0,arguments))}})(w);var I=!1;E.on("close",(function(){I=!0})),r===void 0&&(r=n(2896)),r(E,{readable:T,writable:A},(function(j){if(j)return w(j);I=!0,w()}));var C=!1;return function(j){if(!I&&!C)return C=!0,(function(F){return F.setHeader&&typeof F.abort=="function"})(E)?E.abort():typeof E.destroy=="function"?E.destroy():void w(j||new l("pipe"))}})(b,_,v>0,(function(E){m||(m=E),E&&y.forEach(c),_||(y.forEach(c),g(m))}))}));return f.reduce(d)}},1749:function(t,e,n){var r=n(1602).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(i,o,l,u){var c=(function(d,h,f){return d.highWaterMark!=null?d.highWaterMark:h?d[f]:null})(o,u,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new r(u?l:"highWaterMark",c);return Math.floor(c)}return i.objectMode?16:16384}}},2611:function(t,e,n){t.exports=n(9826).EventEmitter},748:function(t,e,n){var r=n(4598).Buffer,i=r.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(g){var y;switch(this.encoding=(function(b){var v=(function(_){if(!_)return"utf8";for(var E;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(E)return;_=(""+_).toLowerCase(),E=!0}})(b);if(typeof v!="string"&&(r.isEncoding===i||!i(b)))throw new Error("Unknown encoding: "+b);return v||b})(g),this.encoding){case"utf16le":this.text=c,this.end=d,y=4;break;case"utf8":this.fillLast=u,y=4;break;case"base64":this.text=h,this.end=f,y=3;break;default:return this.write=p,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(y)}function l(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function u(g){var y=this.lastTotal-this.lastNeed,b=(function(v,_){if((192&_[0])!=128)return v.lastNeed=0,"";if(v.lastNeed>1&&_.length>1){if((192&_[1])!=128)return v.lastNeed=1,"";if(v.lastNeed>2&&_.length>2&&(192&_[2])!=128)return v.lastNeed=2,""}})(this,g);return b!==void 0?b:this.lastNeed<=g.length?(g.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,y,0,g.length),void(this.lastNeed-=g.length))}function c(g,y){if((g.length-y)%2==0){var b=g.toString("utf16le",y);if(b){var v=b.charCodeAt(b.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",y,g.length-1)}function d(g){var y=g&&g.length?this.write(g):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,b)}return y}function h(g,y){var b=(g.length-y)%3;return b===0?g.toString("base64",y):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",y,g.length-b))}function f(g){var y=g&&g.length?this.write(g):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function p(g){return g.toString(this.encoding)}function m(g){return g&&g.length?this.write(g):""}e.StringDecoder=o,o.prototype.write=function(g){if(g.length===0)return"";var y,b;if(this.lastNeed){if((y=this.fillLast(g))===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<g.length?y?y+this.text(g,b):this.text(g,b):y||""},o.prototype.end=function(g){var y=g&&g.length?this.write(g):"";return this.lastNeed?y+"":y},o.prototype.text=function(g,y){var b=(function(_,E,T){var A=E.length-1;if(A<T)return 0;var w=l(E[A]);return w>=0?(w>0&&(_.lastNeed=w-1),w):--A<T||w===-2?0:(w=l(E[A]))>=0?(w>0&&(_.lastNeed=w-2),w):--A<T||w===-2?0:(w=l(E[A]))>=0?(w>0&&(w===2?w=0:_.lastNeed=w-3),w):0})(this,g,y);if(!this.lastNeed)return g.toString("utf8",y);this.lastTotal=b;var v=g.length-(b-this.lastNeed);return g.copy(this.lastChar,0,v),g.toString("utf8",y,v)},o.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},4598:function(t,e,n){var r=n(44),i=r.Buffer;function o(u,c){for(var d in u)c[d]=u[d]}function l(u,c,d){return i(u,c,d)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=l),o(i,l),l.from=function(u,c,d){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,c,d)},l.alloc=function(u,c,d){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=i(u);return c!==void 0?typeof d=="string"?h.fill(c,d):h.fill(c):h.fill(0),h},l.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},l.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}},8571:function(t,e,n){var r;(function(i,o){var l="function",u="undefined",c="object",d="string",h="major",f="model",p="name",m="type",g="vendor",y="version",b="architecture",v="console",_="mobile",E="tablet",T="smarttv",A="wearable",w="embedded",I="Amazon",C="Apple",j="ASUS",F="BlackBerry",K="Browser",he="Chrome",q="Firefox",Ee="Google",Te="Huawei",ge="LG",Be="Microsoft",He="Motorola",Ye="Opera",Ie="Samsung",we="Sharp",je="Sony",Ce="Xiaomi",dt="Zebra",Le="Facebook",Pe="Chromium OS",it="Mac OS",J=function(Je){for(var ft={},nt=0;nt<Je.length;nt++)ft[Je[nt].toUpperCase()]=Je[nt];return ft},G=function(Je,ft){return typeof Je===d&&P(ft).indexOf(P(Je))!==-1},P=function(Je){return Je.toLowerCase()},$=function(Je,ft){if(typeof Je===d)return Je=Je.replace(/^\s\s*/,""),typeof ft===u?Je:Je.substring(0,500)},ae=function(Je,ft){for(var nt,bt,tn,zt,Wt,Ze,At=0;At<ft.length&&!Wt;){var mn=ft[At],xn=ft[At+1];for(nt=bt=0;nt<mn.length&&!Wt&&mn[nt];)if(Wt=mn[nt++].exec(Je))for(tn=0;tn<xn.length;tn++)Ze=Wt[++bt],typeof(zt=xn[tn])===c&&zt.length>0?zt.length===2?typeof zt[1]==l?this[zt[0]]=zt[1].call(this,Ze):this[zt[0]]=zt[1]:zt.length===3?typeof zt[1]!==l||zt[1].exec&&zt[1].test?this[zt[0]]=Ze?Ze.replace(zt[1],zt[2]):o:this[zt[0]]=Ze?zt[1].call(this,Ze,zt[2]):o:zt.length===4&&(this[zt[0]]=Ze?zt[3].call(this,Ze.replace(zt[1],zt[2])):o):this[zt]=Ze||o;At+=2}},ne=function(Je,ft){for(var nt in ft)if(typeof ft[nt]===c&&ft[nt].length>0){for(var bt=0;bt<ft[nt].length;bt++)if(G(ft[nt][bt],Je))return nt==="?"?o:nt}else if(G(ft[nt],Je))return nt==="?"?o:nt;return Je},$e={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Qe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[y,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[y,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,y],[/opios[\/ ]+([\w\.]+)/i],[y,[p,Ye+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[y,[p,Ye+" GX"]],[/\bopr\/([\w\.]+)/i],[y,[p,Ye]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[y,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,y],[/\bddg\/([\w\.]+)/i],[y,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[y,[p,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[y,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[y,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[y,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[y,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[y,[p,"Smart Lenovo "+K]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+K],y],[/\bfocus\/([\w\.]+)/i],[y,[p,q+" Focus"]],[/\bopt\/([\w\.]+)/i],[y,[p,Ye+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[y,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[y,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[y,[p,Ye+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[y,[p,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[y,[p,q]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+K]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+K],y],[/samsungbrowser\/([\w\.]+)/i],[y,[p,Ie+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],y],[/metasr[\/ ]?([\d\.]+)/i],[y,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],y],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,y],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Le],y],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,y],[/\bgsa\/([\w\.]+) .*safari\//i],[y,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[y,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[y,[p,he+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,he+" WebView"],y],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[y,[p,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,y],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[y,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[y,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[y,ne,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,y],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],y],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[y,[p,q+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,y],[/(cobalt)\/([\w\.]+)/i],[p,[y,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,P]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",P]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,P]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[g,Ie],[m,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[g,Ie],[m,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[g,C],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[g,C],[m,E]],[/(macintosh);/i],[f,[g,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[g,we],[m,_]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[g,Te],[m,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[g,Te],[m,_]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[g,Ce],[m,_]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[g,Ce],[m,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[g,"OPPO"],[m,_]],[/\b(opd2\d{3}a?) bui/i],[f,[g,"OPPO"],[m,E]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[g,"Vivo"],[m,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[g,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[g,He],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[g,He],[m,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[g,ge],[m,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[g,ge],[m,_]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[g,"Lenovo"],[m,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[g,"Nokia"],[m,_]],[/(pixel c)\b/i],[f,[g,Ee],[m,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[g,Ee],[m,_]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[g,je],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[g,je],[m,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[g,"OnePlus"],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[g,I],[m,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[g,I],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,g,[m,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[g,F],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[g,j],[m,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[g,j],[m,_]],[/(nexus 9)/i],[f,[g,"HTC"],[m,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[f,/_/g," "],[m,_]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[g,"Acer"],[m,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[g,"Meizu"],[m,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[g,"Ulefone"],[m,_]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,f,[m,_]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,f,[m,E]],[/(surface duo)/i],[f,[g,Be],[m,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[g,"Fairphone"],[m,_]],[/(u304aa)/i],[f,[g,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[f,[g,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[f,[g,"RCA"],[m,E]],[/\b(venue[\d ]{2,7}) b/i],[f,[g,"Dell"],[m,E]],[/\b(q(?:mv|ta)\w+) b/i],[f,[g,"Verizon"],[m,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[g,"Barnes & Noble"],[m,E]],[/\b(tm\d{3}\w+) b/i],[f,[g,"NuVision"],[m,E]],[/\b(k88) b/i],[f,[g,"ZTE"],[m,E]],[/\b(nx\d{3}j) b/i],[f,[g,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[f,[g,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[f,[g,"Swiss"],[m,E]],[/\b((zeki)?tb.*\b) b/i],[f,[g,"Zeki"],[m,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],f,[m,E]],[/\b(ns-?\w{0,9}) b/i],[f,[g,"Insignia"],[m,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[g,"NextBook"],[m,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],f,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],f,[m,_]],[/\b(ph-1) /i],[f,[g,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[g,"Envizen"],[m,E]],[/\b(trio[-\w\. ]+) b/i],[f,[g,"MachSpeed"],[m,E]],[/\btu_(1491) b/i],[f,[g,"Rotor"],[m,E]],[/(shield[\w ]+) b/i],[f,[g,"Nvidia"],[m,E]],[/(sprint) (\w+)/i],[g,f,[m,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[g,Be],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[g,dt],[m,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[g,dt],[m,_]],[/smart-tv.+(samsung)/i],[g,[m,T]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[g,Ie],[m,T]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,ge],[m,T]],[/(apple) ?tv/i],[g,[f,C+" TV"],[m,T]],[/crkey/i],[[f,he+"cast"],[g,Ee],[m,T]],[/droid.+aft(\w+)( bui|\))/i],[f,[g,I],[m,T]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[g,we],[m,T]],[/(bravia[\w ]+)( bui|\))/i],[f,[g,je],[m,T]],[/(mitv-\w{5}) bui/i],[f,[g,Ce],[m,T]],[/Hbbtv.*(technisat) (.*);/i],[g,f,[m,T]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,$],[f,$],[m,T]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,T]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,f,[m,v]],[/droid.+; (shield) bui/i],[f,[g,"Nvidia"],[m,v]],[/(playstation [345portablevi]+)/i],[f,[g,je],[m,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[g,Be],[m,v]],[/((pebble))app/i],[g,f,[m,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[g,C],[m,A]],[/droid.+; (glass) \d/i],[f,[g,Ee],[m,A]],[/droid.+; (wt63?0{2,3})\)/i],[f,[g,dt],[m,A]],[/(quest( \d| pro)?)/i],[f,[g,Le],[m,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,w]],[/(aeobc)\b/i],[f,[g,I],[m,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,_]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[y,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[y,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,y],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[y,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,y],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[y,ne,$e]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,ne,$e],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[y,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,it],[y,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[y,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,y],[/\(bb(10);/i],[y,[p,F]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[y,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[y,[p,q+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[y,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[y,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[y,[p,he+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Pe],y],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,y],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],y],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,y]]},Ve=function(Je,ft){if(typeof Je===c&&(ft=Je,Je=o),!(this instanceof Ve))return new Ve(Je,ft).getResult();var nt=typeof i!==u&&i.navigator?i.navigator:o,bt=Je||(nt&&nt.userAgent?nt.userAgent:""),tn=nt&&nt.userAgentData?nt.userAgentData:o,zt=ft?(function(Ze,At){var mn={};for(var xn in Ze)At[xn]&&At[xn].length%2==0?mn[xn]=At[xn].concat(Ze[xn]):mn[xn]=Ze[xn];return mn})(Qe,ft):Qe,Wt=nt&&nt.userAgent==bt;return this.getBrowser=function(){var Ze,At={};return At[p]=o,At[y]=o,ae.call(At,bt,zt.browser),At[h]=typeof(Ze=At[y])===d?Ze.replace(/[^\d\.]/g,"").split(".")[0]:o,Wt&&nt&&nt.brave&&typeof nt.brave.isBrave==l&&(At[p]="Brave"),At},this.getCPU=function(){var Ze={};return Ze[b]=o,ae.call(Ze,bt,zt.cpu),Ze},this.getDevice=function(){var Ze={};return Ze[g]=o,Ze[f]=o,Ze[m]=o,ae.call(Ze,bt,zt.device),Wt&&!Ze[m]&&tn&&tn.mobile&&(Ze[m]=_),Wt&&Ze[f]=="Macintosh"&&nt&&typeof nt.standalone!==u&&nt.maxTouchPoints&&nt.maxTouchPoints>2&&(Ze[f]="iPad",Ze[m]=E),Ze},this.getEngine=function(){var Ze={};return Ze[p]=o,Ze[y]=o,ae.call(Ze,bt,zt.engine),Ze},this.getOS=function(){var Ze={};return Ze[p]=o,Ze[y]=o,ae.call(Ze,bt,zt.os),Wt&&!Ze[p]&&tn&&tn.platform&&tn.platform!="Unknown"&&(Ze[p]=tn.platform.replace(/chrome os/i,Pe).replace(/macos/i,it)),Ze},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return bt},this.setUA=function(Ze){return bt=typeof Ze===d&&Ze.length>500?$(Ze,500):Ze,this},this.setUA(bt),this};Ve.VERSION="1.0.38",Ve.BROWSER=J([p,y,h]),Ve.CPU=J([b]),Ve.DEVICE=J([f,g,m,v,_,T,E,A,w]),Ve.ENGINE=Ve.OS=J([p,y]),typeof e!==u?(t.exports&&(e=t.exports=Ve),e.UAParser=Ve):n.amdO?(r=function(){return Ve}.call(e,n,e,t))===o||(t.exports=r):typeof i!==u&&(i.UAParser=Ve);var We=typeof i!==u&&(i.jQuery||i.Zepto);if(We&&!We.ua){var Ke=new Ve;We.ua=Ke.getResult(),We.ua.get=function(){return Ke.getUA()},We.ua.set=function(Je){Ke.setUA(Je);var ft=Ke.getResult();for(var nt in ft)We.ua[nt]=ft[nt]}}})(typeof window=="object"?window:this)},9e3:function(t,e,n){function r(i){try{if(!n.g.localStorage)return!1}catch{return!1}var o=n.g.localStorage[i];return o!=null&&String(o).toLowerCase()==="true"}t.exports=function(i,o){if(r("noDeprecation"))return i;var l=!1;return function(){if(!l){if(r("throwDeprecation"))throw new Error(o);r("traceDeprecation")?console.trace(o):console.warn(o),l=!0}return i.apply(this,arguments)}}},3779:function(){},7199:function(){},5393:function(t,e,n){n.r(e),n.d(e,{Debug:function(){return o.default},FactoryMaker:function(){return i.default},MediaPlayer:function(){return r.default}});var r=n(1152),i=n(138),o=n(649),l=n(8986),u=typeof window<"u"&&window||global,c=u.dashjs;c||(c=u.dashjs={}),c.MediaPlayer=r.default,c.FactoryMaker=i.default,c.Debug=o.default,c.Version=(0,l.getVersionString)(),e.default=c},649:function(t,e,n){n.r(e);var r=n(8850),i=n(3621),o=n(138);function l(c){c=c||{};const d=this.context,h=(0,r.default)(d).getInstance(),f=c.settings,p=[];let m,g,y,b;function v(C){return C&&C.bind?C.bind(window.console):window.console.log.bind(window.console)}function _(...C){I(1,this,...C)}function E(...C){I(2,this,...C)}function T(...C){I(3,this,...C)}function A(...C){I(4,this,...C)}function w(...C){I(5,this,...C)}function I(C,j,...F){let K="",he=null;g&&(he=new Date().getTime(),K+="["+(he-b)+"]"),y&&j&&j.getClassName&&(K+="["+j.getClassName()+"]",j.getType&&(K+="["+j.getType()+"]")),K.length>0&&(K+=" "),Array.apply(null,F).forEach((function(q){K+=q+" "})),p[C]&&f&&f.get().debug.logLevel>=C&&p[C](K),f&&f.get().debug.dispatchEvent&&h.trigger(i.default.LOG,{message:K,level:C})}return m={getLogger:function(C){return{fatal:_.bind(C),error:E.bind(C),warn:T.bind(C),info:A.bind(C),debug:w.bind(C)}},setLogTimestampVisible:function(C){g=C},setCalleeNameVisible:function(C){y=C}},g=!0,y=!0,b=new Date().getTime(),typeof window<"u"&&window.console&&(p[1]=v(window.console.error),p[2]=v(window.console.error),p[3]=v(window.console.warn),p[4]=v(window.console.info),p[5]=v(window.console.debug)),m}l.__dashjs_factory_name="Debug";const u=o.default.getSingletonFactory(l);u.LOG_LEVEL_NONE=0,u.LOG_LEVEL_FATAL=1,u.LOG_LEVEL_ERROR=2,u.LOG_LEVEL_WARNING=3,u.LOG_LEVEL_INFO=4,u.LOG_LEVEL_DEBUG=5,o.default.updateSingletonFactory(l.__dashjs_factory_name,u),e.default=u},8850:function(t,e,n){n.r(e);var r=n(138),i=n(1191);function o(){let u={};function c(f,p,m,g={},y=!1){if(!f)throw new Error("event type cannot be null or undefined");if(!p||typeof p!="function")throw new Error("listener must be a function: "+p);let b=g.priority||0;if(h(f,p,m)>=0)return;u[f]=u[f]||[];const v={callback:p,scope:m,priority:b,executeOnlyOnce:y};m&&m.getStreamId&&(v.streamId=m.getStreamId()),m&&m.getType&&(v.mediaType=m.getType()),g&&g.mode&&(v.mode=g.mode),u[f].some(((_,E)=>{if(_&&b>_.priority)return u[f].splice(E,0,v),!0}))||u[f].push(v)}function d(f,p,m){if(!f||!p||!u[f])return;const g=h(f,p,m);g<0||(u[f][g]=null)}function h(f,p,m){let g=-1;return u[f]&&u[f].some(((y,b)=>{if(y&&y.callback===p&&(!m||m===y.scope))return g=b,!0})),g}return{on:function(f,p,m,g={}){c(f,p,m,g)},once:function(f,p,m,g={}){c(f,p,m,g,!0)},off:d,trigger:function(f,p={},m={}){if(!f||!u[f])return;if((p=p||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");p.type=f,m.streamId&&(p.streamId=m.streamId),m.mediaType&&(p.mediaType=m.mediaType);const g=[];u[f].filter((y=>!(!y||m.streamId&&y.streamId&&y.streamId!==m.streamId||m.mediaType&&y.mediaType&&y.mediaType!==m.mediaType||m.mode&&y.mode&&y.mode!==m.mode||!y.mode&&m.mode&&m.mode===i.default.EVENT_MODE_ON_RECEIVE))).forEach((y=>{y&&y.callback.call(y.scope,p),y.executeOnlyOnce&&g.push(y)})),g.forEach((y=>{d(f,y.callback,y.scope)}))},reset:function(){u={}}}}o.__dashjs_factory_name="EventBus";const l=r.default.getSingletonFactory(o);l.EVENT_PRIORITY_LOW=0,l.EVENT_PRIORITY_HIGH=5e3,r.default.updateSingletonFactory(o.__dashjs_factory_name,l),e.default=l},138:function(t,e,n){n.r(e);const r=(function(){let i,o=[];const l={},u={};function c(p,m){for(const g in o){const y=o[g];if(y.context===p&&y.name===m)return y.instance}return null}function d(p,m){return m[p]}function h(p,m,g){p in g&&(g[p]=m)}function f(p,m,g){let y;const b=p.__dashjs_factory_name,v=m[b];if(v){let _=v.instance;if(!v.override)return _.apply({context:m,factory:i},g);y=p.apply({context:m},g),_=_.apply({context:m,factory:i,parent:y},g);for(const E in _)y.hasOwnProperty(E)&&(y[E]=_[E])}else y=p.apply({context:m},g);return y.getClassName=function(){return b},y}return i={deleteSingletonInstances:function(p){o=o.filter((m=>m.context!==p))},extend:function(p,m,g,y){!y[p]&&m&&(y[p]={instance:m,override:g})},getClassFactory:function(p){let m=d(p.__dashjs_factory_name,u);return m||(m=function(g){return g===void 0&&(g={}),{create:function(){return f(p,g,arguments)}}},u[p.__dashjs_factory_name]=m),m},getClassFactoryByName:function(p){return d(p,u)},getSingletonFactory:function(p){let m=d(p.__dashjs_factory_name,l);return m||(m=function(g){let y;return g===void 0&&(g={}),{getInstance:function(){return y||(y=c(g,p.__dashjs_factory_name)),y||(y=f(p,g,arguments),o.push({name:p.__dashjs_factory_name,context:g,instance:y})),y}}},l[p.__dashjs_factory_name]=m),m},getSingletonFactoryByName:function(p){return d(p,l)},getSingletonInstance:c,setSingletonInstance:function(p,m,g){for(const y in o){const b=o[y];if(b.context===p&&b.name===m)return void(o[y].instance=g)}o.push({name:m,context:p,instance:g})},updateClassFactory:function(p,m){h(p,m,u)},updateSingletonFactory:function(p,m){h(p,m,l)}},i})();e.default=r},8261:function(t,e,n){n.r(e);var r=n(138),i=n(7263),o=n(649),l=n(5212),u=n(7568),c=n(8850),d=n(3621),h=n(4246);function f(){let m;const g=this.context,y=(0,c.default)(g).getInstance(),b={"streaming.delay.liveDelay":d.default.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":d.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":d.default.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":d.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":d.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,"streaming.abr.rules.throughputRule.active":d.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.bolaRule.active":d.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.insufficientBufferRule.active":d.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.switchHistoryRule.active":d.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.droppedFramesRule.active":d.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.abandonRequestsRule.active":d.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.l2ARule.active":d.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.rules.loLPRule.active":d.default.SETTING_UPDATED_ABR_ACTIVE_RULES,"streaming.abr.maxBitrate.video":d.default.SETTING_UPDATED_MAX_BITRATE,"streaming.abr.maxBitrate.audio":d.default.SETTING_UPDATED_MAX_BITRATE,"streaming.abr.minBitrate.video":d.default.SETTING_UPDATED_MIN_BITRATE,"streaming.abr.minBitrate.audio":d.default.SETTING_UPDATED_MIN_BITRATE},v={debug:{logLevel:o.default.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,liveUpdateTimeThresholdInMilliseconds:0,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,enableManifestDurationMismatchFix:!0,parseInbandPrft:!1,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,supportedEssentialProperties:[{schemeIdUri:l.default.FONT_DOWNLOAD_DVB_SCHEME},{schemeIdUri:l.default.COLOUR_PRIMARIES_SCHEME_ID_URI,value:/1|5|6|7/},{schemeIdUri:l.default.URL_QUERY_INFO_SCHEME},{schemeIdUri:l.default.EXT_URL_QUERY_INFO_SCHEME},{schemeIdUri:l.default.MATRIX_COEFFICIENTS_SCHEME_ID_URI,value:/0|1|5|6/},{schemeIdUri:l.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI,value:/1|6|13|14|15/},{schemeIdUri:l.default.SEGMENT_SEQUENCE_REPRESENTATION_SCHEME_ID_URI},...l.default.THUMBNAILS_SCHEME_ID_URIS.map((T=>({schemeIdUri:T})))],useMediaCapabilitiesApi:!0,filterVideoColorimetryEssentialProperties:!1,filterHDRMetadataFormatEssentialProperties:!1},events:{eventControllerRefreshDelay:100,deleteEventMessageDataTimeout:1e4},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,keepProtectionMediaKeysMaximumOpenSessions:-1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0,ignoreKeyStatuses:!1},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:null,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,bufferTimeDefault:18,longFormContentDurationThreshold:600,stallThreshold:.3,lowLatencyStallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeType:!0,mediaSourceDurationInfinity:!0,resetSourceBuffersForTrackSwitch:!1,syntheticStallEvents:{enabled:!1,ignoreReadyState:!1}},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"},artificialTimeOffsetToApply:0},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,dispatchForManualRendering:!1,extendSegmentedCues:!0,imsc:{displayForcedOnlyMode:!1,enableRollUp:!0},webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:l.default.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},saveLastMediaSettingsForCurrentStreamingSession:!0,cacheLoadThresholds:{video:10,audio:5},trackSwitchMode:{audio:l.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:l.default.TRACK_SWITCH_MODE_NEVER_REPLACE},includePreselectionsInMediainfoArray:!0,includePreselectionsForInitialTrackSelection:!1,ignoreSelectionPriority:!1,prioritizeRoleMain:!0,assumeDefaultRoleAsMain:!0,selectionModeForInitialTrack:l.default.TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY,fragmentRequestTimeout:2e4,fragmentRequestProgressTimeout:-1,manifestRequestTimeout:1e4,retryIntervals:{[u.HTTPRequest.MPD_TYPE]:500,[u.HTTPRequest.XLINK_EXPANSION_TYPE]:500,[u.HTTPRequest.MEDIA_SEGMENT_TYPE]:1e3,[u.HTTPRequest.INIT_SEGMENT_TYPE]:1e3,[u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:1e3,[u.HTTPRequest.INDEX_SEGMENT_TYPE]:1e3,[u.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE]:1e3,[u.HTTPRequest.LICENSE]:1e3,[u.HTTPRequest.OTHER_TYPE]:1e3,lowLatencyReductionFactor:10},retryAttempts:{[u.HTTPRequest.MPD_TYPE]:3,[u.HTTPRequest.XLINK_EXPANSION_TYPE]:1,[u.HTTPRequest.MEDIA_SEGMENT_TYPE]:3,[u.HTTPRequest.INIT_SEGMENT_TYPE]:3,[u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:3,[u.HTTPRequest.INDEX_SEGMENT_TYPE]:3,[u.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE]:3,[u.HTTPRequest.LICENSE]:3,[u.HTTPRequest.OTHER_TYPE]:3,lowLatencyMultiplyFactor:5},abr:{limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,enableSupplementalPropertyAdaptationSetSwitching:!0,rules:{throughputRule:{active:!0,priority:h.default.PRIORITY.DEFAULT},bolaRule:{active:!0,priority:h.default.PRIORITY.DEFAULT},insufficientBufferRule:{active:!0,priority:h.default.PRIORITY.DEFAULT,parameters:{throughputSafetyFactor:.7,segmentIgnoreCount:2}},switchHistoryRule:{active:!0,priority:h.default.PRIORITY.DEFAULT,parameters:{sampleSize:8,switchPercentageThreshold:.075}},droppedFramesRule:{active:!1,priority:h.default.PRIORITY.DEFAULT,parameters:{minimumSampleSize:375,droppedFramesPercentageThreshold:.15}},abandonRequestsRule:{active:!0,priority:h.default.PRIORITY.DEFAULT,parameters:{abandonDurationMultiplier:1.8,minSegmentDownloadTimeThresholdInMs:500,minThroughputSamplesThreshold:6}},l2ARule:{active:!1,priority:h.default.PRIORITY.DEFAULT},loLPRule:{active:!1,priority:h.default.PRIORITY.DEFAULT}},throughput:{averageCalculationMode:l.default.THROUGHPUT_CALCULATION_MODES.EWMA,lowLatencyDownloadTimeCalculationMode:l.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING,useResourceTimingApi:!0,useNetworkInformationApi:{xhr:!1,fetch:!1},useDeadTimeLatency:!0,bandwidthSafetyFactor:.9,sampleSettings:{live:3,vod:4,enableSampleSizeAdjustment:!0,decreaseScale:.7,increaseScale:1.3,maxMeasurementsToKeep:20,averageLatencySampleAmount:4},ewma:{throughputSlowHalfLifeSeconds:8,throughputFastHalfLifeSeconds:3,latencySlowHalfLifeCount:2,latencyFastHalfLifeCount:1,weightDownloadTimeMultiplicationFactor:.0015}},maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},initialBitrate:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{applyParametersFromMpd:!0,enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:l.default.CMCD_MODE_QUERY,enabledKeys:l.default.CMCD_AVAILABLE_KEYS,includeInRequests:["segment","mpd"],version:1},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}},enhancement:{enabled:!1,codecs:["lvc1"]},defaultSchemeIdUri:{viewpoint:"",audioChannelConfiguration:"urn:mpeg:mpegB:cicp:ChannelConfiguration",role:"urn:mpeg:dash:role:2011",accessibility:"urn:mpeg:dash:role:2011"}},errors:{recoverAttempts:{mediaErrorDecode:5}}};let _=i.default.clone(v);function E(T,A,w){for(let I in T)T.hasOwnProperty(I)&&(A.hasOwnProperty(I)?typeof T[I]!="object"||T[I]instanceof RegExp||T[I]instanceof Array||T[I]===null?(A[I]=i.default.clone(T[I]),b[w+I]&&y.trigger(b[w+I])):E(T[I],A[I],w.slice()+I+"."):console.error("Settings parameter "+w+I+" is not supported"))}return m={get:function(){return _},update:function(T){typeof T=="object"&&E(T,_,"")},reset:function(){_=i.default.clone(v)}},m}f.__dashjs_factory_name="Settings";let p=r.default.getSingletonFactory(f);e.default=p},7263:function(t,e,n){n.r(e);var r=n(3282),i=n(8571),o=n(5212);class l{static mixin(c,d,h){let f,p={};if(c)for(let m in d)d.hasOwnProperty(m)&&(f=d[m],m in c&&(c[m]===f||m in p&&p[m]===f)||(typeof c[m]=="object"&&c[m]!==null?c[m]=l.mixin(c[m],f,h):c[m]=h(f)));return c}static clone(c){if(!c||typeof c!="object")return c;if(c instanceof RegExp)return new RegExp(c);let d;if(c instanceof Array){d=[];for(let h=0,f=c.length;h<f;++h)h in c&&d.push(l.clone(c[h]))}else d={};return l.mixin(d,c,l.clone)}static addAdditionalQueryParameterToUrl(c,d){try{if(!d||d.length===0)return c;let h=c;return d.forEach((({key:f,value:p})=>{const m=h.includes("?")?"&":"?";h+=`${m}${encodeURIComponent(f)}=${encodeURIComponent(p)}`})),h}catch{return c}}static removeQueryParameterFromUrl(c,d){if(!c||!d)return c;const h=new URL(c),f=new URLSearchParams(h.search);if(!f||f.size===0||!f.has(d))return c;f.delete(d);const p=Array.from(f.entries()).map((([g,y])=>`${g}=${y}`)).join("&"),m=`${h.origin}${h.pathname}`;return p?`${m}?${p}`:m}static parseHttpHeaders(c){let d={};if(!c)return d;let h=c.trim().split(`\r
`);for(let f=0,p=h.length;f<p;f++){let m=h[f],g=m.indexOf(": ");g>0&&(d[m.substring(0,g)]=m.substring(g+2))}return d}static parseQueryParams(c){const d=[],h=new URLSearchParams(c);for(const[f,p]of h.entries())d.push({key:decodeURIComponent(f),value:decodeURIComponent(p)});return d}static generateUuid(){let c=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(d){const h=(c+16*Math.random())%16|0;return c=Math.floor(c/16),(d=="x"?h:3&h|8).toString(16)}))}static generateHashCode(c){let d=0;if(c.length===0)return d;for(let h=0;h<c.length;h++)d=(d<<5)-d+c.charCodeAt(h),d|=0;return d}static getRelativeUrl(c,d){try{const h=new URL(c),f=new URL(d);if(h.protocol=f.protocol,h.origin!==f.origin)return d;let p=r.relative(h.pathname.substr(0,h.pathname.lastIndexOf("/")),f.pathname.substr(0,f.pathname.lastIndexOf("/")));const m=p.length===0?1:0;return p+=f.pathname.substr(f.pathname.lastIndexOf("/")+m,f.pathname.length-1),f.pathname.length<p.length?f.pathname:p}catch{return d}}static getHostFromUrl(c){try{return new URL(c).host}catch{return null}}static parseUserAgent(c=null){try{const d=c===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,i.UAParser)(d)}catch{return{}}}static stringHasProtocol(c){return/(http(s?)):\/\//i.test(c)}static bufferSourceToDataView(c){return l.toDataView(c,DataView)}static bufferSourceToInt8(c){return l.toDataView(c,Uint8Array)}static uint8ArrayToString(c){return new TextDecoder("utf-8").decode(c)}static bufferSourceToHex(c){const d=l.bufferSourceToInt8(c);let h="";for(let f of d)f=f.toString(16),f.length===1&&(f="0"+f),h+=f;return h}static toDataView(c,d){const h=l.getArrayBuffer(c);let f=1;"BYTES_PER_ELEMENT"in DataView&&(f=DataView.BYTES_PER_ELEMENT);const p=((c.byteOffset||0)+c.byteLength)/f,m=(c.byteOffset||0)/f,g=Math.floor(Math.max(0,Math.min(m,p)));return new d(h,g,Math.floor(Math.min(g+Math.max(1/0,0),p))-g)}static getArrayBuffer(c){return c instanceof ArrayBuffer?c:c.buffer}static getCodecFamily(c){const{base:d,profile:h}=l._getCodecParts(c);switch(d){case"mp4a":switch(h){case"69":case"6b":case"40.34":return o.default.CODEC_FAMILIES.MP3;case"66":case"67":case"68":case"40.2":case"40.02":case"40.5":case"40.05":case"40.29":case"40.42":return o.default.CODEC_FAMILIES.AAC;case"a5":return o.default.CODEC_FAMILIES.AC3;case"e6":return o.default.CODEC_FAMILIES.EC3;case"b2":return o.default.CODEC_FAMILIES.DTSX;case"a9":return o.default.CODEC_FAMILIES.DTSC}break;case"avc1":case"avc3":return o.default.CODEC_FAMILIES.AVC;case"hvc1":case"hvc3":return o.default.CODEC_FAMILIES.HEVC;default:return d}return d}static _getCodecParts(c){const[d,...h]=c.split(".");return{base:d,profile:h.join(".")}}}e.default=l},8986:function(t,e,n){n.r(e),n.d(e,{getVersionString:function(){return i}});const r="5.1.0";function i(){return r}},8748:function(t,e,n){n.r(e),e.default=class{extend(r,i){if(!r)return;let o=!!i&&i.override,l=!!i&&i.publicOnly;for(const u in r)!r.hasOwnProperty(u)||this[u]&&!o||l&&r[u].indexOf("public_")===-1||(this[u]=r[u])}}},5734:function(t,e,n){n.r(e);var r=n(7252);class i extends r.default{constructor(){super(),this.ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CMSD_STATIC_HEADER="cmsdStaticHeader",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.INBAND_EVENTS="inbandEvents",this.INITIAL_STREAM_SWITCH="initialStreamSwitch",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_FRAGMENT_NEEDED="initFragmentNeeded",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",this.MEDIAINFO_UPDATED="mediaInfoUpdated",this.QUOTA_EXCEEDED="quotaExceeded",this.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",this.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",this.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD="serviceLocationLocationBlacklistAdd",this.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED="serviceLocationLocationBlacklistChanged",this.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",this.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",this.SOURCE_BUFFER_ERROR="sourceBufferError",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady",this.SEEK_TARGET="seekTarget",this.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",this.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",this.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",this.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",this.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",this.SETTING_UPDATED_ABR_ACTIVE_RULES="settingUpdatedAbrActiveRules",this.SETTING_UPDATED_MAX_BITRATE="settingUpdatedMaxBitrate",this.SETTING_UPDATED_MIN_BITRATE="settingUpdatedMinBitrate"}}e.default=i},3621:function(t,e,n){n.r(e);var r=n(5734);class i extends r.default{}let o=new i;e.default=o},7252:function(t,e,n){n.r(e),e.default=class{extend(r,i){if(!r)return;let o=!!i&&i.override,l=!!i&&i.publicOnly;for(const u in r)!r.hasOwnProperty(u)||this[u]&&!o||l&&r[u].indexOf("public_")===-1||(this[u]=r[u])}}},8854:function(t,e,n){n.r(e),e.default={ACCESSIBILITY:"Accessibility",ADAPTATION_SET:"AdaptationSet",ADAPTATION_SETS:"adaptationSets",ADAPTATION_SET_SWITCHING_SCHEME_ID_URI:"urn:mpeg:dash:adaptation-set-switching:2016",ADD:"add",ASSET_IDENTIFIER:"AssetIdentifier",AUDIO_CHANNEL_CONFIGURATION:"AudioChannelConfiguration",AUDIO_SAMPLING_RATE:"audioSamplingRate",AVAILABILITY_END_TIME:"availabilityEndTime",AVAILABILITY_START_TIME:"availabilityStartTime",AVAILABILITY_TIME_COMPLETE:"availabilityTimeComplete",AVAILABILITY_TIME_OFFSET:"availabilityTimeOffset",BANDWITH:"bandwidth",BASE_URL:"BaseURL",BITSTREAM_SWITCHING:"BitstreamSwitching",BITSTREAM_SWITCHING_MINUS:"bitstreamSwitching",BYTE_RANGE:"byteRange",CAPTION:"caption",CENC_DEFAULT_KID:"cenc:default_KID",CLIENT_DATA_REPORTING:"ClientDataReporting",CLIENT_REQUIREMENT:"clientRequirement",CMCD_PARAMETERS:"CMCDParameters",CODECS:"codecs",CODEC_PRIVATE_DATA:"codecPrivateData",CODING_DEPENDENCY:"codingDependency",CONTENT_COMPONENT:"ContentComponent",CONTENT_PROTECTION:"ContentProtection",CONTENT_STEERING:"ContentSteering",CONTENT_STEERING_RESPONSE:{VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",PATHWAY_PRIORITY:"PATHWAY-PRIORITY",PATHWAY_CLONES:"PATHWAY-CLONES",BASE_ID:"BASE-ID",ID:"ID",URI_REPLACEMENT:"URI-REPLACEMENT",HOST:"HOST",PARAMS:"PARAMS"},CONTENT_TYPE:"contentType",DEFAULT_SERVICE_LOCATION:"defaultServiceLocation",DEPENDENCY_ID:"dependencyId",DURATION:"duration",DVB_PRIORITY:"dvb:priority",DVB_WEIGHT:"dvb:weight",DVB_URL:"dvb:url",DVB_MIMETYPE:"dvb:mimeType",DVB_FONTFAMILY:"dvb:fontFamily",DYNAMIC:"dynamic",END_NUMBER:"endNumber",ESSENTIAL_PROPERTY:"EssentialProperty",EVENT:"Event",EVENT_STREAM:"EventStream",FORCED_SUBTITLE:"forced-subtitle",FRAMERATE:"frameRate",FRAME_PACKING:"FramePacking",GROUP_LABEL:"GroupLabel",HEIGHT:"height",ID:"id",INBAND:"inband",INBAND_EVENT_STREAM:"InbandEventStream",INDEX:"index",INDEX_RANGE:"indexRange",INITIALIZATION:"Initialization",INITIALIZATION_MINUS:"initialization",LA_URL:"Laurl",LA_URL_LOWER_CASE:"laurl",LABEL:"Label",LANG:"lang",LOCATION:"Location",MAIN:"main",MAXIMUM_SAP_PERIOD:"maximumSAPPeriod",MAX_PLAYOUT_RATE:"maxPlayoutRate",MAX_SEGMENT_DURATION:"maxSegmentDuration",MAX_SUBSEGMENT_DURATION:"maxSubsegmentDuration",MEDIA:"media",MEDIA_PRESENTATION_DURATION:"mediaPresentationDuration",MEDIA_RANGE:"mediaRange",MEDIA_STREAM_STRUCTURE_ID:"mediaStreamStructureId",METRICS:"Metrics",METRICS_MINUS:"metrics",MIME_TYPE:"mimeType",MINIMUM_UPDATE_PERIOD:"minimumUpdatePeriod",MIN_BUFFER_TIME:"minBufferTime",MP4_PROTECTION_SCHEME:"urn:mpeg:dash:mp4protection:2011",MPD:"MPD",MPD_TYPE:"mpd",MPD_PATCH_TYPE:"mpdpatch",ORDER:"order",ORIGINAL_MPD_ID:"mpdId",ORIGINAL_PUBLISH_TIME:"originalPublishTime",PATCH_LOCATION:"PatchLocation",PERIOD:"Period",PRESELECTION:"Preselection",PRESELECTION_COMPONENTS:"preselectionComponents",PRESENTATION_TIME:"presentationTime",PRESENTATION_TIME_OFFSET:"presentationTimeOffset",PRO:"pro",PRODUCER_REFERENCE_TIME:"ProducerReferenceTime",PRODUCER_REFERENCE_TIME_TYPE:{ENCODER:"encoder",CAPTURED:"captured",APPLICATION:"application"},PROFILES:"profiles",PSSH:"pssh",PUBLISH_TIME:"publishTime",QUALITY_RANKING:"qualityRanking",QUERY_BEFORE_START:"queryBeforeStart",QUERY_PART:"$querypart$",RANGE:"range",RATING:"Rating",REF:"ref",REF_ID:"refId",REMOVE:"remove",REPLACE:"replace",REPORTING:"Reporting",REPRESENTATION:"Representation",REPRESENTATION_INDEX:"RepresentationIndex",ROBUSTNESS:"robustness",ROLE:"Role",S:"S",SAR:"sar",SCAN_TYPE:"scanType",SEGMENT_ALIGNMENT:"segmentAlignment",SEGMENT_BASE:"SegmentBase",SEGMENT_LIST:"SegmentList",SEGMENT_PROFILES:"segmentProfiles",SEGMENT_SEQUENCE_PROPERTIES:"SegmentSequenceProperties",SEGMENT_TEMPLATE:"SegmentTemplate",SEGMENT_TIMELINE:"SegmentTimeline",SEGMENT_TYPE:"segment",SEGMENT_URL:"SegmentURL",SERVICE_DESCRIPTION:"ServiceDescription",SERVICE_DESCRIPTION_LATENCY:"Latency",SERVICE_DESCRIPTION_OPERATING_BANDWIDTH:"OperatingBandwidth",SERVICE_DESCRIPTION_OPERATING_QUALITY:"OperatingQuality",SERVICE_DESCRIPTION_PLAYBACK_RATE:"PlaybackRate",SERVICE_DESCRIPTION_SCOPE:"Scope",SERVICE_LOCATION:"serviceLocation",SERVICE_LOCATIONS:"serviceLocations",SOURCE_URL:"sourceURL",START:"start",START_NUMBER:"startNumber",START_WITH_SAP:"startWithSAP",STATIC:"static",STEERING_TYPE:"steering",SUBSET:"Subset",SUBTITLE:"subtitle",SUB_REPRESENTATION:"SubRepresentation",SUB_SEGMENT_ALIGNMENT:"subsegmentAlignment",SUGGESTED_PRESENTATION_DELAY:"suggestedPresentationDelay",SUPPLEMENTAL_PROPERTY:"SupplementalProperty",SUPPLEMENTAL_CODECS:"scte214:supplementalCodecs",TAG:"tag",TIMESCALE:"timescale",TIMESHIFT_BUFFER_DEPTH:"timeShiftBufferDepth",TTL:"ttl",TYPE:"type",UTC_TIMING:"UTCTiming",VALUE:"value",VIEWPOINT:"Viewpoint",WALL_CLOCK_TIME:"wallClockTime",WIDTH:"width"}},5717:function(t,e,n){n.r(e),e.default=class{constructor(){this.schemeIdUri="",this.value=""}}},1152:function(t,e,n){n.r(e),n.d(e,{default:function(){return qse}});var r=n(138),i=n(4246),o={TCP_CONNECTION:"TcpList",HTTP_REQUEST:"HttpList",TRACK_SWITCH:"RepSwitchList",BUFFER_LEVEL:"BufferLevel",BUFFER_LOADED:"bufferLoaded",ABANDON_LOAD:"abandonload",ALLOW_LOAD:"allowload",BUFFER_EMPTY:"bufferStalled",BUFFER_STATE:"BufferState",DVR_INFO:"DVRInfo",DROPPED_FRAMES:"DroppedFrames",SCHEDULING_INFO:"SchedulingInfo",REQUESTS_QUEUE:"RequestsQueue",MANIFEST_UPDATE:"ManifestUpdate",MANIFEST_UPDATE_STREAM_INFO:"ManifestUpdatePeriodInfo",MANIFEST_UPDATE_TRACK_INFO:"ManifestUpdateRepresentationInfo",PLAY_LIST:"PlayList",DVB_ERRORS:"DVBErrors",HTTP_REQUEST_DVB_REPORTING_TYPE:"DVBReporting"},l=n(649),u=n(8261);function c(x){x=x||{};const S=this.context,R=x.dashMetrics;let k,D,L;return k={getSwitchRequest:function(B){try{const U=(0,i.default)(S).create();U.rule=this.getClassName();const N=B.getMediaInfo(),V=B.getMediaType(),W=R.getCurrentBufferState(V),O=B.getScheduleController(),z=B.getAbrController(),H=B.getStreamInfo(),X=H?H.id:null,te=H&&H.manifestInfo?H.manifestInfo.isDynamic:null,ie=B.getThroughputController(),se=ie.getSafeAverageThroughput(V),fe=ie.getAverageLatency(V);return isNaN(se)||!W||z.getAbandonmentStateFor(X,V)===o.ALLOW_LOAD&&(W.state===o.BUFFER_LOADED||te)&&(U.representation=z.getOptimalRepresentationForBitrate(N,se,!0),U.priority=D.get().streaming.abr.rules.throughputRule.priority,U.reason={throughput:se,latency:fe,message:`[ThroughputRule]: Switching to Representation with bitrate ${U.representation?U.representation.bitrateInKbit:"n/a"} kbit/s. Throughput: ${se}`},O.setTimeToLoadDelay(0)),U}catch(U){return L.error(U),(0,i.default)(S).create()}},reset:function(){}},L=(0,l.default)(S).getInstance().getLogger(k),D=(0,u.default)(S).getInstance(),k}c.__dashjs_factory_name="ThroughputRule";var d=r.default.getClassFactory(c),h=n(8850),f=n(3621),p=n(5212),m=n(1191);function g(x){x=x||{};const S=this.context,R=(0,h.default)(S).getInstance(),k=x.dashMetrics,D=(0,u.default)(S).getInstance();let L,B,U;function N(){const O=D.get().streaming.abr.rules.insufficientBufferRule.parameters.segmentIgnoreCount;U={},U[p.default.VIDEO]={ignoreCount:O},U[p.default.AUDIO]={ignoreCount:O},U[p.default.ENHANCEMENT]={ignoreCount:O}}function V(){N()}function W(O){isNaN(O.startTime)||O.mediaType!==p.default.AUDIO&&O.mediaType!==p.default.VIDEO||U[O.mediaType].ignoreCount>0&&U[O.mediaType].ignoreCount--}return L={getSwitchRequest:function(O){const z=(0,i.default)(S).create();if(z.rule=this.getClassName(),!O||!O.hasOwnProperty("getMediaType"))return z;const H=O.getMediaType(),X=k.getCurrentBufferState(H),te=O.getRepresentation().fragmentDuration;if(!(function(fe,me,pe){return!fe.getLowLatencyModeEnabled()&&U[me].ignoreCount<=0&&pe})(O.getScheduleController().getPlaybackController(),H,te))return z;const ie=O.getMediaInfo(),se=O.getAbrController();if(X&&X.state===o.BUFFER_EMPTY)B.debug("["+H+"] Switch to index 0; buffer is empty."),z.representation=se.getOptimalRepresentationForBitrate(ie,0,!0),z.reason={message:"[InsufficientBufferRule]: Switching to lowest Representation because buffer is empty"};else{const fe=O.getThroughputController(),me=k.getCurrentBufferLevel(H),pe=fe.getAverageThroughput(H,null,NaN)*D.get().streaming.abr.rules.insufficientBufferRule.parameters.throughputSafetyFactor*me/te;if(isNaN(pe)||pe<=0)return z;z.representation=se.getOptimalRepresentationForBitrate(ie,pe,!0),z.priority=D.get().streaming.abr.rules.insufficientBufferRule.priority,z.reason={message:"[InsufficientBufferRule]: Limiting maximum bitrate to avoid a buffer underrun.",bitrate:pe}}return z},reset:function(){N(),R.off(m.default.PLAYBACK_SEEKING,V,L),R.off(f.default.BYTES_APPENDED_END_FRAGMENT,W,L)}},B=(0,l.default)(S).getInstance().getLogger(L),N(),R.on(m.default.PLAYBACK_SEEKING,V,L),R.on(f.default.BYTES_APPENDED_END_FRAGMENT,W,L),L}g.__dashjs_factory_name="InsufficientBufferRule";var y=r.default.getClassFactory(g);function b(x){const S=(x=x||{}).mediaPlayerModel,R=x.dashMetrics,k=this.context,D=(0,u.default)(k).getInstance();let L,B,U;function N(){U={}}return L={shouldAbandon:function(V){const W=(0,i.default)(k).create();W.rule=this.getClassName();try{if(!V)return W;const O=V.getCurrentRequest();if(!isNaN(O.index)){if(O.firstByteDate===null||U.hasOwnProperty(O.index))return W;const z=S.getBufferTimeDefault(),H=V.getMediaType();if(R.getCurrentBufferLevel(H)>z)return W;const X=Date.now()-O.firstByteDate.getTime();if(O.traces.length>=D.get().streaming.abr.rules.abandonRequestsRule.parameters.minThroughputSamplesThreshold&&X>D.get().streaming.abr.rules.abandonRequestsRule.parameters.minSegmentDownloadTimeThresholdInMs&&O.bytesLoaded<O.bytesTotal)return(function(te,ie,se){const fe=te.getMediaInfo(),me=te.getMediaType(),pe=ie.traces.reduce(((ye,ue)=>ye+ue.b[0]),0)-ie.traces[0].b[0],_e=Math.max(ie.traces.reduce(((ye,ue)=>ye+ue.d),0)-ie.traces[0].d,1),ee=Math.round(8*pe/_e),Q=Number(8*ie.bytesTotal/ee/1e3).toFixed(2),M=te.getRepresentation(),re=te.getAbrController();if(Q<ie.duration*D.get().streaming.abr.rules.abandonRequestsRule.parameters.abandonDurationMultiplier||re.isPlayingAtLowestQuality(M))return se;if(!U.hasOwnProperty(ie.index)){const ye=te.getAbrController(),ue=ie.bytesTotal-ie.bytesLoaded,ke=ye.getOptimalRepresentationForBitrate(fe,ee,!0),xe=ie.representation;ue>ie.bytesTotal*ke.bitrateInKbit/xe.bitrateInKbit&&(se.representation=ke,se.priority=D.get().streaming.abr.rules.abandonRequestsRule.priority,se.reason={throughputInKbit:ee,message:`[AbandonRequestRule][${me} is asking to abandon and switch to quality to ${ke.absoluteIndex}. The measured bandwidth was ${ee} kbit/s`},U[ie.index]=!0)}return se})(V,O,W)}return W}catch(O){return B.error(O),W}},reset:N},B=(0,l.default)(k).getInstance().getLogger(L),N(),L}b.__dashjs_factory_name="AbandonRequestsRule";var v=r.default.getClassFactory(b);function _(){const x=this.context,S=(0,u.default)(x).getInstance();let R;return R={getSwitchRequest:function(k){const D=(0,i.default)(x).create();if(D.rule=this.getClassName(),!k||!k.hasOwnProperty("getDroppedFramesHistory"))return D;const L=k.getDroppedFramesHistory();if(!L)return D;const B=k.getStreamInfo().id,U=k.getMediaInfo(),N=k.getAbrController(),V=L.getFrameHistory(B);if(!V||Object.keys(V).length===0)return D;let W=0,O=0;const z=N.getPossibleVoRepresentationsFilteredBySettings(U,!0);let H=null;for(let X=1;X<z.length;X++){const te=z[X];if(te&&V[te.id]&&(W=V[te.id].droppedVideoFrames,O=V[te.id].totalVideoFrames,O>S.get().streaming.abr.rules.droppedFramesRule.parameters.minimumSampleSize&&W/O>S.get().streaming.abr.rules.droppedFramesRule.parameters.droppedFramesPercentageThreshold)){H=z[X-1];break}}return H&&(D.representation=H,D.priority=S.get().streaming.abr.rules.droppedFramesRule.priority,D.reason={droppedFrames:W,message:`[DroppedFramesRule]: Switching to index ${H.absoluteIndex}. Dropped Frames: ${W}, Total Frames: ${O}`}),D}},R}_.__dashjs_factory_name="DroppedFramesRule";var E=r.default.getClassFactory(_);function T(){const x=this.context,S=(0,u.default)(x).getInstance();let R;return R={getSwitchRequest:function(k){const D=(0,i.default)(x).create();if(D.rule=this.getClassName(),!k)return D;const L=k.getStreamInfo().id,B=k.getMediaType(),U=k?k.getSwitchRequestHistory():null,N=U?U.getSwitchRequests(L,B):{},V=k.getAbrController(),W=k.getMediaInfo(),O=V.getPossibleVoRepresentationsFilteredBySettings(W,!0);let z=0,H=0;for(let X=0;X<O.length;X++){const te=O[X];if(te&&N[te.id]&&(z+=N[te.id].drops,H+=N[te.id].noDrops,z+H>=S.get().streaming.abr.rules.switchHistoryRule.parameters.sampleSize&&z/H>S.get().streaming.abr.rules.switchHistoryRule.parameters.switchPercentageThreshold)){D.representation=X>0&&N[te.id].drops>0?O[X-1]:te,D.priority=S.get().streaming.abr.rules.switchHistoryRule.priority,D.reason={drops:z,noDrops:H,message:`[SwitchHistoryRule]: Switch to index: ${D.representation.absoluteIndex} samples: ${z+H} drops:  ${z}`};break}}return D}},R}T.__dashjs_factory_name="SwitchHistoryRule";var A=r.default.getClassFactory(T),w=n(7568);const I="BOLA_STATE_ONE_BITRATE",C="BOLA_STATE_STARTUP",j="BOLA_STATE_STEADY",F=10;function K(x){x=x||{};const S=this.context,R=x.dashMetrics,k=x.mediaPlayerModel,D=(0,h.default)(S).getInstance(),L=Tr(S).getInstance();let B,U,N,V;function W(M){const re=M.mediaType,ye=M.streamId,ue=re===p.default.AUDIO?[p.default.AUDIO]:V[ye];for(const ke in ue)V[ye]&&V[ye].hasOwnProperty(ke)&&V[ye][ke].state===j&&(V[ye][ke].placeholderBuffer=0)}function O(M){const re=M.streamId;for(const ye in V[re])if(V[re].hasOwnProperty(ye)){const ue=V[re][ye];ue.state!==I&&(ue.state=C,z(ue))}}function z(M){M.placeholderBuffer=0,M.mostAdvancedSegmentStart=NaN,M.lastSegmentWasReplacement=!1,M.lastSegmentStart=NaN,M.lastSegmentDurationS=NaN,M.lastSegmentRequestTimeMs=NaN,M.lastSegmentFinishTimeMs=NaN}function H(M){try{if(M&&M.metric===o.HTTP_REQUEST&&M.value&&M.value.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&M.value.trace&&M.value.trace.length){const re=V[M.value._streamId]&&V[M.value._streamId][M.mediaType]?V[M.value._streamId][M.mediaType]:null;re&&re.state!==I&&(re.lastSegmentRequestTimeMs=M.value.trequest.getTime(),re.lastSegmentFinishTimeMs=M.value._tfinish.getTime(),X(re,M.mediaType))}}catch(re){U.error(re)}}function X(M,re){if(!isNaN(M.lastSegmentStart)&&!isNaN(M.lastSegmentRequestTimeMs)&&!isNaN(M.placeholderBuffer)){if(M.placeholderBuffer*=.99,!isNaN(M.lastSegmentFinishTimeMs)){const ye=R.getCurrentBufferLevel(re)+.001*(M.lastSegmentFinishTimeMs-M.lastSegmentRequestTimeMs),ue=fe(M,M.currentRepresentation),ke=Math.max(0,ue-ye);M.placeholderBuffer=Math.min(ke,M.placeholderBuffer)}M.lastSegmentWasReplacement&&!isNaN(M.lastSegmentDurationS)&&(M.placeholderBuffer+=M.lastSegmentDurationS),M.lastSegmentStart=NaN,M.lastSegmentRequestTimeMs=NaN}}function te(M){if(M&&V[M.streamId]&&V[M.streamId][M.mediaType]){const re=V[M.streamId][M.mediaType];re&&re.state!==I&&(re.currentRepresentation=M.newRepresentation)}}function ie(M,re,ye){const ue=ye.reduce(((Oe,Ge,Ne)=>Ge>ye[Oe]?Ne:Oe),0);if(ue===0)return null;const ke=Math.max(M,F+2*re.length),xe=(ye[ue]-1)/(ke/F-1);return{gp:xe,Vp:F/xe}}function se(M,re){const ye=k.getBufferTimeDefault();if(M.bufferTimeDefault!==ye){const ue=ie(ye,M.representations,M.utilities);if(ue.Vp!==M.Vp||ue.gp!==M.gp){const ke=R.getCurrentBufferLevel(re);let xe=ke+M.placeholderBuffer;xe-=F,xe*=ue.Vp/M.Vp,xe+=F,M.bufferTimeDefault=ye,M.Vp=ue.Vp,M.gp=ue.gp,M.placeholderBuffer=Math.max(0,xe-ke)}}}function fe(M,re){return M.Vp*(M.utilities[re.absoluteIndex]+M.gp)}function me(M){if(M&&M.chunk&&M.chunk.representation.mediaInfo&&V[M.streamId]){const re=V[M.streamId][M.chunk.representation.mediaInfo.type];if(re&&re.state!==I){const ye=M.chunk.start;isNaN(re.mostAdvancedSegmentStart)||ye>re.mostAdvancedSegmentStart?(re.mostAdvancedSegmentStart=ye,re.lastSegmentWasReplacement=!1):re.lastSegmentWasReplacement=!0,re.lastSegmentStart=ye,re.lastSegmentDurationS=M.chunk.duration,re.currentRepresentation=M.chunk.representation,X(re,M.chunk.representation.mediaInfo.type)}}}function pe(){Q()}function _e(M,re){const ye=re.absoluteIndex,ue=re.bandwidth,ke=M.utilities[ye];let xe=0;for(let Oe=ye-1;Oe>=0;--Oe)if(M.utilities[Oe]<M.utilities[ye]){const Ge=M.representations[Oe].bandwidth,Ne=M.utilities[Oe],Z=M.Vp*(M.gp+(ue*Ne-Ge*ke)/(ue-Ge));xe=Math.max(xe,Z)}return xe}function ee(M){if(M&&V[M.streamId]){const re=V[M.streamId][M.mediaType];if(re&&re.state!==I){const ye=R.getCurrentBufferLevel(M.mediaType);let ue;ue=re.currentRepresentation.absoluteIndex>0?_e(re,re.currentRepresentation):F;const ke=Math.max(0,ue-ye);re.placeholderBuffer=Math.min(re.placeholderBuffer,ke)}}}function Q(){V={}}return B={getSwitchRequest:function(M){try{const re=(0,i.default)(S).create();M.getScheduleController().setTimeToLoadDelay(0),re.rule=this.getClassName(),re.reason=re.reason||{};const ye=(function(ue){const ke=ue.getMediaType(),xe=ue.getStreamInfo().id;V[xe]||(V={},V[xe]={});let Oe=V[xe][ke];return Oe?Oe.state!==I&&se(Oe,ke):(Oe=(function(Ge){const Ne={},Z=Ge.getMediaInfo(),le=L.getPossibleVoRepresentationsFilteredBySettings(Z,!0);let ve=le.map((ce=>ce.bandwidth)).map((ce=>Math.log(ce)));ve=ve.map((ce=>ce-ve[0]+1));const de=k.getBufferTimeDefault(),Y=ie(de,le,ve);return Y?(Ne.state=C,Ne.representations=le,Ne.utilities=ve,Ne.bufferTimeDefault=de,Ne.Vp=Y.Vp,Ne.gp=Y.gp,Ne.currentRepresentation=null,z(Ne)):Ne.state=I,Ne})(ue),V[xe][ke]=Oe),Oe})(M);switch(re.reason.state=ye.state,ye.state){case I:break;case C:(function(ue,ke,xe){const Oe=ke.getMediaType(),Ge=ke.getThroughputController().getSafeAverageThroughput(Oe);if(isNaN(Ge))return;const Ne=ke.getMediaInfo(),Z=L.getOptimalRepresentationForBitrate(Ne,Ge,!0),le=R.getCurrentBufferLevel(Oe);ue.representation=Z,ue.reason.throughput=Ge,xe.placeholderBuffer=Math.max(0,_e(xe,Z)-le),xe.currentRepresentation=Z,!isNaN(xe.lastSegmentDurationS)&&le>=xe.lastSegmentDurationS&&(xe.state=j)})(re,M,ye);break;case j:(function(ue,ke,xe){const Oe=ke.getMediaType(),Ge=ke.getThroughputController(),Ne=ke.getMediaInfo(),Z=Ge.getSafeAverageThroughput(Oe),le=ke.getScheduleController();(function(oe,Ae){const Se=Date.now();if(isNaN(oe.lastSegmentFinishTimeMs)){if(!isNaN(oe.lastCallTimeMs)){const De=.001*(Se-oe.lastCallTimeMs);oe.placeholderBuffer+=Math.max(0,De)}}else{const De=.001*(Se-oe.lastSegmentFinishTimeMs);oe.placeholderBuffer+=Math.max(0,De)}oe.lastCallTimeMs=Se,oe.lastSegmentStart=NaN,oe.lastSegmentRequestTimeMs=NaN,oe.lastSegmentFinishTimeMs=NaN,se(oe,Ae)})(xe,Oe);const ve=R.getCurrentBufferLevel(Oe);let de=(function(oe,Ae){const Se=oe.representations.length;let De=NaN,ze=NaN;for(let Ue=0;Ue<Se;++Ue){let tt=(oe.Vp*(oe.utilities[Ue]-1+oe.gp)-Ae)/oe.representations[Ue].bandwidth;(isNaN(ze)||tt>=ze)&&(ze=tt,De=Ue)}return oe.representations[De]})(xe,ve+xe.placeholderBuffer);const Y=L.getOptimalRepresentationForBitrate(Ne,Z,!0);de.absoluteIndex>xe.currentRepresentation.absoluteIndex&&de.absoluteIndex>Y.absoluteIndex&&(de=Y.absoluteIndex>xe.currentRepresentation.absoluteIndex?Y:xe.currentRepresentation);let ce=Math.max(0,ve+xe.placeholderBuffer-fe(xe,de));ce<=xe.placeholderBuffer?(xe.placeholderBuffer-=ce,ce=0):(ce-=xe.placeholderBuffer,xe.placeholderBuffer=0,L.isPlayingAtTopQuality(de)?ce=0:le.setTimeToLoadDelay(1e3*ce)),ue.representation=de,ue.reason.throughput=Z,ue.reason.bufferLevel=ve,ue.reason.placeholderBuffer=xe.placeholderBuffer,ue.reason.delay=ce,xe.currentRepresentation=de})(re,M,ye);break;default:(function(ue,ke,xe){U.debug("BOLA ABR rule invoked in bad state.");const Oe=ke.getMediaInfo(),Ge=ke.getMediaType(),Ne=ke.getThroughputController().getSafeAverageThroughput(Ge);ue.representation=L.getOptimalRepresentationForBitrate(Oe,Ne,!0),ue.reason.state=xe.state,ue.reason.throughput=Ne,xe.state=C,z(xe)})(re,M,ye)}return re.priority=N.get().streaming.abr.rules.bolaRule.priority,re}catch(re){return U.error(re),(0,i.default)(S).create()}},handleNewMediaInfo:function(M){M&&M.streamInfo&&M.type&&V[M.streamInfo.id]&&V[M.streamInfo.id][M.type]&&delete V[M.streamInfo.id][M.type]},reset:function(){Q(),D.off(m.default.BUFFER_EMPTY,W,B),D.off(m.default.PLAYBACK_SEEKING,O,B),D.off(m.default.METRIC_ADDED,H,B),D.off(m.default.QUALITY_CHANGE_REQUESTED,te,B),D.off(m.default.FRAGMENT_LOADING_ABANDONED,ee,B),D.off(f.default.MEDIA_FRAGMENT_LOADED,me,B),D.off(f.default.SETTING_UPDATED_MAX_BITRATE,pe,B),D.off(f.default.SETTING_UPDATED_MIN_BITRATE,pe,B)}},U=(0,l.default)(S).getInstance().getLogger(B),N=(0,u.default)(S).getInstance(),Q(),D.on(m.default.BUFFER_EMPTY,W,B),D.on(m.default.PLAYBACK_SEEKING,O,B),D.on(m.default.METRIC_ADDED,H,B),D.on(m.default.QUALITY_CHANGE_REQUESTED,te,B),D.on(m.default.FRAGMENT_LOADING_ABANDONED,ee,B),D.on(f.default.MEDIA_FRAGMENT_LOADED,me,B),D.on(f.default.SETTING_UPDATED_MAX_BITRATE,pe,B),D.on(f.default.SETTING_UPDATED_MIN_BITRATE,pe,B),B}K.__dashjs_factory_name="BolaRule";var he=r.default.getClassFactory(K);const q="L2A_STATE_ONE_BITRATE",Ee="L2A_STATE_STARTUP",Te="L2A_STATE_STEADY",ge=Math.pow(4,.99);function Be(x){x=x||{};const S=this.context,R=x.dashMetrics,k=(0,h.default)(S).getInstance(),D=(0,u.default)(S).getInstance();let L,B,U,N;function V(ie){ie.placeholderBuffer=0,ie.mostAdvancedSegmentStart=NaN,ie.lastSegmentWasReplacement=!1,ie.lastSegmentStart=NaN,ie.lastSegmentDurationS=NaN,ie.lastSegmentRequestTimeMs=NaN,ie.lastSegmentFinishTimeMs=NaN,ie.lastSegmentUrl=""}function W(){for(const ie in B)if(B.hasOwnProperty(ie)){const se=B[ie];se.state!==q&&(se.state=Ee,V(se))}}function O(ie){if(ie&&ie.chunk&&ie.chunk.representation&&ie.chunk.representation.mediaInfo){const se=B[ie.chunk.representation.mediaInfo.type],fe=U[ie.chunk.representation.mediaInfo.type];if(se&&se.state!==q){const me=ie.chunk.start;isNaN(se.mostAdvancedSegmentStart)||me>se.mostAdvancedSegmentStart?(se.mostAdvancedSegmentStart=me,se.lastSegmentWasReplacement=!1):se.lastSegmentWasReplacement=!0,se.lastSegmentStart=me,se.lastSegmentDurationS=ie.chunk.duration,se.currentRepresentation=ie.chunk.representation,H(se,fe)}}}function z(ie){if(ie&&ie.metric===o.HTTP_REQUEST&&ie.value&&ie.value.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&ie.value.trace&&ie.value.trace.length){const se=B[ie.mediaType],fe=U[ie.mediaType];se&&se.state!==q&&(se.lastSegmentRequestTimeMs=ie.value.trequest.getTime(),se.lastSegmentFinishTimeMs=ie.value._tfinish.getTime(),H(se,fe))}}function H(ie,se){isNaN(ie.lastSegmentStart)||isNaN(ie.lastSegmentRequestTimeMs)||(se.segment_request_start_s=.001*ie.lastSegmentRequestTimeMs,se.segment_download_finish_s=.001*ie.lastSegmentFinishTimeMs,ie.lastSegmentStart=NaN,ie.lastSegmentRequestTimeMs=NaN)}function X(ie,se){if(ie.length!==se.length)return-1;let fe=0;for(let me=0;me<ie.length;me++)fe+=ie[me]*se[me];return fe}function te(){B={},U={}}return L={getSwitchRequest:function(ie){try{const se=(0,i.default)(S).create();se.rule=this.getClassName();const fe=ie.getMediaType(),me=ie.getScheduleController();if(se.reason=se.reason||{},fe===p.default.AUDIO)return se;me.setTimeToLoadDelay(0);const pe=(function(_e){const ee=_e.getMediaType();let Q=B[ee];return Q||(Q=(function(M){const re={},ye=M.getMediaInfo();return re.state=Ee,re.currentRepresentation=null,(function(ue){ue&&ue.type&&(U[ue.type]={},U[ue.type].w=[],U[ue.type].prev_w=[],U[ue.type].Q=0,U[ue.type].segment_request_start_s=0,U[ue.type].segment_download_finish_s=0,U[ue.type].B_target=1.5)})(ye),V(re),re})(_e),B[ee]=Q),Q})(ie);if(!U[fe])return se;switch(se.reason.state=pe.state,pe.state){case q:break;case Ee:(function(_e,ee,Q){const M=_e.getMediaInfo(),re=_e.getMediaType(),ye=_e.getThroughputController().getSafeAverageThroughput(re);if(isNaN(ye))return ee;const ue=_e.getAbrController(),ke=ue.getOptimalRepresentationForBitrate(M,ye,!0),xe=R.getCurrentBufferLevel(re,!0),Oe=U[re],Ge=ue.getPossibleVoRepresentationsFilteredBySettings(M,!0);if(ee.representation=ke,ee.reason.throughput=ye,Q.currentRepresentation=ke,!isNaN(Q.lastSegmentDurationS)&&xe>=Oe.B_target){Q.state=Te,Oe.Q=ge;for(let Ne=0;Ne<Ge.length;++Ne)Ge[Ne].id===Q.currentRepresentation.id?Oe.prev_w[Ne]=1:Oe.prev_w[Ne]=0}})(ie,se,pe);break;case Te:(function(_e,ee,Q){let M=[];const re=_e.getThroughputController(),ye=_e.getMediaType();let ue=re.getAverageThroughput(ye,p.default.THROUGHPUT_CALCULATION_MODES.ARITHMETIC_MEAN,1),ke=R.getCurrentHttpRequest(ye),xe=null;const Oe=U[ye];if(ue<1&&(ue=1),ke.url===Q.lastSegmentUrl||ke.type===w.HTTPRequest.INIT_SEGMENT_TYPE)xe=Q.currentRepresentation;else{let Ge=Q.lastSegmentDurationS,Ne=1;const Z=_e.getAbrController(),le=_e.getMediaInfo(),ve=Z.getPossibleVoRepresentationsFilteredBySettings(le,!0);let de=_e.getVideoModel().getPlaybackRate();const Y=Math.max(Math.pow(4,1),ge*Math.sqrt(4));for(let Se=0;Se<ve.length;++Se){const De=ve[Se];de*De.bitrateInKbit>ue&&(Ne=-1),Oe.w[Se]=Oe.prev_w[Se]+Ne*(Ge/(2*Y))*((Oe.Q+ge)*(de*De.bitrateInKbit/ue))}Oe.w=(function(Se){const De=Se.length;let ze=!1,Ue=[];for(let un=0;un<De;++un)Ue[un]=Se[un];let tt=Se.sort((function(un,St){return St-un})),gt=0,kt=0,Mt=[];for(let un=0;un<De-1;++un)if(gt+=tt[un],kt=(gt-1)/(un+1),kt>=tt[un+1]){ze=!0;break}ze||(kt=(gt+tt[De-1]-1)/De);for(let un=0;un<De;++un)Mt[un]=Math.max(Ue[un]-kt,0);return Mt})(Oe.w);for(let Se=0;Se<ve.length;++Se)M[Se]=Oe.w[Se]-Oe.prev_w[Se],Oe.prev_w[Se]=Oe.w[Se];const ce=ve.map((Se=>Se.bandwidth));Oe.Q=Math.max(0,Oe.Q-Ge+Ge*de*((X(ce,Oe.prev_w)+X(ce,M))/ue));let oe=[];for(let Se=0;Se<ce.length;++Se)oe[Se]=Math.abs(ce[Se]-X(Oe.w,ce));const Ae=oe.indexOf(Math.min(...oe));xe=Z.getRepresentationByAbsoluteIndex(Ae,le,!0),xe.absoluteIndex>Q.currentRepresentation.absoluteIndex&&ce[Q.currentRepresentation.absoluteIndex+1]<=ue&&(xe=Z.getRepresentationByAbsoluteIndex(Q.currentRepresentation.absoluteIndex+1,le,!0)),xe.bitrateInKbit>=ue&&(Oe.Q=2*Math.max(ge,Oe.Q)),Q.lastSegmentUrl=ke.url}ee.representation=xe,Q.currentRepresentation=ee.representation})(ie,se,pe);break;default:(function(_e,ee,Q){const M=_e.getAbrController(),re=_e.getMediaInfo(),ye=_e.getMediaType(),ue=_e.getThroughputController().getSafeAverageThroughput(ye);ee.representation=M.getOptimalRepresentationForBitrate(re,ue,!0),ee.reason.throughput=ue,Q.state=Ee,V(Q)})(ie,se,pe)}return se.priority=D.get().streaming.abr.rules.l2ARule.priority,se}catch(se){return N.error(se),(0,i.default)(S).create()}},reset:function(){te(),k.off(f.default.PLAYBACK_SEEKING,W,L),k.off(f.default.MEDIA_FRAGMENT_LOADED,O,L),k.off(f.default.METRIC_ADDED,z,L)}},N=(0,l.default)(S).getInstance().getLogger(L),te(),k.on(f.default.PLAYBACK_SEEKING,W,L),k.on(f.default.MEDIA_FRAGMENT_LOADED,O,L),k.on(f.default.METRIC_ADDED,z,L),L}Be.__dashjs_factory_name="L2ARule";var He=r.default.getClassFactory(Be);function Ye(){const x=this.context;let S,R,k,D,L,B,U,N,V;function W(){k=null,D=1,L=100,B=0,U=null,N=null,V="dynamic_weight_selection"}function O(){let ie=0;if(k)for(let se=0;se<k.length;se++){let fe=k[se];fe.state.throughput>ie&&(ie=fe.state.throughput)}return ie}function z(ie,se,fe){let me=ie.map(((pe,_e)=>fe[_e]*Math.pow(pe-se[_e],2))).reduce(((pe,_e)=>pe+_e));return(me<0?-1:1)*Math.sqrt(Math.abs(me))}function H(ie,se){return z([ie.state.throughput,ie.state.latency,ie.state.rebuffer,ie.state.switch],[se.state.throughput,se.state.latency,se.state.rebuffer,se.state.switch],[1,1,1,1])}function X(ie,se){for(let fe=0;fe<k.length;fe++){let me=k[fe],pe=.1;const _e=H(me,ie);te(me,se,Math.exp(-1*Math.pow(_e,2)/(2*Math.pow(pe,2))))}}function te(ie,se,fe){let me=ie.state,pe=[.01,.01,.01,.01];me.throughput=me.throughput+(se[0]-me.throughput)*pe[0]*fe,me.latency=me.latency+(se[1]-me.latency)*pe[1]*fe,me.rebuffer=me.rebuffer+(se[2]-me.rebuffer)*pe[2]*fe,me.switch=me.switch+(se[3]-me.switch)*pe[3]*fe}return S={getNextQuality:function(ie,se,fe,me,pe,_e,ee,Q){let M=me,re=fe;(function(le,ve){if(!k){k=[];const de=ve.getPossibleVoRepresentationsFilteredBySettings(le,!0),Y=de.map((ce=>ce.bandwidth));B=Math.min(...Y),D=(function(ce){const oe=ce.map((Ae=>Math.pow(Ae,2))).reduce(((Ae,Se)=>Ae+Se));return Math.sqrt(oe)})(Y),de.forEach((ce=>{let oe={representation:ce,state:{throughput:ce.bandwidth/D,latency:0,rebuffer:0,switch:0}};k.push(oe)})),N=(function(ce){let oe=[],Ae=(function(tt){let gt=[];for(let kt=0;kt<tt;kt++){let Mt=[Math.random()*O(),Math.random(),Math.random(),Math.random()];gt.push(Mt)}return gt})(Math.pow(ce.length,2));oe.push(Ae[0]);let Se=[1,1,1,1];for(let tt=1;tt<ce.length;tt++){let gt=null,kt=null;for(let Mt=0;Mt<Ae.length;Mt++){let un=Ae[Mt],St=null;for(let Zt=0;Zt<oe.length;Zt++){let En=z(un,oe[Zt],Se);(St===null||En<St)&&(St=En)}(kt===null||St>kt)&&(gt=un,kt=St)}oe.push(gt)}let De=null,ze=null;for(let tt=0;tt<oe.length;tt++){let gt=0;for(let kt=0;kt<oe.length;kt++)tt!==kt&&(gt+=z(oe[tt],oe[kt],Se));(De===null||gt>De)&&(De=gt,ze=tt)}let Ue=[];for(Ue.push(oe[ze]),oe.splice(ze,1);oe.length>0;){let tt=null,gt=null;for(let kt=0;kt<oe.length;kt++){let Mt=z(Ue[0],oe[kt],Se);(tt===null||Mt<tt)&&(tt=Mt,gt=kt)}Ue.push(oe[gt]),oe.splice(gt,1)}return Ue})(k)}})(se,ie);let ye=fe/D;ye>1&&(ye=O()),me/=L;let ue=k.find((le=>le.representation.id===ee.id)),ke=ue.representation.bandwidth*Q.getSegmentDuration()/re,xe=Math.max(0,ke-pe);if(pe-ke<Q.getMinBuffer())return R.debug(`Buffer is low for bitrate= ${ue.representation.bandwidth} downloadTime=${ke} currentBuffer=${pe} rebuffer=${xe}`),(function(le,ve){let de=0,Y=le;if(k)for(let ce=0;ce<k.length;ce++){let oe=k[ce];oe.representation.bandwidth<le.representation.bandwidth&&oe.representation.bandwidth>de&&ve>oe.representation.bandwidth&&(de=oe.representation.bandwidth,Y=oe)}return Y})(ue,re).representation;switch(V){case"manual_weight_selection":U=[.4,.4,.4,.4];break;case"random_weight_selection":U=(function(le){let ve=[],de=Math.sqrt(2/le);for(let Y=0;Y<4;Y++)ve.push(Math.random()*de);return U=ve,U})(k.length);break;default:(function(le,ve,de,Y,ce,oe){U||(U=N[N.length-1]);let Ae=le.findWeightVector(k,ve,de,Y,ce,oe);Ae!==null&&Ae!==-1&&(U=Ae)})(Q,M,pe,xe,re,_e)}let Oe=null,Ge=null,Ne=null;for(let le=0;le<k.length;le++){let ve=k[le],de=ve.state,Y=[de.throughput,de.latency,de.rebuffer,de.switch],ce=U.slice(),oe=Q.getNextBufferWithBitrate(ve.representation.bandwidth,pe,re),Ae=oe<Q.getMinBuffer();Ae&&R.debug(`Buffer is low for bitrate=${ve.representation.bandwidth} downloadTime=${ke} currentBuffer=${pe} nextBuffer=${oe}`),(ve.representation.bandwidth>fe-1e4||Ae)&&ve.representation.bandwidth!==B&&(ce[0]=100);let Se=z(Y,[ye,0,0,0],ce);(Oe===null||Se<Oe)&&(Oe=Se,Ge=ve.representation,Ne=ve)}let Z=Math.abs(ue.representation.bandwidth-Ne.representation.bandwidth)/D;return X(ue,[ye,me,xe,Z]),X(Ne,[ye,0,0,Z]),Ge},reset:function(){W()}},R=(0,l.default)(x).getInstance().getLogger(S),W(),S}Ye.__dashjs_factory_name="LearningAbrController";var Ie=r.default.getClassFactory(Ye),we=class{constructor(){this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}};function je(){let x,S,R,k,D;function L(){S=null,R=null,k=null,D=null}function B(N,V,W,O){let z=new we;return z.type=N,z.weights.bitrateReward=V||1,z.weights.bitrateSwitchPenalty=1,z.weights.rebufferPenalty=W||1e3,z.weights.latencyPenalty=[],z.weights.latencyPenalty.push({threshold:1.1,penalty:.05*O}),z.weights.latencyPenalty.push({threshold:1e8,penalty:.1*W}),z.weights.playbackSpeedPenalty=O||200,z}function U(N,V,W,O,z){z.bitrateWSum+=z.weights.bitrateReward*N,z.lastBitrate&&(z.bitrateSwitchWSum+=z.weights.bitrateSwitchPenalty*Math.abs(N-z.lastBitrate)),z.lastBitrate=N,z.rebufferWSum+=z.weights.rebufferPenalty*V;for(let H=0;H<z.weights.latencyPenalty.length;H++){let X=z.weights.latencyPenalty[H];if(W<=X.threshold){z.latencyWSum+=X.penalty*W;break}}z.playbackSpeedWSum+=z.weights.playbackSpeedPenalty*Math.abs(1-O),z.totalQoe=z.bitrateWSum-z.bitrateSwitchWSum-z.rebufferWSum-z.latencyWSum-z.playbackSpeedWSum}return x={setupPerSegmentQoe:function(N,V,W){S=B("segment",N,V,W),R=N,k=V,D=W},logSegmentMetrics:function(N,V,W,O){S&&U(N,V,W,O,S)},getPerSegmentQoe:function(){return S},calculateSingleUseQoe:function(N,V,W,O){let z=null;return R&&k&&D&&(z=B("segment",R,k,D)),z?(U(N,V,W,O,z),z.totalQoe):0},reset:function(){L()}},L(),x}je.__dashjs_factory_name="LoLpQoeEvaluator";var Ce=r.default.getClassFactory(je);function dt(x){let S,R,k,D,L=x.targetLatency,B=x.bufferMin,U=x.segmentDuration,N=x.qoeEvaluator;function V(){return U}function W(O,z){const H=V();let X;return X=z>H?O-H:O+H-z,X}return S={getMinBuffer:function(){return B},getSegmentDuration:V,getNextBufferWithBitrate:function(O,z,H){return W(z,O*U/H)},getNextBuffer:W,findWeightVector:function(O,z,H,X,te,ie){let se=null,fe=null,me=null,pe=Math.abs(z-D);return O.forEach((_e=>{k.forEach((ee=>{ee[0];let Q,M=ee[1],re=ee[2],ye=(ee[3],_e.representation.bandwidth*U/te),ue=W(H,ye);Q=re===0?10:1/re;let ke=Q*Math.max(1e-5,ye-ue);Q=M===0?10:1/M;let xe=Q*_e.state.latency,Oe=N.calculateSingleUseQoe(_e.representation.bandwidth,ke,xe,ie);(se===null||Oe>se)&&(function(Ge,Ne,Z){return!(Ge>L+Z)&&Ne>=B})(z,ue,pe)&&(se=Oe,fe=ee,me=_e.representation.bandwidth)}))})),fe===null&&me===null&&(fe=-1),D=z,fe}},R=[.2,.4,.6,.8,1],k=(function(O){let z=O.map((function(X){return[X]})),H=function(X,te,ie){if(ie===te)return X;let se=X.length;for(let fe=0;fe<se;fe++){let me=X.shift();for(let pe=0;pe<O.length;pe++)X.push(me.concat(O[pe]))}return H(X,te,ie+1)};return H(z,4,1)})(R),D=0,S}dt.__dashjs_factory_name="LoLpWeightSelector";var Le=r.default.getClassFactory(dt);function Pe(x){let S,R,k,D,L,B=(x=x||{}).dashMetrics,U=this.context;return k={getSwitchRequest:function(N){try{let V=(0,i.default)(U).create();V.rule=this.getClassName();let W=N.getMediaInfo().type,O=N.getAbrController();const z=N.getStreamInfo();let H=N.getRepresentation();const X=N.getMediaInfo(),te=B.getCurrentBufferState(W),ie=N.getScheduleController(),se=B.getCurrentBufferLevel(W,!0),fe=ie.getPlaybackController();let me=fe.getCurrentLiveLatency();if(W===p.default.AUDIO)return V;me||(me=0);const pe=fe.getPlaybackRate(),_e=N.getThroughputController().getSafeAverageThroughput(W);if(S.debug(`Throughput ${Math.round(_e)} kbps`),isNaN(_e)||!te||O.getAbandonmentStateFor(z.id,W)===o.ABANDON_LOAD)return V;let ee=O.getPossibleVoRepresentationsFilteredBySettings(X,!0).map((Ge=>Ge.bandwidth)),Q=N.getRepresentation().fragmentDuration,M=Math.min(...ee)/1e3,re=Math.max(...ee)/1e3,ye=H.bandwidth/1e3,ue=B.getCurrentHttpRequest(W,!0),ke=(ue.tresponse.getTime()-ue.trequest.getTime())/1e3,xe=ke>Q?ke-Q:0;L.setupPerSegmentQoe(Q,re,M),L.logSegmentMetrics(ye,xe,me,pe);let Oe=Le(U).create({targetLatency:1.5,bufferMin:.3,segmentDuration:Q,qoeEvaluator:L});return V.representation=D.getNextQuality(O,X,1e3*_e,me,se,pe,H,Oe),V.reason={throughput:_e,latency:me},V.priority=R.get().streaming.abr.rules.loLPRule.priority,ie.setTimeToLoadDelay(0),V}catch(V){throw V}},reset:function(){D.reset(),L.reset()}},S=(0,l.default)(U).getInstance().getLogger(k),D=Ie(U).create(),L=Ce(U).create(),R=(0,u.default)(U).getInstance(),k}Pe.__dashjs_factory_name="LoLPRule";var it=r.default.getClassFactory(Pe);function J(x){x=x||{};const S=this.context,R=x.mediaPlayerModel,k=x.customParametersModel,D=x.dashMetrics,L=x.settings,B=(0,h.default)(S).getInstance();let U,N,V,W;function O(){Object.values(p.default.QUALITY_SWITCH_RULES).forEach((ie=>{N=z(ie,N)})),Object.values(p.default.ABANDON_FRAGMENT_RULES).forEach((ie=>{V=z(ie,V)})),k.getAbrCustomRules().forEach((function(ie){ie.type===p.default.RULES_TYPES.QUALITY_SWITCH_RULES&&N.push(ie.rule(S).create()),ie.type===p.default.RULES_TYPES.ABANDON_FRAGMENT_RULES&&V.push(ie.rule(S).create())})),N.length===0&&(N.push(he(S).create({dashMetrics:D,mediaPlayerModel:R,settings:L})),N.push(d(S).create({dashMetrics:D})))}function z(ie,se){const fe=ie.charAt(0).toLowerCase()+ie.slice(1);return L.get().streaming.abr.rules[fe].active&&!(function(me,pe){return me.filter((_e=>_e.getClassName()===pe)).length>0})(se,ie)?(se.push((function(me){switch(me){case p.default.QUALITY_SWITCH_RULES.BOLA_RULE:return he(S).create({dashMetrics:D,mediaPlayerModel:R,settings:L});case p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE:return d(S).create({dashMetrics:D});case p.default.QUALITY_SWITCH_RULES.INSUFFICIENT_BUFFER_RULE:return y(S).create({dashMetrics:D,settings:L});case p.default.QUALITY_SWITCH_RULES.SWITCH_HISTORY_RULE:return A(S).create();case p.default.QUALITY_SWITCH_RULES.DROPPED_FRAMES_RULE:return E(S).create();case p.default.QUALITY_SWITCH_RULES.LEARN_TO_ADAPT_RULE:return He(S).create({dashMetrics:D,settings:L});case p.default.QUALITY_SWITCH_RULES.LOL_PLUS_RULE:return it(S).create({dashMetrics:D});case p.default.ABANDON_FRAGMENT_RULES.ABANDON_REQUEST_RULE:return v(S).create({dashMetrics:D,mediaPlayerModel:R,settings:L})}})(ie)),se):L.get().streaming.abr.rules[fe].active?se:(function(me,pe){return me.filter((_e=>_e.getClassName()!==pe))})(se,ie)}function H(ie){return ie.filter((se=>se.representation!==i.default.NO_CHANGE))}function X(ie){const se={};let fe,me,pe,_e=null;if(ie.length!==0){for(se[i.default.PRIORITY.STRONG]=null,se[i.default.PRIORITY.WEAK]=null,se[i.default.PRIORITY.DEFAULT]=null,fe=0,me=ie.length;fe<me;fe+=1)pe=ie[fe],pe.representation!==i.default.NO_CHANGE&&(se[pe.priority]===null||se[pe.priority].representation!==i.default.NO_CHANGE&&pe.representation.bitrateInKbit<se[pe.priority].representation.bitrateInKbit)&&(se[pe.priority]=pe);return se[i.default.PRIORITY.WEAK]&&se[i.default.PRIORITY.WEAK].representation!==i.default.NO_CHANGE&&(_e=se[i.default.PRIORITY.WEAK]),se[i.default.PRIORITY.DEFAULT]&&se[i.default.PRIORITY.DEFAULT].representation!==i.default.NO_CHANGE&&(_e=se[i.default.PRIORITY.DEFAULT]),se[i.default.PRIORITY.STRONG]&&se[i.default.PRIORITY.STRONG].representation!==i.default.NO_CHANGE&&(_e=se[i.default.PRIORITY.STRONG]),_e}}function te(){O()}return U={clearDataForStream:function(ie){[N,V].forEach((se=>{se&&se.length&&se.forEach((fe=>fe.clearDataForStream&&typeof fe.clearDataForStream=="function"&&fe.clearDataForStream(ie)))}))},getAbandonFragmentRules:function(){return V},getBestPossibleSwitchRequest:function(ie){return ie&&X(H(N.filter((se=>{const fe=se.getClassName();if(fe!==p.default.QUALITY_SWITCH_RULES.BOLA_RULE&&fe!==p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE)return!0;const me=ie.getMediaType();return W[me]&&fe===p.default.QUALITY_SWITCH_RULES.BOLA_RULE||!W[me]&&fe===p.default.QUALITY_SWITCH_RULES.THROUGHPUT_RULE})).map((se=>se.getSwitchRequest(ie)))))||(0,i.default)(S).create()},getBolaState:function(ie){return W[ie]},getMinSwitchRequest:X,getQualitySwitchRules:function(){return N},handleNewMediaInfo:function(ie){N.forEach((se=>se.handleNewMediaInfo&&se.handleNewMediaInfo(ie))),V.forEach((se=>se.handleNewMediaInfo&&se.handleNewMediaInfo(ie)))},initialize:function(){N=[],V=[],W={},O(),B.on(f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,te,U)},reset:function(){[N,V].forEach((ie=>{ie&&ie.length&&ie.forEach((se=>se.reset&&se.reset()))})),N=[],V=[],W={},B.off(f.default.SETTING_UPDATED_ABR_ACTIVE_RULES,te,U)},setBolaState:function(ie,se){W[ie]=se},shouldAbandonFragment:function(ie){if(!ie)return(0,i.default)(S).create();const se=X(H(V.map((fe=>fe.shouldAbandon(ie)))));return se&&se.reason&&(se.reason.forceAbandon=!0),se||(0,i.default)(S).create()}},U}J.__dashjs_factory_name="ABRRulesCollection";const G=r.default.getClassFactory(J);r.default.updateSingletonFactory(J.__dashjs_factory_name,G);var P=G;class ${constructor(S){this.action=$.ACTION_DOWNLOAD,this.availabilityEndTime=null,this.availabilityStartTime=null,this.bandwidth=NaN,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.duration=NaN,this.endDate=null,this.firstByteDate=null,this.index=NaN,this.isPartialSegmentRequest=!1,this.mediaStartTime=NaN,this.mediaType=null,this.presentationStartTime=NaN,this.range=null,this.representation=null,this.responseType="arraybuffer",this.retryAttempts=0,this.serviceLocation=null,this.startDate=null,this.startTime=NaN,this.timescale=NaN,this.type=null,this.url=S||null,this.wallStartTime=null}isInitializationRequest(){return this.type&&this.type===w.HTTPRequest.INIT_SEGMENT_TYPE}setInfo(S){this.type=S&&S.init?w.HTTPRequest.INIT_SEGMENT_TYPE:w.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=S&&S.url?S.url:null,this.range=S&&S.range?S.range.start+"-"+S.range.end:null,this.mediaType=S&&S.mediaType?S.mediaType:null,this.representation=S&&S.representation?S.representation:null}}$.ACTION_DOWNLOAD="download",$.ACTION_COMPLETE="complete";var ae=$;const ne="loading",$e="executed",Qe="failed";function Ve(x){const S=(x=x||{}).eventBus,R=x.events,k=x.dashMetrics,D=x.fragmentLoader,L=x.debug,B=x.streamInfo,U=x.type;let N,V,W,O;function z(ee){return!!ee&&(function(Q){let M=!1;return Q.some((re=>{if(ye=ee,ue=re,!isNaN(ye.index)&&ye.startTime===ue.startTime&&ye.adaptationIndex===ue.adaptationIndex&&ye.type===ue.type||(function(ke,xe){return ke.representation.id===xe.representation.id})(ee,re)||(function(ke,xe){return ke.action===ae.ACTION_COMPLETE&&ke.action===xe.action})(ee,re))return M=!0,M;var ye,ue})),M})(W)}function H(ee){return isNaN(ee.duration)?.25:Math.min(ee.duration/8,.5)}function X(ee){W=W.filter((Q=>{const M=H(Q);return isNaN(Q.startTime)||ee!==void 0&&Q.startTime>=ee-M}))}function te(ee,Q){Q<=ee+.5||(W=W.filter((M=>{const re=H(M);return isNaN(M.startTime)||M.startTime>=Q-re||isNaN(M.duration)||M.startTime+M.duration<=ee+re})))}function ie(ee,Q,M){for(let re=ee.length-1;re>=0;re--){const ye=ee[re],ue=ye.startTime,ke=ue+ye.duration;if(M=isNaN(M)?H(ye):M,!isNaN(ue)&&!isNaN(ke)&&Q+M>=ue&&Q-M<ke||isNaN(ue)&&isNaN(Q))return ye}return null}function se(ee,Q){k.addSchedulingInfo(ee,Q),k.addRequestsQueue(ee.mediaType,O,W)}function fe(ee){ee.sender===D&&(O.splice(O.indexOf(ee.request),1),ee.response&&!ee.error&&W.push(ee.request),se(ee.request,ee.error?Qe:$e),S.trigger(R.FRAGMENT_LOADING_COMPLETED,{request:ee.request,response:ee.response,error:ee.error,sender:this},{streamId:B.id,mediaType:U}))}function me(ee){ee.sender===D&&S.trigger(R.FRAGMENT_LOADING_PROGRESS,{request:ee.request,response:ee.response,error:ee.error,sender:this},{streamId:B.id,mediaType:U})}function pe(ee){ee.sender===D&&S.trigger(R.FRAGMENT_LOADING_ABANDONED,{request:ee.request},{streamId:B.id,mediaType:U})}function _e(){W=[],O=[],D&&D.resetInitialSettings()}return N={abortRequests:function(){V.debug("abort requests"),D.abort(),O=[]},executeRequest:function(ee){ee.action===ae.ACTION_DOWNLOAD?(se(ee,ne),O.push(ee),(function(Q){S.trigger(R.FRAGMENT_LOADING_STARTED,{request:Q},{streamId:B.id,mediaType:U}),D.load(Q)})(ee)):V.warn("Unknown request action.")},getRequests:function(ee){const Q=ee?ee.state instanceof Array?ee.state:[ee.state]:[];let M=[];return Q.forEach((re=>{const ye=(function(ue){let ke;switch(ue){case ne:ke=O;break;case $e:ke=W;break;default:ke=[]}return ke})(re);M=M.concat((function(ue,ke){return ke.hasOwnProperty("time")?[ie(ue,ke.time,ke.threshold)]:ue.filter((xe=>{for(const Oe in ke)if(Oe!=="state"&&ke.hasOwnProperty(Oe)&&xe[Oe]!=ke[Oe])return!1;return!0}))})(ye,ee))})),M},getStreamId:function(){return B.id},getType:function(){return U},isFragmentLoaded:z,isFragmentLoadedOrPending:function(ee){let Q,M=!1,re=0;if(M=z(ee),!M)for(re=0;re<O.length;re++)Q=O[re],ee.url===Q.url&&ee.startTime===Q.startTime&&(M=!0);return M},removeExecutedRequestsAfterTime:function(ee){W=W.filter((Q=>isNaN(Q.startTime)||ee!==void 0&&Q.startTime<ee))},removeExecutedRequestsBeforeTime:X,reset:function(){S.off(R.LOADING_COMPLETED,fe,this),S.off(R.LOADING_DATA_PROGRESS,me,this),S.off(R.LOADING_ABANDONED,pe,this),D&&D.reset(),_e()},resetInitialSettings:_e,syncExecutedRequestsWithBufferedRange:function(ee,Q){if(!ee||ee.length===0)return void X();let M=0;for(let re=0,ye=ee.length;re<ye;re++)te(M,ee.start(re)),M=ee.end(re);Q>0&&te(M,Q)}},V=L.getLogger(N),_e(),S.on(R.LOADING_COMPLETED,fe,N),S.on(R.LOADING_DATA_PROGRESS,me,N),S.on(R.LOADING_ABANDONED,pe,N),N}Ve.__dashjs_factory_name="FragmentModel";const We=r.default.getClassFactory(Ve);We.FRAGMENT_MODEL_LOADING=ne,We.FRAGMENT_MODEL_EXECUTED=$e,We.FRAGMENT_MODEL_CANCELED="canceled",We.FRAGMENT_MODEL_FAILED=Qe,r.default.updateClassFactory(Ve.__dashjs_factory_name,We);var Ke=We;function Je(x){let S;const R=(x=x||{}).abrController,k=x.throughputController,D=x.switchRequestHistory,L=x.droppedFramesHistory,B=x.currentRequest,U=x.streamProcessor?x.streamProcessor.getScheduleController():null,N=x.streamProcessor?x.streamProcessor.getRepresentation():null,V=x.videoModel?x.videoModel:null;function W(){return N?N.mediaInfo:null}return S={getAbrController:function(){return R},getCurrentRequest:function(){return B},getDroppedFramesHistory:function(){return L},getMediaInfo:W,getMediaType:function(){const O=W();return O?O.type:null},getRepresentation:function(){return N},getScheduleController:function(){return U},getStreamInfo:function(){const O=W();return O?O.streamInfo:null},getSwitchRequestHistory:function(){return D},getThroughputController:function(){return k},getVideoModel:function(){return V}},S}Je.__dashjs_factory_name="RulesContext";var ft=r.default.getClassFactory(Je);function nt(){let x={},S={};const R=this.context,k=(0,u.default)(R).getInstance();return{clearForStream:function(D){delete x[D],delete S[D]},getSwitchRequests:function(D,L){return D!=null&&L!=null&&x[D]&&x[D][L]?x[D][L]:{}},push:function(D){const L=D.currentRepresentation,B=D.newRepresentation;if(L.mediaInfo.streamInfo.id!==B.mediaInfo.streamInfo.id||B.mediaInfo.id!==L.mediaInfo.id)return;const U=L.mediaInfo.streamInfo.id;x[U]||(function(te){x[te]={},S[te]={}})(U);const N=L.mediaInfo.type;x[U][N]||(function(te,ie){x[te][ie]={},S[te][ie]=[]})(U,N);const V=D.currentRepresentation.id;x[U][N][V]||(function(te,ie,se){x[te][ie][se]={noDrops:0,drops:0,dropSize:0}})(U,N,V);let W=D.newRepresentation.absoluteIndex-D.currentRepresentation.absoluteIndex,O=W<0?1:0,z=O?-W:0,H=O?0:1;x[U][N][D.currentRepresentation.id].drops+=O,x[U][N][D.currentRepresentation.id].dropSize+=z,x[U][N][D.currentRepresentation.id].noDrops+=H,S[U][N].push({id:D.currentRepresentation.id,noDrop:H,drop:O,dropSize:z});const X=(function(te,ie){return S[te][ie].length>k.get().streaming.abr.rules.switchHistoryRule.parameters.sampleSize?S[te][ie].shift():null})(U,N);X&&(function(te,ie,se){x[te][ie][se.id].drops-=se.drop,x[te][ie][se.id].dropSize-=se.dropSize,x[te][ie][se.id].noDrops-=se.noDrop})(U,N,X)},reset:function(){x={},S={}}}}nt.__dashjs_factory_name="SwitchRequestHistory";var bt=r.default.getClassFactory(nt);function tn(){let x={},S={},R={};return{clearForStream:function(k){delete x[k],delete S[k],delete R[k]},getFrameHistory:function(k){return x[k]},push:function(k,D,L){if(!D)return;x[k]||(function(O){x[O]=[],S[O]=0,R[O]=0})(k);let B=L&&L.droppedVideoFrames?L.droppedVideoFrames:0,U=L&&L.totalVideoFrames?L.totalVideoFrames:0,N=B-S[k];S[k]=B;let V=U-R[k];R[k]=U;const W=x[k];W[D]?(W[D].droppedVideoFrames+=N,W[D].totalVideoFrames+=V):W[D]={droppedVideoFrames:N,totalVideoFrames:V}},reset:function(){x={},S={},R={}}}}tn.__dashjs_factory_name="DroppedFramesHistory";var zt=r.default.getClassFactory(tn);function Wt(){const x=this.context,S=(0,l.default)(x).getInstance(),R=(0,h.default)(x).getInstance();let k,D,L,B,U,N,V,W,O,z,H,X,te,ie,se,fe,me,pe,_e,ee,Q;function M(){k={},pe={},se=new Map,H&&H.reset(),_e&&_e.reset(),V=void 0,H=void 0,_e=void 0,clearTimeout(D),D=null}function re(Y,ce=!0){let oe=ye(Y,ce);return oe=(function(Ae){try{return(function(Se){try{if(!fe.get().streaming.cmsd.enabled||!fe.get().streaming.cmsd.abr.applyMb)return Se;const De=Se.filter((ze=>{const Ue=ze.mediaInfo.type;let tt=N.getMaxBitrate(Ue);if(Ue!==p.default.VIDEO||tt<0)return!0;const gt=ze.mediaInfo.streamInfo.id;return tt-=pe[gt][p.default.AUDIO].getRepresentation().bitrateInKbit||0,ze.bitrateInKbit<=tt}));return De.length>0?De:Se}catch(De){return te.error(De),Se}})(Ae=(function(Se){try{if(!fe.get().streaming.abr.limitBitrateByPortal)return Se;const{elementWidth:De}=Q.getVideoElementSize(),ze=Se.filter((Ue=>Ue.mediaInfo.type!==p.default.VIDEO||Ue.width<=De));return ze.length>0?ze:Se}catch(De){return te.error(De),Se}})(Ae=(function(Se){try{const De=Se.filter((ze=>{const Ue=ze.mediaInfo.type,tt=ze.bitrateInKbit,gt=ie.getAbrBitrateParameter("maxBitrate",Ue),kt=ie.getAbrBitrateParameter("minBitrate",Ue);return!(gt>-1&&tt>gt||kt>-1&&tt<kt)}));return De.length>0?De:Se}catch(De){return te.error(De),Se}})(Ae)))}catch(Se){return te.error(Se),Ae}})(oe),oe}function ye(Y,ce){let oe=[];return Y&&((function(Se){try{const De=[];if(Se&&De.push(Se),!fe.get().streaming.abr.enableSupplementalPropertyAdaptationSetSwitching||!Se.adaptationSetSwitchingCompatibleIds||Se.adaptationSetSwitchingCompatibleIds.length===0)return De;const ze=pe[Se.streamInfo.id][Se.type].getAllMediaInfos().filter((Ue=>Se.adaptationSetSwitchingCompatibleIds.includes(Ue.id)));return De.concat(ze)}catch{return[Se]}})(Y).forEach((Se=>{let De=B.getVoRepresentations(Se);De&&De.length>0&&(oe=oe.concat(De))})),oe=(function(Se){return Se.forEach((De=>{if(De.dependentRepresentation&&De.dependentRepresentation.mediaInfo===null){let ze=De.dependentRepresentation.id,Ue=Se.find((tt=>tt.id===ze));Ue&&(De.dependentRepresentation=Ue)}})),Se})(oe),oe=(function(Se){return Se=(function(De){let ze=null;return De.filter((Ue=>(ze||(ze=Ue.mediaInfo),!isNaN(Ue.qualityRanking)&&B.areMediaInfosEqual(ze,Ue.mediaInfo)))).length===De.length})(Se)?(function(De){return De.sort(((ze,Ue)=>Ue.qualityRanking-ze.qualityRanking)),De})(Se):(function(De){return De.sort(((ze,Ue)=>B.areMediaInfosEqual(ze.mediaInfo,Ue.mediaInfo)?isNaN(ze.pixelsPerSecond)||isNaN(Ue.pixelsPerSecond)||ze.pixelsPerSecond===Ue.pixelsPerSecond?ze.bandwidth-Ue.bandwidth:ze.pixelsPerSecond-Ue.pixelsPerSecond:isNaN(ze.pixelsPerSecond)||isNaN(Ue.pixelsPerSecond)||ze.pixelsPerSecond===Ue.pixelsPerSecond?isNaN(ze.bitsPerPixel)||isNaN(Ue.bitsPerPixel)?ze.bandwidth-Ue.bandwidth:Ue.bitsPerPixel-ze.bitsPerPixel:ze.pixelsPerSecond-Ue.pixelsPerSecond)),De})(Se)})(oe),oe.forEach(((Se,De)=>{Se.absoluteIndex=De})),oe=oe.filter((Se=>{const De=!!ce||B.areMediaInfosEqual(Se.mediaInfo,Y),ze=!Se||!Se.mediaInfo||U.areKeyIdsUsable(Se.mediaInfo);return De&&ze}))),oe}function ue(Y){const ce=Y.request.mediaType,oe=Y.streamId;if(!(ce&&oe&&pe[oe]&&fe.get().streaming.abr.autoSwitchBitrate[ce]))return;const Ae=pe[oe][ce];if(!Ae)return;var Se;if(!(!((Se=Ae.getLastSegment())&&Se.isPartialSegment&&!isNaN(Se.totalNumberOfPartialSegments)&&!isNaN(Se.replacementSubNumber))||Se.replacementSubNumber===0))return;const De=ke(Ae,Y.request),ze=L.shouldAbandonFragment(De);ze&&ze.representation!==i.default.NO_CHANGE&&(function(Ue,tt,gt,kt,Mt){if(kt.getFragmentModel().getRequests({state:Ke.FRAGMENT_MODEL_LOADING,index:Ue.request.index})[0]){const un=(function(St,Zt){return k[St]&&k[St][Zt]?k[St][Zt]:null})(tt,gt);un&&(un.state=o.ABANDON_LOAD),_e.reset(),Z(gt,me.getActiveStreamInfo(),Mt.representation,Mt.reason),clearTimeout(D),D=setTimeout((()=>{un&&(k[tt][gt].state=o.ALLOW_LOAD),D=null}),fe.get().streaming.abandonLoadTimeout)}})(Y,oe,ce,Ae,ze)}function ke(Y,ce){return ft(x).create({abrController:X,adapter:B,currentRequest:ce,droppedFramesHistory:H,streamProcessor:Y,switchRequestHistory:_e,throughputController:ee,videoModel:Q})}function xe(Y){Y.mediaType===p.default.VIDEO&&(Ne(Y.streamId),V=Y.newRepresentation.id)}function Oe(Y){!de()||Y.metric!==o.BUFFER_LEVEL||Y.mediaType!==p.default.AUDIO&&Y.mediaType!==p.default.VIDEO||(function(ce,oe){try{const Ae=ie.getBufferTimeDefault(),Se=Ae,De=.5*Ae,ze=L.getBolaState(ce),Ue=oe>=(ze?De:Se);L.setBolaState(ce,Ue),Ue!==ze&&(Ue?te.info("["+ce+"] switching from throughput to buffer occupancy ABR rule (buffer: "+oe.toFixed(3)+")."):te.info("["+ce+"] switching from buffer occupancy to throughput ABR rule (buffer: "+oe.toFixed(3)+")."))}catch(Ae){te.error(Ae)}})(Y.mediaType,.001*Y.value.level)}function Ge(Y,ce){return!(Y&&Y.isPartialSegment&&!isNaN(Y.totalNumberOfPartialSegments)&&!isNaN(Y.replacementSubNumber))||Y.replacementSubNumber===Y.totalNumberOfPartialSegments-1||(function(oe,Ae){if(!Ae||!Ae.segmentSequenceProperties||Ae.segmentSequenceProperties.length<=0||Ae&&Ae.mediaInfo&&Ae.mediaInfo.adaptationSetSwitchingCompatibleIds&&Ae.mediaInfo.adaptationSetSwitchingCompatibleIds.length>0)return!1;const Se=Ae.segmentSequenceProperties.filter((ze=>!isNaN(ze.sapType)&&ze.sapType<=1));if(Se.length===0)return!1;let De=(oe.replacementSubNumber+1)%oe.totalNumberOfPartialSegments;return Se.some((ze=>De%ze.cadence==0))})(Y,ce)}function Ne(Y){if(H){const ce=Q.getPlaybackQuality();ce&&H.push(Y,V,ce)}}function Z(Y,ce,oe,Ae={}){if(!(ce&&ce.id&&Y&&pe&&pe[ce.id]&&pe[ce.id][Y]&&oe))return!1;const Se=pe[ce.id][Y],De=Se.getRepresentationController()?.getCurrentCompositeRepresentation();return(!De||oe.id!==De.id)&&ve(Y,De,oe,Ae)}function le(Y,ce){return`${Y}-${ce}`}function ve(Y,ce,oe,Ae){const Se=oe.mediaInfo.streamInfo.id;if(!Y||!pe[Se]||!pe[Se][Y])return!1;const De=pe[Se][Y].getStreamInfo(),ze=O.getCurrentBufferLevel(Y),Ue=ce!==null&&!B.areMediaInfosEqual(ce.mediaInfo,oe.mediaInfo),tt=ce?ce.bitrateInKbit:0;return te.info(`[AbrController]: Switching quality in period ${Se} for media type ${Y}. Switch from bitrate ${tt} to bitrate ${oe.bitrateInKbit}. Current buffer level: ${ze}. Reason:`+(Ae?JSON.stringify(Ae):"/")),R.trigger(m.default.QUALITY_CHANGE_REQUESTED,{isAdaptationSetSwitch:Ue,mediaType:Y,newRepresentation:oe,oldRepresentation:ce,reason:Ae,streamInfo:De},{streamId:De.id,mediaType:Y}),(function(gt){const kt=ee.getAverageThroughput(gt);isNaN(kt)||z.setSavedBitrateSettings(gt,kt)})(Y),!0}function de(){return fe.get().streaming.abr.rules.bolaRule.active&&fe.get().streaming.abr.rules.throughputRule.active}return X={canPerformQualitySwitch:Ge,checkPlaybackQuality:function(Y,ce){try{if(!(Y&&pe&&pe[ce]&&pe[ce][Y]))return!1;Ne(ce);const oe=pe[ce][Y],Ae=oe.getLastSegment(),Se=oe.getRepresentationController()?.getCurrentCompositeRepresentation(),De=Ge(Ae,Se);if(!fe.get().streaming.abr.autoSwitchBitrate[Y]||!De)return!1;const ze=ke(oe),Ue=L.getBestPossibleSwitchRequest(ze);if(!Ue||!Ue.representation)return!1;let tt=Ue.representation;return(function(gt,kt){_e.push({currentRepresentation:gt,newRepresentation:kt})})(Se,tt),tt.id!==Se.id&&(k[ce][Y].state===o.ALLOW_LOAD||tt.absoluteIndex<Se.absoluteIndex)&&(ve(Y,Se,tt,Ue.reason),!0)}catch(oe){return te.error(oe),!1}},clearDataForStream:function(Y){H&&H.clearForStream(Y),pe[Y]&&delete pe[Y],_e&&_e.clearForStream(Y),k[Y]&&delete k[Y],L.clearDataForStream(Y)},getAbandonmentStateFor:function(Y,ce){return k[Y]&&k[Y][ce]?k[Y][ce].state:null},getInitialBitrateFor:function(Y){if(Y===p.default.TEXT)return NaN;let ce=ie.getAbrBitrateParameter("initialBitrate",Y);if(ce>0)return ce;let oe=NaN;if(z&&z.hasOwnProperty("getSavedBitrateSettings")&&(oe=z.getSavedBitrateSettings(Y)),!isNaN(oe))return oe;const Ae=ee.getAverageThroughput(Y);return!isNaN(Ae)&&Ae>0?Ae:Y===p.default.VIDEO?1e3:100},getOptimalRepresentationForBitrate:function(Y,ce,oe=!0){const Ae=re(Y,oe);if(!Ae||Ae.length===0)return null;const Se=Ae.reduce(((ze,Ue)=>ze.bandwidth<Ue.bandwidth?ze:Ue));if(ce<=0)return Se;const De=Ae.filter((ze=>ze.bitrateInKbit<=ce));return De&&De.length!==0?De.reduce(((ze,Ue)=>Ue.absoluteIndex>ze.absoluteIndex?Ue:ze)):Se},getPossibleVoRepresentations:function(Y,ce=!0){return ye(Y,ce)},getPossibleVoRepresentationsFilteredBySettings:re,getRepresentationByAbsoluteIndex:function(Y,ce,oe=!0){return isNaN(Y)||Y<0?null:re(ce,oe).find((Ae=>Ae.absoluteIndex===Y))},handleNewMediaInfo:function(Y){L.handleNewMediaInfo(Y)},handlePendingManualQualitySwitch:function(Y,ce){try{const oe=le(Y,ce);let Ae=null;if(se.has(oe)&&(Ae=se.get(oe)),!Ae)return!1;const Se=pe[Y][ce],De=Se.getLastSegment();if(!Ge(De,Se.getRepresentation()))return!1;const{type:ze,streamInfo:Ue,representation:tt,reason:gt}=Ae;return se.delete(oe),Z(ze,Ue,tt,gt),!0}catch(oe){te.error(`Can not handle pending manual quality switch: ${oe}`)}},initialize:function(){H=zt(x).create(),_e=bt(x).create(),L=P(x).create({dashMetrics:O,customParametersModel:W,mediaPlayerModel:ie,settings:fe}),L.initialize(),R.on(m.default.QUALITY_CHANGE_RENDERED,xe,X),R.on(m.default.METRIC_ADDED,Oe,X),R.on(f.default.LOADING_PROGRESS,ue,X)},isPlayingAtLowestQuality:function(Y){return re(Y.mediaInfo,!0)[0].id===Y.id},isPlayingAtTopQuality:function(Y){if(!Y)return!0;const ce=re(Y.mediaInfo,!0);return ce[ce.length-1].id===Y.id},manuallySetPlaybackQuality:function(Y,ce,oe,Ae={}){const Se=pe[ce.id][Y];if(Ge(Se.getLastSegment(),Se.getRepresentation()))return Z(Y,ce,oe,Ae);(function(De,ze,Ue,tt){try{te.debug(`[AbrController] Queuing manual quality switch for stream ${ze.id} and type ${De} to representation ${Ue.id}`);const gt=le(ze.id,De);se.set(gt,{type:De,streamInfo:ze,representation:Ue,reason:tt})}catch(gt){te.error(`Can not queue manual quality switch: ${gt}`)}})(Y,ce,oe,Ae)},registerStreamType:function(Y,ce){const oe=ce.getStreamInfo().id;pe[oe]||(pe[oe]={}),pe[oe][Y]=ce,k[oe]||(k[oe]={}),k[oe][Y]={},k[oe][Y].state=o.ALLOW_LOAD,L.getBolaState(Y)===void 0&&L.setBolaState(Y,fe.get().streaming.abr.rules.bolaRule.active&&!de())},reset:function(){M(),R.off(m.default.QUALITY_CHANGE_RENDERED,xe,X),R.off(m.default.METRIC_ADDED,Oe,X),R.off(f.default.LOADING_PROGRESS,ue,X),L&&L.reset()},setConfig:function(Y){Y&&(Y.streamController&&(me=Y.streamController),Y.throughputController&&(ee=Y.throughputController),Y.domStorage&&(z=Y.domStorage),Y.mediaPlayerModel&&(ie=Y.mediaPlayerModel),Y.customParametersModel&&(W=Y.customParametersModel),Y.cmsdModel&&(N=Y.cmsdModel),Y.dashMetrics&&(O=Y.dashMetrics),Y.adapter&&(B=Y.adapter),Y.videoModel&&(Q=Y.videoModel),Y.settings&&(fe=Y.settings),Y.capabilities&&(U=Y.capabilities))},setPlaybackQuality:Z,setWindowResizeEventCalled:function(Y){},unRegisterStreamType:function(Y,ce){try{pe[Y]&&pe[Y][ce]&&delete pe[Y][ce],k[Y]&&k[Y][ce]&&delete k[Y][ce]}catch{}}},te=S.getLogger(X),M(),X}Wt.__dashjs_factory_name="AbrController";const Ze=r.default.getSingletonFactory(Wt);r.default.updateSingletonFactory(Wt.__dashjs_factory_name,Ze);var At,mn,xn,Nn,Yn,Tr=Ze,_t=function(x){for(var S=[],R=0;R<x.length;++R){var k=x.charCodeAt(R);k<128?S.push(k):k<2048?(S.push(192|k>>6),S.push(128|63&k)):k<65536?(S.push(224|k>>12),S.push(128|63&k>>6),S.push(128|63&k)):(S.push(240|k>>18),S.push(128|63&k>>12),S.push(128|63&k>>6),S.push(128|63&k))}return S},It=function(x){for(var S=[],R=0;R<x.length;){var k=x[R++];k<128||(k<224?(k=(31&k)<<6,k|=63&x[R++]):k<240?(k=(15&k)<<12,k|=(63&x[R++])<<6,k|=63&x[R++]):(k=(7&k)<<18,k|=(63&x[R++])<<12,k|=(63&x[R++])<<6,k|=63&x[R++])),S.push(String.fromCharCode(k))}return S.join("")},mt={};At="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mn=function(x){for(var S=0,R=[],k=0|x.length/3;0<k--;){var D=(x[S]<<16)+(x[S+1]<<8)+x[S+2];S+=3,R.push(At.charAt(63&D>>18)),R.push(At.charAt(63&D>>12)),R.push(At.charAt(63&D>>6)),R.push(At.charAt(63&D))}return x.length-S==2?(D=(x[S]<<16)+(x[S+1]<<8),R.push(At.charAt(63&D>>18)),R.push(At.charAt(63&D>>12)),R.push(At.charAt(63&D>>6)),R.push("=")):x.length-S==1&&(D=x[S]<<16,R.push(At.charAt(63&D>>18)),R.push(At.charAt(63&D>>12)),R.push("==")),R.join("")},xn=(function(){for(var x=[],S=0;S<64;++S)x[At.charCodeAt(S)]=S;return x[61]=0,x})(),Nn=function(x){for(var S=0,R=[],k=0|x.length/4;0<k--;){var D=(xn[x.charCodeAt(S)]<<18)+(xn[x.charCodeAt(S+1)]<<12)+(xn[x.charCodeAt(S+2)]<<6)+xn[x.charCodeAt(S+3)];R.push(255&D>>16),R.push(255&D>>8),R.push(255&D),S+=4}return R&&(x.charAt(S-2)=="="?(R.pop(),R.pop()):x.charAt(S-1)=="="&&R.pop()),R},Yn={encode:function(x){for(var S=[],R=0;R<x.length;++R)S.push(x.charCodeAt(R));return S},decode:function(x){for(var S=0;S<s.length;++S)a[S]=String.fromCharCode(a[S]);return a.join("")}},mt.decodeArray=function(x){var S=Nn(x);return new Uint8Array(S)},mt.encodeASCII=function(x){var S=Yn.encode(x);return mn(S)},mt.decodeASCII=function(x){var S=Nn(x);return Yn.decode(S)},mt.encode=function(x){var S=_t(x);return mn(S)},mt.decode=function(x){var S=Nn(x);return It(S)},typeof exports<"u"&&(exports.decode=mt.decode,exports.decodeArray=mt.decodeArray,exports.encode=mt.encode,exports.encodeASCII=mt.encodeASCII);var ht=mt,Vt=n(7393);const $t=NaN;class rn{constructor(S,R){this.data={baseUrls:S||null,selectedIdx:R||$t},this.children=[]}}function hn(){let x,S,R,k;const D=this.context,L=(0,Vt.default)(D).getInstance();function B(W,O,z){const H=U(z);W[O]?L.areEqual(H,W[O].data.baseUrls)||(W[O].data.baseUrls=H,W[O].data.selectedIdx=$t):W[O]=new rn(H)}function U(W){let O=R.getBaseURLsFromElement(W);const z=k.getSynthesizedBaseUrlElements(O);return z&&z.length>0&&z.forEach((H=>{const X=O.findIndex((te=>te.serviceLocation===H.serviceLocation));X!==-1?O[X]=H:O.push(H)})),O}function N(W,O){const z=O||S;W(z.data),z.children&&z.children.forEach((H=>N(W,H)))}function V(){S=new rn}return x={reset:V,update:function(W){(function(O){(function(){if(!R||!R.hasOwnProperty("getBaseURLsFromElement")||!R.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();const z=U(O);L.areEqual(z,S.data.baseUrls)||(S.data.baseUrls=z,S.data.selectedIdx=$t),O&&O.Period&&O.Period.forEach(((H,X)=>{B(S.children,X,H),H.AdaptationSet&&H.AdaptationSet.forEach(((te,ie)=>{B(S.children[X].children,ie,te),te.Representation&&te.Representation.sort(R.getRepresentationSortFunction()).forEach(((se,fe)=>{B(S.children[X].children[ie].children,fe,se)}))}))}))})(W)},getForPath:function(W){let O=S;const z=[O.data];return W&&W.forEach((H=>{O=O.children[H],O&&z.push(O.data)})),z.filter((H=>H.baseUrls.length))},invalidateSelectedIndexes:function(W){N((O=>{isNaN(O.selectedIdx)||W===O.baseUrls[O.selectedIdx].serviceLocation&&(O.selectedIdx=$t)}))},setConfig:function(W){W.adapter&&(R=W.adapter),W.contentSteeringController&&(k=W.contentSteeringController)},getBaseUrls:function(W){return U(W)}},V(),x}hn.__dashjs_factory_name="BaseURLTreeModel";var Ot=r.default.getClassFactory(hn),qt=n(8748);class en extends qt.default{constructor(){super(),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.NO_SUPPORTED_KEY_IDS=36,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",this.NO_SUPPORTED_KEY_IDS_MESSAGE="All possible Adaptation Sets have an invalid key status"}}var fn=new en;function Kt(x){let S;x=x||{};let R=[];const k=(0,h.default)(this.context).getInstance(),D=x.updateEventName,L=x.addBlacklistEventName;function B(N){R.indexOf(N)===-1&&(R.push(N),k.trigger(D,{entry:N}))}function U(N){B(N.entry)}return S={add:B,remove:function(N){const V=R.indexOf(N);V!==-1&&R.splice(V,1)},contains:function(N){return!!(R.length&&N&&N.length)&&R.indexOf(N)!==-1},reset:function(){L&&k.off(L,U,S),R=[]}},L&&k.on(L,U,S),S}Kt.__dashjs_factory_name="BlackListController";var pn=r.default.getClassFactory(Kt);function Hn(x){let S;const R=(x=x||{}).blacklistController;return S={select:function(k){return k&&(function(D){let L,B,U=0,N=[],V=0;if(B=D.sort((function(W,O){let z=W.dvbPriority-O.dvbPriority;return isNaN(z)?0:z})).filter((function(W,O,z){return!O||z[0].dvbPriority&&W.dvbPriority&&z[0].dvbPriority===W.dvbPriority})),B.length)return B.length>1&&(B.forEach((W=>{U+=W.dvbWeight,N.push(U)})),L=Math.floor(Math.random()*(U-1)),N.every(((W,O)=>(V=O,!(L<W))))),B[V]})((function(D){let L=[];return D.filter((function(B){return!R.contains(B.serviceLocation)||(B.dvbPriority&&L.push(B.dvbPriority),!1)})).filter((function(B){return!L.length||!B.dvbPriority||L.indexOf(B.dvbPriority)===-1}))})(k))}},S}Hn.__dashjs_factory_name="DVBSelector";var Fn=r.default.getClassFactory(Hn);function Un(x){let S;const R=(x=x||{}).blacklistController;return S={select:function(k){let D,L=0;return k&&k.some(((B,U)=>(L=U,!R.contains(B.serviceLocation))))&&(D=k[L]),D}},S}Un.__dashjs_factory_name="BasicSelector";var hr=r.default.getClassFactory(Un),an=n(1944),wt=n(656),ot=n(7263);function Yt(){let x,S;function R(){S&&(S.onloadend=S.onerror=S.onprogress=S.onload=null,S.abort(),S=null)}return x={load:function(k,D){if(S=null,S=new XMLHttpRequest,S.open(k.method,k.url,!0),k.responseType&&(S.responseType=k.responseType),k.headers)for(let L in k.headers){let B=k.headers[L];B&&S.setRequestHeader(L,B)}return S.withCredentials=k.credentials==="include",S.timeout=k.timeout,S.onload=function(){D.url=this.responseURL,D.status=this.status,D.statusText=this.statusText,D.headers=ot.default.parseHttpHeaders(this.getAllResponseHeaders()),D.data=this.response},k.customData&&(S.onloadend=k.customData.onloadend,S.onprogress=k.customData.onprogress,S.onabort=k.customData.onabort,S.ontimeout=k.customData.ontimeout),S.send(),k.customData.abort=R.bind(this),!0},abort:R,getXhr:function(){return S},reset:function(){R(),x=null},resetInitialSettings:function(){R()}},x}Yt.__dashjs_factory_name="XHRLoader";var dn=r.default.getClassFactory(Yt);function qn(){const x=this.context,S=(0,u.default)(x).getInstance();let R,k,D;function L(O,z,H){O.customData.reader.read().then(H).catch((function(){B(O)}))}function B(O){O.customData.onloadend&&O.customData.onloadend()}function U(){return typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now()}function N(){if(this.customData.abortController)this.customData.abortController.abort();else if(this.customData.reader)try{this.customData.reader.cancel(),this.onabort()}catch{}}function V(O,z){try{if((O=O.filter((H=>H.bytes>z/4/O.length))).length>1){let H=0;const X=(O[O.length-1].timestamp-O[0].timestamp)/O.length;return O.forEach(((te,ie)=>{const se=O[ie+1];if(se){const fe=se.timestamp-te.timestamp;H+=fe<X?fe:0}})),H}return null}catch{return null}}function W(O,z){return 8*O/z}return D=(0,l.default)(x).getInstance().getLogger(R),R={abort:N,calculateDownloadedTime:V,load:function(O,z){const H=(function(ie){const se=new Headers;if(ie.headers)for(let fe in ie.headers){let me=ie.headers[fe];me&&se.append(fe,me)}return se})(O),X=(function(ie){let se;return typeof window.AbortController=="function"&&(se=new AbortController,ie.customData.abortController=se,se.signal.onabort=ie.customData.onabort),ie.customData.abort=N.bind(ie),se})(O),te=(function(ie,se,fe){return new Request(ie.url,{method:ie.method,headers:se,credentials:ie.credentials,signal:fe?fe.signal:void 0})})(O,H,X);fetch(te).then((ie=>{(function(se,fe,me){(function(Oe,Ge){Oe.status=Ge.status,Oe.statusText=Ge.statusText,Oe.url=Ge.url;const Ne={};for(const Z of Ge.headers.keys())Ne[Z]=Ge.headers.get(Z);Oe.headers=Ne})(me,se),se.ok||fe.customData.onloadend();let pe=0,_e=!1,ee=new Uint8Array,Q=0;fe.customData.reader=se.body.getReader();let M=[],re=[],ye=[],ue=!0;const ke=S.get().streaming.abr.throughput.lowLatencyDownloadTimeCalculationMode,xe=({value:Oe,done:Ge})=>{Ge?(function(){if(ee){const Ne=(function(){let Z=null;return ke===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING?Z=(function(){const le=(function(ve,de){try{let Y,ce;if(Y=ve.slice(0,-1),ce=de.slice(0,-1),Y.length!==ce.length&&D.warn(`[FetchLoader] Moof and Mdat data arrays have different lengths. Moof: ${Y.length}, Mdat: ${ce.length}`),Y.length<=1)return null;let oe=[],Ae=0,Se=0;for(let De=0;De<Y.length;De++)if(Y[De]&&ce[De]){let ze=ce[De].timestamp-Y[De].timestamp;if(ze>1){const Ue=W(ce[De].bytes,ze);oe.push(Ue),Se=0}else{Se===0&&(Se=Y[De].timestamp,Ae=0);let Ue=ce[De].timestamp-Se;if(Ue>1){Ae+=ce[De].bytes;const tt=W(Ae,Ue);oe.push(tt),Se=0}else Ae+=ce[De].bytes}}return oe.length>0?oe.reduce(((De,ze)=>De+ze),0)/oe.length:null}catch{return null}})(re,ye);return le?8*pe/le:null})():ke===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.DOWNLOADED_DATA&&(Z=V(M,pe)),Z})();fe.customData.onprogress({loaded:pe,total:pe,lengthComputable:!0,time:Ne}),me.data=ee.buffer}fe.customData.onloadend()})():(Oe&&Oe.length>0&&(function(Ne){ee=(function(le,ve){if(le.length===0)return ve;const de=new Uint8Array(le.length+ve.length);return de.set(le),de.set(ve,le.length),de})(ee,Ne),pe+=Ne.length,M.push({timestamp:U(),bytes:Ne.length}),ke===p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING&&ue&&k.findLastTopIsoBoxCompleted(["moof"],ee,Q).found&&(ue=!1,re.push({timestamp:U()}));const Z=k.findLastTopIsoBoxCompleted(["moov","mdat"],ee,Q);Z.found?(function(le){const ve=(function(de){let Y;return de===ee.length?(Y=ee,ee=new Uint8Array):(Y=new Uint8Array(ee.subarray(0,de)),ee=ee.subarray(de)),Y})(le.startOffsetOfLastFoundTargetBox+le.sizeOfLastFoundTargetBox);ke!==p.default.LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE.MOOF_PARSING||ue||(ue=!0,ye.push({timestamp:U(),bytes:ve.length})),fe.customData.onprogress({data:ve.buffer,lengthComputable:!1,noTrace:!0}),Q=0})(Z):(function(le){Q=le.startOffsetOfLastCompletedBox+le.sizeOfLastCompletedBox,_e||(fe.customData.onprogress({lengthComputable:!1,noTrace:!0}),_e=!0)})(Z)})(Oe),L(fe,0,xe))};L(fe,0,xe)})(ie,O,z)})).catch((()=>{B(O)}))},reset:function(){},setConfig:function(O){k=O.boxParser}},R}qn.__dashjs_factory_name="FetchLoader";var mr=r.default.getClassFactory(qn),Ir=n(913),Ai=class{constructor(){this.period=null,this.index=-1,this.id=null,this.type=null}};class br{constructor(S,R,k,D){this.url=S||"",this.serviceLocation=R||S||"",this.dvbPriority=k||1,this.dvbWeight=D||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0,this.queryParams={}}}br.DEFAULT_DVB_PRIORITY=1,br.DEFAULT_DVB_WEIGHT=1;var ci=br,Re=n(8854),Ii=class{constructor(){this.schemeIdUri=null,this.value=null,this.id=null}init(x){x&&(this.schemeIdUri=x.schemeIdUri?x.schemeIdUri:null,this.value=x.value!==null&&x.value!==void 0?x.value.toString():null,this.id=x.id?x.id:null,x[Re.default.DVB_URL]&&(this.dvbUrl=x[Re.default.DVB_URL]),x[Re.default.DVB_MIMETYPE]&&(this.dvbMimeType=x[Re.default.DVB_MIMETYPE]),x[Re.default.DVB_FONTFAMILY]&&(this.dvbFontFamily=x[Re.default.DVB_FONTFAMILY]))}inArray(x){return!!x&&x.some((S=>this.schemeIdUri===S.schemeIdUri&&(this.value?this.value.toString().match(S.value):"".match(S.value))))}},Ua=class extends Ii{constructor(){super(),this.version=null,this.sessionID=null,this.contentID=null,this.mode=null,this.keys=null,this.includeInRequests=null}init(x){super.init(x),x&&(this.version=x.version,this.sessionID=x.sessionID,this.contentID=x.contentID,this.mode=x.mode??"query",this.keys=x.keys?x.keys.split(" "):null,this.includeInRequests=x.includeInRequests?x.includeInRequests.split(" "):["segment"],this.schemeIdUri=x.schemeIdUri)}},mo=class{constructor(){this.adaptationSets=null,this.adaptationSetsArray=[],this.cmcdParameters=null,this.serviceLocations=null,this.serviceLocationsArray=[]}},Rn=class extends Ii{constructor(){super(),this.ref=null,this.refId=null,this.robustness=null,this.keyId=null,this.cencDefaultKid=null,this.pssh=null,this.pro=null,this.laUrl=null}init(x){super.init(x),x&&(this.ref=x.hasOwnProperty(Re.default.REF)?x[Re.default.REF]:null,this.refId=x.hasOwnProperty(Re.default.REF_ID)?x[Re.default.REF_ID]:null,this.robustness=x.hasOwnProperty(Re.default.ROBUSTNESS)?x[Re.default.ROBUSTNESS]:null,this.cencDefaultKid=x.hasOwnProperty(Re.default.CENC_DEFAULT_KID)?x[Re.default.CENC_DEFAULT_KID]:null,this.pssh=x.hasOwnProperty(Re.default.PSSH)?x[Re.default.PSSH]:null,this.pro=x.hasOwnProperty(Re.default.PRO)?x[Re.default.PRO]:null,this.laUrl=x.hasOwnProperty(Re.default.LA_URL)?x[Re.default.LA_URL]:x.hasOwnProperty(Re.default.LA_URL_LOWER_CASE)?x[Re.default.LA_URL_LOWER_CASE]:null)}mergeAttributesFromReference(x){["schemeIdUri","value","id","robustness","cencDefaultKid","pro","pssh","laUrl"].forEach((S=>{this[S]===null&&(this[S]=x[S])}))}},at=class{constructor(){this.defaultServiceLocation=null,this.defaultServiceLocationArray=[],this.queryBeforeStart=!1,this.serverUrl=null,this.clientRequirement=!0}},ln=class{constructor(){this.type="",this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN,this.parsedMessageData=null}},Bn=class{constructor(){this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0}},Vr=class{constructor(){this.availabilityEndTime=Number.POSITIVE_INFINITY,this.availabilityStartTime=null,this.manifest=null,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.mediaPresentationDuration=NaN,this.minimumUpdatePeriod=NaN,this.publishTime=null,this.suggestedPresentationDelay=0,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY}},Di=class{constructor(x,S){this.url=x||"",this.serviceLocation=S||null,this.queryParams={}}},yi=class{constructor(x,S,R){this.url=x||"",this.serviceLocation=S||null,this.ttl=R||NaN,this.queryParams={}}};class qi{constructor(){this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null,this.isEncrypted=!1}}qi.DEFAULT_ID="defaultId";var sa=qi,go=class{constructor(){this.period=null,this.index=-1,this.id=1,this.type=null,this.tag=null,this.order="undefined",this.preselectionComponents=[]}},Gt=class{constructor(){this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null}},sn=class{constructor(){this.absoluteIndex=NaN,this.adaptation=null,this.availabilityTimeComplete=!0,this.availabilityTimeOffset=0,this.bandwidth=NaN,this.bitrateInKbit=NaN,this.bitsPerPixel=NaN,this.codecFamily=null,this.codecPrivateData=null,this.codecs=null,this.dependencyId=null,this.dependentRepresentation=null,this.endNumber=null,this.essentialProperties=[],this.fragmentDuration=null,this.frameRate=null,this.height=NaN,this.id=null,this.indexRange=null,this.initialization=null,this.maxPlayoutRate=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.mediaInfo=null,this.mimeType=null,this.mseTimeOffset=NaN,this.pixelsPerSecond=NaN,this.presentationTimeOffset=0,this.qualityRanking=NaN,this.range=null,this.scanType=null,this.segments=null,this.segmentDuration=NaN,this.segmentInfoType=null,this.segmentSequenceProperties=[],this.supplementalProperties=[],this.startNumber=1,this.timescale=1,this.width=NaN}hasInitialization(){return this.initialization!==null||this.range!==null}hasSegments(){return this.segmentInfoType!==Re.default.BASE_URL&&this.segmentInfoType!==Re.default.SEGMENT_BASE&&!this.indexRange}};function zn(){let x;const S=/^[a-z][a-z0-9+\-_.]*:/i,R=/^https?:\/\//i,k=/^https:\/\//i,D=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,L=(H,X)=>{try{return new window.URL(H,X).toString()}catch{return H}},B=(H,X)=>{let te=U;if(!X||!W(H))return H;O(H)&&(te=N),z(H)&&(te=V);const ie=te(X),se=ie.charAt(ie.length-1)!=="/"&&H.charAt(0)!=="/"?"/":"";return[ie,H].join(se)};function U(H){const X=H.indexOf("/"),te=H.lastIndexOf("/");return X!==-1?te===X+1?H:(H.indexOf("?")!==-1&&(H=H.substring(0,H.indexOf("?"))),H.substring(0,te+1)):""}function N(H){const X=H.match(D);return X?X[1]:""}function V(H){const X=H.match(S);return X?X[0]:""}function W(H){return!S.test(H)}function O(H){return W(H)&&H.charAt(0)==="/"}function z(H){return H.indexOf("//")===0}return(function(){try{new window.URL("x","http://y"),x=L}catch{}finally{x=x||B}})(),{parseBaseUrl:U,parseOrigin:N,parseScheme:V,isRelative:W,isPathAbsolute:O,isSchemeRelative:z,isHTTPURL:function(H){return R.test(H)},isHTTPS:function(H){return k.test(H)},removeHostname:function(H){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(H)[2].substring(1)},resolve:function(H,X){return x(H,X)}}}zn.__dashjs_factory_name="DefaultURLUtils";var ur=r.default.getSingletonFactory(zn);function dr(){let x,S,R=[];const k=this.context;function D(L,B,U){let N=(function(V){let W;for(W=0;W<R.length;W++)if(R[W].regex.test(V))return R[W].utils;return S})(U||B);return N&&typeof N[L]=="function"?N[L](B,U):S[L](B,U)}return S=ur(k).getInstance(),x={registerUrlRegex:function(L,B){R.push({regex:L,utils:B})},parseBaseUrl:function(L){return D("parseBaseUrl",L)},parseOrigin:function(L){return D("parseOrigin",L)},parseScheme:function(L){return D("parseScheme",L)},isRelative:function(L){return D("isRelative",L)},isPathAbsolute:function(L){return D("isPathAbsolute",L)},isSchemeRelative:function(L){return D("isSchemeRelative",L)},isHTTPURL:function(L){return D("isHTTPURL",L)},isHTTPS:function(L){return D("isHTTPS",L)},removeHostname:function(L){return D("removeHostname",L)},resolve:function(L,B){return D("resolve",L,B)}},x}dr.__dashjs_factory_name="URLUtils";var Ur=r.default.getSingletonFactory(dr),Qr=n(5717),Pr=class{constructor(){this.cadence=1,this.sapType=0,this.event=!0,this.alignment=null}init(x){x&&(this.cadence=x.cadence===void 0||isNaN(x.cadence)?1:x.cadence,this.sapType=x.sapType===void 0||isNaN(x.sapType)?0:x.sapType,this.event=x.event===void 0||x.event,this.alignment=x.alignment!==void 0?x.alignment:null)}};function xr(){let x,S,R,k;const D=this.context,L=Ur(D).getInstance(),B=Number.isInteger||function(Z){return typeof Z=="number"&&isFinite(Z)&&Math.floor(Z)===Z};function U(Z,le){if(!Z)throw new Error("adaptation is not defined");if(!le)throw new Error("type is not defined");if(Z.Representation&&Z.Representation.length){const de=_e(Z.Representation[0]);if(de&&de.some((Y=>p.default.THUMBNAILS_SCHEME_ID_URIS.indexOf(Y.schemeIdUri)>=0)))return le===p.default.IMAGE}if(Z.ContentComponent&&Z.ContentComponent.length>0){if(Z.ContentComponent.length>1)return le===p.default.MUXED;if(Z.ContentComponent[0].contentType===le)return!0}const ve=le===p.default.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(le);if(Z.Representation&&Z.Representation.length){const de=Z.Representation[0].codecs;if(ve.test(de))return!0}if(Z.hasOwnProperty(Re.default.MIME_TYPE))return ve.test(Z.mimeType);if(Z.Representation){let de;for(let Y=0;Y<Z.Representation.length;Y++)if(de=Z.Representation[Y],de.hasOwnProperty(Re.default.MIME_TYPE))return ve.test(de.mimeType)}return!1}function N(Z){if(!Z)throw new Error("adaptation is not defined");if(Z.hasOwnProperty(Re.default.SEGMENT_TEMPLATE)||Z.hasOwnProperty(Re.default.SEGMENT_TIMELINE)||Z.hasOwnProperty(Re.default.SEGMENT_LIST)||Z.hasOwnProperty(Re.default.SEGMENT_BASE))return!0;if(Z.Representation&&Z.Representation.length>0){const le=Z.Representation[0];if(le.hasOwnProperty(Re.default.SEGMENT_TEMPLATE)||le.hasOwnProperty(Re.default.SEGMENT_TIMELINE)||le.hasOwnProperty(Re.default.SEGMENT_LIST)||le.hasOwnProperty(Re.default.SEGMENT_BASE))return!0}return!1}function V(Z){return U(Z,p.default.TEXT)}function W(Z){return Z&&Z.Representation&&Z.Representation.sort(((le,ve)=>le.bandwidth-ve.bandwidth)),Z}function O(Z,le){return Z&&Z.Period&&B(le)&&Z.Period[le]?Z.Period[le].AdaptationSet:[]}function z(Z){return Z&&Z.Period?Z.Period:[]}function H(Z,le,ve){let de=null;if(Z&&Z.Representation&&Z.Representation.length>0){const Y=B(le)&&le>=0&&le<Z.Representation.length?Z.Representation[le]:Z.Representation[0];Y&&(de=Y.mimeType+';codecs="'+Y.codecs+'"',ve&&Y.width!==void 0&&(de+=';width="'+Y.width+'";height="'+Y.height+'"'))}return de&&(de=de.replace(/\sprofiles=[^;]*/g,"")),de}function X(Z){const le=te(Z);return le&&le.length>0}function te(Z){let le=[];if(!Z)return le;const ve=ie(Z);return le=le.concat(ve),Z.hasOwnProperty(Re.default.ADAPTATION_SET)&&Z[Re.default.ADAPTATION_SET].length>0&&Z[Re.default.ADAPTATION_SET].forEach((de=>{const Y=ie(de);le=le.concat(Y)})),le}function ie(Z){return Z&&Z.hasOwnProperty(Re.default.CONTENT_PROTECTION)&&Z.ContentProtection.length!==0?Z[Re.default.CONTENT_PROTECTION].map((le=>{const ve=new Rn;return ve.init(le),ve})):[]}function se(Z){let le=!1;return Z&&Z.hasOwnProperty("type")&&(le=Z.type===Re.default.DYNAMIC),le}function fe(Z){if(!Z)return null;const le=Z[Re.default.FRAMERATE];if(!le)return null;if(typeof le=="string"&&le.includes("/")){const[ve,de]=le.split("/").map((Y=>parseInt(Y,10)));if(!isNaN(ve)&&!isNaN(de)&&de!==0)return ve/de}return parseInt(le)}function me(Z,le){return le&&le.hasOwnProperty(Z)&&le[Z].length?le[Z].map((ve=>{const de=new Ii;return de.init(ve),de})):[]}function pe(Z,le){if(!le)return[];let ve=(function(de,Y){if(!Y||!Y.length)return[];let ce=Y[0][de]||[];return ce.length===0?[]:Y.length===1?ce:ce.filter((oe=>Y.slice(1).every((Ae=>Ae.hasOwnProperty(de)&&Ae[de].some((Se=>Se.schemeIdUri===oe.schemeIdUri&&Se.value===oe.value))))))})(Z,le[Re.default.REPRESENTATION]);return le.hasOwnProperty(Z)&&le[Z].length&&ve.push(...le[Z]),ve.map((de=>{const Y=new Ii;return Y.init(de),Y}))}function _e(Z){return me(Re.default.ESSENTIAL_PROPERTY,Z)}function ee(Z){return me(Re.default.SUPPLEMENTAL_PROPERTY,Z)}function Q(Z){return Z&&Z.hasOwnProperty(Re.default.SEGMENT_SEQUENCE_PROPERTIES)&&Z[Re.default.SEGMENT_SEQUENCE_PROPERTIES].length?Z[Re.default.SEGMENT_SEQUENCE_PROPERTIES].map((le=>{const ve=new Pr(le);return ve.init(le),ve})):[]}function M(Z,le,ve,de,Y,ce){const oe=new sn;(function(De,ze,Ue,tt,gt){if(De.index=gt,De.adaptation=Ue,De.mediaInfo=tt,ze.hasOwnProperty(Re.default.ID)&&(De.id=ze.id),ze.hasOwnProperty(Re.default.CODECS)&&(De.codecs=ze.codecs,De.codecFamily=ot.default.getCodecFamily(De.codecs)),ze.hasOwnProperty(Re.default.DEPENDENCY_ID)){const kt=ze[Re.default.DEPENDENCY_ID].toString().split(" ")[0];De.dependencyId=kt,De.dependentRepresentation=new sn,De.dependentRepresentation.id=kt}ze.hasOwnProperty(Re.default.MIME_TYPE)&&(De.mimeType=ze[Re.default.MIME_TYPE]),ze.hasOwnProperty(Re.default.CODEC_PRIVATE_DATA)&&(De.codecPrivateData=ze.codecPrivateData),ze.hasOwnProperty(Re.default.BANDWITH)&&(De.bandwidth=ze.bandwidth,De.bitrateInKbit=ze.bandwidth/1e3),ze.hasOwnProperty(Re.default.WIDTH)&&(De.width=ze.width),ze.hasOwnProperty(Re.default.HEIGHT)&&(De.height=ze.height),ze.hasOwnProperty(Re.default.SCAN_TYPE)&&(De.scanType=ze.scanType),ze.hasOwnProperty(Re.default.FRAMERATE)&&(De.frameRate=fe(ze)),ze.hasOwnProperty(Re.default.QUALITY_RANKING)&&(De.qualityRanking=ze[Re.default.QUALITY_RANKING]),ze.hasOwnProperty(Re.default.MAX_PLAYOUT_RATE)&&(De.maxPlayoutRate=ze.maxPlayoutRate),De.essentialProperties=_e(ze),De.supplementalProperties=ee(ze),De.segmentSequenceProperties=Q(ze),De.path=[Ue.period.index,Ue.index,gt]})(oe,le,ve,Z,ce);const{segmentInfo:Ae,segmentInfoType:Se}=(function(De){let ze,Ue;return De.hasOwnProperty(Re.default.SEGMENT_BASE)?(ze=De.SegmentBase,Ue=Re.default.SEGMENT_BASE):De.hasOwnProperty(Re.default.SEGMENT_LIST)?(ze=De.SegmentList,Ue=ze.hasOwnProperty(Re.default.SEGMENT_TIMELINE)?Re.default.SEGMENT_TIMELINE:Re.default.SEGMENT_LIST):De.hasOwnProperty(Re.default.SEGMENT_TEMPLATE)?(ze=De.SegmentTemplate,Ue=ze.hasOwnProperty(Re.default.SEGMENT_TIMELINE)?Re.default.SEGMENT_TIMELINE:Re.default.SEGMENT_TEMPLATE):Ue=Re.default.BASE_URL,{segmentInfo:ze,segmentInfoType:Ue}})(le);return oe.segmentInfoType=Se,(function(De,ze,Ue,tt,gt,kt){if(De){if(De.hasOwnProperty(Re.default.INITIALIZATION_MINUS)&&(Ue.initialization=De.initialization.split("$Bandwidth$").join(gt.bandwidth).split("$RepresentationID$").join(gt.id)),De.hasOwnProperty(Re.default.INITIALIZATION)){const Mt=De.Initialization;Mt.hasOwnProperty(Re.default.SOURCE_URL)&&(Ue.initialization=Mt.sourceURL),Mt.hasOwnProperty(Re.default.RANGE)&&(Ue.range=Mt.range)}else V(tt)&&N(tt)&&tt.mimeType&&tt.mimeType.indexOf("application/mp4")===-1&&(Ue.range=0);De.hasOwnProperty(Re.default.TIMESCALE)&&(Ue.timescale=De.timescale),De.hasOwnProperty(Re.default.DURATION)?Ue.segmentDuration=De.duration/Ue.timescale:ze===Re.default.SEGMENT_TIMELINE&&(Ue.segmentDuration=(function(Mt){if(!Mt||!Mt.S)return NaN;let un=Mt.S[0],St=Mt.S[1];return un.hasOwnProperty("d")?un.d:St.t-un.t})(De.SegmentTimeline)/Ue.timescale),De.hasOwnProperty(Re.default.MEDIA)&&(Ue.media=De.media),De.hasOwnProperty(Re.default.START_NUMBER)&&(Ue.startNumber=parseInt(De.startNumber)),De.hasOwnProperty(Re.default.INDEX_RANGE)&&(Ue.indexRange=De.indexRange),De.hasOwnProperty(Re.default.PRESENTATION_TIME_OFFSET)&&(Ue.presentationTimeOffset=De.presentationTimeOffset/Ue.timescale),De.hasOwnProperty(Re.default.AVAILABILITY_TIME_OFFSET)?Ue.availabilityTimeOffset=De.availabilityTimeOffset:kt&&kt.availabilityTimeOffset!==void 0&&(Ue.availabilityTimeOffset=kt.availabilityTimeOffset),De.hasOwnProperty(Re.default.AVAILABILITY_TIME_COMPLETE)?Ue.availabilityTimeComplete=De.availabilityTimeComplete!=="false":kt&&kt.availabilityTimeComplete!==void 0&&(Ue.availabilityTimeComplete=kt.availabilityTimeComplete),De.hasOwnProperty(Re.default.END_NUMBER)&&(Ue.endNumber=De[Re.default.END_NUMBER]),Ue.mseTimeOffset=(function(Mt){const un=Mt.presentationTimeOffset;return Mt.adaptation.period.start-un})(Ue)}})(Ae,Se,oe,de,le,Y),(function(De){isNaN(De.width)||isNaN(De.height)||isNaN(De.frameRate)||(De.pixelsPerSecond=Math.max(1,De.width*De.height*De.frameRate),isNaN(De.bandwidth)||(De.bitsPerPixel=De.bandwidth/De.pixelsPerSecond))})(oe),oe}function re(Z){return U(Z,p.default.MUXED)?p.default.MUXED:U(Z,p.default.AUDIO)?p.default.AUDIO:(function(le){return U(le,p.default.VIDEO)})(Z)?p.default.VIDEO:V(Z)?p.default.TEXT:(function(le){return U(le,p.default.IMAGE)})(Z)?p.default.IMAGE:(S.warn("Unknown Preselection stream type"),null)}function ye(Z,le){if(Z&&Z.hasOwnProperty(Re.default.PRESELECTION_COMPONENTS)&&Array.isArray(le))return String(Z.preselectionComponents).split(" ").map((ve=>le.find((de=>de.id===ve))))}function ue(Z,le){if(!Z||!Z.hasOwnProperty(Re.default.PRESELECTION_COMPONENTS)||!Array.isArray(le))return;const ve=String(Z.preselectionComponents).split(" ");return le.find((de=>de.id===ve[0]))}function ke(Z,le){if(!Z)throw new Error("Period cannot be null or undefined");let ve=sa.DEFAULT_ID+"_"+le;return Z.hasOwnProperty(Re.default.ID)&&Z.id.toString().length>0&&Z.id!=="__proto__"&&(ve=Z.id.toString()),ve}function xe(Z,le,ve){const de=[];let Y;if(!Z)return de;for(Y=0;Y<Z.length;Y++){const ce=new Bn;if(ce.timescale=1,ce.representation=le,!Z[Y].hasOwnProperty(p.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");ce.schemeIdUri=Z[Y].schemeIdUri,Z[Y].hasOwnProperty(Re.default.TIMESCALE)&&(ce.timescale=Z[Y].timescale),Z[Y].hasOwnProperty(Re.default.VALUE)&&(ce.value=Z[Y].value),de.push(ce),ce.period=ve}return de}function Oe(Z){const le=[],ve=Z.BaseURL||[Z.baseUri];let de=!1;return ve.some((Y=>{if(Y){const ce=new ci;let oe=Y.__text||Y;return L.isRelative(oe)&&(de=!0,Z.baseUri&&(oe=L.resolve(oe,Z.baseUri))),ce.url=oe,Y.hasOwnProperty(Re.default.SERVICE_LOCATION)&&Y.serviceLocation.length?ce.serviceLocation=Y.serviceLocation:ce.serviceLocation=oe,Y.hasOwnProperty(Re.default.DVB_PRIORITY)&&(ce.dvbPriority=Y[Re.default.DVB_PRIORITY]),Y.hasOwnProperty(Re.default.DVB_WEIGHT)&&(ce.dvbWeight=Y[Re.default.DVB_WEIGHT]),Y.hasOwnProperty(Re.default.AVAILABILITY_TIME_OFFSET)&&(ce.availabilityTimeOffset=Y[Re.default.AVAILABILITY_TIME_OFFSET]),Y.hasOwnProperty(Re.default.AVAILABILITY_TIME_COMPLETE)&&(ce.availabilityTimeComplete=Y[Re.default.AVAILABILITY_TIME_COMPLETE]!=="false"),le.push(ce),de}})),le}function Ge(Z){const le=new at;return le.serverUrl=Z.__text,Z.hasOwnProperty(Re.default.DEFAULT_SERVICE_LOCATION)&&(le.defaultServiceLocation=Z[Re.default.DEFAULT_SERVICE_LOCATION],le.defaultServiceLocationArray=le.defaultServiceLocation.split(" ")),Z.hasOwnProperty(Re.default.QUERY_BEFORE_START)&&(le.queryBeforeStart=Z[Re.default.QUERY_BEFORE_START].toLowerCase()==="true"),Z.hasOwnProperty(Re.default.CLIENT_REQUIREMENT)&&(le.clientRequirement=Z[Re.default.CLIENT_REQUIREMENT].toLowerCase()!=="false"),le}function Ne(Z){const le=new mo;return Z.hasOwnProperty(Re.default.CMCD_PARAMETERS)&&Z[Re.default.CMCD_PARAMETERS].schemeIdUri===p.default.CTA_5004_2023_SCHEME&&(le.cmcdParameters=new Ua,le.cmcdParameters.init(Z[Re.default.CMCD_PARAMETERS])),Z.hasOwnProperty(Re.default.SERVICE_LOCATIONS)&&Z[Re.default.SERVICE_LOCATIONS]!==""&&(le.serviceLocations=Z[Re.default.SERVICE_LOCATIONS],le.serviceLocationsArray=le.serviceLocations.toString().split(" ")),Z.hasOwnProperty(Re.default.ADAPTATION_SETS)&&Z[Re.default.ADAPTATION_SETS]!==""&&(le.adaptationSets=Z[Re.default.ADAPTATION_SETS],le.adaptationSetsArray=le.adaptationSets.toString().split(" ")),le}return x={getAccessibilityForAdaptation:function(Z){return Z&&Z.hasOwnProperty(Re.default.ACCESSIBILITY)&&Z[Re.default.ACCESSIBILITY].length?Z[Re.default.ACCESSIBILITY].map((le=>{const ve=new Ii;return ve.init(le),ve})):[]},getAdaptationForId:function(Z,le,ve){const de=O(le,ve);let Y,ce;for(Y=0,ce=de.length;Y<ce;Y++)if(de[Y].hasOwnProperty(Re.default.ID)&&de[Y].id===Z)return de[Y];return null},getAdaptationForIndex:function(Z,le,ve){const de=O(le,ve);return de.length>0&&B(Z)?de[Z]:null},getAdaptationsForPeriod:function(Z){const le=Z&&B(Z.index)?Z.mpd.manifest.Period[Z.index]:null,ve=[];let de,Y,ce;if(le&&le.AdaptationSet)for(ce=0;ce<le.AdaptationSet.length;ce++)Y=le.AdaptationSet[ce],de=new Ai,Y.hasOwnProperty(Re.default.ID)&&(de.id=Y.id),de.index=ce,de.period=Z,de.type=re(Y),ve.push(de);return ve},getAdaptationsForType:function(Z,le,ve){const de=O(Z,le);let Y,ce;const oe=[];for(Y=0,ce=de.length;Y<ce;Y++)U(de[Y],ve)&&oe.push(W(de[Y]));return oe},getAudioChannelConfigurationForAdaptation:function(Z){return Z&&Z.hasOwnProperty(Re.default.AUDIO_CHANNEL_CONFIGURATION)&&Z[Re.default.AUDIO_CHANNEL_CONFIGURATION].length?Z[Re.default.AUDIO_CHANNEL_CONFIGURATION].map((le=>{const ve=new Ii;return ve.init(le),ve})):[]},getAudioChannelConfigurationForRepresentation:function(Z){return Z&&Z.hasOwnProperty(Re.default.AUDIO_CHANNEL_CONFIGURATION)&&Z[Re.default.AUDIO_CHANNEL_CONFIGURATION].length?Z[Re.default.AUDIO_CHANNEL_CONFIGURATION].map((le=>{const ve=new Ii;return ve.init(le),ve})):[]},getAvailabilityStartTime:function(Z){return Z&&Z.hasOwnProperty(Re.default.AVAILABILITY_START_TIME)&&Z.availabilityStartTime!==null?Z.availabilityStartTime.getTime():null},getBandwidth:function(Z){return Z&&Z.bandwidth?Z.bandwidth:NaN},getBaseURLsFromElement:Oe,getBitrateListForAdaptation:function(Z){const le=W(Z);return(le&&le.Representation?le.Representation:[]).map((ve=>({bandwidth:ve.bandwidth,width:ve.width||0,height:ve.height||0,scanType:ve.scanType||null,id:ve.id||null})))},getCodec:H,getCodecForPreselection:function(Z,le,ve){let de=null;if(Z&&le){let Y=H(ue(Z,le),0,ve);if(Z.hasOwnProperty(Re.default.CODECS)){let ce=Z.codecs;de=Y.replace(/(codecs=")[^"]*(")/,`$1${ce}$2`),S.info("Preselection has own codecs-attribute: replacing in MainAdaptationSet (was: "+Y+"), new Preselection codec is: "+de)}else de=Y}return de},getCombinedEssentialPropertiesForAdaptationSet:function(Z){return pe(Re.default.ESSENTIAL_PROPERTY,Z)},getCombinedSupplementalPropertiesForAdaptationSet:function(Z){return pe(Re.default.SUPPLEMENTAL_PROPERTY,Z)},getContentProtectionByAdaptation:function(Z){return ie(Z)},getContentProtectionByManifest:function(Z){let le=[];if(!Z)return le;const ve=ie(Z);return le=le.concat(ve),Z.hasOwnProperty(Re.default.PERIOD)&&Z[Re.default.PERIOD].length>0&&Z[Re.default.PERIOD].forEach((de=>{const Y=te(de);le=le.concat(Y)})),le},getContentProtectionByPeriod:te,getContentSteering:function(Z){if(Z&&Z.hasOwnProperty(Re.default.CONTENT_STEERING))return Ge(Z[Re.default.CONTENT_STEERING][0])},getDuration:function(Z){let le;return le=Z&&Z.hasOwnProperty(Re.default.MEDIA_PRESENTATION_DURATION)?Z.mediaPresentationDuration:Z&&Z.type==="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,le},getEssentialProperties:_e,getEventStreamForAdaptationSet:function(Z,le,ve){let de,Y,ce;return Z&&Z.Period&&le&&le.period&&B(le.period.index)&&(Y=Z.Period[le.period.index],Y&&Y.AdaptationSet&&B(le.index)&&(ce=Y.AdaptationSet[le.index],ce&&(de=ce.InbandEventStream))),xe(de,null,ve)},getEventStreamForRepresentation:function(Z,le,ve){let de,Y,ce,oe;return Z&&Z.Period&&le&&le.adaptation&&le.adaptation.period&&B(le.adaptation.period.index)&&(Y=Z.Period[le.adaptation.period.index],Y&&Y.AdaptationSet&&B(le.adaptation.index)&&(ce=Y.AdaptationSet[le.adaptation.index],ce&&ce.Representation&&B(le.index)&&(oe=ce.Representation[le.index],oe&&(de=oe.InbandEventStream)))),xe(de,le,ve)},getEventsForPeriod:function(Z){const le=Z&&Z.mpd&&Z.mpd.manifest?Z.mpd.manifest:null,ve=le?le.Period:null,de=ve&&Z&&B(Z.index)?ve[Z.index].EventStream:null,Y=[];let ce,oe;if(de)for(ce=0;ce<de.length;ce++){const Ae=new Bn;if(Ae.period=Z,Ae.timescale=1,!de[ce].hasOwnProperty(p.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(Ae.schemeIdUri=de[ce][p.default.SCHEME_ID_URI],de[ce].hasOwnProperty(Re.default.TIMESCALE)&&(Ae.timescale=de[ce][Re.default.TIMESCALE]),de[ce].hasOwnProperty(Re.default.VALUE)&&(Ae.value=de[ce][Re.default.VALUE]),de[ce].hasOwnProperty(Re.default.PRESENTATION_TIME_OFFSET)&&(Ae.presentationTimeOffset=de[ce][Re.default.PRESENTATION_TIME_OFFSET]),oe=0;de[ce].Event&&oe<de[ce].Event.length;oe++){const Se=de[ce].Event[oe],De=new ln;De.presentationTime=0,De.eventStream=Ae,Se.hasOwnProperty(Re.default.PRESENTATION_TIME)&&(De.presentationTime=Se.presentationTime);const ze=Ae.presentationTimeOffset?Ae.presentationTimeOffset/Ae.timescale:0;De.calculatedPresentationTime=De.presentationTime/Ae.timescale+Z.start-ze,Se.hasOwnProperty(Re.default.DURATION)&&(De.duration=Se.duration/Ae.timescale),Se.hasOwnProperty(Re.default.ID)?De.id=parseInt(Se.id):De.id=null,Se.Signal&&Se.Signal.Binary?De.messageData=k.decodeArray(Se.Signal.Binary.toString()):De.messageData=Se.messageData||Se.__cdata||Se.__text,Y.push(De)}}return Y},getFramerate:fe,getId:function(Z){return Z&&Z[Re.default.ID]||null},getIndexForAdaptation:function(Z,le,ve){if(!Z)return-1;const de=O(le,ve);for(let Y=0;Y<de.length;Y++)if((0,Vt.default)(D).getInstance().areEqual(de[Y],Z))return Y;return-1},getIsDynamic:se,getIsFragmented:N,getIsText:V,getIsTypeOf:U,getLabelsForAdaptation:function(Z){if(!Z||!Z.Label)return[];const le=[];for(let ve=0;ve<Z.Label.length;ve++)le.push({lang:Z.Label[ve].lang,text:Z.Label[ve].__text||Z.Label[ve]});return le},getLanguageForAdaptation:function(Z){let le="";return Z&&Z.hasOwnProperty(Re.default.LANG)&&(le=Z.lang),le},getLocation:function(Z){return Z&&Z.hasOwnProperty(Re.default.LOCATION)?Z[Re.default.LOCATION].map((le=>{const ve=le.__text||le,de=le.hasOwnProperty(Re.default.SERVICE_LOCATION)?le[Re.default.SERVICE_LOCATION]:null;return new Di(ve,de)})):[]},getMainAdaptationSetForPreselection:ue,getCommonRepresentationForPreselection:function(Z,le){if(Z&&Array.isArray(le))return ue(Z,le).Representation[0]},getManifestUpdatePeriod:function(Z,le=0){let ve=NaN;return Z&&Z.hasOwnProperty(Re.default.MINIMUM_UPDATE_PERIOD)&&(ve=Z.minimumUpdatePeriod),isNaN(ve)?ve:Math.max(ve-le,1)},getMimeType:function(Z){return Z&&Z.Representation&&Z.Representation.length>0?Z.Representation[0].mimeType:null},getMpd:function(Z){const le=new Vr;return Z&&(le.manifest=Z,Z.hasOwnProperty(Re.default.AVAILABILITY_START_TIME)?le.availabilityStartTime=new Date(Z.availabilityStartTime.getTime()):Z.loadedTime&&(le.availabilityStartTime=new Date(Z.loadedTime.getTime())),Z.hasOwnProperty(Re.default.AVAILABILITY_END_TIME)&&(le.availabilityEndTime=new Date(Z.availabilityEndTime.getTime())),Z.hasOwnProperty(Re.default.MINIMUM_UPDATE_PERIOD)&&(le.minimumUpdatePeriod=Z.minimumUpdatePeriod),Z.hasOwnProperty(Re.default.MEDIA_PRESENTATION_DURATION)&&(le.mediaPresentationDuration=Z.mediaPresentationDuration),Z.hasOwnProperty(Re.default.SUGGESTED_PRESENTATION_DELAY)&&(le.suggestedPresentationDelay=Z.suggestedPresentationDelay),Z.hasOwnProperty(Re.default.TIMESHIFT_BUFFER_DEPTH)&&(le.timeShiftBufferDepth=Z.timeShiftBufferDepth),Z.hasOwnProperty(Re.default.MAX_SEGMENT_DURATION)&&(le.maxSegmentDuration=Z.maxSegmentDuration),Z.hasOwnProperty(Re.default.PUBLISH_TIME)&&(le.publishTime=new Date(Z.publishTime))),le},getPatchLocation:function(Z){return Z&&Z.hasOwnProperty(Re.default.PATCH_LOCATION)?Z[Re.default.PATCH_LOCATION].map((le=>{const ve=le.__text||le,de=le.hasOwnProperty(Re.default.SERVICE_LOCATION)?le[Re.default.SERVICE_LOCATION]:null;let Y=le.hasOwnProperty(Re.default.TTL)?1e3*parseFloat(le[Re.default.TTL]):NaN;return new yi(ve,de,Y)})):[]},getPreselectionIsTypeOf:function(Z,le,ve){if(!Z)throw new Error("preselection is not defined");if(!le)throw new Error("adaptations is not defined");if(!ve)throw new Error("type is not defined");const de=ue(Z,le);return!!de&&U(de,ve)},getPreselectionsForPeriod:function(Z){const le=Z&&B(Z.index)?Z.mpd.manifest.Period[Z.index]:null,ve=[];let de,Y,ce;if(le&&le.Preselection)for(ce=0;ce<le.Preselection.length;ce++){Y=le.Preselection[ce],de=new go;const oe=ye(Y,le.AdaptationSet);oe.every((Ae=>!!Ae))&&oe.length===1?(Y.hasOwnProperty(Re.default.ID)&&(de.id=Y.id),de.index=ce,de.period=Z,Y.hasOwnProperty(Re.default.TAG)&&(de.tag=Y.tag),Y.hasOwnProperty(Re.default.PRESELECTION_COMPONENTS)?de.preselectionComponents=oe:S.warn("Preselection (index: "+de.index+") missing component(s)"),Y.hasOwnProperty(Re.default.ORDER)&&(de.order=Y.order),de.type=re(oe[0]),ve.push(de)):S.warn("Preselection removed because we don't support multi-representation preselections or not all components available.")}return ve},getProducerReferenceTimesForAdaptation:function(Z){const le=Z&&Z.hasOwnProperty(Re.default.PRODUCER_REFERENCE_TIME)?Z[Re.default.PRODUCER_REFERENCE_TIME]:[];(Z&&Z.hasOwnProperty(Re.default.REPRESENTATION)?Z[Re.default.REPRESENTATION]:[]).forEach((de=>{de.hasOwnProperty(Re.default.PRODUCER_REFERENCE_TIME)&&le.push(...de[Re.default.PRODUCER_REFERENCE_TIME])}));const ve=[];return le.forEach((de=>{const Y=new Gt;de.hasOwnProperty(Re.default.ID)&&(Y[Re.default.ID]=parseInt(de[Re.default.ID]),de.hasOwnProperty(Re.default.WALL_CLOCK_TIME)&&(Y[Re.default.WALL_CLOCK_TIME]=de[Re.default.WALL_CLOCK_TIME],de.hasOwnProperty(Re.default.PRESENTATION_TIME)&&(Y[Re.default.PRESENTATION_TIME]=de[Re.default.PRESENTATION_TIME],de.hasOwnProperty(Re.default.INBAND)&&(Y[Re.default.INBAND]=de[Re.default.INBAND]!=="false"),de.hasOwnProperty(Re.default.TYPE)&&(Y[Re.default.TYPE]=de[Re.default.TYPE]),ve.push(Y))))})),ve},getPublishTime:function(Z){return Z&&Z.hasOwnProperty(Re.default.PUBLISH_TIME)?new Date(Z[Re.default.PUBLISH_TIME]):null},getRealPeriodForIndex:function(Z,le){const ve=z(le);return ve.length>0&&B(Z)?ve[Z]:null},getRealPeriods:z,getRegularPeriods:function(Z){const le=!!Z&&se(Z.manifest),ve=[];let de,Y,ce=null,oe=null,Ae=null,Se=null;for(Y=0,de=Z&&Z.manifest&&Z.manifest.Period?Z.manifest.Period.length:0;Y<de;Y++)oe=Z.manifest.Period[Y],oe.hasOwnProperty(Re.default.START)?(Se=new sa,Se.start=oe.start):ce!==null&&ce.hasOwnProperty(Re.default.DURATION)&&Ae!==null?(Se=new sa,Se.start=parseFloat((Ae.start+Ae.duration).toFixed(5))):Y!==0||le||(Se=new sa,Se.start=0),Ae!==null&&isNaN(Ae.duration)&&(Se!==null?Ae.duration=parseFloat((Se.start-Ae.start).toFixed(5)):S.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),Se!==null&&(Se.id=ke(oe,Y),Se.index=Y,Se.mpd=Z,Se.isEncrypted=X(oe),oe.hasOwnProperty(Re.default.DURATION)&&(Se.duration=oe.duration),Ae&&(Ae.nextPeriodId=Se.id),ve.push(Se),ce=oe,Ae=Se),oe=null,Se=null;return ve.length===0||Ae!==null&&isNaN(Ae.duration)&&(Ae.duration=parseFloat(((function(De){(function(){if(!R||!R.hasOwnProperty("error"))throw new Error(p.default.MISSING_CONFIG_ERROR)})();const ze=se(De.mpd.manifest);let Ue;return De.mpd.manifest.mediaPresentationDuration?Ue=De.mpd.manifest.mediaPresentationDuration:De.duration?Ue=De.duration:ze?Ue=Number.POSITIVE_INFINITY:R.error(new an.default(fn.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",De)),Ue})(Ae)-Ae.start).toFixed(5))),ve},getRepresentationCount:function(Z){return Z&&Z.Representation?Z.Representation.length:0},getRepresentationFor:function(Z,le){return le&&le.Representation&&le.Representation.length>0&&B(Z)?le.Representation[Z]:null},getRepresentationSortFunction:function(){return(Z,le)=>Z.bandwidth-le.bandwidth},getRepresentationsForAdaptation:function(Z,le){const ve=[],de=(function(ce){if(ce&&ce.period&&B(ce.period.index)){const oe=ce.period.mpd.manifest.Period[ce.period.index];if(oe&&oe.AdaptationSet&&B(ce.index))return W(oe.AdaptationSet[ce.index])}})(Z);let Y;if(de&&de.Representation){if(Z&&Z.period&&B(Z.period.index)){const ce=Oe(Z.period.mpd.manifest);ce&&(Y=ce[0])}for(let ce=0,oe=de.Representation.length;ce<oe;++ce){const Ae=M(le,de.Representation[ce],Z,de,Y,ce);ve.push(Ae)}}return ve},getRolesForAdaptation:function(Z){return Z&&Z.hasOwnProperty(Re.default.ROLE)&&Z[Re.default.ROLE].length?Z[Re.default.ROLE].map((le=>{le.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&le.value==="Main"&&(le.value=Re.default.MAIN);const ve=new Ii;return ve.init(le),ve})):[]},getSegmentAlignment:function(Z){return!(!Z||!Z.hasOwnProperty(Re.default.SEGMENT_ALIGNMENT))&&Z[Re.default.SEGMENT_ALIGNMENT]==="true"},getSegmentSequencePropertiesForAdaptationSet:function(Z){const le=[];return Z&&(le.push(...Q(Z)),Z.Representation&&Z.Representation.length&&Z.Representation.forEach((ve=>{le.push(...Q(ve))}))),le},getSelectionPriority:function(Z){try{const le=Z&&Z.selectionPriority!==void 0?parseInt(Z.selectionPriority):1;return isNaN(le)?1:le}catch{return 1}},getServiceDescriptions:function(Z){const le=[];if(Z&&Z.hasOwnProperty(Re.default.SERVICE_DESCRIPTION))for(const ve of Z.ServiceDescription){let de=null,Y=null,ce=null,oe=null,Ae=null,Se=null,De=null,ze=null;for(const Ue in ve)if(ve.hasOwnProperty(Ue))if(Ue===Re.default.ID)de=ve[Ue];else if(Ue===Re.default.SERVICE_DESCRIPTION_SCOPE)Y=ve[Ue].schemeIdUri;else if(Ue===Re.default.SERVICE_DESCRIPTION_LATENCY)ce={target:parseInt(ve[Ue].target),max:parseInt(ve[Ue].max),min:parseInt(ve[Ue].min),referenceId:parseInt(ve[Ue].referenceId)};else if(Ue===Re.default.SERVICE_DESCRIPTION_PLAYBACK_RATE)oe={max:parseFloat(ve[Ue].max),min:parseFloat(ve[Ue].min)};else if(Ue===Re.default.SERVICE_DESCRIPTION_OPERATING_QUALITY)Ae={mediaType:ve[Ue].mediaType,max:parseInt(ve[Ue].max),min:parseInt(ve[Ue].min),target:parseInt(ve[Ue].target),type:ve[Ue].type,maxQualityDifference:parseInt(ve[Ue].maxQualityDifference)};else if(Ue===Re.default.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH)Se={mediaType:ve[Ue].mediaType,max:parseInt(ve[Ue].max),min:parseInt(ve[Ue].min),target:parseInt(ve[Ue].target)};else if(Ue===Re.default.CONTENT_STEERING){let tt=ve[Ue];tt=Array.isArray(tt)?tt.at(tt.length-1):tt,De=Ge(tt)}else Ue===Re.default.CLIENT_DATA_REPORTING&&(ze=Ne(ve[Ue]));le.push({id:de,schemeIdUri:Y,latency:ce,playbackRate:oe,operatingQuality:Ae,operatingBandwidth:Se,contentSteering:De,clientDataReporting:ze})}return le},getSubSegmentAlignment:function(Z){return!(!Z||!Z.hasOwnProperty(Re.default.SUB_SEGMENT_ALIGNMENT))&&Z[Re.default.SUB_SEGMENT_ALIGNMENT]==="true"},getSuggestedPresentationDelay:function(Z){return Z&&Z.hasOwnProperty(Re.default.SUGGESTED_PRESENTATION_DELAY)?Z.suggestedPresentationDelay:null},getSupplementalProperties:ee,getUTCTimingSources:function(Z){const le=se(Z),ve=!!Z&&Z.hasOwnProperty(Re.default.AVAILABILITY_START_TIME),de=Z?Z.UTCTiming:null,Y=[];return(le||ve)&&de&&de.forEach((function(ce){const oe=new Qr.default;ce.hasOwnProperty(p.default.SCHEME_ID_URI)&&(oe.schemeIdUri=ce.schemeIdUri,ce.hasOwnProperty(Re.default.VALUE)&&(oe.value=ce.value.toString(),Y.push(oe)))})),Y},getViewpointForAdaptation:function(Z){return Z&&Z.hasOwnProperty(Re.default.VIEWPOINT)&&Z[Re.default.VIEWPOINT].length?Z[Re.default.VIEWPOINT].map((le=>{const ve=new Ii;return ve.init(le),ve})):[]},hasProfile:function(Z,le){let ve=!1;return Z&&Z.profiles&&Z.profiles.length>0&&(ve=Z.profiles.indexOf(le)!==-1),ve},isPeriodEncrypted:X,setConfig:function(Z){Z&&(Z.errHandler&&(R=Z.errHandler),Z.BASE64&&(k=Z.BASE64))}},S=(0,l.default)(D).getInstance().getLogger(x),x}xr.__dashjs_factory_name="DashManifestModel";var Sr=r.default.getSingletonFactory(xr);const qr={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},oa=qr,Wo="v",Ru="l",ku="d",pb="s";class la{constructor(S,R){Array.isArray(S)&&(S=S.map((k=>k instanceof la?k:new la(k)))),this.value=S,this.params=R}}const Hl="Dict";function Hp(x,S,R,k){return new Error(`failed to ${x} "${D=S,Array.isArray(D)?JSON.stringify(D):D instanceof Map?"Map{}":D instanceof Set?"Set{}":typeof D=="object"?JSON.stringify(D):String(D)}" as ${R}`,{cause:k});var D}function Os(x,S,R){return Hp("serialize",x,S,R)}class mb{constructor(S){this.description=S}}const Gp="Bare Item",Vp="Boolean",Kp="Byte Sequence",gb="Integer";function yb(x){return x<-999999999999999||999999999999999<x}function bb(x){if(yb(x))throw Os(x,gb);return x.toString()}function Wp(x,S){if(x<0)return-Wp(-x,S);const R=Math.pow(10,S);if(Math.abs(x*R%1-.5)<Number.EPSILON){const k=Math.floor(x*R);return(k%2==0?k:k+1)/R}return Math.round(x*R)/R}const vb="Decimal";function Zr(x){const S=Wp(x,3);if(Math.floor(Math.abs(S)).toString().length>12)throw Os(x,vb);const R=S.toString();return R.includes(".")?R:`${R}.0`}const Ms="String",Nc=/[\x00-\x1f\x7f]+/;function Cu(x){return x.description||x.toString().slice(7,-1)}const Eb="Token";function Wa(x){const S=Cu(x);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(S)===!1)throw Os(S,Eb);return S}function Yp(x){switch(typeof x){case"number":if(!Number.isFinite(x))throw Os(x,Gp);return Number.isInteger(x)?bb(x):Zr(x);case"string":return(function(S){if(Nc.test(S))throw Os(S,Ms);return`"${S.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`})(x);case"symbol":return Wa(x);case"boolean":return(function(S){if(typeof S!="boolean")throw Os(S,Vp);return S?"?1":"?0"})(x);case"object":if(x instanceof Date)return(function(S){return`@${bb(S.getTime()/1e3)}`})(x);if(x instanceof Uint8Array)return(function(S){if(ArrayBuffer.isView(S)===!1)throw Os(S,Kp);return`:${R=S,btoa(String.fromCharCode(...R))}:`;var R})(x);if(x instanceof mb)return Wa(x);default:throw Os(x,Gp)}}const yo="Key";function QS(x){if(/^[a-z*][a-z0-9\-_.*]*$/.test(x)===!1)throw Os(x,yo);return x}function ZS(x){return x==null?"":Object.entries(x).map((([S,R])=>R===!0?`;${QS(S)}`:`;${QS(S)}=${Yp(R)}`)).join("")}function rF(x){return x instanceof la?`${Yp(x.value)}${ZS(x.params)}`:Yp(x)}function iF(x,S){return(function(R,k={whitespace:!0}){if(typeof R!="object"||R==null)throw Os(R,Hl);const D=R instanceof Map?R.entries():Object.entries(R),L=k?.whitespace?" ":"";return Array.from(D).map((([B,U])=>{U instanceof la==0&&(U=new la(U));let N=QS(B);var V;return U.value===!0?N+=ZS(U.params):(N+="=",Array.isArray(U.value)?N+=`(${(V=U).value.map(rF).join(" ")})${ZS(V.params)}`:N+=rF(U)),N})).join(`,${L}`)})(x,S)}const aF="event",_b=x=>Math.round(x),JS=(x,S)=>Array.isArray(x)?x.map((R=>JS(R,S))):x instanceof la&&typeof x.value=="string"?new la(JS(x.value,S),x.params):(S.baseUrl&&(x=(function(R,k){const D=new URL(R),L=new URL(k);if(D.origin!==L.origin)return R;const B=D.pathname.split("/").slice(1),U=L.pathname.split("/").slice(1,-1);for(;B[0]===U[0];)B.shift(),U.shift();for(;U.length;)U.shift(),B.unshift("..");return B.join("/")+D.search+D.hash})(x,S.baseUrl)),S.version===1?encodeURIComponent(x):x),Tb=x=>100*_b(x/100),sie={br:_b,d:_b,bl:Tb,dl:Tb,mtp:Tb,nor:(x,S)=>{let R=x;return S.version>=2&&(x instanceof la&&typeof x.value=="string"?R=new la([x]):typeof x=="string"&&(R=[x])),JS(R,S)},rtp:Tb,tb:_b},sF="request",oF="response",ew=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],oie=["e"],lie=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function Sb(x){return lie.test(x)}const lF=["d","dl","nor","ot","rtp","su"],uie=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"],cie=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function die(x){return cie.includes(x)||Sb(x)}const fie={[oF]:function(x){return ew.includes(x)||lF.includes(x)||uie.includes(x)||Sb(x)},[aF]:function(x){return ew.includes(x)||oie.includes(x)||Sb(x)},[sF]:function(x){return ew.includes(x)||lF.includes(x)||Sb(x)}};function uF(x,S={}){const R={};if(x==null||typeof x!="object")return R;const k=S.version||x.v||1,D=S.reportingMode||sF,L=k===1?die:fie[D];let B=Object.keys(x).filter(L);const U=S.filter;typeof U=="function"&&(B=B.filter(U));const N=D===oF||D===aF;N&&!B.includes("ts")&&B.push("ts"),k>1&&!B.includes("v")&&B.push("v");const V=Object.assign({},sie,S.formatters),W={version:k,reportingMode:D,baseUrl:S.baseUrl};return B.sort().forEach((O=>{let z=x[O];const H=V[O];if(typeof H=="function"&&(z=H(z,W)),O==="v"){if(k===1)return;z=k}O=="pr"&&z===1||(N&&O==="ts"&&!Number.isFinite(z)&&(z=Date.now()),(function(X){return typeof X=="number"?Number.isFinite(X):X!=null&&X!==""&&X!==!1})(z)&&((function(X){return["ot","sf","st","e","sta"].includes(X)})(O)&&typeof z=="string"&&(z=new mb(z)),R[O]=z))})),R}const bo="CMCD-Object",Li="CMCD-Request",Du="CMCD-Session",Gl="CMCD-Status",hie={br:bo,ab:bo,d:bo,ot:bo,tb:bo,tpb:bo,lb:bo,tab:bo,lab:bo,url:bo,pb:Li,bl:Li,tbl:Li,dl:Li,ltc:Li,mtp:Li,nor:Li,nrr:Li,rc:Li,sn:Li,sta:Li,su:Li,ttfb:Li,ttfbb:Li,ttlb:Li,cmsdd:Li,cmsds:Li,smrt:Li,df:Li,cs:Li,ts:Li,cid:Du,pr:Du,sf:Du,sid:Du,st:Du,v:Du,msd:Du,bs:Gl,bsd:Gl,cdn:Gl,rtp:Gl,bg:Gl,pt:Gl,ec:Gl,e:Gl},tw={OBJECT:bo,REQUEST:Li,SESSION:Du,STATUS:Gl},cF="segment";function dF(){let x,S,R,k,D,L,B,U,N,V,W,O,z,H,X,te,ie=this.context,se=(0,h.default)(ie).getInstance(),fe=(0,u.default)(ie).getInstance(),me=(0,l.default)(ie).getInstance();function pe(){k={pr:1,nor:null,st:null,sf:null,sid:`${ot.default.generateUuid()}`,cid:null},z={},O={},H={},W=void 0,X=void 0,te=!1,M()}function _e(){M()}function ee(){X||(X=Date.now())}function Q(){X&&!k.msd&&(k.msd=Date.now()-X)}function M(){if(!B)return;const Y=B.getStreamController();if(!Y||typeof Y.getActiveStream!="function")return;const ce=Y.getActiveStream();ce&&(V=ce.getStreamProcessors())}function re(Y){try{const ce=ue(),oe=ce.version?ce.keys:fe.get().streaming.cmcd.enabledKeys;return Object.keys(Y).filter((Ae=>oe.includes(Ae))).reduce(((Ae,Se)=>(Ae[Se]=Y[Se],Ae)),{})}catch{return Y}}function ye(){const Y=ue();return(function(ce){if(Object.keys(ce).length){if(parseInt(ce.version)!==1)return R.error("version parameter must be defined in 1."),!1;if(!ce.keys)return R.error("keys parameter must be defined."),!1}const oe=ce.version,Ae=fe.get().streaming.cmcd&&fe.get().streaming.cmcd.enabled;return oe||Ae})(Y)&&(function(ce){let oe=fe.get().streaming.cmcd.includeInRequests;ce.version&&(oe=ce.includeInRequests??[cF]);const Ae=p.default.CMCD_AVAILABLE_REQUESTS,Se=oe.filter((De=>!Ae.includes(De)));return Se.length===oe.length?(R.error("None of the request types are supported."),!1):(Se.map((De=>{R.warn(`request type ${De} is not supported.`)})),!0)})(Y)&&(function(ce){const oe=p.default.CMCD_AVAILABLE_KEYS,Ae=p.default.CMCD_V2_AVAILABLE_KEYS,Se=ce.version?ce.keys:fe.get().streaming.cmcd.enabledKeys,De=fe.get().streaming.cmcd.version,ze=Se.filter((Ue=>!(oe.includes(Ue)||De===2&&Ae.includes(Ue))));return ze.length===Se.length&&Se.length>0?(R.error(`None of the keys are implemented for CMCD version ${De}.`),!1):(ze.map((Ue=>{R.warn(`key parameter ${Ue} is not implemented for CMCD version ${De}.`)})),!0)})(Y)}function ue(){let Y={};if(U){const ce=U.getServiceDescriptionSettings();fe.get().streaming.cmcd.applyParametersFromMpd&&ce.clientDataReporting&&ce.clientDataReporting.cmcdParameters&&(Y=ce.clientDataReporting.cmcdParameters)}return Y}function ke(Y){try{let oe=null;if(Y.type,(ce=Y.mediaType)!==p.default.VIDEO&&ce!==p.default.AUDIO||W&&W!=p.default.AUDIO||(W=ce),(function(Ae){const Se=ue();let De=fe.get().streaming.cmcd.includeInRequests;Se.version&&(De=Se.includeInRequests?Se.includeInRequests:[cF]);const ze={[w.HTTPRequest.INIT_SEGMENT_TYPE]:"segment",[w.HTTPRequest.MEDIA_SEGMENT_TYPE]:"segment",[w.HTTPRequest.XLINK_EXPANSION_TYPE]:"xlink",[w.HTTPRequest.MPD_TYPE]:"mpd",[w.HTTPRequest.CONTENT_STEERING_TYPE]:"steering",[w.HTTPRequest.OTHER_TYPE]:"other"};return De.some((Ue=>ze[Ae]===Ue))})(Y.type)){if(Y.type===w.HTTPRequest.MPD_TYPE)return(function(){const Ae=Ge();return Ae.ot=oa.MANIFEST,Ae})();if(Y.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE)return Oe(Y.mediaType),xe(Y,Y.mediaType);if(Y.type===w.HTTPRequest.INIT_SEGMENT_TYPE)return(function(){const Ae=Ge();return Ae.ot=oa.INIT,Ae.su=!0,Ae})();if(Y.type===w.HTTPRequest.OTHER_TYPE||Y.type===w.HTTPRequest.XLINK_EXPANSION_TYPE)return(function(){const Ae=Ge();return Ae.ot=oa.OTHER,Ae})();if(Y.type===w.HTTPRequest.LICENSE)return(function(){const Ae=Ge();return Ae.ot=oa.KEY,Ae})();if(Y.type===w.HTTPRequest.CONTENT_STEERING_TYPE)return(function(Ae){const Se=W?xe(Ae,W):Ge();return Se.ot=oa.OTHER,Se})(Y)}return oe}catch{return null}var ce}function xe(Y,ce){Oe(ce);const oe=Ge(),Ae=(function(St){try{return parseInt(St.bandwidth/1e3)}catch{return null}})(Y),Se=(function(St){try{return isNaN(St.duration)?NaN:Math.round(1e3*St.duration)}catch{return null}})(Y),De=(function(St){try{return 100*parseInt(N.getSafeAverageThroughput(St)/100)}catch{return null}})(ce),ze=(function(St){try{const Zt=k.pr,En=L.getCurrentBufferLevel(St);return isNaN(Zt)||isNaN(En)?null:100*parseInt(En/Zt*10)}catch{return null}})(ce),Ue=Ne(ce),tt=(function(St){try{const Zt=D.getPossibleVoRepresentationsFilteredBySettings(St).map((En=>En.bitrateInKbit));return Math.max(...Zt)}catch{return null}})(Y.representation?.mediaInfo),gt=k.pr,kt=(function(St){if(V&&V.length!==0){for(let Zt of V)if(Zt.getType()===St)return Zt.probeNextRequest()}})(ce);let Mt;ce===p.default.VIDEO&&(Mt=oa.VIDEO),ce===p.default.AUDIO&&(Mt=oa.AUDIO),Y.mediaType===p.default.ENHANCEMENT&&(Mt=oa.OTHER),ce===p.default.TEXT&&(Mt=Y.representation.mediaInfo.mimeType==="application/mp4"?oa.TIMED_TEXT:oa.CAPTION);let un=fe.get().streaming.cmcd.rtp;return un||(un=(function(St){try{let Zt=B.getPlaybackRate();Zt||(Zt=1);let{bandwidth:En,mediaType:tr,representation:Jn,duration:Dn}=St;if(!Jn.mediaInfo)return NaN;let Gn=Ne(tr);Gn===0&&(Gn=500);let et=En*Dn/1e3/(Gn/Zt/1e3),Rt=fe.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(fe.get().streaming.cmcd.rtpSafetyFactor)?fe.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(et*Rt/100)+1)}catch{return NaN}})(Y)),isNaN(un)||(oe.rtp=un),kt&&(Y.url!==kt.url?oe.nor=encodeURIComponent(ot.default.getRelativeUrl(Y.url,kt.url)):kt.range&&(oe.nrr=kt.range)),Ae&&(oe.br=Ae),Mt&&(oe.ot=Mt),isNaN(Se)||(oe.d=Se),isNaN(De)||(oe.mtp=De),isNaN(ze)||(oe.dl=ze),isNaN(Ue)||(oe.bl=Ue),isNaN(tt)||(oe.tb=tt),isNaN(gt)||gt===1||(oe.pr=gt),z[ce]&&(oe.bs=!0,z[ce]=!1),!O[ce]&&H[ce]||(oe.su=!0,O[ce]=!1,H[ce]=!0),oe}function Oe(Y){H.hasOwnProperty(Y)||(H[Y]=!1),O.hasOwnProperty(Y)||(O[Y]=!1),z.hasOwnProperty(Y)||(z[Y]=!1)}function Ge(){const Y=ue(),ce={};let oe=fe.get().streaming.cmcd.cid?fe.get().streaming.cmcd.cid:k.cid;if(oe=Y.contentID?Y.contentID:oe,ce.v=fe.get().streaming.cmcd.version??1,ce.sid=fe.get().streaming.cmcd.sid?fe.get().streaming.cmcd.sid:k.sid,ce.sid=Y.sessionID?Y.sessionID:ce.sid,ce.sid=`${ce.sid}`,oe&&(ce.cid=`${oe}`),isNaN(k.pr)||k.pr===1||k.pr===null||(ce.pr=k.pr),k.st&&(ce.st=k.st),k.sf&&(ce.sf=k.sf),ce.v===2){let Ae=1e3*B.getCurrentLiveLatency();isNaN(Ae)||(ce.ltc=Ae);const Se=k.msd;te||isNaN(Se)||(ce.msd=Se,te=!0)}return ce}function Ne(Y){try{const ce=L.getCurrentBufferLevel(Y);return isNaN(ce)?null:100*parseInt(10*ce)}catch{return null}}function Z(Y){try{k.pr=Y.playbackRate}catch{}}function le(Y){try{const ce=x.getIsDynamic(Y.data)?Ru:Wo,oe=Y.protocol&&Y.protocol==="MSS"?pb:ku;k.st=`${ce}`,k.sf=`${oe}`}catch{}}function ve(Y){try{Y.state&&Y.mediaType&&Y.state===m.default.BUFFER_EMPTY&&(z[Y.mediaType]||(z[Y.mediaType]=!0),O[Y.mediaType]||(O[Y.mediaType]=!0))}catch{}}function de(){for(let Y in z)z.hasOwnProperty(Y)&&(z[Y]=!0);for(let Y in O)O.hasOwnProperty(Y)&&(O[Y]=!0)}return S={getCmcdData:ke,getQueryParameter:function(Y){try{if(ye()){const ce=ke(Y),oe=(function(Ae,Se={}){return Ae?iF(uF(Ae,Se),{whitespace:!1}):""})(re(ce));return se.trigger(Ir.default.CMCD_DATA_GENERATED,{url:Y.url,mediaType:Y.mediaType,cmcdData:ce,cmcdString:oe}),{key:"CMCD",value:oe}}return null}catch{return null}},getHeaderParameters:function(Y){try{if(ye()){const ce=ke(Y),oe=(function(Ae,Se={}){const De={};if(!Ae)return De;const ze=(function(Ue,tt){const gt={};if(!Ue)return gt;const kt=Object.keys(Ue),Mt=tt?(un=tt,Object.keys(un).reduce(((St,Zt)=>{var En;return(En=un[Zt])===null||En===void 0||En.forEach((tr=>St[tr]=Zt)),St}),{})):{};var un;return kt.reduce(((St,Zt)=>{var En;const tr=hie[Zt]||Mt[Zt]||tw.REQUEST;return((En=St[tr])!==null&&En!==void 0?En:St[tr]={})[Zt]=Ue[Zt],St}),gt)})(uF(Ae,Se),Se?.customHeaderMap);return Object.entries(ze).reduce(((Ue,[tt,gt])=>{const kt=iF(gt,{whitespace:!1});return kt&&(Ue[tt]=kt),Ue}),De)})(re(ce),fe.get().streaming.cmcd.version===1?{}:{customHeaderMap:{[tw.REQUEST]:["ltc"],[tw.SESSION]:["msd"]}});return se.trigger(Ir.default.CMCD_DATA_GENERATED,{url:Y.url,mediaType:Y.mediaType,cmcdData:ce,headers:oe}),oe}return null}catch{return null}},getCmcdParametersFromManifest:ue,setConfig:function(Y){Y&&(Y.abrController&&(D=Y.abrController),Y.dashMetrics&&(L=Y.dashMetrics),Y.throughputController&&(N=Y.throughputController),Y.playbackController&&(B=Y.playbackController),Y.serviceDescriptionController&&(U=Y.serviceDescriptionController))},reset:function(){se.off(m.default.PLAYBACK_RATE_CHANGED,Z,this),se.off(m.default.MANIFEST_LOADED,le,this),se.off(m.default.BUFFER_LEVEL_STATE_CHANGED,ve,S),se.off(m.default.PLAYBACK_SEEKED,de,S),se.off(m.default.PLAYBACK_STARTED,ee,S),se.off(m.default.PLAYBACK_PLAYING,Q,S),pe()},initialize:function(Y){se.on(m.default.PLAYBACK_RATE_CHANGED,Z,S),se.on(m.default.MANIFEST_LOADED,le,S),se.on(m.default.BUFFER_LEVEL_STATE_CHANGED,ve,S),se.on(m.default.PLAYBACK_SEEKED,de,S),se.on(m.default.PERIOD_SWITCH_COMPLETED,_e,S),Y?se.on(m.default.MANIFEST_LOADING_STARTED,ee,S):se.on(m.default.PLAYBACK_STARTED,ee,S),se.on(m.default.PLAYBACK_PLAYING,Q,S)},isCmcdEnabled:ye},x=Sr(ie).getInstance(),R=me.getLogger(S),pe(),S}dF.__dashjs_factory_name="CmcdModel";var fF=r.default.getSingletonFactory(dF);const Xp="CMSD-Dynamic",hF="CMSD-Static",wb=qr;function ii(x,S,R){return Hp("parse",x,S,R)}const Ab="List";function Ra(x,S){return{value:x,src:S}}const nw="Inner List",pF="Date",mF=`${gb} or ${vb}`;function gF(x){let S,R=1,k="";const D=ii(x,mF);if(x[0]==="-"&&(R=-1,x=x.substring(1)),x.length<=0)throw D;const L=/^(\d+)?/g,B=L.exec(x);if(B[0].length===0)throw D;if(k+=B[1],(x=x.substring(L.lastIndex))[0]==="."){if(k.length>12)throw D;const U=/^(\.\d+)?/g,N=U.exec(x);if(x=x.substring(U.lastIndex),N[0].length===0||N[1].length>4||(k+=N[1],k.length>16))throw D;S=parseFloat(k)*R}else{if(k.length>15)throw D;if(S=parseInt(k)*R,yb(S))throw ii(k,mF)}return Ra(S,x)}function yF(x,S){const R=x[0];if(R==='"')return(function(k){let D="",L=0;if(k[L]!=='"')throw ii(k,Ms);for(L++;k.length>L;){if(k[L]==="\\"){if(k.length<=L+1||(L++,k[L]!=='"'&&k[L]!=="\\"))throw ii(k,Ms);D+=k[L]}else{if(k[L]==='"')return Ra(D,k.substring(++L));if(Nc.test(k[L]))throw ii(k,Ms);D+=k[L]}L++}throw ii(k,Ms)})(x);if(/^[-0-9]/.test(R))return gF(x);if(R==="?")return(function(k){let D=0;if(k[D]!=="?")throw ii(k,Vp);if(D++,k[D]==="1")return Ra(!0,k.substring(++D));if(k[D]==="0")return Ra(!1,k.substring(++D));throw ii(k,Vp)})(x);if(R===":")return(function(k){if(k[0]!==":"||(k=k.substring(1)).includes(":")===!1)throw ii(k,Kp);const D=/(^.*?)(:)/g,L=D.exec(k)[1];return k=k.substring(D.lastIndex),Ra(new Uint8Array([...atob(L)].map((B=>B.charCodeAt(0)))),k)})(x);if(/^[a-zA-Z*]/.test(R))return(function(k,D){if(/^[a-zA-Z*]$/.test(k[0])===!1)throw ii(k,Eb);const L=/^([!#$%&'*+\-.^_`|~\w:/]+)/g,B=L.exec(k)[1];return k=k.substring(L.lastIndex),Ra(Symbol.for(B),k)})(x);if(R==="@")return(function(k){let D=0;if(k[D]!=="@")throw ii(k,pF);D++;const L=gF(k.substring(D));if(Number.isInteger(L.value)===!1)throw ii(k,pF);return Ra(new Date(1e3*L.value),L.src)})(x);throw ii(x,Gp)}function bF(x){let S=0;if(/^[a-z*]$/.test(x[S])===!1)throw ii(x,yo);let R="";for(;x.length>S;){if(/^[a-z0-9_\-.*]$/.test(x[S])===!1)return Ra(R,x.substring(S));R+=x[S],S++}return Ra(R,x.substring(S))}function rw(x,S){let R;for(;x.length>0&&x[0]===";";){const k=bF(x=x.substring(1).trim()),D=k.value;let L=!0;if((x=k.src)[0]==="="){const B=yF(x=x.substring(1));L=B.value,x=B.src}R==null&&(R={}),R[D]=L}return Ra(R,x)}function vF(x,S){const R=yF(x),k=rw(x=R.src);return x=k.src,Ra(new la(R.value,k.value),x)}function EF(x,S){return x[0]==="("?(function(R,k){if(R[0]!=="(")throw ii(R,nw);R=R.substring(1);const D=[];for(;R.length>0;){if((R=R.trim())[0]===")"){const B=rw(R=R.substring(1));return Ra(new la(D,B.value),B.src)}const L=vF(R);if(D.push(L.value),(R=L.src)[0]!==" "&&R[0]!==")")throw ii(R,nw)}throw ii(R,nw)})(x):vF(x)}const pie=hF.toLowerCase(),mie=Xp.toLowerCase(),gie=["mb","st","sf","v"],iw="stream",yie={video:wb.VIDEO,audio:wb.AUDIO,text:wb.TIMED_TEXT,stream:iw};function _F(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D,L;function B(){D={},L={}}function U(z){z&&Object.keys(z).forEach((H=>{gie.includes(H)||delete z[H]}))}function N(z){try{return(H=z)?Object.entries((function(X,te){try{const{src:ie,value:se}=(function(fe,me){const pe={};for(;fe.length>0;){let _e;const ee=bF(fe),Q=ee.value;if((fe=ee.src)[0]==="="){const M=EF(fe.substring(1),me);_e=M.value,fe=M.src}else{const M=rw(fe,me);_e=new la(!0,M.value),fe=M.src}if(pe[Q]=_e,(fe=fe.trim()).length===0)return Ra(pe,fe);if(fe[0]!==","||(fe=fe.substring(1).trim()).length===0||fe[0]===",")throw ii(fe,Hl)}return Ra(pe,fe)})(X.trim(),te);if(ie!=="")throw ii(ie,Hl);return se}catch(ie){throw ii(X,Hl,ie)}})(H)).reduce(((X,[te,ie])=>{const{value:se}=ie;return X[te]=typeof se=="symbol"?Cu(se):se,X}),{}):{}}catch(X){k.error("Failed to parse CMSD-Static response header value:",X)}var H}function V(z){try{const X=(H=z)?(function(ie,se){try{const{src:fe,value:me}=(function(pe,_e){const ee=[];for(;pe.length>0;){const Q=EF(pe,_e);if(ee.push(Q.value),(pe=Q.src.trim()).length===0)return Ra(ee,pe);if(pe[0]!==","||(pe=pe.substring(1).trim()).length===0||pe[0]===",")throw ii(pe,Ab)}return Ra(ee,pe)})(ie.trim(),se);if(fe!=="")throw ii(fe,Ab);return me}catch(fe){throw ii(ie,Ab,fe)}})(H):[];return X[X.length-1]?.params||{}}catch(X){return k.error("Failed to parse CMSD-Dynamic response header value:",X),{}}var H}function W(z){return yie[z]||wb.OTHER}function O(z,H,X){const te=z===hF?D:L,ie=te[H]||{},se=te[iw]||{};return ie[X]||se[X]}return R={setConfig:function(){},initialize:function(){},reset:function(){B()},parseResponseHeaders:function(z,H){let X=null,te=null;for(const se in z){const fe=z[se];switch(se){case pie:X=N(fe),S.trigger(f.default.CMSD_STATIC_HEADER,X);break;case mie:te||(te=V(fe))}}let ie=iw;return X&&X.ot?ie=X.ot:H&&(ie=W(H)),U(D[ie]),U(L[ie]),X&&(D[ie]=Object.assign(D[ie]||{},X)),te&&(L[ie]=Object.assign(L[ie]||{},te)),{static:X,dynamic:te}},getMaxBitrate:function(z){let H=W(z);return O(Xp,H,"mb")||-1},getEstimatedThroughput:function(z){let H=W(z);return O(Xp,H,"etp")||null},getResponseDelay:function(z){let H=W(z);return O(Xp,H,"rd")||null},getRoundTripTime:function(z){let H=W(z);return O(Xp,H,"rtt")||null}},k=(0,l.default)(x).getInstance().getLogger(R),B(),R}_F.__dashjs_factory_name="CmsdModel";var TF=r.default.getSingletonFactory(_F),aw=n(1926);function SF(){let x,S;function R(){S={}}return x={reset:function(){R()},processResponseHeaders:function(k){if(!(k&&k.headers&&k.request&&k.request.url))return;const D=k.headers[p.default.COMMON_ACCESS_TOKEN_HEADER];if(D){const L=ot.default.getHostFromUrl(k.request.url);L&&(S[L]=D)}},getCommonAccessTokenForUrl:function(k){if(!k)return null;const D=ot.default.getHostFromUrl(k);return D?S[D]?S[D]:null:void 0}},R(),x}SF.__dashjs_factory_name="CommonAccessTokenController";var bie=r.default.getSingletonFactory(SF);function wF(){let x,S;return x={setConfig:function(R){R&&R.serviceDescriptionController&&(S=R.serviceDescriptionController)},isAdaptationsIncluded:function(R){const{adaptationSetsArray:k}=S?.getServiceDescriptionSettings()?.clientDataReporting??{};return!k||k?.length===0||k.includes(R)},isServiceLocationIncluded:function(R,k){if(R===w.HTTPRequest.CONTENT_STEERING_TYPE)return!0;const{serviceLocationsArray:D}=S?.getServiceDescriptionSettings()?.clientDataReporting??{};return!D||D?.length===0||D.includes(k)}},x}wF.__dashjs_factory_name="ClientDataReportingController";var AF=r.default.getSingletonFactory(wF);function IF(){let x,S,R;const k=this.context;function D(L,B,U,N,V){const W=(function(O,z){let H=[];return H=z===Re.default.PERIOD?O[Re.default.SUPPLEMENTAL_PROPERTY]||[]:[...O[Re.default.ESSENTIAL_PROPERTY]||[],...O[Re.default.SUPPLEMENTAL_PROPERTY]||[]],H.find((X=>X.schemeIdUri===p.default.URL_QUERY_INFO_SCHEME&&X.UrlQueryInfo||X.schemeIdUri===p.default.EXT_URL_QUERY_INFO_SCHEME&&X.ExtUrlQueryInfo))})(B,V);(function(O,z,H,X){H.initialQueryString="";let te="";const ie=O?.ExtUrlQueryInfo||O?.UrlQueryInfo;te=ie&&ie.queryString?z&&z.length>0?z+"&"+ie.queryString:ie.queryString:z,ie?.useMPDUrlQuery==="true"&&X&&(te=te?te+"&"+X:X),H.initialQueryString=te})(W,N.initialQueryString,L,U),(function(O,z,H){if(!O)return void(z.finalQueryString=H);const X=O?.ExtUrlQueryInfo?.queryTemplate||O?.UrlQueryInfo?.queryTemplate||"";z.finalQueryString=X===Re.default.QUERY_PART?z?.initialQueryString:""})(W,L,N.finalQueryString),L.sameOriginOnly=W?.ExtUrlQueryInfo?.sameOriginOnly,L.queryParams=ot.default.parseQueryParams(L?.finalQueryString),L.includeInRequests=(function(O,z){return O?O.ExtUrlQueryInfo?.includeInRequests?O.ExtUrlQueryInfo.includeInRequests.split(" "):[Re.default.SEGMENT_TYPE]:z})(W,N.includeInRequests)}return S=(0,l.default)(k).getInstance().getLogger(x),x={getFinalQueryString:function(L){try{if(!R)return null;if(L.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE||L.type===w.HTTPRequest.INIT_SEGMENT_TYPE){const B=L.representation;if(!B)return null;const U=B.adaptation,N=U.period,V=R.period[N.index].adaptation[U.index].representation[B.index],W=new URL(L.url),O=!V.sameOriginOnly||R.origin===W.origin;if(V.includeInRequests.includes(Re.default.SEGMENT_TYPE)&&O)return V.queryParams}else if(L.type===w.HTTPRequest.MPD_TYPE){if([Re.default.MPD_TYPE,Re.default.MPD_PATCH_TYPE].some((B=>R.includeInRequests.includes(B))))return R.queryParams}else if(L.type===w.HTTPRequest.CONTENT_STEERING_TYPE&&R.includeInRequests.includes(Re.default.STEERING_TYPE))return R.queryParams}catch(B){return S.error(B),null}},createFinalQueryStrings:function(L){R={origin:new URL(L.url).origin,period:[]};const B=L.url.split("?")[1];D(R,L,B,{initialQueryString:"",includeInRequests:[]},Re.default.MPD),L.Period.forEach((U=>{const N={adaptation:[]};D(N,U,B,R,Re.default.PERIOD),U.AdaptationSet.forEach((V=>{const W={representation:[]};D(W,V,B,N,Re.default.ADAPTATION_SET),V.Representation.forEach((O=>{const z={};D(z,O,B,W,Re.default.REPRESENTATION),W.representation.push(z)})),N.adaptation.push(W)})),R.period.push(N)}))}},x}IF.__dashjs_factory_name="ExtUrlQueryInfoController";var xF=r.default.getSingletonFactory(IF),sw=class{constructor(x){this.url=x.url,this.method=x.method,this.responseType=x.responseType!==void 0?x.responseType:null,this.headers=x.headers!==void 0?x.headers:{},this.credentials=x.credentials!==void 0?x.credentials:null,this.mode=x.mode!==void 0?x.mode:null,this.timeout=x.timeout!==void 0?x.timeout:0,this.cmcd=x.cmcd!==void 0?x.cmcd:null,this.customData=x.customData!==void 0?x.customData:null}},ow=class{constructor(x){this.request=x.request,this.url=x.url!==void 0?x.url:null,this.redirected=x.redirected!==void 0&&x.redirected,this.status=x.status!==void 0?x.status:null,this.statusText=x.statusText!==void 0?x.statusText:"",this.type=x.type!==void 0?x.type:"",this.headers=x.headers!==void 0?x.headers:{},this.data=x.data!==void 0?x.data:null,this.resourceTiming=x.resourceTiming!==void 0?x.resourceTiming:null}};function RF(x){x=x||{};const S=this.context,R=x.errHandler,k=x.dashMetrics,D=x.mediaPlayerModel,L=x.boxParser,B=x.errors,U=x.requestTimeout||0,N=(0,h.default)(S).getInstance(),V=(0,u.default)(S).getInstance();let W,O,z,H,X,te,ie,se,fe,me,pe,_e,ee,Q;function M(re,ye){const ue=function(){Ge()},ke=function(St){const Zt=new Date;ce&&(ce=!1,(!St.lengthComputable||St.lengthComputable&&St.total!==St.loaded)&&(de.firstByteDate=Zt,Ue.resourceTiming.responseStart=Zt.getTime())),St.lengthComputable&&(de.bytesLoaded=Ue.length=St.loaded,de.bytesTotal=Ue.resourceTiming.encodedBodySize=St.total,Ue.length=St.total,Ue.resourceTiming.encodedBodySize=St.loaded),St.noTrace||(Y.push({s:Ae,d:St.time?St.time:Zt.getTime()-Ae.getTime(),b:[St.loaded?St.loaded-Se:0],t:St.throughput}),de.traces=Y,Ae=Zt,Se=St.loaded),De&&(clearTimeout(De),De=null),V.get().streaming.fragmentRequestProgressTimeout>0&&(De=setTimeout((function(){Q.warn("Abort request "+ze.url+" due to progress timeout"),gt.abort(ze),ue()}),V.get().streaming.fragmentRequestProgressTimeout)),re.progress&&St&&re.progress(St)},xe=function(){Ge(!0)},Oe=function(St){let Zt;if(St.lengthComputable){let En=St.loaded/St.total*100;Zt="Request timeout: loaded: "+St.loaded+", out of: "+St.total+" : "+En.toFixed(3)+"% Completed"}else Zt="Request timeout: non-computable download size";Q.warn(Zt)},Ge=function(St=!1){O.indexOf(ze)!==-1&&O.splice(O.indexOf(ze),1),De&&(clearTimeout(De),De=null),pe.processResponseHeaders(Ue),Ne(),Z(),(function(Zt){const En=me.getResponseInterceptors();return En?En.reduce(((tr,Jn)=>tr.then((Dn=>Jn(Dn)))),Promise.resolve(Zt)):Promise.resolve(Zt)})(Ue).then((Zt=>{if(Ue=Zt,(function(En,tr,Jn){const Dn=En.customData.request,Gn=V.get().streaming.cmsd&&V.get().streaming.cmsd.enabled?ie.parseResponseHeaders(tr.headers,Dn.mediaType):null;k.addHttpRequest(Dn,tr.url,tr.status,tr.headers,Jn,Gn)})(ze,Ue,Y),St)re.abort&&re.abort(de);else if(de.type===w.HTTPRequest.MPD_TYPE&&(k.addManifestUpdate(de),N.trigger(f.default.MANIFEST_LOADING_FINISHED,{requestObject:de})),Ue.status>=200&&Ue.status<=299&&Ue.data)re.success&&re.success(Ue.data,Ue.statusText,Ue.url),re.complete&&re.complete(de,Ue.statusText);else{try{Ue.status===404&&V.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&de.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&D.getRetryAttemptsForType(w.HTTPRequest.MEDIA_SEGMENT_TYPE)===ye&&N.trigger(f.default.ATTEMPT_BACKGROUND_SYNC)}catch{}ve()}}))},Ne=function(){de.startDate=oe,de.endDate=new Date,de.firstByteDate=de.firstByteDate||oe},Z=function(){Ue.resourceTiming.responseEnd=Date.now(),(function(St,Zt){if(!V.get().streaming.abr.throughput.useResourceTimingApi||typeof performance>"u"||St.range)return;const En=performance.getEntriesByType?.("resource");if(En===void 0||En.length<=0)return;let tr=0,Jn=null;for(;tr<En.length;){if(En[tr].name===St.url){Jn=En[tr];break}tr+=1}(function(Dn){return Dn&&!isNaN(Dn.responseStart)&&Dn.responseStart>0&&!isNaN(Dn.responseEnd)&&Dn.responseEnd>0&&!isNaN(Dn.transferSize)&&Dn.transferSize>0})(Jn)&&(St.customData.request.resourceTimingValues=Jn,Zt.resourceTiming.startTime=Jn.startTime,Zt.resourceTiming.encodedBodySize=Jn.encodedBodySize,Zt.resourceTiming.responseStart=Jn.startTime,Zt.resourceTiming.responseEnd=Jn.responseEnd,Zt.resourceTiming.duration=Jn.duration)})(ze,Ue)},le=function(St,Zt,En){return new Promise((tr=>{(function(Jn){const Dn=me.getRequestInterceptors();return Dn?Dn.reduce(((Gn,et)=>Gn.then((Rt=>et(Rt)))),Promise.resolve(Jn)):Promise.resolve(Jn)})(Zt).then((Jn=>{(Zt=Jn).customData.onloadend=ue,Zt.customData.onprogress=ke,Zt.customData.onabort=xe,Zt.customData.ontimeout=Oe,En.resourceTiming.startTime=Date.now(),St.load(Zt,En),tr()}))}))},ve=function(){if(ye>0){ye--,re&&re.request&&(re.request.retryAttempts+=1);let St={config:re};H.push(St),St.timeout=setTimeout((function(){H.indexOf(St)!==-1&&(H.splice(H.indexOf(St),1),M(re,ye))}),D.getRetryIntervalsForType(de.type))}else{if(de.type===w.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;R.error(new an.default(X[de.type],de.url+" is not available",{request:de,response:Ue})),re.error&&re.error(de,"error",Ue.statusText,Ue),re.complete&&re.complete(de,Ue.statusText)}},de=re.request,Y=[];let ce,oe,Ae,Se,De,ze,Ue;if(de.bytesLoaded=NaN,de.bytesTotal=NaN,de.firstByteDate=null,de.traces=[],ce=!0,oe=new Date,Ae=oe,Se=0,De=null,!k||!R)throw new Error("config object is not correct or missing");const tt=(function(St){let Zt,En;return!St.isPartialSegmentRequest&&St.hasOwnProperty("availabilityTimeComplete")&&St.availabilityTimeComplete===!1&&window.fetch&&St.responseType==="arraybuffer"&&St.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE?(fe||(fe=mr(S).create(),fe.setConfig({dashMetrics:k,boxParser:L})),Zt=fe,En=p.default.FILE_LOADER_TYPES.FETCH):(se||(se=dn(S).create()),Zt=se,En=p.default.FILE_LOADER_TYPES.XHR),{loader:Zt,fileLoaderType:En}})(de),gt=tt.loader;var kt;de.fileLoaderType=tt.fileLoaderType,de.headers={},(function(St){const Zt=St?.serviceLocation,En=St?.mediaInfo?.id?.toString();if(_e.isServiceLocationIncluded(St.type,Zt)&&_e.isAdaptationsIncluded(En)&&te.isCmcdEnabled()){const tr=te.getCmcdParametersFromManifest(),Jn=tr.mode?tr.mode:V.get().streaming.cmcd.mode;if(Jn===p.default.CMCD_MODE_QUERY){St.url=ot.default.removeQueryParameterFromUrl(St.url,p.default.CMCD_QUERY_KEY);const Dn=(function(Gn){try{const et=[],Rt=te.getQueryParameter(Gn);return Rt&&et.push(Rt),et}catch{return[]}})(St);St.url=ot.default.addAdditionalQueryParameterToUrl(St.url,Dn)}else Jn===p.default.CMCD_MODE_HEADER&&(St.headers=Object.assign(St.headers,te.getHeaderParameters(St)))}})(kt=de),kt.retryAttempts===0&&(function(St){let Zt=ee.getFinalQueryString(St);Zt&&(St.url=ot.default.addAdditionalQueryParameterToUrl(St.url,Zt))})(kt),(function(St){if(St.queryParams){const Zt=Object.keys(St.queryParams).map((En=>({key:En,value:St.queryParams[En]})));St.url=ot.default.addAdditionalQueryParameterToUrl(St.url,Zt)}})(kt),(function(St){const Zt=pe.getCommonAccessTokenForUrl(St.url);Zt&&(St.headers[p.default.COMMON_ACCESS_TOKEN_HEADER]=Zt)})(kt),de.range&&(de.headers.Range="bytes="+de.range);const Mt=me.getXHRWithCredentialsForType(de.type);ze=new sw({url:de.url,method:w.HTTPRequest.GET,responseType:de.responseType,headers:de.headers,credentials:Mt?"include":"omit",timeout:U,cmcd:te.getCmcdData(de),customData:{request:de}}),Ue=new ow({request:ze,resourceTiming:{startTime:Date.now(),encodedBodySize:0},status:0});let un=new Date().getTime();if(isNaN(de.delayLoadingTime)||un>=de.delayLoadingTime)return O.push(ze),le(gt,ze,Ue);{let St={httpRequest:ze,httpResponse:Ue};return z.push(St),St.delayTimeout=setTimeout((function(){if(z.indexOf(St)!==-1){z.splice(z.indexOf(St),1);try{oe=new Date,Ae=oe,O.push(St.httpRequest),le(gt,St.httpRequest,St.httpResponse)}catch{St.httpRequest.onloadend()}}}),de.delayLoadingTime-un),Promise.resolve()}}return W={abort:function(){H.forEach((re=>{clearTimeout(re.timeout),re.config.request&&re.config.abort&&re.config.abort(re.config.request)})),H=[],z.forEach((re=>clearTimeout(re.delayTimeout))),z=[],O.forEach((re=>{const ye=re.customData;ye&&(ye.request&&ye.request.type===w.HTTPRequest.MSS_FRAGMENT_INFO_SEGMENT_TYPE||(ye.onloadend=ye.onprogress=void 0,ye.abort&&ye.abort()))})),O=[]},load:function(re){return re.request?M(re,D.getRetryAttemptsForType(re.request.type)):(re.error&&re.error(re.request,"error"),Promise.resolve())},reset:function(){O=[],z=[],H=[],se&&se.reset(),fe&&fe.reset(),se=null,fe=null},resetInitialSettings:function(){se&&se.resetInitialSettings()},setConfig:function(re){re&&(re.commonAccessTokenController&&(pe=re.commonAccessTokenController),re.extUrlQueryInfoController&&(ee=re.extUrlQueryInfoController))}},Q=(0,l.default)(S).getInstance().getLogger(W),O=[],z=[],H=[],te=fF(S).getInstance(),_e=AF(S).getInstance(),ie=TF(S).getInstance(),me=(0,aw.default)(S).getInstance(),pe=bie(S).getInstance(),ee=xF(S).getInstance(),X={[w.HTTPRequest.MPD_TYPE]:B.DOWNLOAD_ERROR_ID_MANIFEST_CODE,[w.HTTPRequest.XLINK_EXPANSION_TYPE]:B.DOWNLOAD_ERROR_ID_XLINK_CODE,[w.HTTPRequest.INIT_SEGMENT_TYPE]:B.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE,[w.HTTPRequest.MEDIA_SEGMENT_TYPE]:B.DOWNLOAD_ERROR_ID_CONTENT_CODE,[w.HTTPRequest.INDEX_SEGMENT_TYPE]:B.DOWNLOAD_ERROR_ID_CONTENT_CODE,[w.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE]:B.DOWNLOAD_ERROR_ID_CONTENT_CODE,[w.HTTPRequest.OTHER_TYPE]:B.DOWNLOAD_ERROR_ID_CONTENT_CODE},W}RF.__dashjs_factory_name="HTTPLoader";var vie=r.default.getClassFactory(RF);function kF(){let x,S;function R(){S={}}function k(){R()}return k(),x={getLoader:function(D){for(var L in S)if(S.hasOwnProperty(L)&&D.startsWith(L))return S[L];return vie},registerLoader:function(D,L){S[D]=L},unregisterLoader:function(D){S[D]&&delete S[D]},unregisterAllLoader:R,reset:k},x}kF.__dashjs_factory_name="SchemeLoaderFactory";var CF=r.default.getSingletonFactory(kF);function DF(x){x=x||{};const S=this.context;let R,k,D;return k=CF(S).getInstance(),R={abort:function(){D&&D.abort()},load:function(L){D||(D=k.getLoader(L&&L.request?L.request.url:null)(S).create({errHandler:x.errHandler,mediaPlayerModel:x.mediaPlayerModel,dashMetrics:x.dashMetrics,boxParser:x.boxParser?x.boxParser:null,constants:x.constants?x.constants:null,dashConstants:x.dashConstants?x.dashConstants:null,urlUtils:x.urlUtils?x.urlUtils:null,requestTimeout:isNaN(x.requestTimeout)?0:x.requestTimeout,errors:x.errors})),D.load(L)},reset:function(){k&&(k.reset(),k=null),D&&typeof D.reset=="function"&&D.reset(),D=null},resetInitialSettings:function(){D&&typeof D.resetInitialSettings=="function"&&D.resetInitialSettings()}},R}DF.__dashjs_factory_name="URLLoader";var of=r.default.getClassFactory(DF),Eie=class{constructor(x){this.url=x||null,this.type=w.HTTPRequest.CONTENT_STEERING_TYPE,this.responseType="json"}},_ie=class{constructor(){this.version=null,this.ttl=300,this.reloadUri=null,this.pathwayPriority=[],this.pathwayClones=[]}};function LF(){const x=this.context,S=Ur(x).getInstance();let R,k,D,L,B,U,N,V,W,O,z,H,X,te,ie;function se(ke){pe(ke,"baseUrl")}function fe(ke){pe(ke,"location")}function me(ke){var xe,Oe;ke&&ke.throughputValues&&ke.throughputValues.serviceLocation&&(xe=ke.throughputValues.serviceLocation,Oe=ke.throughputValues,B[xe]||(B[xe]=[]),B[xe].push(Oe),B[xe].length>4&&B[xe].shift())}function pe(ke,xe){if(ke&&ke.request&&ke.request.serviceLocation){const Oe=ke.request.serviceLocation;L[xe].all.indexOf(Oe)===-1&&L[xe].all.push(Oe),L[xe].current=Oe}}function _e(){const ke=z.getValue();let xe=ie.getContentSteering(ke);return xe||(xe=H.getServiceDescriptionSettings().contentSteering),xe}function ee(){return new Promise((ke=>{try{const xe=_e();if(!xe||!xe.serverUrl)return void ke();const Oe=(function(Ne){let Z=Ne.serverUrl;D&&D.reloadUri&&(Z=S.isRelative(D.reloadUri)?S.resolve(D.reloadUri,Ne.serverUrl):D.reloadUri);const le=[],ve=L.baseUrl.all.concat(L.location.all);if(ve.length>0){const de=ve.map((oe=>{const Ae=(function(Se){if(!Se||!B[Se]||B[Se].length===0)return-1;const De=X.getArithmeticMean(B[Se],B[Se].length,!0);return parseInt(1e3*De)})(oe);return{serviceLocation:oe,throughput:Ae}}));let Y="",ce="";de.forEach(((oe,Ae)=>{Ae!==0&&(Y+=",",ce+=","),Y+=oe.serviceLocation,ce+=oe.throughput>-1?oe.throughput:""})),le.push({key:"_DASH_pathway",value:`"${Y}"`}),le.push({key:"_DASH_throughput",value:ce})}return Z=ot.default.addAdditionalQueryParameterToUrl(Z,le),Z})(xe),Ge=new Eie(Oe);N.load({request:Ge,success:Ne=>{(function(Z){Z&&Z[Re.default.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(Z[Re.default.CONTENT_STEERING_RESPONSE.VERSION])===1&&(D=new _ie,D.version=Z[Re.default.CONTENT_STEERING_RESPONSE.VERSION],Z[Re.default.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(Z[Re.default.CONTENT_STEERING_RESPONSE.TTL])&&(D.ttl=Z[Re.default.CONTENT_STEERING_RESPONSE.TTL]),Z[Re.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(D.reloadUri=Z[Re.default.CONTENT_STEERING_RESPONSE.RELOAD_URI]),Z[Re.default.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]&&(D.pathwayPriority=Z[Re.default.CONTENT_STEERING_RESPONSE.PATHWAY_PRIORITY]),Z[Re.default.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES]&&(D.pathwayClones=Z[Re.default.CONTENT_STEERING_RESPONSE.PATHWAY_CLONES],D.pathwayClones=D.pathwayClones.filter((le=>(function(ve){return ve[Re.default.CONTENT_STEERING_RESPONSE.BASE_ID]&&ve[Re.default.CONTENT_STEERING_RESPONSE.ID]&&ve[Re.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT]&&ve[Re.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][Re.default.CONTENT_STEERING_RESPONSE.HOST]})(le)))),re())})(Ne),te.trigger(m.default.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:D,url:Oe}),ke()},error:(Ne,Z,le,ve)=>{(function(de,Y){try{switch(k.warn("Error fetching data from content steering server",de),Y.status){case 410:break;case 429:const ce=Y&&Y.getResponseHeader?Y.getResponseHeader("retry-after"):null;ce!==null&&(D||(D={}),D.ttl=parseInt(ce)),re();break;default:re()}}catch(ce){k.error(ce)}})(Ne,ve),ke(Ne)},complete:()=>{L.baseUrl.all=Q(L.baseUrl),L.location.all=Q(L.location)}})}catch(xe){ke(xe)}}))}function Q(ke){return ke.all&&ke.all.length!==0&&ke.current?ke.all.filter((xe=>xe===ke.current)):[]}function M(ke){try{const xe=[];return ke&&ke.length!==0&&D&&D.pathwayClones&&D.pathwayClones.length!==0&&D.pathwayClones.forEach((Oe=>{let Ge=ke.filter((Z=>Oe[Re.default.CONTENT_STEERING_RESPONSE.BASE_ID]===Z.serviceLocation)),Ne=null;if(Ge&&Ge.length>0&&(Ne=Ge[0]),Ne){const Z=new URL(Ne.url);let le=Oe[Re.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][Re.default.CONTENT_STEERING_RESPONSE.HOST];le=ot.default.stringHasProtocol(le)?le:`${Z.protocol}//${le}`;const ve={synthesizedUrl:`${le}${Z.pathname}`,serviceLocation:Oe[Re.default.CONTENT_STEERING_RESPONSE.ID],queryParams:Oe[Re.default.CONTENT_STEERING_RESPONSE.URI_REPLACEMENT][Re.default.CONTENT_STEERING_RESPONSE.PARAMS],reference:Ne};xe.push(ve)}})),xe}catch(xe){return k.error(xe),[]}}function re(){D&&D.ttl&&!isNaN(D.ttl)&&(U&&clearTimeout(U),U=setTimeout((()=>{ee()}),1e3*D.ttl))}function ye(){U&&clearTimeout(U),U=null}function ue(){D=null,B={},L={baseUrl:{current:null,all:[]},location:{current:null,all:[]}},ye()}return R={reset:function(){ue(),te.off(m.default.FRAGMENT_LOADING_STARTED,se,R),te.off(m.default.MANIFEST_LOADING_STARTED,fe,R),te.off(m.default.THROUGHPUT_MEASUREMENT_STORED,me,R)},setConfig:function(ke){ke&&(ke.adapter&&(ie=ke.adapter),ke.errHandler&&(V=ke.errHandler),ke.dashMetrics&&(W=ke.dashMetrics),ke.mediaPlayerModel&&(O=ke.mediaPlayerModel),ke.manifestModel&&(z=ke.manifestModel),ke.serviceDescriptionController&&(H=ke.serviceDescriptionController),ke.throughputController&&(X=ke.throughputController),ke.eventBus&&(te=ke.eventBus))},loadSteeringData:ee,getCurrentSteeringResponseData:function(){return D},shouldQueryBeforeStart:function(){const ke=_e();return!!ke&&ke.queryBeforeStart},getSteeringDataFromManifest:_e,stopSteeringRequestTimer:ye,getSynthesizedBaseUrlElements:function(ke){try{return M(ke).map((xe=>{const Oe=new ci(xe.synthesizedUrl,xe.serviceLocation);return Oe.queryParams=xe.queryParams,Oe.dvbPriority=xe.reference.dvbPriority,Oe.dvbWeight=xe.reference.dvbWeight,Oe.availabilityTimeOffset=xe.reference.availabilityTimeOffset,Oe.availabilityTimeComplete=xe.reference.availabilityTimeComplete,Oe}))}catch(xe){return k.error(xe),[]}},getSynthesizedLocationElements:function(ke){try{return M(ke).map((xe=>{const Oe=new Di(xe.synthesizedUrl,xe.serviceLocation);return Oe.queryParams=xe.queryParams,Oe}))}catch(xe){return k.error(xe),[]}},initialize:function(){N=of(x).create({errHandler:V,dashMetrics:W,mediaPlayerModel:O,errors:fn}),te.on(m.default.FRAGMENT_LOADING_STARTED,se,R),te.on(m.default.MANIFEST_LOADING_STARTED,fe,R),te.on(m.default.THROUGHPUT_MEASUREMENT_STORED,me,R)}},k=(0,l.default)(x).getInstance().getLogger(R),ue(),R}LF.__dashjs_factory_name="ContentSteeringController";var lw=r.default.getSingletonFactory(LF);function PF(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D,L=[];function B(N=[],V=[]){let W=0,O=NaN;for(;W<N.length;){const z=N[W],H=V.findIndex((X=>X.serviceLocation&&X.serviceLocation===z));if(H!==-1&&!D.contains(V[H].serviceLocation)){O=H;break}W+=1}return O}function U(N){const V=k.getCurrentSteeringResponseData();if(!V)return;const W=N.entry,O=setTimeout((()=>{D.remove(W),L.splice(L.indexOf(O,1))}),1e3*V.ttl);L.push(O)}return R={selectBaseUrlIndex:function(N){let V=NaN;if(isNaN(N.selectedIdx)){const O=k.getSteeringDataFromManifest();O&&O.defaultServiceLocationArray.length>0&&(V=B(O.defaultServiceLocationArray,N.baseUrls))}const W=k.getCurrentSteeringResponseData();return N.baseUrls&&N.baseUrls.length&&W&&W.pathwayPriority&&W.pathwayPriority.length&&(V=B(W.pathwayPriority,N.baseUrls)),V},setConfig:function(N){N.blacklistController&&(D=N.blacklistController),N.contentSteeringController&&(k=N.contentSteeringController),S.on(N.addBlacklistEventName,U,R)},reset:function(){L.forEach((N=>clearTimeout(N))),L=[]}},k=lw(x).getInstance(),R}PF.__dashjs_factory_name="ContentSteeringSelector";var Tie=r.default.getClassFactory(PF);function OF(){const x=this.context,S=(0,h.default)(x).getInstance(),R=(0,u.default)(x).getInstance();let k,D,L,B,U,N;function V(){U.reset(),D.reset()}return k={chooseSelector:function(W){(0,wt.checkParameterType)(W,"boolean"),N=W?B:L},select:function(W){if(!W)return;if(R.get().streaming.applyContentSteering){const z=U.selectBaseUrlIndex(W);isNaN(z)||z===-1||(W.selectedIdx=z)}if(!isNaN(W.selectedIdx))return W.baseUrls[W.selectedIdx];let O=N.select(W.baseUrls);return O?(W.selectedIdx=W.baseUrls.indexOf(O),O):(S.trigger(f.default.URL_RESOLUTION_FAILED,{error:new an.default(fn.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,fn.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(N===L&&V()))},reset:V,setConfig:function(W){W.selector&&(N=W.selector),W.contentSteeringSelector&&(U=W.contentSteeringSelector)}},D=pn(x).create({updateEventName:f.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,addBlacklistEventName:f.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),L=hr(x).create({blacklistController:D}),B=Fn(x).create({blacklistController:D}),U=Tie(x).create(),U.setConfig({blacklistController:D,addBlacklistEventName:f.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD}),N=L,k}OF.__dashjs_factory_name="BaseURLSelector";var Sie=r.default.getClassFactory(OF);function MF(){let x,S;const R=this.context,k=(0,h.default)(R).getInstance(),D=Ur(R).getInstance();let L,B,U;function N(W){L.update(W),B.chooseSelector(S.getIsDVB(W)),k.trigger(m.default.BASE_URLS_UPDATED,{baseUrls:V(W)})}function V(W){return L.getBaseUrls(W)}return x={reset:function(){L.reset(),B.reset()},initialize:function(W){L.setConfig({adapter:S,contentSteeringController:U}),N(W)},resolve:function(W){const O=L.getForPath(W).reduce(((z,H)=>{const X=B.select(H);return X?(D.isRelative(X.url)?z.url=D.resolve(X.url,z.url):(z.url=X.url,z.serviceLocation=X.serviceLocation),z.availabilityTimeOffset=X.availabilityTimeOffset,z.availabilityTimeComplete=X.availabilityTimeComplete,z.queryParams=X.queryParams,z):new ci}),new ci);if(!D.isRelative(O.url))return O},setConfig:function(W){W.baseURLTreeModel&&(L=W.baseURLTreeModel),W.baseURLSelector&&(B=W.baseURLSelector),W.adapter&&(S=W.adapter),W.contentSteeringController&&(U=W.contentSteeringController)},getBaseUrls:V,update:N},L=Ot(R).create(),B=Sie(R).create(),k.on(f.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,(function(W){L.invalidateSelectedIndexes(W.entry)}),x),x}MF.__dashjs_factory_name="BaseURLController";var wie=r.default.getClassFactory(MF);class uw{constructor(S){if(this.offset=S._offset,this.type=S.type,this.size=S.size,this.boxes=[],S.boxes)for(let R=0;R<S.boxes.length;R++)this.boxes.push(new uw(S.boxes[R]));switch(this.isComplete=!0,S.type){case"sidx":if(this.timescale=S.timescale,this.earliest_presentation_time=S.earliest_presentation_time,this.first_offset=S.first_offset,this.references=S.references,S.references){this.references=[];for(let R=0;R<S.references.length;R++){let k={reference_type:S.references[R].reference_type,referenced_size:S.references[R].referenced_size,subsegment_duration:S.references[R].subsegment_duration};this.references.push(k)}}break;case"emsg":this.id=S.id,this.version=S.version===1?1:0,this.value=S.value,this.timescale=S.timescale,this.scheme_id_uri=S.scheme_id_uri,this.presentation_time_delta=S.version===1?S.presentation_time:S.presentation_time_delta,this.event_duration=S.event_duration,this.message_data=S.message_data;break;case"mdhd":this.timescale=S.timescale;break;case"mfhd":this.sequence_number=S.sequence_number;break;case"subs":this.entry_count=S.entry_count,this.entries=S.entries;break;case"tfhd":this.base_data_offset=S.base_data_offset,this.sample_description_index=S.sample_description_index,this.default_sample_duration=S.default_sample_duration,this.default_sample_size=S.default_sample_size,this.default_sample_flags=S.default_sample_flags,this.flags=S.flags;break;case"tfdt":this.version=S.version,this.baseMediaDecodeTime=S.baseMediaDecodeTime,this.flags=S.flags;break;case"trun":if(this.sample_count=S.sample_count,this.first_sample_flags=S.first_sample_flags,this.data_offset=S.data_offset,this.flags=S.flags,this.samples=S.samples,S.samples){this.samples=[];for(let R=0,k=S.samples.length;R<k;R++){let D={sample_size:S.samples[R].sample_size,sample_duration:S.samples[R].sample_duration,sample_composition_time_offset:S.samples[R].sample_composition_time_offset};this.samples.push(D)}}break;case"prft":this.version=S.version,this.reference_track_ID=S.reference_track_ID,this.ntp_timestamp_sec=S.ntp_timestamp_sec,this.ntp_timestamp_frac=S.ntp_timestamp_frac,this.media_time=S.media_time,this.flags=S.flags}}getChildBox(S){for(let R=0;R<this.boxes.length;R++)if(this.boxes[R].type===S)return this.boxes[R]}getChildBoxes(S){let R=[];for(let k=0;k<this.boxes.length;k++)this.boxes[k].type===S&&R.push(this.boxes[k]);return R}}var Aie=uw;function NF(){let x,S;function R(D){let L=[];if(!D||!S||typeof S.fetchAll!="function")return L;let B,U=S.fetchAll(D);for(let N=0,V=U.length;N<V;N++)B=k(U[N]),B&&L.push(B);return L}function k(D){if(!D)return null;let L=new Aie(D);return D.hasOwnProperty("_incomplete")&&(L.isComplete=!D._incomplete),L}return x={getBox:function(D){return D&&S&&S.boxes&&S.boxes.length!==0&&typeof S.fetch=="function"?k(S.fetch(D)):null},getBoxes:R,setData:function(D){S=D},getLastBox:function(){if(!S||!S.boxes||!S.boxes.length)return null;let D=R(S.boxes[S.boxes.length-1].type);return D.length>0?D[D.length-1]:null}},x}NF.__dashjs_factory_name="IsoFile";var Iie=r.default.getClassFactory(NF),Qp=n(6877),cw=class{constructor({found:x,sizeOfLastCompletedBox:S,sizeOfLastFoundTargetBox:R,startOffsetOfLastCompletedBox:k,startOffsetOfLastFoundTargetBox:D,typeOfLastCompletedBox:L,typeOfLastTargetBox:B}){this.found=x!==void 0&&x,this.sizeOfLastCompletedBox=S!==void 0?S:0,this.sizeOfLastFoundTargetBox=R!==void 0?R:0,this.startOffsetOfLastCompletedBox=k!==void 0?k:0,this.startOffsetOfLastFoundTargetBox=D!==void 0?D:0,this.typeOfLastCompletedBox=L!==void 0?L:null,this.typeOfLastTargetBox=B!==void 0?B:null}};function FF(){let x,S,R=this.context;function k(B){if(!B)return null;B.fileStart===void 0&&(B.fileStart=0);let U=Qp.parseBuffer(B),N=Iie(R).create();return N.setData(U),N}function D(B,U){return B[U+3]>>>0|B[U+2]<<8>>>0|B[U+1]<<16>>>0|B[U]<<24>>>0}function L(B,U){return String.fromCharCode(B[U++])+String.fromCharCode(B[U++])+String.fromCharCode(B[U++])+String.fromCharCode(B[U])}return S={findInitRange:function(B){let U,N,V=null;const W=k(B);if(!W)return V;const O=W.getBox("ftyp"),z=W.getBox("moov");return x.debug("Searching for initialization."),z&&z.isComplete&&(U=O?O.offset:z.offset,N=z.offset+z.size-1,V=U+"-"+N,x.debug("Found the initialization.  Range: "+V)),V},findLastTopIsoBoxCompleted:function(B,U,N){if(N===void 0&&(N=0),!U||N+8>=U.byteLength)return new cw({found:!1});const V=U instanceof ArrayBuffer?new Uint8Array(U):U;let W,O=0,z=0,H=null;for(;N<V.byteLength;){const X=D(V,N),te=L(V,N+4);if(X===0)break;N+X<=V.byteLength&&(B.indexOf(te)>=0?W=new cw({found:!0,startOffsetOfLastFoundTargetBox:N,sizeOfLastFoundTargetBox:X,typeOfLastTargetBox:te}):(O=N,z=X,H=te)),N+=X}return W||new cw({found:!1,startOffsetOfLastCompletedBox:O,sizeOfLastCompletedBox:z,typeOfLastCompletedBox:H})},getMediaTimescaleFromMoov:function(B){let U=k(B),N=U?U.getBox("mdhd"):void 0;return N?N.timescale:NaN},getSamplesInfo:function(B){if(!B||B.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};let U,N,V,W,O,z,H,X,te,ie,se,fe,me,pe,_e,ee,Q,M=k(B),re=M.getBoxes("moof"),ye=M.getBoxes("mfhd");ee=M.getBoxes("moof").length,_e=ye[ye.length-1].sequence_number,V=0,z=[];let ue=-1,ke=-1;for(se=0;se<re.length;se++){let xe=re[se],Oe=xe.getChildBoxes("traf");for(te=0;te<Oe.length;te++){let Ge=Oe[te],Ne=Ge.getChildBox("tfhd"),Z=Ge.getChildBox("tfdt");O=Z.baseMediaDecodeTime;let le=Ge.getChildBoxes("trun"),ve=Ge.getChildBoxes("subs");for(ie=0;ie<le.length;ie++){let de=le[ie];for(V=de.sample_count,pe=(Ne.base_data_offset||0)+(de.data_offset||0),X=0;X<V;X++){H=de.samples[X],U=H.sample_duration!==void 0?H.sample_duration:Ne.default_sample_duration,W=H.sample_size!==void 0?H.sample_size:Ne.default_sample_size,N=H.sample_composition_time_offset!==void 0?H.sample_composition_time_offset:0;let Y={dts:O,cts:O+N,duration:U,offset:xe.offset+pe,size:W,subSizes:[W]};if(ve)for(fe=0;fe<ve.length;fe++){let ce=ve[fe];if(ue<ce.entry_count-1&&X>ke&&(ue++,ke+=ce.entries[ue].sample_delta),X==ke){Y.subSizes=[];let oe=ce.entries[ue];for(me=0;me<oe.subsample_count;me++)Y.subSizes.push(oe.subsamples[me].subsample_size)}}z.push(Y),pe+=W,O+=U}}Q=O-Z.baseMediaDecodeTime}}return{sampleList:z,lastSequenceNumber:_e,totalDuration:Q,numSequences:ee}},parse:k},x=(0,l.default)(R).getInstance().getLogger(S),S}FF.__dashjs_factory_name="BoxParser";var Ib=r.default.getSingletonFactory(FF),UF=n(559);function BF(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D,L,B,U,N;function V(X,te,ie,se){const fe=O(X,te,ie,se);return D.isCodecSupportedBasedOnTestedConfigurations(fe,X)}function W(X,te,ie,se,fe,me){const pe=O(X,te,ie,me),_e=JSON.stringify(pe);se.has(_e)||(se.add(_e),fe.push(pe))}function O(X,te,ie,se){let fe=null;switch(X){case p.default.VIDEO:fe=(function(me,pe,_e){let ee={codec:pe,width:me&&me.width||null,height:me&&me.height||null,framerate:k.getFramerate(me)||null,bitrate:me&&me.bandwidth||null,isSupported:!0};me.tagName===Re.default.PRESELECTION&&_e&&(ee.width||(ee.width=_e.width||null),ee.height||(ee.height=_e.height||null),ee.bitrate||(ee.bitrate=_e.bandwidth||null),ee.framerate||(ee.framerate=k.getFramerate(_e)||null)),L.get().streaming.capabilities.filterVideoColorimetryEssentialProperties&&Object.assign(ee,(function(re){let ye={colorGamut:null,transferFunction:null,isSupported:!0};for(const ue of re.EssentialProperty||[])ue.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["1","5","6","7"].includes(ue.value.toString())?ye.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.SRGB:ue.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["11","12"].includes(ue.value.toString())?ye.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.P3:ue.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["9"].includes(ue.value.toString())?ye.colorGamut=p.default.MEDIA_CAPABILITIES_API.COLORGAMUT.REC2020:ue.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&["2"].includes(ue.value.toString())?ye.colorGamut=null:ue.schemeIdUri===p.default.COLOUR_PRIMARIES_SCHEME_ID_URI&&(ye.isSupported=!1),ue.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["1","6","13","14","15"].includes(ue.value.toString())?ye.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.SRGB:ue.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["16"].includes(ue.value.toString())?ye.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.PQ:ue.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["18"].includes(ue.value.toString())?ye.transferFunction=p.default.MEDIA_CAPABILITIES_API.TRANSFERFUNCTION.HLG:ue.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&["2"].includes(ue.value.toString())?ye.transferFunction=null:ue.schemeIdUri===p.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI&&(ye.isSupported=!1);return ye})(me));let Q=ee.isSupported;L.get().streaming.capabilities.filterHDRMetadataFormatEssentialProperties&&Object.assign(ee,(function(re){let ye={isSupported:!0,hdrMetadataType:null};for(const ue of re.EssentialProperty||[])ue.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&ue.value===p.default.HDR_METADATA_FORMAT_VALUES.ST2094_10?ye.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SMPTE_ST_2094_10:ue.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&ue.value===p.default.HDR_METADATA_FORMAT_VALUES.SL_HDR2?ye.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SLHDR2:ue.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&ue.value===p.default.HDR_METADATA_FORMAT_VALUES.ST2094_40?ye.hdrMetadataType=p.default.MEDIA_CAPABILITIES_API.HDR_METADATATYPE.SMPTE_ST_2094_40:ue.schemeIdUri===p.default.HDR_METADATA_FORMAT_SCHEME_ID_URI&&(ye.isSupported=!1);return ye})(me));let M=ee.isSupported;return Q&&M||(ee.isSupported=!1),ee})(te,ie,se);break;case p.default.AUDIO:fe=(function(me,pe,_e){var ee=me&&me.audioSamplingRate||null,Q=me&&me.bandwidth||null;return me.tagName===Re.default.PRESELECTION&&_e&&(ee||(ee=_e.audioSamplingRate||null),Q||(Q=_e.bandwidth||null)),{codec:pe,bitrate:Q,samplerate:ee,isSupported:!0}})(te,ie,se);break;default:return fe}return se&&(fe=z(se,fe)),z(te,fe)}function z(X,te){return U&&X&&X[Re.default.CONTENT_PROTECTION]&&X[Re.default.CONTENT_PROTECTION].length>0&&(te.keySystemsMetadata=U.getSupportedKeySystemMetadataFromContentProtection(X[Re.default.CONTENT_PROTECTION])),te}function H(X){if(!X||X.length===0)return!0;let te=0;for(;te<X.length;){if(!D.supportsEssentialProperty(X[te]))return N.debug("[Stream] EssentialProperty not supported: "+X[te].schemeIdUri),!1;te+=1}return!0}return R={setConfig:function(X){X&&(X.adapter&&(k=X.adapter),X.capabilities&&(D=X.capabilities),X.settings&&(L=X.settings),X.protectionController&&(U=X.protectionController),X.customParametersModel&&(B=X.customParametersModel))},filterUnsupportedFeatures:function(X){return new Promise((te=>{const ie=[p.default.VIDEO,p.default.AUDIO],se=[];ie.forEach((fe=>{(function(pe,_e){if(!pe||!pe.Period||pe.Period.length===0)return[];const ee=new Set,Q=[];return pe.Period.forEach((M=>{M.AdaptationSet.forEach((re=>{k.getIsTypeOf(re,_e)&&re.Representation.forEach(((ye,ue)=>{const ke=k.getCodec(re,ue,!1);W(_e,ye,ke,ee,Q);const xe=k.getSupplementalCodecs(ye);xe.length>0&&W(_e,ye,xe[0],ee,Q)}))})),M.Preselection&&M.Preselection.length&&M.Preselection.forEach((re=>{if(k.getPreselectionIsTypeOf(re,M.AdaptationSet,_e)){const ye=k.getCodecForPreselection(re,M.AdaptationSet),ue=k.getCommonRepresentationForPreselection(re,M.AdaptationSet);W(_e,re,ye,ee,Q,ue)}}))})),Q})(X,fe).forEach((pe=>{se.push(D.runCodecSupportCheck(pe,fe))}))})),Promise.allSettled(se).then((()=>(ie.forEach((fe=>{(function(me,pe){pe&&pe.Period&&pe.Period.length!==0&&pe.Period.forEach((_e=>{(function(ee,Q){ee&&ee.AdaptationSet&&ee.AdaptationSet.length!==0&&(ee.AdaptationSet=ee.AdaptationSet.filter((M=>{k.getIsTypeOf(M,Q)&&(function(ye,ue){ye.Representation&&ye.Representation.length!==0&&(ye.Representation=ye.Representation.filter(((ke,xe)=>{const Oe=k.getCodec(ye,xe,!1),Ge=V(ue,ke,Oe);let Ne=(function(Z,le){let ve=!1;const de=k.getSupplementalCodecs(Z);return de.length>0&&(de.length>1&&N.warn("[CapabilitiesFilter] Multiple supplemental codecs not supported; using the first in list"),ve=V(le,Z,de[0])),ve})(ke,ue);return Ne&&(N.debug(`[CapabilitiesFilter] Codec supported. Upgrading codecs string of Representation with ID ${ke.id}`),ke.codecs=ke[Re.default.SUPPLEMENTAL_CODECS]),Ge||Ne||N.warn(`[CapabilitiesFilter] Codec ${Oe} not supported. Removing Representation with ID ${ke.id}`),Ge||Ne})))})(M,Q);const re=M.Representation&&M.Representation.length>0;return re||(S.trigger(f.default.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:M}),N.warn(`[CapabilitiesFilter] AdaptationSet with ID ${M.id?M.id:"undefined"} and codec ${M.codecs?M.codecs:"undefined"} has been removed because of no supported Representation`)),re})))})(_e,me),(function(ee,Q){ee&&ee.Preselection&&ee.Preselection.length!==0&&(ee.Preselection=ee.Preselection.filter((M=>{if(k.getPreselectionIsTypeOf(M,ee.AdaptationSet,Q)){const re=k.getCodecForPreselection(M,ee.AdaptationSet);let ye=!0;if(re){let ue=k.getCommonRepresentationForPreselection(M,ee.AdaptationSet);ye=V(Q,ue,re)}return ye||N.warn(`[CapabilitiesFilter] Preselection@codecs ${re} not supported. Removing Preselection with ID ${M.id}`),ye}return!0})))})(_e,me)}))})(fe,X)})),L.get().streaming.capabilities.filterUnsupportedEssentialProperties&&(function(fe){fe&&fe.Period&&fe.Period.length!==0&&fe.Period.forEach((me=>{me.AdaptationSet=me.AdaptationSet.filter((pe=>!pe.Representation||pe.Representation.length===0||!!H(k.getEssentialProperties(pe))&&(pe.Representation=pe.Representation.filter((_e=>H(k.getEssentialProperties(_e)))),pe.Representation&&pe.Representation.length>0))),me.Preselection&&me.Preselection.length&&(me.Preselection=me.Preselection.filter((pe=>!!H(k.getEssentialProperties(pe))||(N.warn(`[CapabilitiesFilter] removed Preselection (id: ${pe.id}) with unsupported EssentialProperty`),!1))))}))})(X),(function(fe){fe&&fe.Period&&fe.Period.length!==0&&fe.Period.forEach((me=>{me.Preselection&&(me.Preselection=me.Preselection.filter((pe=>{const _e=String(pe.preselectionComponents).split(" ").length;return _e!==1&&N.warn(`Multi-Representation Preselection (id: ${pe.id}) removed as not supported.`),_e===1})))}))})(X),(function(fe){if(!fe||!fe.Period||fe.Period.length===0)return Promise.resolve();const me=[];return fe.Period.forEach((pe=>{me.push((function(_e){return new Promise((ee=>{if(!_e||!_e.AdaptationSet||_e.AdaptationSet.length===0)return void ee();const Q=[];_e.AdaptationSet.forEach((M=>{Q.push((function(re){return new Promise((ye=>{if(!re.Representation||re.Representation.length===0)return void ye();const ue=[];re.Representation.forEach((ke=>{ue.push((function(xe){const Oe=[],Ge=B.getCustomCapabilitiesFilters();return Ge&&Ge.length!==0?Ge.forEach((Ne=>{Oe.push(new Promise((Z=>Z(Ne(xe)))))})):Oe.push(Promise.resolve(!0)),Promise.all(Oe)})(ke))})),Promise.all(ue).then((ke=>{re.Representation=re.Representation.filter(((xe,Oe)=>{let Ge=ke[Oe].every((Ne=>Ne));return Ge||N.debug("[Stream] Representation "+xe.id+" has been removed because of unsupported CustomFilter"),Ge})),ye()})).catch((ke=>{N.warn("[Stream] at least one promise rejected in CustomFilter with error: ",ke),ye()}))}))})(M))})),Promise.all(Q).then((()=>{_e.AdaptationSet=_e.AdaptationSet.filter((M=>M.Representation&&M.Representation.length>0)),ee()})).catch((()=>{ee()}))}))})(pe))})),Promise.all(me)})(X)))).then((()=>{te()})).catch((fe=>{N.error(fe),te()}))}))}},N=(0,l.default)(x).getInstance().getLogger(R),R}BF.__dashjs_factory_name="CapabilitiesFilter";var xie=r.default.getSingletonFactory(BF);function zF(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D,L,B,U,N,V,W,O;function z(){k=!1;const _e=ot.default.parseUserAgent();D=_e&&_e.browser&&_e.browser.name&&_e.browser.name.toLowerCase()==="safari"}function H(){k=!1}function X(_e){if(_e.streamId!==U.getActiveStreamInfo().id||!W)return;const ee=N.getLiveDelay();N.getBufferLevel()>ee/2&&(W=!1)}function te(_e){_e.streamId===U.getActiveStreamInfo().id&&(W=_e.state===o.BUFFER_EMPTY)}function ie(){V.getCatchupModeEnabled()||L.setPlaybackRate(1)}function se(){N.getIsDynamic()&&V.getCatchupModeEnabled()&&(V.getCatchupPlaybackRates().max>0||V.getCatchupPlaybackRates().min<0)&&!N.isPaused()&&!N.isSeeking()&&(function(){try{return!N.getTime()>0||k?!1:me()===p.default.LIVE_CATCHUP_MODE_LOLP?(function(_e,ee){try{return Math.abs(fe())>0||_e<ee}catch{return!1}})(N.getBufferLevel(),B.get().streaming.liveCatchup.playbackBufferMin):(function(){try{return Math.abs(fe())>0}catch{return!1}})()}catch{return!1}})()&&(function(){if(!k&&L){let _e;const ee=L.getPlaybackRate(),Q=V.getCatchupPlaybackRates(),M=N.getBufferLevel(),re=fe(),ye=V.getCatchupMaxDrift();if(!isNaN(ye)&&ye>0&&re>ye)O.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),k=!0,N.seekToCurrentLive(!0,!1);else{const ue=N.getCurrentLiveLatency(),ke=N.getLiveDelay();_e=me()===p.default.LIVE_CATCHUP_MODE_LOLP?(function(Oe,Ge,Ne,Z,le){let ve;if(le<Z){const de=Math.abs(Oe.min),Y=5*(le-Z);ve=1-de+2*de/(1+Math.pow(Math.E,-Y)),O.debug("[LoL+ playback control_buffer-based] bufferLevel: "+le+", newRate: "+ve)}else{if(Math.abs(Ge-Ne)<=.02*Ne)ve=1;else{const Y=Ge-Ne,ce=Y<0?Math.abs(Oe.min):Oe.max,oe=5*Y;ve=1-ce+2*ce/(1+Math.pow(Math.E,-oe))}O.debug("[LoL+ playback control_latency-based] latency: "+Ge+", newRate: "+ve)}return ve})(Q,ue,ke,B.get().streaming.liveCatchup.playbackBufferMin,M):(function(Oe,Ge,Ne,Z){if(W)return 1;const le=Ge-Ne,ve=le<0?Math.abs(Oe.min):Oe.max,de=5*le;let Y=1-ve+2*ve/(1+Math.pow(Math.E,-de));return N.getPlaybackStalled()&&Z<=Ne/2&&le>0&&(Y=1),Y})(Q,ue,ke,M);const xe=D?.25:.02/(.5/Q.max);(_e&&Math.abs(ee-_e)>=xe||_e==1)&&(O.debug(`[CatchupController]: Setting playback rate to ${_e}`),L.setPlaybackRate(_e))}}})()}function fe(){return N.getCurrentLiveLatency()-N.getLiveDelay()}function me(){const _e=B.get().streaming.liveCatchup.playbackBufferMin;return B.get().streaming.liveCatchup.mode!==p.default.LIVE_CATCHUP_MODE_LOLP||_e===null||isNaN(_e)?p.default.LIVE_CATCHUP_MODE_DEFAULT:p.default.LIVE_CATCHUP_MODE_LOLP}function pe(){V.getCatchupPlaybackRates(!0)}return R={reset:function(){S.off(m.default.BUFFER_LEVEL_UPDATED,X,R),S.off(m.default.BUFFER_LEVEL_STATE_CHANGED,te,R),S.off(m.default.PLAYBACK_PROGRESS,se,R),S.off(m.default.PLAYBACK_TIME_UPDATED,se,R),S.off(m.default.PLAYBACK_SEEKED,H,R),S.off(f.default.SETTING_UPDATED_CATCHUP_ENABLED,ie,R),S.off(f.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,pe,R),S.off(f.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,pe,R),S.off(m.default.STREAM_INITIALIZED,pe,R),z(),L.setPlaybackRate(1,!0)},setConfig:function(_e){_e&&(_e.settings&&(B=_e.settings),_e.videoModel&&(L=_e.videoModel),_e.streamController&&(U=_e.streamController),_e.playbackController&&(N=_e.playbackController),_e.mediaPlayerModel&&(V=_e.mediaPlayerModel))},initialize:function(){S.on(m.default.BUFFER_LEVEL_UPDATED,X,R),S.on(m.default.BUFFER_LEVEL_STATE_CHANGED,te,R),S.on(m.default.PLAYBACK_PROGRESS,se,R),S.on(m.default.PLAYBACK_TIME_UPDATED,se,R),S.on(m.default.PLAYBACK_SEEKED,H,R),S.on(f.default.SETTING_UPDATED_CATCHUP_ENABLED,ie,R),S.on(f.default.SETTING_UPDATED_PLAYBACK_RATE_MIN,pe,R),S.on(f.default.SETTING_UPDATED_PLAYBACK_RATE_MAX,pe,R),S.on(m.default.STREAM_INITIALIZED,pe,R),pe()}},O=(0,l.default)(x).getInstance().getLogger(R),z(),R}zF.__dashjs_factory_name="CatchupController";var Rie=r.default.getSingletonFactory(zF);const kie=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],$F="dashjs_?_bitrate",qF="dashjs_?_settings",lf="localStorage",jF="lastBitrate",HF="lastMediaSettings";function GF(x){x=x||{};const S=this.context,R=x.settings;let k,D,L;function B(W){if(L!==void 0)return L;let O;L=!1;try{typeof window<"u"&&(O=window[W])}catch(z){return D.warn("DOMStorage access denied: "+z.message),L}if(!O||W!==lf)return L;try{O.setItem("1","1"),O.removeItem("1"),L=!0}catch(z){D.warn("DOMStorage is supported, but cannot be used: "+z.message)}return L}function U(){return Math.round(new Date().getTime()/6e5)*6e5}function N(W,O){return B(W)&&R.get().streaming[O+"CachingInfo"].enabled}function V(){if(!R)throw new Error(p.default.MISSING_CONFIG_ERROR)}return k={getSavedBitrateSettings:function(W){if(V(),!R.get().streaming.lastBitrateCachingInfo.enabled)return NaN;let O=NaN;if(N(lf,jF)){const z=$F.replace(/\?/,W);try{const H=JSON.parse(localStorage.getItem(z))||{},X=new Date().getTime()-parseInt(H.timestamp,10)>=R.get().streaming.lastBitrateCachingInfo.ttl||!1,te=parseFloat(H.bitrate);isNaN(te)||X?X&&localStorage.removeItem(z):(O=te,D.debug("Last saved bitrate for "+W+" was "+te))}catch{return null}}return O},setSavedBitrateSettings:function(W,O){if(N(lf,jF)&&O){const z=$F.replace(/\?/,W);try{localStorage.setItem(z,JSON.stringify({bitrate:O.toFixed(3),timestamp:U()}))}catch(H){D.error(H.message)}}},getSavedMediaSettings:function(W){if(V(),!R.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;let O=null;if(N(lf,HF)){const z=qF.replace(/\?/,W);try{const H=JSON.parse(localStorage.getItem(z))||{},X=new Date().getTime()-parseInt(H.timestamp,10)>=R.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;O=H.settings,X&&(localStorage.removeItem(z),O=null)}catch{return null}}return O},setSavedMediaSettings:function(W,O){if(N(lf,HF)){const z=qF.replace(/\?/,W);try{localStorage.setItem(z,JSON.stringify({settings:O,timestamp:U()}))}catch(H){D.error(H.message)}}}},D=(0,l.default)(S).getInstance().getLogger(k),B(lf)&&kie.forEach((W=>{const O=localStorage.getItem(W.oldKey);if(O){localStorage.removeItem(W.oldKey);try{localStorage.setItem(W.newKey,O)}catch(z){D.error(z.message)}}})),k}GF.__dashjs_factory_name="DOMStorage";var Cie=r.default.getSingletonFactory(GF),xb=class{constructor(){this.accessibility=null,this.adaptationSetSwitchingCompatibleIds=[],this.audioChannelConfiguration=null,this.bitrateList=null,this.codec=null,this.contentProtection=null,this.essentialProperties=[],this.id=null,this.index=null,this.isEmbedded=null,this.isFragmented=null,this.isPreselection=!1,this.isText=!1,this.labels=null,this.lang=null,this.mimeType=null,this.normalizedKeyIds=new Set,this.representationCount=0,this.roles=null,this.segmentAlignment=!1,this.segmentSequenceProperties=[],this.selectionPriority=1,this.streamInfo=null,this.subSegmentAlignment=!1,this.supplementalProperties=[],this.type=null,this.viewpoint=null}},VF=class{constructor(){this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isEncrypted=!1}},Die=class{constructor(){this.availableFrom=null,this.duration=NaN,this.dvrWindowSize=NaN,this.isDynamic=!1,this.loadedTime=null,this.maxFragmentDuration=null,this.minBufferTime=NaN,this.protocol=null,this.serviceDescriptions=[]}},Lie=class{constructor(x){this.valid=x[0]=="/",this.path=x.split("/").filter((S=>S.length!==0)).map((S=>{let R={name:S},k=S.indexOf("[");if(k!=-1){R.name=S.substring(0,k);let D=S.substring(k+1,S.length-1);this.valid=this.valid&&D.indexOf("[")==-1;let L=D.indexOf("=");L!=-1?(R.attribute={name:D.substring(1,L),value:D.substring(L+1)},["'",'"'].indexOf(R.attribute.value[0])!=-1&&(R.attribute.value=R.attribute.value.substring(1,R.attribute.value.length-1))):R.position=parseInt(D,10)-1}return R}))}isValid(){return this.valid}findsElement(){return!this.findsAttribute()}findsAttribute(){return this.path[this.path.length-1].name.startsWith("@")}findsTextReplace(){return this.path[this.path.length-1].name==="text()"}getMpdTarget(x,S){let R=null,k=x,D=1,L="MPD";for(;D<this.path.length&&k!==null;){R=k;let B=this.path[D];if(L=B.name,D!==this.path.length-1||!L.startsWith("@")&&L!=="text()"){let U=R[L]||[];if(U.length===0&&R[L]&&U.push(R[L]),B.position)k=U[B.position]||null;else if(B.attribute){let N=B.attribute;k=U.filter((V=>V[N.name]==N.value))[0]||null}else k=Array.isArray(U)?U[0]:U}D++}return k===null?null:L.startsWith("@")?{name:L.substring(1),leaf:k,target:k}:L==="text()"?{name:"__text",leaf:k,target:k}:{name:L,leaf:k,target:S?R:k}}},Pie=class{constructor(x,S,R){this.action=x,this.xpath=S,this.value=R,this.position=null}getMpdTarget(x){let S=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(x,S)}};function KF(){let x,S;const R=this.context;return x={getIsPatch:function(k){return k&&k.hasOwnProperty(Re.default.ORIGINAL_MPD_ID)||!1},getMpdId:function(k){return k&&k[Re.default.ORIGINAL_MPD_ID]||null},getOriginalPublishTime:function(k){return k&&k.hasOwnProperty(Re.default.ORIGINAL_PUBLISH_TIME)?new Date(k[Re.default.ORIGINAL_PUBLISH_TIME]):null},getPatchOperations:function(k){return k?(k.__children||[]).map((D=>{const L=D.tagName;if(L!=="add"&&L!=="remove"&&L!=="replace")return S.warn(`Ignoring node of invalid action: ${L}`),null;let B=D.sel;if(L==="add"&&D.type){if(!D.type.startsWith("@"))return S.warn(`Ignoring add action for prefixed namespace declaration: ${D.type}=${D.__text}`),null;B=`${B}/${D.type}`}let U=new Lie(B);if(!U.isValid())return S.warn(`Ignoring action with invalid selector: ${L} - ${B}`),null;let N=null;U.findsAttribute()||U.findsTextReplace()?N=D.__text||"":L!=="remove"&&(N=D.__children.reduce(((W,O)=>{let z=O.tagName;return z!=="#text"&&(W[z]=W[z]||[],W[z].push(O)),W}),{}));let V=new Pie(L,U,N);return L==="add"&&(V.position=D.pos),V})).filter((D=>!!D)):[]},getPublishTime:function(k){return k&&k.hasOwnProperty(Re.default.PUBLISH_TIME)?new Date(k[Re.default.PUBLISH_TIME]):null}},S=(0,l.default)(R).getInstance().getLogger(x),x}KF.__dashjs_factory_name="PatchManifestModel";var Oie=r.default.getSingletonFactory(KF);function Fc(x={}){let S=[];if(x.irregular)return x.irregular;if(x.regular)return x.regular;if(x.language){S=S.concat(x.language,x.extendedLanguageSubtags||[],x.script||[],x.region||[],x.variants||[]);const R=x.extensions||[];let k=-1;for(;++k<R.length;){const D=R[k];D.singleton&&D.extensions&&D.extensions.length>0&&S.push(D.singleton,...D.extensions)}}return x.privateuse&&x.privateuse.length>0&&S.push("x",...x.privateuse),S.join("-")}function Ya(x){const S=typeof x=="string"?x.charCodeAt(0):x;return S>=97&&S<=122||S>=65&&S<=90}function uf(x){const S=typeof x=="string"?x.charCodeAt(0):x;return S>=48&&S<=57}function Lu(x){return Ya(x)||uf(x)}const Mie=["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"],WF={"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"},Nie={}.hasOwnProperty;function Pu(x,S={}){const R={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},k=String(x),D=k.toLowerCase();let L=0;if(x==null)throw new Error("Expected string, got `"+x+"`");if(Nie.call(WF,D)){const U=WF[D];return S.normalize!==void 0&&S.normalize!==null&&!S.normalize||typeof U!="string"?(R[Mie.includes(D)?"regular":"irregular"]=k,R):Pu(U)}for(;Ya(D.charCodeAt(L))&&L<9;)L++;if(L>1&&L<9){if(R.language=k.slice(0,L),L<4){let U=0;for(;D.charCodeAt(L)===45&&Ya(D.charCodeAt(L+1))&&Ya(D.charCodeAt(L+2))&&Ya(D.charCodeAt(L+3))&&!Ya(D.charCodeAt(L+4));){if(U>2)return B(L,3,"Too many extended language subtags, expected at most 3 subtags");R.extendedLanguageSubtags.push(k.slice(L+1,L+4)),L+=4,U++}}for(D.charCodeAt(L)===45&&Ya(D.charCodeAt(L+1))&&Ya(D.charCodeAt(L+2))&&Ya(D.charCodeAt(L+3))&&Ya(D.charCodeAt(L+4))&&!Ya(D.charCodeAt(L+5))&&(R.script=k.slice(L+1,L+5),L+=5),D.charCodeAt(L)===45&&(Ya(D.charCodeAt(L+1))&&Ya(D.charCodeAt(L+2))&&!Ya(D.charCodeAt(L+3))?(R.region=k.slice(L+1,L+3),L+=3):uf(D.charCodeAt(L+1))&&uf(D.charCodeAt(L+2))&&uf(D.charCodeAt(L+3))&&!uf(D.charCodeAt(L+4))&&(R.region=k.slice(L+1,L+4),L+=4));D.charCodeAt(L)===45;){const U=L+1;let N=U;for(;Lu(D.charCodeAt(N));){if(N-U>7)return B(N,1,"Too long variant, expected at most 8 characters");N++}if(!(N-U>4||N-U>3&&uf(D.charCodeAt(U))))break;R.variants.push(k.slice(U,N)),L=N}for(;D.charCodeAt(L)===45&&D.charCodeAt(L+1)!==120&&Lu(D.charCodeAt(L+1))&&D.charCodeAt(L+2)===45&&Lu(D.charCodeAt(L+3));){let U=L+2,N=0;for(;D.charCodeAt(U)===45&&Lu(D.charCodeAt(U+1))&&Lu(D.charCodeAt(U+2));){const V=U+1;for(U=V+2,N++;Lu(D.charCodeAt(U));){if(U-V>7)return B(U,2,"Too long extension, expected at most 8 characters");U++}}if(!N)return B(U,4,"Empty extension, extensions must have at least 2 characters of content");R.extensions.push({singleton:k.charAt(L+1),extensions:k.slice(L+3,U).split("-")}),L=U}}else L=0;if(L===0&&D.charCodeAt(L)===120||D.charCodeAt(L)===45&&D.charCodeAt(L+1)===120){L=L?L+2:1;let U=L;for(;D.charCodeAt(U)===45&&Lu(D.charCodeAt(U+1));){const N=L+1;for(U=N;Lu(D.charCodeAt(U));){if(U-N>7)return B(U,5,"Too long private-use area, expected at most 8 characters");U++}R.privateuse.push(k.slice(L+1,U)),L=U}}return L!==k.length?B(L,6,"Found superfluous content after tag"):R;function B(U,N,V){return S.warning&&S.warning(V,N,U),S.forgiving?R:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}}function Fie(x,S){return function(R,k){let D=YF(R,"tag");const L=YF(k??"*","range"),B=[];let U=-1;for(;++U<L.length;){const N=L[U].toLowerCase();if(!S&&N==="*")continue;let V=-1;const W=[];for(;++V<D.length;)if(x(D[V].toLowerCase(),N)){if(!S)return D[V];B.push(D[V])}else W.push(D[V]);D=W}return S?B:void 0}}const dw=Fie((function(x,S){const R=x.split("-"),k=S.split("-");let D=0,L=0;if(k[L]!=="*"&&R[D]!==k[L])return!1;for(D++,L++;L<k.length;)if(k[L]!=="*"){if(!R[D])return!1;if(R[D]!==k[L]){if(R[D].length===1)return!1;D++}else D++,L++}else L++;return!0}),!0);function YF(x,S){const R=x&&typeof x=="string"?[x]:x;if(!R||typeof R!="object"||!("length"in R))throw new Error("Invalid "+S+" `"+R+"`, expected non-empty string");return R}const fw=[{from:"in",to:"id"},{from:"iw",to:"he"},{from:"ji",to:"yi"},{from:"jw",to:"jv"},{from:"mo",to:"ro"},{from:"scc",to:"sr"},{from:"scr",to:"hr"},{from:"aam",to:"aas"},{from:"adp",to:"dz"},{from:"aue",to:"ktz"},{from:"ayx",to:"nun"},{from:"bgm",to:"bcg"},{from:"bjd",to:"drl"},{from:"ccq",to:"rki"},{from:"cjr",to:"mom"},{from:"cka",to:"cmr"},{from:"cmk",to:"xch"},{from:"coy",to:"pij"},{from:"cqu",to:"quh"},{from:"drh",to:"mn"},{from:"drw",to:"fa-af"},{from:"gav",to:"dev"},{from:"gfx",to:"vaj"},{from:"ggn",to:"gvr"},{from:"gti",to:"nyc"},{from:"guv",to:"duz"},{from:"hrr",to:"jal"},{from:"ibi",to:"opa"},{from:"ilw",to:"gal"},{from:"jeg",to:"oyb"},{from:"kgc",to:"tdf"},{from:"kgh",to:"kml"},{from:"koj",to:"kwv"},{from:"krm",to:"bmf"},{from:"ktr",to:"dtp"},{from:"kvs",to:"gdj"},{from:"kwq",to:"yam"},{from:"kxe",to:"tvd"},{from:"kzj",to:"dtp"},{from:"kzt",to:"dtp"},{from:"lii",to:"raq"},{from:"lmm",to:"rmx"},{from:"meg",to:"cir"},{from:"mst",to:"mry"},{from:"mwj",to:"vaj"},{from:"myt",to:"mry"},{from:"nad",to:"xny"},{from:"ncp",to:"kdz"},{from:"nnx",to:"ngv"},{from:"nts",to:"pij"},{from:"oun",to:"vaj"},{from:"pcr",to:"adx"},{from:"pmc",to:"huw"},{from:"pmu",to:"phr"},{from:"ppa",to:"bfy"},{from:"ppr",to:"lcq"},{from:"pry",to:"prt"},{from:"puz",to:"pub"},{from:"sca",to:"hle"},{from:"skk",to:"oyb"},{from:"tdu",to:"dtp"},{from:"thc",to:"tpo"},{from:"thx",to:"oyb"},{from:"tie",to:"ras"},{from:"tkk",to:"twm"},{from:"tlw",to:"weo"},{from:"tmp",to:"tyj"},{from:"tne",to:"kak"},{from:"tnf",to:"fa-af"},{from:"tsf",to:"taj"},{from:"uok",to:"ema"},{from:"xba",to:"cax"},{from:"xia",to:"acn"},{from:"xkh",to:"waw"},{from:"xsj",to:"suj"},{from:"ybd",to:"rki"},{from:"yma",to:"lrr"},{from:"ymt",to:"mtm"},{from:"yos",to:"zom"},{from:"yuu",to:"yug"},{from:"asd",to:"snz"},{from:"dit",to:"dif"},{from:"llo",to:"ngt"},{from:"myd",to:"aog"},{from:"nns",to:"nbr"},{from:"agp",to:"apf"},{from:"ais",to:"ami"},{from:"ajt",to:"aeb"},{from:"baz",to:"nvo"},{from:"bhk",to:"fbl"},{from:"bic",to:"bir"},{from:"bjq",to:"bzc"},{from:"bkb",to:"ebk"},{from:"blg",to:"iba"},{from:"btb",to:"beb"},{from:"daf",to:"dnj"},{from:"dap",to:"njz"},{from:"djl",to:"dze"},{from:"dkl",to:"aqd"},{from:"drr",to:"kzk"},{from:"dud",to:"uth"},{from:"duj",to:"dwu"},{from:"dwl",to:"dbt"},{from:"elp",to:"amq"},{from:"gbc",to:"wny"},{from:"ggo",to:"esg"},{from:"ggr",to:"gtu"},{from:"gio",to:"aou"},{from:"gli",to:"kzk"},{from:"ill",to:"ilm"},{from:"izi",to:"eza"},{from:"jar",to:"jgk"},{from:"kdv",to:"zkd"},{from:"kgd",to:"ncq"},{from:"kpp",to:"jkm"},{from:"kxl",to:"kru"},{from:"kzh",to:"dgl"},{from:"lak",to:"ksp"},{from:"leg",to:"enl"},{from:"mgx",to:"jbk"},{from:"mnt",to:"wnn"},{from:"mof",to:"xnt"},{from:"mwd",to:"dmw"},{from:"nbf",to:"nru"},{from:"nbx",to:"ekc"},{from:"nln",to:"azd"},{from:"nlr",to:"nrk"},{from:"noo",to:"dtd"},{from:"nxu",to:"bpp"},{from:"pat",to:"kxr"},{from:"rmr",to:"emx"},{from:"sap",to:"aqt"},{from:"sgl",to:"isk"},{from:"smd",to:"kmb"},{from:"snb",to:"iba"},{from:"sul",to:"sgd"},{from:"sum",to:"ulw"},{from:"tgg",to:"bjp"},{from:"thw",to:"ola"},{from:"tid",to:"itd"},{from:"unp",to:"wro"},{from:"wgw",to:"wgb"},{from:"wit",to:"nol"},{from:"wiw",to:"nwo"},{from:"xrq",to:"dmw"},{from:"yen",to:"ynq"},{from:"yiy",to:"yrm"},{from:"zir",to:"scv"},{from:"sgn-br",to:"bzs"},{from:"sgn-co",to:"csn"},{from:"sgn-de",to:"gsg"},{from:"sgn-dk",to:"dsl"},{from:"sgn-fr",to:"fsl"},{from:"sgn-gb",to:"bfi"},{from:"sgn-gr",to:"gss"},{from:"sgn-ie",to:"isg"},{from:"sgn-it",to:"ise"},{from:"sgn-jp",to:"jsl"},{from:"sgn-mx",to:"mfs"},{from:"sgn-ni",to:"ncs"},{from:"sgn-nl",to:"dse"},{from:"sgn-no",to:"nsi"},{from:"sgn-pt",to:"psr"},{from:"sgn-se",to:"swl"},{from:"sgn-us",to:"ase"},{from:"sgn-za",to:"sfs"},{from:"sgn-es",to:"ssp"},{from:"zh-cmn",to:"zh"},{from:"zh-cmn-hans",to:"zh-hans"},{from:"zh-cmn-hant",to:"zh-hant"},{from:"zh-gan",to:"gan"},{from:"zh-wuu",to:"wuu"},{from:"zh-yue",to:"yue"},{from:"no-bokmal",to:"nb"},{from:"no-nynorsk",to:"nn"},{from:"aa-saaho",to:"ssy"},{from:"sh",to:"sr-latn"},{from:"cnr",to:"sr-me"},{from:"tl",to:"fil"},{from:"aju",to:"jrb"},{from:"als",to:"sq"},{from:"arb",to:"ar"},{from:"ayr",to:"ay"},{from:"azj",to:"az"},{from:"bcc",to:"bal"},{from:"bcl",to:"bik"},{from:"bxk",to:"luy"},{from:"bxr",to:"bua"},{from:"cld",to:"syr"},{from:"cmn",to:"zh"},{from:"cwd",to:"cr"},{from:"dgo",to:"doi"},{from:"dhd",to:"mwr"},{from:"dik",to:"din"},{from:"diq",to:"zza"},{from:"lbk",to:"bnc"},{from:"ekk",to:"et"},{from:"emk",to:"man"},{from:"esk",to:"ik"},{from:"fat",to:"ak"},{from:"fuc",to:"ff"},{from:"gaz",to:"om"},{from:"gbo",to:"grb"},{from:"gno",to:"gon"},{from:"gug",to:"gn"},{from:"gya",to:"gba"},{from:"hdn",to:"hai"},{from:"hea",to:"hmn"},{from:"ike",to:"iu"},{from:"kmr",to:"ku"},{from:"knc",to:"kr"},{from:"kng",to:"kg"},{from:"knn",to:"kok"},{from:"kpv",to:"kv"},{from:"lvs",to:"lv"},{from:"mhr",to:"chm"},{from:"mup",to:"raj"},{from:"khk",to:"mn"},{from:"npi",to:"ne"},{from:"ojg",to:"oj"},{from:"ory",to:"or"},{from:"pbu",to:"ps"},{from:"pes",to:"fa"},{from:"plt",to:"mg"},{from:"pnb",to:"lah"},{from:"quz",to:"qu"},{from:"rmy",to:"rom"},{from:"spy",to:"kln"},{from:"src",to:"sc"},{from:"swh",to:"sw"},{from:"ttq",to:"tmh"},{from:"tw",to:"ak"},{from:"umu",to:"del"},{from:"uzn",to:"uz"},{from:"xpe",to:"kpe"},{from:"xsl",to:"den"},{from:"ydd",to:"yi"},{from:"zai",to:"zap"},{from:"zsm",to:"ms"},{from:"zyb",to:"za"},{from:"him",to:"srx"},{from:"mnk",to:"man"},{from:"bh",to:"bho"},{from:"prs",to:"fa-af"},{from:"swc",to:"sw-cd"},{from:"aar",to:"aa"},{from:"abk",to:"ab"},{from:"ave",to:"ae"},{from:"afr",to:"af"},{from:"aka",to:"ak"},{from:"amh",to:"am"},{from:"arg",to:"an"},{from:"ara",to:"ar"},{from:"asm",to:"as"},{from:"ava",to:"av"},{from:"aym",to:"ay"},{from:"aze",to:"az"},{from:"bak",to:"ba"},{from:"bel",to:"be"},{from:"bul",to:"bg"},{from:"bih",to:"bho"},{from:"bis",to:"bi"},{from:"bam",to:"bm"},{from:"ben",to:"bn"},{from:"bod",to:"bo"},{from:"bre",to:"br"},{from:"bos",to:"bs"},{from:"cat",to:"ca"},{from:"che",to:"ce"},{from:"cha",to:"ch"},{from:"cos",to:"co"},{from:"cre",to:"cr"},{from:"ces",to:"cs"},{from:"chu",to:"cu"},{from:"chv",to:"cv"},{from:"cym",to:"cy"},{from:"dan",to:"da"},{from:"deu",to:"de"},{from:"div",to:"dv"},{from:"dzo",to:"dz"},{from:"ewe",to:"ee"},{from:"ell",to:"el"},{from:"eng",to:"en"},{from:"epo",to:"eo"},{from:"spa",to:"es"},{from:"est",to:"et"},{from:"eus",to:"eu"},{from:"fas",to:"fa"},{from:"ful",to:"ff"},{from:"fin",to:"fi"},{from:"fij",to:"fj"},{from:"fao",to:"fo"},{from:"fra",to:"fr"},{from:"fry",to:"fy"},{from:"gle",to:"ga"},{from:"gla",to:"gd"},{from:"glg",to:"gl"},{from:"grn",to:"gn"},{from:"guj",to:"gu"},{from:"glv",to:"gv"},{from:"hau",to:"ha"},{from:"heb",to:"he"},{from:"hin",to:"hi"},{from:"hmo",to:"ho"},{from:"hrv",to:"hr"},{from:"hat",to:"ht"},{from:"hun",to:"hu"},{from:"hye",to:"hy"},{from:"her",to:"hz"},{from:"ina",to:"ia"},{from:"ind",to:"id"},{from:"ile",to:"ie"},{from:"ibo",to:"ig"},{from:"iii",to:"ii"},{from:"ipk",to:"ik"},{from:"ido",to:"io"},{from:"isl",to:"is"},{from:"ita",to:"it"},{from:"iku",to:"iu"},{from:"jpn",to:"ja"},{from:"jav",to:"jv"},{from:"kat",to:"ka"},{from:"kon",to:"kg"},{from:"kik",to:"ki"},{from:"kua",to:"kj"},{from:"kaz",to:"kk"},{from:"kal",to:"kl"},{from:"khm",to:"km"},{from:"kan",to:"kn"},{from:"kor",to:"ko"},{from:"kau",to:"kr"},{from:"kas",to:"ks"},{from:"kur",to:"ku"},{from:"kom",to:"kv"},{from:"cor",to:"kw"},{from:"kir",to:"ky"},{from:"lat",to:"la"},{from:"ltz",to:"lb"},{from:"lug",to:"lg"},{from:"lim",to:"li"},{from:"lin",to:"ln"},{from:"lao",to:"lo"},{from:"lit",to:"lt"},{from:"lub",to:"lu"},{from:"lav",to:"lv"},{from:"mlg",to:"mg"},{from:"mah",to:"mh"},{from:"mri",to:"mi"},{from:"mkd",to:"mk"},{from:"mal",to:"ml"},{from:"mon",to:"mn"},{from:"mol",to:"ro"},{from:"mar",to:"mr"},{from:"msa",to:"ms"},{from:"mlt",to:"mt"},{from:"mya",to:"my"},{from:"nau",to:"na"},{from:"nob",to:"nb"},{from:"nde",to:"nd"},{from:"nep",to:"ne"},{from:"ndo",to:"ng"},{from:"nld",to:"nl"},{from:"nno",to:"nn"},{from:"nor",to:"no"},{from:"nbl",to:"nr"},{from:"nav",to:"nv"},{from:"nya",to:"ny"},{from:"oci",to:"oc"},{from:"oji",to:"oj"},{from:"orm",to:"om"},{from:"ori",to:"or"},{from:"oss",to:"os"},{from:"pan",to:"pa"},{from:"pli",to:"pi"},{from:"pol",to:"pl"},{from:"pus",to:"ps"},{from:"por",to:"pt"},{from:"que",to:"qu"},{from:"roh",to:"rm"},{from:"run",to:"rn"},{from:"ron",to:"ro"},{from:"rus",to:"ru"},{from:"kin",to:"rw"},{from:"san",to:"sa"},{from:"srd",to:"sc"},{from:"snd",to:"sd"},{from:"sme",to:"se"},{from:"sag",to:"sg"},{from:"hbs",to:"sr-latn"},{from:"sin",to:"si"},{from:"slk",to:"sk"},{from:"slv",to:"sl"},{from:"smo",to:"sm"},{from:"sna",to:"sn"},{from:"som",to:"so"},{from:"sqi",to:"sq"},{from:"srp",to:"sr"},{from:"ssw",to:"ss"},{from:"sot",to:"st"},{from:"sun",to:"su"},{from:"swe",to:"sv"},{from:"swa",to:"sw"},{from:"tam",to:"ta"},{from:"tel",to:"te"},{from:"tgk",to:"tg"},{from:"tha",to:"th"},{from:"tir",to:"ti"},{from:"tuk",to:"tk"},{from:"tgl",to:"fil"},{from:"tsn",to:"tn"},{from:"ton",to:"to"},{from:"tur",to:"tr"},{from:"tso",to:"ts"},{from:"tat",to:"tt"},{from:"twi",to:"ak"},{from:"tah",to:"ty"},{from:"uig",to:"ug"},{from:"ukr",to:"uk"},{from:"urd",to:"ur"},{from:"uzb",to:"uz"},{from:"ven",to:"ve"},{from:"vie",to:"vi"},{from:"vol",to:"vo"},{from:"wln",to:"wa"},{from:"wol",to:"wo"},{from:"xho",to:"xh"},{from:"yid",to:"yi"},{from:"yor",to:"yo"},{from:"zha",to:"za"},{from:"zho",to:"zh"},{from:"zul",to:"zu"},{from:"alb",to:"sq"},{from:"arm",to:"hy"},{from:"baq",to:"eu"},{from:"bur",to:"my"},{from:"chi",to:"zh"},{from:"cze",to:"cs"},{from:"dut",to:"nl"},{from:"fre",to:"fr"},{from:"geo",to:"ka"},{from:"ger",to:"de"},{from:"gre",to:"el"},{from:"ice",to:"is"},{from:"mac",to:"mk"},{from:"mao",to:"mi"},{from:"may",to:"ms"},{from:"per",to:"fa"},{from:"rum",to:"ro"},{from:"slo",to:"sk"},{from:"tib",to:"bo"},{from:"wel",to:"cy"},{from:"und-aaland",to:"und-ax"},{from:"hy-arevmda",to:"hyw"},{from:"und-arevmda",to:"und"},{from:"und-arevela",to:"und"},{from:"und-lojban",to:"und"},{from:"und-saaho",to:"und"},{from:"und-bokmal",to:"und"},{from:"und-nynorsk",to:"und"},{from:"und-hakka",to:"und"},{from:"und-xiang",to:"und"},{from:"und-hepburn-heploc",to:"und-alalc97"}],Zp=[{from:{field:"script",value:"qaai"},to:{field:"script",value:"zinh"}},{from:{field:"region",value:"bu"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"ct"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"dd"},to:{field:"region",value:"de"}},{from:{field:"region",value:"dy"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"fx"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"hv"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"jt"},to:{field:"region",value:"um"}},{from:{field:"region",value:"mi"},to:{field:"region",value:"um"}},{from:{field:"region",value:"nh"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"nq"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"pu"},to:{field:"region",value:"um"}},{from:{field:"region",value:"pz"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"qu"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"rh"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"tp"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"uk"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"vd"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"wk"},to:{field:"region",value:"um"}},{from:{field:"region",value:"yd"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"zr"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"230"},to:{field:"region",value:"et"}},{from:{field:"region",value:"280"},to:{field:"region",value:"de"}},{from:{field:"region",value:"736"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"886"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"958"},to:{field:"region",value:"aa"}},{from:{field:"region",value:"020"},to:{field:"region",value:"ad"}},{from:{field:"region",value:"784"},to:{field:"region",value:"ae"}},{from:{field:"region",value:"004"},to:{field:"region",value:"af"}},{from:{field:"region",value:"028"},to:{field:"region",value:"ag"}},{from:{field:"region",value:"660"},to:{field:"region",value:"ai"}},{from:{field:"region",value:"008"},to:{field:"region",value:"al"}},{from:{field:"region",value:"051"},to:{field:"region",value:"am"}},{from:{field:"region",value:"024"},to:{field:"region",value:"ao"}},{from:{field:"region",value:"010"},to:{field:"region",value:"aq"}},{from:{field:"region",value:"032"},to:{field:"region",value:"ar"}},{from:{field:"region",value:"016"},to:{field:"region",value:"as"}},{from:{field:"region",value:"040"},to:{field:"region",value:"at"}},{from:{field:"region",value:"036"},to:{field:"region",value:"au"}},{from:{field:"region",value:"533"},to:{field:"region",value:"aw"}},{from:{field:"region",value:"248"},to:{field:"region",value:"ax"}},{from:{field:"region",value:"031"},to:{field:"region",value:"az"}},{from:{field:"region",value:"070"},to:{field:"region",value:"ba"}},{from:{field:"region",value:"052"},to:{field:"region",value:"bb"}},{from:{field:"region",value:"050"},to:{field:"region",value:"bd"}},{from:{field:"region",value:"056"},to:{field:"region",value:"be"}},{from:{field:"region",value:"854"},to:{field:"region",value:"bf"}},{from:{field:"region",value:"100"},to:{field:"region",value:"bg"}},{from:{field:"region",value:"048"},to:{field:"region",value:"bh"}},{from:{field:"region",value:"108"},to:{field:"region",value:"bi"}},{from:{field:"region",value:"204"},to:{field:"region",value:"bj"}},{from:{field:"region",value:"652"},to:{field:"region",value:"bl"}},{from:{field:"region",value:"060"},to:{field:"region",value:"bm"}},{from:{field:"region",value:"096"},to:{field:"region",value:"bn"}},{from:{field:"region",value:"068"},to:{field:"region",value:"bo"}},{from:{field:"region",value:"535"},to:{field:"region",value:"bq"}},{from:{field:"region",value:"076"},to:{field:"region",value:"br"}},{from:{field:"region",value:"044"},to:{field:"region",value:"bs"}},{from:{field:"region",value:"064"},to:{field:"region",value:"bt"}},{from:{field:"region",value:"104"},to:{field:"region",value:"mm"}},{from:{field:"region",value:"074"},to:{field:"region",value:"bv"}},{from:{field:"region",value:"072"},to:{field:"region",value:"bw"}},{from:{field:"region",value:"112"},to:{field:"region",value:"by"}},{from:{field:"region",value:"084"},to:{field:"region",value:"bz"}},{from:{field:"region",value:"124"},to:{field:"region",value:"ca"}},{from:{field:"region",value:"166"},to:{field:"region",value:"cc"}},{from:{field:"region",value:"180"},to:{field:"region",value:"cd"}},{from:{field:"region",value:"140"},to:{field:"region",value:"cf"}},{from:{field:"region",value:"178"},to:{field:"region",value:"cg"}},{from:{field:"region",value:"756"},to:{field:"region",value:"ch"}},{from:{field:"region",value:"384"},to:{field:"region",value:"ci"}},{from:{field:"region",value:"184"},to:{field:"region",value:"ck"}},{from:{field:"region",value:"152"},to:{field:"region",value:"cl"}},{from:{field:"region",value:"120"},to:{field:"region",value:"cm"}},{from:{field:"region",value:"156"},to:{field:"region",value:"cn"}},{from:{field:"region",value:"170"},to:{field:"region",value:"co"}},{from:{field:"region",value:"188"},to:{field:"region",value:"cr"}},{from:{field:"region",value:"192"},to:{field:"region",value:"cu"}},{from:{field:"region",value:"132"},to:{field:"region",value:"cv"}},{from:{field:"region",value:"531"},to:{field:"region",value:"cw"}},{from:{field:"region",value:"162"},to:{field:"region",value:"cx"}},{from:{field:"region",value:"196"},to:{field:"region",value:"cy"}},{from:{field:"region",value:"203"},to:{field:"region",value:"cz"}},{from:{field:"region",value:"278"},to:{field:"region",value:"de"}},{from:{field:"region",value:"276"},to:{field:"region",value:"de"}},{from:{field:"region",value:"262"},to:{field:"region",value:"dj"}},{from:{field:"region",value:"208"},to:{field:"region",value:"dk"}},{from:{field:"region",value:"212"},to:{field:"region",value:"dm"}},{from:{field:"region",value:"214"},to:{field:"region",value:"do"}},{from:{field:"region",value:"012"},to:{field:"region",value:"dz"}},{from:{field:"region",value:"218"},to:{field:"region",value:"ec"}},{from:{field:"region",value:"233"},to:{field:"region",value:"ee"}},{from:{field:"region",value:"818"},to:{field:"region",value:"eg"}},{from:{field:"region",value:"732"},to:{field:"region",value:"eh"}},{from:{field:"region",value:"232"},to:{field:"region",value:"er"}},{from:{field:"region",value:"724"},to:{field:"region",value:"es"}},{from:{field:"region",value:"231"},to:{field:"region",value:"et"}},{from:{field:"region",value:"246"},to:{field:"region",value:"fi"}},{from:{field:"region",value:"242"},to:{field:"region",value:"fj"}},{from:{field:"region",value:"238"},to:{field:"region",value:"fk"}},{from:{field:"region",value:"583"},to:{field:"region",value:"fm"}},{from:{field:"region",value:"234"},to:{field:"region",value:"fo"}},{from:{field:"region",value:"250"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"249"},to:{field:"region",value:"fr"}},{from:{field:"region",value:"266"},to:{field:"region",value:"ga"}},{from:{field:"region",value:"826"},to:{field:"region",value:"gb"}},{from:{field:"region",value:"308"},to:{field:"region",value:"gd"}},{from:{field:"region",value:"268"},to:{field:"region",value:"ge"}},{from:{field:"region",value:"254"},to:{field:"region",value:"gf"}},{from:{field:"region",value:"831"},to:{field:"region",value:"gg"}},{from:{field:"region",value:"288"},to:{field:"region",value:"gh"}},{from:{field:"region",value:"292"},to:{field:"region",value:"gi"}},{from:{field:"region",value:"304"},to:{field:"region",value:"gl"}},{from:{field:"region",value:"270"},to:{field:"region",value:"gm"}},{from:{field:"region",value:"324"},to:{field:"region",value:"gn"}},{from:{field:"region",value:"312"},to:{field:"region",value:"gp"}},{from:{field:"region",value:"226"},to:{field:"region",value:"gq"}},{from:{field:"region",value:"300"},to:{field:"region",value:"gr"}},{from:{field:"region",value:"239"},to:{field:"region",value:"gs"}},{from:{field:"region",value:"320"},to:{field:"region",value:"gt"}},{from:{field:"region",value:"316"},to:{field:"region",value:"gu"}},{from:{field:"region",value:"624"},to:{field:"region",value:"gw"}},{from:{field:"region",value:"328"},to:{field:"region",value:"gy"}},{from:{field:"region",value:"344"},to:{field:"region",value:"hk"}},{from:{field:"region",value:"334"},to:{field:"region",value:"hm"}},{from:{field:"region",value:"340"},to:{field:"region",value:"hn"}},{from:{field:"region",value:"191"},to:{field:"region",value:"hr"}},{from:{field:"region",value:"332"},to:{field:"region",value:"ht"}},{from:{field:"region",value:"348"},to:{field:"region",value:"hu"}},{from:{field:"region",value:"360"},to:{field:"region",value:"id"}},{from:{field:"region",value:"372"},to:{field:"region",value:"ie"}},{from:{field:"region",value:"376"},to:{field:"region",value:"il"}},{from:{field:"region",value:"833"},to:{field:"region",value:"im"}},{from:{field:"region",value:"356"},to:{field:"region",value:"in"}},{from:{field:"region",value:"086"},to:{field:"region",value:"io"}},{from:{field:"region",value:"368"},to:{field:"region",value:"iq"}},{from:{field:"region",value:"364"},to:{field:"region",value:"ir"}},{from:{field:"region",value:"352"},to:{field:"region",value:"is"}},{from:{field:"region",value:"380"},to:{field:"region",value:"it"}},{from:{field:"region",value:"832"},to:{field:"region",value:"je"}},{from:{field:"region",value:"388"},to:{field:"region",value:"jm"}},{from:{field:"region",value:"400"},to:{field:"region",value:"jo"}},{from:{field:"region",value:"392"},to:{field:"region",value:"jp"}},{from:{field:"region",value:"404"},to:{field:"region",value:"ke"}},{from:{field:"region",value:"417"},to:{field:"region",value:"kg"}},{from:{field:"region",value:"116"},to:{field:"region",value:"kh"}},{from:{field:"region",value:"296"},to:{field:"region",value:"ki"}},{from:{field:"region",value:"174"},to:{field:"region",value:"km"}},{from:{field:"region",value:"659"},to:{field:"region",value:"kn"}},{from:{field:"region",value:"408"},to:{field:"region",value:"kp"}},{from:{field:"region",value:"410"},to:{field:"region",value:"kr"}},{from:{field:"region",value:"414"},to:{field:"region",value:"kw"}},{from:{field:"region",value:"136"},to:{field:"region",value:"ky"}},{from:{field:"region",value:"398"},to:{field:"region",value:"kz"}},{from:{field:"region",value:"418"},to:{field:"region",value:"la"}},{from:{field:"region",value:"422"},to:{field:"region",value:"lb"}},{from:{field:"region",value:"662"},to:{field:"region",value:"lc"}},{from:{field:"region",value:"438"},to:{field:"region",value:"li"}},{from:{field:"region",value:"144"},to:{field:"region",value:"lk"}},{from:{field:"region",value:"430"},to:{field:"region",value:"lr"}},{from:{field:"region",value:"426"},to:{field:"region",value:"ls"}},{from:{field:"region",value:"440"},to:{field:"region",value:"lt"}},{from:{field:"region",value:"442"},to:{field:"region",value:"lu"}},{from:{field:"region",value:"428"},to:{field:"region",value:"lv"}},{from:{field:"region",value:"434"},to:{field:"region",value:"ly"}},{from:{field:"region",value:"504"},to:{field:"region",value:"ma"}},{from:{field:"region",value:"492"},to:{field:"region",value:"mc"}},{from:{field:"region",value:"498"},to:{field:"region",value:"md"}},{from:{field:"region",value:"499"},to:{field:"region",value:"me"}},{from:{field:"region",value:"663"},to:{field:"region",value:"mf"}},{from:{field:"region",value:"450"},to:{field:"region",value:"mg"}},{from:{field:"region",value:"584"},to:{field:"region",value:"mh"}},{from:{field:"region",value:"807"},to:{field:"region",value:"mk"}},{from:{field:"region",value:"466"},to:{field:"region",value:"ml"}},{from:{field:"region",value:"496"},to:{field:"region",value:"mn"}},{from:{field:"region",value:"446"},to:{field:"region",value:"mo"}},{from:{field:"region",value:"580"},to:{field:"region",value:"mp"}},{from:{field:"region",value:"474"},to:{field:"region",value:"mq"}},{from:{field:"region",value:"478"},to:{field:"region",value:"mr"}},{from:{field:"region",value:"500"},to:{field:"region",value:"ms"}},{from:{field:"region",value:"470"},to:{field:"region",value:"mt"}},{from:{field:"region",value:"480"},to:{field:"region",value:"mu"}},{from:{field:"region",value:"462"},to:{field:"region",value:"mv"}},{from:{field:"region",value:"454"},to:{field:"region",value:"mw"}},{from:{field:"region",value:"484"},to:{field:"region",value:"mx"}},{from:{field:"region",value:"458"},to:{field:"region",value:"my"}},{from:{field:"region",value:"508"},to:{field:"region",value:"mz"}},{from:{field:"region",value:"516"},to:{field:"region",value:"na"}},{from:{field:"region",value:"540"},to:{field:"region",value:"nc"}},{from:{field:"region",value:"562"},to:{field:"region",value:"ne"}},{from:{field:"region",value:"574"},to:{field:"region",value:"nf"}},{from:{field:"region",value:"566"},to:{field:"region",value:"ng"}},{from:{field:"region",value:"558"},to:{field:"region",value:"ni"}},{from:{field:"region",value:"528"},to:{field:"region",value:"nl"}},{from:{field:"region",value:"578"},to:{field:"region",value:"no"}},{from:{field:"region",value:"524"},to:{field:"region",value:"np"}},{from:{field:"region",value:"520"},to:{field:"region",value:"nr"}},{from:{field:"region",value:"570"},to:{field:"region",value:"nu"}},{from:{field:"region",value:"554"},to:{field:"region",value:"nz"}},{from:{field:"region",value:"512"},to:{field:"region",value:"om"}},{from:{field:"region",value:"591"},to:{field:"region",value:"pa"}},{from:{field:"region",value:"604"},to:{field:"region",value:"pe"}},{from:{field:"region",value:"258"},to:{field:"region",value:"pf"}},{from:{field:"region",value:"598"},to:{field:"region",value:"pg"}},{from:{field:"region",value:"608"},to:{field:"region",value:"ph"}},{from:{field:"region",value:"586"},to:{field:"region",value:"pk"}},{from:{field:"region",value:"616"},to:{field:"region",value:"pl"}},{from:{field:"region",value:"666"},to:{field:"region",value:"pm"}},{from:{field:"region",value:"612"},to:{field:"region",value:"pn"}},{from:{field:"region",value:"630"},to:{field:"region",value:"pr"}},{from:{field:"region",value:"275"},to:{field:"region",value:"ps"}},{from:{field:"region",value:"620"},to:{field:"region",value:"pt"}},{from:{field:"region",value:"585"},to:{field:"region",value:"pw"}},{from:{field:"region",value:"600"},to:{field:"region",value:"py"}},{from:{field:"region",value:"634"},to:{field:"region",value:"qa"}},{from:{field:"region",value:"959"},to:{field:"region",value:"qm"}},{from:{field:"region",value:"960"},to:{field:"region",value:"qn"}},{from:{field:"region",value:"962"},to:{field:"region",value:"qp"}},{from:{field:"region",value:"963"},to:{field:"region",value:"qq"}},{from:{field:"region",value:"964"},to:{field:"region",value:"qr"}},{from:{field:"region",value:"965"},to:{field:"region",value:"qs"}},{from:{field:"region",value:"966"},to:{field:"region",value:"qt"}},{from:{field:"region",value:"967"},to:{field:"region",value:"eu"}},{from:{field:"region",value:"968"},to:{field:"region",value:"qv"}},{from:{field:"region",value:"969"},to:{field:"region",value:"qw"}},{from:{field:"region",value:"970"},to:{field:"region",value:"qx"}},{from:{field:"region",value:"971"},to:{field:"region",value:"qy"}},{from:{field:"region",value:"972"},to:{field:"region",value:"qz"}},{from:{field:"region",value:"638"},to:{field:"region",value:"re"}},{from:{field:"region",value:"642"},to:{field:"region",value:"ro"}},{from:{field:"region",value:"688"},to:{field:"region",value:"rs"}},{from:{field:"region",value:"643"},to:{field:"region",value:"ru"}},{from:{field:"region",value:"646"},to:{field:"region",value:"rw"}},{from:{field:"region",value:"682"},to:{field:"region",value:"sa"}},{from:{field:"region",value:"090"},to:{field:"region",value:"sb"}},{from:{field:"region",value:"690"},to:{field:"region",value:"sc"}},{from:{field:"region",value:"729"},to:{field:"region",value:"sd"}},{from:{field:"region",value:"752"},to:{field:"region",value:"se"}},{from:{field:"region",value:"702"},to:{field:"region",value:"sg"}},{from:{field:"region",value:"654"},to:{field:"region",value:"sh"}},{from:{field:"region",value:"705"},to:{field:"region",value:"si"}},{from:{field:"region",value:"744"},to:{field:"region",value:"sj"}},{from:{field:"region",value:"703"},to:{field:"region",value:"sk"}},{from:{field:"region",value:"694"},to:{field:"region",value:"sl"}},{from:{field:"region",value:"674"},to:{field:"region",value:"sm"}},{from:{field:"region",value:"686"},to:{field:"region",value:"sn"}},{from:{field:"region",value:"706"},to:{field:"region",value:"so"}},{from:{field:"region",value:"740"},to:{field:"region",value:"sr"}},{from:{field:"region",value:"728"},to:{field:"region",value:"ss"}},{from:{field:"region",value:"678"},to:{field:"region",value:"st"}},{from:{field:"region",value:"222"},to:{field:"region",value:"sv"}},{from:{field:"region",value:"534"},to:{field:"region",value:"sx"}},{from:{field:"region",value:"760"},to:{field:"region",value:"sy"}},{from:{field:"region",value:"748"},to:{field:"region",value:"sz"}},{from:{field:"region",value:"796"},to:{field:"region",value:"tc"}},{from:{field:"region",value:"148"},to:{field:"region",value:"td"}},{from:{field:"region",value:"260"},to:{field:"region",value:"tf"}},{from:{field:"region",value:"768"},to:{field:"region",value:"tg"}},{from:{field:"region",value:"764"},to:{field:"region",value:"th"}},{from:{field:"region",value:"762"},to:{field:"region",value:"tj"}},{from:{field:"region",value:"772"},to:{field:"region",value:"tk"}},{from:{field:"region",value:"626"},to:{field:"region",value:"tl"}},{from:{field:"region",value:"795"},to:{field:"region",value:"tm"}},{from:{field:"region",value:"788"},to:{field:"region",value:"tn"}},{from:{field:"region",value:"776"},to:{field:"region",value:"to"}},{from:{field:"region",value:"792"},to:{field:"region",value:"tr"}},{from:{field:"region",value:"780"},to:{field:"region",value:"tt"}},{from:{field:"region",value:"798"},to:{field:"region",value:"tv"}},{from:{field:"region",value:"158"},to:{field:"region",value:"tw"}},{from:{field:"region",value:"834"},to:{field:"region",value:"tz"}},{from:{field:"region",value:"804"},to:{field:"region",value:"ua"}},{from:{field:"region",value:"800"},to:{field:"region",value:"ug"}},{from:{field:"region",value:"581"},to:{field:"region",value:"um"}},{from:{field:"region",value:"840"},to:{field:"region",value:"us"}},{from:{field:"region",value:"858"},to:{field:"region",value:"uy"}},{from:{field:"region",value:"860"},to:{field:"region",value:"uz"}},{from:{field:"region",value:"336"},to:{field:"region",value:"va"}},{from:{field:"region",value:"670"},to:{field:"region",value:"vc"}},{from:{field:"region",value:"862"},to:{field:"region",value:"ve"}},{from:{field:"region",value:"092"},to:{field:"region",value:"vg"}},{from:{field:"region",value:"850"},to:{field:"region",value:"vi"}},{from:{field:"region",value:"704"},to:{field:"region",value:"vn"}},{from:{field:"region",value:"548"},to:{field:"region",value:"vu"}},{from:{field:"region",value:"876"},to:{field:"region",value:"wf"}},{from:{field:"region",value:"882"},to:{field:"region",value:"ws"}},{from:{field:"region",value:"973"},to:{field:"region",value:"xa"}},{from:{field:"region",value:"974"},to:{field:"region",value:"xb"}},{from:{field:"region",value:"975"},to:{field:"region",value:"xc"}},{from:{field:"region",value:"976"},to:{field:"region",value:"xd"}},{from:{field:"region",value:"977"},to:{field:"region",value:"xe"}},{from:{field:"region",value:"978"},to:{field:"region",value:"xf"}},{from:{field:"region",value:"979"},to:{field:"region",value:"xg"}},{from:{field:"region",value:"980"},to:{field:"region",value:"xh"}},{from:{field:"region",value:"981"},to:{field:"region",value:"xi"}},{from:{field:"region",value:"982"},to:{field:"region",value:"xj"}},{from:{field:"region",value:"983"},to:{field:"region",value:"xk"}},{from:{field:"region",value:"984"},to:{field:"region",value:"xl"}},{from:{field:"region",value:"985"},to:{field:"region",value:"xm"}},{from:{field:"region",value:"986"},to:{field:"region",value:"xn"}},{from:{field:"region",value:"987"},to:{field:"region",value:"xo"}},{from:{field:"region",value:"988"},to:{field:"region",value:"xp"}},{from:{field:"region",value:"989"},to:{field:"region",value:"xq"}},{from:{field:"region",value:"990"},to:{field:"region",value:"xr"}},{from:{field:"region",value:"991"},to:{field:"region",value:"xs"}},{from:{field:"region",value:"992"},to:{field:"region",value:"xt"}},{from:{field:"region",value:"993"},to:{field:"region",value:"xu"}},{from:{field:"region",value:"994"},to:{field:"region",value:"xv"}},{from:{field:"region",value:"995"},to:{field:"region",value:"xw"}},{from:{field:"region",value:"996"},to:{field:"region",value:"xx"}},{from:{field:"region",value:"997"},to:{field:"region",value:"xy"}},{from:{field:"region",value:"998"},to:{field:"region",value:"xz"}},{from:{field:"region",value:"720"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"887"},to:{field:"region",value:"ye"}},{from:{field:"region",value:"175"},to:{field:"region",value:"yt"}},{from:{field:"region",value:"710"},to:{field:"region",value:"za"}},{from:{field:"region",value:"894"},to:{field:"region",value:"zm"}},{from:{field:"region",value:"716"},to:{field:"region",value:"zw"}},{from:{field:"region",value:"999"},to:{field:"region",value:"zz"}},{from:{field:"variants",value:"polytoni"},to:{field:"variants",value:"polyton"}},{from:{field:"variants",value:"heploc"},to:{field:"variants",value:"alalc97"}}],hw={region:{172:["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],200:["cz","sk"],530:["cw","sx","bq"],532:["cw","sx","bq"],536:["sa","iq"],582:["fm","mh","mp","pw"],810:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],830:["je","gg"],890:["rs","me","si","hr","mk","ba"],891:["rs","me"],an:["cw","sx","bq"],cs:["rs","me"],fq:["aq","tf"],nt:["sa","iq"],pc:["fm","mh","mp","pw"],su:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yu:["rs","me"],"062":["034","143"],ant:["cw","sx","bq"],scg:["rs","me"],ntz:["sa","iq"],sun:["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],yug:["rs","me"]}},Rb={aa:"aa-latn-et",aaa:"aaa-latn-ng",aab:"aab-latn-ng",aac:"aac-latn-pg",aad:"aad-latn-pg",aae:"aae-latn-it","aae-grek":"aae-grek-it",aaf:"aaf-mlym-in","aaf-arab":"aaf-arab-in",aag:"aag-latn-pg",aah:"aah-latn-pg",aai:"aai-latn-zz",aak:"aak-latn-zz",aal:"aal-latn-cm",aan:"aan-latn-br",aao:"aao-arab-dz",aap:"aap-latn-br",aaq:"aaq-latn-us",aas:"aas-latn-tz",aat:"aat-grek-gr",aau:"aau-latn-zz",aaw:"aaw-latn-pg",aax:"aax-latn-id",aaz:"aaz-latn-id",ab:"ab-cyrl-ge",aba:"aba-latn-ci",abb:"abb-latn-cm",abc:"abc-latn-ph",abd:"abd-latn-ph",abe:"abe-latn-ca",abf:"abf-latn-my",abg:"abg-latn-pg",abh:"abh-arab-tj",abi:"abi-latn-zz",abl:"abl-rjng-id","abl-latn":"abl-latn-id",abm:"abm-latn-ng",abn:"abn-latn-ng",abo:"abo-latn-ng",abp:"abp-latn-ph",abq:"abq-cyrl-zz",abr:"abr-latn-gh",abs:"abs-latn-id",abt:"abt-latn-zz",abu:"abu-latn-ci",abv:"abv-arab-bh",abw:"abw-latn-pg",abx:"abx-latn-ph",aby:"aby-latn-zz",abz:"abz-latn-id",aca:"aca-latn-co",acb:"acb-latn-ng",acd:"acd-latn-zz",ace:"ace-latn-id",acf:"acf-latn-lc",ach:"ach-latn-ug",acm:"acm-arab-iq",acn:"acn-latn-cn",acp:"acp-latn-ng",acq:"acq-arab-ye",acr:"acr-latn-gt",acs:"acs-latn-br",act:"act-latn-nl",acu:"acu-latn-ec",acv:"acv-latn-us",acw:"acw-arab-sa",acx:"acx-arab-om",acy:"acy-latn-cy","acy-arab":"acy-arab-cy","acy-grek":"acy-grek-cy",acz:"acz-latn-sd",ada:"ada-latn-gh",adb:"adb-latn-tl",add:"add-latn-cm",ade:"ade-latn-zz",adf:"adf-arab-om",adg:"adg-latn-au",adh:"adh-latn-ug",adi:"adi-latn-in","adi-tibt":"adi-tibt-cn",adj:"adj-latn-zz",adl:"adl-latn-in",adn:"adn-latn-id",ado:"ado-latn-pg",adp:"adp-tibt-bt",adq:"adq-latn-gh",adr:"adr-latn-id",adt:"adt-latn-au",adu:"adu-latn-ng",adw:"adw-latn-br",adx:"adx-tibt-cn",ady:"ady-cyrl-ru",adz:"adz-latn-zz",ae:"ae-avst-ir",aea:"aea-latn-au",aeb:"aeb-arab-tn",aec:"aec-arab-eg",aee:"aee-arab-af",aek:"aek-latn-nc",ael:"ael-latn-cm",aem:"aem-latn-vn",aeq:"aeq-arab-pk",aer:"aer-latn-au",aeu:"aeu-latn-cn",aew:"aew-latn-pg",aey:"aey-latn-zz",aez:"aez-latn-pg",af:"af-latn-za",afb:"afb-arab-kw",afd:"afd-latn-pg",afe:"afe-latn-ng",afh:"afh-latn-gh",afi:"afi-latn-pg",afk:"afk-latn-pg",afn:"afn-latn-ng",afo:"afo-latn-ng",afp:"afp-latn-pg",afs:"afs-latn-mx",afu:"afu-latn-gh",afz:"afz-latn-id",aga:"aga-latn-pe",agb:"agb-latn-ng",agc:"agc-latn-zz",agd:"agd-latn-zz",age:"age-latn-pg",agf:"agf-latn-id",agg:"agg-latn-zz",agh:"agh-latn-cd",agi:"agi-deva-in",agj:"agj-ethi-et","agj-arab":"agj-arab-et",agk:"agk-latn-ph",agl:"agl-latn-pg",agm:"agm-latn-zz",agn:"agn-latn-ph",ago:"ago-latn-zz",agq:"agq-latn-cm",agr:"agr-latn-pe",ags:"ags-latn-cm",agt:"agt-latn-ph",agu:"agu-latn-gt",agv:"agv-latn-ph",agw:"agw-latn-sb",agx:"agx-cyrl-ru",agy:"agy-latn-ph",agz:"agz-latn-ph",aha:"aha-latn-zz",ahb:"ahb-latn-vu",ahg:"ahg-ethi-et",ahh:"ahh-latn-id",ahi:"ahi-latn-ci",ahk:"ahk-latn-mm","ahk-mymr":"ahk-mymr-mm","ahk-th":"ahk-latn-th","ahk-thai":"ahk-thai-th",ahl:"ahl-latn-zz",ahm:"ahm-latn-ci",ahn:"ahn-latn-ng",aho:"aho-ahom-in",ahp:"ahp-latn-ci",ahr:"ahr-deva-in",ahs:"ahs-latn-ng",aht:"aht-latn-us",aia:"aia-latn-sb",aib:"aib-arab-cn",aic:"aic-latn-pg",aid:"aid-latn-au",aie:"aie-latn-pg",aif:"aif-latn-pg",aig:"aig-latn-ag",aij:"aij-hebr-il",aik:"aik-latn-ng",ail:"ail-latn-pg",aim:"aim-latn-in",ain:"ain-kana-jp","ain-latn":"ain-latn-jp",aio:"aio-mymr-in",aip:"aip-latn-id",aiq:"aiq-arab-af",air:"air-latn-id",ait:"ait-latn-br",aiw:"aiw-latn-et","aiw-arab":"aiw-arab-et","aiw-ethi":"aiw-ethi-et",aix:"aix-latn-pg",aiy:"aiy-latn-cf",aja:"aja-latn-ss",ajg:"ajg-latn-zz",aji:"aji-latn-nc",ajn:"ajn-latn-au",ajp:"ajp-arab-jo",ajt:"ajt-arab-tn",ajw:"ajw-latn-ng",ajz:"ajz-latn-in",ak:"ak-latn-gh",akb:"akb-latn-id","akb-batk":"akb-batk-id",akc:"akc-latn-id",akd:"akd-latn-ng",ake:"ake-latn-gy",akf:"akf-latn-ng",akg:"akg-latn-id",akh:"akh-latn-pg",aki:"aki-latn-pg",akk:"akk-xsux-iq",akl:"akl-latn-ph",ako:"ako-latn-sr",akp:"akp-latn-gh",akq:"akq-latn-pg",akr:"akr-latn-vu",aks:"aks-latn-tg",akt:"akt-latn-pg",aku:"aku-latn-cm",akv:"akv-cyrl-ru",akw:"akw-latn-cg",akz:"akz-latn-us",ala:"ala-latn-zz",alc:"alc-latn-cl",ald:"ald-latn-ci",ale:"ale-latn-us",alf:"alf-latn-ng",alh:"alh-latn-au",ali:"ali-latn-zz",alj:"alj-latn-ph",alk:"alk-laoo-la",all:"all-mlym-in",alm:"alm-latn-vu",aln:"aln-latn-xk",alo:"alo-latn-id",alp:"alp-latn-id",alq:"alq-latn-ca",alr:"alr-cyrl-ru",alt:"alt-cyrl-ru",alu:"alu-latn-sb",alw:"alw-ethi-et",alx:"alx-latn-pg",aly:"aly-latn-au",alz:"alz-latn-cd",am:"am-ethi-et",ama:"ama-latn-br",amb:"amb-latn-ng",amc:"amc-latn-pe",ame:"ame-latn-pe",amf:"amf-latn-et","amf-ethi":"amf-ethi-et",amg:"amg-latn-au",ami:"ami-latn-tw",amj:"amj-latn-td",amk:"amk-latn-id",amm:"amm-latn-zz",amn:"amn-latn-zz",amo:"amo-latn-ng",amp:"amp-latn-zz",amq:"amq-latn-id",amr:"amr-latn-pe",ams:"ams-jpan-jp",amt:"amt-latn-pg",amu:"amu-latn-mx",amv:"amv-latn-id",amw:"amw-syrc-sy","amw-arab":"amw-arab-sy","amw-armi":"amw-armi-sy","amw-latn":"amw-latn-sy",amx:"amx-latn-au",amy:"amy-latn-au",amz:"amz-latn-au",an:"an-latn-es",ana:"ana-latn-co",anb:"anb-latn-pe",anc:"anc-latn-zz",and:"and-latn-id",ane:"ane-latn-nc",anf:"anf-latn-gh",ang:"ang-latn-gb",anh:"anh-latn-pg",ani:"ani-cyrl-ru",anj:"anj-latn-pg",ank:"ank-latn-zz",anl:"anl-latn-mm",anm:"anm-latn-in",ann:"ann-latn-ng",ano:"ano-latn-co",anp:"anp-deva-in",anr:"anr-deva-in",ans:"ans-latn-co",ant:"ant-latn-au",anu:"anu-ethi-et","anu-arab":"anu-arab-ss","anu-latn":"anu-latn-ss",anv:"anv-latn-cm",anw:"anw-latn-ng",anx:"anx-latn-pg",any:"any-latn-zz",anz:"anz-latn-pg",aoa:"aoa-latn-st",aob:"aob-latn-pg",aoc:"aoc-latn-ve",aod:"aod-latn-pg",aoe:"aoe-latn-pg",aof:"aof-latn-pg",aog:"aog-latn-pg",aoi:"aoi-latn-au",aoj:"aoj-latn-zz",aok:"aok-latn-nc",aol:"aol-latn-id",aom:"aom-latn-zz",aon:"aon-latn-pg",aor:"aor-latn-vu",aos:"aos-latn-id",aot:"aot-beng-bd","aot-latn":"aot-latn-in",aox:"aox-latn-gy",aoz:"aoz-latn-id",apb:"apb-latn-sb",apc:"apc-arab-sy",apd:"apd-arab-tg",ape:"ape-latn-zz",apf:"apf-latn-ph",apg:"apg-latn-id",aph:"aph-deva-np",api:"api-latn-br",apj:"apj-latn-us",apk:"apk-latn-us",apl:"apl-latn-us",apm:"apm-latn-us",apn:"apn-latn-br",apo:"apo-latn-pg",app:"app-latn-vu",apr:"apr-latn-zz",aps:"aps-latn-zz",apt:"apt-latn-in",apu:"apu-latn-br",apv:"apv-latn-br",apw:"apw-latn-us",apx:"apx-latn-id",apy:"apy-latn-br",apz:"apz-latn-zz",aqc:"aqc-cyrl-ru",aqd:"aqd-latn-ml",aqg:"aqg-latn-ng",aqk:"aqk-latn-ng",aqm:"aqm-latn-id",aqn:"aqn-latn-ph",aqr:"aqr-latn-nc",aqt:"aqt-latn-py",aqz:"aqz-latn-br",ar:"ar-arab-eg",arc:"arc-armi-ir","arc-nbat":"arc-nbat-jo","arc-palm":"arc-palm-sy",ard:"ard-latn-au",are:"are-latn-au",arh:"arh-latn-zz",ari:"ari-latn-us",arj:"arj-latn-br",ark:"ark-latn-br",arl:"arl-latn-pe",arn:"arn-latn-cl",aro:"aro-latn-bo",arp:"arp-latn-us",arq:"arq-arab-dz",arr:"arr-latn-br",ars:"ars-arab-sa",aru:"aru-latn-br",arw:"arw-latn-sr",arx:"arx-latn-br",ary:"ary-arab-ma",arz:"arz-arab-eg",as:"as-beng-in",asa:"asa-latn-tz",asb:"asb-latn-ca",asc:"asc-latn-id",ase:"ase-sgnw-us",asg:"asg-latn-zz",ash:"ash-latn-pe",asi:"asi-latn-id",asj:"asj-latn-cm",ask:"ask-arab-af",asl:"asl-latn-id",asn:"asn-latn-br",aso:"aso-latn-zz",ass:"ass-latn-cm",ast:"ast-latn-es",asu:"asu-latn-br",asv:"asv-latn-cd",asx:"asx-latn-pg",asy:"asy-latn-id",asz:"asz-latn-id",ata:"ata-latn-zz",atb:"atb-latn-cn","atb-lisu":"atb-lisu-cn",atc:"atc-latn-pe",atd:"atd-latn-ph",ate:"ate-latn-pg",atg:"atg-latn-zz",ati:"ati-latn-ci",atj:"atj-latn-ca",atk:"atk-latn-ph",atl:"atl-latn-ph",atm:"atm-latn-ph",atn:"atn-arab-ir",ato:"ato-latn-cm",atp:"atp-latn-ph",atq:"atq-latn-id",atr:"atr-latn-br",ats:"ats-latn-us",att:"att-latn-ph",atu:"atu-latn-ss",atv:"atv-cyrl-ru",atw:"atw-latn-us",atx:"atx-latn-br",aty:"aty-latn-vu",atz:"atz-latn-ph",aua:"aua-latn-sb",auc:"auc-latn-ec",aud:"aud-latn-sb",aug:"aug-latn-bj",auh:"auh-latn-zm",aui:"aui-latn-pg",auj:"auj-arab-ly","auj-latn":"auj-latn-ly","auj-tfng":"auj-tfng-ly",auk:"auk-latn-pg",aul:"aul-latn-vu",aum:"aum-latn-ng",aun:"aun-latn-pg",auo:"auo-latn-ng",aup:"aup-latn-pg",auq:"auq-latn-id",aur:"aur-latn-pg",aut:"aut-latn-pf",auu:"auu-latn-id",auw:"auw-latn-id",auy:"auy-latn-zz",auz:"auz-arab-uz",av:"av-cyrl-ru",avb:"avb-latn-pg",avd:"avd-arab-ir",avi:"avi-latn-ci",avk:"avk-latn-001",avl:"avl-arab-zz",avm:"avm-latn-au",avn:"avn-latn-zz",avo:"avo-latn-br",avs:"avs-latn-pe",avt:"avt-latn-zz",avu:"avu-latn-zz",avv:"avv-latn-br",awa:"awa-deva-in",awb:"awb-latn-zz",awc:"awc-latn-ng",awe:"awe-latn-br",awg:"awg-latn-au",awh:"awh-latn-id",awi:"awi-latn-pg",awk:"awk-latn-au",awm:"awm-latn-pg",awn:"awn-ethi-et",awo:"awo-latn-zz",awr:"awr-latn-id",aws:"aws-latn-id",awt:"awt-latn-br",awu:"awu-latn-id",awv:"awv-latn-id",aww:"aww-latn-pg",awx:"awx-latn-zz",awy:"awy-latn-id",axb:"axb-latn-ar",axe:"axe-latn-au",axg:"axg-latn-br",axk:"axk-latn-cf",axl:"axl-latn-au",axm:"axm-armn-am",axx:"axx-latn-nc",ay:"ay-latn-bo",aya:"aya-latn-pg",ayb:"ayb-latn-zz",ayc:"ayc-latn-pe",ayd:"ayd-latn-au",aye:"aye-latn-ng",ayg:"ayg-latn-tg",ayh:"ayh-arab-ye",ayi:"ayi-latn-ng",ayk:"ayk-latn-ng",ayl:"ayl-arab-ly",ayn:"ayn-arab-ye",ayo:"ayo-latn-py",ayp:"ayp-arab-iq",ayq:"ayq-latn-pg",ays:"ays-latn-ph",ayt:"ayt-latn-ph",ayu:"ayu-latn-ng",ayz:"ayz-latn-id",az:"az-latn-az","az-arab":"az-arab-ir","az-iq":"az-arab-iq","az-ir":"az-arab-ir","az-ru":"az-cyrl-ru",azb:"azb-arab-ir","azb-cyrl":"azb-cyrl-az","azb-latn":"azb-latn-az",azd:"azd-latn-mx",azg:"azg-latn-mx",azm:"azm-latn-mx",azn:"azn-latn-mx",azo:"azo-latn-cm",azt:"azt-latn-ph",azz:"azz-latn-mx",ba:"ba-cyrl-ru",baa:"baa-latn-sb",bab:"bab-latn-gw",bac:"bac-latn-id",bae:"bae-latn-ve",baf:"baf-latn-cm",bag:"bag-latn-cm",bah:"bah-latn-bs",baj:"baj-latn-id",bal:"bal-arab-pk",ban:"ban-latn-id",bao:"bao-latn-co",bap:"bap-deva-np",bar:"bar-latn-at",bas:"bas-latn-cm",bau:"bau-latn-ng",bav:"bav-latn-zz",baw:"baw-latn-cm",bax:"bax-bamu-cm",bay:"bay-latn-id",bba:"bba-latn-zz",bbb:"bbb-latn-zz",bbc:"bbc-latn-id",bbd:"bbd-latn-zz",bbe:"bbe-latn-cd",bbf:"bbf-latn-pg",bbg:"bbg-latn-ga",bbi:"bbi-latn-cm",bbj:"bbj-latn-cm",bbk:"bbk-latn-cm",bbl:"bbl-geor-ge",bbm:"bbm-latn-cd",bbn:"bbn-latn-pg",bbo:"bbo-latn-bf",bbp:"bbp-latn-zz",bbq:"bbq-latn-cm",bbr:"bbr-latn-zz",bbs:"bbs-latn-ng",bbt:"bbt-latn-ng",bbu:"bbu-latn-ng",bbv:"bbv-latn-pg",bbw:"bbw-latn-cm",bbx:"bbx-latn-cm",bby:"bby-latn-cm",bca:"bca-latn-cn","bca-hani":"bca-hani-cn",bcb:"bcb-latn-sn",bcd:"bcd-latn-id",bce:"bce-latn-cm",bcf:"bcf-latn-zz",bcg:"bcg-latn-gn",bch:"bch-latn-zz",bci:"bci-latn-ci",bcj:"bcj-latn-au",bck:"bck-latn-au",bcm:"bcm-latn-zz",bcn:"bcn-latn-zz",bco:"bco-latn-zz",bcp:"bcp-latn-cd",bcq:"bcq-ethi-zz",bcr:"bcr-latn-ca",bcs:"bcs-latn-ng",bct:"bct-latn-cd",bcu:"bcu-latn-zz",bcv:"bcv-latn-ng",bcw:"bcw-latn-cm",bcy:"bcy-latn-ng",bcz:"bcz-latn-sn",bda:"bda-latn-sn",bdb:"bdb-latn-id",bdc:"bdc-latn-co",bdd:"bdd-latn-zz",bde:"bde-latn-ng",bdf:"bdf-latn-pg",bdg:"bdg-latn-my",bdh:"bdh-latn-ss",bdi:"bdi-latn-sd",bdj:"bdj-latn-ss",bdk:"bdk-latn-az",bdl:"bdl-latn-id",bdm:"bdm-latn-td",bdn:"bdn-latn-cm",bdo:"bdo-latn-td",bdp:"bdp-latn-tz",bdq:"bdq-latn-vn",bdr:"bdr-latn-my",bds:"bds-latn-tz",bdt:"bdt-latn-cf",bdu:"bdu-latn-cm",bdv:"bdv-orya-in",bdw:"bdw-latn-id",bdx:"bdx-latn-id",bdy:"bdy-latn-au",bdz:"bdz-arab-pk",be:"be-cyrl-by",bea:"bea-latn-ca","bea-cans":"bea-cans-ca",beb:"beb-latn-cm",bec:"bec-latn-cm",bed:"bed-latn-id",bee:"bee-deva-in",bef:"bef-latn-zz",beh:"beh-latn-zz",bei:"bei-latn-id",bej:"bej-arab-sd",bek:"bek-latn-pg",bem:"bem-latn-zm",beo:"beo-latn-pg",bep:"bep-latn-id",beq:"beq-latn-cg",bes:"bes-latn-td",bet:"bet-latn-zz",beu:"beu-latn-id",bev:"bev-latn-ci",bew:"bew-latn-id",bex:"bex-latn-zz",bey:"bey-latn-pg",bez:"bez-latn-tz",bfa:"bfa-latn-ss","bfa-arab":"bfa-arab-ss",bfb:"bfb-deva-in",bfc:"bfc-latn-cn",bfd:"bfd-latn-cm",bfe:"bfe-latn-id",bff:"bff-latn-cf",bfg:"bfg-latn-id",bfh:"bfh-latn-pg",bfj:"bfj-latn-cm",bfl:"bfl-latn-cf",bfm:"bfm-latn-cm",bfn:"bfn-latn-tl",bfo:"bfo-latn-bf",bfp:"bfp-latn-cm",bfq:"bfq-taml-in",bfs:"bfs-latn-cn","bfs-hani":"bfs-hani-cn",bft:"bft-arab-pk",bfu:"bfu-tibt-in","bfu-takr":"bfu-takr-in",bfw:"bfw-orya-in",bfx:"bfx-latn-ph",bfy:"bfy-deva-in",bfz:"bfz-deva-in",bg:"bg-cyrl-bg",bga:"bga-latn-ng",bgb:"bgb-latn-id",bgc:"bgc-deva-in",bgd:"bgd-deva-in",bgf:"bgf-latn-cm",bgg:"bgg-latn-in",bgi:"bgi-latn-ph",bgj:"bgj-latn-cm",bgn:"bgn-arab-pk",bgo:"bgo-latn-gn",bgp:"bgp-arab-pk",bgq:"bgq-deva-in",bgr:"bgr-latn-in",bgs:"bgs-latn-ph",bgt:"bgt-latn-sb",bgu:"bgu-latn-ng",bgv:"bgv-latn-id",bgw:"bgw-deva-in",bgx:"bgx-grek-tr",bgy:"bgy-latn-id",bgz:"bgz-latn-id",bha:"bha-deva-in",bhb:"bhb-deva-in",bhc:"bhc-latn-id",bhd:"bhd-deva-in","bhd-arab":"bhd-arab-in","bhd-takr":"bhd-takr-in",bhe:"bhe-arab-pk",bhf:"bhf-latn-pg",bhg:"bhg-latn-zz",bhh:"bhh-cyrl-il","bhh-hebr":"bhh-hebr-il","bhh-latn":"bhh-latn-il",bhi:"bhi-deva-in",bhj:"bhj-deva-np",bhl:"bhl-latn-zz",bhm:"bhm-arab-om",bhn:"bhn-syrc-ge",bho:"bho-deva-in",bhp:"bhp-latn-id",bhq:"bhq-latn-id",bhr:"bhr-latn-mg",bhs:"bhs-latn-cm",bht:"bht-takr-in","bht-deva":"bht-deva-in","bht-latn":"bht-latn-in",bhu:"bhu-deva-in",bhv:"bhv-latn-id",bhw:"bhw-latn-id",bhy:"bhy-latn-zz",bhz:"bhz-latn-id",bi:"bi-latn-vu",bia:"bia-latn-au",bib:"bib-latn-zz",bid:"bid-latn-td",bie:"bie-latn-pg",bif:"bif-latn-gw",big:"big-latn-zz",bik:"bik-latn-ph",bil:"bil-latn-ng",bim:"bim-latn-zz",bin:"bin-latn-ng",bio:"bio-latn-zz",bip:"bip-latn-cd",biq:"biq-latn-zz",bir:"bir-latn-pg",bit:"bit-latn-pg",biu:"biu-latn-in",biv:"biv-latn-gh",biw:"biw-latn-cm",biy:"biy-deva-in",biz:"biz-latn-cd",bja:"bja-latn-cd",bjb:"bjb-latn-au",bjc:"bjc-latn-pg",bjf:"bjf-syrc-il",bjg:"bjg-latn-gw",bjh:"bjh-latn-zz",bji:"bji-ethi-zz",bjj:"bjj-deva-in",bjk:"bjk-latn-pg",bjl:"bjl-latn-pg",bjm:"bjm-arab-iq",bjn:"bjn-latn-id",bjo:"bjo-latn-zz",bjp:"bjp-latn-pg",bjr:"bjr-latn-zz",bjs:"bjs-latn-bb",bjt:"bjt-latn-sn",bju:"bju-latn-cm",bjv:"bjv-latn-td",bjw:"bjw-latn-ci",bjx:"bjx-latn-ph",bjy:"bjy-latn-au",bjz:"bjz-latn-zz",bka:"bka-latn-ng",bkc:"bkc-latn-zz",bkd:"bkd-latn-ph",bkf:"bkf-latn-cd",bkg:"bkg-latn-cf",bkh:"bkh-latn-cm",bki:"bki-latn-vu",bkj:"bkj-latn-cf",bkl:"bkl-latn-id",bkm:"bkm-latn-cm",bkn:"bkn-latn-id",bko:"bko-latn-cm",bkp:"bkp-latn-cd",bkq:"bkq-latn-zz",bkr:"bkr-latn-id",bks:"bks-latn-ph",bkt:"bkt-latn-cd",bku:"bku-latn-ph",bkv:"bkv-latn-zz",bkw:"bkw-latn-cg",bkx:"bkx-latn-tl",bky:"bky-latn-ng",bkz:"bkz-latn-id",bla:"bla-latn-ca",blb:"blb-latn-sb",blc:"blc-latn-ca",bld:"bld-latn-id",ble:"ble-latn-gw",blf:"blf-latn-id",blg:"blg-latn-my",blh:"blh-latn-lr",bli:"bli-latn-cd",blj:"blj-latn-id",blk:"blk-mymr-mm",blm:"blm-latn-ss",bln:"bln-latn-ph",blo:"blo-latn-bj",blp:"blp-latn-sb",blq:"blq-latn-pg",blr:"blr-latn-cn","blr-tale":"blr-tale-cn","blr-thai":"blr-thai-th",bls:"bls-latn-id",blt:"blt-tavt-vn",blv:"blv-latn-ao",blw:"blw-latn-ph",blx:"blx-latn-ph",bly:"bly-latn-bj",blz:"blz-latn-id",bm:"bm-latn-ml",bma:"bma-latn-ng",bmb:"bmb-latn-cd",bmc:"bmc-latn-pg",bmd:"bmd-latn-gn",bme:"bme-latn-cf",bmf:"bmf-latn-sl",bmg:"bmg-latn-cd",bmh:"bmh-latn-zz",bmi:"bmi-latn-td",bmj:"bmj-deva-np",bmk:"bmk-latn-zz",bml:"bml-latn-cd",bmm:"bmm-latn-mg",bmn:"bmn-latn-pg",bmo:"bmo-latn-cm",bmp:"bmp-latn-pg",bmq:"bmq-latn-ml",bmr:"bmr-latn-co",bms:"bms-latn-ne",bmu:"bmu-latn-zz",bmv:"bmv-latn-cm",bmw:"bmw-latn-cg",bmx:"bmx-latn-pg",bmz:"bmz-latn-pg",bn:"bn-beng-bd",bna:"bna-latn-id",bnb:"bnb-latn-my",bnc:"bnc-latn-ph",bnd:"bnd-latn-id",bne:"bne-latn-id",bnf:"bnf-latn-id",bng:"bng-latn-zz",bni:"bni-latn-cd",bnj:"bnj-latn-ph",bnk:"bnk-latn-vu",bnm:"bnm-latn-zz",bnn:"bnn-latn-tw",bno:"bno-latn-ph",bnp:"bnp-latn-zz",bnq:"bnq-latn-id",bnr:"bnr-latn-vu",bns:"bns-deva-in",bnu:"bnu-latn-id",bnv:"bnv-latn-id",bnw:"bnw-latn-pg",bnx:"bnx-latn-cd",bny:"bny-latn-my",bnz:"bnz-latn-cm",bo:"bo-tibt-cn",boa:"boa-latn-pe",bob:"bob-latn-ke",boe:"boe-latn-cm",bof:"bof-latn-bf",boh:"boh-latn-cd",boj:"boj-latn-zz",bok:"bok-latn-cg",bol:"bol-latn-ng",bom:"bom-latn-zz",bon:"bon-latn-zz",boo:"boo-latn-ml",bop:"bop-latn-pg",boq:"boq-latn-pg",bor:"bor-latn-br",bot:"bot-latn-ss",bou:"bou-latn-tz",bov:"bov-latn-gh",bow:"bow-latn-pg",box:"box-latn-bf",boy:"boy-latn-cf",boz:"boz-latn-ml","boz-arab":"boz-arab-ml",bpa:"bpa-latn-vu",bpc:"bpc-latn-cm",bpd:"bpd-latn-cf",bpe:"bpe-latn-pg",bpg:"bpg-latn-id",bph:"bph-cyrl-ru",bpi:"bpi-latn-pg",bpj:"bpj-latn-cd",bpk:"bpk-latn-nc",bpl:"bpl-latn-au",bpm:"bpm-latn-pg",bpo:"bpo-latn-id",bpp:"bpp-latn-id",bpq:"bpq-latn-id",bpr:"bpr-latn-ph",bps:"bps-latn-ph",bpt:"bpt-latn-au",bpu:"bpu-latn-pg",bpv:"bpv-latn-id",bpw:"bpw-latn-pg",bpx:"bpx-deva-in",bpy:"bpy-beng-in",bpz:"bpz-latn-id",bqa:"bqa-latn-bj",bqb:"bqb-latn-id",bqc:"bqc-latn-zz",bqd:"bqd-latn-cm",bqf:"bqf-latn-gn","bqf-arab":"bqf-arab-gn",bqg:"bqg-latn-tg",bqi:"bqi-arab-ir",bqj:"bqj-latn-sn",bqk:"bqk-latn-cf",bql:"bql-latn-pg",bqm:"bqm-latn-cm",bqo:"bqo-latn-cm",bqp:"bqp-latn-zz",bqq:"bqq-latn-id",bqr:"bqr-latn-id",bqs:"bqs-latn-pg",bqt:"bqt-latn-cm",bqu:"bqu-latn-cd",bqv:"bqv-latn-ci",bqw:"bqw-latn-ng",bqx:"bqx-latn-ng",bqz:"bqz-latn-cm",br:"br-latn-fr",bra:"bra-deva-in",brb:"brb-khmr-kh","brb-laoo":"brb-laoo-la","brb-latn":"brb-latn-vn",brc:"brc-latn-gy",brd:"brd-deva-np",brf:"brf-latn-cd",brg:"brg-latn-bo",brh:"brh-arab-pk",bri:"bri-latn-cm",brj:"brj-latn-vu",brk:"brk-arab-sd",brl:"brl-latn-bw",brm:"brm-latn-cd",brn:"brn-latn-cr",brp:"brp-latn-id",brq:"brq-latn-pg",brr:"brr-latn-sb",brs:"brs-latn-id",brt:"brt-latn-ng",bru:"bru-latn-vn","bru-laoo":"bru-laoo-la","bru-thai":"bru-thai-la",brv:"brv-laoo-la",brx:"brx-deva-in",bry:"bry-latn-pg",brz:"brz-latn-zz",bs:"bs-latn-ba",bsa:"bsa-latn-id",bsb:"bsb-latn-bn",bsc:"bsc-latn-sn",bse:"bse-latn-cm",bsf:"bsf-latn-ng",bsh:"bsh-arab-af",bsi:"bsi-latn-cm",bsj:"bsj-latn-zz",bsk:"bsk-arab-pk","bsk-latn":"bsk-latn-pk",bsl:"bsl-latn-ng",bsm:"bsm-latn-id",bsn:"bsn-latn-co",bso:"bso-latn-td",bsp:"bsp-latn-gn",bsq:"bsq-bass-lr",bsr:"bsr-latn-ng",bss:"bss-latn-cm",bst:"bst-ethi-zz",bsu:"bsu-latn-id",bsv:"bsv-latn-gn","bsv-arab":"bsv-arab-gn",bsw:"bsw-latn-et","bsw-ethi":"bsw-ethi-et",bsx:"bsx-latn-ng",bsy:"bsy-latn-my",bta:"bta-latn-ng",btc:"btc-latn-cm",btd:"btd-batk-id",bte:"bte-latn-ng",btf:"btf-latn-td",btg:"btg-latn-ci",bth:"bth-latn-my",bti:"bti-latn-id",btj:"btj-latn-id",btm:"btm-batk-id",btn:"btn-latn-ph",bto:"bto-latn-ph",btp:"btp-latn-pg",btq:"btq-latn-my",btr:"btr-latn-vu",bts:"bts-latn-id","bts-batk":"bts-batk-id",btt:"btt-latn-zz",btu:"btu-latn-ng",btv:"btv-deva-pk",btw:"btw-latn-ph",btx:"btx-latn-id","btx-batk":"btx-batk-id",bty:"bty-latn-id",btz:"btz-latn-id",bua:"bua-cyrl-ru",bub:"bub-latn-td",buc:"buc-latn-yt",bud:"bud-latn-zz",bue:"bue-latn-ca",buf:"buf-latn-cd",bug:"bug-latn-id",buh:"buh-latn-cn",bui:"bui-latn-cg",buj:"buj-latn-ng",buk:"buk-latn-zz",bum:"bum-latn-cm",bun:"bun-latn-sl",buo:"buo-latn-zz",bup:"bup-latn-id",buq:"buq-latn-pg",bus:"bus-latn-zz",but:"but-latn-pg",buu:"buu-latn-zz",buv:"buv-latn-pg",buw:"buw-latn-ga",bux:"bux-latn-ng",buy:"buy-latn-sl",buz:"buz-latn-ng",bva:"bva-latn-td",bvb:"bvb-latn-gq",bvc:"bvc-latn-sb",bvd:"bvd-latn-sb",bve:"bve-latn-id",bvf:"bvf-latn-td",bvg:"bvg-latn-cm",bvh:"bvh-latn-ng",bvi:"bvi-latn-ss",bvj:"bvj-latn-ng",bvk:"bvk-latn-id",bvm:"bvm-latn-cm",bvn:"bvn-latn-pg",bvo:"bvo-latn-td",bvq:"bvq-latn-cf",bvr:"bvr-latn-au",bvt:"bvt-latn-id",bvu:"bvu-latn-id",bvv:"bvv-latn-ve",bvw:"bvw-latn-ng",bvx:"bvx-latn-cg",bvy:"bvy-latn-ph",bvz:"bvz-latn-id",bwa:"bwa-latn-nc",bwb:"bwb-latn-fj",bwc:"bwc-latn-zm",bwd:"bwd-latn-zz",bwe:"bwe-mymr-mm","bwe-latn":"bwe-latn-mm",bwf:"bwf-latn-pg",bwg:"bwg-latn-mz",bwh:"bwh-latn-cm",bwi:"bwi-latn-ve",bwj:"bwj-latn-bf",bwk:"bwk-latn-pg",bwl:"bwl-latn-cd",bwm:"bwm-latn-pg",bwo:"bwo-latn-et","bwo-ethi":"bwo-ethi-et",bwp:"bwp-latn-id",bwq:"bwq-latn-bf",bwr:"bwr-latn-zz",bws:"bws-latn-cd",bwt:"bwt-latn-cm",bwu:"bwu-latn-gh",bww:"bww-latn-cd",bwx:"bwx-latn-cn",bwy:"bwy-latn-bf",bwz:"bwz-latn-cg",bxa:"bxa-latn-sb",bxb:"bxb-latn-ss",bxc:"bxc-latn-gq",bxf:"bxf-latn-pg",bxg:"bxg-latn-cd",bxh:"bxh-latn-zz",bxi:"bxi-latn-au",bxj:"bxj-latn-au",bxl:"bxl-latn-bf",bxm:"bxm-cyrl-mn","bxm-latn":"bxm-latn-mn","bxm-mong":"bxm-mong-mn",bxn:"bxn-latn-au",bxo:"bxo-latn-ng",bxp:"bxp-latn-cm",bxq:"bxq-latn-ng",bxs:"bxs-latn-cm",bxu:"bxu-mong-cn","bxu-cyrl":"bxu-cyrl-cn","bxu-latn":"bxu-latn-cn",bxv:"bxv-latn-td",bxw:"bxw-latn-ml",bxz:"bxz-latn-pg",bya:"bya-latn-ph",byb:"byb-latn-cm",byc:"byc-latn-ng",byd:"byd-latn-id",bye:"bye-latn-zz",byf:"byf-latn-ng",byh:"byh-deva-np",byi:"byi-latn-cd",byj:"byj-latn-ng",byk:"byk-latn-cn",byl:"byl-latn-id",bym:"bym-latn-au",byn:"byn-ethi-er",byp:"byp-latn-ng",byr:"byr-latn-zz",bys:"bys-latn-zz",byv:"byv-latn-cm",byw:"byw-deva-np",byx:"byx-latn-zz",byz:"byz-latn-pg",bza:"bza-latn-zz",bzb:"bzb-latn-id",bzc:"bzc-latn-mg",bzd:"bzd-latn-cr",bze:"bze-latn-ml",bzf:"bzf-latn-zz",bzh:"bzh-latn-zz",bzi:"bzi-thai-th",bzj:"bzj-latn-bz",bzk:"bzk-latn-ni",bzl:"bzl-latn-id",bzm:"bzm-latn-cd",bzn:"bzn-latn-id",bzo:"bzo-latn-cd",bzp:"bzp-latn-id",bzq:"bzq-latn-id",bzr:"bzr-latn-au",bzt:"bzt-latn-001",bzu:"bzu-latn-id",bzv:"bzv-latn-cm",bzw:"bzw-latn-zz",bzx:"bzx-latn-ml",bzy:"bzy-latn-ng",bzz:"bzz-latn-ng",ca:"ca-latn-es",caa:"caa-latn-gt",cab:"cab-latn-hn",cac:"cac-latn-gt",cad:"cad-latn-us",cae:"cae-latn-sn",caf:"caf-latn-ca","caf-cans":"caf-cans-ca",cag:"cag-latn-py",cah:"cah-latn-pe",caj:"caj-latn-ar",cak:"cak-latn-gt",cal:"cal-latn-mp",cam:"cam-latn-nc",can:"can-latn-zz",cao:"cao-latn-bo",cap:"cap-latn-bo",caq:"caq-latn-in",car:"car-latn-ve",cas:"cas-latn-bo",cav:"cav-latn-bo",caw:"caw-latn-bo",cax:"cax-latn-bo",cay:"cay-latn-ca",caz:"caz-latn-bo",cbb:"cbb-latn-co",cbc:"cbc-latn-co",cbd:"cbd-latn-co",cbg:"cbg-latn-co",cbi:"cbi-latn-ec",cbj:"cbj-latn-zz",cbk:"cbk-latn-ph","cbk-brai":"cbk-brai-ph",cbl:"cbl-latn-mm",cbn:"cbn-thai-th",cbo:"cbo-latn-ng",cbq:"cbq-latn-ng",cbr:"cbr-latn-pe",cbs:"cbs-latn-pe",cbt:"cbt-latn-pe",cbu:"cbu-latn-pe",cbv:"cbv-latn-co",cbw:"cbw-latn-ph",cby:"cby-latn-co",ccc:"ccc-latn-pe",ccd:"ccd-latn-br",cce:"cce-latn-mz",ccg:"ccg-latn-ng",cch:"cch-latn-ng",ccj:"ccj-latn-gw",ccl:"ccl-latn-tz",ccm:"ccm-latn-my",cco:"cco-latn-mx",ccp:"ccp-cakm-bd",ccr:"ccr-latn-sv",cde:"cde-telu-in",cdf:"cdf-latn-in","cdf-beng":"cdf-beng-in",cdh:"cdh-deva-in","cdh-takr":"cdh-takr-in",cdi:"cdi-gujr-in",cdj:"cdj-deva-in",cdm:"cdm-deva-np","cdm-latn":"cdm-latn-np",cdo:"cdo-hans-cn","cdo-hant":"cdo-hant-cn","cdo-latn":"cdo-latn-cn",cdr:"cdr-latn-ng",cdz:"cdz-beng-in",ce:"ce-cyrl-ru",cea:"cea-latn-us",ceb:"ceb-latn-ph",ceg:"ceg-latn-py",cek:"cek-latn-mm",cen:"cen-latn-ng",cet:"cet-latn-ng",cey:"cey-latn-mm",cfa:"cfa-latn-zz",cfd:"cfd-latn-ng",cfg:"cfg-latn-ng",cfm:"cfm-latn-mm","cfm-beng":"cfm-beng-in",cga:"cga-latn-pg",cgc:"cgc-latn-ph",cgg:"cgg-latn-ug",cgk:"cgk-tibt-bt",ch:"ch-latn-gu",chb:"chb-latn-co",chd:"chd-latn-mx",chf:"chf-latn-mx",chg:"chg-arab-tm",chh:"chh-latn-us",chj:"chj-latn-mx",chk:"chk-latn-fm",chl:"chl-latn-us",chm:"chm-cyrl-ru",chn:"chn-latn-us","chn-dupl":"chn-dupl-us",cho:"cho-latn-us",chp:"chp-latn-ca",chq:"chq-latn-mx",chr:"chr-cher-us",cht:"cht-latn-pe",chw:"chw-latn-mz",chx:"chx-deva-np",chy:"chy-latn-us",chz:"chz-latn-mx",cia:"cia-latn-id","cia-arab":"cia-arab-id","cia-hang":"cia-hang-id",cib:"cib-latn-bj",cic:"cic-latn-us",cie:"cie-latn-ng",cih:"cih-deva-in",cim:"cim-latn-it",cin:"cin-latn-br",cip:"cip-latn-mx",cir:"cir-latn-nc",ciw:"ciw-latn-us","ciw-cans":"ciw-cans-us",ciy:"ciy-latn-ve",cja:"cja-arab-kh",cje:"cje-latn-vn",cjh:"cjh-latn-us",cji:"cji-cyrl-ru",cjk:"cjk-latn-ao",cjm:"cjm-cham-vn",cjn:"cjn-latn-pg",cjo:"cjo-latn-pe",cjp:"cjp-latn-cr",cjs:"cjs-latn-ru","cjs-cyrl":"cjs-cyrl-ru",cjv:"cjv-latn-zz",cjy:"cjy-hans-cn","cjy-hant":"cjy-hant-cn",ckb:"ckb-arab-iq",ckl:"ckl-latn-zz",ckm:"ckm-latn-hr","ckm-glag":"ckm-glag-hr",ckn:"ckn-latn-mm",cko:"cko-latn-zz",ckq:"ckq-latn-td",ckr:"ckr-latn-pg",cks:"cks-latn-nc",ckt:"ckt-cyrl-ru",cku:"cku-latn-us",ckv:"ckv-latn-tw",ckx:"ckx-latn-cm",cky:"cky-latn-zz",ckz:"ckz-latn-gt",cla:"cla-latn-zz",clc:"clc-latn-ca",cle:"cle-latn-mx",clh:"clh-arab-pk",cli:"cli-latn-gh",clj:"clj-latn-mm",clk:"clk-latn-in","clk-tibt":"clk-tibt-cn",cll:"cll-latn-gh",clm:"clm-latn-us",clo:"clo-latn-mx",clt:"clt-latn-mm",clu:"clu-latn-ph",clw:"clw-cyrl-ru",cly:"cly-latn-mx",cma:"cma-latn-vn",cme:"cme-latn-zz",cmg:"cmg-soyo-mn",cmi:"cmi-latn-co",cml:"cml-latn-id",cmo:"cmo-latn-vn","cmo-kh":"cmo-latn-kh","cmo-khmr":"cmo-khmr-kh",cmr:"cmr-latn-mm",cms:"cms-latn-it",cmt:"cmt-latn-za",cna:"cna-tibt-in",cnb:"cnb-latn-mm",cnc:"cnc-latn-vn",cng:"cng-latn-cn",cnh:"cnh-latn-mm",cni:"cni-latn-pe",cnk:"cnk-latn-mm",cnl:"cnl-latn-mx",cnp:"cnp-hans-cn","cnp-hant":"cnp-hant-cn",cnq:"cnq-latn-cm",cns:"cns-latn-id",cnt:"cnt-latn-mx",cnw:"cnw-latn-mm",cnx:"cnx-latn-gb",co:"co-latn-fr",coa:"coa-latn-au",cob:"cob-latn-mx",coc:"coc-latn-mx",cod:"cod-latn-pe",coe:"coe-latn-co",cof:"cof-latn-ec",cog:"cog-thai-th",coh:"coh-latn-ke",coj:"coj-latn-mx",cok:"cok-latn-mx",col:"col-latn-us",com:"com-latn-us",coo:"coo-latn-ca",cop:"cop-copt-eg",coq:"coq-latn-us",cot:"cot-latn-pe",cou:"cou-latn-sn",cox:"cox-latn-pe",coz:"coz-latn-mx",cpa:"cpa-latn-mx",cpb:"cpb-latn-pe",cpc:"cpc-latn-pe",cpg:"cpg-grek-gr",cpi:"cpi-latn-nr",cpn:"cpn-latn-gh",cpo:"cpo-latn-bf",cps:"cps-latn-ph",cpu:"cpu-latn-pe",cpx:"cpx-latn-cn",cpy:"cpy-latn-pe",cqd:"cqd-latn-cn",cr:"cr-cans-ca",crb:"crb-latn-vc",crc:"crc-latn-vu",crd:"crd-latn-us",crf:"crf-latn-co",crg:"crg-latn-ca",crh:"crh-cyrl-ua",cri:"cri-latn-st",crj:"crj-cans-ca","crj-latn":"crj-latn-ca",crk:"crk-cans-ca",crl:"crl-cans-ca",crm:"crm-cans-ca",crn:"crn-latn-mx",cro:"cro-latn-us",crq:"crq-latn-ar",crs:"crs-latn-sc",crt:"crt-latn-ar",crv:"crv-latn-in",crw:"crw-latn-vn",crx:"crx-latn-ca","crx-cans":"crx-cans-ca",cry:"cry-latn-ng",crz:"crz-latn-us",cs:"cs-latn-cz",csa:"csa-latn-mx",csb:"csb-latn-pl",csh:"csh-mymr-mm","csh-latn":"csh-latn-mm",csj:"csj-latn-mm",csk:"csk-latn-sn",csm:"csm-latn-us",cso:"cso-latn-mx",csp:"csp-hans-cn","csp-hant":"csp-hant-cn",css:"css-latn-us",cst:"cst-latn-us",csv:"csv-latn-mm",csw:"csw-cans-ca",csy:"csy-latn-mm",csz:"csz-latn-us",cta:"cta-latn-mx",ctc:"ctc-latn-us",ctd:"ctd-pauc-mm",cte:"cte-latn-mx",ctg:"ctg-beng-bd","ctg-arab":"ctg-arab-bd","ctg-latn":"ctg-latn-bd",cth:"cth-latn-mm",ctl:"ctl-latn-mx",ctm:"ctm-latn-us",ctn:"ctn-deva-np",cto:"cto-latn-co",ctp:"ctp-latn-mx",cts:"cts-latn-ph",ctt:"ctt-taml-in",ctu:"ctu-latn-mx",ctz:"ctz-latn-mx",cu:"cu-cyrl-ru","cu-glag":"cu-glag-bg",cua:"cua-latn-vn",cub:"cub-latn-co",cuc:"cuc-latn-mx",cuh:"cuh-latn-ke",cui:"cui-latn-co",cuj:"cuj-latn-pe",cuk:"cuk-latn-pa",cul:"cul-latn-br",cuo:"cuo-latn-ve",cup:"cup-latn-us",cut:"cut-latn-mx",cuu:"cuu-lana-cn",cuv:"cuv-latn-cm",cux:"cux-latn-mx",cv:"cv-cyrl-ru",cvg:"cvg-latn-in","cvg-tibt":"cvg-tibt-in",cvn:"cvn-latn-mx",cwa:"cwa-latn-tz",cwb:"cwb-latn-mz",cwe:"cwe-latn-tz",cwg:"cwg-latn-my",cwt:"cwt-latn-sn",cy:"cy-latn-gb",cya:"cya-latn-mx",cyb:"cyb-latn-bo",cyo:"cyo-latn-ph",czh:"czh-hans-cn","czh-hant":"czh-hant-cn",czk:"czk-hebr-cz",czn:"czn-latn-mx",czt:"czt-latn-mm",da:"da-latn-dk",daa:"daa-latn-td",dac:"dac-latn-pg",dad:"dad-latn-zz",dae:"dae-latn-cm",daf:"daf-latn-ci",dag:"dag-latn-zz",dah:"dah-latn-zz",dai:"dai-latn-td",daj:"daj-latn-sd",dak:"dak-latn-us",dal:"dal-latn-ke",dam:"dam-latn-ng",dao:"dao-latn-mm",daq:"daq-deva-in",dar:"dar-cyrl-ru",das:"das-latn-ci",dau:"dau-latn-td",dav:"dav-latn-ke",daw:"daw-latn-ph",dax:"dax-latn-au",daz:"daz-latn-id",dba:"dba-latn-ml",dbb:"dbb-latn-ng",dbd:"dbd-latn-zz",dbe:"dbe-latn-id",dbf:"dbf-latn-id",dbg:"dbg-latn-ml",dbi:"dbi-latn-ng",dbj:"dbj-latn-my","dbj-arab":"dbj-arab-my",dbl:"dbl-latn-au",dbm:"dbm-latn-ng",dbn:"dbn-latn-id",dbo:"dbo-latn-ng",dbp:"dbp-latn-ng",dbq:"dbq-latn-zz",dbt:"dbt-latn-ml",dbu:"dbu-latn-ml",dbv:"dbv-latn-ng",dbw:"dbw-latn-ml",dby:"dby-latn-pg",dcc:"dcc-arab-in",dcr:"dcr-latn-vi",dda:"dda-latn-au",ddd:"ddd-latn-ss",dde:"dde-latn-cg",ddg:"ddg-latn-tl",ddi:"ddi-latn-pg",ddj:"ddj-latn-au",ddn:"ddn-latn-zz",ddo:"ddo-cyrl-ru",ddr:"ddr-latn-au",dds:"dds-latn-ml",ddw:"ddw-latn-id",de:"de-latn-de",dec:"dec-latn-sd",ded:"ded-latn-zz",dee:"dee-latn-lr",def:"def-arab-ir",deg:"deg-latn-ng",deh:"deh-arab-pk",dei:"dei-latn-id",dek:"dek-latn-cm",del:"del-latn-us",dem:"dem-latn-id",den:"den-latn-ca",deq:"deq-latn-cf",der:"der-beng-in","der-latn":"der-latn-in",des:"des-latn-br",dev:"dev-latn-pg",dez:"dez-latn-cd",dga:"dga-latn-zz",dgb:"dgb-latn-ml",dgc:"dgc-latn-ph",dgd:"dgd-latn-bf",dge:"dge-latn-pg",dgg:"dgg-latn-pg",dgh:"dgh-latn-zz",dgi:"dgi-latn-zz",dgk:"dgk-latn-cf",dgl:"dgl-arab-zz",dgn:"dgn-latn-au",dgr:"dgr-latn-ca",dgs:"dgs-latn-bf",dgt:"dgt-latn-au",dgw:"dgw-latn-au",dgx:"dgx-latn-pg",dgz:"dgz-latn-zz",dhg:"dhg-latn-au",dhi:"dhi-deva-np",dhl:"dhl-latn-au",dhm:"dhm-latn-ao",dhn:"dhn-gujr-in",dho:"dho-deva-in",dhr:"dhr-latn-au",dhs:"dhs-latn-tz",dhu:"dhu-latn-au",dhv:"dhv-latn-nc",dhw:"dhw-deva-np",dhx:"dhx-latn-au",dia:"dia-latn-zz",dib:"dib-latn-ss",dic:"dic-latn-ci",did:"did-latn-ss",dif:"dif-latn-au",dig:"dig-latn-ke",dih:"dih-latn-mx",dii:"dii-latn-cm",dij:"dij-latn-id",dil:"dil-latn-sd",din:"din-latn-ss","din-arab":"din-arab-ss",dio:"dio-latn-ng",dip:"dip-latn-ss",dir:"dir-latn-ng",dis:"dis-latn-in","dis-beng":"dis-beng-in",diu:"diu-latn-na",diw:"diw-latn-ss",dix:"dix-latn-vu",diy:"diy-latn-id",diz:"diz-latn-cd",dja:"dja-latn-au",djb:"djb-latn-au",djc:"djc-latn-td",djd:"djd-latn-au",dje:"dje-latn-ne",djf:"djf-latn-au",dji:"dji-latn-au",djj:"djj-latn-au",djk:"djk-latn-sr",djm:"djm-latn-ml",djn:"djn-latn-au",djo:"djo-latn-id",djr:"djr-latn-au",dju:"dju-latn-pg",djw:"djw-latn-au",dka:"dka-tibt-bt",dkg:"dkg-latn-ng",dkk:"dkk-latn-id",dkr:"dkr-latn-my",dks:"dks-latn-ss",dkx:"dkx-latn-cm",dlg:"dlg-cyrl-ru",dlm:"dlm-latn-hr",dln:"dln-latn-in",dma:"dma-latn-ga",dmb:"dmb-latn-ml",dmc:"dmc-latn-pg",dmd:"dmd-latn-au",dme:"dme-latn-cm",dmf:"dmf-medf-ng",dmg:"dmg-latn-my",dmk:"dmk-arab-pk",dml:"dml-arab-pk",dmm:"dmm-latn-cm",dmo:"dmo-latn-cm",dmr:"dmr-latn-id",dms:"dms-latn-id",dmu:"dmu-latn-id",dmv:"dmv-latn-my",dmw:"dmw-latn-au",dmx:"dmx-latn-mz",dmy:"dmy-latn-id",dna:"dna-latn-id",dnd:"dnd-latn-pg",dne:"dne-latn-tz",dng:"dng-cyrl-kg","dng-arab":"dng-arab-kg",dni:"dni-latn-id",dnj:"dnj-latn-ci",dnk:"dnk-latn-id",dnn:"dnn-latn-bf",dno:"dno-latn-cd",dnr:"dnr-latn-pg",dnt:"dnt-latn-id",dnu:"dnu-mymr-mm",dnv:"dnv-mymr-mm",dnw:"dnw-latn-id",dny:"dny-latn-br",doa:"doa-latn-pg",dob:"dob-latn-zz",doc:"doc-latn-cn",doe:"doe-latn-tz",dof:"dof-latn-pg",doh:"doh-latn-ng",doi:"doi-deva-in",dok:"dok-latn-id",dol:"dol-latn-pg",don:"don-latn-pg",doo:"doo-latn-cd",dop:"dop-latn-zz",dor:"dor-latn-sb",dos:"dos-latn-bf",dot:"dot-latn-ng",dov:"dov-latn-zw",dow:"dow-latn-zz",dox:"dox-ethi-et",doy:"doy-latn-gh",dpp:"dpp-latn-my",drc:"drc-latn-pt",dre:"dre-tibt-np",drg:"drg-latn-my",drh:"drh-mong-cn",dri:"dri-latn-zz",drl:"drl-latn-au",drn:"drn-latn-id",dro:"dro-latn-my",drq:"drq-deva-np",drs:"drs-ethi-zz",drt:"drt-latn-nl",dru:"dru-latn-tw",dry:"dry-deva-np",dsb:"dsb-latn-de",dsh:"dsh-latn-ke",dsi:"dsi-latn-td",dsn:"dsn-latn-id",dso:"dso-orya-in",dsq:"dsq-latn-ml","dsq-arab":"dsq-arab-ml",dta:"dta-latn-cn","dta-cyrl":"dta-cyrl-cn","dta-hans":"dta-hans-cn",dtb:"dtb-latn-my",dtd:"dtd-latn-ca",dth:"dth-latn-au",dti:"dti-latn-ml",dtk:"dtk-latn-ml",dtm:"dtm-latn-ml",dto:"dto-latn-ml",dtp:"dtp-latn-my",dtr:"dtr-latn-my",dts:"dts-latn-zz",dtt:"dtt-latn-ml",dtu:"dtu-latn-ml",dty:"dty-deva-np",dua:"dua-latn-cm",dub:"dub-gujr-in",duc:"duc-latn-zz",dud:"dud-latn-zz",due:"due-latn-ph",duf:"duf-latn-nc",dug:"dug-latn-zz",duh:"duh-deva-in","duh-gujr":"duh-gujr-in",dui:"dui-latn-pg",duk:"duk-latn-pg",dul:"dul-latn-ph",dum:"dum-latn-nl",dun:"dun-latn-id",duo:"duo-latn-ph",dup:"dup-latn-id",duq:"duq-latn-id",dur:"dur-latn-cm",dus:"dus-deva-np",duu:"duu-latn-cn",duv:"duv-latn-id",duw:"duw-latn-id",dux:"dux-latn-ml",duy:"duy-latn-ph",duz:"duz-latn-cm",dv:"dv-thaa-mv",dva:"dva-latn-zz",dwa:"dwa-latn-ng",dwk:"dwk-orya-in",dwr:"dwr-latn-et","dwr-ethi":"dwr-ethi-et",dws:"dws-latn-001",dwu:"dwu-latn-au",dww:"dww-latn-zz",dwy:"dwy-latn-au",dwz:"dwz-deva-np",dya:"dya-latn-bf",dyb:"dyb-latn-au",dyd:"dyd-latn-au",dyg:"dyg-latn-ph",dyi:"dyi-latn-ci",dym:"dym-latn-ml",dyn:"dyn-latn-au",dyo:"dyo-latn-sn",dyu:"dyu-latn-bf",dyy:"dyy-latn-au",dz:"dz-tibt-bt",dza:"dza-latn-ng",dze:"dze-latn-au",dzg:"dzg-latn-zz",dzl:"dzl-tibt-bt",dzn:"dzn-latn-cd",eaa:"eaa-latn-au",ebc:"ebc-latn-id",ebg:"ebg-latn-ng",ebk:"ebk-latn-ph",ebo:"ebo-latn-cg",ebr:"ebr-latn-ci",ebu:"ebu-latn-ke",ecr:"ecr-grek-gr",ecy:"ecy-cprt-cy",ee:"ee-latn-gh",efa:"efa-latn-ng",efe:"efe-latn-cd",efi:"efi-latn-ng",ega:"ega-latn-ci",egl:"egl-latn-it",egm:"egm-latn-tz",ego:"ego-latn-ng",egy:"egy-egyp-eg",ehu:"ehu-latn-ng",eip:"eip-latn-id",eit:"eit-latn-pg",eiv:"eiv-latn-pg",eja:"eja-latn-gw",eka:"eka-latn-zz",eke:"eke-latn-ng",ekg:"ekg-latn-id",eki:"eki-latn-ng",ekl:"ekl-latn-bd",ekm:"ekm-latn-cm",eko:"eko-latn-mz","eko-arab":"eko-arab-mz",ekp:"ekp-latn-ng",ekr:"ekr-latn-ng",eky:"eky-kali-mm",el:"el-grek-gr",ele:"ele-latn-pg",elk:"elk-latn-pg",elm:"elm-latn-ng",elo:"elo-latn-ke",elu:"elu-latn-pg",ema:"ema-latn-zz",emb:"emb-latn-id",eme:"eme-latn-gf",emg:"emg-deva-np",emi:"emi-latn-zz",emm:"emm-latn-mx",emn:"emn-latn-cm",emp:"emp-latn-pa",ems:"ems-latn-us","ems-cyrl":"ems-cyrl-us",emu:"emu-deva-in",emw:"emw-latn-id",emx:"emx-latn-fr",emz:"emz-latn-cm",en:"en-latn-us","en-shaw":"en-shaw-gb",ena:"ena-latn-pg",enb:"enb-latn-ke",enc:"enc-latn-vn",end:"end-latn-id",enf:"enf-cyrl-ru",enh:"enh-cyrl-ru",enl:"enl-latn-py",enm:"enm-latn-gb",enn:"enn-latn-zz",eno:"eno-latn-id",enq:"enq-latn-zz",enr:"enr-latn-id",env:"env-latn-ng",enw:"enw-latn-ng",enx:"enx-latn-py",eo:"eo-latn-001",eot:"eot-latn-ci",epi:"epi-latn-ng",era:"era-taml-in",erg:"erg-latn-vu",erh:"erh-latn-ng",eri:"eri-latn-zz",erk:"erk-latn-vu",err:"err-latn-au",ert:"ert-latn-id",erw:"erw-latn-id",es:"es-latn-es",ese:"ese-latn-bo",esg:"esg-gonm-in",esh:"esh-arab-ir",esi:"esi-latn-us",esm:"esm-latn-ci",ess:"ess-latn-us","ess-cyrl":"ess-cyrl-us",esu:"esu-latn-us",esy:"esy-latn-ph",et:"et-latn-ee",etb:"etb-latn-ng",etn:"etn-latn-vu",eto:"eto-latn-cm",etr:"etr-latn-zz",ets:"ets-latn-ng",ett:"ett-ital-it",etu:"etu-latn-zz",etx:"etx-latn-zz",etz:"etz-latn-id",eu:"eu-latn-es",eve:"eve-cyrl-ru",evh:"evh-latn-ng",evn:"evn-cyrl-ru","evn-latn":"evn-latn-cn","evn-mong":"evn-mong-cn",ewo:"ewo-latn-cm",ext:"ext-latn-es",eya:"eya-latn-us",eyo:"eyo-latn-ke",eza:"eza-latn-zz",eze:"eze-latn-ng",fa:"fa-arab-ir",faa:"faa-latn-zz",fab:"fab-latn-zz",fad:"fad-latn-pg",faf:"faf-latn-sb",fag:"fag-latn-zz",fah:"fah-latn-ng",fai:"fai-latn-zz",faj:"faj-latn-pg",fak:"fak-latn-cm",fal:"fal-latn-cm",fam:"fam-latn-ng",fan:"fan-latn-gq",fap:"fap-latn-sn",far:"far-latn-sb",fau:"fau-latn-id",fax:"fax-latn-es",fay:"fay-arab-ir",faz:"faz-arab-ir",fbl:"fbl-latn-ph",fer:"fer-latn-ss",ff:"ff-latn-sn","ff-adlm":"ff-adlm-gn",ffi:"ffi-latn-zz",ffm:"ffm-latn-ml",fgr:"fgr-latn-td",fi:"fi-latn-fi",fia:"fia-arab-sd",fie:"fie-latn-ng",fif:"fif-latn-sa",fil:"fil-latn-ph",fip:"fip-latn-tz",fir:"fir-latn-ng",fit:"fit-latn-se",fiw:"fiw-latn-pg",fj:"fj-latn-fj",fkk:"fkk-latn-ng",fkv:"fkv-latn-no",fla:"fla-latn-us",flh:"flh-latn-id",fli:"fli-latn-ng",fll:"fll-latn-cm",fln:"fln-latn-au",flr:"flr-latn-zz",fly:"fly-latn-za",fmp:"fmp-latn-zz",fmu:"fmu-deva-in",fnb:"fnb-latn-vu",fng:"fng-latn-za",fni:"fni-latn-td",fo:"fo-latn-fo",fod:"fod-latn-zz",foi:"foi-latn-pg",fom:"fom-latn-cd",fon:"fon-latn-bj",for:"for-latn-zz",fos:"fos-latn-tw",fpe:"fpe-latn-zz",fqs:"fqs-latn-zz",fr:"fr-latn-fr",frc:"frc-latn-us",frd:"frd-latn-id",frk:"frk-latn-de",frm:"frm-latn-fr",fro:"fro-latn-fr",frp:"frp-latn-fr",frq:"frq-latn-pg",frr:"frr-latn-de",frs:"frs-latn-de",frt:"frt-latn-vu",fub:"fub-arab-cm",fud:"fud-latn-wf",fue:"fue-latn-zz",fuf:"fuf-latn-gn",fuh:"fuh-latn-zz",fui:"fui-latn-td",fum:"fum-latn-ng",fun:"fun-latn-br",fuq:"fuq-latn-ne",fur:"fur-latn-it",fut:"fut-latn-vu",fuu:"fuu-latn-cd",fuv:"fuv-latn-ng",fuy:"fuy-latn-zz",fvr:"fvr-latn-sd",fwa:"fwa-latn-nc",fwe:"fwe-latn-na",fy:"fy-latn-nl",ga:"ga-latn-ie",gaa:"gaa-latn-gh",gab:"gab-latn-td",gac:"gac-latn-in","gac-deva":"gac-deva-in",gad:"gad-latn-ph",gae:"gae-latn-ve",gaf:"gaf-latn-zz",gag:"gag-latn-md",gah:"gah-latn-zz",gai:"gai-latn-pg",gaj:"gaj-latn-zz",gak:"gak-latn-id",gal:"gal-latn-tl",gam:"gam-latn-zz",gan:"gan-hans-cn",gao:"gao-latn-pg",gap:"gap-latn-pg",gaq:"gaq-orya-in",gar:"gar-latn-pg",gas:"gas-gujr-in",gat:"gat-latn-pg",gau:"gau-telu-in",gaw:"gaw-latn-zz",gax:"gax-latn-et","gax-ethi":"gax-ethi-et",gay:"gay-latn-id",gba:"gba-latn-zz",gbb:"gbb-latn-au",gbd:"gbd-latn-au",gbe:"gbe-latn-pg",gbf:"gbf-latn-zz",gbg:"gbg-latn-cf",gbh:"gbh-latn-bj",gbi:"gbi-latn-id",gbj:"gbj-orya-in",gbk:"gbk-deva-in","gbk-takr":"gbk-takr-in",gbl:"gbl-gujr-in","gbl-deva":"gbl-deva-in",gbm:"gbm-deva-in",gbn:"gbn-latn-ss",gbp:"gbp-latn-cf",gbq:"gbq-latn-cf",gbr:"gbr-latn-ng",gbs:"gbs-latn-bj",gbu:"gbu-latn-au",gbv:"gbv-latn-cf",gbw:"gbw-latn-au",gbx:"gbx-latn-bj",gby:"gby-latn-zz",gbz:"gbz-arab-ir",gcc:"gcc-latn-pg",gcd:"gcd-latn-au",gcf:"gcf-latn-gp",gcl:"gcl-latn-gd",gcn:"gcn-latn-pg",gcr:"gcr-latn-gf",gct:"gct-latn-ve",gd:"gd-latn-gb",gdb:"gdb-orya-in","gdb-telu":"gdb-telu-in",gdc:"gdc-latn-au",gdd:"gdd-latn-pg",gde:"gde-latn-zz",gdf:"gdf-latn-ng",gdg:"gdg-latn-ph",gdh:"gdh-latn-au",gdi:"gdi-latn-cf",gdj:"gdj-latn-au",gdk:"gdk-latn-td",gdl:"gdl-latn-et","gdl-ethi":"gdl-ethi-et",gdm:"gdm-latn-td",gdn:"gdn-latn-zz",gdo:"gdo-cyrl-ru",gdq:"gdq-latn-ye",gdr:"gdr-latn-zz",gdt:"gdt-latn-au",gdu:"gdu-latn-ng",gdx:"gdx-deva-in",gea:"gea-latn-ng",geb:"geb-latn-zz",gec:"gec-latn-lr",ged:"ged-latn-ng",gef:"gef-latn-id",geg:"geg-latn-ng",geh:"geh-latn-ca",gei:"gei-latn-id",gej:"gej-latn-zz",gek:"gek-latn-ng",gel:"gel-latn-zz",geq:"geq-latn-cf",ges:"ges-latn-id",gev:"gev-latn-ga",gew:"gew-latn-ng",gex:"gex-latn-so",gey:"gey-latn-cd",gez:"gez-ethi-et",gfk:"gfk-latn-zz",gga:"gga-latn-sb",ggb:"ggb-latn-lr",ggd:"ggd-latn-au",gge:"gge-latn-au",ggg:"ggg-arab-pk",ggk:"ggk-latn-au",ggl:"ggl-latn-pg",ggn:"ggn-deva-np",ggt:"ggt-latn-pg",ggu:"ggu-latn-ci",ggw:"ggw-latn-pg",gha:"gha-arab-ly","gha-latn":"gha-latn-ly","gha-tfng":"gha-tfng-ly",ghc:"ghc-latn-gb",ghe:"ghe-deva-np",ghk:"ghk-latn-mm",ghn:"ghn-latn-sb",ghr:"ghr-arab-pk",ghs:"ghs-latn-zz",ght:"ght-tibt-np",gia:"gia-latn-au",gib:"gib-latn-ng",gic:"gic-latn-za",gid:"gid-latn-cm",gie:"gie-latn-ci",gig:"gig-arab-pk",gih:"gih-latn-au",gil:"gil-latn-ki",gim:"gim-latn-zz",gin:"gin-cyrl-ru",gip:"gip-latn-pg",giq:"giq-latn-vn",gir:"gir-latn-vn",gis:"gis-latn-cm",git:"git-latn-ca",gix:"gix-latn-cd",giy:"giy-latn-au",giz:"giz-latn-cm",gjk:"gjk-arab-pk",gjm:"gjm-latn-au",gjn:"gjn-latn-zz",gjr:"gjr-latn-au",gju:"gju-arab-pk",gka:"gka-latn-pg",gkd:"gkd-latn-pg",gke:"gke-latn-cm",gkn:"gkn-latn-zz",gko:"gko-latn-au",gkp:"gkp-latn-zz",gku:"gku-latn-za",gl:"gl-latn-es",glb:"glb-latn-ng",glc:"glc-latn-td",gld:"gld-cyrl-ru",glh:"glh-arab-af",glj:"glj-latn-td",glk:"glk-arab-ir",gll:"gll-latn-au",glo:"glo-latn-ng",glr:"glr-latn-lr",glu:"glu-latn-td",glw:"glw-latn-ng",gma:"gma-latn-au",gmb:"gmb-latn-sb",gmd:"gmd-latn-ng",gmg:"gmg-latn-pg",gmh:"gmh-latn-de",gmm:"gmm-latn-zz",gmn:"gmn-latn-cm",gmr:"gmr-latn-au",gmu:"gmu-latn-pg",gmv:"gmv-ethi-zz",gmx:"gmx-latn-tz",gmy:"gmy-linb-gr",gmz:"gmz-latn-ng",gn:"gn-latn-py",gna:"gna-latn-bf",gnb:"gnb-latn-in",gnc:"gnc-latn-es",gnd:"gnd-latn-zz",gne:"gne-latn-ng",gng:"gng-latn-zz",gnh:"gnh-latn-ng",gni:"gni-latn-au",gnj:"gnj-latn-ci",gnk:"gnk-latn-bw",gnl:"gnl-latn-au",gnm:"gnm-latn-pg",gnn:"gnn-latn-au",gnq:"gnq-latn-my",gnr:"gnr-latn-au",gnt:"gnt-latn-pg",gnu:"gnu-latn-pg",gnw:"gnw-latn-bo",gnz:"gnz-latn-cf",goa:"goa-latn-ci",gob:"gob-latn-co",goc:"goc-latn-pg",god:"god-latn-zz",goe:"goe-tibt-bt",gof:"gof-ethi-zz",gog:"gog-latn-tz",goh:"goh-latn-de",goi:"goi-latn-zz",gok:"gok-deva-in",gol:"gol-latn-lr",gom:"gom-deva-in",gon:"gon-telu-in",goo:"goo-latn-fj",gop:"gop-latn-id",goq:"goq-latn-id",gor:"gor-latn-id",gos:"gos-latn-nl",got:"got-goth-ua",gou:"gou-latn-cm",gov:"gov-latn-ci",gow:"gow-latn-tz",gox:"gox-latn-cd",goy:"goy-latn-td",gpa:"gpa-latn-ng",gpe:"gpe-latn-gh",gpn:"gpn-latn-pg",gqa:"gqa-latn-ng",gqn:"gqn-latn-br",gqr:"gqr-latn-td",gra:"gra-deva-in","gra-gujr":"gra-gujr-in",grb:"grb-latn-zz",grc:"grc-cprt-cy","grc-linb":"grc-linb-gr",grd:"grd-latn-ng",grg:"grg-latn-pg",grh:"grh-latn-ng",gri:"gri-latn-sb",grj:"grj-latn-lr",grm:"grm-latn-my",grq:"grq-latn-pg",grs:"grs-latn-id",grt:"grt-beng-in",gru:"gru-ethi-et","gru-latn":"gru-latn-et",grv:"grv-latn-lr",grw:"grw-latn-zz",grx:"grx-latn-pg",gry:"gry-latn-lr",grz:"grz-latn-pg",gsl:"gsl-latn-sn",gsn:"gsn-latn-pg",gso:"gso-latn-cf",gsp:"gsp-latn-pg",gsw:"gsw-latn-ch",gta:"gta-latn-br",gtu:"gtu-latn-au",gu:"gu-gujr-in",gua:"gua-latn-ng",gub:"gub-latn-br",guc:"guc-latn-co",gud:"gud-latn-zz",gue:"gue-latn-au",guf:"guf-latn-au",guh:"guh-latn-co",gui:"gui-latn-bo",guk:"guk-latn-et","guk-ethi":"guk-ethi-et",gul:"gul-latn-us",gum:"gum-latn-co",gun:"gun-latn-br",guo:"guo-latn-co",gup:"gup-latn-au",guq:"guq-latn-py",gur:"gur-latn-gh",gut:"gut-latn-cr",guu:"guu-latn-ve",guw:"guw-latn-zz",gux:"gux-latn-zz",guz:"guz-latn-ke",gv:"gv-latn-im",gva:"gva-latn-py",gvc:"gvc-latn-br",gve:"gve-latn-pg",gvf:"gvf-latn-zz",gvj:"gvj-latn-br",gvl:"gvl-latn-td",gvm:"gvm-latn-ng",gvn:"gvn-latn-au",gvo:"gvo-latn-br",gvp:"gvp-latn-br",gvr:"gvr-deva-np",gvs:"gvs-latn-zz",gvy:"gvy-latn-au",gwa:"gwa-latn-ci",gwb:"gwb-latn-ng",gwc:"gwc-arab-zz",gwd:"gwd-latn-et",gwe:"gwe-latn-tz",gwf:"gwf-arab-pk",gwg:"gwg-latn-ng",gwi:"gwi-latn-ca",gwj:"gwj-latn-bw",gwm:"gwm-latn-au",gwn:"gwn-latn-ng",gwr:"gwr-latn-ug",gwt:"gwt-arab-zz",gwu:"gwu-latn-au",gww:"gww-latn-au",gwx:"gwx-latn-gh",gxx:"gxx-latn-ci",gyb:"gyb-latn-pg",gyd:"gyd-latn-au",gye:"gye-latn-ng",gyf:"gyf-latn-au",gyg:"gyg-latn-cf",gyi:"gyi-latn-zz",gyl:"gyl-latn-et","gyl-ethi":"gyl-ethi-et",gym:"gym-latn-pa",gyn:"gyn-latn-gy",gyo:"gyo-deva-np",gyr:"gyr-latn-bo",gyy:"gyy-latn-au",gyz:"gyz-latn-ng",gza:"gza-latn-sd",gzi:"gzi-arab-ir",gzn:"gzn-latn-id",ha:"ha-latn-ng","ha-cm":"ha-arab-cm","ha-sd":"ha-arab-sd",haa:"haa-latn-us",hac:"hac-arab-ir",had:"had-latn-id",hae:"hae-latn-et",hag:"hag-latn-zz",hah:"hah-latn-pg",hai:"hai-latn-ca",haj:"haj-latn-in","haj-beng":"haj-beng-in",hak:"hak-hans-cn",hal:"hal-latn-vn",ham:"ham-latn-zz",han:"han-latn-tz",hao:"hao-latn-pg",hap:"hap-latn-id",haq:"haq-latn-tz",har:"har-ethi-et","har-arab":"har-arab-et","har-latn":"har-latn-et",has:"has-latn-ca",hav:"hav-latn-cd",haw:"haw-latn-us",hax:"hax-latn-ca",hay:"hay-latn-tz",haz:"haz-arab-af",hba:"hba-latn-cd",hbb:"hbb-latn-zz",hbn:"hbn-latn-sd",hbo:"hbo-hebr-il",hbu:"hbu-latn-tl",hch:"hch-latn-mx",hdy:"hdy-ethi-zz",he:"he-hebr-il",hed:"hed-latn-td",heg:"heg-latn-id",heh:"heh-latn-tz",hei:"hei-latn-ca",hem:"hem-latn-cd",hgm:"hgm-latn-na",hgw:"hgw-latn-pg",hhi:"hhi-latn-pg",hhr:"hhr-latn-sn",hhy:"hhy-latn-zz",hi:"hi-deva-in","hi-latn":"hi-latn-in",hia:"hia-latn-zz",hib:"hib-latn-pe",hid:"hid-latn-us",hif:"hif-latn-fj",hig:"hig-latn-zz",hih:"hih-latn-zz",hii:"hii-takr-in","hii-deva":"hii-deva-in",hij:"hij-latn-cm",hik:"hik-latn-id",hil:"hil-latn-ph",hio:"hio-latn-bw",hir:"hir-latn-br",hit:"hit-xsux-tr",hiw:"hiw-latn-vu",hix:"hix-latn-br",hji:"hji-latn-id",hka:"hka-latn-tz",hke:"hke-latn-cd",hkh:"hkh-arab-in","hkh-deva":"hkh-deva-in","hkh-latn":"hkh-latn-in",hkk:"hkk-latn-pg",hla:"hla-latn-zz",hlb:"hlb-deva-in",hld:"hld-latn-vn",hlt:"hlt-latn-mm",hlu:"hlu-hluw-tr",hma:"hma-latn-cn",hmb:"hmb-latn-ml",hmd:"hmd-plrd-cn",hmf:"hmf-latn-vn",hmj:"hmj-bopo-cn",hmm:"hmm-latn-cn",hmn:"hmn-latn-cn","hmn-bopo":"hmn-bopo-cn","hmn-hmng":"hmn-hmng-cn",hmp:"hmp-latn-cn",hmq:"hmq-bopo-cn",hmr:"hmr-latn-in",hms:"hms-latn-cn",hmt:"hmt-latn-zz",hmu:"hmu-latn-id",hmv:"hmv-latn-vn",hmw:"hmw-latn-cn",hmy:"hmy-latn-cn",hmz:"hmz-latn-cn","hmz-plrd":"hmz-plrd-cn",hna:"hna-latn-cm",hnd:"hnd-arab-pk",hne:"hne-deva-in",hng:"hng-latn-ao",hnh:"hnh-latn-bw",hni:"hni-latn-cn",hnj:"hnj-hmnp-us","hnj-au":"hnj-laoo-au","hnj-cn":"hnj-laoo-cn","hnj-fr":"hnj-laoo-fr","hnj-gf":"hnj-laoo-gf","hnj-la":"hnj-laoo-la","hnj-laoo":"hnj-laoo-la","hnj-mm":"hnj-laoo-mm","hnj-sr":"hnj-laoo-sr","hnj-th":"hnj-laoo-th","hnj-us":"hnj-hmnp-us","hnj-vn":"hnj-laoo-vn",hnn:"hnn-latn-ph",hno:"hno-arab-pk",hns:"hns-latn-sr",ho:"ho-latn-pg",hoa:"hoa-latn-sb",hob:"hob-latn-pg",hoc:"hoc-deva-in",hod:"hod-latn-ng",hoe:"hoe-latn-ng",hoh:"hoh-arab-om",hoi:"hoi-latn-us",hoj:"hoj-deva-in",hol:"hol-latn-ao",hom:"hom-latn-ss",hoo:"hoo-latn-cd",hop:"hop-latn-us",hor:"hor-latn-td",hot:"hot-latn-zz",hov:"hov-latn-id",how:"how-hani-cn",hoy:"hoy-deva-in",hpo:"hpo-mymr-mm",hr:"hr-latn-hr",hra:"hra-latn-in",hrc:"hrc-latn-pg",hre:"hre-latn-vn",hrk:"hrk-latn-id",hrm:"hrm-latn-cn","hrm-hmng":"hrm-hmng-cn",hro:"hro-latn-vn",hrp:"hrp-latn-au",hrt:"hrt-syrc-tr",hru:"hru-latn-in",hrw:"hrw-latn-pg",hrx:"hrx-latn-br",hrz:"hrz-arab-ir",hsb:"hsb-latn-de",hsn:"hsn-hans-cn",hss:"hss-arab-om",ht:"ht-latn-ht",hti:"hti-latn-id",hto:"hto-latn-co",hts:"hts-latn-tz",htu:"htu-latn-id",htx:"htx-xsux-tr",hu:"hu-latn-hu",hub:"hub-latn-pe",huc:"huc-latn-bw",hud:"hud-latn-id",hue:"hue-latn-mx",huf:"huf-latn-pg",hug:"hug-latn-pe",huh:"huh-latn-cl",hui:"hui-latn-zz",huk:"huk-latn-id",hul:"hul-latn-pg",hum:"hum-latn-cd",hup:"hup-latn-us",hur:"hur-latn-ca",hus:"hus-latn-mx",hut:"hut-deva-np","hut-tibt":"hut-tibt-np",huu:"huu-latn-pe",huv:"huv-latn-mx",huw:"huw-latn-id",hux:"hux-latn-pe",huy:"huy-hebr-il",huz:"huz-cyrl-ru",hvc:"hvc-latn-ht",hve:"hve-latn-mx",hvk:"hvk-latn-nc",hvn:"hvn-latn-id",hvv:"hvv-latn-mx",hwa:"hwa-latn-ci",hwc:"hwc-latn-us",hwo:"hwo-latn-ng",hy:"hy-armn-am",hya:"hya-latn-cm",hyw:"hyw-armn-am",hz:"hz-latn-na",ia:"ia-latn-001",iai:"iai-latn-nc",ian:"ian-latn-zz",iar:"iar-latn-zz",iba:"iba-latn-my",ibb:"ibb-latn-ng",ibd:"ibd-latn-au",ibe:"ibe-latn-ng",ibg:"ibg-latn-ph",ibh:"ibh-latn-vn",ibl:"ibl-latn-ph",ibm:"ibm-latn-ng",ibn:"ibn-latn-ng",ibr:"ibr-latn-ng",ibu:"ibu-latn-id",iby:"iby-latn-zz",ica:"ica-latn-zz",ich:"ich-latn-zz",icr:"icr-latn-co",id:"id-latn-id",ida:"ida-latn-ke",idb:"idb-latn-in",idc:"idc-latn-ng",idd:"idd-latn-zz",ide:"ide-latn-ng",idi:"idi-latn-zz",idr:"idr-latn-ss",ids:"ids-latn-ng",idt:"idt-latn-tl",idu:"idu-latn-zz",ie:"ie-latn-001",ifa:"ifa-latn-ph",ifb:"ifb-latn-ph",ife:"ife-latn-tg",iff:"iff-latn-vu",ifk:"ifk-latn-ph",ifm:"ifm-latn-cg",ifu:"ifu-latn-ph",ify:"ify-latn-ph",ig:"ig-latn-ng",igb:"igb-latn-zz",ige:"ige-latn-zz",igg:"igg-latn-pg",igl:"igl-latn-ng",igm:"igm-latn-pg",ign:"ign-latn-bo",igo:"igo-latn-pg",igs:"igs-latn-001","igs-grek":"igs-grek-001",igw:"igw-latn-ng",ihb:"ihb-latn-id",ihi:"ihi-latn-ng",ihp:"ihp-latn-id",ihw:"ihw-latn-au",ii:"ii-yiii-cn",iin:"iin-latn-au",ijc:"ijc-latn-ng",ije:"ije-latn-ng",ijj:"ijj-latn-zz",ijn:"ijn-latn-ng",ijs:"ijs-latn-ng",ik:"ik-latn-us",iki:"iki-latn-ng",ikk:"ikk-latn-zz",ikl:"ikl-latn-ng",iko:"iko-latn-ng",ikp:"ikp-latn-ng",ikr:"ikr-latn-au",ikt:"ikt-latn-ca","ikt-cans":"ikt-cans-ca",ikv:"ikv-latn-ng",ikw:"ikw-latn-zz",ikx:"ikx-latn-zz",ikz:"ikz-latn-tz",ila:"ila-latn-id",ilb:"ilb-latn-zm",ilg:"ilg-latn-au",ili:"ili-latn-cn","ili-arab":"ili-arab-cn","ili-cyrl":"ili-cyrl-kz",ilk:"ilk-latn-ph",ilm:"ilm-latn-my",ilo:"ilo-latn-ph",ilp:"ilp-latn-ph",ilu:"ilu-latn-id",ilv:"ilv-latn-ng",imi:"imi-latn-pg",iml:"iml-latn-us",imn:"imn-latn-pg",imo:"imo-latn-zz",imr:"imr-latn-id",ims:"ims-latn-it",imt:"imt-latn-ss",imy:"imy-lyci-tr",in:"in-latn-id",inb:"inb-latn-co",ing:"ing-latn-us",inh:"inh-cyrl-ru",inj:"inj-latn-co",inn:"inn-latn-ph",ino:"ino-latn-pg",inp:"inp-latn-pe",int:"int-mymr-mm",io:"io-latn-001",ior:"ior-ethi-et",iou:"iou-latn-zz",iow:"iow-latn-us",ipi:"ipi-latn-pg",ipo:"ipo-latn-pg",iqu:"iqu-latn-pe",iqw:"iqw-latn-ng",ire:"ire-latn-id",irh:"irh-latn-id",iri:"iri-latn-zz",irk:"irk-latn-tz",irn:"irn-latn-br",iru:"iru-taml-in","iru-mlym":"iru-mlym-in",irx:"irx-latn-id",iry:"iry-latn-ph",is:"is-latn-is",isa:"isa-latn-pg",isc:"isc-latn-pe",isd:"isd-latn-ph",ish:"ish-latn-ng",isi:"isi-latn-ng",isk:"isk-arab-af","isk-cyrl":"isk-cyrl-tj",ism:"ism-latn-id",isn:"isn-latn-tz",iso:"iso-latn-ng",ist:"ist-latn-hr",isu:"isu-latn-cm",it:"it-latn-it",itb:"itb-latn-ph",itd:"itd-latn-id",ite:"ite-latn-bo",iti:"iti-latn-ph",itk:"itk-hebr-it",itl:"itl-cyrl-ru",itm:"itm-latn-ng",ito:"ito-latn-bo",itr:"itr-latn-pg",its:"its-latn-ng",itt:"itt-latn-ph",itv:"itv-latn-ph",itw:"itw-latn-ng",itx:"itx-latn-id",ity:"ity-latn-ph",itz:"itz-latn-gt",iu:"iu-cans-ca",ium:"ium-latn-cn","ium-hani":"ium-hani-cn","ium-laoo":"ium-laoo-la","ium-thai":"ium-thai-th",ivb:"ivb-latn-ph",ivv:"ivv-latn-ph",iw:"iw-hebr-il",iwk:"iwk-latn-ph",iwm:"iwm-latn-zz",iwo:"iwo-latn-id",iws:"iws-latn-zz",ixc:"ixc-latn-mx",ixl:"ixl-latn-gt",iya:"iya-latn-ng",iyo:"iyo-latn-cm",iyx:"iyx-latn-cg",izh:"izh-latn-ru",izi:"izi-latn-zz",izr:"izr-latn-ng",izz:"izz-latn-ng",ja:"ja-jpan-jp",jaa:"jaa-latn-br",jab:"jab-latn-zz",jac:"jac-latn-gt",jad:"jad-arab-gn",jae:"jae-latn-pg",jaf:"jaf-latn-ng",jah:"jah-latn-my",jaj:"jaj-latn-sb",jak:"jak-latn-my",jal:"jal-latn-id",jam:"jam-latn-jm",jan:"jan-latn-au",jao:"jao-latn-au",jaq:"jaq-latn-id",jar:"jar-latn-zz",jas:"jas-latn-nc",jat:"jat-arab-af",jau:"jau-latn-id",jax:"jax-latn-id",jay:"jay-latn-au",jaz:"jaz-latn-nc",jbe:"jbe-hebr-il",jbi:"jbi-latn-au",jbj:"jbj-latn-id",jbk:"jbk-latn-pg",jbm:"jbm-latn-ng",jbn:"jbn-arab-ly",jbo:"jbo-latn-001",jbr:"jbr-latn-id",jbt:"jbt-latn-br",jbu:"jbu-latn-zz",jbw:"jbw-latn-au",jct:"jct-cyrl-ua","jct-latn":"jct-latn-ua",jda:"jda-tibt-in",jdg:"jdg-arab-pk",jdt:"jdt-cyrl-ru","jdt-hebr":"jdt-hebr-ru","jdt-latn":"jdt-latn-az",jeb:"jeb-latn-pe",jee:"jee-deva-np",jeh:"jeh-latn-vn","jeh-laoo":"jeh-laoo-la",jei:"jei-latn-id",jek:"jek-latn-ci",jel:"jel-latn-id",jen:"jen-latn-zz",jer:"jer-latn-ng",jet:"jet-latn-pg",jeu:"jeu-latn-td",jgb:"jgb-latn-cd",jge:"jge-geor-ge","jge-hebr":"jge-hebr-il",jgk:"jgk-latn-zz",jgo:"jgo-latn-cm",jhi:"jhi-latn-my",ji:"ji-hebr-ua",jia:"jia-latn-cm",jib:"jib-latn-zz",jic:"jic-latn-hn",jid:"jid-latn-ng",jie:"jie-latn-ng",jig:"jig-latn-au",jil:"jil-latn-pg",jim:"jim-latn-cm",jit:"jit-latn-tz",jiu:"jiu-latn-cn",jiv:"jiv-latn-ec",jiy:"jiy-latn-cn",jje:"jje-hang-kr",jjr:"jjr-latn-ng",jka:"jka-latn-id",jkm:"jkm-mymr-mm","jkm-brai":"jkm-brai-mm","jkm-latn":"jkm-latn-mm",jko:"jko-latn-pg",jku:"jku-latn-ng",jle:"jle-latn-sd",jma:"jma-latn-pg",jmb:"jmb-latn-ng",jmc:"jmc-latn-tz",jmd:"jmd-latn-id",jmi:"jmi-latn-ng",jml:"jml-deva-np",jmn:"jmn-latn-mm",jmr:"jmr-latn-gh",jms:"jms-latn-ng",jmw:"jmw-latn-pg",jmx:"jmx-latn-mx",jna:"jna-takr-in",jnd:"jnd-arab-pk",jng:"jng-latn-au",jni:"jni-latn-ng",jnj:"jnj-latn-et","jnj-ethi":"jnj-ethi-et",jnl:"jnl-deva-in",jns:"jns-deva-in","jns-latn":"jns-latn-in","jns-takr":"jns-takr-in",job:"job-latn-cd",jod:"jod-latn-ci",jog:"jog-arab-pk",jor:"jor-latn-bo",jow:"jow-latn-ml",jpa:"jpa-hebr-ps",jpr:"jpr-hebr-il",jqr:"jqr-latn-pe",jra:"jra-latn-zz",jrr:"jrr-latn-ng",jrt:"jrt-latn-ng",jru:"jru-latn-ve",jua:"jua-latn-br",jub:"jub-latn-ng",jud:"jud-latn-ci",juh:"juh-latn-ng",jui:"jui-latn-au",juk:"juk-latn-ng",jul:"jul-deva-np",jum:"jum-latn-sd",jun:"jun-orya-in",juo:"juo-latn-ng",jup:"jup-latn-br",jur:"jur-latn-br",jut:"jut-latn-dk",juu:"juu-latn-ng",juw:"juw-latn-ng",juy:"juy-orya-in",jv:"jv-latn-id",jvd:"jvd-latn-id",jvn:"jvn-latn-sr",jw:"jw-latn-id",jwi:"jwi-latn-gh",jya:"jya-tibt-cn",jye:"jye-hebr-il",jyy:"jyy-latn-td",ka:"ka-geor-ge",kaa:"kaa-cyrl-uz",kab:"kab-latn-dz",kac:"kac-latn-mm",kad:"kad-latn-zz",kag:"kag-latn-my",kah:"kah-latn-cf",kai:"kai-latn-zz",kaj:"kaj-latn-ng",kak:"kak-latn-ph",kam:"kam-latn-ke",kao:"kao-latn-ml",kap:"kap-cyrl-ru",kaq:"kaq-latn-pe",kav:"kav-latn-br",kaw:"kaw-kawi-id",kax:"kax-latn-id",kay:"kay-latn-br",kba:"kba-latn-au",kbb:"kbb-latn-br",kbc:"kbc-latn-br",kbd:"kbd-cyrl-ru",kbe:"kbe-latn-au",kbh:"kbh-latn-co",kbi:"kbi-latn-id",kbj:"kbj-latn-cd",kbk:"kbk-latn-pg",kbl:"kbl-latn-td",kbm:"kbm-latn-zz",kbn:"kbn-latn-cf",kbo:"kbo-latn-ss",kbp:"kbp-latn-zz",kbq:"kbq-latn-zz",kbr:"kbr-latn-et","kbr-ethi":"kbr-ethi-et",kbs:"kbs-latn-ga",kbt:"kbt-latn-pg",kbu:"kbu-arab-pk",kbv:"kbv-latn-id",kbw:"kbw-latn-pg",kbx:"kbx-latn-zz",kby:"kby-arab-ne",kbz:"kbz-latn-ng",kca:"kca-cyrl-ru",kcb:"kcb-latn-pg",kcc:"kcc-latn-ng",kcd:"kcd-latn-id",kce:"kce-latn-ng",kcf:"kcf-latn-ng",kcg:"kcg-latn-ng",kch:"kch-latn-ng",kci:"kci-latn-ng",kcj:"kcj-latn-gw",kck:"kck-latn-zw",kcl:"kcl-latn-zz",kcm:"kcm-latn-cf",kcn:"kcn-latn-ug",kco:"kco-latn-pg",kcp:"kcp-latn-sd",kcq:"kcq-latn-ng",kcs:"kcs-latn-ng",kct:"kct-latn-zz",kcu:"kcu-latn-tz",kcv:"kcv-latn-cd",kcw:"kcw-latn-cd",kcz:"kcz-latn-tz",kda:"kda-latn-au",kdc:"kdc-latn-tz",kdd:"kdd-latn-au",kde:"kde-latn-tz",kdf:"kdf-latn-pg",kdg:"kdg-latn-cd",kdh:"kdh-latn-tg",kdi:"kdi-latn-ug",kdj:"kdj-latn-ug",kdk:"kdk-latn-nc",kdl:"kdl-latn-zz",kdm:"kdm-latn-ng",kdn:"kdn-latn-zw",kdp:"kdp-latn-ng",kdq:"kdq-beng-in",kdr:"kdr-latn-lt","kdr-cyrl":"kdr-cyrl-ua",kdt:"kdt-thai-th",kdw:"kdw-latn-id",kdx:"kdx-latn-ng",kdy:"kdy-latn-id",kdz:"kdz-latn-cm",kea:"kea-latn-cv",keb:"keb-latn-ga",kec:"kec-latn-sd",ked:"ked-latn-tz",kee:"kee-latn-us",kef:"kef-latn-tg",keg:"keg-latn-sd",keh:"keh-latn-pg",kei:"kei-latn-id",kek:"kek-latn-gt",kel:"kel-latn-cd",kem:"kem-latn-tl",ken:"ken-latn-cm",keo:"keo-latn-ug",ker:"ker-latn-td",kes:"kes-latn-ng",ket:"ket-cyrl-ru",keu:"keu-latn-tg",kew:"kew-latn-pg",kex:"kex-deva-in","kex-gujr":"kex-gujr-in",key:"key-telu-in",kez:"kez-latn-zz",kfa:"kfa-knda-in",kfb:"kfb-deva-in",kfc:"kfc-telu-in",kfd:"kfd-knda-in",kfe:"kfe-taml-in",kff:"kff-latn-in","kff-deva":"kff-deva-in","kff-orya":"kff-orya-in","kff-telu":"kff-telu-in",kfh:"kfh-mlym-in",kfi:"kfi-taml-in","kfi-knda":"kfi-knda-in",kfk:"kfk-deva-in","kfk-takr":"kfk-takr-in",kfl:"kfl-latn-cm",kfm:"kfm-arab-ir",kfn:"kfn-latn-cm",kfo:"kfo-latn-ci",kfp:"kfp-deva-in",kfq:"kfq-deva-in",kfr:"kfr-deva-in",kfs:"kfs-deva-in",kfv:"kfv-latn-in",kfw:"kfw-latn-in",kfx:"kfx-deva-in","kfx-takr":"kfx-takr-in",kfy:"kfy-deva-in",kfz:"kfz-latn-bf",kg:"kg-latn-cd",kga:"kga-latn-ci",kgb:"kgb-latn-id",kge:"kge-latn-id",kgf:"kgf-latn-zz",kgj:"kgj-deva-np",kgk:"kgk-latn-br",kgl:"kgl-latn-au",kgm:"kgm-latn-br",kgo:"kgo-latn-sd",kgp:"kgp-latn-br",kgq:"kgq-latn-id",kgr:"kgr-latn-id",kgs:"kgs-latn-au",kgt:"kgt-latn-ng",kgu:"kgu-latn-pg",kgv:"kgv-latn-id",kgw:"kgw-latn-id",kgx:"kgx-latn-id",kgy:"kgy-deva-np",kha:"kha-latn-in",khb:"khb-talu-cn",khc:"khc-latn-id",khd:"khd-latn-id",khe:"khe-latn-id",khf:"khf-thai-la",khg:"khg-tibt-cn",khh:"khh-latn-id",khj:"khj-latn-ng",khl:"khl-latn-pg",khn:"khn-deva-in",khp:"khp-latn-id",khq:"khq-latn-ml",khr:"khr-latn-in","khr-deva":"khr-deva-in",khs:"khs-latn-zz",kht:"kht-mymr-in",khu:"khu-latn-ao",khv:"khv-cyrl-ru",khw:"khw-arab-pk",khx:"khx-latn-cd",khy:"khy-latn-cd",khz:"khz-latn-zz",ki:"ki-latn-ke",kia:"kia-latn-td",kib:"kib-latn-sd",kic:"kic-latn-us",kid:"kid-latn-cm",kie:"kie-latn-td",kif:"kif-deva-np",kig:"kig-latn-id",kih:"kih-latn-pg",kij:"kij-latn-zz",kil:"kil-latn-ng",kim:"kim-cyrl-ru",kio:"kio-latn-us",kip:"kip-deva-np",kiq:"kiq-latn-id",kis:"kis-latn-pg",kit:"kit-latn-pg",kiu:"kiu-latn-tr",kiv:"kiv-latn-tz",kiw:"kiw-latn-zz",kix:"kix-latn-in",kiy:"kiy-latn-id",kiz:"kiz-latn-tz",kj:"kj-latn-na",kja:"kja-latn-id",kjb:"kjb-latn-gt",kjc:"kjc-latn-id",kjd:"kjd-latn-zz",kje:"kje-latn-id",kjg:"kjg-laoo-la",kjh:"kjh-cyrl-ru",kji:"kji-latn-sb",kjj:"kjj-latn-az",kjk:"kjk-latn-id",kjl:"kjl-deva-np",kjm:"kjm-latn-vn",kjn:"kjn-latn-au",kjo:"kjo-deva-in",kjp:"kjp-mymr-mm","kjp-thai":"kjp-thai-th",kjq:"kjq-latn-us",kjr:"kjr-latn-id",kjs:"kjs-latn-zz",kjt:"kjt-thai-th",kju:"kju-latn-us",kjx:"kjx-latn-pg",kjy:"kjy-latn-zz",kk:"kk-cyrl-kz","kk-af":"kk-arab-af","kk-arab":"kk-arab-cn","kk-cn":"kk-arab-cn","kk-ir":"kk-arab-ir","kk-mn":"kk-arab-mn",kka:"kka-latn-ng",kkb:"kkb-latn-id",kkc:"kkc-latn-zz",kkd:"kkd-latn-ng",kke:"kke-latn-gn","kke-arab":"kke-arab-gn",kkf:"kkf-tibt-in",kkg:"kkg-latn-ph",kkh:"kkh-lana-mm",kki:"kki-latn-tz",kkj:"kkj-latn-cm",kkk:"kkk-latn-sb",kkl:"kkl-latn-id",kkm:"kkm-latn-ng",kko:"kko-latn-sd",kkp:"kkp-latn-au",kkq:"kkq-latn-cd",kkr:"kkr-latn-ng",kks:"kks-latn-ng",kkt:"kkt-deva-np",kku:"kku-latn-ng",kkv:"kkv-latn-id",kkw:"kkw-latn-cg",kkx:"kkx-latn-id",kky:"kky-latn-au",kkz:"kkz-latn-ca",kl:"kl-latn-gl",kla:"kla-latn-us",klb:"klb-latn-mx",klc:"klc-latn-cm",kld:"kld-latn-au",kle:"kle-deva-np",klf:"klf-latn-td",klg:"klg-latn-ph",klh:"klh-latn-pg",kli:"kli-latn-id",klj:"klj-arab-ir",klk:"klk-latn-ng",kll:"kll-latn-ph",klm:"klm-latn-pg",kln:"kln-latn-ke",klo:"klo-latn-ng",klp:"klp-latn-pg",klq:"klq-latn-zz",klr:"klr-deva-np",kls:"kls-latn-pk","kls-arab":"kls-arab-pk",klt:"klt-latn-zz",klu:"klu-latn-lr",klv:"klv-latn-vu",klw:"klw-latn-id",klx:"klx-latn-zz",kly:"kly-latn-id",klz:"klz-latn-id",km:"km-khmr-kh",kma:"kma-latn-gh",kmb:"kmb-latn-ao",kmc:"kmc-latn-cn","kmc-hani":"kmc-hani-cn",kmd:"kmd-latn-ph",kme:"kme-latn-cm",kmf:"kmf-latn-pg",kmg:"kmg-latn-pg",kmh:"kmh-latn-zz",kmi:"kmi-latn-ng",kmj:"kmj-deva-in",kmk:"kmk-latn-ph",kml:"kml-latn-ph",kmm:"kmm-latn-in",kmn:"kmn-latn-pg",kmo:"kmo-latn-zz",kmp:"kmp-latn-cm",kmq:"kmq-latn-et",kms:"kms-latn-zz",kmt:"kmt-latn-id",kmu:"kmu-latn-zz",kmv:"kmv-latn-br",kmw:"kmw-latn-zz",kmx:"kmx-latn-pg",kmy:"kmy-latn-ng",kmz:"kmz-arab-ir",kn:"kn-knda-in",kna:"kna-latn-ng",knb:"knb-latn-ph",knd:"knd-latn-id",kne:"kne-latn-ph",knf:"knf-latn-gw",kni:"kni-latn-ng",knj:"knj-latn-gt",knk:"knk-latn-sl","knk-arab":"knk-arab-sl",knl:"knl-latn-id",knm:"knm-latn-br",kno:"kno-latn-sl",knp:"knp-latn-zz",knq:"knq-latn-my",knr:"knr-latn-pg",kns:"kns-latn-my","kns-thai":"kns-thai-th",knt:"knt-latn-br",knu:"knu-latn-gn",knv:"knv-latn-pg",knw:"knw-latn-na",knx:"knx-latn-id",kny:"kny-latn-cd",knz:"knz-latn-bf",ko:"ko-kore-kr",koa:"koa-latn-pg",koc:"koc-latn-ng",kod:"kod-latn-id",koe:"koe-latn-ss",kof:"kof-latn-ng",kog:"kog-latn-co",koh:"koh-latn-cg",koi:"koi-cyrl-ru",kok:"kok-deva-in",kol:"kol-latn-zz",koo:"koo-latn-ug",kop:"kop-latn-pg",koq:"koq-latn-ga",kos:"kos-latn-fm",kot:"kot-latn-cm",kou:"kou-latn-td",kov:"kov-latn-ng",kow:"kow-latn-ng",koy:"koy-latn-us",koz:"koz-latn-zz",kpa:"kpa-latn-ng",kpc:"kpc-latn-co",kpd:"kpd-latn-id",kpe:"kpe-latn-lr",kpf:"kpf-latn-zz",kpg:"kpg-latn-fm",kph:"kph-latn-gh",kpi:"kpi-latn-id",kpj:"kpj-latn-br",kpk:"kpk-latn-ng",kpl:"kpl-latn-cd",kpm:"kpm-latn-vn",kpn:"kpn-latn-br",kpo:"kpo-latn-zz",kpq:"kpq-latn-id",kpr:"kpr-latn-zz",kps:"kps-latn-id",kpt:"kpt-cyrl-ru",kpu:"kpu-latn-id",kpw:"kpw-latn-pg",kpx:"kpx-latn-zz",kpy:"kpy-cyrl-ru",kpz:"kpz-latn-ug",kqa:"kqa-latn-pg",kqb:"kqb-latn-zz",kqc:"kqc-latn-pg",kqd:"kqd-syrc-iq",kqe:"kqe-latn-ph",kqf:"kqf-latn-zz",kqg:"kqg-latn-bf",kqh:"kqh-latn-tz",kqi:"kqi-latn-pg",kqj:"kqj-latn-pg",kqk:"kqk-latn-bj",kql:"kql-latn-pg",kqm:"kqm-latn-ci",kqn:"kqn-latn-zm",kqo:"kqo-latn-lr",kqp:"kqp-latn-td",kqq:"kqq-latn-br",kqr:"kqr-latn-my",kqs:"kqs-latn-zz",kqt:"kqt-latn-my",kqu:"kqu-latn-za",kqv:"kqv-latn-id",kqw:"kqw-latn-pg",kqx:"kqx-latn-cm",kqy:"kqy-ethi-zz",kqz:"kqz-latn-za",kr:"kr-latn-zz",kra:"kra-deva-np",krb:"krb-latn-us",krc:"krc-cyrl-ru",krd:"krd-latn-tl",kre:"kre-latn-br",krf:"krf-latn-vu",krh:"krh-latn-ng",kri:"kri-latn-sl",krj:"krj-latn-ph",krk:"krk-cyrl-ru",krl:"krl-latn-ru",krn:"krn-latn-lr",krp:"krp-latn-ng",krr:"krr-khmr-kh",krs:"krs-latn-zz",krt:"krt-latn-ne",kru:"kru-deva-in",krv:"krv-khmr-kh",krw:"krw-latn-lr",krx:"krx-latn-sn",kry:"kry-latn-az",krz:"krz-latn-id",ks:"ks-arab-in",ksa:"ksa-latn-ng",ksb:"ksb-latn-tz",ksc:"ksc-latn-ph",ksd:"ksd-latn-zz",kse:"kse-latn-pg",ksf:"ksf-latn-cm",ksg:"ksg-latn-sb",ksh:"ksh-latn-de",ksi:"ksi-latn-pg",ksj:"ksj-latn-zz",ksk:"ksk-latn-us",ksl:"ksl-latn-pg",ksm:"ksm-latn-ng",ksn:"ksn-latn-ph",kso:"kso-latn-ng",ksp:"ksp-latn-cf",ksq:"ksq-latn-ng",ksr:"ksr-latn-zz",kss:"kss-latn-lr",kst:"kst-latn-bf",ksu:"ksu-mymr-in",ksv:"ksv-latn-cd",ksw:"ksw-mymr-mm","ksw-latn":"ksw-latn-mm",ksx:"ksx-latn-id",ksz:"ksz-deva-in",kta:"kta-latn-vn",ktb:"ktb-ethi-zz",ktc:"ktc-latn-ng",ktd:"ktd-latn-au",ktf:"ktf-latn-cd",ktg:"ktg-latn-au",kth:"kth-latn-td",kti:"kti-latn-id",ktj:"ktj-latn-ci",ktk:"ktk-latn-pg",ktl:"ktl-arab-ir",ktm:"ktm-latn-zz",ktn:"ktn-latn-br",kto:"kto-latn-zz",ktp:"ktp-plrd-cn",ktq:"ktq-latn-ph",ktr:"ktr-latn-my",kts:"kts-latn-id",ktt:"ktt-latn-id",ktu:"ktu-latn-cd",ktv:"ktv-latn-vn",ktw:"ktw-latn-us",ktx:"ktx-latn-br",kty:"kty-latn-cd",ktz:"ktz-latn-na",ku:"ku-latn-tr","ku-arab":"ku-arab-iq","ku-lb":"ku-arab-lb","ku-yezi":"ku-yezi-ge",kub:"kub-latn-zz",kuc:"kuc-latn-id",kud:"kud-latn-zz",kue:"kue-latn-zz",kuf:"kuf-laoo-la",kug:"kug-latn-ng",kuh:"kuh-latn-ng",kui:"kui-latn-br",kuj:"kuj-latn-zz",kuk:"kuk-latn-id",kul:"kul-latn-ng",kum:"kum-cyrl-ru",kun:"kun-latn-zz",kuo:"kuo-latn-pg",kup:"kup-latn-zz",kuq:"kuq-latn-br",kus:"kus-latn-zz",kut:"kut-latn-ca",kuu:"kuu-latn-us",kuv:"kuv-latn-id",kuw:"kuw-latn-cf",kux:"kux-latn-au",kuy:"kuy-latn-au",kuz:"kuz-latn-cl",kv:"kv-cyrl-ru",kva:"kva-cyrl-ru",kvb:"kvb-latn-id",kvc:"kvc-latn-pg",kvd:"kvd-latn-id",kve:"kve-latn-my",kvf:"kvf-latn-td",kvg:"kvg-latn-zz",kvh:"kvh-latn-id",kvi:"kvi-latn-td",kvj:"kvj-latn-cm",kvl:"kvl-latn-mm",kvm:"kvm-latn-cm",kvn:"kvn-latn-co",kvo:"kvo-latn-id",kvp:"kvp-latn-id",kvq:"kvq-mymr-mm","kvq-latn":"kvq-latn-mm",kvr:"kvr-latn-id",kvt:"kvt-mymr-mm",kvv:"kvv-latn-id",kvw:"kvw-latn-id",kvx:"kvx-arab-pk",kvy:"kvy-kali-mm",kvz:"kvz-latn-id",kw:"kw-latn-gb",kwa:"kwa-latn-br",kwb:"kwb-latn-ng",kwc:"kwc-latn-cg",kwd:"kwd-latn-sb",kwe:"kwe-latn-id",kwf:"kwf-latn-sb",kwg:"kwg-latn-td",kwh:"kwh-latn-id",kwi:"kwi-latn-co",kwj:"kwj-latn-zz",kwk:"kwk-latn-ca",kwl:"kwl-latn-ng",kwm:"kwm-latn-na",kwn:"kwn-latn-na",kwo:"kwo-latn-zz",kwp:"kwp-latn-ci",kwq:"kwq-latn-zz",kwr:"kwr-latn-id",kws:"kws-latn-cd",kwt:"kwt-latn-id",kwu:"kwu-latn-cm",kwv:"kwv-latn-td",kww:"kww-latn-sr",kwy:"kwy-latn-cd",kwz:"kwz-latn-ao",kxa:"kxa-latn-zz",kxb:"kxb-latn-ci",kxc:"kxc-ethi-zz",kxd:"kxd-latn-bn","kxd-arab":"kxd-arab-bn",kxe:"kxe-latn-zz",kxf:"kxf-mymr-mm","kxf-latn":"kxf-latn-mm",kxi:"kxi-latn-my",kxj:"kxj-latn-td",kxk:"kxk-mymr-mm",kxl:"kxl-deva-in",kxm:"kxm-thai-th",kxn:"kxn-latn-my",kxo:"kxo-latn-br",kxp:"kxp-arab-pk",kxq:"kxq-latn-id",kxr:"kxr-latn-pg",kxt:"kxt-latn-pg",kxv:"kxv-orya-in","kxv-latn":"kxv-latn-in","kxv-telu":"kxv-telu-in",kxw:"kxw-latn-zz",kxx:"kxx-latn-cg",kxy:"kxy-latn-vn",kxz:"kxz-latn-zz",ky:"ky-cyrl-kg","ky-arab":"ky-arab-cn","ky-cn":"ky-arab-cn","ky-latn":"ky-latn-tr","ky-tr":"ky-latn-tr",kya:"kya-latn-tz",kyb:"kyb-latn-ph",kyc:"kyc-latn-pg",kyd:"kyd-latn-id",kye:"kye-latn-zz",kyf:"kyf-latn-ci",kyg:"kyg-latn-pg",kyh:"kyh-latn-us",kyi:"kyi-latn-my",kyj:"kyj-latn-ph",kyk:"kyk-latn-ph",kyl:"kyl-latn-us",kym:"kym-latn-cf",kyn:"kyn-latn-ph",kyo:"kyo-latn-id",kyq:"kyq-latn-td",kyr:"kyr-latn-br",kys:"kys-latn-my",kyt:"kyt-latn-id",kyu:"kyu-kali-mm","kyu-latn":"kyu-latn-mm","kyu-mymr":"kyu-mymr-mm",kyv:"kyv-deva-np",kyw:"kyw-deva-in","kyw-beng":"kyw-beng-in","kyw-orya":"kyw-orya-in",kyx:"kyx-latn-zz",kyy:"kyy-latn-pg",kyz:"kyz-latn-br",kza:"kza-latn-bf",kzb:"kzb-latn-id",kzc:"kzc-latn-ci",kzd:"kzd-latn-id",kze:"kze-latn-pg",kzf:"kzf-latn-id",kzh:"kzh-arab-zz",kzi:"kzi-latn-my",kzj:"kzj-latn-my",kzk:"kzk-latn-sb",kzl:"kzl-latn-id",kzm:"kzm-latn-id",kzn:"kzn-latn-mw",kzo:"kzo-latn-ga",kzp:"kzp-latn-id",kzr:"kzr-latn-zz",kzs:"kzs-latn-my",kzt:"kzt-latn-my",kzu:"kzu-latn-id",kzv:"kzv-latn-id",kzw:"kzw-latn-br",kzx:"kzx-latn-id",kzy:"kzy-latn-cd",kzz:"kzz-latn-id",la:"la-latn-va",laa:"laa-latn-ph",lab:"lab-lina-gr",lac:"lac-latn-mx",lad:"lad-hebr-il",lae:"lae-deva-in","lae-tibt":"lae-tibt-in",lag:"lag-latn-tz",lah:"lah-arab-pk",lai:"lai-latn-mw",laj:"laj-latn-ug",lal:"lal-latn-cd",lam:"lam-latn-zm",lan:"lan-latn-ng",lap:"lap-latn-td",laq:"laq-latn-vn",lar:"lar-latn-gh",las:"las-latn-zz",lau:"lau-latn-id",law:"law-latn-id",lax:"lax-latn-in","lax-beng":"lax-beng-in",laz:"laz-latn-pg",lb:"lb-latn-lu",lbb:"lbb-latn-pg",lbc:"lbc-lisu-cn",lbe:"lbe-cyrl-ru",lbf:"lbf-deva-in","lbf-tibt":"lbf-tibt-cn",lbi:"lbi-latn-cm",lbj:"lbj-tibt-in","lbj-arab":"lbj-arab-in",lbl:"lbl-latn-ph",lbm:"lbm-deva-in",lbn:"lbn-latn-la","lbn-laoo":"lbn-laoo-la",lbo:"lbo-laoo-la","lbo-latn":"lbo-latn-us",lbq:"lbq-latn-pg",lbr:"lbr-deva-np",lbt:"lbt-latn-vn",lbu:"lbu-latn-zz",lbv:"lbv-latn-pg",lbw:"lbw-latn-id",lbx:"lbx-latn-id",lby:"lby-latn-au",lbz:"lbz-latn-au",lcc:"lcc-latn-id",lcd:"lcd-latn-id",lce:"lce-latn-id",lcf:"lcf-latn-id",lch:"lch-latn-ao",lcl:"lcl-latn-id",lcm:"lcm-latn-zz",lcp:"lcp-thai-cn",lcq:"lcq-latn-id",lcs:"lcs-latn-id",lda:"lda-latn-ci",ldb:"ldb-latn-zz",ldd:"ldd-latn-ng",ldg:"ldg-latn-ng",ldh:"ldh-latn-ng",ldi:"ldi-latn-cg",ldj:"ldj-latn-ng",ldk:"ldk-latn-ng",ldl:"ldl-latn-ng",ldm:"ldm-latn-gn",ldn:"ldn-latn-001",ldo:"ldo-latn-ng",ldp:"ldp-latn-ng",ldq:"ldq-latn-ng",lea:"lea-latn-cd",leb:"leb-latn-zm",lec:"lec-latn-bo",led:"led-latn-zz",lee:"lee-latn-zz",lef:"lef-latn-gh",leh:"leh-latn-zm",lei:"lei-latn-pg",lej:"lej-latn-cd",lek:"lek-latn-pg",lel:"lel-latn-cd",lem:"lem-latn-zz",len:"len-latn-hn",leo:"leo-latn-cm",lep:"lep-lepc-in",leq:"leq-latn-zz",ler:"ler-latn-pg",les:"les-latn-cd",let:"let-latn-pg",leu:"leu-latn-zz",lev:"lev-latn-id",lew:"lew-latn-id",lex:"lex-latn-id",ley:"ley-latn-id",lez:"lez-cyrl-ru",lfa:"lfa-latn-cm",lfn:"lfn-latn-001","lfn-cyrl":"lfn-cyrl-001",lg:"lg-latn-ug",lga:"lga-latn-sb",lgb:"lgb-latn-sb",lgg:"lgg-latn-zz",lgh:"lgh-latn-vn",lgi:"lgi-latn-id",lgk:"lgk-latn-vu",lgl:"lgl-latn-sb",lgm:"lgm-latn-cd",lgn:"lgn-latn-et",lgo:"lgo-latn-ss",lgq:"lgq-latn-gh",lgr:"lgr-latn-sb",lgt:"lgt-latn-pg",lgu:"lgu-latn-sb",lgz:"lgz-latn-cd",lha:"lha-latn-vn",lhh:"lhh-latn-id",lhi:"lhi-latn-cn",lhm:"lhm-deva-np",lhn:"lhn-latn-my",lhs:"lhs-syrc-sy",lht:"lht-latn-vu",lhu:"lhu-latn-cn",li:"li-latn-nl",lia:"lia-latn-zz",lib:"lib-latn-pg",lic:"lic-latn-cn",lid:"lid-latn-zz",lie:"lie-latn-cd",lif:"lif-deva-np","lif-limb":"lif-limb-in",lig:"lig-latn-zz",lih:"lih-latn-zz",lij:"lij-latn-it",lik:"lik-latn-cd",lil:"lil-latn-ca",lio:"lio-latn-id",lip:"lip-latn-gh",liq:"liq-latn-et",lir:"lir-latn-lr",lis:"lis-lisu-cn",liu:"liu-latn-sd",liv:"liv-latn-lv",liw:"liw-latn-id",lix:"lix-latn-id",liy:"liy-latn-cf",liz:"liz-latn-cd",lja:"lja-latn-au",lje:"lje-latn-id",lji:"lji-latn-id",ljl:"ljl-latn-id",ljp:"ljp-latn-id",ljw:"ljw-latn-au",ljx:"ljx-latn-au",lka:"lka-latn-tl",lkb:"lkb-latn-ke",lkc:"lkc-latn-vn",lkd:"lkd-latn-br",lke:"lke-latn-ug",lkh:"lkh-tibt-bt",lki:"lki-arab-ir",lkj:"lkj-latn-my",lkl:"lkl-latn-pg",lkm:"lkm-latn-au",lkn:"lkn-latn-vu",lko:"lko-latn-ke",lkr:"lkr-latn-ss",lks:"lks-latn-ke",lkt:"lkt-latn-us",lku:"lku-latn-au",lky:"lky-latn-ss",lla:"lla-latn-ng",llb:"llb-latn-mz",llc:"llc-latn-gn",lld:"lld-latn-it",lle:"lle-latn-zz",llf:"llf-latn-pg",llg:"llg-latn-id",lli:"lli-latn-cg",llj:"llj-latn-au",llk:"llk-latn-my",lll:"lll-latn-pg",llm:"llm-latn-id",lln:"lln-latn-zz",llp:"llp-latn-vu",llq:"llq-latn-id",llu:"llu-latn-sb",llx:"llx-latn-fj",lma:"lma-latn-gn",lmb:"lmb-latn-vu",lmc:"lmc-latn-au",lmd:"lmd-latn-sd",lme:"lme-latn-td",lmf:"lmf-latn-id",lmg:"lmg-latn-pg",lmh:"lmh-deva-np",lmi:"lmi-latn-cd",lmj:"lmj-latn-id",lmk:"lmk-latn-in","lmk-mymr":"lmk-mymr-in",lml:"lml-latn-vu",lmn:"lmn-telu-in",lmo:"lmo-latn-it",lmp:"lmp-latn-zz",lmq:"lmq-latn-id",lmr:"lmr-latn-id",lmu:"lmu-latn-vu",lmv:"lmv-latn-fj",lmw:"lmw-latn-us",lmx:"lmx-latn-cm",lmy:"lmy-latn-id",ln:"ln-latn-cd",lna:"lna-latn-cf",lnb:"lnb-latn-na",lnd:"lnd-latn-id",lnh:"lnh-latn-my",lni:"lni-latn-pg",lnj:"lnj-latn-au",lnl:"lnl-latn-cf",lnm:"lnm-latn-pg",lnn:"lnn-latn-vu",lns:"lns-latn-zz",lnu:"lnu-latn-zz",lnw:"lnw-latn-au",lnz:"lnz-latn-cd",lo:"lo-laoo-la",loa:"loa-latn-id",lob:"lob-latn-bf",loc:"loc-latn-ph",loe:"loe-latn-id",log:"log-latn-cd",loh:"loh-latn-ss",loi:"loi-latn-ci",loj:"loj-latn-zz",lok:"lok-latn-zz",lol:"lol-latn-cd",lom:"lom-latn-lr",lon:"lon-latn-mw",loo:"loo-latn-cd",lop:"lop-latn-ng",loq:"loq-latn-cd",lor:"lor-latn-zz",los:"los-latn-zz",lot:"lot-latn-ss","lot-arab":"lot-arab-ss",lou:"lou-latn-us",low:"low-latn-my",lox:"lox-latn-id",loy:"loy-deva-np","loy-tibt":"loy-tibt-np",loz:"loz-latn-zm",lpa:"lpa-latn-vu",lpe:"lpe-latn-id",lpn:"lpn-latn-mm",lpo:"lpo-plrd-cn","lpo-lisu":"lpo-lisu-cn",lpx:"lpx-latn-ss",lqr:"lqr-latn-ss",lra:"lra-latn-my",lrc:"lrc-arab-ir",lrg:"lrg-latn-au",lri:"lri-latn-ke",lrk:"lrk-arab-pk",lrl:"lrl-arab-ir",lrm:"lrm-latn-ke",lrn:"lrn-latn-id",lro:"lro-latn-sd",lrt:"lrt-latn-id",lrv:"lrv-latn-vu",lrz:"lrz-latn-vu",lsa:"lsa-arab-ir",lsd:"lsd-hebr-il",lse:"lse-latn-cd",lsi:"lsi-latn-mm",lsm:"lsm-latn-ug",lsr:"lsr-latn-pg",lss:"lss-arab-pk",lt:"lt-latn-lt",ltg:"ltg-latn-lv",lth:"lth-latn-ug",lti:"lti-latn-id",ltn:"ltn-latn-br",lto:"lto-latn-ke",lts:"lts-latn-ke",ltu:"ltu-latn-id",lu:"lu-latn-cd",lua:"lua-latn-cd",luc:"luc-latn-ug",lud:"lud-latn-ru",lue:"lue-latn-zm",luf:"luf-latn-pg",lui:"lui-latn-us",luj:"luj-latn-cd",luk:"luk-tibt-bt",lul:"lul-latn-ss",lum:"lum-latn-ao",lun:"lun-latn-zm",luo:"luo-latn-ke",lup:"lup-latn-ga",luq:"luq-latn-cu",lur:"lur-latn-id",lus:"lus-latn-in","lus-beng":"lus-beng-bd","lus-brai":"lus-brai-in",lut:"lut-latn-us",luu:"luu-deva-np",luv:"luv-arab-om",luw:"luw-latn-cm",luy:"luy-latn-ke",luz:"luz-arab-ir",lv:"lv-latn-lv",lva:"lva-latn-tl",lvi:"lvi-latn-la",lvk:"lvk-latn-sb",lvu:"lvu-latn-id",lwa:"lwa-latn-cd",lwe:"lwe-latn-id",lwg:"lwg-latn-ke",lwh:"lwh-latn-vn",lwl:"lwl-thai-th",lwm:"lwm-thai-cn",lwo:"lwo-latn-ss","lwo-za":"lwo-latn-za",lwt:"lwt-latn-id",lww:"lww-latn-vu",lxm:"lxm-latn-pg",lya:"lya-tibt-bt",lyn:"lyn-latn-zm",lzh:"lzh-hans-cn",lzl:"lzl-latn-vu",lzn:"lzn-latn-mm",lzz:"lzz-latn-tr",maa:"maa-latn-mx",mab:"mab-latn-mx",mad:"mad-latn-id",mae:"mae-latn-ng",maf:"maf-latn-cm",mag:"mag-deva-in",mai:"mai-deva-in",maj:"maj-latn-mx",mak:"mak-latn-id",mam:"mam-latn-gt",man:"man-latn-gm","man-gn":"man-nkoo-gn","man-nkoo":"man-nkoo-gn",maq:"maq-latn-mx",mas:"mas-latn-ke",mat:"mat-latn-mx",mau:"mau-latn-mx",mav:"mav-latn-br",maw:"maw-latn-zz",max:"max-latn-id",maz:"maz-latn-mx",mba:"mba-latn-ph",mbb:"mbb-latn-ph",mbc:"mbc-latn-br",mbd:"mbd-latn-ph",mbf:"mbf-latn-sg",mbh:"mbh-latn-zz",mbi:"mbi-latn-ph",mbj:"mbj-latn-br",mbk:"mbk-latn-pg",mbl:"mbl-latn-br",mbm:"mbm-latn-cg",mbn:"mbn-latn-co",mbo:"mbo-latn-zz",mbp:"mbp-latn-co",mbq:"mbq-latn-zz",mbr:"mbr-latn-co",mbs:"mbs-latn-ph",mbt:"mbt-latn-ph",mbu:"mbu-latn-zz",mbv:"mbv-latn-gn",mbw:"mbw-latn-zz",mbx:"mbx-latn-pg",mby:"mby-arab-pk",mbz:"mbz-latn-mx",mca:"mca-latn-py",mcb:"mcb-latn-pe",mcc:"mcc-latn-pg",mcd:"mcd-latn-pe",mce:"mce-latn-mx",mcf:"mcf-latn-pe",mcg:"mcg-latn-ve",mch:"mch-latn-ve",mci:"mci-latn-zz",mcj:"mcj-latn-ng",mck:"mck-latn-ao",mcl:"mcl-latn-co",mcm:"mcm-latn-my",mcn:"mcn-latn-td",mco:"mco-latn-mx",mcp:"mcp-latn-zz",mcq:"mcq-latn-zz",mcr:"mcr-latn-zz",mcs:"mcs-latn-cm",mct:"mct-latn-cm",mcu:"mcu-latn-zz",mcv:"mcv-latn-pg",mcw:"mcw-latn-td",mcx:"mcx-latn-cf",mcy:"mcy-latn-pg",mcz:"mcz-latn-pg",mda:"mda-latn-zz",mdb:"mdb-latn-pg",mdc:"mdc-latn-pg",mdd:"mdd-latn-cm",mde:"mde-arab-zz",mdf:"mdf-cyrl-ru",mdg:"mdg-latn-td",mdh:"mdh-latn-ph",mdi:"mdi-latn-cd",mdj:"mdj-latn-zz",mdk:"mdk-latn-cd",mdm:"mdm-latn-cd",mdn:"mdn-latn-cf",mdp:"mdp-latn-cd",mdq:"mdq-latn-cd",mdr:"mdr-latn-id",mds:"mds-latn-pg",mdt:"mdt-latn-cg",mdu:"mdu-latn-cg",mdv:"mdv-latn-mx",mdw:"mdw-latn-cg",mdx:"mdx-ethi-zz",mdy:"mdy-ethi-et","mdy-latn":"mdy-latn-et",mdz:"mdz-latn-br",mea:"mea-latn-cm",meb:"meb-latn-pg",mec:"mec-latn-au",med:"med-latn-zz",mee:"mee-latn-zz",meh:"meh-latn-mx",mej:"mej-latn-id",mek:"mek-latn-zz",mel:"mel-latn-my",mem:"mem-latn-au",men:"men-latn-sl",meo:"meo-latn-my","meo-arab":"meo-arab-my",mep:"mep-latn-au",meq:"meq-latn-cm",mer:"mer-latn-ke",mes:"mes-latn-td",met:"met-latn-zz",meu:"meu-latn-zz",mev:"mev-latn-lr",mew:"mew-latn-ng",mey:"mey-latn-mr","mey-arab":"mey-arab-mr",mez:"mez-latn-us",mfa:"mfa-arab-th",mfb:"mfb-latn-id",mfc:"mfc-latn-cd",mfd:"mfd-latn-cm",mfe:"mfe-latn-mu",mff:"mff-latn-cm",mfg:"mfg-latn-gn","mfg-arab":"mfg-arab-gn",mfh:"mfh-latn-cm",mfi:"mfi-arab-cm","mfi-latn":"mfi-latn-cm",mfj:"mfj-latn-cm",mfk:"mfk-latn-cm",mfl:"mfl-latn-ng",mfm:"mfm-latn-ng",mfn:"mfn-latn-zz",mfo:"mfo-latn-zz",mfp:"mfp-latn-id",mfq:"mfq-latn-zz",mfr:"mfr-latn-au",mft:"mft-latn-pg",mfu:"mfu-latn-ao",mfv:"mfv-latn-gw",mfw:"mfw-latn-pg",mfx:"mfx-latn-et","mfx-ethi":"mfx-ethi-et",mfy:"mfy-latn-mx",mfz:"mfz-latn-ss",mg:"mg-latn-mg",mgb:"mgb-latn-td",mgc:"mgc-latn-ss",mgd:"mgd-latn-ss","mgd-arab":"mgd-arab-ss",mge:"mge-latn-td",mgf:"mgf-latn-id",mgg:"mgg-latn-cm",mgh:"mgh-latn-mz",mgi:"mgi-latn-ng",mgj:"mgj-latn-ng",mgk:"mgk-latn-id",mgl:"mgl-latn-zz",mgm:"mgm-latn-tl",mgn:"mgn-latn-cf",mgo:"mgo-latn-cm",mgp:"mgp-deva-np",mgq:"mgq-latn-tz",mgr:"mgr-latn-zm",mgs:"mgs-latn-tz",mgt:"mgt-latn-pg",mgu:"mgu-latn-pg",mgv:"mgv-latn-tz",mgw:"mgw-latn-tz",mgy:"mgy-latn-tz",mgz:"mgz-latn-tz",mh:"mh-latn-mh",mhb:"mhb-latn-ga",mhc:"mhc-latn-mx",mhd:"mhd-latn-tz",mhe:"mhe-latn-my",mhf:"mhf-latn-pg",mhg:"mhg-latn-au",mhi:"mhi-latn-zz",mhj:"mhj-arab-af",mhk:"mhk-latn-cm",mhl:"mhl-latn-zz",mhm:"mhm-latn-mz",mhn:"mhn-latn-it",mho:"mho-latn-zm",mhp:"mhp-latn-id",mhq:"mhq-latn-us",mhs:"mhs-latn-id",mht:"mht-latn-ve",mhu:"mhu-latn-in",mhw:"mhw-latn-bw",mhx:"mhx-latn-mm",mhy:"mhy-latn-id",mhz:"mhz-latn-id",mi:"mi-latn-nz",mia:"mia-latn-us",mib:"mib-latn-mx",mic:"mic-latn-ca",mid:"mid-mand-iq",mie:"mie-latn-mx",mif:"mif-latn-zz",mig:"mig-latn-mx",mih:"mih-latn-mx",mii:"mii-latn-mx",mij:"mij-latn-cm",mik:"mik-latn-us",mil:"mil-latn-mx",mim:"mim-latn-mx",min:"min-latn-id",mio:"mio-latn-mx",mip:"mip-latn-mx",miq:"miq-latn-ni",mir:"mir-latn-mx",mit:"mit-latn-mx",miu:"miu-latn-mx",miw:"miw-latn-zz",mix:"mix-latn-mx",miy:"miy-latn-mx",miz:"miz-latn-mx",mjb:"mjb-latn-tl",mjc:"mjc-latn-mx",mjd:"mjd-latn-us",mje:"mje-latn-td",mjg:"mjg-latn-cn",mjh:"mjh-latn-tz",mji:"mji-latn-cn",mjj:"mjj-latn-pg",mjk:"mjk-latn-pg",mjl:"mjl-deva-in","mjl-takr":"mjl-takr-in",mjm:"mjm-latn-pg",mjn:"mjn-latn-pg",mjq:"mjq-mlym-in",mjr:"mjr-mlym-in",mjs:"mjs-latn-ng",mjt:"mjt-deva-in","mjt-beng":"mjt-beng-bd",mju:"mju-telu-in",mjv:"mjv-mlym-in",mjw:"mjw-latn-in",mjx:"mjx-latn-bd","mjx-beng":"mjx-beng-bd",mjy:"mjy-latn-us",mjz:"mjz-deva-np",mk:"mk-cyrl-mk",mka:"mka-latn-ci",mkb:"mkb-deva-in",mkc:"mkc-latn-pg",mke:"mke-deva-in",mkf:"mkf-latn-ng",mki:"mki-arab-zz",mkj:"mkj-latn-fm",mkk:"mkk-latn-cm",mkl:"mkl-latn-zz",mkm:"mkm-thai-th",mkn:"mkn-latn-id",mko:"mko-latn-ng",mkp:"mkp-latn-zz",mkr:"mkr-latn-pg",mks:"mks-latn-mx",mkt:"mkt-latn-nc",mku:"mku-latn-gn",mkv:"mkv-latn-vu",mkw:"mkw-latn-zz",mkx:"mkx-latn-ph",mky:"mky-latn-id",mkz:"mkz-latn-tl",ml:"ml-mlym-in",mla:"mla-latn-vu",mlb:"mlb-latn-cm",mlc:"mlc-latn-vn",mle:"mle-latn-zz",mlf:"mlf-thai-la","mlf-latn":"mlf-latn-la",mlh:"mlh-latn-pg",mli:"mli-latn-id",mlj:"mlj-latn-td",mlk:"mlk-latn-ke",mll:"mll-latn-vu",mln:"mln-latn-sb",mlo:"mlo-latn-sn",mlp:"mlp-latn-zz",mlq:"mlq-latn-sn","mlq-arab":"mlq-arab-sn",mlr:"mlr-latn-cm",mls:"mls-latn-sd",mlu:"mlu-latn-sb",mlv:"mlv-latn-vu",mlw:"mlw-latn-cm",mlx:"mlx-latn-vu",mlz:"mlz-latn-ph",mma:"mma-latn-ng",mmb:"mmb-latn-id",mmc:"mmc-latn-mx",mmd:"mmd-latn-cn","mmd-hans":"mmd-hans-cn","mmd-hant":"mmd-hant-cn",mme:"mme-latn-vu",mmf:"mmf-latn-ng",mmg:"mmg-latn-vu",mmh:"mmh-latn-br",mmi:"mmi-latn-pg",mmm:"mmm-latn-vu",mmn:"mmn-latn-ph",mmo:"mmo-latn-zz",mmp:"mmp-latn-pg",mmq:"mmq-latn-pg",mmr:"mmr-latn-cn",mmt:"mmt-latn-pg",mmu:"mmu-latn-zz",mmv:"mmv-latn-br",mmw:"mmw-latn-vu",mmx:"mmx-latn-zz",mmy:"mmy-latn-td",mmz:"mmz-latn-cd",mn:"mn-cyrl-mn","mn-cn":"mn-mong-cn","mn-mong":"mn-mong-cn",mna:"mna-latn-zz",mnb:"mnb-latn-id",mnd:"mnd-latn-br",mne:"mne-latn-td",mnf:"mnf-latn-zz",mng:"mng-latn-vn",mnh:"mnh-latn-cd",mni:"mni-beng-in",mnj:"mnj-arab-af",mnl:"mnl-latn-vu",mnm:"mnm-latn-pg",mnn:"mnn-latn-vn",mnp:"mnp-latn-cn",mnq:"mnq-latn-my",mnr:"mnr-latn-us",mns:"mns-cyrl-ru",mnu:"mnu-latn-id",mnv:"mnv-latn-sb",mnw:"mnw-mymr-mm",mnx:"mnx-latn-id",mny:"mny-latn-mz",mnz:"mnz-latn-id",mo:"mo-latn-ro",moa:"moa-latn-zz",moc:"moc-latn-ar",mod:"mod-latn-us",moe:"moe-latn-ca",mog:"mog-latn-id",moh:"moh-latn-ca",moi:"moi-latn-ng",moj:"moj-latn-cg",mok:"mok-latn-id",mom:"mom-latn-ni",moo:"moo-latn-vn",mop:"mop-latn-bz",moq:"moq-latn-id",mor:"mor-latn-sd",mos:"mos-latn-bf",mot:"mot-latn-co",mou:"mou-latn-td",mov:"mov-latn-us",mow:"mow-latn-cg",mox:"mox-latn-zz",moy:"moy-latn-et","moy-ethi":"moy-ethi-et",moz:"moz-latn-td",mpa:"mpa-latn-tz",mpb:"mpb-latn-au",mpc:"mpc-latn-au",mpd:"mpd-latn-br",mpe:"mpe-latn-et","mpe-ethi":"mpe-ethi-et",mpg:"mpg-latn-td",mph:"mph-latn-au",mpi:"mpi-latn-cm",mpj:"mpj-latn-au",mpk:"mpk-latn-td",mpl:"mpl-latn-pg",mpm:"mpm-latn-mx",mpn:"mpn-latn-pg",mpo:"mpo-latn-pg",mpp:"mpp-latn-zz",mpq:"mpq-latn-br",mpr:"mpr-latn-sb",mps:"mps-latn-zz",mpt:"mpt-latn-zz",mpu:"mpu-latn-br",mpv:"mpv-latn-pg",mpw:"mpw-latn-br",mpx:"mpx-latn-zz",mpy:"mpy-latn-id",mpz:"mpz-thai-th",mqa:"mqa-latn-id",mqb:"mqb-latn-cm",mqc:"mqc-latn-id",mqe:"mqe-latn-pg",mqf:"mqf-latn-id",mqg:"mqg-latn-id",mqh:"mqh-latn-mx",mqi:"mqi-latn-id",mqj:"mqj-latn-id",mqk:"mqk-latn-ph",mql:"mql-latn-zz",mqm:"mqm-latn-pf",mqn:"mqn-latn-id",mqo:"mqo-latn-id",mqp:"mqp-latn-id",mqq:"mqq-latn-my",mqr:"mqr-latn-id",mqs:"mqs-latn-id",mqu:"mqu-latn-ss",mqv:"mqv-latn-pg",mqw:"mqw-latn-pg",mqx:"mqx-latn-id","mqx-bugi":"mqx-bugi-id",mqy:"mqy-latn-id",mqz:"mqz-latn-pg",mr:"mr-deva-in",mra:"mra-thai-th",mrb:"mrb-latn-vu",mrc:"mrc-latn-us",mrd:"mrd-deva-np",mrf:"mrf-latn-id",mrg:"mrg-latn-in","mrg-beng":"mrg-beng-in","mrg-deva":"mrg-deva-in",mrh:"mrh-latn-in",mrj:"mrj-cyrl-ru",mrk:"mrk-latn-nc",mrl:"mrl-latn-fm",mrm:"mrm-latn-vu",mrn:"mrn-latn-sb",mro:"mro-mroo-bd",mrp:"mrp-latn-vu",mrq:"mrq-latn-pf",mrr:"mrr-deva-in",mrs:"mrs-latn-vu",mrt:"mrt-latn-ng",mru:"mru-latn-cm",mrv:"mrv-latn-pf",mrw:"mrw-latn-ph","mrw-arab":"mrw-arab-ph",mrx:"mrx-latn-id",mry:"mry-latn-ph",mrz:"mrz-latn-id",ms:"ms-latn-my","ms-cc":"ms-arab-cc",msb:"msb-latn-ph",msc:"msc-latn-gn",mse:"mse-latn-td",msf:"msf-latn-id",msg:"msg-latn-id",msh:"msh-latn-mg",msi:"msi-latn-my",msj:"msj-latn-cd",msk:"msk-latn-ph",msl:"msl-latn-id",msm:"msm-latn-ph",msn:"msn-latn-vu",mso:"mso-latn-id",msp:"msp-latn-br",msq:"msq-latn-nc",mss:"mss-latn-id",msu:"msu-latn-pg",msv:"msv-latn-cm",msw:"msw-latn-gw",msx:"msx-latn-pg",msy:"msy-latn-pg",msz:"msz-latn-pg",mt:"mt-latn-mt",mta:"mta-latn-ph",mtb:"mtb-latn-ci",mtc:"mtc-latn-zz",mtd:"mtd-latn-id",mte:"mte-latn-sb",mtf:"mtf-latn-zz",mtg:"mtg-latn-id",mth:"mth-latn-id",mti:"mti-latn-zz",mtj:"mtj-latn-id",mtk:"mtk-latn-cm",mtl:"mtl-latn-ng",mtm:"mtm-cyrl-ru",mtn:"mtn-latn-ni",mto:"mto-latn-mx",mtp:"mtp-latn-bo",mtq:"mtq-latn-vn",mtr:"mtr-deva-in",mts:"mts-latn-pe",mtt:"mtt-latn-vu",mtu:"mtu-latn-mx",mtv:"mtv-latn-pg",mtw:"mtw-latn-ph",mtx:"mtx-latn-mx",mty:"mty-latn-pg",mua:"mua-latn-cm",mub:"mub-latn-td",muc:"muc-latn-cm",mud:"mud-cyrl-ru",mue:"mue-latn-ec",mug:"mug-latn-cm",muh:"muh-latn-ss",mui:"mui-latn-id",muj:"muj-latn-td",muk:"muk-tibt-np",mum:"mum-latn-pg",muo:"muo-latn-cm",muq:"muq-latn-cn",mur:"mur-latn-zz",mus:"mus-latn-us",mut:"mut-deva-in",muu:"muu-latn-ke",muv:"muv-taml-in",mux:"mux-latn-pg",muy:"muy-latn-cm",muz:"muz-ethi-et","muz-latn":"muz-latn-et",mva:"mva-latn-zz",mvd:"mvd-latn-id",mvf:"mvf-mong-cn","mvf-phag":"mvf-phag-cn",mvg:"mvg-latn-mx",mvh:"mvh-latn-td",mvk:"mvk-latn-pg",mvl:"mvl-latn-au",mvn:"mvn-latn-zz",mvo:"mvo-latn-sb",mvp:"mvp-latn-id",mvq:"mvq-latn-pg",mvr:"mvr-latn-id",mvs:"mvs-latn-id",mvt:"mvt-latn-vu",mvu:"mvu-latn-td",mvv:"mvv-latn-my",mvw:"mvw-latn-tz",mvx:"mvx-latn-id",mvy:"mvy-arab-pk",mvz:"mvz-ethi-et","mvz-arab":"mvz-arab-et",mwa:"mwa-latn-pg",mwb:"mwb-latn-pg",mwc:"mwc-latn-pg",mwe:"mwe-latn-tz",mwf:"mwf-latn-au",mwg:"mwg-latn-pg",mwh:"mwh-latn-pg",mwi:"mwi-latn-vu",mwk:"mwk-latn-ml",mwl:"mwl-latn-pt",mwm:"mwm-latn-td",mwn:"mwn-latn-zm",mwo:"mwo-latn-vu",mwp:"mwp-latn-au",mwq:"mwq-latn-mm",mwr:"mwr-deva-in",mws:"mws-latn-ke",mwt:"mwt-mymr-mm","mwt-thai":"mwt-thai-th",mwu:"mwu-latn-ss",mwv:"mwv-latn-id",mww:"mww-hmnp-us",mwz:"mwz-latn-cd",mxa:"mxa-latn-mx",mxb:"mxb-latn-mx",mxc:"mxc-latn-zw",mxd:"mxd-latn-id",mxe:"mxe-latn-vu",mxf:"mxf-latn-cm",mxg:"mxg-latn-ao",mxh:"mxh-latn-cd",mxi:"mxi-latn-es",mxj:"mxj-latn-in",mxk:"mxk-latn-pg",mxl:"mxl-latn-bj",mxm:"mxm-latn-zz",mxn:"mxn-latn-id",mxo:"mxo-latn-zm",mxp:"mxp-latn-mx",mxq:"mxq-latn-mx",mxr:"mxr-latn-my",mxs:"mxs-latn-mx",mxt:"mxt-latn-mx",mxu:"mxu-latn-cm",mxv:"mxv-latn-mx",mxw:"mxw-latn-pg",mxx:"mxx-latn-ci",mxy:"mxy-latn-mx",mxz:"mxz-latn-id",my:"my-mymr-mm",myb:"myb-latn-td",myc:"myc-latn-cd",mye:"mye-latn-ga",myf:"myf-latn-et",myg:"myg-latn-cm",myh:"myh-latn-us",myj:"myj-latn-ss",myk:"myk-latn-zz",myl:"myl-latn-id",mym:"mym-ethi-zz",myp:"myp-latn-br",myr:"myr-latn-pe",myu:"myu-latn-br",myv:"myv-cyrl-ru",myw:"myw-latn-zz",myx:"myx-latn-ug",myy:"myy-latn-co",myz:"myz-mand-ir",mza:"mza-latn-mx",mzd:"mzd-latn-cm",mze:"mze-latn-pg",mzh:"mzh-latn-ar",mzi:"mzi-latn-mx",mzj:"mzj-latn-lr",mzk:"mzk-latn-zz",mzl:"mzl-latn-mx",mzm:"mzm-latn-zz",mzn:"mzn-arab-ir",mzo:"mzo-latn-br",mzp:"mzp-latn-zz",mzq:"mzq-latn-id",mzr:"mzr-latn-br",mzt:"mzt-latn-my",mzu:"mzu-latn-pg",mzv:"mzv-latn-cf",mzw:"mzw-latn-zz",mzx:"mzx-latn-gy",mzz:"mzz-latn-zz",na:"na-latn-nr",naa:"naa-latn-id",nab:"nab-latn-br",nac:"nac-latn-zz",nae:"nae-latn-id",naf:"naf-latn-zz",nag:"nag-latn-in",naj:"naj-latn-gn",nak:"nak-latn-zz",nal:"nal-latn-pg",nam:"nam-latn-au",nan:"nan-hans-cn",nao:"nao-deva-np",nap:"nap-latn-it",naq:"naq-latn-na",nar:"nar-latn-ng",nas:"nas-latn-zz",nat:"nat-latn-ng",naw:"naw-latn-gh",nax:"nax-latn-pg",nay:"nay-latn-au",naz:"naz-latn-mx",nb:"nb-latn-no",nba:"nba-latn-ao",nbb:"nbb-latn-ng",nbc:"nbc-latn-in",nbd:"nbd-latn-cd",nbe:"nbe-latn-in",nbh:"nbh-latn-ng",nbi:"nbi-latn-in",nbj:"nbj-latn-au",nbk:"nbk-latn-pg",nbm:"nbm-latn-cf",nbn:"nbn-latn-id",nbo:"nbo-latn-ng",nbp:"nbp-latn-ng",nbq:"nbq-latn-id",nbr:"nbr-latn-ng",nbt:"nbt-latn-in","nbt-deva":"nbt-deva-in",nbu:"nbu-latn-in",nbv:"nbv-latn-cm",nbw:"nbw-latn-cd",nby:"nby-latn-pg",nca:"nca-latn-zz",ncb:"ncb-latn-in","ncb-deva":"ncb-deva-in",ncc:"ncc-latn-pg",ncd:"ncd-deva-np",nce:"nce-latn-zz",ncf:"ncf-latn-zz",ncg:"ncg-latn-ca",nch:"nch-latn-mx",nci:"nci-latn-mx",ncj:"ncj-latn-mx",nck:"nck-latn-au",ncl:"ncl-latn-mx",ncm:"ncm-latn-pg",ncn:"ncn-latn-pg",nco:"nco-latn-zz",ncq:"ncq-laoo-la","ncq-thai":"ncq-thai-la",ncr:"ncr-latn-cm",nct:"nct-latn-in","nct-beng":"nct-beng-in",ncu:"ncu-latn-zz",ncx:"ncx-latn-mx",ncz:"ncz-latn-us",nd:"nd-latn-zw",nda:"nda-latn-cg",ndb:"ndb-latn-cm",ndc:"ndc-latn-mz",ndd:"ndd-latn-ng",ndf:"ndf-cyrl-ru",ndg:"ndg-latn-tz",ndh:"ndh-latn-tz",ndi:"ndi-latn-ng",ndj:"ndj-latn-tz",ndk:"ndk-latn-cd",ndl:"ndl-latn-cd",ndm:"ndm-latn-td",ndn:"ndn-latn-cg",ndp:"ndp-latn-ug",ndq:"ndq-latn-ao",ndr:"ndr-latn-ng",nds:"nds-latn-de",ndt:"ndt-latn-cd",ndu:"ndu-latn-cm",ndv:"ndv-latn-sn",ndw:"ndw-latn-cd",ndx:"ndx-latn-id",ndy:"ndy-latn-cf","ndy-td":"ndy-latn-td",ndz:"ndz-latn-ss",ne:"ne-deva-np",nea:"nea-latn-id",neb:"neb-latn-zz",nec:"nec-latn-id",ned:"ned-latn-ng",nee:"nee-latn-nc",neg:"neg-cyrl-ru",neh:"neh-tibt-bt",nei:"nei-xsux-tr",nej:"nej-latn-pg",nek:"nek-latn-nc",nem:"nem-latn-nc",nen:"nen-latn-nc",neo:"neo-latn-vn",neq:"neq-latn-mx",ner:"ner-latn-id",net:"net-latn-pg",neu:"neu-latn-001",new:"new-deva-np",nex:"nex-latn-zz",ney:"ney-latn-ci",nez:"nez-latn-us",nfa:"nfa-latn-id",nfd:"nfd-latn-ng",nfl:"nfl-latn-sb",nfr:"nfr-latn-zz",nfu:"nfu-latn-cm",ng:"ng-latn-na",nga:"nga-latn-zz",ngb:"ngb-latn-zz",ngc:"ngc-latn-cd",ngd:"ngd-latn-cf",nge:"nge-latn-cm",ngg:"ngg-latn-cf",ngh:"ngh-latn-za",ngi:"ngi-latn-ng",ngj:"ngj-latn-cm",ngk:"ngk-latn-au",ngl:"ngl-latn-mz",ngm:"ngm-latn-fm",ngn:"ngn-latn-cm",ngp:"ngp-latn-tz",ngq:"ngq-latn-tz",ngr:"ngr-latn-sb",ngs:"ngs-latn-ng",ngt:"ngt-laoo-la",ngu:"ngu-latn-mx",ngv:"ngv-latn-cm",ngw:"ngw-latn-ng",ngx:"ngx-latn-ng",ngy:"ngy-latn-cm",ngz:"ngz-latn-cg",nha:"nha-latn-au",nhb:"nhb-latn-zz",nhc:"nhc-latn-mx",nhd:"nhd-latn-py",nhe:"nhe-latn-mx",nhf:"nhf-latn-au",nhg:"nhg-latn-mx",nhi:"nhi-latn-mx",nhk:"nhk-latn-mx",nhm:"nhm-latn-mx",nhn:"nhn-latn-mx",nho:"nho-latn-pg",nhp:"nhp-latn-mx",nhq:"nhq-latn-mx",nhr:"nhr-latn-bw",nht:"nht-latn-mx",nhu:"nhu-latn-cm",nhv:"nhv-latn-mx",nhw:"nhw-latn-mx",nhx:"nhx-latn-mx",nhy:"nhy-latn-mx",nhz:"nhz-latn-mx",nia:"nia-latn-id",nib:"nib-latn-pg",nid:"nid-latn-au",nie:"nie-latn-td",nif:"nif-latn-zz",nig:"nig-latn-au",nih:"nih-latn-tz",nii:"nii-latn-zz",nij:"nij-latn-id",nil:"nil-latn-id",nim:"nim-latn-tz",nin:"nin-latn-zz",nio:"nio-cyrl-ru",niq:"niq-latn-ke",nir:"nir-latn-id",nis:"nis-latn-pg",nit:"nit-telu-in",niu:"niu-latn-nu",niv:"niv-cyrl-ru","niv-latn":"niv-latn-ru",niw:"niw-latn-pg",nix:"nix-latn-cd",niy:"niy-latn-zz",niz:"niz-latn-zz",nja:"nja-latn-ng",njb:"njb-latn-in",njd:"njd-latn-tz",njh:"njh-latn-in",nji:"nji-latn-au",njj:"njj-latn-cm",njl:"njl-latn-ss",njm:"njm-latn-in",njn:"njn-latn-in",njo:"njo-latn-in",njr:"njr-latn-ng",njs:"njs-latn-id",njt:"njt-latn-sr",nju:"nju-latn-au",njx:"njx-latn-cg",njy:"njy-latn-cm",njz:"njz-latn-in","njz-beng":"njz-beng-in",nka:"nka-latn-zm",nkb:"nkb-latn-in",nkc:"nkc-latn-cm",nkd:"nkd-latn-in",nke:"nke-latn-sb",nkf:"nkf-latn-in",nkg:"nkg-latn-zz",nkh:"nkh-latn-in",nki:"nki-latn-in","nki-beng":"nki-beng-in",nkj:"nkj-latn-id",nkk:"nkk-latn-vu",nkm:"nkm-latn-pg",nkn:"nkn-latn-ao",nko:"nko-latn-zz",nkq:"nkq-latn-gh",nkr:"nkr-latn-fm",nks:"nks-latn-id",nkt:"nkt-latn-tz",nku:"nku-latn-ci",nkv:"nkv-latn-mw",nkw:"nkw-latn-cd",nkx:"nkx-latn-ng",nkz:"nkz-latn-ng",nl:"nl-latn-nl",nla:"nla-latn-cm",nlc:"nlc-latn-id",nle:"nle-latn-ke",nlg:"nlg-latn-sb",nli:"nli-arab-af",nlj:"nlj-latn-cd",nlk:"nlk-latn-id",nlm:"nlm-arab-pk",nlo:"nlo-latn-cd",nlq:"nlq-latn-mm",nlu:"nlu-latn-gh",nlv:"nlv-latn-mx",nlw:"nlw-latn-au",nlx:"nlx-deva-in",nly:"nly-latn-au",nlz:"nlz-latn-sb",nma:"nma-latn-in",nmb:"nmb-latn-vu",nmc:"nmc-latn-td",nmd:"nmd-latn-ga",nme:"nme-latn-in",nmf:"nmf-latn-in",nmg:"nmg-latn-cm",nmh:"nmh-latn-in",nmi:"nmi-latn-ng",nmj:"nmj-latn-cf",nmk:"nmk-latn-vu",nml:"nml-latn-cm",nmm:"nmm-deva-np","nmm-tibt":"nmm-tibt-np",nmn:"nmn-latn-bw",nmo:"nmo-latn-in","nmo-beng":"nmo-beng-in",nmp:"nmp-latn-au",nmq:"nmq-latn-zw",nmr:"nmr-latn-cm",nms:"nms-latn-vu",nmt:"nmt-latn-fm",nmu:"nmu-latn-us",nmv:"nmv-latn-au",nmw:"nmw-latn-pg",nmx:"nmx-latn-pg",nmz:"nmz-latn-zz",nn:"nn-latn-no",nna:"nna-latn-au",nnb:"nnb-latn-cd",nnc:"nnc-latn-td",nnd:"nnd-latn-vu",nne:"nne-latn-ao",nnf:"nnf-latn-zz",nng:"nng-latn-in","nng-beng":"nng-beng-in",nnh:"nnh-latn-cm",nni:"nni-latn-id",nnj:"nnj-latn-et",nnk:"nnk-latn-zz",nnl:"nnl-latn-in",nnm:"nnm-latn-zz",nnn:"nnn-latn-td",nnp:"nnp-wcho-in",nnq:"nnq-latn-tz",nnr:"nnr-latn-au",nnt:"nnt-latn-us",nnu:"nnu-latn-gh",nnv:"nnv-latn-au",nnw:"nnw-latn-bf",nny:"nny-latn-au",nnz:"nnz-latn-cm",no:"no-latn-no",noa:"noa-latn-co",noc:"noc-latn-pg",nod:"nod-lana-th",noe:"noe-deva-in",nof:"nof-latn-pg",nog:"nog-cyrl-ru",noh:"noh-latn-pg",noi:"noi-deva-in",noj:"noj-latn-co",nok:"nok-latn-us",nom:"nom-latn-pe",non:"non-runr-se",nop:"nop-latn-zz",noq:"noq-latn-cd",nos:"nos-yiii-cn",not:"not-latn-pe",nou:"nou-latn-zz",nov:"nov-latn-001",now:"now-latn-tz",noy:"noy-latn-td",npb:"npb-tibt-bt",npg:"npg-latn-mm",nph:"nph-latn-in",npl:"npl-latn-mx",npn:"npn-latn-pg",npo:"npo-latn-in",nps:"nps-latn-id",npu:"npu-latn-in",npx:"npx-latn-sb",npy:"npy-latn-id",nqg:"nqg-latn-bj",nqk:"nqk-latn-bj",nql:"nql-latn-ao",nqm:"nqm-latn-id",nqn:"nqn-latn-pg",nqo:"nqo-nkoo-gn",nqq:"nqq-latn-mm",nqt:"nqt-latn-ng",nqy:"nqy-latn-mm",nr:"nr-latn-za",nra:"nra-latn-ga",nrb:"nrb-latn-zz",nre:"nre-latn-in",nrf:"nrf-latn-je",nrg:"nrg-latn-vu",nri:"nri-latn-in",nrk:"nrk-latn-au",nrl:"nrl-latn-au",nrm:"nrm-latn-my",nrp:"nrp-latn-it",nru:"nru-latn-cn","nru-hans":"nru-hans-cn","nru-hant":"nru-hant-cn",nrx:"nrx-latn-au",nrz:"nrz-latn-pg",nsa:"nsa-latn-in",nsb:"nsb-latn-za",nsc:"nsc-latn-ng",nsd:"nsd-yiii-cn",nse:"nse-latn-zm",nsf:"nsf-yiii-cn",nsg:"nsg-latn-tz",nsh:"nsh-latn-cm",nsk:"nsk-cans-ca",nsm:"nsm-latn-in",nsn:"nsn-latn-zz",nso:"nso-latn-za",nsq:"nsq-latn-us",nss:"nss-latn-zz",nst:"nst-tnsa-in",nsu:"nsu-latn-mx",nsv:"nsv-yiii-cn",nsw:"nsw-latn-vu",nsx:"nsx-latn-ao",nsy:"nsy-latn-id",nsz:"nsz-latn-us",ntd:"ntd-latn-my",nte:"nte-latn-mz",ntg:"ntg-latn-au",nti:"nti-latn-bf",ntj:"ntj-latn-au",ntk:"ntk-latn-tz",ntm:"ntm-latn-zz",nto:"nto-latn-cd",ntp:"ntp-latn-mx",ntr:"ntr-latn-zz",ntu:"ntu-latn-sb",ntx:"ntx-latn-mm",nty:"nty-yiii-vn",ntz:"ntz-arab-ir",nua:"nua-latn-nc",nuc:"nuc-latn-br",nud:"nud-latn-pg",nue:"nue-latn-cd",nuf:"nuf-latn-cn",nug:"nug-latn-au",nuh:"nuh-latn-ng",nui:"nui-latn-zz",nuj:"nuj-latn-ug",nuk:"nuk-latn-ca",num:"num-latn-to",nun:"nun-latn-mm",nuo:"nuo-latn-vn",nup:"nup-latn-zz",nuq:"nuq-latn-pg",nur:"nur-latn-pg",nus:"nus-latn-ss",nut:"nut-latn-vn",nuu:"nuu-latn-cd",nuv:"nuv-latn-zz",nuw:"nuw-latn-fm",nux:"nux-latn-zz",nuy:"nuy-latn-au",nuz:"nuz-latn-mx",nv:"nv-latn-us",nvh:"nvh-latn-vu",nvm:"nvm-latn-pg",nvo:"nvo-latn-cm",nwb:"nwb-latn-zz",nwc:"nwc-newa-np","nwc-brah":"nwc-brah-np","nwc-deva":"nwc-deva-np","nwc-sidd":"nwc-sidd-np",nwe:"nwe-latn-cm",nwg:"nwg-latn-au",nwi:"nwi-latn-vu",nwm:"nwm-latn-ss",nwo:"nwo-latn-au",nwr:"nwr-latn-pg",nww:"nww-latn-tz",nwx:"nwx-deva-np",nxa:"nxa-latn-tl",nxd:"nxd-latn-cd",nxe:"nxe-latn-id",nxg:"nxg-latn-id",nxi:"nxi-latn-tz",nxl:"nxl-latn-id",nxn:"nxn-latn-au",nxo:"nxo-latn-ga",nxq:"nxq-latn-cn",nxr:"nxr-latn-zz",nxx:"nxx-latn-id",ny:"ny-latn-mw",nyb:"nyb-latn-gh",nyc:"nyc-latn-cd",nyd:"nyd-latn-ke",nye:"nye-latn-ao",nyf:"nyf-latn-ke",nyg:"nyg-latn-cd",nyh:"nyh-latn-au",nyi:"nyi-latn-sd",nyj:"nyj-latn-cd",nyk:"nyk-latn-ao",nyl:"nyl-thai-th",nym:"nym-latn-tz",nyn:"nyn-latn-ug",nyo:"nyo-latn-ug",nyp:"nyp-latn-ug",nyq:"nyq-arab-ir",nyr:"nyr-latn-mw",nys:"nys-latn-au",nyt:"nyt-latn-au",nyu:"nyu-latn-mz",nyv:"nyv-latn-au",nyx:"nyx-latn-au",nyy:"nyy-latn-tz",nza:"nza-latn-cm",nzb:"nzb-latn-ga",nzd:"nzd-latn-cd",nzi:"nzi-latn-gh",nzk:"nzk-latn-cf",nzm:"nzm-latn-in",nzu:"nzu-latn-cg",nzy:"nzy-latn-td",nzz:"nzz-latn-ml",oaa:"oaa-cyrl-ru",oac:"oac-cyrl-ru",oar:"oar-syrc-sy",oav:"oav-geor-ge",obi:"obi-latn-us",obk:"obk-latn-ph",obl:"obl-latn-cm",obm:"obm-phnx-jo",obo:"obo-latn-ph",obr:"obr-mymr-mm",obt:"obt-latn-fr",obu:"obu-latn-ng",oc:"oc-latn-fr",oca:"oca-latn-pe",oco:"oco-latn-gb",ocu:"ocu-latn-mx",oda:"oda-latn-ng",odk:"odk-arab-pk",odt:"odt-latn-nl",odu:"odu-latn-ng",ofu:"ofu-latn-ng",ogb:"ogb-latn-ng",ogc:"ogc-latn-zz",ogg:"ogg-latn-ng",ogo:"ogo-latn-ng",ogu:"ogu-latn-ng",oht:"oht-xsux-tr",oia:"oia-latn-id",oie:"oie-latn-ss",oin:"oin-latn-pg",oj:"oj-cans-ca",ojb:"ojb-latn-ca","ojb-cans":"ojb-cans-ca",ojc:"ojc-latn-ca",ojs:"ojs-cans-ca",ojv:"ojv-latn-sb",ojw:"ojw-latn-ca","ojw-cans":"ojw-cans-ca",oka:"oka-latn-ca",okb:"okb-latn-ng",okc:"okc-latn-cd",okd:"okd-latn-ng",oke:"oke-latn-ng",okg:"okg-latn-au",oki:"oki-latn-ke",okk:"okk-latn-pg",okm:"okm-hang-kr",oko:"oko-hani-kr",okr:"okr-latn-zz",oks:"oks-latn-ng",oku:"oku-latn-cm",okv:"okv-latn-zz",okx:"okx-latn-ng",okz:"okz-khmr-kh",ola:"ola-deva-np","ola-tibt":"ola-tibt-cn",old:"old-latn-tz",ole:"ole-tibt-bt",olk:"olk-latn-au",olm:"olm-latn-ng",olo:"olo-latn-ru",olr:"olr-latn-vu",olt:"olt-latn-lt",olu:"olu-latn-ao",om:"om-latn-et",oma:"oma-latn-us",omb:"omb-latn-vu",omc:"omc-latn-pe",omg:"omg-latn-pe",omi:"omi-latn-cd",omk:"omk-cyrl-ru",oml:"oml-latn-cd",omo:"omo-latn-pg",omp:"omp-mtei-in",omr:"omr-modi-in",omt:"omt-latn-ke",omu:"omu-latn-pe",omw:"omw-latn-pg",ona:"ona-latn-ar",one:"one-latn-ca",ong:"ong-latn-zz",oni:"oni-latn-id",onj:"onj-latn-pg",onk:"onk-latn-pg",onn:"onn-latn-zz",ono:"ono-latn-ca",onp:"onp-latn-in","onp-deva":"onp-deva-in",onr:"onr-latn-pg",ons:"ons-latn-zz",ont:"ont-latn-pg",onu:"onu-latn-vu",onx:"onx-latn-id",ood:"ood-latn-us",oon:"oon-deva-in",oor:"oor-latn-za",opa:"opa-latn-ng",opk:"opk-latn-id",opm:"opm-latn-zz",opo:"opo-latn-pg",opt:"opt-latn-mx",opy:"opy-latn-br",or:"or-orya-in",ora:"ora-latn-sb",orc:"orc-latn-ke",ore:"ore-latn-pe",org:"org-latn-ng",orn:"orn-latn-my",oro:"oro-latn-zz",orr:"orr-latn-ng",ors:"ors-latn-my",ort:"ort-telu-in",oru:"oru-arab-zz",orv:"orv-cyrl-ru",orw:"orw-latn-br",orx:"orx-latn-ng",orz:"orz-latn-id",os:"os-cyrl-ge",osa:"osa-osge-us",osc:"osc-ital-it","osc-latn":"osc-latn-it",osi:"osi-java-id",oso:"oso-latn-ng",osp:"osp-latn-es",ost:"ost-latn-cm",osu:"osu-latn-pg",osx:"osx-latn-de",ota:"ota-arab-zz",otb:"otb-tibt-cn",otd:"otd-latn-id",ote:"ote-latn-mx",oti:"oti-latn-br",otk:"otk-orkh-mn",otl:"otl-latn-mx",otm:"otm-latn-mx",otn:"otn-latn-mx",otq:"otq-latn-mx",otr:"otr-latn-sd",ots:"ots-latn-mx",ott:"ott-latn-mx",otu:"otu-latn-br",otw:"otw-latn-ca",otx:"otx-latn-mx",oty:"oty-gran-in",otz:"otz-latn-mx",oub:"oub-latn-lr",oue:"oue-latn-pg",oui:"oui-ougr-143",oum:"oum-latn-pg",ovd:"ovd-latn-se",owi:"owi-latn-pg",owl:"owl-latn-gb",oyd:"oyd-latn-et",oym:"oym-latn-br",oyy:"oyy-latn-pg",ozm:"ozm-latn-zz",pa:"pa-guru-in","pa-arab":"pa-arab-pk","pa-pk":"pa-arab-pk",pab:"pab-latn-br",pac:"pac-latn-vn",pad:"pad-latn-br",pae:"pae-latn-cd",paf:"paf-latn-br",pag:"pag-latn-ph",pah:"pah-latn-br",pai:"pai-latn-ng",pak:"pak-latn-br",pal:"pal-phli-ir","pal-phlp":"pal-phlp-cn",pam:"pam-latn-ph",pao:"pao-latn-us",pap:"pap-latn-cw",paq:"paq-cyrl-tj",par:"par-latn-us",pas:"pas-latn-id",pau:"pau-latn-pw",pav:"pav-latn-br",paw:"paw-latn-us",pax:"pax-latn-br",pay:"pay-latn-hn",paz:"paz-latn-br",pbb:"pbb-latn-co",pbc:"pbc-latn-gy",pbe:"pbe-latn-mx",pbf:"pbf-latn-mx",pbg:"pbg-latn-ve",pbh:"pbh-latn-ve",pbi:"pbi-latn-zz",pbl:"pbl-latn-ng",pbm:"pbm-latn-mx",pbn:"pbn-latn-ng",pbo:"pbo-latn-gw",pbp:"pbp-latn-gn",pbr:"pbr-latn-tz",pbs:"pbs-latn-mx",pbt:"pbt-arab-af",pbv:"pbv-latn-in",pby:"pby-latn-pg",pca:"pca-latn-mx",pcb:"pcb-khmr-kh",pcc:"pcc-latn-cn","pcc-hani":"pcc-hani-cn",pcd:"pcd-latn-fr",pce:"pce-mymr-mm","pce-thai":"pce-thai-th",pcf:"pcf-mlym-in",pcg:"pcg-mlym-in","pcg-knda":"pcg-knda-in","pcg-taml":"pcg-taml-in",pch:"pch-deva-in",pci:"pci-deva-in","pci-orya":"pci-orya-in",pcj:"pcj-telu-in",pck:"pck-latn-in",pcm:"pcm-latn-ng",pcn:"pcn-latn-ng",pcp:"pcp-latn-bo",pcw:"pcw-latn-ng",pda:"pda-latn-pg",pdc:"pdc-latn-us",pdn:"pdn-latn-id",pdo:"pdo-latn-id",pdt:"pdt-latn-ca",pdu:"pdu-latn-mm","pdu-mymr":"pdu-mymr-mm",pea:"pea-latn-id",peb:"peb-latn-us",ped:"ped-latn-zz",pee:"pee-latn-id",peg:"peg-orya-in",pei:"pei-latn-mx",pek:"pek-latn-pg",pel:"pel-latn-id",pem:"pem-latn-cd",peo:"peo-xpeo-ir",pep:"pep-latn-pg",peq:"peq-latn-us",pev:"pev-latn-ve",pex:"pex-latn-zz",pey:"pey-latn-id",pez:"pez-latn-my",pfa:"pfa-latn-fm",pfe:"pfe-latn-cm",pfl:"pfl-latn-de",pga:"pga-latn-ss",pgd:"pgd-khar-pk",pgg:"pgg-deva-in",pgi:"pgi-latn-pg",pgk:"pgk-latn-vu",pgl:"pgl-ogam-ie",pgn:"pgn-ital-it",pgs:"pgs-latn-ng",pgu:"pgu-latn-id",phd:"phd-deva-in",phg:"phg-latn-vn",phh:"phh-latn-vn",phk:"phk-mymr-in",phl:"phl-arab-zz",phm:"phm-latn-mz",phn:"phn-phnx-lb",pho:"pho-laoo-la",phr:"phr-arab-pk",pht:"pht-thai-th",phv:"phv-arab-af",phw:"phw-deva-np",pi:"pi-sinh-in","pi-brah":"pi-brah-in","pi-deva":"pi-deva-in","pi-khar":"pi-khar-in","pi-khmr":"pi-khmr-in","pi-mymr":"pi-mymr-in","pi-thai":"pi-thai-in",pia:"pia-latn-mx",pib:"pib-latn-pe",pic:"pic-latn-ga",pid:"pid-latn-ve",pif:"pif-latn-fm",pig:"pig-latn-pe",pih:"pih-latn-nf",pij:"pij-latn-co",pil:"pil-latn-zz",pim:"pim-latn-us",pin:"pin-latn-pg",pio:"pio-latn-co",pip:"pip-latn-zz",pir:"pir-latn-br",pis:"pis-latn-sb",pit:"pit-latn-au",piu:"piu-latn-au",piv:"piv-latn-sb",piw:"piw-latn-tz",pix:"pix-latn-pg",piy:"piy-latn-ng",piz:"piz-latn-nc",pjt:"pjt-latn-au",pka:"pka-brah-in",pkb:"pkb-latn-ke",pkg:"pkg-latn-pg",pkh:"pkh-latn-bd","pkh-deva":"pkh-deva-bd",pkn:"pkn-latn-au",pko:"pko-latn-ke",pkp:"pkp-latn-ck",pkr:"pkr-mlym-in",pku:"pku-latn-id",pl:"pl-latn-pl",pla:"pla-latn-zz",plb:"plb-latn-vu",plc:"plc-latn-ph",pld:"pld-latn-gb",ple:"ple-latn-id",plg:"plg-latn-ar",plh:"plh-latn-id",plj:"plj-latn-ng",plk:"plk-arab-pk",pll:"pll-mymr-mm",pln:"pln-latn-co",plo:"plo-latn-mx",plr:"plr-latn-ci",pls:"pls-latn-mx",plu:"plu-latn-br",plv:"plv-latn-ph",plw:"plw-latn-ph",plz:"plz-latn-my",pma:"pma-latn-vu",pmb:"pmb-latn-cd",pmd:"pmd-latn-au",pme:"pme-latn-nc",pmf:"pmf-latn-id",pmh:"pmh-brah-in",pmi:"pmi-latn-cn",pmj:"pmj-latn-cn",pml:"pml-latn-tn",pmm:"pmm-latn-cm",pmn:"pmn-latn-cm",pmo:"pmo-latn-id",pmq:"pmq-latn-mx",pmr:"pmr-latn-pg",pms:"pms-latn-it",pmt:"pmt-latn-pf",pmw:"pmw-latn-us",pmx:"pmx-latn-in",pmy:"pmy-latn-id",pmz:"pmz-latn-mx",pna:"pna-latn-my",pnc:"pnc-latn-id",pnd:"pnd-latn-ao",pne:"pne-latn-my",png:"png-latn-zz",pnh:"pnh-latn-ck",pni:"pni-latn-id",pnj:"pnj-latn-au",pnk:"pnk-latn-bo",pnl:"pnl-latn-bf",pnm:"pnm-latn-my",pnn:"pnn-latn-zz",pno:"pno-latn-pe",pnp:"pnp-latn-id",pnq:"pnq-latn-bf",pnr:"pnr-latn-pg",pns:"pns-latn-id",pnt:"pnt-grek-gr",pnv:"pnv-latn-au",pnw:"pnw-latn-au",pny:"pny-latn-cm",pnz:"pnz-latn-cf",poc:"poc-latn-gt",poe:"poe-latn-mx",pof:"pof-latn-cd",pog:"pog-latn-br",poh:"poh-latn-gt",poi:"poi-latn-mx",pok:"pok-latn-br",pom:"pom-latn-us",pon:"pon-latn-fm",poo:"poo-latn-us",pop:"pop-latn-nc",poq:"poq-latn-mx",pos:"pos-latn-mx",pot:"pot-latn-us",pov:"pov-latn-gw",pow:"pow-latn-mx",poy:"poy-latn-tz",ppa:"ppa-deva-in",ppe:"ppe-latn-pg",ppi:"ppi-latn-mx",ppk:"ppk-latn-id",ppl:"ppl-latn-sv",ppm:"ppm-latn-id",ppn:"ppn-latn-pg",ppo:"ppo-latn-zz",ppp:"ppp-latn-cd",ppq:"ppq-latn-pg",pps:"pps-latn-mx",ppt:"ppt-latn-pg",pqa:"pqa-latn-ng",pqm:"pqm-latn-ca",pra:"pra-khar-pk",prc:"prc-arab-af",prd:"prd-arab-ir",pre:"pre-latn-st",prf:"prf-latn-ph",prg:"prg-latn-001",prh:"prh-latn-ph",pri:"pri-latn-nc",prk:"prk-latn-mm",prm:"prm-latn-pg",pro:"pro-latn-fr",prp:"prp-gujr-in",prq:"prq-latn-pe",prr:"prr-latn-br",prt:"prt-thai-th",pru:"pru-latn-id",prw:"prw-latn-pg",prx:"prx-arab-in","prx-tibt":"prx-tibt-in",ps:"ps-arab-af",psa:"psa-latn-id",pse:"pse-latn-id",psh:"psh-arab-af",psi:"psi-arab-af",psm:"psm-latn-bo",psn:"psn-latn-id",psq:"psq-latn-pg",pss:"pss-latn-zz",pst:"pst-arab-pk",psw:"psw-latn-vu",pt:"pt-latn-br",pta:"pta-latn-py",pth:"pth-latn-br",pti:"pti-latn-au",ptn:"ptn-latn-id",pto:"pto-latn-br",ptp:"ptp-latn-zz",ptr:"ptr-latn-vu",ptt:"ptt-latn-id",ptu:"ptu-latn-id",ptv:"ptv-latn-vu",pua:"pua-latn-mx",pub:"pub-latn-in",puc:"puc-latn-id",pud:"pud-latn-id",pue:"pue-latn-ar",puf:"puf-latn-id",pug:"pug-latn-bf",pui:"pui-latn-co",puj:"puj-latn-id",pum:"pum-deva-np",puo:"puo-latn-vn",pup:"pup-latn-pg",puq:"puq-latn-pe",pur:"pur-latn-br",put:"put-latn-id",puu:"puu-latn-ga",puw:"puw-latn-fm",pux:"pux-latn-pg",puy:"puy-latn-us",pwa:"pwa-latn-zz",pwb:"pwb-latn-ng",pwg:"pwg-latn-pg",pwm:"pwm-latn-ph",pwn:"pwn-latn-tw",pwo:"pwo-mymr-mm",pwr:"pwr-deva-in",pww:"pww-thai-th",pxm:"pxm-latn-mx",pye:"pye-latn-ci",pym:"pym-latn-ng",pyn:"pyn-latn-br",pyu:"pyu-latn-tw","pyu-hani":"pyu-hani-tw",pyx:"pyx-mymr-mm",pyy:"pyy-latn-mm",pzh:"pzh-latn-tw",pzn:"pzn-latn-mm",qu:"qu-latn-pe",qua:"qua-latn-us",qub:"qub-latn-pe",quc:"quc-latn-gt",qud:"qud-latn-ec",quf:"quf-latn-pe",qug:"qug-latn-ec",qui:"qui-latn-us",quk:"quk-latn-pe",qul:"qul-latn-bo",qum:"qum-latn-gt",qun:"qun-latn-us",qup:"qup-latn-pe",quq:"quq-latn-es",qur:"qur-latn-pe",qus:"qus-latn-ar",quv:"quv-latn-gt",quw:"quw-latn-ec",qux:"qux-latn-pe",quy:"quy-latn-pe",qva:"qva-latn-pe",qvc:"qvc-latn-pe",qve:"qve-latn-pe",qvh:"qvh-latn-pe",qvi:"qvi-latn-ec",qvj:"qvj-latn-ec",qvl:"qvl-latn-pe",qvm:"qvm-latn-pe",qvn:"qvn-latn-pe",qvo:"qvo-latn-pe",qvp:"qvp-latn-pe",qvs:"qvs-latn-pe",qvw:"qvw-latn-pe",qvz:"qvz-latn-ec",qwa:"qwa-latn-pe",qwc:"qwc-latn-pe",qwh:"qwh-latn-pe",qwm:"qwm-latn-ru","qwm-cyrl":"qwm-cyrl-ru","qwm-runr":"qwm-runr-ru",qws:"qws-latn-pe",qwt:"qwt-latn-us",qxa:"qxa-latn-pe",qxc:"qxc-latn-pe",qxh:"qxh-latn-pe",qxl:"qxl-latn-ec",qxn:"qxn-latn-pe",qxo:"qxo-latn-pe",qxp:"qxp-latn-pe",qxq:"qxq-arab-ir",qxr:"qxr-latn-ec",qxt:"qxt-latn-pe",qxu:"qxu-latn-pe",qxw:"qxw-latn-pe",qya:"qya-latn-001",qyp:"qyp-latn-us",raa:"raa-deva-np",rab:"rab-deva-np",rac:"rac-latn-id",rad:"rad-latn-vn",raf:"raf-deva-np",rag:"rag-latn-ke",rah:"rah-beng-in","rah-latn":"rah-latn-in",rai:"rai-latn-zz",raj:"raj-deva-in",rak:"rak-latn-pg",ram:"ram-latn-br",ran:"ran-latn-id",rao:"rao-latn-zz",rap:"rap-latn-cl",rar:"rar-latn-ck",rav:"rav-deva-np",raw:"raw-latn-mm",rax:"rax-latn-ng",ray:"ray-latn-pf",raz:"raz-latn-id",rbb:"rbb-mymr-mm",rbk:"rbk-latn-ph",rbl:"rbl-latn-ph",rbp:"rbp-latn-au",rcf:"rcf-latn-re",rdb:"rdb-arab-ir",rea:"rea-latn-pg",reb:"reb-latn-id",ree:"ree-latn-my",reg:"reg-latn-tz",rei:"rei-orya-in","rei-telu":"rei-telu-in",rej:"rej-latn-id",rel:"rel-latn-zz",rem:"rem-latn-pe",ren:"ren-latn-vn",res:"res-latn-zz",ret:"ret-latn-id",rey:"rey-latn-bo",rga:"rga-latn-vu",rgn:"rgn-latn-it",rgr:"rgr-latn-pe",rgs:"rgs-latn-vn",rgu:"rgu-latn-id",rhg:"rhg-rohg-mm",rhp:"rhp-latn-pg",ria:"ria-latn-in",rif:"rif-latn-ma",ril:"ril-latn-mm",rim:"rim-latn-tz",rin:"rin-latn-ng",rir:"rir-latn-id",rit:"rit-latn-au",riu:"riu-latn-id",rjg:"rjg-latn-id",rji:"rji-deva-np",rjs:"rjs-deva-np",rka:"rka-khmr-kh",rkb:"rkb-latn-br",rkh:"rkh-latn-ck",rki:"rki-mymr-mm",rkm:"rkm-latn-bf",rkt:"rkt-beng-bd",rkw:"rkw-latn-au",rm:"rm-latn-ch",rma:"rma-latn-ni",rmb:"rmb-latn-au",rmc:"rmc-latn-sk",rmd:"rmd-latn-dk",rme:"rme-latn-gb",rmf:"rmf-latn-fi",rmg:"rmg-latn-no",rmh:"rmh-latn-id",rmi:"rmi-armn-am",rmk:"rmk-latn-pg",rml:"rml-latn-pl","rml-cyrl":"rml-cyrl-by",rmm:"rmm-latn-id",rmn:"rmn-latn-rs","rmn-cyrl":"rmn-cyrl-bg","rmn-grek":"rmn-grek-gr",rmo:"rmo-latn-ch",rmp:"rmp-latn-pg",rmq:"rmq-latn-es",rmt:"rmt-arab-ir",rmu:"rmu-latn-se",rmw:"rmw-latn-gb",rmx:"rmx-latn-vn",rmz:"rmz-mymr-in",rn:"rn-latn-bi",rna:"rna-latn-zz",rnd:"rnd-latn-cd",rng:"rng-latn-mz",rnl:"rnl-latn-in",rnn:"rnn-latn-id",rnr:"rnr-latn-au",rnw:"rnw-latn-tz",ro:"ro-latn-ro",rob:"rob-latn-id",roc:"roc-latn-vn",rod:"rod-latn-ng",roe:"roe-latn-pg",rof:"rof-latn-tz",rog:"rog-latn-vn",rol:"rol-latn-ph",rom:"rom-latn-ro","rom-cyrl":"rom-cyrl-ro",roo:"roo-latn-zz",rop:"rop-latn-au",ror:"ror-latn-id",rou:"rou-latn-td",row:"row-latn-id",rpn:"rpn-latn-vu",rpt:"rpt-latn-pg",rri:"rri-latn-sb",rro:"rro-latn-zz",rrt:"rrt-latn-au",rsk:"rsk-cyrl-rs",rtc:"rtc-latn-mm",rth:"rth-latn-id",rtm:"rtm-latn-fj",rtw:"rtw-deva-in",ru:"ru-cyrl-ru",rub:"rub-latn-ug",ruc:"ruc-latn-ug",rue:"rue-cyrl-ua",ruf:"ruf-latn-tz",rug:"rug-latn-sb",rui:"rui-latn-tz",ruk:"ruk-latn-ng",ruo:"ruo-latn-hr",rup:"rup-latn-ro","rup-grek":"rup-grek-gr",ruq:"ruq-latn-gr",rut:"rut-cyrl-ru","rut-latn":"rut-latn-az",ruu:"ruu-latn-my",ruy:"ruy-latn-ng",ruz:"ruz-latn-ng",rw:"rw-latn-rw",rwa:"rwa-latn-pg",rwk:"rwk-latn-tz",rwl:"rwl-latn-tz",rwm:"rwm-latn-ug",rwo:"rwo-latn-zz",rwr:"rwr-deva-in",rxd:"rxd-latn-au",rxw:"rxw-latn-au",ryu:"ryu-kana-jp",sa:"sa-deva-in",saa:"saa-latn-td",sab:"sab-latn-pa",sac:"sac-latn-us",sad:"sad-latn-tz",sae:"sae-latn-br",saf:"saf-latn-gh",sah:"sah-cyrl-ru",saj:"saj-latn-id",sak:"sak-latn-ga",sam:"sam-samr-ps","sam-hebr":"sam-hebr-ps","sam-syrc":"sam-syrc-ps",sao:"sao-latn-id",saq:"saq-latn-ke",sar:"sar-latn-bo",sas:"sas-latn-id",sat:"sat-olck-in",sau:"sau-latn-id",sav:"sav-latn-sn",saw:"saw-latn-id",sax:"sax-latn-vu",say:"say-latn-ng",saz:"saz-saur-in",sba:"sba-latn-zz",sbb:"sbb-latn-sb",sbc:"sbc-latn-pg",sbd:"sbd-latn-bf",sbe:"sbe-latn-zz",sbg:"sbg-latn-id",sbh:"sbh-latn-pg",sbi:"sbi-latn-pg",sbj:"sbj-latn-td",sbk:"sbk-latn-tz",sbl:"sbl-latn-ph",sbm:"sbm-latn-tz",sbn:"sbn-arab-pk",sbo:"sbo-latn-my",sbp:"sbp-latn-tz",sbq:"sbq-latn-pg",sbr:"sbr-latn-id",sbs:"sbs-latn-na",sbt:"sbt-latn-id",sbu:"sbu-tibt-in","sbu-deva":"sbu-deva-in",sbv:"sbv-latn-it",sbw:"sbw-latn-ga",sbx:"sbx-latn-id",sby:"sby-latn-zm",sbz:"sbz-latn-cf",sc:"sc-latn-it",scb:"scb-latn-vn",sce:"sce-latn-cn","sce-arab":"sce-arab-cn",scf:"scf-latn-pa",scg:"scg-latn-id",sch:"sch-latn-in",sci:"sci-latn-lk",sck:"sck-deva-in",scl:"scl-arab-zz",scn:"scn-latn-it",sco:"sco-latn-gb",scp:"scp-deva-np",scs:"scs-latn-ca","scs-cans":"scs-cans-ca",sct:"sct-laoo-la",scu:"scu-takr-in",scv:"scv-latn-ng",scw:"scw-latn-ng",scx:"scx-grek-it",sd:"sd-arab-pk","sd-deva":"sd-deva-in","sd-in":"sd-deva-in","sd-khoj":"sd-khoj-in","sd-sind":"sd-sind-in",sda:"sda-latn-id",sdb:"sdb-arab-iq",sdc:"sdc-latn-it",sde:"sde-latn-ng",sdf:"sdf-arab-iq",sdg:"sdg-arab-af",sdh:"sdh-arab-ir",sdj:"sdj-latn-cg",sdk:"sdk-latn-pg",sdn:"sdn-latn-it",sdo:"sdo-latn-my",sdq:"sdq-latn-id",sds:"sds-arab-tn",sdu:"sdu-latn-id",sdx:"sdx-latn-my",se:"se-latn-no",sea:"sea-latn-my",seb:"seb-latn-ci",sec:"sec-latn-ca",sed:"sed-latn-vn",see:"see-latn-us",sef:"sef-latn-ci",seg:"seg-latn-tz",seh:"seh-latn-mz",sei:"sei-latn-mx",sej:"sej-latn-pg",sek:"sek-latn-ca","sek-cans":"sek-cans-ca",sel:"sel-cyrl-ru",sen:"sen-latn-bf",seo:"seo-latn-pg",sep:"sep-latn-bf",seq:"seq-latn-bf",ser:"ser-latn-us",ses:"ses-latn-ml",set:"set-latn-id",seu:"seu-latn-id",sev:"sev-latn-ci",sew:"sew-latn-pg",sey:"sey-latn-ec",sez:"sez-latn-mm",sfe:"sfe-latn-ph",sfm:"sfm-plrd-cn",sfw:"sfw-latn-gh",sg:"sg-latn-cf",sga:"sga-ogam-ie",sgb:"sgb-latn-ph",sgc:"sgc-latn-ke",sgd:"sgd-latn-ph",sge:"sge-latn-id",sgh:"sgh-cyrl-tj","sgh-arab":"sgh-arab-af","sgh-latn":"sgh-latn-tj",sgi:"sgi-latn-cm",sgj:"sgj-deva-in",sgm:"sgm-latn-ke",sgp:"sgp-latn-in",sgr:"sgr-arab-ir",sgs:"sgs-latn-lt",sgt:"sgt-tibt-bt",sgu:"sgu-latn-id",sgw:"sgw-ethi-zz",sgy:"sgy-arab-af",sgz:"sgz-latn-zz",sha:"sha-latn-ng",shb:"shb-latn-br",shc:"shc-latn-cd",shd:"shd-arab-pk",she:"she-latn-et",shg:"shg-latn-bw",shh:"shh-latn-us",shi:"shi-tfng-ma",shj:"shj-latn-sd",shk:"shk-latn-zz",shm:"shm-arab-ir",shn:"shn-mymr-mm",sho:"sho-latn-ng",shp:"shp-latn-pe",shq:"shq-latn-zm",shr:"shr-latn-cd",shs:"shs-latn-ca",sht:"sht-latn-us",shu:"shu-arab-zz",shv:"shv-arab-om",shw:"shw-latn-sd",shy:"shy-latn-dz","shy-arab":"shy-arab-dz","shy-tfng":"shy-tfng-dz",shz:"shz-latn-ml",si:"si-sinh-lk",sia:"sia-cyrl-ru",sib:"sib-latn-my",sid:"sid-latn-et",sie:"sie-latn-zm",sif:"sif-latn-bf",sig:"sig-latn-zz",sih:"sih-latn-nc",sii:"sii-latn-in",sij:"sij-latn-pg",sik:"sik-latn-br",sil:"sil-latn-zz",sim:"sim-latn-zz",sip:"sip-tibt-in",siq:"siq-latn-pg",sir:"sir-latn-ng",sis:"sis-latn-us",siu:"siu-latn-pg",siv:"siv-latn-pg",siw:"siw-latn-pg",six:"six-latn-pg",siy:"siy-arab-ir",siz:"siz-arab-eg",sja:"sja-latn-co",sjb:"sjb-latn-id",sjd:"sjd-cyrl-ru",sje:"sje-latn-se",sjg:"sjg-latn-td",sjl:"sjl-latn-in",sjm:"sjm-latn-ph",sjp:"sjp-deva-in","sjp-beng":"sjp-beng-in",sjr:"sjr-latn-zz",sjt:"sjt-cyrl-ru",sju:"sju-latn-se",sjw:"sjw-latn-us",sk:"sk-latn-sk",ska:"ska-latn-us",skb:"skb-thai-th",skc:"skc-latn-zz",skd:"skd-latn-us",ske:"ske-latn-vu",skf:"skf-latn-br",skg:"skg-latn-mg",skh:"skh-latn-id",ski:"ski-latn-id",skj:"skj-deva-np",skm:"skm-latn-pg",skn:"skn-latn-ph",sko:"sko-latn-id",skp:"skp-latn-my",skq:"skq-latn-bf",skr:"skr-arab-pk",sks:"sks-latn-zz",skt:"skt-latn-cd",sku:"sku-latn-vu",skv:"skv-latn-id",skw:"skw-latn-gy",skx:"skx-latn-id",sky:"sky-latn-sb",skz:"skz-latn-id",sl:"sl-latn-si",slc:"slc-latn-co",sld:"sld-latn-zz",slg:"slg-latn-id",slh:"slh-latn-us",sli:"sli-latn-pl",slj:"slj-latn-br",sll:"sll-latn-zz",slm:"slm-latn-ph",sln:"sln-latn-us",slp:"slp-latn-id",slq:"slq-arab-ir",slr:"slr-latn-cn",slu:"slu-latn-id",slw:"slw-latn-pg",slx:"slx-latn-cd",sly:"sly-latn-id",slz:"slz-latn-id",sm:"sm-latn-ws",sma:"sma-latn-se",smb:"smb-latn-pg",smc:"smc-latn-pg",smd:"smd-latn-ao",smf:"smf-latn-pg",smg:"smg-latn-pg",smh:"smh-yiii-cn",smj:"smj-latn-se",smk:"smk-latn-ph",sml:"sml-latn-ph",smn:"smn-latn-fi",smp:"smp-samr-il",smq:"smq-latn-zz",smr:"smr-latn-id",sms:"sms-latn-fi",smt:"smt-latn-in",smu:"smu-khmr-kh",smw:"smw-latn-id",smx:"smx-latn-cd",smy:"smy-arab-ir",smz:"smz-latn-pg",sn:"sn-latn-zw",snb:"snb-latn-my",snc:"snc-latn-zz",sne:"sne-latn-my",snf:"snf-latn-sn",sng:"sng-latn-cd","sng-brai":"sng-brai-cd",sni:"sni-latn-pe",snj:"snj-latn-cf",snk:"snk-latn-ml",snl:"snl-latn-ph",snm:"snm-latn-ug",snn:"snn-latn-co",sno:"sno-latn-us",snp:"snp-latn-zz",snq:"snq-latn-ga",snr:"snr-latn-pg",sns:"sns-latn-vu",snu:"snu-latn-id",snv:"snv-latn-my",snw:"snw-latn-gh",snx:"snx-latn-zz",sny:"sny-latn-zz",snz:"snz-latn-pg",so:"so-latn-so",soa:"soa-tavt-th","soa-thai":"soa-thai-th",sob:"sob-latn-id",soc:"soc-latn-cd",sod:"sod-latn-cd",soe:"soe-latn-cd",sog:"sog-sogd-uz",soi:"soi-deva-np",sok:"sok-latn-zz",sol:"sol-latn-pg",soo:"soo-latn-cd",sop:"sop-latn-cd",soq:"soq-latn-zz",sor:"sor-latn-td",sos:"sos-latn-bf",sou:"sou-thai-th",sov:"sov-latn-pw",sow:"sow-latn-pg",sox:"sox-latn-cm",soy:"soy-latn-zz",soz:"soz-latn-tz",spb:"spb-latn-id",spc:"spc-latn-ve",spd:"spd-latn-zz",spe:"spe-latn-pg",spg:"spg-latn-my",spi:"spi-latn-id",spk:"spk-latn-pg",spl:"spl-latn-zz",spm:"spm-latn-pg",spn:"spn-latn-py",spo:"spo-latn-us",spp:"spp-latn-ml",spq:"spq-latn-pe",spr:"spr-latn-id",sps:"sps-latn-zz",spt:"spt-tibt-in",spv:"spv-orya-in",sq:"sq-latn-al",sqa:"sqa-latn-ng",sqh:"sqh-latn-ng",sqm:"sqm-latn-cf",sqo:"sqo-arab-ir",sqq:"sqq-laoo-la",sqt:"sqt-arab-ye","sqt-latn":"sqt-latn-ye",squ:"squ-latn-ca",sr:"sr-cyrl-rs","sr-me":"sr-latn-me","sr-ro":"sr-latn-ro","sr-ru":"sr-latn-ru","sr-tr":"sr-latn-tr",sra:"sra-latn-pg",srb:"srb-sora-in",sre:"sre-latn-id",srf:"srf-latn-pg",srg:"srg-latn-ph",srh:"srh-arab-cn",sri:"sri-latn-co",srk:"srk-latn-my",srl:"srl-latn-id",srm:"srm-latn-sr",srn:"srn-latn-sr",sro:"sro-latn-it",srq:"srq-latn-bo",srr:"srr-latn-sn",srs:"srs-latn-ca",srt:"srt-latn-id",sru:"sru-latn-br",srv:"srv-latn-ph",srw:"srw-latn-id",srx:"srx-deva-in",sry:"sry-latn-pg",srz:"srz-arab-ir",ss:"ss-latn-za",ssb:"ssb-latn-ph",ssc:"ssc-latn-tz",ssd:"ssd-latn-zz",sse:"sse-latn-ph","sse-arab":"sse-arab-ph",ssf:"ssf-latn-tw",ssg:"ssg-latn-zz",ssh:"ssh-arab-ae",ssj:"ssj-latn-pg",ssl:"ssl-latn-gh",ssm:"ssm-latn-my",ssn:"ssn-latn-ke",sso:"sso-latn-pg",ssq:"ssq-latn-id",sss:"sss-laoo-la","sss-thai":"sss-thai-th",sst:"sst-latn-pg",ssu:"ssu-latn-pg",ssv:"ssv-latn-vu",ssx:"ssx-latn-pg",ssy:"ssy-latn-er",ssz:"ssz-latn-pg",st:"st-latn-za",sta:"sta-latn-zm",stb:"stb-latn-ph",ste:"ste-latn-id",stf:"stf-latn-pg",stg:"stg-latn-vn",sth:"sth-latn-ie",sti:"sti-latn-vn","sti-kh":"sti-latn-kh",stj:"stj-latn-bf",stk:"stk-latn-zz",stl:"stl-latn-nl",stm:"stm-latn-pg",stn:"stn-latn-sb",sto:"sto-latn-ca",stp:"stp-latn-mx",stq:"stq-latn-de",str:"str-latn-ca",sts:"sts-arab-af",stt:"stt-latn-vn",stv:"stv-ethi-et","stv-arab":"stv-arab-et",stw:"stw-latn-fm",sty:"sty-cyrl-ru",su:"su-latn-id",sua:"sua-latn-zz",sub:"sub-latn-cd",suc:"suc-latn-ph",sue:"sue-latn-zz",sug:"sug-latn-pg",sui:"sui-latn-pg",suj:"suj-latn-tz",suk:"suk-latn-tz",suo:"suo-latn-pg",suq:"suq-latn-et","suq-ethi":"suq-ethi-et",sur:"sur-latn-zz",sus:"sus-latn-gn",sut:"sut-latn-ni",suv:"suv-latn-in","suv-beng":"suv-beng-in","suv-deva":"suv-deva-in",suw:"suw-latn-tz",suy:"suy-latn-br",suz:"suz-deva-np",sv:"sv-latn-se",sva:"sva-geor-ge","sva-cyrl":"sva-cyrl-ge","sva-latn":"sva-latn-ge",svb:"svb-latn-pg",svc:"svc-latn-vc",sve:"sve-latn-id",svm:"svm-latn-it",svs:"svs-latn-sb",sw:"sw-latn-tz",swb:"swb-arab-yt",swc:"swc-latn-cd",swf:"swf-latn-cd",swg:"swg-latn-de",swi:"swi-hani-cn",swj:"swj-latn-ga",swk:"swk-latn-mw",swm:"swm-latn-pg",swo:"swo-latn-br",swp:"swp-latn-zz",swq:"swq-latn-cm",swr:"swr-latn-id",sws:"sws-latn-id",swt:"swt-latn-id",swu:"swu-latn-id",swv:"swv-deva-in",sww:"sww-latn-vu",swx:"swx-latn-br",swy:"swy-latn-td",sxb:"sxb-latn-ke",sxe:"sxe-latn-ga",sxn:"sxn-latn-id",sxr:"sxr-latn-tw",sxs:"sxs-latn-ng",sxu:"sxu-latn-de","sxu-runr":"sxu-runr-de",sxw:"sxw-latn-zz",sya:"sya-latn-id",syb:"syb-latn-ph",syc:"syc-syrc-tr",syi:"syi-latn-ga",syk:"syk-latn-ng",syl:"syl-beng-bd",sym:"sym-latn-bf",syn:"syn-syrc-ir",syo:"syo-latn-kh",syr:"syr-syrc-iq",sys:"sys-latn-td",syw:"syw-deva-np",syx:"syx-latn-ga",sza:"sza-latn-my",szb:"szb-latn-id",szc:"szc-latn-my",szd:"szd-latn-my",szg:"szg-latn-cd",szl:"szl-latn-pl",szn:"szn-latn-id",szp:"szp-latn-id",szv:"szv-latn-cm",szw:"szw-latn-id",szy:"szy-latn-tw",ta:"ta-taml-in",taa:"taa-latn-us",tab:"tab-cyrl-ru",tac:"tac-latn-mx",tad:"tad-latn-id",tae:"tae-latn-br",taf:"taf-latn-br",tag:"tag-latn-sd",taj:"taj-deva-np",tak:"tak-latn-ng",tal:"tal-latn-zz",tan:"tan-latn-zz",tao:"tao-latn-tw",tap:"tap-latn-cd",taq:"taq-latn-zz",tar:"tar-latn-mx",tas:"tas-latn-vn",tau:"tau-latn-us",tav:"tav-latn-co",taw:"taw-latn-pg",tax:"tax-latn-td",tay:"tay-latn-tw","tay-hans":"tay-hans-tw","tay-hant":"tay-hant-tw",taz:"taz-latn-sd",tba:"tba-latn-br",tbc:"tbc-latn-zz",tbd:"tbd-latn-zz",tbe:"tbe-latn-sb",tbf:"tbf-latn-zz",tbg:"tbg-latn-zz",tbh:"tbh-latn-au",tbi:"tbi-latn-sd",tbj:"tbj-latn-pg",tbk:"tbk-tagb-ph","tbk-hano":"tbk-hano-ph","tbk-latn":"tbk-latn-ph",tbl:"tbl-latn-ph",tbm:"tbm-latn-cd",tbn:"tbn-latn-co",tbo:"tbo-latn-zz",tbp:"tbp-latn-id",tbs:"tbs-latn-pg",tbt:"tbt-latn-cd",tbu:"tbu-latn-mx",tbv:"tbv-latn-pg",tbw:"tbw-latn-ph",tbx:"tbx-latn-pg",tby:"tby-latn-id",tbz:"tbz-latn-zz",tca:"tca-latn-br",tcb:"tcb-latn-us",tcc:"tcc-latn-tz",tcd:"tcd-latn-gh",tce:"tce-latn-ca",tcf:"tcf-latn-mx",tcg:"tcg-latn-id",tch:"tch-latn-tc",tci:"tci-latn-zz",tck:"tck-latn-ga",tcm:"tcm-latn-id",tcn:"tcn-tibt-np",tco:"tco-mymr-mm",tcp:"tcp-latn-mm",tcq:"tcq-latn-id",tcs:"tcs-latn-au",tcu:"tcu-latn-mx",tcw:"tcw-latn-mx",tcx:"tcx-taml-in",tcy:"tcy-knda-in",tcz:"tcz-latn-in",tda:"tda-tfng-ne","tda-arab":"tda-arab-ne","tda-latn":"tda-latn-ne",tdb:"tdb-deva-in","tdb-beng":"tdb-beng-in","tdb-kthi":"tdb-kthi-in",tdc:"tdc-latn-co",tdd:"tdd-tale-cn",tde:"tde-latn-ml",tdg:"tdg-deva-np",tdh:"tdh-deva-np",tdi:"tdi-latn-id",tdj:"tdj-latn-id",tdk:"tdk-latn-ng",tdl:"tdl-latn-ng",tdm:"tdm-latn-gy",tdn:"tdn-latn-id",tdo:"tdo-latn-ng",tdq:"tdq-latn-ng",tdr:"tdr-latn-vn",tds:"tds-latn-id",tdt:"tdt-latn-tl",tdu:"tdu-latn-my",tdv:"tdv-latn-ng",tdx:"tdx-latn-mg",tdy:"tdy-latn-ph",te:"te-telu-in",tea:"tea-latn-my",teb:"teb-latn-ec",tec:"tec-latn-ke",ted:"ted-latn-zz",tee:"tee-latn-mx",teg:"teg-latn-ga",teh:"teh-latn-ar",tei:"tei-latn-pg",tek:"tek-latn-cd",tem:"tem-latn-sl",ten:"ten-latn-co",teo:"teo-latn-ug",tep:"tep-latn-mx",teq:"teq-latn-sd",ter:"ter-latn-br",tes:"tes-java-id",tet:"tet-latn-tl",teu:"teu-latn-ug",tev:"tev-latn-id",tew:"tew-latn-us",tex:"tex-latn-ss",tey:"tey-latn-sd",tfi:"tfi-latn-zz",tfn:"tfn-latn-us",tfo:"tfo-latn-id",tfr:"tfr-latn-pa",tft:"tft-latn-id",tg:"tg-cyrl-tj","tg-arab":"tg-arab-pk","tg-pk":"tg-arab-pk",tga:"tga-latn-ke",tgb:"tgb-latn-my",tgc:"tgc-latn-zz",tgd:"tgd-latn-ng",tge:"tge-deva-np",tgf:"tgf-tibt-bt",tgh:"tgh-latn-tt",tgi:"tgi-latn-pg",tgj:"tgj-latn-in",tgn:"tgn-latn-ph",tgo:"tgo-latn-zz",tgp:"tgp-latn-vu",tgq:"tgq-latn-my",tgs:"tgs-latn-vu",tgt:"tgt-latn-ph","tgt-hano":"tgt-hano-ph","tgt-tagb":"tgt-tagb-ph",tgu:"tgu-latn-zz",tgv:"tgv-latn-br",tgw:"tgw-latn-ci",tgx:"tgx-latn-ca",tgy:"tgy-latn-ss",tgz:"tgz-latn-au",th:"th-thai-th",thd:"thd-latn-au",the:"the-deva-np",thf:"thf-deva-np",thh:"thh-latn-mx",thi:"thi-tale-la",thk:"thk-latn-ke",thl:"thl-deva-np",thm:"thm-thai-th",thp:"thp-latn-ca","thp-dupl":"thp-dupl-ca",thq:"thq-deva-np",thr:"thr-deva-np",ths:"ths-deva-np",tht:"tht-latn-ca",thu:"thu-latn-ss",thv:"thv-latn-dz","thv-arab":"thv-arab-dz","thv-tfng":"thv-tfng-dz",thy:"thy-latn-ng",thz:"thz-latn-ne","thz-tfng":"thz-tfng-ne",ti:"ti-ethi-et",tic:"tic-latn-sd",tif:"tif-latn-zz",tig:"tig-ethi-er",tih:"tih-latn-my",tii:"tii-latn-cd",tij:"tij-deva-np",tik:"tik-latn-zz",til:"til-latn-us",tim:"tim-latn-zz",tin:"tin-cyrl-ru",tio:"tio-latn-zz",tip:"tip-latn-id",tiq:"tiq-latn-bf",tis:"tis-latn-ph",tit:"tit-latn-co",tiu:"tiu-latn-ph",tiv:"tiv-latn-ng",tiw:"tiw-latn-au",tix:"tix-latn-us",tiy:"tiy-latn-ph",tja:"tja-latn-lr",tjg:"tjg-latn-id",tji:"tji-latn-cn",tjj:"tjj-latn-au",tjl:"tjl-mymr-mm",tjn:"tjn-latn-ci",tjo:"tjo-arab-dz",tjp:"tjp-latn-au",tjs:"tjs-latn-cn",tju:"tju-latn-au",tjw:"tjw-latn-au",tk:"tk-latn-tm",tka:"tka-latn-br",tkb:"tkb-deva-in",tkd:"tkd-latn-tl",tke:"tke-latn-mz",tkf:"tkf-latn-br",tkg:"tkg-latn-mg",tkl:"tkl-latn-tk",tkp:"tkp-latn-sb",tkq:"tkq-latn-ng",tkr:"tkr-latn-az",tks:"tks-arab-ir",tkt:"tkt-deva-np",tku:"tku-latn-mx",tkv:"tkv-latn-pg",tkw:"tkw-latn-sb",tkx:"tkx-latn-id",tkz:"tkz-latn-vn",tl:"tl-latn-ph",tla:"tla-latn-mx",tlb:"tlb-latn-id",tlc:"tlc-latn-mx",tld:"tld-latn-id",tlf:"tlf-latn-zz",tlg:"tlg-latn-id",tli:"tli-latn-us","tli-cyrl":"tli-cyrl-us",tlj:"tlj-latn-ug",tlk:"tlk-latn-id",tll:"tll-latn-cd",tlm:"tlm-latn-vu",tln:"tln-latn-id",tlp:"tlp-latn-mx",tlq:"tlq-latn-mm",tlr:"tlr-latn-sb",tls:"tls-latn-vu",tlt:"tlt-latn-id",tlu:"tlu-latn-id",tlv:"tlv-latn-id",tlx:"tlx-latn-zz",tly:"tly-latn-az",tma:"tma-latn-td",tmb:"tmb-latn-vu",tmc:"tmc-latn-td",tmd:"tmd-latn-pg",tme:"tme-latn-br",tmf:"tmf-latn-py",tmg:"tmg-latn-id",tmh:"tmh-latn-ne",tmi:"tmi-latn-vu",tmj:"tmj-latn-id",tmk:"tmk-deva-np",tml:"tml-latn-id",tmm:"tmm-latn-vn",tmn:"tmn-latn-id",tmo:"tmo-latn-my",tmq:"tmq-latn-pg",tmr:"tmr-syrc-il",tmt:"tmt-latn-vu",tmu:"tmu-latn-id",tmv:"tmv-latn-cd",tmw:"tmw-latn-my",tmy:"tmy-latn-zz",tmz:"tmz-latn-ve",tn:"tn-latn-za",tna:"tna-latn-bo",tnb:"tnb-latn-co",tnc:"tnc-latn-co",tnd:"tnd-latn-co",tng:"tng-latn-td",tnh:"tnh-latn-zz",tni:"tni-latn-id",tnk:"tnk-latn-vu",tnl:"tnl-latn-vu",tnm:"tnm-latn-id",tnn:"tnn-latn-vu",tno:"tno-latn-bo",tnp:"tnp-latn-vu",tnq:"tnq-latn-pr",tnr:"tnr-latn-sn",tns:"tns-latn-pg",tnt:"tnt-latn-id",tnv:"tnv-cakm-bd",tnw:"tnw-latn-id",tnx:"tnx-latn-sb",tny:"tny-latn-tz",to:"to-latn-to",tob:"tob-latn-ar",toc:"toc-latn-mx",tod:"tod-latn-gn",tof:"tof-latn-zz",tog:"tog-latn-mw",toh:"toh-latn-mz",toi:"toi-latn-zm",toj:"toj-latn-mx",tok:"tok-latn-001",tol:"tol-latn-us",tom:"tom-latn-id",too:"too-latn-mx",top:"top-latn-mx",toq:"toq-latn-zz",tor:"tor-latn-cd",tos:"tos-latn-mx",tou:"tou-latn-vn",tov:"tov-arab-ir",tow:"tow-latn-us",tox:"tox-latn-pw",toy:"toy-latn-id",toz:"toz-latn-cm",tpa:"tpa-latn-pg",tpc:"tpc-latn-mx",tpe:"tpe-latn-bd","tpe-beng":"tpe-beng-bd",tpf:"tpf-latn-id",tpg:"tpg-latn-id",tpi:"tpi-latn-pg",tpj:"tpj-latn-py",tpk:"tpk-latn-br",tpl:"tpl-latn-mx",tpm:"tpm-latn-zz",tpn:"tpn-latn-br",tpp:"tpp-latn-mx",tpr:"tpr-latn-br",tpt:"tpt-latn-mx",tpu:"tpu-khmr-kh",tpv:"tpv-latn-mp",tpx:"tpx-latn-mx",tpy:"tpy-latn-br",tpz:"tpz-latn-zz",tqb:"tqb-latn-br",tql:"tql-latn-vu",tqm:"tqm-latn-pg",tqn:"tqn-latn-us",tqo:"tqo-latn-zz",tqp:"tqp-latn-pg",tqt:"tqt-latn-mx",tqu:"tqu-latn-sb",tqw:"tqw-latn-us",tr:"tr-latn-tr",tra:"tra-arab-af",trb:"trb-latn-pg",trc:"trc-latn-mx",tre:"tre-latn-id",trf:"trf-latn-tt",trg:"trg-hebr-il",trh:"trh-latn-pg",tri:"tri-latn-sr",trj:"trj-latn-td",trl:"trl-latn-gb",trm:"trm-arab-af",trn:"trn-latn-bo",tro:"tro-latn-in",trp:"trp-latn-in","trp-beng":"trp-beng-in",trq:"trq-latn-mx",trr:"trr-latn-pe",trs:"trs-latn-mx",trt:"trt-latn-id",tru:"tru-latn-tr",trv:"trv-latn-tw",trw:"trw-arab-pk",trx:"trx-latn-my",try:"try-latn-in",trz:"trz-latn-br",ts:"ts-latn-za",tsa:"tsa-latn-cg",tsb:"tsb-latn-et",tsc:"tsc-latn-mz",tsd:"tsd-grek-gr",tsf:"tsf-deva-np",tsg:"tsg-latn-ph",tsh:"tsh-latn-cm",tsi:"tsi-latn-ca",tsj:"tsj-tibt-bt",tsl:"tsl-latn-vn",tsp:"tsp-latn-bf",tsr:"tsr-latn-vu",tst:"tst-latn-ml",tsu:"tsu-latn-tw",tsv:"tsv-latn-ga",tsw:"tsw-latn-zz",tsx:"tsx-latn-pg",tsz:"tsz-latn-mx",tt:"tt-cyrl-ru",ttb:"ttb-latn-ng",ttc:"ttc-latn-gt",ttd:"ttd-latn-zz",tte:"tte-latn-zz",ttf:"ttf-latn-cm",tth:"tth-laoo-la",tti:"tti-latn-id",ttj:"ttj-latn-ug",ttk:"ttk-latn-co",ttl:"ttl-latn-zm",ttm:"ttm-latn-ca",ttn:"ttn-latn-id",tto:"tto-laoo-la",ttp:"ttp-latn-id",ttr:"ttr-latn-zz",tts:"tts-thai-th",ttt:"ttt-latn-az",ttu:"ttu-latn-pg",ttv:"ttv-latn-pg",ttw:"ttw-latn-my",tty:"tty-latn-id",tua:"tua-latn-pg",tub:"tub-latn-us",tuc:"tuc-latn-pg",tud:"tud-latn-br",tue:"tue-latn-co",tuf:"tuf-latn-co",tug:"tug-latn-td",tuh:"tuh-latn-zz",tui:"tui-latn-cm",tuj:"tuj-latn-id",tul:"tul-latn-zz",tum:"tum-latn-mw",tun:"tun-latn-us",tuo:"tuo-latn-br",tuq:"tuq-latn-zz",tus:"tus-latn-ca",tuu:"tuu-latn-us",tuv:"tuv-latn-ke",tux:"tux-latn-br",tuy:"tuy-latn-ke",tuz:"tuz-latn-bf",tva:"tva-latn-sb",tvd:"tvd-latn-zz",tve:"tve-latn-id",tvk:"tvk-latn-vu",tvl:"tvl-latn-tv",tvm:"tvm-latn-id",tvn:"tvn-mymr-mm",tvo:"tvo-latn-id",tvs:"tvs-latn-ke",tvt:"tvt-latn-in",tvu:"tvu-latn-zz",tvw:"tvw-latn-id",tvx:"tvx-latn-tw",twa:"twa-latn-us",twb:"twb-latn-ph",twd:"twd-latn-nl",twe:"twe-latn-id",twf:"twf-latn-us",twg:"twg-latn-id",twh:"twh-latn-zz",twl:"twl-latn-mz",twm:"twm-deva-in",twn:"twn-latn-cm",two:"two-latn-bw",twp:"twp-latn-pg",twq:"twq-latn-ne",twr:"twr-latn-mx",twt:"twt-latn-br",twu:"twu-latn-id",tww:"tww-latn-pg",twx:"twx-latn-mz",twy:"twy-latn-id",txa:"txa-latn-my",txe:"txe-latn-id",txg:"txg-tang-cn",txi:"txi-latn-br",txj:"txj-latn-ng",txm:"txm-latn-id",txn:"txn-latn-id",txo:"txo-toto-in",txq:"txq-latn-id",txs:"txs-latn-id",txt:"txt-latn-id",txu:"txu-latn-br",txx:"txx-latn-my",txy:"txy-latn-mg",ty:"ty-latn-pf",tya:"tya-latn-zz",tye:"tye-latn-ng",tyh:"tyh-latn-vn",tyi:"tyi-latn-cg",tyj:"tyj-latn-vn",tyl:"tyl-latn-vn",tyn:"tyn-latn-id",typ:"typ-latn-au",tyr:"tyr-tavt-vn",tys:"tys-latn-vn",tyt:"tyt-latn-vn","tyt-tavt":"tyt-tavt-vn",tyu:"tyu-latn-bw",tyv:"tyv-cyrl-ru",tyx:"tyx-latn-cg",tyy:"tyy-latn-ng",tyz:"tyz-latn-vn",tzh:"tzh-latn-mx",tzj:"tzj-latn-gt",tzl:"tzl-latn-001",tzm:"tzm-latn-ma",tzn:"tzn-latn-id",tzo:"tzo-latn-mx",tzx:"tzx-latn-pg",uam:"uam-latn-br",uar:"uar-latn-pg",uba:"uba-latn-ng",ubi:"ubi-latn-td",ubl:"ubl-latn-ph",ubr:"ubr-latn-pg",ubu:"ubu-latn-zz",uda:"uda-latn-ng",ude:"ude-cyrl-ru",udg:"udg-mlym-in",udi:"udi-aghb-ru",udj:"udj-latn-id",udl:"udl-latn-cm",udm:"udm-cyrl-ru",udu:"udu-latn-sd",ues:"ues-latn-id",ufi:"ufi-latn-pg",ug:"ug-arab-cn","ug-cyrl":"ug-cyrl-kz","ug-kz":"ug-cyrl-kz","ug-mn":"ug-cyrl-mn",uga:"uga-ugar-sy",ugb:"ugb-latn-au",uge:"uge-latn-sb",ugh:"ugh-cyrl-ru",ugo:"ugo-thai-th",uha:"uha-latn-ng",uhn:"uhn-latn-id",uis:"uis-latn-pg",uiv:"uiv-latn-cm",uji:"uji-latn-ng",uk:"uk-cyrl-ua",uka:"uka-latn-id",ukg:"ukg-latn-pg",ukh:"ukh-latn-cf",uki:"uki-orya-in",ukk:"ukk-latn-mm",ukp:"ukp-latn-ng",ukq:"ukq-latn-ng",uku:"uku-latn-ng",ukv:"ukv-latn-ss",ukw:"ukw-latn-ng",uky:"uky-latn-au",ula:"ula-latn-ng",ulb:"ulb-latn-ng",ulc:"ulc-cyrl-ru",ule:"ule-latn-ar",ulf:"ulf-latn-id",uli:"uli-latn-fm",ulk:"ulk-latn-au",ulm:"ulm-latn-id",uln:"uln-latn-pg",ulu:"ulu-latn-id",ulw:"ulw-latn-ni",uma:"uma-latn-us",umb:"umb-latn-ao",umd:"umd-latn-au",umg:"umg-latn-au",umi:"umi-latn-my",umm:"umm-latn-ng",umn:"umn-latn-mm",umo:"umo-latn-br",ump:"ump-latn-au",umr:"umr-latn-au",ums:"ums-latn-id",una:"una-latn-pg",und:"en-latn-us","und-002":"en-latn-ng","und-003":"en-latn-us","und-005":"pt-latn-br","und-009":"en-latn-au","und-011":"en-latn-ng","und-013":"es-latn-mx","und-014":"sw-latn-tz","und-015":"ar-arab-eg","und-017":"sw-latn-cd","und-018":"en-latn-za","und-019":"en-latn-us","und-021":"en-latn-us","und-029":"es-latn-cu","und-030":"zh-hans-cn","und-034":"hi-deva-in","und-035":"id-latn-id","und-039":"it-latn-it","und-053":"en-latn-au","und-054":"en-latn-pg","und-057":"en-latn-gu","und-061":"sm-latn-ws","und-142":"zh-hans-cn","und-143":"uz-latn-uz","und-145":"ar-arab-sa","und-150":"ru-cyrl-ru","und-151":"ru-cyrl-ru","und-154":"en-latn-gb","und-155":"de-latn-de","und-202":"en-latn-ng","und-419":"es-latn-419","und-ad":"ca-latn-ad","und-adlm":"ff-adlm-gn","und-ae":"ar-arab-ae","und-af":"fa-arab-af","und-aghb":"udi-aghb-ru","und-ahom":"aho-ahom-in","und-al":"sq-latn-al","und-am":"hy-armn-am","und-ao":"pt-latn-ao","und-aq":"und-latn-aq","und-ar":"es-latn-ar","und-arab":"ar-arab-eg","und-arab-cc":"ms-arab-cc","und-arab-cn":"ug-arab-cn","und-arab-gb":"ur-arab-gb","und-arab-id":"ms-arab-id","und-arab-in":"ur-arab-in","und-arab-kh":"cja-arab-kh","und-arab-mm":"rhg-arab-mm","und-arab-mn":"kk-arab-mn","und-arab-mu":"ur-arab-mu","und-arab-ng":"ha-arab-ng","und-arab-pk":"ur-arab-pk","und-arab-tg":"apd-arab-tg","und-arab-th":"mfa-arab-th","und-arab-tj":"fa-arab-tj","und-arab-tr":"apc-arab-tr","und-arab-yt":"swb-arab-yt","und-armi":"arc-armi-ir","und-armn":"hy-armn-am","und-as":"sm-latn-as","und-at":"de-latn-at","und-avst":"ae-avst-ir","und-aw":"nl-latn-aw","und-ax":"sv-latn-ax","und-az":"az-latn-az","und-ba":"bs-latn-ba","und-bali":"ban-bali-id","und-bamu":"bax-bamu-cm","und-bass":"bsq-bass-lr","und-batk":"bbc-batk-id","und-bd":"bn-beng-bd","und-be":"nl-latn-be","und-beng":"bn-beng-bd","und-bf":"fr-latn-bf","und-bg":"bg-cyrl-bg","und-bh":"ar-arab-bh","und-bhks":"sa-bhks-in","und-bi":"rn-latn-bi","und-bj":"fr-latn-bj","und-bl":"fr-latn-bl","und-bn":"ms-latn-bn","und-bo":"es-latn-bo","und-bopo":"zh-bopo-tw","und-bq":"pap-latn-bq","und-br":"pt-latn-br","und-brah":"pka-brah-in","und-brai":"fr-brai-fr","und-bt":"dz-tibt-bt","und-bugi":"bug-bugi-id","und-buhd":"bku-buhd-ph","und-bv":"und-latn-bv","und-by":"be-cyrl-by","und-cakm":"ccp-cakm-bd","und-cans":"iu-cans-ca","und-cari":"xcr-cari-tr","und-cd":"sw-latn-cd","und-cf":"fr-latn-cf","und-cg":"fr-latn-cg","und-ch":"de-latn-ch","und-cham":"cjm-cham-vn","und-cher":"chr-cher-us","und-chrs":"xco-chrs-uz","und-ci":"fr-latn-ci","und-cl":"es-latn-cl","und-cm":"fr-latn-cm","und-cn":"zh-hans-cn","und-co":"es-latn-co","und-copt":"cop-copt-eg","und-cp":"und-latn-cp","und-cpmn":"und-cpmn-cy","und-cpmn-cy":"und-cpmn-cy","und-cprt":"grc-cprt-cy","und-cr":"es-latn-cr","und-cu":"es-latn-cu","und-cv":"pt-latn-cv","und-cw":"pap-latn-cw","und-cy":"el-grek-cy","und-cyrl":"ru-cyrl-ru","und-cyrl-al":"mk-cyrl-al","und-cyrl-ba":"sr-cyrl-ba","und-cyrl-ge":"ab-cyrl-ge","und-cyrl-gr":"mk-cyrl-gr","und-cyrl-md":"uk-cyrl-md","und-cyrl-ro":"bg-cyrl-ro","und-cyrl-sk":"uk-cyrl-sk","und-cyrl-tr":"kbd-cyrl-tr","und-cyrl-xk":"sr-cyrl-xk","und-cz":"cs-latn-cz","und-de":"de-latn-de","und-deva":"hi-deva-in","und-deva-bt":"ne-deva-bt","und-deva-fj":"hif-deva-fj","und-deva-mu":"bho-deva-mu","und-deva-pk":"btv-deva-pk","und-diak":"dv-diak-mv","und-dj":"aa-latn-dj","und-dk":"da-latn-dk","und-do":"es-latn-do","und-dogr":"doi-dogr-in","und-dupl":"fr-dupl-fr","und-dz":"ar-arab-dz","und-ea":"es-latn-ea","und-ec":"es-latn-ec","und-ee":"et-latn-ee","und-eg":"ar-arab-eg","und-egyp":"egy-egyp-eg","und-eh":"ar-arab-eh","und-elba":"sq-elba-al","und-elym":"arc-elym-ir","und-er":"ti-ethi-er","und-es":"es-latn-es","und-et":"am-ethi-et","und-ethi":"am-ethi-et","und-eu":"en-latn-ie","und-ez":"de-latn-ez","und-fi":"fi-latn-fi","und-fo":"fo-latn-fo","und-fr":"fr-latn-fr","und-ga":"fr-latn-ga","und-ge":"ka-geor-ge","und-geor":"ka-geor-ge","und-gf":"fr-latn-gf","und-gh":"ak-latn-gh","und-gl":"kl-latn-gl","und-glag":"cu-glag-bg","und-gn":"fr-latn-gn","und-gong":"wsg-gong-in","und-gonm":"esg-gonm-in","und-goth":"got-goth-ua","und-gp":"fr-latn-gp","und-gq":"es-latn-gq","und-gr":"el-grek-gr","und-gran":"sa-gran-in","und-grek":"el-grek-gr","und-grek-tr":"bgx-grek-tr","und-gs":"und-latn-gs","und-gt":"es-latn-gt","und-gujr":"gu-gujr-in","und-guru":"pa-guru-in","und-gw":"pt-latn-gw","und-hanb":"zh-hanb-tw","und-hang":"ko-hang-kr","und-hani":"zh-hani-cn","und-hano":"hnn-hano-ph","und-hans":"zh-hans-cn","und-hant":"zh-hant-tw","und-hant-ca":"yue-hant-ca","und-hebr":"he-hebr-il","und-hebr-se":"yi-hebr-se","und-hebr-ua":"yi-hebr-ua","und-hebr-us":"yi-hebr-us","und-hira":"ja-hira-jp","und-hk":"zh-hant-hk","und-hluw":"hlu-hluw-tr","und-hm":"und-latn-hm","und-hmng":"hnj-hmng-la","und-hmnp":"hnj-hmnp-us","und-hn":"es-latn-hn","und-hr":"hr-latn-hr","und-ht":"ht-latn-ht","und-hu":"hu-latn-hu","und-hung":"hu-hung-hu","und-ic":"es-latn-ic","und-id":"id-latn-id","und-il":"he-hebr-il","und-in":"hi-deva-in","und-iq":"ar-arab-iq","und-ir":"fa-arab-ir","und-is":"is-latn-is","und-it":"it-latn-it","und-ital":"ett-ital-it","und-jamo":"ko-jamo-kr","und-java":"jv-java-id","und-jo":"ar-arab-jo","und-jp":"ja-jpan-jp","und-jpan":"ja-jpan-jp","und-kali":"eky-kali-mm","und-kana":"ja-kana-jp","und-kawi":"kaw-kawi-id","und-ke":"sw-latn-ke","und-kg":"ky-cyrl-kg","und-kh":"km-khmr-kh","und-khar":"pra-khar-pk","und-khmr":"km-khmr-kh","und-khoj":"sd-khoj-in","und-kits":"zkt-kits-cn","und-km":"ar-arab-km","und-knda":"kn-knda-in","und-kore":"ko-kore-kr","und-kp":"ko-kore-kp","und-kr":"ko-kore-kr","und-kthi":"bho-kthi-in","und-kw":"ar-arab-kw","und-kz":"ru-cyrl-kz","und-la":"lo-laoo-la","und-lana":"nod-lana-th","und-laoo":"lo-laoo-la","und-laoo-au":"hnj-laoo-au","und-laoo-cn":"hnj-laoo-cn","und-laoo-fr":"hnj-laoo-fr","und-laoo-gf":"hnj-laoo-gf","und-laoo-mm":"hnj-laoo-mm","und-laoo-sr":"hnj-laoo-sr","und-laoo-th":"hnj-laoo-th","und-laoo-us":"hnj-laoo-us","und-laoo-vn":"hnj-laoo-vn","und-latn-af":"tk-latn-af","und-latn-am":"ku-latn-am","und-latn-cn":"za-latn-cn","und-latn-cy":"tr-latn-cy","und-latn-dz":"fr-latn-dz","und-latn-et":"en-latn-et","und-latn-ge":"ku-latn-ge","und-latn-ir":"tk-latn-ir","und-latn-km":"fr-latn-km","und-latn-ma":"fr-latn-ma","und-latn-mk":"sq-latn-mk","und-latn-mm":"kac-latn-mm","und-latn-mo":"pt-latn-mo","und-latn-mr":"fr-latn-mr","und-latn-ru":"krl-latn-ru","und-latn-sy":"fr-latn-sy","und-latn-tn":"fr-latn-tn","und-latn-tw":"trv-latn-tw","und-latn-ua":"pl-latn-ua","und-lb":"ar-arab-lb","und-lepc":"lep-lepc-in","und-li":"de-latn-li","und-limb":"lif-limb-in","und-lina":"lab-lina-gr","und-linb":"grc-linb-gr","und-lisu":"lis-lisu-cn","und-lk":"si-sinh-lk","und-ls":"st-latn-ls","und-lt":"lt-latn-lt","und-lu":"fr-latn-lu","und-lv":"lv-latn-lv","und-ly":"ar-arab-ly","und-lyci":"xlc-lyci-tr","und-lydi":"xld-lydi-tr","und-ma":"ar-arab-ma","und-mahj":"hi-mahj-in","und-maka":"mak-maka-id","und-mand":"myz-mand-ir","und-mani":"xmn-mani-cn","und-marc":"bo-marc-cn","und-mc":"fr-latn-mc","und-md":"ro-latn-md","und-me":"sr-latn-me","und-medf":"dmf-medf-ng","und-mend":"men-mend-sl","und-merc":"xmr-merc-sd","und-mero":"xmr-mero-sd","und-mf":"fr-latn-mf","und-mg":"mg-latn-mg","und-mk":"mk-cyrl-mk","und-ml":"bm-latn-ml","und-mlym":"ml-mlym-in","und-mm":"my-mymr-mm","und-mn":"mn-cyrl-mn","und-mo":"zh-hant-mo","und-modi":"mr-modi-in","und-mong":"mn-mong-cn","und-mq":"fr-latn-mq","und-mr":"ar-arab-mr","und-mroo":"mro-mroo-bd","und-mt":"mt-latn-mt","und-mtei":"mni-mtei-in","und-mu":"mfe-latn-mu","und-mult":"skr-mult-pk","und-mv":"dv-thaa-mv","und-mx":"es-latn-mx","und-my":"ms-latn-my","und-mymr":"my-mymr-mm","und-mymr-in":"kht-mymr-in","und-mymr-th":"mnw-mymr-th","und-mz":"pt-latn-mz","und-na":"af-latn-na","und-nagm":"unr-nagm-in","und-nand":"sa-nand-in","und-narb":"xna-narb-sa","und-nbat":"arc-nbat-jo","und-nc":"fr-latn-nc","und-ne":"ha-latn-ne","und-newa":"new-newa-np","und-ni":"es-latn-ni","und-nkoo":"man-nkoo-gn","und-nl":"nl-latn-nl","und-no":"nb-latn-no","und-np":"ne-deva-np","und-nshu":"zhx-nshu-cn","und-ogam":"sga-ogam-ie","und-olck":"sat-olck-in","und-om":"ar-arab-om","und-orkh":"otk-orkh-mn","und-orya":"or-orya-in","und-osge":"osa-osge-us","und-osma":"so-osma-so","und-ougr":"oui-ougr-143","und-pa":"es-latn-pa","und-palm":"arc-palm-sy","und-pauc":"ctd-pauc-mm","und-pe":"es-latn-pe","und-perm":"kv-perm-ru","und-pf":"fr-latn-pf","und-pg":"tpi-latn-pg","und-ph":"fil-latn-ph","und-phag":"lzh-phag-cn","und-phli":"pal-phli-ir","und-phlp":"pal-phlp-cn","und-phnx":"phn-phnx-lb","und-pk":"ur-arab-pk","und-pl":"pl-latn-pl","und-plrd":"hmd-plrd-cn","und-pm":"fr-latn-pm","und-pr":"es-latn-pr","und-prti":"xpr-prti-ir","und-ps":"ar-arab-ps","und-pt":"pt-latn-pt","und-pw":"pau-latn-pw","und-py":"gn-latn-py","und-qa":"ar-arab-qa","und-qo":"en-latn-dg","und-re":"fr-latn-re","und-rjng":"rej-rjng-id","und-ro":"ro-latn-ro","und-rohg":"rhg-rohg-mm","und-rs":"sr-cyrl-rs","und-ru":"ru-cyrl-ru","und-runr":"non-runr-se","und-rw":"rw-latn-rw","und-sa":"ar-arab-sa","und-samr":"smp-samr-il","und-sarb":"xsa-sarb-ye","und-saur":"saz-saur-in","und-sc":"fr-latn-sc","und-sd":"ar-arab-sd","und-se":"sv-latn-se","und-sgnw":"ase-sgnw-us","und-shaw":"en-shaw-gb","und-shrd":"sa-shrd-in","und-si":"sl-latn-si","und-sidd":"sa-sidd-in","und-sind":"sd-sind-in","und-sinh":"si-sinh-lk","und-sj":"nb-latn-sj","und-sk":"sk-latn-sk","und-sm":"it-latn-sm","und-sn":"fr-latn-sn","und-so":"so-latn-so","und-sogd":"sog-sogd-uz","und-sogo":"sog-sogo-uz","und-sora":"srb-sora-in","und-soyo":"cmg-soyo-mn","und-sr":"nl-latn-sr","und-st":"pt-latn-st","und-sund":"su-sund-id","und-sv":"es-latn-sv","und-sy":"ar-arab-sy","und-sylo":"syl-sylo-bd","und-syrc":"syr-syrc-iq","und-tagb":"tbw-tagb-ph","und-takr":"doi-takr-in","und-tale":"tdd-tale-cn","und-talu":"khb-talu-cn","und-taml":"ta-taml-in","und-tang":"txg-tang-cn","und-tavt":"blt-tavt-vn","und-td":"fr-latn-td","und-telu":"te-telu-in","und-tf":"fr-latn-tf","und-tfng":"zgh-tfng-ma","und-tg":"fr-latn-tg","und-tglg":"fil-tglg-ph","und-th":"th-thai-th","und-thaa":"dv-thaa-mv","und-thai":"th-thai-th","und-thai-cn":"lcp-thai-cn","und-thai-kh":"kdt-thai-kh","und-thai-la":"kdt-thai-la","und-tibt":"bo-tibt-cn","und-tirh":"mai-tirh-in","und-tj":"tg-cyrl-tj","und-tk":"tkl-latn-tk","und-tl":"pt-latn-tl","und-tm":"tk-latn-tm","und-tn":"ar-arab-tn","und-tnsa":"nst-tnsa-in","und-to":"to-latn-to","und-toto":"txo-toto-in","und-tr":"tr-latn-tr","und-tv":"tvl-latn-tv","und-tw":"zh-hant-tw","und-tz":"sw-latn-tz","und-ua":"uk-cyrl-ua","und-ug":"sw-latn-ug","und-ugar":"uga-ugar-sy","und-uy":"es-latn-uy","und-uz":"uz-latn-uz","und-va":"it-latn-va","und-vaii":"vai-vaii-lr","und-ve":"es-latn-ve","und-vith":"sq-vith-al","und-vn":"vi-latn-vn","und-vu":"bi-latn-vu","und-wara":"hoc-wara-in","und-wcho":"nnp-wcho-in","und-wf":"fr-latn-wf","und-ws":"sm-latn-ws","und-xk":"sq-latn-xk","und-xpeo":"peo-xpeo-ir","und-xsux":"akk-xsux-iq","und-ye":"ar-arab-ye","und-yezi":"ku-yezi-ge","und-yiii":"ii-yiii-cn","und-yt":"fr-latn-yt","und-zanb":"cmg-zanb-mn","und-zw":"sn-latn-zw",une:"une-latn-ng",ung:"ung-latn-au",uni:"uni-latn-pg",unk:"unk-latn-br",unm:"unm-latn-us",unn:"unn-latn-au",unr:"unr-beng-in","unr-deva":"unr-deva-np","unr-np":"unr-deva-np",unu:"unu-latn-pg",unx:"unx-beng-in",unz:"unz-latn-id",uok:"uok-latn-zz",uon:"uon-latn-tw",upi:"upi-latn-pg",upv:"upv-latn-vu",ur:"ur-arab-pk",ura:"ura-latn-pe",urb:"urb-latn-br",urc:"urc-latn-au",ure:"ure-latn-bo",urf:"urf-latn-au",urg:"urg-latn-pg",urh:"urh-latn-ng",uri:"uri-latn-zz",urk:"urk-thai-th",urm:"urm-latn-pg",urn:"urn-latn-id",uro:"uro-latn-pg",urp:"urp-latn-br",urr:"urr-latn-vu",urt:"urt-latn-zz",uru:"uru-latn-br",urv:"urv-latn-pg",urw:"urw-latn-zz",urx:"urx-latn-pg",ury:"ury-latn-id",urz:"urz-latn-br",usa:"usa-latn-zz",ush:"ush-arab-pk",usi:"usi-latn-bd","usi-beng":"usi-beng-bd",usk:"usk-latn-cm",usp:"usp-latn-gt",uss:"uss-latn-ng",usu:"usu-latn-pg",uta:"uta-latn-ng",ute:"ute-latn-us",uth:"uth-latn-zz",utp:"utp-latn-sb",utr:"utr-latn-zz",utu:"utu-latn-pg",uum:"uum-grek-ge","uum-cyrl":"uum-cyrl-ge",uur:"uur-latn-vu",uve:"uve-latn-nc",uvh:"uvh-latn-zz",uvl:"uvl-latn-zz",uwa:"uwa-latn-au",uya:"uya-latn-ng",uz:"uz-latn-uz","uz-af":"uz-arab-af","uz-arab":"uz-arab-af","uz-cn":"uz-cyrl-cn",uzs:"uzs-arab-af",vaa:"vaa-taml-in",vae:"vae-latn-cf",vaf:"vaf-arab-ir",vag:"vag-latn-zz",vah:"vah-deva-in",vai:"vai-vaii-lr",vaj:"vaj-latn-na",val:"val-latn-pg",vam:"vam-latn-pg",van:"van-latn-zz",vao:"vao-latn-vu",vap:"vap-latn-in",var:"var-latn-mx",vas:"vas-deva-in","vas-gujr":"vas-gujr-in",vau:"vau-latn-cd",vav:"vav-deva-in","vav-gujr":"vav-gujr-in",vay:"vay-deva-np",vbb:"vbb-latn-id",vbk:"vbk-latn-ph",ve:"ve-latn-za",vec:"vec-latn-it",vem:"vem-latn-ng",veo:"veo-latn-us",vep:"vep-latn-ru",ver:"ver-latn-ng",vgr:"vgr-arab-pk",vi:"vi-latn-vn",vic:"vic-latn-sx",vid:"vid-latn-tz",vif:"vif-latn-cg",vig:"vig-latn-bf",vil:"vil-latn-ar",vin:"vin-latn-tz",vit:"vit-latn-ng",viv:"viv-latn-zz",vka:"vka-latn-au",vkj:"vkj-latn-td",vkk:"vkk-latn-id",vkl:"vkl-latn-id",vkm:"vkm-latn-br",vkn:"vkn-latn-ng",vko:"vko-latn-id",vkp:"vkp-latn-in","vkp-deva":"vkp-deva-in",vkt:"vkt-latn-id",vku:"vku-latn-au",vkz:"vkz-latn-ng",vlp:"vlp-latn-vu",vls:"vls-latn-be",vma:"vma-latn-au",vmb:"vmb-latn-au",vmc:"vmc-latn-mx",vmd:"vmd-knda-in",vme:"vme-latn-id",vmf:"vmf-latn-de",vmg:"vmg-latn-pg",vmh:"vmh-arab-ir",vmi:"vmi-latn-au",vmj:"vmj-latn-mx",vmk:"vmk-latn-mz",vml:"vml-latn-au",vmm:"vmm-latn-mx",vmp:"vmp-latn-mx",vmq:"vmq-latn-mx",vmr:"vmr-latn-mz",vms:"vms-latn-id",vmu:"vmu-latn-au",vmw:"vmw-latn-mz",vmx:"vmx-latn-mx",vmy:"vmy-latn-mx",vmz:"vmz-latn-mx",vnk:"vnk-latn-sb",vnm:"vnm-latn-vu",vnp:"vnp-latn-vu",vo:"vo-latn-001",vor:"vor-latn-ng",vot:"vot-latn-ru",vra:"vra-latn-vu",vro:"vro-latn-ee",vrs:"vrs-latn-sb",vrt:"vrt-latn-vu",vto:"vto-latn-id",vum:"vum-latn-ga",vun:"vun-latn-tz",vut:"vut-latn-zz",vwa:"vwa-latn-cn","vwa-mymr":"vwa-mymr-cn",wa:"wa-latn-be",waa:"waa-latn-us",wab:"wab-latn-pg",wac:"wac-latn-us",wad:"wad-latn-id",wae:"wae-latn-ch",waf:"waf-latn-br",wag:"wag-latn-pg",wah:"wah-latn-id",wai:"wai-latn-id",waj:"waj-latn-zz",wal:"wal-ethi-et",wam:"wam-latn-us",wan:"wan-latn-zz",wap:"wap-latn-gy",waq:"waq-latn-au",war:"war-latn-ph",was:"was-latn-us",wat:"wat-latn-pg",wau:"wau-latn-br",wav:"wav-latn-ng",waw:"waw-latn-br",wax:"wax-latn-pg",way:"way-latn-sr",waz:"waz-latn-pg",wba:"wba-latn-ve",wbb:"wbb-latn-id",wbe:"wbe-latn-id",wbf:"wbf-latn-bf",wbh:"wbh-latn-tz",wbi:"wbi-latn-tz",wbj:"wbj-latn-tz",wbk:"wbk-arab-af",wbl:"wbl-latn-pk","wbl-arab":"wbl-arab-af","wbl-cyrl":"wbl-cyrl-tj",wbm:"wbm-latn-cn",wbp:"wbp-latn-au",wbq:"wbq-telu-in",wbr:"wbr-deva-in",wbt:"wbt-latn-au",wbv:"wbv-latn-au",wbw:"wbw-latn-id",wca:"wca-latn-br",wci:"wci-latn-zz",wdd:"wdd-latn-ga",wdg:"wdg-latn-pg",wdj:"wdj-latn-au",wdk:"wdk-latn-au",wdt:"wdt-latn-ca",wdu:"wdu-latn-au",wdy:"wdy-latn-au",wec:"wec-latn-ci",wed:"wed-latn-pg",weg:"weg-latn-au",weh:"weh-latn-cm",wei:"wei-latn-pg",wem:"wem-latn-bj",weo:"weo-latn-id",wep:"wep-latn-de",wer:"wer-latn-zz",wes:"wes-latn-cm",wet:"wet-latn-id",weu:"weu-latn-mm",wew:"wew-latn-id",wfg:"wfg-latn-id",wga:"wga-latn-au",wgb:"wgb-latn-pg",wgg:"wgg-latn-au",wgi:"wgi-latn-zz",wgo:"wgo-latn-id",wgu:"wgu-latn-au",wgy:"wgy-latn-au",wha:"wha-latn-id",whg:"whg-latn-zz",whk:"whk-latn-id",whu:"whu-latn-id",wib:"wib-latn-zz",wic:"wic-latn-us",wie:"wie-latn-au",wif:"wif-latn-au",wig:"wig-latn-au",wih:"wih-latn-au",wii:"wii-latn-pg",wij:"wij-latn-au",wik:"wik-latn-au",wil:"wil-latn-au",wim:"wim-latn-au",win:"win-latn-us",wir:"wir-latn-br",wiu:"wiu-latn-zz",wiv:"wiv-latn-zz",wiy:"wiy-latn-us",wja:"wja-latn-zz",wji:"wji-latn-zz",wka:"wka-latn-tz",wkd:"wkd-latn-id",wkr:"wkr-latn-au",wkw:"wkw-latn-au",wky:"wky-latn-au",wla:"wla-latn-pg",wlg:"wlg-latn-au",wlh:"wlh-latn-tl",wli:"wli-latn-id",wlm:"wlm-latn-gb",wlo:"wlo-arab-id",wlr:"wlr-latn-vu",wls:"wls-latn-wf",wlu:"wlu-latn-au",wlv:"wlv-latn-ar",wlw:"wlw-latn-id",wlx:"wlx-latn-gh",wma:"wma-latn-ng",wmb:"wmb-latn-au",wmc:"wmc-latn-pg",wmd:"wmd-latn-br",wme:"wme-deva-np",wmh:"wmh-latn-tl",wmi:"wmi-latn-au",wmm:"wmm-latn-id",wmn:"wmn-latn-nc",wmo:"wmo-latn-zz",wms:"wms-latn-id",wmt:"wmt-latn-au",wmw:"wmw-latn-mz","wmw-arab":"wmw-arab-mz",wmx:"wmx-latn-pg",wnb:"wnb-latn-pg",wnc:"wnc-latn-zz",wnd:"wnd-latn-au",wne:"wne-arab-pk",wng:"wng-latn-id",wni:"wni-arab-km",wnk:"wnk-latn-id",wnm:"wnm-latn-au",wnn:"wnn-latn-au",wno:"wno-latn-id",wnp:"wnp-latn-pg",wnu:"wnu-latn-zz",wnw:"wnw-latn-us",wny:"wny-latn-au",wo:"wo-latn-sn",woa:"woa-latn-au",wob:"wob-latn-zz",woc:"woc-latn-pg",wod:"wod-latn-id",woe:"woe-latn-fm",wof:"wof-latn-gm","wof-arab":"wof-arab-gm",wog:"wog-latn-pg",woi:"woi-latn-id",wok:"wok-latn-cm",wom:"wom-latn-ng",won:"won-latn-cd",woo:"woo-latn-id",wor:"wor-latn-id",wos:"wos-latn-zz",wow:"wow-latn-id",wpc:"wpc-latn-ve",wrb:"wrb-latn-au",wrg:"wrg-latn-au",wrh:"wrh-latn-au",wri:"wri-latn-au",wrk:"wrk-latn-au",wrl:"wrl-latn-au",wrm:"wrm-latn-au",wro:"wro-latn-au",wrp:"wrp-latn-id",wrr:"wrr-latn-au",wrs:"wrs-latn-zz",wru:"wru-latn-id",wrv:"wrv-latn-pg",wrw:"wrw-latn-au",wrx:"wrx-latn-id",wrz:"wrz-latn-au",wsa:"wsa-latn-id",wsg:"wsg-gong-in",wsi:"wsi-latn-vu",wsk:"wsk-latn-zz",wsr:"wsr-latn-pg",wss:"wss-latn-gh",wsu:"wsu-latn-br",wsv:"wsv-arab-af",wtf:"wtf-latn-pg",wth:"wth-latn-au",wti:"wti-latn-et",wtk:"wtk-latn-pg",wtm:"wtm-deva-in",wtw:"wtw-latn-id","wtw-bugi":"wtw-bugi-id",wua:"wua-latn-au",wub:"wub-latn-au",wud:"wud-latn-tg",wul:"wul-latn-id",wum:"wum-latn-ga",wun:"wun-latn-tz",wur:"wur-latn-au",wut:"wut-latn-pg",wuu:"wuu-hans-cn",wuv:"wuv-latn-zz",wux:"wux-latn-au",wuy:"wuy-latn-id",wwa:"wwa-latn-zz",wwb:"wwb-latn-au",wwo:"wwo-latn-vu",wwr:"wwr-latn-au",www:"www-latn-cm",wxw:"wxw-latn-au",wyb:"wyb-latn-au",wyi:"wyi-latn-au",wym:"wym-latn-pl",wyn:"wyn-latn-us",wyr:"wyr-latn-br",wyy:"wyy-latn-fj",xaa:"xaa-latn-es",xab:"xab-latn-ng",xai:"xai-latn-br",xaj:"xaj-latn-br",xak:"xak-latn-ve",xal:"xal-cyrl-ru",xam:"xam-latn-za",xan:"xan-ethi-et",xao:"xao-latn-vn",xar:"xar-latn-pg",xas:"xas-cyrl-ru",xat:"xat-latn-br",xau:"xau-latn-id",xav:"xav-latn-br",xaw:"xaw-latn-us",xay:"xay-latn-id",xbb:"xbb-latn-au",xbd:"xbd-latn-au",xbe:"xbe-latn-au",xbg:"xbg-latn-au",xbi:"xbi-latn-zz",xbj:"xbj-latn-au",xbm:"xbm-latn-fr",xbn:"xbn-latn-my",xbp:"xbp-latn-au",xbr:"xbr-latn-id",xbw:"xbw-latn-br",xby:"xby-latn-au",xch:"xch-latn-us",xco:"xco-chrs-uz",xcr:"xcr-cari-tr",xda:"xda-latn-au",xdk:"xdk-latn-au",xdo:"xdo-latn-ao",xdq:"xdq-cyrl-ru",xdy:"xdy-latn-id",xed:"xed-latn-cm",xeg:"xeg-latn-za",xem:"xem-latn-id",xer:"xer-latn-br",xes:"xes-latn-zz",xet:"xet-latn-br",xeu:"xeu-latn-pg",xgb:"xgb-latn-ci",xgd:"xgd-latn-au",xgg:"xgg-latn-au",xgi:"xgi-latn-au",xgm:"xgm-latn-au",xgu:"xgu-latn-au",xgw:"xgw-latn-au",xh:"xh-latn-za",xhe:"xhe-arab-pk",xhm:"xhm-khmr-kh",xhv:"xhv-latn-vn",xii:"xii-latn-za",xin:"xin-latn-gt",xir:"xir-latn-br",xis:"xis-orya-in",xiy:"xiy-latn-br",xjb:"xjb-latn-au",xjt:"xjt-latn-au",xka:"xka-arab-pk",xkb:"xkb-latn-bj",xkc:"xkc-arab-ir",xkd:"xkd-latn-id",xke:"xke-latn-id",xkg:"xkg-latn-ml",xkj:"xkj-arab-ir",xkl:"xkl-latn-id",xkn:"xkn-latn-id",xkp:"xkp-arab-ir",xkq:"xkq-latn-id",xkr:"xkr-latn-br",xks:"xks-latn-id",xkt:"xkt-latn-gh",xku:"xku-latn-cg",xkv:"xkv-latn-bw",xkw:"xkw-latn-id",xkx:"xkx-latn-pg",xky:"xky-latn-my",xkz:"xkz-latn-bt",xla:"xla-latn-zz",xlc:"xlc-lyci-tr",xld:"xld-lydi-tr",xly:"xly-elym-ir",xma:"xma-latn-so",xmb:"xmb-latn-cm",xmc:"xmc-latn-mz",xmd:"xmd-latn-cm",xmf:"xmf-geor-ge",xmg:"xmg-latn-cm",xmh:"xmh-latn-au",xmj:"xmj-latn-cm",xmm:"xmm-latn-id",xmn:"xmn-mani-cn",xmo:"xmo-latn-br",xmp:"xmp-latn-au",xmq:"xmq-latn-au",xmr:"xmr-merc-sd",xmt:"xmt-latn-id",xmu:"xmu-latn-au",xmv:"xmv-latn-mg",xmw:"xmw-latn-mg",xmx:"xmx-latn-id",xmy:"xmy-latn-au",xmz:"xmz-latn-id",xna:"xna-narb-sa",xnb:"xnb-latn-tw",xni:"xni-latn-au",xnj:"xnj-latn-tz",xnk:"xnk-latn-au",xnm:"xnm-latn-au",xnn:"xnn-latn-ph",xnq:"xnq-latn-mz",xnr:"xnr-deva-in",xnt:"xnt-latn-us",xnu:"xnu-latn-au",xny:"xny-latn-au",xnz:"xnz-latn-eg","xnz-arab":"xnz-arab-eg",xoc:"xoc-latn-ng",xod:"xod-latn-id",xog:"xog-latn-ug",xoi:"xoi-latn-pg",xok:"xok-latn-br",xom:"xom-latn-sd","xom-ethi":"xom-ethi-et",xon:"xon-latn-zz",xoo:"xoo-latn-br",xop:"xop-latn-pg",xor:"xor-latn-br",xow:"xow-latn-pg",xpa:"xpa-latn-au",xpb:"xpb-latn-au",xpd:"xpd-latn-au",xpf:"xpf-latn-au",xpg:"xpg-grek-tr",xph:"xph-latn-au",xpi:"xpi-ogam-gb",xpj:"xpj-latn-au",xpk:"xpk-latn-br",xpl:"xpl-latn-au",xpm:"xpm-cyrl-ru",xpn:"xpn-latn-br",xpo:"xpo-latn-mx",xpq:"xpq-latn-us",xpr:"xpr-prti-ir",xpt:"xpt-latn-au",xpv:"xpv-latn-au",xpw:"xpw-latn-au",xpx:"xpx-latn-au",xpz:"xpz-latn-au",xra:"xra-latn-br",xrb:"xrb-latn-zz",xrd:"xrd-latn-au",xre:"xre-latn-br",xrg:"xrg-latn-au",xri:"xri-latn-br",xrm:"xrm-cyrl-ru",xrn:"xrn-cyrl-ru",xrr:"xrr-latn-it",xru:"xru-latn-au",xrw:"xrw-latn-pg",xsa:"xsa-sarb-ye",xsb:"xsb-latn-ph",xse:"xse-latn-id",xsh:"xsh-latn-ng",xsi:"xsi-latn-zz",xsm:"xsm-latn-zz",xsn:"xsn-latn-ng",xsp:"xsp-latn-pg",xsq:"xsq-latn-mz",xsr:"xsr-deva-np",xss:"xss-cyrl-ru",xsu:"xsu-latn-ve",xsy:"xsy-latn-tw",xta:"xta-latn-mx",xtb:"xtb-latn-mx",xtc:"xtc-latn-sd",xtd:"xtd-latn-mx",xte:"xte-latn-id",xth:"xth-latn-au",xti:"xti-latn-mx",xtj:"xtj-latn-mx",xtl:"xtl-latn-mx",xtm:"xtm-latn-mx",xtn:"xtn-latn-mx",xtp:"xtp-latn-mx",xts:"xts-latn-mx",xtt:"xtt-latn-mx",xtu:"xtu-latn-mx",xtv:"xtv-latn-au",xtw:"xtw-latn-br",xty:"xty-latn-mx",xub:"xub-taml-in","xub-knda":"xub-knda-in","xub-mlym":"xub-mlym-in",xud:"xud-latn-au",xuj:"xuj-taml-in",xul:"xul-latn-au",xum:"xum-latn-it","xum-ital":"xum-ital-it",xun:"xun-latn-au",xuo:"xuo-latn-td",xut:"xut-latn-au",xuu:"xuu-latn-na",xve:"xve-ital-it",xvi:"xvi-arab-af",xvn:"xvn-latn-es",xvo:"xvo-latn-it",xvs:"xvs-latn-it",xwa:"xwa-latn-br",xwd:"xwd-latn-au",xwe:"xwe-latn-zz",xwj:"xwj-latn-au",xwk:"xwk-latn-au",xwl:"xwl-latn-bj",xwo:"xwo-cyrl-ru",xwr:"xwr-latn-id",xwt:"xwt-latn-au",xww:"xww-latn-au",xxb:"xxb-latn-gh",xxk:"xxk-latn-id",xxm:"xxm-latn-au",xxr:"xxr-latn-br",xxt:"xxt-latn-id",xya:"xya-latn-au",xyb:"xyb-latn-au",xyj:"xyj-latn-au",xyk:"xyk-latn-au",xyl:"xyl-latn-br",xyt:"xyt-latn-au",xyy:"xyy-latn-au",xzh:"xzh-marc-cn",xzp:"xzp-latn-mx",yaa:"yaa-latn-pe",yab:"yab-latn-br",yac:"yac-latn-id",yad:"yad-latn-pe",yae:"yae-latn-ve",yaf:"yaf-latn-cd",yag:"yag-latn-cl",yai:"yai-cyrl-tj",yaj:"yaj-latn-cf",yak:"yak-latn-us",yal:"yal-latn-gn","yal-arab":"yal-arab-gn",yam:"yam-latn-zz",yan:"yan-latn-ni",yao:"yao-latn-mz",yap:"yap-latn-fm",yaq:"yaq-latn-mx",yar:"yar-latn-ve",yas:"yas-latn-zz",yat:"yat-latn-zz",yau:"yau-latn-ve",yav:"yav-latn-cm",yaw:"yaw-latn-br",yax:"yax-latn-ao",yay:"yay-latn-zz",yaz:"yaz-latn-zz",yba:"yba-latn-zz",ybb:"ybb-latn-cm",ybe:"ybe-latn-cn","ybe-ougr":"ybe-ougr-cn",ybh:"ybh-deva-np",ybi:"ybi-deva-np",ybj:"ybj-latn-ng",ybl:"ybl-latn-ng",ybm:"ybm-latn-pg",ybn:"ybn-latn-br",ybo:"ybo-latn-pg",ybx:"ybx-latn-pg",yby:"yby-latn-zz",ycl:"ycl-latn-cn",ycn:"ycn-latn-co",yda:"yda-latn-au",yde:"yde-latn-pg",ydg:"ydg-arab-pk",ydk:"ydk-latn-pg",yea:"yea-mlym-in","yea-knda":"yea-knda-in",yec:"yec-latn-de",yee:"yee-latn-pg",yei:"yei-latn-cm",yej:"yej-grek-il",yel:"yel-latn-cd",yer:"yer-latn-zz",yes:"yes-latn-ng",yet:"yet-latn-id",yeu:"yeu-telu-in",yev:"yev-latn-pg",yey:"yey-latn-bw",yga:"yga-latn-au",ygi:"ygi-latn-au",ygl:"ygl-latn-pg",ygm:"ygm-latn-pg",ygp:"ygp-plrd-cn",ygr:"ygr-latn-zz",ygu:"ygu-latn-au",ygw:"ygw-latn-zz",yhd:"yhd-hebr-il",yi:"yi-hebr-001",yia:"yia-latn-au",yig:"yig-yiii-cn",yih:"yih-hebr-de",yii:"yii-latn-au",yij:"yij-latn-au",yil:"yil-latn-au",yim:"yim-latn-in",yir:"yir-latn-id",yis:"yis-latn-pg",yiv:"yiv-yiii-cn",yka:"yka-latn-ph","yka-arab":"yka-arab-ph",ykg:"ykg-cyrl-ru",yki:"yki-latn-id",ykk:"ykk-latn-pg",ykm:"ykm-latn-pg",yko:"yko-latn-zz",ykr:"ykr-latn-pg",yky:"yky-latn-cf",yla:"yla-latn-pg",ylb:"ylb-latn-pg",yle:"yle-latn-zz",ylg:"ylg-latn-zz",yli:"yli-latn-id",yll:"yll-latn-zz",ylr:"ylr-latn-au",ylu:"ylu-latn-pg",yly:"yly-latn-nc",ymb:"ymb-latn-pg",yme:"yme-latn-pe",ymg:"ymg-latn-cd",ymk:"ymk-latn-mz","ymk-arab":"ymk-arab-mz",yml:"yml-latn-zz",ymm:"ymm-latn-so",ymn:"ymn-latn-id",ymo:"ymo-latn-pg",ymp:"ymp-latn-pg",yna:"yna-plrd-cn",ynd:"ynd-latn-au",yng:"yng-latn-cd",ynk:"ynk-cyrl-ru",ynl:"ynl-latn-pg",ynq:"ynq-latn-ng",yns:"yns-latn-cd",ynu:"ynu-latn-co",yo:"yo-latn-ng",yob:"yob-latn-pg",yog:"yog-latn-ph",yoi:"yoi-jpan-jp",yok:"yok-latn-us",yol:"yol-latn-gb",yom:"yom-latn-cd",yon:"yon-latn-zz",yot:"yot-latn-ng",yoy:"yoy-thai-th",yra:"yra-latn-pg",yrb:"yrb-latn-zz",yre:"yre-latn-zz",yrk:"yrk-cyrl-ru",yrl:"yrl-latn-br",yrm:"yrm-latn-au",yro:"yro-latn-br",yrs:"yrs-latn-id",yrw:"yrw-latn-pg",yry:"yry-latn-au",ysd:"ysd-yiii-cn",ysn:"ysn-yiii-cn",ysp:"ysp-yiii-cn",ysr:"ysr-cyrl-ru",yss:"yss-latn-zz",ysy:"ysy-plrd-cn",ytw:"ytw-latn-pg",yty:"yty-latn-au",yua:"yua-latn-mx",yub:"yub-latn-au",yuc:"yuc-latn-us",yud:"yud-hebr-il",yue:"yue-hant-hk","yue-cn":"yue-hans-cn","yue-hans":"yue-hans-cn",yuf:"yuf-latn-us",yug:"yug-cyrl-ru",yui:"yui-latn-co",yuj:"yuj-latn-zz",yul:"yul-latn-cf",yum:"yum-latn-us",yun:"yun-latn-ng",yup:"yup-latn-co",yuq:"yuq-latn-bo",yur:"yur-latn-us",yut:"yut-latn-zz",yuw:"yuw-latn-zz",yux:"yux-cyrl-ru",yuz:"yuz-latn-bo",yva:"yva-latn-id",yvt:"yvt-latn-ve",ywa:"ywa-latn-pg",ywg:"ywg-latn-au",ywn:"ywn-latn-br",ywq:"ywq-plrd-cn","ywq-yiii":"ywq-yiii-cn",ywr:"ywr-latn-au",ywu:"ywu-plrd-cn","ywu-yiii":"ywu-yiii-cn",yww:"yww-latn-au",yxa:"yxa-latn-au",yxg:"yxg-latn-au",yxl:"yxl-latn-au",yxm:"yxm-latn-au",yxu:"yxu-latn-au",yxy:"yxy-latn-au",yyr:"yyr-latn-au",yyu:"yyu-latn-pg",za:"za-latn-cn",zaa:"zaa-latn-mx",zab:"zab-latn-mx",zac:"zac-latn-mx",zad:"zad-latn-mx",zae:"zae-latn-mx",zaf:"zaf-latn-mx",zag:"zag-latn-sd",zah:"zah-latn-ng",zaj:"zaj-latn-tz",zak:"zak-latn-tz",zam:"zam-latn-mx",zao:"zao-latn-mx",zap:"zap-latn-mx",zaq:"zaq-latn-mx",zar:"zar-latn-mx",zas:"zas-latn-mx",zat:"zat-latn-mx",zau:"zau-tibt-in","zau-arab":"zau-arab-in",zav:"zav-latn-mx",zaw:"zaw-latn-mx",zax:"zax-latn-mx",zay:"zay-latn-et","zay-ethi":"zay-ethi-et",zaz:"zaz-latn-ng",zba:"zba-arab-001",zbc:"zbc-latn-my",zbe:"zbe-latn-my",zbt:"zbt-latn-id",zbu:"zbu-latn-ng",zbw:"zbw-latn-my",zca:"zca-latn-mx",zch:"zch-hani-cn",zdj:"zdj-arab-km",zea:"zea-latn-nl",zeg:"zeg-latn-pg",zeh:"zeh-hani-cn",zen:"zen-tfng-mr","zen-arab":"zen-arab-mr",zga:"zga-latn-tz",zgb:"zgb-hani-cn",zgh:"zgh-tfng-ma",zgm:"zgm-hani-cn",zgn:"zgn-hani-cn",zgr:"zgr-latn-pg",zh:"zh-hans-cn","zh-au":"zh-hant-au","zh-bn":"zh-hant-bn","zh-bopo":"zh-bopo-tw","zh-gb":"zh-hant-gb","zh-gf":"zh-hant-gf","zh-hanb":"zh-hanb-tw","zh-hant":"zh-hant-tw","zh-hk":"zh-hant-hk","zh-id":"zh-hant-id","zh-mo":"zh-hant-mo","zh-pa":"zh-hant-pa","zh-pf":"zh-hant-pf","zh-ph":"zh-hant-ph","zh-sr":"zh-hant-sr","zh-th":"zh-hant-th","zh-tw":"zh-hant-tw","zh-us":"zh-hant-us","zh-vn":"zh-hant-vn",zhd:"zhd-hani-cn","zhd-latn":"zhd-latn-vn",zhi:"zhi-latn-ng",zhn:"zhn-latn-cn","zhn-hani":"zhn-hani-cn",zhw:"zhw-latn-cm",zhx:"zhx-nshu-cn",zia:"zia-latn-zz",zik:"zik-latn-pg",zil:"zil-latn-gn",zim:"zim-latn-td",zin:"zin-latn-tz",ziw:"ziw-latn-tz",ziz:"ziz-latn-ng",zka:"zka-latn-id",zkb:"zkb-cyrl-ru",zkd:"zkd-latn-mm",zko:"zko-cyrl-ru",zkp:"zkp-latn-br",zkt:"zkt-kits-cn",zku:"zku-latn-au",zkz:"zkz-cyrl-ru",zla:"zla-latn-cd",zlj:"zlj-hani-cn","zlj-latn":"zlj-latn-cn",zlm:"zlm-latn-tg",zln:"zln-hani-cn",zlq:"zlq-hani-cn",zma:"zma-latn-au",zmb:"zmb-latn-cd",zmc:"zmc-latn-au",zmd:"zmd-latn-au",zme:"zme-latn-au",zmf:"zmf-latn-cd",zmg:"zmg-latn-au",zmh:"zmh-latn-pg",zmi:"zmi-latn-my",zmj:"zmj-latn-au",zmk:"zmk-latn-au",zml:"zml-latn-au",zmm:"zmm-latn-au",zmn:"zmn-latn-ga",zmo:"zmo-latn-sd",zmp:"zmp-latn-cd",zmq:"zmq-latn-cd",zmr:"zmr-latn-au",zms:"zms-latn-cd",zmt:"zmt-latn-au",zmu:"zmu-latn-au",zmv:"zmv-latn-au",zmw:"zmw-latn-cd",zmx:"zmx-latn-cg",zmy:"zmy-latn-au",zmz:"zmz-latn-cd",zna:"zna-latn-td",zne:"zne-latn-zz",zng:"zng-latn-vn",znk:"znk-latn-au",zns:"zns-latn-ng",zoc:"zoc-latn-mx",zoh:"zoh-latn-mx",zom:"zom-latn-in",zoo:"zoo-latn-mx",zoq:"zoq-latn-mx",zor:"zor-latn-mx",zos:"zos-latn-mx",zpa:"zpa-latn-mx",zpb:"zpb-latn-mx",zpc:"zpc-latn-mx",zpd:"zpd-latn-mx",zpe:"zpe-latn-mx",zpf:"zpf-latn-mx",zpg:"zpg-latn-mx",zph:"zph-latn-mx",zpi:"zpi-latn-mx",zpj:"zpj-latn-mx",zpk:"zpk-latn-mx",zpl:"zpl-latn-mx",zpm:"zpm-latn-mx",zpn:"zpn-latn-mx",zpo:"zpo-latn-mx",zpp:"zpp-latn-mx",zpq:"zpq-latn-mx",zpr:"zpr-latn-mx",zps:"zps-latn-mx",zpt:"zpt-latn-mx",zpu:"zpu-latn-mx",zpv:"zpv-latn-mx",zpw:"zpw-latn-mx",zpx:"zpx-latn-mx",zpy:"zpy-latn-mx",zpz:"zpz-latn-mx",zqe:"zqe-hani-cn","zqe-latn":"zqe-latn-cn",zrn:"zrn-latn-td",zro:"zro-latn-ec",zrp:"zrp-hebr-fr",zrs:"zrs-latn-id",zsa:"zsa-latn-pg",zsr:"zsr-latn-mx",zsu:"zsu-latn-pg",zte:"zte-latn-mx",ztg:"ztg-latn-mx",ztl:"ztl-latn-mx",ztm:"ztm-latn-mx",ztn:"ztn-latn-mx",ztp:"ztp-latn-mx",ztq:"ztq-latn-mx",zts:"zts-latn-mx",ztt:"ztt-latn-mx",ztu:"ztu-latn-mx",ztx:"ztx-latn-mx",zty:"zty-latn-mx",zu:"zu-latn-za",zua:"zua-latn-ng",zuh:"zuh-latn-pg",zum:"zum-arab-om",zun:"zun-latn-us",zuy:"zuy-latn-cm",zyg:"zyg-hani-cn",zyj:"zyj-latn-cn","zyj-hani":"zyj-hani-cn",zyn:"zyn-hani-cn",zyp:"zyp-latn-mm",zza:"zza-latn-tr",zzj:"zzj-hani-cn"},kb={}.hasOwnProperty;function Cb(x){const{language:S,script:R,region:k}=x;let D;var L,B;return R&&k&&(D=Rb[Fc({language:S,script:R,region:k})])?(x.script=void 0,x.region=void 0):R&&(D=Rb[Fc({language:S,script:R})])?x.script=void 0:k&&(D=Rb[Fc({language:S,region:k})])?x.region=void 0:S&&(D=Rb[S]),D&&(x.language=void 0,L=x,B=Pu(D),L.language||(L.language=B.language),L.script||(L.script=B.script),L.region||(L.region=B.region),B.variants&&L.variants.push(...B.variants)),Fc(x)}function Db(x,S){const R={},k=Pu(String(x||"").toLowerCase(),R),D=Fc(k);if(!D)return D;let L=-1;for(;++L<fw.length;){let B=fw[L].from;B.slice(0,4)==="und-"&&k.language&&(B=k.language+B.slice(3)),dw(D,B).length>0&&Uie(k,B,fw[L].to)}for(L=-1;++L<Zp.length;)XF(k,Zp[L].from.field,Zp[L].from.value)&&QF(k,Zp[L].to.field,Zp[L].to.value);if((function(B){Cb(B);const{language:U,script:N,region:V}=B;if(!U)return B;const W=Fc({language:U,script:N,region:V});W===Cb(Pu(U))?(B.script=void 0,B.region=void 0):V&&W===Cb(Pu(U+"-"+V))?B.script=void 0:N&&W===Cb(Pu(U+"-"+N))&&(B.region=void 0)})(k),k.variants.sort(),k.extensions.sort(Bie),R.warning){let B;for(B in hw)if(kb.call(hw,B)){const U=hw[B],N=k[B];if(N&&kb.call(U,N)){const V=U[N];R.warning("Deprecated "+B+" `"+N+"`, expected one of `"+V.join("`, `")+"`",-1,7)}}}return k.script&&(k.script=k.script.charAt(0).toUpperCase()+k.script.slice(1)),k.region&&(k.region=k.region.toUpperCase()),Fc(k)}function Uie(x,S,R){const k=Pu(S),D=Pu(R),L=[],B=k.language;let U;for(U in k)if(kb.call(k,U)){const N=k[U];N&&XF(x,U,N)&&L.push(U)}for(U in D)if(kb.call(D,U)){const N=D[U];B&&N&&(L.includes(U)||!x[U])&&QF(x,U,U==="language"&&N==="und"?B:N)}}function XF(x,S,R){let k,D=!1;if(R){const L=x[S];if(k=L,Array.isArray(L)){k=[];let B=-1;for(;++B<L.length;){const U=L[B];R.includes(U)?D=!0:k.push(U)}}else L===R&&(k=null,D=!0);x[S]=k}return D}function QF(x,S,R){const k=x[S];if(Array.isArray(k)){const D=Array.isArray(R)?R:[R];let L=-1;for(;++L<D.length;){const B=D[L];k.includes(B)||k.push(B)}}else x[S]=R}function Bie(x,S){return x.singleton>S.singleton?1:x.singleton<S.singleton?-1:0}function Yo(x,S=!1){if(typeof TextDecoder<"u"){const N=new TextDecoder("utf-8").decode(x);if(S){const V=N.indexOf("\0");return V!==-1?N.substring(0,V):N}return N.replace(/\0/g,"")}const R=x.length;let k,D,L,B="",U=0;for(;U<R;){if(k=x[U++],k===0&&S)return B;if(k!==0&&k!==3)switch(k>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:B+=String.fromCharCode(k);break;case 12:case 13:D=x[U++],B+=String.fromCharCode((31&k)<<6|63&D);break;case 14:D=x[U++],L=x[U++],B+=String.fromCharCode((15&k)<<12|(63&D)<<6|63&L)}}return B}function pw(x,S=0,R=1/0){return(function(k,D,L,B){const U=(N=k)instanceof ArrayBuffer?N:N.buffer;var N;let V=1;"BYTES_PER_ELEMENT"in B&&(V=B.BYTES_PER_ELEMENT);const W=(X=k)&&X.buffer instanceof ArrayBuffer&&X.byteLength!==void 0&&X.byteOffset!==void 0?k.byteOffset:0,O=(W+k.byteLength)/V,z=(W+D)/V,H=Math.floor(Math.max(0,Math.min(z,O)));var X;return new B(U,H,Math.floor(Math.min(H+Math.max(L,0),O))-H)})(x,S,R,Uint8Array)}function zie(x){return x.type==="PRIV"?(function(S){if(S.size<2)return;const R=Yo(S.data,!0),k=new Uint8Array(S.data.subarray(R.length+1));return{key:S.type,info:R,data:k.buffer}})(x):x.type[0]==="W"?(function(S){if(S.type==="WXXX"){if(S.size<2)return;let k=1;const D=Yo(S.data.subarray(k),!0);k+=D.length+1;const L=Yo(S.data.subarray(k));return{key:S.type,info:D,data:L}}const R=Yo(S.data);return{key:S.type,info:"",data:R}})(x):x.type==="APIC"?(function(S){const R={key:S.type,description:"",data:"",mimeType:null,pictureType:null};if(S.size<2)return;if(S.data[0]!==3)return void console.log("Ignore frame with unrecognized character encoding");const k=S.data.subarray(1).indexOf(0);if(k===-1)return;const D=Yo(pw(S.data,1,k)),L=S.data[2+k],B=S.data.subarray(3+k).indexOf(0);if(B===-1)return;const U=Yo(pw(S.data,3+k,B));let N;return N=D==="-->"?Yo(pw(S.data,4+k+B)):(V=S.data.subarray(4+k+B))instanceof ArrayBuffer?V:V.byteOffset==0&&V.byteLength==V.buffer.byteLength?V.buffer:new Uint8Array(V).buffer,R.mimeType=D,R.pictureType=L,R.description=U,R.data=N,R;var V})(x):(function(S){if(S.size<2)return;if(S.type==="TXXX"){let k=1;const D=Yo(S.data.subarray(k),!0);k+=D.length+1;const L=Yo(S.data.subarray(k));return{key:S.type,info:D,data:L}}const R=Yo(S.data.subarray(1));return{key:S.type,info:"",data:R}})(x)}function ZF(x,S){let R=0;return R=(127&x[S])<<21,R|=(127&x[S+1])<<14,R|=(127&x[S+2])<<7,R|=127&x[S+3],R}function $ie(x){const S=String.fromCharCode(x[0],x[1],x[2],x[3]),R=ZF(x,4);return{type:S,size:R,data:x.subarray(10,10+R)}}function qie(x,S){return S+10<=x.length&&x[S]===51&&x[S+1]===68&&x[S+2]===73&&x[S+3]<255&&x[S+4]<255&&x[S+6]<128&&x[S+7]<128&&x[S+8]<128&&x[S+9]<128}function jie(x,S){return S+10<=x.length&&x[S]===73&&x[S+1]===68&&x[S+2]===51&&x[S+3]<255&&x[S+4]<255&&x[S+6]<128&&x[S+7]<128&&x[S+8]<128&&x[S+9]<128}function JF(){let x,S,R,k,D,L,B;const U=this.context;function N(Q,M){const re=M?M.index:0,ye=S.getAdaptationsForType(D[re].mpd.manifest,re,Q);if(!ye||ye.length===0)return null;if(ye.length>1&&M){for(let ke=0,xe=ye.length;ke<xe;ke++)if(ue=ye[ke],S.getRolesForAdaptation(ue).filter((function(Oe){return Oe.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&Oe.value===Re.default.MAIN}))[0])return ye[ke]}var ue;return ye[0]}function V(Q,M,re,ye,ue,ke){let xe,Oe,Ge,Ne,Z,le,ve=[];if(!ye||ye.length===0)return[];const de=S.getAdaptationsForPeriod(M);for(Ne=0,le=ye.length;Ne<le;Ne++)if(xe=ye[Ne],Ge=S.getIndexForAdaptation(xe,Q,re.index),Oe=ie(de[Ge]),ke){let Y=Oe.accessibility.length;for(Z=0;Z<Y;Z++){if(!Oe)continue;let ce=Oe.accessibility[Z];if(ce.schemeIdUri===L.ACCESSIBILITY_CEA608_SCHEME)if(ce.value&&ce.value!==""){let oe=ce.value.split(";");if(oe[0].substring(0,2)==="CC")for(Z=0;Z<oe.length;Z++)Oe||(Oe=ie.call(this,de[Ge])),fe(Oe,oe[Z].substring(0,3),oe[Z].substring(4)),ve.push(Oe),Oe=null;else for(Z=0;Z<oe.length;Z++)Oe||(Oe=ie.call(this,de[Ge])),fe(Oe,"CC"+(Z+1),oe[Z]),ve.push(Oe),Oe=null}else fe(Oe,L.CC1,"eng"),ve.push(Oe),Oe=null}}else ue===L.IMAGE?(Oe.type=L.IMAGE,ve.push(Oe),Oe=null):Oe&&ve.push(Oe);if(k.get().streaming.includePreselectionsInMediainfoArray){const Y=S.getPreselectionsForPeriod(M);for(Ne=0,le=Y.length;Ne<le;Ne++){const ce=Y[Ne];ce.hasOwnProperty("type")&&ce.type===ue&&(Oe=se(Y[Ne]),Oe&&ve.push(Oe))}}return ve}function W(Q){const M=O(Q);return S.getRegularPeriods(M)}function O(Q){const M=H(Q);return S.getMpd(M)}function z(){D=[]}function H(Q){return Q||(D.length>0?D[0].mpd.manifest:null)}function X(Q){try{const M=te(Q.streamInfo,D),re=S.getAdaptationsForPeriod(M);return Q&&Q.streamInfo&&Q.streamInfo.id!==void 0&&re?re[Q.index]:null}catch{return null}}function te(Q,M){const re=M.length;for(let ye=0;ye<re;ye++){let ue=M[ye];if(Q&&Q.id===ue.id)return ue}return null}function ie(Q){if(!Q)return null;let M=new xb;const re=Q.period.mpd.manifest.Period[Q.period.index].AdaptationSet[Q.index];M.id=Q.id,M.index=Q.index,M.codec=S.getCodec(re);const ye=k.get().streaming.enhancement.codecs;return M.type=ye.some((ue=>M.codec?.includes(ue)))?p.default.ENHANCEMENT:Q.type,M.streamInfo=me(Q.period),M.representationCount=S.getRepresentationCount(re),M.labels=S.getLabelsForAdaptation(re),M.lang=S.getLanguageForAdaptation(re),M.segmentAlignment=S.getSegmentAlignment(re),M.subSegmentAlignment=S.getSubSegmentAlignment(re),M.viewpoint=S.getViewpointForAdaptation(re),M.accessibility=S.getAccessibilityForAdaptation(re),M.accessibility.filter((function(ue){if(ue.schemeIdUri&&ue.schemeIdUri.search("cea-608")>=0&&B!==void 0)return!0}))[0]&&(M.embeddedCaptions=!0),M.audioChannelConfiguration=S.getAudioChannelConfigurationForAdaptation(re),M.audioChannelConfiguration.length===0&&re.Representation&&re.Representation.length>0&&(M.audioChannelConfiguration=S.getAudioChannelConfigurationForRepresentation(re.Representation[0])),M.roles=S.getRolesForAdaptation(re),M.mimeType=S.getMimeType(re),M.contentProtection=S.getContentProtectionByAdaptation(re),M.bitrateList=S.getBitrateListForAdaptation(re),M.selectionPriority=S.getSelectionPriority(re),M.contentProtection&&M.contentProtection.length>0&&(M.contentProtection=(function(ue,ke){if(!ue||!ue.length||!ke)return ue;const xe=S.getContentProtectionByManifest(ke);if(!xe||!xe.length)return ue;const Oe=xe.reduce(((Ge,Ne)=>(Ne.refId&&Ge.set(Ne.refId,Ne),Ge)),new Map);return ue.map((Ge=>{if(Ge.ref){const Ne=Oe.get(Ge.ref);Ne&&Ge.mergeAttributesFromReference(Ne)}return Ge}))})(M.contentProtection,Q.period.mpd.manifest),M.contentProtection=(function(ue){const ke=ue.map((xe=>xe.cencDefaultKid)).filter((xe=>xe!==null));if(ke.length){const xe=ke[0];ue.forEach((Oe=>{Oe.keyId=xe}))}return ue})(M.contentProtection),M.normalizedKeyIds=(function(ue){const ke=new Set;return ue.forEach((xe=>{xe.cencDefaultKid&&typeof xe.cencDefaultKid=="string"&&ke.add(xe.cencDefaultKid.replace(/-/g,"").toLowerCase())})),ke})(M.contentProtection)),M.isText=S.getIsText(re),M.essentialProperties=S.getCombinedEssentialPropertiesForAdaptationSet(re),M.supplementalProperties=S.getCombinedSupplementalPropertiesForAdaptationSet(re),M.isFragmented=S.getIsFragmented(re),M.isEmbedded=!1,M.adaptationSetSwitchingCompatibleIds=(function(ue){if(!ue||!ue.supplementalProperties)return[];let ke=[];const xe=ue.supplementalProperties.filter((Oe=>Oe.schemeIdUri===Re.default.ADAPTATION_SET_SWITCHING_SCHEME_ID_URI));return xe&&xe.length>0&&(ke=xe[0].value.toString().split(",").map((Oe=>Oe))),ke})(M),M.segmentSequenceProperties=S.getSegmentSequencePropertiesForAdaptationSet(re),M}function se(Q){if(!Q)return null;let M=new xb;const re=Q.period.mpd.manifest.Period[Q.period.index].Preselection[Q.index],ye=Q.period.mpd.manifest.Period[Q.period.index].AdaptationSet,ue=S.getAdaptationsForPeriod(Q.period);return M=ie(S.getMainAdaptationSetForPreselection(re,ue)),M&&(M.isPreselection=!0,M.tag=Q.tag,M.id=Q.id,M.codec=S.getCodecForPreselection(re,ye),M.selectionPriority=S.getSelectionPriority(re),M.labels=S.getLabelsForAdaptation(re),M.lang=S.getLanguageForAdaptation(re),M.viewpoint=S.getViewpointForAdaptation(re),M.accessibility=S.getAccessibilityForAdaptation(re),M.audioChannelConfiguration=S.getAudioChannelConfigurationForAdaptation(re),M.roles=S.getRolesForAdaptation(re),M.essentialProperties=S.getCombinedEssentialPropertiesForAdaptationSet(re),M.supplementalProperties=S.getCombinedSupplementalPropertiesForAdaptationSet(re)),M}function fe(Q,M,re){Q.id=M,Q.index=100+parseInt(M.substring(2,3)),Q.type=L.TEXT,Q.codec="cea-608-in-SEI",Q.isEmbedded=!0,Q.isFragmented=!1,Q.lang=Db(re),Q.roles=[{schemeIdUri:"urn:mpeg:dash:role:2011",value:"caption"}]}function me(Q){let M=new VF;return M.id=Q.id,M.index=Q.index,M.start=Q.start,M.duration=Q.duration,M.manifestInfo=(function(re){let ye=new Die;return ye.dvrWindowSize=re.timeShiftBufferDepth,ye.loadedTime=re.manifest.loadedTime,ye.availableFrom=re.availabilityStartTime,ye.minBufferTime=re.manifest.minBufferTime,ye.maxFragmentDuration=re.maxSegmentDuration,ye.duration=S.getDuration(re.manifest),ye.isDynamic=S.getIsDynamic(re.manifest),ye.serviceDescriptions=S.getServiceDescriptions(re.manifest),ye.protocol=re.manifest.protocol,ye})(Q.mpd),M.isLast=Q.mpd.manifest.Period.length===1||Math.abs(M.start+M.duration-M.manifestInfo.duration)<1,M.isEncrypted=Q.isEncrypted,M}function pe(){if(!L)throw new Error("setConfig function has to be called previously")}function _e(Q){return D.length>0?D[0].mpd.manifest.Period[Q]:null}function ee(Q,M,re){let ye,ue,ke,xe,Oe,Ge;if(Q){for(ue=Q.AdaptationSet,Oe=0;Oe<ue.length;Oe+=1)for(ye=ue[Oe],xe=ye.Representation,Ge=0;Ge<xe.length;Ge+=1)if(ke=xe[Ge],M===ke.id)return re?Ge:ke}return null}return x={applyPatchToManifest:function(Q,M){R.getPatchOperations(M).forEach((re=>{let ye=re.getMpdTarget(Q);if(ye===null)return;let{name:ue,target:ke,leaf:xe}=ye;if(re.xpath.findsAttribute()||ue==="__text"){switch(re.action){case"add":case"replace":ke[ue]=re.value;break;case"remove":delete ke[ue]}return}let Oe=(ke[ue]||[]).indexOf(xe),Ge=re.position==="prepend"||re.position==="before";if(re.action==="remove"||re.action==="replace")if(Array.isArray(ke[ue])){if(Oe!=-1){let Ne=ke[ue];Ne.splice(Oe,1),Ne.length>0?ke[ue]=Ne:delete ke[ue]}}else delete ke[ue];re.action!=="add"&&re.action!=="replace"||Object.keys(re.value).forEach((Ne=>{let Z=re.value[Ne],le=ke[Ne]||[];if(le.length===0&&ke[Ne]&&le.push(ke[Ne]),le.length===0)le=Z;else{let ve=le.length;ve=Ne==ue&&Oe!=-1?Oe+(Ge?0:1)+(re.action==="replace"?-1:0):Ge?0:le.length,le.splice.apply(le,[ve,0].concat(Z))}ke[Ne]=le}))}))},areMediaInfosEqual:function(Q,M){if(!Q||!M)return!1;const re=Q.id===M.id,ye=Q.codec===M.codec,ue=JSON.stringify(Q.viewpoint)===JSON.stringify(M.viewpoint),ke=Q.lang===M.lang,xe=JSON.stringify(Q.roles)===JSON.stringify(M.roles),Oe=JSON.stringify(Q.accessibility)===JSON.stringify(M.accessibility),Ge=JSON.stringify(Q.audioChannelConfiguration)===JSON.stringify(M.audioChannelConfiguration);return re&&ye&&ue&&ke&&xe&&Oe&&Ge},getAllMediaInfoForType:function(Q,M,re){let ye=D,ue=re,ke=[];if(ue)pe(),ye=W(ue);else{if(!(D.length>0))return ke;ue=D[0].mpd.manifest}const xe=te(Q,ye);let Oe=S.getAdaptationsForType(ue,Q?Q.index:null,M);return ke=V(ue,xe,Q,Oe,M),M===L.TEXT&&(Oe=S.getAdaptationsForType(ue,Q?Q.index:null,L.VIDEO),ke=ke.concat(V(ue,xe,Q,Oe,M,!0))),ke},getAvailabilityStartTime:function(Q){const M=O(Q);return S.getAvailabilityStartTime(M)},getBandwidthForRepresentation:function(Q,M){let re;return re=ee(_e(M),Q),re?re.bandwidth:null},getBaseURLsFromElement:function(Q){return S.getBaseURLsFromElement(Q)},getCodec:function(Q,M,re){return S.getCodec(Q,M,re)},getCodecForPreselection:function(Q,M){return S.getCodecForPreselection(Q,M)},getContentSteering:function(Q){return S.getContentSteering(Q)},getDuration:function(Q){const M=H(Q);return S.getDuration(M)},getEssentialProperties:function(Q){try{return S.getEssentialProperties(Q)}catch{return[]}},getEvent:function(Q,M,re,ye){try{if(!Q||!M||isNaN(re)||!ye)return null;const ue=Q.scheme_id_uri,ke=Q.value;if(!M[ue+"/"+ke])return null;const xe=new ln,Oe=Q.timescale||1,Ge=ye.adaptation.period.start,Ne=M[ue+"/"+ke],Z=isNaN(ye.presentationTimeOffset)?isNaN(Ne.presentationTimeOffset)?0:Ne.presentationTimeOffset:ye.presentationTimeOffset;let le,ve=Q.presentation_time_delta/Oe;le=Q.version===0?Ge+re-Z+ve:Ge-Z+ve;const de=Q.event_duration/Oe,Y=Q.id,ce=Q.message_data;return xe.eventStream=Ne,xe.eventStream.value=ke,xe.eventStream.timescale=Oe,xe.duration=de,xe.id=Y,xe.calculatedPresentationTime=le,xe.messageData=ce,xe.presentationTimeDelta=ve,xe.parsedMessageData=ue===p.default.ID3_SCHEME_ID_URI?(function(oe){let Ae=0;const Se=[];for(;jie(oe,Ae);){const De=ZF(oe,Ae+6);oe[Ae+5]>>6&1&&(Ae+=10),Ae+=10;const ze=Ae+De;for(;Ae+10<ze;){const Ue=$ie(oe.subarray(Ae)),tt=zie(Ue);tt&&Se.push(tt),Ae+=Ue.size+10}qie(oe,Ae)&&(Ae+=10)}return Se})(ce):null,xe}catch{return null}},getEventsFor:function(Q,M,re){let ye=[];if(D.length>0){const ue=D[0].mpd.manifest;if(Q instanceof VF){const ke=te(Q,D);ye=S.getEventsForPeriod(ke)}else if(Q instanceof xb){const ke=te(re,D);ye=S.getEventStreamForAdaptationSet(ue,X(Q),ke)}else if(Q instanceof sn){const ke=te(re,D);ye=S.getEventStreamForRepresentation(ue,M,ke)}}return ye},getFramerate:function(Q){return S.getFramerate(Q)},getIndexForRepresentation:function(Q,M){return(function(re,ye){const ue=ee(re,ye,!0);return ue!==null?ue:-1})(_e(M),Q)},getIsDVB:function(Q){return S.hasProfile(Q,"urn:dvb:dash:profile:dvb-dash:2014")},getIsDynamic:function(Q){const M=H(Q);return S.getIsDynamic(M)},getIsPatch:function(Q){return R.getIsPatch(Q)},getIsTextTrack:function(Q){return S.getIsText(Q)},getIsTypeOf:function(Q,M){return S.getIsTypeOf(Q,M)},getLocation:function(Q){return S.getLocation(Q)},getMainAdaptationForType:N,getMainAdaptationSetForPreselection:function(Q,M){return S.getMainAdaptationSetForPreselection(Q,M)},getCommonRepresentationForPreselection:function(Q,M){return S.getCommonRepresentationForPreselection(Q,M)},getManifestUpdatePeriod:function(Q,M=0){return S.getManifestUpdatePeriod(Q,M)},getMediaInfoForType:function(Q,M){if(D.length===0||!Q)return null;let re=te(Q,D);if(!re)return null;const ye=S.getAdaptationsForPeriod(re);let ue=N(M,Q);return ue?ie(ye[S.getIndexForAdaptation(ue,D[0].mpd.manifest,Q.index)]):null},getMpd:O,getPatchLocation:function(Q){const M=S.getPatchLocation(Q),re=S.getPublishTime(Q);return M&&M.length!==0&&re?M.filter((ye=>isNaN(ye.ttl)||re.getTime()+ye.ttl>new Date().getTime())):[]},getPeriodById:function(Q){if(!Q||D.length===0)return null;const M=D.filter((re=>re.id===Q));return M&&M.length>0?M[0]:null},getPreselectionIsTypeOf:function(Q,M,re){return S.getPreselectionIsTypeOf(Q,M,re)},getProducerReferenceTimes:function(Q,M){let re,ye;const ue=te(Q,D);return re=M?M.id:null,D.length>0&&ue&&(ye=re?S.getAdaptationForId(re,D[0].mpd.manifest,ue.index):S.getAdaptationForIndex(M?M.index:null,D[0].mpd.manifest,ue.index)),ye?S.getProducerReferenceTimesForAdaptation(ye):[]},getPublishTime:function(Q){return S.getPublishTime(Q)},getRealAdaptation:function(Q,M){let re,ye;const ue=te(Q,D);return re=M?M.id:null,D.length>0&&ue&&(ye=re?S.getAdaptationForId(re,D[0].mpd.manifest,ue.index):S.getAdaptationForIndex(M?M.index:null,D[0].mpd.manifest,ue.index)),ye},getRealPeriodByIndex:function(Q){return S.getRealPeriodForIndex(Q,D[0].mpd.manifest)},getRegularPeriods:W,getRepresentationSortFunction:function(){return S.getRepresentationSortFunction()},getStreamsInfo:function(Q,M){const re=[];let ye=D;if(Q&&(pe(),ye=W(Q)),ye.length>0){(!M||M>ye.length)&&(M=ye.length);for(let ue=0;ue<M;ue++)re.push(me(ye[ue]))}return re},getSuggestedPresentationDelay:function(){const Q=D.length>0?D[0].mpd:null;return S.getSuggestedPresentationDelay(Q)},getSupplementalCodecs:function(Q){const M=Q[Re.default.SUPPLEMENTAL_CODECS];return M?M.split(" ").map((re=>Q.mimeType+';codecs="'+re+'"')):[]},getUTCTimingSources:function(){const Q=H();return S.getUTCTimingSources(Q)},getVoRepresentations:function(Q){let M;const re=X(Q);return M=S.getRepresentationsForAdaptation(re,Q),M},isPatchValid:function(Q,M){let re=S.getId(Q),ye=R.getMpdId(M),ue=S.getPublishTime(Q),ke=R.getPublishTime(M),xe=R.getOriginalPublishTime(M);return!!(re&&ye&&re==ye&&ue&&xe&&ue.getTime()==xe.getTime()&&ke&&ue.getTime()<ke.getTime())},reset:z,setConfig:function(Q){Q&&(Q.constants&&(L=Q.constants),Q.cea608parser&&(B=Q.cea608parser),Q.errHandler&&S.setConfig({errHandler:Q.errHandler}),Q.BASE64&&S.setConfig({BASE64:Q.BASE64}))},updatePeriods:function(Q){if(!Q)return null;pe(),D=W(Q)}},S=Sr(U).getInstance(),R=Oie(U).getInstance(),k=(0,u.default)(U).getInstance(),z(),x}JF.__dashjs_factory_name="DashAdapter";var Hie=r.default.getSingletonFactory(JF);class Gie{static round10(S,R){return(function(k,D,L){return L===void 0||+L==0?Math[k](D):(L=+L,(D=+D)===null||isNaN(D)||typeof L!="number"||L%1!=0?NaN:(D=D.toString().split("e"),+((D=(D=Math[k](+(D[0]+"e"+(D[1]?+D[1]-L:-L)))).toString().split("e"))[0]+"e"+(D[1]?+D[1]+L:L))))})("round",S,R)}}var Vie=class{constructor(){this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]}},Kie=class{constructor(){this.t=null,this.mt=null,this.to=null,this.lto=null}},Wie=class{constructor(){this.t=null,this.level=null}},Yie=class{constructor(){this.target=null,this.state=o.BUFFER_EMPTY}},Xie=class{constructor(){this.time=null,this.range=null,this.manifestInfo=null}},Qie=class{constructor(){this.time=null,this.droppedFrames=null}};class Zie{constructor(){this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]}}class Jie{constructor(){this.id=null,this.index=null,this.start=null,this.duration=null}}class eae{constructor(){this.id=null,this.index=null,this.mediaType=null,this.presentationTimeOffset=null,this.startNumber=null}}var tae=class{constructor(){this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.bandwidth=null,this.range=null,this.state=null}},nae=class{constructor(){this.loadingRequests=[],this.executedRequests=[]}};function eU(x){const S=(x=x||{}).settings;let R,k,D=this.context,L=(0,h.default)(D).getInstance();function B(){L.trigger(f.default.METRICS_CHANGED)}function U(H){L.trigger(f.default.METRIC_CHANGED,{mediaType:H}),B()}function N(H,X,te){L.trigger(f.default.METRIC_UPDATED,{mediaType:H,metric:X,value:te}),U(H)}function V(H,X,te){L.trigger(f.default.METRIC_ADDED,{mediaType:H,metric:X,value:te}),U(H)}function W(H,X){let te=null;return H&&(k.hasOwnProperty(H)?te=k[H]:X||(te=new Vie,k[H]=te)),te}function O(H,X,te){let ie=W(H);ie!==null&&(ie[X].push(te),ie[X].length>S.get().streaming.metrics.maxListDepth&&ie[X].shift())}function z(H,X,te){O(H,X,te),V(H,X,te)}return R={addBufferLevel:function(H,X,te){let ie=new Wie;ie.t=X,ie.level=te,z(H,o.BUFFER_LEVEL,ie)},addBufferState:function(H,X,te){let ie=new Yie;ie.target=te,ie.state=X,z(H,o.BUFFER_STATE,ie)},addDVBErrors:function(H){z(p.default.STREAM,o.DVB_ERRORS,H)},addDVRInfo:function(H,X,te,ie){let se=new Xie;se.time=X,se.range=ie,se.manifestInfo=te,z(H,o.DVR_INFO,se)},addDroppedFrames:function(H,X){let te=new Qie,ie=W(H).DroppedFrames;X&&(te.time=X.creationTime,te.droppedFrames=X.droppedVideoFrames,ie.length>0&&ie[ie.length-1]==te||z(H,o.DROPPED_FRAMES,te))},addHttpRequest:function H(X,te,ie,se){let fe=new w.HTTPRequest;te.url&&te.url!==X.url&&(H({mediaType:X.mediaType,type:X.type,url:X.url,serviceLocation:null,range:X.range,startDate:X.startDate,firstByteDate:null,endDate:null,duration:X.duration,fileLoaderType:X.fileLoaderType,resourceTimingValues:X.resourceTimingValues},{url:null,status:null,headers:null},null,se),fe.actualurl=te.url),fe.tcpid=null,fe.type=X.type,fe.url=X.url,fe.range=X.range||null,fe.trequest=X.startDate,fe.tresponse=X.firstByteDate,fe.responsecode=te.status,fe.cmsd=se,fe._tfinish=X.endDate,fe._stream=X.mediaType,fe._mediaduration=X.duration,fe._responseHeaders="";for(const me in te.headers)fe._responseHeaders+=me+": "+te.headers[me]+`\r
`;fe._serviceLocation=X.serviceLocation||null,fe._fileLoaderType=X.fileLoaderType,fe._resourceTimingValues=X.resourceTimingValues,fe._streamId=X&&X.representation&&X.representation.mediaInfo&&X.representation.mediaInfo.streamInfo?X.representation.mediaInfo.streamInfo.id:null,ie?ie.forEach((me=>{(function(pe,_e,ee,Q){let M=new w.HTTPRequestTrace;M.s=_e,M.d=ee,M.b=Q,pe.trace.push(M),pe.interval||(pe.interval=0),pe.interval+=ee})(fe,me.s,me.d,me.b,me.t)})):(delete fe.interval,delete fe.trace),z(X.mediaType,o.HTTP_REQUEST,fe)},addManifestUpdate:function(H,X,te,ie){let se=new Zie;se.mediaType=H,se.type=X,se.requestTime=te,se.fetchTime=ie,O(p.default.STREAM,o.MANIFEST_UPDATE,se),V(H,o.MANIFEST_UPDATE,se)},addManifestUpdateRepresentationInfo:function(H,X,te){if(H&&H.representationInfo){const ie=new eae;ie.id=X?X.id:null,ie.index=X?X.index:null,ie.mediaType=te,ie.startNumber=X?X.startNumber:null,ie.presentationTimeOffset=X?X.presentationTimeOffset:null,H.representationInfo.push(ie),N(H.mediaType,o.MANIFEST_UPDATE_TRACK_INFO,H)}},addManifestUpdateStreamInfo:function(H,X,te,ie,se){if(H){let fe=new Jie;fe.id=X,fe.index=te,fe.start=ie,fe.duration=se,H.streamInfo.push(fe),N(H.mediaType,o.MANIFEST_UPDATE_STREAM_INFO,H)}},addPlayList:function(H){H.trace&&Array.isArray(H.trace)?H.trace.forEach((X=>{X.hasOwnProperty("subreplevel")&&!X.subreplevel&&delete X.subreplevel})):delete H.trace,z(p.default.STREAM,o.PLAY_LIST,H)},addRepresentationSwitch:function(H,X,te,ie,se){let fe=new Kie;fe.t=X,fe.mt=te,fe.to=ie,se?fe.lto=se:delete fe.lto,z(H,o.TRACK_SWITCH,fe)},addRequestsQueue:function(H,X,te){let ie=new nae;ie.loadingRequests=X,ie.executedRequests=te,W(H).RequestsQueue=ie,V(H,o.REQUESTS_QUEUE,ie)},addSchedulingInfo:function(H,X,te,ie,se,fe,me,pe,_e){let ee=new tae;ee.mediaType=H,ee.t=X,ee.type=te,ee.startTime=ie,ee.availabilityStartTime=se,ee.duration=fe,ee.bandwidth=me,ee.range=pe,ee.state=_e,z(H,o.SCHEDULING_INFO,ee)},clearAllCurrentMetrics:function(){k={},B()},clearCurrentMetricsForType:function(H){delete k[H],U(H)},getMetricsFor:W,updateManifestUpdateInfo:function(H,X){if(H){for(let te in X)H[te]=X[te];N(H.mediaType,o.MANIFEST_UPDATE,H)}}},k={},R}eU.__dashjs_factory_name="MetricsModel";var rae=r.default.getSingletonFactory(eU);class Ou{constructor(){this.start=null,this.mstart=null,this.starttype=null,this.trace=[]}}Ou.INITIAL_PLAYOUT_START_REASON="initial_playout",Ou.SEEK_START_REASON="seek",Ou.RESUME_FROM_PAUSE_START_REASON="resume",Ou.METRICS_COLLECTION_START_REASON="metrics_collection_start";class ka{constructor(){this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null}}function tU(x){x=x||{};const S=this.context;let R,k,D,L,B=x.metricsModel;function U(W){const O=B.getMetricsFor(W,!0);if(!O)return null;const z=O.HttpList;let H,X=null;if(!z||z.length<=0)return null;for(H=z.length-1;H>=0;){if(z[H].responsecode){X=z[H];break}H--}return X}function N(W){const O=B.getMetricsFor(W,!0);return O&&O.HttpList?O.HttpList:[]}function V(W,O){if(!W)return null;const z=W[O];return z&&z.length!==0?z[z.length-1]:null}return R={getCurrentRepresentationSwitch:function(W){return V(B.getMetricsFor(W,!0),o.TRACK_SWITCH)},getCurrentBufferState:function(W){return V(B.getMetricsFor(W,!0),o.BUFFER_STATE)},getCurrentBufferLevel:function(W){const O=V(B.getMetricsFor(W,!0),o.BUFFER_LEVEL);return O?Gie.round10(O.level/1e3,-3):0},getCurrentHttpRequest:U,getHttpRequests:N,getCurrentDroppedFrames:function(){return V(B.getMetricsFor(p.default.VIDEO,!0),o.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(W){return V(B.getMetricsFor(W,!0),o.SCHEDULING_INFO)},getCurrentDVRInfo:function(W){return V(W?B.getMetricsFor(W,!0):B.getMetricsFor(p.default.VIDEO,!0)||B.getMetricsFor(p.default.AUDIO,!0),o.DVR_INFO)},getCurrentManifestUpdate:function(){return V(B.getMetricsFor(p.default.STREAM),o.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(W,O){if(!O)return null;let z={},H=U(W);H&&(z=ot.default.parseHttpHeaders(H._responseHeaders));const X=z[O.toLowerCase()];return X===void 0?null:X},getLatestMPDRequestHeaderValueByID:function(W){if(!W)return null;let O,z,H,X={};for(O=N(p.default.STREAM),H=O.length-1;H>=0;H--)if(z=O[H],z.type===w.HTTPRequest.MPD_TYPE){X=ot.default.parseHttpHeaders(z._responseHeaders);break}const te=X[W.toLowerCase()];return te===void 0?null:te},addRepresentationSwitch:function(W,O,z,H,X){B.addRepresentationSwitch(W,O,z,H,X)},addDVRInfo:function(W,O,z,H){B.addDVRInfo(W,O,z,H)},updateManifestUpdateInfo:function(W){const O=this.getCurrentManifestUpdate();B.updateManifestUpdateInfo(O,W)},addManifestUpdateStreamInfo:function(W){if(W){const O=this.getCurrentManifestUpdate();B.addManifestUpdateStreamInfo(O,W.id,W.index,W.start,W.duration)}},addManifestUpdateRepresentationInfo:function(W,O){if(W){const z=this.getCurrentManifestUpdate();B.addManifestUpdateRepresentationInfo(z,W,O)}},addManifestUpdate:function(W){B.addManifestUpdate(p.default.STREAM,W.type,W.startDate,W.endDate)},addHttpRequest:function(W,O,z,H,X,te){const ie={status:z,headers:H,url:O};B.addHttpRequest(W,ie,X,te)},addSchedulingInfo:function(W,O){B.addSchedulingInfo(W.mediaType,new Date,W.type,W.startTime,W.availabilityStartTime,W.duration,W.bandwidth,W.range,O)},addRequestsQueue:function(W,O,z){B.addRequestsQueue(W,O,z)},addBufferLevel:function(W,O,z){B.addBufferLevel(W,O,z)},addBufferState:function(W,O,z){B.addBufferState(W,O,z)},addDroppedFrames:function(W){B.addDroppedFrames(p.default.VIDEO,W)},addPlayList:function(){L&&(B.addPlayList(L),L=null)},addDVBErrors:function(W){B.addDVBErrors(W)},createPlaylistMetrics:function(W,O){L=new Ou,L.start=new Date,L.mstart=W,L.starttype=O},createPlaylistTraceMetrics:function(W,O,z){k===!0&&(k=!1,D=new ka,D.representationid=W,D.start=new Date,D.mstart=O,D.playbackspeed=z!==null?z.toString():null)},updatePlayListTraceMetrics:function(W){if(D)for(let O in D)D[O]=W[O]},pushPlayListTraceMetrics:function(W,O){if(k===!1&&L&&D&&D.start){const z=D.start;D.duration=W.getTime()-z.getTime(),D.stopreason=O,L.trace.push(D),k=!0}},clearAllCurrentMetrics:function(){B.clearAllCurrentMetrics()}},B=B||rae(S).getInstance({settings:x.settings}),k=!0,D=null,L=null,R}ka.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",ka.REBUFFERING_REASON="rebuffering",ka.USER_REQUEST_STOP_REASON="user_request",ka.END_OF_PERIOD_STOP_REASON="end_of_period",ka.END_OF_CONTENT_STOP_REASON="end_of_content",ka.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",ka.FAILURE_STOP_REASON="failure",tU.__dashjs_factory_name="DashMetrics";var iae=r.default.getSingletonFactory(tU);function nU(){let x;const S=this.context,R=(0,h.default)(S).getInstance();return x={error:function(k){R.trigger(f.default.ERROR,{error:k})}},x}nU.__dashjs_factory_name="ErrorHandler";var aae=r.default.getSingletonFactory(nU),sae=n(5560);function rU(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D,L,B,U,N,V,W,O,z,H;function X(){H.debug("Stopping the gap controller"),B&&(clearInterval(B),B=null),(function(){S.off(f.default.WALLCLOCK_TIME_UPDATED,me,this),S.off(f.default.INITIAL_STREAM_SWITCH,fe,this),S.off(f.default.PLAYBACK_SEEKING,te,this),S.off(f.default.BUFFER_REPLACEMENT_STARTED,ie,R),S.off(f.default.TRACK_CHANGE_RENDERED,se,R)})(),B=null,U=NaN,L=0,O=null,z={}}function te(){O&&(clearTimeout(O),O=null)}function ie(ee){try{if(ee.streamId!==V.getActiveStreamInfo().id||ee.mediaType!==p.default.VIDEO&&ee.mediaType!==p.default.AUDIO)return;ee.streamId===V.getActiveStreamInfo().id&&(z[ee.mediaType]=!0)}catch(Q){H.error(Q)}}function se(ee){ee&&ee.mediaType&&(z[ee.mediaType]=!1)}function fe(){B||(function(){try{B||(H.debug("Starting the gap controller"),B=setInterval((()=>{pe()&&_e(N.getTime())}),100))}catch{}})()}function me(){if(pe(D.get().streaming.gaps.enableSeekFix)&&(L++,L>=10)){const ee=N.getTime();k===ee?_e(ee,!0):(k=ee,U=NaN),L=0}}function pe(ee=!1){if(!V.getActiveStream())return!1;const Q=Object.keys(z).some((re=>z[re])),M=!!ee&&(function(){const re=V.getActiveStream(),ye=parseFloat((re.getStartTime()+re.getDuration()).toFixed(5));return N.getTime()+D.get().streaming.gaps.threshold>=ye})();return!Q&&D.get().streaming.gaps.jumpGaps&&V.getActiveStreamProcessors().length>0&&(!N.isSeeking()||M)&&!N.isPaused()&&!V.getIsStreamSwitchInProgress()&&!V.getHasMediaOrInitialisationError()}function _e(ee,Q=!1){const M=D.get().streaming.gaps.enableStallFix,re=D.get().streaming.gaps.stallSeek,ye=D.get().streaming.gaps.smallGapLimit,ue=D.get().streaming.gaps.jumpLargeGaps,ke=W.getBufferRange();let xe,Oe=NaN,Ge=!1;if(xe=(function(Z,le){try{if(!Z||Z.length<=1&&le>0)return NaN;let ve=NaN,de=0;for(;isNaN(ve)&&de<Z.length;){const Y=de>0?Z.end(de-1):0;le<Z.start(de)&&Y-le<D.get().streaming.gaps.threshold&&(ve=de),de+=1}return ve}catch{return null}})(ke,ee),!isNaN(xe)){const Z=ke.start(xe),le=Z-ee;le>0&&(le<=ye||ue)&&(Oe=Z)}const Ne=N.getTimeToStreamEnd();if(isNaN(Oe)&&Q&&isFinite(Ne)&&!isNaN(Ne)&&Ne<ye&&(Oe=parseFloat(N.getStreamEndTime().toFixed(5)),Ge=!0),M&&isNaN(Oe)&&Q&&isNaN(xe)&&(function(Z,le){for(let ve=0,de=Z.length;ve<de;ve++)if(le>=Z.start(ve)&&le<=Z.end(ve))return!0;return!1})(ke,ee)&&(re===0?(H.warn("Toggle play pause to break stall"),W.pause(),W.play()):(H.warn(`Jumping ${re}s to break stall`),Oe=ee+re)),Oe>0&&U!==Oe&&Oe>ee&&!O){const Z=Oe-ee;if(Ge){const le=V.getStreamForTime(Oe),ve=le&&!!le.getPreloaded();H.warn(`Jumping to end of stream because of gap from ${ee} to ${Oe}. Gap duration: ${Z}`),N.seek(Oe,!0,ve)}else{const le=N.getIsDynamic(),ve=xe>0?ke.end(xe-1):ee,de=le?1e3*Math.max(0,Z-.1):0;O=window.setTimeout((()=>{N.seek(Oe,!0,!0);const Y=V.getActiveStream();Y&&H.warn(`Jumping gap occuring in period ${Y.getStreamId()} starting at ${ve} and ending at ${Oe}. Jumping by: ${Oe-ve}`),O=null}),de)}U=Oe}}return R={reset:X,setConfig:function(ee){ee&&(ee.settings&&(D=ee.settings),ee.playbackController&&(N=ee.playbackController),ee.streamController&&(V=ee.streamController),ee.videoModel&&(W=ee.videoModel))},initialize:function(){(function(){S.on(f.default.WALLCLOCK_TIME_UPDATED,me,this),S.on(f.default.INITIAL_STREAM_SWITCH,fe,this),S.on(f.default.PLAYBACK_SEEKING,te,this),S.on(f.default.BUFFER_REPLACEMENT_STARTED,ie,R),S.on(f.default.TRACK_CHANGE_RENDERED,se,R)})()}},H=(0,l.default)(x).getInstance().getLogger(R),X(),R}rU.__dashjs_factory_name="GapController";var oae=r.default.getSingletonFactory(rU),iU=class extends ae{constructor(x,S){super(),this.url=x||null,this.type=S||null,this.mediaType=p.default.STREAM,this.responseType=""}};function aU(x){x=x||{};const S=this.context,R=(0,h.default)(S).getInstance();let k,D=of(S).create({errHandler:x.errHandler,dashMetrics:x.dashMetrics,mediaPlayerModel:x.mediaPlayerModel,errors:fn});return k={load:function(L,B,U){const N=function(V,W){B.resolved=!0,B.resolvedContent=V||null,R.trigger(f.default.XLINK_ELEMENT_LOADED,{element:B,resolveObject:U,error:V||W?null:new an.default(fn.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,fn.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+L)})};if(L==="urn:mpeg:dash:resolve-to-zero:2013")N(null,!0);else{const V=new iU(L,w.HTTPRequest.XLINK_EXPANSION_TYPE);D.load({request:V,success:function(W){N(W)},error:function(){N(null)}})}},reset:function(){D&&(D.abort(),D=null)}},k}aU.__dashjs_factory_name="XlinkLoader";var lae=r.default.getClassFactory(aU);const cf="onLoad";function sU(x){x=x||{};let S=this.context,R=(0,h.default)(S).getInstance();const k=Ur(S).getInstance();let D,L,B,U;function N(H,X,te){let ie,se,fe={};fe.elements=H,fe.type=X,fe.resolveType=te,fe.elements.length===0&&W(fe);for(let me=0;me<fe.elements.length;me++)ie=fe.elements[me],se=k.isHTTPURL(ie.url)?ie.url:ie.originalContent.BaseURL+ie.url,U.load(se,ie,fe)}function V(H){let X,te,ie="";if(X=H.element,te=H.resolveObject,X.resolvedContent){let se=0;X.resolvedContent.indexOf("<?xml")===0&&(se=X.resolvedContent.indexOf("?>")+2),ie=X.resolvedContent.substr(0,se)+"<response>"+X.resolvedContent.substr(se)+"</response>",X.resolvedContent=L.parseXml(ie).response}(function(se){let fe,me;for(fe=0;fe<se.elements.length;fe++)if(me=se.elements[fe],me.resolved===!1)return!1;return!0})(te)&&W(te)}function W(H){let X,te,ie=[];if((function(se){let fe,me,pe,_e,ee,Q,M=[];for(_e=se.elements.length-1;_e>=0;_e--){if(fe=se.elements[_e],me=fe.type,fe.resolvedContent){if(fe.resolvedContent)for(ee=0;ee<fe.resolvedContent[me].length;ee++)pe=fe.resolvedContent[me][ee],M.push(pe)}else delete fe.originalContent["xlink:actuate"],delete fe.originalContent["xlink:href"],M.push(fe.originalContent);for(fe.parentElement[me].splice(fe.index,1),Q=0;Q<M.length;Q++)fe.parentElement[me].splice(fe.index+Q,0,M[Q]);M=[]}se.elements.length>0&&L.getIron().run(B)})(H),H.resolveType==="onActuate"&&R.trigger(f.default.XLINK_READY,{manifest:B}),H.resolveType===cf)switch(H.type){case Re.default.PERIOD:for(X=0;X<B[Re.default.PERIOD].length;X++)te=B[Re.default.PERIOD][X],te.hasOwnProperty(Re.default.ADAPTATION_SET)&&(ie=ie.concat(O(te[Re.default.ADAPTATION_SET],te,Re.default.ADAPTATION_SET,cf))),te.hasOwnProperty(Re.default.EVENT_STREAM)&&(ie=ie.concat(O(te[Re.default.EVENT_STREAM],te,Re.default.EVENT_STREAM,cf)));N(ie,Re.default.ADAPTATION_SET,cf);break;case Re.default.ADAPTATION_SET:R.trigger(f.default.XLINK_READY,{manifest:B})}}function O(H,X,te,ie){let se,fe,me,pe=[];for(fe=H.length-1;fe>=0;fe--)se=H[fe],se.hasOwnProperty("xlink:href")&&se["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&H.splice(fe,1);for(fe=0;fe<H.length;fe++)se=H[fe],se.hasOwnProperty("xlink:href")&&se.hasOwnProperty("xlink:actuate")&&se["xlink:actuate"]===ie&&(me=z(se["xlink:href"],X,te,fe,ie,se),pe.push(me));return pe}function z(H,X,te,ie,se,fe){return{url:H,parentElement:X,type:te,index:ie,resolveType:se,originalContent:fe,resolvedContent:null,resolved:!1}}return D={resolveManifestOnLoad:function(H){let X;B=H,B.Period?(X=O(B.Period,B,Re.default.PERIOD,cf),N(X,Re.default.PERIOD,cf)):R.trigger(f.default.XLINK_READY,{manifest:B})},setParser:function(H){H&&(L=H)},reset:function(){R.off(f.default.XLINK_ELEMENT_LOADED,V,D),U&&(U.reset(),U=null)}},R.on(f.default.XLINK_ELEMENT_LOADED,V,D),U=lae(S).create({errHandler:x.errHandler,dashMetrics:x.dashMetrics,mediaPlayerModel:x.mediaPlayerModel,settings:x.settings}),D}sU.__dashjs_factory_name="XlinkController";var uae=r.default.getClassFactory(sU);function oU(x){function S(D,L){for(let B in D)L.hasOwnProperty(B)||(L[B]=D[B])}function R(D,L,B){for(let U=0,N=D.length;U<N;++U){const V=D[U];if(L[V.name])if(B[V.name]){if(V.merge){const W=L[V.name],O=B[V.name];typeof W=="object"&&typeof O=="object"?S(W,O):B[V.name]=W+O}}else B[V.name]=L[V.name]}}function k(D,L){for(let B=0,U=D.children.length;B<U;++B){const N=D.children[B],V=L[N.name];if(V)for(let W=0,O=V.length;W<O;++W){const z=V[W];R(D.properties,L,z),k(N,z)}}}return{run:function(D){if(D===null||typeof D!="object")return D;if(D.Period&&"period"in x){const L=x.period,B=D.Period;for(let U=0,N=B.length;U<N;++U){const V=B[U];if(k(L,V),"adaptationset"in x){const W=V.AdaptationSet;if(W){const O=x.adaptationset;for(let z=0,H=W.length;z<H;++z)k(O,W[z])}}}}return D}}}oU.__dashjs_factory_name="ObjectIron";var cae=r.default.getClassFactory(oU),Lb=class{constructor(x,S){this._test=x,this._converter=S}get test(){return this._test}get converter(){return this._converter}};const lU=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;var dae=class extends Lb{constructor(){super(((x,S,R)=>{const k=[Re.default.MIN_BUFFER_TIME,Re.default.MEDIA_PRESENTATION_DURATION,Re.default.MINIMUM_UPDATE_PERIOD,Re.default.TIMESHIFT_BUFFER_DEPTH,Re.default.MAX_SEGMENT_DURATION,Re.default.MAX_SUBSEGMENT_DURATION,Re.default.SUGGESTED_PRESENTATION_DELAY,Re.default.START,p.default.START_TIME,Re.default.DURATION],D=k.length;for(let L=0;L<D;L++)if(S===k[L])return lU.test(R);return!1}),(x=>{const S=lU.exec(x);let R=31536e3*parseFloat(S[3]||0)+2592e3*parseFloat(S[5]||0)+86400*parseFloat(S[7]||0)+3600*parseFloat(S[9]||0)+60*parseFloat(S[11]||0)+parseFloat(S[13]||0);return S[1]!==void 0&&(R=-R),R}))}};const uU=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;var fae=class extends Lb{constructor(){super(((x,S,R)=>uU.test(R)),(x=>{const S=uU.exec(x);let R;if(R=Date.UTC(parseInt(S[1],10),parseInt(S[2],10)-1,parseInt(S[3],10),parseInt(S[4],10),parseInt(S[5],10),S[6]&&parseInt(S[6],10)||0,S[7]&&1e3*parseFloat(S[7])||0),S[9]&&S[10]){const k=60*parseInt(S[9],10)+parseInt(S[10],10);R+=(S[8]==="+"?-1:1)*k*60*1e3}return new Date(R)}))}};const hae=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,pae=[Re.default.ID];var mae=class extends Lb{constructor(){super(((x,S,R)=>hae.test(R)&&pae.indexOf(S)===-1),(x=>parseFloat(x)))}},gae=class extends Lb{constructor(){super(((x,S)=>{const R={[Re.default.ADAPTATION_SET]:[Re.default.LANG],[Re.default.REPRESENTATION]:[Re.default.LANG],[Re.default.CONTENT_COMPONENT]:[Re.default.LANG],[Re.default.LABEL]:[Re.default.LANG],[Re.default.GROUP_LABEL]:[Re.default.LANG]};if(R.hasOwnProperty(x)){let k=R[x];return k!==void 0&&k.indexOf(S)>=0}return!1}),(x=>Db(x)||String(x)))}},yae=class{constructor(x){var S;this._name=x,this._merge=(S=x)&&S.length&&S.charAt(0)===S.charAt(0).toUpperCase()}get name(){return this._name}get merge(){return this._merge}},df=class{constructor(x,S,R){this._name=x||"",this._properties=[],this._children=R||[],Array.isArray(S)&&S.forEach((k=>{this._properties.push(new yae(k))}))}get name(){return this._name}get children(){return this._children}get properties(){return this._properties}},bae=class extends df{constructor(){const x=[Re.default.AUDIO_CHANNEL_CONFIGURATION,Re.default.AUDIO_SAMPLING_RATE,Re.default.CODECS,Re.default.CODING_DEPENDENCY,Re.default.CONTENT_PROTECTION,Re.default.FRAMERATE,Re.default.FRAME_PACKING,Re.default.HEIGHT,Re.default.INBAND_EVENT_STREAM,Re.default.MAXIMUM_SAP_PERIOD,Re.default.MAX_PLAYOUT_RATE,Re.default.MIME_TYPE,Re.default.PROFILES,Re.default.SAR,Re.default.SCAN_TYPE,Re.default.SEGMENT_PROFILES,Re.default.SEGMENT_SEQUENCE_PROPERTIES,Re.default.START_WITH_SAP,Re.default.WIDTH];super(Re.default.ADAPTATION_SET,x,[new df(Re.default.REPRESENTATION,x,[new df(Re.default.SUB_REPRESENTATION,x)])])}},vae=class extends df{constructor(){const x=[Re.default.SEGMENT_BASE,Re.default.SEGMENT_TEMPLATE,Re.default.SEGMENT_LIST];super(Re.default.PERIOD,x,[new df(Re.default.ADAPTATION_SET,x,[new df(Re.default.REPRESENTATION,x)])])}};const Eae=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g;function cU(x){return x.indexOf("&")===-1?x:x.replace(Eae,(S=>{switch(S){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'";case"&nbsp;":return"";case"&lrm;":return"";case"&rlm;":return"";default:if(S[1]==="#"){const R=S[2]==="x"||S[2]==="X"?parseInt(S.slice(3),16):parseInt(S.slice(2),10);return String.fromCodePoint(R)}return S}}))}const _ae=[Re.default.ACCESSIBILITY,Re.default.ADAPTATION_SET,Re.default.ADD,Re.default.AUDIO_CHANNEL_CONFIGURATION,Re.default.BASE_URL,Re.default.CONTENT_COMPONENT,Re.default.CONTENT_PROTECTION,Re.default.CONTENT_STEERING,Re.default.ESSENTIAL_PROPERTY,Re.default.EVENT,Re.default.EVENT_STREAM,Re.default.INBAND_EVENT_STREAM,Re.default.LABEL,Re.default.LOCATION,Re.default.METRICS,Re.default.PATCH_LOCATION,Re.default.PERIOD,Re.default.PRESELECTION,Re.default.PRODUCER_REFERENCE_TIME,Re.default.REMOVE,Re.default.REPLACE,Re.default.REPORTING,Re.default.REPRESENTATION,Re.default.ROLE,Re.default.S,Re.default.SEGMENT_SEQUENCE_PROPERTIES,Re.default.SEGMENT_URL,Re.default.SERVICE_DESCRIPTION,Re.default.SUPPLEMENTAL_PROPERTY,Re.default.UTC_TIMING];function dU(x){x=x||{};const S=this.context,R=x.debug;let k,D,L,B;function U(N){try{const V=(function(W){const O=(function(H,X={}){let te=X.pos||0;const ie=H.length,se=!!X.keepComments,fe=!!X.keepWhitespace,me="<",pe=60,_e=">",ee=62,Q=45,M=47,re=63,ye=33,ue=39,ke=34,xe=91,Oe=93,Ge=`\r
	>/= `;function Ne(ce,oe="#text"){return{nodeName:oe,nodeValue:ce,attributes:{},childNodes:[]}}function Z(ce=""){const oe=[];for(;H[te];)if(H.charCodeAt(te)==pe){if(H.charCodeAt(te+1)===M){const Se=te+2;if(te=H.indexOf(_e,te),!H.startsWith(ce,Se)){const De=H.substring(0,te).split(`
`);throw new Error(`Unexpected close tag
Line: `+(De.length-1)+`
Column: `+(De[De.length-1].length+1)+`
Char: `+H[te])}return te+1&&(te+=1),oe}if(H.charCodeAt(te+1)===re){te=H.indexOf(_e,te),te++;continue}if(H.charCodeAt(te+1)===ye){if(H.charCodeAt(te+2)==Q){const Se=te;for(;te!==-1&&(H.charCodeAt(te)!==ee||H.charCodeAt(te-1)!=Q||H.charCodeAt(te-2)!=Q||te==-1);)te=H.indexOf(_e,te+1);te===-1&&(te=ie),se&&oe.push(Ne(H.substring(Se,te+1),"#comment"))}else{if(H.charCodeAt(te+2)===xe&&H.charCodeAt(te+8)===xe&&H.startsWith("CDATA",te+3)){const Se=H.indexOf("]]>",te);Se==-1?(oe.push(Ne(H.substr(te+9),"#cdata")),te=ie):(oe.push(Ne(H.substring(te+9,Se),"#cdata")),te=Se+3);continue}{const Se=te+1;te+=2;let De=!1;for(;(H.charCodeAt(te)!==ee||De===!0)&&H[te];)H.charCodeAt(te)===xe?De=!0:De===!0&&H.charCodeAt(te)===Oe&&(De=!1),te++;oe.push(Ne(H.substring(Se,te),"#doctype"))}}te++;continue}const Ae=de();oe.push(Ae)}else{const Ae=le();if(fe)Ae.length>0&&oe.push(Ne(Ae));else{const Se=Ae.trim();Se.length>0&&oe.push(Ne(Se))}te++}return oe}function le(){const ce=te;return te=H.indexOf(me,te)-1,te===-2&&(te=ie),cU(H.slice(ce,te+1))}function ve(){const ce=te;for(;Ge.indexOf(H[te])===-1&&H[te];)te++;return H.slice(ce,te)}function de(){te++;const ce=ve();let oe=ce,Ae=null;const Se=ce.indexOf(":");Se!==-1&&(Ae=ce.slice(0,Se),oe=ce.slice(Se+1));const De=(function(){const tt={};for(;H.charCodeAt(te)!==ee&&H[te];){const gt=H.charCodeAt(te);if(gt>64&&gt<91||gt>96&&gt<123){const kt=ve();let Mt="",un=H.charCodeAt(te);for(;un!==ue&&un!==ke;)te++,un=H.charCodeAt(te);if(un===ue||un===ke){if(Mt=Y(),te===-1)throw new Error("Missing closing quote")}else te--;tt[kt]=cU(Mt)}te++}return tt})();let ze=[];const Ue=H.charCodeAt(te-1);return te++,Ue!==M&&(ze=Z(ce)),{nodeName:ce,nodeValue:null,attributes:De,childNodes:ze,prefix:Ae,localName:oe}}function Y(){const ce=H[te],oe=te+1;return te=H.indexOf(ce,oe),H.slice(oe,te)}return{nodeName:"#document",nodeValue:null,childNodes:Z(""),attributes:{}}})(W),z=O.childNodes.find((H=>H.nodeName==="MPD"||H.nodeName==="Patch"))||O.childNodes[0];return(function H(X){X.nodeName.indexOf(":")!==-1&&(X.__prefix=X.prefix,X.nodeName=X.localName);const{childNodes:te,attributes:ie,nodeName:se}=X;X.tagName=se;for(let me in ie){let pe=ie[me];if(se==="S")pe=parseInt(pe);else for(let _e=0,ee=L.length;_e<ee;_e++){const Q=L[_e];if(Q.test(se,me,pe)){pe=Q.converter(pe);break}}X[me]=pe}const fe=te?.length;for(let me=0;me<fe;me++){const pe=te[me];if(pe.nodeName==="#text"){X.__text=pe.nodeValue;continue}H(pe);const{nodeName:_e}=pe;Array.isArray(X[_e])?X[_e].push(pe):_ae.indexOf(_e)!==-1?(X[_e]||(X[_e]=[]),X[_e].push(pe)):X[_e]=pe}X.__children=te})(z),z})(N);return{[V.tagName]:V}}catch{return null}}return k={getIron:function(){return B},parseXml:U,parse:function(N){let V;const W=window.performance.now();if(V=U(N),!V)throw new Error("failed to parse the manifest");V.Patch?(V=V.Patch,V.add&&V.add.forEach((z=>B.run(z))),V.replace&&V.replace.forEach((z=>B.run(z)))):(V=V.MPD,B.run(V));const O=window.performance.now();return D.info("Parsing complete: "+(O-W).toPrecision(3)+"ms"),V.protocol="DASH",V}},D=R.getLogger(k),L=[new dae,new fae,new mae,new gae],B=cae(S).create({adaptationset:new bae,period:new vae}),k}dU.__dashjs_factory_name="DashParser";var Tae=r.default.getClassFactory(dU);function fU(x){x=x||{};const S=this.context,R=x.debug,k=x.settings,D=(0,h.default)(S).getInstance(),L=Ur(S).getInstance();let B,U,N,V,W,O=x.mssHandler,z=x.errHandler;function H(X){D.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:X.manifest})}return B={load:function(X,te=null,ie=null){const se=new Date,fe=new iU(X,w.HTTPRequest.MPD_TYPE);te&&(fe.serviceLocation=te),ie&&(fe.queryParams=ie),fe.startDate||(fe.startDate=se),D.trigger(f.default.MANIFEST_LOADING_STARTED,{request:fe}),N.load({request:fe,success:function(me,pe,_e){if(!V)return;let ee,Q,M;if(_e&&_e!==X?(Q=L.parseBaseUrl(_e),ee=_e):(L.isRelative(X)&&(X=L.resolve(X,window.location.href)),Q=L.parseBaseUrl(X)),pe!="No Content")if(W===null&&(W=(function(re){let ye=null;return re.indexOf("SmoothStreamingMedia")>-1?(O&&(ye=O.createMssParser(),O.createMssFragmentProcessor(),O.registerEvents()),ye):re.indexOf("MPD")>-1||re.indexOf("Patch")>-1?Tae(S).create({debug:R}):ye})(me)),W!==null){V.setParser(W);try{M=W.parse(me)}catch{return void D.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new an.default(fn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,fn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${X}`)})}if(M){if(M.url=ee||X,M.originalUrl||(M.originalUrl=M.url),k&&k.get().streaming.enableManifestDurationMismatchFix&&M.mediaPresentationDuration&&M.Period.length>1){const re=M.Period.reduce(((ye,ue)=>ye+ue.duration),0);!isNaN(re)&&M.mediaPresentationDuration>re&&(U.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),M.mediaPresentationDuration=re)}M.baseUri=Q,M.loadedTime=new Date,V.resolveManifestOnLoad(M),D.trigger(f.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:me})}else D.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new an.default(fn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,fn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${X}`)})}else D.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new an.default(fn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,fn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+`${X}`)});else D.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(me,pe,_e){D.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new an.default(fn.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,fn.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+`${X}, ${_e}`)})}})},reset:function(){D.off(f.default.XLINK_READY,H,B),O&&O.reset(),V&&(V.reset(),V=null),N&&(N.abort(),N=null)}},U=R.getLogger(B),D.on(f.default.XLINK_READY,H,B),N=of(S).create({errHandler:x.errHandler,dashMetrics:x.dashMetrics,mediaPlayerModel:x.mediaPlayerModel,urlUtils:L,constants:p.default,dashConstants:Re.default,errors:fn,requestTimeout:x.settings.get().streaming.manifestRequestTimeout}),V=uae(S).create({errHandler:z,dashMetrics:x.dashMetrics,mediaPlayerModel:x.mediaPlayerModel,settings:x.settings}),W=null,B}fU.__dashjs_factory_name="ManifestLoader";var Sae=r.default.getClassFactory(fU);function hU(){let x,S,R=this.context,k=(0,h.default)(R).getInstance();return x={getValue:function(){return S},setValue:function(D){S=D,D&&k.trigger(f.default.MANIFEST_LOADED,{data:D})}},x}hU.__dashjs_factory_name="ManifestModel";var wae=r.default.getSingletonFactory(hU);function pU(){const x=this.context,S=(0,u.default)(x).getInstance();let R,k,D;return R={select:function(L){if(!L||L.length===0)return null;let B=null;return S.get().streaming.applyContentSteering&&(B=(function(U){const N=D.getCurrentSteeringResponseData();return N&&N.pathwayPriority&&N.pathwayPriority.length>0?(function(V=[],W=[]){let O=0,z=null;for(;O<V.length;){const H=V[O],X=W.findIndex((te=>te.serviceLocation&&te.serviceLocation===H));if(X!==-1&&!k.contains(W[X].serviceLocation)){z=W[X];break}O+=1}return z})(N.pathwayPriority,U):null})(L)),B||(B=(function(U){return U[0]})(L)),B},setConfig:function(L){L.blacklistController&&(k=L.blacklistController),L.contentSteeringController&&(D=L.contentSteeringController)},reset:function(){k.reset()}},k=pn(x).create({updateEventName:f.default.SERVICE_LOCATION_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.default.SERVICE_LOCATION_LOCATION_BLACKLIST_ADD}),D=lw(x).getInstance(),R}pU.__dashjs_factory_name="LocationSelector";var Aae=r.default.getClassFactory(pU);function mU(){const x=this.context,S=(0,h.default)(x).getInstance(),R=Ur(x).getInstance();let k,D,L,B,U,N,V,W,O,z,H,X,te,ie,se;function fe(){te=NaN,W=!1,N=!0,V=!1,me()}function me(){ie!==null&&(clearTimeout(ie),ie=null)}function pe(xe){me(),V||(isNaN(xe)&&!isNaN(te)&&(xe=1e3*te),isNaN(xe)||(z.debug("Refresh manifest in "+xe+" milliseconds."),ie=setTimeout(Q,xe)))}function _e(xe=!1){W=!0;const Oe=X.getValue();let Ge=Oe.url;Ge&&(Ge=ot.default.removeQueryParameterFromUrl(Ge,p.default.CMCD_QUERY_KEY));let Ne=null;const Z=k.getPatchLocation(Oe),le=O.select(Z);let ve=null;if(le&&!xe)Ge=le.url,Ne=le.serviceLocation,ve=le.queryParams;else{const de=(function(ce){const oe=k.getLocation(ce),Ae=D.getSynthesizedLocationElements(oe);return oe.concat(Ae)})(Oe),Y=O.select(de);Y&&(Ge=Y.url,Ne=Y.serviceLocation,ve=Y.queryParams)}R.isRelative(Ge)&&(Ge=R.resolve(Ge,Oe.url)),H.load(Ge,Ne,ve)}function ee(xe){if(xe){if(k.getIsPatch(xe)){let Ne=xe;xe=X.getValue();let Z=k.isPatchValid(xe,Ne),le=Z;if(Z){let ve=k.getPublishTime(xe);k.applyPatchToManifest(xe,Ne);let de=k.getPublishTime(xe);le=ve.getTime()!==de.getTime()}if(!le)return z.debug("Patch provided is invalid, performing full manifest refresh"),void _e(!0);xe.loadedTime=new Date}}else(xe=X.getValue()).loadedTime=new Date;if(X.getValue()&&X.getValue().type===Re.default.DYNAMIC&&xe.type===Re.default.STATIC)return S.trigger(f.default.DYNAMIC_TO_STATIC),W=!1,void(V=!0);X.setValue(xe);const Oe=new Date,Ge=(Oe.getTime()-xe.loadedTime.getTime())/1e3;te=k.getManifestUpdatePeriod(xe,Ge),1e3*te>2147483647&&(te=2147483647e-3),S.trigger(f.default.MANIFEST_UPDATED,{manifest:xe}),z.info("Manifest has been refreshed at "+Oe+"["+Oe.getTime()/1e3+"] "),N||pe()}function Q(){N||(W?pe(se.get().streaming.manifestUpdateRetryInterval):_e())}function M(xe){if(xe.error)xe.error.code===fn.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&B.error(xe.error);else{const Oe=xe.manifest;(function(Ge){(function(Ne){const Z=L.getExternalSubtitles();if(!Z||Z.length===0)return;const le=Ne&&Ne.Period?Ne.Period.length:0;Z.forEach((ve=>{if(ve.periodId===null&&le>1)z.warn(`External subtitle with id ${ve.id} has no periodId and the MPD contains more than one period. Unable to add the external subtitle as it is not clear which period shall be used.`);else if(le===1)re(Ne.Period[0],ve);else{const de=Ne.Period.find((Y=>Y.id===ve.periodId));de?re(de,ve):z.warn(`External subtitle with id ${ve.id} has periodId ${ve.periodId} but the MPD does not contain a period with that id. Unable to add the external subtitle.`)}}))})(Ge)})(Oe),ee(Oe)}}function re(xe,Oe){if(!xe||!xe.AdaptationSet)return xe;xe.AdaptationSet.push(Oe.serializeToMpdParserFormat())}function ye(){N=!1,pe()}function ue(){N=!se.get().streaming.scheduling.scheduleWhilePaused,N&&me()}function ke(){W=!1}return U={getIsUpdating:function(){return W},initialize:function(){fe(),S.on(f.default.STREAMS_COMPOSED,ke,this),S.on(m.default.PLAYBACK_STARTED,ye,this),S.on(m.default.PLAYBACK_PAUSED,ue,this),S.on(f.default.INTERNAL_MANIFEST_LOADED,M,this)},refreshManifest:_e,reset:function(){S.off(m.default.PLAYBACK_STARTED,ye,this),S.off(m.default.PLAYBACK_PAUSED,ue,this),S.off(f.default.STREAMS_COMPOSED,ke,this),S.off(f.default.INTERNAL_MANIFEST_LOADED,M,this),fe()},setConfig:function(xe){xe&&(xe.manifestModel&&(X=xe.manifestModel),xe.adapter&&(k=xe.adapter),xe.manifestLoader&&(H=xe.manifestLoader),xe.errHandler&&(B=xe.errHandler),xe.locationSelector&&(O=xe.locationSelector),xe.settings&&(se=xe.settings),xe.contentSteeringController&&(D=xe.contentSteeringController),xe.customParametersModel&&(L=xe.customParametersModel))},setManifest:function(xe){ee(xe)}},z=(0,l.default)(x).getInstance().getLogger(U),O=Aae(x).create(),L=(0,aw.default)(x).getInstance(),U}mU.__dashjs_factory_name="ManifestUpdater";var gU=r.default.getClassFactory(mU);const Iae={0:void 0,1:1,2:2,3:3,4:4,5:5,6:5,7:7,8:2,9:3,10:4,11:6,12:7,13:22,14:7,15:10,16:9,17:11,18:13,19:11,20:13};function yU(x){return x==0?0:x.toString(2).match(/1/g).length}function mw(x,S){let R,k=parseInt("0x"+x,16),D=k&S[0],L=k&S[1];return R=yU(D)+2*yU(L),R}function gw(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D,L,B,U,N,V,W,O,z;function H(oe){if(!(oe&&oe.currentRepresentation&&oe.currentRepresentation.mediaInfo&&oe.currentRepresentation.mediaInfo.type))return;const Ae=oe.currentRepresentation.mediaInfo.type;N[Ae]=oe.currentRepresentation}function X(oe,Ae){return oe&&D[Ae]&&D[Ae][oe]?D[Ae][oe].list:[]}function te(oe,Ae){return oe&&D[Ae]&&D[Ae][oe]?D[Ae][oe].current:null}function ie(oe,Ae={}){if(!oe||!oe.streamInfo)return;const Se=oe.type,De=oe.streamInfo.id,ze=te(Se,De);if(D[De]&&D[De][Se]&&(D[De][Se].current=oe,D[De][Se].current&&(Se!==p.default.TEXT&&!me(oe,ze)||Se===p.default.TEXT&&oe.isFragmented)&&S.trigger(f.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:ze,newMediaInfo:oe,switchMode:L.get().streaming.trackSwitchMode[Se],options:Ae},{streamId:De}),!Ae.hasOwnProperty("noSettingsSave")||!Ae.noSettingsSave)){let Ue=(function(tt){const gt={lang:tt.lang,viewpoint:tt.viewpoint,roles:tt.roles,accessibility:tt.accessibility,audioChannelConfiguration:tt.audioChannelConfiguration,codec:tt.codec};return gt.lang||gt.viewpoint||gt.role&&gt.role.length>0||gt.accessibility&&gt.accessibility.length>0||gt.audioChannelConfiguration&&gt.audioChannelConfiguration.length>0?gt:null})(oe);if(!Ue||!D[De][Se].storeLastSettings)return;Ue.roles&&(Ue.role=Ue.roles[0],delete Ue.roles),Ue.accessibility&&(Ue.accessibility=Ue.accessibility[0]),Ue.audioChannelConfiguration&&(Ue.audioChannelConfiguration=Ue.audioChannelConfiguration[0]),U[Se]=Ue,z.setSavedMediaSettings(Se,Ue)}}function se(oe,Ae){oe&&Ae&&(B[oe]=Ae)}function fe(oe){return oe?B[oe]:null}function me(oe,Ae){if(!oe&&!Ae)return!0;if(!oe||!Ae||oe.isPreselection!==Ae.isPreselection)return!1;const Se=oe.id===Ae.id,De=JSON.stringify(oe.viewpoint)===JSON.stringify(Ae.viewpoint),ze=oe.lang===Ae.lang,Ue=oe.codec===Ae.codec,tt=JSON.stringify(oe.roles)===JSON.stringify(Ae.roles),gt=JSON.stringify(oe.accessibility)===JSON.stringify(Ae.accessibility),kt=JSON.stringify(oe.audioChannelConfiguration)===JSON.stringify(Ae.audioChannelConfiguration);return Se&&Ue&&De&&ze&&tt&&gt&&kt}function pe(){D={},U={},N={},B={audio:null,video:null,text:null},S.off(m.default.REPRESENTATION_SWITCH,H,R)}function _e(oe,Ae,Se){let De=[];return oe.forEach((function(ze){Ae(Se,ze)&&De.push(ze)})),De.length!==0||Ae===ye&&L.get().streaming.assumeDefaultRoleAsMain&&ce(Se.role,{schemeIdUri:p.default.DASH_ROLE_SCHEME_ID,value:Re.default.MAIN})&&(k.info("no track with Role set to main - assuming main as default and searching again"),De=_e(oe,ue,null),De.length!==0)?De:(k.info("Filter-Function ("+Ae.name+") resulted in no tracks; setting ignored"),oe)}function ee(oe,Ae){try{return!oe.lang||oe.lang instanceof RegExp?Ae.lang.match(oe.lang):Ae.lang!==""&&dw(Ae.lang,Db(oe.lang)).length>0}catch{return!1}}function Q(oe,Ae){return oe.index===void 0||oe.index===null||Ae.index===oe.index}function M(oe,Ae){return oe.id===void 0||oe.id===null||Ae.id===oe.id}function re(oe,Ae){return!oe.viewpoint||!!Ae.viewpoint.filter((function(Se){return ce(Se,oe.viewpoint)}))[0]}function ye(oe,Ae,Se=!1){return!!Ae.roles&&(!oe.role||!!Ae.roles.filter((function(De){return ce(De,oe.role)}))[0]||Ae.type===p.default.AUDIO&&Se)}function ue(oe,Ae){return!Ae.roles||Ae.roles.length===0}function ke(oe,Ae){let Se;return Se=oe.accessibility?!!Ae.accessibility.filter((function(De){return ce(De,oe.accessibility)}))[0]:!Ae.accessibility.length,Se}function xe(oe,Ae){return!oe.audioChannelConfiguration||!!Ae.audioChannelConfiguration.filter((function(Se){return ce(Se,oe.audioChannelConfiguration)}))[0]}function Oe(oe,Ae){return!oe.codec||oe.codec===Ae.codec}function Ge(oe){let Ae=0,Se=[];return oe.forEach((De=>{isNaN(De.selectionPriority)||(De.selectionPriority>Ae?(Ae=De.selectionPriority,Se=[De]):De.selectionPriority===Ae&&Se.push(De))})),Se}function Ne(oe){let Ae,Se=0,De=[];return oe.forEach((function(ze){Ae=Math.max.apply(Math,ze.bitrateList.map((function(Ue){return Ue.bandwidth}))),Ae>Se?(Se=Ae,De=[ze]):Ae===Se&&De.push(ze)})),De}function Z(oe){return oe[0]&&oe[0].type===p.default.VIDEO?(function(Ae){let Se,De=1/0,ze=[];return Ae.forEach((function(Ue){Se=Ue.bitrateList.reduce((function(gt,kt){const Mt=Math.max(1,kt.width*kt.height);return gt+kt.bandwidth/Mt}),0)/Ue.bitrateList.length,Se<De?(De=Se,ze=[Ue]):Se===De&&ze.push(Ue)})),ze})(oe):oe[0]&&oe[0].type===p.default.AUDIO?(function(Ae){let Se=1/0,De=[];return Ae.forEach((function(ze){let Ue=ze.audioChannelConfiguration.reduce((function(gt,kt){return gt+((function(Mt){let un;if(!Mt||!Mt.schemeIdUri||!Mt.value)return;const St=Mt.schemeIdUri,Zt=Mt.value;return St==="urn:mpeg:dash:23003:3:audio_channel_configuration:2011"||St==="urn:mpeg:mpegB:cicp:ChannelConfiguration"?un=Iae[Zt]:St==="tag:dolby.com,2014:dash:audio_channel_configuration:2011"?un=(function(En){if(En.length===4)return mw(En,[63880,1648])})(Zt):St==="tag:dolby.com,2015:dash:audio_channel_configuration:2015"?un=(function(En){if(En.length===6)return En==="800000"?24:mw(En,[52738,205245])})(Zt):St==="tag:dts.com,2014:dash:audio_channel_configuration:2012"?un=parseInt(Zt):St==="tag:dts.com,2018:uhd:audio_channel_configuration"&&(un=(function(En){if(!(En.length>8))return mw(En,[4294901727,0])})(Zt)),un})(kt)||0)}),0)/ze.audioChannelConfiguration.length;ze.hasOwnProperty("supplementalProperties")&&ze.supplementalProperties.some((gt=>gt.schemeIdUri==="tag:dolby.com,2018:dash:EC3_ExtensionType:2018"&&gt.value==="JOC"))&&(Ue=16),Ue||(Ue=1);let tt=ze.bitrateList.reduce((function(gt,kt){return gt+kt.bandwidth/Ue}),0)/ze.bitrateList.length;tt<Se?(Se=tt,De=[ze]):tt===Se&&De.push(ze)})),De})(oe):oe}function le(oe){let Ae,Se=0,De=[];return oe.forEach((function(ze){Ae=ze.representationCount,Ae>Se?(Se=Ae,De=[ze]):Ae===Se&&De.push(ze)})),De}function ve(oe,Ae){if(oe===p.default.TEXT)return(function(ze){if(!ze||ze.length===0)return null;const Ue=ze.filter((tt=>!(tt&&tt.roles&&tt.roles.length>0)||tt.roles.every((gt=>gt.schemeIdUri!==p.default.DASH_ROLE_SCHEME_ID||gt.value!==Re.default.FORCED_SUBTITLE))));return Ue.length>0?Ue[0]:ze[0]})(Ae);let Se;const De=V.getCustomInitialTrackSelectionFunction();if(Se=(function(ze){try{let Ue;return Ue=(function(tt){try{const gt=tt.filter((kt=>{const Mt=kt.type;return kt.bitrateList.some((un=>{const St=W.getAbrBitrateParameter("maxBitrate",Mt),Zt=W.getAbrBitrateParameter("minBitrate",Mt);return!(St>-1&&un.bandwidth>1e3*St||Zt>-1&&un.bandwidth<1e3*Zt)}))}));return gt.length>0?gt:tt}catch(gt){return k.error(gt),tt}})(ze),Ue=(function(tt){try{if(!L.get().streaming.abr.limitBitrateByPortal)return tt;const{elementWidth:gt}=O.getVideoElementSize(),kt=tt.filter((Mt=>Mt.type!==p.default.VIDEO||Mt.bitrateList.some((un=>un.width<=gt))));return kt.length>0?kt:tt}catch(gt){return k.error(gt),tt}})(Ue),Ue}catch(Ue){return k.error(Ue),ze}})(Ae),De&&typeof De=="function")Se=De(Se);else if(N[oe])Se=(function(ze,Ue){if(!ze||ze.length===0||!Ue||!N[Ue])return ze;const tt=N[Ue].bandwidth;if(!tt||isNaN(tt))return ze;let gt={min:NaN,track:null};return ze.forEach((kt=>{kt.bitrateList.forEach((Mt=>{const un=Math.abs(Mt.bandwidth-tt);(isNaN(gt.min)||un<gt.min)&&(gt.min=un,gt.track=kt)}))})),gt.track?[gt.track]:ze})(Se,oe);else if(L.get().streaming.ignoreSelectionPriority||(k.info("Trying to find track with highest selectionPriority"),Se=(function(ze){return Ge(ze)})(Se)),Se.length>1&&L.get().streaming.prioritizeRoleMain&&(k.info("Trying to find a main track"),Se=_e(Se,ye,{role:{schemeIdUri:p.default.DASH_ROLE_SCHEME_ID,value:Re.default.MAIN}})),Se.length>1){k.info("Selecting track based on selectionModeForInitialTrack");let ze=L.get().streaming.selectionModeForInitialTrack;switch(ze){case p.default.TRACK_SELECTION_MODE_HIGHEST_BITRATE:Se=(function(Ue){let tt=Ne(Ue);return tt.length>1&&(tt=le(tt)),tt})(Se);break;case p.default.TRACK_SELECTION_MODE_FIRST_TRACK:Se=de(Se);break;case p.default.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:Se=Y(Se);break;case p.default.TRACK_SELECTION_MODE_WIDEST_RANGE:Se=(function(Ue){let tt=le(Ue);return tt.length>1&&(tt=Ne(Ue)),tt})(Se);break;case p.default.TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY:Se=(function(Ue){let tt=Ue.filter((gt=>!(!gt.segmentSequenceProperties||gt.segmentSequenceProperties.length===0)&&gt.segmentSequenceProperties.some((kt=>kt.cadence===1&&(kt.sapType===0||kt.sapType===1)))));return Y(tt.length>0?tt:Ue)})(Se);break;default:k.warn(`Track selection mode ${ze} is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK`),Se=de(Se)}}return Se.length>0?Se[0]:Ae[0]}function de(oe){return oe[0]}function Y(oe){let Ae=Z(oe);return Ae.length>1&&(Ae=Ne(Ae)),Ae}function ce(oe,Ae){return!(!oe||!Ae)&&JSON.stringify({schemeIdUri:oe.schemeIdUri,value:oe.value})===JSON.stringify({schemeIdUri:Ae.schemeIdUri,value:Ae.value})}return R={addTrack:function(oe){if(!oe)return;k.info("addTrack with track.codec='"+oe.codec+"', track.type='"+oe.type+"'");const Ae=oe.type;if((Se=Ae)!==p.default.AUDIO&&Se!==p.default.VIDEO&&Se!==p.default.TEXT&&Se!==p.default.IMAGE)return;var Se;let De=oe.streamInfo.id;D[De]||(D[De]=(function(){const Ue=L.get().streaming.saveLastMediaSettingsForCurrentStreamingSession;return{audio:{list:[],storeLastSettings:Ue,current:null},video:{list:[],storeLastSettings:Ue,current:null},text:{list:[],storeLastSettings:Ue,current:null},image:{list:[],storeLastSettings:Ue,current:null}}})());const ze=D[De][Ae].list;for(let Ue=0,tt=ze.length;Ue<tt;++Ue)if(me(ze[Ue],oe))return;ze.push(oe)},areTracksEqual:me,clearDataForStream:function(oe){D[oe]&&delete D[oe]},getCurrentTrackFor:te,getInitialSettings:fe,getTracksFor:X,getTracksWithHighestSelectionPriority:Ge,getTracksWithHighestBitrate:Ne,getTracksWithHighestEfficiency:Z,getTracksWithWidestRange:le,initialize:function(){S.on(m.default.REPRESENTATION_SWITCH,H,R)},isCurrentTrack:function(oe){if(!oe)return!1;const Ae=oe.type,Se=oe.streamInfo.id;return D[Se]&&D[Se][Ae]&&me(D[Se][Ae].current,oe)},matchSettings:function(oe,Ae,Se=!1){try{let De=!1;if(oe.lang){if(oe.lang instanceof RegExp)De=Ae.lang.match(oe.lang);else if(Ae.lang!==""){const Mt=Db(oe.lang);Mt&&(De=dw(Ae.lang,Mt).length>0)}}else De=!0;const ze=oe.index===void 0||oe.index===null||Ae.index===oe.index,Ue=!oe.viewpoint||!!Ae.viewpoint.filter((function(Mt){return ce(Mt,oe.viewpoint)}))[0],tt=!oe.role||!!Ae.roles.filter((function(Mt){return ce(Mt,oe.role)}))[0];let gt=!oe.accessibility||!!Ae.accessibility.filter((function(Mt){return ce(Mt,oe.accessibility)}))[0],kt=!oe.audioChannelConfiguration||!!Ae.audioChannelConfiguration.filter((function(Mt){return ce(Mt,oe.audioChannelConfiguration)}))[0];return De&&ze&&Ue&&(tt||Ae.type===p.default.AUDIO&&Se)&&gt&&kt}catch{return!1}},matchSettingsAccessibility:ke,matchSettingsAudioChannelConfig:xe,matchSettingsIndex:Q,matchSettingsLang:ee,matchSettingsRole:ye,matchSettingsViewPoint:re,reset:pe,saveTextSettingsDisabled:function(){z.setSavedMediaSettings(p.default.TEXT,null)},selectInitialTrack:ve,setConfig:function(oe){oe&&(oe.domStorage&&(z=oe.domStorage),oe.settings&&(L=oe.settings),oe.customParametersModel&&(V=oe.customParametersModel),oe.mediaPlayerModel&&(W=oe.mediaPlayerModel),oe.videoModel&&(O=oe.videoModel))},setInitialMediaSettingsForType:function(oe,Ae){let Se=U[oe]||fe(oe);const De=X(oe,Ae.id);let ze=[];Se&&Object.keys(Se).length!==0||(Se=z.getSavedMediaSettings(oe),Se&&delete Se.codec,se(oe,Se)),De&&De.length!==0&&(ze=L.get().streaming.includePreselectionsForInitialTrackSelection?Array.from(De):De.filter((Ue=>!Ue.isPreselection)),Se&&(k.info("Filtering "+ze.length+" "+oe+" tracks based on settings"),ze=_e(ze,M,Se),ze=_e(ze,ee,Se),ze=_e(ze,Q,Se),ze=_e(ze,re,Se),oe===p.default.AUDIO&&U[oe]||(ze=_e(ze,ye,Se)),ze=_e(ze,ke,Se),ze=_e(ze,xe,Se),ze=_e(ze,Oe,Se),k.info("Filtering "+oe+" tracks ended, found "+ze.length+" matching track(s).")),ze.length>1?ie(ve(oe,ze)):ie(ze[0]))},setInitialSettings:se,setTrack:ie},k=(0,l.default)(x).getInstance().getLogger(R),pe(),R}gw.__dashjs_factory_name="MediaController";const bU=r.default.getSingletonFactory(gw);r.default.updateSingletonFactory(gw.__dashjs_factory_name,bU);var xae=bU;function vU(){let x,S,R,k;const D=this.context,L=(0,u.default)(D).getInstance();function B(O,z){return isNaN(O)?0:O>0?(z&&S.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):O<-.5?(z&&S.warn("Supplied minimum playback rate is out of range and will be limited to -0.5: -50% playback speed."),-.5):O}function U(O,z){return isNaN(O)?0:O<0?(z&&S.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):O>1?(z&&S.warn("Supplied maximum playback rate is out of range and will be limited to 1: 200% playback speed."),1):O}function N(){const O=V(),z=R.getLiveDelay();return!isNaN(z)&&z>0?Math.min(O,z):O}function V(){return L.get().streaming.buffer.bufferTimeDefault>0?L.get().streaming.buffer.bufferTimeDefault:W()?20:12}function W(){return L.get().streaming.buffer.fastSwitchEnabled!==null?L.get().streaming.buffer.fastSwitchEnabled:!R.getLowLatencyModeEnabled()}return x={getAbrBitrateParameter:function(O,z){try{const H=L.get().streaming.abr[O][z];if(!isNaN(H)&&H!==-1)return H;const X=k.getServiceDescriptionSettings();return X&&X[O]&&!isNaN(X[O][z])?X[O][z]:-1}catch{return-1}},getBufferTimeDefault:N,getBufferTimeDefaultUnadjusted:V,getCatchupMaxDrift:function(){if(!isNaN(L.get().streaming.liveCatchup.maxDrift)&&L.get().streaming.liveCatchup.maxDrift>=0)return L.get().streaming.liveCatchup.maxDrift;const O=k.getServiceDescriptionSettings();return O&&O.liveCatchup&&!isNaN(O.liveCatchup.maxDrift)&&O.liveCatchup.maxDrift>=0?O.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return L.get().streaming.liveCatchup.enabled!==null?L.get().streaming.liveCatchup.enabled:R.getInitialCatchupModeActivated()},getCatchupPlaybackRates:function(O){const z=L.get().streaming.liveCatchup.playbackRate;if(!isNaN(z.min)||!isNaN(z.max))return{min:B(z.min,O),max:U(z.max,O)};const H=k.getServiceDescriptionSettings();if(H&&H.liveCatchup&&(!isNaN(H.liveCatchup.playbackRate.min)||!isNaN(H.liveCatchup.playbackRate.max))){const X=H.liveCatchup.playbackRate;return{min:B(X.min,O),max:U(X.max,O)}}return{min:-.5,max:.5}},getFastSwitchEnabled:W,getInitialBufferLevel:function(){const O=L.get().streaming.buffer.initialBufferLevel;return isNaN(O)||O<0?0:Math.min(N(),O)},getRetryAttemptsForType:function(O){const z=isNaN(L.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:L.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return R.getLowLatencyModeEnabled()?L.get().streaming.retryAttempts[O]*z:L.get().streaming.retryAttempts[O]},getRetryIntervalsForType:function(O){const z=isNaN(L.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:L.get().streaming.retryIntervals.lowLatencyReductionFactor;return R.getLowLatencyModeEnabled()?L.get().streaming.retryIntervals[O]/z:L.get().streaming.retryIntervals[O]},getScheduleTimeout:function(){return R.getLowLatencyModeEnabled()?L.get().streaming.scheduling.lowLatencyTimeout:L.get().streaming.scheduling.defaultTimeout},reset:function(){},setConfig:function(O){O.playbackController&&(R=O.playbackController),O.serviceDescriptionController&&(k=O.serviceDescriptionController)}},S=(0,l.default)(D).getInstance().getLogger(x),x}vU.__dashjs_factory_name="MediaPlayerModel";var Rae=r.default.getSingletonFactory(vU);function EU(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D,L,B,U,N,V,W,O,z,H,X,te,ie,se,fe,me,pe,_e,ee,Q,M,re;function ye(){Oe(),ie=!1,O=0,te=0,k=0,X=!1,H=!1,L=!1,fe=NaN,W=NaN,M&&(S.off(f.default.DATA_UPDATE_COMPLETED,Ue,B),S.off(f.default.MANIFEST_UPDATED,ut,B),S.off(f.default.STREAMS_COMPOSED,Ct,B),S.off(m.default.PLAYBACK_ENDED,on,B),S.off(m.default.STREAM_INITIALIZING,Qt,B),S.off(m.default.REPRESENTATION_SWITCH,Xe,B),S.off(m.default.BUFFER_LEVEL_STATE_CHANGED,kt,B),ze(),M.removeEventListener("canplay",tt),M.removeEventListener("canplaythrough",gt),M.removeEventListener("play",Mt),M.removeEventListener("waiting",un),M.removeEventListener("playing",St),M.removeEventListener("pause",Zt),M.removeEventListener("error",pt),M.removeEventListener("seeking",En),M.removeEventListener("seeked",tr),M.removeEventListener("timeupdate",Jn),M.removeEventListener("progress",Dn),M.removeEventListener("ratechange",Gn),M.removeEventListener("loadedmetadata",et),M.removeEventListener("loadeddata",Rt),M.removeEventListener("stalled",Lt),M.removeEventListener("ended",xt),M.removeEventListener("volumechange",Pt)),re=null,M=null,ee=null,N=null}function ue(st=null){return parseFloat((ke(st)-le()).toFixed(5))}function ke(st){const Nt=st||ee;return Nt.start+Nt.duration}function xe(st=!1){ee&&M&&M.getElement()?(st&&N&&Z(le()),M.play()):ie=!0}function Oe(){ee&&M&&M.pause()}function Ge(st,Nt=!1,jt=!1,Fe=!1){ee&&M&&M.getElement()&&st!==(isNaN(fe)?M.getTime():fe)&&(U=jt===!0,U||(fe=st),z.info("Requesting seek to time: "+st+(U?" (internal)":"")),N&&Fe&&Z(st),M.setCurrentTime(st,Nt))}function Ne(){if(!ee||!M||!N)return;const st=_e&&_e.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO,Nt=D.getCurrentDVRInfo(st);return Nt&&Nt.range?Nt.range.end:0}function Z(st){const Nt=new Date(Q.getClientReferenceTime()),jt=R.getRegularPeriods()[0];O=Q.calcPresentationTimeFromWallTime(Nt,jt)-st}function le(){return ee&&M?M.getTime():null}function ve(){return ee&&M?M.isPaused():null}function de(){return ee&&M?M.isSeeking():null}function Y(){return ee&&M?M.isStalled():null}function ce(){return ee&&M?M.getPlaybackRate():null}function oe(){return ee&&M?M.getEnded():null}function Ae(){return N}function Se(st=null){if(ve()||!N||M.getReadyState()===0||de()||X)return;st||(st=_e.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO);const Nt=le(),jt=(function(Fe,lt){const Ht=D.getCurrentDVRInfo(lt),Jt=Ht?Ht.range:null;let Vn;return Jt?(Vn=Fe>Jt.end?Math.max(Jt.end-O,Jt.start):Fe>0&&Fe+.25<Jt.start&&Math.abs(Fe-Jt.start)<31536e4?H?Math.max(Jt.end-O,Jt.start):Jt.start:Fe,Vn):NaN})(Nt,st);!isNaN(jt)&&jt!==Nt&&!de()&&(Y()||se||M.getReadyState()===1)&&(z.debug(`UpdateCurrentTime: Seek to actual time: ${jt} from currentTime: ${Nt}`),Ge(jt,!1,!1))}function De(){re===null&&(re=setInterval((()=>{(function(){if(S.trigger(f.default.WALLCLOCK_TIME_UPDATED,{isDynamic:N,time:new Date}),Ae()){const st=Date.now();(isNaN(W)||st>W+pe.get().streaming.liveUpdateTimeThresholdInMilliseconds)&&(_e.addDVRMetric(),ve()?(function(){const Nt=Date.now();(!V||Nt>V+500)&&(V=Nt,Jn())})():Se(),W=st)}})()}),pe.get().streaming.wallclockTimeUpdateInterval))}function ze(){clearInterval(re),re=null}function Ue(st){const Nt=st.currentRepresentation,jt=Nt?Nt.mediaInfo.streamInfo:null;jt!==null&&ee.id===jt.id&&(ee=jt)}function tt(){S.trigger(f.default.CAN_PLAY)}function gt(){S.trigger(f.default.CAN_PLAY_THROUGH)}function kt(st){st.streamId===_e.getActiveStreamInfo().id&&(se=st.state===o.BUFFER_EMPTY,pe.get().streaming.buffer.setStallState&&M.setStallState(st.mediaType,st.state===o.BUFFER_EMPTY))}function Mt(){z.info("Native video element event: play"),Se(),De(),S.trigger(f.default.PLAYBACK_STARTED,{startTime:le()})}function un(){z.info("Native video element event: waiting"),S.trigger(f.default.PLAYBACK_WAITING,{playingTime:le()})}function St(){z.info("Native video element event: playing"),U=!1,S.trigger(f.default.PLAYBACK_PLAYING,{playingTime:le()})}function Zt(){z.info("Native video element event: pause"),S.trigger(f.default.PLAYBACK_PAUSED,{ended:oe()})}function En(){if(U)return;let st=le();isNaN(fe)||fe===st||(st=fe),fe=NaN,z.info("Seeking to: "+st),De(),S.trigger(f.default.PLAYBACK_SEEKING,{seekTime:st,streamId:ee.id})}function tr(){z.info("Native video element event: seeked"),U=!1,S.trigger(f.default.PLAYBACK_SEEKED,{streamId:ee.id})}function Jn(){ee&&S.trigger(f.default.PLAYBACK_TIME_UPDATED,{timeToEnd:ue(),time:le(),streamId:ee.id})}function Dn(){S.trigger(f.default.PLAYBACK_PROGRESS,{streamId:ee.id})}function Gn(){const st=ce();z.info("Native video element event: ratechange: ",st),S.trigger(f.default.PLAYBACK_RATE_CHANGED,{playbackRate:st})}function et(){z.info("Native video element event: loadedmetadata"),S.trigger(f.default.PLAYBACK_METADATA_LOADED),De()}function Rt(){z.info("Native video element event: loadeddata"),S.trigger(f.default.PLAYBACK_LOADED_DATA)}function xt(){z.info("Native video element event: ended"),Oe(),ze();const st=_e?_e.getActiveStreamInfo():null;st&&S.trigger(f.default.PLAYBACK_ENDED,{isLast:st.isLast})}function Pt(){S.trigger(f.default.PLAYBACK_VOLUME_CHANGED)}function on(st){if(re&&st.isLast){z.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");const Nt=st.seekTime?st.seekTime:ke();M.setCurrentTime(Nt),Oe(),ze()}}function pt(st){const Nt=st.target||st.srcElement;S.trigger(f.default.PLAYBACK_ERROR,{error:Nt.error})}function Ut(){N=!1}function Lt(st){S.trigger(f.default.PLAYBACK_STALLED,{e:st})}function Qt(st){var Nt;(Nt=st.mediaInfo)&&Nt.supplementalProperties&&Nt.supplementalProperties.find((jt=>jt.schemeIdUri===p.default.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME))&&(z.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),H=!0)}function Xe(st){const Nt=_e.getActiveStreamInfo();st&&Nt&&st.currentRepresentation&&st.streamId&&st.streamId===Nt.id&&st.mediaType&&(st.mediaType===p.default.VIDEO||st.mediaType===p.default.AUDIO)&&(H=st.currentRepresentation.availabilityTimeComplete===!1,H&&!L&&(L=!0))}function ut(){X=!0}function Ct(){X=!1}return B={computeAndSetLiveDelay:function(st,Nt){let jt,Fe,lt;const Ht=!isNaN(st)&&isFinite(st)?st:NaN;let Jt=R.getSuggestedPresentationDelay();const Vn=me.getServiceDescriptionSettings();return jt=isNaN(pe.get().streaming.delay.liveDelay)?pe.get().streaming.delay.liveDelayFragmentCount===null||isNaN(pe.get().streaming.delay.liveDelayFragmentCount)||isNaN(Ht)?Vn&&!isNaN(Vn.liveDelay)&&Vn.liveDelay>0?Vn.liveDelay:pe.get().streaming.delay.useSuggestedPresentationDelay===!0&&Jt!==null&&!isNaN(Jt)&&Jt>0?Jt:isNaN(Ht)?Nt&&!isNaN(Nt.minBufferTime)?4*Nt.minBufferTime:4*ee.manifestInfo.minBufferTime:4*Ht:Ht*pe.get().streaming.delay.liveDelayFragmentCount:pe.get().streaming.delay.liveDelay,lt=R.getAvailabilityStartTime(),lt!==null&&(k=lt),Fe=Nt&&Nt.dvrWindowSize>0?Math.min(jt,Nt.dvrWindowSize):jt,O=Fe,te=Fe,Fe},getAvailabilityStartTime:function(){return k},getBufferLevel:function(st=null){let Nt=null;return _e.getActiveStreamProcessors().forEach((jt=>{if(!st||st.length===0||st.indexOf(jt.getType())===-1){const Fe=jt.getBufferLevel();Nt=Nt===null?Fe:Math.min(Nt,Fe)}})),Nt},getCurrentLiveLatency:function(){if(!N||isNaN(k))return NaN;let st=le();if(isNaN(st)||st===0)return 0;const Nt=new Date().getTime()+1e3*Q.getClientTimeOffset();return Math.max(((Nt-k-1e3*st)/1e3).toFixed(3),0)},getEnded:oe,getInitialCatchupModeActivated:function(){return L},getIsDynamic:Ae,getIsManifestUpdateInProgress:function(){return X},getLiveDelay:function(){return O},getLowLatencyModeEnabled:function(){return H},getOriginalLiveDelay:function(){return te},getPlaybackRate:ce,getPlaybackStalled:function(){return se},getPlayedRanges:function(){return ee&&M?M.getPlayedRanges():null},getStreamController:function(){return _e},getStreamEndTime:ke,getTime:le,getTimeToStreamEnd:ue,initialize:function(st,Nt){ee=st,Nt!==!0&&(M.addEventListener("canplay",tt),M.addEventListener("canplaythrough",gt),M.addEventListener("play",Mt),M.addEventListener("waiting",un),M.addEventListener("playing",St),M.addEventListener("pause",Zt),M.addEventListener("error",pt),M.addEventListener("seeking",En),M.addEventListener("seeked",tr),M.addEventListener("timeupdate",Jn),M.addEventListener("progress",Dn),M.addEventListener("ratechange",Gn),M.addEventListener("loadedmetadata",et),M.addEventListener("loadeddata",Rt),M.addEventListener("stalled",Lt),M.addEventListener("ended",xt),M.addEventListener("volumechange",Pt),N=ee.manifestInfo.isDynamic,se=!1,U=!1,S.on(f.default.DATA_UPDATE_COMPLETED,Ue,B),S.on(f.default.MANIFEST_UPDATED,ut,B),S.on(f.default.STREAMS_COMPOSED,Ct,B),S.on(m.default.PLAYBACK_ENDED,on,B,{priority:h.default.EVENT_PRIORITY_HIGH}),S.on(m.default.STREAM_INITIALIZING,Qt,B),S.on(m.default.REPRESENTATION_SWITCH,Xe,B),S.on(m.default.BUFFER_LEVEL_STATE_CHANGED,kt,B),S.on(m.default.DYNAMIC_TO_STATIC,Ut,B),ie&&(ie=!1,xe()))},isPaused:ve,isProgressing:function(st=500){return new Promise((Nt=>{let jt=-1,Fe=null;const lt=Jt=>{clearTimeout(Fe),Fe=null,S.off(m.default.PLAYBACK_TIME_UPDATED,Ht,B),Nt(Jt)},Ht=Jt=>{jt<0?jt=Jt.time:Jt.time>jt+.1&&lt(!0)};Fe=setTimeout((()=>{lt(!1)}),st),S.on(m.default.PLAYBACK_TIME_UPDATED,Ht,B)}))},isSeeking:de,isStalled:Y,pause:Oe,play:xe,reset:ye,seek:Ge,seekToCurrentLive:function(st=!1,Nt=!1,jt=!1){const Fe=Ne();Fe!==0&&Ge(Fe-O,st,Nt,jt)},seekToOriginalLive:function(st=!1,Nt=!1,jt=!1){const Fe=Ne();Fe!==0&&(O=te,Ge(Fe-O,st,Nt,jt))},setConfig:function(st){st&&(st.streamController&&(_e=st.streamController),st.serviceDescriptionController&&(me=st.serviceDescriptionController),st.dashMetrics&&(D=st.dashMetrics),st.adapter&&(R=st.adapter),st.videoModel&&(M=st.videoModel),st.timelineConverter&&(Q=st.timelineConverter),st.settings&&(pe=st.settings))},updateCurrentTime:Se},z=(0,l.default)(x).getInstance().getLogger(B),ye(),B}EU.__dashjs_factory_name="PlaybackController";var kae=r.default.getSingletonFactory(EU),_U=class{constructor(){this.availabilityEndTime=NaN,this.availabilityStartTime=NaN,this.duration=NaN,this.index=null,this.indexRange=null,this.isPartialSegment=!1,this.media=null,this.mediaRange=null,this.mediaUrl=null,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.replacementNumber=NaN,this.replacementTime=null,this.representation=null,this.wallStartTime=NaN}assignAttributes(x){for(let S in x)x.hasOwnProperty(S)&&this.hasOwnProperty(S)&&(this[S]=x[S])}},yw=class extends _U{constructor(){super()}};function TU(){const x=this.context;let S,R,k,D,L,B,U,N,V,W,O,z;function H(se,fe,me,pe){let _e=null;const ee=se?z.resolve(se.path):null,Q=pe||{init:!0,url:ee?ee.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:fe,representation:se};R.debug("Start searching for initialization.");const M=ie(Q);U.load({request:M,success:function(re){if(Q.bytesLoaded=Q.range.end,_e=D.findInitRange(re),!_e)return Q.range.end=Q.bytesLoaded+Q.bytesToLoad,H(se,fe,me,Q);se.range=_e,me(se)},error:function(){me(se)}}),R.debug("Perform init search: "+Q.url)}function X(se,fe,me,pe,_e,ee){if(me&&(me.start===void 0||me.end===void 0)){const xe=me?me.toString().split("-"):null;me=xe?{start:parseFloat(xe[0]),end:parseFloat(xe[1])}:null}_e=_e||te;let Q=null,M=null;const re=!!me,ye=se?z.resolve(se.path):null,ue={init:!1,url:ye?ye.url:void 0,range:re?me:{start:0,end:1500},searching:!re,bytesLoaded:ee?ee.bytesLoaded:0,bytesToLoad:1500,mediaType:fe,representation:se},ke=ie(ue);U.load({request:ke,success:function(xe){const Oe=ue.bytesToLoad,Ge=xe.byteLength;if(ue.bytesLoaded=ue.range.end-ue.range.start,Q=D.parse(xe),M=Q.getBox("sidx"),M&&M.isComplete){const Ne=M.references;let Z,le;if(Ne!=null&&Ne.length>0&&(Z=Ne[0].reference_type===1),Z){let ve,de,Y,ce,oe;R.debug("Initiate multiple SIDX load."),ue.range.end=ue.range.start+M.size;let Ae=[],Se=0,De=(M.offset||ue.range.start)+M.size;const ze=function(Ue){Ue?(Ae=Ae.concat(Ue),Se++,Se>=de&&(Ae.sort((function(tt,gt){return tt.startTime-gt.startTime<0?-1:0})),_e(Ae,se,pe))):_e(null,se,pe)};for(ve=0,de=Ne.length;ve<de;ve++)Y=De,ce=De+Ne[ve].referenced_size-1,De+=Ne[ve].referenced_size,oe={start:Y,end:ce},X(se,fe,oe,pe,ze,ue)}else R.debug("Parsing segments from SIDX. representation "+fe+" - id: "+se.id+" for range : "+ue.range.start+" - "+ue.range.end),le=(function(ve,de){const Y=ve.references,ce=Y.length,oe=ve.timescale;let Ae=ve.earliest_presentation_time,Se=de.range.start+ve.offset+ve.first_offset+ve.size;const De=[];let ze,Ue,tt,gt;for(let kt=0;kt<ce;kt++)tt=Y[kt].subsegment_duration,gt=Y[kt].referenced_size,ze=new yw,ze.duration=tt,ze.startTime=Ae,ze.timescale=oe,Ue=Se+gt-1,ze.mediaRange=Se+"-"+Ue,De.push(ze),Ae+=tt,Se+=gt;return De})(M,ue),_e(le,se,pe)}else{if(M)ue.range.start=M.offset||ue.range.start,ue.range.end=ue.range.start+(M.size||Oe);else{if(Ge<ue.bytesLoaded)return void _e(null,se,pe);{const Ne=Q.getLastBox();Ne&&Ne.size?(ue.range.start=Ne.offset+Ne.size,ue.range.end=ue.range.start+Oe):ue.range.end+=Oe}}X(se,fe,ue.range,pe,null,ue)}},error:function(){_e(null,se,pe)}}),R.debug(`Perform SIDX load for type ${fe} : ${ue.url} with range ${ue.range.start} - ${ue.range.end}`)}function te(se,fe,me){me({segments:se,representation:fe,error:se?void 0:new an.default(N.SEGMENT_BASE_LOADER_ERROR_CODE,N.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function ie(se){if(!se.url)return;const fe=new ae;return fe.setInfo(se),fe}return S={setConfig:function(se){se.baseURLController&&(z=se.baseURLController),se.dashMetrics&&(L=se.dashMetrics),se.mediaPlayerModel&&(B=se.mediaPlayerModel),se.errHandler&&(k=se.errHandler),se.boxParser&&(D=se.boxParser),se.debug&&(R=se.debug.getLogger(S)),se.errors&&(N=se.errors),se.urlUtils&&(O=se.urlUtils),se.constants&&(V=se.constants),se.dashConstants&&(W=se.dashConstants)},initialize:function(){U=of(x).create({errHandler:k,dashMetrics:L,mediaPlayerModel:B,boxParser:D,errors:N,urlUtils:O,constants:V,dashConstants:W})},loadInitialization:function(se,fe){return new Promise((me=>{H(se,fe,me)}))},loadSegments:function(se,fe,me){return new Promise((pe=>{X(se,fe,me,pe)}))},reset:function(){U&&(U.abort(),U=null)}},S}TU.__dashjs_factory_name="SegmentBaseLoader";var Cae=r.default.getSingletonFactory(TU);function SU(x){let S;x=x||{};let R=new DataView(x.data),k=0;function D(B,U){let N,V,W=!0,O=0;if(U===void 0&&(U=!1),B.tag>16777215?(R.getUint32(k)!==B.tag&&(W=!1),O=4):B.tag>65535?(N=R.getUint16(k),V=R.getUint8(k+2),256*N+V!==B.tag&&(W=!1),O=3):B.tag>255?(R.getUint16(k)!==B.tag&&(W=!1),O=2):(R.getUint8(k)!==B.tag&&(W=!1),O=1),!W&&B.required&&!U)throw new Error("required tag not found");return W&&(k+=O),W}function L(B){let U=1,N=128,V=-1,W=0,O=R.getUint8(k),z=0;for(z=0;z<8;z+=1){if((O&N)===N){W=B===void 0?O&~N:O,V=z;break}N>>=1}for(z=0;z<V;z+=1,U+=1)W=W<<8|255&R.getUint8(k+U);return k+=U,W}return S={getPos:function(){return k},setPos:function(B){k=B},consumeTag:D,consumeTagAndSize:function(B,U){let N=D(B,U);return N&&L(),N},parseTag:function(B){let U;return D(B),U=L(),S[B.parse](U)},skipOverElement:function(B,U){let N,V=D(B,U);return V&&(N=L(),k+=N),V},getMatroskaCodedNum:L,getMatroskaFloat:function(B){let U;switch(B){case 4:U=R.getFloat32(k),k+=4;break;case 8:U=R.getFloat64(k),k+=8}return U},getMatroskaUint:function(B){if(B>4)return(function(N){const V=Math.floor(Number.MAX_SAFE_INTEGER/256);let W=0;for(let O=0;O<N;O+=1){if(W>V)throw new Error("Value exceeds safe integer limit");W*=256;const z=R.getUint8(k+O);if(W>Number.MAX_SAFE_INTEGER-z)throw new Error("Value exceeds safe integer limit");W+=z}return k+=N,W})(B);let U=0;for(let N=0;N<B;N+=1)U<<=8,U|=255&R.getUint8(k+N);return k+=B,U>>>0},moreData:function(){return k<R.byteLength}},S}SU.__dashjs_factory_name="EBMLParser";var wU=r.default.getClassFactory(SU);function AU(){const x=this.context;let S,R,k,D,L,B,U,N,V;function W(O){const z=new ae;return z.setInfo(O),z}return S={setConfig:function(O){if(!(O.baseURLController&&O.dashMetrics&&O.mediaPlayerModel&&O.errHandler))throw new Error(p.default.MISSING_CONFIG_ERROR);V=O.baseURLController,L=O.dashMetrics,B=O.mediaPlayerModel,D=O.errHandler,N=O.errors,R=O.debug.getLogger(S)},initialize:function(){U=of(x).create({errHandler:D,dashMetrics:L,mediaPlayerModel:B,errors:N})},loadInitialization:function(O,z){return new Promise((H=>{let X=null,te=O?V.resolve(O.path):null,ie=O?O.range.split("-"):null,se={range:{start:ie?parseFloat(ie[0]):null,end:ie?parseFloat(ie[1]):null},request:X,url:te?te.url:void 0,init:!0,mediaType:z};R.info("Start loading initialization."),X=W(se),U.load({request:X,success:function(){H(O)},error:function(){H(O)}}),R.debug("Perform init load: "+se.url)}))},loadSegments:function(O,z,H){return new Promise((X=>{let te=null,ie=O?V.resolve(O.path):null,se=ie?ie.url:void 0;te=W({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:te,url:se,init:!1,mediaType:z,representation:O}),R.debug("Parsing ebml header"),U.load({request:te,success:function(fe){(function(me,pe,_e,ee){if(!me||me.byteLength===0)return void ee(null);let Q,M,re,ye,ue=wU(x).create({data:me}),ke=_e?_e.split("-"):null,xe=null,Oe={url:pe,range:{start:ke?parseFloat(ke[0]):null,end:ke?parseFloat(ke[1]):null},request:xe};for(R.debug("Parse EBML header: "+Oe.url),ue.skipOverElement(k.EBML),ue.consumeTag(k.Segment),re=ue.getMatroskaCodedNum(),re+=ue.getPos(),ye=ue.getPos();ue.moreData()&&!ue.consumeTagAndSize(k.Segment.Info,!0);)if(!(ue.skipOverElement(k.Segment.SeekHead,!0)||ue.skipOverElement(k.Segment.Tracks,!0)||ue.skipOverElement(k.Segment.Cues,!0)||ue.skipOverElement(k.Void,!0)))throw new Error("no valid top level element found");for(;Q===void 0;){let Ge=ue.getMatroskaCodedNum(!0),Ne=ue.getMatroskaCodedNum();Ge===k.Segment.Info.Duration.tag?Q=ue[k.Segment.Info.Duration.parse](Ne):ue.setPos(ue.getPos()+Ne)}xe=W(Oe),U.load({request:xe,success:function(Ge){M=(function(Ne,Z,le,ve){let de,Y,ce,oe,Ae,Se,De,ze;for(Y=(function(Ue){let tt,gt,kt=[],Mt=wU(x).create({data:Ue});for(Mt.consumeTagAndSize(k.Segment.Cues);Mt.moreData()&&Mt.consumeTagAndSize(k.Segment.Cues.CuePoint,!0);){for(tt={},tt.CueTime=Mt.parseTag(k.Segment.Cues.CuePoint.CueTime),tt.CueTracks=[];Mt.moreData()&&Mt.consumeTag(k.Segment.Cues.CuePoint.CueTrackPositions,!0);){const un=Mt.getMatroskaCodedNum(),St=Mt.getPos();if(gt={},gt.Track=Mt.parseTag(k.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),gt.Track===0)throw new Error("Cue track cannot be 0");gt.ClusterPosition=Mt.parseTag(k.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),tt.CueTracks.push(gt),Mt.setPos(St+un)}if(tt.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");kt.push(tt)}if(kt.length===0)throw new Error("mandatory cuepoint not found");return kt})(Ne),ce=[],Ae=0,Se=Y.length;Ae<Se;Ae+=1)oe=new yw,de=0,de=Ae<Y.length-1?Y[Ae+1].CueTime-Y[Ae].CueTime:ve-Y[Ae].CueTime,oe.duration=de,oe.startTime=Y[Ae].CueTime,oe.timescale=1e3,De=Y[Ae].CueTracks[0].ClusterPosition+Z,ze=Ae<Y.length-1?Y[Ae+1].CueTracks[0].ClusterPosition+Z-1:le-1,oe.mediaRange=De+"-"+ze,ce.push(oe);return R.debug("Parsed cues: "+ce.length+" cues."),ce})(Ge,ye,re,Q),ee(M)},error:function(){R.error("Download Error: Cues "+Oe.url),ee(null)}}),R.debug("Perform cues load: "+Oe.url+" bytes="+Oe.range.start+"-"+Oe.range.end)})(fe,se,H,(function(me){X({segments:me,representation:O,error:me?void 0:new an.default(N.SEGMENT_BASE_LOADER_ERROR_CODE,N.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}))},error:function(){X({representation:O,error:new an.default(N.SEGMENT_BASE_LOADER_ERROR_CODE,N.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})}))},reset:function(){U&&(U.abort(),U=null)}},k={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},S}AU.__dashjs_factory_name="WebmSegmentBaseLoader";var Dae=r.default.getSingletonFactory(AU);function IU(x){x=x||{};const S=this.context,R=x.eventBus,k=x.events,D=x.dashMetrics,L=x.mediaPlayerModel,B=x.errHandler,U=x.baseURLController,N=x.debug,V=x.boxParser,W=x.errors;let O,z,H;function X(te){return(te?te.split("/")[1]:"").toLowerCase()==="webm"}return O={initialize:function(){z.initialize(),H.initialize()},getSegmentBaseInitSegment:function(te){return X(te.representation.mimeType)?H.loadInitialization(te.representation,te.mediaType):z.loadInitialization(te.representation,te.mediaType)},getSegmentList:function(te){return X(te.mimeType)?H.loadSegments(te.representation,te.mediaType,te.representation?te.representation.indexRange:null):z.loadSegments(te.representation,te.mediaType,te.representation?te.representation.indexRange:null)},reset:function(){z.reset(),H.reset()}},z=Cae(S).getInstance(),H=Dae(S).getInstance(),z.setConfig({baseURLController:U,dashMetrics:D,mediaPlayerModel:L,errHandler:B,eventBus:R,events:k,errors:W,debug:N,boxParser:V}),H.setConfig({baseURLController:U,dashMetrics:D,mediaPlayerModel:L,errHandler:B,eventBus:R,events:k,errors:W,debug:N}),O}IU.__dashjs_factory_name="SegmentBaseController";var Lae=r.default.getSingletonFactory(IU);const Pae=[p.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME],xU="video",RU="audio";function kU(){const x=this.context;let S,R,k,D,L;function B(){R={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{},contentSteering:null,clientDataReporting:null},k=[]}function U(N,V,W){try{R[N][V]=W/1e3}catch(O){D.error(O)}}return S={getServiceDescriptionSettings:function(){return R},getProducerReferenceTimeOffsets:function(){return k},calculateProducerReferenceTimeOffsets:function(N){try{let V=[];if(N&&N.length>0){const W=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT],O=L.getAvailabilityStartTime()/1e3;N.forEach((z=>{const H=W.reduce(((X,te)=>X.concat(L.getAllMediaInfoForType(z,te))),[]).reduce(((X,te)=>(L.getProducerReferenceTimes(z,te).forEach((ie=>{const se=L.getVoRepresentations(te);if(se&&se.length>0&&se[0].adaptation&&se[0].segmentInfoType===Re.default.SEGMENT_TEMPLATE){const fe=se[0],me=new Date(ie[Re.default.WALL_CLOCK_TIME]).getTime()/1e3-(ie[Re.default.PRESENTATION_TIME]/fe[Re.default.TIMESCALE]-fe[Re.default.PRESENTATION_TIME_OFFSET]+z.start),pe=O-me;X.push({id:ie[Re.default.ID],to:pe})}})),X)),[]);V=V.concat(H)}))}k=V}catch(V){D.error(V),k=[]}},applyServiceDescription:function(N){if(!N||!N.serviceDescriptions)return;const V=N.serviceDescriptions.filter((z=>Pae.includes(z.schemeIdUri))),W=N.serviceDescriptions.filter((z=>z.schemeIdUri==null));let O=V.length>0?V[V.length-1]:W[W.length-1];O&&(O.latency&&O.latency.target>0&&(function(z){let H;if(z.schemeIdUri,p.default.SERVICE_DESCRIPTION_DVB_LL_SCHEME,H=(function(X){return{liveDelay:X.latency.target/1e3,maxDrift:!isNaN(X.latency.max)&&X.latency.max>X.latency.target?(X.latency.max-X.latency.target+500)/1e3:NaN,referenceId:X.latency.referenceId||NaN}})(z),k.length>0){let{to:X,id:te}=(function(ie){let se,fe=0,me=k.filter((pe=>pe.id===ie.referenceId));return me.length===0?(fe=k.length>0?k[0].to:0,se=k[0].id||NaN):(fe=me[0].to||0,se=me[0].id||NaN),{to:fe,id:se}})(H);R.liveDelay=H.liveDelay-X,R.liveCatchup.maxDrift=H.maxDrift,D.debug(`
                Found latency properties coming from service description. Applied time offset of ${X} from ProducerReferenceTime element with id ${te}.
                Live Delay: ${H.liveDelay-X}, Live catchup max drift: ${H.maxDrift}
            `)}else R.liveDelay=H.liveDelay,R.liveCatchup.maxDrift=H.maxDrift,D.debug(`Found latency properties coming from service description: Live Delay: ${H.liveDelay}, Live catchup max drift: ${H.maxDrift}`)})(O),O.playbackRate&&(function(z){const H=z.playbackRate.min?Math.round(1e3*(z.playbackRate.min-1))/1e3:NaN,X=z.playbackRate.max?Math.round(1e3*(z.playbackRate.max-1))/1e3:NaN;R.liveCatchup.playbackRate.min=H,R.liveCatchup.playbackRate.max=X,D.debug(`Found latency properties coming from service description: Live catchup min playback rate: ${H}`),D.debug(`Found latency properties coming from service description: Live catchup max playback rate: ${X}`)})(O),O.operatingQuality,O.operatingBandwidth&&(function(z){if(!z||!z.operatingBandwidth||!z.operatingBandwidth.mediaType||z.operatingBandwidth.mediaType==="all")return;const H={};H.minBandwidth=z.operatingBandwidth.min,H.maxBandwidth=z.operatingBandwidth.max,H.targetBandwidth=z.operatingBandwidth.target;const X=[];z.operatingBandwidth.mediaType===xU||z.operatingBandwidth.mediaType===RU?X.push(z.operatingBandwidth.mediaType):z.operatingBandwidth.mediaType==="any"&&(X.push(RU),X.push(xU)),X.forEach((te=>{isNaN(H.minBandwidth)||U("minBitrate",te,H.minBandwidth),isNaN(H.maxBandwidth)||U("maxBitrate",te,H.maxBandwidth),isNaN(H.targetBandwidth)||U("initialBitrate",te,H.targetBandwidth)}))})(O),O.contentSteering&&(function(z){R.contentSteering=z.contentSteering})(O),O.clientDataReporting&&(function(z){R.clientDataReporting=z.clientDataReporting})(O))},reset:function(){B()},setConfig:function(N){N&&N.adapter&&(L=N.adapter)}},D=(0,l.default)(x).getInstance().getLogger(S),B(),S}kU.__dashjs_factory_name="ServiceDescriptionController";var Oae=r.default.getSingletonFactory(kU);class Mae{constructor(S){this._ranges=[];for(const R of S){const k=this._ranges,D={start:R.start,end:R.end},L=k.length?k[k.length-1]:null;!L||D.start>L.end?k.push(D):L.end=D.end}}get length(){return this._ranges.length}start(S){return this._ranges[S].start}end(S){return this._ranges[S].end}}var CU=class{constructor(x,S){this.eventBus=S,this.mimeType=x,this.updating=!1,this.chunks=[],this.appendWindowStart=0,this.appendWindowEnd=1/0,this.timestampOffset=0,this.mode="segments"}appendBuffer(x,S,R){if(this.updating)throw new Error("SourceBuffer is currently updating");this.updating=!0,this.eventBus.trigger("externalSourceBufferUpdateStart",{mimeType:this.mimeType,request:"appendBuffer",data:x,start:S,end:R}),Number.isNaN(S)||(this.chunks.push({data:x,start:S,end:R}),this.chunks.sort(((k,D)=>k.start-D.start))),setTimeout((()=>{this.updating=!1,this.eventBus.trigger("externalSourceBufferUpdating",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType})}),10)}abort(){this.updating&&(this.updating=!1,this.eventBus.trigger("externalSourceBufferAbort",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType}))}remove(x,S){if(this.updating)throw new Error("SourceBuffer is currently updating");this.updating=!0,this.eventBus.trigger("externalSourceBufferUpdateStart",{mimeType:this.mimeType,request:"remove",start:x,end:S}),this.chunks=this.chunks.filter((R=>R.end<=x||R.start>=S)),setTimeout((()=>{this.updating=!1,this.eventBus.trigger("externalSourceBufferUpdating",{mimeType:this.mimeType}),this.eventBus.trigger("externalSourceBufferUpdateEnd",{mimeType:this.mimeType})}),10)}get buffered(){return new Mae(this.chunks)}};function DU(x){const S=this.context,R=(0,u.default)(S).getInstance(),k=x.textController,D=x.eventBus;let L,B,U,N,V,W,O=[],z=[],H=!1,X=x.mediaSource,te=null;function ie(ue){return ue.mimeType+';codecs="'+ue.codecs+'"'}function se(ue){return N=k.getTextSourceBuffer(ue),Promise.resolve()}function fe(){if(typeof N.addEventListener=="function")try{N.addEventListener("updateend",M,!1),N.addEventListener("error",re,!1),N.addEventListener("abort",re,!1)}catch{W=setInterval(M,50)}else W=setInterval(M,50)}function me(){try{typeof N.removeEventListener=="function"&&(N.removeEventListener("updateend",M,!1),N.removeEventListener("error",re,!1),N.removeEventListener("abort",re,!1)),clearInterval(W)}catch(ue){U.error(ue)}}function pe(ue){return new Promise((ke=>{N&&R.get().streaming.buffer.useAppendWindow?ye((()=>{try{if(!N)return void ke();let xe=X.duration,Oe=0;ue&&!isNaN(ue.start)&&!isNaN(ue.duration)&&isFinite(ue.duration)&&(xe=ue.start+ue.duration),ue&&!isNaN(ue.start)&&(Oe=ue.start),N.appendWindowEnd===xe&&N.appendWindowStart===Oe||(N.appendWindowStart=0,N.appendWindowEnd=xe+.01,N.appendWindowStart=Math.max(Oe-.1,0),U.debug(`Updated append window for ${V.type}. Set start to ${N.appendWindowStart} and end to ${N.appendWindowEnd}`)),ke()}catch{U.warn("Failed to set append window"),ke()}})):ke()}))}function _e(ue){return new Promise((ke=>{N?ye((()=>{try{N.timestampOffset===ue||isNaN(ue)||(N.timestampOffset=ue,U.debug(`Set MSE timestamp offset to ${ue}`)),ke()}catch{ke()}})):ke()}))}function ee(){if(!H&&z.length>0){H=!0;const ue=z[0];z.splice(0,1);const ke=function(){H=!1,z.length>0&&ee.call(this),ue&&ue.data&&ue.data.segmentType&&ue.data.segmentType!==w.HTTPRequest.INIT_SEGMENT_TYPE&&delete ue.data.bytes,ue.promise.resolve({chunk:ue.data})};try{if(te=ue.request,ue.data.bytes.byteLength===0)ke.call(this);else{try{U.debug(`Appending ${ue.data.segmentType} from period ${ue.data.streamId} to buffer. Request URL: ${ue.request.url}, Representation: ID: ${ue.data.representation.id}, bitrate: ${ue.data.representation.bitrateInKbit}`)}catch{}N instanceof CU?N.appendBuffer(ue.data.bytes,ue.data.start,ue.data.end):N.appendBuffer?N.appendBuffer(ue.data.bytes):N.append(ue.data.bytes,ue.data),ye(ke.bind(this))}}catch(xe){U.fatal('SourceBuffer append failed "'+xe+'"'),z.length>0?ee():H=!1,delete ue.data.bytes,ue.promise.reject({chunk:ue.data,error:new an.default(xe.code,xe.message)})}}}function Q(){O.length>0&&!N.updating&&(O.shift()(),Q())}function M(){N.updating||Q()}function re(ue){const ke=ue.target||{};(function(xe,Oe){let Ge=Oe||{};D.trigger(xe,Ge,{streamId:V.streamInfo.id,mediaType:B})})(f.default.SOURCE_BUFFER_ERROR,{error:ke,lastRequestAppended:te})}function ye(ue){try{O.push(ue),N&&!N.updating&&Q()}catch(ke){U.error(ke)}}return L={abort:function(){return new Promise((ue=>{try{z=[],X.readyState==="open"?ye((()=>{try{N&&N.abort(),ue()}catch{ue()}})):(N&&N.setTextTrack&&X.readyState==="ended"&&N.abort(),ue())}catch{ue()}}))},abortBeforeAppend:function(){return new Promise((ue=>{ye((()=>{const ke=N.appendWindowStart,xe=N.appendWindowEnd;N&&(N.abort(),N.appendWindowStart=ke,N.appendWindowEnd=xe),ue()}))}))},append:function(ue,ke=null){return new Promise(((xe,Oe)=>{ue?(z.push({data:ue,promise:{resolve:xe,reject:Oe},request:ke}),ye(ee.bind(this))):Oe({chunk:ue,error:new an.default(fn.APPEND_ERROR_CODE,fn.APPEND_ERROR_MESSAGE)})}))},changeType:function(ue){const ke=ie(ue);return new Promise((xe=>{ye((()=>{N.changeType&&(U.debug(`Changing SourceBuffer codec to ${ke}`),N.changeType(ke)),xe()}))}))},getAllBufferRanges:function(){try{return N?.buffered}catch(ue){return U.error("getAllBufferRanges exception: "+ue.message),null}},getBuffer:function(){return N},getType:function(){return B},initializeForFirstUse:function(ue,ke){V=ue;const xe=ue.streamInfo;B=V.type;const Oe=ke?ie(ke):ue.codec;try{if(Oe.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return se(xe);N=X.addSourceBuffer(Oe),fe();const Ge=[];return Ge.push(pe(V.streamInfo)),ke&&ke.mseTimeOffset!==void 0&&Ge.push(_e(ke.mseTimeOffset)),Promise.all(Ge)}catch(Ge){return V.type==p.default.TEXT&&!V.isFragmented||Oe.indexOf('codecs="stpp')!==-1||Oe.indexOf('codecs="vtt')!==-1||Oe.indexOf("text/vtt")!==-1?se(xe):Promise.reject(Ge)}},initializeForStreamSwitch:function(ue,ke,xe){V=ue,B=V.type,(function(Oe){N=Oe.getBuffer()})(xe),fe()},remove:function(ue){return new Promise(((ke,xe)=>{const Oe=ue.start,Ge=ue.end;Oe>=0&&Ge>Oe?ye((function(){try{N.remove(Oe,Ge),ye((function(){ke({from:Oe,to:Ge,unintended:!1}),ue.resolve&&ue.resolve()}))}catch(Ne){xe({from:Oe,to:Ge,unintended:!1,error:new an.default(fn.REMOVE_ERROR_CODE,fn.REMOVE_ERROR_MESSAGE)}),ue.reject&&ue.reject(Ne)}})):ke()}))},removeEventListeners:me,reset:function(){if(N){try{O=[],me(),H=!1,z=[],N.getClassName&&N.getClassName()==="TextSourceBuffer"||(U.debug("Removing sourcebuffer from media source"),X.removeSourceBuffer(N))}catch{}N=null}te=null},updateAppendWindow:pe,updateTimestampOffset:_e},U=(0,l.default)(S).getInstance().getLogger(L),L}DU.__dashjs_factory_name="SourceBufferSink";var LU=r.default.getClassFactory(DU);function PU(x){const S=this.context;let R,k,D,L=[],B=x;function U(N,V){return L=L.filter((W=>!((isNaN(V)||W.start<V)&&(isNaN(N)||W.end>N)))),Promise.resolve()}return R={getAllBufferRanges:function(){let N=[];for(let W=0;W<L.length;W++){let O=L[W];N.length===0||O.start>N[N.length-1].end?N.push({start:O.start,end:O.end}):N[N.length-1].end=O.end}const V={start:function(W){return N[W].start},end:function(W){return N[W].end}};return Object.defineProperty(V,"length",{get:function(){return N.length}}),V},append:function(N){return N.segmentType!=="InitializationSegment"?(L.push(N),L.sort((function(V,W){return V.start-W.start})),D=null):D=N,k.debug("PreBufferSink appended chunk s: "+N.start+"; e: "+N.end),B&&B({chunk:N}),Promise.resolve()},remove:U,abort:function(){return Promise.resolve()},discharge:function(N,V){const W=(function(O,z){return L.filter((H=>(isNaN(z)||H.start<z)&&(isNaN(O)||H.end>O)))})(N,V);return D&&(W.push(D),D=null),U(N,V),W},reset:function(){L=[],D=null,B=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(N){N()},getBuffer:function(){return this}},k=(0,l.default)(S).getInstance().getLogger(R),R}PU.__dashjs_factory_name="PreBufferSink";var Nae=r.default.getClassFactory(PU);function OU(){let x={};return{save:function(S){const R=S.streamId,k=S.representation.id;x[R]=x[R]||{},x[R][k]=S},extract:function(S,R){return x&&x[S]&&x[S][R]?x[S][R]:null},reset:function(){x={}}}}OU.__dashjs_factory_name="InitCache";var bw=r.default.getSingletonFactory(OU);const vw=.01,MU="BufferController";function NU(x){const S=(x=x||{}).capabilities,R=this.context,k=(0,h.default)(R).getInstance(),D=x.fragmentModel,L=x.playbackController,B=x.representationController,U=x.settings,N=x.streamInfo,V=x.textController,W=x.type;let O,z,H,X,te,ie,se,fe,me,pe,_e,ee,Q,M,re,ye,ue,ke,xe,Oe,Ge;function Ne(Xe,ut=null){return new Promise(((Ct,st)=>{ie=Xe,me&&ut&&typeof me.discharge=="function"?(pe=me,Z(ut).then((()=>{Ct()})).catch((Nt=>{st(Nt)}))):Ct()}))}function Z(Xe,ut=new Map,Ct){return new Promise(((st,Nt)=>{ke&&Xe?ie?(_e=!1,(function(jt,Fe,lt){return new Promise((Ht=>{me=LU(R).create({mediaSource:ie,textController:V,eventBus:k}),(function(Jt,Vn,vt){const nn=B.getCurrentRepresentation();let Ln=null;return W!==p.default.VIDEO&&W!==p.default.AUDIO||(Ln=Vn.get(W)),Ln?(function(Cn,Xn,jn,Or){me.initializeForStreamSwitch(Cn,Xn,jn);const Jr=[];return Jr.push(me.abortBeforeAppend()),Jr.push(et()),Jr.push(Ae(Xn,Or)),Xn&&Xn.mseTimeOffset!==void 0&&Jr.push(Gn(Xn)),Promise.allSettled(Jr)})(Jt,nn,Ln,vt):(function(Cn,Xn){return me.initializeForFirstUse(Cn,Xn)})(Jt,nn)})(jt,Fe,lt).then((()=>Gn(B.getCurrentRepresentation()))).then((()=>{Ht(me)})).catch((Jt=>{z.warn("Caught error on create SourceBuffer: "+Jt),Ht(me)}))}))})(Xe,ut,Ct).then((jt=>{st(jt)})).catch((jt=>{Nt(jt)}))):(_e=!0,(function(){return new Promise(((jt,Fe)=>{me=Nae(R).create(ce.bind(this)),Gn(B.getCurrentRepresentation()).then((()=>{jt(me)})).catch((()=>{Fe()}))}))})().then((jt=>{st(jt)})).catch((jt=>{Nt(jt)}))):st(null)}))}function le(Xe){U.get().streaming.cacheInitSegments&&(z.info("Init fragment finished loading saving to",W+"'s init cache"),ke.save(Xe.chunk)),z.debug(`Appending init fragment for type ${W}, representationId ${Xe.chunk.representation.id} and bandwidth ${Xe.chunk.representation.bandwidth}`),de(Xe.chunk)}function ve(Xe){de(Xe.chunk,Xe.request)}function de(Xe,ut=null){me&&(me.append(Xe,ut).then((Ct=>{ce(Ct)})).catch((Ct=>{ce(Ct)})),Xe.representation.mediaInfo.type===p.default.VIDEO&&Lt(f.default.VIDEO_CHUNK_RECEIVED,{chunk:Xe}))}function Y(Xe){if(Xe&&Xe.length>0)for(let ut=0,Ct=Xe.length;ut<Ct;ut++)z.debug("Buffered range: "+Xe.start(ut)+" - "+Xe.end(ut)+", currentTime = ",L.getTime())}function ce(Xe){if(Xe.error)return Xe.error.code===22&&(function(){if(ue=!0,te=.8*on(),z.warn("Quota exceeded, Critical Buffer: "+te),te>0){const st=Math.max(.2*te,1),Nt=te-st,jt=Math.min(U.get().streaming.buffer.bufferTimeAtTopQuality,.9*Nt),Fe=Math.min(U.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*Nt),lt={streaming:{buffer:{bufferToKeep:parseFloat(st.toFixed(5)),bufferTimeAtTopQuality:parseFloat(jt.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Fe.toFixed(5))}}};U.update(lt)}})(),void(Xe.error.code!==22&&Ut()||(z.warn("Clearing playback buffer to overcome quota exceed situation"),Lt(f.default.QUOTA_EXCEEDED,{criticalBufferLevel:te,quotaExceededTime:Xe.chunk.start}),tr(En())));if(!me||(kt(),ue=!1,M=Xe.chunk,!M||!M.endFragment))return;M&&!isNaN(M.index)&&(se=Math.max(M.index,se),Mt());const ut=me.getAllBufferRanges();M.segmentType===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Y(ut),ze(),(function(){if(isNaN(Ge)||_e)return;if(W!==p.default.AUDIO&&W!==p.default.VIDEO)return void(Ge=NaN);const st=L.getTime(),Nt=gt(st,0),jt=gt(Ge,0);if(Nt&&jt&&Nt.start===jt.start)return void(Ge=NaN);const Fe=B.getCurrentRepresentation().segmentDuration,lt=gt(Ge,Fe);lt&&(U.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(st-Ge)>Fe?Ge<=lt.end&&L.seek(Math.max(Ge,lt.start),!1,!0):st<lt.start&&L.seek(lt.start,!1,!0))})());let Ct=!1;ee&&(ee.indexOf(M)>0&&(Ct=!0),ee=null),M&&!Ct&&Lt(f.default.BYTES_APPENDED_END_FRAGMENT,{startTime:M.start,index:M.index,bufferedRanges:ut,segmentType:M.segmentType,mediaType:W,representationId:M.representation.id})}function oe(Xe,ut){const Ct=[];return Ct.push(Gn(Xe)),Ct.push(me?me.abort():Promise.resolve()),Ct.push(Ae(Xe,ut)),Promise.allSettled(Ct)}function Ae(Xe,ut){if(!Xe||!ut)return z.warn("BufferController._changeCodec() is missing the information about the Representations. Doing nothing"),Promise.resolve();if(Xe&&ut&&Xe.mimeType===ut.mimeType&&Xe.codecFamily===ut.codecFamily)return z.debug(`Switching to new codec ${Xe.codecs} without changeType as previous codec ${ut.codecs} is compatible.`),Promise.resolve();if(!U.get().streaming.buffer.useChangeType||!S.supportsChangeType())return z.debug("changeType() not available"),Promise.resolve();z.debug(`Using changeType() to switch from codec ${ut.codecs} to ${Xe.codecs}`);const Ct=Xe.dependentRepresentation?Xe.dependentRepresentation:Xe;return me.changeType(Ct)}function Se(){return new Promise(((Xe,ut)=>{let Ct=De();if(!Ct||Ct.length===0)return ze(),void Xe();tr(Ct).then((()=>{Xe()})).catch((st=>{ut(st)}))}))}function De(Xe){const ut=[],Ct=me.getAllBufferRanges();if(!Ct||Ct.length===0)return ut;if(!Xe&&Xe!==0||isNaN(Xe))ut.push({start:Ct.start(0),end:Ct.end(Ct.length-1)+.5});else{const st=(function(jt,Fe){const lt=U.get().streaming.buffer.bufferToKeep,Ht=Fe.start(0);if(jt-Ht>lt){let Jt=Math.max(0,jt-lt);const Vn=D.getRequests({state:Ke.FRAGMENT_MODEL_EXECUTED,time:jt,threshold:vw})[0];if(Vn&&(Jt=Math.min(Vn.startTime,Jt)),Jt>0)return{start:Ht,end:Jt}}return null})(Xe,Ct),Nt=(function(jt,Fe){const lt=Fe.end(Fe.length-1)+.5,Ht=pt(jt),Jt=N.manifestInfo.duration>=U.get().streaming.buffer.longFormContentDurationThreshold?U.get().streaming.buffer.bufferTimeAtTopQualityLongForm:U.get().streaming.buffer.bufferTimeAtTopQuality;let Vn=isNaN(Ht)?jt:Math.min(Ht,jt+Jt);if(Vn>=Fe.end(Fe.length-1))return null;const vt=D.getRequests({state:Ke.FRAGMENT_MODEL_EXECUTED,time:jt,threshold:vw})[0];if(vt&&(Vn=Math.max(vt.startTime+vt.duration,Vn)),U.get().streaming.buffer.avoidCurrentTimeRangePruning){for(let nn=0;nn<Fe.length;nn++)if(Fe.start(nn)<=jt&&jt<=Fe.end(nn)&&Fe.start(nn)<=Vn&&Vn<=Fe.end(nn)){let Ln=Vn;Vn=nn+1<Fe.length?Fe.start(nn+1):Fe.end(nn)+1,z.debug("Buffered range ["+Fe.start(nn)+", "+Fe.end(nn)+"] overlaps with targetTime "+jt+" and range to be pruned ["+Ln+", "+lt+"], using ["+Vn+", "+lt+"] instead"+(Vn<lt?"":" (no actual pruning)"));break}}return Vn<Fe.end(Fe.length-1)?{start:Vn,end:lt}:null})(Xe,Ct);st&&ut.push(st),Nt&&ut.push(Nt)}return ut}function ze(){(!Oe||W===p.default.TEXT&&V.isTextEnabled())&&kt()}function Ue(){un()}function tt(){un(),Ge=NaN}function gt(Xe,ut){if(!me)return null;const Ct=me.getAllBufferRanges();let st,Nt,jt=0,Fe=0,lt=null,Ht=null,Jt=0;const Vn=isNaN(ut)?.15:ut;if(Ct!=null){for(Nt=0,st=Ct.length;Nt<st;Nt++)if(jt=Ct.start(Nt),Fe=Ct.end(Nt),lt===null)Jt=Math.abs(jt-Xe),(Xe>=jt&&Xe<Fe||Jt<=Vn)&&(lt=jt,Ht=Fe);else{if(Jt=jt-Ht,!(Jt<=Vn))break;Ht=Fe}if(lt!==null)return{start:lt,end:Ht}}return null}function kt(){if(L){let Xe=L.getTime()||0;_e&&(Xe=isNaN(Ge)?0:Ge);const ut=U.get().streaming.gaps.jumpGaps&&!isNaN(U.get().streaming.gaps.smallGapLimit)?U.get().streaming.gaps.smallGapLimit:NaN;X=Math.max((function(Ct,st){let Nt,jt;return U.get().streaming.gaps.jumpGaps&&(st=U.get().streaming.gaps.smallGapLimit),Nt=gt(Ct,st),jt=Nt===null?0:Nt.end-Ct,jt})(Xe,ut),0),Lt(f.default.BUFFER_LEVEL_UPDATED,{mediaType:W,bufferLevel:X}),un()}}function Mt(){const Xe=se>=fe-1,ut=L.getTimeToStreamEnd(N)-X<1e-5;!Xe&&!ut||H||(Pt(!0),z.debug(`checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ${N.id} and type ${W}`))}function un(){if(W!==p.default.AUDIO&&W!==p.default.VIDEO)return;const Xe=L.getLowLatencyModeEnabled()?U.get().streaming.buffer.lowLatencyStallThreshold:U.get().streaming.buffer.stallThreshold;X<=Xe&&!H?St(o.BUFFER_EMPTY):(H||X>Xe)&&St(o.BUFFER_LOADED)}function St(Xe){Q===Xe||Xe===o.BUFFER_EMPTY&&L.getTime()===0||W===p.default.TEXT&&!V.isTextEnabled()||(Q=Xe,Lt(f.default.BUFFER_LEVEL_STATE_CHANGED,{state:Xe}),Lt(Xe===o.BUFFER_LOADED?f.default.BUFFER_LOADED:f.default.BUFFER_EMPTY),z.debug(Xe===o.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Zt(){me&&W!==p.default.TEXT&&(H||tr(En()))}function En(){const Xe=[],ut=me.getAllBufferRanges();if(!ut||ut.length===0)return Xe;const Ct=L.getTime();let st=Math.max(0,Ct-U.get().streaming.buffer.bufferToKeep);const Nt=D.getRequests({state:Ke.FRAGMENT_MODEL_EXECUTED,time:Ct,threshold:vw})[0];if(Nt)st=Math.min(Nt.startTime,st);else if(Ct===0&&L.getIsDynamic())return[];if(ut.start(0)<=st){const jt={start:0,end:st};for(let Fe=0;Fe<ut.length&&ut.end(Fe)<=st;Fe++)jt.end=ut.end(Fe);jt.start<jt.end&&Xe.push(jt)}return Xe}function tr(Xe){return new Promise(((ut,Ct)=>{if(!Xe||!me||Xe.length===0)return kt(),void ut();const st=[];Xe.forEach((Nt=>{st.push((function(jt){return new Promise(((Fe,lt)=>{jt.resolve=Fe,jt.reject=lt,xe.push(jt)}))})(Nt))})),ye||Jn(),Promise.all(st).then((()=>{ut()})).catch((Nt=>{Ct(Nt)}))}))}function Jn(){try{if(xe.length===0||!me)return z.debug("Nothing to prune, halt pruning"),xe=[],void(ye=!1);const Xe=me.getBuffer();if(!Xe||!Xe.buffered||Xe.buffered.length===0)return z.debug("SourceBuffer is empty (or does not exist), halt pruning"),xe=[],void(ye=!1);const ut=xe.shift();z.debug(`${W}: Removing buffer from: ${ut.start} to ${ut.end}`),ye=!0,L.getTime()<ut.end&&Pt(!1),me.remove(ut).then((Ct=>{Dn(Ct)})).catch((Ct=>{Dn(Ct)}))}catch{ye=!1}}function Dn(Xe){z.debug("onRemoved buffer from:",Xe.from,"to",Xe.to),me&&(Y(me.getAllBufferRanges()),xe.length===0&&(ye=!1,kt()),Xe.unintended&&(z.warn("Detected unintended removal from:",Xe.from,"to",Xe.to,"setting streamprocessor time to",Xe.from),Lt(f.default.SEEK_TARGET,{time:Xe.from})),ye?Jn():(Oe?Oe=!1:kt(),Lt(f.default.BUFFER_CLEARED,{from:Xe.from,to:Xe.to,unintended:Xe.unintended,hasEnoughSpaceToAppend:Ut(),quotaExceeded:ue})))}function Gn(Xe){return new Promise((ut=>{Xe&&Xe.mseTimeOffset!==void 0&&me&&me.updateTimestampOffset?me.updateTimestampOffset(Xe.mseTimeOffset).then((()=>{ut()})).catch((()=>{ut()})):ut()}))}function et(){return me&&!H?me.updateAppendWindow(N):Promise.resolve()}function Rt(){re++,re*(U.get().streaming.wallclockTimeUpdateInterval/1e3)>=U.get().streaming.buffer.bufferPruningInterval&&(re=0,Zt())}function xt(){un()}function Pt(Xe){H=Xe,H?Lt(f.default.BUFFERING_COMPLETED):fe=Number.POSITIVE_INFINITY}function on(){try{const Xe=me.getAllBufferRanges();let ut,Ct,st=0;if(!Xe)return st;for(Ct=0,ut=Xe.length;Ct<ut;Ct++)st+=Xe.end(Ct)-Xe.start(Ct);return st}catch{return 0}}function pt(Xe){try{let ut=Xe;const Ct=me.getAllBufferRanges();if(!Ct||Ct.length===0)return NaN;let st=0;for(;ut===Xe&&st<Ct.length;){const Nt=Ct.start(st),jt=Ct.end(st);ut>=Nt&&ut<=jt&&(ut=jt),st+=1}return ut===Xe?NaN:ut}catch{return NaN}}function Ut(){const Xe=on();return isNaN(Xe)||Xe<te}function Lt(Xe,ut){let Ct=ut||{};k.trigger(Xe,Ct,{streamId:N.id,mediaType:W})}function Qt(Xe,ut){if(te=Number.POSITIVE_INFINITY,Q=void 0,fe=Number.POSITIVE_INFINITY,se=0,M=null,H=!1,ye=!1,ue=!1,X=0,re=0,xe=[],Ge=NaN,_e=!1,me){let Ct=me;me=null,Xe||(ut?Ct.removeEventListeners():Ct.abort().then((()=>{Ct.reset(ut),Ct=null})))}Oe=!1}return O={appendInitSegmentFromCache:function(Xe){const ut=ke.extract(N.id,Xe);return!!ut&&(z.debug(`Appending init fragment for type ${W}, representationId ${ut.representation.id} and bandwidth ${ut.representation.bandwidth}`),de(ut),!0)},clearBuffers:tr,createBufferSink:Z,dischargePreBuffer:function(){if(me&&pe&&typeof pe.discharge=="function"){const Xe=pe.getAllBufferRanges();if(Xe.length>0){let st="Beginning "+W+"PreBuffer discharge, adding buffer for:";for(let Nt=0;Nt<Xe.length;Nt++)st+=" start: "+Xe.start(Nt)+", end: "+Xe.end(Nt)+";";z.debug(st)}else z.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");ee=[];let ut=pe.discharge(),Ct=null;for(let st=0;st<ut.length;st++){const Nt=ut[st];if(Nt.segmentType!==w.HTTPRequest.INIT_SEGMENT_TYPE){const jt=ke.extract(Nt.streamId,Nt.representation.id);jt&&Ct!==jt&&(ee.push(jt),me.append(jt),Ct=jt)}ee.push(Nt),me.append(Nt)}pe.reset(),pe=null}},getAllRangesWithSafetyFactor:De,getBuffer:function(){return me},getBufferControllerType:function(){return MU},getBufferLevel:function(){return X},getContinuousBufferTimeForTargetTime:pt,getIsBufferingCompleted:function(){return H},getIsPruningInProgress:function(){return ye},getMediaSource:function(){return ie},getRangeAt:gt,getStreamId:function(){return N.id},getType:function(){return W},hasBufferAtTime:function(Xe){try{const ut=me.getAllBufferRanges();if(!ut||ut.length===0)return!1;let Ct=0;for(;Ct<ut.length;){const st=ut.start(Ct),Nt=ut.end(Ct);if(Xe>=st&&Xe<=Nt)return!0;Ct+=1}return!1}catch(ut){return z.error(ut),!1}},initialize:function(Xe){Ne(Xe),k.on(f.default.INIT_FRAGMENT_LOADED,le,O),k.on(f.default.MEDIA_FRAGMENT_LOADED,ve,O),k.on(f.default.WALLCLOCK_TIME_UPDATED,Rt,O),k.on(m.default.PLAYBACK_PLAYING,tt,O),k.on(m.default.PLAYBACK_PROGRESS,ze,O),k.on(m.default.PLAYBACK_TIME_UPDATED,ze,O),k.on(m.default.PLAYBACK_RATE_CHANGED,xt,O),k.on(m.default.PLAYBACK_STALLED,Ue,O)},prepareForAbandonQualitySwitch:function(Xe,ut){return oe(Xe,ut)},prepareForDefaultQualitySwitch:function(Xe,ut){return oe(Xe,ut)},prepareForFastQualitySwitch:function(Xe,ut){return oe(Xe,ut)},prepareForForceReplacementQualitySwitch:function(Xe,ut){return new Promise((Ct=>{const st=[];st.push(me.abort()),st.push(et()),st.push(Se()),st.push(Gn(Xe)),st.push(Ae(Xe,ut)),Promise.allSettled(st).then((()=>{Pt(!1),Ct()}))}))},prepareForNonReplacementTrackSwitch:function(Xe,ut){return new Promise((Ct=>{const st=[];st.push(et()),st.push(Ae(Xe,ut)),Promise.allSettled(st).then((()=>{Ct()}))}))},prepareForPlaybackSeek:function(){return H&&Pt(!1),me.abort()},prepareForReplacementTrackSwitch:function(Xe,ut){return new Promise((Ct=>{const st=[];st.push(me.abort()),st.push(et()),st.push(Ae(Xe,ut)),st.push(Se()),st.push(Gn(Xe)),Promise.allSettled(st).then((()=>{Pt(!1),Ct()}))}))},pruneAllSafely:Se,pruneBuffer:Zt,reset:function(Xe,ut){k.off(f.default.INIT_FRAGMENT_LOADED,le,this),k.off(f.default.MEDIA_FRAGMENT_LOADED,ve,this),k.off(f.default.WALLCLOCK_TIME_UPDATED,Rt,this),k.off(m.default.PLAYBACK_PLAYING,tt,this),k.off(m.default.PLAYBACK_PROGRESS,ze,this),k.off(m.default.PLAYBACK_TIME_UPDATED,ze,this),k.off(m.default.PLAYBACK_RATE_CHANGED,xt,this),k.off(m.default.PLAYBACK_STALLED,Ue,this),Qt(Xe,ut)},segmentRequestingCompleted:function(Xe){isNaN(Xe)||(fe=Xe,Mt())},setIsBufferingCompleted:Pt,setMediaSource:Ne,setSeekTarget:function(Xe){Ge=Xe},updateAppendWindow:et,updateBufferTimestampOffset:Gn},z=(0,l.default)(R).getInstance().getLogger(O),ke=bw(R).getInstance(),Qt(),O}NU.__dashjs_factory_name=MU;var Fae=r.default.getClassFactory(NU);const FU="NotFragmentedTextBufferController";function UU(x){x=x||{};const S=this.context,R=(0,h.default)(S).getInstance(),k=x.textController,D=x.errHandler,L=x.streamInfo,B=x.type;let U,N,V,W,O,z;function H(ie){W=ie}function X(ie){N!==ie&&(N=ie,N&&(function(se){let fe={};R.trigger(se,fe,{streamId:L.id,mediaType:B})})(f.default.BUFFERING_COMPLETED))}function te(ie){ie.chunk.bytes&&!N&&(z.save(ie.chunk),O.append(ie.chunk),X(!0))}return U={initialize:function(ie){H(ie)},getStreamId:function(){return L.id},getType:function(){return B},getBufferControllerType:function(){return FU},createBufferSink:function(ie){return new Promise(((se,fe)=>{try{O=LU(S).create({mediaSource:W,textController:k,eventBus:R}),O.initializeForFirstUse(ie),V||(O.getBuffer()&&typeof O.getBuffer().initialize=="function"&&O.getBuffer().initialize(),V=!0),se(O)}catch(me){D.error(new an.default(fn.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,fn.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+B)),fe(me)}}))},dischargePreBuffer:function(){},getBuffer:function(){return O},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:H,getMediaSource:function(){return W},appendInitSegmentFromCache:function(ie){return z.extract(L.id,ie)!==null},getIsBufferingCompleted:function(){return N},setIsBufferingCompleted:X,getIsPruningInProgress:function(){return!1},reset:function(ie){R.off(f.default.INIT_FRAGMENT_LOADED,te,U),!ie&&O&&(O.abort(),O.reset(),O=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return N=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},V=!1,W=null,N=!1,z=bw(S).getInstance(),R.on(f.default.INIT_FRAGMENT_LOADED,te,U),U}UU.__dashjs_factory_name=FU;var Uae=r.default.getClassFactory(UU);function BU(x){x=x||{};const S=this.context,R=(0,h.default)(S).getInstance(),k=x.dashMetrics,D=x.mediaPlayerModel,L=x.fragmentModel,B=x.abrController,U=x.playbackController,N=x.textController,V=x.type,W=x.bufferController,O=x.representationController,z=x.settings;let H,X,te,ie,se,fe,me,pe,_e,ee,Q,M;function re(){me=(0,l.default)(S).getInstance().getLogger(ie),Y(),ee=x.streamInfo}function ye(){pe=!0}function ue(){pe=!1}function ke(ce){if(W.getIsBufferingCompleted())return;xe();const oe=isNaN(ce)?0:ce;_e=setTimeout(Oe,oe)}function xe(){_e&&(clearTimeout(_e),_e=null)}function Oe(){const ce=D.getScheduleTimeout();try{if((function(){try{return V===p.default.TEXT&&!N.isTextEnabled()||U.isPaused()&&(!U.getStreamController().getInitialPlayback()||!U.getStreamController().getAutoPlay())&&!z.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}})())return void xe();(function(){try{return!!pe&&O.getCurrentRepresentation()&&(fe==null||Q||(function(){const oe=O.getCurrentRepresentation();if(!V||!oe)return!0;let Ae=oe&&oe.segmentDuration&&!isNaN(oe.segmentDuration)?oe.segmentDuration:0;const Se=k.getCurrentBufferLevel(V),De=Ge();return(De<=Ae||U.getLowLatencyModeEnabled()||V===p.default.AUDIO&&X)&&(Ae=0),Se+Ae<De})())}catch{return!1}})()?(function(){if(B.handlePendingManualQualitySwitch(ee.id,V))return;let oe=!1;H&&(oe=B.checkPlaybackQuality(V,ee.id)),oe||(function(){const Ae=O.getCurrentRepresentation();te||Ae.id!==fe||Q?(function(Se){Q?(me.debug("Switch track for "+V+", representation id = "+Se.id),Q=!1):me.debug("Quality has changed, get init request for representationid = "+Se.id),R.trigger(f.default.INIT_FRAGMENT_NEEDED,{representationId:Se.id,sender:ie},{streamId:ee.id,mediaType:V}),H=!1,te=!1})(Ae):(me.debug(`Media segment needed for ${V} and stream id ${ee.id}`),R.trigger(f.default.MEDIA_FRAGMENT_NEEDED,{},{streamId:ee.id,mediaType:V}),H=!0)})()})():ke(ce)}catch{ke(ce)}}function Ge(){let ce=NaN;const oe=O.getCurrentRepresentation();return V&&oe&&(ce=V===p.default.TEXT?(function(){try{if(N.isTextEnabled()){const Ae=O.getCurrentRepresentation();if(isNaN(Ae.fragmentDuration)){const Se=k.getCurrentSchedulingInfo(o.SCHEDULING_INFO);return Se?Se.duration:0}return Ae.fragmentDuration}return 0}catch{return 0}})():V===p.default.AUDIO&&X?(function(){try{const Ae=k.getCurrentBufferLevel(p.default.VIDEO),Se=O.getCurrentRepresentation();return isNaN(Se.fragmentDuration)?Ae+1:Math.max(Ae+1,Se.fragmentDuration)}catch{return 0}})():(function(){try{const Ae=O.getCurrentRepresentation(),Se=Ae.mediaInfo.streamInfo;return B.isPlayingAtTopQuality(Ae)?Se.manifestInfo.duration>=z.get().streaming.buffer.longFormContentDurationThreshold?z.get().streaming.buffer.bufferTimeAtTopQualityLongForm:z.get().streaming.buffer.bufferTimeAtTopQuality:D.getBufferTimeDefaultUnadjusted()}catch{return D.getBufferTimeDefaultUnadjusted()}})()),ce}function Ne(){Z(!0)}function Z(ce){if(U&&L){const oe=L.getRequests({state:Ke.FRAGMENT_MODEL_EXECUTED,time:U.getTime(),threshold:0})[0];oe&&U.getTime()>=oe.startTime&&((!se.representation||oe.representation.mediaInfo.type===se.representation.mediaInfo.type&&oe.representation.mediaInfo.index!==se.representation.mediaInfo.index)&&ce&&(function(Ae){me.debug(`Track change rendered for streamId ${ee.id} and type ${V}`),R.trigger(f.default.TRACK_CHANGE_RENDERED,{mediaType:V,oldMediaInfo:se&&se.representation&&se.representation.mediaInfo?se.representation.mediaInfo:null,newMediaInfo:Ae.representation.mediaInfo,streamId:ee.id})})(oe),se.representation&&oe.representation.id===se.representation.id||!ce||(function(Ae){me.debug(`Quality change rendered for streamId ${ee.id} and type ${V}`),R.trigger(f.default.QUALITY_CHANGE_RENDERED,{mediaType:V,oldRepresentation:se.representation?se.representation:null,newRepresentation:Ae.representation,streamId:ee.id})})(oe),se.representation=oe.representation)}}function le(){L.abortRequests(),xe()}function ve(){z.get().streaming.scheduling.scheduleWhilePaused||ke()}function de(ce){k.updatePlayListTraceMetrics({playbackspeed:ce.playbackRate.toString()})}function Y(){H=!0,M=0,fe=null,se={representation:null},Q=!1,te=!1,pe=!0}return ie={clearScheduleTimer:xe,getBufferTarget:Ge,getPlaybackController:function(){return U},getStreamId:function(){return ee.id},getSwitchTrack:function(){return Q},getTimeToLoadDelay:function(){return M},getType:function(){return V},initialize:function(ce){X=ce,R.on(f.default.URL_RESOLUTION_FAILED,le,ie),R.on(m.default.PLAYBACK_STARTED,ve,ie),R.on(m.default.PLAYBACK_RATE_CHANGED,de,ie),R.on(m.default.PLAYBACK_TIME_UPDATED,Ne,ie),R.on(m.default.MANAGED_MEDIA_SOURCE_START_STREAMING,ye,ie),R.on(m.default.MANAGED_MEDIA_SOURCE_END_STREAMING,ue,ie)},reset:function(){R.off(f.default.URL_RESOLUTION_FAILED,le,ie),R.off(m.default.PLAYBACK_STARTED,ve,ie),R.off(m.default.PLAYBACK_RATE_CHANGED,de,ie),R.off(m.default.PLAYBACK_TIME_UPDATED,Ne,ie),R.off(m.default.MANAGED_MEDIA_SOURCE_START_STREAMING,ye,ie),R.off(m.default.MANAGED_MEDIA_SOURCE_END_STREAMING,ue,ie),xe(),Z(!1),Y(),ee=null},setShouldCheckPlaybackQuality:function(ce){H=ce},setInitSegmentRequired:function(ce){te=ce},setLastInitializedRepresentationId:function(ce){fe=ce},setup:re,setSwitchTrack:function(ce){Q=ce},setTimeToLoadDelay:function(ce){M=ce},startScheduleTimer:ke},re(),ie}BU.__dashjs_factory_name="ScheduleController";var Bae=r.default.getClassFactory(BU);const zae=/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g;var $ae=class extends _U{constructor(){super(),this.isPartialSegment=!0,this.replacementSubNumber=NaN,this.totalNumberOfPartialSegments=NaN}};function zU(x){return x?x.totalNumberOfPartialSegments&&!isNaN(x.totalNumberOfPartialSegments)&&x.totalNumberOfPartialSegments>0&&!isNaN(x.subNumberOfPartialSegmentToRequest)?(function(S){const R=(function(k,D){const L=new $ae,B=k.segmentDurationInSeconds/k.totalNumberOfPartialSegments,{representation:U,timelineConverter:N,isDynamic:V,index:W,totalNumberOfPartialSegments:O}=k,z=$U({representation:U,segmentDurationInSeconds:B,presentationStartTime:k.presentationStartTime+D*B,presentationEndTime:k.presentationStartTime+(D+1)*B,timelineConverter:N,isDynamic:V,mediaTimeInSeconds:k.mediaTimeInSeconds+D*B,index:W});return L.assignAttributes(z),L.replacementSubNumber=D,L.totalNumberOfPartialSegments=O,L})(S,S.subNumberOfPartialSegmentToRequest);return qU(R,S),R})(x):(function(S){const R=new yw,k=$U(S);return R.assignAttributes(k),qU(R,S),R})(x):null}function $U(x){const{representation:S,segmentDurationInSeconds:R,presentationStartTime:k,presentationEndTime:D,mediaTimeInSeconds:L,timelineConverter:B,isDynamic:U,index:N}=x,V={availabilityEndTime:B.calcAvailabilityEndTimeFromPresentationTime(D+R,S,U),availabilityStartTime:B.calcAvailabilityStartTimeFromPresentationTime(D,S,U),duration:R,index:N,mediaStartTime:L,presentationStartTime:k,replacementNumber:S.startNumber+N,representation:S};return V.wallStartTime=B.calcWallTimeForSegment(V,U),V}function qU(x,S){const{tManifest:R,mediaTime:k,mediaUrl:D,mediaRange:L}=S;x.replacementTime=R||k,x.media=Jp(D,x.representation.id,x.replacementNumber,x.replacementSubNumber,x.representation.bandwidth,x.replacementTime),x.mediaRange=L,x.mediaUrl=D}function jU(x,S,R,k){const D=S.adaptation.period;if(isFinite(D.duration)&&D.start+D.duration<=R.presentationStartTime)return!1;if(k){if(S.availabilityTimeOffset==="INF")return!0;const L=x.getClientReferenceTime();return R.availabilityStartTime.getTime()<=L&&(!isFinite(R.availabilityEndTime)||R.availabilityEndTime.getTime()>=L)}return!0}function Jp(x,S,R,k,D,L){return x&&(function(B,U,N,V,W,O){return B.replace(zae,((z,H,X,te)=>{let ie,se;switch(H){case void 0:return"$";case"RepresentationID":ie=U;break;case"Number":ie=N;break;case"SubNumber":ie=V;break;case"Bandwidth":ie=W;break;case"Time":if(typeof O=="string")return O;ie=O&&Math.round(O);break;default:ie=null}if(ie==null)return z;switch(te){case void 0:case"d":case"i":case"u":se=ie.toString();break;case"o":se=ie.toString(8);break;case"x":se=ie.toString(16);break;case"X":se=ie.toString(16).toUpperCase();break;default:se=ie.toString()}const fe=parseInt(X,10)||1;return se.padStart(fe,"0")}))})(x,S,R,k,D,L)}function HU(x){const{index:S,isDynamic:R,mediaRange:k,mediaTime:D,mediaUrl:L,representation:B,subNumberOfPartialSegmentToRequest:U,timelineConverter:N,totalNumberOfPartialSegments:V}=x;let W,O,z;W=B.segmentDuration,isNaN(W)&&(W=B.adaptation.period.duration),O=parseFloat((B.adaptation.period.start+S*W).toFixed(5)),z=parseFloat((O+W).toFixed(5));const H=zU({index:S,isDynamic:R,mediaRange:k,mediaTime:D,mediaTimeInSeconds:N.calcMediaTimeFromPresentationTime(O,B),mediaUrl:L,presentationEndTime:z,presentationStartTime:O,representation:B,segmentDurationInSeconds:W,subNumberOfPartialSegmentToRequest:U,timelineConverter:N,totalNumberOfPartialSegments:V});return jU(N,B,H,R)?H:null}function Ew(x){const{durationInTimescale:S,fTimescale:R,index:k,subNumberOfPartialSegmentToRequest:D,isDynamic:L,mediaRange:B,mediaTime:U,mediaUrl:N,totalNumberOfPartialSegments:V,representation:W,tManifest:O,timelineConverter:z}=x,H=U/R,X=S/R;let te=z.calcPresentationTimeFromMediaTime(H,W),ie=zU({representation:W,segmentDurationInSeconds:X,presentationStartTime:te,presentationEndTime:te+X,mediaTimeInSeconds:H,timelineConverter:z,isDynamic:L,index:k,totalNumberOfPartialSegments:V,subNumberOfPartialSegmentToRequest:D,mediaUrl:N,mediaRange:B,tManifest:O,mediaTime:U});return jU(z,W,ie,L)?ie:null}function _w(x){return x.k}function GU(x){const S=(x=x||{}).eventBus,R=x.events,k=x.abrController,D=x.dashMetrics,L=x.playbackController,B=x.timelineConverter,U=x.type,N=x.streamInfo,V=x.segmentsController,W=x.isDynamic;let O,z,H;function X(){return U}function te(){return H?.mediaInfo.type===U?H:(function(){let ee=H?.dependentRepresentation;if(ee){if(!ee.mediaInfo)throw new Error("dependentRepresentation has no mediaInfo!");if(ee.mediaInfo.type===U)return ee}return null})()}function ie(){H=null,z=[]}function se(ee){return new Promise(((Q,M)=>{const re=ee.hasInitialization(),ye=ee.hasSegments(),ue=[];ue.push(V.updateInitData(ee,re)),ue.push(V.updateSegmentData(ee,ye)),Promise.all(ue).then((ke=>{var xe;ke[0]&&!ke[0].error&&(ee=(function(Oe,Ge){return Ge&&!Ge.error&&Ge.representation?Ge.representation:Oe})(ee,ke[0])),ke[1]&&!ke[1].error&&(ee=(function(Oe,Ge){if(!Ge||Ge.error)return;const Ne=Ge.segments,Z=[];let le,ve,de,Y,ce=0;for(le=0,ve=Ne?Ne.length:0;le<ve;le++)de=Ne[le],Y=Ew({durationInTimescale:de.duration,fTimescale:de.timescale,index:ce,isDynamic:W,mediaRange:de.mediaRange,mediaTime:de.startTime,mediaUrl:de.media,representation:Oe,timelineConverter:B}),Y&&(Z.push(Y),Y=null,ce++);return Z.length>0&&(Oe.segments=Z),Oe})(ee,ke[1])),ee.fragmentDuration=ee.segmentDuration?ee.segmentDuration:ee.segments&&ee.segments.length>0?ee.segments[0].duration:NaN,(xe=ee).mediaFinishedInformation=V.getMediaFinishedInformation(xe),(function(Oe){let Ge,Ne=D.getCurrentManifestUpdate(),Z=!1;if(Ne){for(let le=0;le<Ne.representationInfo.length;le++)if(Ge=Ne.representationInfo[le],Ge.index===Oe.index&&Ge.mediaType===X()){Z=!0;break}Z||D.addManifestUpdateRepresentationInfo(Oe,X())}})(ee),Q()})).catch((ke=>{M(ke)}))}))}function fe(ee){if(!z||z.length===0)return null;const Q=z.filter((M=>M.id===ee));return Q.length>0?Q[0]:null}function me(ee){S.trigger(R.DATA_UPDATE_COMPLETED,{currentRepresentation:H,error:ee},{streamId:N.id,mediaType:U})}function pe(ee){H&&H.id===ee.id||(function(Q){(function(){if(!(k&&D&&L&&B))throw new Error(p.default.MISSING_CONFIG_ERROR)})();const M=new Date,re=1e3*L.getTime();Q&&D.addRepresentationSwitch(Q.adaptation.type,M,re,Q.id),S.trigger(m.default.REPRESENTATION_SWITCH,{mediaType:U,streamId:N.id,currentRepresentation:Q},{streamId:N.id,mediaType:U})})(ee),H=ee}function _e(ee){if(ee.newDuration){const Q=te();Q&&Q.adaptation.period&&(Q.adaptation.period.duration=ee.newDuration)}}return O={getCurrentCompositeRepresentation:function(){return H},getCurrentRepresentation:te,getRepresentationById:fe,getStreamId:function(){return N.id},getType:X,prepareQualityChange:function(ee){const Q=z.filter((M=>M.id===ee.id));Q.length>0&&pe(Q[0])},reset:function(){S.off(m.default.MANIFEST_VALIDITY_CHANGED,_e,O),ie()},updateData:function(ee,Q,M){return new Promise(((re,ye)=>{if(z=ee,pe(fe(M)),U!==p.default.VIDEO&&U!==p.default.ENHANCEMENT&&U!==p.default.AUDIO&&(U!==p.default.TEXT||!Q))return me(),void re();const ue=[];for(let ke=0,xe=z.length;ke<xe;ke++){const Oe=z[ke];ue.push(se(Oe))}Promise.all(ue).then((()=>{(function(){k.setPlaybackQuality(U,N,H);const ke=D.getCurrentDVRInfo(U);ke&&D.updateManifestUpdateInfo({latency:ke.range.end-L.getTime()}),me()})(),re()})).catch((ke=>{ye(ke)}))}))}},ie(),S.on(m.default.MANIFEST_VALIDITY_CHANGED,_e,O),O}GU.__dashjs_factory_name="RepresentationController";var qae=r.default.getClassFactory(GU);function VU(x){const S=(x=x||{}).eventBus,R=x.debug,k=x.urlUtils,D=x.type,L=x.streamInfo,B=x.segmentsController,U=x.timelineConverter,N=x.baseURLController;let V,W,O,z,H;function X(){return D}function te(){O=null}function ie(ee,Q,M){const re=N.resolve(M.path);let ye,ue,ke={};return re&&Q!==re.url&&k.isRelative(Q)?(ye=re.url,ue=re.serviceLocation,ke=re.queryParams,Q&&(ye=k.resolve(Q,ye))):ye=Q,!k.isRelative(ye)&&(ee.url=ye,ee.serviceLocation=ue,ee.queryParams=ke,!0)}function se(ee,Q,M){let re=null;if(!Q||!Q.segmentInfoType)return re;const ye=B.getSegmentByTime(Q,M);return ye&&(O=ye,W.debug("Index for time "+M+" is "+ye.index),re=fe(0,ye)),re}function fe(ee,Q){if(Q==null)return null;const M=new ae,re=Q.representation,ye=re.bandwidth,ue=Jp(Q.media,re.id,Q.replacementNumber,Q.replacementSubNumber,ye,Q.replacementTime);return M.adaptationIndex=re.adaptation.index,M.availabilityEndTime=Q.availabilityEndTime,M.availabilityStartTime=Q.availabilityStartTime,M.availabilityTimeComplete=re.availabilityTimeComplete,M.bandwidth=re.bandwidth,M.duration=Q.duration,M.index=Q.index,M.isPartialSegmentRequest=Q.isPartialSegment,M.mediaStartTime=Q.mediaStartTime,M.mediaType=X(),M.presentationStartTime=Q.presentationStartTime,M.range=Q.mediaRange,M.representation=re,M.startTime=Q.presentationStartTime,M.timescale=re.timescale,M.type=w.HTTPRequest.MEDIA_SEGMENT_TYPE,M.wallStartTime=Q.wallStartTime,ie(M,ue,re)?M:void 0}function me(ee){if(!ee)return{indexToRequest:0,subNumberOfPartialSegmentToRequest:NaN};const Q=ee.isPartialSegment,M=!isNaN(ee.replacementSubNumber),re=!isNaN(ee.totalNumberOfPartialSegments);if(Q&&M&&re){const ye=ee.replacementSubNumber+1;return ye<ee.totalNumberOfPartialSegments?{indexToRequest:ee.index,subNumberOfPartialSegmentToRequest:ye}:{indexToRequest:ee.index+1,subNumberOfPartialSegmentToRequest:0}}return{indexToRequest:ee.index+1,subNumberOfPartialSegmentToRequest:NaN}}function pe(ee,Q,M,re){let ye=null;const ue=B.getSegmentByIndex(Q,M,re,O);if(ue)ye=fe(0,ue),O=ue;else{if(z&&!H)return W.debug(X()+" No segment found at index: "+M+". Wait for next loop"),null;H=!0}return ye}function _e(){W.debug("Dynamic stream complete"),H=!0}return V={getCurrentIndex:function(){return O?O.index:-1},getInitRequest:function(ee,Q){return Q?(function(M,re,ye){const ue=new ae,ke=re.adaptation.period,xe=ke.start;if(ue.mediaType=ye,ue.type=w.HTTPRequest.INIT_SEGMENT_TYPE,ue.range=re.range,ue.availabilityStartTime=U.calcAvailabilityStartTimeFromPresentationTime(xe,re,z),ue.availabilityEndTime=U.calcAvailabilityEndTimeFromPresentationTime(xe+ke.duration,re,z),ue.representation=re,ie(ue,re.initialization,re))return ue.url=Jp(ue.url,re.id,void 0,void 0,re.bandwidth),ue})(0,Q,X()):null},getLastSegment:function(){return O},getNextSegmentRequest:function(ee,Q){if(!Q||!Q.segmentInfoType)return null;if((function(ye){return ye&&O&&ye.endNumber&&O.replacementNumber&&O.replacementNumber>=ye.endNumber})(Q))return H=!0,null;let{indexToRequest:M,subNumberOfPartialSegmentToRequest:re}=me(O);return pe(0,Q,M,re)},getNextSegmentRequestIdempotent:function(ee,Q){let M=null,{indexToRequest:re,subNumberOfPartialSegmentToRequest:ye}=me(O);const ue=B.getSegmentByIndex(Q,re,ye,O);return ue?(M=fe(0,ue),M):null},getSegmentRequestForTime:se,getStreamId:function(){return L.id},getStreamInfo:function(){return L},getType:X,getValidTimeAheadOfTargetTime:function(ee,Q,M,re){try{if(isNaN(ee)||!Q||!M)return NaN;if(ee<0&&(ee=0),isNaN(re)&&(re=.5),se(0,M,ee))return ee;if(M.adaptation.period.start+M.adaptation.period.duration<ee)return NaN;const ye=isFinite(M.adaptation.period.duration)?M.adaptation.period.start+M.adaptation.period.duration:ee+30;let ue=Math.min(ee+re,ye),ke=NaN,xe=null;for(;ue<=ye;){let Oe=null;if(ue<=ye&&(Oe=se(0,M,ue)),Oe){ke=ue,xe=Oe;break}ue+=re}if(xe){const Oe=xe.startTime+xe.duration;return ee>xe.startTime&&Oe-ee>re?ee:!isNaN(xe.startTime)&&ee<xe.startTime&&ke>xe.startTime?xe.startTime+.001:Math.min(Oe-re,ke)}return ke}catch{return NaN}},initialize:function(ee){z=ee,H=!1,B.initialize(ee)},isLastSegmentRequested:function(ee,Q){return!ee||!O?!1:H?!0:!isFinite(ee.adaptation.period.duration)||O.presentationStartTime+O.duration>Q?!1:ee.mediaFinishedInformation&&!isNaN(ee.mediaFinishedInformation.numberOfSegments)&&!isNaN(O.index)&&O.index>=ee.mediaFinishedInformation.numberOfSegments-1&&(!z||ee.segmentInfoType===Re.default.SEGMENT_TEMPLATE||z&&ee.segmentInfoType===Re.default.SEGMENT_LIST&&ee.adaptation.period.nextPeriodId)?!0:!!(z&&ee.adaptation.period.nextPeriodId&&ee.segmentInfoType===Re.default.SEGMENT_TIMELINE&&ee.mediaFinishedInformation&&!isNaN(ee.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&O&&!isNaN(O.mediaStartTime)&&!isNaN(O.duration)&&O.mediaStartTime+O.duration>=ee.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},repeatSegmentRequest:function(ee,Q){return Q&&Q.segmentInfoType?pe(0,Q,O?O.index:0,O&&O.isPartialSegment&&!isNaN(O.replacementSubNumber)?O.replacementSubNumber:NaN):null},reset:function(){te(),S.off(m.default.DYNAMIC_TO_STATIC,_e,V)}},W=R.getLogger(V),te(),S.on(m.default.DYNAMIC_TO_STATIC,_e,V),V}VU.__dashjs_factory_name="DashHandler";var KU=r.default.getClassFactory(VU);function WU(x,S){const R=(x=x||{}).timelineConverter,k=x.dashMetrics;let D;function L(U,N){if((function(){if(!R)throw new Error(p.default.MISSING_CONFIG_ERROR)})(),!U)return null;N===void 0&&(N=null);let V=null;const W=R.calcMediaTimeFromPresentationTime(N,U);return(function(O,z){const H=(function(ye){return ye.adaptation.period.mpd.manifest.Period[ye.adaptation.period.index].AdaptationSet[ye.adaptation.index].Representation[ye.index].SegmentTemplate||ye.adaptation.period.mpd.manifest.Period[ye.adaptation.period.index].AdaptationSet[ye.adaptation.index].Representation[ye.index].SegmentList})(O),X=H.SegmentTimeline,te=H.SegmentURL;let ie,se,fe,me,pe,_e,ee=0,Q=-1;_e=O.timescale,ie=X.S;let M=!1;const re=ie.length;for(fe=0;fe<re&&!M;fe++)for(se=ie[fe],pe=0,se.hasOwnProperty("r")&&(pe=se.r),se.hasOwnProperty("t")&&(ee=se.t),pe<0&&(pe=B(O,ie[fe+1],se,_e,ee/_e)),me=0;me<=pe&&!M;me++)Q++,M=z({mediaTime:ee,segmentBase:H,segmentURL:te,currentSElement:se,sElementCounterIncludingRepeats:Q,sElementCounter:fe}),M&&(O.segmentDuration=se.d/_e),ee+=se.d})(U,(function(O){const z=U.timescale;return(function(H,X){const{mediaTime:te,segmentBase:ie,segmentURL:se,currentSElement:fe,sElementCounterIncludingRepeats:me,sElementCounter:pe}=X,_e=fe.d,ee=U.timescale;return H<te+_e&&H>=te&&((function(Q){const{segmentBase:M,segmentURL:re,sElementCounter:ye,currentSElement:ue,mediaTime:ke,durationInTimescale:xe,fTimescale:Oe,requiredMediaTimeInTimescaleUnits:Ge,sElementCounterIncludingRepeats:Ne}=Q;let Z=(function(Y,ce,oe){let Ae=Y.media;return ce&&(Ae=ce[oe].media||""),Ae})(M,re,ye),le=(function(Y,ce,oe){let Ae=Y.mediaRange;return ce&&(Ae=ce[oe].mediaRange),Ae})(ue,re,ye);const ve=_w(ue),de=(function(Y){if(!Y||Y.totalNumberOfPartialSegments===void 0||isNaN(Y.totalNumberOfPartialSegments)||Y.totalNumberOfPartialSegments<1)return;const{durationInTimescale:ce,requiredMediaTimeInTimescaleUnits:oe,mediaTime:Ae,totalNumberOfPartialSegments:Se}=Y,De=ce/Se;for(let ze=0;ze<Se;ze++){const Ue=Ae+ze*De;if(oe>=Ue&&oe<Ue+De)return ze}return NaN})({durationInTimescale:xe,requiredMediaTimeInTimescaleUnits:Ge,mediaTime:ke,totalNumberOfPartialSegments:ve});V=Ew({timelineConverter:R,isDynamic:S,representation:U,mediaTime:ke,durationInTimescale:xe,fTimescale:Oe,mediaUrl:Z,mediaRange:le,index:Ne,tManifest:ue.tManifest,totalNumberOfPartialSegments:ve,subNumberOfPartialSegmentToRequest:de})})({segmentBase:ie,segmentURL:se,sElementCounter:pe,currentSElement:fe,mediaTime:te,durationInTimescale:_e,fTimescale:ee,requiredMediaTimeInTimescaleUnits:H,sElementCounterIncludingRepeats:me}),!0)})(parseFloat((W*z).toPrecision(15)),O)})),V}function B(U,N,V,W,O){let z;if(N&&N.hasOwnProperty("t"))z=N.t/W;else try{let H=0;if(isNaN(U.adaptation.period.start)||isNaN(U.adaptation.period.duration)||!isFinite(U.adaptation.period.duration)){const X=k.getCurrentDVRInfo();H=isNaN(X.end)?0:X.end}else H=U.adaptation.period.start+U.adaptation.period.duration;z=R.calcMediaTimeFromPresentationTime(H,U),U.segmentDuration=V.d/W}catch{z=0}return Math.max(Math.ceil((z-O)/(V.d/W))-1,0)}return D={getMediaFinishedInformation:function(U){if(!U)return 0;const N=(U.adaptation.period.mpd.manifest.Period[U.adaptation.period.index].AdaptationSet[U.adaptation.index].Representation[U.index].SegmentTemplate||U.adaptation.period.mpd.manifest.Period[U.adaptation.period.index].AdaptationSet[U.adaptation.index].Representation[U.index].SegmentList).SegmentTimeline;let V,W,O,z,H,X,te=0,ie=0,se=0;X=U.timescale,V=N.S;const fe=V.length;for(O=0;O<fe;O++)for(W=V[O],H=0,W.hasOwnProperty("r")&&(H=W.r),W.hasOwnProperty("t")&&(te=W.t,ie=te/X),H<0&&(H=B(U,V[O+1],W,X,ie)),z=0;z<=H;z++)se++,te+=W.d,ie=te/X;return{numberOfSegments:se,mediaTimeOfLastSignaledSegment:ie}},getSegmentByIndex:function(U,N){return U?L(U,N&&!isNaN(N.presentationStartTime)?N.presentationStartTime+N.duration+.01:0):null},getSegmentByTime:L},D}WU.__dashjs_factory_name="TimelineSegmentsGetter";var jae=r.default.getClassFactory(WU);function YU(x,S){const R=(x=x||{}).timelineConverter;let k;function D(B,U,N){if(!B)return null;const V=L(B),W=_w(V);W!==void 0&&W>=0&&(N=N!==void 0&&N<W?N:0);const O=HU({index:U=Math.max(U,0),isDynamic:S,mediaTime:Math.round(U*B.segmentDuration*B.timescale,10),mediaUrl:V.media,representation:B,subNumberOfPartialSegmentToRequest:N,timelineConverter:R,totalNumberOfPartialSegments:W});return O&&B.endNumber&&O.replacementNumber>B.endNumber?null:O}function L(B){return B.adaptation.period.mpd.manifest.Period[B.adaptation.period.index].AdaptationSet[B.adaptation.index].Representation[B.index].SegmentTemplate}return k={getMediaFinishedInformation:function(B){const U={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!B)return U;const N=B.segmentDuration;return isNaN(N)?U.numberOfSegments=1:U.numberOfSegments=Math.ceil(B.adaptation.period.duration/N),U},getSegmentByIndex:D,getSegmentByTime:function(B,U){if(!B)return null;const N=B.segmentDuration;if(isNaN(N))return null;let V=R.calcPeriodRelativeTimeFromMpdRelativeTime(B,U);const W=L(B),O=Math.floor(V/N),z=(function(H){if(!H||H.totalNumberOfPartialSegments===void 0||isNaN(H.totalNumberOfPartialSegments)||H.totalNumberOfPartialSegments<1)return;const{totalNumberOfPartialSegments:X,representation:te,requestedTimeRelativeToPeriodStart:ie,indexWithoutStartNumber:se}=H,fe=se*te.segmentDuration,me=te.segmentDuration/X,pe=ie-fe;let _e=Math.floor(pe/me);return _e=Math.max(0,Math.min(_e,X-1)),_e})({totalNumberOfPartialSegments:_w(W),representation:B,requestedTimeRelativeToPeriodStart:V,indexWithoutStartNumber:O});return D(B,O,z)}},k}YU.__dashjs_factory_name="TemplateSegmentsGetter";var Hae=r.default.getClassFactory(YU);function XU(x,S){const R=(x=x||{}).timelineConverter;let k;function D(){if(!R||!R.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(p.default.MISSING_CONFIG_ERROR)}function L(B,U){if(D(),!B)return null;const N=B.adaptation.period.mpd.manifest.Period[B.adaptation.period.index].AdaptationSet[B.adaptation.index].Representation[B.index].SegmentList,V=N.SegmentURL.length,W=B&&!isNaN(B.startNumber)?B.startNumber:1,O=Math.max(W-1,0),z=Math.max(U-O,0);let H=null;if(z<V){const X=N.SegmentURL[z];H=HU({index:U,isDynamic:S,mediaRange:X.mediaRange,mediaTime:(W+U-1)*B.segmentDuration,representation:B,timelineConverter:R}),H&&(H.media=X.media?X.media:"",H.indexRange=X.indexRange)}return H}return k={getSegmentByIndex:L,getSegmentByTime:function(B,U){if(D(),!B)return null;const N=B.segmentDuration;if(isNaN(N))return null;const V=R.calcPeriodRelativeTimeFromMpdRelativeTime(B,U);return L(B,Math.floor(V/N))},getMediaFinishedInformation:function(B){const U={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!B)return U;const N=B.adaptation.period.mpd.manifest.Period[B.adaptation.period.index].AdaptationSet[B.adaptation.index].Representation[B.index].SegmentList,V=B&&!isNaN(B.startNumber)?B.startNumber:1,W=Math.max(V-1,0);return U.numberOfSegments=W+N.SegmentURL.length,U}},k}XU.__dashjs_factory_name="ListSegmentsGetter";var Gae=r.default.getClassFactory(XU);function QU(x){const S=(x=x||{}).timelineConverter;let R;function k(){if(!S||!S.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(p.default.MISSING_CONFIG_ERROR)}function D(L,B){if(k(),!L)return null;const U=L.segments?L.segments.length:-1;let N;if(B<U&&(N=L.segments[B],N&&N.index===B))return N;for(let V=0;V<U;V++)if(N=L.segments[V],N&&N.index===B)return N;return null}return R={getSegmentByIndex:D,getSegmentByTime:function(L,B){k();const U=(function(N,V){if(!N)return-1;const W=N.segments,O=W?W.length:null;let z,H,X,te,ie,se=-1;if(W&&O>0){for(ie=0;ie<O;ie++)if(H=W[ie],X=H.presentationStartTime,te=H.duration,z=te/2,V+z>=X&&V-z<X+te){se=H.index;break}}return se})(L,B);return D(L,U)},getMediaFinishedInformation:function(L){const B={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return L&&L.segments&&(B.numberOfSegments=L.segments.length),B}},R}QU.__dashjs_factory_name="SegmentBaseGetter";var Vae=r.default.getClassFactory(QU);function ZU(x){x=x||{};const S=this.context,R=x.dashConstants,k=x.type,D=x.segmentBaseController;let L,B;function U(N){return N?N.segments?B[R.SEGMENT_BASE]:B[N.segmentInfoType]:null}return L={initialize:function(N){B[R.SEGMENT_TIMELINE]=jae(S).create(x,N),B[R.SEGMENT_TEMPLATE]=Hae(S).create(x,N),B[R.SEGMENT_LIST]=Gae(S).create(x,N),B[R.SEGMENT_BASE]=Vae(S).create(x,N)},updateInitData:function(N,V){return V?Promise.resolve():D.getSegmentBaseInitSegment({representation:N,mediaType:k})},updateSegmentData:function(N,V){return V?Promise.resolve():D.getSegmentList({mimeType:N.mimeType,representation:N,mediaType:k})},getSegmentByIndex:function(N,V,W,O){const z=U(N);return z?N.segmentInfoType?N.segmentInfoType===R.SEGMENT_TIMELINE?z.getSegmentByIndex(N,O):N.segmentInfoType===R.SEGMENT_TEMPLATE?z.getSegmentByIndex(N,V,W):z.getSegmentByIndex(N,V):z.getSegmentByIndex(N,V):null},getSegmentByTime:function(N,V){const W=U(N);return W?W.getSegmentByTime(N,V):null},getMediaFinishedInformation:function(N){const V=U(N);return V?V.getMediaFinishedInformation(N):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},B={},L}ZU.__dashjs_factory_name="SegmentsController";var JU=r.default.getClassFactory(ZU);function e3(){let x;return x={ntpToUTC:function(S){const R=new Date(Date.UTC(1900,0,1,0,0,0));return new Date(R.getTime()+S).getTime()}},x}e3.__dashjs_factory_name="TimeUtils";var Kae=r.default.getSingletonFactory(e3),Vl=class{constructor(x){this.newMediaInfo=x.newMediaInfo,this.previouslySelectedRepresentation=x.previouslySelectedRepresentation,this.newRepresentation=x.newRepresentation}};function t3(x){x=x||{};let S,R,k,D,L,B,U,N,V,W,O,z,H,X,te,ie,se,fe,me=this.context,pe=(0,h.default)(me).getInstance(),_e=x.abrController,ee=x.adapter,Q=x.boxParser,M=x.capabilities,re=x.dashMetrics,ye=x.errHandler,ue=x.fragmentModel,ke=x.manifestModel,xe=x.mediaController,Oe=x.mediaPlayerModel,Ge=x.mimeType,Ne=x.playbackController,Z=x.segmentBlacklistController,le=x.settings,ve=x.streamInfo,de=x.textController,Y=x.timelineConverter,ce=x.type;function oe(){return ve.id}function Ae(){return ce}function Se(){W=[],D=null,R=0,se=!1,ie=!1,z=!1,B=null,fe=!1,Zt()}function De(vt){return!isNaN(vt)&&!isNaN(ve.duration)&&isFinite(ve.duration)&&vt>=ve.start+ve.duration}function ze(vt,nn=!0){if(vt.sender){if(Ne.getIsManifestUpdateInProgress())gt();else if((!D.isText||de.isTextEnabled())&&S&&vt.representationId&&!S.appendInitSegmentFromCache(vt.representationId)){const Ln=H.getCurrentRepresentation();if(Ln.range===0)return void Ue();const Cn=L?L.getInitRequest(D,Ln):null;Cn?ue.executeRequest(Cn):nn&&(X.setInitSegmentRequired(!0),gt())}}}function Ue(vt,nn=!0){if(Ne.getIsManifestUpdateInProgress()||S.getIsPruningInProgress())return void gt();let Ln=(function(){let Cn;if(isNaN(R)||Ae()===p.default.TEXT&&!de.isTextEnabled())return null;if(L){const Xn=Ct();Cn=se?L.getSegmentRequestForTime(D,Xn,R):ie?L.repeatSegmentRequest(D,Xn):L.getNextSegmentRequest(D,Xn)}return Cn})();Ln?(se=!1,ie=!1,(function(Cn){isNaN(Cn.startTime+Cn.duration)||(R=Cn.startTime+Cn.duration),Cn.delayLoadingTime=new Date().getTime()+X.getTimeToLoadDelay(),X.setTimeToLoadDelay(0),(function(Xn){let jn=Xn.url;return Xn.range&&(jn=jn.concat("_",Xn.range)),Z.contains(jn)})(Cn)?(V.warn(`Fragment request url ${Cn.url} for stream id ${ve.id} and media type ${ce} is on the ignore list and will be skipped`),gt()):(V.debug(`Next fragment request url for stream id ${ve.id} and media type ${ce} is ${Cn.url} with request range ${Cn.range}`),ue.executeRequest(Cn))})(Ln)):(function(Cn){const Xn=H.getCurrentRepresentation();try{if(le.get().streaming.gaps.enableSeekFix&&(se||Ne.getTime()===0)){let jn;if(N?N&&Xn.segmentInfoType===Re.default.SEGMENT_TIMELINE&&(jn=(function(Or){return L.getValidTimeAheadOfTargetTime(R,D,Or,le.get().streaming.gaps.threshold)})(Xn)):jn=(function(Or){let Jr=L.getValidTimeAheadOfTargetTime(R,D,Or,le.get().streaming.gaps.threshold);return isNaN(Jr)&&R>=Or.adaptation.period.mpd.mediaPresentationDuration-Or.segmentDuration&&(Jr=R-.1),Jr})(Xn),!isNaN(jn)&&jn!==R)return void(function(Or,Jr){Ne.isSeeking()||Ne.getTime()===0?(V.warn(`Adjusting playback time ${Or} because of gap in the manifest. Seeking by ${Or-R}`),Ne.seek(Or,!1,!1)):(V.warn(`Adjusting buffering time ${Or} because of gap in the manifest. Adjusting time by ${Or-R}`),Jt(Or),Jr&&gt())})(jn,Cn)}}catch(jn){V.error(jn)}tt()||Cn&&gt()})(nn)}function tt(){const vt=H.getCurrentRepresentation(),nn=L.isLastSegmentRequested(vt,R);if(nn){const Ln=L.getCurrentIndex();V.debug(`Segment requesting for stream ${ve.id} has finished`),pe.trigger(f.default.STREAM_REQUESTING_COMPLETED,{segmentIndex:Ln},{streamId:ve.id,mediaType:ce}),S.segmentRequestingCompleted(Ln),ut()}return nn}function gt(){const vt=Oe.getScheduleTimeout();X.startScheduleTimer(vt)}function kt(vt){re.addBufferState(ce,vt.state,X.getBufferTarget()),vt.state!==o.BUFFER_EMPTY||Ne.isSeeking()||(V.info("Buffer is empty! Stalling!"),re.pushPlayListTraceMetrics(new Date,ka.REBUFFERING_REASON))}function Mt(vt){ue.syncExecutedRequestsWithBufferedRange(S.getBuffer().getAllBufferRanges(),ve.duration),vt.quotaExceeded&&vt.from>Ne.getTime()&&Jt(vt.from),vt.hasEnoughSpaceToAppend&&vt.quotaExceeded&&X.startScheduleTimer()}function un(vt){if(!vt||!vt.lastRequestAppended||!vt.lastRequestAppended.url)return;let nn=vt.lastRequestAppended.url;vt.lastRequestAppended.range&&(nn=nn.concat("_",vt.lastRequestAppended.range)),V.warn(`Blacklisting segment with url ${nn}`),Z.add(nn)}function St(vt){if(V.debug(`Appended bytes for ${vt.mediaType} and stream id ${vt.streamId}`),vt.segmentType===w.HTTPRequest.INIT_SEGMENT_TYPE){const nn=vt.representationId;X.setLastInitializedRepresentationId(nn),V.info("["+ce+"] lastInitializedRepresentationId changed to "+nn)}O&&O.enabled?Rt(O.newRepresentation,O.oldRepresentation):fe||X.startScheduleTimer(0)}function Zt(){O={newRepresentation:null,oldRepresentation:null,enabled:!1}}function En(vt){return new Promise((nn=>{if(!H)return Promise.resolve();let Ln=null;var Cn;Ln=vt.newRepresentation?{selectedRepresentation:(Cn=vt).newRepresentation,currentMediaInfo:Cn.newMediaInfo}:D!==null&&ee.areMediaInfosEqual(D,vt.newMediaInfo)?(function(jn){return{currentMediaInfo:jn.newMediaInfo,selectedRepresentation:H.getCurrentRepresentation()}})(vt):(function(jn){let Or=NaN;return Or=!le.get().streaming.abr.autoSwitchBitrate[jn.newMediaInfo.type]&&jn.previouslySelectedRepresentation?jn.previouslySelectedRepresentation.bitrateInKbit:_e.getInitialBitrateFor(ce),{selectedRepresentation:_e.getOptimalRepresentationForBitrate(jn.newMediaInfo,Or,!1),currentMediaInfo:jn.newMediaInfo}})(vt),tr(Ln.currentMediaInfo),pe.trigger(),(function(jn){B&&jn.selectedRepresentation.dependentRepresentation&&(V.info("["+ce+"] selectMediaInfo : call selectMediaInfo on enhancementStreamProcessor for index = "+jn.selectedRepresentation.absoluteIndex),B.selectMediaInfo(new Vl({newMediaInfo:jn.selectedRepresentation.mediaInfo,newRepresentation:jn.selectedRepresentation})))})(Ln);const Xn=_e.getPossibleVoRepresentations(D,!1);return H.updateData(Xn,D.isFragmented,Ln.selectedRepresentation.id).then((()=>{(function(){const jn=H.getCurrentCompositeRepresentation();S.getIsBufferingCompleted()||S.updateBufferTimestampOffset(jn)})(),nn()})).catch((jn=>{V.error(jn),nn()}))}))}function tr(vt){ee.areMediaInfosEqual(D,vt)||pe.trigger(m.default.NEW_TRACK_SELECTED,{value:vt}),D=vt,_e.handleNewMediaInfo(D),pe.trigger(f.default.MEDIAINFO_UPDATED,{mediaType:ce,streamId:ve.id,currentMediaInfo:D})}function Jn(vt){const nn=vt.newRepresentation,Ln=vt.oldRepresentation,Cn=Vn();nn&&Ln||V.warn("_handleDifferentSwitchTypes() is missing the target representations"),vt.reason&&vt.reason.forceReplace?(function(Xn,jn){ue.abortRequests(),pe.trigger(f.default.BUFFER_REPLACEMENT_STARTED,{mediaType:ce,streamId:ve.id},{mediaType:ce,streamId:ve.id}),X.setShouldCheckPlaybackQuality(!1),S.prepareForForceReplacementQualitySwitch(Xn,jn).then((()=>{Dn()})).catch((()=>{Dn()}))})(nn,Ln):vt&&vt.reason&&vt.reason.forceAbandon?(function(Xn,jn){S.prepareForAbandonQualitySwitch(Xn,jn).then((()=>{Gn()})).catch((()=>{Gn()}))})(nn,Ln):!Oe.getFastSwitchEnabled()||Cn&&Cn.isPartialSegment?Rt(nn,Ln):(function(Xn,jn){const Or=Ne.getTime();let Jr=1.5*(isNaN(Xn.fragmentDuration)?1:Xn.fragmentDuration);const vo=ue.getRequests({state:Ke.FRAGMENT_MODEL_EXECUTED,time:Or+Jr,threshold:0})[0];if(vo&&!D.isText){const Eo=S.getBufferLevel(),Xo=_e.getAbandonmentStateFor(ve.id,ce);vo.bandwidth<Xn.bandwidth&&Eo>=Jr&&Xo===o.ALLOW_LOAD?S.prepareForFastQualitySwitch(Xn,jn).then((()=>{et(Or,Jr)})).catch((()=>{et(Or,Jr)})):Rt(Xn,jn)}else Rt(Xn,jn)})(nn,Ln),re.pushPlayListTraceMetrics(new Date,ka.REPRESENTATION_SWITCH_STOP_REASON),re.createPlaylistTraceMetrics(nn.id,1e3*Ne.getTime(),Ne.getPlaybackRate())}function Dn(){Fe(),Zt(),z=!1}function Gn(){ue.abortRequests(),ie=!0,X.setShouldCheckPlaybackQuality(!1),X.startScheduleTimer(),z=!1}function et(vt,nn){ue.abortRequests(),Jt(vt+nn),X.setShouldCheckPlaybackQuality(!1),X.startScheduleTimer(),z=!1}function Rt(vt,nn){const Ln=ue.getRequests({state:Ke.FRAGMENT_MODEL_LOADING});if(Ln&&Ln.length>0)return V.debug("Preparing for default quality switch: Waiting for ongoing segment request to be finished before applying switch."),O.newRepresentation=vt,O.oldRepresentation=nn,void(O.enabled=!0);S.prepareForDefaultQualitySwitch(vt,nn).then((()=>{xt()})).catch((()=>{xt()}))}function xt(){X.setShouldCheckPlaybackQuality(!1),D.segmentAlignment||D.subSegmentAlignment?X.startScheduleTimer():lt(),Zt(),z=!1}function Pt(vt){V.info("onFragmentLoadingAbandoned request: "+vt.request.url+" has been aborted"),Ne.isSeeking()||X.getSwitchTrack()||z||(V.info("onFragmentLoadingAbandoned request: "+vt.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),vt.request&&vt.request.isInitializationRequest()?X.setInitSegmentRequired(!0):Jt(vt.request.startTime+vt.request.duration/2),X.startScheduleTimer(0))}function on(vt){V.info("OnFragmentLoadingCompleted for stream id "+ve.id+" and media type "+ce+" - Url:",vt.request?vt.request.url:"undefined",vt.request.range?", Range:"+vt.request.range:""),D.isText&&X.startScheduleTimer(0),vt.error&&vt.request.serviceLocation&&(function(nn){V.info("Fragment loading completed with an error"),nn&&nn.request&&nn.request.type&&(nn.request.type===w.HTTPRequest.INIT_SEGMENT_TYPE?ze({representationId:nn.request.representation.id,sender:{}},!1):nn.request.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&(Jt(nn.request.startTime+nn.request.duration/2),Ue(0,!1)))})(vt)}function pt(){Jt(Ne.getTime()),Xe().startScheduleTimer()}function Ut(vt){const nn=vt.currentTrackInfo;if(!nn)return;const Ln=W.find((Cn=>Cn.index===nn.index&&Cn.lang===nn.lang));Ln&&En(new Vl({newMediaInfo:Ln})).then((()=>{S.setIsBufferingCompleted(!1),Jt(Ne.getTime()),X.setInitSegmentRequired(!0),X.startScheduleTimer()}))}function Lt(vt){Jt(vt.quotaExceededTime),ut()}function Qt(){return S?S.getBuffer():null}function Xe(){return X}function ut(){X&&X.clearScheduleTimer()}function Ct(vt=NaN){let nn;return isNaN(vt)?nn=H?H.getCurrentRepresentation():null:((0,wt.checkInteger)(vt),nn=H?H.getRepresentationById(vt):null),nn}function st(){return!!S&&S.getIsBufferingCompleted()}function Nt(vt){if(!le.get().streaming.enableManifestTimescaleMismatchFix)return;const nn=vt.chunk,Ln=nn.bytes,Cn=Ct(nn.representation.id);Cn&&(Cn.timescale=Q.getMediaTimescaleFromMoov(Ln))}function jt(vt){const nn=vt.chunk,Ln=nn.bytes,Cn=Ct(nn.representation.id);if(Cn){let Xn;if(le.get().streaming.parseInbandPrft&&vt.request.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE){Xn=Xn||Q.parse(Ln);const Jr=(function(vo,Eo){const Xo=vo.getBoxes("prft"),zc=[];return Xo.forEach((Mu=>{zc.push((function(Ns,Nu){let Fs="unknown";switch(Ns.flags){case 0:Fs=Re.default.PRODUCER_REFERENCE_TIME_TYPE.ENCODER;break;case 16:Fs=Re.default.PRODUCER_REFERENCE_TIME_TYPE.APPLICATION;break;case 24:Fs=Re.default.PRODUCER_REFERENCE_TIME_TYPE.CAPTURED}let _o=1e3*Ns.ntp_timestamp_sec+Ns.ntp_timestamp_frac/2**32*1e3;return _o=Kae(me).getInstance().ntpToUTC(_o),{type:Fs,ntpTimestamp:_o,mediaTime:Ns.media_time/Nu}})(Mu,Eo))})),zc})(Xn,Cn.timescale);Jr&&Jr.length&&pe.trigger(m.default.INBAND_PRFT,{data:Jr},{streamId:ve.id,mediaType:ce})}const jn=ee.getEventsFor(Cn.mediaInfo,null,ve),Or=ee.getEventsFor(Cn,Cn,ve);if(jn&&jn.length>0||Or&&Or.length>0){const Jr=vt.request;Xn=Xn||Q.parse(Ln);const vo=(function(Eo,Xo,zc,Mu){try{const Ns={},Nu=[],Fs=zc.concat(Mu);for(let Xa=0,pf=Fs.length;Xa<pf;Xa++)Ns[Fs[Xa].schemeIdUri+"/"+Fs[Xa].value]=Fs[Xa];const _o=Eo.getBoxes("emsg");if(!_o||_o.length===0)return Nu;const Us=Eo.getBox("sidx"),hf=!Us||isNaN(Us.earliest_presentation_time)||isNaN(Us.timescale)?Xo&&!isNaN(Xo.mediaStartTime)?Xo.mediaStartTime:0:Us.earliest_presentation_time/Us.timescale,Nb=Math.max(hf,0),Fb=H.getCurrentRepresentation();for(let Xa=0,pf=_o.length;Xa<pf;Xa++){const $c=ee.getEvent(_o[Xa],Ns,Nb,Fb);$c&&Nu.push($c)}return Nu}catch{return[]}})(Xn,Jr,jn,Or);pe.trigger(f.default.INBAND_EVENTS,{events:vo},{streamId:ve.id})}}}function Fe(){const vt=Ne.getTime();le.get().streaming.buffer.flushBufferAtTrackSwitch&&Ne.seek(vt+.001,!1,!0),Jt(vt),S.setSeekTarget(vt),X.startScheduleTimer()}function lt(){const vt=Ne.getTime(),nn=S.getContinuousBufferTimeForTargetTime(vt);Jt(isNaN(nn)?vt:nn),X.startScheduleTimer()}function Ht(vt){vt&&!isNaN(vt.time)&&(Jt(vt.time),S.setSeekTarget(vt.time))}function Jt(vt){R=vt,se=!0}function Vn(){return L.getLastSegment()}return U={checkAndHandleCompletedBuffering:tt,clearScheduleTimer:ut,createBufferSinks:function(vt,nn){const Ln=Qt();return Ln?Promise.resolve(Ln):S?S.createBufferSink(D,vt,nn):Promise.resolve(null)},dischargePreBuffer:function(){S.dischargePreBuffer()},finalisePlayList:function(vt,nn){re.pushPlayListTraceMetrics(vt,nn)},getAllMediaInfos:function(){return W},getBuffer:Qt,getBufferController:function(){return S},getBufferLevel:function(){return S?S.getBufferLevel():0},getFragmentModel:function(){return ue},getLastSegment:Vn,getMediaInfo:function(){return D},getMediaSource:function(){return S.getMediaSource()},getRepresentation:Ct,getRepresentationController:function(){return H},getScheduleController:Xe,getStreamId:oe,getStreamInfo:function(){return ve},getType:Ae,initialize:function(vt,nn,Ln){te=JU(me).create({events:f.default,eventBus:pe,streamInfo:ve,timelineConverter:Y,dashConstants:Re.default,segmentBaseController:x.segmentBaseController,type:ce}),L=KU(me).create({baseURLController:x.baseURLController,boxParser:Q,constants:p.default,dashConstants:Re.default,dashMetrics:re,debug:(0,l.default)(me).getInstance(),errHandler:ye,errors:fn,eventBus:pe,events:f.default,mediaPlayerModel:Oe,segmentsController:te,settings:le,streamInfo:ve,timelineConverter:Y,type:ce,urlUtils:Ur(me).getInstance()}),N=ve.manifestInfo.isDynamic,L.initialize(N),_e.registerStreamType(ce,U),H=qae(me).create({abrController:_e,adapter:ee,dashConstants:Re.default,dashMetrics:re,errors:fn,eventBus:pe,events:f.default,isDynamic:N,playbackController:Ne,segmentsController:te,streamInfo:ve,timelineConverter:Y,type:ce}),S=(function(Cn,Xn){let jn=null;return Cn?(jn=Cn!==p.default.TEXT||Xn?Fae(me).create({abrController:_e,capabilities:M,errHandler:ye,fragmentModel:ue,manifestModel:ke,mediaController:xe,mediaPlayerModel:Oe,playbackController:Ne,representationController:H,settings:le,streamInfo:ve,textController:de,type:Cn}):Uae(me).create({errHandler:ye,fragmentModel:ue,mimeType:Ge,settings:le,streamInfo:ve,textController:de,type:Cn}),jn):(ye.error(new an.default(fn.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,fn.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)})(ce,Ln),S&&S.initialize(vt),X=Bae(me).create({abrController:_e,adapter:ee,bufferController:S,dashMetrics:re,fragmentModel:ue,mediaController:xe,mediaPlayerModel:Oe,mimeType:Ge,playbackController:Ne,representationController:H,settings:le,streamInfo:ve,textController:de,type:ce}),k=nn,X.initialize(nn),R=0,se=!1,ie=!1},isBufferingCompleted:st,prepareInnerPeriodPlaybackSeeking:function(vt){return new Promise((nn=>{if(S.hasBufferAtTime(vt.seekTime))return S.pruneBuffer(),De(S.getContinuousBufferTimeForTargetTime(vt.seekTime))&&S.setIsBufferingCompleted(!0),void nn();ut(),ue.abortRequests(),S.prepareForPlaybackSeek().then((()=>{const Ln=S.getAllRangesWithSafetyFactor(vt.seekTime);return S.clearBuffers(Ln)})).then((()=>{const Ln=S.getContinuousBufferTimeForTargetTime(vt.seekTime);if(De(Ln))S.setIsBufferingCompleted(!0),nn();else{const Cn=isNaN(Ln)?vt.seekTime:Ln;Jt(Cn),S.setSeekTarget(Cn);const Xn=[];Xn.push(S.updateAppendWindow());const jn=Ct();Xn.push(S.updateBufferTimestampOffset(jn)),Promise.all(Xn).then((()=>{X.setInitSegmentRequired(!0),X.setShouldCheckPlaybackQuality(!1),X.startScheduleTimer(),nn()}))}})).catch((Ln=>{V.error(Ln)}))}))},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(((vt,nn)=>{try{ut(),ue.abortRequests(),S.prepareForPlaybackSeek().then((()=>S.pruneAllSafely())).then((()=>{vt()}))}catch(Ln){nn(Ln)}}))},prepareQualityChange:function(vt){vt.newRepresentation&&((function(nn){if(B)B.prepareQualityChange(nn);else if(ce===p.default.ENHANCEMENT){const Ln=nn.oldRepresentation.mediaInfo.type,Cn=nn.newRepresentation.mediaInfo.type;if(Ln===p.default.ENHANCEMENT&&Cn===p.default.VIDEO)return V.info("Stop "+ce+" stream processor"),X.reset(),!0;if(Ln===p.default.VIDEO&&Cn===p.default.ENHANCEMENT)return V.info("Start "+ce+" stream processor"),En(new Vl({newMediaInfo:nn.newRepresentation.mediaInfo,newRepresentation:nn.newRepresentation})).then((()=>{X.setup(),X.initialize(k),X.startScheduleTimer()})),!0}return!1})(vt)||(O&&O.enabled&&V.warn(`Canceling queued representation switch to ${O.newRepresentation.id} for ${ce}`),vt.isAdaptationSetSwitch?(V.debug(`Preparing quality switch to different AdaptationSet for type ${ce} from representation id ${vt.oldRepresentation.id} to ${vt.newRepresentation.id}`),(function(nn){const Ln=nn.newRepresentation;z=!0,ut(),X.setSwitchTrack(!0);const Cn=Ln.mediaInfo;tr(Cn),En(new Vl({newMediaInfo:Cn,newRepresentation:Ln})).then((()=>{Jn(nn)}))})(vt)):(V.debug(`Preparing quality within the same AdaptationSet for type ${ce} from representation id ${vt.oldRepresentation.id} to ${vt.newRepresentation.id}`),(function(nn){const Ln=nn.newRepresentation;z=!0,ut(),H.prepareQualityChange(Ln),Jn(nn)})(vt))))},prepareTrackSwitch:function(vt,nn=!1){return new Promise((Ln=>{V.debug(`Preparing track switch for type ${ce}`);const Cn=ce===p.default.TEXT||nn||le.get().streaming.trackSwitchMode[ce]===p.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&Ne.getTimeToStreamEnd(ve)>le.get().streaming.buffer.stallThreshold;S.getIsBufferingCompleted()&&!Cn?(function(Xn){return new Promise((jn=>{const Or=H.getCurrentRepresentation();S.prepareForNonReplacementTrackSwitch(Or,Xn).then((()=>{pe.trigger(f.default.BUFFERING_COMPLETED,{},{streamId:ve.id,mediaType:ce}),jn()})).catch((()=>{pe.trigger(f.default.BUFFERING_COMPLETED,{},{streamId:ve.id,mediaType:ce}),jn()}))}))})(vt).then((()=>{Ln()})):(X.setSwitchTrack(!0),Cn?(function(Xn){return new Promise((jn=>{pe.trigger(f.default.BUFFER_REPLACEMENT_STARTED,{mediaType:ce,streamId:ve.id},{mediaType:ce,streamId:ve.id}),ue.abortRequests();const Or=Ct();S.prepareForReplacementTrackSwitch(Or,Xn).then((()=>{Fe(),jn()})).catch((()=>{Fe(),jn()}))}))})(vt).then((()=>{Ln()})):(function(Xn){return new Promise((jn=>{const Or=()=>{const Jr=ue.getRequests({state:Ke.FRAGMENT_MODEL_LOADING});if(Jr&&Jr.length!==0)pe.once(m.default.FRAGMENT_LOADING_COMPLETED,Or,U);else{const vo=Ct();S.prepareForNonReplacementTrackSwitch(vo,Xn).then((()=>{lt(),jn()})).catch((Eo=>{V.error(Eo),lt(),jn()}))}};Or()}))})(vt).then((()=>{Ln()})))}))},probeNextRequest:function(){const vt=Ct();return L.getNextSegmentRequestIdempotent(D,vt)},reset:function(vt,nn){L&&L.reset(),S&&(S.reset(vt,nn),S=null),X&&(X.reset(),X=null),H&&(H.reset(),H=null),te&&(te=null),_e&&_e.unRegisterStreamType(oe(),ce),pe.off(f.default.BUFFER_CLEARED,Mt,U),pe.off(f.default.BUFFER_LEVEL_STATE_CHANGED,kt,U),pe.off(f.default.BYTES_APPENDED_END_FRAGMENT,St,U),pe.off(f.default.FRAGMENT_LOADING_ABANDONED,Pt,U),pe.off(f.default.FRAGMENT_LOADING_COMPLETED,on,U),pe.off(f.default.INIT_FRAGMENT_LOADED,Nt,U),pe.off(f.default.INIT_FRAGMENT_NEEDED,ze,U),pe.off(f.default.MEDIA_FRAGMENT_LOADED,jt,U),pe.off(f.default.MEDIA_FRAGMENT_NEEDED,Ue,U),pe.off(f.default.QUOTA_EXCEEDED,Lt,U),pe.off(f.default.SEEK_TARGET,Ht,U),pe.off(f.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,pt,U),pe.off(f.default.SET_NON_FRAGMENTED_TEXT,Ut,U),pe.off(f.default.SOURCE_BUFFER_ERROR,un,U),Se(),ce=null,ve=null},selectMediaInfo:En,setEnhancementStreamProcessor:function(vt){B=vt,V.info("enhancementStreamProcessor = "+B)},setExplicitBufferingTime:Jt,setMediaInfoArray:function(vt){W=vt},setMediaSource:function(vt){return S.setMediaSource(vt,D)},setTrackSwitchInProgress:function(vt){fe=vt},updateStreamInfo:function(vt){return ve=vt,st()?Promise.resolve():S.updateAppendWindow()}},V=(0,l.default)(me).getInstance().getLogger(U),Se(),pe.on(f.default.BUFFER_CLEARED,Mt,U),pe.on(f.default.BUFFER_LEVEL_STATE_CHANGED,kt,U),pe.on(f.default.BYTES_APPENDED_END_FRAGMENT,St,U),pe.on(f.default.FRAGMENT_LOADING_ABANDONED,Pt,U),pe.on(f.default.FRAGMENT_LOADING_COMPLETED,on,U),pe.on(f.default.INIT_FRAGMENT_LOADED,Nt,U),pe.on(f.default.INIT_FRAGMENT_NEEDED,ze,U),pe.on(f.default.MEDIA_FRAGMENT_LOADED,jt,U),pe.on(f.default.MEDIA_FRAGMENT_NEEDED,Ue,U),pe.on(f.default.QUOTA_EXCEEDED,Lt,U),pe.on(f.default.SEEK_TARGET,Ht,U),pe.on(f.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,pt,U),pe.on(f.default.SET_NON_FRAGMENTED_TEXT,Ut,U),pe.on(f.default.SOURCE_BUFFER_ERROR,un,U),U}t3.__dashjs_factory_name="StreamProcessor";var Wae=r.default.getClassFactory(t3),Yae=class{constructor(){this.streamId=null,this.segmentType=null,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representation=null,this.endFragment=null}},Xae=class extends ae{constructor(x){super(x),this.checkForExistenceOnly=!0}};function n3(x){x=x||{};const S=this.context,R=x.eventBus,k=x.events,D=x.urlUtils,L=x.errors,B=x.streamId;let U,N;return U={abort:function(){N&&N.abort()},checkForExistence:function(V){const W=function(O){R.trigger(k.CHECK_FOR_EXISTENCE_COMPLETED,{request:V,exists:O})};if(V){let O=new Xae(V.url);N.load({request:O,success:function(){W(!0)},error:function(){W(!1)}})}else W(!1)},load:function(V){const W=function(O,z){R.trigger(k.LOADING_COMPLETED,{request:V,response:O||null,error:z||null,sender:U})};V?N.load({request:V,progress:function(O){R.trigger(k.LOADING_PROGRESS,{request:V,stream:O.stream,streamId:B}),O.data&&R.trigger(k.LOADING_DATA_PROGRESS,{request:V,response:O.data||null,error:null,sender:U})},success:function(O){W(O)},error:function(O,z,H){W(void 0,new an.default(L.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,H,z))},abort:function(O){O&&R.trigger(k.LOADING_ABANDONED,{mediaType:O.mediaType,request:O,sender:U})}}):W(void 0,new an.default(L.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,L.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},reset:function(){N&&(N.abort(),N.reset(),N=null)},resetInitialSettings:function(){N&&N.resetInitialSettings()}},N=of(S).create({errHandler:x.errHandler,errors:L,dashMetrics:x.dashMetrics,mediaPlayerModel:x.mediaPlayerModel,urlUtils:D,constants:p.default,boxParser:x.boxParser,dashConstants:x.dashConstants,requestTimeout:x.settings.get().streaming.fragmentRequestTimeout}),U}n3.__dashjs_factory_name="FragmentLoader";var Qae=r.default.getClassFactory(n3);function r3(x){x=x||{};const S=this.context,R=(0,h.default)(S).getInstance(),k=x.errHandler,D=x.mediaPlayerModel,L=x.dashMetrics,B=(0,l.default)(S).getInstance(),U=x.streamInfo;let N,V,W;function O(){return U.id}function z(){for(let X in W)W[X].reset();W={}}function H(X){if(!X.sender)return;const te=X.request,ie=X.response,se=te.isInitializationRequest(),fe=te.representation.mediaInfo.streamInfo;if(X.error&&(te.mediaType===p.default.AUDIO||te.mediaType===p.default.VIDEO||te.mediaType===p.default.TEXT&&te.representation.mediaInfo.isFragmented)&&R.trigger(f.default.SERVICE_LOCATION_BASE_URL_BLACKLIST_ADD,{entry:X.request.serviceLocation}),!ie||!fe)return void V.warn("No "+te.mediaType+" bytes to push or stream is inactive.");const me=(function(pe,_e,ee,Q){const M=new Yae;return M.streamId=ee,M.segmentType=_e.type,M.start=_e.startTime,M.duration=_e.duration,M.end=M.start+M.duration,M.bytes=pe,M.index=_e.index,M.representation=_e.representation,M.endFragment=Q,M})(ie,te,U.id,X.type!==f.default.FRAGMENT_LOADING_PROGRESS);R.trigger(se?f.default.INIT_FRAGMENT_LOADED:f.default.MEDIA_FRAGMENT_LOADED,{chunk:me,request:te},{streamId:fe.id,mediaType:te.mediaType})}return N={getStreamId:O,getModel:function(X){let te=W[X];return te||(te=Ke(S).create({streamInfo:U,type:X,dashMetrics:L,fragmentLoader:Qae(S).create({dashMetrics:L,mediaPlayerModel:D,errHandler:k,settings:x.settings,boxParser:x.boxParser,eventBus:R,events:f.default,errors:fn,dashConstants:x.dashConstants,urlUtils:x.urlUtils,streamId:O()}),debug:B,eventBus:R,events:f.default}),W[X]=te),te},reset:function(){R.off(m.default.FRAGMENT_LOADING_COMPLETED,H,this),R.off(m.default.FRAGMENT_LOADING_PROGRESS,H,this),z()}},V=B.getLogger(N),z(),R.on(m.default.FRAGMENT_LOADING_COMPLETED,H,N),R.on(m.default.FRAGMENT_LOADING_PROGRESS,H,N),N}r3.__dashjs_factory_name="FragmentController";var Zae=r.default.getClassFactory(r3),Jae=class{constructor(){this.url=null,this.width=null,this.height=null,this.x=null,this.y=null}},ese=class{constructor(){this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}};function i3(x){const S=this.context,R=x.adapter,k=x.baseURLController,D=x.streamInfo,L=x.timelineConverter,B=x.debug,U=x.eventBus,N=x.events,V=x.dashConstants,W=Ur(S).getInstance();let O,z,H,X,te,ie,se,fe,me;function pe(ee,Q){const M=new ese;M.id=ee.id,M.bitrate=ee.bandwidth,M.width=ee.width,M.height=ee.height,M.tilesHor=1,M.tilesVert=1,ee.essentialProperties&&ee.essentialProperties.forEach((re=>{if(p.default.THUMBNAILS_SCHEME_ID_URIS.indexOf(re.schemeIdUri)>=0&&re.value){const ye=re.value.split("x");ye.length!==2||isNaN(ye[0])||isNaN(ye[1])||(M.tilesHor=parseInt(ye[0],10),M.tilesVert=parseInt(ye[1],10))}})),Q?se.updateSegmentData(ee).then((re=>{(function(ye,ue,ke){let xe=[];const Oe=(function(Ge,Ne){const Z=[];let le,ve,de,Y,ce=0;for(le=0,ve=Ge.segments.length;le<ve;le++)de=Ge.segments[le],Y=Ew({durationInTimescale:de.duration,fTimescale:de.timescale,index:ce,isDynamic:R.getIsDynamic(),mediaRange:de.mediaRange,mediaTime:de.startTime,mediaUrl:de.media,representation:Ne,timelineConverter:L}),Y&&(Z.push(Y),Y=null,ce++);return Z})(ke,ue);ue.segments=Oe,ue.fragmentDuration=ue.segmentDuration||(ue.segments&&ue.segments.length>0?ue.segments[0].duration:NaN),ye.segmentDuration=ue.segments[0].duration,ye.readThumbnail=function(Ge,Ne){let Z=null;xe.some((le=>{if(le.start<=Ge&&le.end>Ge)return Z=le.url,!0})),Z?Ne(Z):ue.segments.some((le=>{if(le.mediaStartTime<=Ge&&le.mediaStartTime+le.duration>Ge){const ve=k.resolve(ue.path),de=new sw({method:"get",url:ve.url,responseType:"arraybuffer",customData:{request:{range:le.mediaRange},onloadend:function(ce){let oe=me.getSamplesInfo(ce.target.response),Ae=new Blob([ce.target.response.slice(oe.sampleList[0].offset,oe.sampleList[0].offset+oe.sampleList[0].size)],{type:"image/jpeg"}),Se=window.URL.createObjectURL(Ae);xe.push({start:le.mediaStartTime,end:le.mediaStartTime+le.duration,url:Se}),Ne&&Ne(Se)}}}),Y=new ow({request:de});return fe.load(de,Y),!0}}))}})(M,ee,re)})):(M.startNumber=ee.startNumber,M.segmentDuration=ee.segmentDuration,M.timescale=ee.timescale,M.templateUrl=(function(re){const ye=W.isRelative(re.media)?W.resolve(re.media,k.resolve(re.path).url):re.media;return ye?Jp(ye,re.id):""})(ee)),M.tilesHor>0&&M.tilesVert>0&&(M.widthPerTile=M.width/M.tilesHor,M.heightPerTile=M.height/M.tilesVert,z.push(M))}function _e(){z=[],H=[],te=-1,ie=null,X&&(X.reset(),X=null)}return O={addTracks:function(){if(!D||!R||(ie=R.getMediaInfoForType(D,p.default.IMAGE),!ie))return;const ee=R.getVoRepresentations(ie);ee&&ee.length>0&&ee.forEach((Q=>{(Q.segmentInfoType===Re.default.SEGMENT_TEMPLATE&&Q.segmentDuration>0&&Q.media||Q.segmentInfoType===Re.default.SEGMENT_TIMELINE)&&pe(Q),Q.segmentInfoType===Re.default.SEGMENT_BASE&&pe(Q,!0),H.push(Q)})),z.length>0&&z.sort(((Q,M)=>Q.bitrate-M.bitrate))},getCurrentTrack:function(){return te<0?null:z[te]},getCurrentTrackIndex:function(){return te},getRepresentations:function(){return H},getThumbnailRequestForTime:function(ee){let Q;const M=R.getVoRepresentations(ie);for(let re=0;re<M.length;re++)if(z[te].id===M[re].id){Q=M[re];break}return X.getSegmentRequestForTime(ie,Q,ee)},getTracks:function(){return z},reset:_e,setTrackById:function(ee){if(!z||z.length===0)return;const Q=z.findIndex((M=>M.id===ee));Q!==-1&&(te=Q)},setTrackByIndex:function(ee){z&&z.length!==0&&(ee>=z.length&&(ee=z.length-1),te=ee)}},_e(),fe=dn(S).create({}),me=Ib(S).getInstance(),se=JU(S).create({events:N,eventBus:U,streamInfo:D,timelineConverter:L,dashConstants:V,dashMetrics:x.dashMetrics,segmentBaseController:x.segmentBaseController,type:p.default.IMAGE}),X=KU(S).create({streamInfo:D,type:p.default.IMAGE,timelineConverter:L,segmentsController:se,baseURLController:k,debug:B,eventBus:U,events:N,dashConstants:V,urlUtils:W}),X.initialize(!!R&&R.getIsDynamic()),O}i3.__dashjs_factory_name="ThumbnailTracks";var tse=r.default.getClassFactory(i3);function a3(x){const S=this.context,R=x.streamInfo;let k,D;function L(U){D.setTrackByIndex(U)}function B(){D&&D.reset()}return k={getCurrentTrack:function(){return D.getCurrentTrack()},getCurrentTrackIndex:function(){return D.getCurrentTrackIndex()},getPossibleVoRepresentations:function(){return D.getRepresentations()},getStreamId:function(){return R.id},initialize:function(){D.addTracks();const U=D.getTracks();U&&U.length>0&&L(0)},provide:function(U,N){if(typeof N!="function")return;const V=D.getCurrentTrack();let W,O;if(!V||V.segmentDuration<=0||U==null)return void N(null);O=D.getThumbnailRequestForTime(U),O&&(V.segmentDuration=O.duration),W=U%V.segmentDuration;const z=Math.floor(W*V.tilesHor*V.tilesVert/V.segmentDuration),H=new Jae;if(H.width=Math.floor(V.widthPerTile),H.height=Math.floor(V.heightPerTile),H.x=Math.floor(z%V.tilesHor)*V.widthPerTile,H.y=Math.floor(z/V.tilesHor)*V.heightPerTile,"readThumbnail"in V)return V.readThumbnail(U,(X=>{H.url=X,N(H)}));if(O)H.url=O.url,V.segmentDuration=NaN;else{const X=Math.floor(U/V.segmentDuration);H.url=(function(te,ie){const se=ie+te.startNumber;return Jp(te.templateUrl,void 0,se,void 0,te.bandwidth,(se-1)*te.segmentDuration*te.timescale)})(V,X)}N(H)},reset:B,setTrackByIndex:L,setTrackById:function(U){D.setTrackById(U)}},B(),D=tse(S).create({streamInfo:R,adapter:x.adapter,baseURLController:x.baseURLController,timelineConverter:x.timelineConverter,debug:x.debug,eventBus:x.eventBus,events:x.events,dashConstants:x.dashConstants,dashMetrics:x.dashMetrics,segmentBaseController:x.segmentBaseController}),k}a3.__dashjs_factory_name="ThumbnailController";var nse=r.default.getClassFactory(a3),rse=class{constructor(x){this.eventBus=x,this.reset()}get duration(){return this._duration}set duration(x){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");this._duration=x}get readyState(){return this._readyState}addSourceBuffer(x){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");const S=new CU(x,this.eventBus);return this.sourceBuffers.set(S,x),S}removeSourceBuffer(x){if(!this.sourceBuffers.has(x))throw new Error("ExternalSourceBuffer not found");this.sourceBuffers.delete(x)}open(){this._readyState="open",this.eventBus.trigger("externalMediaSourceOpen",{})}endOfStream(){if(this._readyState!=="open")throw new Error("ExternalMediaSource is not open");this._readyState="ended",this.eventBus.trigger("externalMediaSourceEnded",{})}close(){this._readyState="closed",this.eventBus.trigger("externalMediaSourceClosed",{})}reset(){this.sourceBuffers=new Map,this._duration=NaN,this._readyState="closed"}};const ise=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT,p.default.MUXED,p.default.IMAGE];function s3(x){x=x||{};const S=this.context,R=(0,h.default)(S).getInstance(),k=Ur(S).getInstance(),D=x.manifestModel,L=x.mediaPlayerModel,B=x.dashMetrics,U=x.manifestUpdater,N=x.adapter,V=x.timelineConverter,W=x.capabilities,O=x.errHandler,z=x.abrController,H=x.playbackController,X=x.throughputController,te=x.eventController,ie=x.mediaController,se=x.protectionController,fe=x.textController,me=x.videoModel;let pe=x.streamInfo;const _e=x.settings;let ee,Q,M,re,ye,ue,ke,xe,Oe,Ge,Ne,Z,le,ve,de,Y;function ce(pt,Ut,Lt){return new Promise(((Qt,Xe)=>{kt(),un();let ut=me.getElement();const Ct=[];ise.forEach((st=>{if((st!==p.default.TEXT||pt)&&(st!==p.default.VIDEO||!ut||ut&&/^VIDEO$/i.test(ut.nodeName))){const Nt=Lt.find((jt=>jt.mediaInfo.type===st));Ct.push(oe(st,pt,Nt))}})),Promise.all(Ct).then((()=>(function(st){return new Promise((Nt=>{const jt={},Fe=M.map((lt=>{const Ht=lt.getRepresentation();return lt.createBufferSinks(st,Ht)}));Promise.all(Fe).then((lt=>{lt.forEach((Ht=>{Ht&&(jt[Ht.getType()]=Ht)})),Nt(jt)})).catch((()=>{Nt(jt)}))}))})(Ut))).then((st=>{if(M.length===0){const Nt="No streams to play.";O.error(new an.default(fn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Nt,D.getValue())),Q.fatal(Nt)}else xt();pt&&fe.createTracks(pe),Qt(st)})).catch((st=>{Xe(st)}))}))}function oe(pt,Ut,Lt){let Qt,Xe=N.getAllMediaInfoForType(pe,pt),ut=[],Ct=null,st=-1;if(!Xe||Xe.length===0)return Q.info("No "+pt+" data."),Promise.resolve();pt===p.default.VIDEO&&(ke=!0),pt===p.default.AUDIO&&(xe=!0);for(let jt=0,Fe=Xe.length;jt<Fe;jt++)Ct=Xe[jt],pt===p.default.TEXT&&Ct.isEmbedded&&(fe.addEmbeddedTrack(pe,Ct),ut.push(Ct)),Ae(Ct)&&ie.addTrack(Ct),Ct.type===p.default.ENHANCEMENT&&(st=jt);if(ut.length>0&&(ie.setInitialMediaSettingsForType(pt,pe),fe.addMediaInfosToBuffer(pe,pt,ut)),Xe=Xe.filter((jt=>!jt.isEmbedded)),Xe.length===0)return Promise.resolve();if(pt===p.default.IMAGE)return Ge=nse(S).create({streamInfo:pe,adapter:N,baseURLController:x.baseURLController,timelineConverter:x.timelineConverter,debug:ve,eventBus:R,events:f.default,dashConstants:Re.default,dashMetrics:x.dashMetrics,segmentBaseController:x.segmentBaseController}),Ge.initialize(),Promise.resolve();R.trigger(f.default.STREAM_INITIALIZING,{streamInfo:pe,mediaInfo:Ct}),ie.setInitialMediaSettingsForType(pt,pe);let Nt=Se(Xe,Ut,pt);if(st>=0){let jt=new rse(R);jt.open(),jt.duration=pe.manifestInfo.duration;let Fe=Se(Xe,jt,p.default.ENHANCEMENT);Fe.selectMediaInfo(new Vl({newMediaInfo:Xe[st]})),Nt.setEnhancementStreamProcessor(Fe)}if(Qt=ie.getCurrentTrackFor(pt,pe.id),Qt){const jt=pt===p.default.TEXT&&Qt.isEmbedded?Xe[0]:Qt,Fe=new Vl({newMediaInfo:jt,previouslySelectedRepresentation:Lt});return Nt.selectMediaInfo(Fe)}return Promise.resolve()}function Ae(pt){const Ut=pt?pt.type:null;let Lt;return Ut===p.default.MUXED?(Lt="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Q.fatal(Lt),O.error(new an.default(fn.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,Lt,D.getValue())),!1):!(Ut!==p.default.TEXT&&Ut!==p.default.IMAGE&&pt.contentProtection&&pt.contentProtection.length>0&&!W.supportsEncryptedMedia()&&(O.error(new an.default(fn.CAPABILITY_MEDIAKEYS_ERROR_CODE,fn.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Se(pt,Ut,Lt){const Qt=pt&&pt.length>0?pt.filter((jt=>jt.type===Lt))[0]:null;let Xe=Oe.getModel(Qt?Qt.type:null);const ut=Qt?Qt.type:null,Ct=Qt?Qt.mimeType:null,st=Qt?Qt.isFragmented:null;let Nt=Wae(S).create({abrController:z,adapter:N,baseURLController:x.baseURLController,boxParser:le,capabilities:W,dashMetrics:x.dashMetrics,errHandler:O,fragmentModel:Xe,manifestModel:D,mediaController:ie,mediaPlayerModel:L,mimeType:Ct,playbackController:H,segmentBaseController:x.segmentBaseController,segmentBlacklistController:Ne,settings:_e,streamInfo:pe,textController:fe,throughputController:X,timelineConverter:V,type:ut});return Nt.initialize(Ut,ke,st),M.push(Nt),Nt.setMediaInfoArray(pt),ut===p.default.TEXT&&fe.addMediaInfosToBuffer(pe,ut,pt,Xe),Nt}function De(pt){let Ut=M?M.length:0;for(let Lt=0;Lt<Ut;Lt++){let Qt=M[Lt].getFragmentModel();Qt.abortRequests(),Qt.resetInitialSettings(),M[Lt].reset(!1,pt)}fe&&fe.deactivateStream(pe),Ge&&(Ge.reset(),Ge=null),M=[],ye=!1,ue=!1,Pt(!1),Ue(!1),R.trigger(f.default.STREAM_DEACTIVATED,{streamInfo:pe})}function ze(pt){De(pt),re=!1,ke=!1,xe=!1,de=!1,Y=[]}function Ue(pt){de=pt}function tt(){return pe?pe.start:NaN}function gt(){return pe?pe.id:null}function kt(){if(!me||!z)throw new Error(p.default.MISSING_CONFIG_ERROR)}function Mt(pt){pt.error&&(O.error(pt.error),Q.fatal(pt.error.message))}function un(){if(te){const pt=N.getEventsFor(pe);pt&&pt.length>0&&te.addInlineEvents(pt,pe.id)}}function St(pt){let Ut=Zt(pt);return Ut?Ut.getMediaInfo():null}function Zt(pt){return pt?M.find((Ut=>Ut.getType()===pt)):null}function En(){let pt=et();const Ut=pt.length;if(Ut!==0){for(let Lt=0;Lt<Ut;Lt++)if(!pt[Lt].isBufferingCompleted()&&(pt[Lt].getType()===p.default.AUDIO||pt[Lt].getType()===p.default.VIDEO))return void Q.debug("onBufferingCompleted - One streamProcessor has finished but",pt[Lt].getType(),"one is not buffering completed");Q.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),ue=!0,R.trigger(f.default.STREAM_BUFFERING_COMPLETED,{streamInfo:pe},{streamInfo:pe})}else Q.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function tr(pt){te&&te.addInbandEvents(pt.events,pe.id)}function Jn(){xt()}function Dn(pt){return pt&&pt.type?Gn(pt.type):null}function Gn(pt){return pt?et().filter((function(Ut){return Ut.getType()===pt}))[0]:null}function et(){let pt,Ut,Lt=[];for(let Qt=0;Qt<M.length;Qt++)Ut=M[Qt],pt=Ut.getType(),pt!==p.default.AUDIO&&pt!==p.default.VIDEO&&pt!==p.default.TEXT&&pt!==p.default.ENHANCEMENT||Lt.push(Ut);return Lt}function Rt(){const pt=M.length;for(let Ut=0;Ut<pt&&M[Ut];Ut++)M[Ut].getScheduleController().startScheduleTimer()}function xt(){const pt=M.length;if(se){se.clearMediaInfoArray();for(let Ut=0;Ut<pt&&M[Ut];Ut++){const Lt=M[Ut].getType(),Qt=M[Ut].getMediaInfo();if(Lt===p.default.AUDIO||Lt===p.default.VIDEO||Lt===p.default.TEXT&&Qt&&Qt.isFragmented){let Xe=M[Ut].getMediaInfo();Xe&&se.initializeForMedia(Xe)}}se.handleKeySystemFromManifest()}re||(re=!0,me.waitForReadyState(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(()=>{R.trigger(f.default.STREAM_INITIALIZED,{streamInfo:pe})})))}function Pt(pt){Z=pt}function on(){return Z}return ee={activate:function(pt,Ut,Lt=[]){return new Promise(((Qt,Xe)=>{if(!ye)return on()?(ye=!0,R.trigger(f.default.STREAM_ACTIVATED,{streamInfo:pe}),void Qt()):void(function(ut,Ct,st=[]){return ce(ut,Ct,st)})(pt,Ut,Lt).then((()=>{ye=!0,Lt&&Lt.length>0&&Rt(),R.trigger(f.default.STREAM_ACTIVATED,{streamInfo:pe}),Qt()})).catch((ut=>{Xe(ut)}));Qt()}))},checkAndHandleCompletedBuffering:function(){ue||M.forEach((pt=>{pt.checkAndHandleCompletedBuffering()}))},deactivate:De,getAdapter:function(){return N},getCurrentMediaInfoForType:function(pt){const Ut=Gn(pt);return Ut?Ut.getMediaInfo():null},getCurrentRepresentationForType:function(pt){const Ut=Gn(pt);return Ut?Ut.getRepresentation():null},getDuration:function(){return pe?pe.duration:NaN},getHasAudioTrack:function(){return xe},getHasFinishedBuffering:function(){return ue},getHasVideoTrack:function(){return ke},getId:gt,getIsActive:function(){return ye},getIsEndedEventSignaled:function(){return de},getPreloaded:on,getRepresentationForTypeById:function(pt,Ut){let Lt;if(pt===p.default.IMAGE){if(!Ge)return null;Lt=Ge.getPossibleVoRepresentations()}else Lt=(function(ut){let Ct=Zt(ut);return Ct?Ct.getAllMediaInfos():[]})(pt).flatMap((ut=>z.getPossibleVoRepresentationsFilteredBySettings(ut,!0)));if(!Lt||Lt.length===0)return null;const Qt=Lt.filter((Xe=>Xe.id===Ut));return Qt&&Qt.length>0?Qt[0]:null},getRepresentationForTypeByIndex:function(pt,Ut){let Lt;if(pt===p.default.IMAGE){if(!Ge)return null;Lt=Ge.getPossibleVoRepresentations()}else{const Qt=St(pt);Lt=z.getPossibleVoRepresentationsFilteredBySettings(Qt,!0)}return Lt[Ut=Math.max(Math.min(Ut,Lt.length-1),0)]},getRepresentationsByType:function(pt){if(kt(),pt===p.default.IMAGE)return Ge?Ge.getPossibleVoRepresentations():[];const Ut=St(pt);return z.getPossibleVoRepresentationsFilteredBySettings(Ut,!0)},getStartTime:tt,getStreamId:function(){return pe?pe.id:null},getStreamInfo:function(){return pe},getStreamProcessors:et,getThumbnailController:function(){return Ge},initialize:function(){R.on(f.default.BUFFERING_COMPLETED,En,ee),R.on(f.default.INBAND_EVENTS,tr,ee),R.on(f.default.DATA_UPDATE_COMPLETED,Jn,ee),se&&(R.on(f.default.KEY_ERROR,Mt,ee),R.on(f.default.SERVER_CERTIFICATE_UPDATED,Mt,ee),R.on(f.default.LICENSE_REQUEST_COMPLETE,Mt,ee),R.on(f.default.KEY_SYSTEM_SELECTED,Mt,ee),R.on(f.default.KEY_SESSION_CREATED,Mt,ee)),fe.initializeForStream(pe),R.trigger(f.default.STREAM_UPDATED,{streamInfo:pe})},initializeForTextWithMediaSource:function(pt){return new Promise(((Ut,Lt)=>{oe(p.default.TEXT,pt,null).then((()=>(function(){const Qt=Gn(p.default.TEXT);return Qt?Qt.createBufferSinks():Promise.resolve()})())).then((()=>{fe.createTracks(pe),Ut()})).catch((Qt=>{Lt(Qt)}))}))},prepareQualityChange:function(pt){const Ut=Gn(pt.mediaType);Ut&&Ut.prepareQualityChange(pt)},prepareTrackChange:function(pt){if(!ye||!pe)return;ue=!1;let Ut=pt.newMediaInfo,Lt=D.getValue(),Qt=Dn(Ut);if(!Qt)return;let Xe=H.getTime();if(Q.info("Stream -  Process track changed at current time "+Xe),Lt.refreshManifestOnSwitchTrack)Y.push(pt),U.getIsUpdating()||(Q.debug("Stream -  Refreshing manifest for switch track"),U.refreshManifest());else{Qt.clearScheduleTimer(),Qt.setTrackSwitchInProgress(!0);const ut=Qt.getRepresentation();Qt.selectMediaInfo(new Vl({newMediaInfo:Ut})).then((()=>{const Ct=!!(pt&&pt.options&&pt.options.hasOwnProperty("replaceBuffer"))&&pt.options.replaceBuffer;return Qt.prepareTrackSwitch(ut,Ct)})).then((()=>{Qt.setTrackSwitchInProgress(!1)}))}},reset:function(pt){Oe&&(Oe.reset(),Oe=null),z&&pe&&z.clearDataForStream(pe.id),Ne&&(Ne.reset(),Ne=null),fe&&pe&&fe.clearDataForStream(pe.id),ie&&pe&&ie.clearDataForStream(pe.id),ze(pt),pe=null,R.off(f.default.BUFFERING_COMPLETED,En,ee),R.off(f.default.INBAND_EVENTS,tr,ee),R.off(f.default.DATA_UPDATE_COMPLETED,Jn,ee),se&&(R.off(f.default.KEY_ERROR,Mt,ee),R.off(f.default.SERVER_CERTIFICATE_UPDATED,Mt,ee),R.off(f.default.LICENSE_REQUEST_COMPLETE,Mt,ee),R.off(f.default.KEY_SYSTEM_SELECTED,Mt,ee),R.off(f.default.KEY_SESSION_CREATED,Mt,ee))},setIsEndedEventSignaled:Ue,setMediaSource:function(pt){return new Promise(((Ut,Lt)=>{const Qt=[];for(let Xe=0;Xe<M.length;)Ae(M[Xe].getMediaInfo())?(Qt.push(M[Xe].setMediaSource(pt)),Xe++):(M[Xe].reset(),M.splice(Xe,1));Promise.all(Qt).then((()=>{for(let Xe=0;Xe<M.length;Xe++)M[Xe].dischargePreBuffer();if(M.length===0){const Xe="No streams to play.";O.error(new an.default(fn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,Xe+"nostreams",D.getValue())),Q.fatal(Xe)}Ut()})).catch((Xe=>{Q.error(Xe),Lt(Xe)}))}))},startPreloading:function(pt,Ut,Lt=[]){return new Promise(((Qt,Xe)=>{on()?Xe():(Q.info(`[startPreloading] Preloading next stream with id ${gt()}`),Pt(!0),ce(pt,Ut,Lt).then((()=>{for(let ut=0;ut<M.length&&M[ut];ut++)M[ut].setExplicitBufferingTime(tt()),M[ut].getScheduleController().startScheduleTimer();Qt()})).catch((()=>{Pt(!1),Xe()})))}))},startScheduleControllers:Rt,triggerProtectionError:function(pt){Mt(pt)},updateData:function(pt){return new Promise((Ut=>{pe=pt,te&&un();let Lt,Qt=[];for(let Xe=0,ut=M.length;Xe<ut;Xe++){let Ct=M[Xe];const st=Ct.getMediaInfo();Qt.push(Ct.updateStreamInfo(pe));let Nt=N.getAllMediaInfoForType(pe,Ct.getType());if(Nt=Nt.filter((jt=>!jt.isEmbedded)),Ct.setMediaInfoArray(Nt),Nt)for(let jt=0;jt<Nt.length;jt++)N.areMediaInfosEqual(st,Nt[jt])&&Qt.push(Ct.selectMediaInfo(new Vl({newMediaInfo:Nt[jt]})))}Promise.all(Qt).then((()=>{let Xe=[];for(;Y.length>0;){let ut=Y.pop(),Ct=ut.newMediaInfo;if(Lt=Dn(ut.oldMediaInfo),!Lt)return;const st=Lt.getRepresentation();Lt.setTrackSwitchInProgress(!0),Xe.push(Lt.prepareTrackSwitch(st)),Xe.push(Lt.selectMediaInfo(new Vl({newMediaInfo:Ct})))}return Promise.all(Xe)})).then((()=>{xt(),Lt&&Lt.setTrackSwitchInProgress(!1),R.trigger(f.default.STREAM_UPDATED,{streamInfo:pe}),Ut()})).catch((Xe=>{O.error(Xe)}))}))}},(function(){try{ve=(0,l.default)(S).getInstance(),Q=ve.getLogger(ee),ze(),le=Ib(S).getInstance(),Ne=pn(S).create({updateEventName:f.default.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:f.default.SEGMENT_LOCATION_BLACKLIST_ADD}),Oe=Zae(S).create({streamInfo:pe,mediaPlayerModel:L,dashMetrics:B,errHandler:O,settings:_e,boxParser:le,dashConstants:Re.default,urlUtils:k})}catch(pt){throw pt}})(),ee}s3.__dashjs_factory_name="Stream";var ase=r.default.getClassFactory(s3);function Tw(){const x=this.context,S=(0,h.default)(x).getInstance(),R=Ur(x).getInstance();let k,D,L,B,U,N,V,W,O,z,H,X,te,ie,se,fe;function me(){W=[],O=[],z=null,H=null,te=null,X=NaN,L=!1,B=!1,ie=U.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function pe(){U.get().streaming.utcSynchronization.enabled&&!L&&!B&&te&&te.value&&te.schemeIdUri&&!isNaN(X)&&!isNaN(U.get().streaming.utcSynchronization.backgroundAttempts)&&(H&&(Date.now()-H)/1e3<30||(W=[],B=!0,_e(isNaN(U.get().streaming.utcSynchronization.backgroundAttempts)?2:U.get().streaming.utcSynchronization.backgroundAttempts)))}function _e(ve){try{if(ve<=0)return void Z();const de=Date.now();N[te.schemeIdUri](te.value,(function(Y){const ce=Date.now(),oe=Q(de,ce,Y);W.push(oe),_e(ve-1)}),(function(){Z()}))}catch{Z()}}function ee(ve=null){let de=ve||0;if(!O||O.length===0||de>=O.length)return void M();let Y=O[de];if(Y)if(N.hasOwnProperty(Y.schemeIdUri)){const ce=new Date().getTime();N[Y.schemeIdUri](Y.value,(function(oe){const Ae=new Date().getTime(),Se=Q(ce,Ae,oe);te=Y,M(Se)}),(function(){ee(de+1)}))}else ee(de+1);else M()}function Q(ve,de,Y){return Y-(de-(de-ve)/2)}function M(ve=NaN){let de=isNaN(ve);de&&U.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?(function(){let Y=V.getLatestMPDRequestHeaderValueByID("Date"),ce=Y!==null?new Date(Y).getTime():Number.NaN;isNaN(ce)?Ne(!0):Ne(!1,ce-Date.now())})():Ne(de,ve)}function re(ve){let de=Date.parse(ve);return isNaN(de)&&(de=(function(Y){let ce,oe,Ae=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(Y);return ce=Date.UTC(parseInt(Ae[1],10),parseInt(Ae[2],10)-1,parseInt(Ae[3],10),parseInt(Ae[4],10),parseInt(Ae[5],10),Ae[6]&&(parseInt(Ae[6],10)||0),Ae[7]&&1e3*parseFloat(Ae[7])||0),Ae[9]&&Ae[10]&&(oe=60*parseInt(Ae[9],10)+parseInt(Ae[10],10),ce+=(Ae[8]==="+"?-1:1)*oe*60*1e3),new Date(ce).getTime()})(ve)),de}function ye(ve){return Date.parse(ve)}function ue(ve){return Date.parse(ve)}function ke(ve,de,Y){Y()}function xe(ve,de,Y){let ce=re(ve);isNaN(ce)?Y():de(ce)}function Oe(ve,de,Y,ce,oe){let Ae,Se,De=!1,ze=new XMLHttpRequest,Ue=oe?w.HTTPRequest.HEAD:w.HTTPRequest.GET,tt=de.match(/\S+/g);if(de=tt.shift(),Ae=function(){De||(De=!0,tt.length?Oe(ve,tt.join(" "),Y,ce,oe):ce())},Se=function(){let gt,kt;ze.status===200&&(gt=oe?ze.getResponseHeader("Date"):ze.response,kt=ve(gt),isNaN(kt)||(Y(kt),De=!0))},R.isRelative(de)){const gt=fe.resolve();gt&&(de=R.resolve(de,gt.url))}ze.open(Ue,de),ze.timeout=5e3,ze.onload=Se,ze.onloadend=Ae,ze.send()}function Ge(ve,de,Y){Oe(ue,ve,de,Y,!0)}function Ne(ve,de){if(isNaN(X)||isNaN(de)||ve||(function(ce){try{const oe=le(ce),Ae=isNaN(ie)?30:ie,Se=isNaN(U.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:U.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,De=isNaN(U.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:U.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,ze=isNaN(U.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:U.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;let Ue;oe?(Ue=Math.min(Ae*Se,De),D.debug(`Increasing timeBetweenSyncAttempts to ${Ue}`)):(Ue=Math.max(Ae/Se,ze),D.debug(`Decreasing timeBetweenSyncAttempts to ${Ue}`)),ie=Ue}catch{}})(de),!ve&&!isNaN(de)){z=Date.now(),L=!1;const ce=isNaN(X);X=de,ce&&pe(),D.debug(`Completed UTC sync. Setting client - server offset to ${de}`)}ve&&(te=null,L=!1,se.error(new an.default(fn.TIME_SYNC_FAILED_ERROR_CODE,fn.TIME_SYNC_FAILED_ERROR_MESSAGE)));const Y=U.get().streaming.utcSynchronization.artificialTimeOffsetToApply;S.trigger(f.default.UPDATE_TIME_SYNC_OFFSET,{offset:de+Y}),S.trigger(f.default.TIME_SYNCHRONIZATION_COMPLETED)}function Z(){if(!W||W.length===0)return;const ve=W.reduce(((de,Y)=>de+Y),0)/W.length;le(ve)?D.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(D.debug(`Completed background UTC sync. Setting client - server offset to ${ve}`),X=ve,S.trigger(f.default.UPDATE_TIME_SYNC_OFFSET,{offset:X})),B=!1,H=Date.now()}function le(ve){try{if(isNaN(X))return!0;const de=U.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(U.get().streaming.utcSynchronization.maximumAllowedDrift)?U.get().streaming.utcSynchronization.maximumAllowedDrift:100;return ve>=X-de&&ve<=X+de}catch{return!0}}return k={initialize:function(){me(),N={"urn:mpeg:dash:utc:http-head:2014":Ge,"urn:mpeg:dash:utc:http-xsdate:2014":Oe.bind(null,re),"urn:mpeg:dash:utc:http-iso:2014":Oe.bind(null,ye),"urn:mpeg:dash:utc:direct:2014":xe,"urn:mpeg:dash:utc:http-head:2012":Ge,"urn:mpeg:dash:utc:http-xsdate:2012":Oe.bind(null,re),"urn:mpeg:dash:utc:http-iso:2012":Oe.bind(null,ye),"urn:mpeg:dash:utc:direct:2012":xe,"urn:mpeg:dash:utc:http-ntp:2014":ke,"urn:mpeg:dash:utc:ntp:2014":ke,"urn:mpeg:dash:utc:sntp:2014":ke}},attemptSync:function(ve,de){O=ve,L||((function(Y){try{if(!Y||!U.get().streaming.utcSynchronization.enabled)return!1;const ce=isNaN(ie)?30:ie;return!(z&&ce&&!isNaN(ce))||(Date.now()-z)/1e3>=ce}catch{return!0}})(de)?(L=!0,ee()):S.trigger(f.default.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(ve){ve&&(ve.dashMetrics&&(V=ve.dashMetrics),ve.baseURLController&&(fe=ve.baseURLController),ve.errHandler&&(se=ve.errHandler),ve.settings&&(U=ve.settings))},reset:function(){me(),S.off(f.default.ATTEMPT_BACKGROUND_SYNC,pe,k)}},D=(0,l.default)(x).getInstance().getLogger(k),S.on(f.default.ATTEMPT_BACKGROUND_SYNC,pe,k),k}Tw.__dashjs_factory_name="TimeSyncController";const Sw=r.default.getSingletonFactory(Tw);Sw.HTTP_TIMEOUT_MS=5e3,r.default.updateSingletonFactory(Tw.__dashjs_factory_name,Sw);var sse=Sw;function o3(){let x,S,R,k,D;const L=this.context,B=(0,h.default)(L).getInstance();return x={attachMediaSource:function(U){let N=window.URL.createObjectURL(S);return U.setSource(N),k==="managedMediaSource"&&(U.setDisableRemotePlayback(!0),S.addEventListener("startstreaming",(()=>{B.trigger(m.default.MANAGED_MEDIA_SOURCE_START_STREAMING)})),S.addEventListener("endstreaming",(()=>{B.trigger(m.default.MANAGED_MEDIA_SOURCE_END_STREAMING)}))),N},createMediaSource:function(){let U="WebKitMediaSource"in window,N="MediaSource"in window;return"ManagedMediaSource"in window?(S=new ManagedMediaSource,k="managedMediaSource",D.info("Created ManagedMediaSource")):N?(S=new MediaSource,k="mediaSource",D.info("Created MediaSource")):U&&(S=new WebKitMediaSource,D.info("Created WebkitMediaSource")),S},detachMediaSource:function(U){U.setSource(null)},setConfig:function(U){U&&U.settings&&(R=U.settings)},setDuration:function U(N){S&&S.readyState==="open"&&(N===null&&isNaN(N)||S.duration!==N&&(N!==1/0||R.get().streaming.buffer.mediaSourceDurationInfinity||(N=Math.pow(2,32)),(function(V){let W=V.sourceBuffers;for(let O=0;O<W.length;O++)if(W[O].updating)return!0;return!1})(S)?setTimeout(U.bind(null,N),50):(D.info("Set MediaSource duration:"+N),S.duration=N)))},setSeekable:function(U,N){S&&typeof S.setLiveSeekableRange=="function"&&typeof S.clearLiveSeekableRange=="function"&&S.readyState==="open"&&U>=0&&U<N&&(S.clearLiveSeekableRange(),S.setLiveSeekableRange(U,N))},signalEndOfStream:function(U){if(!U||U.readyState!=="open")return;let N=U.sourceBuffers;for(let V=0;V<N.length;V++)if(N[V].updating||N[V].buffered.length===0)return;D.info("call to mediaSource endOfStream"),U.endOfStream()}},D=(0,l.default)(L).getInstance().getLogger(x),x}o3.__dashjs_factory_name="MediaSourceController";var ose=r.default.getSingletonFactory(o3);function l3(){const x="urn:mpeg:dash:event:2012",R="urn:mpeg:dash:event:callback:2015",L="discarded",B="updated",U="added",N=this.context,V=(0,h.default)(N).getInstance();let W,O,z,H,X,te,ie,se,fe,me,pe;function _e(){if(!ie||!se)throw new Error("setConfig function has to be called previously")}function ee(){pe=!1,z={},H={},X=null,me=!1,te=Date.now()/1e3}function Q(){try{if(!me){me=!0;const Ne=se.getTime();let Z=Ne-te;Z=te>0?Math.max(0,Z):0,M(H,Z,Ne),M(z,Z,Ne),re(H),re(z),te=Ne,me=!1}}catch(Ne){me=!1,O.error(Ne)}}function M(Ne,Z,le){try{xe(Ne,function(de){if(de!==void 0){const Y=isNaN(de.duration)?0:de.duration;de.calculatedPresentationTime<=le&&de.calculatedPresentationTime+Z+Y>=le?Ge(de,m.default.EVENT_MODE_ON_START):(Oe(le,Y+Z,de.calculatedPresentationTime)||(function(ce){try{const oe=ce.eventStream.period.start+ce.eventStream.period.duration;return ce.calculatedPresentationTime>oe}catch(oe){return O.error(oe),!1}})(de))&&(O.debug(`Removing event ${de.id} from period ${de.eventStream.period.id} as it is expired or invalid`),(function(ce,oe){try{const Ae=oe.eventStream.schemeIdUri,Se=oe.eventStream.period.id,De=oe.eventStream.value,ze=oe.id;ce[Se][Ae]=ce[Se][Ae].filter((Ue=>De&&Ue.eventStream.value&&Ue.eventStream.value!==De||Ue.id!==ze)),ce[Se][Ae].length===0&&delete ce[Se][Ae]}catch(Ae){O.error(Ae)}})(Ne,de))}})}catch(ve){O.error(ve)}}function re(Ne){try{for(const Z in Ne)Ne.hasOwnProperty(Z)&&Object.keys(Ne[Z]).length===0&&delete Ne[Z]}catch(Z){O.error(Z)}}function ye(Ne,Z,le=!1){const ve=Ne.eventStream.schemeIdUri,de=Ne.eventStream.value,Y=Ne.id;let ce=L;Z[ve]||(Z[ve]=[]);const oe=Z[ve].findIndex((Ae=>(!de||Ae.eventStream.value&&Ae.eventStream.value===de)&&Ae.id===Y));if(oe===-1)Z[ve].push(Ne),Ne.triggeredReceivedEvent=!1,Ne.triggeredStartEvent=!1,ce=U;else if(le){const Ae=Z[ve][oe];Ne.triggeredReceivedEvent=Ae.triggeredReceivedEvent,Ne.triggeredStartEvent=Ae.triggeredStartEvent,Z[ve][oe]=Ne,ce=B}return ce}function ue(Ne){try{if(Ne.eventStream.value==1){const Z=Ne.calculatedPresentationTime;let le;le=Ne.calculatedPresentationTime==4294967295?NaN:Ne.calculatedPresentationTime+Ne.duration,V.trigger(m.default.MANIFEST_VALIDITY_CHANGED,{id:Ne.id,validUntil:Z,newDuration:le,newManifestValidAfter:NaN},{mode:m.default.EVENT_MODE_ON_START})}}catch(Z){O.error(Z)}}function ke(Ne){try{const Z=se.getTime();xe(Ne,(function(le){const ve=le.eventStream&&le.eventStream.period&&!isNaN(le.eventStream.period.duration)?le.eventStream.period.duration:NaN,de=le.eventStream&&le.eventStream.period&&!isNaN(le.eventStream.period.start)?le.eventStream.period.start:NaN;if(isNaN(ve)||isNaN(de))return;const Y=le.calculatedPresentationTime;Math.abs(Y-Z)<300&&Ge(le,m.default.EVENT_MODE_ON_START)}))}catch(Z){O.error(Z)}}function xe(Ne,Z){try{if(Ne){const le=Object.keys(Ne);for(let ve=0;ve<le.length;ve++){const de=Ne[le[ve]],Y=Object.keys(de);for(let ce=0;ce<Y.length;ce++)de[Y[ce]].forEach((oe=>{oe!==void 0&&Z(oe)}))}}}catch(le){O.error(le)}}function Oe(Ne,Z,le){try{return Ne-Z>le}catch(ve){return O.error(ve),!1}}function Ge(Ne,Z){try{const le=se.getTime(),ve=Ne.id;if(Z===m.default.EVENT_MODE_ON_RECEIVE&&!Ne.triggeredReceivedEvent)return O.debug(`Received event ${ve}`),Ne.triggeredReceivedEvent=!0,void V.trigger(Ne.eventStream.schemeIdUri,{event:Ne},{mode:Z});Ne.triggeredStartEvent||(Ne.eventStream.schemeIdUri===x&&Ne.eventStream.value==1?Ne.duration===0&&Ne.presentationTimeDelta===0||(O.debug(`Starting manifest refresh event ${ve} at ${le}`),(function(){try{_e(),ie.refreshManifest()}catch(de){O.error(de)}})()):Ne.eventStream.schemeIdUri===R&&Ne.eventStream.value==1?(O.debug(`Starting callback event ${ve} at ${le}`),(function(de){try{let Y=dn(N).create({});const ce=new sw({method:"get",url:de,responseType:"arraybuffer",customData:{}}),oe=new ow({request:ce});Y.load(ce,oe)}catch(Y){O.error(Y)}})(Ne.messageData instanceof Uint8Array?ot.default.uint8ArrayToString(Ne.messageData):Ne.messageData)):(O.debug(`Starting event ${ve} from period ${Ne.eventStream.period.id} at ${le}`),V.trigger(Ne.eventStream.schemeIdUri,{event:Ne},{mode:Z}),fe.get().streaming.events.deleteEventMessageDataTimeout>-1&&setTimeout((()=>{delete Ne.messageData,delete Ne.parsedMessageData}),fe.get().streaming.events.deleteEventMessageDataTimeout)),Ne.triggeredStartEvent=!0)}catch(le){O.error(le)}}return W={addInlineEvents:function(Ne,Z){try{if(_e(),z[Z]||(z[Z]={}),Ne)for(let le=0;le<Ne.length;le++){let ve=Ne[le];if(!Oe(se.getTime(),isNaN(ve.duration)?0:ve.duration,ve.calculatedPresentationTime)){let de=ye(ve,z[Z],!0);de===U?(O.debug(`Added inline event with id ${ve.id} from period ${Z}`),Ge(ve,m.default.EVENT_MODE_ON_RECEIVE)):de===B&&O.debug(`Updated inline event with id ${ve.id} from period ${Z}`)}}}catch(le){throw le}},addInbandEvents:function(Ne,Z){try{_e(),H[Z]||(H[Z]={});for(let le=0;le<Ne.length;le++){let ve=Ne[le];Oe(se.getTime(),isNaN(ve.duration)?0:ve.duration,ve.calculatedPresentationTime)||(ye(ve,H[Z],!1)===U?(ve.eventStream.schemeIdUri===x&&ue(ve),O.debug(`Added inband event with id ${ve.id} from period ${Z}`),Ge(ve,m.default.EVENT_MODE_ON_RECEIVE)):O.debug(`Inband event with scheme_id_uri ${ve.eventStream.schemeIdUri}, value ${ve.eventStream.value}, period id ${Z} and event id ${ve.id} was ignored because it has been added before.`))}Q()}catch(le){throw le}},getInbandEvents:function(){return H},getInlineEvents:function(){return z},start:function(){try{_e(),O.debug("Start Event Controller");const Ne=fe.get().streaming.events.eventControllerRefreshDelay;pe||isNaN(Ne)||(pe=!0,X=setInterval(Q,Ne))}catch(Ne){throw Ne}},setConfig:function(Ne){try{if(!Ne)return;Ne.manifestUpdater&&(ie=Ne.manifestUpdater),Ne.playbackController&&(se=Ne.playbackController),Ne.settings&&(fe=Ne.settings)}catch(Z){throw Z}},reset:function(){(function(){try{X!==null&&pe&&(clearInterval(X),X=null,pe=!1,(function(){try{ke(H),ke(z)}catch(Ne){O.error(Ne)}})())}catch(Ne){throw Ne}})(),ee()}},O=(0,l.default)(N).getInstance().getLogger(W),ee(),W}l3.__dashjs_factory_name="EventController";var lse=r.default.getSingletonFactory(l3),ff={LEVELS:{WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}},u3=n(445),c3=n(1923);function d3(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D,L,B,U,N,V,W,O,z,H,X,te,ie,se,fe,me,pe,_e,ee,Q,M,re,ye,ue,ke,xe,Oe,Ge,Ne,Z,le,ve,de,Y,ce,oe,Ae,Se,De,ze,Ue,tt,gt,kt,Mt,un;function St(){if(!(U&&U.hasOwnProperty("load")&&Q&&Q.hasOwnProperty("initialize")&&Q.hasOwnProperty("reset")&&Q.hasOwnProperty("getClientTimeOffset")&&N&&ee&&W&&de))throw new Error(p.default.MISSING_CONFIG_ERROR)}function Zt(){(function(){try{const rt=V.getStreamsInfo();if(!re&&rt.length===0)throw new Error("There are no periods in the MPD");re&&rt.length>0&&W.updateManifestUpdateInfo({currentTime:de.getTime(),buffered:ve.getBufferRange(),presentationStartTime:rt[0].start,clientTimeOffset:Q.getClientTimeOffset()}),M.length>0&&(function(bn){bn.length!==0?M=M.filter((kn=>{const er=bn.filter((ar=>ar.id===kn.getId())).length>0||kn.getId()===re.getId();return er||(k.debug(`Removing stream ${kn.getId()}`),kn.reset(!0),kn=null),er})):k.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")})(rt);const Ft=[];for(let bn=0,kn=rt.length;bn<kn;bn++){const er=rt[bn];Ft.push(tr(er)),W.addManifestUpdateStreamInfo(er)}Promise.all(Ft).then((()=>new Promise(((bn,kn)=>{re?bn():Jn(rt,bn,kn)})))).then((()=>{S.trigger(f.default.STREAMS_COMPOSED),Vn()})).catch((bn=>{throw bn}))}catch(rt){ee.error(new an.default(fn.MANIFEST_ERROR_ID_NOSTREAMS_CODE,rt.message+" nostreamscomposed",N.getValue())),Z=!0,Xa()}})()}function En(){gt=!0}function tr(rt){let Ft=hf(rt.id);return Ft?Ft.updateData(rt):(Ft=ase(x).create({manifestModel:N,mediaPlayerModel:ce,dashMetrics:W,manifestUpdater:B,adapter:V,timelineConverter:Q,capabilities:D,capabilitiesFilter:L,errHandler:ee,baseURLController:X,segmentBaseController:te,textController:ue,abrController:se,playbackController:de,throughputController:fe,eventController:pe,mediaController:me,protectionController:ye,videoModel:ve,streamInfo:rt,settings:tt}),M.push(Ft),Ft.initialize(),Promise.resolve())}function Jn(rt,Ft,bn){try{Ct();const kn=W.getCurrentDVRInfo().range;if(kn.end<kn.start)return void(function(ar,Kr,To,Bs){kt&&clearTimeout(kt);const mf=Math.min(1e3*(-1*(ar.end-ar.start)+2),2147483647);k.debug(`Waiting for ${mf} ms before playback can start`),S.trigger(f.default.AST_IN_FUTURE,{delay:mf}),kt=setTimeout((()=>{Jn(Kr,To,Bs)}),mf)})(kn,rt,Ft,bn);tt.get().streaming.applyProducerReferenceTime&&Y.calculateProducerReferenceTimeOffsets(rt);const er=rt[0].manifestInfo;if(tt.get().streaming.applyServiceDescription&&Y.applyServiceDescription(er),V.getIsDynamic()){const ar=Jr(0,er);de.computeAndSetLiveDelay(ar,er)}(tt.get().streaming.applyContentSteering&&H.shouldQueryBeforeStart()?H.loadSteeringData():Promise.resolve()).then((()=>{const ar=N.getValue();ar&&X.update(ar),Dn(),Ft()})).catch((ar=>{k.error(ar),Dn(),Ft()}))}catch(kn){bn(kn)}}function Dn(){const rt=(function(){let kn;return kn=V.getIsDynamic()?(function(){let er;const ar=W.getCurrentDVRInfo();er=(ar&&ar.range?ar.range.end:0)-de.getOriginalLiveDelay();const Kr=ar?ar.range:null;if(Kr){if(isNaN(Mt)&&Mt.toString().indexOf("posix:")===-1){const Bs=Xn(!0);isNaN(Bs)||(k.info(`Start time from URI parameters: ${Bs}`),er=Math.min(er,Bs))}else{k.info(`Start time provided by the app: ${Mt}`);const Bs=jn(!0,Mt);isNaN(Bs)||(er=Math.min(er,Bs))}const To=tt.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;er=Math.max(er,Kr.start+To)}return er})():(function(){let er=$c()[0].getStreamInfo().start;if(isNaN(Mt)){const ar=Xn(!1);isNaN(ar)||(k.info(`Start time from URI parameters: ${ar}`),er=Math.max(er,ar))}else{k.info(`Start time provided by the app: ${Mt}`);const ar=jn(!1,Mt);isNaN(ar)||(er=Math.max(er,ar))}return er})(),kn})();let Ft=ut(rt);const bn=Ft!==null?Ft:M[0];S.trigger(f.default.INITIAL_STREAM_SWITCH,{startTime:rt}),Gn(bn,null,rt),ze||(ze=setInterval((function(){!Ge&&de.getTimeToStreamEnd()<=0&&!de.isSeeking()&&S.trigger(f.default.PLAYBACK_ENDED,{isLast:Us().isLast})}),200))}function Gn(rt,Ft,bn){try{if(Ge||!rt||Ft===rt&&rt.getIsActive())return;Ge=!0,S.trigger(f.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:Ft?Ft.getStreamInfo():null,toStreamInfo:rt.getStreamInfo()});let kn=!1,er=[],ar=Pt(Ft);re=rt,Ft&&(kn=Qt(rt,Ft),er=xt(Ft),Ft.deactivate(kn)),bn=isNaN(bn)?!kn&&Ft?rt.getStreamInfo().start:NaN:bn,k.info(`Switch to stream ${rt.getId()}. Seektime is ${bn}, current playback time is ${de.getTime()}. Seamless period switch is set to ${kn}`),Ue=Ue.filter((Kr=>Kr.getId()!==re.getId())),de.initialize(Us(),!!Ft),ve.getElement()?et({seekTime:bn,keepBuffers:kn,sourceBufferSinksFromPreviousPeriod:ar,streamActivated:!1,representationsFromPreviousPeriod:er}):Rt({seekTime:bn,keepBuffers:kn,sourceBufferSinksFromPreviousPeriod:ar})}catch{Ge=!1}}function et(rt){let Ft;function bn(){if(!le||le.readyState!=="open")return;k.debug("MediaSource is open!"),window.URL.revokeObjectURL(Ft),le.removeEventListener("sourceopen",bn),le.removeEventListener("webkitsourceopen",bn),Cn();const er=W.getCurrentDVRInfo();O.setSeekable(er.range.start,er.range.end),rt.streamActivated?(isNaN(rt.seekTime)||de.seek(rt.seekTime,!0,!0),re.setMediaSource(le).then((()=>{re.initializeForTextWithMediaSource(le)}))):Rt(rt)}function kn(){le.addEventListener("sourceopen",bn,!1),le.addEventListener("webkitsourceopen",bn,!1),Ft=O.attachMediaSource(ve),k.debug("MediaSource attached to element.  Waiting on open...")}le?rt.keepBuffers?Rt(rt):(O.detachMediaSource(ve),kn()):(le=O.createMediaSource(),kn())}function Rt(rt){const Ft=rt.representationsFromPreviousPeriod||[];re.activate(le,rt.sourceBufferSinksFromPreviousPeriod,Ft).then((()=>{isNaN(rt.seekTime)||(S.trigger(f.default.SEEK_TARGET,{time:rt.seekTime},{streamId:re.getId()}),de.seek(rt.seekTime,!1,!0),re.startScheduleControllers()),Ge=!1,S.trigger(f.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:Us()})}))}function xt(rt){return(rt?rt.getStreamProcessors():[]).map((Ft=>Ft.getRepresentation()))}function Pt(rt){const Ft=new Map;return rt&&(rt?rt.getStreamProcessors():[]).forEach((bn=>{const kn=bn.getBuffer();kn&&Ft.set(kn.getType(),kn)})),Ft}function on(rt){const Ft=ut(rt.seekTime);Ft&&Ft!==re?Ft&&Ft!==re&&(pt(Ft),(function(bn,kn){const er=bn&&!isNaN(bn.seekTime)?bn.seekTime:NaN,ar=re.getStreamProcessors().map((Kr=>Kr.prepareOuterPeriodPlaybackSeeking(bn)));Promise.all(ar).then((()=>{Gn(kn,re,er)})).catch((Kr=>{ee.error(Kr)}))})(rt,Ft)):(pt(),(function(bn){re.getStreamProcessors().forEach((kn=>kn.prepareInnerPeriodPlaybackSeeking(bn))),Mu(ka.USER_REQUEST_STOP_REASON)})(rt)),Ns(Ou.SEEK_START_REASON)}function pt(rt=null){Ut()}function Ut(){Ue&&Ue.length>0&&(Ue.forEach((rt=>{rt.deactivate(!0)})),Ue=[])}function Lt(rt){if(rt.newMediaInfo.streamInfo.id===re.getId()){if(Ut(),tt.get().streaming.buffer.resetSourceBuffersForTrackSwitch&&rt.oldMediaInfo&&rt.oldMediaInfo.codec!==rt.newMediaInfo.codec){const Ft=de.getTime();return re.deactivate(!1),void et({seekTime:Ft,keepBuffers:!1,streamActivated:!1})}re.prepareTrackChange(rt)}}function Qt(rt,Ft){try{return tt.get().streaming.buffer.reuseExistingSourceBuffers&&(D.isProtectionCompatible(Ft.getStreamInfo(),rt.getStreamInfo())||gt)&&D.supportsChangeType()&&tt.get().streaming.buffer.useChangeType}catch{return!1}}function Xe(rt,Ft=null){if(!le||rt.getPreloaded()||!Qt(rt,Ft))return;const bn=xt(Ft),kn=Pt(Ft);rt.startPreloading(le,kn,bn).then((()=>{Ue.push(rt)}))}function ut(rt){if(isNaN(rt))return null;const Ft=M.length;for(let bn=0;bn<Ft;bn++){const kn=M[bn];if(rt<parseFloat((kn.getStartTime()+kn.getDuration()).toFixed(5)))return kn}return null}function Ct(){try{const rt=V.getIsDynamic(),Ft=V.getStreamsInfo()[0].manifestInfo,bn=de.getTime(),kn=Q.calcTimeShiftBufferWindow(M,rt),er=nn();if(kn.start===void 0||kn.end===void 0)return;er&&er.length!==0?er.forEach((ar=>{W.addDVRInfo(ar.getType(),bn,Ft,kn)})):W.addDVRInfo(p.default.VIDEO,bn,Ft,kn)}catch{}}function st(rt){if(Se&&Oe){const Ft=ce.getInitialBufferLevel(),bn=[p.default.TEXT];(isNaN(Ft)||Ft<=de.getBufferLevel(bn)||V.getIsDynamic()&&Ft>de.getLiveDelay())&&(Se=!1,Ns(Ou.INITIAL_PLAYOUT_START_REASON),de.play())}rt&&rt.mediaType&&W.addBufferLevel(rt.mediaType,new Date,1e3*rt.bufferLevel)}function Nt(rt){rt.streamInfo.id===re.getId()&&Ut(),hf(rt.streamInfo.id).prepareQualityChange(rt)}function jt(){if(V.getIsDynamic()&&de.getOriginalLiveDelay()!==0&&re){const rt=V.getStreamsInfo();if(rt.length>0){const Ft=rt[0].manifestInfo,bn=Jr(0,Ft);de.computeAndSetLiveDelay(bn,Ft)}}}function Fe(){if(Xo()){const rt=ve.getPlaybackQuality();rt&&W.addDroppedFrames(rt)}}function lt(){k.debug("[onPlaybackStarted]"),!Se&&Ae&&Ns(Ou.RESUME_FROM_PAUSE_START_REASON),Se&&(Se=!1),De&&(De=!1,tt.get().streaming.applyContentSteering&&!H.shouldQueryBeforeStart()&&H.loadSteeringData()),Ae=!1}function Ht(rt){k.debug("[onPlaybackPaused]"),rt.ended||(Ae=!0,Mu(ka.USER_REQUEST_STOP_REASON))}function Jt(rt){k.debug(`Stream with id ${rt.streamInfo.id} finished buffering`);const Ft=rt.streamInfo.isLast;le&&Ft?(k.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),O.signalEndOfStream(le)):Vn()}function Vn(){if(!re)return;if(!re.getHasFinishedBuffering())return void re.checkAndHandleCompletedBuffering();const rt=(function(bn=null){try{const kn=bn||re||null;if(kn){const er=kn.getStreamInfo();return M.filter((function(ar){const Kr=ar.getStreamInfo();return Kr.start>er.start&&er.id!==Kr.id}))}}catch{return[]}})(re);let Ft=0;for(;Ft<rt.length;){const bn=rt[Ft],kn=Ft===0?re:rt[Ft-1];!bn.getPreloaded()&&kn.getHasFinishedBuffering()&&Xe(bn,kn),Ft+=1}}function vt(){ze&&(clearInterval(ze),ze=null)}function nn(){return re?re.getStreamProcessors():[]}function Ln(rt){if(re&&!re.getIsEndedEventSignaled()){re.setIsEndedEventSignaled(!0);const Ft=(function(bn=null){const kn=bn||re||null;if(!kn)return null;const er=kn.getStreamInfo(),ar=er.start;let Kr=0,To=-1,Bs=NaN;for(;Kr<M.length;){const mf=M[Kr].getStreamInfo(),xw=mf.start-ar;xw>0&&(isNaN(Bs)||xw<Bs)&&er.id!==mf.id&&(Bs=xw,To=Kr),Kr+=1}return To>=0?M[To]:null})();Ft?(k.debug(`StreamController onEnded, found next stream with id ${Ft.getStreamInfo().id}. Switching from ${re.getStreamInfo().id} to ${Ft.getStreamInfo().id}`),Gn(Ft,re,NaN)):(k.debug("StreamController no next stream found"),re.setIsEndedEventSignaled(!1)),Mu(Ft?ka.END_OF_PERIOD_STOP_REASON:ka.END_OF_CONTENT_STOP_REASON)}rt&&rt.isLast&&(vt(),H.stopSteeringRequestTimer())}function Cn(rt){const Ft=rt||Us().manifestInfo.duration;O.setDuration(Ft)}function Xn(rt){const Ft=ie.getURIFragmentData();if(!Ft||!Ft.t)return NaN;const bn=$c()[0].getStreamInfo().start;return Ft.t=Ft.t.split(",")[0],Or(rt,Ft.t,bn)}function jn(rt,Ft){let bn=0;return rt||(bn=$c()[0].getStreamInfo().start),Or(rt,Ft,bn)}function Or(rt,Ft,bn){const kn=V.getRegularPeriods()[0],er=Ft.toString(),ar=er.indexOf("posix:")!==-1?er.substring(6)==="now"?Date.now()/1e3:parseFloat(er.substring(6)):NaN;return rt&&!isNaN(ar)?Q.calcPresentationTimeFromWallTime(new Date(1e3*ar),kn):parseFloat(er)+bn}function Jr(rt,Ft){try{let bn=NaN;return Ft&&!isNaN(Ft.maxFragmentDuration)&&isFinite(Ft.maxFragmentDuration)?Ft.maxFragmentDuration:isFinite(bn)?bn:NaN}catch{return NaN}}function vo(){const rt=N.getValue();X.initialize(rt)}function Eo(rt){if(rt.error)Z=!0,Xa();else{k.info("Manifest updated... updating data system wide.");const Ft=rt.manifest;V.updatePeriods(Ft),L.filterUnsupportedFeatures(Ft).then((()=>{X.initialize(Ft);let bn=V.getUTCTimingSources();!V.getIsDynamic()||bn&&bn.length!==0||S.trigger(m.default.CONFORMANCE_VIOLATION,{level:ff.LEVELS.WARNING,event:ff.EVENTS.NO_UTC_TIMING_ELEMENT});let kn=V.getIsDynamic()?bn.concat(oe.getUTCTimingSources()):bn;z.attemptSync(kn,V.getIsDynamic()),xe.createFinalQueryStrings(Ft)}))}}function Xo(){return!!re&&re.getHasVideoTrack()}function zc(){return!!re&&re.getHasAudioTrack()}function Mu(rt,Ft){Ft=Ft||new Date,nn().forEach((bn=>{bn.finalisePlayList(Ft,rt)})),W.addPlayList()}function Ns(rt){W.createPlaylistMetrics(1e3*de.getTime(),rt)}function Nu(rt){ye.updateKeyStatusesMap(rt),(function(){const Ft=nn();let bn=!1;Ft.forEach((kn=>{const er=kn.getMediaInfo();!er||D.areKeyIdsUsable(er)?er&&D.areKeyIdsExpired(er)&&(function(ar){const Kr=hf(ar.getStreamId());Kr&&Kr.triggerProtectionError({error:new an.default(c3.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,c3.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)})})(kn):(bn=!0,(function(ar){const Kr=ar.getAllMediaInfos().filter((To=>D.areKeyIdsUsable(To)));if(Kr&&Kr.length!==0)me.setTrack(Kr[0],{replaceBuffer:!0});else{const To=ar.getType();ee.error(new an.default(fn.NO_SUPPORTED_KEY_IDS,`Type: ${To}: ${fn.NO_SUPPORTED_KEY_IDS_MESSAGE}`))}})(kn))})),bn&&(de.getTime()===0?S.once(m.default.FRAGMENT_LOADING_COMPLETED,(()=>{Fs()}),R):de.isProgressing(500).then((kn=>{kn||Fs()})))})()}function Fs(){const rt=de.getTime();de.seek(rt+.01,!1,!1)}function _o(rt){if(!rt.error)return;let Ft;switch(rt.error.code){case 1:Ft="MEDIA_ERR_ABORTED";break;case 2:Ft="MEDIA_ERR_NETWORK";break;case 3:Ft="MEDIA_ERR_DECODE",un.counts.mediaErrorDecode+=1;break;case 4:Ft="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:Ft="MEDIA_ERR_ENCRYPTED";break;default:Ft="UNKNOWN"}Ft==="MEDIA_ERR_DECODE"&&tt.get().errors.recoverAttempts.mediaErrorDecode>=un.counts.mediaErrorDecode?(function(){k.error("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");const bn=de.getTime();re.deactivate(!1),k.info(`MediaSource has been resetted. Resuming playback from time ${bn}`),et({seekTime:bn,keepBuffers:!1,streamActivated:!1})})():(Ne=!0,rt.error.message&&(Ft+=" ("+rt.error.message+")"),rt.error.msExtendedCode&&(Ft+=" (0x"+(rt.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),k.fatal("Video Element Error: "+Ft),rt.error&&k.fatal(rt.error),ee.error(new an.default(rt.error.code,Ft)),Xa())}function Us(){return re?re.getStreamInfo():null}function hf(rt){for(let Ft=0,bn=M.length;Ft<bn;Ft++)if(M[Ft].getId()===rt)return M[Ft];return null}function Nb(rt){isNaN(rt.newDuration)||Cn(rt.newDuration)}function Fb(){M=[],Mt=NaN,ye=null,Ge=!1,re=null,Ne=!1,Z=!1,Se=!0,De=!0,Ae=!1,Oe=!0,ze=null,gt=!1,Ue=[],kt=null,un={counts:{mediaErrorDecode:0}}}function Xa(){St(),z.reset(),Mu(Ne||Z?ka.FAILURE_STOP_REASON:ka.USER_REQUEST_STOP_REASON);for(let rt=0,Ft=M?M.length:0;rt<Ft;rt++)M[rt].reset(Ne);S.off(m.default.PLAYBACK_TIME_UPDATED,Fe,R),S.off(m.default.PLAYBACK_SEEKING,on,R),S.off(m.default.PLAYBACK_ERROR,_o,R),S.off(m.default.PLAYBACK_STARTED,lt,R),S.off(m.default.PLAYBACK_PAUSED,Ht,R),S.off(m.default.PLAYBACK_ENDED,Ln,R),S.off(m.default.METRIC_ADDED,pf,R),S.off(m.default.MANIFEST_VALIDITY_CHANGED,Nb,R),S.off(m.default.BUFFER_LEVEL_UPDATED,st,R),S.off(m.default.QUALITY_CHANGE_REQUESTED,Nt,R),S.off(m.default.CONTENT_STEERING_REQUEST_COMPLETED,vo,R),f.default.KEY_SESSION_UPDATED&&S.off(f.default.KEY_SESSION_UPDATED,En,R),S.off(f.default.MANIFEST_UPDATED,Eo,R),S.off(f.default.STREAM_BUFFERING_COMPLETED,Jt,R),S.off(f.default.TIME_SYNCHRONIZATION_COMPLETED,Zt,R),S.off(f.default.CURRENT_TRACK_CHANGED,Lt,R),S.off(f.default.SETTING_UPDATED_LIVE_DELAY,jt,R),S.off(f.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,jt,R),S.off(u3.default.INTERNAL_KEY_STATUSES_CHANGED,Nu,R),X.reset(),B.reset(),pe.reset(),W.clearAllCurrentMetrics(),N.setValue(null),U.reset(),Q.reset(),_e.reset(),le&&(O.detachMediaSource(ve),le=null),ve=null,ye&&(ye=null,ke=null,N.getValue()&&S.trigger(f.default.PROTECTION_DESTROYED,{data:N.getValue().url})),vt(),S.trigger(f.default.STREAM_TEARDOWN_COMPLETE),Fb()}function pf(rt){if(rt.metric===o.DVR_INFO){const Ft=zc()?p.default.AUDIO:p.default.VIDEO;rt.mediaType===Ft&&O.setSeekable(rt.value.range.start,rt.value.range.end)}}function $c(){return M}return R={addDVRMetric:Ct,getActiveStream:function(){return re},getActiveStreamInfo:Us,getActiveStreamProcessors:nn,getAutoPlay:function(){return Oe},getHasMediaOrInitialisationError:function(){return Ne||Z},getInitialPlayback:function(){return Se},getIsStreamSwitchInProgress:function(){return Ge},getStreamById:hf,getStreamForTime:ut,getStreams:$c,getTimeRelativeToStreamId:function(rt,Ft){let bn=null,kn=0,er=0,ar=null;for(let Kr=0;Kr<M.length;Kr++){if(bn=M[Kr],er=bn.getStartTime(),ar=bn.getDuration(),Number.isFinite(er)&&(kn=er),bn.getId()===Ft)return rt-kn;Number.isFinite(ar)&&(kn+=ar)}return null},hasAudioTrack:zc,hasVideoTrack:Xo,initialize:function(rt,Ft){St(),Oe=rt,ke=Ft,Q.initialize(),B=gU(x).create(),B.setConfig({manifestModel:N,adapter:V,manifestLoader:U,errHandler:ee,settings:tt,contentSteeringController:H}),B.initialize(),pe=lse(x).getInstance(),pe.setConfig({manifestUpdater:B,playbackController:de,settings:tt}),pe.start(),xe=xF(x).getInstance(),z.setConfig({dashMetrics:W,baseURLController:X,errHandler:ee,settings:tt}),z.initialize(),O.setConfig({settings:tt}),ye&&(S.trigger(f.default.PROTECTION_CREATED,{controller:ye}),ye.setMediaElement(ve.getElement()),ke&&ye.setProtectionData(ke)),S.on(m.default.PLAYBACK_TIME_UPDATED,Fe,R),S.on(m.default.PLAYBACK_SEEKING,on,R),S.on(m.default.PLAYBACK_ERROR,_o,R),S.on(m.default.PLAYBACK_STARTED,lt,R),S.on(m.default.PLAYBACK_PAUSED,Ht,R),S.on(m.default.PLAYBACK_ENDED,Ln,R),S.on(m.default.METRIC_ADDED,pf,R),S.on(m.default.MANIFEST_VALIDITY_CHANGED,Nb,R),S.on(m.default.BUFFER_LEVEL_UPDATED,st,R),S.on(m.default.QUALITY_CHANGE_REQUESTED,Nt,R),S.on(m.default.CONTENT_STEERING_REQUEST_COMPLETED,vo,R),f.default.KEY_SESSION_UPDATED&&S.on(f.default.KEY_SESSION_UPDATED,En,R),S.on(f.default.MANIFEST_UPDATED,Eo,R),S.on(f.default.STREAM_BUFFERING_COMPLETED,Jt,R),S.on(f.default.TIME_SYNCHRONIZATION_COMPLETED,Zt,R),S.on(f.default.CURRENT_TRACK_CHANGED,Lt,R),S.on(f.default.SETTING_UPDATED_LIVE_DELAY,jt,R),S.on(f.default.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,jt,R),S.on(u3.default.INTERNAL_KEY_STATUSES_CHANGED,Nu,R)},load:function(rt,Ft=NaN){St(),Mt=Ft,U.load(rt)},loadWithManifest:function(rt,Ft=NaN){(function(){if(!B||!B.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")})(),Mt=Ft,B.setManifest(rt)},refreshManifest:function(){B.getIsUpdating()||B.refreshManifest()},reset:Xa,setConfig:function(rt){rt&&(rt.capabilities&&(D=rt.capabilities),rt.capabilitiesFilter&&(L=rt.capabilitiesFilter),rt.manifestLoader&&(U=rt.manifestLoader),rt.manifestModel&&(N=rt.manifestModel),rt.mediaPlayerModel&&(ce=rt.mediaPlayerModel),rt.customParametersModel&&(oe=rt.customParametersModel),rt.protectionController&&(ye=rt.protectionController),rt.adapter&&(V=rt.adapter),rt.dashMetrics&&(W=rt.dashMetrics),rt.errHandler&&(ee=rt.errHandler),rt.timelineConverter&&(Q=rt.timelineConverter),rt.videoModel&&(ve=rt.videoModel),rt.playbackController&&(de=rt.playbackController),rt.throughputController&&(fe=rt.throughputController),rt.serviceDescriptionController&&(Y=rt.serviceDescriptionController),rt.contentSteeringController&&(H=rt.contentSteeringController),rt.textController&&(ue=rt.textController),rt.abrController&&(se=rt.abrController),rt.mediaController&&(me=rt.mediaController),rt.settings&&(tt=rt.settings),rt.baseURLController&&(X=rt.baseURLController),rt.uriFragmentModel&&(ie=rt.uriFragmentModel),rt.segmentBaseController&&(te=rt.segmentBaseController),rt.manifestUpdater&&(B=rt.manifestUpdater))},setProtectionData:function(rt){ke=rt,ye&&ye.setProtectionData(ke)},switchToVideoElement:function(rt){re&&(de.initialize(Us()),et({seekTime:rt,keepBuffers:!1,streamActivated:!0}))}},k=(0,l.default)(x).getInstance().getLogger(R),z=sse(x).getInstance(),O=ose(x).getInstance(),_e=bw(x).getInstance(),Fb(),R}d3.__dashjs_factory_name="StreamController";var f3=r.default.getSingletonFactory(d3),use=class extends xb{constructor(){super(),this.captionData=null,this.label=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1,this.isTTML=null}},cse=n(7377);function h3(){let x,S=0;function R(N){let V="";for(let W=0;W<N.length;++W)V+=N[W].uchar;return V.length-V.replace(/^\s+/,"").length}function k(N){return"left: "+3.125*N.x+"%; top: "+6.66*N.y1+"%; width: "+(100-3.125*N.x)+"%; height: "+6.66*Math.max(N.y2-1-N.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function D(N){return N==="red"?"rgb(255, 0, 0)":N==="green"?"rgb(0, 255, 0)":N==="blue"?"rgb(0, 0, 255)":N==="cyan"?"rgb(0, 255, 255)":N==="magenta"?"rgb(255, 0, 255)":N==="yellow"?"rgb(255, 255, 0)":N==="white"?"rgb(255, 255, 255)":N==="black"?"rgb(0, 0, 0)":N}function L(N,V){const W=N.videoHeight/15;return V?"font-size: "+W+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(V.foreground?D(V.foreground):"rgb(255, 255, 255)")+"; font-style: "+(V.italics?"italic":"normal")+"; text-decoration: "+(V.underline?"underline":"none")+"; white-space: pre; background-color: "+(V.background?D(V.background):"transparent")+";":"font-size: "+W+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function B(N){return N.replace(/^\s+/g,"")}function U(N){return N.replace(/\s+$/g,"")}return x={createHTMLCaptionsFromScreen:function(N,V,W,O){let z=null,H=null,X=!1,te=-1,ie={start:V,end:W,spans:[]},se="style_cea608_white_black";const fe={},me={},pe=[];let _e,ee;for(_e=0;_e<15;++_e){const M=O.rows[_e];let re="",ye=null;if(M.isEmpty()===!1){const ue=R(M.chars);z===null&&(z={x:ue,y1:_e,y2:_e+1,p:[]}),ue!==te&&X&&(z.p.push(ie),ie={start:V,end:W,spans:[]},z.y2=_e,z.name="region_"+z.x+"_"+z.y1+"_"+z.y2,fe.hasOwnProperty(z.name)===!1?(pe.push(z),fe[z.name]=z):(H=fe[z.name],H.p.contat(z.p)),z={x:ue,y1:_e,y2:_e+1,p:[]});for(let ke=0;ke<M.chars.length;++ke){const xe=M.chars[ke],Oe=xe.penState;if(ye===null||!Oe.equals(ye)){re.trim().length>0&&(ie.spans.push({name:se,line:re,row:_e}),re="");let Ge="style_cea608_"+Oe.foreground+"_"+Oe.background;Oe.underline&&(Ge+="_underline"),Oe.italics&&(Ge+="_italics"),me.hasOwnProperty(Ge)||(me[Ge]=JSON.parse(JSON.stringify(Oe))),ye=Oe,se=Ge}re+=xe.uchar}re.trim().length>0&&ie.spans.push({name:se,line:re,row:_e}),X=!0,te=ue}else X=!1,te=-1,z&&(z.p.push(ie),ie={start:V,end:W,spans:[]},z.y2=_e,z.name="region_"+z.x+"_"+z.y1+"_"+z.y2,fe.hasOwnProperty(z.name)===!1?(pe.push(z),fe[z.name]=z):(H=fe[z.name],H.p.contat(z.p)),z=null)}z&&(z.p.push(ie),z.y2=_e+1,z.name="region_"+z.x+"_"+z.y1+"_"+z.y2,fe.hasOwnProperty(z.name)===!1?(pe.push(z),fe[z.name]=z):(H=fe[z.name],H.p.contat(z.p)),z=null);const Q=[];for(_e=0;_e<pe.length;++_e){const M=pe[_e],re="sub_cea608_"+S++,ye=document.createElement("div");ye.id=re;const ue=k(M);ye.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ue;const ke=document.createElement("div");ke.className="paragraph bodyStyle",ke.style.cssText=L(N);const xe=document.createElement("div");xe.className="cueUniWrapper",xe.style.cssText="unicode-bidi: normal; direction: ltr;";for(let Ge=0;Ge<M.p.length;++Ge){const Ne=M.p[Ge];let Z=0;for(ee=0;ee<Ne.spans.length;++ee){let le=Ne.spans[ee];if(le.line.length>0){if(ee!==0&&Z!=le.row){const ce=document.createElement("br");ce.className="lineBreak",xe.appendChild(ce)}let ve=!1;Z===le.row&&(ve=!0),Z=le.row;const de=me[le.name],Y=document.createElement("span");Y.className="spanPadding "+le.name+" customSpanColor",Y.style.cssText=L(N,de),ee!==0&&ve?ee===Ne.spans.length-1?Y.textContent=U(le.line):Y.textContent=le.line:Ne.spans.length>1&&ee<Ne.spans.length-1&&le.row===Ne.spans[ee+1].row?Y.textContent=B(le.line):Y.textContent=le.line.trim(),xe.appendChild(Y)}}}ke.appendChild(xe),ye.appendChild(ke);const Oe={bodyStyle:["%",90]};for(const Ge in me)me.hasOwnProperty(Ge)&&(Oe[Ge]=["%",90]);Q.push({type:"html",start:V,end:W,cueHTMLElement:ye,cueID:re,cellResolution:[32,15],isFromCEA608:!0,fontSize:Oe,lineHeight:{},linePadding:{}})}return Q}},x}h3.__dashjs_factory_name="EmbeddedTextHtmlRender";var dse=r.default.getSingletonFactory(h3);class Pb{constructor(){this.time=null,this.verboseLevel=0}log(S,R){if(this.verboseLevel>=S){const k=typeof R=="function"?R():R;console.log(`${this.time} [${S}] ${k}`)}}}class p3{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(S){const R=["foreground","underline","italics","background","flash"];for(let k=0;k<R.length;k++){const D=R[k];Object.prototype.hasOwnProperty.call(S,D)&&(this[D]=S[D])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(S){return this.foreground===S.foreground&&this.underline===S.underline&&this.italics===S.italics&&this.background===S.background&&this.flash===S.flash}copy(S){this.foreground=S.foreground,this.underline=S.underline,this.italics=S.italics,this.background=S.background,this.flash=S.flash}}class fse{constructor(){this.uchar=" ",this.penState=new p3}reset(){this.uchar=" ",this.penState.reset()}setChar(S,R){this.uchar=S,this.penState.copy(R)}setPenState(S){this.penState.copy(S)}equals(S){return this.uchar===S.uchar&&this.penState.equals(S.penState)}copy(S){this.uchar=S.uchar,this.penState.copy(S.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}const Kl=100,hse={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499};function m3(x){return String.fromCharCode(hse[x]||x)}class pse{constructor(S=new Pb){this.chars=[],this.cueStartTime=null,this.pos=0,this.currPenState=new p3;for(let R=0;R<Kl;R++)this.chars.push(new fse);this.logger=S}equals(S){for(let R=0;R<Kl;R++)if(!this.chars[R].equals(S.chars[R]))return!1;return!0}copy(S){for(let R=0;R<Kl;R++)this.chars[R].copy(S.chars[R])}isEmpty(){let S=!0;for(let R=0;R<Kl;R++)if(!this.chars[R].isEmpty()){S=!1;break}return S}setCursor(S){this.pos!==S&&(this.pos=S),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Kl&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Kl)}moveCursor(S){const R=this.pos+S;if(S>1)for(let k=this.pos+1;k<R+1;k++)this.chars[k].setPenState(this.currPenState);this.setCursor(R)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(S){S>=144&&this.backSpace();const R=m3(S);this.pos>=Kl?this.logger.log(0,(()=>"Cannot insert "+S.toString(16)+" ("+R+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(R,this.currPenState),this.moveCursor(1))}clearFromPos(S){let R;for(R=S;R<Kl;R++)this.chars[R].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const S=[];let R=!0;for(let k=0;k<Kl;k++){const D=this.chars[k].uchar;D!==" "&&(R=!1),S.push(D)}return R?"":S.join("")}setPenStyles(S){this.currPenState.setStyles(S),this.chars[this.pos].setPenState(this.currPenState)}}const Uc=15;class ww{constructor(S=new Pb){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null;for(let R=0;R<Uc;R++)this.rows.push(new pse(S));this.logger=S}reset(){for(let S=0;S<Uc;S++)this.rows[S].clear();this.currRow=14}equals(S){let R=!0;for(let k=0;k<Uc;k++)if(!this.rows[k].equals(S.rows[k])){R=!1;break}return R}copy(S){for(let R=0;R<Uc;R++)this.rows[R].copy(S.rows[R])}isEmpty(){let S=!0;for(let R=0;R<Uc;R++)if(!this.rows[R].isEmpty()){S=!1;break}return S}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(S){this.rows[this.currRow].insertChar(S)}setPen(S){this.rows[this.currRow].setPenStyles(S)}moveCursor(S){this.rows[this.currRow].moveCursor(S)}setCursor(S){this.logger.log(2,"setCursor: "+S),this.rows[this.currRow].setCursor(S)}setPAC(S){this.logger.log(2,(()=>"pacData = "+JSON.stringify(S)));let R=S.row-1;if(this.nrRollUpRows&&R<this.nrRollUpRows-1&&(R=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==R){for(let U=0;U<Uc;U++)this.rows[U].clear();const L=this.currRow+1-this.nrRollUpRows,B=this.lastOutputScreen;if(B){const U=B.rows[L].cueStartTime,N=this.logger.time;if(U!==null&&N!==null&&U<N)for(let V=0;V<this.nrRollUpRows;V++)this.rows[R-this.nrRollUpRows+V+1].copy(B.rows[L+V])}}this.currRow=R;const k=this.rows[this.currRow];if(S.indent!==null){const L=S.indent,B=Math.max(L-1,0);k.setCursor(S.indent),S.color=k.chars[B].penState.foreground}const D={foreground:S.color,underline:S.underline,italics:S.italics,background:"black",flash:!1};this.setPen(D)}setBkgData(S){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(S))),this.backSpace(),this.setPen(S),this.insertChar(32)}setRollUpRows(S){this.nrRollUpRows=S}rollUp(){if(this.nrRollUpRows===null)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const S=this.currRow+1-this.nrRollUpRows,R=this.rows.splice(S,1)[0];R.clear(),this.rows.splice(this.currRow,0,R),this.logger.log(2,"Rolling up")}getDisplayText(S){S=S||!1;const R=[];let k="",D=-1;for(let L=0;L<Uc;L++){const B=this.rows[L].getTextString();B&&(D=L+1,S?R.push("Row "+D+": '"+B+"'"):R.push(B.trim()))}return R.length>0&&(k=S?"["+R.join(" | ")+"]":R.join(`
`)),k}getTextAndFormat(){return this.rows}}class g3{constructor(S,R,k=new Pb){this.chNr=S,this.outputFilter=R,this.mode=null,this.displayedMemory=new ww(k),this.nonDisplayedMemory=new ww(k),this.lastOutputScreen=new ww(k),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=k,this.logger.log(2,"new Cea608Channel("+this.chNr+")")}reset(){var S,R;this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),(R=(S=this.outputFilter)===null||S===void 0?void 0:S.reset)===null||R===void 0||R.call(S),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(S){this.outputFilter=S}setPAC(S){this.writeScreen.setPAC(S)}setBkgData(S){this.writeScreen.setBkgData(S)}setMode(S){S!==this.mode&&(this.mode=S,this.logger.log(2,(()=>"MODE="+S)),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.setRollUpRows(null),this.nonDisplayedMemory.setRollUpRows(null)),this.mode=S)}insertChars(S){for(let k=0;k<S.length;k++)this.writeScreen.insertChar(S[k]);const R=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>R+": "+this.writeScreen.getDisplayText(!0))),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(S){this.logger.log(2,"RU("+S+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(S)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const S=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=S,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(S){this.logger.log(2,"TO("+S+") - Tab Offset"),this.writeScreen.moveCursor(S)}ccMIDROW(S){const R={flash:!1};if(R.underline=S%2==1,R.italics=S>=46,R.italics)R.foreground="white";else{const k=Math.floor(S/2)-16,D=["white","green","blue","cyan","red","yellow","magenta"];R.foreground=D[k]}this.logger.log(2,"MIDROW: "+JSON.stringify(R)),this.writeScreen.setPen(R)}outputDataUpdate(S=!1){const R=this.logger.time;R!==null&&this.outputFilter&&(this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,R,this.lastOutputScreen),S&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:R):this.cueStartTime=R,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(S){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,S,this.displayedMemory),this.cueStartTime=S))}}const mse=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];function gse(x,S,R){return R.a===x&&R.b===S}function Bc(x){const S=[];for(let R=0;R<x.length;R++)S.push(x[R].toString(16));return S}const yse={17:2,18:4,21:6,22:8,23:10,19:13,20:15},bse={25:2,26:4,29:6,30:8,31:10,27:13,28:15},vse={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ese={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14};function Ob(x,S,R){R.a=x,R.b=S}class y3{constructor(S,R,k){this.currentChannel=0,this.cmdHistory={a:null,b:null},this.lastTime=null;const D=this.logger=new Pb;this.channels=[null,new g3(S,R,D),new g3(S+1,k,D)]}addData(S,R){this.lastTime=S,this.logger.time=S;for(let k=0;k<R.length;k+=2){const D=127&R[k],L=127&R[k+1];let B=!1,U=null;if(this.lastTime!==null&&(S=this.lastTime+.5*k*1001/3e4,this.logger.time=S),D===0&&L===0)continue;this.logger.log(3,(()=>"["+Bc([R[k],R[k+1]])+"] -> ("+Bc([D,L])+")"));const N=this.cmdHistory;if(D>=16&&D<=31){if(gse(D,L,N)){Ob(null,null,N),this.logger.log(3,(()=>"Repeated command ("+Bc([D,L])+") is dropped"));continue}Ob(D,L,this.cmdHistory),B=this.parseCmd(D,L),B||(B=this.parseMidrow(D,L)),B||(B=this.parsePAC(D,L)),B||(B=this.parseBackgroundAttributes(D,L))}else Ob(null,null,N);if(!B&&(U=this.parseChars(D,L),U.length)){const V=this.currentChannel;V&&V>0?this.channels[V].insertChars(U):this.logger.log(2,"No channel found yet. TEXT-MODE?")}B||U||this.logger.log(2,(()=>"Couldn't parse cleaned data "+Bc([D,L])+" orig: "+Bc([R[k],R[k+1]])))}}parseCmd(S,R){if(!((S===20||S===28||S===21||S===29)&&R>=32&&R<=47||(S===23||S===31)&&R>=33&&R<=35))return!1;const k=S===20||S===21||S===23?1:2,D=this.channels[k];return S===20||S===21||S===28||S===29?R===32?D.ccRCL():R===33?D.ccBS():R===34?D.ccAOF():R===35?D.ccAON():R===36?D.ccDER():R===37?D.ccRU(2):R===38?D.ccRU(3):R===39?D.ccRU(4):R===40?D.ccFON():R===41?D.ccRDC():R===42?D.ccTR():R===43?D.ccRTD():R===44?D.ccEDM():R===45?D.ccCR():R===46?D.ccENM():R===47&&D.ccEOC():D.ccTO(R-32),this.currentChannel=k,!0}parseMidrow(S,R){let k=0;if((S===17||S===25)&&R>=32&&R<=47){if(k=S===17?1:2,k!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const D=this.channels[k];return!!D&&(D.ccMIDROW(R),this.logger.log(3,(()=>"MIDROW ("+Bc([S,R])+")")),!0)}return!1}parsePAC(S,R){let k;if(!((S>=17&&S<=23||S>=25&&S<=31)&&R>=64&&R<=127||(S===16||S===24)&&R>=64&&R<=95))return!1;const D=S<=23?1:2;k=R>=64&&R<=95?D===1?vse[S]:Ese[S]:D===1?yse[S]:bse[S];const L=this.channels[D];return!!L&&(L.setPAC(this.interpretPAC(k,R)),this.currentChannel=D,!0)}interpretPAC(S,R){let k;const D={color:null,italics:!1,indent:null,underline:!1,row:S};return k=R>95?R-96:R-64,D.underline=!(1&~k),k<=13?D.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(k/2)]:k<=15?(D.italics=!0,D.color="white"):D.indent=4*Math.floor((k-16)/2),D}parseChars(S,R){let k,D=[],L=null;if(S>=25?(k=2,L=S-8):(k=1,L=S),L>=17&&L<=19){let B;B=L===17?R+80:L===18?R+112:R+144,this.logger.log(2,(()=>"Special char '"+m3(B)+"' in channel "+k)),D=[B]}else S>=32&&S<=127&&(D=R===0?[S]:[S,R]);return D&&this.logger.log(3,(()=>"Char codes =  "+Bc(D).join(","))),D}parseBackgroundAttributes(S,R){if(!((S===16||S===24)&&R>=32&&R<=47||(S===23||S===31)&&R>=45&&R<=47))return!1;let k;const D={};S===16||S===24?(k=Math.floor((R-32)/2),D.background=mse[k],R%2==1&&(D.background=D.background+"_semi")):R===45?D.background="transparent":(D.foreground="black",R===47&&(D.underline=!0));const L=S<=23?1:2;return this.channels[L].setBkgData(D),!0}reset(){for(let S=0;S<Object.keys(this.channels).length;S++){const R=this.channels[S];R&&R.reset()}Ob(null,null,this.cmdHistory)}cueSplitAtTime(S){for(let R=0;R<this.channels.length;R++){const k=this.channels[R];k&&k.cueSplitAtTime(S)}}}function _se(x,S,R){const k=[];for(let D=S;D<R;D++)D+2<R&&x.getUint8(D)===0&&x.getUint8(D+1)===0&&x.getUint8(D+2)===3?(k.push(0),k.push(0),D+=2):k.push(x.getUint8(D));return new DataView(new Uint8Array(k).buffer)}function Tse(x,S,R,k){return!(x!==4||S<8)&&R.getUint8(k)===181&&R.getUint16(k+1)===49&&R.getUint32(k+3)===1195456820&&R.getUint8(k+7)===3}function Sse(x,S){return(127&x)>0||(127&S)>0}function wse(x,S){let R=0;for(;R<x.byteLength;){let D,L=0,B=0;do L+=D=x.getUint8(R++);while(D===255);do B+=D=x.getUint8(R++);while(D===255);if(Tse(L,B,x,R)){const U=R+10,N=U+3*(31&x.getUint8(U-2));for(let V=U;V<N;V+=3){const W=x.getUint8(V);if(4&W){const O=3&W;if((k=O)===0||k===1){const z=x.getUint8(V+1),H=x.getUint8(V+2);Sse(z,H)&&S[O].push(z,H)}}}}R+=B}var k}function Ase(x,S,R){let k=0,D=0;const L=[[],[]];for(let B=S;B<S+R-5&&(k=x.getUint32(B),D=31&x.getUint8(B+4),!(B+5+k>S+R));B++)D===6&&B+5+k<=x.byteLength&&wse(_se(x,B+5,B+5+k),L),B+=k+3;return L}function b3(x){const S=x.errHandler,R=x.manifestModel,k=x.mediaController,D=x.videoModel,L=x.textTracks,B=x.vttParser,U=x.vttCustomRenderingParser,N=x.ttmlParser,V=x.streamInfo,W=x.settings,O=this.context,z=(0,h.default)(O).getInstance();let H,X,te,ie,se,fe,me,pe,_e,ee,Q,M,re,ye,ue,ke,xe,Oe=!1;function Ge(){fe=null,pe=NaN,_e=[],ee=null,me=!1,se=[],ie=null}function Ne(Se){const De={};De[Re.default.SUBTITLE]="subtitles",De[Re.default.CAPTION]="captions",De[Re.default.FORCED_SUBTITLE]="subtitles";const ze=new use;for(let Ue in Se)ze[Ue]=Se[Ue];ze.defaultTrack=(function(Ue){let tt=!1;return M.length>1&&Ue.isEmbedded?tt=Ue.id&&Ue.id===p.default.CC1:M.length===1?Ue.id&&typeof Ue.id=="string"&&Ue.id.substring(0,2)==="CC"&&(tt=!0):M.length===0&&(tt=Ue.index===se[0].index),tt})(Se),ze.isTTML=(function(Ue){return Ue.codec&&Ue.codec.search(p.default.STPP)>=0||Ue.mimeType&&Ue.mimeType.search(p.default.TTML)>=0})(Se),ze.kind=(function(Ue,tt){let gt=Ue.roles&&Ue.roles.length>0?tt[Ue.roles[0].value]:tt.caption;return gt=Object.values(tt).includes(gt)?gt:tt.caption,gt})(Se,De),L.addTextTrackInfo(ze)}function Z(Se){const De=Se.chunk;De.representation.mediaInfo.embeddedCaptions&&ve(De.bytes,De)}function le(Se){Q=Se}function ve(Se,De){const ze=De.representation.mediaInfo,Ue=ze.type,tt=ze.mimeType,gt=ze.codec||tt;gt?ze.codec.indexOf("application/mp4")!==-1?(function(kt,Mt,un){let St,Zt;if(Mt.segmentType==="InitializationSegment")me=!0,pe=te.getMediaTimescaleFromMoov(kt);else{if(!me)return;Zt=te.getSamplesInfo(kt),St=Zt.sampleList,St.length>0&&(ee=St[0].cts-Mt.start*pe),un.search(p.default.STPP)>=0?(function(En,tr,Jn){let Dn,Gn;for(ie=ie!==null?ie:ce(Jn),Dn=0;Dn<tr.length;Dn++){const et=tr[Dn],Rt=et.cts,xt=Y(),Pt=xt+Rt/pe,on=Pt+et.duration/pe;H.buffered.add(Pt,on);const pt=new DataView(En,et.offset,et.subSizes[0]);let Ut=Qp.Utils.dataViewToString(pt,p.default.UTF8);const Lt=[];let Qt=et.offset+et.subSizes[0];for(Gn=1;Gn<et.subSizes.length;Gn++){const Xe=new Uint8Array(En,Qt,et.subSizes[Gn]),ut=String.fromCharCode.apply(null,Xe);Lt.push(ut),Qt+=et.subSizes[Gn]}try{const Xe=R.getValue().ttmlTimeIsRelative?Rt/pe:0,ut=ie.parse(Ut,Xe,Rt/pe,(Rt+et.duration)/pe,Lt);L.addCaptions(Q,xt,ut)}catch(Xe){fe.removeExecutedRequestsBeforeTime(),oe(),X.error("TTML parser error: "+Xe)}}})(kt,St,un):(function(En,tr){let Jn,Dn,Gn;const et=[];for(Jn=0;Jn<tr.length;Jn++){const Rt=tr[Jn];Rt.cts-=ee;const xt=Y()+Rt.cts/pe,Pt=xt+Rt.duration/pe;H.buffered.add(xt,Pt);const on=En.slice(Rt.offset,Rt.offset+Rt.size),pt=Qp.parseBuffer(on);for(Dn=0;Dn<pt.boxes.length;Dn++){const Ut=pt.boxes[Dn];if(X.debug("VTT box1: "+Ut.type),Ut.type!=="vtte"&&Ut.type==="vttc"){X.debug("VTT vttc boxes.length = "+Ut.boxes.length);let Lt={styles:{}};for(Gn=0;Gn<Ut.boxes.length;Gn++){const Qt=Ut.boxes[Gn];if(X.debug("VTT box2: "+Qt.type),Qt.type==="payl")Lt.start=Rt.cts/pe,Lt.end=(Rt.cts+Rt.duration)/pe,Lt.data=Qt.cue_text;else if(Qt.type==="sttg"&&Qt.settings&&Qt.settings!=="")try{const Xe=Qt.settings.split(" ");Lt.styles=B.getCaptionStyles(Xe)}catch{}}Lt&&Lt.data&&(et.push(Lt),X.debug(`VTT  ${Lt.start} - ${Lt.end} :  ${Lt.data}`))}}}et.length>0&&L.addCaptions(Q,0,et)})(kt,St)}})(Se,De,gt):Ue===p.default.VIDEO?(function(kt,Mt){let un,St;if(Mt.segmentType===w.HTTPRequest.INIT_SEGMENT_TYPE)re===0&&(re=te.getMediaTimescaleFromMoov(kt));else if(Mt.segmentType===w.HTTPRequest.MEDIA_SEGMENT_TYPE){if(re===0)return void X.warn("CEA-608: No timescale for embeddedTextTrack yet");St=te.getSamplesInfo(kt);const Zt=St.lastSequenceNumber,En=Math.trunc(Mt.start),tr=Math.trunc(Mt.end);if(ke[0]||ke[1]||(function(){let Jn;for(let Dn=0;Dn<M.length;Dn++){if(Jn=L.getTrackIdxForId(M[Dn].id),Jn===-1)return void X.warn("CEA-608: data before track is ready.");const Gn=de(Jn);ke[Dn]=new y3(Dn+1,{newCue:Gn},null)}})(),re){if((function(Dn,Gn,et,Rt,xt){return Dn!==null&&Gn!==null&&Rt!==null&&xt!==null&&(Gn===Dn?Rt!==xt:Gn!==Dn+et)})(ye,Zt,St.numSequences,ue,En))for(un=0;un<ke.length;un++)ke[un]&&ke[un].reset();const Jn=(function(Dn,Gn){if(Gn.length===0)return null;const et={splits:[],fields:[[],[]]},Rt=new DataView(Dn);for(let xt=0;xt<Gn.length;xt++){const Pt=Gn[xt],on=Ase(Rt,Pt.offset,Pt.size);let pt=null,Ut=0;for(let Lt=0;Lt<2;Lt++)if(on[Lt].length>0){Pt.cts!==pt?Ut=0:Ut+=1;const Qt=Y();et.fields[Lt].push([Pt.cts+Qt*re,on[Lt],Ut]),pt=Pt.cts}}return et.fields.forEach((function(xt){xt.sort((function(Pt,on){return Pt[0]===on[0]?Pt[2]-on[2]:Pt[0]-on[0]}))})),et})(kt,St.sampleList);for(let Dn=0;Dn<ke.length;Dn++){const Gn=Jn.fields[Dn],et=ke[Dn];if(et)for(un=0;un<Gn.length;un++)et.addData(Gn[un][0]/re,Gn[un][1])}ye=Zt,ue=tr}}})(Se,De):(function(kt,Mt,un){let St,Zt;const En=new DataView(kt,0,kt.byteLength);Zt=Qp.Utils.dataViewToString(En,p.default.UTF8);try{St=ce(un).parse(Zt,0),L.addCaptions(L.getCurrentTrackIdx(),0,St),H.buffered&&H.buffered.add(Mt.start,Mt.end)}catch(tr){S.error(new an.default(fn.TIMED_TEXT_ERROR_ID_PARSE_CODE,fn.TIMED_TEXT_ERROR_MESSAGE_PARSE+tr.message,Zt))}})(Se,De,gt):X.error("No text type defined")}function de(Se){return function(De,ze,Ue){let tt;tt=D.getTTMLRenderingDiv()?xe.createHTMLCaptionsFromScreen(D.getElement(),De,ze,Ue):[{start:De,end:ze,data:Ue.getDisplayText(),styles:{}}],tt&&L.addCaptions(Se,0,tt)}}function Y(){return isNaN(H.timestampOffset)?0:H.timestampOffset}function ce(Se){let De;return Se.search(p.default.VTT)>=0?De=W.get().streaming.text.webvtt.customRenderingEnabled&&U?U:B:(Se.search(p.default.TTML)>=0||Se.search(p.default.STPP)>=0)&&(De=N),De}function oe(Se,De){Se===void 0&&Se===De&&(Se=H.buffered.start(0),De=H.buffered.end(H.buffered.length-1)),H.buffered.remove(Se,De),L.deleteCuesFromTrackIdx(Q,Se,De)}function Ae(Se){M.forEach((function(De){const ze=L.getTrackIdxForId(De.id);ze>=0&&L.deleteCuesFromTrackIdx(ze,Se.from,Se.to)}))}return H={initialize:function(){Oe||(M=[],Q=null,re=0,ke=[],ye=null,ue=null,Oe=!0,xe=dse(O).getInstance(),z.on(f.default.VIDEO_CHUNK_RECEIVED,Z,H),z.on(f.default.BUFFER_CLEARED,Ae,H))},addMediaInfos:function(Se,De,ze){if(se=se.concat(De),Se===p.default.TEXT&&De[0].isFragmented&&!De[0].isEmbedded){fe=ze,H.buffered=(0,cse.default)(O).create(),_e=k.getTracksFor(p.default.TEXT,V.id).filter((tt=>tt.isFragmented));const Ue=k.getCurrentTrackFor(p.default.TEXT,V.id);for(let tt=0;tt<_e.length;tt++)if(_e[tt]===Ue){le(tt);break}}for(let Ue=0;Ue<De.length;Ue++)Ne(De[Ue])},resetMediaInfos:function(){se=[]},getStreamId:function(){return V.id},append:ve,abort:function(){},addEmbeddedTrack:function(Se){if(Oe&&Se)if(Se.id===p.default.CC1||Se.id===p.default.CC3){for(let De=0;De<M.length;De++)if(M[De].id===Se.id)return;M.push(Se)}else X.warn("Embedded track "+Se.id+" not supported!")},resetEmbedded:function(){z.off(f.default.VIDEO_CHUNK_RECEIVED,Z,H),z.off(f.default.BUFFER_CLEARED,Ae,H),L&&L.deleteAllTextTracks(),Oe=!1,M=[],ke=[null,null],ye=null,ue=null},getConfig:function(){return{fragmentModel:fe,fragmentedTracks:_e,videoModel:D}},setCurrentFragmentedTrackIdx:le,remove:oe,reset:function(){Ge(),se=[],te=null}},X=(0,l.default)(O).getInstance().getLogger(H),te=Ib(O).getInstance(),Ge(),H}b3.__dashjs_factory_name="TextSourceBuffer";var Ise=r.default.getClassFactory(b3);class xse{constructor(){this.root=null,this.size=0}addCue(S){const R={start:S.startTime,end:S.endTime,cue:S,maxEnd:S.endTime,left:null,right:null,height:1},[k,D]=this._insert(R,this.root);this.root=k,D&&this.size++}removeCue(S){const[R,k]=this._remove(S,this.root);return this.root=R,k&&this.size--,k}findCuesInRange(S,R){const k=[];return this._searchRange(this.root,S,R,k),k}findCuesAtTime(S){return this.findCuesInRange(S,S)}getAllCues(){const S=[];return this._inorderTraversal(this.root,S),S}getSize(){return this.size}clear(){this.root=null,this.size=0}_compareCues(S,R){return S.startTime!==R.startTime?S.startTime-R.startTime:S.endTime!==R.endTime?S.endTime-R.endTime:typeof VTTCue<"u"&&S instanceof VTTCue&&R instanceof VTTCue||S.text&&R.text?S.text.localeCompare(R.text):0}_compareIntervals(S,R){return this._compareCues(S.cue,R.cue)}_insert(S,R){if(!R)return[S,!0];const k=this._compareIntervals(S,R);if(k<0){const[L]=this._insert(S,R.left);R.left=L}else{if(!(k>0))return[R,!1];{const[L]=this._insert(S,R.right);R.right=L}}R.height=1+Math.max(this._getHeight(R.left),this._getHeight(R.right)),R.maxEnd=Math.max(R.maxEnd,S.maxEnd);const D=this._getBalance(R);return D>1?(this._compareIntervals(S,R.left)<0||(R.left=this._leftRotate(R.left)),[this._rightRotate(R),!0]):D<-1?(this._compareIntervals(S,R.right)>0||(R.right=this._rightRotate(R.right)),[this._leftRotate(R),!0]):[R,!0]}_searchRange(S,R,k,D){S&&(this._overlaps(S,R,k)&&D.push(S.cue),S.left&&S.left.maxEnd>=R&&this._searchRange(S.left,R,k,D),S.right&&S.start<=k&&this._searchRange(S.right,R,k,D))}_inorderTraversal(S,R){S&&(this._inorderTraversal(S.left,R),R.push(S.cue),this._inorderTraversal(S.right,R))}_overlaps(S,R,k){if(k===R){const D=R;return S.start<=D&&D<S.end}return S.start<k&&R<S.end}_getHeight(S){return S?S.height:0}_getBalance(S){return S?this._getHeight(S.left)-this._getHeight(S.right):0}_leftRotate(S){const R=S.right,k=R.left;return R.left=S,S.right=k,S.height=1+Math.max(this._getHeight(S.left),this._getHeight(S.right)),R.height=1+Math.max(this._getHeight(R.left),this._getHeight(R.right)),S.maxEnd=Math.max(S.end,S.left?S.left.maxEnd:0,S.right?S.right.maxEnd:0),R.maxEnd=Math.max(R.end,R.left?R.left.maxEnd:0,R.right?R.right.maxEnd:0),R}_rightRotate(S){const R=S.left,k=R.right;return R.right=S,S.left=k,S.height=1+Math.max(this._getHeight(S.left),this._getHeight(S.right)),R.height=1+Math.max(this._getHeight(R.left),this._getHeight(R.right)),S.maxEnd=Math.max(S.end,S.left?S.left.maxEnd:0,S.right?S.right.maxEnd:0),R.maxEnd=Math.max(R.end,R.left?R.left.maxEnd:0,R.right?R.right.maxEnd:0),R}_remove(S,R){if(!R)return[null,!1];const k=this._compareCues(S,R.cue);if(k<0){const[D,L]=this._remove(S,R.left);return R.left=D,L&&this._updateNode(R),[R,L]}if(k>0){const[D,L]=this._remove(S,R.right);return R.right=D,L&&this._updateNode(R),[R,L]}if(R.left||R.right){if(R.left){if(R.right){const D=this._findMin(R.right);R.cue=D.cue,R.start=D.start,R.end=D.end;const[L]=this._remove(D.cue,R.right);return R.right=L,this._updateNode(R),[R,!0]}return[R.left,!0]}return[R.right,!0]}return[null,!0]}_findMin(S){for(;S.left;)S=S.left;return S}_updateNode(S){S.height=1+Math.max(this._getHeight(S.left),this._getHeight(S.right)),S.maxEnd=Math.max(S.end,S.left?S.left.maxEnd:0,S.right?S.right.maxEnd:0)}}var Aw=n(7640);const v3=["text","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function E3(x){const S=this.context,R=(0,h.default)(S).getInstance(),k=x.videoModel,D=x.streamInfo,L=x.settings;let B,U,N,V,W,O,z,H,X,te,ie,se,fe,me,pe,_e,ee,Q,M,re;const ye=new Map;function ue(et){const Rt=et.kind,xt=et.id!==void 0?et.id:et.lang,Pt=et.lang,on=et.isTTML,pt=et.isEmbedded;return k.addTextTrack(Rt,xt,Pt,on,pt)}function ke(et,Rt,xt,Pt,on,pt){let Ut=0,Lt=0;et/Rt>xt/Pt?(Lt=Rt,Ut=Lt/Pt*xt):(Ut=et,Lt=Ut/xt*Pt);let Qt=0,Xe=0,ut=0,Ct=0;return Ut/Lt>on?(Ct=Lt,ut=Lt*on):(ut=Ut,Ct=Ut/on),Qt=(et-ut)/2,Xe=(Rt-Ct)/2,pt?{x:Qt+.1*ut,y:Xe+.1*Ct,w:.8*ut,h:.8*Ct}:{x:Qt,y:Xe,w:ut,h:Ct}}function xe(et,Rt){const xt=k.getClientWidth(),Pt=k.getClientHeight(),on=k.getVideoWidth(),pt=k.getVideoHeight(),Ut=k.getVideoRelativeOffsetTop(),Lt=k.getVideoRelativeOffsetLeft();if(on!==0&&pt!==0){let Qt=on/pt,Xe=!1;et.isFromCEA608&&(Qt=3.5/3,Xe=!0);const ut=ke.call(this,xt,Pt,on,pt,Qt,Xe),Ct=ut.w,st=ut.h,Nt=ut.x,jt=ut.y;if(Ct!=X||st!=te||Nt!=z||jt!=H||Rt){if(z=Nt+Lt,H=jt+Ut,X=Ct,te=st,ie){const lt=ie.style;lt&&(lt.left=z+"px",lt.top=H+"px",lt.width=X+"px",lt.height=te+"px",lt.zIndex=me&&document[me]||pe?ee:null,R.trigger(m.default.CAPTION_CONTAINER_RESIZE))}const Fe=et.activeCues;if(Fe){const lt=Fe.length;for(let Ht=0;Ht<lt;++Ht){const Jt=Fe[Ht];Jt.scaleCue(Jt)}}}}}function Oe(et){const Rt=X,xt=te;let Pt,on,pt,Ut,Lt;if(et.cellResolution){const Qt=[Rt/et.cellResolution[0],xt/et.cellResolution[1]];if(et.linePadding){for(Pt in et.linePadding)if(et.linePadding.hasOwnProperty(Pt)){on=(et.linePadding[Pt]*Qt[0]).toString();const Xe=document.getElementsByClassName("spanPadding");for(let ut=0;ut<Xe.length;ut++)Xe[ut].style.cssText=Xe[ut].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+on),Xe[ut].style.cssText=Xe[ut].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+on)}}if(et.fontSize){for(Pt in et.fontSize)if(et.fontSize.hasOwnProperty(Pt)){et.fontSize[Pt][0]==="%"?pt=et.fontSize[Pt][1]/100:et.fontSize[Pt][0]==="c"&&(pt=et.fontSize[Pt][1]),on=(pt*Qt[1]).toString(),Lt=Pt!=="defaultFontSize"?document.getElementsByClassName(Pt):document.getElementsByClassName("paragraph");for(let Xe=0;Xe<Lt.length;Xe++)Lt[Xe].style.cssText=Lt[Xe].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+on)}if(et.lineHeight){for(Pt in et.lineHeight)if(et.lineHeight.hasOwnProperty(Pt)){et.lineHeight[Pt][0]==="%"?Ut=et.lineHeight[Pt][1]/100:et.fontSize[Pt][0]==="c"&&(Ut=et.lineHeight[Pt][1]),on=(Ut*Qt[1]).toString(),Lt=document.getElementsByClassName(Pt);for(let Xe=0;Xe<Lt.length;Xe++)Lt[Xe].style.cssText=Lt[Xe].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+on)}}}}if(et.isd){let Qt=document.getElementById(et.cueID);Qt&&ie.removeChild(Qt),Ne(et)}}function Ge(et,Rt){const xt=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Pt=/^#(.*)$/;if(xt.test(Rt)){const on=xt.exec(Rt),pt=parseInt(on[4],10)-1;return"data:image/png;base64,"+btoa(et.images[pt])}if(Pt.test(Rt)){const on=Pt.exec(Rt)[1];return"data:image/png;base64,"+et.embeddedImages[on]}return Rt}function Ne(et){if(ie){Dn.call(this);const Rt=document.createElement("div");ie.appendChild(Rt),_e=(0,Aw.renderHTML)(et.isd,Rt,(function(xt){return Ge(et,xt)}),ie.clientHeight,ie.clientWidth,L.get().streaming.text.imsc.displayForcedOnlyMode,(function(xt){U.info("renderCaption :",xt)}),_e,L.get().streaming.text.imsc.enableRollUp),Rt.id=et.cueID,R.trigger(m.default.CAPTION_RENDERED,{captionDiv:Rt,currentTrackIdx:O})}}function Z(et,Rt){const xt=Rt.findCuesInRange(et.startTime-.1,et.endTime+.1);for(const Pt of xt)if(le(et,Pt)&&ve(et,Pt,v3)||le(Pt,et)&&ve(et,Pt,v3))return Pt;return null}function le(et,Rt){return!!Rt&&Rt.endTime>=et.startTime}function ve(et,Rt,xt){for(let Pt=0;Pt<xt.length;Pt++){const on=xt[Pt];if(JSON.stringify(et[on])!==JSON.stringify(Rt[on]))return!1}return!0}function de(et,Rt){Rt&&Rt.forEach((xt=>{xt.kind&&xt.kind==="image"&&(xt.src=Ge(et,xt.src)),de(et,xt.contents)}))}function Y(et,Rt,xt){const Pt=kt(et),on=ye.get(Pt),pt=L.get().streaming.text.dispatchForManualRendering;if(Pt&&on&&Array.isArray(xt)&&xt.length!==0){for(let Qt=0;Qt<xt.length;Qt++){let Xe=null;const ut=xt[Qt];if(Pt.cellResolution=ut.cellResolution,Pt.isFromCEA608=ut.isFromCEA608,isNaN(ut.start)||isNaN(ut.end)||(pt?Xe=ce(ut,Rt):ze(ut)&&ie?Xe=Se(ut,Rt,Pt):ut.data&&(Xe=De(ut,Rt,Pt))),Xe){if(L.get().streaming.text.extendSegmentedCues){const Ct=Z(Xe,on.allCues);Ct&&(on.allCues.removeCue(Ct),Lt=Xe,(Ut=Ct).startTime=Math.min(Ut.startTime,Lt.startTime),Ut.endTime=Math.max(Ut.endTime,Lt.endTime),Xe=Ut)}on.allCues.addCue(Xe)}else U.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}var Ut,Lt;En()}}function ce(et,Rt){let xt=Ue(et,Rt);return xt.onenter=function(){ze(et)&&re&&re.cueID!==xt.cueID&&Ae(re),delete xt.type,re=xt,oe(xt)},xt.onexit=function(){Ae(xt),re=null},xt}function oe(et){R.trigger(m.default.CUE_ENTER,et)}function Ae(et){R.trigger(m.default.CUE_EXIT,{cueID:et.cueID})}function Se(et,Rt,xt){const Pt=this;let on=Ue(et,Rt);return ie.style.left=z+"px",ie.style.top=H+"px",ie.style.width=X+"px",ie.style.height=te+"px",on.onenter=function(){xt.mode===p.default.TEXT_SHOWING&&(this.isd?(M?requestAnimationFrame((()=>Ne(this))):Ne(this),U.debug("Cue enter id:"+this.cueID)):(ie.appendChild(this.cueHTMLElement),Oe.call(Pt,this),R.trigger(m.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:O})))},on.onexit=function(){if(ie){const pt=ie.childNodes;for(let Ut=0;Ut<pt.length;++Ut)pt[Ut].id===this.cueID&&(U.debug("Cue exit id:"+pt[Ut].id),ie.removeChild(pt[Ut]),--Ut)}},on}function De(et,Rt,xt){let Pt=Ue(et,Rt);if(et.styles)try{et.styles.align!==void 0&&"align"in Pt&&(Pt.align=et.styles.align),et.styles.line!==void 0&&"line"in Pt&&(Pt.line=et.styles.line),et.styles.lineAlign!==void 0&&(Pt.lineAlign=et.styles.lineAlign),et.styles.snapToLines!==void 0&&"snapToLines"in Pt&&(Pt.snapToLines=et.styles.snapToLines),et.styles.position!==void 0&&"position"in Pt&&(Pt.position=et.styles.position),et.styles.positionAlign!==void 0&&(Pt.positionAlign=et.styles.positionAlign),et.styles.size!==void 0&&"size"in Pt&&(Pt.size=et.styles.size)}catch(on){U.error(on)}return Pt.onenter=function(){xt.mode===p.default.TEXT_SHOWING&&R.trigger(m.default.CAPTION_RENDERED,{currentTrackIdx:O})},Pt}function ze(et){return et.type==="html"}function Ue(et,Rt){return ze(et)?(function(xt,Pt){let on=new N(xt.start+Pt,xt.end+Pt,"");return on.cueHTMLElement=xt.cueHTMLElement,on.isd=xt.isd,on.images=xt.images,on.embeddedImages=xt.embeddedImages,on.cueID=xt.cueID,on.scaleCue=Oe.bind(self),on.cellResolution=xt.cellResolution,on.lineHeight=xt.lineHeight,on.linePadding=xt.linePadding,on.fontSize=xt.fontSize,on.isd&&de(on,on.isd.contents),on})(et,Rt):(function(xt,Pt){let on=new N(xt.start-Pt,xt.end-Pt,xt.data);return on.cueID=ot.default.generateUuid(),on})(et,Rt)}function tt(et){if(se){const Rt=se.childNodes;for(let xt=0;xt<Rt.length;++xt)Rt[xt].id===et.cueID&&(se.removeChild(Rt[xt]),--xt)}}function gt(){const et=k.getTextTracks(),Rt=[];for(const xt of et)xt.manualMode===p.default.TEXT_SHOWING&&Rt.push(xt);return Rt}function kt(et){return et>=0&&V[et]?k.getTextTrack(V[et].kind,V[et].id,V[et].lang,V[et].isTTML,V[et].isEmbedded):null}function Mt(et){if(et===O)return;O=et;const Rt=kt(O);un.call(this,Rt),fe&&(clearInterval(fe),fe=null),Rt&&Rt.renderingType==="html"&&(xe.call(this,Rt,!0),window.ResizeObserver?(Q=new window.ResizeObserver((()=>{xe.call(this,Rt,!0)})),Q.observe(k.getElement())):fe=setInterval(xe.bind(this,Rt),500))}function un(et){Dn.call(this),et&&et.renderingType==="html"?tr.call(this):Jn.call(this)}function St(et,Rt,xt,Pt=!0){return!!et&&(isNaN(Rt)||(Pt?et.startTime:et.endTime)>=Rt)&&(isNaN(xt)||(Pt?et.endTime:et.startTime)<=xt)}function Zt(et,Rt,xt,Pt=!0){if(!et)return;if(et.cues&&et.cues.length>0)for(let pt=et.cues.length-1;pt>=0;pt--)St(et.cues[pt],Rt,xt,Pt)&&(et.cues[pt].onexit&&et.cues[pt].onexit(),et.removeCue(et.cues[pt]));const on=ye.get(et);if(on){const pt=on.activeCues,Ut=pt.filter((Lt=>Lt.startTime>=Rt&&Lt.endTime<=xt));Ut.forEach((Lt=>{L.get().streaming.text.dispatchForManualRendering?Ae(Lt):tt(Lt)})),on.activeCues=pt.filter((Lt=>!Ut.includes(Lt)))}}function En(){for(const et of ye.values())et.lastCueWindowUpdate=-1/0}function tr(){let et=document.getElementById("native-cue-style");if(et)return;et=document.createElement("style"),et.id="native-cue-style",document.head.appendChild(et);const Rt=et.sheet,xt=k.getElement();try{xt&&(xt.id?Rt.insertRule("#"+xt.id+"::cue {background: transparent}",0):xt.classList.length!==0?Rt.insertRule("."+xt.className+"::cue {background: transparent}",0):Rt.insertRule("video::cue {background: transparent}",0))}catch(Pt){U.info(""+Pt.message)}}function Jn(){const et=document.getElementById("native-cue-style");et&&document.head.removeChild(et)}function Dn(){if(ie)for(;ie.firstChild;)ie.removeChild(ie.firstChild)}function Gn(){return V}return B={addCaptions:Y,addTextTrackInfo:function(et){V.push(et)},createTracks:function(){V.sort((function(Rt,xt){return Rt.index-xt.index})),ie=k.getTTMLRenderingDiv(),se=k.getVttRenderingDiv();let et=-1;for(let Rt=0;Rt<V.length;Rt++){const xt=ue(V[Rt]);W.push(xt),V[Rt].defaultTrack&&(xt.default=!0,et=Rt);const Pt=kt(Rt);Pt&&(Pt.mode=p.default.TEXT_SHOWING,ie&&(V[Rt].isTTML||V[Rt].isEmbedded)?Pt.renderingType="html":Pt.renderingType="default",ye.set(Pt,{allCues:new xse,lastCueWindowUpdate:-1/0,activeCues:[]})),Y(Rt,0,V[Rt].captionData),R.trigger(m.default.TEXT_TRACK_ADDED)}if(Mt.call(this,et),et>=0){let Rt=function(){const xt=kt(et);xt&&xt.renderingType==="html"&&xe.call(this,xt,!0),R.off(m.default.PLAYBACK_METADATA_LOADED,Rt,this)};R.on(m.default.PLAYBACK_METADATA_LOADED,Rt,this);for(let xt=0;xt<V.length;xt++){const Pt=kt(xt);if(Pt){const on=L.get().streaming.text.dispatchForManualRendering;Pt.mode=xt!==et||on?p.default.TEXT_HIDDEN:p.default.TEXT_SHOWING,Pt.manualMode=xt===et?p.default.TEXT_SHOWING:p.default.TEXT_HIDDEN}}}R.trigger(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:O,tracks:V,streamId:D.id})},deleteAllTextTracks:function(){const et=W?W.length:0;for(let Rt=0;Rt<et;Rt++){const xt=kt(Rt);xt&&Zt.call(this,xt,D.start,D.start+D.duration,!1)}W=[],V=[],fe&&(clearInterval(fe),fe=null),Q&&k&&(Q.unobserve(k.getElement()),Q=null),O=-1,Dn.call(this),ye.clear()},deleteCuesFromTrackIdx:function(et,Rt,xt){const Pt=kt(et);Pt&&Zt(Pt,Rt,xt)},disableManualTracks:function(){const et=gt();if(et&&et.length>0){const Rt=et[0],xt=ye.get(Rt);if(!xt)return;xt.activeCues.forEach((Pt=>{L.get().streaming.text.dispatchForManualRendering?Ae(Pt):tt(Pt)})),xt.activeCues=[]}},getCurrentTrackIdx:function(){return O},getCurrentTextTrackInfo:function(){return V[O]},getStreamId:function(){return D.id},getTextTrackInfos:Gn,getTrackIdxForId:function(et){let Rt=-1;for(let xt=0;xt<V.length;xt++)if(V[xt].id===et){Rt=xt;break}return Rt},initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(N=window.VTTCue||window.TextTrackCue,V=[],W=[],O=-1,z=0,H=0,X=0,te=0,ie=null,se=null,fe=null,pe=!1,ee=2147483647,_e=null,M="requestAnimationFrame"in window,ye.clear(),document.fullscreenElement!==void 0?me="fullscreenElement":document.webkitIsFullScreen!==void 0?me="webkitIsFullScreen":document.msFullscreenElement?me="msFullscreenElement":document.mozFullScreen&&(me="mozFullScreen"))},manualCueProcessing:function(et){const Rt=gt();if(Rt&&Rt.length>0){const xt=Rt[0],Pt=ye.get(xt);if(!Pt)return;const on=Pt.activeCues,pt=Pt.allCues.findCuesAtTime(et),Ut=on.filter((Qt=>!pt.includes(Qt))),Lt=pt.filter((Qt=>!on.includes(Qt)));Ut.forEach((Qt=>{L.get().streaming.text.dispatchForManualRendering?Ae(Qt):tt(Qt)})),Lt.forEach((Qt=>{L.get().streaming.text.dispatchForManualRendering?oe(Qt):WebVTT.processCues(window,[Qt],se,Qt.cueID)})),Pt.activeCues=pt}},setCurrentTrackIdx:Mt,setModeForTrackIdx:function(et,Rt){const xt=kt(et);xt&&xt.mode!==Rt&&(xt.mode=Rt),xt&&xt.manualMode!==Rt&&(xt.manualMode=Rt)},updateTextTrackWindow:function(et,Rt=!1){const xt=Gn(),Pt=L.get().streaming.text.webvtt.customRenderingEnabled;for(let on=0;on<xt.length;on++){const pt=xt[on],Ut=kt(on),Lt=ye.get(Ut);if(!Ut||!Lt||!pt.isEmbedded&&Pt)continue;const{bufferToKeep:Qt,bufferPruningInterval:Xe}=L.get().streaming.buffer,ut=Date.now();if((ut-Lt.lastCueWindowUpdate)/1e3<Xe&&!Rt)continue;const Ct=k.getPlaybackRate()||1,st=Math.max(0,et-Qt/Ct),Nt=et+2*Xe/Ct;if(Ut.cues)for(;Ut.cues.length>0;)Ut.removeCue(Ut.cues[0]);Ut.mode!==p.default.TEXT_DISABLED&&Lt.allCues.findCuesInRange(st,Nt).forEach((jt=>{Ut.addCue(jt)})),Lt.lastCueWindowUpdate=ut}},invalidateCueWindow:En},U=(0,l.default)(S).getInstance().getLogger(B),B}E3.__dashjs_factory_name="TextTracks";var Rse=r.default.getClassFactory(E3);function _3(){const x=this.context;let S,R,k,D,L,B;function U(O){const z=O.split(":"),H=z.length-1;return O=60*parseInt(z[H-1],10)+parseFloat(z[H]),H===2&&(O+=3600*parseInt(z[0],10)),O}function N(O){const z=O.split(D),H=z[1].split(B);return H.shift(),z[1]=H[0],H.shift(),{cuePoints:z,styles:V(H)}}function V(O){const z={};return O.forEach((function(H){const X=H.split(":");if(X.length>1){const[te,ie]=X;switch(te){case"align":case"A":z.align=ie;break;case"line":case"L":const[se,fe]=ie.split(","),me=se.endsWith("%");z.line=se==="auto"?se:parseInt(se,10),me&&(z.snapToLines=!1),fe&&(z.lineAlign=fe);break;case"position":case"P":const[pe,_e]=ie.split(",");z.position=parseInt(pe,10),_e&&(z.positionAlign=_e);break;case"size":case"S":z.size=parseInt(ie,10)}}})),z}function W(O,z){let H,X=z,te="",ie="";for(;O[X]!==""&&X<O.length;)X++;if(H=X-z,H>1)for(let se=0;se<H;se++){if(ie=O[z+se],ie.match(D)){te="";break}te+=ie,se!==H-1&&(te+=`
`)}else ie=O[z],ie.match(D)||(te=ie);return te}return S={parse:function(O){const z=[];let H,X;if(!O)return z;H=(O=O.split(k)).length,X=-1;for(let te=0;te<H;te++){let ie=O[te];if(ie.length>0&&ie!=="WEBVTT"&&ie.match(D)){const se=N(ie),fe=se.cuePoints,me=se.styles,pe=W(O,te+1),_e=U(fe[0].replace(L,"")),ee=U(fe[1].replace(L,""));!isNaN(_e)&&!isNaN(ee)&&_e>=X&&ee>_e?pe!==""?(X=_e,z.push({start:_e,end:ee,data:pe,styles:me})):R.error("Skipping cue due to empty/malformed cue text"):R.error("Skipping cue due to incorrect cue timing")}}return z},getCaptionStyles:V},R=(0,l.default)(x).getInstance().getLogger(S),k=/(?:\r\n|\r|\n)/gm,D=/-->/,L=/(^[\s]+|[\s]+$)/g,B=/\s\b/g,S}_3.__dashjs_factory_name="VTTParser";var kse=r.default.getSingletonFactory(_3);function T3(){let x,S;return x={parse:function(R){let k=[];return S.oncue=function(D){D.start=D.startTime,D.end=D.endTime,D.data=D.text,D.styles={align:D.align,line:D.line,position:D.position,size:D.size},k.push(D)},S.parse(R),k}},(function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(S=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}})(),x}T3.__dashjs_factory_name="VttCustomRenderingParser";var Cse=r.default.getSingletonFactory(T3);function S3(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D=0;function L(){const B="cue_TTML_"+D;return D++,B}return R={parse:function(B,U,N,V,W){let O="";const z=[];let H,X,te;const ie={},se={};let fe="",me="",pe={onOpenTag:function(Q,M,re){if(re[" imagetype"]&&!re[" imageType"]&&(S.trigger(m.default.CONFORMANCE_VIOLATION,{level:ff.LEVELS.ERROR,event:ff.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),re[" imageType"]=re[" imagetype"]),M==="image"&&(Q==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||Q==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!re[" imageType"]||re[" imageType"].value!=="PNG")return void k.warn("smpte-tt imageType != PNG. Discarded");fe=re["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){fe&&(se[fe]=me.trim()),me="",fe=""},onText:function(Q){fe&&(me+=Q)}};if(!B)throw O="no ttml data to parse",new Error(O);ie.data=B,S.trigger(f.default.TTML_TO_PARSE,ie);let _e=(0,Aw.fromXML)(ie.data,(function(Q){O=Q}),pe);S.trigger(f.default.TTML_PARSED,{ttmlString:ie.data,ttmlDoc:_e});const ee=_e.getMediaTimeEvents();for(te=0;te<ee.length;te++){let Q=(0,Aw.generateISD)(_e,ee[te],(function(M){O=M}));Q.contents.some((M=>M.contents.length))&&(H=ee[te]+U,X=ee[te+1]+U,H<X&&z.push({start:H,end:X,type:"html",cueID:L(),isd:Q,images:W,embeddedImages:se}))}if(O!=="")throw k.error(O),new Error(O);return z}},k=(0,l.default)(x).getInstance().getLogger(R),R}S3.__dashjs_factory_name="TTMLParser";var Dse=r.default.getSingletonFactory(S3);function w3(x){let S=this.context;const R=(0,h.default)(S).getInstance(),k=Ur(S).getInstance(),D=x.adapter,L=x.baseURLController,B="error",U="loaded",N="unloaded";let V,W,O;function z(te,ie){let se,fe,me=!1;if(L.resolve()){const ee=D.getVoRepresentations(te);ee&&ee.length>0&&(se=L.resolve(ee[0].path).url)}const pe=te.essentialProperties.filter((ee=>ee.schemeIdUri&&ee.schemeIdUri===p.default.FONT_DOWNLOAD_DVB_SCHEME)),_e=te.supplementalProperties.filter((ee=>ee.schemeIdUri&&ee.schemeIdUri===p.default.FONT_DOWNLOAD_DVB_SCHEME));pe.length>0?(me=!0,fe=pe):fe=_e,fe.forEach((ee=>{if((function(re){return!(!(re.value&&parseInt(re.value)===1&&re.dvbUrl&&re.dvbUrl.length>0&&re.dvbFontFamily&&re.dvbFontFamily.length>0&&re.dvbMimeType)||re.dvbMimeType!==p.default.OFF_MIMETYPE&&re.dvbMimeType!==p.default.WOFF_MIMETYPE)})(ee)){let re=(Q=ee.dvbUrl,M=se,k.isPathAbsolute(Q)?Q:k.isRelative(Q)?M?k.resolve(Q,M):k.resolve(Q):Q);O.push({fontFamily:ee.dvbFontFamily,url:re,mimeType:ee.dvbMimeType,trackId:te.id,streamId:ie,isEssential:me,status:N,fontFace:new FontFace(ee.dvbFontFamily,`url(${re})`,{display:"swap"})})}var Q,M}))}function H(te,ie){const se=O[te];O[te]={...se,status:ie}}function X(){O=[]}return V={addFontsFromTracks:function(te,ie){if(te&&Array.isArray(te)&&ie)for(let se=0;se<te.length;se++)z(te[se],ie)},downloadFonts:function(){for(let te=0;te<O.length;te++){let ie=O[te];document.fonts.add(ie.fontFace),R.trigger(m.default.DVB_FONT_DOWNLOAD_ADDED,ie),ie.fontFace.load().then((()=>{H(te,U),R.trigger(m.default.DVB_FONT_DOWNLOAD_COMPLETE,ie)}),(se=>{H(te,B),W.debug("Font download error: ",se),R.trigger(m.default.DVB_FONT_DOWNLOAD_FAILED,ie)}))}},getFonts:function(){return O},getFontsForTrackId:function(te){return O.filter((ie=>ie.trackId&&ie.trackId===te))},reset:function(){(function(){for(const te of O){let ie=document.fonts.delete(te.fontFace);W.debug(`Removal of fontFamily: ${te.fontFamily} was ${ie?"successful":"unsuccessful"}`)}})(),X()}},W=(0,l.default)(S).getInstance().getLogger(V),X(),V}w3.__dashjs_factory_name="DVBFonts";var Lse=r.default.getClassFactory(w3);function A3(x){let S=this.context;const R=x.adapter,k=x.errHandler,D=x.manifestModel,L=x.mediaController,B=x.baseURLController,U=x.videoModel,N=x.settings;let V,W,O,z,H,X,te,ie,se,fe,me,pe,_e,ee;function Q(de){if(ee.error(`Could not download ${de.isEssential?"an essential":"a"} font - fontFamily: ${de.fontFamily}, url: ${de.url}`),de.isEssential){let Y=z[de.streamId].getTrackIdxForId(de.trackId);z[de.streamId].setModeForTrackIdx(Y,p.default.TEXT_DISABLED)}}function M(de){if(ee.debug(`Successfully downloaded ${de.isEssential?"an essential":"a"} font - fontFamily: ${de.fontFamily}, url: ${de.url}`),de.isEssential){let Y=z[de.streamId].getTrackIdxForId(de.trackId);Y===z[de.streamId].getCurrentTrackIdx()?z[de.streamId].setModeForTrackIdx(Y,p.default.TEXT_SHOWING):z[de.streamId].setModeForTrackIdx(Y,p.default.TEXT_HIDDEN)}}function re(de){let Y=de.tracks,ce=de.index;const oe=de.streamId;if(N.get().streaming.text.defaultEnabled===!1&&!Oe()||pe)Ge(oe,-1);else{const Ae=L.getCurrentTrackFor(p.default.TEXT,oe);if(Ae){const Se={lang:Ae.lang,role:Ae.roles[0],index:Ae.index,codec:Ae.codec,accessibility:Ae.accessibility[0]};Y.some(((De,ze)=>{if(L.matchSettings(Se,De))return Ge(oe,ze),ce=ze,!0}))}se=!1}W[oe].lastEnabledIndex=ce,ie.trigger(m.default.TEXT_TRACKS_ADDED,{enabled:Oe(),index:ce,tracks:Y,streamId:oe}),me=!0,_e.addFontsFromTracks(Y,oe),_e.getFonts().forEach((Ae=>{if(Ae.isEssential){let Se=z[Ae.streamId].getTrackIdxForId(Ae.trackId);z[Ae.streamId].setModeForTrackIdx(Se,p.default.TEXT_DISABLED)}})),_e.downloadFonts()}function ye(de){try{const Y=de.streamId,ce=z[Y];if(!ce||isNaN(de.time))return;ce.updateTextTrackWindow(de.time),N.get().streaming.text.webvtt.customRenderingEnabled&&ce.manualCueProcessing(de.time)}catch{}}function ue(de){try{const Y=de.streamId;if(!z[Y])return;z[Y].disableManualTracks()}catch{}}function ke(de){try{const Y=z[de.streamId];if(!Y)return;const ce=U.getTime()||0;Y.updateTextTrackWindow(ce,!0)}catch(Y){ee.error(Y)}}function xe(de){try{if(!de||!de.mediaType||de.mediaType!==p.default.AUDIO||!de.currentMediaInfo)return;const Y=z[de.streamId].getCurrentTextTrackInfo();let ce=NaN;se?ce=Ne(de.streamId):Z(Y)&&de.currentMediaInfo.lang&&de.currentMediaInfo.lang!==Y.lang&&(ce=Ne(de.streamId),isNaN(ce)&&(ce=-1)),isNaN(ce)||Ge(de.streamId,ce)}catch(Y){ee.error(Y)}}function Oe(){let de=!0;return se&&!fe&&(de=!1),de}function Ge(de,Y){se=Y===-1,se&&L&&L.saveTextSettingsDisabled();let ce=le(de);if(ce===Y||!z[de])return;z[de].disableManualTracks(),z[de].invalidateCueWindow();let oe=z[de].getCurrentTextTrackInfo(),Ae=oe?U.getTextTrack(oe.kind,oe.id,oe.lang,oe.isTTML,oe.isEmbedded):null;Ae&&Ae.mode!==p.default.TEXT_DISABLED&&z[de].setModeForTrackIdx(ce,p.default.TEXT_HIDDEN),z[de].setCurrentTrackIdx(Y),oe=z[de].getCurrentTextTrackInfo();const Se=N.get().streaming.text.dispatchForManualRendering;if(oe&&!Se&&oe.mode!==p.default.TEXT_DISABLED&&z[de].setModeForTrackIdx(Y,p.default.TEXT_SHOWING),oe&&oe.isFragmented&&!oe.isEmbedded)(function(De,ze,Ue){if(!O[De])return;let tt=O[De].getConfig().fragmentedTracks;for(let gt=0;gt<tt.length;gt++){let kt=tt[gt];if(ze.lang===kt.lang&&(kt.id?ze.id===kt.id:ze.index===kt.index)){let Mt=L.getCurrentTrackFor(p.default.TEXT,De);(kt.id?Mt.id!==kt.id:Mt.index!==kt.index)?(z[De].deleteCuesFromTrackIdx(Ue),O[De].setCurrentFragmentedTrackIdx(gt)):Ue===-1&&ie.trigger(f.default.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:De,mediaType:p.default.TEXT})}}})(de,oe,ce);else if(oe&&!oe.isFragmented)(function(De,ze){ie.trigger(f.default.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ze},{streamId:De,mediaType:p.default.TEXT})})(de,oe);else if(!oe&&se){const De=Ne(de);return void(isNaN(De)||Ge(de,De))}L.setTrack(oe)}function Ne(de){const Y=(function(Ae){return z[Ae].getTextTrackInfos().filter(((Se,De)=>(Se._indexToSelect=De,!!(Se&&Se.roles&&Se.roles.length>0)&&Z(Se))))})(de);if(!Y||Y.length<=0)return NaN;const ce=L.getCurrentTrackFor(p.default.AUDIO,de);if(!ce)return NaN;const oe=Y.find((Ae=>ce.lang===Ae.lang));return oe?oe._indexToSelect:NaN}function Z(de){return!(!de||!de.roles||de.roles.length===0)&&de.roles.some((Y=>Y.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&Y.value===Re.default.FORCED_SUBTITLE))}function le(de){return z[de].getCurrentTrackIdx()}function ve(){O={},z={},W={},se=!0,me=!1,pe=!1}return V={addEmbeddedTrack:function(de,Y){const ce=de.id;O[ce]&&O[ce].addEmbeddedTrack(Y)},addMediaInfosToBuffer:function(de,Y,ce,oe=null){const Ae=de.id;O[Ae]&&O[Ae].addMediaInfos(Y,ce,oe)},createTracks:function(de){const Y=de.id;z[Y]&&z[Y].createTracks()},deactivateStream:function(de){if(!de)return;const Y=de.id;O[Y]&&O[Y].resetMediaInfos(),z[Y]&&z[Y].deleteAllTextTracks()},enableForcedTextStreaming:function(de){return(0,wt.checkParameterType)(de,"boolean"),fe=de,!0},enableText:function(de,Y){return(0,wt.checkParameterType)(Y,"boolean"),Oe()!==Y&&(Y&&Ge(de,W[de].lastEnabledIndex),Y||(W[de].lastEnabledIndex=le(de),me?Ge(de,-1):pe=!0)),!0},getAllTracksAreDisabled:function(){return se},getCurrentTrackIdx:le,getTextSourceBuffer:function(de){const Y=de.id;if(O&&O[Y])return O[Y]},initialize:function(){_e=Lse(S).create({adapter:R,baseURLController:B}),ie.on(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,re,V),ie.on(f.default.DVB_FONT_DOWNLOAD_FAILED,Q,V),ie.on(f.default.DVB_FONT_DOWNLOAD_COMPLETE,M,V),ie.on(f.default.MEDIAINFO_UPDATED,xe,V),ie.on(f.default.PLAYBACK_TIME_UPDATED,ye,V),N.get().streaming.text.webvtt.customRenderingEnabled&&ie.on(f.default.PLAYBACK_SEEKING,ue,V),ie.on(f.default.PLAYBACK_SEEKED,ke,V)},initializeForStream:function(de){const Y=de.id,ce=Rse(S).create({videoModel:U,settings:N,streamInfo:de});ce.initialize(),z[Y]=ce;const oe=Ise(S).create({errHandler:k,adapter:R,dvbFonts:_e,manifestModel:D,mediaController:L,videoModel:U,textTracks:ce,vttParser:H,vttCustomRenderingParser:X,ttmlParser:te,streamInfo:de,settings:N});oe.initialize(),O[Y]=oe,W[Y]={},W[Y].lastEnabledIndex=-1},isTextEnabled:Oe,reset:function(){Object.keys(O).forEach((de=>{O[de].resetEmbedded(),O[de].reset()})),_e.reset(),ve(),ie.off(f.default.TEXT_TRACKS_QUEUE_INITIALIZED,re,V),ie.off(f.default.DVB_FONT_DOWNLOAD_FAILED,Q,V),ie.off(f.default.DVB_FONT_DOWNLOAD_COMPLETE,M,V),ie.off(f.default.MEDIAINFO_UPDATED,xe,V),ie.off(f.default.PLAYBACK_TIME_UPDATED,ye,V),N.get().streaming.text.webvtt.customRenderingEnabled&&ie.off(f.default.PLAYBACK_SEEKING,ue,V),ie.off(f.default.PLAYBACK_SEEKED,ke,V)},setTextTrack:Ge,clearDataForStream:function(de){O[de]&&(O[de].resetEmbedded(),O[de].reset(),delete O[de]),z[de]&&(z[de].deleteAllTextTracks(),delete z[de]),W[de]&&delete W[de]}},fe=!1,me=!1,pe=!1,H=kse(S).getInstance(),X=Cse(S).getInstance(),te=Dse(S).getInstance(),ie=(0,h.default)(S).getInstance(),ee=(0,l.default)(S).getInstance().getLogger(V),ve(),V}A3.__dashjs_factory_name="TextController";var Pse=r.default.getClassFactory(A3);function I3(x){x=x||{};const S=this.context,R=(0,l.default)(S).getInstance(),k=x.settings,D=(0,h.default)(S).getInstance();let L,B,U,N,V,W;function O(){return navigator&&navigator.connection&&!isNaN(navigator.connection.downlink)&&navigator.connection.downlink>0?1e3*navigator.connection.downlink:NaN}function z(te,ie,se,fe){const me=Math.pow(.5,se/fe.fast);te.fastEstimate=(1-me)*ie+me*te.fastEstimate;const pe=Math.pow(.5,se/fe.slow);te.slowEstimate=(1-pe)*ie+pe*te.slowEstimate,te.totalWeight+=se}function H(){L={},B={},U={},N={}}const X={addEntry:function(te,ie){try{if(!(te&&ie&&ie.trace&&ie.trace.length))return;(function(me){L[me]=L[me]||[],B[me]=B[me]||[],U[me]=U[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0},N[me]=N[me]||{fastEstimate:0,slowEstimate:0,totalWeight:0}})(te);const se=ie.tresponse.getTime()-ie.trequest.getTime()||1;let fe=(function(me,pe){return me._fileLoaderType&&me._fileLoaderType===p.default.FILE_LOADER_TYPES.FETCH?(function(_e){const ee=_e.trace.reduce(((re,ye)=>re+ye.b[0]),0),Q=_e.trace.reduce(((re,ye)=>re+ye.d),0);let M=NaN;return k.get().streaming.abr.throughput.useNetworkInformationApi.fetch&&(M=O()),isNaN(M)&&(M=Math.round(8*ee/Q)),{downloadedBytes:ee,value:M,downloadTimeInMs:Q}})(me):(function(_e,ee){let Q=NaN,M=NaN,re=!1;if(k.get().streaming.abr.throughput.useResourceTimingApi&&_e._resourceTimingValues)Q=_e._resourceTimingValues.transferSize,M=_e._resourceTimingValues.responseEnd-_e._resourceTimingValues.responseStart,re=!0;else{if(_e.trace.length<=1)return{throughput:NaN,downloadTimeInMs:NaN};Q=_e.trace.reduce(((ue,ke)=>ue+ke.b[0]),0)-_e.trace[0].b[0],M=Math.max(_e.trace.reduce(((ue,ke)=>ue+ke.d),0)-_e.trace[0].d,1)}let ye=NaN;if(!re&&k.get().streaming.abr.throughput.useNetworkInformationApi.xhr&&(ye=O()),isNaN(ye)){const ue=k.get().streaming.abr.throughput.useDeadTimeLatency?M:M+ee;ye=Math.round(8*Q/ue)}return{downloadedBytes:Q,value:ye,downloadTimeInMs:M}})(me,pe)})(ie,se);if(fe.latencyInMs=se,isNaN(fe.value)||!isFinite(fe.value))return;if(ie.cmsd){const me=ie.cmsd.dynamic&&ie.cmsd.dynamic.etp?ie.cmsd.dynamic.etp:null;if(me){const pe=k.get().streaming.cmsd.abr.etpWeightRatio;pe>0&&pe<=1&&(fe.value=fe.value*(1-pe)+me*pe)}}if((function(me,pe,_e){return k.get().streaming.abr.throughput.useResourceTimingApi&&_e._resourceTimingValues?_e._resourceTimingValues.transferSize===0&&_e._resourceTimingValues.decodedBodySize>0:!isNaN(pe)&&(me===p.default.VIDEO?pe<k.get().streaming.cacheLoadThresholds[p.default.VIDEO]:me===p.default.AUDIO?pe<k.get().streaming.cacheLoadThresholds[p.default.AUDIO]:void 0)})(te,ie._tfinish.getTime()-ie.trequest.getTime(),ie))return void W.debug(`${te} Assuming segment ${ie.url} came from cache, ignoring it for throughput calculation`);W.debug(`Added throughput entry for ${te}: ${fe.value} kbit/s`),fe.serviceLocation=ie._serviceLocation,L[te].push(fe),B[te].push({value:se}),(function(me){L[me].length>k.get().streaming.abr.throughput.sampleSettings.maxMeasurementsToKeep&&L[me].shift(),B[me].length>k.get().streaming.abr.throughput.sampleSettings.maxMeasurementsToKeep&&B[me].shift()})(te),D.trigger(m.default.THROUGHPUT_MEASUREMENT_STORED,{throughputValues:fe}),ie.type!==w.HTTPRequest.MPD_TYPE&&(z(U[te],fe.value,k.get().streaming.abr.throughput.ewma.weightDownloadTimeMultiplicationFactor*fe.downloadTimeInMs,V.bandwidthHalfLife),z(N[te],se,1,V.latencyHalfLife))}catch(se){W.error(se)}},getThroughputDict:function(te){return te?L[te]:L},getEwmaThroughputDict:function(te){return te?U[te]:U},getEwmaLatencyDict:function(te){return te?N[te]:N},getEwmaHalfLife:function(){return V},getLatencyDict:function(te){return te?B[te]:B},reset:H};return W=R.getLogger(X),V={bandwidthHalfLife:{fast:k.get().streaming.abr.throughput.ewma.throughputFastHalfLifeSeconds,slow:k.get().streaming.abr.throughput.ewma.throughputSlowHalfLifeSeconds},latencyHalfLife:{fast:k.get().streaming.abr.throughput.ewma.latencyFastHalfLifeCount,slow:k.get().streaming.abr.throughput.ewma.latencySlowHalfLifeCount}},H(),X}I3.__dashjs_factory_name="ThroughputModel";var Ose=r.default.getClassFactory(I3);function x3(){const x=this.context,S=(0,h.default)(x).getInstance();let R,k,D;function L(){performance.clearResourceTimings()}function B(me){me.metric!==o.HTTP_REQUEST||!me.value||me.value.type!==w.HTTPRequest.MPD_TYPE&&(me.value.type!==w.HTTPRequest.MEDIA_SEGMENT_TYPE||me.mediaType!==p.default.AUDIO&&me.mediaType!==p.default.VIDEO)||R.addEntry(me.mediaType,me.value)}function U(me,pe,_e=null,ee=NaN){let Q,M=null,re=R.getEwmaHalfLife(),ye=null,ue=!0;switch(_e||(_e=D.get().streaming.abr.throughput.averageCalculationMode),me){case p.default.THROUGHPUT_TYPES.BANDWIDTH:M=_e===p.default.THROUGHPUT_CALCULATION_MODES.EWMA?R.getEwmaThroughputDict(pe):R.getThroughputDict(pe),ye=re.bandwidthHalfLife,ue=!0,ee=isNaN(ee)?k.getIsDynamic()?D.get().streaming.abr.throughput.sampleSettings.live:D.get().streaming.abr.throughput.sampleSettings.vod:ee;break;case p.default.THROUGHPUT_TYPES.LATENCY:M=_e===p.default.THROUGHPUT_CALCULATION_MODES.EWMA?R.getEwmaLatencyDict(pe):R.getLatencyDict(pe),ye=re.latencyHalfLife,ue=!1,ee=isNaN(ee)?D.get().streaming.abr.throughput.sampleSettings.averageLatencySampleAmount:ee}if(!M||M.length===0)return NaN;switch(_e){case p.default.THROUGHPUT_CALCULATION_MODES.ARITHMETIC_MEAN:return Q=N(M,ee,me),V(M,Q);case p.default.THROUGHPUT_CALCULATION_MODES.BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:return Q=N(M,ee,me),W(M,Q);case p.default.THROUGHPUT_CALCULATION_MODES.DATE_WEIGHTED_ARITHMETIC_MEAN:return Q=N(M,ee,me),O(M,Q);case p.default.THROUGHPUT_CALCULATION_MODES.HARMONIC_MEAN:return Q=N(M,ee,me),z(M,Q);case p.default.THROUGHPUT_CALCULATION_MODES.BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:return Q=N(M,ee,me),H(M,Q);case p.default.THROUGHPUT_CALCULATION_MODES.DATE_WEIGHTED_HARMONIC_MEAN:return Q=N(M,ee,me),X(M,Q);case p.default.THROUGHPUT_CALCULATION_MODES.EWMA:return te(M,ye,ue);case p.default.THROUGHPUT_CALCULATION_MODES.ZLEMA:return Q=N(M,ee,me),ie(M,Q)}}function N(me,pe,_e){if(me){if(pe>=me.length)pe=me.length;else if(_e===p.default.THROUGHPUT_TYPES.BANDWIDTH&&D.get().streaming.abr.throughput.sampleSettings.enableSampleSizeAdjustment)for(let ee=1;ee<pe;++ee){const Q=me[me.length-ee].value/me[me.length-ee-1].value;if((Q>=D.get().streaming.abr.throughput.sampleSettings.increaseScale||Q<=D.get().streaming.abr.throughput.sampleSettings.decreaseScale)&&(pe+=1)===me.length)break}}else pe=0;return pe}function V(me,pe){let _e=me;return pe!==0&&_e&&_e.length!==0?(_e=_e.slice(-pe),_e.reduce(((ee,Q)=>ee+Q.value),0)/_e.length):NaN}function W(me,pe){let _e=me;if(pe===0||!_e||_e.length===0)return NaN;_e=_e.slice(-pe);let ee=0;return _e.reduce(((Q,M)=>{let re=Math.sqrt(M.downloadedBytes);return ee+=re,Q+M.value*re}),0)/ee}function O(me,pe){let _e=me;if(pe===0||!_e||_e.length===0)return NaN;_e=_e.slice(-pe);let ee=0;return _e.reduce(((Q,M,re)=>{let ye=re+1;return ee+=ye,Q+M.value*ye}),0)/ee}function z(me,pe){let _e=me;if(pe===0||!_e||_e.length===0)return NaN;_e=_e.slice(-pe);const ee=_e.reduce(((Q,M)=>Q+1/M.value),0);return _e.length/ee}function H(me,pe){let _e=me;if(pe===0||!_e||_e.length===0)return NaN;_e=_e.slice(-pe);let ee=0;const Q=_e.reduce(((M,re)=>{let ye=Math.sqrt(re.downloadedBytes);return ee+=ye,M+1/re.value*ye}),0);return ee/Q}function X(me,pe){let _e=me;if(pe===0||!_e||_e.length===0)return NaN;_e=_e.slice(-pe);let ee=0;const Q=_e.reduce(((M,re,ye)=>{let ue=ye+1;return ee+=ue,M+1/re.value*ue}),0);return ee/Q}function te(me,pe,_e=!0){if(!me||me.totalWeight<=0)return NaN;const ee=me.fastEstimate/(1-Math.pow(.5,me.totalWeight/pe.fast)),Q=me.slowEstimate/(1-Math.pow(.5,me.totalWeight/pe.slow));return _e?Math.min(ee,Q):Math.max(ee,Q)}function ie(me,pe){if(pe===0||!me||me.length===0)return NaN;let _e=me.slice(-pe).map((re=>re.value)),ee=2/(_e.length+1),Q=_e[_e.length-1],M=_e[_e.length-1];for(let re=0;re<_e.length;re++)Q=ee*_e[re]+(1-ee)*Q,M=ee*Q+(1-ee)*M;return M}function se(me,pe=null,_e=NaN){const ee=U(p.default.THROUGHPUT_TYPES.BANDWIDTH,me,pe,_e);return Math.round(ee)}const fe={getArithmeticMean:V,getAverageLatency:function(me,pe=null,_e=NaN){const ee=U(p.default.THROUGHPUT_TYPES.LATENCY,me,pe,_e);return Math.round(ee)},getAverageThroughput:se,getByteSizeWeightedArithmeticMean:W,getByteSizeWeightedHarmonicMean:H,getDateWeightedArithmeticMean:O,getDateWeightedHarmonicMean:X,getEwma:te,getHarmonicMean:z,getRawThroughputData:function(me){return me?R.getThroughputDict(me):[]},getSafeAverageThroughput:function(me,pe=null,_e=NaN){let ee=se(me,pe,_e);return isNaN(ee)||(ee*=D.get().streaming.abr.throughput.bandwidthSafetyFactor),ee},getZlema:ie,initialize:function(){R=Ose(x).create({settings:D}),S.on(m.default.METRIC_ADDED,B,fe),window.performance?.addEventListener?.("resourcetimingbufferfull",L)},reset:function(){R.reset(),S.off(m.default.METRIC_ADDED,B,fe),window.performance?.removeEventListener?.("resourcetimingbufferfull",L)},setConfig:function(me){me.settings&&(D=me.settings),me.playbackController&&(k=me.playbackController)}};return fe}x3.__dashjs_factory_name="ThroughputController";var Mse=r.default.getSingletonFactory(x3);function R3(){const x=this.context,S=(0,h.default)(x).getInstance(),R=(0,u.default)(x).getInstance();let k,D,L,B;function U(se){B=se}function N(se,fe,me,pe){let _e,ee=fe.adaptation.period.mpd;const Q=ee.availabilityStartTime;if(pe)_e=me&&ee.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Q.getTime()+1e3*(se+ee.timeShiftBufferDepth)):ee.availabilityEndTime;else if(me){const M=fe.availabilityTimeOffset;_e=new Date(Q.getTime()+1e3*(se-M))}else _e=Q;return _e}function V(se,fe){return(se.getTime()-fe.mpd.availabilityStartTime.getTime()+1e3*B)/1e3}function W(se,fe){return se+(fe.adaptation.period.start-fe.presentationTimeOffset)}function O(se){const fe={start:NaN,end:NaN},me=se[0].getAdapter().getRegularPeriods()[0],pe=V(new Date,me);if(!se||se.length===0)return{range:fe,now:pe};se.forEach((ee=>{let Q=ee.getCurrentRepresentationForType(p.default.VIDEO);if(Q||(Q=ee.getCurrentRepresentationForType(p.default.AUDIO)),!Q){const re=ee.getAdapter(),ye=re.getMediaInfoForType(ee.getStreamInfo(),p.default.VIDEO)||re.getMediaInfoForType(ee.getStreamInfo(),p.default.AUDIO);Q=re.getVoRepresentations(ye)[0]}let M={start:NaN,end:NaN};if(Q)if(Q.segmentInfoType===Re.default.SEGMENT_TIMELINE)M=(function(re){const ye=re.adaptation.period.mpd.manifest.Period[re.adaptation.period.index].AdaptationSet[re.adaptation.index],ue=D.getRepresentationFor(re.index,ye),ke=ue.SegmentTemplate||ue.SegmentList,xe=ke.SegmentTimeline,Oe=ke.timescale,Ge=xe.S,Ne={start:0,end:0},Z=Ge[0].t,le=!isNaN(Z),ve=le?Z:0;let de,Y,ce,oe,Ae=0;for(le&&(Ne.start=W(ve/Oe,re)),ce=0,oe=Ge.length;ce<oe;ce++)de=Ge[ce],Y=0,de.hasOwnProperty("r")&&(Y=de.r),Ae+=de.d*(1+Y);return Ne.end=W((ve+Ae)/Oe,re),Ne})(Q);else{const re=Q.adaptation.period;M.start=re.start,M.end=Math.max(pe,re.start+re.duration)}!isNaN(M.start)&&(isNaN(fe.start)||fe.start>M.start)&&(fe.start=M.start),!isNaN(M.end)&&(isNaN(fe.end)||fe.end<M.end)&&(fe.end=M.end)})),fe.end=Math.min(pe,fe.end);const _e=H(se,fe.end,!0);return fe.end=isNaN(_e)?fe.end:_e,fe.start=me&&me.mpd&&me.mpd.timeShiftBufferDepth&&!isNaN(me.mpd.timeShiftBufferDepth)&&!isNaN(fe.end)?Math.max(fe.end-me.mpd.timeShiftBufferDepth,fe.start):fe.start,fe.start=H(se,fe.start),{range:fe,now:pe}}function z(se,fe){L=se-fe.end}function H(se,fe,me=!1){try{let pe=0,_e=!1,ee=NaN;for(;!_e&&pe<se.length;){const Q=se[pe].getStreamInfo();Q.start<=fe&&(!isFinite(Q.duration)||Q.start+Q.duration>=fe)?(ee=fe,_e=!0):!me&&Q.start>fe&&(isNaN(ee)||Q.start<ee)?ee=Q.start:me&&Q.start+Q.duration<fe&&(isNaN(ee)||Q.start+Q.duration>ee)&&(ee=Q.start+Q.duration),pe+=1}return ee}catch{return fe}}function X(se){se.offset===void 0||isNaN(se.offset)||U(se.offset/1e3)}function te(){B=0,L=0}function ie(){S.off(f.default.UPDATE_TIME_SYNC_OFFSET,X,this),te()}return k={calcAvailabilityEndTimeFromPresentationTime:function(se,fe,me){return N(se,fe,me,!0)},calcAvailabilityStartTimeFromPresentationTime:function(se,fe,me){return N(se,fe,me)},calcMediaTimeFromPresentationTime:function(se,fe){return se-fe.adaptation.period.start+fe.presentationTimeOffset},calcPeriodRelativeTimeFromMpdRelativeTime:function(se,fe){return fe-se.adaptation.period.start},calcPresentationTimeFromMediaTime:W,calcPresentationTimeFromWallTime:V,calcTimeShiftBufferWindow:function(se,fe){if(!fe)return(function(me){const pe={start:NaN,end:NaN};let _e=0,ee=NaN;return me.forEach((Q=>{const M=Q.getStreamInfo();_e+=M.duration,(isNaN(ee)||M.start<ee)&&(ee=M.start)})),pe.start=ee,pe.end=ee+_e,pe})(se);if(R.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){const me=O(se);return z(me.now,me.range),me.range}return(function(me){const pe={start:NaN,end:NaN};if(!me||me.length===0)return pe;const _e=me[0].getAdapter().getRegularPeriods()[0],ee=V(new Date,_e),Q=_e.mpd.timeShiftBufferDepth,M=isNaN(Q)?0:ee-Q;if(pe.start=H(me,M),pe.end=!isNaN(pe.start)&&ee<pe.start?ee:H(me,ee,!0),!isNaN(Q)&&pe.end<ee-Q&&(pe.end=NaN),R.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){const re=O(me);if(re.range.end<pe.start)return S.trigger(m.default.CONFORMANCE_VIOLATION,{level:ff.LEVELS.WARNING,event:ff.EVENTS.INVALID_DVR_WINDOW}),z(re.now,re.range),re.range}return pe})(se)},calcWallTimeForSegment:function(se,fe){let me,pe,_e;return fe&&(me=se.representation.adaptation.period.mpd.suggestedPresentationDelay,pe=se.presentationStartTime+me,_e=new Date(se.availabilityStartTime.getTime()+1e3*pe)),_e},getClientReferenceTime:function(){return Date.now()-1e3*L+1e3*B},getClientTimeOffset:function(){return B},initialize:function(){te(),S.on(f.default.UPDATE_TIME_SYNC_OFFSET,X,this)},reset:ie,setClientTimeOffset:U,setConfig:function(se){se&&se.dashManifestModel&&(D=se.dashManifestModel)}},D=Sr(x).getInstance(),ie(),k}R3.__dashjs_factory_name="TimelineConverter";var Nse=r.default.getSingletonFactory(R3),Fse=class{constructor(){this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null}};function k3(){let x,S;return x={initialize:function(R){if(S=new Fse,!R)return null;const k=R.indexOf("#");if(k!==-1){const D=R.substr(k+1).split("&");for(let L=0,B=D.length;L<B;++L){const U=D[L],N=U.indexOf("=");if(N!==-1){const V=U.substring(0,N);S.hasOwnProperty(V)&&(S[V]=U.substr(N+1))}}}},getURIFragmentData:function(){return S}},x}k3.__dashjs_factory_name="URIFragmentModel";var Use=r.default.getSingletonFactory(k3);const Bse=new Map([[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[p.default.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function C3(){let x,S,R,k,D,L,B,U,N,V,W;const O=this.context,z=(0,h.default)(O).getInstance(),H=[];function X(ye,ue=!1){k&&(ue?k.playbackRate=ye:re(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,(()=>{k.playbackRate=ye})))}function te(){return H.length>0}function ie(ye){let ue=H.indexOf(ye);if(ye!==null&&(ue!==-1&&H.splice(ue,1),R.get().streaming.buffer.syntheticStallEvents.enabled&&k&&!te())){const ke=()=>{if(X(V||1,R.get().streaming.buffer.syntheticStallEvents.ignoreReadyState),!k.paused){const xe=document.createEvent("Event");xe.initEvent("playing",!0,!1),k.dispatchEvent(xe)}};R.get().streaming.buffer.syntheticStallEvents.ignoreReadyState?ke():(B&&B.func&&B.event&&me(B.event,B.func),B=re(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,ke))}}function se(){if(k&&te()&&k.playbackRate===0){const ye=document.createEvent("Event");ye.initEvent("waiting",!0,!1),k.dispatchEvent(ye)}}function fe(ye,ue){k&&k.addEventListener(ye,ue)}function me(ye,ue){k&&k.removeEventListener(ye,ue)}function pe(){return k?k.readyState:NaN}function _e(){return k?k.buffered:null}function ee(){return k?k.clientWidth:NaN}function Q(){return k?k.clientHeight:NaN}function M(ye,ue,ke,xe,Oe){if(k){for(let Ge=0;Ge<k.textTracks.length;Ge++)if(k.textTracks[Ge].kind===ye&&(!ue||k.textTracks[Ge].label==ue)&&k.textTracks[Ge].language===ke&&k.textTracks[Ge].isTTML===xe&&k.textTracks[Ge].isEmbedded===Oe)return k.textTracks[Ge]}return null}function re(ye,ue){return ye===p.default.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||pe()>=ye?(ue(),null):(function(ke,xe){const Oe=()=>{me(ke,Oe),xe(ke)};return fe(ke,Oe),{func:Oe,event:ke}})(Bse.get(ye),ue)}return x={addEventListener:fe,addTextTrack:function(ye,ue,ke,xe,Oe){if(!k)return null;let Ge=M(ye,ue,ke,xe,Oe);return Ge||(Ge=k.addTextTrack(ye,ue,ke),Ge.isEmbedded=Oe,Ge.isTTML=xe),Ge},appendChild:function(ye){k&&(k.appendChild(ye),ye.isTTML!==void 0&&(k.textTracks[k.textTracks.length-1].isTTML=ye.isTTML,k.textTracks[k.textTracks.length-1].isEmbedded=ye.isEmbedded))},getBufferRange:_e,getClientHeight:Q,getClientWidth:ee,getElement:function(){return k},getEnded:function(){return k?k.ended:null},getPlaybackQuality:function(){if(!k)return null;let ye="webkitDroppedFrameCount"in k&&"webkitDecodedFrameCount"in k,ue=null;return"getVideoPlaybackQuality"in k?ue=k.getVideoPlaybackQuality():ye&&(ue={droppedVideoFrames:k.webkitDroppedFrameCount,totalVideoFrames:k.webkitDroppedFrameCount+k.webkitDecodedFrameCount,creationTime:new Date}),ue},getPlaybackRate:function(){return k?k.playbackRate:null},getPlayedRanges:function(){return k?k.played:null},getReadyState:pe,getSource:function(){return k?k.src:null},getTTMLRenderingDiv:function(){return U},getTextTrack:M,getTextTracks:function(){return k?k.textTracks:[]},getTime:function(){return k?isNaN(D)?k.currentTime:D:null},getVideoElementSize:function(){const ye=R.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;return{elementWidth:ee()*ye,elementHeight:Q()*ye}},getVideoHeight:function(){return k?k.videoHeight:NaN},getVideoRelativeOffsetLeft:function(){if(k){const ye=k.parentNode.host||k.parentNode;return ye?k.getBoundingClientRect().left-ye.getBoundingClientRect().left:NaN}return NaN},getVideoRelativeOffsetTop:function(){if(k){const ye=k.parentNode.host||k.parentNode;return ye?k.getBoundingClientRect().top-ye.getBoundingClientRect().top:NaN}return NaN},getVideoWidth:function(){return k?k.videoWidth:NaN},getVttRenderingDiv:function(){return N},initialize:function(){z.on(f.default.PLAYBACK_PLAYING,se,this)},isPaused:function(){return k?k.paused:null},isSeeking:function(){return k?k.seeking||!isNaN(D):null},isStalled:te,pause:function(){k&&(k.pause(),k.autoplay=!1)},play:function(){if(k){k.autoplay=!0;const ye=k.play();ye&&ye.catch&&typeof Promise<"u"&&ye.catch((ue=>{ue.name==="NotAllowedError"&&z.trigger(f.default.PLAYBACK_NOT_ALLOWED),S.warn(`Caught pending play exception - continuing (${ue})`)}))}},removeChild:function(ye){k&&k.removeChild(ye)},removeEventListener:me,reset:function(){clearTimeout(W),z.off(f.default.PLAYBACK_PLAYING,se,this),H.length=0},setConfig:function(ye){ye&&ye.settings&&(R=ye.settings)},setCurrentTime:function(ye,ue){k&&(L&&L.func&&L.event&&me(L.event,L.func),D=ye,L=re(p.default.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,(()=>{if(k)if(k.currentTime!==D)try{D=ue?(function(ke){const xe=_e();let Oe=ke,Ge=9999999999;if(xe)for(let Ne=0;Ne<xe.length;Ne++){const Z=xe.start(Ne),le=xe.end(Ne),ve=Math.abs(Z-ke),de=Math.abs(le-ke);if(ke>=Z&&ke<=le)return ke;ve<Ge&&(Ge=ve,Oe=Z),de<Ge&&(Ge=de,Oe=le)}return Oe})(D):D,isNaN(D)||(k.currentTime=D),D=NaN}catch(ke){k.readyState===0&&ke.code===ke.INVALID_STATE_ERR&&(W=setTimeout((function(){k.currentTime=D,D=NaN}),400))}else D=NaN})))},setDisableRemotePlayback:function(ye){k&&(k.disableRemotePlayback=ye)},setElement:function(ye){if(!(ye==null||ye&&/^(VIDEO|AUDIO)$/i.test(ye.nodeName)))throw"element is not video or audio DOM type!";k=ye},setPlaybackRate:X,setSource:function(ye){k&&(ye?k.src=ye:(k.removeAttribute("src"),k.load()))},setStallState:function(ye,ue){(function(ke,xe){xe?(function(Oe){if(Oe!==null&&k&&!k.seeking&&H.indexOf(Oe)===-1&&(H.push(Oe),R.get().streaming.buffer.syntheticStallEvents.enabled&&k&&H.length===1&&(R.get().streaming.buffer.syntheticStallEvents.ignoreReadyState||pe()>=p.default.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA))){V=k.playbackRate,X(0,!0);const Ge=document.createEvent("Event");Ge.initEvent("waiting",!0,!1),k.dispatchEvent(Ge)}})(ke):ie(ke)})(ye,ue)},setTTMLRenderingDiv:function(ye){U=ye,U.style.position="absolute",U.style.display="flex",U.style.overflow="hidden",U.style.pointerEvents="none",U.style.top=0,U.style.left=0},setVttRenderingDiv:function(ye){N=ye},waitForReadyState:re},S=(0,l.default)(O).getInstance().getLogger(x),R=(0,u.default)(O).getInstance(),D=NaN,x}C3.__dashjs_factory_name="VideoModel";var zse=r.default.getSingletonFactory(C3),$se=n(8986);function Iw(){const x="You must first call initialize() and set a source before calling this method",S="You must first call initialize() and set a valid source and view before calling this method",R="You must first call attachView() to set the video element before calling this method",k="You must first call attachSource() with a valid source before calling this method",D="MediaPlayer not initialized!",L=this.context,B=(0,h.default)(L).getInstance();let U=(0,u.default)(L).getInstance();const N=(0,l.default)(L).getInstance({settings:U});let V,W,O,z,H,X,te,ie,se,fe,me,pe,_e,ee,Q,M,re,ye,ue,ke,xe,Oe,Ge,Ne,Z,le,ve,de,Y,ce,oe,Ae,Se,De,ze,Ue,tt,gt,kt,Mt,un;function St(){Lt(null),pt(null),z=null,Q&&(Q.reset(),Q=null),M&&(M.reset(),M=null),xe&&xe.reset(),U.reset(),ye&&(ye.reset(),ye=null)}function Zt(){return!!O&&!!tt.getElement()}function En(){return(0,$se.getVersionString)()}function tr(){if(!te)throw S;return Y.isPaused()}function Jn(){if(!te)throw S;return Y.getIsDynamic()}function Dn(Fe){const lt=le&&le.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Ht=Se.getCurrentDVRInfo(lt);return Ht?Gn(Ht.range.start+Fe,Ht):0}function Gn(Fe,lt){let Ht=Y.getOriginalLiveDelay();return Fe>lt.range.end-Ht&&(Fe=lt.range.end-Ht),Fe}function et(Fe=""){if(!te)throw S;let lt=on().currentTime;return Fe!==""&&(lt=le.getTimeRelativeToStreamId(lt,Fe)),lt}function Rt(Fe){(0,wt.checkParameterType)(Fe,"boolean"),ie=Fe}function xt(){xe.restoreDefaultUTCTimingSources()}function Pt(){return Se}function on(){if(!tt.getElement())throw R;return tt.getElement()}function pt(Fe){if(!H)throw D;tt.setElement(Fe),Fe&&(st(),(function(){if(M||typeof dashjs>"u")return;let lt=dashjs.MetricsReporting;typeof lt=="function"&&(M=lt(L).create().createMetricsReporting({debug:N,eventBus:B,mediaElement:on(),adapter:ue,dashMetrics:Se,mediaPlayerModel:ke,events:f.default,constants:p.default,metricsConstants:o}))})(),(function(){if(re||typeof dashjs>"u")return;let lt=dashjs.MssHandler;typeof lt=="function"&&(fn.extend(lt.errors),re=lt(L).create({eventBus:B,mediaPlayerModel:ke,dashMetrics:Se,manifestModel:De,playbackController:Y,streamController:le,protectionController:Q,baseURLController:Ge,errHandler:Oe,events:f.default,constants:p.default,debug:N,initSegmentType:w.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:ht,ISOBoxer:Qp,settings:U}))})(),le&&le.switchToVideoElement(se)),te&&(Xe(),ut()),jt(se)}function Ut(Fe){if(!X)throw x;let lt=le.getActiveStreamInfo();return lt?ee.getTracksFor(Fe,lt.id).filter((Ht=>!Q||Q.areKeyIdsUsable(Ht.normalizedKeyIds))):[]}function Lt(Fe,lt=NaN){if(!H)throw D;typeof Fe=="string"&&gt.initialize(Fe),lt==null&&(lt=NaN),isNaN(lt)||(lt=Math.max(0,lt)),se=lt,O=Fe,(X||te)&&(Xe(),ut()),Zt()&&jt(se)}function Qt(){if(!X)throw x;let Fe=le.getActiveStreamInfo();return Fe?le.getStreamById(Fe.id):null}function Xe(){te=!1,X=!1,ue.reset(),le.reset(),de.reset(),Ae.reset(),Y.reset(),ce.reset(),oe.reset(),fe.reset(),me.reset(),ee.reset(),Mt.reset(),Q&&(U.get().streaming.protection.keepProtectionMediaKeys?Q.stop():(Q.reset(),Q=null,st())),ve.reset(),ze.reset(),Ue.reset()}function ut(){xe.resetPlaybackSessionSpecificSettings()}function Ct(){return Sae(L).create({debug:N,errHandler:Oe,dashMetrics:Se,mediaPlayerModel:ke,mssHandler:re,settings:U})}function st(){if(Q)return Q;if(typeof dashjs>"u")return null;let Fe=dashjs.Protection;if(typeof Fe=="function"){let lt=Fe(L).create();return f.default.extend(Fe.events),m.default.extend(Fe.events,{publicOnly:!0}),fn.extend(Fe.errors),Q=lt.createProtectionSystem({debug:N,errHandler:Oe,videoModel:tt,customParametersModel:xe,capabilities:Ne,eventBus:B,events:f.default,BASE64:ht,constants:p.default,cmcdModel:ze,settings:U}),Ne||(Ne=(0,UF.default)(L).getInstance()),Ne.setProtectionController(Q),Q}return null}function Nt(){if(!H)throw D;if(ye)return ye;if(typeof dashjs>"u")return null;let Fe=dashjs.OfflineController;if(typeof Fe=="function"){f.default.extend(Fe.events),m.default.extend(Fe.events,{publicOnly:!0}),fn.extend(Fe.errors);const lt=Ct(),Ht=gU(L).create();return Ht.setConfig({manifestModel:De,adapter:ue,manifestLoader:lt,errHandler:Oe,contentSteeringController:oe}),ye=Fe(L).create({debug:N,manifestUpdater:Ht,baseURLController:Ge,manifestLoader:lt,manifestModel:De,mediaPlayerModel:ke,abrController:fe,playbackController:Y,adapter:ue,errHandler:Oe,dashMetrics:Se,timelineConverter:_e,segmentBaseController:Mt,schemeLoaderFactory:pe,eventBus:B,events:f.default,errors:fn,constants:p.default,settings:U,dashConstants:Re.default,urlUtils:Ur(L).getInstance()}),ye}return null}function jt(Fe=NaN){ye&&ye.resetRecords(),!X&&O&&(X=!0,W.info("Streaming Initialized"),(function(){const lt=Ct();le||(le=f3(L).getInstance()),ve||(ve=Pse(L).create({errHandler:Oe,manifestModel:De,adapter:ue,mediaController:ee,baseURLController:Ge,videoModel:tt,settings:U})),Z.setConfig({capabilities:Ne,customParametersModel:xe,adapter:ue,settings:U,protectionController:Q,manifestModel:De,errHandler:Oe}),le.setConfig({capabilities:Ne,capabilitiesFilter:Z,manifestLoader:lt,manifestModel:De,mediaPlayerModel:ke,customParametersModel:xe,protectionController:Q,textController:ve,adapter:ue,dashMetrics:Se,errHandler:Oe,timelineConverter:_e,videoModel:tt,playbackController:Y,serviceDescriptionController:ce,contentSteeringController:oe,abrController:fe,throughputController:me,mediaController:ee,settings:U,baseURLController:Ge,uriFragmentModel:gt,segmentBaseController:Mt}),de.setConfig({settings:U,playbackController:Y,streamController:le,videoModel:tt,timelineConverter:_e,adapter:ue}),Y.setConfig({streamController:le,serviceDescriptionController:ce,dashMetrics:Se,adapter:ue,videoModel:tt,timelineConverter:_e,settings:U}),Ae.setConfig({streamController:le,playbackController:Y,mediaPlayerModel:ke,videoModel:tt,settings:U}),me.setConfig({settings:U,playbackController:Y}),fe.setConfig({streamController:le,capabilities:Ne,domStorage:kt,mediaPlayerModel:ke,customParametersModel:xe,throughputController:me,cmsdModel:Ue,dashMetrics:Se,adapter:ue,videoModel:tt,settings:U}),ze.setConfig({abrController:fe,dashMetrics:Se,playbackController:Y,serviceDescriptionController:ce,throughputController:me}),un.setConfig({serviceDescriptionController:ce}),Ue.setConfig({}),ee.initialize(),me.initialize(),fe.initialize(),le.initialize(ie,z),ve.initialize(),de.initialize(),Ae.initialize(),ze.initialize(ie),Ue.initialize(),oe.initialize(),Mt.initialize()})(),typeof O=="string"?le.load(O,Fe):le.loadWithManifest(O,Fe)),!te&&Zt()&&(te=!0,B.trigger(m.default.PLAYBACK_INITIALIZED),W.info("Playback Initialized"))}return V={addABRCustomRule:function(Fe,lt,Ht){xe.addAbrCustomRule(Fe,lt,Ht)},addExternalSubtitle:function(Fe){Fe instanceof sae.default||W.error("Invalid external subtitle object. Must be an instance of dashjs.ExternalSubtitle"),xe.addExternalSubtitle(Fe)},addRequestInterceptor:function(Fe){xe.addRequestInterceptor(Fe)},addResponseInterceptor:function(Fe){xe.addResponseInterceptor(Fe)},addUTCTimingSource:function(Fe,lt){xe.addUTCTimingSource(Fe,lt)},attachProtectionController:function(Fe){Q=Fe},attachSource:Lt,attachTTMLRenderingDiv:function(Fe){if(!tt.getElement())throw R;tt.setTTMLRenderingDiv(Fe)},attachView:pt,attachVttRenderingDiv:function(Fe){if(!tt.getElement())throw R;tt.setVttRenderingDiv(Fe)},clearDefaultUTCTimingSources:function(){xe.clearDefaultUTCTimingSources()},convertToTimeCode:function(Fe){Fe=Math.max(Fe,0);let lt=Math.floor(Fe/3600),Ht=Math.floor(Fe%3600/60),Jt=Math.floor(Fe%3600%60);return(lt===0?"":lt<10?"0"+lt.toString()+":":lt.toString()+":")+(Ht<10?"0"+Ht.toString():Ht.toString())+":"+(Jt<10?"0"+Jt.toString():Jt.toString())},destroy:function(){St(),r.default.deleteSingletonInstances(L)},duration:function(){if(!te)throw S;let Fe=on().duration;if(Y.getIsDynamic()){const lt=le&&le.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Ht=Se.getCurrentDVRInfo(lt);Fe=Ht?Ht.range.end-Ht.range.start:0}return Fe},enableForcedTextStreaming:function(Fe){return!(!le.getActiveStreamInfo()||!ve)&&ve.enableForcedTextStreaming(Fe)},enableText:function(Fe){const lt=le.getActiveStreamInfo();return!(!lt||!ve)&&ve.enableText(lt.id,Fe)},extend:function(Fe,lt,Ht){r.default.extend(Fe,lt,Ht,L)},formatUTC:function(Fe,lt,Ht,Jt=!1){const Vn=new Date(1e3*Fe),vt=Vn.toLocaleDateString(lt),nn=Vn.toLocaleTimeString(lt,{hour12:Ht});return Jt?nn+" "+vt:nn},getABRCustomRules:function(){return xe.getAbrCustomRules()},getActiveStream:Qt,getAutoPlay:function(){return ie},getAvailableBaseUrls:function(){const Fe=De.getValue();return Fe?Ge.getBaseUrls(Fe):[]},getAvailableLocations:function(){const Fe=De.getValue();if(!Fe)return[];const lt=ue.getLocation(Fe),Ht=oe.getSynthesizedLocationElements(lt);return lt.concat(Ht)},getAverageLatency:function(Fe=p.default.VIDEO,lt=null,Ht=NaN){return me?me.getAverageLatency(Fe,lt,Ht):0},getAverageThroughput:function(Fe=p.default.VIDEO,lt=null,Ht=NaN){return me?me.getAverageThroughput(Fe,lt,Ht):0},getBufferLength:function(Fe){const lt=[p.default.VIDEO,p.default.AUDIO,p.default.TEXT];if(Fe)return lt.indexOf(Fe)!==-1?Pt().getCurrentBufferLevel(Fe)||NaN:(W.warn("getBufferLength requested for invalid type"),NaN);{const Ht=lt.map((Jt=>Ut(Jt).length>0?Pt().getCurrentBufferLevel(Jt):Number.MAX_VALUE)).reduce(((Jt,Vn)=>Math.min(Jt,Vn)));return Ht===Number.MAX_VALUE?NaN:Ht}},getCurrentLiveLatency:function(){if(!H)throw D;return te?Y.getCurrentLiveLatency():NaN},getCurrentRepresentationForType:function(Fe){if(!X)throw x;if(Fe!==p.default.IMAGE&&Fe!==p.default.VIDEO&&Fe!==p.default.AUDIO)return null;const lt=Qt();if(!lt)return null;if(Fe===p.default.IMAGE){const Ht=lt.getThumbnailController();return Ht?Ht.getCurrentTrack():-1}return lt.getCurrentRepresentationForType(Fe)},getCurrentSteeringResponseData:function(){if(oe)return oe.getCurrentSteeringResponseData()},getCurrentTextTrackIndex:function(){let Fe=NaN;const lt=le.getActiveStreamInfo();if(lt&&ve)return Fe=ve.getCurrentTrackIdx(lt.id),Fe},getCurrentTrackFor:function(Fe){if(!X)throw x;let lt=le.getActiveStreamInfo();return lt?ee.getCurrentTrackFor(Fe,lt.id):null},getDashAdapter:function(){return ue},getDashMetrics:Pt,getDebug:function(){return N},getDvrSeekOffset:Dn,getDvrWindow:function(){if(!te)throw S;const Fe=le&&le.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let lt=Se.getCurrentDVRInfo(Fe);if(!lt)return{};let Ht=0;const Jt=Y.getIsDynamic();return Jt&&(Ht=lt.manifestInfo.availableFrom.getTime()/1e3),{start:lt.range.start,end:lt.range.end,startAsUtc:Jt?Ht+lt.range.start:NaN,endAsUtc:Jt?Ht+lt.range.end:NaN,size:lt.range.end-lt.range.start}},getExternalSubtitles:function(){xe.getExternalSubtitles()},getInitialMediaSettingsFor:function(Fe){if(!H)throw D;return ee.getInitialSettings(Fe)},getLowLatencyModeEnabled:function(){if(!te)throw S;return Y.getLowLatencyModeEnabled()},getManifest:function(){return De.getValue()},getOfflineController:function(){return Nt()},getPlaybackRate:function(){return on().playbackRate},getProtectionController:function(){return st()},getRawThroughputData:function(Fe=p.default.VIDEO){return me?me.getRawThroughputData(Fe):[]},getRepresentationsByType:function(Fe,lt=null){if(!X)throw x;let Ht=lt?le.getStreamById(lt):Qt();return Ht?Ht.getRepresentationsByType(Fe):[]},getSafeAverageThroughput:function(Fe=p.default.VIDEO,lt=null,Ht=NaN){return me?me.getSafeAverageThroughput(Fe,lt,Ht):0},getSettings:function(){return U.get()},getSource:function(){if(!O)throw k;return O},getStreamsFromManifest:function(Fe){if(!X)throw x;return ue.getStreamsInfo(Fe)},getTTMLRenderingDiv:function(){return tt?tt.getTTMLRenderingDiv():null},getTargetLiveDelay:function(){if(!te)throw S;return Y.getOriginalLiveDelay()},getTracksFor:Ut,getTracksForTypeFromManifest:function(Fe,lt,Ht){if(!X)throw x;return(Ht=Ht||ue.getStreamsInfo(lt,1)[0])?ue.getAllMediaInfoForType(Ht,Fe,lt):[]},getVersion:En,getVideoElement:on,getVolume:function(){return on().volume},getXHRWithCredentialsForType:function(Fe){return xe.getXHRWithCredentialsForType(Fe)},initialize:function(Fe,lt,Ht,Jt=NaN){Ne||(Ne=(0,UF.default)(L).getInstance(),Ne.setConfig({settings:U,protectionController:Q})),Oe||(Oe=aae(L).getInstance()),Ne.supportsMediaSource()?(H||(H=!0,_e=Nse(L).getInstance(),me||(me=Mse(L).getInstance()),fe||(fe=Tr(L).getInstance()),pe||(pe=CF(L).getInstance()),Y||(Y=kae(L).getInstance()),ee||(ee=xae(L).getInstance()),le||(le=f3(L).getInstance()),de||(de=oae(L).getInstance()),Ae||(Ae=Rie(L).getInstance()),ce||(ce=Oae(L).getInstance()),oe||(oe=lw(L).getInstance()),Z||(Z=xie(L).getInstance()),ue=Hie(L).getInstance(),De=wae(L).getInstance(),ze=fF(L).getInstance(),Ue=TF(L).getInstance(),un=AF(L).getInstance(),Se=iae(L).getInstance({settings:U}),kt=Cie(L).getInstance({settings:U}),ue.setConfig({constants:p.default,cea608parser:new y3,errHandler:Oe,BASE64:ht}),Ge||(Ge=wie(L).create()),Ge.setConfig({adapter:ue,contentSteeringController:oe}),ce.setConfig({adapter:ue}),Mt||(Mt=Lae(L).getInstance({dashMetrics:Se,mediaPlayerModel:ke,errHandler:Oe,baseURLController:Ge,events:f.default,eventBus:B,debug:N,boxParser:Ib(L).getInstance(),errors:fn})),ee.setConfig({domStorage:kt,settings:U,mediaPlayerModel:ke,customParametersModel:xe,videoModel:tt}),ke.setConfig({playbackController:Y,serviceDescriptionController:ce}),oe.setConfig({adapter:ue,errHandler:Oe,dashMetrics:Se,mediaPlayerModel:ke,manifestModel:De,serviceDescriptionController:ce,throughputController:me,eventBus:B}),xt(),Rt(Ht===void 0||Ht),Nt()),Fe&&pt(Fe),lt&&Lt(lt,Jt),W.info("[dash.js "+En()+"] MediaPlayer has been initialized")):Oe.error(new an.default(fn.CAPABILITY_MEDIASOURCE_ERROR_CODE,fn.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},isDynamic:Jn,isMuted:function(){return on().muted},isPaused:tr,isReady:Zt,isSeeking:function(){if(!te)throw S;return Y.isSeeking()},isTextEnabled:function(){const Fe=le.getActiveStreamInfo();return!(!Fe||!ve)&&ve.isTextEnabled(Fe)},off:function(Fe,lt,Ht){B.off(Fe,lt,Ht)},on:function(Fe,lt,Ht,Jt){B.on(Fe,lt,Ht,Jt)},pause:function(){if(!te)throw S;Y.pause()},play:function(){if(!te)throw S;(!ie||tr()&&te)&&Y.play(!0)},preload:function(){if(!tt.getElement()&&!X){if(!O)throw k;jt(se)}},provideThumbnail:function(Fe,lt){if(typeof lt!="function")return;if(Fe<0)return void lt(null);const Ht=Y.getIsDynamic()?Dn(Fe):Fe,Jt=le.getStreamForTime(Ht);if(Jt===null)return void lt(null);const Vn=Jt.getThumbnailController();if(Vn)return Vn.provide(Ht,lt);lt(null)},refreshManifest:function(Fe){if(!H)throw D;if(!Zt())return Fe(null,k);let lt=this;if(typeof Fe=="function"){const Ht=function(Jt){B.off(f.default.INTERNAL_MANIFEST_LOADED,Ht,lt),Jt.error?Fe(null,Jt.error):Fe(Jt.manifest)};B.on(f.default.INTERNAL_MANIFEST_LOADED,Ht,lt)}le.refreshManifest()},registerCustomCapabilitiesFilter:function(Fe){xe.registerCustomCapabilitiesFilter(Fe)},registerLicenseRequestFilter:function(Fe){xe.registerLicenseRequestFilter(Fe)},registerLicenseResponseFilter:function(Fe){xe.registerLicenseResponseFilter(Fe)},removeABRCustomRule:function(Fe){xe.removeAbrCustomRule(Fe)},removeAllABRCustomRule:function(){xe.removeAllAbrCustomRule()},removeExternalSubtitleById:function(Fe){xe.removeExternalSubtitleById(Fe)},removeExternalSubtitleByUrl:function(Fe){xe.removeExternalSubtitleByUrl(Fe)},removeRequestInterceptor:function(Fe){xe.removeRequestInterceptor(Fe)},removeResponseInterceptor:function(Fe){xe.removeResponseInterceptor(Fe)},removeUTCTimingSource:function(Fe,lt){xe.removeUTCTimingSource(Fe,lt)},reset:St,resetCustomInitialTrackSelectionFunction:function(){xe.resetCustomInitialTrackSelectionFunction(null)},resetSettings:function(){U.reset()},restoreDefaultUTCTimingSources:xt,retrieveManifest:function(Fe,lt){let Ht=Ct(),Jt=this;const Vn=function(vt){vt.error?lt(null,vt.error):lt(vt.manifest),B.off(f.default.INTERNAL_MANIFEST_LOADED,Vn,Jt),Ht.reset()};B.on(f.default.INTERNAL_MANIFEST_LOADED,Vn,Jt),gt.initialize(Fe),Ht.load(Fe)},seek:function(Fe){if(!te)throw S;if((0,wt.checkParameterType)(Fe,"number"),isNaN(Fe))throw p.default.BAD_ARGUMENT_ERROR;Fe<0&&(Fe=0);let lt=Y.getIsDynamic()?Dn(Fe):Fe;const Ht=on();!Y.getIsDynamic()&&Ht.duration&&(lt=Math.min(Ht.duration,lt)),Y.seek(lt,!1,!1,!0)},seekToOriginalLive:function(){te&&Jn()&&Y.seekToOriginalLive()},seekToPresentationTime:function(Fe){if(!te)throw S;if((0,wt.checkParameterType)(Fe,"number"),isNaN(Fe))throw p.default.BAD_ARGUMENT_ERROR;Fe<0&&(Fe=0);const lt=on();if(!Y.getIsDynamic()&&lt.duration&&(Fe=Math.min(lt.duration,Fe)),Y.getIsDynamic()){const Ht=le&&le.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Jt=Se.getCurrentDVRInfo(Ht);if(!Jt)return;(Fe=Gn(Fe,Jt))<Jt.range.start&&(Fe=Jt.range.start)}Y.seek(Fe,!1,!1,!0)},setAutoPlay:Rt,setConfig:function(Fe){Fe&&(Fe.capabilities&&(Ne=Fe.capabilities),Fe.capabilitiesFilter&&(Z=Fe.capabilitiesFilter),Fe.streamController&&(le=Fe.streamController),Fe.textController&&(ve=Fe.textController),Fe.gapController&&(de=Fe.gapController),Fe.throughputController&&(me=Fe.throughputController),Fe.playbackController&&(Y=Fe.playbackController),Fe.serviceDescriptionController&&(ce=Fe.serviceDescriptionController),Fe.contentSteeringController&&(oe=Fe.contentSteeringController),Fe.clientDataReportingController&&(un=Fe.clientDataReportingController),Fe.catchupController&&(Ae=Fe.catchupController),Fe.mediaPlayerModel&&(ke=Fe.mediaPlayerModel),Fe.customParametersModel&&(xe=Fe.customParametersModel),Fe.abrController&&(fe=Fe.abrController),Fe.schemeLoaderFactory&&(pe=Fe.schemeLoaderFactory),Fe.mediaController&&(ee=Fe.mediaController),Fe.settings&&(U=Fe.settings),Fe.dashMetrics&&(Se=Fe.dashMetrics))},setCurrentTrack:function(Fe,lt=!1){if(!X)throw x;!Q||Q.areKeyIdsUsable(Fe.normalizedKeyIds)?ee.setTrack(Fe,{noSettingsSave:lt}):W.error(`Can not switch to track with index ${Fe.index} because key is not usable`)},setCustomInitialTrackSelectionFunction:function(Fe){xe.setCustomInitialTrackSelectionFunction(Fe)},setInitialMediaSettingsFor:function(Fe,lt){if(!H)throw D;let Ht=(function(Jt){const Vn=U.get().streaming.defaultSchemeIdUri;let vt={};function nn(Ln,Cn,Xn){let jn={};if(Cn){if(Cn instanceof Array)throw"Array type not supported for settings!";return Cn instanceof Object?(jn.schemeIdUri=Cn.schemeIdUri?Cn.schemeIdUri:"",jn.value=Cn.value?Cn.value:""):(jn.schemeIdUri=Xn,jn.value=Cn,W.warn("No schemeIdUri provided for "+Ln+', using default "'+Xn+'"')),jn}return null}return Jt.id!==void 0&&(vt.id=Jt.id),Jt.lang!==void 0&&(vt.lang=Jt.lang),isNaN(Jt.index)||(vt.index=Jt.index),Jt.viewpoint!==void 0&&(vt.viewpoint=nn("viewpoint",Jt.viewpoint,Vn.viewpoint)),Jt.audioChannelConfiguration!==void 0&&(vt.audioChannelConfiguration=nn("audioChannelConfiguration",Jt.audioChannelConfiguration,Vn.audioChannelConfiguration)),Jt.role!==void 0&&Jt.role!==null&&(vt.role=nn("role",Jt.role,Vn.role),vt.role.schemeIdUri===p.default.DASH_ROLE_SCHEME_ID&&vt.role.value==="Main"&&(vt.role.value=Re.default.MAIN)),Jt.accessibility!==void 0&&(vt.accessibility=nn("accessibility",Jt.accessibility,Vn.accessibility)),vt})(lt);ee.setInitialSettings(Fe,Ht)},setMute:function(Fe){(0,wt.checkParameterType)(Fe,"boolean"),on().muted=Fe},setPlaybackRate:function(Fe){on().playbackRate=Fe},setProtectionData:function(Fe){z=Fe,le&&le.setProtectionData(z)},setRepresentationForTypeById:function(Fe,lt,Ht=!1){if(Fe!==p.default.IMAGE&&Fe!==p.default.VIDEO&&Fe!==p.default.AUDIO)return;if(!X)throw x;const Jt=Qt();if(Jt)if(Fe===p.default.IMAGE){const Vn=Jt.getThumbnailController();Vn&&Vn.setTrackById(lt)}else{const Vn=Jt.getRepresentationForTypeById(Fe,lt);Vn&&fe.manuallySetPlaybackQuality(Fe,le.getActiveStreamInfo(),Vn,{forceReplace:Ht})}},setRepresentationForTypeByIndex:function(Fe,lt,Ht=!1){if(Fe!==p.default.IMAGE&&Fe!==p.default.VIDEO&&Fe!==p.default.AUDIO)return;if(!X)throw x;const Jt=Qt();if(Jt)if(Fe===p.default.IMAGE){const Vn=Jt.getThumbnailController();Vn&&Vn.setTrackByIndex(lt)}else{const Vn=Jt.getRepresentationForTypeByIndex(Fe,lt);Vn&&fe.manuallySetPlaybackQuality(Fe,le.getActiveStreamInfo(),Vn,{forceReplace:Ht})}},setTextTrack:function(Fe){if(!te)throw S;const lt=le.getActiveStreamInfo();lt&&ve&&ve.setTextTrack(lt.id,Fe)},setVolume:function(Fe){if(typeof Fe!="number"||isNaN(Fe)||Fe<0||Fe>1)throw p.default.BAD_ARGUMENT_ERROR;on().volume=Fe},setXHRWithCredentialsForType:function(Fe,lt){xe.setXHRWithCredentialsForType(Fe,lt)},time:et,timeAsUTC:function(){if(!te)throw S;if(!Y.getIsDynamic()||et()<0)return NaN;const Fe=le&&le.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let lt,Ht,Jt=Se.getCurrentDVRInfo(Fe);return Jt?(lt=Jt.manifestInfo.availableFrom.getTime()/1e3,Ht=lt+et(),Ht):0},timeInDvrWindow:function(){if(!te)throw S;if(!Y.getIsDynamic())return et();let Fe=on().currentTime;const lt=le&&le.hasVideoTrack()?p.default.VIDEO:p.default.AUDIO;let Ht=Se.getCurrentDVRInfo(lt);return Fe=Ht===null||Fe===0?0:Math.max(0,Fe-Ht.range.start),Fe},trigger:function(Fe,lt,Ht){B.trigger(Fe,lt,Ht)},triggerSteeringRequest:function(){if(oe)return oe.loadSteeringData()},unregisterCustomCapabilitiesFilter:function(Fe){xe.unregisterCustomCapabilitiesFilter(Fe)},unregisterLicenseRequestFilter:function(Fe){xe.unregisterLicenseRequestFilter(Fe)},unregisterLicenseResponseFilter:function(Fe){xe.unregisterLicenseResponseFilter(Fe)},updateSettings:function(Fe){U.update(Fe)},updateSource:function(Fe){O=Fe,le.load(O)}},W=N.getLogger(V),H=!1,te=!1,X=!1,ie=!0,se=NaN,Q=null,ye=null,z=null,ue=null,Mt=null,f.default.extend(m.default),ke=Rae(L).getInstance(),xe=(0,aw.default)(L).getInstance(),tt=zse(L).getInstance(),gt=Use(L).getInstance(),V}Iw.__dashjs_factory_name="MediaPlayer";const Mb=r.default.getClassFactory(Iw);Mb.events=m.default,Mb.errors=fn,r.default.updateClassFactory(Iw.__dashjs_factory_name,Mb);var qse=Mb},1191:function(t,e,n){n.r(e);var r=n(7252);class i extends r.default{constructor(){super(),this.AST_IN_FUTURE="astInFuture",this.BASE_URLS_UPDATED="baseUrlsUpdated",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.DVB_FONT_DOWNLOAD_ADDED="dvbFontDownloadAdded",this.DVB_FONT_DOWNLOAD_COMPLETE="dvbFontDownloadComplete",this.DVB_FONT_DOWNLOAD_FAILED="dvbFontDownloadFailed",this.DYNAMIC_TO_STATIC="dynamicToStatic",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADING_STARTED="manifestLoadingStarted",this.MANIFEST_LOADING_FINISHED="manifestLoadingFinished",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.NEW_TRACK_SELECTED="newTrackSelected",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_UPDATED="streamUpdated",this.STREAM_ACTIVATED="streamActivated",this.STREAM_DEACTIVATED="streamDeactivated",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.CUE_ENTER="cueEnter",this.CUE_EXIT="cueExit",this.THROUGHPUT_MEASUREMENT_STORED="throughputMeasurementStored",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.CAN_PLAY_THROUGH="canPlayThrough",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_INITIALIZED="playbackInitialized",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_LOADED_DATA="playbackLoadedData",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",this.EVENT_MODE_ON_START="eventModeOnStart",this.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",this.CONFORMANCE_VIOLATION="conformanceViolation",this.REPRESENTATION_SWITCH="representationSwitch",this.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",this.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",this.INBAND_PRFT="inbandPrft",this.MANAGED_MEDIA_SOURCE_START_STREAMING="managedMediaSourceStartStreaming",this.MANAGED_MEDIA_SOURCE_END_STREAMING="managedMediaSourceEndStreaming"}}let o=new i;e.default=o},5212:function(t,e,n){n.r(e),e.default={STREAM:"stream",VIDEO:"video",ENHANCEMENT:"enhancement",AUDIO:"audio",TEXT:"text",MUXED:"muxed",IMAGE:"image",STPP:"stpp",TTML:"ttml",VTT:"vtt",WVTT:"wvtt",CONTENT_STEERING:"contentSteering",LIVE_CATCHUP_MODE_DEFAULT:"liveCatchupModeDefault",LIVE_CATCHUP_MODE_LOLP:"liveCatchupModeLoLP",MOVING_AVERAGE_SLIDING_WINDOW:"slidingWindow",MOVING_AVERAGE_EWMA:"ewma",BAD_ARGUMENT_ERROR:"Invalid Arguments",MISSING_CONFIG_ERROR:"Missing config parameter(s)",TRACK_SWITCH_MODE_ALWAYS_REPLACE:"alwaysReplace",TRACK_SWITCH_MODE_NEVER_REPLACE:"neverReplace",TRACK_SELECTION_MODE_FIRST_TRACK:"firstTrack",TRACK_SELECTION_MODE_HIGHEST_BITRATE:"highestBitrate",TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:"highestEfficiency",TRACK_SELECTION_MODE_LOWEST_STARTUP_DELAY:"lowestStartupDelay",TRACK_SELECTION_MODE_WIDEST_RANGE:"widestRange",CMCD_QUERY_KEY:"CMCD",CMCD_MODE_QUERY:"query",CMCD_MODE_HEADER:"header",CMCD_AVAILABLE_KEYS:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"],CMCD_V2_AVAILABLE_KEYS:["msd","ltc"],CMCD_AVAILABLE_REQUESTS:["segment","mpd","xlink","steering","other"],INITIALIZE:"initialize",TEXT_SHOWING:"showing",TEXT_HIDDEN:"hidden",TEXT_DISABLED:"disabled",ACCESSIBILITY_CEA608_SCHEME:"urn:scte:dash:cc:cea-608:2015",CC1:"CC1",CC3:"CC3",UTF8:"utf-8",SCHEME_ID_URI:"schemeIdUri",START_TIME:"starttime",SERVICE_DESCRIPTION_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:scope:2019",SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME:"urn:dvb:dash:lowlatency:critical:2019",CTA_5004_2023_SCHEME:"urn:mpeg:dash:cta-5004:2023",THUMBNAILS_SCHEME_ID_URIS:["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"],FONT_DOWNLOAD_DVB_SCHEME:"urn:dvb:dash:fontdownload:2014",COLOUR_PRIMARIES_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:ColourPrimaries",URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2014",EXT_URL_QUERY_INFO_SCHEME:"urn:mpeg:dash:urlparam:2016",MATRIX_COEFFICIENTS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:MatrixCoefficients",TRANSFER_CHARACTERISTICS_SCHEME_ID_URI:"urn:mpeg:mpegB:cicp:TransferCharacteristics",SEGMENT_SEQUENCE_REPRESENTATION_SCHEME_ID_URI:"urn:mpeg:dash:ssr:2023",HDR_METADATA_FORMAT_SCHEME_ID_URI:"urn:dvb:dash:hdr-dmi",HDR_METADATA_FORMAT_VALUES:{ST2094_10:"ST2094-10",SL_HDR2:"SL-HDR2",ST2094_40:"ST2094-40"},MEDIA_CAPABILITIES_API:{COLORGAMUT:{SRGB:"srgb",P3:"p3",REC2020:"rec2020"},TRANSFERFUNCTION:{SRGB:"srgb",PQ:"pq",HLG:"hlg"},HDR_METADATATYPE:{SMPTE_ST_2094_10:"smpteSt2094-10",SLHDR2:"slhdr2",SMPTE_ST_2094_40:"smpteSt2094-40"}},XML:"XML",ARRAY_BUFFER:"ArrayBuffer",DVB_REPORTING_URL:"dvb:reportingUrl",DVB_PROBABILITY:"dvb:probability",OFF_MIMETYPE:"application/font-sfnt",WOFF_MIMETYPE:"application/font-woff",VIDEO_ELEMENT_READY_STATES:{HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},FILE_LOADER_TYPES:{FETCH:"fetch_loader",XHR:"xhr_loader"},THROUGHPUT_TYPES:{LATENCY:"throughput_type_latency",BANDWIDTH:"throughput_type_bandwidth"},THROUGHPUT_CALCULATION_MODES:{EWMA:"throughputCalculationModeEwma",ZLEMA:"throughputCalculationModeZlema",ARITHMETIC_MEAN:"throughputCalculationModeArithmeticMean",BYTE_SIZE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeByteSizeWeightedArithmeticMean",DATE_WEIGHTED_ARITHMETIC_MEAN:"throughputCalculationModeDateWeightedArithmeticMean",HARMONIC_MEAN:"throughputCalculationModeHarmonicMean",BYTE_SIZE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeByteSizeWeightedHarmonicMean",DATE_WEIGHTED_HARMONIC_MEAN:"throughputCalculationModeDateWeightedHarmonicMean"},LOW_LATENCY_DOWNLOAD_TIME_CALCULATION_MODE:{MOOF_PARSING:"lowLatencyDownloadTimeCalculationModeMoofParsing",DOWNLOADED_DATA:"lowLatencyDownloadTimeCalculationModeDownloadedData",AAST:"lowLatencyDownloadTimeCalculationModeAast"},RULES_TYPES:{QUALITY_SWITCH_RULES:"qualitySwitchRules",ABANDON_FRAGMENT_RULES:"abandonFragmentRules"},QUALITY_SWITCH_RULES:{BOLA_RULE:"BolaRule",THROUGHPUT_RULE:"ThroughputRule",INSUFFICIENT_BUFFER_RULE:"InsufficientBufferRule",SWITCH_HISTORY_RULE:"SwitchHistoryRule",DROPPED_FRAMES_RULE:"DroppedFramesRule",LEARN_TO_ADAPT_RULE:"L2ARule",LOL_PLUS_RULE:"LoLPRule"},ABANDON_FRAGMENT_RULES:{ABANDON_REQUEST_RULE:"AbandonRequestsRule"},ID3_SCHEME_ID_URI:"https://aomedia.org/emsg/ID3",COMMON_ACCESS_TOKEN_HEADER:"common-access-token",DASH_ROLE_SCHEME_ID:"urn:mpeg:dash:role:2011",CODEC_FAMILIES:{MP3:"mp3",AAC:"aac",AC3:"ac3",EC3:"ec3",DTSX:"dtsx",DTSC:"dtsc",AVC:"avc",HEVC:"hevc"}}},2861:function(t,e,n){n.r(e),e.default={CLEARKEY_KEYSTEM_STRING:"org.w3.clearkey",WIDEVINE_KEYSTEM_STRING:"com.widevine.alpha",PLAYREADY_KEYSTEM_STRING:"com.microsoft.playready",PLAYREADY_RECOMMENDATION_KEYSTEM_STRING:"com.microsoft.playready.recommendation",WIDEVINE_UUID:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",PLAYREADY_UUID:"9a04f079-9840-4286-ab92-e65be0885f95",CLEARKEY_UUID:"e2719d58-a985-b3c9-781a-b030af78d30e",W3C_CLEARKEY_UUID:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",INITIALIZATION_DATA_TYPE_CENC:"cenc",INITIALIZATION_DATA_TYPE_KEYIDS:"keyids",INITIALIZATION_DATA_TYPE_WEBM:"webm",ENCRYPTION_SCHEME_CENC:"cenc",ENCRYPTION_SCHEME_CBCS:"cbcs",MEDIA_KEY_MESSAGE_TYPES:{LICENSE_REQUEST:"license-request",LICENSE_RENEWAL:"license-renewal",LICENSE_RELEASE:"license-release",INDIVIDUALIZATION_REQUEST:"individualization-request"},ROBUSTNESS_STRINGS:{WIDEVINE:{SW_SECURE_CRYPTO:"SW_SECURE_CRYPTO",SW_SECURE_DECODE:"SW_SECURE_DECODE",HW_SECURE_CRYPTO:"HW_SECURE_CRYPTO",HW_SECURE_DECODE:"HW_SECURE_DECODE",HW_SECURE_ALL:"HW_SECURE_ALL"}},MEDIA_KEY_STATUSES:{USABLE:"usable",EXPIRED:"expired",RELEASED:"released",OUTPUT_RESTRICTED:"output-restricted",OUTPUT_DOWNSCALED:"output-downscaled",STATUS_PENDING:"status-pending",INTERNAL_ERROR:"internal-error"}}},4469:function(t,e,n){n.r(e),n.d(e,{default:function(){return $}});class r{constructor(){this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null}}r.SSL_CONNECTION_FAILED_PREFIX="SSL",r.DNS_RESOLUTION_FAILED="C00",r.HOST_UNREACHABLE="C01",r.CONNECTION_REFUSED="C02",r.CONNECTION_ERROR="C03",r.CORRUPT_MEDIA_ISOBMFF="M00",r.CORRUPT_MEDIA_OTHER="M01",r.BASE_URL_CHANGED="F00",r.BECAME_REPORTER="S00";var i=r,o=n(913),l=n(138);function u(ae){let ne,$e;const Qe=(ae=ae||{}).eventBus,Ve=ae.dashMetrics,We=ae.metricsConstants,Ke=ae.events;function Je(Wt){let Ze=new i;if($e){for(const At in Wt)Wt.hasOwnProperty(At)&&(Ze[At]=Wt[At]);Ze.mpdurl||(Ze.mpdurl=$e.originalUrl||$e.url),Ze.terror||(Ze.terror=new Date),Ve.addDVBErrors(Ze)}}function ft(Wt){Wt.error||($e=Wt.manifest)}function nt(Wt){Je({errorcode:i.BASE_URL_CHANGED,servicelocation:Wt.entry})}function bt(){Je({errorcode:i.BECAME_REPORTER})}function tn(Wt){var Ze;Wt.metric===We.HTTP_REQUEST&&((Ze=Wt.value).responsecode===0||Ze.responsecode==null||Ze.responsecode>=400||Ze.responsecode<100||Ze.responsecode>=600)&&Je({errorcode:Ze.responsecode||i.CONNECTION_ERROR,url:Ze.url,terror:Ze.tresponse,servicelocation:Ze._serviceLocation})}function zt(Wt){let Ze;switch(Wt.error?Wt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:Ze=i.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:Ze=i.CORRUPT_MEDIA_OTHER;break;default:return}Je({errorcode:Ze})}return ne={initialize:function(){Qe.on(Ke.MANIFEST_UPDATED,ft,ne),Qe.on(Ke.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,nt,ne),Qe.on(Ke.METRIC_ADDED,tn,ne),Qe.on(Ke.METRIC_UPDATED,tn,ne),Qe.on(Ke.PLAYBACK_ERROR,zt,ne),Qe.on(o.default.BECAME_REPORTING_PLAYER,bt,ne)},reset:function(){Qe.off(Ke.MANIFEST_UPDATED,ft,ne),Qe.off(Ke.SERVICE_LOCATION_BASE_URL_BLACKLIST_CHANGED,nt,ne),Qe.off(Ke.METRIC_ADDED,tn,ne),Qe.off(Ke.METRIC_UPDATED,tn,ne),Qe.off(Ke.PLAYBACK_ERROR,zt,ne),Qe.off(o.default.BECAME_REPORTING_PLAYER,bt,ne)}},ne}u.__dashjs_factory_name="DVBErrorsTranslator";var c=l.default.getSingletonFactory(u),d=n(7377);function h(ae){ae=ae||{};let ne,$e,Qe=!1,Ve=this.context,We=ae.mediaElement;return ne={initialize:function(Ke){Ke&&Ke.length&&(Ke.forEach((Je=>{let ft=Je.starttime,nt=ft+Je.duration;$e.add(ft,nt)})),Qe=!!Ke[0]._useWallClockTime)},reset:function(){$e.clear()},isEnabled:function(){let Ke,Je=$e.length;if(!Je)return!0;Ke=Qe?new Date().getTime()/1e3:We.currentTime;for(let ft=0;ft<Je;ft+=1){let nt=$e.start(ft),bt=$e.end(ft);if(nt<=Ke&&Ke<bt)return!0}return!1}},$e=(0,d.default)(Ve).create(),ne}h.__dashjs_factory_name="RangeController";var f=l.default.getClassFactory(h);function p(){return{serialise:function ae(ne){let $e,Qe,Ve=[],We=[];for($e in ne)if(ne.hasOwnProperty($e)&&$e.indexOf("_")!==0){if(Qe=ne[$e],Qe==null&&(Qe=""),Array.isArray(Qe)){if(!Qe.length)continue;We=[],Qe.forEach((function(Ke){let Je=Object.prototype.toString.call(Ke).slice(8,-1)!=="Object";We.push(Je?Ke:ae(Ke))})),Qe=We.map(encodeURIComponent).join(",")}else typeof Qe=="string"?Qe=encodeURIComponent(Qe):Qe instanceof Date?Qe=Qe.toISOString():typeof Qe=="number"&&(Qe=Math.round(Qe));Ve.push($e+"="+Qe)}return Ve.join("&")}}}p.__dashjs_factory_name="MetricSerialiser";var m=l.default.getSingletonFactory(p);function g(){let ae,ne,$e,Qe=window.crypto||window.msCrypto,Ve=Uint32Array,We=Math.pow(2,8*Ve.BYTES_PER_ELEMENT)-1;function Ke(){Qe&&(ae||(ae=new Ve(10)),Qe.getRandomValues(ae),ne=0)}return $e={random:function(Je,ft){let nt;return Je||(Je=0),ft||(ft=1),Qe?(ne===ae.length&&Ke(),nt=ae[ne]/We,ne+=1):nt=Math.random(),nt*(ft-Je)+Je}},Ke(),$e}g.__dashjs_factory_name="RNG";var y=l.default.getSingletonFactory(g),b=n(1926);function v(ae){let ne;ae=ae||{};let $e,Qe,Ve,We,Ke,Je,ft,nt=this.context,bt=[];const tn=ae.metricsConstants;function zt(){We=!1,Ke=!1,Je=null,ft=null}return ne={report:function(Wt,Ze){Array.isArray(Ze)||(Ze=[Ze]),Ke&&ft.isEnabled()&&Ze.forEach((function(At){let mn=$e.serialise(At);Wt!==tn.DVB_ERRORS&&(mn=`metricname=${Wt}&${mn}`),mn=`${Je}?${mn}`,(function(xn,Nn,Yn){let Tr=new XMLHttpRequest;Tr.withCredentials=Qe.getXHRWithCredentialsForType(tn.HTTP_REQUEST_DVB_REPORTING_TYPE);const _t=function(){let It=bt.indexOf(Tr);It!==-1&&(bt.splice(It,1),!(Tr.status>=200&&Tr.status<300)&&Yn&&Yn())};bt.push(Tr);try{Tr.open("GET",xn),Tr.onloadend=_t,Tr.onerror=_t,Tr.send()}catch{Tr.onerror()}})(mn,0,(function(){Ke=!1}))}))},initialize:function(Wt,Ze){let At;if(ft=Ze,Je=Wt.dvbReportingUrl,!Je)throw new Error("required parameter missing (dvb:reportingUrl)");We||(At=Wt.dvbProbability,At&&(At===1e3||At/1e3>=Ve.random())&&(Ke=!0),We=!0)},reset:function(){zt()}},$e=m(nt).getInstance(),Ve=y(nt).getInstance(),Qe=(0,b.default)(nt).getInstance(),zt(),ne}v.__dashjs_factory_name="DVBReporting";var _=l.default.getClassFactory(v);function E(ae){ae=ae||{};const ne={"urn:dvb:dash:reporting:2014":_},$e=this.context;let Qe;const Ve=ae.debug?ae.debug.getLogger(Qe):{},We=ae.metricsConstants,Ke=ae.mediaPlayerModel||{};return Qe={create:function(Je,ft){let nt;try{nt=ne[Je.schemeIdUri]($e).create({metricsConstants:We,mediaPlayerModel:Ke}),nt.initialize(Je,ft)}catch(bt){nt=null,Ve.error(`ReportingFactory: could not create Reporting with schemeIdUri ${Je.schemeIdUri} (${bt.message})`)}return nt},register:function(Je,ft){ne[Je]=ft},unregister:function(Je){delete ne[Je]}},Qe}E.__dashjs_factory_name="ReportingFactory";var T=l.default.getSingletonFactory(E);function A(ae){let ne,$e=[];const Qe=T(this.context).getInstance(ae);return ne={initialize:function(Ve,We){Ve.some((Ke=>{let Je=Qe.create(Ke,We);if(Je)return $e.push(Je),!0}))},reset:function(){$e.forEach((Ve=>Ve.reset())),$e=[]},report:function(Ve,We){$e.forEach((Ke=>Ke.report(Ve,We)))}},ne}A.__dashjs_factory_name="ReportingController";var w=l.default.getClassFactory(A);function I(){return{reconstructFullMetricName:function(ae,ne,$e){let Qe=ae;return ne&&(Qe+="("+ne,$e&&$e.length&&(Qe+=","+$e),Qe+=")"),Qe},validateN:function(ae){if(!ae)throw new Error("missing n");if(isNaN(ae))throw new Error("n is NaN");if(ae<0)throw new Error("n must be positive");return ae}}}I.__dashjs_factory_name="HandlerHelpers";var C=l.default.getSingletonFactory(I);function j(ae){let ne,$e,Qe,Ve,We,Ke;ae=ae||{};let Je=this.context,ft=C(Je).getInstance(),nt=[];const bt=ae.metricsConstants;function tn(){let zt=(function(){try{return Object.keys(nt).map((Wt=>nt[Wt])).reduce(((Wt,Ze)=>Wt.level<Ze.level?Wt:Ze))}catch{return}})();zt&&Ke!==zt.t&&(Ke=zt.t,$e.report(Ve,zt))}return ne={initialize:function(zt,Wt,Ze){Wt&&(Qe=ft.validateN(Ze),$e=Wt,Ve=ft.reconstructFullMetricName(zt,Ze),We=setInterval(tn,Qe))},reset:function(){clearInterval(We),We=null,Qe=0,$e=null,Ke=null},handleNewMetric:function(zt,Wt,Ze){zt===bt.BUFFER_LEVEL&&(nt[Ze]=Wt)}},ne}j.__dashjs_factory_name="BufferLevelHandler";var F=l.default.getClassFactory(j),K=l.default.getClassFactory((function(ae){let ne,$e,Qe=(ae=ae||{}).eventBus;const Ve=ae.metricsConstants;function We(){Qe.off(o.default.METRICS_INITIALISATION_COMPLETE,We,this),Qe.trigger(o.default.BECAME_REPORTING_PLAYER)}return ne={initialize:function(Ke,Je){Je&&($e=Je,Qe.on(o.default.METRICS_INITIALISATION_COMPLETE,We,this))},reset:function(){$e=null},handleNewMetric:function(Ke,Je){Ke===Ve.DVB_ERRORS&&$e&&$e.report(Ke,Je)}},ne}));function he(ae){let ne,$e,Qe,Ve,We,Ke;ae=ae||{};let Je=[],ft=C(this.context).getInstance();const nt=ae.metricsConstants;function bt(){var tn=Je;tn.length&&$e&&$e.report(We,tn),Je=[]}return ne={initialize:function(tn,zt,Wt,Ze){zt&&(Qe=ft.validateN(Wt),$e=zt,Ze&&Ze.length&&(Ve=Ze),We=ft.reconstructFullMetricName(tn,Wt,Ze),Ke=setInterval(bt,Qe))},reset:function(){clearInterval(Ke),Ke=null,Qe=null,Ve=null,Je=[],$e=null},handleNewMetric:function(tn,zt){tn===nt.HTTP_REQUEST&&(Ve&&Ve!==zt.type||Je.push(zt))}},ne}he.__dashjs_factory_name="HttpListHandler";var q=l.default.getClassFactory(he);function Ee(){let ae,ne,$e;return ae={initialize:function(Qe,Ve){ne=Qe,$e=Ve},reset:function(){$e=null,ne=void 0},handleNewMetric:function(Qe,Ve){Qe===ne&&$e&&$e.report(ne,Ve)}},ae}Ee.__dashjs_factory_name="GenericMetricHandler";var Te=l.default.getClassFactory(Ee);function ge(ae){let ne;const $e=(ae=ae||{}).debug?ae.debug.getLogger(ne):{};let Qe=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/;const Ve=this.context;let We={BufferLevel:F,DVBErrors:K,HttpList:q,PlayList:Te,RepSwitchList:Te,TcpList:Te};return ne={create:function(Ke,Je){var ft,nt=Ke.match(Qe);if(nt){try{(ft=We[nt[1]](Ve).create({eventBus:ae.eventBus,metricsConstants:ae.metricsConstants})).initialize(nt[1],Je,nt[3],nt[5])}catch(bt){ft=null,$e.error(`MetricsHandlerFactory: Could not create handler for type ${nt[1]} with args ${nt[3]}, ${nt[5]} (${bt.message})`)}return ft}},register:function(Ke,Je){We[Ke]=Je},unregister:function(Ke){delete We[Ke]}},ne}ge.__dashjs_factory_name="MetricsHandlerFactory";var Be=l.default.getSingletonFactory(ge);function He(ae){ae=ae||{};let ne,$e=[];const Qe=this.context,Ve=ae.eventBus,We=ae.events;let Ke=Be(Qe).getInstance({debug:ae.debug,eventBus:ae.eventBus,metricsConstants:ae.metricsConstants});function Je(ft){$e.forEach((nt=>{nt.handleNewMetric(ft.metric,ft.value,ft.mediaType)}))}return ne={initialize:function(ft,nt){ft.split(",").forEach(((bt,tn,zt)=>{let Wt;if(bt.indexOf("(")!==-1&&bt.indexOf(")")===-1){let Ze=zt[tn+1];Ze&&Ze.indexOf("(")===-1&&Ze.indexOf(")")!==-1&&(bt+=","+Ze,delete zt[tn+1])}Wt=Ke.create(bt,nt),Wt&&$e.push(Wt)})),Ve.on(We.METRIC_ADDED,Je,ne),Ve.on(We.METRIC_UPDATED,Je,ne)},reset:function(){Ve.off(We.METRIC_ADDED,Je,ne),Ve.off(We.METRIC_UPDATED,Je,ne),$e.forEach((ft=>ft.reset())),$e=[]}},ne}He.__dashjs_factory_name="MetricsHandlersController";var Ye=l.default.getClassFactory(He);function Ie(ae){let ne,$e,Qe,Ve;ae=ae||{};let We=this.context;function Ke(){ne&&ne.reset(),$e&&$e.reset(),Qe&&Qe.reset()}return Ve={initialize:function(Je){try{Qe=f(We).create({mediaElement:ae.mediaElement}),Qe.initialize(Je.Range),$e=w(We).create({debug:ae.debug,metricsConstants:ae.metricsConstants,mediaPlayerModel:ae.mediaPlayerModel}),$e.initialize(Je.Reporting,Qe),ne=Ye(We).create({debug:ae.debug,eventBus:ae.eventBus,metricsConstants:ae.metricsConstants,events:ae.events}),ne.initialize(Je.metrics,$e)}catch(ft){throw Ke(),ft}},reset:Ke},Ve}Ie.__dashjs_factory_name="MetricsController";var we=l.default.getClassFactory(Ie),je=class{constructor(){this.metrics="",this.Range=[],this.Reporting=[]}},Ce=class{constructor(){this.starttime=0,this.duration=1/0,this._useWallClockTime=!1}},dt=class{constructor(){this.schemeIdUri="",this.value="",this.dvbReportingUrl="",this.dvbProbability=1e3}};function Le(ae){let ne,$e=(ae=ae||{}).adapter;const Qe=ae.constants;return ne={getMetrics:function(Ve){let We=[];return Ve&&Ve.Metrics&&Ve.Metrics.forEach((Ke=>{var Je=new je,ft=$e.getIsDynamic(Ve);Ke.hasOwnProperty("metrics")&&(Je.metrics=Ke.metrics,Ke.Range&&Ke.Range.forEach((nt=>{var bt=new Ce;bt.starttime=(function(tn,zt,Wt){let Ze,At,mn=0;return zt?mn=$e.getAvailabilityStartTime(tn)/1e3:(Ze=$e.getRegularPeriods(tn),Ze.length&&(mn=Ze[0].start)),At=mn,Wt&&Wt.hasOwnProperty(Qe.START_TIME)&&(At+=Wt.starttime),At})(Ve,ft,nt),nt.hasOwnProperty("duration")?bt.duration=nt.duration:bt.duration=$e.getDuration(Ve),bt._useWallClockTime=ft,Je.Range.push(bt)})),Ke.Reporting&&(Ke.Reporting.forEach((nt=>{var bt=new dt;nt.hasOwnProperty(Qe.SCHEME_ID_URI)&&(bt.schemeIdUri=nt.schemeIdUri,nt.hasOwnProperty("value")&&(bt.value=nt.value),nt.hasOwnProperty(Qe.DVB_REPORTING_URL)&&(bt.dvbReportingUrl=nt[Qe.DVB_REPORTING_URL]),nt.hasOwnProperty(Qe.DVB_PROBABILITY)&&(bt.dvbProbability=nt[Qe.DVB_PROBABILITY]),Je.Reporting.push(bt))})),We.push(Je)))})),We}},ne}Le.__dashjs_factory_name="ManifestParsing";var Pe=l.default.getSingletonFactory(Le);function it(ae){let ne;ae=ae||{};let $e={},Qe=this.context,Ve=ae.eventBus;const We=ae.events;function Ke(ft){if(ft.error)return;let nt=Object.keys($e);Pe(Qe).getInstance({adapter:ae.adapter,constants:ae.constants}).getMetrics(ft.manifest).forEach((bt=>{const tn=JSON.stringify(bt);if($e.hasOwnProperty(tn))nt.splice(tn,1);else try{let zt=we(Qe).create(ae);zt.initialize(bt),$e[tn]=zt}catch{}})),nt.forEach((bt=>{$e[bt].reset(),delete $e[bt]})),Ve.trigger(o.default.METRICS_INITIALISATION_COMPLETE)}function Je(){Object.keys($e).forEach((ft=>{$e[ft].reset()})),$e={}}return ne={reset:function(){Ve.off(We.MANIFEST_UPDATED,Ke,ne),Ve.off(We.STREAM_TEARDOWN_COMPLETE,Je,ne)}},Ve.on(We.MANIFEST_UPDATED,Ke,ne),Ve.on(We.STREAM_TEARDOWN_COMPLETE,Je,ne),ne}it.__dashjs_factory_name="MetricsCollectionController";var J=l.default.getClassFactory(it);function G(){let ae,ne,$e=this.context;return ae={createMetricsReporting:function(Qe){return ne=c($e).getInstance({eventBus:Qe.eventBus,dashMetrics:Qe.dashMetrics,metricsConstants:Qe.metricsConstants,events:Qe.events}),ne.initialize(),J($e).create(Qe)},getReportingFactory:function(){return T($e).getInstance()},getMetricsHandlerFactory:function(){return Be($e).getInstance()}},ae}G.__dashjs_factory_name="MetricsReporting";const P=l.default.getClassFactory(G);P.events=o.default,l.default.updateClassFactory(G.__dashjs_factory_name,P);var $=P},913:function(t,e,n){n.r(e);var r=n(7252);class i extends r.default{constructor(){super(),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",this.CMCD_DATA_GENERATED="cmcdDataGenerated"}}let o=new i;e.default=o},1926:function(t,e,n){n.r(e);var r=n(5717),i=n(138),o=n(8261),l=n(656),u=n(5212),c=n(5560);function d(){let h,f,p,m,g,y,b,v,_,E,T;const A=this.context,w=(0,o.default)(A).getInstance();function I(){m=[],g=[],y=[],b=[],v=[],T=[],_=null,f=[],E=new Set}function C(q,Ee){let Te=-1;q.some(((ge,Be)=>{if(ge===Ee)return Te=Be,!0})),Te<0||q.splice(Te,1)}function j(q){let Ee;for(Ee=0;Ee<T.length;Ee++)if(T[Ee].rulename===q)return Ee;return-1}function F(q,Ee){let Te=!1;return E.forEach((ge=>{ge[q]===Ee&&(Te=!0)})),Te}function K(q,Ee){he(q,Ee);let Te=new r.default;Te.schemeIdUri=q,Te.value=Ee,f.push(Te)}function he(q,Ee){(0,l.checkParameterType)(q,"string"),(0,l.checkParameterType)(Ee,"string"),f.forEach((function(Te,ge){Te.schemeIdUri===q&&Te.value===Ee&&f.splice(ge,1)}))}return h={addAbrCustomRule:function(q,Ee,Te){if(typeof q!="string"||q!==u.default.RULES_TYPES.ABANDON_FRAGMENT_RULES&&q!==u.default.RULES_TYPES.QUALITY_SWITCH_RULES||typeof Ee!="string")throw u.default.BAD_ARGUMENT_ERROR;let ge=j(Ee);ge===-1?T.push({type:q,rulename:Ee,rule:Te}):(T[ge].type=q,T[ge].rule=Te)},addExternalSubtitle:function(q){if(!(q&&q.id!==void 0&&q.url&&q.language&&q.mimeType&&q.bandwidth!==void 0))return;const Ee=new c.default(q);F("url",Ee.url)||F("id",Ee.id)||E.add(Ee)},addRequestInterceptor:function(q){m.push(q)},addResponseInterceptor:function(q){g.push(q)},addUTCTimingSource:K,clearDefaultUTCTimingSources:function(){f=[]},getAbrCustomRules:function(){return T},getCustomCapabilitiesFilters:function(){return v},getCustomInitialTrackSelectionFunction:function(){return _},getExternalSubtitles:function(){return E},getLicenseRequestFilters:function(){return y},getLicenseResponseFilters:function(){return b},getRequestInterceptors:function(){return m},getResponseInterceptors:function(){return g},getUTCTimingSources:function(){return f},getXHRWithCredentialsForType:function(q){const Ee=p[q];return Ee===void 0?p.default:Ee},registerCustomCapabilitiesFilter:function(q){v.push(q)},registerLicenseRequestFilter:function(q){y.push(q)},registerLicenseResponseFilter:function(q){b.push(q)},removeAbrCustomRule:function(q){if(q){let Ee=j(q);Ee!==-1&&T.splice(Ee,1)}else T=[]},removeAllAbrCustomRule:function(){T=[]},removeExternalSubtitleById:function(q){E.forEach((Ee=>{Ee.id===q&&E.delete(Ee)}))},removeExternalSubtitleByUrl:function(q){E.forEach((Ee=>{Ee.url===q&&E.delete(Ee)}))},removeRequestInterceptor:function(q){C(m,q)},removeResponseInterceptor:function(q){C(g,q)},removeUTCTimingSource:he,reset:function(){I()},resetCustomInitialTrackSelectionFunction:function(){_=null},resetPlaybackSessionSpecificSettings:function(){E=new Set},restoreDefaultUTCTimingSources:function(){let q=w.get().streaming.utcSynchronization.defaultTimingSource;K(q.scheme,q.value)},setConfig:function(){},setCustomInitialTrackSelectionFunction:function(q){_=q},setXHRWithCredentialsForType:function q(Ee,Te){Ee?p[Ee]=!!Te:Object.keys(p).forEach((ge=>{q(ge,Te)}))},unregisterCustomCapabilitiesFilter:function(q){C(v,q)},unregisterLicenseRequestFilter:function(q){C(y,q)},unregisterLicenseResponseFilter:function(q){C(b,q)}},p={default:!1},I(),h}d.__dashjs_factory_name="CustomParametersModel",e.default=i.default.getSingletonFactory(d)},3888:function(t,e,n){n.r(e),n.d(e,{default:function(){return Tr}});var r=n(8854),i=n(2861);const o={prefixes:["clearkey","dashif","ck"]};class l{static findMp4ProtectionElement(It){let mt=null;for(let ht=0;ht<It.length;++ht){let Vt=It[ht];Vt.schemeIdUri&&Vt.schemeIdUri.toLowerCase()===r.default.MP4_PROTECTION_SCHEME&&Vt.value&&(Vt.value.toLowerCase()===i.default.ENCRYPTION_SCHEME_CENC||Vt.value.toLowerCase()===i.default.ENCRYPTION_SCHEME_CBCS)&&(mt=Vt)}return mt}static getPSSHData(It){let mt=8,ht=new DataView(It),Vt=ht.getUint8(mt);return mt+=20,Vt>0&&(mt+=4+16*ht.getUint32(mt)),mt+=4,It.slice(mt)}static getPSSHForKeySystem(It,mt){let ht=l.parsePSSHList(mt);return It&&ht.hasOwnProperty(It.uuid.toLowerCase())?ht[It.uuid.toLowerCase()]:null}static parseInitDataFromContentProtection(It,mt){return"pssh"in It&&It.pssh?(It.pssh.__text=It.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),mt.decodeArray(It.pssh.__text).buffer):null}static parsePSSHList(It){if(It==null)return[];let mt=new DataView(It.buffer||It),ht={},Vt=0;for(;;){let $t,rn,hn,Ot,qt,en,fn=Vt;if(Vt>=mt.buffer.byteLength)break;if($t=mt.getUint32(Vt),rn=Vt+$t,Vt+=4,mt.getUint32(Vt)===1886614376)if(Vt+=4,hn=mt.getUint8(Vt),hn===0||hn===1){for(Vt++,Vt+=3,Ot="",qt=0;qt<4;qt++)en=mt.getUint8(Vt+qt).toString(16),Ot+=en.length===1?"0"+en:en;for(Vt+=4,Ot+="-",qt=0;qt<2;qt++)en=mt.getUint8(Vt+qt).toString(16),Ot+=en.length===1?"0"+en:en;for(Vt+=2,Ot+="-",qt=0;qt<2;qt++)en=mt.getUint8(Vt+qt).toString(16),Ot+=en.length===1?"0"+en:en;for(Vt+=2,Ot+="-",qt=0;qt<2;qt++)en=mt.getUint8(Vt+qt).toString(16),Ot+=en.length===1?"0"+en:en;for(Vt+=2,Ot+="-",qt=0;qt<6;qt++)en=mt.getUint8(Vt+qt).toString(16),Ot+=en.length===1?"0"+en:en;Vt+=6,Ot=Ot.toLowerCase(),Vt+=4,ht[Ot]=mt.buffer.slice(fn,rn),Vt=rn}else Vt=rn;else Vt=rn}return ht}static getLicenseServerUrlFromMediaInfo(It,mt){try{if(!It||It.length===0)return null;let ht=0,Vt=null;for(;ht<It.length&&!Vt;){const $t=It[ht];if($t&&$t.contentProtection&&$t.contentProtection.length>0){const rn=$t.contentProtection.filter((hn=>hn.schemeIdUri&&hn.schemeIdUri===mt));if(rn&&rn.length>0){let hn=0;for(;hn<rn.length&&!Vt;){const Ot=rn[hn];Ot.laUrl&&Ot.laUrl.__prefix&&o.prefixes.includes(Ot.laUrl.__prefix)&&Ot.laUrl.__text&&(Vt=Ot.laUrl.__text),hn+=1}}}ht+=1}return Vt}catch{return null}}static hexKidToBufferSource(It){const mt=It.replace(/-/g,"");return new Uint8Array(mt.match(/[\da-f]{2}/gi).map((function(ht){return parseInt(ht,16)}))).buffer}}var u=l,c=class{constructor(_t,It){this.contentType=_t,this.robustness=It}},d=class{constructor(_t,It,mt,ht,Vt,$t){this.initDataTypes=$t&&$t.length>0?$t:[i.default.INITIALIZATION_DATA_TYPE_CENC],_t&&_t.length&&(this.audioCapabilities=_t),It&&It.length&&(this.videoCapabilities=It),this.distinctiveIdentifier=mt,this.persistentState=ht,this.sessionTypes=Vt}},h=n(1923),f=n(1944),p=class{constructor(_t,It,mt,ht,Vt,$t,rn,hn){this.url=_t,this.method=It,this.responseType=mt,this.headers=ht,this.withCredentials=Vt,this.messageType=$t,this.sessionId=rn,this.data=hn}},m=class{constructor(_t,It,mt){this.url=_t,this.headers=It,this.data=mt}},g=n(7568),y=n(7263),b=n(5212),v=n(138);function _(_t){const It=(_t=_t||{}).BASE64,mt=_t.cmcdModel,ht=_t.constants,Vt=_t.customParametersModel,$t=_t.debug,rn=_t.eventBus,hn=_t.events,Ot=_t.protectionKeyController,qt=_t.settings;let en,fn,Kt,pn,Hn,Fn,Un,hr,an,wt,ot,Yt,dn=_t.protectionModel,qn=[];function mr(){if(!(rn&&rn.hasOwnProperty("on")&&Ot&&Ot.hasOwnProperty("getSupportedKeySystemMetadataFromContentProtection")))throw new Error("Missing config parameter(s)")}function Ir(Gt,sn){ot||pn?ot&&Ai():(function(zn,ur){if(pn)return;var dr;pn=!0;const Ur=(function(Pr){const xr=[];for(let Sr=0;Sr<Pr.length;Sr++){const qr=br(Pr[Sr]);xr.push({ks:Pr[Sr].ks,configs:[qr],protData:Pr[Sr].protData})}return xr})(zn=(dr=zn).sort(((Pr,xr)=>(en&&en[Pr.ks.systemString]&&en[Pr.ks.systemString].priority>=0?en[Pr.ks.systemString].priority:dr.length)-(en&&en[xr.ks.systemString]&&en[xr.ks.systemString].priority>=0?en[xr.ks.systemString].priority:dr.length))));let Qr;dn.requestKeySystemAccess(Ur).then((Pr=>(Qr=Pr.data,(function(xr){let Sr=xr&&xr.selectedSystemString?xr.selectedSystemString:xr.keySystem.systemString;return Un.info("DRM: KeySystem Access Granted for system string ("+Sr+")!  Selecting key system..."),dn.selectKeySystem(xr)})(Qr)))).then((Pr=>{(function(xr,Sr){try{ot=xr,pn=!1,rn.trigger(hn.KEY_SYSTEM_SELECTED,{data:Sr});const qr=Ii(ot);qr&&qr.serverCertificate&&qr.serverCertificate.length>0&&dn.setServerCertificate(It.decodeArray(qr.serverCertificate).buffer),Ai()}catch(qr){Un.error(qr)}})(Pr,Qr)})).catch((Pr=>{(function(xr,Sr){ot=null,pn=!1,Sr||rn.trigger(hn.KEY_SYSTEM_SELECTED,{data:null,error:new f.default(h.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,h.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+xr.error)})})(Pr,ur)}))})(Gt,sn)}function Ai(){let Gt;for(let zn=0;zn<an.length;zn++)for(Gt=0;Gt<an[zn].length;Gt++)if(ot===an[zn][Gt].ks){sn=an[zn][Gt],Ot.isClearKey(ot)&&(function(ur){if(ur.protData&&ur.protData.hasOwnProperty("clearkeys")&&Object.keys(ur.protData.clearkeys).length!==0){const dr={kids:Object.keys(ur.protData.clearkeys)};ur.initData=new TextEncoder().encode(JSON.stringify(dr))}})(sn),sn.sessionId?ci(sn):sn.initData!==null&&Re(sn);break}var sn;an=[]}function br(Gt){const sn=Gt.protData,zn=[],ur=[],dr=sn&&sn.initDataTypes&&sn.initDataTypes.length>0?sn.initDataTypes:[i.default.INITIALIZATION_DATA_TYPE_CENC],Ur=sn&&sn.audioRobustness&&sn.audioRobustness.length>0?sn.audioRobustness:wt,Qr=sn&&sn.videoRobustness&&sn.videoRobustness.length>0?sn.videoRobustness:wt,Pr=Gt.sessionType,xr=sn&&sn.distinctiveIdentifier?sn.distinctiveIdentifier:"optional",Sr=sn&&sn.persistentState?sn.persistentState:Pr==="temporary"?"optional":"required";return hr.forEach((qr=>{qr.type===ht.AUDIO?zn.push(new c(qr.codec,Ur)):qr.type===ht.VIDEO&&ur.push(new c(qr.codec,Qr))})),new d(zn,ur,xr,Sr,[Pr],dr)}function ci(Gt){mr(),dn.loadKeySession(Gt)}function Re(Gt){if(Gt&&(function(zn){if(!zn)return!1;try{const ur=dn.getSessionTokens();for(let dr=0;dr<ur.length;dr++)if(ur[dr].getKeyId()===zn)return!0;return!1}catch{return!1}})(Gt.keyId))return;(function(){if(!qt)return;const zn=qt.get().streaming.protection.keepProtectionMediaKeys,ur=qt.get().streaming.protection.keepProtectionMediaKeysMaximumOpenSessions;if(typeof ur!="number"||ur<=0)return;if(!zn)return void Un.warn("DRM: keepProtectionMediaKeysMaximumOpenSessions is set to "+ur+", but keepProtectionMediaKeys is not enabled. Therefore, keepProtectionMediaKeysMaximumOpenSessions will be ignored.");if(!dn||typeof dn.getSessionTokens!="function")return;const dr=dn.getSessionTokens()||[];if(dr.length<ur)return;const Ur=dr[0];Ur&&(Un.info("DRM: Maximum number of open MediaKeySessions reached ("+ur+"), closing oldest session."),mo(Ur))})();const sn=u.getPSSHForKeySystem(ot,Gt?Gt.initData:null);if(sn){if(Ua(sn))return;try{Gt.initData=sn,dn.createKeySession(Gt)}catch(zn){rn.trigger(hn.KEY_SESSION_CREATED,{data:null,error:new f.default(h.default.KEY_SESSION_CREATED_ERROR_CODE,h.default.KEY_SESSION_CREATED_ERROR_MESSAGE+zn.message)})}}else Gt&&Gt.initData?dn.createKeySession(Gt):rn.trigger(hn.KEY_SESSION_CREATED,{data:null,error:new f.default(h.default.KEY_SESSION_CREATED_ERROR_CODE,h.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(ot?ot.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Ii(Gt){if(Gt){const sn=Gt.systemString;if(en)return sn in en?en[sn]:null}return null}function Ua(Gt){if(!Gt)return!1;try{const sn=dn.getAllInitData();for(let zn=0;zn<sn.length;zn++)if(Ot.initDataEquals(Gt,sn[zn]))return Un.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function mo(Gt){mr(),dn.closeKeySession(Gt)}function Rn(Gt){mr(),Gt?(dn.setMediaElement(Gt),rn.on(hn.NEED_KEY,sa,fn)):Gt===null&&(dn.setMediaElement(Gt),rn.off(hn.NEED_KEY,sa,fn))}function at(Gt){Un.debug("DRM: onKeyMessage");const sn=Gt.data;rn.trigger(hn.KEY_MESSAGE,{data:sn});const zn=sn.messageType?sn.messageType:i.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,ur=sn.message,dr=sn.sessionToken,Ur=Ii(ot),Qr=Ot.getLicenseServerModelInstance(ot,Ur,zn),Pr={sessionToken:dr,messageType:zn};if(ur&&ur.byteLength!==0){if(!Qr)return Un.debug("DRM: License server request not required for this message (type = "+Gt.data.messageType+").  Session ID = "+dr.getSessionId()),void ln(Pr);if(Ot.isClearKey(ot)){const xr=Ot.processClearKeyLicenseRequest(ot,Ur,ur);if(xr&&xr.keyPairs&&xr.keyPairs.length>0)return Un.debug("DRM: ClearKey license request handled by application!"),ln(Pr),void dn.updateKeySession(dr,xr)}(function(xr,Sr,qr){const oa=xr.sessionToken,Wo=xr.messageType?xr.messageType:i.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST,Ru={sessionToken:oa,messageType:Wo},ku=ot?ot.systemString:null;let pb=(function(Zr,Ms,Nc,Cu,Eb){let Wa=null;const Yp=Cu.message;if(Zr&&Zr.serverURL){const yo=Zr.serverURL;typeof yo=="string"&&yo!==""?Wa=yo:typeof yo=="object"&&yo.hasOwnProperty(Ms)&&(Wa=yo[Ms])}else if(Zr&&Zr.laURL&&Zr.laURL!=="")Wa=Zr.laURL;else if(Wa=u.getLicenseServerUrlFromMediaInfo(hr,ot.schemeIdURI),!Wa&&!Ot.isClearKey(ot)){const yo=u.getPSSHData(Nc.initData);Wa=ot.getLicenseServerURLFromInitData(yo),Wa||(Wa=Cu.laURL)}return Wa=Eb.getServerURLFromMessage(Wa,Yp,Ms),Wa})(qr,Wo,oa,xr,Sr);if(!pb)return void ln(Ru,new f.default(h.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,h.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));const la={};let Hl=!1;qr&&Di(la,qr.httpRequestHeaders);const Hp=xr.message;Di(la,ot.getRequestHeadersFromMessage(Hp)),Object.keys(la).forEach((Zr=>{Zr.toLowerCase()==="authorization"&&(Hl=!0)})),qr&&typeof qr.withCredentials=="boolean"&&(Hl=qr.withCredentials);const Os=function(Zr){if(dn)if(Zr.status>=200&&Zr.status<=299){const Ms=y.default.parseHttpHeaders(Zr.getAllResponseHeaders?Zr.getAllResponseHeaders():null);let Nc=new m(Zr.responseURL,Ms,Zr.response);qi(Vt.getLicenseResponseFilters(),Nc).then((()=>{const Cu=Sr.getLicenseMessage(Nc.data,ku,Wo);Cu!==null?(ln(Ru),dn.updateKeySession(oa,Cu)):yi(Zr,Ru,ku,Wo,Sr)}))}else yi(Zr,Ru,ku,Wo,Sr)},mb=function(Zr){ln(Ru,new f.default(h.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ku+' update, XHR aborted. status is "'+Zr.statusText+'" ('+Zr.status+"), readyState is "+Zr.readyState))},Gp=function(Zr){ln(Ru,new f.default(h.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+ku+' update, XHR error. status is "'+Zr.statusText+'" ('+Zr.status+"), readyState is "+Zr.readyState))},Vp=ot.getLicenseRequestFromMessage(Hp),Kp=Sr.getHTTPMethod(Wo),gb=Sr.getResponseType(ku,Wo),yb=qr&&!isNaN(qr.httpTimeout)?qr.httpTimeout:8e3,bb=oa.getSessionId()||null;let Wp=new p(pb,Kp,gb,la,Hl,Wo,bb,Vp);const vb=isNaN(qt.get().streaming.retryAttempts[g.HTTPRequest.LICENSE])?3:qt.get().streaming.retryAttempts[g.HTTPRequest.LICENSE];qi(Vt.getLicenseRequestFilters(),Wp).then((()=>{Bn(Wp,vb,yb,Os,mb,Gp)}))})(sn,Qr,Ur)}else ln(Pr,new f.default(h.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,h.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function ln(Gt,sn=null){rn.trigger(hn.LICENSE_REQUEST_COMPLETE,{data:Gt,error:sn})}function Bn(Gt,sn,zn,ur,dr,Ur){const Qr=new XMLHttpRequest,Pr=mt.getCmcdParametersFromManifest();if(mt.isCmcdEnabled()&&(Pr.mode?Pr.mode:qt.get().streaming.cmcd.mode)===b.default.CMCD_MODE_QUERY){const Sr=mt.getQueryParameter({url:Gt.url,type:g.HTTPRequest.LICENSE});Sr&&(Gt.url=y.default.addAdditionalQueryParameterToUrl(Gt.url,[Sr]))}Qr.open(Gt.method,Gt.url,!0),Qr.responseType=Gt.responseType,Qr.withCredentials=Gt.withCredentials,zn>0&&(Qr.timeout=zn);for(const Sr in Gt.headers)Qr.setRequestHeader(Sr,Gt.headers[Sr]);if(mt.isCmcdEnabled()&&(Pr.mode?Pr.mode:qt.get().streaming.cmcd.mode)===b.default.CMCD_MODE_HEADER){const Sr=mt.getHeaderParameters({url:Gt.url,type:g.HTTPRequest.LICENSE});if(Sr)for(const qr in Sr){let oa=Sr[qr];oa&&Qr.setRequestHeader(qr,oa)}}const xr=function(){sn--;const Sr=isNaN(qt.get().streaming.retryIntervals[g.HTTPRequest.LICENSE])?1e3:qt.get().streaming.retryIntervals[g.HTTPRequest.LICENSE];Hn=setTimeout((function(){Bn(Gt,sn,zn,ur,dr,Ur)}),Sr)};Qr.onload=function(){Fn=null,this.status>=200&&this.status<=299||sn<=0?ur(this):(Un.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+sn),xr())},Qr.ontimeout=Qr.onerror=function(){Fn=null,sn<=0?Ur(this):(Un.warn("License request network request failed . Retrying it... Pending retries: "+sn),xr())},Qr.onabort=function(){dr(this)},rn.trigger(hn.LICENSE_REQUEST_SENDING,{url:Gt.url,headers:Gt.headers,payload:Gt.data,sessionId:Gt.sessionId}),Fn=Qr,Qr.send(Gt.data)}function Vr(){Fn&&(Fn.onloadend=Fn.onerror=Fn.onprogress=void 0,Fn.abort(),Fn=null),Hn&&(clearTimeout(Hn),Hn=null)}function Di(Gt,sn){if(sn)for(const zn in sn)Gt[zn]=sn[zn]}function yi(Gt,sn,zn,ur,dr){let Ur="NONE",Qr=null;Gt.response&&(Ur=dr.getErrorResponse(Gt.response,zn,ur),Qr={serverResponse:Gt.response||null,responseCode:Gt.status||null,responseText:Gt.statusText||null}),ln(sn,new f.default(h.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,h.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+zn+' update, XHR complete. status is "'+Gt.statusText+'" ('+Gt.status+"), readyState is "+Gt.readyState+".  Response is "+Ur,Qr))}function qi(Gt,sn){return Gt?Gt.reduce(((zn,ur)=>zn.then((()=>ur(sn)))),Promise.resolve()):Promise.resolve()}function sa(Gt,sn){if(qt.get().streaming.protection.ignoreEmeEncryptedEvent)return;if(Un.debug("DRM: onNeedKey"),Gt.key.initDataType!==i.default.INITIALIZATION_DATA_TYPE_CENC)return void Un.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+Gt.key.initDataType);if(hr.length===0&&(Un.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(sn=sn===void 0?1:sn+1)<5))return void qn.push(setTimeout((()=>{sa(Gt,sn)}),500));let zn=Gt.key.initData;if(ArrayBuffer.isView(zn)&&(zn=zn.buffer),ot){const dr=u.getPSSHForKeySystem(ot,zn);if(dr&&Ua(dr))return}Un.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(zn)));const ur=Ot.getSupportedKeySystemMetadataFromSegmentPssh(zn,en,Yt);ur.length!==0?(function(dr){an.push(dr),Ir(dr,!1)})(ur):Un.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}function go(Gt,sn){if(Gt.size<=0)return!1;if(sn.size>0&&[...Gt].every((ur=>{const dr=sn.get(ur);return dr!==void 0&&dr!==""})))return!0;const zn=dn.getSessionTokens();if(zn&&zn.length>0){const ur=zn.filter((dr=>[...Gt].includes(dr.normalizedKeyId)));if(ur.some((dr=>!dr.hasTriggeredKeyStatusMapUpdate))||ur.length===0)return!1}return!qt.get().streaming.protection.ignoreKeyStatuses&&Gt&&Gt.size>0&&sn&&sn.size>0}return fn={areKeyIdsExpired:function(Gt){try{return!!go(Gt,Kt)&&[...Gt].every((sn=>Kt.get(sn)===i.default.MEDIA_KEY_STATUSES.EXPIRED))}catch(sn){return Un.error(sn),!1}},areKeyIdsUsable:function(Gt){try{return!go(Gt,Kt)||[...Gt].some((sn=>{const zn=Kt.get(sn);return zn&&zn!==i.default.MEDIA_KEY_STATUSES.INTERNAL_ERROR&&zn!==i.default.MEDIA_KEY_STATUSES.OUTPUT_RESTRICTED}))}catch(sn){return Un.error(sn),!0}},clearMediaInfoArray:function(){hr=[]},closeKeySession:mo,createKeySession:Re,getKeySystems:function(){return Ot?Ot.getKeySystems():[]},getSupportedKeySystemMetadataFromContentProtection:function(Gt){return mr(),Ot.getSupportedKeySystemMetadataFromContentProtection(Gt,en,Yt)},handleKeySystemFromManifest:function(){if(!hr||hr.length===0)return;let Gt=[];hr.forEach((sn=>{const zn=Ot.getSupportedKeySystemMetadataFromContentProtection(sn.contentProtection,en,Yt);zn.length>0&&(Gt.length===0&&(Gt=zn),an.push(zn))})),Gt&&Gt.length>0&&Ir(Gt,!0)},initializeForMedia:function(Gt){if(!Gt)throw new Error("mediaInfo can not be null or undefined");mr(),hr.push(Gt)},loadKeySession:ci,removeKeySession:function(Gt){mr(),dn.removeKeySession(Gt)},reset:function(){rn.off(hn.INTERNAL_KEY_MESSAGE,at,fn),mr(),Vr(),Rn(null),ot=null,pn=!1,Kt=new Map,dn&&(dn.reset(),dn=null),qn.forEach((Gt=>clearTimeout(Gt))),qn=[],hr=[],an=[]},setKeySystems:function(Gt){Ot&&Ot.setKeySystems(Gt)},setMediaElement:Rn,setProtectionData:function(Gt){en=Gt,Ot.setProtectionData(Gt)},setRobustnessLevel:function(Gt){wt=Gt},setServerCertificate:function(Gt){return mr(),dn.setServerCertificate(Gt)},setSessionType:function(Gt){Yt=Gt},stop:function(){Vr(),dn&&dn.stop()},updateKeyStatusesMap:function(Gt){try{if(!Gt||!Gt.sessionToken||!Gt.parsedKeyStatuses)return;Gt.sessionToken.hasTriggeredKeyStatusMapUpdate=!0;const sn=Gt.parsedKeyStatuses,zn=y.default.parseUserAgent(),ur=zn&&zn.browser&&zn.browser.name&&zn.browser.name.toLowerCase()==="edge";sn.forEach((dr=>{ur&&ot.uuid===i.default.PLAYREADY_UUID&&dr.keyId&&dr.keyId.byteLength===16&&(function(Qr){const Pr=y.default.bufferSourceToDataView(Qr),xr=Pr.getUint32(0,!0),Sr=Pr.getUint16(4,!0),qr=Pr.getUint16(6,!0);Pr.setUint32(0,xr,!1),Pr.setUint16(4,Sr,!1),Pr.setUint16(6,qr,!1)})(dr.keyId);const Ur=y.default.bufferSourceToHex(dr.keyId).slice(0,32);Ur&&Ur!==""&&Kt.set(Ur,dr.status)})),rn.trigger(hn.KEY_STATUSES_MAP_UPDATED,{keyStatusMap:Kt})}catch(sn){Un.error(sn)}}},Un=$t.getLogger(fn),an=[],hr=[],Yt="temporary",wt="",Fn=null,Hn=null,Kt=new Map,rn.on(hn.INTERNAL_KEY_MESSAGE,at,fn),fn}_.__dashjs_factory_name="ProtectionController";var E=v.default.getClassFactory(_),T=class{constructor(_t,It){this.keyID=_t,this.key=It}},A=class{constructor(_t,It){if(It&&It!=="persistent"&&It!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=_t,this.type=It}toJWK(){let _t,It=this.keyPairs.length,mt={keys:[]};for(_t=0;_t<It;_t++){let hn={kty:"oct",alg:"A128KW",kid:this.keyPairs[_t].keyID,k:this.keyPairs[_t].key};mt.keys.push(hn)}this.type&&(mt.type=this.type);let ht=JSON.stringify(mt);const Vt=ht.length;let $t=new ArrayBuffer(Vt),rn=new Uint8Array($t);for(_t=0;_t<Vt;_t++)rn[_t]=ht.charCodeAt(_t);return $t}};const w=i.default.CLEARKEY_UUID,I=i.default.CLEARKEY_KEYSTEM_STRING,C="urn:uuid:"+w;function j(_t){let It;const mt=(_t=_t||{}).BASE64;return It={uuid:w,schemeIdURI:C,systemString:I,getInitData:function(ht,Vt){try{let $t=u.parseInitDataFromContentProtection(ht,mt);if(!$t&&Vt){const rn={kids:[(function(hn){try{let Ot=hn.replace(/-/g,"");return Ot=btoa(Ot.match(/\w{2}/g).map((qt=>String.fromCharCode(parseInt(qt,16)))).join("")),Ot.replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}})(Vt.cencDefaultKid)]};$t=new TextEncoder().encode(JSON.stringify(rn))}return $t}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(ht){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(ht))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(ht,Vt){let $t=null;if(ht){const rn=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Vt))),hn=[];for(let Ot=0;Ot<rn.kids.length;Ot++){const qt=rn.kids[Ot],en=ht.clearkeys&&ht.clearkeys.hasOwnProperty(qt)?ht.clearkeys[qt]:null;if(!en)throw new Error("DRM: ClearKey keyID ("+qt+") is not known!");hn.push(new T(qt,en))}$t=new A(hn)}return $t}},It}j.__dashjs_factory_name="KeySystemClearKey";var F=v.default.getSingletonFactory(j);const K=i.default.W3C_CLEARKEY_UUID,he=i.default.CLEARKEY_KEYSTEM_STRING,q="urn:uuid:"+K;function Ee(_t){let It;const mt=_t.BASE64,ht=_t.debug.getLogger(It);return It={uuid:K,schemeIdURI:q,systemString:he,getInitData:function(Vt){return u.parseInitDataFromContentProtection(Vt,mt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(Vt){return new Uint8Array(Vt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(Vt,$t){let rn=null;if(Vt){const hn=JSON.parse(String.fromCharCode.apply(null,new Uint8Array($t))),Ot=[];for(let qt=0;qt<hn.kids.length;qt++){const en=hn.kids[qt],fn=Vt.clearkeys&&Vt.clearkeys.hasOwnProperty(en)?Vt.clearkeys[en]:null;if(!fn)throw new Error("DRM: ClearKey keyID ("+en+") is not known!");Ot.push(new T(en,fn))}rn=new A(Ot),ht.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return rn}},It}Ee.__dashjs_factory_name="KeySystemW3CClearKey";var Te=v.default.getSingletonFactory(Ee);const ge=i.default.WIDEVINE_UUID,Be=i.default.WIDEVINE_KEYSTEM_STRING,He="urn:uuid:"+ge;function Ye(_t){let It;const mt=(_t=_t||{}).BASE64;return It={uuid:ge,schemeIdURI:He,systemString:Be,getInitData:function(ht){return u.parseInitDataFromContentProtection(ht,mt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(ht){return new Uint8Array(ht)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}},It}Ye.__dashjs_factory_name="KeySystemWidevine";var Ie=v.default.getSingletonFactory(Ye);const we=i.default.PLAYREADY_UUID,je=i.default.PLAYREADY_KEYSTEM_STRING,Ce="urn:uuid:"+we;function dt(_t){let It,mt="utf-16";const ht=(_t=_t||{}).BASE64,Vt=_t.settings;function $t(){if(!ht||!ht.hasOwnProperty("decodeArray")||!ht.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return It={uuid:we,schemeIdURI:Ce,systemString:je,getInitData:function(rn){const hn=new Uint8Array([112,115,115,104,0,0,0,0]),Ot=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);let qt,en,fn,Kt,pn,Hn=0,Fn=null;if($t(),!rn)return null;if("pssh"in rn&&rn.pssh)return u.parseInitDataFromContentProtection(rn,ht);if("pro"in rn&&rn.pro)Fn=ht.decodeArray(rn.pro.__text);else{if(!("prheader"in rn)||!rn.prheader)return null;Fn=ht.decodeArray(rn.prheader.__text)}return qt=Fn.length,en=4+hn.length+Ot.length+4+qt,fn=new ArrayBuffer(en),Kt=new Uint8Array(fn),pn=new DataView(fn),pn.setUint32(Hn,en),Hn+=4,Kt.set(hn,Hn),Hn+=hn.length,Kt.set(Ot,Hn),Hn+=Ot.length,pn.setUint32(Hn,qt),Hn+=4,Kt.set(Fn,Hn),Hn+=qt,Kt.buffer},getRequestHeadersFromMessage:function(rn){let hn,Ot;const qt={},en=new DOMParser;if(Vt&&Vt.get().streaming.protection.detectPlayreadyMessageFormat&&mt==="utf-16"&&rn&&rn.byteLength%2==1)return qt["Content-Type"]="text/xml; charset=utf-8",qt;const fn=mt==="utf-16"?new Uint16Array(rn):new Uint8Array(rn);hn=String.fromCharCode.apply(null,fn),Ot=en.parseFromString(hn,"application/xml");const Kt=Ot.getElementsByTagName("name"),pn=Ot.getElementsByTagName("value");for(let Hn=0;Hn<Kt.length;Hn++)qt[Kt[Hn].childNodes[0].nodeValue]=pn[Hn].childNodes[0].nodeValue;return qt.hasOwnProperty("Content")&&(qt["Content-Type"]=qt.Content,delete qt.Content),qt.hasOwnProperty("Content-Type")||(qt["Content-Type"]="text/xml; charset=utf-8"),qt},getLicenseRequestFromMessage:function(rn){let hn=null;const Ot=new DOMParser;if(Vt&&Vt.get().streaming.protection.detectPlayreadyMessageFormat&&mt==="utf-16"&&rn&&rn.byteLength%2==1)return rn;const qt=mt==="utf-16"?new Uint16Array(rn):new Uint8Array(rn);$t();const en=String.fromCharCode.apply(null,qt),fn=Ot.parseFromString(en,"application/xml");if(!fn.getElementsByTagName("PlayReadyKeyMessage")[0])return rn;{const Kt=fn.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;Kt&&(hn=ht.decode(Kt))}return hn},getLicenseServerURLFromInitData:function(rn){if(rn){const hn=new DataView(rn),Ot=hn.getUint16(4,!0);let qt=6;const en=new DOMParser;for(let fn=0;fn<Ot;fn++){const Kt=hn.getUint16(qt,!0);qt+=2;const pn=hn.getUint16(qt,!0);if(qt+=2,Kt!==1){qt+=pn;continue}const Hn=rn.slice(qt,qt+pn),Fn=String.fromCharCode.apply(null,new Uint16Array(Hn)),Un=en.parseFromString(Fn,"application/xml");if(Un.getElementsByTagName("LA_URL")[0]){const hr=Un.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(hr)return hr}if(Un.getElementsByTagName("LUI_URL")[0]){const hr=Un.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(hr)return hr}}}return null},getCDMData:function(rn){let hn,Ot,qt,en;if($t(),!rn)return null;for(hn=[],en=0;en<rn.length;++en)hn.push(rn.charCodeAt(en)),hn.push(0);for(hn=String.fromCharCode.apply(null,hn),hn=ht.encode(hn),Ot='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",hn),qt=[],en=0;en<Ot.length;++en)qt.push(Ot.charCodeAt(en)),qt.push(0);return new Uint8Array(qt).buffer},setPlayReadyMessageFormat:function(rn){if(rn!=="utf-8"&&rn!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');mt=rn}},It}dt.__dashjs_factory_name="KeySystemPlayReady";var Le=v.default.getSingletonFactory(dt);function Pe(_t){const It=(_t=_t||{}).BASE64,mt={};let ht;return mt[i.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(Vt){return It.decodeArray(Vt.license)},getErrorResponse:function(Vt){return Vt}},mt[i.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(Vt){return Vt},getErrorResponse:function(Vt){return String.fromCharCode.apply(null,new Uint8Array(Vt))}},ht={getServerURLFromMessage:function(Vt){return Vt},getHTTPMethod:function(){return"POST"},getResponseType:function(Vt){return mt[Vt].responseType},getLicenseMessage:function(Vt,$t){return(function(){if(!It||!It.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")})(),mt[$t].getLicenseMessage(Vt)},getErrorResponse:function(Vt,$t){return mt[$t].getErrorResponse(Vt)}},ht}Pe.__dashjs_factory_name="DRMToday";var it=v.default.getSingletonFactory(Pe);function J(){let _t;const It="http://schemas.xmlsoap.org/soap/envelope/";function mt($t){const rn=String.fromCharCode.apply(null,new Uint8Array($t));return decodeURIComponent(escape(rn))}function ht($t){if(window.DOMParser){const rn=mt($t),hn=new window.DOMParser().parseFromString(rn,"text/xml"),Ot=hn?hn.getElementsByTagNameNS(It,"Envelope")[0]:null,qt=Ot?Ot.getElementsByTagNameNS(It,"Body")[0]:null;if(qt&&qt.getElementsByTagNameNS(It,"Fault")[0])return null}return $t}function Vt($t){let rn="",hn="",Ot="",qt=-1,en=-1;if(window.DOMParser){const Kt=mt($t),pn=new window.DOMParser().parseFromString(Kt,"text/xml"),Hn=pn?pn.getElementsByTagNameNS(It,"Envelope")[0]:null,Fn=Hn?Hn.getElementsByTagNameNS(It,"Body")[0]:null,Un=Fn?Fn.getElementsByTagNameNS(It,"Fault")[0]:null,hr=Un?Un.getElementsByTagName("detail")[0]:null,an=hr?hr.getElementsByTagName("Exception")[0]:null;let wt=null;if(Un===null)return Kt;wt=Un.getElementsByTagName("faultstring")[0].firstChild,rn=wt?wt.nodeValue:null,an!==null&&(wt=an.getElementsByTagName("StatusCode")[0],hn=wt?wt.firstChild.nodeValue:null,wt=an.getElementsByTagName("Message")[0],Ot=wt?wt.firstChild.nodeValue:null,qt=Ot?Ot.lastIndexOf("[")+1:-1,en=Ot?Ot.indexOf("]"):-1,Ot=Ot?Ot.substring(qt,en):"")}let fn=`code: ${hn}, name: ${rn}`;return Ot&&(fn+=`, message: ${Ot}`),fn}return _t={getServerURLFromMessage:function($t){return $t},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function($t){return ht.call(this,$t)},getErrorResponse:function($t){return Vt.call(this,$t)}},_t}J.__dashjs_factory_name="PlayReady";var G=v.default.getSingletonFactory(J);function P(){let _t;return _t={getServerURLFromMessage:function(It){return It},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(It){return It},getErrorResponse:function(It){return String.fromCharCode.apply(null,new Uint8Array(It))}},_t}P.__dashjs_factory_name="Widevine";var $=v.default.getSingletonFactory(P);function ae(){let _t;return _t={getServerURLFromMessage:function(It){return It},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(It){if(!It.hasOwnProperty("keys"))return null;let mt=[];for(let ht=0;ht<It.keys.length;ht++){let Vt=It.keys[ht],$t=Vt.kid.replace(/=/g,""),rn=Vt.k.replace(/=/g,"");mt.push(new T($t,rn))}return new A(mt)},getErrorResponse:function(It){return String.fromCharCode.apply(null,new Uint8Array(It))}},_t}ae.__dashjs_factory_name="ClearKey";var ne=v.default.getSingletonFactory(ae),$e=class{constructor(_t){this.ks=_t.ks,this.keyId=_t.keyId,this.initData=_t.initData,this.protData=_t.protData,this.cdmData=_t.cdmData,this.sessionId=_t.sessionId,this.sessionType=_t.sessionType}};function Qe(){let _t,It,mt,ht,Vt,$t,rn,hn,Ot=this.context;function qt(Kt,pn){return pn&&Kt in pn?pn[Kt]:null}function en(Kt,pn){return Kt&&Kt.sessionId?Kt.sessionId:pn&&pn.sessionId?pn.sessionId:null}function fn(Kt,pn){return Kt&&Kt.sessionType?Kt.sessionType:pn}return _t={getKeySystemBySystemString:function(Kt){for(let pn=0;pn<ht.length;pn++)if(ht[pn].systemString===Kt)return ht[pn];return null},getKeySystems:function(){return ht},getLicenseServerModelInstance:function(Kt,pn,Hn){if(Hn===i.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_RELEASE||Hn===i.default.MEDIA_KEY_MESSAGE_TYPES.INDIVIDUALIZATION_REQUEST)return null;let Fn=null;return pn&&pn.hasOwnProperty("drmtoday")?Fn=it(Ot).getInstance({BASE64:Vt}):Kt.systemString===i.default.WIDEVINE_KEYSTEM_STRING?Fn=$(Ot).getInstance():Kt.systemString===i.default.PLAYREADY_KEYSTEM_STRING?Fn=G(Ot).getInstance():Kt.systemString===i.default.CLEARKEY_KEYSTEM_STRING&&(Fn=ne(Ot).getInstance()),Fn},getSupportedKeySystemMetadataFromContentProtection:function(Kt,pn,Hn){let Fn,Un,hr,an,wt=[];if(!Kt||!Kt.length)return wt;const ot=u.findMp4ProtectionElement(Kt);for(hr=0;hr<ht.length;hr++){Un=ht[hr];const Yt=qt(Un.systemString,pn);for(an=0;an<Kt.length;an++)if(Fn=Kt[an],Fn.schemeIdUri.toLowerCase()===Un.schemeIdURI){let dn=Un.getInitData(Fn,ot);const qn=new $e({ks:ht[hr],keyId:Fn.keyId,initData:dn,protData:Yt,cdmData:Un.getCDMData(Yt?Yt.cdmData:null),sessionId:en(Yt,Fn),sessionType:fn(Yt,Hn)});Yt?wt.unshift(qn):wt.push(qn)}}return wt},getSupportedKeySystemMetadataFromSegmentPssh:function(Kt,pn,Hn){let Fn,Un,hr=[],an=u.parsePSSHList(Kt);for(let wt=0;wt<ht.length;++wt){Fn=ht[wt],Un=Fn.systemString;const ot=qt(Un,pn);Fn.uuid in an&&hr.push({ks:Fn,initData:an[Fn.uuid],protData:ot,cdmData:Fn.getCDMData(ot?ot.cdmData:null),sessionId:en(ot),sessionType:fn(ot,Hn)})}return hr},initDataEquals:function(Kt,pn){if(Kt.byteLength===pn.byteLength){let Hn=new Uint8Array(Kt),Fn=new Uint8Array(pn);for(let Un=0;Un<Hn.length;Un++)if(Hn[Un]!==Fn[Un])return!1;return!0}return!1},initialize:function(){let Kt;ht=[],Kt=Le(Ot).getInstance({BASE64:Vt,settings:$t}),ht.push(Kt),Kt=Ie(Ot).getInstance({BASE64:Vt}),ht.push(Kt),Kt=F(Ot).getInstance({BASE64:Vt}),ht.push(Kt),rn=Kt,Kt=Te(Ot).getInstance({BASE64:Vt,debug:It}),ht.push(Kt),hn=Kt},isClearKey:function(Kt){return Kt===rn||Kt===hn},processClearKeyLicenseRequest:function(Kt,pn,Hn){try{return Kt.getClearKeysFromProtectionData(pn,Hn)}catch{return mt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(Kt){Kt&&(Kt.debug&&(It=Kt.debug,mt=It.getLogger(_t)),Kt.BASE64&&(Vt=Kt.BASE64),Kt.settings&&($t=Kt.settings))},setKeySystems:function(Kt){ht=Kt},setProtectionData:function(Kt){for(var pn,Hn,Fn=0;Fn<ht.length;Fn++){var Un=ht[Fn];Un.hasOwnProperty("init")&&Un.init((pn=Un.systemString,Hn=void 0,Hn=null,Kt&&(Hn=pn in Kt?Kt[pn]:null),Hn))}}},_t}Qe.__dashjs_factory_name="ProtectionKeyController";var Ve=v.default.getSingletonFactory(Qe),We=n(445),Ke=class{constructor(_t,It){this.initData=_t,this.initDataType=It}},Je=class{constructor(_t,It,mt,ht){this.sessionToken=_t,this.message=It,this.defaultURL=mt,this.messageType=ht||i.default.MEDIA_KEY_MESSAGE_TYPES.LICENSE_REQUEST}},ft=class{constructor(_t,It){this.keySystem=_t,this.ksConfiguration=It,this.nativeMediaKeySystemAccessObject=null,this.selectedSystemString=null}};const nt={};function bt(_t){_t=_t||{};const It=this.context,mt=_t.eventBus,ht=_t.events,Vt=_t.debug;let $t,rn,hn,Ot,qt,en,fn,Kt;function pn(wt,ot,Yt,dn){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){const br="Insecure origins are not allowed";return mt.trigger(ht.KEY_SYSTEM_ACCESS_COMPLETE,{error:br}),void dn({error:br})}const qn=wt[ot].protData&&wt[ot].protData.systemStringPriority?wt[ot].protData.systemStringPriority:null,mr=wt[ot].configs,Ir=wt[ot].ks;let Ai=Ir.systemString;(function(br,ci){return new Promise(((Re,Ii)=>{Hn(br,ci,0,Re,Ii)}))})(qn||(nt[Ai]?nt[Ai]:[Ai]),mr).then((br=>{const ci=br&&br.nativeMediaKeySystemAccessObject&&typeof br.nativeMediaKeySystemAccessObject.getConfiguration=="function"?br.nativeMediaKeySystemAccessObject.getConfiguration():null,Re=new ft(Ir,ci);Re.selectedSystemString=br.selectedSystemString,Re.nativeMediaKeySystemAccessObject=br.nativeMediaKeySystemAccessObject,mt.trigger(ht.KEY_SYSTEM_ACCESS_COMPLETE,{data:Re}),Yt({data:Re})})).catch((br=>{if(ot+1<wt.length)pn(wt,ot+1,Yt,dn);else{const ci="Key system access denied! ";mt.trigger(ht.KEY_SYSTEM_ACCESS_COMPLETE,{error:ci+br.message}),dn({error:ci+br.message})}}))}function Hn(wt,ot,Yt,dn,qn){const mr=wt[Yt];rn.debug(`Requesting key system access for system string ${mr}`),navigator.requestMediaKeySystemAccess(mr,ot).then((Ir=>{dn({nativeMediaKeySystemAccessObject:Ir,selectedSystemString:mr})})).catch((Ir=>{Yt+1<wt.length?Hn(wt,ot,Yt+1,dn,qn):qn(Ir)}))}function Fn(wt){if(!wt||!wt.session)return Promise.resolve;const ot=wt.session;return ot.removeEventListener("keystatuseschange",wt),ot.removeEventListener("message",wt),ot.close()}function Un(wt){for(let ot=0;ot<en.length;ot++)if(en[ot]===wt){en.splice(ot,1);break}}function hr(wt,ot){const Yt={session:wt,keyId:ot.keyId,normalizedKeyId:ot&&ot.keyId&&typeof ot.keyId=="string"?ot.keyId.replace(/-/g,"").toLowerCase():"",initData:ot.initData,sessionId:ot.sessionId,sessionType:ot.sessionType,hasTriggeredKeyStatusMapUpdate:!1,handleEvent:function(dn){switch(dn.type){case"keystatuseschange":this._onKeyStatusesChange(dn);break;case"message":this._onKeyMessage(dn)}},_onKeyStatusesChange:function(dn){mt.trigger(ht.KEY_STATUSES_CHANGED,{data:this});const qn=[];dn.target.keyStatuses.forEach((function(){qn.push(an(arguments))})),mt.trigger(ht.INTERNAL_KEY_STATUSES_CHANGED,{parsedKeyStatuses:qn,sessionToken:Yt})},_onKeyMessage:function(dn){let qn=ArrayBuffer.isView(dn.message)?dn.message.buffer:dn.message;mt.trigger(ht.INTERNAL_KEY_MESSAGE,{data:new Je(this,qn,void 0,dn.messageType)})},getKeyId:function(){return this.keyId},getSessionId:function(){return wt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return wt.expiration},getKeyStatuses:function(){return wt.keyStatuses},getUsable:function(){let dn=!1;return wt.keyStatuses.forEach((function(){an(arguments).status===i.default.MEDIA_KEY_STATUSES.USABLE&&(dn=!0)})),dn}};return wt.addEventListener("keystatuseschange",Yt),wt.addEventListener("message",Yt),wt.closed.then((()=>{Un(Yt),rn.debug("DRM: Session closed.  SessionID = "+Yt.getSessionId()),mt.trigger(ht.KEY_SESSION_CLOSED,{data:Yt.getSessionId()})})),en.push(Yt),Yt}function an(wt){let ot,Yt;return wt&&wt.length>0&&(wt[0]&&(typeof wt[0]=="string"?ot=wt[0]:Yt=wt[0]),wt[1]&&(typeof wt[1]=="string"?ot=wt[1]:Yt=wt[1])),{status:ot,keyId:Yt}}return $t={closeKeySession:function(wt){Fn(wt).catch((function(ot){Un(wt),mt.trigger(ht.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+wt.getSessionId()+") "+ot.name})}))},createKeySession:function(wt){if(!hn||!qt)throw new Error("Can not create sessions until you have selected a key system");const ot=qt.createSession(wt.sessionType),Yt=hr(ot,wt),dn=hn.systemString===i.default.CLEARKEY_KEYSTEM_STRING&&(wt.initData||wt.protData&&wt.protData.clearkeys)?i.default.INITIALIZATION_DATA_TYPE_KEYIDS:i.default.INITIALIZATION_DATA_TYPE_CENC;ot.generateRequest(dn,wt.initData).then((function(){rn.debug("DRM: Session created.  SessionID = "+Yt.getSessionId()),mt.trigger(ht.KEY_SESSION_CREATED,{data:Yt})})).catch((function(qn){Un(Yt),mt.trigger(ht.KEY_SESSION_CREATED,{data:null,error:new f.default(h.default.KEY_SESSION_CREATED_ERROR_CODE,h.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+qn.name)})}))},getAllInitData:function(){const wt=[];for(let ot=0;ot<en.length;ot++)en[ot].initData&&wt.push(en[ot].initData);return wt},getSessionTokens:function(){return en},loadKeySession:function(wt){if(!hn||!qt)throw new Error("Can not load sessions until you have selected a key system");const ot=wt.sessionId;for(let qn=0;qn<en.length;qn++)if(ot===en[qn].sessionId)return void rn.warn("DRM: Ignoring session ID because we have already seen it!");const Yt=qt.createSession(wt.sessionType),dn=hr(Yt,wt);dn.hasTriggeredKeyStatusMapUpdate=!0,Yt.load(ot).then((function(qn){qn?(rn.debug("DRM: Session loaded.  SessionID = "+dn.getSessionId()),mt.trigger(ht.KEY_SESSION_CREATED,{data:dn})):(Un(dn),mt.trigger(ht.KEY_SESSION_CREATED,{data:null,error:new f.default(h.default.KEY_SESSION_CREATED_ERROR_CODE,h.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+ot+")")}))})).catch((function(qn){Un(dn),mt.trigger(ht.KEY_SESSION_CREATED,{data:null,error:new f.default(h.default.KEY_SESSION_CREATED_ERROR_CODE,h.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+ot+")! "+qn.name)})}))},removeKeySession:function(wt){wt.session.remove().then((function(){rn.debug("DRM: Session removed.  SessionID = "+wt.getSessionId()),mt.trigger(ht.KEY_SESSION_REMOVED,{data:wt.getSessionId()})}),(function(ot){mt.trigger(ht.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+wt.getSessionId()+"). "+ot.name})}))},requestKeySystemAccess:function(wt){return new Promise(((ot,Yt)=>{pn(wt,0,ot,Yt)}))},reset:function(){const wt=en.length;let ot;if(wt!==0){const Yt=function(dn){Un(dn),en.length===0&&(Ot?(Ot.removeEventListener("encrypted",fn),Ot.setMediaKeys(null).then((function(){mt.trigger(ht.TEARDOWN_COMPLETE)}))):mt.trigger(ht.TEARDOWN_COMPLETE))};for(let dn=0;dn<wt;dn++)ot=en[dn],(function(qn){Fn(ot),Yt(qn)})(ot)}else mt.trigger(ht.TEARDOWN_COMPLETE)},selectKeySystem:function(wt){return new Promise(((ot,Yt)=>{wt.nativeMediaKeySystemAccessObject.createMediaKeys().then((dn=>(hn=wt.keySystem,qt=dn,Ot?Ot.setMediaKeys(qt):Promise.resolve()))).then((()=>{ot(hn)})).catch((function(){Yt({error:"Error selecting keys system ("+wt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})}))}))},setMediaElement:function(wt){Ot!==wt&&(Ot&&(Ot.removeEventListener("encrypted",fn),Ot.setMediaKeys&&Ot.setMediaKeys(null)),Ot=wt,Ot&&(Ot.addEventListener("encrypted",fn),Ot.setMediaKeys&&qt&&Ot.setMediaKeys(qt)))},setServerCertificate:function(wt){return new Promise((ot=>{qt.setServerCertificate(wt).then((function(){rn.info("DRM: License server certificate successfully updated."),mt.trigger(ht.SERVER_CERTIFICATE_UPDATED),ot()})).catch((Yt=>{mt.trigger(ht.SERVER_CERTIFICATE_UPDATED,{error:new f.default(h.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,h.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+Yt.name)}),ot()}))}))},stop:function(){let wt;for(let ot=0;ot<en.length;ot++)wt=en[ot],wt.getUsable()||(Fn(wt),Un(wt))},updateKeySession:function(wt,ot){const Yt=wt.session;Kt.isClearKey(hn)&&(ot=ot.toJWK()),Yt.update(ot).then((()=>{mt.trigger(ht.KEY_SESSION_UPDATED)})).catch((function(dn){mt.trigger(ht.KEY_ERROR,{error:new f.default(h.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+dn.name,wt)})}))}},rn=Vt.getLogger($t),hn=null,Ot=null,qt=null,en=[],Kt=Ve(It).getInstance(),fn={handleEvent:function(wt){if(wt.type==="encrypted"&&wt.initData){let ot=ArrayBuffer.isView(wt.initData)?wt.initData.buffer:wt.initData;mt.trigger(ht.NEED_KEY,{key:new Ke(ot,wt.initDataType)})}}},$t}nt[i.default.PLAYREADY_KEYSTEM_STRING]=[i.default.PLAYREADY_KEYSTEM_STRING,i.default.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],nt[i.default.WIDEVINE_KEYSTEM_STRING]=[i.default.WIDEVINE_KEYSTEM_STRING],nt[i.default.CLEARKEY_KEYSTEM_STRING]=[i.default.CLEARKEY_KEYSTEM_STRING],bt.__dashjs_factory_name="DefaultProtectionModel";var tn=v.default.getClassFactory(bt);function zt(_t){_t=_t||{};const It=this.context,mt=_t.eventBus,ht=_t.events,Vt=_t.debug,$t=_t.api;let rn,hn,Ot,qt,en,fn,Kt,pn,Hn;function Fn(){try{for(let an=0;an<Kt.length;an++)Un(Kt[an]);Ot&&Ot.removeEventListener($t.needkey,pn),mt.trigger(ht.TEARDOWN_COMPLETE)}catch(an){mt.trigger(ht.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+an.message})}}function Un(an){const wt=an.session;wt.removeEventListener($t.error,an),wt.removeEventListener($t.message,an),wt.removeEventListener($t.ready,an),wt.removeEventListener($t.close,an);for(let ot=0;ot<Kt.length;ot++)if(Kt[ot]===an){Kt.splice(ot,1);break}wt[$t.release]()}function hr(){let an=null;const wt=function(){Ot.removeEventListener("loadedmetadata",an),Ot[$t.setMediaKeys](en),mt.trigger(ht.VIDEO_ELEMENT_SELECTED)};Ot.readyState>=1?wt():(an=wt.bind(this),Ot.addEventListener("loadedmetadata",an))}return rn={getAllInitData:function(){const an=[];for(let wt=0;wt<Kt.length;wt++)an.push(Kt[wt].initData);return an},getSessionTokens:function(){return Kt},requestKeySystemAccess:function(an){return new Promise(((wt,ot)=>{let Yt=!1;for(let dn=0;dn<an.length;dn++){const qn=an[dn].ks.systemString,mr=an[dn].configs;let Ir=null,Ai=null;for(let br=0;br<mr.length;br++){const ci=mr[br].audioCapabilities,Re=mr[br].videoCapabilities;if(ci&&ci.length!==0){Ir=[];for(let Rn=0;Rn<ci.length;Rn++)window[$t.MediaKeys].isTypeSupported(qn,ci[Rn].contentType)&&Ir.push(ci[Rn])}if(Re&&Re.length!==0){Ai=[];for(let Rn=0;Rn<Re.length;Rn++)window[$t.MediaKeys].isTypeSupported(qn,Re[Rn].contentType)&&Ai.push(Re[Rn])}if(!Ir&&!Ai||Ir&&Ir.length===0||Ai&&Ai.length===0)continue;Yt=!0;const Ii=new d(Ir,Ai),Ua=Hn.getKeySystemBySystemString(qn),mo=new ft(Ua,Ii);mt.trigger(ht.KEY_SYSTEM_ACCESS_COMPLETE,{data:mo}),wt({data:mo});break}}if(!Yt){const dn="Key system access denied! -- No valid audio/video content configurations detected!";mt.trigger(ht.KEY_SYSTEM_ACCESS_COMPLETE,{error:dn}),ot({error:dn})}}))},selectKeySystem:function(an){return new Promise(((wt,ot)=>{try{en=an.mediaKeys=new window[$t.MediaKeys](an.keySystem.systemString),qt=an.keySystem,fn=an,Ot&&hr(),wt(qt)}catch{ot({error:"Error selecting keys system ("+qt.systemString+")! Could not create MediaKeys -- TODO"})}}))},setMediaElement:function(an){Ot!==an&&(Ot&&Ot.removeEventListener($t.needkey,pn),Ot=an,Ot&&(Ot.addEventListener($t.needkey,pn),en&&hr()))},createKeySession:function(an){if(!qt||!en||!fn)throw new Error("Can not create sessions until you have selected a key system");let wt=null;if(fn.ksConfiguration.videoCapabilities&&fn.ksConfiguration.videoCapabilities.length>0&&(wt=fn.ksConfiguration.videoCapabilities[0]),wt===null&&fn.ksConfiguration.audioCapabilities&&fn.ksConfiguration.audioCapabilities.length>0&&(wt=fn.ksConfiguration.audioCapabilities[0]),wt===null)throw new Error("Can not create sessions for unknown content types.");const ot=wt.contentType,Yt=en.createSession(ot,new Uint8Array(an.initData),an.cdmData?new Uint8Array(an.cdmData):null),dn=(function(qn,mr){return{session:qn,keyId:mr.keyId,normalizedKeyId:mr&&mr.keyId&&typeof mr.keyId=="string"?mr.keyId.replace(/-/g,"").toLowerCase():"",initData:mr.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}},handleEvent:function(Ir){switch(Ir.type){case $t.error:let Ai="KeyError";mt.trigger(ht.KEY_ERROR,{error:new f.default(h.default.MEDIA_KEYERR_CODE,Ai,this)});break;case $t.message:let br=ArrayBuffer.isView(Ir.message)?Ir.message.buffer:Ir.message;mt.trigger(ht.INTERNAL_KEY_MESSAGE,{data:new Je(this,br,Ir.destinationURL)});break;case $t.ready:hn.debug("DRM: Key added."),mt.trigger(ht.KEY_ADDED);break;case $t.close:hn.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),mt.trigger(ht.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}})(Yt,an);Yt.addEventListener($t.error,dn),Yt.addEventListener($t.message,dn),Yt.addEventListener($t.ready,dn),Yt.addEventListener($t.close,dn),Kt.push(dn),hn.debug("DRM: Session created.  SessionID = "+dn.getSessionId()),mt.trigger(ht.KEY_SESSION_CREATED,{data:dn})},updateKeySession:function(an,wt){const ot=an.session;Hn.isClearKey(qt)?ot.update(new Uint8Array(wt.toJWK())):ot.update(new Uint8Array(wt)),mt.trigger(ht.KEY_SESSION_UPDATED)},closeKeySession:Un,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:Fn,reset:Fn},hn=Vt.getLogger(rn),Ot=null,qt=null,en=null,fn=null,Kt=[],Hn=Ve(It).getInstance(),pn={handleEvent:function(an){if(an.type===$t.needkey&&an.initData){const wt=ArrayBuffer.isView(an.initData)?an.initData.buffer:an.initData;mt.trigger(ht.NEED_KEY,{key:new Ke(wt,i.default.INITIALIZATION_DATA_TYPE_CENC)})}}},rn}zt.__dashjs_factory_name="ProtectionModel_3Feb2014";var Wt=v.default.getClassFactory(zt);function Ze(_t){_t=_t||{};const It=this.context,mt=_t.eventBus,ht=_t.events,Vt=_t.debug,$t=_t.api,rn=_t.errHandler;let hn,Ot,qt,en,fn,Kt,pn,Hn,Fn;function Un(){qt&&wt();for(let ot=0;ot<pn.length;ot++)hr(pn[ot]);mt.trigger(ht.TEARDOWN_COMPLETE)}function hr(ot){try{qt[$t.cancelKeyRequest](en.systemString,ot.sessionId)}catch(Yt){mt.trigger(ht.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+ot.sessionId+") "+Yt.message})}}function an(ot,Yt){if(Yt&&ot){const dn=ot.length;for(let qn=0;qn<dn;qn++)if(ot[qn].sessionId==Yt)return ot[qn];return null}return null}function wt(){qt.removeEventListener($t.keyerror,Fn),qt.removeEventListener($t.needkey,Fn),qt.removeEventListener($t.keymessage,Fn),qt.removeEventListener($t.keyadded,Fn)}return hn={getAllInitData:function(){const ot=[];for(let Yt=0;Yt<Kt.length;Yt++)ot.push(Kt[Yt].initData);for(let Yt=0;Yt<pn.length;Yt++)ot.push(pn[Yt].initData);return ot},getSessionTokens:function(){return pn.concat(Kt)},requestKeySystemAccess:function(ot){return new Promise(((Yt,dn)=>{let qn=qt;qn||(qn=document.createElement("video"));let mr=!1;for(let Ir=0;Ir<ot.length;Ir++){const Ai=ot[Ir].ks.systemString,br=ot[Ir].configs;let ci=null,Re=null;for(let Ii=0;Ii<br.length;Ii++){const Ua=br[Ii].videoCapabilities;if(Ua&&Ua.length!==0){Re=[];for(let ln=0;ln<Ua.length;ln++)qn.canPlayType(Ua[ln].contentType,Ai)!==""&&Re.push(Ua[ln])}if(!Re||ci||Re&&Re.length===0)continue;mr=!0;const mo=new d(ci,Re),Rn=fn.getKeySystemBySystemString(Ai),at=new ft(Rn,mo);mt.trigger(ht.KEY_SYSTEM_ACCESS_COMPLETE,{data:at}),Yt({data:at});break}}if(!mr){const Ir="Key system access denied! -- No valid audio/video content configurations detected!";mt.trigger(ht.KEY_SYSTEM_ACCESS_COMPLETE,{error:Ir}),dn({error:Ir})}}))},selectKeySystem:function(ot){return en=ot.keySystem,Promise.resolve(en)},setMediaElement:function(ot){if(qt!==ot){if(qt){wt();for(var Yt=0;Yt<pn.length;Yt++)hr(pn[Yt]);pn=[]}qt=ot,qt&&(qt.addEventListener($t.keyerror,Fn),qt.addEventListener($t.needkey,Fn),qt.addEventListener($t.keymessage,Fn),qt.addEventListener($t.keyadded,Fn),mt.trigger(ht.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(ot){if(!en)throw new Error("Can not create sessions until you have selected a key system");if(Hn||pn.length===0){const Yt={sessionId:null,keyId:ot.keyId,normalizedKeyId:ot&&ot.keyId&&typeof ot.keyId=="string"?ot.keyId.replace(/-/g,"").toLowerCase():"",initData:ot.initData,hasTriggeredKeyStatusMapUpdate:!1,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},getKeyStatuses:function(){return{size:0,has:()=>!1,get:()=>{}}}};return Kt.push(Yt),qt[$t.generateKeyRequest](en.systemString,new Uint8Array(ot.initData)),Yt}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(ot,Yt){const dn=ot.sessionId;if(fn.isClearKey(en))for(let qn=0;qn<Yt.keyPairs.length;qn++)qt[$t.addKey](en.systemString,Yt.keyPairs[qn].key,Yt.keyPairs[qn].keyID,dn);else qt[$t.addKey](en.systemString,new Uint8Array(Yt),new Uint8Array(ot.initData),dn);mt.trigger(ht.KEY_SESSION_UPDATED)},closeKeySession:hr,setServerCertificate:function(){return Promise.resolve()},loadKeySession:function(){},removeKeySession:function(){},stop:Un,reset:Un},Ot=Vt.getLogger(hn),qt=null,en=null,Kt=[],pn=[],fn=Ve(It).getInstance(),Fn={handleEvent:function(ot){let Yt=null;switch(ot.type){case $t.needkey:let dn=ArrayBuffer.isView(ot.initData)?ot.initData.buffer:ot.initData;mt.trigger(ht.NEED_KEY,{key:new Ke(dn,i.default.INITIALIZATION_DATA_TYPE_CENC)});break;case $t.keyerror:if(Yt=an(pn,ot.sessionId),Yt||(Yt=an(Kt,ot.sessionId)),Yt){let qn=h.default.MEDIA_KEYERR_CODE,mr="";switch(ot.errorCode.code){case 1:qn=h.default.MEDIA_KEYERR_UNKNOWN_CODE,mr+="MEDIA_KEYERR_UNKNOWN - "+h.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:qn=h.default.MEDIA_KEYERR_CLIENT_CODE,mr+="MEDIA_KEYERR_CLIENT - "+h.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:qn=h.default.MEDIA_KEYERR_SERVICE_CODE,mr+="MEDIA_KEYERR_SERVICE - "+h.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:qn=h.default.MEDIA_KEYERR_OUTPUT_CODE,mr+="MEDIA_KEYERR_OUTPUT - "+h.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:qn=h.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,mr+="MEDIA_KEYERR_HARDWARECHANGE - "+h.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:qn=h.default.MEDIA_KEYERR_DOMAIN_CODE,mr+="MEDIA_KEYERR_DOMAIN - "+h.default.MEDIA_KEYERR_DOMAIN_MESSAGE}mr+="  System Code = "+ot.systemCode,mt.trigger(ht.KEY_ERROR,{error:new f.default(qn,mr,Yt)})}else Ot.error("No session token found for key error");break;case $t.keyadded:Yt=an(pn,ot.sessionId),Yt||(Yt=an(Kt,ot.sessionId)),Yt?(Ot.debug("DRM: Key added."),mt.trigger(ht.KEY_ADDED,{data:Yt})):Ot.debug("No session token found for key added");break;case $t.keymessage:if(Hn=ot.sessionId!==null&&ot.sessionId!==void 0,Hn?(Yt=an(pn,ot.sessionId),!Yt&&Kt.length>0&&(Yt=Kt.shift(),pn.push(Yt),Yt.sessionId=ot.sessionId,mt.trigger(ht.KEY_SESSION_CREATED,{data:Yt}))):Kt.length>0&&(Yt=Kt.shift(),pn.push(Yt),Kt.length!==0&&rn.error(new f.default(h.default.MEDIA_KEY_MESSAGE_ERROR_CODE,h.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Yt){let qn=ArrayBuffer.isView(ot.message)?ot.message.buffer:ot.message;Yt.keyMessage=qn,mt.trigger(ht.INTERNAL_KEY_MESSAGE,{data:new Je(Yt,qn,ot.defaultURL)})}else Ot.warn("No session token found for key message")}}},hn}Ze.__dashjs_factory_name="ProtectionModel_01b";var At=v.default.getClassFactory(Ze);const mn=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],xn=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function Nn(){let _t;const It=this.context;function mt(ht,Vt){for(let $t=0;$t<Vt.length;$t++){const rn=Vt[$t];if(typeof ht[rn[Object.keys(rn)[0]]]=="function")return rn}return null}return _t={createProtectionSystem:function(ht){let Vt=null;const $t=Ve(It).getInstance();$t.setConfig({debug:ht.debug,BASE64:ht.BASE64,settings:ht.settings}),$t.initialize();let rn=(function(hn){const Ot=hn.debug,qt=Ot.getLogger(_t),en=hn.eventBus,fn=hn.errHandler,Kt=hn.videoModel?hn.videoModel.getElement():null;return Kt&&Kt.onencrypted===void 0||Kt&&Kt.mediaKeys===void 0?mt(Kt,xn)?(qt.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Wt(It).create({debug:Ot,eventBus:en,events:hn.events,api:mt(Kt,xn)})):mt(Kt,mn)?(qt.info("EME detected on this user agent! (ProtectionModel_01b)"),At(It).create({debug:Ot,eventBus:en,errHandler:fn,events:hn.events,api:mt(Kt,mn)})):(qt.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(qt.info("EME detected on this user agent! (DefaultProtectionModel"),tn(It).create({debug:Ot,eventBus:en,events:hn.events}))})(ht);return rn&&(Vt=E(It).create({BASE64:ht.BASE64,cmcdModel:ht.cmcdModel,constants:ht.constants,customParametersModel:ht.customParametersModel,debug:ht.debug,eventBus:ht.eventBus,events:ht.events,protectionKeyController:$t,protectionModel:rn,settings:ht.settings}),ht.capabilities.setEncryptedMediaSupported(!0)),Vt}},_t}Nn.__dashjs_factory_name="Protection";const Yn=v.default.getClassFactory(Nn);Yn.events=We.default,Yn.errors=h.default,v.default.updateClassFactory(Nn.__dashjs_factory_name,Yn);var Tr=Yn},445:function(t,e,n){n.r(e);var r=n(7252);class i extends r.default{constructor(){super(),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_STATUSES_CHANGED="internalkeyStatusesChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_STATUSES_MAP_UPDATED="keyStatusesMapUpdated",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.LICENSE_REQUEST_SENDING="public_licenseRequestSending",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected",this.KEY_SESSION_UPDATED="public_keySessionUpdated"}}let o=new i;e.default=o},1923:function(t,e,n){n.r(e);var r=n(8748);class i extends r.default{constructor(){super(),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}}let o=new i;e.default=o},4246:function(t,e,n){n.r(e);var r=n(138);const i={DEFAULT:.5,STRONG:1,WEAK:0};function o(u,c,d,h){let f,p,m,g,y;return p=u===void 0?null:u,m=(function(b){let v=i.DEFAULT;return b!==i.DEFAULT&&b!==i.STRONG&&b!==i.WEAK||(v=b),v})(d),g=c===void 0?null:c,y=h===void 0?null:h,f={representation:p,reason:g,rule:y,priority:m},f}o.__dashjs_factory_name="SwitchRequest";const l=r.default.getClassFactory(o);l.NO_CHANGE=null,l.PRIORITY=i,r.default.updateClassFactory(o.__dashjs_factory_name,l),e.default=l},559:function(t,e,n){n.r(e),n.d(e,{supportsMediaSource:function(){return c}});var r=n(138),i=n(5212),o=n(2861),l=n(7393),u=n(649);function c(){let h="ManagedMediaSource"in window,f="WebKitMediaSource"in window,p="MediaSource"in window;return h||f||p}function d(){let h,f,p,m,g,y;const b=this.context,v=(0,l.default)(b).getInstance();function _(w,I){let C;I===i.default.VIDEO?C=(function(F){const K={video:{}};return F&&(F.width&&(K.video.width=F.width),F.height&&(K.video.height=F.height),F.framerate&&(K.video.framerate=parseFloat(F.framerate)),F.hdrMetadataType&&(K.video.hdrMetadataType=F.hdrMetadataType),F.colorGamut&&(K.video.colorGamut=F.colorGamut),F.transferFunction&&(K.video.transferFunction=F.transferFunction)),K})(w):I===i.default.AUDIO&&(C=(function(F){const K={audio:{}};return F.samplerate&&(K.audio.samplerate=F.samplerate),K})(w)),C[I].contentType=w.codec,C[I].bitrate=parseInt(w.bitrate),C.type="media-source";let j=w.codec;return w.width&&w.height&&(j+=';width="'+w.width+'";height="'+w.height+'"'),C.mediaSourceCodecString=j,(function(F,K,he){if(!K||!K.keySystemsMetadata||K.keySystemsMetadata.length===0)return[F];const q=[];return K.keySystemsMetadata.forEach((Ee=>{if(!Ee.ks)return void q.push({...F});const Te=Ee.protData&&Ee.protData.systemStringPriority?Ee.protData.systemStringPriority:null;let ge=Ee.ks.systemString;(Te||[ge]).forEach((Be=>{const He={...F};He.keySystemConfiguration={},Be&&(He.keySystemConfiguration.keySystem=Be);let Ye="";Ee.ks.systemString===o.default.WIDEVINE_KEYSTEM_STRING&&(Ye=o.default.ROBUSTNESS_STRINGS.WIDEVINE.SW_SECURE_CRYPTO);const Ie=Ee.protData,we=Ie&&Ie.audioRobustness&&Ie.audioRobustness.length>0?Ie.audioRobustness:Ye,je=Ie&&Ie.videoRobustness&&Ie.videoRobustness.length>0?Ie.videoRobustness:Ye;he===i.default.AUDIO?He.keySystemConfiguration[he]={robustness:we}:he===i.default.VIDEO&&(He.keySystemConfiguration[he]={robustness:je}),q.push(He)}))})),q})(C,w,I)}function E(w){if(m&&m.length!==0&&w)return m.find((I=>{const C=T(w,I,i.default.AUDIO),j=T(w,I,i.default.VIDEO),F=T(w,I,"keySystemConfiguration");return C&&j&&F}))}function T(w,I,C){return!w[C]&&!I[C]||!(!w[C]||!I[C])&&v.areEqual(w[C],I[C])}function A(w,I){return(w=w.filter((C=>!(C.schemeIdUri&&I.some((j=>j.schemeIdUri===C.schemeIdUri)))))).push(...I),w}return h={areKeyIdsExpired:function(w){return!!(p&&w&&w.normalizedKeyIds&&w.normalizedKeyIds.size!==0)&&p.areKeyIdsExpired(w.normalizedKeyIds)},areKeyIdsUsable:function(w){return!(p&&w&&w.normalizedKeyIds&&w.normalizedKeyIds.size!==0)||p.areKeyIdsUsable(w.normalizedKeyIds)},isCodecSupportedBasedOnTestedConfigurations:function(w,I){if(!w||!w.codec||w.isSupported===!1)return!1;const C=_(w,I).map((j=>E(j))).filter((j=>j!=null));return!(C&&C.length>0)||(function(j){return j.some((F=>F&&F.decodingInfo&&F.decodingInfo.supported))})(C)},isProtectionCompatible:function(w,I){return!I||!(!w.isEncrypted&&I.isEncrypted)},runCodecSupportCheck:function(w,I){if(I!==i.default.AUDIO&&I!==i.default.VIDEO)return Promise.resolve();const C=f.get().streaming.enhancement.codecs;if(f.get().streaming.enhancement.enabled&&C.some((F=>w.codec.includes(F))))return Promise.resolve(!0);const j=_(w,I);return(function(F,K){return f.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(F.codec&&K===i.default.AUDIO||K===i.default.VIDEO&&F.codec&&F.width&&F.height&&F.bitrate&&F.framerate)})(w,I)?(function(F){return new Promise((K=>{if(!F||F.length===0)return void K();const he=F.map((q=>(function(Ee){return new Promise((Te=>{E(Ee)?Te():navigator.mediaCapabilities.decodingInfo(Ee).then((ge=>{Ee.decodingInfo=ge,m.push(Ee),Te()})).catch((ge=>{Ee.decodingInfo={supported:!1},m.push(Ee),y.error(ge),Te()}))}))})(q)));Promise.allSettled(he).then((()=>{K()})).catch((q=>{y.error(q),K()}))}))})(j):((function(F){if(!F||!F.length)return;const K=F[0];if(E(K))return;let he={supported:!1};("ManagedMediaSource"in window&&ManagedMediaSource.isTypeSupported(K.mediaSourceCodecString)||"MediaSource"in window&&MediaSource.isTypeSupported(K.mediaSourceCodecString)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(K.mediaSourceCodecString))&&(he.supported=!0),K.decodingInfo=he,m.push(K)})(j),Promise.resolve())},setConfig:function(w){w&&(w.settings&&(f=w.settings),w.protectionController&&(p=w.protectionController))},setEncryptedMediaSupported:function(w){g=w},setProtectionController:function(w){p=w},supportsChangeType:function(){return!!window.SourceBuffer&&!!SourceBuffer.prototype&&!!SourceBuffer.prototype.changeType},supportsEncryptedMedia:function(){return g},supportsEssentialProperty:function(w){let I=f.get().streaming.capabilities.supportedEssentialProperties;f.get().streaming.capabilities.useMediaCapabilitiesApi&&f.get().streaming.capabilities.filterVideoColorimetryEssentialProperties&&(I=A(I,[{schemeIdUri:i.default.COLOUR_PRIMARIES_SCHEME_ID_URI},{schemeIdUri:i.default.MATRIX_COEFFICIENTS_SCHEME_ID_URI},{schemeIdUri:i.default.TRANSFER_CHARACTERISTICS_SCHEME_ID_URI}])),f.get().streaming.capabilities.useMediaCapabilitiesApi&&f.get().streaming.capabilities.filterHDRMetadataFormatEssentialProperties&&(I=A(I,[{schemeIdUri:i.default.HDR_METADATA_FORMAT_SCHEME_ID_URI}]));try{return w.inArray(I)}catch{return!0}},supportsMediaSource:c},g=!1,m=[],y=(0,u.default)(b).getInstance().getLogger(h),h}d.__dashjs_factory_name="Capabilities",e.default=r.default.getSingletonFactory(d)},7377:function(t,e,n){n.r(e);var r=n(138),i=n(656);function o(){return{customTimeRangeArray:[],length:0,add:function(l,u){let c;for(c=0;c<this.customTimeRangeArray.length&&l>this.customTimeRangeArray[c].start;c++);for(this.customTimeRangeArray.splice(c,0,{start:l,end:u}),c=0;c<this.customTimeRangeArray.length-1;c++)this.mergeRanges(c,c+1)&&c--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(l,u){for(let c=0;c<this.customTimeRangeArray.length;c++)if(l<=this.customTimeRangeArray[c].start&&u>=this.customTimeRangeArray[c].end)this.customTimeRangeArray.splice(c,1),c--;else{if(l>this.customTimeRangeArray[c].start&&u<this.customTimeRangeArray[c].end){this.customTimeRangeArray.splice(c+1,0,{start:u,end:this.customTimeRangeArray[c].end}),this.customTimeRangeArray[c].end=l;break}l>this.customTimeRangeArray[c].start&&l<this.customTimeRangeArray[c].end?this.customTimeRangeArray[c].end=l:u>this.customTimeRangeArray[c].start&&u<this.customTimeRangeArray[c].end&&(this.customTimeRangeArray[c].start=u)}this.length=this.customTimeRangeArray.length},mergeRanges:function(l,u){let c=this.customTimeRangeArray[l],d=this.customTimeRangeArray[u];return c.start<=d.start&&d.start<=c.end&&c.end<=d.end?(c.end=d.end,this.customTimeRangeArray.splice(u,1),!0):d.start<=c.start&&c.start<=d.end&&d.end<=c.end?(c.start=d.start,this.customTimeRangeArray.splice(u,1),!0):d.start<=c.start&&c.start<=d.end&&c.end<=d.end?(this.customTimeRangeArray.splice(l,1),!0):c.start<=d.start&&d.start<=c.end&&d.end<=c.end&&(this.customTimeRangeArray.splice(u,1),!0)},start:function(l){return(0,i.checkInteger)(l),l>=this.customTimeRangeArray.length||l<0?NaN:this.customTimeRangeArray[l].start},end:function(l){return(0,i.checkInteger)(l),l>=this.customTimeRangeArray.length||l<0?NaN:this.customTimeRangeArray[l].end}}}o.__dashjs_factory_name="CustomTimeRanges",e.default=r.default.getClassFactory(o)},7393:function(t,e,n){n.r(e);var r=n(138),i=n(7316);function o(){let l;return l={areEqual:function(u,c){return i(u,c)}},l}o.__dashjs_factory_name="ObjectUtils",e.default=r.default.getSingletonFactory(o)},656:function(t,e,n){n.r(e),n.d(e,{checkInteger:function(){return o},checkIsVideoOrAudioType:function(){return u},checkParameterType:function(){return i},checkRange:function(){return l}});var r=n(5212);function i(c,d){if(typeof c!==d)throw r.default.BAD_ARGUMENT_ERROR}function o(c){if(c===null||isNaN(c)||c%1!=0)throw r.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"}function l(c,d,h){if(c<d||c>h)throw r.default.BAD_ARGUMENT_ERROR+" : argument out of range"}function u(c){if(typeof c!="string"||c!==r.default.AUDIO&&c!==r.default.VIDEO)throw r.default.BAD_ARGUMENT_ERROR}},1944:function(t,e,n){n.r(e),e.default=class{constructor(r,i,o){this.code=r||null,this.message=i||null,this.data=o||null}}},5560:function(t,e,n){n.r(e);var r=n(8854);e.default=class{constructor(i){this.id=i.id,this.url=i.url,this.language=i.language,this.mimeType=i.mimeType,this.bandwidth=i.bandwidth,this.periodId=i.periodId||null}serializeToMpdParserFormat(){return{tagName:r.default.ADAPTATION_SET,mimeType:this.mimeType,lang:this.language,Representation:[{tagName:r.default.REPRESENTATION,id:this.id,bandwidth:this.bandwidth,BaseURL:[{tagName:r.default.BASE_URL,__text:this.url}],mimeType:this.mimeType}]}}}},7568:function(t,e,n){n.r(e),n.d(e,{HTTPRequest:function(){return r},HTTPRequestTrace:function(){return i}});class r{constructor(){this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null,this._resourceTimingValues=null}}class i{constructor(){this.s=null,this.d=null,this.b=[]}}r.GET="GET",r.HEAD="HEAD",r.MPD_TYPE="MPD",r.XLINK_EXPANSION_TYPE="XLinkExpansion",r.INIT_SEGMENT_TYPE="InitializationSegment",r.INDEX_SEGMENT_TYPE="IndexSegment",r.MEDIA_SEGMENT_TYPE="MediaSegment",r.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",r.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",r.DVB_REPORTING_TYPE="DVBReporting",r.LICENSE="license",r.CONTENT_STEERING_TYPE="ContentSteering",r.OTHER_TYPE="other"}},nV={};function ma(t){var e=nV[t];if(e!==void 0)return e.exports;var n=nV[t]={exports:{}};return J9e[t].call(n.exports,n,n.exports,ma),n.exports}ma.amdO={},ma.d=function(t,e){for(var n in e)ma.o(e,n)&&!ma.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},ma.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),ma.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},ma.r=function(t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var uo={};ma.r(uo),ma.d(uo,{Constants:function(){return rie.default},Debug:function(){return nie.default},ExternalSubtitle:function(){return aie.default},MediaPlayer:function(){return eGe.MediaPlayer},MediaPlayerFactory:function(){return tie},MetricsReporting:function(){return Jre.default},Protection:function(){return eie.default},default:function(){return nGe},supportsMediaSource:function(){return iie.supportsMediaSource}});var eGe=ma(5393),Jre=ma(4469),eie=ma(3888),tGe=ma(1152);let rV,SE=(function(){const t="application/dash+xml";let e;function n(i,o,l){if(!i||!/^VIDEO$/i.test(i.nodeName))return null;if(i._dashjs_player)return i._dashjs_player;let u,c=i.id||i.name||"video element";if(!(o=o||[].slice.call(i.querySelectorAll("source")).filter((function(d){return d.type==t}))[0])&&i.src)(o=document.createElement("source")).src=i.src;else if(!o&&!i.src)return null;return l=l||{},u=(0,tGe.default)(l).create(),u.initialize(i,o.src,i.autoplay),e||(e=u.getDebug().getLogger()),e.debug("Converted "+c+" to dash.js player and added content: "+o.src),i._dashjs_player=u,u}function r(i){return/^VIDEO$/i.test(i.nodeName)?i:r(i.parentNode)}return{create:n,createAll:function(i,o){let l=[];i=i||"[data-dashjs-player]";let u=(o=o||document).querySelectorAll(i);for(let d=0;d<u.length;d++){let h=n(u[d],null);l.push(h)}let c=o.querySelectorAll('source[type="'+t+'"]');for(let d=0;d<c.length;d++){let h=n(r(c[d]),null);l.push(h)}return l}}})();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?SE.createAll():rV=window.setInterval((function(){window.dashjs&&(window.clearInterval(rV),SE.createAll())}),500):window.addEventListener("load",(function t(){window.removeEventListener("load",t),SE.createAll()})));var tie=SE,nie=ma(649),rie=ma(5212),iie=ma(559),aie=ma(5560);dashjs.Protection=eie.default,dashjs.MetricsReporting=Jre.default,dashjs.MediaPlayerFactory=tie,dashjs.Debug=nie.default,dashjs.supportsMediaSource=iie.supportsMediaSource,dashjs.Constants=rie.default,dashjs.ExternalSubtitle=aie.default;var nGe=dashjs,rGe=(uo=uo.default).Constants,iGe=uo.Debug,aGe=uo.ExternalSubtitle,sGe=uo.MediaPlayer,oGe=uo.MediaPlayerFactory,lGe=uo.MetricsReporting,uGe=uo.Protection,cGe=uo.default,dGe=uo.supportsMediaSource;const fGe=Object.freeze(Object.defineProperty({__proto__:null,Constants:rGe,Debug:iGe,ExternalSubtitle:aGe,MediaPlayer:sGe,MediaPlayerFactory:oGe,MetricsReporting:lGe,Protection:uGe,default:cGe,supportsMediaSource:dGe},Symbol.toStringTag,{value:"Module"}));export{qGe as $,Ph as A,n7e as B,kle as C,r7e as D,s7e as E,XGe as F,W3 as G,Zg as H,JGe as I,ZGe as J,QGe as K,l7e as L,i7e as M,CGe as N,Boe as O,WGe as P,YGe as Q,KGe as R,BGe as S,VGe as T,GGe as U,HGe as V,gV as W,jGe as X,LGe as Y,DGe as Z,zGe as _,bGe as a,b7e as a$,$Ge as a0,d7e as a1,c7e as a2,u7e as a3,f7e as a4,h7e as a5,p7e as a6,t1 as a7,hhe as a8,op as a9,aN as aA,xZ as aB,PZ as aC,CZ as aD,IZ as aE,OZ as aF,SZ as aG,RZ as aH,wZ as aI,_Z as aJ,EZ as aK,rN as aL,Ys as aM,RC as aN,xGe as aO,IGe as aP,AGe as aQ,RGe as aR,Zi as aS,T7e as aT,_7e as aU,v7e as aV,E7e as aW,k7e as aX,m7e as aY,y7e as aZ,g7e as a_,o7e as aa,a7e as ab,$le as ac,Kle as ad,dhe as ae,$a as af,w7e as ag,Bd as ah,S7e as ai,A7e as aj,x7e as ak,bQ as al,R7e as am,I7e as an,Oa as ao,ay as ap,rVe as aq,tVe as ar,nVe as as,Ma as at,iN as au,DZ as av,LZ as aw,kZ as ax,AZ as ay,TZ as az,vGe as b,Ci as b0,C7e as b1,eOe as b2,Z7e as b3,J7e as b4,eVe as b5,iVe as b6,TGe as c,SGe as d,wGe as e,lV as f,Na as g,EGe as h,qh as i,Wv as j,gGe as k,Ub as l,_Ge as m,kGe as n,e7e as o,Ky as p,UGe as q,yGe as r,coe as s,FGe as t,NGe as u,MGe as v,OGe as w,PGe as x,zoe as y,t7e as z};

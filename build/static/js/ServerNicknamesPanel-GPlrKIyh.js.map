{"version":3,"file":"ServerNicknamesPanel-GPlrKIyh.js","sources":["../../../src/components/ServerNicknamesPanel.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { FaTimes, FaUser, FaHistory } from 'react-icons/fa';\nimport { toast } from '../utils/toast';\n\nconst ServerNicknamesPanel = ({ fetchWithAuth, apiBaseUrl, onClose, serverId }) => {\n    const [nicknames, setNicknames] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [searchQuery, setSearchQuery] = useState('');\n\n    useEffect(() => {\n        fetchNicknames();\n    }, []);\n\n    const fetchNicknames = async () => {\n        setLoading(true);\n        try {\n            const response = await fetchWithAuth(`${apiBaseUrl}/servers/${serverId}/nicknames/`);\n            const data = await response.json();\n            setNicknames(data.nicknames || []);\n        } catch (error) {\n            toast.error('Failed to load nicknames');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const updateNickname = async (userId, newNickname) => {\n        try {\n            await fetchWithAuth(`${apiBaseUrl}/servers/${serverId}/nicknames/set/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    user_id: userId,\n                    nickname: newNickname\n                })\n            });\n\n            toast.success('Nickname updated');\n            fetchNicknames();\n        } catch (error) {\n            toast.error('Failed to update nickname');\n        }\n    };\n\n    const clearNickname = async (userId) => {\n        try {\n            await fetchWithAuth(`${apiBaseUrl}/servers/${serverId}/nicknames/clear/`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ user_id: userId })\n            });\n\n            toast.success('Nickname cleared');\n            fetchNicknames();\n        } catch (error) {\n            toast.error('Failed to clear nickname');\n        }\n    };\n\n    const filteredNicknames = nicknames.filter(n =>\n        n.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        (n.nickname && n.nickname.toLowerCase().includes(searchQuery.toLowerCase()))\n    );\n\n    return (\n        <div style={styles.overlay}>\n            <div style={styles.modal}>\n                <div style={styles.header}>\n                    <div style={styles.headerLeft}>\n                        <FaUser style={{ marginRight: '10px', color: '#5865f2' }} />\n                        <h2 style={styles.title}>Server Nicknames</h2>\n                    </div>\n                    <button onClick={onClose} style={styles.closeButton}>\n                        <FaTimes />\n                    </button>\n                </div>\n\n                <div style={styles.toolbar}>\n                    <input\n                        type=\"text\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        placeholder=\"Search members...\"\n                        style={styles.searchInput}\n                    />\n                </div>\n\n                <div style={styles.content}>\n                    {loading ? (\n                        <div style={styles.loading}>Loading nicknames...</div>\n                    ) : filteredNicknames.length === 0 ? (\n                        <div style={styles.empty}>\n                            {searchQuery ? 'No members match your search' : 'No members found'}\n                        </div>\n                    ) : (\n                        <div style={styles.nicknamesList}>\n                            {filteredNicknames.map((item, idx) => (\n                                <div key={idx} style={styles.nicknameCard}>\n                                    <div style={styles.userInfo}>\n                                        <div style={styles.username}>{item.username}</div>\n                                        {item.nickname && (\n                                            <div style={styles.currentNickname}>\n                                                Current nickname: <span style={styles.nicknameValue}>{item.nickname}</span>\n                                            </div>\n                                        )}\n                                    </div>\n                                    <div style={styles.actions}>\n                                        <button\n                                            onClick={() => {\n                                                const newNick = prompt('Enter new nickname:', item.nickname || '');\n                                                if (newNick !== null && newNick.trim()) {\n                                                    updateNickname(item.user_id, newNick.trim());\n                                                }\n                                            }}\n                                            style={styles.editButton}\n                                        >\n                                            Edit\n                                        </button>\n                                        {item.nickname && (\n                                            <button\n                                                onClick={() => clearNickname(item.user_id)}\n                                                style={styles.clearButton}\n                                            >\n                                                Clear\n                                            </button>\n                                        )}\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst styles = {\n    overlay: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.85)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 999999,\n    },\n    modal: {\n        backgroundColor: '#1e1e1e',\n        borderRadius: '8px',\n        width: '90%',\n        maxWidth: '700px',\n        maxHeight: '90vh',\n        display: 'flex',\n        flexDirection: 'column',\n        boxShadow: '0 8px 32px rgba(0, 0, 0, 0.4)',\n    },\n    header: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '20px',\n        borderBottom: '1px solid #2c2f33',\n    },\n    headerLeft: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    title: {\n        margin: 0,\n        fontSize: '20px',\n        color: '#ffffff',\n    },\n    closeButton: {\n        background: 'none',\n        border: 'none',\n        color: '#99aab5',\n        cursor: 'pointer',\n        fontSize: '20px',\n        padding: '5px',\n    },\n    toolbar: {\n        padding: '15px 20px',\n        borderBottom: '1px solid #2c2f33',\n    },\n    searchInput: {\n        width: '100%',\n        padding: '10px 12px',\n        backgroundColor: '#2c2f33',\n        border: '1px solid #2c2f33',\n        borderRadius: '4px',\n        color: '#ffffff',\n        fontSize: '14px',\n    },\n    content: {\n        padding: '20px',\n        overflowY: 'auto',\n        flex: 1,\n    },\n    loading: {\n        textAlign: 'center',\n        color: '#99aab5',\n        padding: '40px',\n    },\n    empty: {\n        textAlign: 'center',\n        color: '#99aab5',\n        padding: '40px',\n    },\n    nicknamesList: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '10px',\n    },\n    nicknameCard: {\n        backgroundColor: '#2c2f33',\n        borderRadius: '8px',\n        padding: '16px',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n    },\n    userInfo: {\n        flex: 1,\n    },\n    username: {\n        fontSize: '16px',\n        fontWeight: '600',\n        color: '#ffffff',\n        marginBottom: '4px',\n    },\n    currentNickname: {\n        fontSize: '13px',\n        color: '#99aab5',\n    },\n    nicknameValue: {\n        color: '#5865f2',\n        fontWeight: '500',\n    },\n    actions: {\n        display: 'flex',\n        gap: '8px',\n    },\n    editButton: {\n        padding: '6px 12px',\n        backgroundColor: '#5865f2',\n        border: 'none',\n        borderRadius: '4px',\n        color: '#ffffff',\n        cursor: 'pointer',\n        fontSize: '13px',\n        fontWeight: '500',\n    },\n    clearButton: {\n        padding: '6px 12px',\n        backgroundColor: '#f04747',\n        border: 'none',\n        borderRadius: '4px',\n        color: '#ffffff',\n        cursor: 'pointer',\n        fontSize: '13px',\n        fontWeight: '500',\n    },\n};\n\nexport default ServerNicknamesPanel;\n"],"names":["useState","useEffect","jsx","jsxs"],"mappings":"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"}
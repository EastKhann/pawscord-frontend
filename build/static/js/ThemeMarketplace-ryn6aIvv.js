import{r as l,d as e}from"./react-core-DrOm_csO.js";import{t as p}from"./index-BYhWpPLp.js";import{a as u}from"./index-D5GkNzM3.js";const C=()=>{const[a,m]=l.useState([]),[n,i]=l.useState(""),[s,c]=l.useState("popular"),[d,o]=l.useState(!0);l.useEffect(()=>{h()},[s]);const h=async()=>{o(!0);try{const t=await u.get(`/api/themes/marketplace/?filter=${s}`);m(t.data.themes)}catch(t){console.error("Failed to fetch themes:",t)}finally{o(!1)}},E=async t=>{try{const r=await u.post("/api/themes/install/",{theme_id:t});r.data.success&&(p.success("âœ… Theme installed successfully!"),v(r.data.theme))}catch(r){console.error("Failed to install theme:",r),p.error("âŒ Installation failed")}},v=t=>{const r=document.documentElement;Object.entries(t.colors).forEach(([y,N])=>{r.style.setProperty(`--${y}`,N)}),localStorage.setItem("current_theme",JSON.stringify(t))},f=a.filter(t=>t.name.toLowerCase().includes(n.toLowerCase())||t.author.toLowerCase().includes(n.toLowerCase()));return e.createElement("div",{className:"theme-marketplace"},e.createElement("div",{className:"marketplace-header"},e.createElement("h1",null,"ğŸ¨ Theme Marketplace"),e.createElement("p",null,"Discover and install community-created themes")),e.createElement("div",{className:"marketplace-controls"},e.createElement("input",{type:"text",placeholder:"Search themes...",value:n,onChange:t=>i(t.target.value),className:"theme-search"}),e.createElement("div",{className:"theme-filters"},e.createElement("button",{className:s==="popular"?"active":"",onClick:()=>c("popular")},"ğŸ”¥ Popular"),e.createElement("button",{className:s==="new"?"active":"",onClick:()=>c("new")},"âœ¨ New"),e.createElement("button",{className:s==="top-rated"?"active":"",onClick:()=>c("top-rated")},"â­ Top Rated"))),d?e.createElement("div",{className:"loading"},"Loading themes..."):e.createElement("div",{className:"theme-grid"},f.map(t=>e.createElement(w,{key:t.id,theme:t,onInstall:()=>E(t.id)}))))},w=({theme:a,onInstall:m})=>{const[n,i]=l.useState(!1),s=()=>{i(!0);const c=document.documentElement;Object.entries(a.colors).forEach(([d,o])=>{c.style.setProperty(`--${d}-preview`,o)})};return e.createElement("div",{className:"theme-card"},e.createElement("div",{className:"theme-preview",style:{background:`linear-gradient(135deg, ${a.colors.primary}, ${a.colors.secondary})`}},a.screenshot&&e.createElement("img",{src:a.screenshot,alt:a.name})),e.createElement("div",{className:"theme-info"},e.createElement("h3",null,a.name),e.createElement("p",{className:"theme-author"},"by ",a.author),e.createElement("p",{className:"theme-description"},a.description),e.createElement("div",{className:"theme-stats"},e.createElement("span",null,"â­ ",a.rating.toFixed(1)),e.createElement("span",null,"ğŸ“¥ ",a.downloads.toLocaleString()," installs")),e.createElement("div",{className:"theme-actions"},e.createElement("button",{onClick:s,className:"btn-preview"},"ğŸ‘ï¸ Preview"),e.createElement("button",{onClick:m,className:"btn-install"},"ğŸ“¥ Install"))))};export{C as default};

var fe=Object.defineProperty;var s=(n,o)=>fe(n,"name",{value:o,configurable:!0});import{j as e,r as i,a as be}from"./react-core-Djgtqrmb.js";import{J as de,X as ce,A as he,z as ye,c as me,O as je,P as Se,V as ke,a as ve,T as Ce,Y as Be,Z as Te}from"./icons-vendor-BMXAt4pj.js";import{L as Re}from"./router-vendor-gmJ9Mn-1.js";import{u as _e}from"./useWindowWidth-Bfmtox1e.js";import{g as we}from"./index-DwVhiipM.js";import"./media-vendor-CxFPycob.js";import"./state-vendor-CbW2fAN9.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const H=s(n=>{if(!n||n==="-")return"-";const o=parseFloat(String(n).replace(/,/g,""));return isNaN(o)?String(n):o>=1e3?o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):o>=1?o.toFixed(4):o.toPrecision(4)},"formatPrice"),R=s(n=>n&&parseFloat(String(n).replace("%","").replace("+",""))||0,"parsePnl"),ze=s(n=>{const o={icon:"ðŸ“‹",label:n.replace(/_/g," "),shortLabel:n.slice(0,8),color:"#5865f2"},b=n.toUpperCase();return b.includes("ACIK")||b.includes("POZISYON")?{icon:"ðŸ’¼",label:n.replace(/_/g," "),shortLabel:"AÃ§Ä±k Poz.",color:"#f0b232"}:b.includes("ZARAR")?{icon:"ðŸ”´",label:n.replace(/_/g," "),shortLabel:"Zararda",color:"#da373c"}:b.includes("ALIM")||b.includes("FIRSAT")?{icon:"ðŸ’°",label:n.replace(/_/g," "),shortLabel:"AlÄ±m FÄ±r.",color:"#23a559"}:b.includes("OLMAYAN")||b.includes("YOK")?{icon:"ðŸ”",label:n.replace(/_/g," "),shortLabel:"Poz. Yok",color:"#949ba4"}:o},"getTabConfig"),ie=s(n=>{const o=R(n);return o>0?"#23a559":o<0?"#da373c":"#949ba4"},"pnlColor"),re=s(({value:n})=>{if(!n||n==="-")return e.jsx("span",{style:{color:"#949ba4"},children:"-"});const o=String(n).toUpperCase()==="LONG";return e.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:4,padding:"3px 10px",borderRadius:6,fontWeight:700,fontSize:"0.82em",backgroundColor:o?"rgba(35,165,89,0.12)":"rgba(218,55,60,0.12)",color:o?"#23a559":"#da373c",border:`1px solid ${o?"rgba(35,165,89,0.25)":"rgba(218,55,60,0.25)"}`},children:[o?"â–²":"â–¼"," ",n]})},"SignalBadge"),pe=s(({status:n})=>{if(!n)return e.jsx("span",{style:{color:"#949ba4"},children:"-"});const o=String(n),b=o.includes("KAR")||o.includes("UYUYOR"),u=o.includes("ZARAR")||o.includes("TERS"),j=o.replace(/[\u{1F7E2}\u{1F534}\u{2705}\u{26A0}\u{FE0F}]/gu,"").trim();return e.jsxs("span",{style:{padding:"3px 10px",borderRadius:6,fontWeight:700,fontSize:"0.82em",backgroundColor:b?"rgba(35,165,89,0.12)":u?"rgba(218,55,60,0.12)":"rgba(240,178,50,0.12)",color:b?"#57F287":u?"#ED4245":"#f0b232"},children:[b?"âœ…":u?"ðŸ”´":"âšª"," ",j]})},"StatusBadge"),t={page:{minHeight:"100vh",backgroundColor:"#1e1f22",color:"#dbdee1",padding:"16px",boxSizing:"border-box",paddingTop:"max(16px, env(safe-area-inset-top))",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},loadingBox:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"70vh"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,paddingBottom:12,borderBottom:"1px solid #2b2d31",flexWrap:"wrap",gap:10},headerLeft:{display:"flex",flexDirection:"column",gap:4},headerRight:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},backBtn:{textDecoration:"none",color:"#949ba4",fontSize:"0.85em",display:"flex",alignItems:"center",gap:5},title:{margin:0,fontSize:"1.4em",display:"flex",alignItems:"center",gap:10,fontWeight:700,color:"#fff"},versionBadge:{fontSize:"0.4em",color:"#949ba4",backgroundColor:"#2b2d31",padding:"2px 8px",borderRadius:8},updateTime:{fontSize:"0.8em",color:"#949ba4",display:"flex",alignItems:"center",gap:4},checkboxLabel:{fontSize:"0.8em",color:"#b9bbbe",display:"flex",alignItems:"center",gap:4,cursor:"pointer"},primaryBtn:{backgroundColor:"#5865f2",color:"#fff",border:"none",padding:"8px 16px",borderRadius:8,cursor:"pointer",display:"flex",alignItems:"center",gap:6,fontWeight:600,fontSize:"0.85em",transition:"background-color 0.2s"},modeToggle:{display:"flex",gap:8,marginBottom:12},fileTabBar:{display:"flex",gap:8,marginBottom:12,alignItems:"center",overflowX:"auto",paddingBottom:8,paddingTop:2,borderBottom:"2px solid #2f3136"},fileTabBtn:{backgroundColor:"#2b2d31",border:"2px solid #40444b",color:"#949ba4",padding:"10px 20px",borderRadius:10,cursor:"pointer",fontWeight:700,fontSize:"0.9em",whiteSpace:"nowrap",transition:"all 0.2s",flexShrink:0,display:"flex",alignItems:"center",gap:6},fileTabBtnActive:{backgroundColor:"#5865f2",borderColor:"#5865f2",color:"#fff",boxShadow:"0 4px 14px rgba(88,101,242,0.35)"},modeBtn:{flex:1,padding:"10px 16px",borderRadius:10,border:"2px solid #40444b",backgroundColor:"#2b2d31",color:"#949ba4",cursor:"pointer",fontWeight:700,fontSize:"0.9em",display:"flex",alignItems:"center",justifyContent:"center",gap:8,transition:"all 0.2s"},modeBtnActive:{backgroundColor:"#313338",color:"#fff",boxShadow:"0 2px 10px rgba(0,0,0,0.3)"},statsBar:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(90px, 1fr))",gap:8,marginBottom:12},statCard:{backgroundColor:"#2b2d31",borderRadius:10,padding:"10px 8px",textAlign:"center",border:"1px solid #2f3136"},statNum:{display:"block",fontSize:"1.2em",fontWeight:700,color:"#fff"},statLabel:{display:"block",fontSize:"0.72em",color:"#949ba4",marginTop:2},tabBar:{display:"flex",gap:6,marginBottom:12,overflowX:"auto",paddingBottom:4},tabBtn:{backgroundColor:"#2b2d31",border:"1px solid #40444b",color:"#949ba4",padding:"8px 14px",borderRadius:10,cursor:"pointer",fontWeight:500,fontSize:"0.85em",display:"flex",alignItems:"center",gap:6,whiteSpace:"nowrap",transition:"all 0.2s",flexShrink:0},filterBar:{display:"flex",gap:10,marginBottom:12,alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},searchBox:{display:"flex",alignItems:"center",backgroundColor:"#2b2d31",borderRadius:8,padding:"7px 12px",border:"1px solid #40444b",flex:1,maxWidth:360,gap:8},searchInput:{backgroundColor:"transparent",border:"none",outline:"none",color:"#dbdee1",fontSize:"0.88em",flex:1},clearBtn:{background:"none",border:"none",color:"#949ba4",cursor:"pointer",padding:"2px 4px",fontSize:"0.9em"},viewToggle:{backgroundColor:"#2b2d31",border:"1px solid #40444b",color:"#dbdee1",padding:"6px 10px",borderRadius:6,cursor:"pointer",fontSize:"1em"},posBanner:{padding:"10px 14px",backgroundColor:"rgba(240,178,50,0.06)",border:"1px solid rgba(240,178,50,0.15)",borderRadius:10,marginBottom:12,fontSize:"0.85em",color:"#dbdee1",display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},posTag:{padding:"3px 10px",borderRadius:6,fontWeight:700,fontSize:"0.82em",display:"inline-flex",alignItems:"center",gap:3,transition:"all 0.2s"},tableWrap:{overflowX:"auto",borderRadius:12,border:"1px solid #2f3136",backgroundColor:"#2b2d31"},table:{width:"100%",borderCollapse:"collapse",fontSize:"0.85em"},th:{padding:"10px 10px",textAlign:"center",backgroundColor:"#202225",color:"#b9bbbe",fontWeight:600,fontSize:"0.82em",borderBottom:"2px solid #40444b",position:"sticky",top:0,zIndex:1},td:{padding:"8px 8px",textAlign:"center",borderBottom:"1px solid rgba(47,49,54,0.6)"},tfBadge:{backgroundColor:"#40444b",color:"#dbdee1",padding:"2px 8px",borderRadius:4,fontSize:"0.82em",fontWeight:600},linkBtn:{color:"#5865f2",fontSize:"0.85em",padding:"4px 8px",borderRadius:4,display:"inline-flex"},pagination:{display:"flex",justifyContent:"center",alignItems:"center",gap:6,marginTop:16,paddingBottom:24},pageBtn:{backgroundColor:"#2b2d31",border:"1px solid #40444b",color:"#dbdee1",padding:"6px 12px",borderRadius:6,cursor:"pointer",fontWeight:600},pageNumBtn:{backgroundColor:"#2b2d31",border:"1px solid #40444b",color:"#949ba4",padding:"6px 10px",borderRadius:4,cursor:"pointer",fontSize:"0.85em",minWidth:32,textAlign:"center"},pageNumActive:{backgroundColor:"#5865f2",borderColor:"#5865f2",color:"#fff",fontWeight:700},cardGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12},coinCard:{backgroundColor:"#2b2d31",borderRadius:12,padding:14,border:"1px solid #2f3136",cursor:"pointer",transition:"all 0.2s ease"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10,paddingBottom:8,borderBottom:"1px solid #40444b"},cardCoinName:{color:"#f0b232",fontWeight:700,fontSize:"1.1em"},cardBody:{display:"flex",flexDirection:"column",gap:6},cardRow:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0"},cardRowLabel:{color:"#949ba4",fontSize:"0.82em"},cardRowValue:{color:"#dbdee1",fontSize:"0.9em",fontWeight:600},cardFooter:{marginTop:10,paddingTop:8,borderTop:"1px solid #40444b"},miniBarBg:{width:"100%",height:4,backgroundColor:"#da373c",borderRadius:4,overflow:"hidden"},miniBar:{height:"100%",borderRadius:4,backgroundColor:"#23a559",transition:"width 0.3s ease"},emptyState:{textAlign:"center",padding:"60px 20px",color:"#949ba4"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:16,backdropFilter:"blur(6px)"},modal:{backgroundColor:"#1e1f22",borderRadius:16,width:"100%",maxWidth:700,maxHeight:"88vh",overflow:"hidden",display:"flex",flexDirection:"column",border:"1px solid #f0b232",boxShadow:"0 20px 60px rgba(240,178,50,0.2)"},modalHeader:{padding:"16px 20px",borderBottom:"1px solid #2f3136",display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(135deg, #2b2d31 0%, #1e1f22 100%)"},modalBadge:{padding:"4px 10px",backgroundColor:"#5865f2",borderRadius:16,fontSize:"0.72em",fontWeight:600,color:"#fff"},modalCloseBtn:{background:"none",border:"none",color:"#b9bbbe",fontSize:22,cursor:"pointer",padding:8,borderRadius:8,lineHeight:1,transition:"color 0.2s"},modalStats:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:10,padding:"16px 20px",borderBottom:"1px solid #2f3136",background:"linear-gradient(180deg, rgba(240,178,50,0.04) 0%, transparent 100%)"},mStatCard:{textAlign:"center",padding:"10px 6px",backgroundColor:"#2b2d31",borderRadius:10,border:"1px solid #40444b"},mStatLabel:{display:"block",fontSize:"0.7em",color:"#949ba4",marginTop:2,textTransform:"uppercase"},modalBody:{flex:1,overflow:"auto",padding:"16px 20px"},strategyList:{display:"flex",flexDirection:"column",gap:10},strategyCard:{backgroundColor:"#2b2d31",borderRadius:10,padding:14,border:"1px solid #40444b",animation:"cryptoSlideIn 0.35s ease forwards",opacity:0,transform:"translateX(15px)"},strategyGrid:{display:"grid",gridTemplateColumns:window.innerWidth<640?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:8},stratItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 10px",backgroundColor:"#202225",borderRadius:6,fontSize:"0.85em"},stratItemLabel:{color:"#949ba4",fontSize:"0.85em"},stratItemVal:{color:"#dbdee1",fontWeight:600}};if(typeof document<"u"&&!document.getElementById("crypto-signals-v4-styles")){const n=document.createElement("style");n.id="crypto-signals-v4-styles",n.textContent=`
        @keyframes cryptoSlideIn {
            from { opacity: 0; transform: translateX(15px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes cryptoSpin {
            100% { transform: rotate(360deg); }
        }
        .crypto-spin { animation: cryptoSpin 1s linear infinite; display: inline-block; }
    `,document.head.appendChild(n)}const ge=we(),We=`${ge}/api/crypto/signals/`,Fe=`${ge}/api/crypto/signals/list/`,Ie=s(()=>{const[n,o]=i.useState(null),[b,u]=i.useState(!0),[j,W]=i.useState(null),[p,I]=i.useState(null),[U,L]=i.useState([]),[v,A]=i.useState(""),[C,m]=i.useState("balance_mode"),[S,Y]=i.useState(null),[F,ne]=i.useState(""),[B,V]=i.useState("rank"),[N,Q]=i.useState("asc"),[ae,X]=i.useState("table"),[Z,K]=i.useState(1),[E,J]=i.useState(!0),[oe,se]=i.useState(null),O=50,D=i.useRef(null),_=i.useRef(0);i.useEffect(()=>{K(1)},[S,C,F,v]),i.useEffect(()=>{(async()=>{try{const l=await fetch(Fe);if(!l.ok)throw new Error(`HTTP ${l.status}`);const d=(await l.json()).files||[];L(d),d.length>0&&A(d[0].key)}catch{W("Sinyal dosyalarÄ± yÃ¼klenemedi")}})()},[]);const h=i.useCallback(async l=>{const x=l||v;if(x)try{D.current&&(_.current=D.current.scrollTop);const d=await fetch(`${We}?t=${Date.now()}&file=${x}`);if(!d.ok)throw new Error(`HTTP ${d.status}`);const f=await d.json();if(f.error){W(f.error),u(!1);return}o(f),I(new Date(f.meta?.export_time||Date.now())),W(null),setTimeout(()=>{D.current&&_.current>0&&(D.current.scrollTop=_.current)},50)}catch(d){n||W("Sunucuya baÄŸlanÄ±lamadÄ±: "+d.message)}finally{u(!1)}},[v]);i.useEffect(()=>{v&&(u(!0),Y(null),h(v))},[v]),i.useEffect(()=>{if(!E||!v)return;const l=setInterval(()=>h(v),3e4);return()=>clearInterval(l)},[E,h,v]);const ee=n?.meta||{},k=ee.position_coins||[],te=i.useMemo(()=>n?.[C]||null,[n,C]),M=i.useMemo(()=>te?.tabs||{},[te]),G=i.useMemo(()=>M[S]||null,[M,S]),g=i.useMemo(()=>G?.data||[],[G]);i.useEffect(()=>{const l=Object.keys(M);l.length>0&&(!S||!M[S])&&Y(l[0])},[M,S]);const r=i.useMemo(()=>{let l=[...g];if(F.trim()){const x=F.trim().toUpperCase();l=l.filter(d=>d.coin?.toUpperCase().includes(x)||d.timeframe?.toUpperCase().includes(x)||d.signal?.toUpperCase().includes(x))}return l.sort((x,d)=>{let f,w;switch(B){case"coin":return f=x.coin||"",w=d.coin||"",N==="asc"?f.localeCompare(w):w.localeCompare(f);case"pnl":f=R(x.pnl_percent),w=R(d.pnl_percent);break;case"win_rate":f=parseFloat(String(x.win_rate||"0").replace("%","")),w=parseFloat(String(d.win_rate||"0").replace("%",""));break;case"x_kat":f=parseFloat(String(x.x_kat||"0").replace("x","")),w=parseFloat(String(d.x_kat||"0").replace("x",""));break;case"trades":f=parseInt(x.trades||0),w=parseInt(d.trades||0);break;default:f=x.rank||9999,w=d.rank||9999;break}return typeof f=="string"?0:N==="asc"?f-w:w-f}),l},[g,F,B,N]),a=Math.max(1,Math.ceil(r.length/O)),c=r.slice((Z-1)*O,Z*O),P=S==="ACIK_POZISYONLAR",$=s(l=>{B===l?Q(x=>x==="asc"?"desc":"asc"):(V(l),Q(l==="rank"?"asc":"desc"))},"handleSort"),z=i.useMemo(()=>{if(!g.length)return null;const l=g.filter(T=>R(T.pnl_percent)>0),x=g.filter(T=>R(T.pnl_percent)<0),d=g.reduce((T,le)=>T+R(le.pnl_percent),0)/g.length,f=g.reduce((T,le)=>T+parseFloat(String(le.win_rate||"0").replace("%","")),0)/g.length,w=[...new Set(g.map(T=>T.coin))],xe=g.filter(T=>T.ters_sinyal===!0).length,ue=g.filter(T=>T.ters_sinyal!==!0).length;return{profits:l.length,losses:x.length,avgPnl:d,avgWr:f,uniqueCoins:w.length,total:g.length,tersSinyal:xe,uyumluSinyal:ue}},[g]),q=i.useMemo(()=>{const l={};return k.length>0&&g.length>0&&k.forEach(x=>{const d=g.filter(f=>f.coin===x);l[x]={hasTersSinyal:d.some(f=>f.ters_sinyal===!0),rows:d}}),l},[k,g]),y=i.useMemo(()=>{const l={};return r.forEach(x=>{const d=x.coin||"UNKNOWN";l[d]||(l[d]=[]),l[d].push(x)}),l},[r]);return{data:n,loading:b,error:j,lastUpdate:p,availableFiles:U,activeFileKey:v,setActiveFileKey:A,activeMode:C,setActiveMode:m,activeTab:S,setActiveTab:Y,searchQuery:F,setSearchQuery:ne,sortBy:B,sortDir:N,viewMode:ae,setViewMode:X,page:Z,setPage:K,autoRefresh:E,setAutoRefresh:J,selectedCoin:oe,setSelectedCoin:se,tableRef:D,meta:ee,positionCoins:k,allTabs:M,currentTab:G,tabData:g,processedData:r,pagedData:c,totalPages:a,isPositionsTab:P,handleSort:$,stats:z,positionCoinStatus:q,coinGroups:y,fetchData:h,ITEMS_PER_PAGE:O}},"useCryptoSignals"),Le=s(({selectedCoin:n,isPositionsTab:o,onClose:b})=>{if(!n)return null;const u=n.data,j=i.useMemo(()=>{const p=u.filter(m=>R(m.pnl_percent)>0).length,I=u.filter(m=>R(m.pnl_percent)<0).length,U=u.filter(m=>m.ters_sinyal===!0).length,L=u.filter(m=>m.ters_sinyal!==!0).length,v=u.reduce((m,S)=>m+R(S.pnl_percent),0)/u.length,A=u.reduce((m,S)=>m+parseFloat(String(S.win_rate||"0").replace("%","")),0)/u.length,C=u[0]?.current_price;return{profits:p,losses:I,tersCount:U,uyumluCount:L,avgPnl:v,avgWr:A,price:C}},[u]),W=`https://www.binance.com/en/futures/${n.name.endsWith("USDT")?n.name:n.name+"USDT"}`;return e.jsx("div",{style:t.modalOverlay,onClick:b,children:e.jsxs("div",{style:t.modal,onClick:s(p=>p.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:t.modalHeader,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx(de,{style:{fontSize:28,color:"#f0b232"}}),e.jsx("h2",{style:{margin:0,color:"#f0b232",fontWeight:700},children:n.name.replace("USDT","")}),e.jsxs("span",{style:t.modalBadge,children:[u.length," Strateji"]})]}),e.jsx("button",{onClick:b,style:t.modalCloseBtn,children:"âœ•"})]}),e.jsxs("div",{style:t.modalStats,children:[e.jsxs("div",{style:t.mStatCard,children:[e.jsx("span",{style:{fontSize:"1.3em",fontWeight:700,color:"#23a559"},children:o?j.uyumluCount:j.profits}),e.jsx("span",{style:t.mStatLabel,children:o?"âœ… Uyumlu":"KÃ¢rda"})]}),e.jsxs("div",{style:t.mStatCard,children:[e.jsx("span",{style:{fontSize:"1.3em",fontWeight:700,color:"#da373c"},children:o?j.tersCount:j.losses}),e.jsx("span",{style:t.mStatLabel,children:o?"âš ï¸ Ters Sinyal":"Zararda"})]}),e.jsxs("div",{style:t.mStatCard,children:[e.jsxs("span",{style:{fontSize:"1.3em",fontWeight:700,color:j.avgPnl>=0?"#23a559":"#da373c"},children:[j.avgPnl>=0?"+":"",j.avgPnl.toFixed(2),"%"]}),e.jsx("span",{style:t.mStatLabel,children:"Ort. PNL"})]}),e.jsxs("div",{style:t.mStatCard,children:[e.jsxs("span",{style:{fontSize:"1.3em",fontWeight:700,color:"#f0b232"},children:[j.avgWr.toFixed(1),"%"]}),e.jsx("span",{style:t.mStatLabel,children:"Ort. WR"})]}),j.price&&e.jsxs("div",{style:t.mStatCard,children:[e.jsxs("span",{style:{fontSize:"1.3em",fontWeight:700,color:"#fff"},children:["$",H(j.price)]}),e.jsx("span",{style:t.mStatLabel,children:"Fiyat"})]})]}),e.jsxs("div",{style:t.modalBody,children:[e.jsxs("h3",{style:{margin:"0 0 12px",color:"#fff",fontSize:"1em"},children:["ðŸ“Š"," Strateji Detaylar","Ä±"]}),e.jsx("div",{style:t.strategyList,children:u.map((p,I)=>{const L=R(p.pnl_percent)>0;return e.jsxs("div",{style:{...t.strategyCard,borderLeft:`4px solid ${L?"#23a559":"#da373c"}`,animationDelay:`${I*.04}s`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[e.jsx("span",{style:{color:"#5865f2",fontWeight:700,fontSize:"1.05em"},children:p.timeframe}),e.jsx(re,{value:p.signal||p.sinyal_yonu||p.pozisyon_yonu||"-"})]}),e.jsx("div",{style:t.strategyGrid,children:[{label:"GiriÅŸ",val:`$${H(p.entry_price)}`},{label:"GÃ¼ncel",val:`$${H(p.current_price)}`},{label:"PNL",val:p.pnl_percent||"-",color:L?"#23a559":"#da373c",bold:!0},{label:"WR",val:p.win_rate||"-"},{label:"X Kat",val:p.x_kat||"-",color:"#f0b232"},{label:"Hedef",val:p.hedef_roe||"-",color:"#5865f2"}].map(({label:v,val:A,color:C,bold:m},S)=>e.jsxs("div",{style:t.stratItem,children:[e.jsx("span",{style:t.stratItemLabel,children:v}),e.jsx("span",{style:{...t.stratItemVal,...C?{color:C}:{},...m?{fontWeight:700}:{}},children:A})]},S))}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,paddingTop:8,borderTop:"1px solid #40444b"},children:[e.jsx(pe,{status:p.status}),p.days_ago!==void 0&&e.jsxs("span",{style:{color:"#949ba4",fontSize:"0.78em"},children:[p.days_ago," g","Ã¼","n ","Â·"," ",p.bars_ago," bar"]})]})]},I)})})]}),e.jsx("div",{style:{padding:"12px 20px",borderTop:"1px solid #2f3136",textAlign:"center"},children:e.jsxs("a",{href:W,target:"_blank",rel:"noopener noreferrer",style:{color:"#f0b232",textDecoration:"none",fontWeight:600,fontSize:"0.9em"},children:[e.jsx(ce,{})," Binance Futures'da A","Ã§"]})})]})})},"CoinDetailModal"),Ae=be.memo(Le),Ye=s(()=>{const{isMobile:n}=_e(),{data:o,loading:b,error:u,lastUpdate:j,availableFiles:W,activeFileKey:p,setActiveFileKey:I,activeMode:U,setActiveMode:L,activeTab:v,setActiveTab:A,searchQuery:C,setSearchQuery:m,sortBy:S,sortDir:Y,viewMode:F,setViewMode:ne,page:B,setPage:V,autoRefresh:N,setAutoRefresh:Q,selectedCoin:ae,setSelectedCoin:X,tableRef:Z,meta:K,positionCoins:E,allTabs:J,currentTab:oe,tabData:se,processedData:O,pagedData:D,totalPages:_,isPositionsTab:h,handleSort:ee,stats:k,positionCoinStatus:te,coinGroups:M,fetchData:G}=Ie(),g=s(({field:r,children:a,style:c})=>e.jsxs("th",{onClick:s(()=>ee(r),"onClick"),style:{...t.th,cursor:"pointer",userSelect:"none",whiteSpace:"nowrap",color:S===r?"#f0b232":"#b9bbbe",...c},children:[a," ",S===r&&(Y==="asc"?e.jsx(Be,{style:{fontSize:"0.7em"}}):e.jsx(Te,{style:{fontSize:"0.7em"}}))]}),"SortHeader");return b&&!o?e.jsx("div",{style:t.page,children:e.jsxs("div",{style:t.loadingBox,children:[e.jsx("div",{className:"crypto-spin",style:{fontSize:48},children:"â‚¿"}),e.jsx("p",{style:{color:"#f0b232",fontSize:"1.1em",marginTop:16},children:"Kripto Verileri YÃ¼kleniyor..."})]})}):u&&!o?e.jsx("div",{style:t.page,children:e.jsxs("div",{style:{textAlign:"center",marginTop:80},children:[e.jsx("div",{style:{fontSize:60,marginBottom:16},children:"âš ï¸"}),e.jsx("h3",{style:{color:"#da373c",marginBottom:8},children:u}),e.jsx("button",{onClick:s(()=>G(p),"onClick"),style:t.primaryBtn,children:"Tekrar Dene"})]})}):e.jsxs("div",{style:t.page,children:[e.jsxs("header",{style:t.header,children:[e.jsxs("div",{style:t.headerLeft,children:[e.jsxs(Re,{to:"/",style:t.backBtn,children:[e.jsx(he,{})," Geri"]}),e.jsxs("h1",{style:t.title,children:[e.jsx(de,{style:{color:"#f0b232"}}),e.jsx("span",{children:"Kripto Sinyaller"}),K.version&&e.jsxs("span",{style:t.versionBadge,children:["v",K.version]})]})]}),e.jsxs("div",{style:t.headerRight,children:[j&&e.jsxs("span",{style:t.updateTime,children:[e.jsx(ye,{})," ",j.toLocaleTimeString("tr-TR")]}),e.jsxs("label",{style:t.checkboxLabel,children:[e.jsx("input",{type:"checkbox",checked:N,onChange:s(r=>Q(r.target.checked),"onChange")})," Oto"]}),e.jsxs("button",{onClick:s(()=>G(p),"onClick"),style:t.primaryBtn,children:[e.jsx(me,{className:b?"crypto-spin":""})," Yenile"]})]})]}),W.length>1&&e.jsx("div",{style:t.fileTabBar,children:W.map(r=>e.jsxs("button",{onClick:s(()=>{p!==r.key&&I(r.key)},"onClick"),style:{...t.fileTabBtn,...p===r.key?t.fileTabBtnActive:{}},children:["ðŸ“Š"," ",r.label,p===r.key&&b&&e.jsx("span",{className:"crypto-spin",style:{marginLeft:6,fontSize:"0.85em"},children:"â³"})]},r.key))}),e.jsx("div",{style:t.modeToggle,children:[{key:"balance_mode",icon:e.jsx(je,{}),label:n?"Balance":"ðŸ’° Balance SÄ±ralama",color:"#f0b232"},{key:"winrate_mode",icon:e.jsx(Se,{}),label:n?"Winrate":"ðŸ† Winrate SÄ±ralama",color:"#23a559"}].map(r=>e.jsxs("button",{onClick:s(()=>L(r.key),"onClick"),style:{...t.modeBtn,...U===r.key?t.modeBtnActive:{},borderColor:U===r.key?r.color:"#40444b"},children:[r.icon," ",r.label]},r.key))}),k&&e.jsx("div",{style:t.statsBar,children:[{num:k.total,label:"Strateji"},{num:k.uniqueCoins,label:"Coin"},{num:h?k.uyumluSinyal:k.profits,label:h?"âœ… Uyumlu":"KÃ¢rda",color:"#23a559"},{num:h?k.tersSinyal:k.losses,label:h?"âš ï¸ Ters Sinyal":"Zararda",color:"#da373c"},{num:`${k.avgPnl>=0?"+":""}${k.avgPnl.toFixed(2)}%`,label:"Ort. PNL",color:k.avgPnl>=0?"#23a559":"#da373c"},{num:`${k.avgWr.toFixed(1)}%`,label:"Ort. WR",color:k.avgWr>=50?"#23a559":"#f0b232"}].map(({num:r,label:a,color:c})=>e.jsxs("div",{style:t.statCard,children:[e.jsx("span",{style:{...t.statNum,...c?{color:c}:{}},children:r}),e.jsx("span",{style:t.statLabel,children:a})]},a))}),e.jsx("div",{style:t.tabBar,children:Object.keys(J).map(r=>{const a=ze(r),c=J[r],P=v===r;return e.jsxs("button",{onClick:s(()=>A(r),"onClick"),style:{...t.tabBtn,...P?{backgroundColor:a.color,borderColor:a.color,color:"#fff",boxShadow:`0 4px 14px ${a.color}44`}:{}},children:[e.jsx("span",{children:a.icon}),e.jsx("span",{children:n?a.shortLabel:a.label}),e.jsx("span",{style:{backgroundColor:P?"rgba(0,0,0,0.3)":"rgba(255,255,255,0.08)",padding:"2px 8px",borderRadius:12,fontSize:"0.75em",fontWeight:700},children:c?.count||0})]},r)})}),e.jsxs("div",{style:t.filterBar,children:[e.jsxs("div",{style:t.searchBox,children:[e.jsx(ke,{style:{color:"#949ba4",flexShrink:0}}),e.jsx("input",{type:"text",value:C,onChange:s(r=>m(r.target.value),"onChange"),placeholder:"Coin ara... (BTC, ETH, SOL)",style:t.searchInput}),C&&e.jsx("button",{onClick:s(()=>m(""),"onClick"),style:t.clearBtn,children:e.jsx(ve,{})})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsxs("span",{style:{color:"#949ba4",fontSize:"0.85em"},children:[O.length," sonuÃ§"]}),e.jsx("button",{onClick:s(()=>ne(r=>r==="table"?"cards":"table"),"onClick"),style:t.viewToggle,title:F==="table"?"Kart gÃ¶rÃ¼nÃ¼mÃ¼":"Tablo gÃ¶rÃ¼nÃ¼mÃ¼",children:F==="table"?"ðŸƒ ":"ðŸ“‹ "})]})]}),h&&E.length>0&&e.jsxs("div",{style:t.posBanner,children:[e.jsxs("strong",{children:[e.jsx(Ce,{style:{marginRight:6}}),"AÃ§Ä±k Pozisyon (",E.length,"):"]}),E.map((r,a)=>{const c=te[r]?.hasTersSinyal;return e.jsxs("span",{style:{...t.posTag,backgroundColor:c?"rgba(218,55,60,0.15)":"rgba(35,165,89,0.15)",color:c?"#da373c":"#23a559",border:`1px solid ${c?"rgba(218,55,60,0.4)":"rgba(35,165,89,0.4)"}`},children:[a+1,". ",c?"âš ï¸ ":"âœ… "," ",r.replace("USDT","")]},r)})]}),oe?F==="cards"?e.jsx("div",{style:t.cardGrid,children:Object.entries(M).map(([r,a])=>{const c=h?a.filter(y=>y.ters_sinyal!==!0):a.filter(y=>R(y.pnl_percent)>0),P=h?a.filter(y=>y.ters_sinyal===!0):a.filter(y=>R(y.pnl_percent)<0),$=a.reduce((y,l)=>y+R(l.pnl_percent),0)/a.length,z=Math.max(...a.map(y=>parseFloat(String(y.win_rate||"0").replace("%","")))),q=a[0]||{};return e.jsxs("div",{style:t.coinCard,onClick:s(()=>X({name:r,data:a}),"onClick"),onMouseEnter:s(y=>{y.currentTarget.style.transform="translateY(-3px)",y.currentTarget.style.borderColor="#f0b232"},"onMouseEnter"),onMouseLeave:s(y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.borderColor="#2f3136"},"onMouseLeave"),children:[e.jsxs("div",{style:t.cardHeader,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{style:t.cardCoinName,children:r.replace("USDT","")}),e.jsx(re,{value:q.signal||q.sinyal_yonu||"-"})]}),e.jsxs("span",{style:{color:"#949ba4",fontSize:"0.78em"},children:[a.length," str."]})]}),e.jsxs("div",{style:t.cardBody,children:[e.jsxs("div",{style:t.cardRow,children:[e.jsx("span",{style:t.cardRowLabel,children:"Fiyat"}),e.jsxs("span",{style:t.cardRowValue,children:["$",H(q.current_price)]})]}),e.jsxs("div",{style:t.cardRow,children:[e.jsx("span",{style:t.cardRowLabel,children:"Ort. PNL"}),e.jsxs("span",{style:{...t.cardRowValue,color:ie($.toString()),fontWeight:700},children:[$>=0?"+":"",$.toFixed(2),"%"]})]}),e.jsxs("div",{style:t.cardRow,children:[e.jsx("span",{style:t.cardRowLabel,children:"En Ä°yi WR"}),e.jsxs("span",{style:{...t.cardRowValue,color:z>=50?"#23a559":"#da373c"},children:[z.toFixed(1),"%"]})]})]}),e.jsxs("div",{style:t.cardFooter,children:[e.jsx("div",{style:t.miniBarBg,children:e.jsx("div",{style:{...t.miniBar,width:`${c.length/Math.max(a.length,1)*100}%`}})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.75em",marginTop:4},children:[e.jsxs("span",{style:{color:"#23a559"},children:[h?"âœ… ":"âœ“ "," ",c.length]}),e.jsxs("span",{style:{color:"#da373c"},children:[h?"âš ï¸ ":"âœ— "," ",P.length]})]})]})]},r)})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:Z,style:t.tableWrap,children:e.jsxs("table",{style:t.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx(g,{field:"rank",children:"#"}),e.jsx(g,{field:"coin",children:"Coin"}),e.jsx("th",{style:t.th,children:"TF"}),e.jsx("th",{style:t.th,children:"Sinyal"}),h&&e.jsx("th",{style:t.th,children:"Poz.YÃ¶nÃ¼"}),h&&e.jsx("th",{style:t.th,children:"Uyum"}),e.jsx("th",{style:t.th,children:"GiriÅŸ"}),e.jsx("th",{style:t.th,children:"GÃ¼ncel"}),e.jsx(g,{field:"pnl",children:"PNL%"}),e.jsx(g,{field:"win_rate",children:"WR%"}),e.jsx(g,{field:"trades",children:"Ä°ÅŸlem"}),e.jsx(g,{field:"x_kat",children:"X Kat"}),e.jsx("th",{style:t.th,children:"Hedef ROE"}),e.jsx("th",{style:t.th,children:"Durum"}),e.jsx("th",{style:t.th,children:"Link"})]})}),e.jsx("tbody",{children:D.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:h?15:13,style:{textAlign:"center",padding:40,color:"#949ba4"},children:C?`"${C}" iÃ§in sonuÃ§ bulunamadÄ±`:"Bu sekmede veri yok"})}):D.map((r,a)=>{const c=(r.coin||"").replace("USDT",""),P=r.coin?.endsWith("USDT")?r.coin:`${r.coin}USDT`,$=a%2===0?"transparent":"rgba(255,255,255,0.015)";return e.jsxs("tr",{style:{backgroundColor:$,transition:"background-color 0.15s"},onMouseEnter:s(z=>z.currentTarget.style.backgroundColor="rgba(88,101,242,0.06)","onMouseEnter"),onMouseLeave:s(z=>z.currentTarget.style.backgroundColor=$,"onMouseLeave"),children:[e.jsx("td",{style:t.td,children:e.jsx("span",{style:{color:"#949ba4",fontWeight:600},children:r.rank})}),e.jsx("td",{style:t.td,children:e.jsx("span",{style:{color:"#f0b232",fontWeight:700,cursor:"pointer"},onClick:s(()=>X({name:r.coin,data:se.filter(z=>z.coin===r.coin)}),"onClick"),children:c})}),e.jsx("td",{style:t.td,children:e.jsx("span",{style:t.tfBadge,children:r.timeframe})}),e.jsx("td",{style:t.td,children:e.jsx(re,{value:r.signal||r.sinyal_yonu||"-"})}),h&&e.jsx("td",{style:t.td,children:e.jsx(re,{value:r.pozisyon_yonu||"-"})}),h&&e.jsx("td",{style:t.td,children:e.jsx("span",{style:{fontSize:"0.8em",fontWeight:600,color:r.ters_sinyal?"#da373c":"#23a559"},children:r.ters_sinyal?"âš ï¸ Ters":"âœ… Uyumlu"})}),e.jsxs("td",{style:{...t.td,color:"#b9bbbe",fontSize:"0.85em"},children:["$",H(r.entry_price)]}),e.jsxs("td",{style:{...t.td,color:"#dbdee1",fontSize:"0.85em"},children:["$",H(r.current_price)]}),e.jsx("td",{style:{...t.td,color:ie(r.pnl_percent),fontWeight:700},children:r.pnl_percent||"-"}),e.jsx("td",{style:{...t.td,fontWeight:600,color:parseFloat(String(r.win_rate||"0").replace("%",""))>=50?"#23a559":"#da373c"},children:r.win_rate||"-"}),e.jsx("td",{style:t.td,children:r.trades||"-"}),e.jsx("td",{style:{...t.td,color:"#f0b232",fontWeight:700},children:r.x_kat||"-"}),e.jsx("td",{style:{...t.td,color:"#5865f2",fontWeight:600},children:r.hedef_roe||"-"}),e.jsx("td",{style:t.td,children:e.jsx(pe,{status:r.status})}),e.jsx("td",{style:t.td,children:e.jsx("a",{href:`https://www.binance.com/en/futures/${P}`,target:"_blank",rel:"noopener noreferrer",style:t.linkBtn,title:`${c} Binance Futures`,children:e.jsx(ce,{})})})]},`${r.rank}-${r.coin}-${r.timeframe}-${a}`)})})]})}),_>1&&e.jsxs("div",{style:t.pagination,children:[e.jsx("button",{onClick:s(()=>V(r=>Math.max(1,r-1)),"onClick"),disabled:B===1,style:{...t.pageBtn,opacity:B===1?.4:1},children:"â—„"}),Array.from({length:Math.min(_,7)},(r,a)=>{let c;return _<=7||B<=4?c=a+1:B>=_-3?c=_-6+a:c=B-3+a,e.jsx("button",{onClick:s(()=>V(c),"onClick"),style:{...t.pageNumBtn,...B===c?t.pageNumActive:{}},children:c},c)}),e.jsx("button",{onClick:s(()=>V(r=>Math.min(_,r+1)),"onClick"),disabled:B===_,style:{...t.pageBtn,opacity:B===_?.4:1},children:"â–º"})]})]}):e.jsxs("div",{style:t.emptyState,children:[e.jsx("div",{style:{fontSize:48,marginBottom:12},children:"ðŸ“­"}),e.jsx("p",{children:"Bu modda veri bulunamadÄ±"})]}),e.jsx(Ae,{selectedCoin:ae,isPositionsTab:h,onClose:s(()=>X(null),"onClose")})]})},"CryptoSignals");export{Ye as default};

import{r as n}from"./react-core-B6hadH-M.js";import{t as h}from"./index-D_6pZib5.js";import{a as R}from"./index-D5GkNzM3.js";const k=()=>{const[s,m]=n.useState([]),[d,l]=n.useState(null),[a,o]=n.useState("yearly"),[c,r]=n.useState(null),[p,i]=n.useState(!0);n.useEffect(()=>{f()},[]);const f=async()=>{try{const e=await R.get("/api/premium/plans/");m(e.data.plans),r(e.data.promotion),i(!1)}catch(e){console.error("Failed to fetch plans:",e),i(!1)}},g=async e=>{l(e);try{const t=await R.post("/api/premium/purchase/",{plan_id:e.id,billing_cycle:a});if(t.data.checkout_url){window.location.href=t.data.checkout_url;return}h.info(`ðŸ“‹ Purchasing ${e.name} - ${a} plan`)}catch(t){console.error("Purchase failed:",t),h.error("âŒ Purchase failed. Please try again.")}},N=e=>{const t=e.monthly_price*12,y=e.yearly_price,u=t-y,E=Math.round(u/t*100);return{amount:u.toFixed(2),percentage:E}};return p?React.createElement("div",{className:"loading"},"Loading premium plans..."):React.createElement("div",{className:"premium-marketplace"},c&&React.createElement("div",{className:"promotion-banner"},React.createElement("h2",null,c.name),React.createElement("p",null,"ðŸ”¥ Save ",c.discount_percent,"% on all plans!"),React.createElement("p",{className:"promotion-ends"},"Ends: ",new Date(c.ends_at).toLocaleDateString())),React.createElement("div",{className:"billing-toggle"},React.createElement("button",{className:a==="monthly"?"active":"",onClick:()=>o("monthly")},"Monthly"),React.createElement("button",{className:a==="yearly"?"active":"",onClick:()=>o("yearly")},"Yearly ",React.createElement("span",{className:"save-badge"},"Save 17%"))),React.createElement("div",{className:"plans-grid"},s.map((e,t)=>{const y=N(e),u=a==="yearly"?e.yearly_price:e.monthly_price,E=e.original_yearly_price||e.original_monthly_price;return React.createElement(v,{key:e.id,plan:e,price:u,originalPrice:E,billingCycle:a,savings:y,promotion:c,onPurchase:()=>g(e),featured:t===1})})),React.createElement("div",{className:"premium-faq"},React.createElement("h3",null,"Frequently Asked Questions"),React.createElement("div",{className:"faq-item"},React.createElement("h4",null,"Can I cancel anytime?"),React.createElement("p",null,"Yes! Cancel anytime and keep your benefits until the end of the billing period.")),React.createElement("div",{className:"faq-item"},React.createElement("h4",null,"What payment methods do you accept?"),React.createElement("p",null,"We accept all major credit cards, PayPal, and cryptocurrencies.")),React.createElement("div",{className:"faq-item"},React.createElement("h4",null,"Is there a free trial?"),React.createElement("p",null,"Yes! 7-day free trial on all plans. No credit card required."))))},v=({plan:s,price:m,originalPrice:d,billingCycle:l,savings:a,promotion:o,onPurchase:c,featured:r})=>React.createElement("div",{className:`premium-plan-card ${r?"featured":""}`},r&&React.createElement("div",{className:"featured-badge"},"ðŸŒŸ Most Popular"),React.createElement("div",{className:"plan-header"},React.createElement("h3",null,s.name),React.createElement("div",{className:"plan-price"},d&&o&&React.createElement("span",{className:"original-price"},"$",d),React.createElement("span",{className:"current-price"},"$",m,React.createElement("span",{className:"billing-period"},"/",l==="yearly"?"year":"month")),l==="yearly"&&React.createElement("div",{className:"savings-badge"},"ðŸ’° Save $",a.amount,"/year (",a.percentage,"% off)"))),React.createElement("ul",{className:"plan-features"},s.features.map((p,i)=>React.createElement("li",{key:i},React.createElement("span",{className:"check"},"âœ“")," ",p))),React.createElement("button",{className:"purchase-btn",onClick:c},r?"ðŸš€ Upgrade Now":"Get Started"),l==="yearly"&&React.createElement("p",{className:"monthly-equivalent"},"Just $",(m/12).toFixed(2),"/month"));export{k as default};

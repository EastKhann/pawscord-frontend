import{r as o,b as e}from"./react-core-9vc7GIjk.js";import{n as h,a as k}from"./icons-vendor-BHKL7tCa.js";import{t as n}from"./index-Ctx-jpFn.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-qCr-Mpaw.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const A=({fetchWithAuth:y,apiBaseUrl:g,serverId:b,onClose:s})=>{const[r,v]=o.useState("ban"),[i,c]=o.useState(""),[d,p]=o.useState(""),[u,m]=o.useState(""),[f,x]=o.useState(!1),E=async()=>{if(!i.trim()){n.error("KullanÄ±cÄ± ID'leri girin");return}const a=i.split(`
`).map(l=>l.trim()).filter(l=>l);if(a.length===0){n.error("GeÃ§erli kullanÄ±cÄ± ID'si bulunamadÄ±");return}try{x(!0),(await y(`${g}/api/moderation/mass_action/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_id:b,action_type:r,user_ids:a,reason:d,duration:u||null})})).ok?(n.success(`${a.length} kullanÄ±cÄ±ya ${r} iÅŸlemi uygulandÄ±`),c(""),p(""),m("")):n.error("Ä°ÅŸlem baÅŸarÄ±sÄ±z oldu")}catch(l){console.error("Mass action hatasÄ±:",l),n.error("Bir hata oluÅŸtu")}finally{x(!1)}};return e.createElement("div",{style:t.overlay,onClick:s},e.createElement("div",{style:t.modal,onClick:a=>a.stopPropagation()},e.createElement("div",{style:t.header},e.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},e.createElement(h,{style:{color:"#f04747"}}),e.createElement("h2",{style:{margin:0}},"Toplu Moderasyon")),e.createElement(k,{onClick:s,style:t.closeBtn})),e.createElement("div",{style:t.content},e.createElement("div",{style:t.field},e.createElement("label",{style:t.label},"Ä°ÅŸlem TÃ¼rÃ¼"),e.createElement("select",{value:r,onChange:a=>v(a.target.value),style:t.select},e.createElement("option",{value:"ban"},"ðŸ”¨ Ban (Yasakla)"),e.createElement("option",{value:"kick"},"ðŸ‘¢ Kick (At)"),e.createElement("option",{value:"mute"},"ðŸ”‡ Mute (Sustur)"),e.createElement("option",{value:"timeout"},"â° Timeout (Zaman AÅŸÄ±mÄ±)"),e.createElement("option",{value:"warn"},"âš ï¸ Warn (Uyar)"),e.createElement("option",{value:"delete_messages"},"ðŸ—‘ï¸ Delete Messages (MesajlarÄ± Sil)"))),e.createElement("div",{style:t.field},e.createElement("label",{style:t.label},"KullanÄ±cÄ± ID'leri (Her satÄ±rda bir tane)"),e.createElement("textarea",{value:i,onChange:a=>c(a.target.value),placeholder:`123456789
987654321
555555555`,style:t.textarea,rows:8})),(r==="mute"||r==="timeout")&&e.createElement("div",{style:t.field},e.createElement("label",{style:t.label},"SÃ¼re (dakika)"),e.createElement("input",{type:"number",value:u,onChange:a=>m(a.target.value),placeholder:"60",style:t.input})),e.createElement("div",{style:t.field},e.createElement("label",{style:t.label},"Sebep (opsiyonel)"),e.createElement("input",{type:"text",value:d,onChange:a=>p(a.target.value),placeholder:"Spam, kural ihlali, vb.",style:t.input})),e.createElement("div",{style:t.warning},"âš ï¸ Bu iÅŸlem ",e.createElement("strong",null,i.split(`
`).filter(a=>a.trim()).length)," kullanÄ±cÄ±yÄ± etkileyecek!")),e.createElement("div",{style:t.footer},e.createElement("button",{onClick:s,style:t.cancelBtn},"Ä°ptal"),e.createElement("button",{onClick:E,disabled:f,style:t.executeBtn},f?"Ä°ÅŸleniyor...":"Uygula"))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999999},modal:{backgroundColor:"#1e1e1e",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column",color:"#fff"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #333"},closeBtn:{cursor:"pointer",fontSize:"24px",color:"#888"},content:{flex:1,overflowY:"auto",padding:"20px"},field:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#dcddde",fontSize:"14px",fontWeight:"600"},select:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},textarea:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px",fontFamily:"monospace",resize:"vertical"},input:{width:"100%",padding:"10px",backgroundColor:"#2c2f33",border:"1px solid #444",borderRadius:"4px",color:"#fff",fontSize:"14px"},warning:{backgroundColor:"#faa61a1a",border:"1px solid #faa61a",borderRadius:"4px",padding:"15px",color:"#faa61a",fontSize:"14px",textAlign:"center"},footer:{display:"flex",gap:"10px",padding:"20px",borderTop:"1px solid #333"},cancelBtn:{flex:1,backgroundColor:"#2c2f33",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},executeBtn:{flex:1,backgroundColor:"#f04747",color:"#fff",border:"none",padding:"12px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"600"}};export{A as default};

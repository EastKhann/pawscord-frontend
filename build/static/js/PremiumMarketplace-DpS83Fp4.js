var _=Object.defineProperty;var r=(i,c)=>_(i,"name",{value:c,configurable:!0});import{r as l,j as e}from"./react-core-Djgtqrmb.js";import{t as f}from"./index-D0nbcjO7.js";import{a as g}from"./index-BNjLOQm3.js";import"./media-vendor-CxFPycob.js";import"./router-vendor-gmJ9Mn-1.js";import"./state-vendor-CbW2fAN9.js";import"./crypto-vendor-D1XRGppi.js";import"./icons-vendor-BMXAt4pj.js";import"./ui-vendor-IhB9Znpc.js";const Y=r(()=>{const[i,c]=l.useState([]),[u,o]=l.useState(null),[s,m]=l.useState("yearly"),[t,d]=l.useState(null),[y,h]=l.useState(!0);l.useEffect(()=>{N()},[]);const N=r(async()=>{try{const a=await g.get("/api/premium/plans/");c(a.data.plans),d(a.data.promotion),h(!1)}catch{h(!1)}},"fetchPlans"),v=r(async a=>{o(a);try{const n=await g.post("/api/premium/purchase/",{plan_id:a.id,billing_cycle:s});if(n.data.checkout_url){window.location.href=n.data.checkout_url;return}f.info(`ðŸ“‹ Purchasing ${a.name} - ${s} plan`)}catch{f.error("âŒ Purchase failed. Please try again.")}},"handlePurchase"),P=r(a=>{const n=a.monthly_price*12,x=a.yearly_price,p=n-x,j=Math.round(p/n*100);return{amount:p.toFixed(2),percentage:j}},"calculateSavings");return y?e.jsx("div",{className:"loading",children:"Loading premium plans..."}):e.jsxs("div",{className:"premium-marketplace",children:[t&&e.jsxs("div",{className:"promotion-banner",children:[e.jsx("h2",{children:t.name}),e.jsxs("p",{children:["ðŸ”¥ Save ",t.discount_percent,"% on all plans!"]}),e.jsxs("p",{className:"promotion-ends",children:["Ends: ",new Date(t.ends_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"billing-toggle",children:[e.jsx("button",{className:s==="monthly"?"active":"",onClick:r(()=>m("monthly"),"onClick"),children:"Monthly"}),e.jsxs("button",{className:s==="yearly"?"active":"",onClick:r(()=>m("yearly"),"onClick"),children:["Yearly ",e.jsx("span",{className:"save-badge",children:"Save 17%"})]})]}),e.jsx("div",{className:"plans-grid",children:i.map((a,n)=>{const x=P(a),p=s==="yearly"?a.yearly_price:a.monthly_price,j=a.original_yearly_price||a.original_monthly_price;return e.jsx(b,{plan:a,price:p,originalPrice:j,billingCycle:s,savings:x,promotion:t,onPurchase:r(()=>v(a),"onPurchase"),featured:n===1},a.id)})}),e.jsxs("div",{className:"premium-faq",children:[e.jsx("h3",{children:"Frequently Asked Questions"}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h4",{children:"Can I cancel anytime?"}),e.jsx("p",{children:"Yes! Cancel anytime and keep your benefits until the end of the billing period."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h4",{children:"What payment methods do you accept?"}),e.jsx("p",{children:"We accept all major credit cards, PayPal, and cryptocurrencies."})]}),e.jsxs("div",{className:"faq-item",children:[e.jsx("h4",{children:"Is there a free trial?"}),e.jsx("p",{children:"Yes! 7-day free trial on all plans. No credit card required."})]})]})]})},"PremiumMarketplace"),b=r(({plan:i,price:c,originalPrice:u,billingCycle:o,savings:s,promotion:m,onPurchase:t,featured:d})=>e.jsxs("div",{className:`premium-plan-card ${d?"featured":""}`,children:[d&&e.jsx("div",{className:"featured-badge",children:"ðŸŒŸ Most Popular"}),e.jsxs("div",{className:"plan-header",children:[e.jsx("h3",{children:i.name}),e.jsxs("div",{className:"plan-price",children:[u&&m&&e.jsxs("span",{className:"original-price",children:["$",u]}),e.jsxs("span",{className:"current-price",children:["$",c,e.jsxs("span",{className:"billing-period",children:["/",o==="yearly"?"year":"month"]})]}),o==="yearly"&&e.jsxs("div",{className:"savings-badge",children:["ðŸ’° Save $",s.amount,"/year (",s.percentage,"% off)"]})]})]}),e.jsx("ul",{className:"plan-features",children:i.features.map((y,h)=>e.jsxs("li",{children:[e.jsx("span",{className:"check",children:"âœ“"})," ",y]},h))}),e.jsx("button",{className:"purchase-btn",onClick:t,children:d?"ðŸš€ Upgrade Now":"Get Started"}),o==="yearly"&&e.jsxs("p",{className:"monthly-equivalent",children:["Just $",(c/12).toFixed(2),"/month"]})]}),"PremiumPlanCard");export{Y as default};

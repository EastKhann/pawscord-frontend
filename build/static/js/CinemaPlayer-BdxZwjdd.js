const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/media-vendor-CxFPycob.js","static/js/react-core-Djgtqrmb.js"])))=>i.map(i=>d[i]);
var k=Object.defineProperty;var t=(a,s)=>k(a,"name",{value:s,configurable:!0});import{_ as C}from"./media-vendor-CxFPycob.js";import{r as n,j as e}from"./react-core-Djgtqrmb.js";import{aL as R,aM as S,aN as P,j as _}from"./icons-vendor-BW7dxHkX.js";import{p as w}from"./index-CjRzheBN.js";import"./router-vendor-ClgLnMjk.js";import"./state-vendor-BRqaXHJQ.js";import"./crypto-vendor-D1XRGppi.js";import"./ui-vendor-IhB9Znpc.js";const E=n.lazy(()=>C(()=>import("./media-vendor-CxFPycob.js").then(a=>a.i),__vite__mapDeps([0,1]))),Y=t(()=>{const{cinemaState:a,sendCinemaSignal:s,setCinemaState:I}=w(),{url:y,playing:o,time:i,lastSyncAction:d}=a,[p,m]=n.useState(""),[g,L]=n.useState(.8),[c,h]=n.useState(null),[b,u]=n.useState(!1),l=n.useRef(null);n.useRef(!1),n.useEffect(()=>{d==="change_url"?(u(!1),h(null)):d==="play"&&Math.abs(f()-i)>2&&l.current&&l.current.seekTo(i)},[y,o,i,d]);const f=t(()=>{try{return l.current?l.current.getCurrentTime():0}catch{return 0}},"getCurrentTimeSafe"),j=t(x=>{x.preventDefault(),p.trim()&&(s("change_url",{url:p}),m(""))},"handleLoadUrl"),v=t(()=>{o?s("pause"):s("play",{time:f()})},"handlePlayPause");return e.jsxs("div",{style:r.container,children:[e.jsxs("div",{style:r.playerWrapper,children:[c&&e.jsxs("div",{style:r.statusOverlay,children:[e.jsx(R,{size:40,color:"#f04747"}),e.jsx("p",{style:{marginTop:10},children:c})]}),!b&&!c&&e.jsxs("div",{style:r.statusOverlay,children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{style:{marginTop:10},children:"Yükleniyor..."})]}),e.jsx(n.Suspense,{fallback:e.jsx("div",{style:{color:"#fff",padding:"50px",textAlign:"center"},children:"Loading player..."}),children:e.jsx(E,{ref:l,url:y,playing:o,volume:g,controls:!0,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onReady:t(()=>u(!0),"onReady"),onError:t(()=>{h("Video oynatılamadı."),u(!0)},"onError"),onPlay:t(()=>{o||s("play",{time:f()})},"onPlay"),onPause:t(()=>{o&&s("pause")},"onPause")})})]}),e.jsxs("div",{style:r.controls,children:[e.jsx("button",{onClick:v,style:{...r.btn,backgroundColor:o?"#da373c":"#43b581",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:o?e.jsx(S,{}):e.jsx(P,{style:{marginLeft:2}})}),e.jsxs("form",{onSubmit:j,style:r.urlForm,children:[e.jsx(_,{style:{color:"#b9bbbe"}}),e.jsx("input",{type:"text",value:p,onChange:t(x=>m(x.target.value),"onChange"),placeholder:"YouTube Link...",style:r.input}),e.jsx("button",{type:"submit",style:{...r.btn,backgroundColor:"#5865f2",padding:"0 15px"},children:"Yükle"})]})]}),e.jsx("style",{children:`
                .spinner {
                    border: 4px solid rgba(255, 255, 255, 0.3);
                    border-radius: 50%;
                    border-top: 4px solid #ffffff;
                    width: 30px; height: 30px;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
            `})]})},"CinemaPlayer"),r={container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:"black"},playerWrapper:{flex:1,position:"relative",overflow:"hidden"},controls:{padding:"10px",display:"flex",gap:"10px",backgroundColor:"#202225",alignItems:"center"},urlForm:{flex:1,display:"flex",gap:"8px",backgroundColor:"#40444b",padding:"5px 10px",borderRadius:"4px",alignItems:"center"},input:{flex:1,background:"transparent",border:"none",color:"white",outline:"none",fontSize:"14px"},btn:{border:"none",color:"white",cursor:"pointer",borderRadius:"4px",fontWeight:"bold"},statusOverlay:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.7)",color:"white",zIndex:10}};export{Y as default};

var k=Object.defineProperty;var o=(a,n)=>k(a,"name",{value:n,configurable:!0});import{a as v,r as l,j as e}from"./react-core-Djgtqrmb.js";import{a as S,f as C,br as w,Q as z,z as B}from"./icons-vendor-BW7dxHkX.js";const M=o(({type:a="bookmarks",onClose:n,fetchWithAuth:d,apiBaseUrl:c,onScrollToMessage:x})=>{const[m,g]=l.useState([]),[p,f]=l.useState(!0);l.useEffect(()=>{b()},[a]);const b=o(async()=>{f(!0);try{let t="";a==="bookmarks"||a==="starred"?t="/messages/favorites/":a==="readlater"&&(t="/messages/readlater/list/");const r=await d(`${c}${t}`);if(r.ok){const i=await r.json();g(i.messages||i.results||[])}}catch{}finally{f(!1)}},"loadMessages"),u=o(async t=>{try{let r="";a==="bookmarks"?r="/messages/bookmark/toggle/":a==="starred"?r="/messages/star/toggle/":a==="readlater"&&(r="/messages/readlater/toggle/"),await d(`${c}${r}`,{method:"POST",body:JSON.stringify({message_id:t})}),g(i=>i.filter(j=>j.id!==t))}catch{}},"handleRemove"),h=o(()=>a==="bookmarks"?"ðŸ“‘ Bookmarklar":a==="starred"?"â­ YÄ±ldÄ±zlÄ± Mesajlar":a==="readlater"?"ðŸ• Sonra Oku":"Kaydedilen Mesajlar","getTitle"),y=o(()=>a==="bookmarks"?e.jsx(w,{}):a==="starred"?e.jsx(z,{}):a==="readlater"?e.jsx(B,{}):null,"getIcon");return e.jsx("div",{style:s.overlay,onClick:n,children:e.jsxs("div",{style:s.modal,onClick:o(t=>t.stopPropagation(),"onClick"),children:[e.jsxs("div",{style:s.header,children:[e.jsxs("h2",{style:s.title,children:[y()," ",h()]}),e.jsx("button",{onClick:n,style:s.closeButton,children:e.jsx(S,{})})]}),e.jsx("div",{style:s.content,children:p?e.jsx("div",{style:s.loading,children:"YÃ¼kleniyor..."}):m.length===0?e.jsx("div",{style:s.empty,children:"HenÃ¼z kaydedilmiÅŸ mesaj yok"}):e.jsx("div",{style:s.messageList,children:m.map(t=>e.jsxs("div",{style:s.messageItem,children:[e.jsxs("div",{style:s.messageContent,children:[e.jsxs("div",{style:s.messageHeader,children:[e.jsx("span",{style:s.username,children:t.username}),e.jsx("span",{style:s.timestamp,children:new Date(t.timestamp).toLocaleString("tr-TR")})]}),e.jsxs("div",{style:s.messageText,children:[t.content?.substring(0,150),t.content?.length>150&&"..."]}),t.room_name&&e.jsx("div",{style:s.roomTag,children:t.room_name})]}),e.jsxs("div",{style:s.actions,children:[e.jsx("button",{onClick:o(()=>{x&&(x(t.id),n())},"onClick"),style:s.actionButton,title:"Mesaja git",children:"â†’"}),e.jsx("button",{onClick:o(()=>u(t.id),"onClick"),style:{...s.actionButton,color:"#f04747"},title:"KaldÄ±r",children:e.jsx(C,{})})]})]},t.id))})})]})})},"SavedMessagesModal"),s={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"700px",maxHeight:"80vh",display:"flex",flexDirection:"column",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.5em",display:"flex",alignItems:"center",gap:"10px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.5em",padding:"5px"},content:{padding:"20px",overflowY:"auto",flex:1},loading:{textAlign:"center",color:"#b9bbbe",padding:"40px"},empty:{textAlign:"center",color:"#b9bbbe",padding:"40px"},messageList:{display:"flex",flexDirection:"column",gap:"10px"},messageItem:{backgroundColor:"#40444b",borderRadius:"4px",padding:"12px",display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"10px"},messageContent:{flex:1},messageHeader:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},username:{color:"#5865f2",fontWeight:"bold",fontSize:"0.9em"},timestamp:{color:"#72767d",fontSize:"0.75em"},messageText:{color:"#dcddde",fontSize:"0.9em",marginBottom:"5px"},roomTag:{display:"inline-block",backgroundColor:"#5865f2",color:"white",padding:"2px 8px",borderRadius:"10px",fontSize:"0.7em",fontWeight:"bold"},actions:{display:"flex",gap:"5px"},actionButton:{background:"none",border:"1px solid #72767d",color:"#b9bbbe",cursor:"pointer",padding:"5px 10px",borderRadius:"4px",fontSize:"0.9em"}},F=v.memo(M);export{F as default};

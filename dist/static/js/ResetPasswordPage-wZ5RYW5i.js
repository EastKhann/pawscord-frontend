import{r as i,b as e}from"./react-core-9vc7GIjk.js";import{u as w,v as z,d as T,T as g,U as x}from"./icons-vendor-BHKL7tCa.js";import{a as B,b as R}from"./router-vendor-qCr-Mpaw.js";import"./editor-vendor-DiU449Dh.js";const W=({apiBaseUrl:b})=>{const{token:y}=B(),d=R(),[n,h]=i.useState(""),[o,E]=i.useState(""),[p,k]=i.useState(!1),[f,S]=i.useState(!1),[l,s]=i.useState("idle"),[u,a]=i.useState(""),c=(r=>r.length===0?{score:0,text:"",color:""}:r.length<6?{score:1,text:"√áok Zayƒ±f",color:"#da373c"}:r.length<8?{score:2,text:"Zayƒ±f",color:"#f0b132"}:r.length<12?{score:3,text:"Orta",color:"#5865f2"}:r.length<16?{score:4,text:"G√º√ßl√º",color:"#23a559"}:{score:5,text:"√áok G√º√ßl√º",color:"#23a559"})(n),C=async r=>{if(r.preventDefault(),a(""),n.length<6){a("≈ûifre en az 6 karakter olmalƒ±");return}if(n!==o){a("≈ûifreler e≈üle≈ümiyor");return}s("loading");try{const m=await fetch(`${b}/auth/reset-password/${y}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n})}),v=await m.json();m.ok?(s("success"),setTimeout(()=>{d("/login")},3e3)):(a(v.error||"≈ûifre sƒ±fƒ±rlama ba≈üarƒ±sƒ±z oldu"),s("error"))}catch{a("Baƒülantƒ± hatasƒ± olu≈ütu"),s("error")}};return l==="success"?e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},e.createElement(w,{style:{...t.icon,color:"#23a559"}}),e.createElement("h2",{style:t.title},"‚úÖ ≈ûifre Deƒüi≈ütirildi!"),e.createElement("p",{style:t.text},"≈ûifreniz ba≈üarƒ±yla deƒüi≈ütirildi."),e.createElement("p",{style:t.redirect},"3 saniye i√ßinde giri≈ü sayfasƒ±na y√∂nlendirileceksiniz..."),e.createElement("button",{onClick:()=>d("/login"),style:t.button},"Hemen Giri≈ü Yap"))):l==="error"?e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},e.createElement(z,{style:{...t.icon,color:"#da373c"}}),e.createElement("h2",{style:t.title},"‚ùå Hata"),e.createElement("p",{style:t.text},u),e.createElement("div",{style:t.errorReasons},e.createElement("p",{style:t.reasonTitle},"Olasƒ± sebepler:"),e.createElement("ul",{style:t.reasonList},e.createElement("li",null,"Link s√ºresi dolmu≈ü olabilir (1 saat)"),e.createElement("li",null,"Link daha √∂nce kullanƒ±lmƒ±≈ü olabilir"),e.createElement("li",null,"Ge√ßersiz bir link olabilir"))),e.createElement("button",{onClick:()=>d("/forgot-password"),style:t.button},"Yeni Link ƒ∞ste"))):e.createElement("div",{style:t.container},e.createElement("div",{style:t.card},e.createElement(T,{style:t.icon}),e.createElement("h2",{style:t.title},"Yeni ≈ûifre Belirle"),e.createElement("p",{style:t.text},"Hesabƒ±nƒ±z i√ßin yeni bir ≈üifre olu≈üturun."),e.createElement("form",{onSubmit:C,style:t.form},e.createElement("div",{style:t.inputContainer},e.createElement("input",{type:p?"text":"password",placeholder:"Yeni ≈üifre",value:n,onChange:r=>h(r.target.value),required:!0,style:t.input,disabled:l==="loading"}),e.createElement("button",{type:"button",onClick:()=>k(!p),style:t.eyeButton},p?e.createElement(g,null):e.createElement(x,null))),n&&e.createElement("div",{style:t.strengthContainer},e.createElement("div",{style:t.strengthBar},e.createElement("div",{style:{...t.strengthFill,width:`${c.score/5*100}%`,backgroundColor:c.color}})),e.createElement("span",{style:{...t.strengthText,color:c.color}},c.text)),e.createElement("div",{style:t.inputContainer},e.createElement("input",{type:f?"text":"password",placeholder:"≈ûifre tekrar",value:o,onChange:r=>E(r.target.value),required:!0,style:t.input,disabled:l==="loading"}),e.createElement("button",{type:"button",onClick:()=>S(!f),style:t.eyeButton},f?e.createElement(g,null):e.createElement(x,null))),o&&e.createElement("div",{style:n===o?t.matchGood:t.matchBad},n===o?"‚úÖ ≈ûifreler e≈üle≈üiyor":"‚ùå ≈ûifreler e≈üle≈ümiyor"),u&&e.createElement("div",{style:t.error},"‚ùå ",u),e.createElement("button",{type:"submit",style:t.submitButton,disabled:l==="loading"||n!==o},l==="loading"?"Kaydediliyor...":"≈ûifreyi Deƒüi≈ütir")),e.createElement("div",{style:t.info},e.createElement("p",{style:t.infoTitle},"üí° G√º√ßl√º ≈ûifre ƒ∞pu√ßlarƒ±:"),e.createElement("ul",{style:t.infoList},e.createElement("li",null,"En az 8 karakter kullanƒ±n"),e.createElement("li",null,"B√ºy√ºk ve k√º√ß√ºk harf karƒ±≈üƒ±mƒ±"),e.createElement("li",null,"Rakam ve √∂zel karakter ekleyin"),e.createElement("li",null,"Kolay tahmin edilebilir ≈üifrelerden ka√ßƒ±nƒ±n")))))},t={container:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1e1f22",padding:"20px"},card:{backgroundColor:"#2b2d31",borderRadius:"12px",padding:"40px",maxWidth:"500px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},icon:{fontSize:"64px",color:"#5865f2",display:"block",margin:"0 auto 20px"},title:{color:"#fff",fontSize:"28px",textAlign:"center",margin:"0 0 10px 0"},text:{color:"#b9bbbe",fontSize:"16px",textAlign:"center",marginBottom:"30px"},form:{display:"flex",flexDirection:"column",gap:"15px"},inputContainer:{position:"relative"},input:{backgroundColor:"#1e1f22",border:"1px solid #1e1f22",borderRadius:"6px",padding:"12px",paddingRight:"45px",color:"#fff",fontSize:"16px",outline:"none",width:"100%",boxSizing:"border-box"},eyeButton:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"18px"},strengthContainer:{display:"flex",alignItems:"center",gap:"10px"},strengthBar:{flex:1,height:"6px",backgroundColor:"#1e1f22",borderRadius:"3px",overflow:"hidden"},strengthFill:{height:"100%",transition:"all 0.3s"},strengthText:{fontSize:"12px",fontWeight:"bold",minWidth:"80px"},matchGood:{color:"#23a559",fontSize:"14px",textAlign:"center"},matchBad:{color:"#da373c",fontSize:"14px",textAlign:"center"},error:{backgroundColor:"#da373c",color:"#fff",padding:"12px",borderRadius:"6px",fontSize:"14px",textAlign:"center"},submitButton:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s"},button:{backgroundColor:"#5865f2",color:"#fff",border:"none",borderRadius:"6px",padding:"12px 32px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",marginTop:"20px",display:"block",width:"100%"},redirect:{color:"#747f8d",fontSize:"14px",fontStyle:"italic",textAlign:"center",marginTop:"10px"},info:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"15px",marginTop:"20px"},infoTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",margin:"0 0 10px 0"},infoList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"},errorReasons:{backgroundColor:"#1e1f22",borderRadius:"8px",padding:"20px",marginTop:"10px",textAlign:"left"},reasonTitle:{color:"#fff",fontSize:"14px",fontWeight:"bold",marginBottom:"10px"},reasonList:{color:"#b9bbbe",fontSize:"14px",margin:0,paddingLeft:"20px"}};export{W as default};

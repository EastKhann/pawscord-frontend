import{r as p,b as e}from"./react-core-9vc7GIjk.js";import{t as i}from"./index-Ctx-jpFn.js";import{c as h,a as E}from"./icons-vendor-BHKL7tCa.js";import"./editor-vendor-DiU449Dh.js";import"./media-vendor-B-uSUaIv.js";import"./router-vendor-qCr-Mpaw.js";import"./crypto-vendor-C1qXRpJv.js";import"./state-vendor-0vlBuk0v.js";const H=({messageId:b,messageContent:s,onClose:d,fetchWithAuth:g,apiBaseUrl:y})=>{const[o,a]=p.useState(""),[u,x]=p.useState(""),[l,m]=p.useState(!1),f=async()=>{if(!o){i.error("❌ Lütfen bir tarih seçin");return}m(!0);try{const r=await g(`${y}/reminders/create/`,{method:"POST",body:JSON.stringify({message_id:b,reminder_time:o,note:u||s?.substring(0,100)})});if(r.ok)i.success("✅ Hatırlatıcı oluşturuldu!"),d();else{const n=await r.json();i.error("❌ Hata: "+(n.error||"Bilinmeyen hata"))}}catch(r){console.error("Reminder error:",r),i.error("❌ Hatırlatıcı oluşturulamadı")}finally{m(!1)}},c=r=>{const n=new Date;return n.setHours(n.getHours()+r),n.toISOString().slice(0,16)};return e.createElement("div",{style:t.overlay,onClick:d},e.createElement("div",{style:t.modal,onClick:r=>r.stopPropagation()},e.createElement("div",{style:t.header},e.createElement("h3",{style:t.title},e.createElement(h,null)," Hatırlatıcı Kur"),e.createElement("button",{onClick:d,style:t.closeButton},e.createElement(E,null))),e.createElement("div",{style:t.content},e.createElement("div",{style:t.messagePreview},s?.substring(0,150),s?.length>150&&"..."),e.createElement("div",{style:t.presets},e.createElement("button",{onClick:()=>a(c(1)),style:t.presetButton},"1 saat sonra"),e.createElement("button",{onClick:()=>a(c(3)),style:t.presetButton},"3 saat sonra"),e.createElement("button",{onClick:()=>a(c(24)),style:t.presetButton},"Yarın")),e.createElement("div",{style:t.inputGroup},e.createElement("label",{style:t.label},"Tarih ve Saat"),e.createElement("input",{type:"datetime-local",value:o,onChange:r=>a(r.target.value),style:t.input})),e.createElement("div",{style:t.inputGroup},e.createElement("label",{style:t.label},"Not (Opsiyonel)"),e.createElement("input",{type:"text",value:u,onChange:r=>x(r.target.value),placeholder:"Hatırlatıcı için not ekle...",style:t.input})),e.createElement("button",{onClick:f,disabled:l||!o,style:{...t.createButton,opacity:l||!o?.5:1,cursor:l||!o?"not-allowed":"pointer"}},l?"Oluşturuluyor...":"✅ Hatırlatıcı Oluştur"))))},t={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},modal:{backgroundColor:"#2b2d31",borderRadius:"8px",width:"90%",maxWidth:"500px",boxShadow:"0 8px 16px rgba(0,0,0,0.4)"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"1px solid #40444b"},title:{color:"white",margin:0,fontSize:"1.3em",display:"flex",alignItems:"center",gap:"8px"},closeButton:{background:"none",border:"none",color:"#b9bbbe",cursor:"pointer",fontSize:"1.3em",padding:"5px"},content:{padding:"20px"},messagePreview:{backgroundColor:"#40444b",padding:"12px",borderRadius:"4px",color:"#dcddde",fontSize:"0.9em",marginBottom:"15px",borderLeft:"3px solid #5865f2"},presets:{display:"flex",gap:"8px",marginBottom:"15px"},presetButton:{flex:1,padding:"8px",backgroundColor:"#40444b",border:"1px solid #5865f2",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"0.85em"},inputGroup:{marginBottom:"15px"},label:{display:"block",color:"#b9bbbe",fontSize:"0.85em",marginBottom:"5px",fontWeight:"bold"},input:{width:"100%",padding:"10px",backgroundColor:"#40444b",border:"1px solid #5865f2",borderRadius:"4px",color:"white",fontSize:"1em"},createButton:{width:"100%",padding:"12px",backgroundColor:"#5865f2",border:"none",borderRadius:"4px",color:"white",fontWeight:"bold",fontSize:"1em"}};export{H as default};
